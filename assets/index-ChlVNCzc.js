try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="f4f89ace-e991-4367-8ba9-1dfacb571196",e._sentryDebugIdIdentifier="sentry-dbid-f4f89ace-e991-4367-8ba9-1dfacb571196")}catch{}function U8(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"a7ce6a1d4a92c3efcbd5fa7b7c0523302e55fc35"}}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Ed=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var U0={exports:{}},ad={},H0={exports:{}},Mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G2;function H8(){if(G2)return Mt;G2=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function g(G){return G===null||typeof G!="object"?null:(G=p&&G[p]||G["@@iterator"],typeof G=="function"?G:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function C(G,me,U){this.props=G,this.context=me,this.refs=S,this.updater=U||y}C.prototype.isReactComponent={},C.prototype.setState=function(G,me){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,me,"setState")},C.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function E(){}E.prototype=C.prototype;function P(G,me,U){this.props=G,this.context=me,this.refs=S,this.updater=U||y}var A=P.prototype=new E;A.constructor=P,w(A,C.prototype),A.isPureReactComponent=!0;var $=Array.isArray,W=Object.prototype.hasOwnProperty,D={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function z(G,me,U){var Pe,ke={},Ee=null,Qe=null;if(me!=null)for(Pe in me.ref!==void 0&&(Qe=me.ref),me.key!==void 0&&(Ee=""+me.key),me)W.call(me,Pe)&&!R.hasOwnProperty(Pe)&&(ke[Pe]=me[Pe]);var Ve=arguments.length-2;if(Ve===1)ke.children=U;else if(1<Ve){for(var vt=Array(Ve),ze=0;ze<Ve;ze++)vt[ze]=arguments[ze+2];ke.children=vt}if(G&&G.defaultProps)for(Pe in Ve=G.defaultProps,Ve)ke[Pe]===void 0&&(ke[Pe]=Ve[Pe]);return{$$typeof:e,type:G,key:Ee,ref:Qe,props:ke,_owner:D.current}}function q(G,me){return{$$typeof:e,type:G.type,key:me,ref:G.ref,props:G.props,_owner:G._owner}}function B(G){return typeof G=="object"&&G!==null&&G.$$typeof===e}function ae(G){var me={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(U){return me[U]})}var oe=/\/+/g;function xe(G,me){return typeof G=="object"&&G!==null&&G.key!=null?ae(""+G.key):me.toString(36)}function Y(G,me,U,Pe,ke){var Ee=typeof G;(Ee==="undefined"||Ee==="boolean")&&(G=null);var Qe=!1;if(G===null)Qe=!0;else switch(Ee){case"string":case"number":Qe=!0;break;case"object":switch(G.$$typeof){case e:case t:Qe=!0}}if(Qe)return Qe=G,ke=ke(Qe),G=Pe===""?"."+xe(Qe,0):Pe,$(ke)?(U="",G!=null&&(U=G.replace(oe,"$&/")+"/"),Y(ke,me,U,"",function(ze){return ze})):ke!=null&&(B(ke)&&(ke=q(ke,U+(!ke.key||Qe&&Qe.key===ke.key?"":(""+ke.key).replace(oe,"$&/")+"/")+G)),me.push(ke)),1;if(Qe=0,Pe=Pe===""?".":Pe+":",$(G))for(var Ve=0;Ve<G.length;Ve++){Ee=G[Ve];var vt=Pe+xe(Ee,Ve);Qe+=Y(Ee,me,U,vt,ke)}else if(vt=g(G),typeof vt=="function")for(G=vt.call(G),Ve=0;!(Ee=G.next()).done;)Ee=Ee.value,vt=Pe+xe(Ee,Ve++),Qe+=Y(Ee,me,U,vt,ke);else if(Ee==="object")throw me=String(G),Error("Objects are not valid as a React child (found: "+(me==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":me)+"). If you meant to render a collection of children, use an array instead.");return Qe}function H(G,me,U){if(G==null)return G;var Pe=[],ke=0;return Y(G,Pe,"","",function(Ee){return me.call(U,Ee,ke++)}),Pe}function J(G){if(G._status===-1){var me=G._result;me=me(),me.then(function(U){(G._status===0||G._status===-1)&&(G._status=1,G._result=U)},function(U){(G._status===0||G._status===-1)&&(G._status=2,G._result=U)}),G._status===-1&&(G._status=0,G._result=me)}if(G._status===1)return G._result.default;throw G._result}var se={current:null},X={transition:null},pe={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:X,ReactCurrentOwner:D};function M(){throw Error("act(...) is not supported in production builds of React.")}return Mt.Children={map:H,forEach:function(G,me,U){H(G,function(){me.apply(this,arguments)},U)},count:function(G){var me=0;return H(G,function(){me++}),me},toArray:function(G){return H(G,function(me){return me})||[]},only:function(G){if(!B(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Mt.Component=C,Mt.Fragment=n,Mt.Profiler=i,Mt.PureComponent=P,Mt.StrictMode=r,Mt.Suspense=u,Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,Mt.act=M,Mt.cloneElement=function(G,me,U){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var Pe=w({},G.props),ke=G.key,Ee=G.ref,Qe=G._owner;if(me!=null){if(me.ref!==void 0&&(Ee=me.ref,Qe=D.current),me.key!==void 0&&(ke=""+me.key),G.type&&G.type.defaultProps)var Ve=G.type.defaultProps;for(vt in me)W.call(me,vt)&&!R.hasOwnProperty(vt)&&(Pe[vt]=me[vt]===void 0&&Ve!==void 0?Ve[vt]:me[vt])}var vt=arguments.length-2;if(vt===1)Pe.children=U;else if(1<vt){Ve=Array(vt);for(var ze=0;ze<vt;ze++)Ve[ze]=arguments[ze+2];Pe.children=Ve}return{$$typeof:e,type:G.type,key:ke,ref:Ee,props:Pe,_owner:Qe}},Mt.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:s,_context:G},G.Consumer=G},Mt.createElement=z,Mt.createFactory=function(G){var me=z.bind(null,G);return me.type=G,me},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(G){return{$$typeof:a,render:G}},Mt.isValidElement=B,Mt.lazy=function(G){return{$$typeof:f,_payload:{_status:-1,_result:G},_init:J}},Mt.memo=function(G,me){return{$$typeof:c,type:G,compare:me===void 0?null:me}},Mt.startTransition=function(G){var me=X.transition;X.transition={};try{G()}finally{X.transition=me}},Mt.unstable_act=M,Mt.useCallback=function(G,me){return se.current.useCallback(G,me)},Mt.useContext=function(G){return se.current.useContext(G)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(G){return se.current.useDeferredValue(G)},Mt.useEffect=function(G,me){return se.current.useEffect(G,me)},Mt.useId=function(){return se.current.useId()},Mt.useImperativeHandle=function(G,me,U){return se.current.useImperativeHandle(G,me,U)},Mt.useInsertionEffect=function(G,me){return se.current.useInsertionEffect(G,me)},Mt.useLayoutEffect=function(G,me){return se.current.useLayoutEffect(G,me)},Mt.useMemo=function(G,me){return se.current.useMemo(G,me)},Mt.useReducer=function(G,me,U){return se.current.useReducer(G,me,U)},Mt.useRef=function(G){return se.current.useRef(G)},Mt.useState=function(G){return se.current.useState(G)},Mt.useSyncExternalStore=function(G,me,U){return se.current.useSyncExternalStore(G,me,U)},Mt.useTransition=function(){return se.current.useTransition()},Mt.version="18.3.1",Mt}var Y2;function Pm(){return Y2||(Y2=1,H0.exports=H8()),H0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J2;function V8(){if(J2)return ad;J2=1;var e=Pm(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,u,c){var f,p={},g=null,y=null;c!==void 0&&(g=""+c),u.key!==void 0&&(g=""+u.key),u.ref!==void 0&&(y=u.ref);for(f in u)r.call(u,f)&&!s.hasOwnProperty(f)&&(p[f]=u[f]);if(a&&a.defaultProps)for(f in u=a.defaultProps,u)p[f]===void 0&&(p[f]=u[f]);return{$$typeof:t,type:a,key:g,ref:y,props:p,_owner:i.current}}return ad.Fragment=n,ad.jsx=o,ad.jsxs=o,ad}var X2;function W8(){return X2||(X2=1,U0.exports=V8()),U0.exports}var h=W8(),N=Pm();const nn=Gi(N),n4=U8({__proto__:null,default:nn},[N]);var Qf={},V0={exports:{}},ii={},W0={exports:{}},q0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z2;function q8(){return Z2||(Z2=1,(function(e){function t(X,pe){var M=X.length;X.push(pe);e:for(;0<M;){var G=M-1>>>1,me=X[G];if(0<i(me,pe))X[G]=pe,X[M]=me,M=G;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var pe=X[0],M=X.pop();if(M!==pe){X[0]=M;e:for(var G=0,me=X.length,U=me>>>1;G<U;){var Pe=2*(G+1)-1,ke=X[Pe],Ee=Pe+1,Qe=X[Ee];if(0>i(ke,M))Ee<me&&0>i(Qe,ke)?(X[G]=Qe,X[Ee]=M,G=Ee):(X[G]=ke,X[Pe]=M,G=Pe);else if(Ee<me&&0>i(Qe,M))X[G]=Qe,X[Ee]=M,G=Ee;else break e}}return pe}function i(X,pe){var M=X.sortIndex-pe.sortIndex;return M!==0?M:X.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],c=[],f=1,p=null,g=3,y=!1,w=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(X){for(var pe=n(c);pe!==null;){if(pe.callback===null)r(c);else if(pe.startTime<=X)r(c),pe.sortIndex=pe.expirationTime,t(u,pe);else break;pe=n(c)}}function $(X){if(S=!1,A(X),!w)if(n(u)!==null)w=!0,J(W);else{var pe=n(c);pe!==null&&se($,pe.startTime-X)}}function W(X,pe){w=!1,S&&(S=!1,E(z),z=-1),y=!0;var M=g;try{for(A(pe),p=n(u);p!==null&&(!(p.expirationTime>pe)||X&&!ae());){var G=p.callback;if(typeof G=="function"){p.callback=null,g=p.priorityLevel;var me=G(p.expirationTime<=pe);pe=e.unstable_now(),typeof me=="function"?p.callback=me:p===n(u)&&r(u),A(pe)}else r(u);p=n(u)}if(p!==null)var U=!0;else{var Pe=n(c);Pe!==null&&se($,Pe.startTime-pe),U=!1}return U}finally{p=null,g=M,y=!1}}var D=!1,R=null,z=-1,q=5,B=-1;function ae(){return!(e.unstable_now()-B<q)}function oe(){if(R!==null){var X=e.unstable_now();B=X;var pe=!0;try{pe=R(!0,X)}finally{pe?xe():(D=!1,R=null)}}else D=!1}var xe;if(typeof P=="function")xe=function(){P(oe)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,H=Y.port2;Y.port1.onmessage=oe,xe=function(){H.postMessage(null)}}else xe=function(){C(oe,0)};function J(X){R=X,D||(D=!0,xe())}function se(X,pe){z=C(function(){X(e.unstable_now())},pe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,J(W))},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(X){switch(g){case 1:case 2:case 3:var pe=3;break;default:pe=g}var M=g;g=pe;try{return X()}finally{g=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(X,pe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var M=g;g=X;try{return pe()}finally{g=M}},e.unstable_scheduleCallback=function(X,pe,M){var G=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?G+M:G):M=G,X){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=M+me,X={id:f++,callback:pe,priorityLevel:X,startTime:M,expirationTime:me,sortIndex:-1},M>G?(X.sortIndex=M,t(c,X),n(u)===null&&X===n(c)&&(S?(E(z),z=-1):S=!0,se($,M-G))):(X.sortIndex=me,t(u,X),w||y||(w=!0,J(W))),X},e.unstable_shouldYield=ae,e.unstable_wrapCallback=function(X){var pe=g;return function(){var M=g;g=pe;try{return X.apply(this,arguments)}finally{g=M}}}})(q0)),q0}var ew;function Q8(){return ew||(ew=1,W0.exports=q8()),W0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tw;function K8(){if(tw)return ii;tw=1;var e=Pm(),t=Q8();function n(l){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(l,d){o(l,d),o(l+"Capture",d)}function o(l,d){for(i[l]=d,l=0;l<d.length;l++)r.add(d[l])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(l){return u.call(p,l)?!0:u.call(f,l)?!1:c.test(l)?p[l]=!0:(f[l]=!0,!1)}function y(l,d,m,x){if(m!==null&&m.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return x?!1:m!==null?!m.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function w(l,d,m,x){if(d===null||typeof d>"u"||y(l,d,m,x))return!0;if(x)return!1;if(m!==null)switch(m.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function S(l,d,m,x,_,j,L){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=x,this.attributeNamespace=_,this.mustUseProperty=m,this.propertyName=l,this.type=d,this.sanitizeURL=j,this.removeEmptyString=L}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){C[l]=new S(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var d=l[0];C[d]=new S(d,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){C[l]=new S(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){C[l]=new S(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){C[l]=new S(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){C[l]=new S(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){C[l]=new S(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){C[l]=new S(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){C[l]=new S(l,5,!1,l.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function P(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var d=l.replace(E,P);C[d]=new S(d,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var d=l.replace(E,P);C[d]=new S(d,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var d=l.replace(E,P);C[d]=new S(d,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){C[l]=new S(l,1,!1,l.toLowerCase(),null,!1,!1)}),C.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){C[l]=new S(l,1,!1,l.toLowerCase(),null,!0,!0)});function A(l,d,m,x){var _=C.hasOwnProperty(d)?C[d]:null;(_!==null?_.type!==0:x||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(w(d,m,_,x)&&(m=null),x||_===null?g(d)&&(m===null?l.removeAttribute(d):l.setAttribute(d,""+m)):_.mustUseProperty?l[_.propertyName]=m===null?_.type===3?!1:"":m:(d=_.attributeName,x=_.attributeNamespace,m===null?l.removeAttribute(d):(_=_.type,m=_===3||_===4&&m===!0?"":""+m,x?l.setAttributeNS(x,d,m):l.setAttribute(d,m))))}var $=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,W=Symbol.for("react.element"),D=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),ae=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),xe=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),X=Symbol.iterator;function pe(l){return l===null||typeof l!="object"?null:(l=X&&l[X]||l["@@iterator"],typeof l=="function"?l:null)}var M=Object.assign,G;function me(l){if(G===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);G=d&&d[1]||""}return`
`+G+l}var U=!1;function Pe(l,d){if(!l||U)return"";U=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(_e){var x=_e}Reflect.construct(l,[],d)}else{try{d.call()}catch(_e){x=_e}l.call(d.prototype)}else{try{throw Error()}catch(_e){x=_e}l()}}catch(_e){if(_e&&x&&typeof _e.stack=="string"){for(var _=_e.stack.split(`
`),j=x.stack.split(`
`),L=_.length-1,K=j.length-1;1<=L&&0<=K&&_[L]!==j[K];)K--;for(;1<=L&&0<=K;L--,K--)if(_[L]!==j[K]){if(L!==1||K!==1)do if(L--,K--,0>K||_[L]!==j[K]){var ee=`
`+_[L].replace(" at new "," at ");return l.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",l.displayName)),ee}while(1<=L&&0<=K);break}}}finally{U=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?me(l):""}function ke(l){switch(l.tag){case 5:return me(l.type);case 16:return me("Lazy");case 13:return me("Suspense");case 19:return me("SuspenseList");case 0:case 2:case 15:return l=Pe(l.type,!1),l;case 11:return l=Pe(l.type.render,!1),l;case 1:return l=Pe(l.type,!0),l;default:return""}}function Ee(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case R:return"Fragment";case D:return"Portal";case q:return"Profiler";case z:return"StrictMode";case xe:return"Suspense";case Y:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case ae:return(l.displayName||"Context")+".Consumer";case B:return(l._context.displayName||"Context")+".Provider";case oe:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case H:return d=l.displayName||null,d!==null?d:Ee(l.type)||"Memo";case J:d=l._payload,l=l._init;try{return Ee(l(d))}catch{}}return null}function Qe(l){var d=l.type;switch(l.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=d.render,l=l.displayName||l.name||"",d.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ee(d);case 8:return d===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function Ve(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function vt(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function ze(l){var d=vt(l)?"checked":"value",m=Object.getOwnPropertyDescriptor(l.constructor.prototype,d),x=""+l[d];if(!l.hasOwnProperty(d)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var _=m.get,j=m.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return _.call(this)},set:function(L){x=""+L,j.call(this,L)}}),Object.defineProperty(l,d,{enumerable:m.enumerable}),{getValue:function(){return x},setValue:function(L){x=""+L},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function cr(l){l._valueTracker||(l._valueTracker=ze(l))}function ht(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var m=d.getValue(),x="";return l&&(x=vt(l)?l.checked?"true":"false":l.value),l=x,l!==m?(d.setValue(l),!0):!1}function Zt(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function Wn(l,d){var m=d.checked;return M({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??l._wrapperState.initialChecked})}function Fn(l,d){var m=d.defaultValue==null?"":d.defaultValue,x=d.checked!=null?d.checked:d.defaultChecked;m=Ve(d.value!=null?d.value:m),l._wrapperState={initialChecked:x,initialValue:m,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function $r(l,d){d=d.checked,d!=null&&A(l,"checked",d,!1)}function js(l,d){$r(l,d);var m=Ve(d.value),x=d.type;if(m!=null)x==="number"?(m===0&&l.value===""||l.value!=m)&&(l.value=""+m):l.value!==""+m&&(l.value=""+m);else if(x==="submit"||x==="reset"){l.removeAttribute("value");return}d.hasOwnProperty("value")?Ji(l,d.type,m):d.hasOwnProperty("defaultValue")&&Ji(l,d.type,Ve(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(l.defaultChecked=!!d.defaultChecked)}function Do(l,d,m){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var x=d.type;if(!(x!=="submit"&&x!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+l._wrapperState.initialValue,m||d===l.value||(l.value=d),l.defaultValue=d}m=l.name,m!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,m!==""&&(l.name=m)}function Ji(l,d,m){(d!=="number"||Zt(l.ownerDocument)!==l)&&(m==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+m&&(l.defaultValue=""+m))}var Xr=Array.isArray;function Bn(l,d,m,x){if(l=l.options,d){d={};for(var _=0;_<m.length;_++)d["$"+m[_]]=!0;for(m=0;m<l.length;m++)_=d.hasOwnProperty("$"+l[m].value),l[m].selected!==_&&(l[m].selected=_),_&&x&&(l[m].defaultSelected=!0)}else{for(m=""+Ve(m),d=null,_=0;_<l.length;_++){if(l[_].value===m){l[_].selected=!0,x&&(l[_].defaultSelected=!0);return}d!==null||l[_].disabled||(d=l[_])}d!==null&&(d.selected=!0)}}function Ts(l,d){if(d.dangerouslySetInnerHTML!=null)throw Error(n(91));return M({},d,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function Pi(l,d){var m=d.value;if(m==null){if(m=d.children,d=d.defaultValue,m!=null){if(d!=null)throw Error(n(92));if(Xr(m)){if(1<m.length)throw Error(n(93));m=m[0]}d=m}d==null&&(d=""),m=d}l._wrapperState={initialValue:Ve(m)}}function Ur(l,d){var m=Ve(d.value),x=Ve(d.defaultValue);m!=null&&(m=""+m,m!==l.value&&(l.value=m),d.defaultValue==null&&l.defaultValue!==m&&(l.defaultValue=m)),x!=null&&(l.defaultValue=""+x)}function Tr(l){var d=l.textContent;d===l._wrapperState.initialValue&&d!==""&&d!==null&&(l.value=d)}function Se(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Le(l,d){return l==null||l==="http://www.w3.org/1999/xhtml"?Se(d):l==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var st,ft=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,m,x,_){MSApp.execUnsafeLocalFunction(function(){return l(d,m,x,_)})}:l})(function(l,d){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=d;else{for(st=st||document.createElement("div"),st.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=st.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;d.firstChild;)l.appendChild(d.firstChild)}});function Ot(l,d){if(d){var m=l.firstChild;if(m&&m===l.lastChild&&m.nodeType===3){m.nodeValue=d;return}}l.textContent=d}var gn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zn=["Webkit","ms","Moz","O"];Object.keys(gn).forEach(function(l){zn.forEach(function(d){d=d+l.charAt(0).toUpperCase()+l.substring(1),gn[d]=gn[l]})});function Xn(l,d,m){return d==null||typeof d=="boolean"||d===""?"":m||typeof d!="number"||d===0||gn.hasOwnProperty(l)&&gn[l]?(""+d).trim():d+"px"}function On(l,d){l=l.style;for(var m in d)if(d.hasOwnProperty(m)){var x=m.indexOf("--")===0,_=Xn(m,d[m],x);m==="float"&&(m="cssFloat"),x?l.setProperty(m,_):l[m]=_}}var Zn=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function We(l,d){if(d){if(Zn[l]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(n(137,l));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(n(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(n(61))}if(d.style!=null&&typeof d.style!="object")throw Error(n(62))}}function er(l,d){if(l.indexOf("-")===-1)return typeof d.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cn=null;function Xi(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var He=null,mi=null,gi=null;function Mo(l){if(l=qc(l)){if(typeof He!="function")throw Error(n(280));var d=l.stateNode;d&&(d=lf(d),He(l.stateNode,l.type,d))}}function Fo(l){mi?gi?gi.push(l):gi=[l]:mi=l}function Bo(){if(mi){var l=mi,d=gi;if(gi=mi=null,Mo(l),d)for(l=0;l<d.length;l++)Mo(d[l])}}function Ba(l,d){return l(d)}function Js(){}var Hr=!1;function Oi(l,d,m){if(Hr)return l(d,m);Hr=!0;try{return Ba(l,d,m)}finally{Hr=!1,(mi!==null||gi!==null)&&(Js(),Bo())}}function Zi(l,d){var m=l.stateNode;if(m===null)return null;var x=lf(m);if(x===null)return null;m=x[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(l=l.type,x=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!x;break e;default:l=!1}if(l)return null;if(m&&typeof m!="function")throw Error(n(231,d,typeof m));return m}var Ns=!1;if(a)try{var Q={};Object.defineProperty(Q,"passive",{get:function(){Ns=!0}}),window.addEventListener("test",Q,Q),window.removeEventListener("test",Q,Q)}catch{Ns=!1}function ce(l,d,m,x,_,j,L,K,ee){var _e=Array.prototype.slice.call(arguments,3);try{d.apply(m,_e)}catch(Ae){this.onError(Ae)}}var we=!1,Te=null,De=!1,tt=null,Ze={onError:function(l){we=!0,Te=l}};function Ye(l,d,m,x,_,j,L,K,ee){we=!1,Te=null,ce.apply(Ze,arguments)}function nt(l,d,m,x,_,j,L,K,ee){if(Ye.apply(this,arguments),we){if(we){var _e=Te;we=!1,Te=null}else throw Error(n(198));De||(De=!0,tt=_e)}}function Je(l){var d=l,m=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(m=d.return),l=d.return;while(l)}return d.tag===3?m:null}function ct(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function at(l){if(Je(l)!==l)throw Error(n(188))}function Ct(l){var d=l.alternate;if(!d){if(d=Je(l),d===null)throw Error(n(188));return d!==l?null:l}for(var m=l,x=d;;){var _=m.return;if(_===null)break;var j=_.alternate;if(j===null){if(x=_.return,x!==null){m=x;continue}break}if(_.child===j.child){for(j=_.child;j;){if(j===m)return at(_),l;if(j===x)return at(_),d;j=j.sibling}throw Error(n(188))}if(m.return!==x.return)m=_,x=j;else{for(var L=!1,K=_.child;K;){if(K===m){L=!0,m=_,x=j;break}if(K===x){L=!0,x=_,m=j;break}K=K.sibling}if(!L){for(K=j.child;K;){if(K===m){L=!0,m=j,x=_;break}if(K===x){L=!0,x=j,m=_;break}K=K.sibling}if(!L)throw Error(n(189))}}if(m.alternate!==x)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?l:d}function Lt(l){return l=Ct(l),l!==null?rn(l):null}function rn(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var d=rn(l);if(d!==null)return d;l=l.sibling}return null}var yn=t.unstable_scheduleCallback,Rn=t.unstable_cancelCallback,pt=t.unstable_shouldYield,An=t.unstable_requestPaint,At=t.unstable_now,Ps=t.unstable_getCurrentPriorityLevel,tr=t.unstable_ImmediatePriority,dr=t.unstable_UserBlockingPriority,Ri=t.unstable_NormalPriority,es=t.unstable_LowPriority,hr=t.unstable_IdlePriority,Ai=null,qn=null;function Dt(l){if(qn&&typeof qn.onCommitFiberRoot=="function")try{qn.onCommitFiberRoot(Ai,l,void 0,(l.current.flags&128)===128)}catch{}}var rt=Math.clz32?Math.clz32:en,ts=Math.log,Ii=Math.LN2;function en(l){return l>>>=0,l===0?32:31-(ts(l)/Ii|0)|0}var Vr=64,Os=4194304;function Rs(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function za(l,d){var m=l.pendingLanes;if(m===0)return 0;var x=0,_=l.suspendedLanes,j=l.pingedLanes,L=m&268435455;if(L!==0){var K=L&~_;K!==0?x=Rs(K):(j&=L,j!==0&&(x=Rs(j)))}else L=m&~_,L!==0?x=Rs(L):j!==0&&(x=Rs(j));if(x===0)return 0;if(d!==0&&d!==x&&(d&_)===0&&(_=x&-x,j=d&-d,_>=j||_===16&&(j&4194240)!==0))return d;if((x&4)!==0&&(x|=m&16),d=l.entangledLanes,d!==0)for(l=l.entanglements,d&=x;0<d;)m=31-rt(d),_=1<<m,x|=l[m],d&=~_;return x}function sn(l,d){switch(l){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $a(l,d){for(var m=l.suspendedLanes,x=l.pingedLanes,_=l.expirationTimes,j=l.pendingLanes;0<j;){var L=31-rt(j),K=1<<L,ee=_[L];ee===-1?((K&m)===0||(K&x)!==0)&&(_[L]=sn(K,d)):ee<=d&&(l.expiredLanes|=K),j&=~K}}function Xs(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function Zs(){var l=Vr;return Vr<<=1,(Vr&4194240)===0&&(Vr=64),l}function Ua(l){for(var d=[],m=0;31>m;m++)d.push(l);return d}function eo(l,d,m){l.pendingLanes|=d,d!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,d=31-rt(d),l[d]=m}function Jl(l,d){var m=l.pendingLanes&~d;l.pendingLanes=d,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=d,l.mutableReadLanes&=d,l.entangledLanes&=d,d=l.entanglements;var x=l.eventTimes;for(l=l.expirationTimes;0<m;){var _=31-rt(m),j=1<<_;d[_]=0,x[_]=-1,l[_]=-1,m&=~j}}function Xl(l,d){var m=l.entangledLanes|=d;for(l=l.entanglements;m;){var x=31-rt(m),_=1<<x;_&d|l[x]&d&&(l[x]|=d),m&=~_}}var qt=0;function Ec(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var $h,Ht,jc,Uh,Hh,xr=!1,ns=[],yi=null,br=null,rs=null,zo=new Map,vn=new Map,nr=[],Ha="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $o(l,d){switch(l){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":zo.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":vn.delete(d.pointerId)}}function to(l,d,m,x,_,j){return l===null||l.nativeEvent!==j?(l={blockedOn:d,domEventName:m,eventSystemFlags:x,nativeEvent:j,targetContainers:[_]},d!==null&&(d=qc(d),d!==null&&Ht(d)),l):(l.eventSystemFlags|=x,d=l.targetContainers,_!==null&&d.indexOf(_)===-1&&d.push(_),l)}function As(l,d,m,x,_){switch(d){case"focusin":return yi=to(yi,l,d,m,x,_),!0;case"dragenter":return br=to(br,l,d,m,x,_),!0;case"mouseover":return rs=to(rs,l,d,m,x,_),!0;case"pointerover":var j=_.pointerId;return zo.set(j,to(zo.get(j)||null,l,d,m,x,_)),!0;case"gotpointercapture":return j=_.pointerId,vn.set(j,to(vn.get(j)||null,l,d,m,x,_)),!0}return!1}function Vh(l){var d=Ja(l.target);if(d!==null){var m=Je(d);if(m!==null){if(d=m.tag,d===13){if(d=ct(m),d!==null){l.blockedOn=d,Hh(l.priority,function(){jc(m)});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){l.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Wr(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var m=Uo(l.domEventName,l.eventSystemFlags,d[0],l.nativeEvent);if(m===null){m=l.nativeEvent;var x=new m.constructor(m.type,m);Cn=x,m.target.dispatchEvent(x),Cn=null}else return d=qc(m),d!==null&&Ht(d),l.blockedOn=m,!1;d.shift()}return!0}function Zl(l,d,m){Wr(l)&&m.delete(d)}function Wh(){xr=!1,yi!==null&&Wr(yi)&&(yi=null),br!==null&&Wr(br)&&(br=null),rs!==null&&Wr(rs)&&(rs=null),zo.forEach(Zl),vn.forEach(Zl)}function no(l,d){l.blockedOn===d&&(l.blockedOn=null,xr||(xr=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Wh)))}function is(l){function d(_){return no(_,l)}if(0<ns.length){no(ns[0],l);for(var m=1;m<ns.length;m++){var x=ns[m];x.blockedOn===l&&(x.blockedOn=null)}}for(yi!==null&&no(yi,l),br!==null&&no(br,l),rs!==null&&no(rs,l),zo.forEach(d),vn.forEach(d),m=0;m<nr.length;m++)x=nr[m],x.blockedOn===l&&(x.blockedOn=null);for(;0<nr.length&&(m=nr[0],m.blockedOn===null);)Vh(m),m.blockedOn===null&&nr.shift()}var Is=$.ReactCurrentBatchConfig,Va=!0;function Eg(l,d,m,x){var _=qt,j=Is.transition;Is.transition=null;try{qt=1,Tc(l,d,m,x)}finally{qt=_,Is.transition=j}}function Wa(l,d,m,x){var _=qt,j=Is.transition;Is.transition=null;try{qt=4,Tc(l,d,m,x)}finally{qt=_,Is.transition=j}}function Tc(l,d,m,x){if(Va){var _=Uo(l,d,m,x);if(_===null)Rg(l,d,x,eu,m),$o(l,x);else if(As(_,l,d,m,x))x.stopPropagation();else if($o(l,x),d&4&&-1<Ha.indexOf(l)){for(;_!==null;){var j=qc(_);if(j!==null&&$h(j),j=Uo(l,d,m,x),j===null&&Rg(l,d,x,eu,m),j===_)break;_=j}_!==null&&x.stopPropagation()}else Rg(l,d,x,null,m)}}var eu=null;function Uo(l,d,m,x){if(eu=null,l=Xi(x),l=Ja(l),l!==null)if(d=Je(l),d===null)l=null;else if(m=d.tag,m===13){if(l=ct(d),l!==null)return l;l=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null);return eu=l,null}function qa(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ps()){case tr:return 1;case dr:return 4;case Ri:case es:return 16;case hr:return 536870912;default:return 16}default:return 16}}var Li=null,Nc=null,tu=null;function qh(){if(tu)return tu;var l,d=Nc,m=d.length,x,_="value"in Li?Li.value:Li.textContent,j=_.length;for(l=0;l<m&&d[l]===_[l];l++);var L=m-l;for(x=1;x<=L&&d[m-x]===_[j-x];x++);return tu=_.slice(l,1<x?1-x:void 0)}function Ho(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function Vo(){return!0}function Pc(){return!1}function fr(l){function d(m,x,_,j,L){this._reactName=m,this._targetInst=_,this.type=x,this.nativeEvent=j,this.target=L,this.currentTarget=null;for(var K in l)l.hasOwnProperty(K)&&(m=l[K],this[K]=m?m(j):j[K]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Vo:Pc,this.isPropagationStopped=Pc,this}return M(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Vo)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Vo)},persist:function(){},isPersistent:Vo}),d}var ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wo=fr(ss),qo=M({},ss,{view:0,detail:0}),jg=fr(qo),Ls,Qa,ro,Qo=M({},qo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:au,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==ro&&(ro&&l.type==="mousemove"?(Ls=l.screenX-ro.screenX,Qa=l.screenY-ro.screenY):Qa=Ls=0,ro=l),Ls)},movementY:function(l){return"movementY"in l?l.movementY:Qa}}),nu=fr(Qo),pr=M({},Qo,{dataTransfer:0}),Ka=fr(pr),Ga=M({},qo,{relatedTarget:0}),ru=fr(Ga),iu=M({},ss,{animationName:0,elapsedTime:0,pseudoElement:0}),Qh=fr(iu),Kh=M({},ss,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),su=fr(Kh),Oc=M({},ss,{data:0}),Ds=fr(Oc),Rc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ac={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ic(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=ou[l])?!!d[l]:!1}function au(){return Ic}var Tg=M({},qo,{key:function(l){if(l.key){var d=Rc[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=Ho(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Ac[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:au,charCode:function(l){return l.type==="keypress"?Ho(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Ho(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Lc=fr(Tg),lu=M({},Qo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gh=fr(lu),Dc=M({},qo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:au}),Mc=fr(Dc),Ng=M({},ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yh=fr(Ng),Pg=M({},Qo,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Jh=fr(Pg),Xh=[9,13,27,32],Fc=a&&"CompositionEvent"in window,Ko=null;a&&"documentMode"in document&&(Ko=document.documentMode);var Bc=a&&"TextEvent"in window&&!Ko,zc=a&&(!Fc||Ko&&8<Ko&&11>=Ko),$c=" ",Zh=!1;function ef(l,d){switch(l){case"keyup":return Xh.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tf(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var os=!1;function as(l,d){switch(l){case"compositionend":return tf(d);case"keypress":return d.which!==32?null:(Zh=!0,$c);case"textInput":return l=d.data,l===$c&&Zh?null:l;default:return null}}function kn(l,d){if(os)return l==="compositionend"||!Fc&&ef(l,d)?(l=qh(),tu=Nc=Li=null,os=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return zc&&d.locale!=="ko"?null:d.data;default:return null}}var uu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function io(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!uu[l.type]:d==="textarea"}function nf(l,d,m,x){Fo(x),d=sf(d,"onChange"),0<d.length&&(m=new Wo("onChange","change",null,m,x),l.push({event:m,listeners:d}))}var so=null,Go=null;function oo(l){db(l,0)}function Yo(l){var d=fu(l);if(ht(d))return l}function Jo(l,d){if(l==="change")return d}var ls=!1;if(a){var cu;if(a){var v="oninput"in document;if(!v){var b=document.createElement("div");b.setAttribute("oninput","return;"),v=typeof b.oninput=="function"}cu=v}else cu=!1;ls=cu&&(!document.documentMode||9<document.documentMode)}function k(){so&&(so.detachEvent("onpropertychange",T),Go=so=null)}function T(l){if(l.propertyName==="value"&&Yo(Go)){var d=[];nf(d,Go,l,Xi(l)),Oi(oo,d)}}function O(l,d,m){l==="focusin"?(k(),so=d,Go=m,so.attachEvent("onpropertychange",T)):l==="focusout"&&k()}function I(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Yo(Go)}function F(l,d){if(l==="click")return Yo(d)}function V(l,d){if(l==="input"||l==="change")return Yo(d)}function ie(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var he=typeof Object.is=="function"?Object.is:ie;function te(l,d){if(he(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var m=Object.keys(l),x=Object.keys(d);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var _=m[x];if(!u.call(d,_)||!he(l[_],d[_]))return!1}return!0}function Z(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function le(l,d){var m=Z(l);l=0;for(var x;m;){if(m.nodeType===3){if(x=l+m.textContent.length,l<=d&&x>=d)return{node:m,offset:d-l};l=x}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Z(m)}}function ue(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?ue(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function re(){for(var l=window,d=Zt();d instanceof l.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch{m=!1}if(m)l=d.contentWindow;else break;d=Zt(l.document)}return d}function ne(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}function ye(l){var d=re(),m=l.focusedElem,x=l.selectionRange;if(d!==m&&m&&m.ownerDocument&&ue(m.ownerDocument.documentElement,m)){if(x!==null&&ne(m)){if(d=x.start,l=x.end,l===void 0&&(l=d),"selectionStart"in m)m.selectionStart=d,m.selectionEnd=Math.min(l,m.value.length);else if(l=(d=m.ownerDocument||document)&&d.defaultView||window,l.getSelection){l=l.getSelection();var _=m.textContent.length,j=Math.min(x.start,_);x=x.end===void 0?j:Math.min(x.end,_),!l.extend&&j>x&&(_=x,x=j,j=_),_=le(m,j);var L=le(m,x);_&&L&&(l.rangeCount!==1||l.anchorNode!==_.node||l.anchorOffset!==_.offset||l.focusNode!==L.node||l.focusOffset!==L.offset)&&(d=d.createRange(),d.setStart(_.node,_.offset),l.removeAllRanges(),j>x?(l.addRange(d),l.extend(L.node,L.offset)):(d.setEnd(L.node,L.offset),l.addRange(d)))}}for(d=[],l=m;l=l.parentNode;)l.nodeType===1&&d.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<d.length;m++)l=d[m],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var be=a&&"documentMode"in document&&11>=document.documentMode,fe=null,Ce=null,Ne=null,$e=!1;function Ue(l,d,m){var x=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;$e||fe==null||fe!==Zt(x)||(x=fe,"selectionStart"in x&&ne(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Ne&&te(Ne,x)||(Ne=x,x=sf(Ce,"onSelect"),0<x.length&&(d=new Wo("onSelect","select",null,d,m),l.push({event:d,listeners:x}),d.target=fe)))}function Re(l,d){var m={};return m[l.toLowerCase()]=d.toLowerCase(),m["Webkit"+l]="webkit"+d,m["Moz"+l]="moz"+d,m}var Ke={animationend:Re("Animation","AnimationEnd"),animationiteration:Re("Animation","AnimationIteration"),animationstart:Re("Animation","AnimationStart"),transitionend:Re("Transition","TransitionEnd")},qe={},Me={};a&&(Me=document.createElement("div").style,"AnimationEvent"in window||(delete Ke.animationend.animation,delete Ke.animationiteration.animation,delete Ke.animationstart.animation),"TransitionEvent"in window||delete Ke.transitionend.transition);function Ge(l){if(qe[l])return qe[l];if(!Ke[l])return l;var d=Ke[l],m;for(m in d)if(d.hasOwnProperty(m)&&m in Me)return qe[l]=d[m];return l}var Bt=Ge("animationend"),Wt=Ge("animationiteration"),dt=Ge("animationstart"),jt=Ge("transitionend"),an=new Map,qr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xt(l,d){an.set(l,d),s(d,[l])}for(var us=0;us<qr.length;us++){var Ya=qr[us],J7=Ya.toLowerCase(),X7=Ya[0].toUpperCase()+Ya.slice(1);Xt(J7,"on"+X7)}Xt(Bt,"onAnimationEnd"),Xt(Wt,"onAnimationIteration"),Xt(dt,"onAnimationStart"),Xt("dblclick","onDoubleClick"),Xt("focusin","onFocus"),Xt("focusout","onBlur"),Xt(jt,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z7=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uc));function cb(l,d,m){var x=l.type||"unknown-event";l.currentTarget=m,nt(x,d,void 0,l),l.currentTarget=null}function db(l,d){d=(d&4)!==0;for(var m=0;m<l.length;m++){var x=l[m],_=x.event;x=x.listeners;e:{var j=void 0;if(d)for(var L=x.length-1;0<=L;L--){var K=x[L],ee=K.instance,_e=K.currentTarget;if(K=K.listener,ee!==j&&_.isPropagationStopped())break e;cb(_,K,_e),j=ee}else for(L=0;L<x.length;L++){if(K=x[L],ee=K.instance,_e=K.currentTarget,K=K.listener,ee!==j&&_.isPropagationStopped())break e;cb(_,K,_e),j=ee}}}if(De)throw l=tt,De=!1,tt=null,l}function fn(l,d){var m=d[Fg];m===void 0&&(m=d[Fg]=new Set);var x=l+"__bubble";m.has(x)||(hb(d,l,2,!1),m.add(x))}function Og(l,d,m){var x=0;d&&(x|=4),hb(m,l,x,d)}var rf="_reactListening"+Math.random().toString(36).slice(2);function Hc(l){if(!l[rf]){l[rf]=!0,r.forEach(function(m){m!=="selectionchange"&&(Z7.has(m)||Og(m,!1,l),Og(m,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[rf]||(d[rf]=!0,Og("selectionchange",!1,d))}}function hb(l,d,m,x){switch(qa(d)){case 1:var _=Eg;break;case 4:_=Wa;break;default:_=Tc}m=_.bind(null,d,m,l),_=void 0,!Ns||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(_=!0),x?_!==void 0?l.addEventListener(d,m,{capture:!0,passive:_}):l.addEventListener(d,m,!0):_!==void 0?l.addEventListener(d,m,{passive:_}):l.addEventListener(d,m,!1)}function Rg(l,d,m,x,_){var j=x;if((d&1)===0&&(d&2)===0&&x!==null)e:for(;;){if(x===null)return;var L=x.tag;if(L===3||L===4){var K=x.stateNode.containerInfo;if(K===_||K.nodeType===8&&K.parentNode===_)break;if(L===4)for(L=x.return;L!==null;){var ee=L.tag;if((ee===3||ee===4)&&(ee=L.stateNode.containerInfo,ee===_||ee.nodeType===8&&ee.parentNode===_))return;L=L.return}for(;K!==null;){if(L=Ja(K),L===null)return;if(ee=L.tag,ee===5||ee===6){x=j=L;continue e}K=K.parentNode}}x=x.return}Oi(function(){var _e=j,Ae=Xi(m),Ie=[];e:{var Oe=an.get(l);if(Oe!==void 0){var Xe=Wo,it=l;switch(l){case"keypress":if(Ho(m)===0)break e;case"keydown":case"keyup":Xe=Lc;break;case"focusin":it="focus",Xe=ru;break;case"focusout":it="blur",Xe=ru;break;case"beforeblur":case"afterblur":Xe=ru;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Xe=nu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Xe=Ka;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Xe=Mc;break;case Bt:case Wt:case dt:Xe=Qh;break;case jt:Xe=Yh;break;case"scroll":Xe=jg;break;case"wheel":Xe=Jh;break;case"copy":case"cut":case"paste":Xe=su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Xe=Gh}var ot=(d&4)!==0,$n=!ot&&l==="scroll",ge=ot?Oe!==null?Oe+"Capture":null:Oe;ot=[];for(var de=_e,ve;de!==null;){ve=de;var Be=ve.stateNode;if(ve.tag===5&&Be!==null&&(ve=Be,ge!==null&&(Be=Zi(de,ge),Be!=null&&ot.push(Vc(de,Be,ve)))),$n)break;de=de.return}0<ot.length&&(Oe=new Xe(Oe,it,null,m,Ae),Ie.push({event:Oe,listeners:ot}))}}if((d&7)===0){e:{if(Oe=l==="mouseover"||l==="pointerover",Xe=l==="mouseout"||l==="pointerout",Oe&&m!==Cn&&(it=m.relatedTarget||m.fromElement)&&(Ja(it)||it[ao]))break e;if((Xe||Oe)&&(Oe=Ae.window===Ae?Ae:(Oe=Ae.ownerDocument)?Oe.defaultView||Oe.parentWindow:window,Xe?(it=m.relatedTarget||m.toElement,Xe=_e,it=it?Ja(it):null,it!==null&&($n=Je(it),it!==$n||it.tag!==5&&it.tag!==6)&&(it=null)):(Xe=null,it=_e),Xe!==it)){if(ot=nu,Be="onMouseLeave",ge="onMouseEnter",de="mouse",(l==="pointerout"||l==="pointerover")&&(ot=Gh,Be="onPointerLeave",ge="onPointerEnter",de="pointer"),$n=Xe==null?Oe:fu(Xe),ve=it==null?Oe:fu(it),Oe=new ot(Be,de+"leave",Xe,m,Ae),Oe.target=$n,Oe.relatedTarget=ve,Be=null,Ja(Ae)===_e&&(ot=new ot(ge,de+"enter",it,m,Ae),ot.target=ve,ot.relatedTarget=$n,Be=ot),$n=Be,Xe&&it)t:{for(ot=Xe,ge=it,de=0,ve=ot;ve;ve=du(ve))de++;for(ve=0,Be=ge;Be;Be=du(Be))ve++;for(;0<de-ve;)ot=du(ot),de--;for(;0<ve-de;)ge=du(ge),ve--;for(;de--;){if(ot===ge||ge!==null&&ot===ge.alternate)break t;ot=du(ot),ge=du(ge)}ot=null}else ot=null;Xe!==null&&fb(Ie,Oe,Xe,ot,!1),it!==null&&$n!==null&&fb(Ie,$n,it,ot,!0)}}e:{if(Oe=_e?fu(_e):window,Xe=Oe.nodeName&&Oe.nodeName.toLowerCase(),Xe==="select"||Xe==="input"&&Oe.type==="file")var lt=Jo;else if(io(Oe))if(ls)lt=V;else{lt=I;var mt=O}else(Xe=Oe.nodeName)&&Xe.toLowerCase()==="input"&&(Oe.type==="checkbox"||Oe.type==="radio")&&(lt=F);if(lt&&(lt=lt(l,_e))){nf(Ie,lt,m,Ae);break e}mt&&mt(l,Oe,_e),l==="focusout"&&(mt=Oe._wrapperState)&&mt.controlled&&Oe.type==="number"&&Ji(Oe,"number",Oe.value)}switch(mt=_e?fu(_e):window,l){case"focusin":(io(mt)||mt.contentEditable==="true")&&(fe=mt,Ce=_e,Ne=null);break;case"focusout":Ne=Ce=fe=null;break;case"mousedown":$e=!0;break;case"contextmenu":case"mouseup":case"dragend":$e=!1,Ue(Ie,m,Ae);break;case"selectionchange":if(be)break;case"keydown":case"keyup":Ue(Ie,m,Ae)}var gt;if(Fc)e:{switch(l){case"compositionstart":var wt="onCompositionStart";break e;case"compositionend":wt="onCompositionEnd";break e;case"compositionupdate":wt="onCompositionUpdate";break e}wt=void 0}else os?ef(l,m)&&(wt="onCompositionEnd"):l==="keydown"&&m.keyCode===229&&(wt="onCompositionStart");wt&&(zc&&m.locale!=="ko"&&(os||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&os&&(gt=qh()):(Li=Ae,Nc="value"in Li?Li.value:Li.textContent,os=!0)),mt=sf(_e,wt),0<mt.length&&(wt=new Ds(wt,l,null,m,Ae),Ie.push({event:wt,listeners:mt}),gt?wt.data=gt:(gt=tf(m),gt!==null&&(wt.data=gt)))),(gt=Bc?as(l,m):kn(l,m))&&(_e=sf(_e,"onBeforeInput"),0<_e.length&&(Ae=new Ds("onBeforeInput","beforeinput",null,m,Ae),Ie.push({event:Ae,listeners:_e}),Ae.data=gt))}db(Ie,d)})}function Vc(l,d,m){return{instance:l,listener:d,currentTarget:m}}function sf(l,d){for(var m=d+"Capture",x=[];l!==null;){var _=l,j=_.stateNode;_.tag===5&&j!==null&&(_=j,j=Zi(l,m),j!=null&&x.unshift(Vc(l,j,_)),j=Zi(l,d),j!=null&&x.push(Vc(l,j,_))),l=l.return}return x}function du(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function fb(l,d,m,x,_){for(var j=d._reactName,L=[];m!==null&&m!==x;){var K=m,ee=K.alternate,_e=K.stateNode;if(ee!==null&&ee===x)break;K.tag===5&&_e!==null&&(K=_e,_?(ee=Zi(m,j),ee!=null&&L.unshift(Vc(m,ee,K))):_||(ee=Zi(m,j),ee!=null&&L.push(Vc(m,ee,K)))),m=m.return}L.length!==0&&l.push({event:d,listeners:L})}var e8=/\r\n?/g,t8=/\u0000|\uFFFD/g;function pb(l){return(typeof l=="string"?l:""+l).replace(e8,`
`).replace(t8,"")}function of(l,d,m){if(d=pb(d),pb(l)!==d&&m)throw Error(n(425))}function af(){}var Ag=null,Ig=null;function Lg(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Dg=typeof setTimeout=="function"?setTimeout:void 0,n8=typeof clearTimeout=="function"?clearTimeout:void 0,mb=typeof Promise=="function"?Promise:void 0,r8=typeof queueMicrotask=="function"?queueMicrotask:typeof mb<"u"?function(l){return mb.resolve(null).then(l).catch(i8)}:Dg;function i8(l){setTimeout(function(){throw l})}function Mg(l,d){var m=d,x=0;do{var _=m.nextSibling;if(l.removeChild(m),_&&_.nodeType===8)if(m=_.data,m==="/$"){if(x===0){l.removeChild(_),is(d);return}x--}else m!=="$"&&m!=="$?"&&m!=="$!"||x++;m=_}while(m);is(d)}function Xo(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return l}function gb(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var m=l.data;if(m==="$"||m==="$!"||m==="$?"){if(d===0)return l;d--}else m==="/$"&&d++}l=l.previousSibling}return null}var hu=Math.random().toString(36).slice(2),Ms="__reactFiber$"+hu,Wc="__reactProps$"+hu,ao="__reactContainer$"+hu,Fg="__reactEvents$"+hu,s8="__reactListeners$"+hu,o8="__reactHandles$"+hu;function Ja(l){var d=l[Ms];if(d)return d;for(var m=l.parentNode;m;){if(d=m[ao]||m[Ms]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(l=gb(l);l!==null;){if(m=l[Ms])return m;l=gb(l)}return d}l=m,m=l.parentNode}return null}function qc(l){return l=l[Ms]||l[ao],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function fu(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(n(33))}function lf(l){return l[Wc]||null}var Bg=[],pu=-1;function Zo(l){return{current:l}}function pn(l){0>pu||(l.current=Bg[pu],Bg[pu]=null,pu--)}function ln(l,d){pu++,Bg[pu]=l.current,l.current=d}var ea={},Nr=Zo(ea),Zr=Zo(!1),Xa=ea;function mu(l,d){var m=l.type.contextTypes;if(!m)return ea;var x=l.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===d)return x.__reactInternalMemoizedMaskedChildContext;var _={},j;for(j in m)_[j]=d[j];return x&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=d,l.__reactInternalMemoizedMaskedChildContext=_),_}function ei(l){return l=l.childContextTypes,l!=null}function uf(){pn(Zr),pn(Nr)}function yb(l,d,m){if(Nr.current!==ea)throw Error(n(168));ln(Nr,d),ln(Zr,m)}function vb(l,d,m){var x=l.stateNode;if(d=d.childContextTypes,typeof x.getChildContext!="function")return m;x=x.getChildContext();for(var _ in x)if(!(_ in d))throw Error(n(108,Qe(l)||"Unknown",_));return M({},m,x)}function cf(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||ea,Xa=Nr.current,ln(Nr,l),ln(Zr,Zr.current),!0}function xb(l,d,m){var x=l.stateNode;if(!x)throw Error(n(169));m?(l=vb(l,d,Xa),x.__reactInternalMemoizedMergedChildContext=l,pn(Zr),pn(Nr),ln(Nr,l)):pn(Zr),ln(Zr,m)}var lo=null,df=!1,zg=!1;function bb(l){lo===null?lo=[l]:lo.push(l)}function a8(l){df=!0,bb(l)}function ta(){if(!zg&&lo!==null){zg=!0;var l=0,d=qt;try{var m=lo;for(qt=1;l<m.length;l++){var x=m[l];do x=x(!0);while(x!==null)}lo=null,df=!1}catch(_){throw lo!==null&&(lo=lo.slice(l+1)),yn(tr,ta),_}finally{qt=d,zg=!1}}return null}var gu=[],yu=0,hf=null,ff=0,Di=[],Mi=0,Za=null,uo=1,co="";function el(l,d){gu[yu++]=ff,gu[yu++]=hf,hf=l,ff=d}function wb(l,d,m){Di[Mi++]=uo,Di[Mi++]=co,Di[Mi++]=Za,Za=l;var x=uo;l=co;var _=32-rt(x)-1;x&=~(1<<_),m+=1;var j=32-rt(d)+_;if(30<j){var L=_-_%5;j=(x&(1<<L)-1).toString(32),x>>=L,_-=L,uo=1<<32-rt(d)+_|m<<_|x,co=j+l}else uo=1<<j|m<<_|x,co=l}function $g(l){l.return!==null&&(el(l,1),wb(l,1,0))}function Ug(l){for(;l===hf;)hf=gu[--yu],gu[yu]=null,ff=gu[--yu],gu[yu]=null;for(;l===Za;)Za=Di[--Mi],Di[Mi]=null,co=Di[--Mi],Di[Mi]=null,uo=Di[--Mi],Di[Mi]=null}var vi=null,xi=null,xn=!1,cs=null;function _b(l,d){var m=$i(5,null,null,0);m.elementType="DELETED",m.stateNode=d,m.return=l,d=l.deletions,d===null?(l.deletions=[m],l.flags|=16):d.push(m)}function Sb(l,d){switch(l.tag){case 5:var m=l.type;return d=d.nodeType!==1||m.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(l.stateNode=d,vi=l,xi=Xo(d.firstChild),!0):!1;case 6:return d=l.pendingProps===""||d.nodeType!==3?null:d,d!==null?(l.stateNode=d,vi=l,xi=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(m=Za!==null?{id:uo,overflow:co}:null,l.memoizedState={dehydrated:d,treeContext:m,retryLane:1073741824},m=$i(18,null,null,0),m.stateNode=d,m.return=l,l.child=m,vi=l,xi=null,!0):!1;default:return!1}}function Hg(l){return(l.mode&1)!==0&&(l.flags&128)===0}function Vg(l){if(xn){var d=xi;if(d){var m=d;if(!Sb(l,d)){if(Hg(l))throw Error(n(418));d=Xo(m.nextSibling);var x=vi;d&&Sb(l,d)?_b(x,m):(l.flags=l.flags&-4097|2,xn=!1,vi=l)}}else{if(Hg(l))throw Error(n(418));l.flags=l.flags&-4097|2,xn=!1,vi=l}}}function Cb(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;vi=l}function pf(l){if(l!==vi)return!1;if(!xn)return Cb(l),xn=!0,!1;var d;if((d=l.tag!==3)&&!(d=l.tag!==5)&&(d=l.type,d=d!=="head"&&d!=="body"&&!Lg(l.type,l.memoizedProps)),d&&(d=xi)){if(Hg(l))throw kb(),Error(n(418));for(;d;)_b(l,d),d=Xo(d.nextSibling)}if(Cb(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));e:{for(l=l.nextSibling,d=0;l;){if(l.nodeType===8){var m=l.data;if(m==="/$"){if(d===0){xi=Xo(l.nextSibling);break e}d--}else m!=="$"&&m!=="$!"&&m!=="$?"||d++}l=l.nextSibling}xi=null}}else xi=vi?Xo(l.stateNode.nextSibling):null;return!0}function kb(){for(var l=xi;l;)l=Xo(l.nextSibling)}function vu(){xi=vi=null,xn=!1}function Wg(l){cs===null?cs=[l]:cs.push(l)}var l8=$.ReactCurrentBatchConfig;function Qc(l,d,m){if(l=m.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var x=m.stateNode}if(!x)throw Error(n(147,l));var _=x,j=""+l;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===j?d.ref:(d=function(L){var K=_.refs;L===null?delete K[j]:K[j]=L},d._stringRef=j,d)}if(typeof l!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,l))}return l}function mf(l,d){throw l=Object.prototype.toString.call(d),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l))}function Eb(l){var d=l._init;return d(l._payload)}function jb(l){function d(ge,de){if(l){var ve=ge.deletions;ve===null?(ge.deletions=[de],ge.flags|=16):ve.push(de)}}function m(ge,de){if(!l)return null;for(;de!==null;)d(ge,de),de=de.sibling;return null}function x(ge,de){for(ge=new Map;de!==null;)de.key!==null?ge.set(de.key,de):ge.set(de.index,de),de=de.sibling;return ge}function _(ge,de){return ge=ua(ge,de),ge.index=0,ge.sibling=null,ge}function j(ge,de,ve){return ge.index=ve,l?(ve=ge.alternate,ve!==null?(ve=ve.index,ve<de?(ge.flags|=2,de):ve):(ge.flags|=2,de)):(ge.flags|=1048576,de)}function L(ge){return l&&ge.alternate===null&&(ge.flags|=2),ge}function K(ge,de,ve,Be){return de===null||de.tag!==6?(de=D0(ve,ge.mode,Be),de.return=ge,de):(de=_(de,ve),de.return=ge,de)}function ee(ge,de,ve,Be){var lt=ve.type;return lt===R?Ae(ge,de,ve.props.children,Be,ve.key):de!==null&&(de.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===J&&Eb(lt)===de.type)?(Be=_(de,ve.props),Be.ref=Qc(ge,de,ve),Be.return=ge,Be):(Be=Bf(ve.type,ve.key,ve.props,null,ge.mode,Be),Be.ref=Qc(ge,de,ve),Be.return=ge,Be)}function _e(ge,de,ve,Be){return de===null||de.tag!==4||de.stateNode.containerInfo!==ve.containerInfo||de.stateNode.implementation!==ve.implementation?(de=M0(ve,ge.mode,Be),de.return=ge,de):(de=_(de,ve.children||[]),de.return=ge,de)}function Ae(ge,de,ve,Be,lt){return de===null||de.tag!==7?(de=ll(ve,ge.mode,Be,lt),de.return=ge,de):(de=_(de,ve),de.return=ge,de)}function Ie(ge,de,ve){if(typeof de=="string"&&de!==""||typeof de=="number")return de=D0(""+de,ge.mode,ve),de.return=ge,de;if(typeof de=="object"&&de!==null){switch(de.$$typeof){case W:return ve=Bf(de.type,de.key,de.props,null,ge.mode,ve),ve.ref=Qc(ge,null,de),ve.return=ge,ve;case D:return de=M0(de,ge.mode,ve),de.return=ge,de;case J:var Be=de._init;return Ie(ge,Be(de._payload),ve)}if(Xr(de)||pe(de))return de=ll(de,ge.mode,ve,null),de.return=ge,de;mf(ge,de)}return null}function Oe(ge,de,ve,Be){var lt=de!==null?de.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number")return lt!==null?null:K(ge,de,""+ve,Be);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case W:return ve.key===lt?ee(ge,de,ve,Be):null;case D:return ve.key===lt?_e(ge,de,ve,Be):null;case J:return lt=ve._init,Oe(ge,de,lt(ve._payload),Be)}if(Xr(ve)||pe(ve))return lt!==null?null:Ae(ge,de,ve,Be,null);mf(ge,ve)}return null}function Xe(ge,de,ve,Be,lt){if(typeof Be=="string"&&Be!==""||typeof Be=="number")return ge=ge.get(ve)||null,K(de,ge,""+Be,lt);if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case W:return ge=ge.get(Be.key===null?ve:Be.key)||null,ee(de,ge,Be,lt);case D:return ge=ge.get(Be.key===null?ve:Be.key)||null,_e(de,ge,Be,lt);case J:var mt=Be._init;return Xe(ge,de,ve,mt(Be._payload),lt)}if(Xr(Be)||pe(Be))return ge=ge.get(ve)||null,Ae(de,ge,Be,lt,null);mf(de,Be)}return null}function it(ge,de,ve,Be){for(var lt=null,mt=null,gt=de,wt=de=0,yr=null;gt!==null&&wt<ve.length;wt++){gt.index>wt?(yr=gt,gt=null):yr=gt.sibling;var Gt=Oe(ge,gt,ve[wt],Be);if(Gt===null){gt===null&&(gt=yr);break}l&&gt&&Gt.alternate===null&&d(ge,gt),de=j(Gt,de,wt),mt===null?lt=Gt:mt.sibling=Gt,mt=Gt,gt=yr}if(wt===ve.length)return m(ge,gt),xn&&el(ge,wt),lt;if(gt===null){for(;wt<ve.length;wt++)gt=Ie(ge,ve[wt],Be),gt!==null&&(de=j(gt,de,wt),mt===null?lt=gt:mt.sibling=gt,mt=gt);return xn&&el(ge,wt),lt}for(gt=x(ge,gt);wt<ve.length;wt++)yr=Xe(gt,ge,wt,ve[wt],Be),yr!==null&&(l&&yr.alternate!==null&&gt.delete(yr.key===null?wt:yr.key),de=j(yr,de,wt),mt===null?lt=yr:mt.sibling=yr,mt=yr);return l&&gt.forEach(function(ca){return d(ge,ca)}),xn&&el(ge,wt),lt}function ot(ge,de,ve,Be){var lt=pe(ve);if(typeof lt!="function")throw Error(n(150));if(ve=lt.call(ve),ve==null)throw Error(n(151));for(var mt=lt=null,gt=de,wt=de=0,yr=null,Gt=ve.next();gt!==null&&!Gt.done;wt++,Gt=ve.next()){gt.index>wt?(yr=gt,gt=null):yr=gt.sibling;var ca=Oe(ge,gt,Gt.value,Be);if(ca===null){gt===null&&(gt=yr);break}l&&gt&&ca.alternate===null&&d(ge,gt),de=j(ca,de,wt),mt===null?lt=ca:mt.sibling=ca,mt=ca,gt=yr}if(Gt.done)return m(ge,gt),xn&&el(ge,wt),lt;if(gt===null){for(;!Gt.done;wt++,Gt=ve.next())Gt=Ie(ge,Gt.value,Be),Gt!==null&&(de=j(Gt,de,wt),mt===null?lt=Gt:mt.sibling=Gt,mt=Gt);return xn&&el(ge,wt),lt}for(gt=x(ge,gt);!Gt.done;wt++,Gt=ve.next())Gt=Xe(gt,ge,wt,Gt.value,Be),Gt!==null&&(l&&Gt.alternate!==null&&gt.delete(Gt.key===null?wt:Gt.key),de=j(Gt,de,wt),mt===null?lt=Gt:mt.sibling=Gt,mt=Gt);return l&&gt.forEach(function($8){return d(ge,$8)}),xn&&el(ge,wt),lt}function $n(ge,de,ve,Be){if(typeof ve=="object"&&ve!==null&&ve.type===R&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case W:e:{for(var lt=ve.key,mt=de;mt!==null;){if(mt.key===lt){if(lt=ve.type,lt===R){if(mt.tag===7){m(ge,mt.sibling),de=_(mt,ve.props.children),de.return=ge,ge=de;break e}}else if(mt.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===J&&Eb(lt)===mt.type){m(ge,mt.sibling),de=_(mt,ve.props),de.ref=Qc(ge,mt,ve),de.return=ge,ge=de;break e}m(ge,mt);break}else d(ge,mt);mt=mt.sibling}ve.type===R?(de=ll(ve.props.children,ge.mode,Be,ve.key),de.return=ge,ge=de):(Be=Bf(ve.type,ve.key,ve.props,null,ge.mode,Be),Be.ref=Qc(ge,de,ve),Be.return=ge,ge=Be)}return L(ge);case D:e:{for(mt=ve.key;de!==null;){if(de.key===mt)if(de.tag===4&&de.stateNode.containerInfo===ve.containerInfo&&de.stateNode.implementation===ve.implementation){m(ge,de.sibling),de=_(de,ve.children||[]),de.return=ge,ge=de;break e}else{m(ge,de);break}else d(ge,de);de=de.sibling}de=M0(ve,ge.mode,Be),de.return=ge,ge=de}return L(ge);case J:return mt=ve._init,$n(ge,de,mt(ve._payload),Be)}if(Xr(ve))return it(ge,de,ve,Be);if(pe(ve))return ot(ge,de,ve,Be);mf(ge,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"?(ve=""+ve,de!==null&&de.tag===6?(m(ge,de.sibling),de=_(de,ve),de.return=ge,ge=de):(m(ge,de),de=D0(ve,ge.mode,Be),de.return=ge,ge=de),L(ge)):m(ge,de)}return $n}var xu=jb(!0),Tb=jb(!1),gf=Zo(null),yf=null,bu=null,qg=null;function Qg(){qg=bu=yf=null}function Kg(l){var d=gf.current;pn(gf),l._currentValue=d}function Gg(l,d,m){for(;l!==null;){var x=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,x!==null&&(x.childLanes|=d)):x!==null&&(x.childLanes&d)!==d&&(x.childLanes|=d),l===m)break;l=l.return}}function wu(l,d){yf=l,qg=bu=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&d)!==0&&(ti=!0),l.firstContext=null)}function Fi(l){var d=l._currentValue;if(qg!==l)if(l={context:l,memoizedValue:d,next:null},bu===null){if(yf===null)throw Error(n(308));bu=l,yf.dependencies={lanes:0,firstContext:l}}else bu=bu.next=l;return d}var tl=null;function Yg(l){tl===null?tl=[l]:tl.push(l)}function Nb(l,d,m,x){var _=d.interleaved;return _===null?(m.next=m,Yg(d)):(m.next=_.next,_.next=m),d.interleaved=m,ho(l,x)}function ho(l,d){l.lanes|=d;var m=l.alternate;for(m!==null&&(m.lanes|=d),m=l,l=l.return;l!==null;)l.childLanes|=d,m=l.alternate,m!==null&&(m.childLanes|=d),m=l,l=l.return;return m.tag===3?m.stateNode:null}var na=!1;function Jg(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pb(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function fo(l,d){return{eventTime:l,lane:d,tag:0,payload:null,callback:null,next:null}}function ra(l,d,m){var x=l.updateQueue;if(x===null)return null;if(x=x.shared,(Kt&2)!==0){var _=x.pending;return _===null?d.next=d:(d.next=_.next,_.next=d),x.pending=d,ho(l,m)}return _=x.interleaved,_===null?(d.next=d,Yg(x)):(d.next=_.next,_.next=d),x.interleaved=d,ho(l,m)}function vf(l,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194240)!==0)){var x=d.lanes;x&=l.pendingLanes,m|=x,d.lanes=m,Xl(l,m)}}function Ob(l,d){var m=l.updateQueue,x=l.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var _=null,j=null;if(m=m.firstBaseUpdate,m!==null){do{var L={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};j===null?_=j=L:j=j.next=L,m=m.next}while(m!==null);j===null?_=j=d:j=j.next=d}else _=j=d;m={baseState:x.baseState,firstBaseUpdate:_,lastBaseUpdate:j,shared:x.shared,effects:x.effects},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=d:l.next=d,m.lastBaseUpdate=d}function xf(l,d,m,x){var _=l.updateQueue;na=!1;var j=_.firstBaseUpdate,L=_.lastBaseUpdate,K=_.shared.pending;if(K!==null){_.shared.pending=null;var ee=K,_e=ee.next;ee.next=null,L===null?j=_e:L.next=_e,L=ee;var Ae=l.alternate;Ae!==null&&(Ae=Ae.updateQueue,K=Ae.lastBaseUpdate,K!==L&&(K===null?Ae.firstBaseUpdate=_e:K.next=_e,Ae.lastBaseUpdate=ee))}if(j!==null){var Ie=_.baseState;L=0,Ae=_e=ee=null,K=j;do{var Oe=K.lane,Xe=K.eventTime;if((x&Oe)===Oe){Ae!==null&&(Ae=Ae.next={eventTime:Xe,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var it=l,ot=K;switch(Oe=d,Xe=m,ot.tag){case 1:if(it=ot.payload,typeof it=="function"){Ie=it.call(Xe,Ie,Oe);break e}Ie=it;break e;case 3:it.flags=it.flags&-65537|128;case 0:if(it=ot.payload,Oe=typeof it=="function"?it.call(Xe,Ie,Oe):it,Oe==null)break e;Ie=M({},Ie,Oe);break e;case 2:na=!0}}K.callback!==null&&K.lane!==0&&(l.flags|=64,Oe=_.effects,Oe===null?_.effects=[K]:Oe.push(K))}else Xe={eventTime:Xe,lane:Oe,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Ae===null?(_e=Ae=Xe,ee=Ie):Ae=Ae.next=Xe,L|=Oe;if(K=K.next,K===null){if(K=_.shared.pending,K===null)break;Oe=K,K=Oe.next,Oe.next=null,_.lastBaseUpdate=Oe,_.shared.pending=null}}while(!0);if(Ae===null&&(ee=Ie),_.baseState=ee,_.firstBaseUpdate=_e,_.lastBaseUpdate=Ae,d=_.shared.interleaved,d!==null){_=d;do L|=_.lane,_=_.next;while(_!==d)}else j===null&&(_.shared.lanes=0);il|=L,l.lanes=L,l.memoizedState=Ie}}function Rb(l,d,m){if(l=d.effects,d.effects=null,l!==null)for(d=0;d<l.length;d++){var x=l[d],_=x.callback;if(_!==null){if(x.callback=null,x=m,typeof _!="function")throw Error(n(191,_));_.call(x)}}}var Kc={},Fs=Zo(Kc),Gc=Zo(Kc),Yc=Zo(Kc);function nl(l){if(l===Kc)throw Error(n(174));return l}function Xg(l,d){switch(ln(Yc,d),ln(Gc,l),ln(Fs,Kc),l=d.nodeType,l){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:Le(null,"");break;default:l=l===8?d.parentNode:d,d=l.namespaceURI||null,l=l.tagName,d=Le(d,l)}pn(Fs),ln(Fs,d)}function _u(){pn(Fs),pn(Gc),pn(Yc)}function Ab(l){nl(Yc.current);var d=nl(Fs.current),m=Le(d,l.type);d!==m&&(ln(Gc,l),ln(Fs,m))}function Zg(l){Gc.current===l&&(pn(Fs),pn(Gc))}var En=Zo(0);function bf(l){for(var d=l;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var e0=[];function t0(){for(var l=0;l<e0.length;l++)e0[l]._workInProgressVersionPrimary=null;e0.length=0}var wf=$.ReactCurrentDispatcher,n0=$.ReactCurrentBatchConfig,rl=0,jn=null,rr=null,mr=null,_f=!1,Jc=!1,Xc=0,u8=0;function Pr(){throw Error(n(321))}function r0(l,d){if(d===null)return!1;for(var m=0;m<d.length&&m<l.length;m++)if(!he(l[m],d[m]))return!1;return!0}function i0(l,d,m,x,_,j){if(rl=j,jn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,wf.current=l===null||l.memoizedState===null?f8:p8,l=m(x,_),Jc){j=0;do{if(Jc=!1,Xc=0,25<=j)throw Error(n(301));j+=1,mr=rr=null,d.updateQueue=null,wf.current=m8,l=m(x,_)}while(Jc)}if(wf.current=kf,d=rr!==null&&rr.next!==null,rl=0,mr=rr=jn=null,_f=!1,d)throw Error(n(300));return l}function s0(){var l=Xc!==0;return Xc=0,l}function Bs(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mr===null?jn.memoizedState=mr=l:mr=mr.next=l,mr}function Bi(){if(rr===null){var l=jn.alternate;l=l!==null?l.memoizedState:null}else l=rr.next;var d=mr===null?jn.memoizedState:mr.next;if(d!==null)mr=d,rr=l;else{if(l===null)throw Error(n(310));rr=l,l={memoizedState:rr.memoizedState,baseState:rr.baseState,baseQueue:rr.baseQueue,queue:rr.queue,next:null},mr===null?jn.memoizedState=mr=l:mr=mr.next=l}return mr}function Zc(l,d){return typeof d=="function"?d(l):d}function o0(l){var d=Bi(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=l;var x=rr,_=x.baseQueue,j=m.pending;if(j!==null){if(_!==null){var L=_.next;_.next=j.next,j.next=L}x.baseQueue=_=j,m.pending=null}if(_!==null){j=_.next,x=x.baseState;var K=L=null,ee=null,_e=j;do{var Ae=_e.lane;if((rl&Ae)===Ae)ee!==null&&(ee=ee.next={lane:0,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null}),x=_e.hasEagerState?_e.eagerState:l(x,_e.action);else{var Ie={lane:Ae,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null};ee===null?(K=ee=Ie,L=x):ee=ee.next=Ie,jn.lanes|=Ae,il|=Ae}_e=_e.next}while(_e!==null&&_e!==j);ee===null?L=x:ee.next=K,he(x,d.memoizedState)||(ti=!0),d.memoizedState=x,d.baseState=L,d.baseQueue=ee,m.lastRenderedState=x}if(l=m.interleaved,l!==null){_=l;do j=_.lane,jn.lanes|=j,il|=j,_=_.next;while(_!==l)}else _===null&&(m.lanes=0);return[d.memoizedState,m.dispatch]}function a0(l){var d=Bi(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=l;var x=m.dispatch,_=m.pending,j=d.memoizedState;if(_!==null){m.pending=null;var L=_=_.next;do j=l(j,L.action),L=L.next;while(L!==_);he(j,d.memoizedState)||(ti=!0),d.memoizedState=j,d.baseQueue===null&&(d.baseState=j),m.lastRenderedState=j}return[j,x]}function Ib(){}function Lb(l,d){var m=jn,x=Bi(),_=d(),j=!he(x.memoizedState,_);if(j&&(x.memoizedState=_,ti=!0),x=x.queue,l0(Fb.bind(null,m,x,l),[l]),x.getSnapshot!==d||j||mr!==null&&mr.memoizedState.tag&1){if(m.flags|=2048,ed(9,Mb.bind(null,m,x,_,d),void 0,null),gr===null)throw Error(n(349));(rl&30)!==0||Db(m,d,_)}return _}function Db(l,d,m){l.flags|=16384,l={getSnapshot:d,value:m},d=jn.updateQueue,d===null?(d={lastEffect:null,stores:null},jn.updateQueue=d,d.stores=[l]):(m=d.stores,m===null?d.stores=[l]:m.push(l))}function Mb(l,d,m,x){d.value=m,d.getSnapshot=x,Bb(d)&&zb(l)}function Fb(l,d,m){return m(function(){Bb(d)&&zb(l)})}function Bb(l){var d=l.getSnapshot;l=l.value;try{var m=d();return!he(l,m)}catch{return!0}}function zb(l){var d=ho(l,1);d!==null&&ps(d,l,1,-1)}function $b(l){var d=Bs();return typeof l=="function"&&(l=l()),d.memoizedState=d.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zc,lastRenderedState:l},d.queue=l,l=l.dispatch=h8.bind(null,jn,l),[d.memoizedState,l]}function ed(l,d,m,x){return l={tag:l,create:d,destroy:m,deps:x,next:null},d=jn.updateQueue,d===null?(d={lastEffect:null,stores:null},jn.updateQueue=d,d.lastEffect=l.next=l):(m=d.lastEffect,m===null?d.lastEffect=l.next=l:(x=m.next,m.next=l,l.next=x,d.lastEffect=l)),l}function Ub(){return Bi().memoizedState}function Sf(l,d,m,x){var _=Bs();jn.flags|=l,_.memoizedState=ed(1|d,m,void 0,x===void 0?null:x)}function Cf(l,d,m,x){var _=Bi();x=x===void 0?null:x;var j=void 0;if(rr!==null){var L=rr.memoizedState;if(j=L.destroy,x!==null&&r0(x,L.deps)){_.memoizedState=ed(d,m,j,x);return}}jn.flags|=l,_.memoizedState=ed(1|d,m,j,x)}function Hb(l,d){return Sf(8390656,8,l,d)}function l0(l,d){return Cf(2048,8,l,d)}function Vb(l,d){return Cf(4,2,l,d)}function Wb(l,d){return Cf(4,4,l,d)}function qb(l,d){if(typeof d=="function")return l=l(),d(l),function(){d(null)};if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function Qb(l,d,m){return m=m!=null?m.concat([l]):null,Cf(4,4,qb.bind(null,d,l),m)}function u0(){}function Kb(l,d){var m=Bi();d=d===void 0?null:d;var x=m.memoizedState;return x!==null&&d!==null&&r0(d,x[1])?x[0]:(m.memoizedState=[l,d],l)}function Gb(l,d){var m=Bi();d=d===void 0?null:d;var x=m.memoizedState;return x!==null&&d!==null&&r0(d,x[1])?x[0]:(l=l(),m.memoizedState=[l,d],l)}function Yb(l,d,m){return(rl&21)===0?(l.baseState&&(l.baseState=!1,ti=!0),l.memoizedState=m):(he(m,d)||(m=Zs(),jn.lanes|=m,il|=m,l.baseState=!0),d)}function c8(l,d){var m=qt;qt=m!==0&&4>m?m:4,l(!0);var x=n0.transition;n0.transition={};try{l(!1),d()}finally{qt=m,n0.transition=x}}function Jb(){return Bi().memoizedState}function d8(l,d,m){var x=aa(l);if(m={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null},Xb(l))Zb(d,m);else if(m=Nb(l,d,m,x),m!==null){var _=Kr();ps(m,l,x,_),e2(m,d,x)}}function h8(l,d,m){var x=aa(l),_={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null};if(Xb(l))Zb(d,_);else{var j=l.alternate;if(l.lanes===0&&(j===null||j.lanes===0)&&(j=d.lastRenderedReducer,j!==null))try{var L=d.lastRenderedState,K=j(L,m);if(_.hasEagerState=!0,_.eagerState=K,he(K,L)){var ee=d.interleaved;ee===null?(_.next=_,Yg(d)):(_.next=ee.next,ee.next=_),d.interleaved=_;return}}catch{}finally{}m=Nb(l,d,_,x),m!==null&&(_=Kr(),ps(m,l,x,_),e2(m,d,x))}}function Xb(l){var d=l.alternate;return l===jn||d!==null&&d===jn}function Zb(l,d){Jc=_f=!0;var m=l.pending;m===null?d.next=d:(d.next=m.next,m.next=d),l.pending=d}function e2(l,d,m){if((m&4194240)!==0){var x=d.lanes;x&=l.pendingLanes,m|=x,d.lanes=m,Xl(l,m)}}var kf={readContext:Fi,useCallback:Pr,useContext:Pr,useEffect:Pr,useImperativeHandle:Pr,useInsertionEffect:Pr,useLayoutEffect:Pr,useMemo:Pr,useReducer:Pr,useRef:Pr,useState:Pr,useDebugValue:Pr,useDeferredValue:Pr,useTransition:Pr,useMutableSource:Pr,useSyncExternalStore:Pr,useId:Pr,unstable_isNewReconciler:!1},f8={readContext:Fi,useCallback:function(l,d){return Bs().memoizedState=[l,d===void 0?null:d],l},useContext:Fi,useEffect:Hb,useImperativeHandle:function(l,d,m){return m=m!=null?m.concat([l]):null,Sf(4194308,4,qb.bind(null,d,l),m)},useLayoutEffect:function(l,d){return Sf(4194308,4,l,d)},useInsertionEffect:function(l,d){return Sf(4,2,l,d)},useMemo:function(l,d){var m=Bs();return d=d===void 0?null:d,l=l(),m.memoizedState=[l,d],l},useReducer:function(l,d,m){var x=Bs();return d=m!==void 0?m(d):d,x.memoizedState=x.baseState=d,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:d},x.queue=l,l=l.dispatch=d8.bind(null,jn,l),[x.memoizedState,l]},useRef:function(l){var d=Bs();return l={current:l},d.memoizedState=l},useState:$b,useDebugValue:u0,useDeferredValue:function(l){return Bs().memoizedState=l},useTransition:function(){var l=$b(!1),d=l[0];return l=c8.bind(null,l[1]),Bs().memoizedState=l,[d,l]},useMutableSource:function(){},useSyncExternalStore:function(l,d,m){var x=jn,_=Bs();if(xn){if(m===void 0)throw Error(n(407));m=m()}else{if(m=d(),gr===null)throw Error(n(349));(rl&30)!==0||Db(x,d,m)}_.memoizedState=m;var j={value:m,getSnapshot:d};return _.queue=j,Hb(Fb.bind(null,x,j,l),[l]),x.flags|=2048,ed(9,Mb.bind(null,x,j,m,d),void 0,null),m},useId:function(){var l=Bs(),d=gr.identifierPrefix;if(xn){var m=co,x=uo;m=(x&~(1<<32-rt(x)-1)).toString(32)+m,d=":"+d+"R"+m,m=Xc++,0<m&&(d+="H"+m.toString(32)),d+=":"}else m=u8++,d=":"+d+"r"+m.toString(32)+":";return l.memoizedState=d},unstable_isNewReconciler:!1},p8={readContext:Fi,useCallback:Kb,useContext:Fi,useEffect:l0,useImperativeHandle:Qb,useInsertionEffect:Vb,useLayoutEffect:Wb,useMemo:Gb,useReducer:o0,useRef:Ub,useState:function(){return o0(Zc)},useDebugValue:u0,useDeferredValue:function(l){var d=Bi();return Yb(d,rr.memoizedState,l)},useTransition:function(){var l=o0(Zc)[0],d=Bi().memoizedState;return[l,d]},useMutableSource:Ib,useSyncExternalStore:Lb,useId:Jb,unstable_isNewReconciler:!1},m8={readContext:Fi,useCallback:Kb,useContext:Fi,useEffect:l0,useImperativeHandle:Qb,useInsertionEffect:Vb,useLayoutEffect:Wb,useMemo:Gb,useReducer:a0,useRef:Ub,useState:function(){return a0(Zc)},useDebugValue:u0,useDeferredValue:function(l){var d=Bi();return rr===null?d.memoizedState=l:Yb(d,rr.memoizedState,l)},useTransition:function(){var l=a0(Zc)[0],d=Bi().memoizedState;return[l,d]},useMutableSource:Ib,useSyncExternalStore:Lb,useId:Jb,unstable_isNewReconciler:!1};function ds(l,d){if(l&&l.defaultProps){d=M({},d),l=l.defaultProps;for(var m in l)d[m]===void 0&&(d[m]=l[m]);return d}return d}function c0(l,d,m,x){d=l.memoizedState,m=m(x,d),m=m==null?d:M({},d,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var Ef={isMounted:function(l){return(l=l._reactInternals)?Je(l)===l:!1},enqueueSetState:function(l,d,m){l=l._reactInternals;var x=Kr(),_=aa(l),j=fo(x,_);j.payload=d,m!=null&&(j.callback=m),d=ra(l,j,_),d!==null&&(ps(d,l,_,x),vf(d,l,_))},enqueueReplaceState:function(l,d,m){l=l._reactInternals;var x=Kr(),_=aa(l),j=fo(x,_);j.tag=1,j.payload=d,m!=null&&(j.callback=m),d=ra(l,j,_),d!==null&&(ps(d,l,_,x),vf(d,l,_))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var m=Kr(),x=aa(l),_=fo(m,x);_.tag=2,d!=null&&(_.callback=d),d=ra(l,_,x),d!==null&&(ps(d,l,x,m),vf(d,l,x))}};function t2(l,d,m,x,_,j,L){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(x,j,L):d.prototype&&d.prototype.isPureReactComponent?!te(m,x)||!te(_,j):!0}function n2(l,d,m){var x=!1,_=ea,j=d.contextType;return typeof j=="object"&&j!==null?j=Fi(j):(_=ei(d)?Xa:Nr.current,x=d.contextTypes,j=(x=x!=null)?mu(l,_):ea),d=new d(m,j),l.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ef,l.stateNode=d,d._reactInternals=l,x&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=_,l.__reactInternalMemoizedMaskedChildContext=j),d}function r2(l,d,m,x){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,x),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,x),d.state!==l&&Ef.enqueueReplaceState(d,d.state,null)}function d0(l,d,m,x){var _=l.stateNode;_.props=m,_.state=l.memoizedState,_.refs={},Jg(l);var j=d.contextType;typeof j=="object"&&j!==null?_.context=Fi(j):(j=ei(d)?Xa:Nr.current,_.context=mu(l,j)),_.state=l.memoizedState,j=d.getDerivedStateFromProps,typeof j=="function"&&(c0(l,d,j,m),_.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(d=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),d!==_.state&&Ef.enqueueReplaceState(_,_.state,null),xf(l,m,_,x),_.state=l.memoizedState),typeof _.componentDidMount=="function"&&(l.flags|=4194308)}function Su(l,d){try{var m="",x=d;do m+=ke(x),x=x.return;while(x);var _=m}catch(j){_=`
Error generating stack: `+j.message+`
`+j.stack}return{value:l,source:d,stack:_,digest:null}}function h0(l,d,m){return{value:l,source:null,stack:m??null,digest:d??null}}function f0(l,d){try{console.error(d.value)}catch(m){setTimeout(function(){throw m})}}var g8=typeof WeakMap=="function"?WeakMap:Map;function i2(l,d,m){m=fo(-1,m),m.tag=3,m.payload={element:null};var x=d.value;return m.callback=function(){Af||(Af=!0,T0=x),f0(l,d)},m}function s2(l,d,m){m=fo(-1,m),m.tag=3;var x=l.type.getDerivedStateFromError;if(typeof x=="function"){var _=d.value;m.payload=function(){return x(_)},m.callback=function(){f0(l,d)}}var j=l.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(m.callback=function(){f0(l,d),typeof x!="function"&&(sa===null?sa=new Set([this]):sa.add(this));var L=d.stack;this.componentDidCatch(d.value,{componentStack:L!==null?L:""})}),m}function o2(l,d,m){var x=l.pingCache;if(x===null){x=l.pingCache=new g8;var _=new Set;x.set(d,_)}else _=x.get(d),_===void 0&&(_=new Set,x.set(d,_));_.has(m)||(_.add(m),l=P8.bind(null,l,d,m),d.then(l,l))}function a2(l){do{var d;if((d=l.tag===13)&&(d=l.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return l;l=l.return}while(l!==null);return null}function l2(l,d,m,x,_){return(l.mode&1)===0?(l===d?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(d=fo(-1,1),d.tag=2,ra(m,d,1))),m.lanes|=1),l):(l.flags|=65536,l.lanes=_,l)}var y8=$.ReactCurrentOwner,ti=!1;function Qr(l,d,m,x){d.child=l===null?Tb(d,null,m,x):xu(d,l.child,m,x)}function u2(l,d,m,x,_){m=m.render;var j=d.ref;return wu(d,_),x=i0(l,d,m,x,j,_),m=s0(),l!==null&&!ti?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~_,po(l,d,_)):(xn&&m&&$g(d),d.flags|=1,Qr(l,d,x,_),d.child)}function c2(l,d,m,x,_){if(l===null){var j=m.type;return typeof j=="function"&&!L0(j)&&j.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(d.tag=15,d.type=j,d2(l,d,j,x,_)):(l=Bf(m.type,null,x,d,d.mode,_),l.ref=d.ref,l.return=d,d.child=l)}if(j=l.child,(l.lanes&_)===0){var L=j.memoizedProps;if(m=m.compare,m=m!==null?m:te,m(L,x)&&l.ref===d.ref)return po(l,d,_)}return d.flags|=1,l=ua(j,x),l.ref=d.ref,l.return=d,d.child=l}function d2(l,d,m,x,_){if(l!==null){var j=l.memoizedProps;if(te(j,x)&&l.ref===d.ref)if(ti=!1,d.pendingProps=x=j,(l.lanes&_)!==0)(l.flags&131072)!==0&&(ti=!0);else return d.lanes=l.lanes,po(l,d,_)}return p0(l,d,m,x,_)}function h2(l,d,m){var x=d.pendingProps,_=x.children,j=l!==null?l.memoizedState:null;if(x.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},ln(ku,bi),bi|=m;else{if((m&1073741824)===0)return l=j!==null?j.baseLanes|m:m,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:l,cachePool:null,transitions:null},d.updateQueue=null,ln(ku,bi),bi|=l,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=j!==null?j.baseLanes:m,ln(ku,bi),bi|=x}else j!==null?(x=j.baseLanes|m,d.memoizedState=null):x=m,ln(ku,bi),bi|=x;return Qr(l,d,_,m),d.child}function f2(l,d){var m=d.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(d.flags|=512,d.flags|=2097152)}function p0(l,d,m,x,_){var j=ei(m)?Xa:Nr.current;return j=mu(d,j),wu(d,_),m=i0(l,d,m,x,j,_),x=s0(),l!==null&&!ti?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~_,po(l,d,_)):(xn&&x&&$g(d),d.flags|=1,Qr(l,d,m,_),d.child)}function p2(l,d,m,x,_){if(ei(m)){var j=!0;cf(d)}else j=!1;if(wu(d,_),d.stateNode===null)Tf(l,d),n2(d,m,x),d0(d,m,x,_),x=!0;else if(l===null){var L=d.stateNode,K=d.memoizedProps;L.props=K;var ee=L.context,_e=m.contextType;typeof _e=="object"&&_e!==null?_e=Fi(_e):(_e=ei(m)?Xa:Nr.current,_e=mu(d,_e));var Ae=m.getDerivedStateFromProps,Ie=typeof Ae=="function"||typeof L.getSnapshotBeforeUpdate=="function";Ie||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(K!==x||ee!==_e)&&r2(d,L,x,_e),na=!1;var Oe=d.memoizedState;L.state=Oe,xf(d,x,L,_),ee=d.memoizedState,K!==x||Oe!==ee||Zr.current||na?(typeof Ae=="function"&&(c0(d,m,Ae,x),ee=d.memoizedState),(K=na||t2(d,m,K,x,Oe,ee,_e))?(Ie||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(d.flags|=4194308)):(typeof L.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=x,d.memoizedState=ee),L.props=x,L.state=ee,L.context=_e,x=K):(typeof L.componentDidMount=="function"&&(d.flags|=4194308),x=!1)}else{L=d.stateNode,Pb(l,d),K=d.memoizedProps,_e=d.type===d.elementType?K:ds(d.type,K),L.props=_e,Ie=d.pendingProps,Oe=L.context,ee=m.contextType,typeof ee=="object"&&ee!==null?ee=Fi(ee):(ee=ei(m)?Xa:Nr.current,ee=mu(d,ee));var Xe=m.getDerivedStateFromProps;(Ae=typeof Xe=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(K!==Ie||Oe!==ee)&&r2(d,L,x,ee),na=!1,Oe=d.memoizedState,L.state=Oe,xf(d,x,L,_);var it=d.memoizedState;K!==Ie||Oe!==it||Zr.current||na?(typeof Xe=="function"&&(c0(d,m,Xe,x),it=d.memoizedState),(_e=na||t2(d,m,_e,x,Oe,it,ee)||!1)?(Ae||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(x,it,ee),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(x,it,ee)),typeof L.componentDidUpdate=="function"&&(d.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof L.componentDidUpdate!="function"||K===l.memoizedProps&&Oe===l.memoizedState||(d.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||K===l.memoizedProps&&Oe===l.memoizedState||(d.flags|=1024),d.memoizedProps=x,d.memoizedState=it),L.props=x,L.state=it,L.context=ee,x=_e):(typeof L.componentDidUpdate!="function"||K===l.memoizedProps&&Oe===l.memoizedState||(d.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||K===l.memoizedProps&&Oe===l.memoizedState||(d.flags|=1024),x=!1)}return m0(l,d,m,x,j,_)}function m0(l,d,m,x,_,j){f2(l,d);var L=(d.flags&128)!==0;if(!x&&!L)return _&&xb(d,m,!1),po(l,d,j);x=d.stateNode,y8.current=d;var K=L&&typeof m.getDerivedStateFromError!="function"?null:x.render();return d.flags|=1,l!==null&&L?(d.child=xu(d,l.child,null,j),d.child=xu(d,null,K,j)):Qr(l,d,K,j),d.memoizedState=x.state,_&&xb(d,m,!0),d.child}function m2(l){var d=l.stateNode;d.pendingContext?yb(l,d.pendingContext,d.pendingContext!==d.context):d.context&&yb(l,d.context,!1),Xg(l,d.containerInfo)}function g2(l,d,m,x,_){return vu(),Wg(_),d.flags|=256,Qr(l,d,m,x),d.child}var g0={dehydrated:null,treeContext:null,retryLane:0};function y0(l){return{baseLanes:l,cachePool:null,transitions:null}}function y2(l,d,m){var x=d.pendingProps,_=En.current,j=!1,L=(d.flags&128)!==0,K;if((K=L)||(K=l!==null&&l.memoizedState===null?!1:(_&2)!==0),K?(j=!0,d.flags&=-129):(l===null||l.memoizedState!==null)&&(_|=1),ln(En,_&1),l===null)return Vg(d),l=d.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((d.mode&1)===0?d.lanes=1:l.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(L=x.children,l=x.fallback,j?(x=d.mode,j=d.child,L={mode:"hidden",children:L},(x&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=L):j=zf(L,x,0,null),l=ll(l,x,m,null),j.return=d,l.return=d,j.sibling=l,d.child=j,d.child.memoizedState=y0(m),d.memoizedState=g0,l):v0(d,L));if(_=l.memoizedState,_!==null&&(K=_.dehydrated,K!==null))return v8(l,d,L,x,K,_,m);if(j){j=x.fallback,L=d.mode,_=l.child,K=_.sibling;var ee={mode:"hidden",children:x.children};return(L&1)===0&&d.child!==_?(x=d.child,x.childLanes=0,x.pendingProps=ee,d.deletions=null):(x=ua(_,ee),x.subtreeFlags=_.subtreeFlags&14680064),K!==null?j=ua(K,j):(j=ll(j,L,m,null),j.flags|=2),j.return=d,x.return=d,x.sibling=j,d.child=x,x=j,j=d.child,L=l.child.memoizedState,L=L===null?y0(m):{baseLanes:L.baseLanes|m,cachePool:null,transitions:L.transitions},j.memoizedState=L,j.childLanes=l.childLanes&~m,d.memoizedState=g0,x}return j=l.child,l=j.sibling,x=ua(j,{mode:"visible",children:x.children}),(d.mode&1)===0&&(x.lanes=m),x.return=d,x.sibling=null,l!==null&&(m=d.deletions,m===null?(d.deletions=[l],d.flags|=16):m.push(l)),d.child=x,d.memoizedState=null,x}function v0(l,d){return d=zf({mode:"visible",children:d},l.mode,0,null),d.return=l,l.child=d}function jf(l,d,m,x){return x!==null&&Wg(x),xu(d,l.child,null,m),l=v0(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function v8(l,d,m,x,_,j,L){if(m)return d.flags&256?(d.flags&=-257,x=h0(Error(n(422))),jf(l,d,L,x)):d.memoizedState!==null?(d.child=l.child,d.flags|=128,null):(j=x.fallback,_=d.mode,x=zf({mode:"visible",children:x.children},_,0,null),j=ll(j,_,L,null),j.flags|=2,x.return=d,j.return=d,x.sibling=j,d.child=x,(d.mode&1)!==0&&xu(d,l.child,null,L),d.child.memoizedState=y0(L),d.memoizedState=g0,j);if((d.mode&1)===0)return jf(l,d,L,null);if(_.data==="$!"){if(x=_.nextSibling&&_.nextSibling.dataset,x)var K=x.dgst;return x=K,j=Error(n(419)),x=h0(j,x,void 0),jf(l,d,L,x)}if(K=(L&l.childLanes)!==0,ti||K){if(x=gr,x!==null){switch(L&-L){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(x.suspendedLanes|L))!==0?0:_,_!==0&&_!==j.retryLane&&(j.retryLane=_,ho(l,_),ps(x,l,_,-1))}return I0(),x=h0(Error(n(421))),jf(l,d,L,x)}return _.data==="$?"?(d.flags|=128,d.child=l.child,d=O8.bind(null,l),_._reactRetry=d,null):(l=j.treeContext,xi=Xo(_.nextSibling),vi=d,xn=!0,cs=null,l!==null&&(Di[Mi++]=uo,Di[Mi++]=co,Di[Mi++]=Za,uo=l.id,co=l.overflow,Za=d),d=v0(d,x.children),d.flags|=4096,d)}function v2(l,d,m){l.lanes|=d;var x=l.alternate;x!==null&&(x.lanes|=d),Gg(l.return,d,m)}function x0(l,d,m,x,_){var j=l.memoizedState;j===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:_}:(j.isBackwards=d,j.rendering=null,j.renderingStartTime=0,j.last=x,j.tail=m,j.tailMode=_)}function x2(l,d,m){var x=d.pendingProps,_=x.revealOrder,j=x.tail;if(Qr(l,d,x.children,m),x=En.current,(x&2)!==0)x=x&1|2,d.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&v2(l,m,d);else if(l.tag===19)v2(l,m,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}x&=1}if(ln(En,x),(d.mode&1)===0)d.memoizedState=null;else switch(_){case"forwards":for(m=d.child,_=null;m!==null;)l=m.alternate,l!==null&&bf(l)===null&&(_=m),m=m.sibling;m=_,m===null?(_=d.child,d.child=null):(_=m.sibling,m.sibling=null),x0(d,!1,_,m,j);break;case"backwards":for(m=null,_=d.child,d.child=null;_!==null;){if(l=_.alternate,l!==null&&bf(l)===null){d.child=_;break}l=_.sibling,_.sibling=m,m=_,_=l}x0(d,!0,m,null,j);break;case"together":x0(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Tf(l,d){(d.mode&1)===0&&l!==null&&(l.alternate=null,d.alternate=null,d.flags|=2)}function po(l,d,m){if(l!==null&&(d.dependencies=l.dependencies),il|=d.lanes,(m&d.childLanes)===0)return null;if(l!==null&&d.child!==l.child)throw Error(n(153));if(d.child!==null){for(l=d.child,m=ua(l,l.pendingProps),d.child=m,m.return=d;l.sibling!==null;)l=l.sibling,m=m.sibling=ua(l,l.pendingProps),m.return=d;m.sibling=null}return d.child}function x8(l,d,m){switch(d.tag){case 3:m2(d),vu();break;case 5:Ab(d);break;case 1:ei(d.type)&&cf(d);break;case 4:Xg(d,d.stateNode.containerInfo);break;case 10:var x=d.type._context,_=d.memoizedProps.value;ln(gf,x._currentValue),x._currentValue=_;break;case 13:if(x=d.memoizedState,x!==null)return x.dehydrated!==null?(ln(En,En.current&1),d.flags|=128,null):(m&d.child.childLanes)!==0?y2(l,d,m):(ln(En,En.current&1),l=po(l,d,m),l!==null?l.sibling:null);ln(En,En.current&1);break;case 19:if(x=(m&d.childLanes)!==0,(l.flags&128)!==0){if(x)return x2(l,d,m);d.flags|=128}if(_=d.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),ln(En,En.current),x)break;return null;case 22:case 23:return d.lanes=0,h2(l,d,m)}return po(l,d,m)}var b2,b0,w2,_2;b2=function(l,d){for(var m=d.child;m!==null;){if(m.tag===5||m.tag===6)l.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},b0=function(){},w2=function(l,d,m,x){var _=l.memoizedProps;if(_!==x){l=d.stateNode,nl(Fs.current);var j=null;switch(m){case"input":_=Wn(l,_),x=Wn(l,x),j=[];break;case"select":_=M({},_,{value:void 0}),x=M({},x,{value:void 0}),j=[];break;case"textarea":_=Ts(l,_),x=Ts(l,x),j=[];break;default:typeof _.onClick!="function"&&typeof x.onClick=="function"&&(l.onclick=af)}We(m,x);var L;m=null;for(_e in _)if(!x.hasOwnProperty(_e)&&_.hasOwnProperty(_e)&&_[_e]!=null)if(_e==="style"){var K=_[_e];for(L in K)K.hasOwnProperty(L)&&(m||(m={}),m[L]="")}else _e!=="dangerouslySetInnerHTML"&&_e!=="children"&&_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&_e!=="autoFocus"&&(i.hasOwnProperty(_e)?j||(j=[]):(j=j||[]).push(_e,null));for(_e in x){var ee=x[_e];if(K=_?.[_e],x.hasOwnProperty(_e)&&ee!==K&&(ee!=null||K!=null))if(_e==="style")if(K){for(L in K)!K.hasOwnProperty(L)||ee&&ee.hasOwnProperty(L)||(m||(m={}),m[L]="");for(L in ee)ee.hasOwnProperty(L)&&K[L]!==ee[L]&&(m||(m={}),m[L]=ee[L])}else m||(j||(j=[]),j.push(_e,m)),m=ee;else _e==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,K=K?K.__html:void 0,ee!=null&&K!==ee&&(j=j||[]).push(_e,ee)):_e==="children"?typeof ee!="string"&&typeof ee!="number"||(j=j||[]).push(_e,""+ee):_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&(i.hasOwnProperty(_e)?(ee!=null&&_e==="onScroll"&&fn("scroll",l),j||K===ee||(j=[])):(j=j||[]).push(_e,ee))}m&&(j=j||[]).push("style",m);var _e=j;(d.updateQueue=_e)&&(d.flags|=4)}},_2=function(l,d,m,x){m!==x&&(d.flags|=4)};function td(l,d){if(!xn)switch(l.tailMode){case"hidden":d=l.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:x.sibling=null}}function Or(l){var d=l.alternate!==null&&l.alternate.child===l.child,m=0,x=0;if(d)for(var _=l.child;_!==null;)m|=_.lanes|_.childLanes,x|=_.subtreeFlags&14680064,x|=_.flags&14680064,_.return=l,_=_.sibling;else for(_=l.child;_!==null;)m|=_.lanes|_.childLanes,x|=_.subtreeFlags,x|=_.flags,_.return=l,_=_.sibling;return l.subtreeFlags|=x,l.childLanes=m,d}function b8(l,d,m){var x=d.pendingProps;switch(Ug(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Or(d),null;case 1:return ei(d.type)&&uf(),Or(d),null;case 3:return x=d.stateNode,_u(),pn(Zr),pn(Nr),t0(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(l===null||l.child===null)&&(pf(d)?d.flags|=4:l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,cs!==null&&(O0(cs),cs=null))),b0(l,d),Or(d),null;case 5:Zg(d);var _=nl(Yc.current);if(m=d.type,l!==null&&d.stateNode!=null)w2(l,d,m,x,_),l.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!x){if(d.stateNode===null)throw Error(n(166));return Or(d),null}if(l=nl(Fs.current),pf(d)){x=d.stateNode,m=d.type;var j=d.memoizedProps;switch(x[Ms]=d,x[Wc]=j,l=(d.mode&1)!==0,m){case"dialog":fn("cancel",x),fn("close",x);break;case"iframe":case"object":case"embed":fn("load",x);break;case"video":case"audio":for(_=0;_<Uc.length;_++)fn(Uc[_],x);break;case"source":fn("error",x);break;case"img":case"image":case"link":fn("error",x),fn("load",x);break;case"details":fn("toggle",x);break;case"input":Fn(x,j),fn("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!j.multiple},fn("invalid",x);break;case"textarea":Pi(x,j),fn("invalid",x)}We(m,j),_=null;for(var L in j)if(j.hasOwnProperty(L)){var K=j[L];L==="children"?typeof K=="string"?x.textContent!==K&&(j.suppressHydrationWarning!==!0&&of(x.textContent,K,l),_=["children",K]):typeof K=="number"&&x.textContent!==""+K&&(j.suppressHydrationWarning!==!0&&of(x.textContent,K,l),_=["children",""+K]):i.hasOwnProperty(L)&&K!=null&&L==="onScroll"&&fn("scroll",x)}switch(m){case"input":cr(x),Do(x,j,!0);break;case"textarea":cr(x),Tr(x);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(x.onclick=af)}x=_,d.updateQueue=x,x!==null&&(d.flags|=4)}else{L=_.nodeType===9?_:_.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=Se(m)),l==="http://www.w3.org/1999/xhtml"?m==="script"?(l=L.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof x.is=="string"?l=L.createElement(m,{is:x.is}):(l=L.createElement(m),m==="select"&&(L=l,x.multiple?L.multiple=!0:x.size&&(L.size=x.size))):l=L.createElementNS(l,m),l[Ms]=d,l[Wc]=x,b2(l,d,!1,!1),d.stateNode=l;e:{switch(L=er(m,x),m){case"dialog":fn("cancel",l),fn("close",l),_=x;break;case"iframe":case"object":case"embed":fn("load",l),_=x;break;case"video":case"audio":for(_=0;_<Uc.length;_++)fn(Uc[_],l);_=x;break;case"source":fn("error",l),_=x;break;case"img":case"image":case"link":fn("error",l),fn("load",l),_=x;break;case"details":fn("toggle",l),_=x;break;case"input":Fn(l,x),_=Wn(l,x),fn("invalid",l);break;case"option":_=x;break;case"select":l._wrapperState={wasMultiple:!!x.multiple},_=M({},x,{value:void 0}),fn("invalid",l);break;case"textarea":Pi(l,x),_=Ts(l,x),fn("invalid",l);break;default:_=x}We(m,_),K=_;for(j in K)if(K.hasOwnProperty(j)){var ee=K[j];j==="style"?On(l,ee):j==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,ee!=null&&ft(l,ee)):j==="children"?typeof ee=="string"?(m!=="textarea"||ee!=="")&&Ot(l,ee):typeof ee=="number"&&Ot(l,""+ee):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(i.hasOwnProperty(j)?ee!=null&&j==="onScroll"&&fn("scroll",l):ee!=null&&A(l,j,ee,L))}switch(m){case"input":cr(l),Do(l,x,!1);break;case"textarea":cr(l),Tr(l);break;case"option":x.value!=null&&l.setAttribute("value",""+Ve(x.value));break;case"select":l.multiple=!!x.multiple,j=x.value,j!=null?Bn(l,!!x.multiple,j,!1):x.defaultValue!=null&&Bn(l,!!x.multiple,x.defaultValue,!0);break;default:typeof _.onClick=="function"&&(l.onclick=af)}switch(m){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Or(d),null;case 6:if(l&&d.stateNode!=null)_2(l,d,l.memoizedProps,x);else{if(typeof x!="string"&&d.stateNode===null)throw Error(n(166));if(m=nl(Yc.current),nl(Fs.current),pf(d)){if(x=d.stateNode,m=d.memoizedProps,x[Ms]=d,(j=x.nodeValue!==m)&&(l=vi,l!==null))switch(l.tag){case 3:of(x.nodeValue,m,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&of(x.nodeValue,m,(l.mode&1)!==0)}j&&(d.flags|=4)}else x=(m.nodeType===9?m:m.ownerDocument).createTextNode(x),x[Ms]=d,d.stateNode=x}return Or(d),null;case 13:if(pn(En),x=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(xn&&xi!==null&&(d.mode&1)!==0&&(d.flags&128)===0)kb(),vu(),d.flags|=98560,j=!1;else if(j=pf(d),x!==null&&x.dehydrated!==null){if(l===null){if(!j)throw Error(n(318));if(j=d.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(n(317));j[Ms]=d}else vu(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Or(d),j=!1}else cs!==null&&(O0(cs),cs=null),j=!0;if(!j)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=m,d):(x=x!==null,x!==(l!==null&&l.memoizedState!==null)&&x&&(d.child.flags|=8192,(d.mode&1)!==0&&(l===null||(En.current&1)!==0?ir===0&&(ir=3):I0())),d.updateQueue!==null&&(d.flags|=4),Or(d),null);case 4:return _u(),b0(l,d),l===null&&Hc(d.stateNode.containerInfo),Or(d),null;case 10:return Kg(d.type._context),Or(d),null;case 17:return ei(d.type)&&uf(),Or(d),null;case 19:if(pn(En),j=d.memoizedState,j===null)return Or(d),null;if(x=(d.flags&128)!==0,L=j.rendering,L===null)if(x)td(j,!1);else{if(ir!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if(L=bf(l),L!==null){for(d.flags|=128,td(j,!1),x=L.updateQueue,x!==null&&(d.updateQueue=x,d.flags|=4),d.subtreeFlags=0,x=m,m=d.child;m!==null;)j=m,l=x,j.flags&=14680066,L=j.alternate,L===null?(j.childLanes=0,j.lanes=l,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=L.childLanes,j.lanes=L.lanes,j.child=L.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=L.memoizedProps,j.memoizedState=L.memoizedState,j.updateQueue=L.updateQueue,j.type=L.type,l=L.dependencies,j.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),m=m.sibling;return ln(En,En.current&1|2),d.child}l=l.sibling}j.tail!==null&&At()>Eu&&(d.flags|=128,x=!0,td(j,!1),d.lanes=4194304)}else{if(!x)if(l=bf(L),l!==null){if(d.flags|=128,x=!0,m=l.updateQueue,m!==null&&(d.updateQueue=m,d.flags|=4),td(j,!0),j.tail===null&&j.tailMode==="hidden"&&!L.alternate&&!xn)return Or(d),null}else 2*At()-j.renderingStartTime>Eu&&m!==1073741824&&(d.flags|=128,x=!0,td(j,!1),d.lanes=4194304);j.isBackwards?(L.sibling=d.child,d.child=L):(m=j.last,m!==null?m.sibling=L:d.child=L,j.last=L)}return j.tail!==null?(d=j.tail,j.rendering=d,j.tail=d.sibling,j.renderingStartTime=At(),d.sibling=null,m=En.current,ln(En,x?m&1|2:m&1),d):(Or(d),null);case 22:case 23:return A0(),x=d.memoizedState!==null,l!==null&&l.memoizedState!==null!==x&&(d.flags|=8192),x&&(d.mode&1)!==0?(bi&1073741824)!==0&&(Or(d),d.subtreeFlags&6&&(d.flags|=8192)):Or(d),null;case 24:return null;case 25:return null}throw Error(n(156,d.tag))}function w8(l,d){switch(Ug(d),d.tag){case 1:return ei(d.type)&&uf(),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return _u(),pn(Zr),pn(Nr),t0(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 5:return Zg(d),null;case 13:if(pn(En),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(n(340));vu()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return pn(En),null;case 4:return _u(),null;case 10:return Kg(d.type._context),null;case 22:case 23:return A0(),null;case 24:return null;default:return null}}var Nf=!1,Rr=!1,_8=typeof WeakSet=="function"?WeakSet:Set,et=null;function Cu(l,d){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(x){In(l,d,x)}else m.current=null}function w0(l,d,m){try{m()}catch(x){In(l,d,x)}}var S2=!1;function S8(l,d){if(Ag=Va,l=re(),ne(l)){if("selectionStart"in l)var m={start:l.selectionStart,end:l.selectionEnd};else e:{m=(m=l.ownerDocument)&&m.defaultView||window;var x=m.getSelection&&m.getSelection();if(x&&x.rangeCount!==0){m=x.anchorNode;var _=x.anchorOffset,j=x.focusNode;x=x.focusOffset;try{m.nodeType,j.nodeType}catch{m=null;break e}var L=0,K=-1,ee=-1,_e=0,Ae=0,Ie=l,Oe=null;t:for(;;){for(var Xe;Ie!==m||_!==0&&Ie.nodeType!==3||(K=L+_),Ie!==j||x!==0&&Ie.nodeType!==3||(ee=L+x),Ie.nodeType===3&&(L+=Ie.nodeValue.length),(Xe=Ie.firstChild)!==null;)Oe=Ie,Ie=Xe;for(;;){if(Ie===l)break t;if(Oe===m&&++_e===_&&(K=L),Oe===j&&++Ae===x&&(ee=L),(Xe=Ie.nextSibling)!==null)break;Ie=Oe,Oe=Ie.parentNode}Ie=Xe}m=K===-1||ee===-1?null:{start:K,end:ee}}else m=null}m=m||{start:0,end:0}}else m=null;for(Ig={focusedElem:l,selectionRange:m},Va=!1,et=d;et!==null;)if(d=et,l=d.child,(d.subtreeFlags&1028)!==0&&l!==null)l.return=d,et=l;else for(;et!==null;){d=et;try{var it=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(it!==null){var ot=it.memoizedProps,$n=it.memoizedState,ge=d.stateNode,de=ge.getSnapshotBeforeUpdate(d.elementType===d.type?ot:ds(d.type,ot),$n);ge.__reactInternalSnapshotBeforeUpdate=de}break;case 3:var ve=d.stateNode.containerInfo;ve.nodeType===1?ve.textContent="":ve.nodeType===9&&ve.documentElement&&ve.removeChild(ve.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Be){In(d,d.return,Be)}if(l=d.sibling,l!==null){l.return=d.return,et=l;break}et=d.return}return it=S2,S2=!1,it}function nd(l,d,m){var x=d.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var _=x=x.next;do{if((_.tag&l)===l){var j=_.destroy;_.destroy=void 0,j!==void 0&&w0(d,m,j)}_=_.next}while(_!==x)}}function Pf(l,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&l)===l){var x=m.create;m.destroy=x()}m=m.next}while(m!==d)}}function _0(l){var d=l.ref;if(d!==null){var m=l.stateNode;switch(l.tag){case 5:l=m;break;default:l=m}typeof d=="function"?d(l):d.current=l}}function C2(l){var d=l.alternate;d!==null&&(l.alternate=null,C2(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&(delete d[Ms],delete d[Wc],delete d[Fg],delete d[s8],delete d[o8])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function k2(l){return l.tag===5||l.tag===3||l.tag===4}function E2(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||k2(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function S0(l,d,m){var x=l.tag;if(x===5||x===6)l=l.stateNode,d?m.nodeType===8?m.parentNode.insertBefore(l,d):m.insertBefore(l,d):(m.nodeType===8?(d=m.parentNode,d.insertBefore(l,m)):(d=m,d.appendChild(l)),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=af));else if(x!==4&&(l=l.child,l!==null))for(S0(l,d,m),l=l.sibling;l!==null;)S0(l,d,m),l=l.sibling}function C0(l,d,m){var x=l.tag;if(x===5||x===6)l=l.stateNode,d?m.insertBefore(l,d):m.appendChild(l);else if(x!==4&&(l=l.child,l!==null))for(C0(l,d,m),l=l.sibling;l!==null;)C0(l,d,m),l=l.sibling}var wr=null,hs=!1;function ia(l,d,m){for(m=m.child;m!==null;)j2(l,d,m),m=m.sibling}function j2(l,d,m){if(qn&&typeof qn.onCommitFiberUnmount=="function")try{qn.onCommitFiberUnmount(Ai,m)}catch{}switch(m.tag){case 5:Rr||Cu(m,d);case 6:var x=wr,_=hs;wr=null,ia(l,d,m),wr=x,hs=_,wr!==null&&(hs?(l=wr,m=m.stateNode,l.nodeType===8?l.parentNode.removeChild(m):l.removeChild(m)):wr.removeChild(m.stateNode));break;case 18:wr!==null&&(hs?(l=wr,m=m.stateNode,l.nodeType===8?Mg(l.parentNode,m):l.nodeType===1&&Mg(l,m),is(l)):Mg(wr,m.stateNode));break;case 4:x=wr,_=hs,wr=m.stateNode.containerInfo,hs=!0,ia(l,d,m),wr=x,hs=_;break;case 0:case 11:case 14:case 15:if(!Rr&&(x=m.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){_=x=x.next;do{var j=_,L=j.destroy;j=j.tag,L!==void 0&&((j&2)!==0||(j&4)!==0)&&w0(m,d,L),_=_.next}while(_!==x)}ia(l,d,m);break;case 1:if(!Rr&&(Cu(m,d),x=m.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=m.memoizedProps,x.state=m.memoizedState,x.componentWillUnmount()}catch(K){In(m,d,K)}ia(l,d,m);break;case 21:ia(l,d,m);break;case 22:m.mode&1?(Rr=(x=Rr)||m.memoizedState!==null,ia(l,d,m),Rr=x):ia(l,d,m);break;default:ia(l,d,m)}}function T2(l){var d=l.updateQueue;if(d!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new _8),d.forEach(function(x){var _=R8.bind(null,l,x);m.has(x)||(m.add(x),x.then(_,_))})}}function fs(l,d){var m=d.deletions;if(m!==null)for(var x=0;x<m.length;x++){var _=m[x];try{var j=l,L=d,K=L;e:for(;K!==null;){switch(K.tag){case 5:wr=K.stateNode,hs=!1;break e;case 3:wr=K.stateNode.containerInfo,hs=!0;break e;case 4:wr=K.stateNode.containerInfo,hs=!0;break e}K=K.return}if(wr===null)throw Error(n(160));j2(j,L,_),wr=null,hs=!1;var ee=_.alternate;ee!==null&&(ee.return=null),_.return=null}catch(_e){In(_,d,_e)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)N2(d,l),d=d.sibling}function N2(l,d){var m=l.alternate,x=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(fs(d,l),zs(l),x&4){try{nd(3,l,l.return),Pf(3,l)}catch(ot){In(l,l.return,ot)}try{nd(5,l,l.return)}catch(ot){In(l,l.return,ot)}}break;case 1:fs(d,l),zs(l),x&512&&m!==null&&Cu(m,m.return);break;case 5:if(fs(d,l),zs(l),x&512&&m!==null&&Cu(m,m.return),l.flags&32){var _=l.stateNode;try{Ot(_,"")}catch(ot){In(l,l.return,ot)}}if(x&4&&(_=l.stateNode,_!=null)){var j=l.memoizedProps,L=m!==null?m.memoizedProps:j,K=l.type,ee=l.updateQueue;if(l.updateQueue=null,ee!==null)try{K==="input"&&j.type==="radio"&&j.name!=null&&$r(_,j),er(K,L);var _e=er(K,j);for(L=0;L<ee.length;L+=2){var Ae=ee[L],Ie=ee[L+1];Ae==="style"?On(_,Ie):Ae==="dangerouslySetInnerHTML"?ft(_,Ie):Ae==="children"?Ot(_,Ie):A(_,Ae,Ie,_e)}switch(K){case"input":js(_,j);break;case"textarea":Ur(_,j);break;case"select":var Oe=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!j.multiple;var Xe=j.value;Xe!=null?Bn(_,!!j.multiple,Xe,!1):Oe!==!!j.multiple&&(j.defaultValue!=null?Bn(_,!!j.multiple,j.defaultValue,!0):Bn(_,!!j.multiple,j.multiple?[]:"",!1))}_[Wc]=j}catch(ot){In(l,l.return,ot)}}break;case 6:if(fs(d,l),zs(l),x&4){if(l.stateNode===null)throw Error(n(162));_=l.stateNode,j=l.memoizedProps;try{_.nodeValue=j}catch(ot){In(l,l.return,ot)}}break;case 3:if(fs(d,l),zs(l),x&4&&m!==null&&m.memoizedState.isDehydrated)try{is(d.containerInfo)}catch(ot){In(l,l.return,ot)}break;case 4:fs(d,l),zs(l);break;case 13:fs(d,l),zs(l),_=l.child,_.flags&8192&&(j=_.memoizedState!==null,_.stateNode.isHidden=j,!j||_.alternate!==null&&_.alternate.memoizedState!==null||(j0=At())),x&4&&T2(l);break;case 22:if(Ae=m!==null&&m.memoizedState!==null,l.mode&1?(Rr=(_e=Rr)||Ae,fs(d,l),Rr=_e):fs(d,l),zs(l),x&8192){if(_e=l.memoizedState!==null,(l.stateNode.isHidden=_e)&&!Ae&&(l.mode&1)!==0)for(et=l,Ae=l.child;Ae!==null;){for(Ie=et=Ae;et!==null;){switch(Oe=et,Xe=Oe.child,Oe.tag){case 0:case 11:case 14:case 15:nd(4,Oe,Oe.return);break;case 1:Cu(Oe,Oe.return);var it=Oe.stateNode;if(typeof it.componentWillUnmount=="function"){x=Oe,m=Oe.return;try{d=x,it.props=d.memoizedProps,it.state=d.memoizedState,it.componentWillUnmount()}catch(ot){In(x,m,ot)}}break;case 5:Cu(Oe,Oe.return);break;case 22:if(Oe.memoizedState!==null){R2(Ie);continue}}Xe!==null?(Xe.return=Oe,et=Xe):R2(Ie)}Ae=Ae.sibling}e:for(Ae=null,Ie=l;;){if(Ie.tag===5){if(Ae===null){Ae=Ie;try{_=Ie.stateNode,_e?(j=_.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(K=Ie.stateNode,ee=Ie.memoizedProps.style,L=ee!=null&&ee.hasOwnProperty("display")?ee.display:null,K.style.display=Xn("display",L))}catch(ot){In(l,l.return,ot)}}}else if(Ie.tag===6){if(Ae===null)try{Ie.stateNode.nodeValue=_e?"":Ie.memoizedProps}catch(ot){In(l,l.return,ot)}}else if((Ie.tag!==22&&Ie.tag!==23||Ie.memoizedState===null||Ie===l)&&Ie.child!==null){Ie.child.return=Ie,Ie=Ie.child;continue}if(Ie===l)break e;for(;Ie.sibling===null;){if(Ie.return===null||Ie.return===l)break e;Ae===Ie&&(Ae=null),Ie=Ie.return}Ae===Ie&&(Ae=null),Ie.sibling.return=Ie.return,Ie=Ie.sibling}}break;case 19:fs(d,l),zs(l),x&4&&T2(l);break;case 21:break;default:fs(d,l),zs(l)}}function zs(l){var d=l.flags;if(d&2){try{e:{for(var m=l.return;m!==null;){if(k2(m)){var x=m;break e}m=m.return}throw Error(n(160))}switch(x.tag){case 5:var _=x.stateNode;x.flags&32&&(Ot(_,""),x.flags&=-33);var j=E2(l);C0(l,j,_);break;case 3:case 4:var L=x.stateNode.containerInfo,K=E2(l);S0(l,K,L);break;default:throw Error(n(161))}}catch(ee){In(l,l.return,ee)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function C8(l,d,m){et=l,P2(l)}function P2(l,d,m){for(var x=(l.mode&1)!==0;et!==null;){var _=et,j=_.child;if(_.tag===22&&x){var L=_.memoizedState!==null||Nf;if(!L){var K=_.alternate,ee=K!==null&&K.memoizedState!==null||Rr;K=Nf;var _e=Rr;if(Nf=L,(Rr=ee)&&!_e)for(et=_;et!==null;)L=et,ee=L.child,L.tag===22&&L.memoizedState!==null?A2(_):ee!==null?(ee.return=L,et=ee):A2(_);for(;j!==null;)et=j,P2(j),j=j.sibling;et=_,Nf=K,Rr=_e}O2(l)}else(_.subtreeFlags&8772)!==0&&j!==null?(j.return=_,et=j):O2(l)}}function O2(l){for(;et!==null;){var d=et;if((d.flags&8772)!==0){var m=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:Rr||Pf(5,d);break;case 1:var x=d.stateNode;if(d.flags&4&&!Rr)if(m===null)x.componentDidMount();else{var _=d.elementType===d.type?m.memoizedProps:ds(d.type,m.memoizedProps);x.componentDidUpdate(_,m.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var j=d.updateQueue;j!==null&&Rb(d,j,x);break;case 3:var L=d.updateQueue;if(L!==null){if(m=null,d.child!==null)switch(d.child.tag){case 5:m=d.child.stateNode;break;case 1:m=d.child.stateNode}Rb(d,L,m)}break;case 5:var K=d.stateNode;if(m===null&&d.flags&4){m=K;var ee=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":ee.autoFocus&&m.focus();break;case"img":ee.src&&(m.src=ee.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var _e=d.alternate;if(_e!==null){var Ae=_e.memoizedState;if(Ae!==null){var Ie=Ae.dehydrated;Ie!==null&&is(Ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Rr||d.flags&512&&_0(d)}catch(Oe){In(d,d.return,Oe)}}if(d===l){et=null;break}if(m=d.sibling,m!==null){m.return=d.return,et=m;break}et=d.return}}function R2(l){for(;et!==null;){var d=et;if(d===l){et=null;break}var m=d.sibling;if(m!==null){m.return=d.return,et=m;break}et=d.return}}function A2(l){for(;et!==null;){var d=et;try{switch(d.tag){case 0:case 11:case 15:var m=d.return;try{Pf(4,d)}catch(ee){In(d,m,ee)}break;case 1:var x=d.stateNode;if(typeof x.componentDidMount=="function"){var _=d.return;try{x.componentDidMount()}catch(ee){In(d,_,ee)}}var j=d.return;try{_0(d)}catch(ee){In(d,j,ee)}break;case 5:var L=d.return;try{_0(d)}catch(ee){In(d,L,ee)}}}catch(ee){In(d,d.return,ee)}if(d===l){et=null;break}var K=d.sibling;if(K!==null){K.return=d.return,et=K;break}et=d.return}}var k8=Math.ceil,Of=$.ReactCurrentDispatcher,k0=$.ReactCurrentOwner,zi=$.ReactCurrentBatchConfig,Kt=0,gr=null,Qn=null,_r=0,bi=0,ku=Zo(0),ir=0,rd=null,il=0,Rf=0,E0=0,id=null,ni=null,j0=0,Eu=1/0,mo=null,Af=!1,T0=null,sa=null,If=!1,oa=null,Lf=0,sd=0,N0=null,Df=-1,Mf=0;function Kr(){return(Kt&6)!==0?At():Df!==-1?Df:Df=At()}function aa(l){return(l.mode&1)===0?1:(Kt&2)!==0&&_r!==0?_r&-_r:l8.transition!==null?(Mf===0&&(Mf=Zs()),Mf):(l=qt,l!==0||(l=window.event,l=l===void 0?16:qa(l.type)),l)}function ps(l,d,m,x){if(50<sd)throw sd=0,N0=null,Error(n(185));eo(l,m,x),((Kt&2)===0||l!==gr)&&(l===gr&&((Kt&2)===0&&(Rf|=m),ir===4&&la(l,_r)),ri(l,x),m===1&&Kt===0&&(d.mode&1)===0&&(Eu=At()+500,df&&ta()))}function ri(l,d){var m=l.callbackNode;$a(l,d);var x=za(l,l===gr?_r:0);if(x===0)m!==null&&Rn(m),l.callbackNode=null,l.callbackPriority=0;else if(d=x&-x,l.callbackPriority!==d){if(m!=null&&Rn(m),d===1)l.tag===0?a8(L2.bind(null,l)):bb(L2.bind(null,l)),r8(function(){(Kt&6)===0&&ta()}),m=null;else{switch(Ec(x)){case 1:m=tr;break;case 4:m=dr;break;case 16:m=Ri;break;case 536870912:m=hr;break;default:m=Ri}m=H2(m,I2.bind(null,l))}l.callbackPriority=d,l.callbackNode=m}}function I2(l,d){if(Df=-1,Mf=0,(Kt&6)!==0)throw Error(n(327));var m=l.callbackNode;if(ju()&&l.callbackNode!==m)return null;var x=za(l,l===gr?_r:0);if(x===0)return null;if((x&30)!==0||(x&l.expiredLanes)!==0||d)d=Ff(l,x);else{d=x;var _=Kt;Kt|=2;var j=M2();(gr!==l||_r!==d)&&(mo=null,Eu=At()+500,ol(l,d));do try{T8();break}catch(K){D2(l,K)}while(!0);Qg(),Of.current=j,Kt=_,Qn!==null?d=0:(gr=null,_r=0,d=ir)}if(d!==0){if(d===2&&(_=Xs(l),_!==0&&(x=_,d=P0(l,_))),d===1)throw m=rd,ol(l,0),la(l,x),ri(l,At()),m;if(d===6)la(l,x);else{if(_=l.current.alternate,(x&30)===0&&!E8(_)&&(d=Ff(l,x),d===2&&(j=Xs(l),j!==0&&(x=j,d=P0(l,j))),d===1))throw m=rd,ol(l,0),la(l,x),ri(l,At()),m;switch(l.finishedWork=_,l.finishedLanes=x,d){case 0:case 1:throw Error(n(345));case 2:al(l,ni,mo);break;case 3:if(la(l,x),(x&130023424)===x&&(d=j0+500-At(),10<d)){if(za(l,0)!==0)break;if(_=l.suspendedLanes,(_&x)!==x){Kr(),l.pingedLanes|=l.suspendedLanes&_;break}l.timeoutHandle=Dg(al.bind(null,l,ni,mo),d);break}al(l,ni,mo);break;case 4:if(la(l,x),(x&4194240)===x)break;for(d=l.eventTimes,_=-1;0<x;){var L=31-rt(x);j=1<<L,L=d[L],L>_&&(_=L),x&=~j}if(x=_,x=At()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*k8(x/1960))-x,10<x){l.timeoutHandle=Dg(al.bind(null,l,ni,mo),x);break}al(l,ni,mo);break;case 5:al(l,ni,mo);break;default:throw Error(n(329))}}}return ri(l,At()),l.callbackNode===m?I2.bind(null,l):null}function P0(l,d){var m=id;return l.current.memoizedState.isDehydrated&&(ol(l,d).flags|=256),l=Ff(l,d),l!==2&&(d=ni,ni=m,d!==null&&O0(d)),l}function O0(l){ni===null?ni=l:ni.push.apply(ni,l)}function E8(l){for(var d=l;;){if(d.flags&16384){var m=d.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var x=0;x<m.length;x++){var _=m[x],j=_.getSnapshot;_=_.value;try{if(!he(j(),_))return!1}catch{return!1}}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function la(l,d){for(d&=~E0,d&=~Rf,l.suspendedLanes|=d,l.pingedLanes&=~d,l=l.expirationTimes;0<d;){var m=31-rt(d),x=1<<m;l[m]=-1,d&=~x}}function L2(l){if((Kt&6)!==0)throw Error(n(327));ju();var d=za(l,0);if((d&1)===0)return ri(l,At()),null;var m=Ff(l,d);if(l.tag!==0&&m===2){var x=Xs(l);x!==0&&(d=x,m=P0(l,x))}if(m===1)throw m=rd,ol(l,0),la(l,d),ri(l,At()),m;if(m===6)throw Error(n(345));return l.finishedWork=l.current.alternate,l.finishedLanes=d,al(l,ni,mo),ri(l,At()),null}function R0(l,d){var m=Kt;Kt|=1;try{return l(d)}finally{Kt=m,Kt===0&&(Eu=At()+500,df&&ta())}}function sl(l){oa!==null&&oa.tag===0&&(Kt&6)===0&&ju();var d=Kt;Kt|=1;var m=zi.transition,x=qt;try{if(zi.transition=null,qt=1,l)return l()}finally{qt=x,zi.transition=m,Kt=d,(Kt&6)===0&&ta()}}function A0(){bi=ku.current,pn(ku)}function ol(l,d){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==-1&&(l.timeoutHandle=-1,n8(m)),Qn!==null)for(m=Qn.return;m!==null;){var x=m;switch(Ug(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&uf();break;case 3:_u(),pn(Zr),pn(Nr),t0();break;case 5:Zg(x);break;case 4:_u();break;case 13:pn(En);break;case 19:pn(En);break;case 10:Kg(x.type._context);break;case 22:case 23:A0()}m=m.return}if(gr=l,Qn=l=ua(l.current,null),_r=bi=d,ir=0,rd=null,E0=Rf=il=0,ni=id=null,tl!==null){for(d=0;d<tl.length;d++)if(m=tl[d],x=m.interleaved,x!==null){m.interleaved=null;var _=x.next,j=m.pending;if(j!==null){var L=j.next;j.next=_,x.next=L}m.pending=x}tl=null}return l}function D2(l,d){do{var m=Qn;try{if(Qg(),wf.current=kf,_f){for(var x=jn.memoizedState;x!==null;){var _=x.queue;_!==null&&(_.pending=null),x=x.next}_f=!1}if(rl=0,mr=rr=jn=null,Jc=!1,Xc=0,k0.current=null,m===null||m.return===null){ir=1,rd=d,Qn=null;break}e:{var j=l,L=m.return,K=m,ee=d;if(d=_r,K.flags|=32768,ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var _e=ee,Ae=K,Ie=Ae.tag;if((Ae.mode&1)===0&&(Ie===0||Ie===11||Ie===15)){var Oe=Ae.alternate;Oe?(Ae.updateQueue=Oe.updateQueue,Ae.memoizedState=Oe.memoizedState,Ae.lanes=Oe.lanes):(Ae.updateQueue=null,Ae.memoizedState=null)}var Xe=a2(L);if(Xe!==null){Xe.flags&=-257,l2(Xe,L,K,j,d),Xe.mode&1&&o2(j,_e,d),d=Xe,ee=_e;var it=d.updateQueue;if(it===null){var ot=new Set;ot.add(ee),d.updateQueue=ot}else it.add(ee);break e}else{if((d&1)===0){o2(j,_e,d),I0();break e}ee=Error(n(426))}}else if(xn&&K.mode&1){var $n=a2(L);if($n!==null){($n.flags&65536)===0&&($n.flags|=256),l2($n,L,K,j,d),Wg(Su(ee,K));break e}}j=ee=Su(ee,K),ir!==4&&(ir=2),id===null?id=[j]:id.push(j),j=L;do{switch(j.tag){case 3:j.flags|=65536,d&=-d,j.lanes|=d;var ge=i2(j,ee,d);Ob(j,ge);break e;case 1:K=ee;var de=j.type,ve=j.stateNode;if((j.flags&128)===0&&(typeof de.getDerivedStateFromError=="function"||ve!==null&&typeof ve.componentDidCatch=="function"&&(sa===null||!sa.has(ve)))){j.flags|=65536,d&=-d,j.lanes|=d;var Be=s2(j,K,d);Ob(j,Be);break e}}j=j.return}while(j!==null)}B2(m)}catch(lt){d=lt,Qn===m&&m!==null&&(Qn=m=m.return);continue}break}while(!0)}function M2(){var l=Of.current;return Of.current=kf,l===null?kf:l}function I0(){(ir===0||ir===3||ir===2)&&(ir=4),gr===null||(il&268435455)===0&&(Rf&268435455)===0||la(gr,_r)}function Ff(l,d){var m=Kt;Kt|=2;var x=M2();(gr!==l||_r!==d)&&(mo=null,ol(l,d));do try{j8();break}catch(_){D2(l,_)}while(!0);if(Qg(),Kt=m,Of.current=x,Qn!==null)throw Error(n(261));return gr=null,_r=0,ir}function j8(){for(;Qn!==null;)F2(Qn)}function T8(){for(;Qn!==null&&!pt();)F2(Qn)}function F2(l){var d=U2(l.alternate,l,bi);l.memoizedProps=l.pendingProps,d===null?B2(l):Qn=d,k0.current=null}function B2(l){var d=l;do{var m=d.alternate;if(l=d.return,(d.flags&32768)===0){if(m=b8(m,d,bi),m!==null){Qn=m;return}}else{if(m=w8(m,d),m!==null){m.flags&=32767,Qn=m;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{ir=6,Qn=null;return}}if(d=d.sibling,d!==null){Qn=d;return}Qn=d=l}while(d!==null);ir===0&&(ir=5)}function al(l,d,m){var x=qt,_=zi.transition;try{zi.transition=null,qt=1,N8(l,d,m,x)}finally{zi.transition=_,qt=x}return null}function N8(l,d,m,x){do ju();while(oa!==null);if((Kt&6)!==0)throw Error(n(327));m=l.finishedWork;var _=l.finishedLanes;if(m===null)return null;if(l.finishedWork=null,l.finishedLanes=0,m===l.current)throw Error(n(177));l.callbackNode=null,l.callbackPriority=0;var j=m.lanes|m.childLanes;if(Jl(l,j),l===gr&&(Qn=gr=null,_r=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||If||(If=!0,H2(Ri,function(){return ju(),null})),j=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||j){j=zi.transition,zi.transition=null;var L=qt;qt=1;var K=Kt;Kt|=4,k0.current=null,S8(l,m),N2(m,l),ye(Ig),Va=!!Ag,Ig=Ag=null,l.current=m,C8(m),An(),Kt=K,qt=L,zi.transition=j}else l.current=m;if(If&&(If=!1,oa=l,Lf=_),j=l.pendingLanes,j===0&&(sa=null),Dt(m.stateNode),ri(l,At()),d!==null)for(x=l.onRecoverableError,m=0;m<d.length;m++)_=d[m],x(_.value,{componentStack:_.stack,digest:_.digest});if(Af)throw Af=!1,l=T0,T0=null,l;return(Lf&1)!==0&&l.tag!==0&&ju(),j=l.pendingLanes,(j&1)!==0?l===N0?sd++:(sd=0,N0=l):sd=0,ta(),null}function ju(){if(oa!==null){var l=Ec(Lf),d=zi.transition,m=qt;try{if(zi.transition=null,qt=16>l?16:l,oa===null)var x=!1;else{if(l=oa,oa=null,Lf=0,(Kt&6)!==0)throw Error(n(331));var _=Kt;for(Kt|=4,et=l.current;et!==null;){var j=et,L=j.child;if((et.flags&16)!==0){var K=j.deletions;if(K!==null){for(var ee=0;ee<K.length;ee++){var _e=K[ee];for(et=_e;et!==null;){var Ae=et;switch(Ae.tag){case 0:case 11:case 15:nd(8,Ae,j)}var Ie=Ae.child;if(Ie!==null)Ie.return=Ae,et=Ie;else for(;et!==null;){Ae=et;var Oe=Ae.sibling,Xe=Ae.return;if(C2(Ae),Ae===_e){et=null;break}if(Oe!==null){Oe.return=Xe,et=Oe;break}et=Xe}}}var it=j.alternate;if(it!==null){var ot=it.child;if(ot!==null){it.child=null;do{var $n=ot.sibling;ot.sibling=null,ot=$n}while(ot!==null)}}et=j}}if((j.subtreeFlags&2064)!==0&&L!==null)L.return=j,et=L;else e:for(;et!==null;){if(j=et,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:nd(9,j,j.return)}var ge=j.sibling;if(ge!==null){ge.return=j.return,et=ge;break e}et=j.return}}var de=l.current;for(et=de;et!==null;){L=et;var ve=L.child;if((L.subtreeFlags&2064)!==0&&ve!==null)ve.return=L,et=ve;else e:for(L=de;et!==null;){if(K=et,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:Pf(9,K)}}catch(lt){In(K,K.return,lt)}if(K===L){et=null;break e}var Be=K.sibling;if(Be!==null){Be.return=K.return,et=Be;break e}et=K.return}}if(Kt=_,ta(),qn&&typeof qn.onPostCommitFiberRoot=="function")try{qn.onPostCommitFiberRoot(Ai,l)}catch{}x=!0}return x}finally{qt=m,zi.transition=d}}return!1}function z2(l,d,m){d=Su(m,d),d=i2(l,d,1),l=ra(l,d,1),d=Kr(),l!==null&&(eo(l,1,d),ri(l,d))}function In(l,d,m){if(l.tag===3)z2(l,l,m);else for(;d!==null;){if(d.tag===3){z2(d,l,m);break}else if(d.tag===1){var x=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(sa===null||!sa.has(x))){l=Su(m,l),l=s2(d,l,1),d=ra(d,l,1),l=Kr(),d!==null&&(eo(d,1,l),ri(d,l));break}}d=d.return}}function P8(l,d,m){var x=l.pingCache;x!==null&&x.delete(d),d=Kr(),l.pingedLanes|=l.suspendedLanes&m,gr===l&&(_r&m)===m&&(ir===4||ir===3&&(_r&130023424)===_r&&500>At()-j0?ol(l,0):E0|=m),ri(l,d)}function $2(l,d){d===0&&((l.mode&1)===0?d=1:(d=Os,Os<<=1,(Os&130023424)===0&&(Os=4194304)));var m=Kr();l=ho(l,d),l!==null&&(eo(l,d,m),ri(l,m))}function O8(l){var d=l.memoizedState,m=0;d!==null&&(m=d.retryLane),$2(l,m)}function R8(l,d){var m=0;switch(l.tag){case 13:var x=l.stateNode,_=l.memoizedState;_!==null&&(m=_.retryLane);break;case 19:x=l.stateNode;break;default:throw Error(n(314))}x!==null&&x.delete(d),$2(l,m)}var U2;U2=function(l,d,m){if(l!==null)if(l.memoizedProps!==d.pendingProps||Zr.current)ti=!0;else{if((l.lanes&m)===0&&(d.flags&128)===0)return ti=!1,x8(l,d,m);ti=(l.flags&131072)!==0}else ti=!1,xn&&(d.flags&1048576)!==0&&wb(d,ff,d.index);switch(d.lanes=0,d.tag){case 2:var x=d.type;Tf(l,d),l=d.pendingProps;var _=mu(d,Nr.current);wu(d,m),_=i0(null,d,x,l,_,m);var j=s0();return d.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,ei(x)?(j=!0,cf(d)):j=!1,d.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,Jg(d),_.updater=Ef,d.stateNode=_,_._reactInternals=d,d0(d,x,l,m),d=m0(null,d,x,!0,j,m)):(d.tag=0,xn&&j&&$g(d),Qr(null,d,_,m),d=d.child),d;case 16:x=d.elementType;e:{switch(Tf(l,d),l=d.pendingProps,_=x._init,x=_(x._payload),d.type=x,_=d.tag=I8(x),l=ds(x,l),_){case 0:d=p0(null,d,x,l,m);break e;case 1:d=p2(null,d,x,l,m);break e;case 11:d=u2(null,d,x,l,m);break e;case 14:d=c2(null,d,x,ds(x.type,l),m);break e}throw Error(n(306,x,""))}return d;case 0:return x=d.type,_=d.pendingProps,_=d.elementType===x?_:ds(x,_),p0(l,d,x,_,m);case 1:return x=d.type,_=d.pendingProps,_=d.elementType===x?_:ds(x,_),p2(l,d,x,_,m);case 3:e:{if(m2(d),l===null)throw Error(n(387));x=d.pendingProps,j=d.memoizedState,_=j.element,Pb(l,d),xf(d,x,null,m);var L=d.memoizedState;if(x=L.element,j.isDehydrated)if(j={element:x,isDehydrated:!1,cache:L.cache,pendingSuspenseBoundaries:L.pendingSuspenseBoundaries,transitions:L.transitions},d.updateQueue.baseState=j,d.memoizedState=j,d.flags&256){_=Su(Error(n(423)),d),d=g2(l,d,x,m,_);break e}else if(x!==_){_=Su(Error(n(424)),d),d=g2(l,d,x,m,_);break e}else for(xi=Xo(d.stateNode.containerInfo.firstChild),vi=d,xn=!0,cs=null,m=Tb(d,null,x,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(vu(),x===_){d=po(l,d,m);break e}Qr(l,d,x,m)}d=d.child}return d;case 5:return Ab(d),l===null&&Vg(d),x=d.type,_=d.pendingProps,j=l!==null?l.memoizedProps:null,L=_.children,Lg(x,_)?L=null:j!==null&&Lg(x,j)&&(d.flags|=32),f2(l,d),Qr(l,d,L,m),d.child;case 6:return l===null&&Vg(d),null;case 13:return y2(l,d,m);case 4:return Xg(d,d.stateNode.containerInfo),x=d.pendingProps,l===null?d.child=xu(d,null,x,m):Qr(l,d,x,m),d.child;case 11:return x=d.type,_=d.pendingProps,_=d.elementType===x?_:ds(x,_),u2(l,d,x,_,m);case 7:return Qr(l,d,d.pendingProps,m),d.child;case 8:return Qr(l,d,d.pendingProps.children,m),d.child;case 12:return Qr(l,d,d.pendingProps.children,m),d.child;case 10:e:{if(x=d.type._context,_=d.pendingProps,j=d.memoizedProps,L=_.value,ln(gf,x._currentValue),x._currentValue=L,j!==null)if(he(j.value,L)){if(j.children===_.children&&!Zr.current){d=po(l,d,m);break e}}else for(j=d.child,j!==null&&(j.return=d);j!==null;){var K=j.dependencies;if(K!==null){L=j.child;for(var ee=K.firstContext;ee!==null;){if(ee.context===x){if(j.tag===1){ee=fo(-1,m&-m),ee.tag=2;var _e=j.updateQueue;if(_e!==null){_e=_e.shared;var Ae=_e.pending;Ae===null?ee.next=ee:(ee.next=Ae.next,Ae.next=ee),_e.pending=ee}}j.lanes|=m,ee=j.alternate,ee!==null&&(ee.lanes|=m),Gg(j.return,m,d),K.lanes|=m;break}ee=ee.next}}else if(j.tag===10)L=j.type===d.type?null:j.child;else if(j.tag===18){if(L=j.return,L===null)throw Error(n(341));L.lanes|=m,K=L.alternate,K!==null&&(K.lanes|=m),Gg(L,m,d),L=j.sibling}else L=j.child;if(L!==null)L.return=j;else for(L=j;L!==null;){if(L===d){L=null;break}if(j=L.sibling,j!==null){j.return=L.return,L=j;break}L=L.return}j=L}Qr(l,d,_.children,m),d=d.child}return d;case 9:return _=d.type,x=d.pendingProps.children,wu(d,m),_=Fi(_),x=x(_),d.flags|=1,Qr(l,d,x,m),d.child;case 14:return x=d.type,_=ds(x,d.pendingProps),_=ds(x.type,_),c2(l,d,x,_,m);case 15:return d2(l,d,d.type,d.pendingProps,m);case 17:return x=d.type,_=d.pendingProps,_=d.elementType===x?_:ds(x,_),Tf(l,d),d.tag=1,ei(x)?(l=!0,cf(d)):l=!1,wu(d,m),n2(d,x,_),d0(d,x,_,m),m0(null,d,x,!0,l,m);case 19:return x2(l,d,m);case 22:return h2(l,d,m)}throw Error(n(156,d.tag))};function H2(l,d){return yn(l,d)}function A8(l,d,m,x){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $i(l,d,m,x){return new A8(l,d,m,x)}function L0(l){return l=l.prototype,!(!l||!l.isReactComponent)}function I8(l){if(typeof l=="function")return L0(l)?1:0;if(l!=null){if(l=l.$$typeof,l===oe)return 11;if(l===H)return 14}return 2}function ua(l,d){var m=l.alternate;return m===null?(m=$i(l.tag,d,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=d,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&14680064,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,d=l.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function Bf(l,d,m,x,_,j){var L=2;if(x=l,typeof l=="function")L0(l)&&(L=1);else if(typeof l=="string")L=5;else e:switch(l){case R:return ll(m.children,_,j,d);case z:L=8,_|=8;break;case q:return l=$i(12,m,d,_|2),l.elementType=q,l.lanes=j,l;case xe:return l=$i(13,m,d,_),l.elementType=xe,l.lanes=j,l;case Y:return l=$i(19,m,d,_),l.elementType=Y,l.lanes=j,l;case se:return zf(m,_,j,d);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case B:L=10;break e;case ae:L=9;break e;case oe:L=11;break e;case H:L=14;break e;case J:L=16,x=null;break e}throw Error(n(130,l==null?l:typeof l,""))}return d=$i(L,m,d,_),d.elementType=l,d.type=x,d.lanes=j,d}function ll(l,d,m,x){return l=$i(7,l,x,d),l.lanes=m,l}function zf(l,d,m,x){return l=$i(22,l,x,d),l.elementType=se,l.lanes=m,l.stateNode={isHidden:!1},l}function D0(l,d,m){return l=$i(6,l,null,d),l.lanes=m,l}function M0(l,d,m){return d=$i(4,l.children!==null?l.children:[],l.key,d),d.lanes=m,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}function L8(l,d,m,x,_){this.tag=d,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ua(0),this.expirationTimes=Ua(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ua(0),this.identifierPrefix=x,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function F0(l,d,m,x,_,j,L,K,ee){return l=new L8(l,d,m,K,ee),d===1?(d=1,j===!0&&(d|=8)):d=0,j=$i(3,null,null,d),l.current=j,j.stateNode=l,j.memoizedState={element:x,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jg(j),l}function D8(l,d,m){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:x==null?null:""+x,children:l,containerInfo:d,implementation:m}}function V2(l){if(!l)return ea;l=l._reactInternals;e:{if(Je(l)!==l||l.tag!==1)throw Error(n(170));var d=l;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(ei(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(n(171))}if(l.tag===1){var m=l.type;if(ei(m))return vb(l,m,d)}return d}function W2(l,d,m,x,_,j,L,K,ee){return l=F0(m,x,!0,l,_,j,L,K,ee),l.context=V2(null),m=l.current,x=Kr(),_=aa(m),j=fo(x,_),j.callback=d??null,ra(m,j,_),l.current.lanes=_,eo(l,_,x),ri(l,x),l}function $f(l,d,m,x){var _=d.current,j=Kr(),L=aa(_);return m=V2(m),d.context===null?d.context=m:d.pendingContext=m,d=fo(j,L),d.payload={element:l},x=x===void 0?null:x,x!==null&&(d.callback=x),l=ra(_,d,L),l!==null&&(ps(l,_,L,j),vf(l,_,L)),L}function Uf(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function q2(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<d?m:d}}function B0(l,d){q2(l,d),(l=l.alternate)&&q2(l,d)}function M8(){return null}var Q2=typeof reportError=="function"?reportError:function(l){console.error(l)};function z0(l){this._internalRoot=l}Hf.prototype.render=z0.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(n(409));$f(l,d,null,null)},Hf.prototype.unmount=z0.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;sl(function(){$f(null,l,null,null)}),d[ao]=null}};function Hf(l){this._internalRoot=l}Hf.prototype.unstable_scheduleHydration=function(l){if(l){var d=Uh();l={blockedOn:null,target:l,priority:d};for(var m=0;m<nr.length&&d!==0&&d<nr[m].priority;m++);nr.splice(m,0,l),m===0&&Vh(l)}};function $0(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function Vf(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function K2(){}function F8(l,d,m,x,_){if(_){if(typeof x=="function"){var j=x;x=function(){var _e=Uf(L);j.call(_e)}}var L=W2(d,x,l,0,null,!1,!1,"",K2);return l._reactRootContainer=L,l[ao]=L.current,Hc(l.nodeType===8?l.parentNode:l),sl(),L}for(;_=l.lastChild;)l.removeChild(_);if(typeof x=="function"){var K=x;x=function(){var _e=Uf(ee);K.call(_e)}}var ee=F0(l,0,!1,null,null,!1,!1,"",K2);return l._reactRootContainer=ee,l[ao]=ee.current,Hc(l.nodeType===8?l.parentNode:l),sl(function(){$f(d,ee,m,x)}),ee}function Wf(l,d,m,x,_){var j=m._reactRootContainer;if(j){var L=j;if(typeof _=="function"){var K=_;_=function(){var ee=Uf(L);K.call(ee)}}$f(d,L,l,_)}else L=F8(m,d,l,_,x);return Uf(L)}$h=function(l){switch(l.tag){case 3:var d=l.stateNode;if(d.current.memoizedState.isDehydrated){var m=Rs(d.pendingLanes);m!==0&&(Xl(d,m|1),ri(d,At()),(Kt&6)===0&&(Eu=At()+500,ta()))}break;case 13:sl(function(){var x=ho(l,1);if(x!==null){var _=Kr();ps(x,l,1,_)}}),B0(l,1)}},Ht=function(l){if(l.tag===13){var d=ho(l,134217728);if(d!==null){var m=Kr();ps(d,l,134217728,m)}B0(l,134217728)}},jc=function(l){if(l.tag===13){var d=aa(l),m=ho(l,d);if(m!==null){var x=Kr();ps(m,l,d,x)}B0(l,d)}},Uh=function(){return qt},Hh=function(l,d){var m=qt;try{return qt=l,d()}finally{qt=m}},He=function(l,d,m){switch(d){case"input":if(js(l,m),d=m.name,m.type==="radio"&&d!=null){for(m=l;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<m.length;d++){var x=m[d];if(x!==l&&x.form===l.form){var _=lf(x);if(!_)throw Error(n(90));ht(x),js(x,_)}}}break;case"textarea":Ur(l,m);break;case"select":d=m.value,d!=null&&Bn(l,!!m.multiple,d,!1)}},Ba=R0,Js=sl;var B8={usingClientEntryPoint:!1,Events:[qc,fu,lf,Fo,Bo,R0]},od={findFiberByHostInstance:Ja,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},z8={bundleType:od.bundleType,version:od.version,rendererPackageName:od.rendererPackageName,rendererConfig:od.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=Lt(l),l===null?null:l.stateNode},findFiberByHostInstance:od.findFiberByHostInstance||M8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qf.isDisabled&&qf.supportsFiber)try{Ai=qf.inject(z8),qn=qf}catch{}}return ii.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B8,ii.createPortal=function(l,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$0(d))throw Error(n(200));return D8(l,d,null,m)},ii.createRoot=function(l,d){if(!$0(l))throw Error(n(299));var m=!1,x="",_=Q2;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onRecoverableError!==void 0&&(_=d.onRecoverableError)),d=F0(l,1,!1,null,null,m,!1,x,_),l[ao]=d.current,Hc(l.nodeType===8?l.parentNode:l),new z0(d)},ii.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=Lt(d),l=l===null?null:l.stateNode,l},ii.flushSync=function(l){return sl(l)},ii.hydrate=function(l,d,m){if(!Vf(d))throw Error(n(200));return Wf(null,l,d,!0,m)},ii.hydrateRoot=function(l,d,m){if(!$0(l))throw Error(n(405));var x=m!=null&&m.hydratedSources||null,_=!1,j="",L=Q2;if(m!=null&&(m.unstable_strictMode===!0&&(_=!0),m.identifierPrefix!==void 0&&(j=m.identifierPrefix),m.onRecoverableError!==void 0&&(L=m.onRecoverableError)),d=W2(d,null,l,1,m??null,_,!1,j,L),l[ao]=d.current,Hc(l),x)for(l=0;l<x.length;l++)m=x[l],_=m._getVersion,_=_(m._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[m,_]:d.mutableSourceEagerHydrationData.push(m,_);return new Hf(d)},ii.render=function(l,d,m){if(!Vf(d))throw Error(n(200));return Wf(null,l,d,!1,m)},ii.unmountComponentAtNode=function(l){if(!Vf(l))throw Error(n(40));return l._reactRootContainer?(sl(function(){Wf(null,null,l,!1,function(){l._reactRootContainer=null,l[ao]=null})}),!0):!1},ii.unstable_batchedUpdates=R0,ii.unstable_renderSubtreeIntoContainer=function(l,d,m,x){if(!Vf(m))throw Error(n(200));if(l==null||l._reactInternals===void 0)throw Error(n(38));return Wf(l,d,m,!1,x)},ii.version="18.3.1-next-f1338f8080-20240426",ii}var nw;function r4(){if(nw)return V0.exports;nw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),V0.exports=K8(),V0.exports}var rw;function G8(){if(rw)return Qf;rw=1;var e=r4();return Qf.createRoot=e.createRoot,Qf.hydrateRoot=e.hydrateRoot,Qf}var Y8=G8();/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var i4=e=>{throw TypeError(e)},J8=(e,t,n)=>t.has(e)||i4("Cannot "+n),Q0=(e,t,n)=>(J8(e,t,"read from private field"),n?n.call(e):t.get(e)),X8=(e,t,n)=>t.has(e)?i4("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),iw="popstate";function Z8(e={}){function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return Kd("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Qs(i)}return t9(t,n,null,e)}function Ft(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Vn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function e9(){return Math.random().toString(36).substring(2,10)}function sw(e,t){return{usr:e.state,key:e.key,idx:t}}function Kd(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ra(t):t,state:n,key:t&&t.key||r||e9()}}function Qs({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ra(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function t9(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",u=null,c=f();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function f(){return(o.state||{idx:null}).idx}function p(){a="POP";let C=f(),E=C==null?null:C-c;c=C,u&&u({action:a,location:S.location,delta:E})}function g(C,E){a="PUSH";let P=Kd(S.location,C,E);c=f()+1;let A=sw(P,c),$=S.createHref(P);try{o.pushState(A,"",$)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;i.location.assign($)}s&&u&&u({action:a,location:S.location,delta:1})}function y(C,E){a="REPLACE";let P=Kd(S.location,C,E);c=f();let A=sw(P,c),$=S.createHref(P);o.replaceState(A,"",$),s&&u&&u({action:a,location:S.location,delta:0})}function w(C){return s4(C)}let S={get action(){return a},get location(){return e(i,o)},listen(C){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(iw,p),u=C,()=>{i.removeEventListener(iw,p),u=null}},createHref(C){return t(i,C)},createURL:w,encodeLocation(C){let E=w(C);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:g,replace:y,go(C){return o.go(C)}};return S}function s4(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ft(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Qs(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var jd,ow=class{constructor(e){if(X8(this,jd,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(Q0(this,jd).has(e))return Q0(this,jd).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){Q0(this,jd).set(e,t)}};jd=new WeakMap;var n9=new Set(["lazy","caseSensitive","path","id","index","children"]);function r9(e){return n9.has(e)}var i9=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function s9(e){return i9.has(e)}function o9(e){return e.index===!0}function Gd(e,t,n=[],r={},i=!1){return e.map((s,o)=>{let a=[...n,String(o)],u=typeof s.id=="string"?s.id:a.join("-");if(Ft(s.index!==!0||!s.children,"Cannot specify children on an index route"),Ft(i||!r[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),o9(s)){let c={...s,id:u};return r[u]=aw(c,t(c)),c}else{let c={...s,id:u,children:void 0};return r[u]=aw(c,t(c)),s.children&&(c.children=Gd(s.children,t,a,r,i)),c}})}function aw(e,t){return Object.assign(e,{...t,...typeof t.lazy=="object"&&t.lazy!=null?{lazy:{...e.lazy,...t.lazy}}:{}})}function pa(e,t,n="/"){return Td(e,t,n,!1)}function Td(e,t,n,r){let i=typeof t=="string"?Ra(t):t,s=Qi(i.pathname||"/",n);if(s==null)return null;let o=o4(e);l9(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=x9(s);a=y9(o[u],c,r)}return a}function a9(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],loaderData:t[n.id],handle:n.handle}}function o4(e,t=[],n=[],r="",i=!1){let s=(o,a,u=i,c)=>{let f={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&u)return;Ft(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let p=Vs([r,f.relativePath]),g=n.concat(f);o.children&&o.children.length>0&&(Ft(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),o4(o.children,t,g,p,u)),!(o.path==null&&!o.index)&&t.push({path:p,score:m9(p,o.index),routesMeta:g})};return e.forEach((o,a)=>{if(o.path===""||!o.path?.includes("?"))s(o,a);else for(let u of a4(o.path))s(o,a,!0,u)}),t}function a4(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=a4(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function l9(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:g9(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var u9=/^:[\w-]+$/,c9=3,d9=2,h9=1,f9=10,p9=-2,lw=e=>e==="*";function m9(e,t){let n=e.split("/"),r=n.length;return n.some(lw)&&(r+=p9),t&&(r+=d9),n.filter(i=>!lw(i)).reduce((i,s)=>i+(u9.test(s)?c9:s===""?h9:f9),r)}function g9(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function y9(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,f=s==="/"?t:t.slice(s.length)||"/",p=Zp({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),g=u.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=Zp({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Vs([s,p.pathname]),pathnameBase:_9(Vs([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=Vs([s,p.pathnameBase]))}return o}function Zp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=v9(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:f,isOptional:p},g)=>{if(f==="*"){let w=a[g]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const y=a[g];return p&&!y?c[f]=void 0:c[f]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:e}}function v9(e,t=!1,n=!0){Vn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function x9(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Vn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Qi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function b9({basename:e,pathname:t}){return t==="/"?e:Vs([e,t])}var l4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kv=e=>l4.test(e);function w9(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ra(e):e,s;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?s=uw(n.substring(1),"/"):s=uw(n,t)):s=t,{pathname:s,search:S9(r),hash:C9(i)}}function uw(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function K0(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function u4(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ev(e){let t=u4(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function jv(e,t,n,r=!1){let i;typeof e=="string"?i=Ra(e):(i={...e},Ft(!i.pathname||!i.pathname.includes("?"),K0("?","pathname","search",i)),Ft(!i.pathname||!i.pathname.includes("#"),K0("#","pathname","hash",i)),Ft(!i.search||!i.search.includes("#"),K0("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}a=p>=0?t[p]:"/"}let u=w9(i,a),c=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}var Vs=e=>e.join("/").replace(/\/\/+/g,"/"),_9=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),S9=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,C9=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,xh=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Yd(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function bh(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var c4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function d4(e,t){let n=e;if(typeof n!="string"||!l4.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(c4)try{let s=new URL(window.location.href),o=n.startsWith("//")?new URL(s.protocol+n):new URL(n),a=Qi(o.pathname,t);o.origin===s.origin&&a!=null?n=a+o.search+o.hash:i=!0}catch{Vn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}var ya=Symbol("Uninstrumented");function k9(e,t){let n={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};e.forEach(i=>i({id:t.id,index:t.index,path:t.path,instrument(s){let o=Object.keys(n);for(let a of o)s[a]&&n[a].push(s[a])}}));let r={};if(typeof t.lazy=="function"&&n.lazy.length>0){let i=Xu(n.lazy,t.lazy,()=>{});i&&(r.lazy=i)}if(typeof t.lazy=="object"){let i=t.lazy;["middleware","loader","action"].forEach(s=>{let o=i[s],a=n[`lazy.${s}`];if(typeof o=="function"&&a.length>0){let u=Xu(a,o,()=>{});u&&(r.lazy=Object.assign(r.lazy||{},{[s]:u}))}})}return["loader","action"].forEach(i=>{let s=t[i];if(typeof s=="function"&&n[i].length>0){let o=s[ya]??s,a=Xu(n[i],o,(...u)=>cw(u[0]));a&&(i==="loader"&&o.hydrate===!0&&(a.hydrate=!0),a[ya]=o,r[i]=a)}}),t.middleware&&t.middleware.length>0&&n.middleware.length>0&&(r.middleware=t.middleware.map(i=>{let s=i[ya]??i,o=Xu(n.middleware,s,(...a)=>cw(a[0]));return o?(o[ya]=s,o):i})),r}function E9(e,t){let n={navigate:[],fetch:[]};if(t.forEach(r=>r({instrument(i){let s=Object.keys(i);for(let o of s)i[o]&&n[o].push(i[o])}})),n.navigate.length>0){let r=e.navigate[ya]??e.navigate,i=Xu(n.navigate,r,(...s)=>{let[o,a]=s;return{to:typeof o=="number"||typeof o=="string"?o:o?Qs(o):".",...dw(e,a??{})}});i&&(i[ya]=r,e.navigate=i)}if(n.fetch.length>0){let r=e.fetch[ya]??e.fetch,i=Xu(n.fetch,r,(...s)=>{let[o,,a,u]=s;return{href:a??".",fetcherKey:o,...dw(e,u??{})}});i&&(i[ya]=r,e.fetch=i)}return e}function Xu(e,t,n){return e.length===0?null:async(...r)=>{let i=await h4(e,n(...r),()=>t(...r),e.length-1);if(i.type==="error")throw i.value;return i.value}}async function h4(e,t,n,r){let i=e[r],s;if(i){let o,a=async()=>(o?console.error("You cannot call instrumented handlers more than once"):o=h4(e,t,n,r-1),s=await o,Ft(s,"Expected a result"),s.type==="error"&&s.value instanceof Error?{status:"error",error:s.value}:{status:"success",error:void 0});try{await i(a,t)}catch(u){console.error("An instrumentation function threw an error:",u)}o||await a(),await o}else try{s={type:"success",value:await n()}}catch(o){s={type:"error",value:o}}return s||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function cw(e){let{request:t,context:n,params:r,unstable_pattern:i}=e;return{request:j9(t),params:{...r},unstable_pattern:i,context:T9(n)}}function dw(e,t){return{currentUrl:Qs(e.state.location),..."formMethod"in t?{formMethod:t.formMethod}:{},..."formEncType"in t?{formEncType:t.formEncType}:{},..."formData"in t?{formData:t.formData}:{},..."body"in t?{body:t.body}:{}}}function j9(e){return{method:e.method,url:e.url,headers:{get:(...t)=>e.headers.get(...t)}}}function T9(e){if(P9(e)){let t={...e};return Object.freeze(t),t}else return{get:t=>e.get(t)}}var N9=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function P9(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null||Object.getOwnPropertyNames(t).sort().join("\0")===N9}var f4=["POST","PUT","PATCH","DELETE"],O9=new Set(f4),R9=["GET",...f4],A9=new Set(R9),p4=new Set([301,302,303,307,308]),I9=new Set([307,308]),G0={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},L9={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ld={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},D9=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),m4="remix-router-transitions",g4=Symbol("ResetLoaderData");function M9(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Ft(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=e.hydrationRouteProperties||[],i=e.mapRouteProperties||D9,s=i;if(e.unstable_instrumentations){let Q=e.unstable_instrumentations;s=ce=>({...i(ce),...k9(Q.map(we=>we.route).filter(Boolean),ce)})}let o={},a=Gd(e.routes,s,void 0,o),u,c=e.basename||"/";c.startsWith("/")||(c=`/${c}`);let f=e.dataStrategy||U9,p={...e.future},g=null,y=new Set,w=null,S=null,C=null,E=e.hydrationData!=null,P=pa(a,e.history.location,c),A=!1,$=null,W;if(P==null&&!e.patchRoutesOnNavigation){let Q=Hi(404,{pathname:e.history.location.pathname}),{matches:ce,route:we}=Kf(a);W=!0,P=ce,$={[we.id]:Q}}else if(P&&!e.hydrationData&&Js(P,a,e.history.location.pathname).active&&(P=null),P)if(P.some(Q=>Q.route.lazy))W=!1;else if(!P.some(Q=>Tv(Q.route)))W=!0;else{let Q=e.hydrationData?e.hydrationData.loaderData:null,ce=e.hydrationData?e.hydrationData.errors:null;if(ce){let we=P.findIndex(Te=>ce[Te.route.id]!==void 0);W=P.slice(0,we+1).every(Te=>!hy(Te.route,Q,ce))}else W=P.every(we=>!hy(we.route,Q,ce))}else{W=!1,P=[];let Q=Js(null,a,e.history.location.pathname);Q.active&&Q.matches&&(A=!0,P=Q.matches)}let D,R={historyAction:e.history.action,location:e.history.location,matches:P,initialized:W,navigation:G0,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||$,fetchers:new Map,blockers:new Map},z="POP",q=null,B=!1,ae,oe=!1,xe=new Map,Y=null,H=!1,J=!1,se=new Set,X=new Map,pe=0,M=-1,G=new Map,me=new Set,U=new Map,Pe=new Map,ke=new Set,Ee=new Map,Qe,Ve=null;function vt(){if(g=e.history.listen(({action:Q,location:ce,delta:we})=>{if(Qe){Qe(),Qe=void 0;return}Vn(Ee.size===0||we!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Te=mi({currentLocation:R.location,nextLocation:ce,historyAction:Q});if(Te&&we!=null){let De=new Promise(tt=>{Qe=tt});e.history.go(we*-1),He(Te,{state:"blocked",location:ce,proceed(){He(Te,{state:"proceeding",proceed:void 0,reset:void 0,location:ce}),De.then(()=>e.history.go(we))},reset(){let tt=new Map(R.blockers);tt.set(Te,ld),ht({blockers:tt})}}),q?.resolve(),q=null;return}return $r(Q,ce)}),n){oE(t,xe);let Q=()=>aE(t,xe);t.addEventListener("pagehide",Q),Y=()=>t.removeEventListener("pagehide",Q)}return R.initialized||$r("POP",R.location,{initialHydration:!0}),D}function ze(){g&&g(),Y&&Y(),y.clear(),ae&&ae.abort(),R.fetchers.forEach((Q,ce)=>zn(ce)),R.blockers.forEach((Q,ce)=>Xi(ce))}function cr(Q){return y.add(Q),()=>y.delete(Q)}function ht(Q,ce={}){Q.matches&&(Q.matches=Q.matches.map(De=>{let tt=o[De.route.id],Ze=De.route;return Ze.element!==tt.element||Ze.errorElement!==tt.errorElement||Ze.hydrateFallbackElement!==tt.hydrateFallbackElement?{...De,route:tt}:De})),R={...R,...Q};let we=[],Te=[];R.fetchers.forEach((De,tt)=>{De.state==="idle"&&(ke.has(tt)?we.push(tt):Te.push(tt))}),ke.forEach(De=>{!R.fetchers.has(De)&&!X.has(De)&&we.push(De)}),[...y].forEach(De=>De(R,{deletedFetchers:we,newErrors:Q.errors??null,viewTransitionOpts:ce.viewTransitionOpts,flushSync:ce.flushSync===!0})),we.forEach(De=>zn(De)),Te.forEach(De=>R.fetchers.delete(De))}function Zt(Q,ce,{flushSync:we}={}){let Te=R.actionData!=null&&R.navigation.formMethod!=null&&Ir(R.navigation.formMethod)&&R.navigation.state==="loading"&&Q.state?._isRedirect!==!0,De;ce.actionData?Object.keys(ce.actionData).length>0?De=ce.actionData:De=null:Te?De=R.actionData:De=null;let tt=ce.loaderData?ww(R.loaderData,ce.loaderData,ce.matches||[],ce.errors):R.loaderData,Ze=R.blockers;Ze.size>0&&(Ze=new Map(Ze),Ze.forEach((ct,at)=>Ze.set(at,ld)));let Ye=H?!1:Ba(Q,ce.matches||R.matches),nt=B===!0||R.navigation.formMethod!=null&&Ir(R.navigation.formMethod)&&Q.state?._isRedirect!==!0;u&&(a=u,u=void 0),H||z==="POP"||(z==="PUSH"?e.history.push(Q,Q.state):z==="REPLACE"&&e.history.replace(Q,Q.state));let Je;if(z==="POP"){let ct=xe.get(R.location.pathname);ct&&ct.has(Q.pathname)?Je={currentLocation:R.location,nextLocation:Q}:xe.has(Q.pathname)&&(Je={currentLocation:Q,nextLocation:R.location})}else if(oe){let ct=xe.get(R.location.pathname);ct?ct.add(Q.pathname):(ct=new Set([Q.pathname]),xe.set(R.location.pathname,ct)),Je={currentLocation:R.location,nextLocation:Q}}ht({...ce,actionData:De,loaderData:tt,historyAction:z,location:Q,initialized:!0,navigation:G0,revalidation:"idle",restoreScrollPosition:Ye,preventScrollReset:nt,blockers:Ze},{viewTransitionOpts:Je,flushSync:we===!0}),z="POP",B=!1,oe=!1,H=!1,J=!1,q?.resolve(),q=null,Ve?.resolve(),Ve=null}async function Wn(Q,ce){if(q?.resolve(),q=null,typeof Q=="number"){q||(q=kw());let Lt=q.promise;return e.history.go(Q),Lt}let we=dy(R.location,R.matches,c,Q,ce?.fromRouteId,ce?.relative),{path:Te,submission:De,error:tt}=hw(!1,we,ce),Ze=R.location,Ye=Kd(R.location,Te,ce&&ce.state);Ye={...Ye,...e.history.encodeLocation(Ye)};let nt=ce&&ce.replace!=null?ce.replace:void 0,Je="PUSH";nt===!0?Je="REPLACE":nt===!1||De!=null&&Ir(De.formMethod)&&De.formAction===R.location.pathname+R.location.search&&(Je="REPLACE");let ct=ce&&"preventScrollReset"in ce?ce.preventScrollReset===!0:void 0,at=(ce&&ce.flushSync)===!0,Ct=mi({currentLocation:Ze,nextLocation:Ye,historyAction:Je});if(Ct){He(Ct,{state:"blocked",location:Ye,proceed(){He(Ct,{state:"proceeding",proceed:void 0,reset:void 0,location:Ye}),Wn(Q,ce)},reset(){let Lt=new Map(R.blockers);Lt.set(Ct,ld),ht({blockers:Lt})}});return}await $r(Je,Ye,{submission:De,pendingError:tt,preventScrollReset:ct,replace:ce&&ce.replace,enableViewTransition:ce&&ce.viewTransition,flushSync:at,callSiteDefaultShouldRevalidate:ce&&ce.unstable_defaultShouldRevalidate})}function Fn(){Ve||(Ve=kw()),Le(),ht({revalidation:"loading"});let Q=Ve.promise;return R.navigation.state==="submitting"?Q:R.navigation.state==="idle"?($r(R.historyAction,R.location,{startUninterruptedRevalidation:!0}),Q):($r(z||R.historyAction,R.navigation.location,{overrideNavigation:R.navigation,enableViewTransition:oe===!0}),Q)}async function $r(Q,ce,we){ae&&ae.abort(),ae=null,z=Q,H=(we&&we.startUninterruptedRevalidation)===!0,Bo(R.location,R.matches),B=(we&&we.preventScrollReset)===!0,oe=(we&&we.enableViewTransition)===!0;let Te=u||a,De=we&&we.overrideNavigation,tt=we?.initialHydration&&R.matches&&R.matches.length>0&&!A?R.matches:pa(Te,ce,c),Ze=(we&&we.flushSync)===!0;if(tt&&R.initialized&&!J&&Y9(R.location,ce)&&!(we&&we.submission&&Ir(we.submission.formMethod))){Zt(ce,{matches:tt},{flushSync:Ze});return}let Ye=Js(tt,Te,ce.pathname);if(Ye.active&&Ye.matches&&(tt=Ye.matches),!tt){let{error:yn,notFoundMatches:Rn,route:pt}=gi(ce.pathname);Zt(ce,{matches:Rn,loaderData:{},errors:{[pt.id]:yn}},{flushSync:Ze});return}ae=new AbortController;let nt=Wu(e.history,ce,ae.signal,we&&we.submission),Je=e.getContext?await e.getContext():new ow,ct;if(we&&we.pendingError)ct=[ma(tt).route.id,{type:"error",error:we.pendingError}];else if(we&&we.submission&&Ir(we.submission.formMethod)){let yn=await js(nt,ce,we.submission,tt,Je,Ye.active,we&&we.initialHydration===!0,{replace:we.replace,flushSync:Ze});if(yn.shortCircuited)return;if(yn.pendingActionResult){let[Rn,pt]=yn.pendingActionResult;if(Ci(pt)&&Yd(pt.error)&&pt.error.status===404){ae=null,Zt(ce,{matches:yn.matches,loaderData:{},errors:{[Rn]:pt.error}});return}}tt=yn.matches||tt,ct=yn.pendingActionResult,De=Y0(ce,we.submission),Ze=!1,Ye.active=!1,nt=Wu(e.history,nt.url,nt.signal)}let{shortCircuited:at,matches:Ct,loaderData:Lt,errors:rn}=await Do(nt,ce,tt,Je,Ye.active,De,we&&we.submission,we&&we.fetcherSubmission,we&&we.replace,we&&we.initialHydration===!0,Ze,ct,we&&we.callSiteDefaultShouldRevalidate);at||(ae=null,Zt(ce,{matches:Ct||tt,..._w(ct),loaderData:Lt,errors:rn}))}async function js(Q,ce,we,Te,De,tt,Ze,Ye={}){Le();let nt=iE(ce,we);if(ht({navigation:nt},{flushSync:Ye.flushSync===!0}),tt){let at=await Hr(Te,ce.pathname,Q.signal);if(at.type==="aborted")return{shortCircuited:!0};if(at.type==="error"){if(at.partialMatches.length===0){let{matches:Lt,route:rn}=Kf(a);return{matches:Lt,pendingActionResult:[rn.id,{type:"error",error:at.error}]}}let Ct=ma(at.partialMatches).route.id;return{matches:at.partialMatches,pendingActionResult:[Ct,{type:"error",error:at.error}]}}else if(at.matches)Te=at.matches;else{let{notFoundMatches:Ct,error:Lt,route:rn}=gi(ce.pathname);return{matches:Ct,pendingActionResult:[rn.id,{type:"error",error:Lt}]}}}let Je,ct=Up(Te,ce);if(!ct.route.action&&!ct.route.lazy)Je={type:"error",error:Hi(405,{method:Q.method,pathname:ce.pathname,routeId:ct.route.id})};else{let at=tc(s,o,Q,Te,ct,Ze?[]:r,De),Ct=await Tr(Q,at,De,null);if(Je=Ct[ct.route.id],!Je){for(let Lt of Te)if(Ct[Lt.route.id]){Je=Ct[Lt.route.id];break}}if(Q.signal.aborted)return{shortCircuited:!0}}if(kl(Je)){let at;return Ye&&Ye.replace!=null?at=Ye.replace:at=vw(Je.response.headers.get("Location"),new URL(Q.url),c,e.history)===R.location.pathname+R.location.search,await Ur(Q,Je,!0,{submission:we,replace:at}),{shortCircuited:!0}}if(Ci(Je)){let at=ma(Te,ct.route.id);return(Ye&&Ye.replace)!==!0&&(z="PUSH"),{matches:Te,pendingActionResult:[at.route.id,Je,ct.route.id]}}return{matches:Te,pendingActionResult:[ct.route.id,Je]}}async function Do(Q,ce,we,Te,De,tt,Ze,Ye,nt,Je,ct,at,Ct){let Lt=tt||Y0(ce,Ze),rn=Ze||Ye||Cw(Lt),yn=!H&&!Je;if(De){if(yn){let rt=Ji(at);ht({navigation:Lt,...rt!==void 0?{actionData:rt}:{}},{flushSync:ct})}let Dt=await Hr(we,ce.pathname,Q.signal);if(Dt.type==="aborted")return{shortCircuited:!0};if(Dt.type==="error"){if(Dt.partialMatches.length===0){let{matches:ts,route:Ii}=Kf(a);return{matches:ts,loaderData:{},errors:{[Ii.id]:Dt.error}}}let rt=ma(Dt.partialMatches).route.id;return{matches:Dt.partialMatches,loaderData:{},errors:{[rt]:Dt.error}}}else if(Dt.matches)we=Dt.matches;else{let{error:rt,notFoundMatches:ts,route:Ii}=gi(ce.pathname);return{matches:ts,loaderData:{},errors:{[Ii.id]:rt}}}}let Rn=u||a,{dsMatches:pt,revalidatingFetchers:An}=fw(Q,Te,s,o,e.history,R,we,rn,ce,Je?[]:r,Je===!0,J,se,ke,U,me,Rn,c,e.patchRoutesOnNavigation!=null,at,Ct);if(M=++pe,!e.dataStrategy&&!pt.some(Dt=>Dt.shouldLoad)&&!pt.some(Dt=>Dt.route.middleware&&Dt.route.middleware.length>0)&&An.length===0){let Dt=We();return Zt(ce,{matches:we,loaderData:{},errors:at&&Ci(at[1])?{[at[0]]:at[1].error}:null,..._w(at),...Dt?{fetchers:new Map(R.fetchers)}:{}},{flushSync:ct}),{shortCircuited:!0}}if(yn){let Dt={};if(!De){Dt.navigation=Lt;let rt=Ji(at);rt!==void 0&&(Dt.actionData=rt)}An.length>0&&(Dt.fetchers=Xr(An)),ht(Dt,{flushSync:ct})}An.forEach(Dt=>{On(Dt.key),Dt.controller&&X.set(Dt.key,Dt.controller)});let At=()=>An.forEach(Dt=>On(Dt.key));ae&&ae.signal.addEventListener("abort",At);let{loaderResults:Ps,fetcherResults:tr}=await Se(pt,An,Q,Te);if(Q.signal.aborted)return{shortCircuited:!0};ae&&ae.signal.removeEventListener("abort",At),An.forEach(Dt=>X.delete(Dt.key));let dr=Gf(Ps);if(dr)return await Ur(Q,dr.result,!0,{replace:nt}),{shortCircuited:!0};if(dr=Gf(tr),dr)return me.add(dr.key),await Ur(Q,dr.result,!0,{replace:nt}),{shortCircuited:!0};let{loaderData:Ri,errors:es}=bw(R,we,Ps,at,An,tr);Je&&R.errors&&(es={...R.errors,...es});let hr=We(),Ai=er(M),qn=hr||Ai||An.length>0;return{matches:we,loaderData:Ri,errors:es,...qn?{fetchers:new Map(R.fetchers)}:{}}}function Ji(Q){if(Q&&!Ci(Q[1]))return{[Q[0]]:Q[1].data};if(R.actionData)return Object.keys(R.actionData).length===0?null:R.actionData}function Xr(Q){return Q.forEach(ce=>{let we=R.fetchers.get(ce.key),Te=ud(void 0,we?we.data:void 0);R.fetchers.set(ce.key,Te)}),new Map(R.fetchers)}async function Bn(Q,ce,we,Te){On(Q);let De=(Te&&Te.flushSync)===!0,tt=u||a,Ze=dy(R.location,R.matches,c,we,ce,Te?.relative),Ye=pa(tt,Ze,c),nt=Js(Ye,tt,Ze);if(nt.active&&nt.matches&&(Ye=nt.matches),!Ye){ft(Q,ce,Hi(404,{pathname:Ze}),{flushSync:De});return}let{path:Je,submission:ct,error:at}=hw(!0,Ze,Te);if(at){ft(Q,ce,at,{flushSync:De});return}let Ct=e.getContext?await e.getContext():new ow,Lt=(Te&&Te.preventScrollReset)===!0;if(ct&&Ir(ct.formMethod)){await Ts(Q,ce,Je,Ye,Ct,nt.active,De,Lt,ct,Te&&Te.unstable_defaultShouldRevalidate);return}U.set(Q,{routeId:ce,path:Je}),await Pi(Q,ce,Je,Ye,Ct,nt.active,De,Lt,ct)}async function Ts(Q,ce,we,Te,De,tt,Ze,Ye,nt,Je){Le(),U.delete(Q);let ct=R.fetchers.get(Q);st(Q,sE(nt,ct),{flushSync:Ze});let at=new AbortController,Ct=Wu(e.history,we,at.signal,nt);if(tt){let en=await Hr(Te,new URL(Ct.url).pathname,Ct.signal,Q);if(en.type==="aborted")return;if(en.type==="error"){ft(Q,ce,en.error,{flushSync:Ze});return}else if(en.matches)Te=en.matches;else{ft(Q,ce,Hi(404,{pathname:we}),{flushSync:Ze});return}}let Lt=Up(Te,we);if(!Lt.route.action&&!Lt.route.lazy){let en=Hi(405,{method:nt.formMethod,pathname:we,routeId:ce});ft(Q,ce,en,{flushSync:Ze});return}X.set(Q,at);let rn=pe,yn=tc(s,o,Ct,Te,Lt,r,De),Rn=await Tr(Ct,yn,De,Q),pt=Rn[Lt.route.id];if(!pt){for(let en of yn)if(Rn[en.route.id]){pt=Rn[en.route.id];break}}if(Ct.signal.aborted){X.get(Q)===at&&X.delete(Q);return}if(ke.has(Q)){if(kl(pt)||Ci(pt)){st(Q,vo(void 0));return}}else{if(kl(pt))if(X.delete(Q),M>rn){st(Q,vo(void 0));return}else return me.add(Q),st(Q,ud(nt)),Ur(Ct,pt,!1,{fetcherSubmission:nt,preventScrollReset:Ye});if(Ci(pt)){ft(Q,ce,pt.error);return}}let An=R.navigation.location||R.location,At=Wu(e.history,An,at.signal),Ps=u||a,tr=R.navigation.state!=="idle"?pa(Ps,R.navigation.location,c):R.matches;Ft(tr,"Didn't find any matches after fetcher action");let dr=++pe;G.set(Q,dr);let Ri=ud(nt,pt.data);R.fetchers.set(Q,Ri);let{dsMatches:es,revalidatingFetchers:hr}=fw(At,De,s,o,e.history,R,tr,nt,An,r,!1,J,se,ke,U,me,Ps,c,e.patchRoutesOnNavigation!=null,[Lt.route.id,pt],Je);hr.filter(en=>en.key!==Q).forEach(en=>{let Vr=en.key,Os=R.fetchers.get(Vr),Rs=ud(void 0,Os?Os.data:void 0);R.fetchers.set(Vr,Rs),On(Vr),en.controller&&X.set(Vr,en.controller)}),ht({fetchers:new Map(R.fetchers)});let Ai=()=>hr.forEach(en=>On(en.key));at.signal.addEventListener("abort",Ai);let{loaderResults:qn,fetcherResults:Dt}=await Se(es,hr,At,De);if(at.signal.aborted)return;if(at.signal.removeEventListener("abort",Ai),G.delete(Q),X.delete(Q),hr.forEach(en=>X.delete(en.key)),R.fetchers.has(Q)){let en=vo(pt.data);R.fetchers.set(Q,en)}let rt=Gf(qn);if(rt)return Ur(At,rt.result,!1,{preventScrollReset:Ye});if(rt=Gf(Dt),rt)return me.add(rt.key),Ur(At,rt.result,!1,{preventScrollReset:Ye});let{loaderData:ts,errors:Ii}=bw(R,tr,qn,void 0,hr,Dt);er(dr),R.navigation.state==="loading"&&dr>M?(Ft(z,"Expected pending action"),ae&&ae.abort(),Zt(R.navigation.location,{matches:tr,loaderData:ts,errors:Ii,fetchers:new Map(R.fetchers)})):(ht({errors:Ii,loaderData:ww(R.loaderData,ts,tr,Ii),fetchers:new Map(R.fetchers)}),J=!1)}async function Pi(Q,ce,we,Te,De,tt,Ze,Ye,nt){let Je=R.fetchers.get(Q);st(Q,ud(nt,Je?Je.data:void 0),{flushSync:Ze});let ct=new AbortController,at=Wu(e.history,we,ct.signal);if(tt){let pt=await Hr(Te,new URL(at.url).pathname,at.signal,Q);if(pt.type==="aborted")return;if(pt.type==="error"){ft(Q,ce,pt.error,{flushSync:Ze});return}else if(pt.matches)Te=pt.matches;else{ft(Q,ce,Hi(404,{pathname:we}),{flushSync:Ze});return}}let Ct=Up(Te,we);X.set(Q,ct);let Lt=pe,rn=tc(s,o,at,Te,Ct,r,De),Rn=(await Tr(at,rn,De,Q))[Ct.route.id];if(X.get(Q)===ct&&X.delete(Q),!at.signal.aborted){if(ke.has(Q)){st(Q,vo(void 0));return}if(kl(Rn))if(M>Lt){st(Q,vo(void 0));return}else{me.add(Q),await Ur(at,Rn,!1,{preventScrollReset:Ye});return}if(Ci(Rn)){ft(Q,ce,Rn.error);return}st(Q,vo(Rn.data))}}async function Ur(Q,ce,we,{submission:Te,fetcherSubmission:De,preventScrollReset:tt,replace:Ze}={}){we||(q?.resolve(),q=null),ce.response.headers.has("X-Remix-Revalidate")&&(J=!0);let Ye=ce.response.headers.get("Location");Ft(Ye,"Expected a Location header on the redirect Response"),Ye=vw(Ye,new URL(Q.url),c,e.history);let nt=Kd(R.location,Ye,{_isRedirect:!0});if(n){let rn=!1;if(ce.response.headers.has("X-Remix-Reload-Document"))rn=!0;else if(kv(Ye)){const yn=s4(Ye,!0);rn=yn.origin!==t.location.origin||Qi(yn.pathname,c)==null}if(rn){Ze?t.location.replace(Ye):t.location.assign(Ye);return}}ae=null;let Je=Ze===!0||ce.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ct,formAction:at,formEncType:Ct}=R.navigation;!Te&&!De&&ct&&at&&Ct&&(Te=Cw(R.navigation));let Lt=Te||De;if(I9.has(ce.response.status)&&Lt&&Ir(Lt.formMethod))await $r(Je,nt,{submission:{...Lt,formAction:Ye},preventScrollReset:tt||B,enableViewTransition:we?oe:void 0});else{let rn=Y0(nt,Te);await $r(Je,nt,{overrideNavigation:rn,fetcherSubmission:De,preventScrollReset:tt||B,enableViewTransition:we?oe:void 0})}}async function Tr(Q,ce,we,Te){let De,tt={};try{De=await V9(f,Q,ce,Te,we,!1)}catch(Ze){return ce.filter(Ye=>Ye.shouldLoad).forEach(Ye=>{tt[Ye.route.id]={type:"error",error:Ze}}),tt}if(Q.signal.aborted)return tt;if(!Ir(Q.method))for(let Ze of ce){if(De[Ze.route.id]?.type==="error")break;!De.hasOwnProperty(Ze.route.id)&&!R.loaderData.hasOwnProperty(Ze.route.id)&&(!R.errors||!R.errors.hasOwnProperty(Ze.route.id))&&Ze.shouldCallHandler()&&(De[Ze.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${Ze.route.id}`)})}for(let[Ze,Ye]of Object.entries(De))if(eE(Ye)){let nt=Ye.result;tt[Ze]={type:"redirect",response:K9(nt,Q,Ze,ce,c)}}else tt[Ze]=await Q9(Ye);return tt}async function Se(Q,ce,we,Te){let De=Tr(we,Q,Te,null),tt=Promise.all(ce.map(async nt=>{if(nt.matches&&nt.match&&nt.request&&nt.controller){let ct=(await Tr(nt.request,nt.matches,Te,nt.key))[nt.match.route.id];return{[nt.key]:ct}}else return Promise.resolve({[nt.key]:{type:"error",error:Hi(404,{pathname:nt.path})}})})),Ze=await De,Ye=(await tt).reduce((nt,Je)=>Object.assign(nt,Je),{});return{loaderResults:Ze,fetcherResults:Ye}}function Le(){J=!0,U.forEach((Q,ce)=>{X.has(ce)&&se.add(ce),On(ce)})}function st(Q,ce,we={}){R.fetchers.set(Q,ce),ht({fetchers:new Map(R.fetchers)},{flushSync:(we&&we.flushSync)===!0})}function ft(Q,ce,we,Te={}){let De=ma(R.matches,ce);zn(Q),ht({errors:{[De.route.id]:we},fetchers:new Map(R.fetchers)},{flushSync:(Te&&Te.flushSync)===!0})}function Ot(Q){return Pe.set(Q,(Pe.get(Q)||0)+1),ke.has(Q)&&ke.delete(Q),R.fetchers.get(Q)||L9}function gn(Q,ce){On(Q,ce?.reason),st(Q,vo(null))}function zn(Q){let ce=R.fetchers.get(Q);X.has(Q)&&!(ce&&ce.state==="loading"&&G.has(Q))&&On(Q),U.delete(Q),G.delete(Q),me.delete(Q),ke.delete(Q),se.delete(Q),R.fetchers.delete(Q)}function Xn(Q){let ce=(Pe.get(Q)||0)-1;ce<=0?(Pe.delete(Q),ke.add(Q)):Pe.set(Q,ce),ht({fetchers:new Map(R.fetchers)})}function On(Q,ce){let we=X.get(Q);we&&(we.abort(ce),X.delete(Q))}function Zn(Q){for(let ce of Q){let we=Ot(ce),Te=vo(we.data);R.fetchers.set(ce,Te)}}function We(){let Q=[],ce=!1;for(let we of me){let Te=R.fetchers.get(we);Ft(Te,`Expected fetcher: ${we}`),Te.state==="loading"&&(me.delete(we),Q.push(we),ce=!0)}return Zn(Q),ce}function er(Q){let ce=[];for(let[we,Te]of G)if(Te<Q){let De=R.fetchers.get(we);Ft(De,`Expected fetcher: ${we}`),De.state==="loading"&&(On(we),G.delete(we),ce.push(we))}return Zn(ce),ce.length>0}function Cn(Q,ce){let we=R.blockers.get(Q)||ld;return Ee.get(Q)!==ce&&Ee.set(Q,ce),we}function Xi(Q){R.blockers.delete(Q),Ee.delete(Q)}function He(Q,ce){let we=R.blockers.get(Q)||ld;Ft(we.state==="unblocked"&&ce.state==="blocked"||we.state==="blocked"&&ce.state==="blocked"||we.state==="blocked"&&ce.state==="proceeding"||we.state==="blocked"&&ce.state==="unblocked"||we.state==="proceeding"&&ce.state==="unblocked",`Invalid blocker state transition: ${we.state} -> ${ce.state}`);let Te=new Map(R.blockers);Te.set(Q,ce),ht({blockers:Te})}function mi({currentLocation:Q,nextLocation:ce,historyAction:we}){if(Ee.size===0)return;Ee.size>1&&Vn(!1,"A router only supports one blocker at a time");let Te=Array.from(Ee.entries()),[De,tt]=Te[Te.length-1],Ze=R.blockers.get(De);if(!(Ze&&Ze.state==="proceeding")&&tt({currentLocation:Q,nextLocation:ce,historyAction:we}))return De}function gi(Q){let ce=Hi(404,{pathname:Q}),we=u||a,{matches:Te,route:De}=Kf(we);return{notFoundMatches:Te,route:De,error:ce}}function Mo(Q,ce,we){if(w=Q,C=ce,S=we||null,!E&&R.navigation===G0){E=!0;let Te=Ba(R.location,R.matches);Te!=null&&ht({restoreScrollPosition:Te})}return()=>{w=null,C=null,S=null}}function Fo(Q,ce){return S&&S(Q,ce.map(Te=>a9(Te,R.loaderData)))||Q.key}function Bo(Q,ce){if(w&&C){let we=Fo(Q,ce);w[we]=C()}}function Ba(Q,ce){if(w){let we=Fo(Q,ce),Te=w[we];if(typeof Te=="number")return Te}return null}function Js(Q,ce,we){if(e.patchRoutesOnNavigation)if(Q){if(Object.keys(Q[0].params).length>0)return{active:!0,matches:Td(ce,we,c,!0)}}else return{active:!0,matches:Td(ce,we,c,!0)||[]};return{active:!1,matches:null}}async function Hr(Q,ce,we,Te){if(!e.patchRoutesOnNavigation)return{type:"success",matches:Q};let De=Q;for(;;){let tt=u==null,Ze=u||a,Ye=o;try{await e.patchRoutesOnNavigation({signal:we,path:ce,matches:De,fetcherKey:Te,patch:(ct,at)=>{we.aborted||pw(ct,at,Ze,Ye,s,!1)}})}catch(ct){return{type:"error",error:ct,partialMatches:De}}finally{tt&&!we.aborted&&(a=[...a])}if(we.aborted)return{type:"aborted"};let nt=pa(Ze,ce,c),Je=null;if(nt){if(Object.keys(nt[0].params).length===0)return{type:"success",matches:nt};if(Je=Td(Ze,ce,c,!0),!(Je&&De.length<Je.length&&Oi(De,Je.slice(0,De.length))))return{type:"success",matches:nt}}if(Je||(Je=Td(Ze,ce,c,!0)),!Je||Oi(De,Je))return{type:"success",matches:null};De=Je}}function Oi(Q,ce){return Q.length===ce.length&&Q.every((we,Te)=>we.route.id===ce[Te].route.id)}function Zi(Q){o={},u=Gd(Q,s,void 0,o)}function Ns(Q,ce,we=!1){let Te=u==null;pw(Q,ce,u||a,o,s,we),Te&&(a=[...a],ht({}))}return D={get basename(){return c},get future(){return p},get state(){return R},get routes(){return a},get window(){return t},initialize:vt,subscribe:cr,enableScrollRestoration:Mo,navigate:Wn,fetch:Bn,revalidate:Fn,createHref:Q=>e.history.createHref(Q),encodeLocation:Q=>e.history.encodeLocation(Q),getFetcher:Ot,resetFetcher:gn,deleteFetcher:Xn,dispose:ze,getBlocker:Cn,deleteBlocker:Xi,patchRoutes:Ns,_internalFetchControllers:X,_internalSetRoutes:Zi,_internalSetStateDoNotUseOrYouWillBreakYourApp(Q){ht(Q)}},e.unstable_instrumentations&&(D=E9(D,e.unstable_instrumentations.map(Q=>Q.router).filter(Boolean))),D}function F9(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function dy(e,t,n,r,i,s){let o,a;if(i){o=[];for(let c of t)if(o.push(c),c.route.id===i){a=c;break}}else o=t,a=t[t.length-1];let u=jv(r||".",Ev(o),Qi(e.pathname,n)||e.pathname,s==="path");if(r==null&&(u.search=e.search,u.hash=e.hash),(r==null||r===""||r===".")&&a){let c=Pv(u.search);if(a.route.index&&!c)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!a.route.index&&c){let f=new URLSearchParams(u.search),p=f.getAll("index");f.delete("index"),p.filter(y=>y).forEach(y=>f.append("index",y));let g=f.toString();u.search=g?`?${g}`:""}}return n!=="/"&&(u.pathname=b9({basename:n,pathname:u.pathname})),Qs(u)}function hw(e,t,n){if(!n||!F9(n))return{path:t};if(n.formMethod&&!rE(n.formMethod))return{path:t,error:Hi(405,{method:n.formMethod})};let r=()=>({path:t,error:Hi(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),o=_4(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Ir(s))return r();let p=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((g,[y,w])=>`${g}${y}=${w}
`,""):String(n.body);return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:p}}}else if(n.formEncType==="application/json"){if(!Ir(s))return r();try{let p=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:p,text:void 0}}}catch{return r()}}}Ft(typeof FormData=="function","FormData is not available in this environment");let a,u;if(n.formData)a=py(n.formData),u=n.formData;else if(n.body instanceof FormData)a=py(n.body),u=n.body;else if(n.body instanceof URLSearchParams)a=n.body,u=xw(a);else if(n.body==null)a=new URLSearchParams,u=new FormData;else try{a=new URLSearchParams(n.body),u=xw(a)}catch{return r()}let c={formMethod:s,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Ir(c.formMethod))return{path:t,submission:c};let f=Ra(t);return e&&f.search&&Pv(f.search)&&a.append("index",""),f.search=`?${a}`,{path:Qs(f),submission:c}}function fw(e,t,n,r,i,s,o,a,u,c,f,p,g,y,w,S,C,E,P,A,$){let W=A?Ci(A[1])?A[1].error:A[1].data:void 0,D=i.createURL(s.location),R=i.createURL(u),z;if(f&&s.errors){let H=Object.keys(s.errors)[0];z=o.findIndex(J=>J.route.id===H)}else if(A&&Ci(A[1])){let H=A[0];z=o.findIndex(J=>J.route.id===H)-1}let q=A?A[1].statusCode:void 0,B=q&&q>=400,ae={currentUrl:D,currentParams:s.matches[0]?.params||{},nextUrl:R,nextParams:o[0].params,...a,actionResult:W,actionStatus:q},oe=bh(o),xe=o.map((H,J)=>{let{route:se}=H,X=null;if(z!=null&&J>z?X=!1:se.lazy?X=!0:Tv(se)?f?X=hy(se,s.loaderData,s.errors):B9(s.loaderData,s.matches[J],H)&&(X=!0):X=!1,X!==null)return fy(n,r,e,oe,H,c,t,X);let pe=!1;typeof $=="boolean"?pe=$:B?pe=!1:(p||D.pathname+D.search===R.pathname+R.search||D.search!==R.search||z9(s.matches[J],H))&&(pe=!0);let M={...ae,defaultShouldRevalidate:pe},G=Md(H,M);return fy(n,r,e,oe,H,c,t,G,M,$)}),Y=[];return w.forEach((H,J)=>{if(f||!o.some(Pe=>Pe.route.id===H.routeId)||y.has(J))return;let se=s.fetchers.get(J),X=se&&se.state!=="idle"&&se.data===void 0,pe=pa(C,H.path,E);if(!pe){if(P&&X)return;Y.push({key:J,routeId:H.routeId,path:H.path,matches:null,match:null,request:null,controller:null});return}if(S.has(J))return;let M=Up(pe,H.path),G=new AbortController,me=Wu(i,H.path,G.signal),U=null;if(g.has(J))g.delete(J),U=tc(n,r,me,pe,M,c,t);else if(X)p&&(U=tc(n,r,me,pe,M,c,t));else{let Pe;typeof $=="boolean"?Pe=$:B?Pe=!1:Pe=p;let ke={...ae,defaultShouldRevalidate:Pe};Md(M,ke)&&(U=tc(n,r,me,pe,M,c,t,ke))}U&&Y.push({key:J,routeId:H.routeId,path:H.path,matches:U,match:M,request:me,controller:G})}),{dsMatches:xe,revalidatingFetchers:Y}}function Tv(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function hy(e,t,n){if(e.lazy)return!0;if(!Tv(e))return!1;let r=t!=null&&e.id in t,i=n!=null&&n[e.id]!==void 0;return!r&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!i}function B9(e,t,n){let r=!t||n.route.id!==t.route.id,i=!e.hasOwnProperty(n.route.id);return r||i}function z9(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Md(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function pw(e,t,n,r,i,s){let o;if(e){let c=r[e];Ft(c,`No route found to patch children into: routeId = ${e}`),c.children||(c.children=[]),o=c.children}else o=n;let a=[],u=[];if(t.forEach(c=>{let f=o.find(p=>y4(c,p));f?u.push({existingRoute:f,newRoute:c}):a.push(c)}),a.length>0){let c=Gd(a,i,[e||"_","patch",String(o?.length||"0")],r);o.push(...c)}if(s&&u.length>0)for(let c=0;c<u.length;c++){let{existingRoute:f,newRoute:p}=u[c],g=f,[y]=Gd([p],i,[],{},!0);Object.assign(g,{element:y.element?y.element:g.element,errorElement:y.errorElement?y.errorElement:g.errorElement,hydrateFallbackElement:y.hydrateFallbackElement?y.hydrateFallbackElement:g.hydrateFallbackElement})}}function y4(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>t.children?.some(i=>y4(n,i))):!1}var mw=new WeakMap,v4=({key:e,route:t,manifest:n,mapRouteProperties:r})=>{let i=n[t.id];if(Ft(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[e];if(!s)return;let o=mw.get(i);o||(o={},mw.set(i,o));let a=o[e];if(a)return a;let u=(async()=>{let c=r9(e),p=i[e]!==void 0&&e!=="hasErrorBoundary";if(c)Vn(!c,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),o[e]=Promise.resolve();else if(p)Vn(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let g=await s();g!=null&&(Object.assign(i,{[e]:g}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(g=>g===void 0)&&(i.lazy=void 0))})();return o[e]=u,u},gw=new WeakMap;function $9(e,t,n,r,i){let s=n[e.id];if(Ft(s,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let f=gw.get(s);if(f)return{lazyRoutePromise:f,lazyHandlerPromise:f};let p=(async()=>{Ft(typeof e.lazy=="function","No lazy route function found");let g=await e.lazy(),y={};for(let w in g){let S=g[w];if(S===void 0)continue;let C=s9(w),P=s[w]!==void 0&&w!=="hasErrorBoundary";C?Vn(!C,"Route property "+w+" is not a supported property to be returned from a lazy route function. This property will be ignored."):P?Vn(!P,`Route "${s.id}" has a static property "${w}" defined but its lazy function is also returning a value for this property. The lazy route property "${w}" will be ignored.`):y[w]=S}Object.assign(s,y),Object.assign(s,{...r(s),lazy:void 0})})();return gw.set(s,p),p.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:p}}let o=Object.keys(e.lazy),a=[],u;for(let f of o){if(i&&i.includes(f))continue;let p=v4({key:f,route:e,manifest:n,mapRouteProperties:r});p&&(a.push(p),f===t&&(u=p))}let c=a.length>0?Promise.all(a).then(()=>{}):void 0;return c?.catch(()=>{}),u?.catch(()=>{}),{lazyRoutePromise:c,lazyHandlerPromise:u}}async function yw(e){let t=e.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(t.map(i=>i.resolve()))).forEach((i,s)=>{n[t[s].route.id]=i}),n}async function U9(e){return e.matches.some(t=>t.route.middleware)?x4(e,()=>yw(e)):yw(e)}function x4(e,t){return H9(e,t,r=>{if(nE(r))throw r;return r},X9,n);function n(r,i,s){if(s)return Promise.resolve(Object.assign(s.value,{[i]:{type:"error",result:r}}));{let{matches:o}=e,a=Math.min(Math.max(o.findIndex(c=>c.route.id===i),0),Math.max(o.findIndex(c=>c.shouldCallHandler()),0)),u=ma(o,o[a].route.id).route.id;return Promise.resolve({[u]:{type:"error",result:r}})}}}async function H9(e,t,n,r,i){let{matches:s,request:o,params:a,context:u,unstable_pattern:c}=e,f=s.flatMap(g=>g.route.middleware?g.route.middleware.map(y=>[g.route.id,y]):[]);return await b4({request:o,params:a,context:u,unstable_pattern:c},f,t,n,r,i)}async function b4(e,t,n,r,i,s,o=0){let{request:a}=e;if(a.signal.aborted)throw a.signal.reason??new Error(`Request aborted: ${a.method} ${a.url}`);let u=t[o];if(!u)return await n();let[c,f]=u,p,g=async()=>{if(p)throw new Error("You may only call `next()` once per middleware");try{return p={value:await b4(e,t,n,r,i,s,o+1)},p.value}catch(y){return p={value:await s(y,c,p)},p.value}};try{let y=await f(e,g),w=y!=null?r(y):void 0;return i(w)?w:p?w??p.value:(p={value:await g()},p.value)}catch(y){return await s(y,c,p)}}function w4(e,t,n,r,i){let s=v4({key:"middleware",route:r.route,manifest:t,mapRouteProperties:e}),o=$9(r.route,Ir(n.method)?"action":"loader",t,e,i);return{middleware:s,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function fy(e,t,n,r,i,s,o,a,u=null,c){let f=!1,p=w4(e,t,n,i,s);return{...i,_lazyPromises:p,shouldLoad:a,shouldRevalidateArgs:u,shouldCallHandler(g){return f=!0,u?typeof c=="boolean"?Md(i,{...u,defaultShouldRevalidate:c}):typeof g=="boolean"?Md(i,{...u,defaultShouldRevalidate:g}):Md(i,u):a},resolve(g){let{lazy:y,loader:w,middleware:S}=i.route,C=f||a||g&&!Ir(n.method)&&(y||w),E=S&&S.length>0&&!w&&!y;return C&&(Ir(n.method)||!E)?W9({request:n,unstable_pattern:r,match:i,lazyHandlerPromise:p?.handler,lazyRoutePromise:p?.route,handlerOverride:g,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function tc(e,t,n,r,i,s,o,a=null){return r.map(u=>u.route.id!==i.route.id?{...u,shouldLoad:!1,shouldRevalidateArgs:a,shouldCallHandler:()=>!1,_lazyPromises:w4(e,t,n,u,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:fy(e,t,n,bh(r),u,s,o,!0,a))}async function V9(e,t,n,r,i,s){n.some(c=>c._lazyPromises?.middleware)&&await Promise.all(n.map(c=>c._lazyPromises?.middleware));let o={request:t,unstable_pattern:bh(n),params:n[0].params,context:i,matches:n},u=await e({...o,fetcherKey:r,runClientMiddleware:c=>{let f=o;return x4(f,()=>c({...f,fetcherKey:r,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(c=>[c._lazyPromises?.handler,c._lazyPromises?.route]))}catch{}return u}async function W9({request:e,unstable_pattern:t,match:n,lazyHandlerPromise:r,lazyRoutePromise:i,handlerOverride:s,scopedContext:o}){let a,u,c=Ir(e.method),f=c?"action":"loader",p=g=>{let y,w=new Promise((E,P)=>y=P);u=()=>y(),e.signal.addEventListener("abort",u);let S=E=>typeof g!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${f}" [routeId: ${n.route.id}]`)):g({request:e,unstable_pattern:t,params:n.params,context:o},...E!==void 0?[E]:[]),C=(async()=>{try{return{type:"data",result:await(s?s(P=>S(P)):S())}}catch(E){return{type:"error",result:E}}})();return Promise.race([C,w])};try{let g=c?n.route.action:n.route.loader;if(r||i)if(g){let y,[w]=await Promise.all([p(g).catch(S=>{y=S}),r,i]);if(y!==void 0)throw y;a=w}else{await r;let y=c?n.route.action:n.route.loader;if(y)[a]=await Promise.all([p(y),i]);else if(f==="action"){let w=new URL(e.url),S=w.pathname+w.search;throw Hi(405,{method:e.method,pathname:S,routeId:n.route.id})}else return{type:"data",result:void 0}}else if(g)a=await p(g);else{let y=new URL(e.url),w=y.pathname+y.search;throw Hi(404,{pathname:w})}}catch(g){return{type:"error",result:g}}finally{u&&e.signal.removeEventListener("abort",u)}return a}async function q9(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function Q9(e){let{result:t,type:n}=e;if(Nv(t)){let r;try{r=await q9(t)}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new xh(t.status,t.statusText,r),statusCode:t.status,headers:t.headers}:{type:"data",data:r,statusCode:t.status,headers:t.headers}}return n==="error"?Sw(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:J9(t),statusCode:Yd(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Yd(t)?t.status:void 0}:Sw(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function K9(e,t,n,r,i){let s=e.headers.get("Location");if(Ft(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!kv(s)){let o=r.slice(0,r.findIndex(a=>a.route.id===n)+1);s=dy(new URL(t.url),o,i,s),e.headers.set("Location",s)}return e}function vw(e,t,n,r){let i=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(kv(e)){let s=e,o=s.startsWith("//")?new URL(t.protocol+s):new URL(s);if(i.includes(o.protocol))throw new Error("Invalid redirect location");let a=Qi(o.pathname,n)!=null;if(o.origin===t.origin&&a)return o.pathname+o.search+o.hash}try{let s=r.createURL(e);if(i.includes(s.protocol))throw new Error("Invalid redirect location")}catch{}return e}function Wu(e,t,n,r){let i=e.createURL(_4(t)).toString(),s={signal:n};if(r&&Ir(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=py(r.formData):s.body=r.formData}return new Request(i,s)}function py(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function xw(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function G9(e,t,n,r=!1,i=!1){let s={},o=null,a,u=!1,c={},f=n&&Ci(n[1])?n[1].error:void 0;return e.forEach(p=>{if(!(p.route.id in t))return;let g=p.route.id,y=t[g];if(Ft(!kl(y),"Cannot handle redirect results in processLoaderData"),Ci(y)){let w=y.error;if(f!==void 0&&(w=f,f=void 0),o=o||{},i)o[g]=w;else{let S=ma(e,g);o[S.route.id]==null&&(o[S.route.id]=w)}r||(s[g]=g4),u||(u=!0,a=Yd(y.error)?y.error.status:500),y.headers&&(c[g]=y.headers)}else s[g]=y.data,y.statusCode&&y.statusCode!==200&&!u&&(a=y.statusCode),y.headers&&(c[g]=y.headers)}),f!==void 0&&n&&(o={[n[0]]:f},n[2]&&(s[n[2]]=void 0)),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function bw(e,t,n,r,i,s){let{loaderData:o,errors:a}=G9(t,n,r);return i.filter(u=>!u.matches||u.matches.some(c=>c.shouldLoad)).forEach(u=>{let{key:c,match:f,controller:p}=u;if(p&&p.signal.aborted)return;let g=s[c];if(Ft(g,"Did not find corresponding fetcher result"),Ci(g)){let y=ma(e.matches,f?.route.id);a&&a[y.route.id]||(a={...a,[y.route.id]:g.error}),e.fetchers.delete(c)}else if(kl(g))Ft(!1,"Unhandled fetcher revalidation redirect");else{let y=vo(g.data);e.fetchers.set(c,y)}}),{loaderData:o,errors:a}}function ww(e,t,n,r){let i=Object.entries(t).filter(([,s])=>s!==g4).reduce((s,[o,a])=>(s[o]=a,s),{});for(let s of n){let o=s.route.id;if(!t.hasOwnProperty(o)&&e.hasOwnProperty(o)&&s.route.loader&&(i[o]=e[o]),r&&r.hasOwnProperty(o))break}return i}function _w(e){return e?Ci(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function ma(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function Kf(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Hi(e,{pathname:t,routeId:n,method:r,type:i,message:s}={}){let o="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(o="Bad Request",r&&t&&n?a=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(a="Unable to encode submission body")):e===403?(o="Forbidden",a=`Route "${n}" does not match URL "${t}"`):e===404?(o="Not Found",a=`No route matches URL "${t}"`):e===405&&(o="Method Not Allowed",r&&t&&n?a=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(a=`Invalid request method "${r.toUpperCase()}"`)),new xh(e||500,o,new Error(a),!0)}function Gf(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,i]=t[n];if(kl(i))return{key:r,result:i}}}function _4(e){let t=typeof e=="string"?Ra(e):e;return Qs({...t,hash:""})}function Y9(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function J9(e){return new xh(e.init?.status??500,e.init?.statusText??"Internal Server Error",e.data)}function X9(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,n])=>typeof t=="string"&&Z9(n))}function Z9(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function eE(e){return Nv(e.result)&&p4.has(e.result.status)}function Ci(e){return e.type==="error"}function kl(e){return(e&&e.type)==="redirect"}function Sw(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function Nv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function tE(e){return p4.has(e)}function nE(e){return Nv(e)&&tE(e.status)&&e.headers.has("Location")}function rE(e){return A9.has(e.toUpperCase())}function Ir(e){return O9.has(e.toUpperCase())}function Pv(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Up(e,t){let n=typeof t=="string"?Ra(t).search:t.search;if(e[e.length-1].route.index&&Pv(n||""))return e[e.length-1];let r=u4(e);return r[r.length-1]}function Cw(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:o}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Y0(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function iE(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function ud(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function sE(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function vo(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function oE(e,t){try{let n=e.sessionStorage.getItem(m4);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&t.set(i,new Set(s||[]))}}catch{}}function aE(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(m4,JSON.stringify(n))}catch(r){Vn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function kw(){let e,t,n=new Promise((r,i)=>{e=async s=>{r(s);try{await n}catch{}},t=async s=>{i(s);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var zl=N.createContext(null);zl.displayName="DataRouter";var wh=N.createContext(null);wh.displayName="DataRouterState";var S4=N.createContext(!1);function lE(){return N.useContext(S4)}var Ov=N.createContext({isTransitioning:!1});Ov.displayName="ViewTransition";var C4=N.createContext(new Map);C4.displayName="Fetchers";var uE=N.createContext(null);uE.displayName="Await";var Yi=N.createContext(null);Yi.displayName="Navigation";var Om=N.createContext(null);Om.displayName="Location";var Ss=N.createContext({outlet:null,matches:[],isDataRoute:!1});Ss.displayName="Route";var Rv=N.createContext(null);Rv.displayName="RouteError";var k4="REACT_ROUTER_ERROR",cE="REDIRECT",dE="ROUTE_ERROR_RESPONSE";function hE(e){if(e.startsWith(`${k4}:${cE}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function fE(e){if(e.startsWith(`${k4}:${dE}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new xh(t.status,t.statusText,t.data)}catch{}}function pE(e,{relative:t}={}){Ft(_h(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=N.useContext(Yi),{hash:i,pathname:s,search:o}=Sh(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:Vs([n,s])),r.createHref({pathname:a,search:o,hash:i})}function _h(){return N.useContext(Om)!=null}function Cs(){return Ft(_h(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Om).location}var E4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function j4(e){N.useContext(Yi).static||N.useLayoutEffect(e)}function Rm(){let{isDataRoute:e}=N.useContext(Ss);return e?TE():mE()}function mE(){Ft(_h(),"useNavigate() may be used only in the context of a <Router> component.");let e=N.useContext(zl),{basename:t,navigator:n}=N.useContext(Yi),{matches:r}=N.useContext(Ss),{pathname:i}=Cs(),s=JSON.stringify(Ev(r)),o=N.useRef(!1);return j4(()=>{o.current=!0}),N.useCallback((u,c={})=>{if(Vn(o.current,E4),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=jv(u,JSON.parse(s),i,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Vs([t,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[t,n,s,i,e])}var gE=N.createContext(null);function yE(e){let t=N.useContext(Ss).outlet;return N.useMemo(()=>t&&N.createElement(gE.Provider,{value:e},t),[t,e])}function T4(){let{matches:e}=N.useContext(Ss),t=e[e.length-1];return t?t.params:{}}function Sh(e,{relative:t}={}){let{matches:n}=N.useContext(Ss),{pathname:r}=Cs(),i=JSON.stringify(Ev(n));return N.useMemo(()=>jv(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function vE(e,t,n,r,i){Ft(_h(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=N.useContext(Yi),{matches:o}=N.useContext(Ss),a=o[o.length-1],u=a?a.params:{},c=a?a.pathname:"/",f=a?a.pathnameBase:"/",p=a&&a.route;{let P=p&&p.path||"";P4(c,!p||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let g=Cs(),y;y=g;let w=y.pathname||"/",S=w;if(f!=="/"){let P=f.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(P.length).join("/")}let C=pa(e,{pathname:S});return Vn(p||C!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Vn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),SE(C&&C.map(P=>Object.assign({},P,{params:Object.assign({},u,P.params),pathname:Vs([f,s.encodeLocation?s.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?f:Vs([f,s.encodeLocation?s.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),o,n,r,i)}function xE(){let e=Lv(),t=Yd(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:s},"ErrorBoundary")," or"," ",N.createElement("code",{style:s},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),n?N.createElement("pre",{style:i},n):null,o)}var bE=N.createElement(xE,null),N4=class extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=fE(e.digest);n&&(e=n)}let t=e!==void 0?N.createElement(Ss.Provider,{value:this.props.routeContext},N.createElement(Rv.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?N.createElement(wE,{error:e},t):t}};N4.contextType=S4;var J0=new WeakMap;function wE({children:e,error:t}){let{basename:n}=N.useContext(Yi);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=hE(t.digest);if(r){let i=J0.get(t);if(i)throw i;let s=d4(r.location,n);if(c4&&!J0.get(t))if(s.isExternal||r.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:r.replace}));throw J0.set(t,o),o}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return e}function _E({routeContext:e,match:t,children:n}){let r=N.useContext(zl);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(Ss.Provider,{value:e},n)}function SE(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,o=n?.errors;if(o!=null){let f=s.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);Ft(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let a=!1,u=-1;if(n)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=f),p.route.id){let{loaderData:g,errors:y}=n,w=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||w){a=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}let c=n&&r?(f,p)=>{r(f,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:bh(n.matches),errorInfo:p})}:void 0;return s.reduceRight((f,p,g)=>{let y,w=!1,S=null,C=null;n&&(y=o&&p.route.id?o[p.route.id]:void 0,S=p.route.errorElement||bE,a&&(u<0&&g===0?(P4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,C=null):u===g&&(w=!0,C=p.route.hydrateFallbackElement||null)));let E=t.concat(s.slice(0,g+1)),P=()=>{let A;return y?A=S:w?A=C:p.route.Component?A=N.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=f,N.createElement(_E,{match:p,routeContext:{outlet:f,matches:E,isDataRoute:n!=null},children:A})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?N.createElement(N4,{location:n.location,revalidation:n.revalidation,component:S,error:y,children:P(),routeContext:{outlet:null,matches:E,isDataRoute:!0},onError:c}):P()},null)}function Av(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CE(e){let t=N.useContext(zl);return Ft(t,Av(e)),t}function kE(e){let t=N.useContext(wh);return Ft(t,Av(e)),t}function EE(e){let t=N.useContext(Ss);return Ft(t,Av(e)),t}function Iv(e){let t=EE(e),n=t.matches[t.matches.length-1];return Ft(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function jE(){return Iv("useRouteId")}function Lv(){let e=N.useContext(Rv),t=kE("useRouteError"),n=Iv("useRouteError");return e!==void 0?e:t.errors?.[n]}function TE(){let{router:e}=CE("useNavigate"),t=Iv("useNavigate"),n=N.useRef(!1);return j4(()=>{n.current=!0}),N.useCallback(async(i,s={})=>{Vn(n.current,E4),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var Ew={};function P4(e,t,n){!t&&!Ew[e]&&(Ew[e]=!0,Vn(!1,n))}var jw={};function Tw(e,t){!e&&!jw[t]&&(jw[t]=!0,console.warn(t))}var NE="useOptimistic",Nw=n4[NE],PE=()=>{};function OE(e){return Nw?Nw(e):[e,PE]}function RE(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Vn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:N.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Vn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:N.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Vn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:N.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var AE=["HydrateFallback","hydrateFallbackElement"],IE=class{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function LE({router:e,flushSync:t,onError:n,unstable_useTransitions:r}){r=lE()||r;let[s,o]=N.useState(e.state),[a,u]=OE(s),[c,f]=N.useState(),[p,g]=N.useState({isTransitioning:!1}),[y,w]=N.useState(),[S,C]=N.useState(),[E,P]=N.useState(),A=N.useRef(new Map),$=N.useCallback((z,{deletedFetchers:q,newErrors:B,flushSync:ae,viewTransitionOpts:oe})=>{B&&n&&Object.values(B).forEach(Y=>n(Y,{location:z.location,params:z.matches[0]?.params??{},unstable_pattern:bh(z.matches)})),z.fetchers.forEach((Y,H)=>{Y.data!==void 0&&A.current.set(H,Y.data)}),q.forEach(Y=>A.current.delete(Y)),Tw(ae===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let xe=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(Tw(oe==null||xe,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!oe||!xe){t&&ae?t(()=>o(z)):r===!1?o(z):N.startTransition(()=>{r===!0&&u(Y=>Pw(Y,z)),o(z)});return}if(t&&ae){t(()=>{S&&(y?.resolve(),S.skipTransition()),g({isTransitioning:!0,flushSync:!0,currentLocation:oe.currentLocation,nextLocation:oe.nextLocation})});let Y=e.window.document.startViewTransition(()=>{t(()=>o(z))});Y.finished.finally(()=>{t(()=>{w(void 0),C(void 0),f(void 0),g({isTransitioning:!1})})}),t(()=>C(Y));return}S?(y?.resolve(),S.skipTransition(),P({state:z,currentLocation:oe.currentLocation,nextLocation:oe.nextLocation})):(f(z),g({isTransitioning:!0,flushSync:!1,currentLocation:oe.currentLocation,nextLocation:oe.nextLocation}))},[e.window,t,S,y,r,u,n]);N.useLayoutEffect(()=>e.subscribe($),[e,$]),N.useEffect(()=>{p.isTransitioning&&!p.flushSync&&w(new IE)},[p]),N.useEffect(()=>{if(y&&c&&e.window){let z=c,q=y.promise,B=e.window.document.startViewTransition(async()=>{r===!1?o(z):N.startTransition(()=>{r===!0&&u(ae=>Pw(ae,z)),o(z)}),await q});B.finished.finally(()=>{w(void 0),C(void 0),f(void 0),g({isTransitioning:!1})}),C(B)}},[c,y,e.window,r,u]),N.useEffect(()=>{y&&c&&a.location.key===c.location.key&&y.resolve()},[y,S,a.location,c]),N.useEffect(()=>{!p.isTransitioning&&E&&(f(E.state),g({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),P(void 0))},[p.isTransitioning,E]);let W=N.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:z=>e.navigate(z),push:(z,q,B)=>e.navigate(z,{state:q,preventScrollReset:B?.preventScrollReset}),replace:(z,q,B)=>e.navigate(z,{replace:!0,state:q,preventScrollReset:B?.preventScrollReset})}),[e]),D=e.basename||"/",R=N.useMemo(()=>({router:e,navigator:W,static:!1,basename:D,onError:n}),[e,W,D,n]);return N.createElement(N.Fragment,null,N.createElement(zl.Provider,{value:R},N.createElement(wh.Provider,{value:a},N.createElement(C4.Provider,{value:A.current},N.createElement(Ov.Provider,{value:p},N.createElement(FE,{basename:D,location:a.location,navigationType:a.historyAction,navigator:W,unstable_useTransitions:r},N.createElement(DE,{routes:e.routes,future:e.future,state:a,onError:n})))))),null)}function Pw(e,t){return{...e,navigation:t.navigation.state!=="idle"?t.navigation:e.navigation,revalidation:t.revalidation!=="idle"?t.revalidation:e.revalidation,actionData:t.navigation.state!=="submitting"?t.actionData:e.actionData,fetchers:t.fetchers}}var DE=N.memo(ME);function ME({routes:e,future:t,state:n,onError:r}){return vE(e,void 0,n,r,t)}function Dv(e){return yE(e.context)}function FE({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:o}){Ft(!_h(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:a,navigator:i,static:s,unstable_useTransitions:o,future:{}}),[a,i,s,o]);typeof n=="string"&&(n=Ra(n));let{pathname:c="/",search:f="",hash:p="",state:g=null,key:y="default"}=n,w=N.useMemo(()=>{let S=Qi(c,a);return S==null?null:{location:{pathname:S,search:f,hash:p,state:g,key:y},navigationType:r}},[a,c,f,p,g,y,r]);return Vn(w!=null,`<Router basename="${a}"> is not able to match the URL "${c}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:N.createElement(Yi.Provider,{value:u},N.createElement(Om.Provider,{children:t,value:w}))}var Hp="get",Vp="application/x-www-form-urlencoded";function Am(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function BE(e){return Am(e)&&e.tagName.toLowerCase()==="button"}function zE(e){return Am(e)&&e.tagName.toLowerCase()==="form"}function $E(e){return Am(e)&&e.tagName.toLowerCase()==="input"}function UE(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function HE(e,t){return e.button===0&&(!t||t==="_self")&&!UE(e)}function my(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function VE(e,t){let n=my(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}var Yf=null;function WE(){if(Yf===null)try{new FormData(document.createElement("form"),0),Yf=!1}catch{Yf=!0}return Yf}var qE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function X0(e){return e!=null&&!qE.has(e)?(Vn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vp}"`),null):e}function QE(e,t){let n,r,i,s,o;if(zE(e)){let a=e.getAttribute("action");r=a?Qi(a,t):null,n=e.getAttribute("method")||Hp,i=X0(e.getAttribute("enctype"))||Vp,s=new FormData(e)}else if(BE(e)||$E(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||a.getAttribute("action");if(r=u?Qi(u,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Hp,i=X0(e.getAttribute("formenctype"))||X0(a.getAttribute("enctype"))||Vp,s=new FormData(a,e),!WE()){let{name:c,type:f,value:p}=e;if(f==="image"){let g=c?`${c}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else c&&s.append(c,p)}}else{if(Am(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hp,r=null,i=Vp,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Mv(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function KE(e,t,n,r){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:t&&Qi(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function GE(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function YE(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function JE(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await GE(s,n);return o.links?o.links():[]}return[]}));return tj(r.flat(1).filter(YE).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Ow(e,t,n,r,i,s){let o=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,a=(u,c)=>n[c].pathname!==u.pathname||n[c].route.path?.endsWith("*")&&n[c].params["*"]!==u.params["*"];return s==="assets"?t.filter((u,c)=>o(u,c)||a(u,c)):s==="data"?t.filter((u,c)=>{let f=r.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(o(u,c)||a(u,c))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function XE(e,t,{includeHydrateFallback:n}={}){return ZE(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function ZE(e){return[...new Set(e)]}function ej(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function tj(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(ej(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function O4(){let e=N.useContext(zl);return Mv(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function nj(){let e=N.useContext(wh);return Mv(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Fv=N.createContext(void 0);Fv.displayName="FrameworkContext";function R4(){let e=N.useContext(Fv);return Mv(e,"You must render this element inside a <HydratedRouter> element"),e}function rj(e,t){let n=N.useContext(Fv),[r,i]=N.useState(!1),[s,o]=N.useState(!1),{onFocus:a,onBlur:u,onMouseEnter:c,onMouseLeave:f,onTouchStart:p}=t,g=N.useRef(null);N.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let S=E=>{E.forEach(P=>{o(P.isIntersecting)})},C=new IntersectionObserver(S,{threshold:.5});return g.current&&C.observe(g.current),()=>{C.disconnect()}}},[e]),N.useEffect(()=>{if(r){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[r]);let y=()=>{i(!0)},w=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,g,{}]:[s,g,{onFocus:cd(a,y),onBlur:cd(u,w),onMouseEnter:cd(c,y),onMouseLeave:cd(f,w),onTouchStart:cd(p,y)}]:[!1,g,{}]}function cd(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function ij({page:e,...t}){let{router:n}=O4(),r=N.useMemo(()=>pa(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?N.createElement(oj,{page:e,matches:r,...t}):null}function sj(e){let{manifest:t,routeModules:n}=R4(),[r,i]=N.useState([]);return N.useEffect(()=>{let s=!1;return JE(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function oj({page:e,matches:t,...n}){let r=Cs(),{future:i,manifest:s,routeModules:o}=R4(),{basename:a}=O4(),{loaderData:u,matches:c}=nj(),f=N.useMemo(()=>Ow(e,t,c,s,r,"data"),[e,t,c,s,r]),p=N.useMemo(()=>Ow(e,t,c,s,r,"assets"),[e,t,c,s,r]),g=N.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let S=new Set,C=!1;if(t.forEach(P=>{let A=s.routes[P.route.id];!A||!A.hasLoader||(!f.some($=>$.route.id===P.route.id)&&P.route.id in u&&o[P.route.id]?.shouldRevalidate||A.hasClientLoader?C=!0:S.add(P.route.id))}),S.size===0)return[];let E=KE(e,a,i.unstable_trailingSlashAwareDataRequests,"data");return C&&S.size>0&&E.searchParams.set("_routes",t.filter(P=>S.has(P.route.id)).map(P=>P.route.id).join(",")),[E.pathname+E.search]},[a,i.unstable_trailingSlashAwareDataRequests,u,r,s,f,t,e,o]),y=N.useMemo(()=>XE(p,s),[p,s]),w=sj(p);return N.createElement(N.Fragment,null,g.map(S=>N.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),y.map(S=>N.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),w.map(({key:S,link:C})=>N.createElement("link",{key:S,nonce:n.nonce,...C,crossOrigin:C.crossOrigin??n.crossOrigin})))}function aj(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var lj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lj&&(window.__reactRouterVersion="7.13.0")}catch{}function uj(e,t){return M9({basename:t?.basename,getContext:t?.getContext,future:t?.future,history:Z8({window:t?.window}),hydrationData:cj(),routes:e,mapRouteProperties:RE,hydrationRouteProperties:AE,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window,unstable_instrumentations:t?.unstable_instrumentations}).initialize()}function cj(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:dj(e.errors)}),e}function dj(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new xh(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}var A4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kr=N.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:g,...y},w){let{basename:S,unstable_useTransitions:C}=N.useContext(Yi),E=typeof c=="string"&&A4.test(c),P=d4(c,S);c=P.to;let A=pE(c,{relative:i}),[$,W,D]=rj(r,y),R=pj(c,{replace:o,state:a,target:u,preventScrollReset:f,relative:i,viewTransition:p,unstable_defaultShouldRevalidate:g,unstable_useTransitions:C});function z(B){t&&t(B),B.defaultPrevented||R(B)}let q=N.createElement("a",{...y,...D,href:P.absoluteURL||A,onClick:P.isExternal||s?t:z,ref:aj(w,W),target:u,"data-discover":!E&&n==="render"?"true":void 0});return $&&!E?N.createElement(N.Fragment,null,q,N.createElement(ij,{page:A})):q});kr.displayName="Link";var $l=N.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:u,...c},f){let p=Sh(o,{relative:c.relative}),g=Cs(),y=N.useContext(wh),{navigator:w,basename:S}=N.useContext(Yi),C=y!=null&&xj(p)&&a===!0,E=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,P=g.pathname,A=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(P=P.toLowerCase(),A=A?A.toLowerCase():null,E=E.toLowerCase()),A&&S&&(A=Qi(A,S)||A);const $=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let W=P===E||!i&&P.startsWith(E)&&P.charAt($)==="/",D=A!=null&&(A===E||!i&&A.startsWith(E)&&A.charAt(E.length)==="/"),R={isActive:W,isPending:D,isTransitioning:C},z=W?t:void 0,q;typeof r=="function"?q=r(R):q=[r,W?"active":null,D?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let B=typeof s=="function"?s(R):s;return N.createElement(kr,{...c,"aria-current":z,className:q,ref:f,style:B,to:o,viewTransition:a},typeof u=="function"?u(R):u)});$l.displayName="NavLink";var hj=N.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Hp,action:a,onSubmit:u,relative:c,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:g,...y},w)=>{let{unstable_useTransitions:S}=N.useContext(Yi),C=yj(),E=vj(a,{relative:c}),P=o.toLowerCase()==="get"?"get":"post",A=typeof a=="string"&&A4.test(a),$=W=>{if(u&&u(W),W.defaultPrevented)return;W.preventDefault();let D=W.nativeEvent.submitter,R=D?.getAttribute("formmethod")||o,z=()=>C(D||W.currentTarget,{fetcherKey:t,method:R,navigate:n,replace:i,state:s,relative:c,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:g});S&&n!==!1?N.startTransition(()=>z()):z()};return N.createElement("form",{ref:w,method:P,action:E,onSubmit:r?u:$,...y,"data-discover":!A&&e==="render"?"true":void 0})});hj.displayName="Form";function fj(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I4(e){let t=N.useContext(zl);return Ft(t,fj(e)),t}function pj(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o,unstable_defaultShouldRevalidate:a,unstable_useTransitions:u}={}){let c=Rm(),f=Cs(),p=Sh(e,{relative:s});return N.useCallback(g=>{if(HE(g,t)){g.preventDefault();let y=n!==void 0?n:Qs(f)===Qs(p),w=()=>c(e,{replace:y,state:r,preventScrollReset:i,relative:s,viewTransition:o,unstable_defaultShouldRevalidate:a});u?N.startTransition(()=>w()):w()}},[f,c,p,n,r,t,e,i,s,o,a,u])}function L4(e){Vn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=N.useRef(my(e)),n=N.useRef(!1),r=Cs(),i=N.useMemo(()=>VE(r.search,n.current?null:t.current),[r.search]),s=Rm(),o=N.useCallback((a,u)=>{const c=my(typeof a=="function"?a(new URLSearchParams(i)):a);n.current=!0,s("?"+c,u)},[s,i]);return[i,o]}var mj=0,gj=()=>`__${String(++mj)}__`;function yj(){let{router:e}=I4("useSubmit"),{basename:t}=N.useContext(Yi),n=jE(),r=e.fetch,i=e.navigate;return N.useCallback(async(s,o={})=>{let{action:a,method:u,encType:c,formData:f,body:p}=QE(s,t);if(o.navigate===!1){let g=o.fetcherKey||gj();await r(g,n,o.action||a,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||u,formEncType:o.encType||c,flushSync:o.flushSync})}else await i(o.action||a,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||u,formEncType:o.encType||c,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,t,n])}function vj(e,{relative:t}={}){let{basename:n}=N.useContext(Yi),r=N.useContext(Ss);Ft(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Sh(e||".",{relative:t})},o=Cs();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),u=a.getAll("index");if(u.some(f=>f==="")){a.delete("index"),u.filter(p=>p).forEach(p=>a.append("index",p));let f=a.toString();s.search=f?`?${f}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Vs([n,s.pathname])),Qs(s)}function xj(e,{relative:t}={}){let n=N.useContext(Ov);Ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=I4("useViewTransitionState"),i=Sh(e,{relative:t});if(!n.isTransitioning)return!1;let s=Qi(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Qi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Zp(i.pathname,o)!=null||Zp(i.pathname,s)!=null}var Im=r4();const Jf=Gi(Im);function bj(e){return N.createElement(LE,{flushSync:Im.flushSync,...e})}var yc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},wj={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},_j=class{#e=wj;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},El=new _j;function Sj(e){setTimeout(e,0)}var Al=typeof window>"u"||"Deno"in globalThis;function Gr(){}function Cj(e,t){return typeof e=="function"?e(t):e}function gy(e){return typeof e=="number"&&e>=0&&e!==1/0}function D4(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Sa(e,t){return typeof e=="function"?e(t):e}function Wi(e,t){return typeof e=="function"?e(t):e}function Rw(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==Bv(o,t.options))return!1}else if(!Jd(t.queryKey,o))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||i&&i!==t.state.fetchStatus||s&&!s(t))}function Aw(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(Il(t.options.mutationKey)!==Il(s))return!1}else if(!Jd(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function Bv(e,t){return(t?.queryKeyHashFn||Il)(e)}function Il(e){return JSON.stringify(e,(t,n)=>yy(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Jd(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Jd(e[n],t[n])):!1}var kj=Object.prototype.hasOwnProperty;function M4(e,t,n=0){if(e===t)return e;if(n>500)return t;const r=Iw(e)&&Iw(t);if(!r&&!(yy(e)&&yy(t)))return t;const s=(r?e:Object.keys(e)).length,o=r?t:Object.keys(t),a=o.length,u=r?new Array(a):{};let c=0;for(let f=0;f<a;f++){const p=r?f:o[f],g=e[p],y=t[p];if(g===y){u[p]=g,(r?f<s:kj.call(e,p))&&c++;continue}if(g===null||y===null||typeof g!="object"||typeof y!="object"){u[p]=y;continue}const w=M4(g,y,n+1);u[p]=w,w===g&&c++}return s===a&&c===s?e:u}function em(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Iw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function yy(e){if(!Lw(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Lw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Lw(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ej(e){return new Promise(t=>{El.setTimeout(t,e)})}function vy(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?M4(e,t):t}function jj(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Tj(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var zv=Symbol();function F4(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===zv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function $v(e,t){return typeof e=="function"?e(...t):!!e}function Nj(e,t,n){let r=!1,i;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(i??=t(),r||(r=!0,i.aborted?n():i.addEventListener("abort",n,{once:!0})),i)}),e}var Pj=class extends yc{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Al&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Uv=new Pj;function xy(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}var Oj=Sj;function Rj(){let e=[],t=0,n=a=>{a()},r=a=>{a()},i=Oj;const s=a=>{t?e.push(a):i(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&i(()=>{r(()=>{a.forEach(u=>{n(u)})})})};return{batch:a=>{let u;t++;try{u=a()}finally{t--,t||o()}return u},batchCalls:a=>(...u)=>{s(()=>{a(...u)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var or=Rj(),Aj=class extends yc{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Al&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},tm=new Aj;function Ij(e){return Math.min(1e3*2**e,3e4)}function B4(e){return(e??"online")==="online"?tm.isOnline():!0}var by=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function z4(e){let t=!1,n=0,r;const i=xy(),s=()=>i.status!=="pending",o=S=>{if(!s()){const C=new by(S);g(C),e.onCancel?.(C)}},a=()=>{t=!0},u=()=>{t=!1},c=()=>Uv.isFocused()&&(e.networkMode==="always"||tm.isOnline())&&e.canRun(),f=()=>B4(e.networkMode)&&e.canRun(),p=S=>{s()||(r?.(),i.resolve(S))},g=S=>{s()||(r?.(),i.reject(S))},y=()=>new Promise(S=>{r=C=>{(s()||c())&&S(C)},e.onPause?.()}).then(()=>{r=void 0,s()||e.onContinue?.()}),w=()=>{if(s())return;let S;const C=n===0?e.initialPromise:void 0;try{S=C??e.fn()}catch(E){S=Promise.reject(E)}Promise.resolve(S).then(p).catch(E=>{if(s())return;const P=e.retry??(Al?0:3),A=e.retryDelay??Ij,$=typeof A=="function"?A(n,E):A,W=P===!0||typeof P=="number"&&n<P||typeof P=="function"&&P(n,E);if(t||!W){g(E);return}n++,e.onFail?.(n,E),Ej($).then(()=>c()?void 0:y()).then(()=>{t?g(E):w()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r?.(),i),cancelRetry:a,continueRetry:u,canStart:f,start:()=>(f()?w():y().then(w),i)}}var $4=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),gy(this.gcTime)&&(this.#e=El.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Al?1/0:300*1e3))}clearGcTimeout(){this.#e&&(El.clearTimeout(this.#e),this.#e=void 0)}},Lj=class extends $4{#e;#t;#n;#i;#r;#o;#a;constructor(e){super(),this.#a=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#n=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Mw(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=Mw(this.options);t.data!==void 0&&(this.setState(Dw(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=vy(this.state.data,e,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(Gr).catch(Gr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Wi(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===zv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Sa(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!D4(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const a=this.observers.find(u=>u.options.queryFn);a&&this.setOptions(a.options)}const n=new AbortController,r=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},i=()=>{const a=F4(this.options,t),c=(()=>{const f={client:this.#i,queryKey:this.queryKey,meta:this.meta};return r(f),f})();return this.#a=!1,this.options.persister?this.options.persister(a,c,this):a(c)},o=(()=>{const a={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:i};return r(a),a})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#s({type:"fetch",meta:o.fetchOptions?.meta}),this.#r=z4({initialPromise:t?.initialPromise,fn:o.fetchFn,onCancel:a=>{a instanceof by&&a.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(a,u)=>{this.#s({type:"failed",failureCount:a,error:u})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const a=await this.#r.start();if(a===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(a),this.#n.config.onSuccess?.(a,this),this.#n.config.onSettled?.(a,this.state.error,this),a}catch(a){if(a instanceof by){if(a.silent)return this.#r.promise;if(a.revert){if(this.state.data===void 0)throw a;return this.state.data}}throw this.#s({type:"error",error:a}),this.#n.config.onError?.(a,this),this.#n.config.onSettled?.(this.state.data,a,this),a}finally{this.scheduleGc()}}#s(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...U4(n.data,this.options),fetchMeta:e.meta??null};case"success":const r={...n,...Dw(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?r:void 0,r;case"error":const i=e.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),or.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function U4(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:B4(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Dw(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Mw(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Dj=class extends yc{constructor(e,t){super(),this.options=t,this.#e=e,this.#s=null,this.#a=xy(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#i=void 0;#r;#o;#a;#s;#m;#h;#f;#u;#c;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Fw(this.#t,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return wy(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return wy(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Wi(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#t.setOptions(this.options),t._defaulted&&!em(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&Bw(this.#t,n,this.options,t)&&this.#d(),this.updateResult(),r&&(this.#t!==n||Wi(this.options.enabled,this.#t)!==Wi(t.enabled,this.#t)||Sa(this.options.staleTime,this.#t)!==Sa(t.staleTime,this.#t))&&this.#g();const i=this.#y();r&&(this.#t!==n||Wi(this.options.enabled,this.#t)!==Wi(t.enabled,this.#t)||i!==this.#l)&&this.#v(i)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(t,e);return Fj(this,n)&&(this.#i=n,this.#o=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#i}trackResult(e,t){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),t?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#d(e){this.#_();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Gr)),t}#g(){this.#b();const e=Sa(this.options.staleTime,this.#t);if(Al||this.#i.isStale||!gy(e))return;const n=D4(this.#i.dataUpdatedAt,e)+1;this.#u=El.setTimeout(()=>{this.#i.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#l=e,!(Al||Wi(this.options.enabled,this.#t)===!1||!gy(this.#l)||this.#l===0)&&(this.#c=El.setInterval(()=>{(this.options.refetchIntervalInBackground||Uv.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#v(this.#y())}#b(){this.#u&&(El.clearTimeout(this.#u),this.#u=void 0)}#w(){this.#c&&(El.clearInterval(this.#c),this.#c=void 0)}createResult(e,t){const n=this.#t,r=this.options,i=this.#i,s=this.#r,o=this.#o,u=e!==n?e.state:this.#n,{state:c}=e;let f={...c},p=!1,g;if(t._optimisticResults){const z=this.hasListeners(),q=!z&&Fw(e,t),B=z&&Bw(e,n,t,r);(q||B)&&(f={...f,...U4(c.data,e.options)}),t._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:w,status:S}=f;g=f.data;let C=!1;if(t.placeholderData!==void 0&&g===void 0&&S==="pending"){let z;i?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(z=i.data,C=!0):z=typeof t.placeholderData=="function"?t.placeholderData(this.#f?.state.data,this.#f):t.placeholderData,z!==void 0&&(S="success",g=vy(i?.data,z,t),p=!0)}if(t.select&&g!==void 0&&!C)if(i&&g===s?.data&&t.select===this.#m)g=this.#h;else try{this.#m=t.select,g=t.select(g),g=vy(i?.data,g,t),this.#h=g,this.#s=null}catch(z){this.#s=z}this.#s&&(y=this.#s,g=this.#h,w=Date.now(),S="error");const E=f.fetchStatus==="fetching",P=S==="pending",A=S==="error",$=P&&E,W=g!==void 0,R={status:S,fetchStatus:f.fetchStatus,isPending:P,isSuccess:S==="success",isError:A,isInitialLoading:$,isLoading:$,data:g,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:w,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:E,isRefetching:E&&!P,isLoadingError:A&&!W,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:A&&W,isStale:Hv(e,t),refetch:this.refetch,promise:this.#a,isEnabled:Wi(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const z=R.data!==void 0,q=R.status==="error"&&!z,B=xe=>{q?xe.reject(R.error):z&&xe.resolve(R.data)},ae=()=>{const xe=this.#a=R.promise=xy();B(xe)},oe=this.#a;switch(oe.status){case"pending":e.queryHash===n.queryHash&&B(oe);break;case"fulfilled":(q||R.data!==oe.value)&&ae();break;case"rejected":(!q||R.error!==oe.reason)&&ae();break}}return R}updateResult(){const e=this.#i,t=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#o=this.options,this.#r.data!==void 0&&(this.#f=this.#t),em(t,e))return;this.#i=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#p.size)return!0;const s=new Set(i??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#i).some(o=>{const a=o;return this.#i[a]!==e[a]&&s.has(a)})};this.#S({listeners:n()})}#_(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#S(e){or.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Mj(e,t){return Wi(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Fw(e,t){return Mj(e,t)||e.state.data!==void 0&&wy(e,t,t.refetchOnMount)}function wy(e,t,n){if(Wi(t.enabled,e)!==!1&&Sa(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Hv(e,t)}return!1}function Bw(e,t,n,r){return(e!==t||Wi(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Hv(e,n)}function Hv(e,t){return Wi(t.enabled,e)!==!1&&e.isStaleByTime(Sa(t.staleTime,e))}function Fj(e,t){return!em(e.getCurrentResult(),t)}function zw(e){return{onFetch:(t,n)=>{const r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let a={pages:[],pageParams:[]},u=0;const c=async()=>{let f=!1;const p=w=>{Nj(w,()=>t.signal,()=>f=!0)},g=F4(t.options,t.fetchOptions),y=async(w,S,C)=>{if(f)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const P=(()=>{const D={client:t.client,queryKey:t.queryKey,pageParam:S,direction:C?"backward":"forward",meta:t.options.meta};return p(D),D})(),A=await g(P),{maxPages:$}=t.options,W=C?Tj:jj;return{pages:W(w.pages,A,$),pageParams:W(w.pageParams,S,$)}};if(i&&s.length){const w=i==="backward",S=w?Bj:$w,C={pages:s,pageParams:o},E=S(r,C);a=await y(C,E,w)}else{const w=e??s.length;do{const S=u===0?o[0]??r.initialPageParam:$w(r,a);if(u>0&&S==null)break;a=await y(a,S),u++}while(u<w)}return a};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=c}}}function $w(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Bj(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var zj=class extends $4{#e;#t;#n;#i;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||H4(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=z4({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(s,o)=>{this.#r({type:"failed",failureCount:s,error:o})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",i=!this.#i.canStart();try{if(r)t();else{this.#r({type:"pending",variables:e,isPaused:i}),this.#n.config.onMutate&&await this.#n.config.onMutate(e,this,n);const o=await this.options.onMutate?.(e,n);o!==this.state.context&&this.#r({type:"pending",context:o,variables:e,isPaused:i})}const s=await this.#i.start();return await this.#n.config.onSuccess?.(s,e,this.state.context,this,n),await this.options.onSuccess?.(s,e,this.state.context,n),await this.#n.config.onSettled?.(s,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(s,null,e,this.state.context,n),this.#r({type:"success",data:s}),s}catch(s){try{await this.#n.config.onError?.(s,e,this.state.context,this,n)}catch(o){Promise.reject(o)}try{await this.options.onError?.(s,e,this.state.context,n)}catch(o){Promise.reject(o)}try{await this.#n.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this,n)}catch(o){Promise.reject(o)}try{await this.options.onSettled?.(void 0,s,e,this.state.context,n)}catch(o){Promise.reject(o)}throw this.#r({type:"error",error:s}),s}finally{this.#n.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),or.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function H4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $j=class extends yc{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,n){const r=new zj({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#e.add(e);const t=Xf(e);if(typeof t=="string"){const n=this.#t.get(t);n?n.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=Xf(e);if(typeof t=="string"){const n=this.#t.get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Xf(e);if(typeof t=="string"){const r=this.#t.get(t)?.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=Xf(e);return typeof t=="string"?this.#t.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){or.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Aw(t,n))}findAll(e={}){return this.getAll().filter(t=>Aw(e,t))}notify(e){or.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return or.batch(()=>Promise.all(e.map(t=>t.continue().catch(Gr))))}};function Xf(e){return e.options.scope?.id}var Uj=class extends yc{#e;#t=void 0;#n;#i;constructor(t,n){super(),this.#e=t,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#e.defaultMutationOptions(t),em(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Il(n.mutationKey)!==Il(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#r(),this.#o(t)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#o()}mutate(t,n){return this.#i=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(t)}#r(){const t=this.#n?.state??H4();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#o(t){or.batch(()=>{if(this.#i&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(t?.type==="success"){try{this.#i.onSuccess?.(t.data,n,r,i)}catch(s){Promise.reject(s)}try{this.#i.onSettled?.(t.data,null,n,r,i)}catch(s){Promise.reject(s)}}else if(t?.type==="error"){try{this.#i.onError?.(t.error,n,r,i)}catch(s){Promise.reject(s)}try{this.#i.onSettled?.(void 0,t.error,n,r,i)}catch(s){Promise.reject(s)}}}this.listeners.forEach(n=>{n(this.#t)})})}},Hj=class extends yc{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const r=t.queryKey,i=t.queryHash??Bv(r,t);let s=this.get(i);return s||(s=new Lj({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(s)),s}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){or.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Rw(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>Rw(e,n)):t}notify(e){or.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){or.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){or.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Vj=class{#e;#t;#n;#i;#r;#o;#a;#s;constructor(e={}){this.#e=e.queryCache||new Hj,this.#t=e.mutationCache||new $j,this.#n=e.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=Uv.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=tm.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#e.build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Sa(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=this.#e.get(r.queryHash)?.state.data,o=Cj(t,s);if(o!==void 0)return this.#e.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return or.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;or.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e;return or.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=or.batch(()=>this.#e.findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Gr).catch(Gr)}invalidateQueries(e,t={}){return or.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=or.batch(()=>this.#e.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Gr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Gr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(Sa(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Gr).catch(Gr)}fetchInfiniteQuery(e){return e.behavior=zw(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Gr).catch(Gr)}ensureInfiniteQueryData(e){return e.behavior=zw(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return tm.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#i.set(Il(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#i.values()],n={};return t.forEach(r=>{Jd(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){this.#r.set(Il(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(r=>{Jd(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Bv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===zv&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},V4=N.createContext(void 0),Ti=e=>{const t=N.useContext(V4);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Wj=({client:e,children:t})=>(N.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),h.jsx(V4.Provider,{value:e,children:t})),W4=N.createContext(!1),qj=()=>N.useContext(W4);W4.Provider;function Qj(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Kj=N.createContext(Qj()),Gj=()=>N.useContext(Kj),Yj=(e,t,n)=>{const r=n?.state.error&&typeof e.throwOnError=="function"?$v(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||r)&&(t.isReset()||(e.retryOnMount=!1))},Jj=e=>{N.useEffect(()=>{e.clearReset()},[e])},Xj=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||$v(n,[e.error,r])),Zj=e=>{if(e.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},eT=(e,t)=>e.isLoading&&e.isFetching&&!t,tT=(e,t)=>e?.suspense&&t.isPending,Uw=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function nT(e,t,n){const r=qj(),i=Gj(),s=Ti(),o=s.defaultQueryOptions(e);s.getDefaultOptions().queries?._experimental_beforeQuery?.(o);const a=s.getQueryCache().get(o.queryHash);o._optimisticResults=r?"isRestoring":"optimistic",Zj(o),Yj(o,i,a),Jj(i);const u=!s.getQueryCache().get(o.queryHash),[c]=N.useState(()=>new t(s,o)),f=c.getOptimisticResult(o),p=!r&&e.subscribed!==!1;if(N.useSyncExternalStore(N.useCallback(g=>{const y=p?c.subscribe(or.batchCalls(g)):Gr;return c.updateResult(),y},[c,p]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),N.useEffect(()=>{c.setOptions(o)},[o,c]),tT(o,f))throw Uw(o,c,i);if(Xj({result:f,errorResetBoundary:i,throwOnError:o.throwOnError,query:a,suspense:o.suspense}))throw f.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(o,f),o.experimental_prefetchInRender&&!Al&&eT(f,r)&&(u?Uw(o,c,i):a?.promise)?.catch(Gr).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?f:c.trackResult(f)}function ks(e,t){return nT(e,Dj)}function Aa(e,t){const n=Ti(),[r]=N.useState(()=>new Uj(n,e));N.useEffect(()=>{r.setOptions(e)},[r,e]);const i=N.useSyncExternalStore(N.useCallback(o=>r.subscribe(or.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=N.useCallback((o,a)=>{r.mutate(o,a).catch(Gr)},[r]);if(i.error&&$v(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}var Z0={},e1={},t1={},Hw;function rT(){return Hw||(Hw=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];if(typeof window<"u"){var a;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(a=window).gtag.apply(a,s)}},n=t;e.default=n})(t1)),t1}var n1={},Vw;function iT(){return Vw||(Vw=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function n(a){return a.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(u,c,f){return c>0&&c+u.length!==f.length&&u.search(t)>-1&&f.charAt(c-2)!==":"&&(f.charAt(c+u.length)!=="-"||f.charAt(c-1)==="-")&&f.charAt(c-1).search(/[^\s-]/)<0?u.toLowerCase():u.substr(1).search(/[A-Z]|\../)>-1?u:u.charAt(0).toUpperCase()+u.substr(1)})}function r(a){return typeof a=="string"&&a.indexOf("@")!==-1}var i="REDACTED (Potential Email Address)";function s(a){return r(a)?(console.warn("This arg looks like an email address, redacting."),i):a}function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,f=a||"";return u&&(f=n(a)),c&&(f=s(f)),f}})(n1)),n1}var Ww;function sT(){return Ww||(Ww=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.GA4=void 0;var t=o(rT()),n=o(iT()),r=["eventCategory","eventAction","eventLabel","eventValue","hitType"],i=["title","location"],s=["page","hitType"];function o(Y){return Y&&Y.__esModule?Y:{default:Y}}function a(Y,H){if(Y==null)return{};var J=u(Y,H),se,X;if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(Y);for(X=0;X<pe.length;X++)se=pe[X],!(H.indexOf(se)>=0)&&Object.prototype.propertyIsEnumerable.call(Y,se)&&(J[se]=Y[se])}return J}function u(Y,H){if(Y==null)return{};var J={},se=Object.keys(Y),X,pe;for(pe=0;pe<se.length;pe++)X=se[pe],!(H.indexOf(X)>=0)&&(J[X]=Y[X]);return J}function c(Y){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},c(Y)}function f(Y){return y(Y)||g(Y)||P(Y)||p()}function p(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g(Y){if(typeof Symbol<"u"&&Y[Symbol.iterator]!=null||Y["@@iterator"]!=null)return Array.from(Y)}function y(Y){if(Array.isArray(Y))return A(Y)}function w(Y,H){var J=Object.keys(Y);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(Y);H&&(se=se.filter(function(X){return Object.getOwnPropertyDescriptor(Y,X).enumerable})),J.push.apply(J,se)}return J}function S(Y){for(var H=1;H<arguments.length;H++){var J=arguments[H]!=null?arguments[H]:{};H%2?w(Object(J),!0).forEach(function(se){q(Y,se,J[se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(J)):w(Object(J)).forEach(function(se){Object.defineProperty(Y,se,Object.getOwnPropertyDescriptor(J,se))})}return Y}function C(Y,H){return W(Y)||$(Y,H)||P(Y,H)||E()}function E(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P(Y,H){if(Y){if(typeof Y=="string")return A(Y,H);var J=Object.prototype.toString.call(Y).slice(8,-1);if(J==="Object"&&Y.constructor&&(J=Y.constructor.name),J==="Map"||J==="Set")return Array.from(Y);if(J==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(J))return A(Y,H)}}function A(Y,H){(H==null||H>Y.length)&&(H=Y.length);for(var J=0,se=new Array(H);J<H;J++)se[J]=Y[J];return se}function $(Y,H){var J=Y==null?null:typeof Symbol<"u"&&Y[Symbol.iterator]||Y["@@iterator"];if(J!=null){var se,X,pe,M,G=[],me=!0,U=!1;try{if(pe=(J=J.call(Y)).next,H!==0)for(;!(me=(se=pe.call(J)).done)&&(G.push(se.value),G.length!==H);me=!0);}catch(Pe){U=!0,X=Pe}finally{try{if(!me&&J.return!=null&&(M=J.return(),Object(M)!==M))return}finally{if(U)throw X}}return G}}function W(Y){if(Array.isArray(Y))return Y}function D(Y,H){if(!(Y instanceof H))throw new TypeError("Cannot call a class as a function")}function R(Y,H){for(var J=0;J<H.length;J++){var se=H[J];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(Y,B(se.key),se)}}function z(Y,H,J){return H&&R(Y.prototype,H),Object.defineProperty(Y,"prototype",{writable:!1}),Y}function q(Y,H,J){return H=B(H),H in Y?Object.defineProperty(Y,H,{value:J,enumerable:!0,configurable:!0,writable:!0}):Y[H]=J,Y}function B(Y){var H=ae(Y,"string");return c(H)==="symbol"?H:String(H)}function ae(Y,H){if(c(Y)!=="object"||Y===null)return Y;var J=Y[Symbol.toPrimitive];if(J!==void 0){var se=J.call(Y,H);if(c(se)!=="object")return se;throw new TypeError("@@toPrimitive must return a primitive value.")}return(H==="string"?String:Number)(Y)}var oe=(function(){function Y(){var H=this;D(this,Y),q(this,"reset",function(){H.isInitialized=!1,H._testMode=!1,H._currentMeasurementId,H._hasLoadedGA=!1,H._isQueuing=!1,H._queueGtag=[]}),q(this,"_gtag",function(){for(var J=arguments.length,se=new Array(J),X=0;X<J;X++)se[X]=arguments[X];H._testMode||H._isQueuing?H._queueGtag.push(se):t.default.apply(void 0,se)}),q(this,"_loadGA",function(J,se){var X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!H._hasLoadedGA){var pe=document.createElement("script");pe.async=!0,pe.src="".concat(X,"?id=").concat(J),se&&pe.setAttribute("nonce",se),document.body.appendChild(pe),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},H._hasLoadedGA=!0}}),q(this,"_toGtagOptions",function(J){if(J){var se={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},X=Object.entries(J).reduce(function(pe,M){var G=C(M,2),me=G[0],U=G[1];return se[me]?pe[se[me]]=U:pe[me]=U,pe},{});return X}}),q(this,"initialize",function(J){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!J)throw new Error("Require GA_MEASUREMENT_ID");var X=typeof J=="string"?[{trackingId:J}]:J;H._currentMeasurementId=X[0].trackingId;var pe=se.gaOptions,M=se.gtagOptions,G=se.nonce,me=se.testMode,U=me===void 0?!1:me,Pe=se.gtagUrl;if(H._testMode=U,U||H._loadGA(H._currentMeasurementId,G,Pe),H.isInitialized||(H._gtag("js",new Date),X.forEach(function(Qe){var Ve=S(S(S({},H._toGtagOptions(S(S({},pe),Qe.gaOptions))),M),Qe.gtagOptions);Object.keys(Ve).length?H._gtag("config",Qe.trackingId,Ve):H._gtag("config",Qe.trackingId)})),H.isInitialized=!0,!U){var ke=f(H._queueGtag);for(H._queueGtag=[],H._isQueuing=!1;ke.length;){var Ee=ke.shift();H._gtag.apply(H,f(Ee)),Ee[0]==="get"&&(H._isQueuing=!0)}}}),q(this,"set",function(J){if(!J){console.warn("`fieldsObject` is required in .set()");return}if(c(J)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(J).length===0&&console.warn("empty `fieldsObject` given to .set()"),H._gaCommand("set",J)}),q(this,"_gaCommandSendEvent",function(J,se,X,pe,M){H._gtag("event",se,S(S({event_category:J,event_label:X,value:pe},M&&{non_interaction:M.nonInteraction}),H._toGtagOptions(M)))}),q(this,"_gaCommandSendEventParameters",function(){for(var J=arguments.length,se=new Array(J),X=0;X<J;X++)se[X]=arguments[X];if(typeof se[0]=="string")H._gaCommandSendEvent.apply(H,f(se.slice(1)));else{var pe=se[0],M=pe.eventCategory,G=pe.eventAction,me=pe.eventLabel,U=pe.eventValue;pe.hitType;var Pe=a(pe,r);H._gaCommandSendEvent(M,G,me,U,Pe)}}),q(this,"_gaCommandSendTiming",function(J,se,X,pe){H._gtag("event","timing_complete",{name:se,value:X,event_category:J,event_label:pe})}),q(this,"_gaCommandSendPageview",function(J,se){if(se&&Object.keys(se).length){var X=H._toGtagOptions(se),pe=X.title,M=X.location,G=a(X,i);H._gtag("event","page_view",S(S(S(S({},J&&{page_path:J}),pe&&{page_title:pe}),M&&{page_location:M}),G))}else J?H._gtag("event","page_view",{page_path:J}):H._gtag("event","page_view")}),q(this,"_gaCommandSendPageviewParameters",function(){for(var J=arguments.length,se=new Array(J),X=0;X<J;X++)se[X]=arguments[X];if(typeof se[0]=="string")H._gaCommandSendPageview.apply(H,f(se.slice(1)));else{var pe=se[0],M=pe.page;pe.hitType;var G=a(pe,s);H._gaCommandSendPageview(M,G)}}),q(this,"_gaCommandSend",function(){for(var J=arguments.length,se=new Array(J),X=0;X<J;X++)se[X]=arguments[X];var pe=typeof se[0]=="string"?se[0]:se[0].hitType;switch(pe){case"event":H._gaCommandSendEventParameters.apply(H,se);break;case"pageview":H._gaCommandSendPageviewParameters.apply(H,se);break;case"timing":H._gaCommandSendTiming.apply(H,f(se.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(pe));break;default:console.warn("Send command doesn't exist: ".concat(pe))}}),q(this,"_gaCommandSet",function(){for(var J=arguments.length,se=new Array(J),X=0;X<J;X++)se[X]=arguments[X];typeof se[0]=="string"&&(se[0]=q({},se[0],se[1])),H._gtag("set",H._toGtagOptions(se[0]))}),q(this,"_gaCommand",function(J){for(var se=arguments.length,X=new Array(se>1?se-1:0),pe=1;pe<se;pe++)X[pe-1]=arguments[pe];switch(J){case"send":H._gaCommandSend.apply(H,X);break;case"set":H._gaCommandSet.apply(H,X);break;default:console.warn("Command doesn't exist: ".concat(J))}}),q(this,"ga",function(){for(var J=arguments.length,se=new Array(J),X=0;X<J;X++)se[X]=arguments[X];if(typeof se[0]=="string")H._gaCommand.apply(H,se);else{var pe=se[0];H._gtag("get",H._currentMeasurementId,"client_id",function(M){H._isQueuing=!1;var G=H._queueGtag;for(pe({get:function(Pe){return Pe==="clientId"?M:Pe==="trackingId"?H._currentMeasurementId:Pe==="apiVersion"?"1":void 0}});G.length;){var me=G.shift();H._gtag.apply(H,f(me))}}),H._isQueuing=!0}return H.ga}),q(this,"event",function(J,se){if(typeof J=="string")H._gtag("event",J,H._toGtagOptions(se));else{var X=J.action,pe=J.category,M=J.label,G=J.value,me=J.nonInteraction,U=J.transport;if(!pe||!X){console.warn("args.category AND args.action are required in event()");return}var Pe={hitType:"event",eventCategory:(0,n.default)(pe),eventAction:(0,n.default)(X)};M&&(Pe.eventLabel=(0,n.default)(M)),typeof G<"u"&&(typeof G!="number"?console.warn("Expected `args.value` arg to be a Number."):Pe.eventValue=G),typeof me<"u"&&(typeof me!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):Pe.nonInteraction=me),typeof U<"u"&&(typeof U!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(U)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),Pe.transport=U)),H._gaCommand("send",Pe)}}),q(this,"send",function(J){H._gaCommand("send",J)}),this.reset()}return z(Y,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),Y})();e.GA4=oe;var xe=new oe;e.default=xe})(e1)),e1}var qw;function oT(){return qw||(qw=1,(function(e){function t(a){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},t(a)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ReactGAImplementation=void 0;var n=i(sT());function r(a){if(typeof WeakMap!="function")return null;var u=new WeakMap,c=new WeakMap;return(r=function(p){return p?c:u})(a)}function i(a,u){if(a&&a.__esModule)return a;if(a===null||t(a)!=="object"&&typeof a!="function")return{default:a};var c=r(u);if(c&&c.has(a))return c.get(a);var f={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if(g!=="default"&&Object.prototype.hasOwnProperty.call(a,g)){var y=p?Object.getOwnPropertyDescriptor(a,g):null;y&&(y.get||y.set)?Object.defineProperty(f,g,y):f[g]=a[g]}return f.default=a,c&&c.set(a,f),f}var s=n.GA4;e.ReactGAImplementation=s;var o=n.default;e.default=o})(Z0)),Z0}oT();const Fd="8.55.0",No=globalThis;function Vv(e,t,n){const r=n||No,i=r.__SENTRY__=r.__SENTRY__||{},s=i[Fd]=i[Fd]||{};return s[e]||(s[e]=t())}const q4=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,aT="Sentry Logger ",Qw=["debug","info","warn","error","log","assert","trace"],Kw={};function lT(e){if(!("console"in No))return e();const t=No.console,n={},r=Object.keys(Kw);r.forEach(i=>{const s=Kw[i];n[i]=t[i],t[i]=s});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function uT(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return q4?Qw.forEach(n=>{t[n]=(...r)=>{e&&lT(()=>{No.console[n](`${aT}[${n}]:`,...r)})}}):Qw.forEach(n=>{t[n]=()=>{}}),t}const Wp=Vv("logger",uT);function Q4(){return Wv(No),No}function Wv(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Fd,t[Fd]=t[Fd]||{}}const cT=Object.prototype.toString;function dT(e,t){return cT.call(e)===`[object ${t}]`}function hT(e){return dT(e,"Object")}function fT(e){return!!(e&&e.then&&typeof e.then=="function")}function pT(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{q4&&Wp.log(`Failed to add non-enumerable property "${t}" to object`,e)}}const K4=1e3;function G4(){return Date.now()/K4}function mT(){const{performance:e}=No;if(!e||!e.now)return G4;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/K4}const gT=mT();(()=>{const{performance:e}=No;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=i<t,o=e.timing&&e.timing.navigationStart,u=typeof o=="number"?Math.abs(o+n-r):t,c=u<t;return s||c?i<=u?e.timeOrigin:o:r})();function nc(){const e=No,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function yT(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||gT(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:nc()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Gw(){return nc()}function Yw(){return nc().substring(16)}function Y4(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const r={...e};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=Y4(r[i],t[i],n-1));return r}const _y="_sentrySpan";function Jw(e,t){t?pT(e,_y,t):delete e[_y]}function Xw(e){return e[_y]}const vT=100;class qv{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Gw(),spanId:Yw()}}clone(){const t=new qv;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,Jw(t,Xw(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&yT(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,i]=n instanceof uc?[n.getScopeData(),n.getRequestSession()]:hT(n)?[t,t.requestSession]:[],{tags:s,extra:o,user:a,contexts:u,level:c,fingerprint:f=[],propagationContext:p}=r||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...o},this._contexts={...this._contexts,...u},a&&Object.keys(a).length&&(this._user=a),c&&(this._level=c),f.length&&(this._fingerprint=f),p&&(this._propagationContext=p),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,Jw(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Gw()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:vT;if(r<=0)return this;const i={timestamp:G4(),...t};return this._breadcrumbs.push(i),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Xw(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=Y4(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:Yw(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:nc();if(!this._client)return Wp.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r&&r.event_id?r.event_id:nc();if(!this._client)return Wp.warn("No client configured on scope - will not capture message!"),i;const s=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i},this),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:nc();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(Wp.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const uc=qv;function xT(){return Vv("defaultCurrentScope",()=>new uc)}function bT(){return Vv("defaultIsolationScope",()=>new uc)}class wT{constructor(t,n){let r;t?r=t:r=new uc;let i;n?i=n:i=new uc,this._stack=[{scope:r}],this._isolationScope=i}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(i){throw this._popScope(),i}return fT(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function cc(){const e=Q4(),t=Wv(e);return t.stack=t.stack||new wT(xT(),bT())}function _T(e){return cc().withScope(e)}function ST(e,t){const n=cc();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function Zw(e){return cc().withScope(()=>e(cc().getIsolationScope()))}function CT(){return{withIsolationScope:Zw,withScope:_T,withSetScope:ST,withSetIsolationScope:(e,t)=>Zw(t),getCurrentScope:()=>cc().getScope(),getIsolationScope:()=>cc().getIsolationScope()}}function kT(e){const t=Wv(e);return t.acs?t.acs:CT()}function ET(){const e=Q4();return kT(e).getCurrentScope()}function jT(e){if(e)return TT(e)?{captureContext:e}:PT(e)?{captureContext:e}:e}function TT(e){return e instanceof uc||typeof e=="function"}const NT=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function PT(e){return Object.keys(e).some(t=>NT.includes(t))}function OT(e,t){return ET().captureException(e,jT(t))}var r1={exports:{}},i1,e3;function RT(){if(e3)return i1;e3=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return i1=e,i1}var s1,t3;function AT(){if(t3)return s1;t3=1;var e=RT();function t(){}function n(){}return n.resetWarningCache=t,s1=function(){function r(o,a,u,c,f,p){if(p!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},s1}var n3;function IT(){return n3||(n3=1,r1.exports=AT()()),r1.exports}var LT=IT();const Pt=Gi(LT);var o1,r3;function DT(){if(r3)return o1;r3=1;function e(a){return a&&typeof a=="object"&&"default"in a?a.default:a}var t=Pm(),n=e(t);function r(a,u,c){return u in a?Object.defineProperty(a,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[u]=c,a}function i(a,u){a.prototype=Object.create(u.prototype),a.prototype.constructor=a,a.__proto__=u}var s=!!(typeof window<"u"&&window.document&&window.document.createElement);function o(a,u,c){if(typeof a!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof u!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof c<"u"&&typeof c!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function f(p){return p.displayName||p.name||"Component"}return function(g){if(typeof g!="function")throw new Error("Expected WrappedComponent to be a React component.");var y=[],w;function S(){w=a(y.map(function(E){return E.props})),C.canUseDOM?u(w):c&&(w=c(w))}var C=(function(E){i(P,E);function P(){return E.apply(this,arguments)||this}P.peek=function(){return w},P.rewind=function(){if(P.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var W=w;return w=void 0,y=[],W};var A=P.prototype;return A.UNSAFE_componentWillMount=function(){y.push(this),S()},A.componentDidUpdate=function(){S()},A.componentWillUnmount=function(){var W=y.indexOf(this);y.splice(W,1),S()},A.render=function(){return n.createElement(g,this.props)},P})(t.PureComponent);return r(C,"displayName","SideEffect("+f(g)+")"),r(C,"canUseDOM",s),C}}return o1=o,o1}var MT=DT();const FT=Gi(MT);var a1,i3;function BT(){if(i3)return a1;i3=1;var e=typeof Element<"u",t=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(s,o){if(s===o)return!0;if(s&&o&&typeof s=="object"&&typeof o=="object"){if(s.constructor!==o.constructor)return!1;var a,u,c;if(Array.isArray(s)){if(a=s.length,a!=o.length)return!1;for(u=a;u--!==0;)if(!i(s[u],o[u]))return!1;return!0}var f;if(t&&s instanceof Map&&o instanceof Map){if(s.size!==o.size)return!1;for(f=s.entries();!(u=f.next()).done;)if(!o.has(u.value[0]))return!1;for(f=s.entries();!(u=f.next()).done;)if(!i(u.value[1],o.get(u.value[0])))return!1;return!0}if(n&&s instanceof Set&&o instanceof Set){if(s.size!==o.size)return!1;for(f=s.entries();!(u=f.next()).done;)if(!o.has(u.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(o)){if(a=s.length,a!=o.length)return!1;for(u=a;u--!==0;)if(s[u]!==o[u])return!1;return!0}if(s.constructor===RegExp)return s.source===o.source&&s.flags===o.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof o.valueOf=="function")return s.valueOf()===o.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof o.toString=="function")return s.toString()===o.toString();if(c=Object.keys(s),a=c.length,a!==Object.keys(o).length)return!1;for(u=a;u--!==0;)if(!Object.prototype.hasOwnProperty.call(o,c[u]))return!1;if(e&&s instanceof Element)return!1;for(u=a;u--!==0;)if(!((c[u]==="_owner"||c[u]==="__v"||c[u]==="__o")&&s.$$typeof)&&!i(s[c[u]],o[c[u]]))return!1;return!0}return s!==s&&o!==o}return a1=function(o,a){try{return i(o,a)}catch(u){if((u.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw u}},a1}var zT=BT();const $T=Gi(zT);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var l1,s3;function UT(){if(s3)return l1;s3=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function i(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var o={},a=0;a<10;a++)o["_"+String.fromCharCode(a)]=a;var u=Object.getOwnPropertyNames(o).map(function(f){return o[f]});if(u.join("")!=="0123456789")return!1;var c={};return"abcdefghijklmnopqrst".split("").forEach(function(f){c[f]=f}),Object.keys(Object.assign({},c)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return l1=i()?Object.assign:function(s,o){for(var a,u=r(s),c,f=1;f<arguments.length;f++){a=Object(arguments[f]);for(var p in a)t.call(a,p)&&(u[p]=a[p]);if(e){c=e(a);for(var g=0;g<c.length;g++)n.call(a,c[g])&&(u[c[g]]=a[c[g]])}}return u},l1}var HT=UT();const VT=Gi(HT);var Pl={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},kt={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(kt).map(function(e){return kt[e]});var bn={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},nm={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Xd={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},WT=Object.keys(nm).reduce(function(e,t){return e[nm[t]]=t,e},{}),qT=[kt.NOSCRIPT,kt.SCRIPT,kt.STYLE],xs="data-react-helmet",QT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KT=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},GT=(function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),oi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YT=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},o3=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},JT=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},Sy=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},XT=function(t){var n=rc(t,kt.TITLE),r=rc(t,Xd.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=rc(t,Xd.DEFAULT_TITLE);return n||i||void 0},ZT=function(t){return rc(t,Xd.ON_CHANGE_CLIENT_STATE)||function(){}},u1=function(t,n){return n.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,i){return oi({},r,i)},{})},eN=function(t,n){return n.filter(function(r){return typeof r[kt.BASE]<"u"}).map(function(r){return r[kt.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),o=0;o<s.length;o++){var a=s[o],u=a.toLowerCase();if(t.indexOf(u)!==-1&&i[u])return r.concat(i)}return r},[])},dd=function(t,n,r){var i={};return r.filter(function(s){return Array.isArray(s[t])?!0:(typeof s[t]<"u"&&iN("Helmet: "+t+' should be of type "Array". Instead found type "'+QT(s[t])+'"'),!1)}).map(function(s){return s[t]}).reverse().reduce(function(s,o){var a={};o.filter(function(g){for(var y=void 0,w=Object.keys(g),S=0;S<w.length;S++){var C=w[S],E=C.toLowerCase();n.indexOf(E)!==-1&&!(y===bn.REL&&g[y].toLowerCase()==="canonical")&&!(E===bn.REL&&g[E].toLowerCase()==="stylesheet")&&(y=E),n.indexOf(C)!==-1&&(C===bn.INNER_HTML||C===bn.CSS_TEXT||C===bn.ITEM_PROP)&&(y=C)}if(!y||!g[y])return!1;var P=g[y].toLowerCase();return i[y]||(i[y]={}),a[y]||(a[y]={}),i[y][P]?!1:(a[y][P]=!0,!0)}).reverse().forEach(function(g){return s.push(g)});for(var u=Object.keys(a),c=0;c<u.length;c++){var f=u[c],p=VT({},i[f],a[f]);i[f]=p}return s},[]).reverse()},rc=function(t,n){for(var r=t.length-1;r>=0;r--){var i=t[r];if(i.hasOwnProperty(n))return i[n]}return null},tN=function(t){return{baseTag:eN([bn.HREF,bn.TARGET],t),bodyAttributes:u1(Pl.BODY,t),defer:rc(t,Xd.DEFER),encode:rc(t,Xd.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:u1(Pl.HTML,t),linkTags:dd(kt.LINK,[bn.REL,bn.HREF],t),metaTags:dd(kt.META,[bn.NAME,bn.CHARSET,bn.HTTPEQUIV,bn.PROPERTY,bn.ITEM_PROP],t),noscriptTags:dd(kt.NOSCRIPT,[bn.INNER_HTML],t),onChangeClientState:ZT(t),scriptTags:dd(kt.SCRIPT,[bn.SRC,bn.INNER_HTML],t),styleTags:dd(kt.STYLE,[bn.CSS_TEXT],t),title:XT(t),titleAttributes:u1(Pl.TITLE,t)}},Cy=(function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){Cy(t)},0)}})(),a3=function(t){return clearTimeout(t)},nN=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Cy:global.requestAnimationFrame||Cy,rN=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||a3:global.cancelAnimationFrame||a3,iN=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},hd=null,sN=function(t){hd&&rN(hd),t.defer?hd=nN(function(){l3(t,function(){hd=null})}):(l3(t),hd=null)},l3=function(t,n){var r=t.baseTag,i=t.bodyAttributes,s=t.htmlAttributes,o=t.linkTags,a=t.metaTags,u=t.noscriptTags,c=t.onChangeClientState,f=t.scriptTags,p=t.styleTags,g=t.title,y=t.titleAttributes;ky(kt.BODY,i),ky(kt.HTML,s),oN(g,y);var w={baseTag:Tu(kt.BASE,r),linkTags:Tu(kt.LINK,o),metaTags:Tu(kt.META,a),noscriptTags:Tu(kt.NOSCRIPT,u),scriptTags:Tu(kt.SCRIPT,f),styleTags:Tu(kt.STYLE,p)},S={},C={};Object.keys(w).forEach(function(E){var P=w[E],A=P.newTags,$=P.oldTags;A.length&&(S[E]=A),$.length&&(C[E]=w[E].oldTags)}),n&&n(),c(t,S,C)},J4=function(t){return Array.isArray(t)?t.join(""):t},oN=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=J4(t)),ky(kt.TITLE,n)},ky=function(t,n){var r=document.getElementsByTagName(t)[0];if(r){for(var i=r.getAttribute(xs),s=i?i.split(","):[],o=[].concat(s),a=Object.keys(n),u=0;u<a.length;u++){var c=a[u],f=n[c]||"";r.getAttribute(c)!==f&&r.setAttribute(c,f),s.indexOf(c)===-1&&s.push(c);var p=o.indexOf(c);p!==-1&&o.splice(p,1)}for(var g=o.length-1;g>=0;g--)r.removeAttribute(o[g]);s.length===o.length?r.removeAttribute(xs):r.getAttribute(xs)!==a.join(",")&&r.setAttribute(xs,a.join(","))}},Tu=function(t,n){var r=document.head||document.querySelector(kt.HEAD),i=r.querySelectorAll(t+"["+xs+"]"),s=Array.prototype.slice.call(i),o=[],a=void 0;return n&&n.length&&n.forEach(function(u){var c=document.createElement(t);for(var f in u)if(u.hasOwnProperty(f))if(f===bn.INNER_HTML)c.innerHTML=u.innerHTML;else if(f===bn.CSS_TEXT)c.styleSheet?c.styleSheet.cssText=u.cssText:c.appendChild(document.createTextNode(u.cssText));else{var p=typeof u[f]>"u"?"":u[f];c.setAttribute(f,p)}c.setAttribute(xs,"true"),s.some(function(g,y){return a=y,c.isEqualNode(g)})?s.splice(a,1):o.push(c)}),s.forEach(function(u){return u.parentNode.removeChild(u)}),o.forEach(function(u){return r.appendChild(u)}),{oldTags:s,newTags:o}},X4=function(t){return Object.keys(t).reduce(function(n,r){var i=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return n?n+" "+i:i},"")},aN=function(t,n,r,i){var s=X4(r),o=J4(n);return s?"<"+t+" "+xs+'="true" '+s+">"+Sy(o,i)+"</"+t+">":"<"+t+" "+xs+'="true">'+Sy(o,i)+"</"+t+">"},lN=function(t,n,r){return n.reduce(function(i,s){var o=Object.keys(s).filter(function(c){return!(c===bn.INNER_HTML||c===bn.CSS_TEXT)}).reduce(function(c,f){var p=typeof s[f]>"u"?f:f+'="'+Sy(s[f],r)+'"';return c?c+" "+p:p},""),a=s.innerHTML||s.cssText||"",u=qT.indexOf(t)===-1;return i+"<"+t+" "+xs+'="true" '+o+(u?"/>":">"+a+"</"+t+">")},"")},Z4=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[nm[i]||i]=t[i],r},n)},uN=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[WT[i]||i]=t[i],r},n)},cN=function(t,n,r){var i,s=(i={key:n},i[xs]=!0,i),o=Z4(r,s);return[nn.createElement(kt.TITLE,o,n)]},dN=function(t,n){return n.map(function(r,i){var s,o=(s={key:i},s[xs]=!0,s);return Object.keys(r).forEach(function(a){var u=nm[a]||a;if(u===bn.INNER_HTML||u===bn.CSS_TEXT){var c=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:c}}else o[u]=r[a]}),nn.createElement(t,o)})},go=function(t,n,r){switch(t){case kt.TITLE:return{toComponent:function(){return cN(t,n.title,n.titleAttributes)},toString:function(){return aN(t,n.title,n.titleAttributes,r)}};case Pl.BODY:case Pl.HTML:return{toComponent:function(){return Z4(n)},toString:function(){return X4(n)}};default:return{toComponent:function(){return dN(t,n)},toString:function(){return lN(t,n,r)}}}},e6=function(t){var n=t.baseTag,r=t.bodyAttributes,i=t.encode,s=t.htmlAttributes,o=t.linkTags,a=t.metaTags,u=t.noscriptTags,c=t.scriptTags,f=t.styleTags,p=t.title,g=p===void 0?"":p,y=t.titleAttributes;return{base:go(kt.BASE,n,i),bodyAttributes:go(Pl.BODY,r,i),htmlAttributes:go(Pl.HTML,s,i),link:go(kt.LINK,o,i),meta:go(kt.META,a,i),noscript:go(kt.NOSCRIPT,u,i),script:go(kt.SCRIPT,c,i),style:go(kt.STYLE,f,i),title:go(kt.TITLE,{title:g,titleAttributes:y},i)}},hN=function(t){var n,r;return r=n=(function(i){YT(s,i);function s(){return KT(this,s),JT(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(a){return!$T(this.props,a)},s.prototype.mapNestedChildrenToProps=function(a,u){if(!u)return null;switch(a.type){case kt.SCRIPT:case kt.NOSCRIPT:return{innerHTML:u};case kt.STYLE:return{cssText:u}}throw new Error("<"+a.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(a){var u,c=a.child,f=a.arrayTypeChildren,p=a.newChildProps,g=a.nestedChildren;return oi({},f,(u={},u[c.type]=[].concat(f[c.type]||[],[oi({},p,this.mapNestedChildrenToProps(c,g))]),u))},s.prototype.mapObjectTypeChildren=function(a){var u,c,f=a.child,p=a.newProps,g=a.newChildProps,y=a.nestedChildren;switch(f.type){case kt.TITLE:return oi({},p,(u={},u[f.type]=y,u.titleAttributes=oi({},g),u));case kt.BODY:return oi({},p,{bodyAttributes:oi({},g)});case kt.HTML:return oi({},p,{htmlAttributes:oi({},g)})}return oi({},p,(c={},c[f.type]=oi({},g),c))},s.prototype.mapArrayTypeChildrenToProps=function(a,u){var c=oi({},u);return Object.keys(a).forEach(function(f){var p;c=oi({},c,(p={},p[f]=a[f],p))}),c},s.prototype.warnOnInvalidChildren=function(a,u){return!0},s.prototype.mapChildrenToProps=function(a,u){var c=this,f={};return nn.Children.forEach(a,function(p){if(!(!p||!p.props)){var g=p.props,y=g.children,w=o3(g,["children"]),S=uN(w);switch(c.warnOnInvalidChildren(p,y),p.type){case kt.LINK:case kt.META:case kt.NOSCRIPT:case kt.SCRIPT:case kt.STYLE:f=c.flattenArrayTypeChildren({child:p,arrayTypeChildren:f,newChildProps:S,nestedChildren:y});break;default:u=c.mapObjectTypeChildren({child:p,newProps:u,newChildProps:S,nestedChildren:y});break}}}),u=this.mapArrayTypeChildrenToProps(f,u),u},s.prototype.render=function(){var a=this.props,u=a.children,c=o3(a,["children"]),f=oi({},c);return u&&(f=this.mapChildrenToProps(u,f)),nn.createElement(t,f)},GT(s,null,[{key:"canUseDOM",set:function(a){t.canUseDOM=a}}]),s})(nn.Component),n.propTypes={base:Pt.object,bodyAttributes:Pt.object,children:Pt.oneOfType([Pt.arrayOf(Pt.node),Pt.node]),defaultTitle:Pt.string,defer:Pt.bool,encodeSpecialCharacters:Pt.bool,htmlAttributes:Pt.object,link:Pt.arrayOf(Pt.object),meta:Pt.arrayOf(Pt.object),noscript:Pt.arrayOf(Pt.object),onChangeClientState:Pt.func,script:Pt.arrayOf(Pt.object),style:Pt.arrayOf(Pt.object),title:Pt.string,titleAttributes:Pt.object,titleTemplate:Pt.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var i=t.rewind();return i||(i=e6({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},fN=function(){return null},pN=FT(tN,sN,e6)(fN),Er=hN(pN);Er.renderStatic=Er.rewind;const t6=e=>N.createElement("svg",{width:240,height:240,viewBox:"0 0 240 240",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M35.0767 27.9936C36.2709 9.99373 56.1517 -0.303892 71.5425 9.10587L213.791 96.0756C231.278 106.768 228.18 133.047 208.685 139.378L169.934 151.963L186.77 185.839C193.06 198.497 187.616 213.848 174.755 219.712L148.361 231.747C136.289 237.252 122.02 232.368 115.853 220.621L96.5356 183.827L61.2319 205.402C44.6261 215.55 23.4817 202.753 24.77 183.334L35.0767 27.9936Z",fill:"#047CFE"}),N.createElement("ellipse",{cx:81.7143,cy:99.4285,rx:9.71429,ry:13.7143,fill:"white"}),N.createElement("path",{d:"M144 99.4285C144 107.003 139.651 113.143 134.286 113.143C128.921 113.143 124.571 107.003 124.571 99.4285C124.571 91.8543 128.921 85.7142 134.286 85.7142C139.651 85.7142 144 91.8543 144 99.4285Z",fill:"white"}),N.createElement("path",{d:"M86.7687 125.246C88.6759 123.021 92.0636 122.863 94.1695 124.901L99.9237 130.47C104.528 134.926 111.74 135.226 116.699 131.169L123.261 125.8C125.281 124.147 128.239 124.354 130.009 126.272V126.272C131.991 128.419 131.682 131.81 129.344 133.563L122.999 138.322C122.524 138.678 122.024 138.999 121.502 139.281L118.258 141.039C112.227 144.305 104.944 144.254 98.9601 140.903L95.3516 138.883C94.6427 138.486 93.973 138.022 93.3515 137.499L87.3544 132.449C85.1919 130.628 84.9288 127.393 86.7687 125.246V125.246Z",fill:"white"})),mN=e=>N.createElement("svg",{id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"100%",viewBox:"740 350 700 190",enableBackground:"new 0 0 1506 862",xmlSpace:"preserve",...e},N.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M766.615112,463.466736 C775.870483,435.054810 785.533081,407.176788 793.924072,378.921143 C799.456543,360.291321 821.375366,357.141083 832.881592,364.663513 C838.142395,368.102875 840.908264,372.891174 842.764648,378.570496 C853.528076,411.499817 864.314026,444.421814 875.109436,477.340668 C878.939270,489.019165 882.817444,500.681793 886.885071,512.991760 C873.401611,512.991760 860.604980,513.082825 847.814941,512.834106 C846.683838,512.812195 845.029419,510.751434 844.583618,509.333893 C842.385803,502.345581 840.389465,495.286346 838.588135,488.184601 C837.875916,485.376556 836.496521,484.498810 833.699890,484.534851 C823.536499,484.665802 813.369263,484.669006 803.205994,484.533264 C800.346008,484.495056 799.085388,485.557281 798.384705,488.289246 C796.564392,495.386353 794.554382,502.439484 792.396301,509.441223 C791.983948,510.779236 790.565674,512.800781 789.581299,512.818420 C776.821838,513.046875 764.056885,512.969788 750.549133,512.969788 C756.023682,496.088989 761.252869,479.964600 766.615112,463.466736 M816.931274,421.410614 C814.112549,431.575104 811.293823,441.739594 808.392944,452.200287 C815.599854,452.200287 821.902649,452.200287 828.658752,452.200287 C825.389221,440.483582 822.289490,429.375366 818.869080,417.118134 C817.911804,419.080017 817.519409,419.884216 816.931274,421.410614 z"}),N.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M897.499634,440.999878 C897.503479,420.519745 897.488831,400.539612 897.519775,380.559540 C897.531799,372.795044 900.376282,366.496521 907.660461,363.030640 C915.127136,359.477966 922.528442,359.846069 929.464539,364.563080 C935.259399,368.503876 937.055176,374.335907 937.048035,381.039062 C937.015198,411.841675 937.034424,442.644379 937.040466,473.447052 C937.041748,480.073792 937.052368,480.081238 943.492004,480.087067 C954.814026,480.097321 966.136658,480.028900 977.457947,480.122711 C987.208801,480.203491 993.256531,486.339630 993.423340,496.088531 C993.591736,505.931396 987.323730,512.874146 977.673828,512.951233 C959.526672,513.096191 941.377319,512.994263 923.229065,512.925903 C921.079651,512.917786 918.917908,512.564026 916.785522,512.222961 C904.801392,510.306244 898.913025,504.603821 898.202148,492.417206 C897.427734,479.139282 897.678284,465.801117 897.506409,452.488892 C897.459106,448.826477 897.499329,445.162903 897.499634,440.999878 z"}),N.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1040.002319,513.009888 C1032.386597,512.472046 1025.194824,512.401672 1018.174561,511.268555 C1010.726318,510.066406 1006.177002,504.925751 1004.404785,497.720428 C1003.459595,493.877228 1002.968811,489.824890 1002.956421,485.864838 C1002.846130,450.709564 1002.826050,415.553650 1002.916931,380.398285 C1002.954224,365.950378 1016.559753,356.896027 1030.130249,362.060669 C1038.365479,365.194824 1042.187012,370.979767 1042.201660,380.770782 C1042.247070,411.094543 1042.204346,441.418396 1042.235718,471.742188 C1042.245239,480.981537 1041.247803,480.051331 1050.482178,480.082153 C1061.312012,480.118286 1072.142578,480.025299 1082.971680,480.121033 C1092.570557,480.205902 1098.845581,486.620514 1098.907471,496.184052 C1098.970459,505.922485 1092.541992,512.866394 1082.988037,512.962402 C1068.827148,513.104797 1054.663940,513.006042 1040.002319,513.009888 z"}),N.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1105.599854,424.091034 C1105.678223,419.273590 1105.675537,414.939514 1105.848022,410.612366 C1106.679688,389.750092 1118.775146,372.818024 1138.406616,365.732941 C1156.549072,359.185303 1175.012329,358.583527 1193.188843,365.323273 C1198.110229,367.148071 1202.772949,370.721100 1206.466431,374.543121 C1211.164673,379.404846 1211.106934,386.678192 1207.716797,392.221375 C1204.392090,397.657684 1197.251099,400.903137 1190.883667,399.580627 C1188.301636,399.044403 1185.815430,397.977692 1183.339355,397.013916 C1175.530396,393.974335 1167.541260,392.816956 1159.379639,395.154175 C1150.777954,397.617371 1145.223511,403.980804 1145.017212,412.911163 C1144.628296,429.729340 1144.585449,446.570526 1145.007446,463.386902 C1145.269531,473.829987 1153.125732,481.281250 1163.625244,482.137146 C1171.722046,482.797241 1179.477173,481.553802 1186.986572,478.140991 C1190.366577,476.604889 1194.360962,475.323792 1197.962524,475.572998 C1209.802612,476.392456 1216.308594,490.454346 1208.927490,499.752319 C1205.559448,503.994965 1200.648315,507.757538 1195.646484,509.828613 C1174.556763,518.560974 1153.221802,518.122009 1132.727783,508.061493 C1115.403931,499.557190 1106.508057,484.852997 1105.894775,465.561035 C1105.460938,451.910522 1105.674927,438.239471 1105.599854,424.091034 z"}),N.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1320.434326,500.172791 C1317.639038,509.503052 1313.229980,512.955139 1304.061890,512.987305 C1286.908081,513.047424 1269.753784,513.003906 1252.599731,512.992737 C1251.268433,512.991882 1249.933105,512.956604 1248.606323,512.853210 C1231.926514,511.553131 1225.143188,504.528259 1225.061279,487.516205 C1224.887939,451.543427 1224.944946,415.569183 1225.023804,379.595795 C1225.048584,368.329468 1233.036743,360.816620 1244.539917,360.809937 C1256.112671,360.803192 1264.062378,368.157135 1264.114258,379.536163 C1264.256104,410.679382 1264.172607,441.823578 1264.180786,472.967407 C1264.182617,480.081787 1264.187012,480.085663 1271.141602,480.088776 C1281.967041,480.093628 1292.792480,480.061768 1303.617798,480.102203 C1315.913452,480.148132 1322.019409,487.278107 1320.434326,500.172791 z"}),N.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1378.000000,513.014893 C1368.192139,512.765503 1358.816406,513.130859 1349.593384,512.112854 C1337.746338,510.805237 1332.660767,505.204010 1330.947388,493.507568 C1330.538574,490.717987 1330.280029,487.878601 1330.276367,485.061737 C1330.230103,450.432434 1330.286133,415.802979 1330.212158,381.173767 C1330.194580,372.958893 1332.967651,366.428131 1340.685059,362.882050 C1348.394409,359.339600 1355.924683,359.980255 1362.863892,365.047699 C1368.391602,369.084473 1369.760742,374.936981 1369.757690,381.368835 C1369.743286,412.002502 1369.751465,442.636139 1369.756226,473.269806 C1369.757324,480.076080 1369.766113,480.079834 1376.503418,480.083557 C1387.658081,480.089752 1398.813110,480.033844 1409.967285,480.110382 C1420.152832,480.180267 1426.172729,486.207733 1426.218872,496.197205 C1426.266479,506.515289 1420.200684,512.875610 1409.966064,512.983093 C1399.478394,513.093262 1388.988770,513.012207 1378.000000,513.014893 z"})),gN=e=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M4 11.5L3.515 11.621C3.08232 11.7292 2.69821 11.9788 2.4237 12.3303C2.1492 12.6818 2.00007 13.115 2 13.561V15.438C2.00007 15.884 2.1492 16.3172 2.4237 16.6687C2.69821 17.0202 3.08232 17.2698 3.515 17.378L5.255 17.813C5.34342 17.835 5.43569 17.8366 5.52481 17.8177C5.61393 17.7987 5.69757 17.7597 5.76937 17.7036C5.84118 17.6475 5.89926 17.5758 5.93922 17.4939C5.97918 17.412 5.99997 17.3221 6 17.231V11.768C6.00001 11.6768 5.97921 11.5868 5.93919 11.5048C5.89918 11.4228 5.84099 11.351 5.76907 11.2949C5.69714 11.2388 5.61337 11.1998 5.52412 11.1809C5.43486 11.1621 5.34248 11.1638 5.254 11.186L4 11.5ZM4 11.5V11C4 8.87827 4.84285 6.84344 6.34315 5.34315C7.84344 3.84285 9.87827 3 12 3C14.1217 3 16.1566 3.84285 17.6569 5.34315C19.1571 6.84344 20 8.87827 20 11V11.5M20 11.5L20.485 11.621C20.9177 11.7292 21.3018 11.9788 21.5763 12.3303C21.8508 12.6818 21.9999 13.115 22 13.561V15.438C21.9999 15.884 21.8508 16.3172 21.5763 16.6687C21.3018 17.0202 20.9177 17.2698 20.485 17.378L20 17.5M20 11.5L18.745 11.186C18.6566 11.164 18.5643 11.1624 18.4752 11.1813C18.3861 11.2003 18.3024 11.2393 18.2306 11.2954C18.1588 11.3515 18.1007 11.4232 18.0608 11.5051C18.0208 11.587 18 11.6769 18 11.768V17.231C18 17.3221 18.0208 17.412 18.0608 17.4939C18.1007 17.5758 18.1588 17.6475 18.2306 17.7036C18.3024 17.7597 18.3861 17.7987 18.4752 17.8177C18.5643 17.8366 18.6566 17.835 18.745 17.813L20 17.5M20 17.5V18.5C20 19.0304 19.7893 19.5391 19.4142 19.9142C19.0391 20.2893 18.5304 20.5 18 20.5H15M15 20.5C15 20.1022 14.842 19.7206 14.5607 19.4393C14.2794 19.158 13.8978 19 13.5 19H10.5C10.1022 19 9.72064 19.158 9.43934 19.4393C9.15804 19.7206 9 20.1022 9 20.5C9 20.8978 9.15804 21.2794 9.43934 21.5607C9.72064 21.842 10.1022 22 10.5 22H13.5C13.8978 22 14.2794 21.842 14.5607 21.5607C14.842 21.2794 15 20.8978 15 20.5Z",stroke:"#6B7280",strokeWidth:1.5})),yN=e=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M12 3C9.61306 3 7.32388 3.94821 5.63605 5.63604C3.94822 7.32387 3.00001 9.61305 3.00001 12C3.00001 14.397 3.93501 16.573 5.46301 18.186L5.96701 18.718L4.70001 21H12C13.1819 21 14.3522 20.7672 15.4442 20.3149C16.5361 19.8626 17.5282 19.1997 18.364 18.364C19.1997 17.5282 19.8626 16.5361 20.3149 15.4442C20.7672 14.3522 21 13.1819 21 12C21 10.8181 20.7672 9.64778 20.3149 8.55585C19.8626 7.46392 19.1997 6.47177 18.364 5.63604C17.5282 4.80031 16.5361 4.13738 15.4442 3.68508C14.3522 3.23279 13.1819 3 12 3ZM1.00001 12C1.00001 5.925 5.92501 1 12 1C18.075 1 23 5.925 23 12C23 18.075 18.075 23 12 23H1.30001L3.52001 19.006C1.88821 17.0363 0.996743 14.5578 1.00001 12ZM12 7.5C11.5864 7.4999 11.1829 7.62803 10.8452 7.86676C10.5074 8.10549 10.2519 8.44307 10.114 8.833L9.78001 9.776L7.89501 9.11L8.22801 8.167C8.43446 7.58155 8.77432 7.05216 9.22069 6.62073C9.66706 6.1893 10.2077 5.86765 10.7998 5.68124C11.392 5.49483 12.0194 5.44876 12.6324 5.54668C13.2454 5.64461 13.8272 5.88383 14.3318 6.24544C14.8364 6.60704 15.25 7.08111 15.5397 7.63013C15.8295 8.17915 15.9875 8.78806 16.0013 9.4087C16.0151 10.0293 15.8843 10.6447 15.6192 11.206C15.3541 11.7674 14.962 12.2593 14.474 12.643C14.043 12.983 13.657 13.309 13.378 13.652C13.104 13.99 13 14.262 13 14.5V15.75H11V14.5C11 13.633 11.39 12.927 11.826 12.39C12.258 11.86 12.8 11.416 13.236 11.072C13.5628 10.8149 13.8014 10.4624 13.9185 10.0634C14.0357 9.66449 14.0256 9.23894 13.8896 8.846C13.7536 8.45305 13.4986 8.11226 13.1599 7.87102C12.8212 7.62978 12.4158 7.50009 12 7.5ZM11 16.75H13.004V18.754H11V16.75Z",fill:"#6B7280"})),n6=[{title:"",path:"/timetable",end:!1},{title:"",path:"/wishes",end:!0},{title:"",path:"/simulation",end:!1},{title:"",path:"/live",end:!1}],vN=[{icon:h.jsx(gN,{className:"w-4 h-4"}),title:"  ",path:"https://forms.gle/bCDTVujEHunnvHe88"},{icon:h.jsx(yN,{className:"w-4 h-4"}),title:" ",path:"https://open.kakao.com/o/g3MztXfh"}];function Qv(){return h.jsx("header",{className:"bg-white shadow-sm z-50 sticky top-0",children:h.jsxs("div",{className:"container flex items-center justify-between mx-auto max-w-7xl px-4 md:px-16",children:[h.jsxs("div",{className:"flex items-center space-x-4 py-4",children:[h.jsxs(kr,{to:"/",className:"flex items-center gap-1 space-x-2","aria-label":" ",children:[h.jsx("h2",{className:"hidden",children:"ALLCLL"}),h.jsx(t6,{className:"w-6 h-6 m-0"}),h.jsx(mN,{className:"h-5 hidden sm:inline-block"})]}),h.jsx("ul",{className:"flex space-x-4 text-sm sm:text-base",children:n6.map(({title:e,path:t,end:n})=>h.jsx("li",{className:"font-bold",children:h.jsx($l,{to:t,end:n,className:({isActive:r})=>r?"text-blue-500 font-semibold":"text-gray-500",children:e})},t))})]}),h.jsx("div",{className:"items-center space-x-2 hidden sm:flex",children:vN.map(({icon:e,title:t,path:n})=>h.jsx("a",{className:"p-2 rounded-md hover:bg-gray-100",target:"_blank",href:n,"aria-label":t,title:t,children:e},n))})]})})}const u3=e=>{let t;const n=new Set,r=(c,f)=>{const p=typeof c=="function"?c(t):c;if(!Object.is(p,t)){const g=t;t=f??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(y=>y(t,g))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c))},u=t=e(r,i,a);return a},xN=(e=>e?u3(e):u3),bN=e=>e;function wN(e,t=bN){const n=nn.useSyncExternalStore(e.subscribe,nn.useCallback(()=>t(e.getState()),[e,t]),nn.useCallback(()=>t(e.getInitialState()),[e,t]));return nn.useDebugValue(n),n}const c3=e=>{const t=xN(e),n=r=>wN(t,r);return Object.assign(n,t),n},jr=(e=>e?c3(e):c3),rm=jr(e=>({banner:null,onClose:void 0,setBanner:(t,n)=>e({banner:t,onClose:n}),closeBanner:()=>e({banner:null})}));function jo({variant:e,children:t}){const n=_N(e);return h.jsx("div",{className:`${n} px-2 py-1 font-semibold text-xs rounded-full inline-flex`,children:t})}function _N(e){switch(e){case"success":return"bg-green-100 text-green-700 ";case"warning":return"bg-yellow-100 text-yellow-700 ";case"danger":return"bg-secondary-100 text-secondary-700 ";case"default":return"bg-gray-100 text-gray-700 ";default:return""}}const SN=e=>N.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M10 7V11M10 14V14.01M1 10C1 11.1819 1.23279 12.3522 1.68508 13.4442C2.13738 14.5361 2.80031 15.5282 3.63604 16.364C4.47177 17.1997 5.46392 17.8626 6.55585 18.3149C7.64778 18.7672 8.8181 19 10 19C11.1819 19 12.3522 18.7672 13.4442 18.3149C14.5361 17.8626 15.5282 17.1997 16.364 16.364C17.1997 15.5282 17.8626 14.5361 18.3149 13.4442C18.7672 12.3522 19 11.1819 19 10C19 8.8181 18.7672 7.64778 18.3149 6.55585C17.8626 5.46392 17.1997 4.47177 16.364 3.63604C15.5282 2.80031 14.5361 2.13738 13.4442 1.68508C12.3522 1.23279 11.1819 1 10 1C8.8181 1 7.64778 1.23279 6.55585 1.68508C5.46392 2.13738 4.47177 2.80031 3.63604 3.63604C2.80031 4.47177 2.13738 5.46392 1.68508 6.55585C1.23279 7.64778 1 8.8181 1 10Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),im=e=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function lr({icon:e,variant:t="plain",label:n,className:r="",...i}){const a=`flex flex-row items-center justify-center gap-1 cursor-pointer rounded-md  ${CN(t)} ${r}`;return h.jsx("button",{type:"button","aria-label":n,className:a,...i,children:e&&h.jsx("span",{children:e})})}function CN(e){switch(e){case"contain":return"px-2 py-2 border border-gray-400 hover:bg-gray-100";case"plain":return"bg-transparent text-gray-700";default:return""}}function kN({children:e}){return h.jsx("div",{className:"mr-3 flex-shrink-0 flex items-center justify-center",children:e})}function EN({children:e}){return h.jsx("div",{className:"flex-1",children:e})}function jN({children:e}){return h.jsx("div",{className:"ml-3 flex-shrink-0 flex items-center justify-center",children:e})}function TN({tag:e="div",withPadding:t,left:n,center:r,right:i,className:s,...o}){const a=e,u=r?"justify-start":"justify-between";return h.jsxs(a,{className:`flex items-center w-full ${u} ${t?"px-4 py-3":""} ${s??""}`,...o,children:[n,r,i]})}function r6({left:e,center:t,right:n,className:r,withPadding:i}){return h.jsx(TN,{className:r,withPadding:i,left:h.jsx(kN,{children:e}),center:t?h.jsx(EN,{children:t}):null,right:h.jsx(jN,{children:n})})}function NN({variant:e="info",children:t,deleteBanner:n}){const r=PN(e);return h.jsx(r6,{withPadding:!0,className:`${r} items-center`,left:h.jsx(SN,{className:"text-gray-500 w-4 h-4"}),center:h.jsx("span",{className:"text-xs",children:t}),right:h.jsx(lr,{label:" ",variant:"plain",icon:h.jsx(im,{className:"text-gray-500 w-5 h-5"}),onClick:n,className:"rounded-full"})})}function PN(e){switch(e){case"warning":return"bg-secondary-100";case"info":return"bg-blue-100";default:return"bg-gray-100"}}function d3(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ON(...e){return t=>{let n=!1;const r=e.map(i=>{const s=d3(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():d3(e[i],null)}}}}var RN=Symbol.for("react.lazy"),sm=n4[" use ".trim().toString()];function AN(e){return typeof e=="object"&&e!==null&&"then"in e}function i6(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===RN&&"_payload"in e&&AN(e._payload)}function IN(e){const t=DN(e),n=N.forwardRef((r,i)=>{let{children:s,...o}=r;i6(s)&&typeof sm=="function"&&(s=sm(s._payload));const a=N.Children.toArray(s),u=a.find(FN);if(u){const c=u.props.children,f=a.map(p=>p===u?N.Children.count(c)>1?N.Children.only(null):N.isValidElement(c)?c.props.children:null:p);return h.jsx(t,{...o,ref:i,children:N.isValidElement(c)?N.cloneElement(c,void 0,f):null})}return h.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}var LN=IN("Slot");function DN(e){const t=N.forwardRef((n,r)=>{let{children:i,...s}=n;if(i6(i)&&typeof sm=="function"&&(i=sm(i._payload)),N.isValidElement(i)){const o=zN(i),a=BN(s,i.props);return i.type!==N.Fragment&&(a.ref=r?ON(r,o):o),N.cloneElement(i,a)}return N.Children.count(i)>1?N.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var MN=Symbol("radix.slottable");function FN(e){return N.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===MN}function BN(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const u=s(...a);return i(...a),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function zN(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const om={pressable:"transition-colors duration-300 ease-out active:scale-[0.97]",hoverable:"transition-colors duration-200 ease-out"};function Et({variant:e,size:t,children:n,disabled:r,textColor:i,asChild:s,...o}){const a=s?LN:"button",u=e==="circle"?"":`flex flex-row gap-1 items-center justify-center cursor-pointer disabled:cursor-not-allowed ${om.hoverable} ${om.pressable}`,c=i?h3(e,i):h3(e,"primary"),f=e==="circle"?"":UN(t),p=`${u} ${c} ${f}`.trim();return h.jsx(a,{className:p,disabled:r,...o,children:n})}function $N(e){switch(e){case"primary":return"bg-transparent text-primary-500 hover:text-primary-600";case"secondary":return"bg-transparent text-secondary-500 hover:text-secondary-600";case"gray":return"bg-transparent text-gray-700 hover:text-gray-800";default:return""}}function h3(e,t){switch(e){case"primary":return"bg-primary-500 text-white hover:bg-primary-600 rounded-md px-4 py-2 disabled:bg-gray-100 disabled:text-gray-300";case"secondary":return"bg-gray-100  hover:bg-gray-300 rounded-md px-4 py-2 disabled:text-white";case"outlined":return"bg-transparent border border-gray-700 hover:bg-gray-100 rounded-md px-4 py-2 disabled:border-gray-200  disabled:text-gray-400";case"danger":return"bg-secondary-500 text-white hover:bg-secondary-600 rounded-md px-4 py-2 disabled:bg-gray-100";case"ghost":return"bg-gray-50 border border-gray-200 text-gray-700 hover:bg-gray-200 rounded-full px-4 py-2";case"circle":return"px-2 py-2 bg-primary-500 text-white hover:bg-primary-600 rounded-full shadow-md ";case"text":return`${$N(t)} px-0 py-2  disabled:text-gray-400`;default:return""}}function UN(e){switch(e){case"small":return"text-sm px-2";case"medium":return"text-sm";case"large":return"text-md";default:return""}}function HN({children:e}){return h.jsx("div",{className:"flex flex-col space-y-3 text-gray-600 text-sm",children:e})}function VN({children:e}){return h.jsx("div",{className:"flex flex-col items-start justify-between mb-3",children:e})}function WN({children:e,size:t,variant:n,className:r}){const i=qN(t||"medium"),s=QN(n);return h.jsx("div",{className:`card rounded-lg ${i} ${s} ${r||""}`,children:e})}const wn=Object.assign(WN,{Header:VN,Content:HN});function qN(e){switch(e){case"small":return"px-4 py-4 text-sm";case"medium":return"p-4 text-base";case"large":return"px-10 py-4 text-lg";default:return""}}function QN(e="elevated"){switch(e){case"elevated":return"bg-white shadow-md";case"outlined":return"bg-white border border-gray-200";case"filled":return"bg-gray-50 shadow-sm rounded-lg p-4 border border-gray-200 hover:shadow-md";default:return""}}const KN=e=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M5 12L10 17L20 7",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function Lm({label:e,...t}){const n=N.useId(),r=e?`checkbox-${e}`:`checkbox-${n}`,i=`w-5 h-5 rounded-sm border flex-shrink-0 appearance-none flex items-center justify-center
    ${GN(!!t.checked)}`,s=o=>{o.key==="Enter"&&(o.preventDefault(),o.currentTarget.click()),t.onKeyDown?.(o)};return h.jsxs("label",{htmlFor:r,className:"flex flex-row items-center gap-3 text-sm md:text-base cursor-pointer select-none",children:[h.jsxs("div",{className:"relative w-5 h-5",children:[h.jsx("input",{id:r,type:"checkbox","aria-checked":t.checked,"aria-label":e?void 0:"toggle checkbox",className:i,onKeyDown:s,...t}),t.checked&&h.jsx(KN,{className:"text-blue-500 w-4 h-4 absolute inset-0 m-auto pointer-events-none"})]}),e&&h.jsx("span",{className:`${t.checked?"text-blue-500":"text-gray-600"}`,children:e})]})}Lm.layout="flex";function GN(e){return e?`
      bg-blue-50
      border-blue-500
    `:`
      bg-white
      border-gray-400
      hover:bg-gray-50
    `}const f3=e=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),YN=({className:e,selected:t=!1})=>{const n=t?e+" text-blue-500":e+" text-gray-400";return t?h.jsx(f3,{className:n}):h.jsx(f3,{className:n})},JN=({className:e,selected:t=!1})=>{const n=t?e+" text-blue-500":e+" text-gray-400";return t?h.jsx(im,{className:n}):h.jsx(im,{className:n})};function Nn({label:e="Chip",selected:t,variant:n="none",containerRef:r,onClick:i,isChipOpen:s,...o}){return h.jsxs("button",{type:"button",ref:r,className:`flex flex-row justify-center items-center cursor-pointer gap-4 transition-colors duration-300 ease-out active:scale-[0.97] ${ZN(n)} ${XN(t,n)}`,"aria-pressed":t,onClick:i,...o,children:[h.jsx("span",{className:"text-xs sm:text-sm",children:e}),n==="select"&&h.jsx(YN,{"aria-hidden":"true",selected:t,className:`w-5 h-5 pointer-events-none transition-transform text-blue-500 duration-200 ${s?"rotate-180":"rotate-0"}`}),n==="cancel"&&h.jsx(JN,{"aria-hidden":"true",selected:t,className:"pointer-events-none w-4 h-4"})]})}Nn.layout="grid";function XN(e,t){return e?`
      bg-primary-100
      text-primary-500
      hover:bg-primary-200
      focus:outline-primary-500
    `:t==="none"?`
      bg-transparent
      text-gray-700
      border border-gray-200
      hover:bg-gray-100
      focus:outline-gray-400
    `:`
    bg-gray-100
    text-gray-700
    hover:bg-gray-200
    focus:outline-gray-400
  `}function ZN(e){return e==="cancel"?"rounded-full text-xs py-1.5 px-4":"rounded-lg text-sm py-2 px-4"}function eP({children:e}){return h.jsx("h2",{id:"dialog-title",className:"font-semibold",children:e})}function s6({children:e,onClose:t}){return h.jsxs("div",{className:"w-full px-4 sm:px-6 py-4 sm:py-4 border-b border-gray-100 flex flex-row justify-between",children:[e,h.jsx("button",{type:"button","aria-label":"",className:"w-6 h-6 cursor-pointer flex items-center justify-center bg-gray-100 rounded-full",onClick:t,children:h.jsx(im,{className:"text-gray-600 w-3 h-3"})})]})}function o6({children:e,onClose:t}){const n=N.useRef(null),r=i=>{i.stopPropagation(),t()};return h.jsx("div",{className:"fixed inset-0 flex items-center bg-transparent justify-center z-50",role:"none",ref:n,onClick:r,children:e})}function a6({children:e,width:t,height:n}){const r=tP(t,n);return h.jsx("div",{className:`flex flex-col justify-center item bg-white min-w-80 max-w-[90%] max-h-[90vh] rounded-lg sm:${r}`,onClick:i=>i.stopPropagation(),children:e})}function tP(e,t){const n=e?`w-${e}`:"max-w-[90%]",r=t?`h-${t}`:"auto";return`${n} ${r}`}function nP({children:e}){return h.jsx("div",{className:"flex flex-col px-6 sm:py-4 py-4 gap-2 max-h-150 overflow-y-auto",children:e})}function rP({children:e}){return h.jsx("div",{className:"py-3 px-8 border-t border-gray-100 flex justify-end gap-2",children:e})}function iP({children:e,isOpen:t=!0,title:n,onClose:r}){const i=N.useRef(null),s=N.useId();return N.useEffect(()=>{const o=i.current;o&&(t?o.showModal():o.close())},[t]),N.useEffect(()=>{const o=a=>{a.key==="Escape"&&r()};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[r]),Im.createPortal(h.jsx("dialog",{ref:i,role:"dialog","aria-labelledby":s,onCancel:o=>{o.preventDefault(),r()},children:h.jsx(o6,{onClose:r,children:h.jsxs(a6,{children:[h.jsx(s6,{onClose:r,children:h.jsx(Pn.Title,{id:s,children:n})}),e]})})}),document.body)}const Pn=Object.assign(iP,{Title:eP,Header:s6,Overlay:o6,Content:nP,Contents:a6,Footer:rP});function Ey({className:e="",leftIcon:t,rightIcon:n,...r}){const i=N.useRef(null),s=t?"pl-10":"pl-3",o=n?"pr-10":"pr-3";return h.jsxs("div",{className:"relative flex items-center w-full",children:[t&&h.jsx("div",{children:t}),h.jsx("input",{ref:i,type:"text",className:`py-2 border rounded-md border-gray-400 py-2 px-3 focus:outline-none focus:ring-0 focus:border-primary-500 ${s} ${o} ${e}`,...r}),n&&h.jsx("div",{children:n})]})}const ur=({id:e,required:t,children:n,className:r="",...i})=>{const s=`text-sm sm:text-base text-text-200 after:ml-0.5 ${t?'after:content-["*"] after:text-red-500':""}`;return h.jsx("label",{htmlFor:e,className:`${s} ${r}`,...i,children:n})};function sP({label:e,selected:t}){const{isOpen:n,triggerRef:r,open:i,close:s}=u6(),o=()=>{n?s():i()};return h.jsx(Nn,{type:"button",label:e,isChipOpen:n,variant:"select",selected:t??!1,onClick:o,containerRef:r})}const oP=({elem:e,tabRefs:t,isOpen:n,open:r,close:i})=>{N.useEffect(()=>{const s=o=>{(Array.isArray(t)?t:[t]).some(c=>c.current&&c.current.contains(o.target))?r():e.current&&!e.current.contains(o.target)&&i()};return n?window.addEventListener("click",s):window.removeEventListener("click",s),()=>{window.removeEventListener("click",s)}},[n,e,t])};function aP({children:e}){const{isOpen:t,close:n,open:r,triggerRef:i}=u6(),s=N.useRef(null);if(oP({elem:s,tabRefs:i,isOpen:t,open:r,close:n}),!t||!i.current)return null;const o=i.current.getBoundingClientRect();return Im.createPortal(h.jsx("div",{ref:s,className:`
        fixed rounded-md bg-white shadow-lg border border-gray-200 px-4 py-4
        transition-all duration-150 ease-out
        ${t?"opacity-100 translate-y-0 scale-100 pointer-events-auto":"opacity-0 -translate-y-1 scale-95 pointer-events-none"}
      `,style:{zIndex:120,top:o.bottom+8,left:o.left},onMouseDown:a=>a.stopPropagation(),onClick:a=>a.stopPropagation(),children:e}),document.body)}const l6=N.createContext(null);function lP({children:e}){const[t,n]=N.useState(null);return h.jsx(l6.Provider,{value:{openId:t,setOpenId:n},children:e})}function uP(){const e=N.useContext(l6);if(!e)throw new Error("PopoverGroup  PopoverGroupContext.Provider   .");return e}const u6=()=>{const e=N.useContext(c6);if(!e)throw new Error("Popover Component PopoverContext.Provider   .");return e},c6=N.createContext(null),cP=({children:e})=>{const t=N.useId(),{openId:n,setOpenId:r}=uP(),i=N.useRef(null),s=n===t,o=()=>r(t),a=()=>r(null),u=()=>r(s?null:t);return h.jsx(c6.Provider,{value:{id:t,isOpen:n===t,open:o,close:a,toggle:u,triggerRef:i},children:e})},ic=Object.assign(cP,{Trigger:sP,Content:aP});function je({as:e,direction:t="flex-row",justify:n="justify-start",align:r="items-stretch",gap:i="gap-2",className:s,children:o,...a}){const u=e||"div",c=`flex ${t} ${n} ${r} ${i}`+(s?` ${s}`:"");return h.jsx(u,{className:c,...a,children:o})}function d6({label:e,isError:t,errorMessage:n,required:r,id:i,size:s="medium",className:o="",...a}){return h.jsxs(je,{direction:"flex-col",gap:"gap-2",className:o,children:[e&&h.jsx(ur,{required:r,id:i,children:e}),h.jsx("input",{id:i,type:"text","aria-invalid":t,required:r,...a,className:`rounded-md w-full bg-white border border-gray-300 py-2 px-3 focus:outline-none focus:ring-0 focus:border-primary-500 ${dP(s)}`}),t&&h.jsx("span",{className:"text-secondary-500 text-xs",children:n})]})}function dP(e){switch(e){case"small":return"text-sm py-1";case"medium":return"text-base py-1";case"large":return"text-lg py-1";default:return""}}const hP=e=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M12 16V16.01M12 13C12.4498 13.0014 12.8868 12.8511 13.2407 12.5734C13.5945 12.2958 13.8444 11.907 13.95 11.4698C14.0557 11.0327 14.0109 10.5726 13.8229 10.1641C13.6349 9.75549 13.3147 9.42219 12.914 9.21801C12.5162 9.01422 12.0611 8.95103 11.6228 9.03873C11.1845 9.12642 10.7888 9.35984 10.5 9.70101M3 12C3 13.1819 3.23279 14.3522 3.68508 15.4442C4.13738 16.5361 4.80031 17.5282 5.63604 18.364C6.47177 19.1997 7.46392 19.8626 8.55585 20.3149C9.64778 20.7672 10.8181 21 12 21C13.1819 21 14.3522 20.7672 15.4442 20.3149C16.5361 19.8626 17.5282 19.1997 18.364 18.364C19.1997 17.5282 19.8626 16.5361 20.3149 15.4442C20.7672 14.3522 21 13.1819 21 12C21 9.61305 20.0518 7.32387 18.364 5.63604C16.6761 3.94821 14.3869 3 12 3C9.61305 3 7.32387 3.94821 5.63604 5.63604C3.94821 7.32387 3 9.61305 3 12Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function fP({children:e}){return h.jsx("div",{className:"relative inline-block",children:h.jsxs("div",{className:"group inline-block",children:[h.jsx(lr,{label:"Tooltip",variant:"plain",icon:h.jsx(hP,{className:"w-6 h-6 text-gray-400 background-gray-200"})}),h.jsx("span",{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-gray-900 text-white p-3 rounded w-64 text-center pointer-events-none",children:e})]})})}function It({level:e=1,size:t,as:n,className:r,children:i,...s}){const o=n??`h${e}`,a=t??pP(e);return h.jsx(o,{className:`${r??""} ${mP(a)} text-text-200`,...s,children:i})}function pP(e){return{1:"xxl",2:"xl",3:"lg",4:"md",5:"sm"}[e]}function mP(e){return{xxl:"text-lg font-semibold md:text-xl",xl:"text-base md:text-lg font-semibold",lg:"text-base font-semibold",md:"text-sm font-semibold",sm:"text-xs font-semibold",xs:"text-[11px] font-semibold"}[e]}function Tn({className:e,children:t,...n}){return h.jsx("p",{className:`text-gray-500 text-sm leading-relaxed ${e??""}`,...n,children:t})}function Ia({columns:e,gap:t="gap-0",className:n,children:r,...i}){const s=["grid",t],o=e.base??2;s.push(`grid-cols-${o}`),e.base&&s.push(`grid-cols-${e.base}`),e.sm&&s.push(`sm:grid-cols-${e.sm}`),e.md&&s.push(`md:grid-cols-${e.md}`),e.lg&&s.push(`lg:grid-cols-${e.lg}`),e.xl&&s.push(`xl:grid-cols-${e.xl}`);const a=s.join(" ")+(n?` ${n}`:"");return h.jsx("div",{className:a,...i,children:r})}function gP({selected:e=!1,onSelect:t,left:n,right:r}){const i=o=>{(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),t?.())},s=`flex px-2 py-2 rounded-sm cursor-pointer text-sm ${om.pressable} ${om.hoverable}`;return h.jsx("div",{role:"option","aria-selected":e,tabIndex:0,onClick:t,onKeyDown:i,className:`${s} ${yP(e)}`,children:h.jsx(r6,{left:h.jsx("div",{className:"flex items-center",children:n}),right:e?r:null})})}function yP(e){return e?"bg-blue-50 text-blue-500 font-medium hover:bg-blue-100":"hover:bg-gray-50 text-gray-700"}const vP={primary:{500:"#3B82F6"}};function h6(){const e=rm(n=>n.banner),t=rm(n=>n.closeBanner);return e&&h.jsx(NN,{deleteBanner:t,children:e})}function am(){return am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},am.apply(null,arguments)}function Kv(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function jy(e,t){return jy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},jy(e,t)}function Gv(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,jy(e,t)}function xP(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function bP(e,t){e.classList?e.classList.add(t):xP(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function p3(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function wP(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=p3(e.className,t):e.setAttribute("class",p3(e.className&&e.className.baseVal||"",t))}const m3={disabled:!1},lm=nn.createContext(null);var f6=function(t){return t.scrollTop},Nd="unmounted",gl="exited",yl="entering",qu="entered",Ty="exiting",Po=(function(e){Gv(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,u;return s.appearStatus=null,r.in?a?(u=gl,s.appearStatus=yl):u=qu:r.unmountOnExit||r.mountOnEnter?u=Nd:u=gl,s.state={status:u},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Nd?{status:gl}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==yl&&o!==qu&&(s=yl):(o===yl||o===qu)&&(s=Ty)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===yl){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Jf.findDOMNode(this);o&&f6(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===gl&&this.setState({status:Nd})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,u=this.props.nodeRef?[a]:[Jf.findDOMNode(this),a],c=u[0],f=u[1],p=this.getTimeouts(),g=a?p.appear:p.enter;if(!i&&!o||m3.disabled){this.safeSetState({status:qu},function(){s.props.onEntered(c)});return}this.props.onEnter(c,f),this.safeSetState({status:yl},function(){s.props.onEntering(c,f),s.onTransitionEnd(g,function(){s.safeSetState({status:qu},function(){s.props.onEntered(c,f)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Jf.findDOMNode(this);if(!s||m3.disabled){this.safeSetState({status:gl},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Ty},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:gl},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Jf.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=u[0],f=u[1];this.props.addEndListener(c,f)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Nd)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=Kv(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return nn.createElement(lm.Provider,{value:null},typeof o=="function"?o(i,a):nn.cloneElement(nn.Children.only(o),a))},t})(nn.Component);Po.contextType=lm;Po.propTypes={};function Nu(){}Po.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Nu,onEntering:Nu,onEntered:Nu,onExit:Nu,onExiting:Nu,onExited:Nu};Po.UNMOUNTED=Nd;Po.EXITED=gl;Po.ENTERING=yl;Po.ENTERED=qu;Po.EXITING=Ty;var _P=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return bP(t,r)})},c1=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return wP(t,r)})},Ch=(function(e){Gv(t,e);function t(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(a,u){var c=r.resolveArguments(a,u),f=c[0],p=c[1];r.removeClasses(f,"exit"),r.addClass(f,p?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(a,u)},r.onEntering=function(a,u){var c=r.resolveArguments(a,u),f=c[0],p=c[1],g=p?"appear":"enter";r.addClass(f,g,"active"),r.props.onEntering&&r.props.onEntering(a,u)},r.onEntered=function(a,u){var c=r.resolveArguments(a,u),f=c[0],p=c[1],g=p?"appear":"enter";r.removeClasses(f,g),r.addClass(f,g,"done"),r.props.onEntered&&r.props.onEntered(a,u)},r.onExit=function(a){var u=r.resolveArguments(a),c=u[0];r.removeClasses(c,"appear"),r.removeClasses(c,"enter"),r.addClass(c,"exit","base"),r.props.onExit&&r.props.onExit(a)},r.onExiting=function(a){var u=r.resolveArguments(a),c=u[0];r.addClass(c,"exit","active"),r.props.onExiting&&r.props.onExiting(a)},r.onExited=function(a){var u=r.resolveArguments(a),c=u[0];r.removeClasses(c,"exit"),r.addClass(c,"exit","done"),r.props.onExited&&r.props.onExited(a)},r.resolveArguments=function(a,u){return r.props.nodeRef?[r.props.nodeRef.current,a]:[a,u]},r.getClassNames=function(a){var u=r.props.classNames,c=typeof u=="string",f=c&&u?u+"-":"",p=c?""+f+a:u[a],g=c?p+"-active":u[a+"Active"],y=c?p+"-done":u[a+"Done"];return{baseClassName:p,activeClassName:g,doneClassName:y}},r}var n=t.prototype;return n.addClass=function(i,s,o){var a=this.getClassNames(s)[o+"ClassName"],u=this.getClassNames("enter"),c=u.doneClassName;s==="appear"&&o==="done"&&c&&(a+=" "+c),o==="active"&&i&&f6(i),a&&(this.appliedClasses[s][o]=a,_P(i,a))},n.removeClasses=function(i,s){var o=this.appliedClasses[s],a=o.base,u=o.active,c=o.done;this.appliedClasses[s]={},a&&c1(i,a),u&&c1(i,u),c&&c1(i,c)},n.render=function(){var i=this.props;i.classNames;var s=Kv(i,["classNames"]);return nn.createElement(Po,am({},s,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t})(nn.Component);Ch.defaultProps={classNames:""};Ch.propTypes={};function SP(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yv(e,t){var n=function(s){return t&&N.isValidElement(s)?t(s):s},r=Object.create(null);return e&&N.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function CP(e,t){e=e||{},t=t||{};function n(f){return f in t?t[f]:e[f]}var r=Object.create(null),i=[];for(var s in e)s in t?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var u in t){if(r[u])for(o=0;o<r[u].length;o++){var c=r[u][o];a[r[u][o]]=n(c)}a[u]=n(u)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function jl(e,t,n){return n[t]!=null?n[t]:e.props[t]}function kP(e,t){return Yv(e.children,function(n){return N.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:jl(n,"appear",e),enter:jl(n,"enter",e),exit:jl(n,"exit",e)})})}function EP(e,t,n){var r=Yv(e.children),i=CP(t,r);return Object.keys(i).forEach(function(s){var o=i[s];if(N.isValidElement(o)){var a=s in t,u=s in r,c=t[s],f=N.isValidElement(c)&&!c.props.in;u&&(!a||f)?i[s]=N.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:jl(o,"exit",e),enter:jl(o,"enter",e)}):!u&&a&&!f?i[s]=N.cloneElement(o,{in:!1}):u&&a&&N.isValidElement(c)&&(i[s]=N.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:jl(o,"exit",e),enter:jl(o,"enter",e)}))}}),i}var jP=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},TP={component:"div",childFactory:function(t){return t}},Dm=(function(e){Gv(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=s.handleExited.bind(SP(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,u=s.firstRender;return{children:u?kP(i,a):EP(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=Yv(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var u=am({},a.children);return delete u[i.key],{children:u}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=Kv(i,["component","childFactory"]),u=this.state.contextValue,c=jP(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?nn.createElement(lm.Provider,{value:u},c):nn.createElement(lm.Provider,{value:u},nn.createElement(s,a,c))},t})(nn.Component);Dm.propTypes={};Dm.defaultProps=TP;const p6=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:10,height:10,viewBox:"0. 0. 11 11",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,20)"},N.createElement("path",{d:"M9.71875,18.28125Q10,18.59375,10,19Q10,19.40625,9.71875,19.71875Q9.40625,20,9,20Q8.59375,20,8.28125,19.71875L5,16.40625L1.71875,19.71875Q1.40625,20,1,20Q0.59375,20,0.28125,19.71875Q0,19.40625,0,19Q0,18.59375,0.28125,18.28125L3.59375,15L0.28125,11.71875Q0,11.40625,0,11Q0,10.59375,0.28125,10.28125Q0.59375,10,1,10Q1.40625,10,1.71875,10.28125L5,13.59375L8.28125,10.28125Q8.59375,10,9,10Q9.40625,10,9.71875,10.28125Q10,10.59375,10,11Q10,11.40625,9.71875,11.71875L6.40625,15L9.71875,18.28125Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),Jv=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17,height:17,viewBox:"-0.1 -1.2 11.985078811645508 17",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,27.999998092651367)"},N.createElement("path",{d:"M5.99254,27.999999046325684Q5.61809,27.999999046325684,5.37737,27.753899046325685Q5.13664,27.507799046325683,5.13664,27.124999046325684L5.13664,26.605499046325683Q3.63883,26.277299046325684,2.70269,25.10159904632568Q1.73981,23.925779046325683,1.71306,22.312499046325684L1.71306,21.792969046325684Q1.68632,19.824219046325684,0.429221,18.320309046325683L0.215247,18.074219046325684Q-0.13246,17.664059046325683,0.0815138,17.144529046325683Q0.322234,16.652339046325682,0.857169,16.624999046325684L11.1279,16.624999046325684Q11.6628,16.652339046325682,11.9036,17.144529046325683Q12.1175,17.664059046325683,11.7698,18.074219046325684L11.5826,18.320309046325683Q10.2988,19.796869046325682,10.272,21.792969046325684L10.272,22.312499046325684Q10.2453,23.925779046325683,9.28239,25.10159904632568Q8.34625,26.277299046325684,6.84843,26.605499046325683L6.84843,27.124999046325684Q6.84843,27.507799046325683,6.60771,27.753899046325685Q6.36699,27.999999046325684,5.99254,27.999999046325684ZM7.19614,14.519530046325684Q7.70433,15.039059046325683,7.70433,15.749999046325684L5.99254,15.749999046325684L4.28075,15.749999046325684Q4.28075,15.039059046325683,4.78894,14.519530046325684Q5.29713,13.999999046325684,5.99254,13.999999046325684Q6.68796,13.999999046325684,7.19614,14.519530046325684Z",fill:"currentColor",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),um=jr(e=>({isActivated:!1,messages:[],addToast:(t,n)=>e(r=>({messages:[...r.messages,{message:t,tag:n}]})),clearToast:t=>e(n=>(typeof t=="number"?n.messages=[...n.messages.slice(0,t),...n.messages.slice(t+1)]:n.messages=n.messages.filter(r=>r.tag!==t),{messages:n.messages}))}));function Xv(){const e=um(n=>n.messages),t=um(n=>n.clearToast);return h.jsx("div",{className:"fixed top-2 right-2 z-100 max-w-screen",children:h.jsx(Dm,{className:"flex gap-2 flex-col-reverse",children:e.slice(-3).map((n,r)=>h.jsx(Ch,{timeout:300,classNames:"toast",children:h.jsx(NP,{toast:n,closeToast:()=>t(r)})},`${r} : ${n}`))})})}function NP({toast:e,closeToast:t}){return h.jsxs("div",{className:"flex justify-between items-center gap-2 p-4 ml-2 bg-white text-black rounded-lg shadow-md",children:[h.jsx(Jv,{className:"w-4 h-4 text-blue-500"}),h.jsx("span",{className:"flex-1 text-sm font-bold truncate max-w-72",children:e.message}),h.jsx("button",{"aria-label":"",onClick:t,className:"p-2 rounded-full hover:bg-blue-100",children:h.jsx(p6,{})})]})}const PP=e=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("g",{clipPath:"url(#clip0_3195_1180)"},N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3.66667C7.3975 3.66667 3.66667 7.3975 3.66667 12C3.66667 16.6025 7.3975 20.3333 12 20.3333C16.6025 20.3333 20.3333 16.6025 20.3333 12C20.3333 7.3975 16.6025 3.66667 12 3.66667ZM2 12C2 6.47708 6.47708 2 12 2C17.5229 2 22 6.47708 22 12C22 17.5229 17.5229 22 12 22C6.47708 22 2 17.5229 2 12Z",fill:"#9CA3AF"}),N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.9929 20.9465C9.91235 20.8424 9.91235 19.9154 9.9929 18.1657C9.12985 18.1957 8.58443 18.1359 8.35665 17.9861C8.0154 17.7615 7.67332 17.0695 7.3704 16.5815C7.06749 16.0936 6.39415 16.0165 6.12249 15.9074C5.85082 15.7986 5.78249 15.354 6.87124 15.6899C7.95999 16.0261 8.0129 16.942 8.35665 17.1557C8.7004 17.3699 9.52165 17.2765 9.89374 17.1049C10.2658 16.9332 10.2383 16.2949 10.305 16.042C10.3887 15.8057 10.0929 15.7532 10.0867 15.7515C9.7229 15.7515 7.81415 15.3361 7.28957 13.4878C6.7654 11.639 7.44082 10.4307 7.80124 9.91155C8.04124 9.56488 8.01999 8.82682 7.73749 7.69738C8.76415 7.56571 9.55624 7.88877 10.1137 8.66655C10.1146 8.67071 10.8454 8.23196 12 8.23196C13.1546 8.23196 13.5646 8.58946 13.8808 8.66655C14.1971 8.74363 14.45 7.30571 16.4029 7.69738C15.995 8.49863 15.6537 9.49988 15.9142 9.91155C16.175 10.3228 17.1975 11.6311 16.5696 13.4878C16.1504 14.7253 15.3269 15.4799 14.0992 15.7515C13.9586 15.7965 13.8883 15.869 13.8883 15.969C13.8883 16.119 14.0783 16.1353 14.3525 16.8382C14.5358 17.3065 14.5492 18.6447 14.3925 20.8528C13.9961 20.9536 13.6878 21.0214 13.4675 21.0561C13.0771 21.1174 12.6529 21.152 12.2362 21.1649C11.8196 21.1782 11.675 21.177 11.0987 21.1232C10.7266 21.0892 10.3571 21.0302 9.9929 20.9465Z",fill:"#9CA3AF"}))),OP=e=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M7.8 2H16.2C19.4 2 22 4.6 22 7.8V16.2C22 17.7383 21.3889 19.2135 20.3012 20.3012C19.2135 21.3889 17.7383 22 16.2 22H7.8C4.6 22 2 19.4 2 16.2V7.8C2 6.26174 2.61107 4.78649 3.69878 3.69878C4.78649 2.61107 6.26174 2 7.8 2ZM7.6 4C6.64522 4 5.72955 4.37928 5.05442 5.05442C4.37928 5.72955 4 6.64522 4 7.6V16.4C4 18.39 5.61 20 7.6 20H16.4C17.3548 20 18.2705 19.6207 18.9456 18.9456C19.6207 18.2705 20 17.3548 20 16.4V7.6C20 5.61 18.39 4 16.4 4H7.6ZM17.25 5.5C17.5815 5.5 17.8995 5.6317 18.1339 5.86612C18.3683 6.10054 18.5 6.41848 18.5 6.75C18.5 7.08152 18.3683 7.39946 18.1339 7.63388C17.8995 7.8683 17.5815 8 17.25 8C16.9185 8 16.6005 7.8683 16.3661 7.63388C16.1317 7.39946 16 7.08152 16 6.75C16 6.41848 16.1317 6.10054 16.3661 5.86612C16.6005 5.6317 16.9185 5.5 17.25 5.5ZM12 7C13.3261 7 14.5979 7.52678 15.5355 8.46447C16.4732 9.40215 17 10.6739 17 12C17 13.3261 16.4732 14.5979 15.5355 15.5355C14.5979 16.4732 13.3261 17 12 17C10.6739 17 9.40215 16.4732 8.46447 15.5355C7.52678 14.5979 7 13.3261 7 12C7 10.6739 7.52678 9.40215 8.46447 8.46447C9.40215 7.52678 10.6739 7 12 7ZM12 9C11.2044 9 10.4413 9.31607 9.87868 9.87868C9.31607 10.4413 9 11.2044 9 12C9 12.7956 9.31607 13.5587 9.87868 14.1213C10.4413 14.6839 11.2044 15 12 15C12.7956 15 13.5587 14.6839 14.1213 14.1213C14.6839 13.5587 15 12.7956 15 12C15 11.2044 14.6839 10.4413 14.1213 9.87868C13.5587 9.31607 12.7956 9 12 9Z",fill:"#9CA3AF"})),RP=e=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M5.679 18.123C3.093 16.566 1.5 14.112 1.5 11.405C1.501 6.701 6.249 3 12.001 3C17.753 3 22.501 6.701 22.501 11.405C22.501 16.109 17.753 19.81 12.001 19.81C11.559 19.81 11.1197 19.7883 10.683 19.745L6.918 22.203C6.303 22.529 5.961 22.628 5.433 22.269C4.813 21.845 4.837 21.377 5.051 20.709L5.679 18.123ZM3.5 11.405C3.5 13.537 4.918 15.528 7.281 16.725L7.987 17.084L7.801 17.854L7.4 19.502L10.2 17.672L10.565 17.718C11.039 17.7793 11.5173 17.81 12 17.81C16.741 17.81 20.5 14.88 20.5 11.405C20.5 7.93 16.742 5 12.001 5C7.26 5 3.5 7.93 3.5 11.405ZM17.908 11.059L19.422 13.214C19.4577 13.2648 19.483 13.322 19.4965 13.3826C19.51 13.4431 19.5115 13.5057 19.5008 13.5668C19.4901 13.6279 19.4675 13.6863 19.4342 13.7387C19.401 13.791 19.3578 13.8363 19.307 13.872C19.2562 13.9077 19.199 13.933 19.1384 13.9465C19.0779 13.96 19.0153 13.9615 18.9542 13.9508C18.8931 13.9401 18.8347 13.9175 18.7823 13.8842C18.73 13.851 18.6847 13.8078 18.649 13.757L17.221 11.724L16.794 12.137V13.5C16.794 13.6252 16.7443 13.7452 16.6558 13.8338C16.5672 13.9223 16.4472 13.972 16.322 13.972C16.1968 13.972 16.0768 13.9223 15.9882 13.8338C15.8997 13.7452 15.85 13.6252 15.85 13.5V12.061C15.8334 11.9879 15.8334 11.9121 15.85 11.839V9.282C15.85 9.15682 15.8997 9.03676 15.9882 8.94825C16.0768 8.85973 16.1968 8.81 16.322 8.81C16.4472 8.81 16.5672 8.85973 16.6558 8.94825C16.7443 9.03676 16.794 9.15682 16.794 9.282V10.824L18.722 8.958C18.8128 8.87613 18.9319 8.83271 19.0541 8.83689C19.1763 8.84107 19.2922 8.89252 19.3772 8.98041C19.4622 9.06829 19.5098 9.18575 19.51 9.30804C19.5101 9.43033 19.4628 9.54791 19.378 9.636L17.908 11.059ZM14.95 12.984C15.0752 12.984 15.1952 13.0337 15.2838 13.1222C15.3723 13.2108 15.422 13.3308 15.422 13.456C15.422 13.5812 15.3723 13.7012 15.2838 13.7898C15.1952 13.8783 15.0752 13.928 14.95 13.928H13.018C12.956 13.9281 12.8946 13.916 12.8374 13.8923C12.7801 13.8686 12.7281 13.8339 12.6843 13.79C12.6405 13.7461 12.6059 13.694 12.5823 13.6367C12.5587 13.5794 12.5467 13.518 12.547 13.456V9.297C12.5441 9.23325 12.5541 9.16958 12.5765 9.10981C12.5988 9.05005 12.6331 8.99544 12.6772 8.9493C12.7212 8.90315 12.7742 8.86641 12.8329 8.84132C12.8915 8.81622 12.9547 8.80328 13.0185 8.80328C13.0823 8.80328 13.1455 8.81622 13.2041 8.84132C13.2628 8.86641 13.3158 8.90315 13.3598 8.9493C13.4039 8.99544 13.4382 9.05005 13.4605 9.10981C13.4829 9.16958 13.4929 9.23325 13.49 9.297V12.984H14.95ZM9.093 11.893H10.427L9.789 10.185L9.093 11.893ZM11.616 12.38L11.961 13.305C11.9848 13.3635 11.9967 13.4262 11.9958 13.4893C11.995 13.5525 11.9815 13.6148 11.9561 13.6727C11.9308 13.7305 11.8941 13.7827 11.8482 13.8261C11.8023 13.8694 11.7481 13.9032 11.689 13.9253C11.6298 13.9474 11.5668 13.9574 11.5037 13.9546C11.4406 13.9519 11.3787 13.9366 11.3216 13.9095C11.2645 13.8825 11.2135 13.8442 11.1715 13.7971C11.1295 13.7499 11.0973 13.6948 11.077 13.635L10.779 12.836H8.709L8.377 13.649C8.35356 13.7064 8.31904 13.7586 8.27543 13.8026C8.23181 13.8467 8.17994 13.8817 8.12279 13.9057C8.06563 13.9297 8.00431 13.9422 7.94232 13.9425C7.88033 13.9428 7.81889 13.9309 7.7615 13.9075C7.70411 13.8841 7.6519 13.8495 7.60785 13.8059C7.56381 13.7623 7.52878 13.7104 7.50478 13.6533C7.48077 13.5961 7.46826 13.5348 7.46796 13.4728C7.46765 13.4108 7.47956 13.3494 7.503 13.292L9.165 9.217C9.21605 9.08531 9.30573 8.97215 9.42227 8.89237C9.53882 8.81259 9.67677 8.76994 9.818 8.77C9.95833 8.7758 10.0936 8.8243 10.2056 8.90899C10.3176 8.99369 10.4012 9.11057 10.445 9.244L11.491 12.044C11.5723 12.1308 11.6177 12.2451 11.618 12.364L11.616 12.38ZM8.294 9.302C8.294 9.562 8.084 9.774 7.823 9.774H6.683V13.51C6.683 13.6353 6.63322 13.7555 6.54461 13.8441C6.456 13.9327 6.33581 13.9825 6.2105 13.9825C6.08518 13.9825 5.965 13.9327 5.87639 13.8441C5.78778 13.7555 5.738 13.6353 5.738 13.51V9.774H4.578C4.45282 9.774 4.33276 9.72427 4.24425 9.63575C4.15573 9.54724 4.106 9.42718 4.106 9.302C4.106 9.17682 4.15573 9.05676 4.24425 8.96825C4.33276 8.87973 4.45282 8.83 4.578 8.83H7.823C8.083 8.83 8.294 9.041 8.294 9.302Z",fill:"#9CA3AF"})),AP=[{title:"",children:[{title:"ALLCLL ",href:"/about"},{title:"  ",href:"/faq"},{title:"  ",href:"https://forms.gle/bCDTVujEHunnvHe88"},{title:"allcllclla@google.com"}]}],IP=[{icon:h.jsx(PP,{className:"w-8 h-8 m-2"}),title:" github",href:"https://github.com/allcll"},{icon:h.jsx(RP,{className:"w-8 h-8 m-2"}),title:" ",href:"https://open.kakao.com/o/g3MztXfh"},{icon:h.jsx(OP,{className:"w-8 h-8 m-2"}),title:" instagram",href:"https://www.instagram.com/sejong_allcll"}];function Zv(){return h.jsxs("footer",{className:"bg-white text-center text-sm text-gray-500",children:[h.jsxs("div",{className:"mx-auto max-w-7xl px-4 md:px-16 py-12 grid md:grid-cols-3 gap-6 text-center md:text-left",children:[h.jsxs("div",{className:"mx-auto md:mx-0",children:[h.jsxs("div",{className:"flex items-center mb-2 h-fit justify-center md:justify-start",children:[h.jsx("img",{src:"/ci.svg",className:"w-6 h-6 mr-2",alt:"ci"}),h.jsx("img",{src:"/logo-name.svg",alt:"logo",className:"h-5"})]}),h.jsx("ul",{className:"flex items-center",children:IP.map(({icon:e,title:t,href:n})=>h.jsx("li",{children:h.jsx("a",{href:n,className:"h-fit rounded-md hover:bg-gray-200","aria-label":t,title:t,children:e})},t))})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold mb-4",children:""}),h.jsx("ul",{children:n6.map(({title:e,path:t,end:n})=>h.jsx("li",{className:"mb-1",children:h.jsx($l,{to:t,end:n,className:"hover:text-blue-500 hover:underline hover:font-bold",children:e})},e))})]}),AP.map((e,t)=>h.jsxs("div",{className:"mb-4",children:[h.jsx("h3",{className:"font-bold mb-4",children:e.title}),h.jsx("ul",{children:e.children.map((n,r)=>h.jsx("li",{className:"mb-1",children:n.href?n.href.startsWith("http")?h.jsx("a",{className:"hover:text-blue-500 hover:underline hover:font-bold",href:n.href,target:"_blank",children:n.title}):h.jsx(kr,{to:n.href,className:"hover:text-blue-500 hover:underline hover:font-bold",children:n.title}):h.jsx("p",{children:n.title})},r))})]},t))]}),h.jsx("p",{className:"pb-12",children:" 2025 ALLCLL. All rights reserved."})]})}const LP=1.5*1e3,m6=5,Yr=jr(e=>({needCount:0,alwaysReload:!1,forceReloadNumber:0,errorCount:0,isError:!1,isPending:!0,addNeedCount:()=>e(t=>({needCount:t.needCount+1})),deleteNeedCount:()=>e(t=>({needCount:Math.max(0,t.needCount-1)})),setAlwaysReload:t=>e({alwaysReload:t}),setForceReload:()=>e(t=>({forceReloadNumber:t.forceReloadNumber+1,errorCount:0,isError:!1})),setError:()=>e(({errorCount:t,isPending:n})=>({errorCount:t+1,isError:t+1>=m6,isPending:n||t>1})),resetError:()=>e({errorCount:0,isError:!1,isPending:!1})}));function g6(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var s;const o=u=>u===null?null:JSON.parse(u,void 0),a=(s=n.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const Ny=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Ny(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Ny(r)(n)}}}},DP=(e,t)=>(n,r,i)=>{let s={storage:g6(()=>window.localStorage),partialize:C=>C,version:0,merge:(C,E)=>({...E,...C}),...t},o=!1,a=0;const u=new Set,c=new Set;let f=s.storage;if(!f)return e((...C)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...C)},r,i);const p=()=>{const C=s.partialize({...r()});return f.setItem(s.name,{state:C,version:s.version})},g=i.setState;i.setState=(C,E)=>(g(C,E),p());const y=e((...C)=>(n(...C),p()),r,i);i.getInitialState=()=>y;let w;const S=()=>{var C,E;if(!f)return;const P=++a;o=!1,u.forEach($=>{var W;return $((W=r())!=null?W:y)});const A=((E=s.onRehydrateStorage)==null?void 0:E.call(s,(C=r())!=null?C:y))||void 0;return Ny(f.getItem.bind(f))(s.name).then($=>{if($)if(typeof $.version=="number"&&$.version!==s.version){if(s.migrate){const W=s.migrate($.state,$.version);return W instanceof Promise?W.then(D=>[!0,D]):[!0,W]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,$.state];return[!1,void 0]}).then($=>{var W;if(P!==a)return;const[D,R]=$;if(w=s.merge(R,(W=r())!=null?W:y),n(w,!0),D)return p()}).then(()=>{P===a&&(A?.(w,void 0),w=r(),o=!0,c.forEach($=>$(w)))}).catch($=>{P===a&&A?.(void 0,$)})};return i.persist={setOptions:C=>{s={...s,...C},C.storage&&(f=C.storage)},clearStorage:()=>{f?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>S(),hasHydrated:()=>o,onHydrate:C=>(u.add(C),()=>{u.delete(C)}),onFinishHydration:C=>(c.add(C),()=>{c.delete(C)})},s.skipHydration||S(),w||y},ex=DP,MP=()=>{if(!(typeof window>"u"||typeof navigator>"u"))return navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate},fd=MP(),tx={canNotify(){return!!fd},isGranted(){return this.canNotify()},requestPermission(e){this.isGranted()?e?.("granted"):e?.("denied")},getDeniedMessage(){return this.canNotify()?[]:["     ."]},show(e,t){const n=Zd(va.VIBRATE);fd&&n&&fd.call(navigator,[200])},close(e){fd&&fd.call(navigator,0)}};var ci=(e=>(e[e.NONE=0]="NONE",e[e.BROWSER=1]="BROWSER",e[e.TOAST=2]="TOAST",e[e.BOTH=3]="BOTH",e))(ci||{}),va=(e=>(e[e.NONE=0]="NONE",e[e.VIBRATE=1]="VIBRATE",e[e.SOUND=2]="SOUND",e[e.ALL=3]="ALL",e))(va||{});const FP=()=>/Mobi|Android/i.test(navigator.userAgent),g3=()=>{const e="Notification"in window,t=FP();return 1*Number(e)+2*Number(t)},y3=()=>{const e=tx.canNotify();return 1*Number(e)+2},Ws=jr()(ex(e=>({alarmType:g3(),subAlarmType:y3(),saveSettings:t=>e(n=>({...n,...t})),resetSettings:()=>e(()=>({alarmType:g3(),subAlarmType:y3()}))}),{name:"AlarmSettings",partialize:e=>({alarmType:e.alarmType,subAlarmType:e.subAlarmType})}));function Py(e){return!!(Ws.getState().alarmType&e)}function Zd(e){return!!(Ws.getState().subAlarmType&e)}const Ea=jr(e=>({isOpen:!1,isPermitted:!1,open:()=>e({isOpen:!0}),close:()=>e({isOpen:!1}),setPermitted:t=>e({isPermitted:t})}));function BP(){return h.jsxs(h.Fragment,{children:["  ? ",h.jsx(kr,{to:"/faq#0",className:"text-blue-500 underline hover:text-blue-600",children:" "})]})}const Zf=()=>Notification??window.Notification,Vi={canNotify(){return"Notification"in window||!!Zf()},isGranted(){return Vi.canNotify()&&Zf().permission==="granted"},requestPermission(e){const t=Zf();if(!Vi.canNotify()){alert("      .   ");return}if(!Vi.isGranted()){t.requestPermission().then(n=>{e&&e(n),Ea.getState().setPermitted(n==="granted")});return}e&&e(t.permission)},getDeniedMessage(){return Vi.canNotify()?Vi.isGranted()?[]:["   .    "]:["     "]},show(e,t){const n=Vi.canNotify(),r=Py(ci.BROWSER),i=rm.getState().setBanner,s=Zf();n&&r&&s.permission==="granted"&&($P(i),navigator.serviceWorker.ready.then(function(o){o.showNotification(e,{badge:"/ci.svg",tag:t}).then()}))},close(e){!Vi.canNotify()||!Vi.isGranted()||navigator.serviceWorker.ready.then(function(t){t.getNotifications({tag:e}).then(function(n){n.forEach(function(r){r.close()})})})}},zP=1e3*60*60*24;function $P(e){const t="alarm-check",n=localStorage.getItem(t);n&&Date.now()-Number(n)<100*zP||setTimeout(()=>{e(BP(),()=>{localStorage.setItem(t,Date.now().toString())})},5e3)}const Oy={canNotify(){return!0},isGranted(){return!0},requestPermission(e){},getDeniedMessage(){return[]},show(e,t){const n=um.getState().addToast;n&&n(e,t)},close(e){const t=um.getState().clearToast;t(e)}},UP="/notification.mp3";let vs=null;const HP=()=>{typeof Audio<"u"&&!vs&&(vs=new Audio(UP),vs.preload="auto",vs.volume=1,vs.load())};HP();const VP={canNotify(){return typeof Audio<"u"},isGranted(){return this.canNotify()},requestPermission(e){this.isGranted()?e?.("granted"):e?.("denied")},getDeniedMessage(){return this.canNotify()?[]:["     ."]},show(e,t){this.canNotify()&&vs&&(vs.currentTime=0,vs.play().catch(n=>{console.warn("Failed to play notification sound:",n)}))},close(e){vs&&(vs.pause(),vs.currentTime=0)}},Mm="https://dev.allcll.kr";async function Fm(e,t){return await fetch(Mm+e,{credentials:"include",...t})}async function Oo(e,t){const n=await fetch(Mm+e,{credentials:"include",...t,headers:{"Content-Type":"application/json",...t?.headers}});if(!n.ok)throw new Error(await n.text());return await n.json()}async function WP(e,t,n){const r=await fetch(Mm+e,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"},body:t?JSON.stringify(t):void 0,...n});if(!r.ok)throw new Error(await r.text());return r.status===204?null:await r.json()}function qP(e,t){return new EventSource(Mm+e,{withCredentials:!0,...t})}async function Bm(e,t){const n=await fetch(e,{credentials:"include",...t});if(!n.ok)throw new Error(await n.text());return await n.json()}const QP=async()=>await Oo("/api/subjects"),KP=async e=>await Bm(`/${e}/subjects.json`),GP=async()=>YP,zm=[{semesterCode:"SPRING_26",semesterValue:"2026-1"},{semesterCode:"WINTER_25",semesterValue:"2025-"},{semesterCode:"FALL_25",semesterValue:"2025-2"},{semesterCode:"SUMMER_25",semesterValue:"2025-"},{semesterCode:"SPRING_25",semesterValue:"2025-1"}],Ki=zm[0],YP={semesterCode:"SPRING_26",semesterValue:"2026-1",services:[{id:"timetable",startDate:"2026-01-23",endDate:"2099-12-31",message:null},{id:"baskets",startDate:"2026-01-23",endDate:"2099-12-31",message:null},{id:"simulation",startDate:"2026-01-23",endDate:"2099-12-31",message:null},{id:"live",startDate:"2026-01-23",endDate:"2026-03-09",message:null},{id:"preSeat",startDate:"2026-02-10",endDate:"2026-03-09",message:null}]},$m={subjectId:-1,subjectName:"",subjectCode:"",classCode:"",professorName:"",deptCd:"",manageDeptNm:"",studentYear:"",lesnTime:"",lesnRoom:"",tmNum:"",remark:null,curiTypeCdNm:"",curiLangNm:null,isDeleted:!0};function Es(e){e=e??Ki.semesterCode;const t=e===Ki.semesterCode;return ks({queryKey:["subjects",e],queryFn:()=>t?QP():KP(e),staleTime:1/0,select:n=>n.subjectResponses})}function JP(e){return e.getQueryData(["subjects",Ki.semesterCode])?.subjectResponses??[]}let v3=!1;function Pu(){const e=[],t=Py(ci.BROWSER),n=Py(ci.TOAST),r=Zd(va.VIBRATE),i=Zd(va.SOUND);return t&&e.push(Vi),n&&e.push(Oy),r&&e.push(tx),i&&e.push(VP),e}const Ei={canNotify(){return Pu().every(e=>e.canNotify())},isGranted(){const e=Pu().every(t=>t.isGranted());return Ea.getState().setPermitted(e),e},requestPermission(e){Ei.isGranted()||(Pu().forEach(t=>t.requestPermission(e)),Ea.getState().open())},getDeniedMessage(){return Pu().flatMap(e=>e.getDeniedMessage())},show(e,t){Ws.getState().alarmType!==ci.NONE&&Pu().forEach(r=>r.show(e,t))},close(e){Pu().forEach(t=>t.close(e))}};function XP(e,t,n){const{alwaysReload:r}=Yr.getState();if(!(!e||!t||!r)){for(const i of t)if(e.some(o=>o.subjectId===i.subjectId&&o.seatCount===0&&i.seatCount>0)){const o=ZP(n,i.subjectId);if(!o){Ei.show("unknown subject  ");return}Ei.show(`${o.subjectCode}-${o.classCode} ${o.subjectName}  `)}}}function ZP(e,t){return JP(e).find(r=>r.subjectId===t)}let ep=null,x3=1;function b3(e){const t="global-notification_"+x3,n="global-notification_"+ ++x3;ep&&(clearTimeout(ep),Ei.close(t),ep=null),Ei.show(e,n),ep=setTimeout(()=>Ei.close(n),3e3)}function eO(){const e=Yr(i=>i.alwaysReload),t=Yr(i=>i.setAlwaysReload),n=e;return N.useEffect(()=>{v3||(Ei.isGranted()&&(b3("  .     "),t(!0)),v3=!0)},[]),{isAlarm:n,changeAlarm:()=>{if(!n){if(Ws.getState().alarmType===ci.NONE){if(!confirm("   ?"))return;Ws.getState().resetSettings()}Ei.requestPermission()}const i=n?"  ":"  ";t(!n),b3(i)}}}var nx=(e=>(e.IDLE="idle",e.LIVE="live",e))(nx||{});const tO=3e3;let tp=null;const Zu=jr(e=>({lastUpdate:new Date,sseState:"live",updated:()=>{e({lastUpdate:new Date,sseState:"live"}),tp&&clearInterval(tp),tp=setTimeout(()=>{e({sseState:"idle"}),tp=null},tO)}}));function w3(e,t){const n=[];for(const r of t){const i=e.find(o=>o.subjectId===r.subjectId);!i||i.seatCount!==r.seatCount||i.queryTime!==r.queryTime?n.push(r):n.push(i)}return n}function nO(e,t){const n=new Set;[...e,...t].forEach(i=>{n.add(i.subjectId)});const r=[];return n.forEach(i=>{const s=e.find(u=>u.subjectId===i),o=t.find(u=>u.subjectId===i);o&&(!s||s.queryTime!==o.queryTime||s.seatCount!==o.seatCount)?r.push(o):s&&r.push(s)}),r}var Um=(e=>(e.NON_MAJOR="nonMajorSeats",e.MAJOR="majorSeats",e.PINNED="pinSeats",e))(Um||{});let np=!1;const rO=()=>{const e=Ti(),t=Yr(u=>u.needCount),n=Yr(u=>u.alwaysReload),r=Yr(u=>u.forceReloadNumber),i=Yr(u=>u.errorCount),s=Yr(u=>u.setError),o=Yr(u=>u.resetError),a=Yr(u=>u.isError);N.useEffect(()=>{const u=n||t>0;np||!u||i>=m6||(np=!0,iO(e,o).then(()=>{o(),np=!1}).catch(()=>{np=!1,i===0?s():setTimeout(s,LP)}))},[n,t,e,s,r,o,i]),N.useEffect(()=>{a&&Ei.show(" .  .")},[a])},iO=(e,t)=>new Promise((n,r)=>{const i=qP("/api/connect");return i.addEventListener("nonMajorSeats",s=>{const o=JSON.parse(s.data);if(!o)return;const a=o.seatResponses??[];e.setQueryData(["nonMajorSeats"],(u=[])=>w3(u,a)),Zu.getState().updated()}),i.addEventListener("majorSeats",s=>{const o=JSON.parse(s.data);if(!o)return;const a=o.seatResponses??[];e.setQueryData(["majorSeats"],(u=[])=>w3(u,a)),Zu.getState().updated()}),i.addEventListener("pinSeats",s=>{const o=JSON.parse(s.data);if(!o)return;const a=o.seatResponses??[];e.setQueryData(["pinSeats"],(u=[])=>{const c=nO(u,a);return XP(u,c,e),c}),Zu.getState().updated()}),i.onopen=()=>{t(),Zu.getState().updated()},i.onerror=s=>{i.close(),r(new Error("SSE connection error: "+(s.type??"Unknown error")))},()=>{i.close(),n("SSE connection closed")}}),rx=e=>{const t=Ti(),n=Yr(u=>u.addNeedCount),r=Yr(u=>u.deleteNeedCount),i=Yr(u=>u.isPending),s=Yr(u=>u.isError),o=Yr(u=>u.setForceReload);return N.useEffect(()=>{const u=()=>{document.visibilityState==="visible"?n():r()};return n(),document.addEventListener("visibilitychange",u),()=>{r(),document.removeEventListener("visibilitychange",u)}},[n,r]),{...ks({queryKey:[e],queryFn:()=>Promise.resolve(t.getQueryData([e])??[])}),isPending:i,isError:s,refetch:o}},_3={idx:-1,key:""};function ix(){const e=Cs(),t=N.useRef(_3);N.useEffect(()=>{const n=window.history.state;(!n||n.idx>=t.current.idx)&&window.scrollTo(0,0),t.current=n??_3},[e.pathname]),rO()}function S3(){return ix(),h.jsxs(h.Fragment,{children:[h.jsx(Er,{children:h.jsx("title",{children:"(ALLCLL) |   "})}),h.jsx(Xv,{}),h.jsx(Qv,{}),h.jsx(h6,{}),h.jsx(Dv,{}),h.jsx(Zv,{})]})}function Ul(e){const t=ks({queryKey:["serviceSemester"],queryFn:GP,staleTime:1/0,select:r=>r?{...r,services:r.services.map(sO)}:null});if(!e||!t.data)return t;const n=t.data.services.find(r=>r.id===e);return{...t,data:{semesterCode:t.data.semesterCode,semesterValue:t.data.semesterValue,service:n}}}const sO=e=>{const t=new Date,n=new Date(e.startDate),r=new Date(e.endDate);n.setHours(0,0,0,0),r.setHours(23,59,59,999);const i=n<=t&&t<=r;return{id:e.id,startDate:n,endDate:r,withinPeriod:i,startDateStr:e.startDate,endDateStr:e.endDate,message:e.message}},oO=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17.971202850341797,height:16.003124237060547,viewBox:"0 0 17.971202850341797 16.003124237060547",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,32.006248474121094)"},N.createElement("path",{d:"M17.9688,24.003124237060547Q17.9376,23.596874237060547,17.6568,23.315624237060547Q17.3761,23.034374237060547,16.9705,23.003124237060547L15.9723,23.003124237060547L16.0035,18.003124237060547Q15.9723,17.878124237060547,15.9723,17.753124237060547L15.9723,17.253124237060547Q15.9723,16.721874237060547,15.5979,16.378124237060547Q15.2548,16.003124237060547,14.7244,16.003124237060547L14.2253,16.003124237060547Q14.1629,16.003124237060547,14.1317,16.003124237060547Q14.0693,16.003124237060547,14.0069,16.003124237060547L12.9775,16.003124237060547L12.2288,16.003124237060547Q11.6984,16.003124237060547,11.3553,16.378124237060547Q10.9809,16.721874237060547,10.9809,17.253124237060547L10.9809,18.003124237060547L10.9809,20.003124237060547Q10.9809,20.440624237060547,10.7002,20.721874237060547Q10.4194,21.003124237060547,9.98267,21.003124237060547L7.98614,21.003124237060547Q7.54939,21.003124237060547,7.26863,20.721874237060547Q6.98787,20.440624237060547,6.98787,20.003124237060547L6.98787,18.003124237060547L6.98787,17.253124237060547Q6.98787,16.721874237060547,6.61352,16.378124237060547Q6.27036,16.003124237060547,5.74003,16.003124237060547L4.99133,16.003124237060547L3.99307,16.003124237060547Q3.96187,16.003124237060547,3.93068,16.003124237060547Q3.89948,16.003124237060547,3.86828,16.003124237060547Q3.80589,16.003124237060547,3.7435,16.003124237060547L3.24437,16.003124237060547Q2.71404,16.003124237060547,2.37088,16.378124237060547Q1.99653,16.721874237060547,1.99653,17.253124237060547L1.99653,20.753124237060547Q1.99653,20.784374237060547,1.99653,20.846874237060547L1.99653,23.003124237060547L0.998267,23.003124237060547Q0.561525,23.034374237060547,0.280763,23.315624237060547Q0,23.596874237060547,0,24.034374237060547Q0,24.440624237060547,0.311958,24.784374237060547L8.29809,31.753124237060547Q8.64125,32.034324237060545,8.9844,32.00312423706055Q9.35875,32.00312423706055,9.63952,31.78442423706055L17.6257,24.753124237060547Q18,24.440624237060547,17.9688,24.003124237060547Z",fill:"#FFFFFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function aO({data:e}){const t=e.service?.endDate&&e.service.endDate<new Date;return h.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen min-w-[250px] bg-gray-100 px-4",children:h.jsxs("main",{className:"text-center",children:[h.jsx(It,{level:1,children:t?"  .":" ."}),h.jsxs(Tn,{children:["   .",h.jsx("br",{}),"       :)"]}),h.jsxs(wn,{className:"mt-2",children:[t?h.jsxs(h.Fragment,{children:[h.jsxs(It,{level:2,children:[e.semesterValue,"  ."]}),h.jsxs(Tn,{children:["     .",h.jsx("br",{})]}),h.jsx(Tn,{children:"    ."})]}):h.jsxs(h.Fragment,{children:[h.jsx(It,{level:2,children:"   "}),h.jsxs(Tn,{children:[e.semesterValue," "]}),h.jsxs(Tn,{children:[e.service?.startDateStr," ~ ",e.service?.endDateStr]})]}),h.jsx("hr",{className:"my-4 border-gray-200"}),h.jsx(It,{level:3,children:""}),h.jsx(Tn,{className:"flex items-center justify-center gap-2 mt-2",children:"allcllclla@google.com"}),h.jsx(Et,{variant:"text",size:"medium",textColor:"primary",asChild:!0,children:h.jsx("a",{href:"https://forms.gle/bCDTVujEHunnvHe88",target:"_blank",children:"  "})}),h.jsx(Et,{variant:"text",size:"medium",textColor:"primary",asChild:!0,children:h.jsx("a",{href:"https://open.kakao.com/o/g3MztXfh",target:"_blank",children:" "})})]}),h.jsx(je,{className:"mt-6",justify:"justify-center",children:h.jsx(Et,{variant:"primary",size:"medium",asChild:!0,children:h.jsxs(kr,{to:"/",children:[h.jsx(oO,{className:"w-4 h-4"}),"  "]})})})]})})}function y6({serviceId:e,children:t}){const{data:n,error:r}=Ul(e);return r&&console.error("Semester service error:",r),!n||!("service"in n)||!n.service||n.service.withinPeriod?t:h.jsx(aO,{data:n})}function C3({serviceId:e}){return ix(),h.jsxs(h.Fragment,{children:[h.jsx(Xv,{}),h.jsx(Qv,{}),h.jsxs(y6,{serviceId:e,children:[h.jsx(h6,{}),h.jsx(Dv,{})]}),h.jsx(Zv,{})]})}const lO=[{name:"  ",children:[{name:"  ",children:[{name:"",path:"/simulation"},{name:" ",path:"/simulation/logs"},{name:" ",path:"#"},{name:"/ ",path:"#"},{name:"/",path:"#"},{name:"(,)",path:"#"}]}]}],Ry=[{title:"",urlPath:"/simulation"},{title:" ",urlPath:"/simulation/logs"},{title:" ",urlPath:"/simulation/logs/"},{title:" ",urlPath:"/simulation/interest"},{title:" ",urlPath:"/simulation/admin"}];({...Ry[0],realUrl:Ry[0].urlPath});function v6({className:e,essential:t,disabled:n,children:r}){const s=(t?"relative inline-block w-autobefore:content-[''] before:absolute before:top-0 before:left-0 before:w-0 before:h-0 before:z-5 "+(n?"before:border-t-[8px] before:border-t-gray-400 before:border-r-[8px] before:border-r-transparent ":"before:border-t-[8px] before:border-t-red-500 before:border-r-[8px] before:border-r-transparent "):"")+e;return h.jsx("div",{className:s,children:r})}function uO({type:e="text",className:t="",essential:n=!1,disabled:r=!1,...i}){return h.jsx(v6,{className:t,essential:n,disabled:r,children:h.jsx("input",{type:e,className:"relative border-1 border-gray-300 px-2 text-xs w-full h-6 focus:outline-none focus:rounded focus:ring focus:border-gray-800 disabled:bg-gray-100 disabled:cursor-not-allowed ",disabled:r,...i})})}function cO({variant:e="primary",size:t="md",className:n="",children:r,...i}){const s="flex flex-row gap-1 cursor-pointer rounded",o=dO(e),a=hO(t),u=`${s} ${o} ${a} ${n}`.trim();return h.jsx("button",{className:u,...i,children:r})}function dO(e){switch(e){case"primary":return"bg-blue-500 text-white hover:bg-blue-600";case"secondary":return"bg-gray-500 text-white hover:bg-gray-600";case"dark":return"bg-gray-700 text-white hover:bg-gray-900";case"cancel":return"bg-white border border-gray-700 hover:bg-gray-100";case"danger":return"bg-red-500 text-white hover:bg-red-600";default:return""}}function hO(e){switch(e){case"sm":return"px-2 py-0.5 text-xs rounded-xs";case"md":return"px-3 py-2 text-sm";case"lg":return"px-4 py-3 text-base";default:return""}}function fO({className:e="",essential:t=!1,children:n,...r}){const i="px-2 h-6 text-gray-400 text-xs border border-gray-300 disabled:bg-gray-100 disabled:cursor-not-allowed "+e;return h.jsx(v6,{className:e,essential:t,disabled:r.disabled??!1,children:h.jsx("select",{className:i,...r,children:n})})}function pO({children:e,onBackdropClick:t,preventAutoFocus:n,noBorder:r}){const i=N.useRef(null),s=r?"":"border-[3px] border-slate-800 ";N.useEffect(()=>(document.body.style.overflow="hidden",n||i.current?.focus(),()=>{document.body.style.overflow=""}),[n]);const o=a=>{a.stopPropagation(),t&&t()};return h.jsxs("div",{className:"fixed inset-0 z-100 flex items-center justify-center",children:[h.jsx("button",{type:"button","aria-label":"Close dialog",className:"absolute inset-0 bg-black/5 cursor-default",onClick:o}),h.jsx("div",{className:"fixed inset-x-0 top-0 bottom-0 flex items-center justify-center bg-black/5",children:h.jsx("div",{ref:i,role:"dialog",tabIndex:-1,"aria-labelledby":"modal-title","aria-describedby":"modal-desc",className:`
          relative
          max-h-[100vh]
          min-w-[390px]
          bg-white
          overflow-y-auto
          ${s}
        `,onClick:a=>a.stopPropagation(),children:e})})]})}const x6=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e},N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px",d:"M4 20L20 4M4 4l16 16"}));function mO({title:e,onClose:t=()=>{}}){return h.jsxs("div",{className:"flex justify-between items-center p-3 border-b border-gray-200 ",children:[h.jsx("h2",{className:"font-semibold sm:text-lg text-sm text-gray-900",children:e}),h.jsx("button",{className:"w-5 h-5 text-gray-500 hover:text-gray-700 cursor-pointer",onClick:t,title:"",tabIndex:-1,children:h.jsx(x6,{className:"w-full h-full"})})]})}function gO({variant:e="primary",className:t="",children:n,...r}){const i="px-4 h-6 text-xs flex items-center gap-1 rounded-xs cursor-pointer",s=yO(e),o=`${i} ${s} ${t}`.trim();return h.jsx("button",{className:o,...r,children:n})}function yO(e){switch(e){case"primary":return"bg-blue-500 text-white hover:bg-blue-600";case"secondary":return"bg-gray-500 text-white hover:bg-gray-600";case"cancel":return"bg-white border border-gray-700 hover:bg-blue-50 hover:border-blue-500";case"danger":return"bg-red-500 text-white hover:bg-red-600";default:return""}}function vO({children:e,className:t="",...n}){const r="flex justify-end gap-4 w-full border-3 border-white "+t;return h.jsx("div",{className:r,...n,children:e})}const xO=Object.assign(pO,{Header:mO,Button:gO,ButtonContainer:vO});function bO({columns:e}){return h.jsx("thead",{className:"bg-gray-100",children:h.jsx("tr",{className:"text-nowrap",children:e.map(t=>h.jsx("th",{className:"border border-gray-300 px-2 py-1",children:t.header},String(t.header)))})})}function wO({columns:e,data:t,keyInfo:n}){return h.jsx("tbody",{children:t.map((r,i)=>{const s=typeof n=="function"?n(r):r[n];return h.jsx("tr",{children:e.map(o=>h.jsx("td",{className:"border border-gray-300 px-2 py-1",children:o.cell(r,i)},`cell-${s}-${o.header}`))},`row-${s}`)})})}function _O(){return h.jsx("tbody",{children:h.jsx("tr",{children:h.jsx("td",{colSpan:99,className:"text-gray-500 py-4",children:h.jsx("div",{className:"min-h-[160px] flex items-center justify-center ",children:h.jsx("p",{className:"bg-gray-100 px-15 py-1 border",children:"  ."})})})})})}function SO({columns:e,data:t,className:n="w-full border border-gray-300 border-t-3 border-t-black text-center text-xs text-nowrap",keyInfo:r,emptyComponent:i=h.jsx(_O,{})}){const s=t&&t.length>0;return h.jsx("div",{className:"overflow-x-auto min-h-[300px] border-gray-300",children:h.jsxs("table",{className:n,children:[h.jsx(bO,{columns:e}),s?h.jsx(wO,{columns:e,data:t,keyInfo:r}):i]})})}function CO({children:e,className:t=""}){const r=`font-semibold pl-2 border-l-4 border-blue-500 ${t}`.trim();return h.jsx("div",{className:r,children:e})}const b6=N.createContext(null);function kO(){const e=N.useContext(b6);if(!e)throw new Error("useTabsContext must be used within a TabsProvider");return e}function EO({tabList:e,initialTabs:t=[],children:n}){const[r,i]=N.useState(t),s=Rm(),o=Cs();N.useEffect(()=>{if(r.length===0){const f=a(o);u(f),s(f.realUrl)}},[r]),N.useEffect(()=>{u(a(o))},[o.pathname]);function a(f){const p=f.pathname.replace(/\d+/,"");return{title:e.find(g=>g.urlPath===p)?.title||"   ",urlPath:p,realUrl:f.pathname}}const u=f=>{i(p=>{const g=p.findIndex(w=>w.urlPath===f.urlPath);if(g===-1)return[...p,f];const y=[...p];return y[g]=f,y})},c=f=>{i(p=>{const g=p.find(w=>w.urlPath===f);if(!g)return p;const y=p.filter(w=>w.urlPath!==f);if(window.location.pathname.includes(g.realUrl)){const w=y[y.length-1];s(w?w.realUrl:"/")}return y})};return h.jsx(b6.Provider,{value:{tabs:r,setTab:u,deleteTab:c},children:n})}function jO({tab:e,onDelete:t}){return h.jsxs($l,{to:e.realUrl,className:({isActive:n})=>"group px-2.5 flex items-center gap-2.5 w-1/4 sm:w-1/8 border-r-1 border-r-neutral-300 cursor-pointer focus:outline-none"+(n?" mb-[-1px] bg-white border-b-2 border-b-white border-t-4 border-t-blue-500 font-semibold text-blue-500":" text-gray-500 hover:bg-white"),end:!0,children:[h.jsx("span",{className:"flex-1 text-center overflow-hidden text-ellipsis text-nowrap rounded-xs group-focus:outline-black group-focus:outline-2",children:e.title}),h.jsx("button",{tabIndex:-1,"aria-label":" ",className:"w-4 text-gray-700 hover:text-blue-500 cursor-pointer",onClick:n=>{n.preventDefault(),n.stopPropagation(),t(e.urlPath)},children:h.jsx(x6,{className:"w-3 h-3"})})]})}function TO(){const{tabs:e,deleteTab:t}=kO();return h.jsx("div",{className:"flex border-b border-neutral-300 bg-gray-100 text-sm h-12",children:e.map(n=>h.jsx(jO,{tab:n,onDelete:t},n.urlPath))})}function NO({tabList:e,initialTabs:t=[]}){return h.jsx(EO,{tabList:e,initialTabs:t,children:h.jsx(TO,{})})}function PO({menu:e}){return h.jsx("li",{children:e.path==="#"?h.jsx("div",{className:"block px-2 py-2 text-xs text-gray-400 cursor-not-allowed",children:e.name}):h.jsx($l,{to:e.path??"#",className:({isActive:t})=>`block px-2 py-2 text-xs cursor-pointer hover:bg-blue-500 hover:text-white ${t?"bg-blue-500 text-white":""}`,end:!0,children:e.name})})}const OO=!0;function RO({menu:e}){const[t,n]=N.useState(OO);return h.jsxs("li",{className:"",children:[h.jsxs("button",{className:"px-4 py-2 h-10 flex items-center gap-4 w-full border-b border-neutral-300 cursor-pointer hover:bg-gray-100 "+(t?"font-semibold":"font-normal"),onClick:()=>n(r=>!r),children:[h.jsx("span",{children:t?"-":"+"}),h.jsx("span",{children:e.name})]}),t&&e.children&&h.jsx("ul",{className:"ml-1 pl-4 bg-neutral-100 font-semibold",children:e.children.map(r=>h.jsx(PO,{menu:r},r.name))})]})}const AO=!0;function IO({menu:e}){const[t,n]=N.useState(AO);return h.jsxs("li",{children:[h.jsxs("button",{className:"px-4 py-2 h-12 flex items-center justify-between w-full border-b border-neutral-300 cursor-pointer hover:bg-gray-100 "+(t?"font-semibold":"font-normal"),onClick:()=>n(r=>!r),children:[e.name,e.children&&h.jsx("span",{className:"ml-auto text-gray-500",children:t?"":""})]}),t&&e.children&&h.jsx("ul",{className:"",children:e.children.map(r=>h.jsx(RO,{menu:r},r.name))})]})}function LO({menus:e}){const[t,n]=N.useState(!0),[r]=N.useState(/Android|iPhone/i.test(navigator.userAgent)),i=()=>{n(s=>!s)};return h.jsx("aside",{className:(t?"relative z-10":"relative bg-blue-50 z-10")+(!t||r?" w-[20px] min-w-[20px] h-[calc(100vh-60px)]":" w-[230px] min-w-[230px]"),children:t?h.jsxs("div",{className:r?"absolute w-[300px] min-w-[300px] h-full bg-white shadow-gray-800 shadow-md":"bg-white",children:[h.jsxs("div",{className:"h-12 bg-blue-500 text-white text-lg font-semibold flex items-center justify-between px-4",children:[h.jsx("span",{children:""}),h.jsx("button",{className:"text-white hover:text-gray-200 cursor-pointer",onClick:i,children:"<"})]}),h.jsx("ul",{className:"flex flex-col text-sm",children:e.map(s=>h.jsx(IO,{menu:s},s.name))})]}):h.jsx("div",{children:h.jsx("button",{className:"w-full h-12 bg-blue-500 text-white text-lg font-semibold text-center cursor-pointer hover:text-gray-200",onClick:i,children:">"})})})}const Yt={Input:uO,Button:cO,Select:fO,Modal:xO,SectionHeader:CO,Tab:NO,AsideMenu:LO,DataTable:SO};function DO(){return ix(),h.jsxs(h.Fragment,{children:[h.jsx(Xv,{}),h.jsx(Qv,{}),h.jsx(y6,{serviceId:"simulation",children:h.jsx("div",{className:"w-full bg-white text-sm text-gray-800 font-sans",children:h.jsxs("div",{className:"flex",children:[h.jsx(Yt.AsideMenu,{menus:lO}),h.jsxs("div",{className:"flex-auto min-w-0",children:[h.jsx(Yt.Tab,{tabList:Ry}),h.jsx("main",{className:"flex-1 p-4 space-y-4 mx-auto max-w-screen-2xl overflow-x-hidden",children:h.jsx(Dv,{})})]})]})})}),h.jsx(Zv,{})]})}function La({bgColor:e,className:t,children:n}){const r=e??"even:bg-white ",i=t?` ${t}`:"";return h.jsx("section",{className:r,children:h.jsx("div",{className:`mx-auto max-w-7xl px-4 md:px-8 py-10 ${i}`,children:n})})}const MO="02 10()",FO="02 13()";function BO(){const{data:e}=Ul();return h.jsxs(La,{className:"flex flex-col md:flex-row items-center justify-between",bgColor:"bg-banner-skysoft",children:[h.jsxs("div",{className:"max-w-xl",children:[h.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[h.jsx("img",{src:"/calendar.png",alt:"2026-1    ",className:"w-10 h-10"}),h.jsxs("span",{className:"italic text-xs text-stone-500 ",children:[e?.semesterValue,"    ",h.jsx("br",{}),MO," ~ ",FO]})]}),h.jsx("h1",{className:"text-lg mt-10 sm:text-xl md:text-2xl leading-snug font-bold mb-3 ",children:"      "}),h.jsxs("div",{className:"flex flex-row justify-start items-center text-xl sm:text-2xl md:text-4xl leading-snug font-bold mb-3",children:[h.jsx("img",{src:"/logo-name.svg",alt:"(ALLCLL)    ",className:"w-20 sm:w-32 md:w-40 lg:w-48 mr-2 animate-updown"})," !"]}),h.jsx(Tn,{children:"    ,    (ALLCLL)  ."}),h.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mt-4",children:[h.jsx(Et,{variant:"primary",size:"medium",asChild:!0,children:h.jsx(kr,{to:"/live",children:"  "})}),h.jsx(Et,{variant:"outlined",size:"medium",asChild:!0,children:h.jsx(kr,{to:"/simulation",children:"  "})})]})]}),h.jsx("img",{src:"/summer-banner.png",alt:"","aria-hidden":"true",className:"w-90 hidden sm:block  mt-8 md:mt-4"})]})}const zO=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:15,height:15,viewBox:"0 0 15 15",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,30)"},N.createElement("path",{d:"M10.3125,30Q9.69727,29.9707,9.43359,29.414099999999998Q9.22852,28.8574,9.63867,28.3887L10.8691,27.1875L5.88867,22.23633Q5.625,21.94336,5.625,21.5625Q5.625,21.18164,5.88867,20.88867Q6.18164,20.625,6.5625,20.625Q6.94336,20.625,7.23633,20.88867L12.1875,25.8691L13.3887,24.638669999999998Q13.8574,24.22852,14.4141,24.433590000000002Q14.9707,24.69727,15,25.3125L15,29.0625Q15,29.4727,14.7363,29.7363Q14.4727,30,14.0625,30L10.3125,30ZM2.34375,29.0625Q1.34766,29.0332,0.673828,28.3887Q0.0292969,27.7148,0,26.7188L0,17.34375Q0.0292969,16.34766,0.673828,15.673828Q1.34766,15.0292969,2.34375,15L11.7188,15Q12.7148,15.0292969,13.3887,15.673828Q14.0332,16.34766,14.0625,17.34375L14.0625,20.625Q14.0625,21.03516,13.7988,21.29883Q13.5352,21.5625,13.125,21.5625Q12.7148,21.5625,12.4512,21.29883Q12.1875,21.03516,12.1875,20.625L12.1875,17.34375Q12.1582,16.9043,11.7188,16.875L2.34375,16.875Q1.9043,16.9043,1.875,17.34375L1.875,26.7188Q1.9043,27.1582,2.34375,27.1875L5.625,27.1875Q6.03516,27.1875,6.29883,27.4512Q6.5625,27.7148,6.5625,28.125Q6.5625,28.5352,6.29883,28.7988Q6.03516,29.0625,5.625,29.0625L2.34375,29.0625Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function kh({title:e,subtitle:t,href:n,disabled:r=!1}){const i=!!n&&!r;return h.jsxs(h.Fragment,{children:[i?h.jsxs(kr,{to:n,className:"flex items-center gap-2 hover:underline focus:underline",children:[h.jsx(It,{level:2,children:e}),h.jsx(zO,{className:"w-4 h-4"})]}):h.jsx(It,{level:2,children:e}),t&&h.jsx(Tn,{children:t})]})}function w6(e,t){const n=Rt(c=>c.options),[r,i]=N.useState({dragging:!1,startX:0,startY:0}),s=N.useCallback(c=>{c.stopPropagation();const{x:f,y:p}=rp(c,n);e&&e(f,p,f,p),i({startX:f,startY:p,dragging:!0})},[e]),o=c=>{c.stopPropagation();const{x:f,y:p}=rp(c,n);t&&t(r.startX,r.startY,f,p),i(g=>({...g,dragging:!1}))},a=c=>{c.stopPropagation();const{x:f,y:p}=rp(c,n);e&&e(r.startX,r.startY,f,p)},u=c=>{c.stopPropagation();const f=c.touches[0],{x:p,y:g}=rp(f,n);e&&e(r.startX,r.startY,p,g)};return N.useEffect(()=>{if(r.dragging)return document.addEventListener("mouseup",o),document.addEventListener("touchmove",u),document.addEventListener("mousemove",a),()=>{document.removeEventListener("mouseup",o),document.removeEventListener("touchmove",u),document.removeEventListener("mousemove",a)}},[r,e,t]),{dragging:r.dragging,onMouseDown:s}}const k3=6;function rp(e,t){const{tableX:n,tableY:r,width:i,height:s,cols:o,rows:a}=t,{pageX:u,pageY:c}=e,f=i/o||1,p=s/a||1,g=Math.floor((u-n)/f),y=Math.floor((c-r)/p*k3)/k3,w=Math.max(0,Math.min(o-1,g)),S=Math.max(0,Math.min(a,y));return{x:w,y:S}}function $O(e){return new Promise(t=>setTimeout(t,e))}function UO(e,t=9){const n=t*60,r=new Date,i=new Date(e);return i.setMonth(i.getMonth()-n-r.getTimezoneOffset()),i}class Ou{time;constructor(t){switch(typeof t){case"string":const[r,i]=t.split(":").map(Number);this.time=r*60+i;break;case"object":const{hours:s,minutes:o}=t;this.time=s*60+o;break;case"number":this.time=t;break}if(Number.isNaN(this.time)||this.time<0||this.time>=1440)throw this.time=0,new Error("Invalid time value")}toObject(){const t=Math.floor(this.time/60),n=this.time%60;return{hours:t,minutes:n}}toString(){const{hours:t,minutes:n}=this.toObject(),r=t.toString().padStart(2,"0"),i=n.toString().padStart(2,"0");return`${r}:${i}`}compare(t){const n=this.time-t.time;return n===0?0:n>0?1:-1}}const sx={timeTableId:-1,timeTableName:" ",semesterCode:"",schedules:[]},HO=async e=>await Oo(`/api/timetables?semesterCode=${encodeURIComponent(e)}`,{method:"GET"}),_6=e=>ks({queryKey:["timetableList",e],queryFn:()=>HO(e),select:t=>t.timeTables,staleTime:1e3*60*5});function S6(e,t){t=t??Ki.semesterCode;const{data:n}=Es(t);return ks({queryKey:["timetableData",e],queryFn:async()=>!e||e<=0?{timetableId:-1,timetableName:" ",semesterCode:"",schedules:[]}:await Oo(`/api/timetables/${e}/schedules`),select:i=>KO(i,n),refetchOnWindowFocus:!1,staleTime:1e3*60*5})}function VO(){const e=Ti(),{currentTimetable:t,pickTimetable:n}=Rt.getState();return Aa({mutationFn:async({timeTableId:r,timeTableName:i})=>await Oo(`/api/timetables/${r}`,{method:"PATCH",body:JSON.stringify({timeTableName:i})}),onMutate:async({timeTableId:r})=>(await e.cancelQueries({queryKey:["timetableList",r]}),{timeTableId:r}),onSuccess:async(r,i,s)=>{const o=s?.timeTableId;t?.timeTableId===o&&n({timeTableId:r.timeTableId,timeTableName:r.timeTableName,semesterCode:r.semesterCode}),await e.invalidateQueries({queryKey:["timetableList"]}),await e.invalidateQueries({queryKey:["timetableList",o]})},onError:async(r,i,s)=>{console.error(`   (id: ${s?.timeTableId})`,r),await e.invalidateQueries({queryKey:["timetableList"]}),await e.invalidateQueries({queryKey:["timetableList",s?.timeTableId]})}})}function C6(){const e=Ti();return Aa({mutationFn:async t=>await Fm(`/api/timetables/${t}`,{method:"DELETE"}),onMutate:async t=>(await e.cancelQueries({queryKey:["timetableList"]}),await e.cancelQueries({queryKey:["timetableData",t]}),{timeTableId:t}),onError:async(t,n,r)=>{console.error(`   (id: ${r?.timeTableId})`,t),await e.invalidateQueries({queryKey:["timetableList",r?.timeTableId]}),await e.invalidateQueries({queryKey:["timetableList"]})},onSuccess:async(t,n,r)=>{await e.invalidateQueries({queryKey:["timetableList"]}),await e.invalidateQueries({queryKey:["timetableData",r?.timeTableId]})}})}function k6(){const e=Ti();return Aa({mutationFn:async({timeTableName:t,semesterCode:n})=>await Oo("/api/timetables",{method:"POST",body:JSON.stringify({timeTableName:t,semesterCode:n})}),onSuccess:async t=>{const{pickTimetable:n}=Rt.getState();n({timeTableId:t.timeTableId,timeTableName:t.timeTableName,semesterCode:t.semesterCode}),await e.invalidateQueries({queryKey:["timetableList"]})},onError:async t=>{try{const n=JSON.parse(t.message);alert(n.message)}catch{alert("Error adding Timetable")}await e.invalidateQueries({queryKey:["timetableList"]})}})}function WO(e,t){t=t??Ki.semesterCode;const n=Ti(),r=Rt(s=>s.changeScheduleData),{mutateAsync:i}=k6();return Aa({mutationFn:async({schedule:s})=>{let o=e;if(!o||o<=0){const u=await i({timeTableName:" ",semesterCode:t});o=u.timeTableId,await $O(300),n.setQueryData(["timetableData",o],{timetableId:o,timetableName:u.timeTableName,semesterCode:u.semesterCode,schedules:[s]})}return{schedule:await Oo(`/api/timetables/${o}/schedules`,{method:"POST",body:JSON.stringify(s)}),targetTimetableId:o}},onMutate:async s=>{if(!e||e<=0)return;const o=n.getQueryData(["timetableData",e])??{...sx};return e&&e>0&&(await n.cancelQueries({queryKey:["timetableData",e]}),n.setQueryData(["timetableData",e],{...o,schedules:[...o.schedules,s.schedule]}),r(new hi().toUiData(),Un.NONE)),{...s,prevTimetableSchedules:o}},onError:(s,o,a)=>{n.setQueryData(["timetableData",e],a?.prevTimetableSchedules),console.error(s)},onSuccess:async({schedule:s,targetTimetableId:o},a,u)=>{const c=n.getQueryData(["timetableData",o]);r(new hi().toUiData(),Un.NONE),n.setQueryData(["timetableData",o],{...c,schedules:c?.schedules.map(f=>f.scheduleId===u?.schedule.scheduleId?s:f)})}})}function qO(e){const t=Ti();return Aa({mutationFn:async({schedule:n})=>await Oo(`/api/timetables/${e}/schedules/${n.scheduleId}`,{method:"PATCH",body:JSON.stringify(n)}),onMutate:async n=>{const r=t.getQueryData(["timetableData",e])??{...sx};return await t.cancelQueries({queryKey:["timetableData",e]}),{...n,prevTimetableSchedules:r}},onError:(n,r,i)=>{t.setQueryData(["timetableData",e],i?.prevTimetableSchedules),console.error(n)},onSuccess:async(n,r,i)=>{if(!i?.prevTimetableSchedules){await t.invalidateQueries({queryKey:["timetableList"]}),await t.invalidateQueries({queryKey:["timetableData",e]});return}t.setQueryData(["timetableData",e],{...i.prevTimetableSchedules,schedules:i.prevTimetableSchedules.schedules.map(s=>s.scheduleId===n.scheduleId?{...s,...n}:s)})}})}function QO(e){const t=Ti();return Aa({mutationFn:async({schedule:n})=>await WP(`/api/timetables/${e}/schedules/${n.scheduleId}`,{scheduleType:n.scheduleType}),onMutate:async n=>{const r=t.getQueryData(["timetableData",e])??{...sx};return await t.cancelQueries({queryKey:["timetableData",e]}),{...n,prevTimetableSchedules:r}},onError:(n,r,i)=>{t.setQueryData(["timetableData",e],i?.prevTimetableSchedules),console.error(n)},onSuccess:async(n,{schedule:r},i)=>{if(console.log("  ! timetableId:",e),!i?.prevTimetableSchedules){await t.invalidateQueries({queryKey:["timetableList"]}),await t.invalidateQueries({queryKey:["timetableData",e]});return}console.log("  !   . timetableId:",e,i.prevTimetableSchedules),t.setQueryData(["timetableData",e],{...i.prevTimetableSchedules,schedules:i.prevTimetableSchedules.schedules.filter(s=>s.scheduleId!==r.scheduleId)}),await t.invalidateQueries({queryKey:["timetableData",e]})}})}function KO(e,t){if(!e||!t)return[];const{schedules:n}=e;return n.map(r=>new hi(r,t).toUiData())}function E6(e,t=9){const n=Rt(a=>a.schedule),r=Rt(a=>a.mode),i=["rose","amber","green","emerald","blue","violet"],s={};if(!e)return;let o=e;return(r===Un.EDIT||r===Un.VIEW)&&(o=e.map(a=>a.scheduleId===n.scheduleId?n:a)),o.forEach((a,u)=>{const c=a.isDeleted?"gray":i[u%i.length],{subjectName:f,professorName:p,location:g}=a;new vc(a.timeSlots).toUiData(t).forEach(w=>{s[w.dayOfWeek]||(s[w.dayOfWeek]=[]),s[w.dayOfWeek].push({title:f,professor:p,location:g,schedule:a,color:c,...w})})}),Object.keys(s).forEach(a=>{s[a]=GO(s[a])}),s}function GO(e){const n=Rt.getState().options.isMobile?8:16,r=o=>Number.parseFloat(o.replace("px",""));return e.sort((o,a)=>{const u=r(o.height);return r(a.height)-u}).reduce((o,a)=>{const u=r(a.top),c=u+r(a.height),p=o.reduce((g,y)=>{const w=r(y.top),S=w+r(y.height);return w<=u&&u<S||w<c&&c<=S?Math.max(g,y.depth):g},-1)+1;return[...o,{...a,depth:p}]},[]).map(o=>{const a=n*o.depth;return{...o,left:`${a}px`,right:"0px",height:o.height,top:o.top}})}function YO(e){const t=Rt(i=>i.schedule),n=Rt(i=>i.mode);if(!e)return[];const r=e.filter(i=>i.timeSlots===null||i.timeSlots.length===0);return n===Un.NONE||t.timeSlots.length>0?r.map(i=>({...i,selected:!1})):t.scheduleId<=0?[...r.map(i=>({...i,selected:!1})),{...t,selected:!0}]:r.map(i=>({...i,selected:i.scheduleId===t.scheduleId}))}const E3={search:{isOpen:!1},filter:{isOpen:!1},edit:{isOpen:!1},info:{isOpen:!1}},To=jr(e=>({type:E3,openBottomSheet:t=>e(n=>({type:{...n.type,[t]:{isOpen:!0}}})),closeBottomSheet:t=>e(n=>({type:{...n.type,[t]:{isOpen:!1}}})),resetBottomSheet:()=>e({type:E3})}));function Ro(){const[e]=L4();return e.get("semester")??Ki.semesterCode}const d1=()=>new hi().toUiData();let h1;function Br(){const e=Ti(),t=Rt(E=>E.changeScheduleData),n=Ro(),i=Rt(E=>E.currentTimetable)?.timeTableId??-1,s=To(E=>E.openBottomSheet),o=To(E=>E.closeBottomSheet),[,a]=N.useTransition(),{mutate:u}=WO(i,n),{mutate:c}=qO(i),{mutate:f}=QO(i);return{setOptimisticSchedule:E=>{a(()=>t(E,Un.NONE))},openScheduleModal:E=>{h1=e.getQueryData(["timetableData",i]);let P;!E.scheduleId||E.scheduleId<=0?(P=Un.CREATE,E.scheduleType!=="official"&&s("edit")):E.scheduleType==="official"?(P=Un.VIEW,console.log(h1),s("info")):(P=Un.EDIT,s("edit")),t(E,P)},editSchedule:E=>{const P=Rt.getState().schedule;let A=E instanceof Function?E(P):E;t(A)},saveSchedule:(E,P=!0)=>{const A=Rt.getState().schedule,$=Rt.getState().mode;if(E&&E.preventDefault(),!new vc(A.timeSlots).validate()){alert("       .");return}const D=A.timeSlots.length!==0;if(A.scheduleType==="custom"&&!D){alert(" !.");return}const z=new hi(A).toApiData();$===Un.CREATE?(z.scheduleId=XO(h1?.schedules??[]),u({schedule:z})):$===Un.EDIT&&(c({schedule:z}),t({...d1()},Un.NONE)),P&&o("edit")},deleteSchedule:E=>{const P=Rt.getState().schedule;E&&E.preventDefault();const A=new hi(P).toApiData();f({schedule:A}),t({...d1()},Un.NONE),o("edit"),o("info")},cancelSchedule:(E,P=!0)=>{E&&E.preventDefault(),t({...d1()},Un.NONE),P&&o("edit")}}}function Eh(){const e=Rt(n=>n.mode),t=Rt(n=>n.schedule);return{modalActionType:e,schedule:t}}function JO(){const{minTime:e}=Rt(n=>n.options);return{getTimeslot:(n,r,i)=>{n>r&&([n,r]=[r,n]),i!==void 0&&r-n<i&&(r=n+i);const s=j3(e,n),o=j3(e,r);return{startTime:s,endTime:o}}}}function j3(e,t){const n=e+Math.floor(t),r=Math.floor((t-Math.floor(t))*60);return n<0?"00:00":n>23?"23:50":`${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}function XO(e){let t=-Math.floor(Math.random()*1e6);for(;e.some(n=>n.scheduleId===t);)t=-Math.floor(Math.random()*1e6);return t}function j6({title:e,professor:t,location:n,color:r="blue",schedule:i,selected:s=!1,timeslotIndex:o,fixed:a=!1,...u}){const{text:c,bgLight:f,bg:p}=ZO(r),g=N.useRef(null),{openScheduleModal:y}=Br(),w=Rt(W=>W.schedule),S=s||w.scheduleId===i.scheduleId,C=(W,D,R,z)=>{if(!g.current||a)return;const q=R-W,B=(z-D)*eh;g.current.style.setProperty("transform",`translate(calc(100% * ${q}), ${B}px)`)},E=(W,D,R,z)=>{if(!g.current||a)return;i.scheduleType==="official"&&g.current.style.setProperty("transform","");const q={...i,timeSlots:i.timeSlots.map((B,ae)=>ae!==o?B:fR(B,R-W,z-D))};y(q),g.current.style.setProperty("transform","")},P=W=>{(W.key==="Enter"||W.key===" ")&&(W.preventDefault(),W.stopPropagation(),E(0,0,0,0))},{dragging:A,onMouseDown:$}=w6(C,E);return h.jsxs("div",{ref:g,className:`flex absolute ${f} rounded-l-xs cursor-pointer hover:z-20 focus:z-20 `+u.className,onMouseDown:$,onKeyDown:P,tabIndex:0,...u,children:[h.jsx("div",{className:`w-[2px] h-full sm:w-1 sm:rounded-xs  ${p}`}),h.jsxs("div",{className:"flex-auto sm:p-2 p-[1px] "+(S?"animate-pulse":"")+(A?"opacity-50":""),children:[h.jsx("h3",{className:`${c} font-semibold text-[9px] sm:text-sm`,children:e}),h.jsxs("p",{className:"sm:text-xs text-[7px] text-gray-500",children:[t," ",n]})]})]})}function ZO(e){switch(e){case"rose":return{text:"text-rose-500",bgLight:"bg-rose-50",bg:"bg-rose-500"};case"amber":return{text:"text-amber-500",bgLight:"bg-amber-50",bg:"bg-amber-500"};case"green":return{text:"text-green-500",bgLight:"bg-green-50",bg:"bg-green-500"};case"emerald":return{text:"text-emerald-500",bgLight:"bg-emerald-50",bg:"bg-emerald-500"};case"blue":return{text:"text-blue-500",bgLight:"bg-blue-50",bg:"bg-blue-500"};case"violet":return{text:"text-violet-500",bgLight:"bg-violet-50",bg:"bg-violet-500"};default:return{text:"text-gray-500",bgLight:"bg-gray-50",bg:"bg-gray-500"}}}function eR({dayOfWeeks:e}){const t=Ro(),n=Rt(g=>g.schedule),r=Rt(g=>g.options),{data:i}=Es(t);if(!i||n.scheduleId>0||!n.timeSlots||n.timeSlots.length<=0)return null;let s=Number.parseInt(r.rowNames[0].replace("",""));Number.isNaN(s)&&(s=9);const o=new hi(n,i).toUiData(),u=new vc(o.timeSlots).toUiData(s).filter(({dayOfWeek:g})=>g===e);if(!u)return null;const{subjectName:c,professorName:f,location:p}=o;return u.map(({height:g,top:y,left:w,right:S},C)=>h.jsx(tR,{timeslotIndex:C,title:c??"",professor:f??"",location:p??"",schedule:n,style:{height:g,top:y,left:w,right:S}},`wire-schedule-${e}-${C}`))}function tR({title:e,professor:t,location:n,...r}){const{timeslotIndex:i,...s}=r;return h.jsx("div",{className:`flex absolute rounded-md z-20 
      border-violet-500 border-2 md:border-4
      ${r.className}`,style:{...r.style},...s,children:h.jsxs("div",{className:"flex-auto p-2 bg-violet-50  rounded-md animate-pulse",children:[h.jsx("h3",{className:"text-violet-500 font-semibold  text-[10px] sm:text-sm",children:e}),h.jsxs("p",{className:" sm:text-xs text-[8px]  text-gray-500",children:[t," ",n]})]})})}const f1=()=>new hi().toUiData(),nR=({dayOfWeeks:e,scheduleTimes:t})=>{const n=t,{setOptimisticSchedule:r,openScheduleModal:i}=Br(),{getTimeslot:s}=JO(),o=(f,p,g,y)=>{const{startTime:w,endTime:S}=s(p,y,1);r({...f1(),timeSlots:[{dayOfWeeks:e,startTime:w,endTime:S}]})},a=(f,p,g,y)=>{const{startTime:w,endTime:S}=s(p,y,1);i({...f1(),timeSlots:[{dayOfWeeks:e,startTime:w,endTime:S}]})},u=f=>{(f.key==="Enter"||f.key===" ")&&i({...f1()})},{onMouseDown:c}=w6(o,a);return h.jsxs("div",{className:"relative flex-auto px-[2px]",tabIndex:0,onMouseDown:c,onKeyDown:u,children:[h.jsx(eR,{dayOfWeeks:e}),n.map(({title:f,professor:p,location:g,color:y,height:w,top:S,left:C,right:E,schedule:P},A)=>h.jsx(j6,{timeslotIndex:A,title:f,professor:p??"",location:g??"",schedule:P,color:y,style:{height:w,top:S,left:C,right:E}},"schedule-"+A))]})};function rR({schedules:e}){const t=e?.reduce((n,r)=>{if(r.scheduleType!=="official"||!r.tmNum)return n;const i=r.tmNum.split("/").map(s=>{const o=Number(s);return Number.isNaN(o)?0:o});return n.map((s,o)=>s+(i[o]??0))},[0,0,0])??[0,0,0];return h.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 bg-blue-50 rounded-md p-2 mt-3",children:[h.jsxs("span",{children:[" : ",t[0]??0]}),h.jsxs("span",{children:[": ",t[1]??0]}),h.jsxs("span",{children:[": ",t[2]??0]})]})}const T6=e=>N.createElement("svg",{width:23,height:23,viewBox:"0 0 23 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M10.3669 11.3356L7.94579 9.04443C7.8086 8.9146 7.73766 8.75936 7.733 8.57871C7.72833 8.39807 7.79059 8.23915 7.9198 8.10198C8.049 7.9648 8.20424 7.89386 8.38551 7.88918C8.56678 7.88449 8.7257 7.94676 8.86225 8.07598L11.2834 10.3671L13.5745 7.94599C13.7043 7.80879 13.8596 7.73786 14.0402 7.73319C14.2209 7.72852 14.3798 7.79079 14.517 7.91999C14.6541 8.04919 14.7252 8.20458 14.7302 8.38616C14.7352 8.56774 14.6728 8.7265 14.5429 8.86244L12.2518 11.2836L14.6729 13.5747C14.8101 13.7045 14.8812 13.8599 14.8862 14.0409C14.8912 14.2218 14.8288 14.3806 14.6989 14.5171C14.5691 14.6537 14.4137 14.7248 14.2328 14.7304C14.0518 14.736 13.8931 14.6736 13.7565 14.5431L11.3354 12.252L9.04423 14.6731C8.9144 14.8103 8.75901 14.8814 8.57806 14.8864C8.39711 14.8914 8.23835 14.829 8.10178 14.6991C7.96521 14.5693 7.89428 14.414 7.88898 14.2334C7.88369 14.0528 7.94595 13.8939 8.07578 13.7567L10.3669 11.3356Z",fill:"#6B7280"}));function iR({schedules:e}){const t=YO(e);return h.jsx(je,{direction:"flex-col",gap:"gap-2",className:"mt-3",children:t.map(n=>h.jsx(sR,{schedule:n,selected:n.selected},n.scheduleId))})}function sR({schedule:e,selected:t}){const{openScheduleModal:n}=Br(),r=()=>{n(e)};return h.jsxs("div",{className:"h-10 w-full p-4 flex justify-between items-center rounded border "+(t?"bg-blue-100 border-blue-500":"border-gray-200"),children:[h.jsxs(je,{gap:"gap-5",children:[h.jsx("p",{children:e.subjectName}),h.jsx("p",{className:"text-stone-400",children:e.professorName})]}),h.jsx(lr,{"aria-label":"delete",variant:"plain",label:"delete",icon:h.jsx(T6,{className:"w-5 h-5"}),onClick:r})]},e.scheduleId)}const Hm=["","","","","","",""];function oR(e){const t=Rt(a=>a.schedule),n=Rt(a=>a.setOptions),r=[...e??[],t],i=r.reduce((a,u)=>{let c=a;return u.timeSlots?(u.timeSlots.some(f=>f.dayOfWeeks==="")&&(c=Math.max(c,6)),u.timeSlots.some(f=>f.dayOfWeeks==="")&&(c=Math.max(c,7)),c):a},5),{minTime:s,maxTime:o}=r.reduce((a,u)=>(u.timeSlots.forEach(c=>{const f=Number.parseInt(c.startTime.split(":")[0]),p=Number.parseInt(c.endTime.split(":")[0]);Number.isNaN(f)||Number.isNaN(p)||(a.minTime=Math.min(a.minTime,f),a.maxTime=Math.max(a.maxTime,p))}),a),{minTime:9,maxTime:20});return N.useEffect(()=>{n({rowNames:Array.from({length:o-s+1},(a,u)=>`${s+u}`),minTime:s,maxTime:o,rows:o-s+1})},[s,o]),N.useEffect(()=>{n({colNames:Hm.slice(0,i),cols:i})},[i]),{}}let p1=null;const aR=e=>{const t=Rt(r=>r.setOptions),n=()=>{if(!e.current)return;const r=e.current.getBoundingClientRect();t({width:r.width,height:r.height,tableX:r.left+window.pageXOffset,tableY:r.top+window.pageYOffset}),p1=null};N.useEffect(()=>{if(!e.current)return;const r=()=>{p1||(p1=setTimeout(n,300),t({isMobile:window.innerWidth<768}))};return r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[e])};function lR(e){const t=N.useRef(!1),n=rm(r=>r.setBanner);N.useEffect(()=>{e?.some(i=>i.isDeleted)&&!t.current&&(t.current=!0,n("  !    "))},[e])}const eh=40;function uR({schedules:e}){const t=N.useRef(null),n=Rt(r=>r.setOptions);return N.useEffect(()=>{n({containerRef:t?.current??null})},[t]),h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"bg-white",ref:t,children:[h.jsx(hR,{children:h.jsx(dR,{schedules:e})}),h.jsx(iR,{schedules:e})]}),h.jsx(rR,{schedules:e})]})}const cR=Hm.reduce((e,t)=>(e[t]=[],e),{});function dR({schedules:e}){const{colNames:t,minTime:n}=Rt(i=>i.options),r=E6(e,n)??cR;return lR(e),oR(e),t.map(i=>h.jsx(nR,{scheduleTimes:r[i]??[],dayOfWeeks:i},"day-schedule-"+i))}function hR({rowHeight:e=eh,children:t}){const{colNames:n,rowNames:r}=Rt(i=>i.options);return h.jsx(N6,{colNames:n,rowNames:r,rowHeight:e,children:t})}class hi{data;constructor(t,n){if(!t){this.data=this.#e();return}if(t.scheduleType==="official"&&!t.subjectName){this.data=this.#t(t,n);return}this.data=t,this.data.timeSlots||(this.data.timeSlots=[])}#e(){return{scheduleId:-1,scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"",tmNum:"",isDeleted:!1,timeSlots:[]}}#t(t,n){if(!n)throw new TypeError("Subjects must be provided for API to UI conversion");const r=n instanceof Array?n.find(i=>i.subjectId===t.subjectId):n;return{scheduleId:t.scheduleId,scheduleType:t.scheduleType,subjectId:t.subjectId,subjectName:r?.subjectName??"",professorName:r?.professorName??"",location:r?.lesnRoom??"",tmNum:r?.tmNum??"",isDeleted:r?.isDeleted??!1,timeSlots:new vc(r?.lesnTime).toApiData()}}toApiData(){const t=this.data;return t.scheduleType==="official"?{scheduleId:t.scheduleId,scheduleType:"official",subjectId:t.subjectId??0,subjectName:null,professorName:null,location:null,timeSlots:[]}:{...t,scheduleType:"custom",subjectId:null}}toUiData(){return this.data}}class vc{data;constructor(t){if(!t){this.data=[];return}if(typeof t=="string"){this.data=this.#t(t);return}if(Array.isArray(t)){this.data=t.map(n=>this.#e(n));return}this.data=[this.#e(t)]}#e(t){const[n,r]=t.startTime.split(":"),[i,s]=t.endTime.split(":");return{dayOfWeeks:t.dayOfWeeks,startHour:Number.parseInt(n),startMinute:Number.parseInt(r),endHour:Number.parseInt(i),endMinute:Number.parseInt(s)}}#t(t){const n=/([]+)(\d{1,2}:\d{2})-(\d{1,2}:\d{2})/g,r=[];let i;for(;(i=n.exec(t))!==null;){const s=i[1],o=i[2],a=i[3],u=s.split("");for(const c of u)r.push(this.#e({dayOfWeeks:c,startTime:o,endTime:a}))}return r}validate(){return this.data.every(t=>{const{startHour:n,startMinute:r,endHour:i,endMinute:s}=t;return n<i||n===i&&r<s})}toApiData(){const t=n=>n.toString().padStart(2,"0");return this.data.map(n=>({dayOfWeeks:n.dayOfWeeks,startTime:`${t(n.startHour)}:${t(n.startMinute)}`,endTime:`${t(n.endHour)}:${t(n.endMinute)}`}))}toUiData(t){return this.data.map(({startHour:n,startMinute:r,endHour:i,endMinute:s,dayOfWeeks:o})=>{const a=(n*60+r)/60,u=(i*60+s)/60;return{dayOfWeek:o,depth:0,left:"0px",right:"0px",height:`${(u-a)*eh}px`,top:`${(a-t)*eh}px`}})}}function fR(e,t,n){const{dayOfWeeks:r,startTime:i,endTime:s}=e,[o,a]=i.split(":").map(Number),[u,c]=s.split(":").map(Number),f=Math.min(24,o+a/60+n),p=Math.min(24,u+c/60+n),g=Math.floor(f),y=Math.round((f-g)*60),w=Math.floor(p),S=Math.round((p-w)*60),C=["","","","","","",""],P=(C.indexOf(r)+t+C.length)%C.length;return{dayOfWeeks:C[P],startTime:`${g.toString().padStart(2,"0")}:${y.toString().padStart(2,"0")}`,endTime:`${w.toString().padStart(2,"0")}:${S.toString().padStart(2,"0")}`}}var Un=(e=>(e.NONE="none",e.CREATE="create",e.EDIT="edit",e.VIEW="view",e))(Un||{});const Rt=jr(e=>({currentTimetable:null,options:{containerRef:null,timetableRef:null,colNames:Hm.slice(0,5),rowNames:Array.from({length:12},(t,n)=>`${n+9}`),minTime:9,maxTime:20,tableX:0,tableY:0,width:0,height:0,cols:5,rows:11,isMobile:!1},mode:"none",schedule:new hi().toUiData(),pickTimetable:t=>{e(n=>({...n,currentTimetable:t}))},setOptions:t=>{e(n=>({...n,options:{...n.options,...t}}))},changeScheduleData:(t,n)=>{e(r=>({...r,mode:n??r.mode,schedule:{...r.schedule,...t}}))}}));function N6({rowHeight:e=eh,colNames:t,rowNames:n,children:r}){const i=N.useRef(null),{isMobile:s}=Rt(u=>u.options);aR(i);const{headerWidth:o,headerHeight:a}=s?{headerWidth:20,headerHeight:20}:{headerWidth:60,headerHeight:40};return h.jsxs("div",{className:"relative w-full bg-white",children:[h.jsxs("div",{className:"flex bg-gray-50 rounded-t-md",style:{height:`${a}px`},children:[h.jsx("div",{className:"flex items-center justify-center font-semibold text-gray-700",style:{width:`${o}px`}}),t.map((u,c)=>h.jsx("div",{className:"flex flex-auto items-center justify-center font-semibold text-gray-400 text-[10px] md:text-sm",children:u},"timetable-grid-header-"+c))]}),h.jsx("div",{className:"flex absolute inset-0",style:{top:`${a}px`,left:`${o}px`},children:t.map((u,c)=>h.jsx("div",{className:"flex-auto border-l border-gray-200 h-full"},"timetable-grid-col-"+c))}),n.map((u,c)=>h.jsx("div",{className:"border-b border-gray-200",style:{height:`${e}px`},children:h.jsx("span",{className:"flex items-center justify-center h-full text-gray-400 w-[20px] md:w-[60px] text-[10px] md:text-sm",children:u})},"timetable-grid-row-"+c)),h.jsx("div",{id:"timetable",ref:i,className:"absolute inset-0 flex z-10",style:{top:`${a}px`,left:`${o}px`},children:r})]})}const T3=["","","","",""],pR=Array.from({length:5},(e,t)=>`${t+9}`),mR=[{scheduleId:"1",scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"B209",tmNum:"3/1/0",isDeleted:!1,timeSlots:[{dayOfWeeks:"",startTime:"09:00",endTime:"10:30"},{dayOfWeeks:"",startTime:"09:00",endTime:"10:30"}]},{scheduleId:"2",scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"B209",tmNum:"3/1/0",isDeleted:!1,timeSlots:[{dayOfWeeks:"",startTime:"11:00",endTime:"12:30"},{dayOfWeeks:"",startTime:"11:00",endTime:"12:30"}]},{scheduleId:3,scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"B209",tmNum:"3/1/0",isDeleted:!1,timeSlots:[{dayOfWeeks:"",startTime:"12:00",endTime:"13:30"},{dayOfWeeks:"",startTime:"12:00",endTime:"13:30"}]}];function gR(){const e=E6(mR,9);return h.jsxs(La,{children:[h.jsx(kh,{title:"",subtitle:"     ",href:"/timetable"}),h.jsx(wn,{className:"mt-6",children:h.jsx(N6,{colNames:T3,rowNames:pR,children:T3.map(t=>h.jsx(yR,{data:e?e[t]:[]},t))})})]})}function yR({data:e}){return e?h.jsx("div",{className:"relative flex-auto px-[2px]",children:e.map(({title:t,professor:n,location:r,color:i,height:s,top:o,left:a,right:u,schedule:c},f)=>h.jsx(j6,{timeslotIndex:f,title:t,professor:n??"",location:r??"",schedule:c,color:i,style:{height:s,top:o,left:a,right:u},selected:!1,fixed:!0},"schedule-"+f))}):h.jsx("div",{className:"relative flex-auto px-[2px]"})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function jh(e){return e+.5|0}const xa=(e,t,n)=>Math.max(Math.min(e,n),t);function Pd(e){return xa(jh(e*2.55),0,255)}function Ca(e){return xa(jh(e*255),0,255)}function _o(e){return xa(jh(e/2.55)/100,0,1)}function N3(e){return xa(jh(e*100),0,100)}const Ui={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ay=[..."0123456789ABCDEF"],vR=e=>Ay[e&15],xR=e=>Ay[(e&240)>>4]+Ay[e&15],ip=e=>(e&240)>>4===(e&15),bR=e=>ip(e.r)&&ip(e.g)&&ip(e.b)&&ip(e.a);function wR(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&Ui[e[1]]*17,g:255&Ui[e[2]]*17,b:255&Ui[e[3]]*17,a:t===5?Ui[e[4]]*17:255}:(t===7||t===9)&&(n={r:Ui[e[1]]<<4|Ui[e[2]],g:Ui[e[3]]<<4|Ui[e[4]],b:Ui[e[5]]<<4|Ui[e[6]],a:t===9?Ui[e[7]]<<4|Ui[e[8]]:255})),n}const _R=(e,t)=>e<255?t(e):"";function SR(e){var t=bR(e)?vR:xR;return e?"#"+t(e.r)+t(e.g)+t(e.b)+_R(e.a,t):void 0}const CR=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function P6(e,t,n){const r=t*Math.min(n,1-n),i=(s,o=(s+e/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function kR(e,t,n){const r=(i,s=(i+e/60)%6)=>n-n*t*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function ER(e,t,n){const r=P6(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function jR(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}function ox(e){const n=e.r/255,r=e.g/255,i=e.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let u,c,f;return s!==o&&(f=s-o,c=a>.5?f/(2-s-o):f/(s+o),u=jR(n,r,i,f,s),u=u*60+.5),[u|0,c||0,a]}function ax(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(Ca)}function lx(e,t,n){return ax(P6,e,t,n)}function TR(e,t,n){return ax(ER,e,t,n)}function NR(e,t,n){return ax(kR,e,t,n)}function O6(e){return(e%360+360)%360}function PR(e){const t=CR.exec(e);let n=255,r;if(!t)return;t[5]!==r&&(n=t[6]?Pd(+t[5]):Ca(+t[5]));const i=O6(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?r=TR(i,s,o):t[1]==="hsv"?r=NR(i,s,o):r=lx(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function OR(e,t){var n=ox(e);n[0]=O6(n[0]+t),n=lx(n),e.r=n[0],e.g=n[1],e.b=n[2]}function RR(e){if(!e)return;const t=ox(e),n=t[0],r=N3(t[1]),i=N3(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${i}%, ${_o(e.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const P3={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},O3={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function AR(){const e={},t=Object.keys(O3),n=Object.keys(P3);let r,i,s,o,a;for(r=0;r<t.length;r++){for(o=a=t[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,P3[s]);s=parseInt(O3[o],16),e[a]=[s>>16&255,s>>8&255,s&255]}return e}let sp;function IR(e){sp||(sp=AR(),sp.transparent=[0,0,0,0]);const t=sp[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const LR=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function DR(e){const t=LR.exec(e);let n=255,r,i,s;if(t){if(t[7]!==r){const o=+t[7];n=t[8]?Pd(o):xa(o*255,0,255)}return r=+t[1],i=+t[3],s=+t[5],r=255&(t[2]?Pd(r):xa(r,0,255)),i=255&(t[4]?Pd(i):xa(i,0,255)),s=255&(t[6]?Pd(s):xa(s,0,255)),{r,g:i,b:s,a:n}}}function MR(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${_o(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const m1=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Ru=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function FR(e,t,n){const r=Ru(_o(e.r)),i=Ru(_o(e.g)),s=Ru(_o(e.b));return{r:Ca(m1(r+n*(Ru(_o(t.r))-r))),g:Ca(m1(i+n*(Ru(_o(t.g))-i))),b:Ca(m1(s+n*(Ru(_o(t.b))-s))),a:e.a+n*(t.a-e.a)}}function op(e,t,n){if(e){let r=ox(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,t===0?360:1)),r=lx(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function R6(e,t){return e&&Object.assign(t||{},e)}function R3(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Ca(e[3]))):(t=R6(e,{r:0,g:0,b:0,a:1}),t.a=Ca(t.a)),t}function BR(e){return e.charAt(0)==="r"?DR(e):PR(e)}class th{constructor(t){if(t instanceof th)return t;const n=typeof t;let r;n==="object"?r=R3(t):n==="string"&&(r=wR(t)||IR(t)||BR(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=R6(this._rgb);return t&&(t.a=_o(t.a)),t}set rgb(t){this._rgb=R3(t)}rgbString(){return this._valid?MR(this._rgb):void 0}hexString(){return this._valid?SR(this._rgb):void 0}hslString(){return this._valid?RR(this._rgb):void 0}mix(t,n){if(t){const r=this.rgb,i=t.rgb;let s;const o=n===s?.5:n,a=2*o-1,u=r.a-i.a,c=((a*u===-1?a:(a+u)/(1+a*u))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(t,n){return t&&(this._rgb=FR(this._rgb,t._rgb,n)),this}clone(){return new th(this.rgb)}alpha(t){return this._rgb.a=Ca(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=jh(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return op(this._rgb,2,t),this}darken(t){return op(this._rgb,2,-t),this}saturate(t){return op(this._rgb,1,t),this}desaturate(t){return op(this._rgb,1,-t),this}rotate(t){return OR(this._rgb,t),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function yo(){}const zR=(()=>{let e=0;return()=>e++})();function Ut(e){return e==null}function _n(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Vt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Mn(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Si(e,t){return Mn(e)?e:t}function St(e,t){return typeof e>"u"?t:e}const $R=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,A6=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function dn(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function tn(e,t,n,r){let i,s,o;if(_n(e))for(s=e.length,i=0;i<s;i++)t.call(n,e[i],i);else if(Vt(e))for(o=Object.keys(e),s=o.length,i=0;i<s;i++)t.call(n,e[o[i]],o[i])}function cm(e,t){let n,r,i,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],s=t[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function dm(e){if(_n(e))return e.map(dm);if(Vt(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=dm(e[n[i]]);return t}return e}function I6(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function UR(e,t,n,r){if(!I6(e))return;const i=t[e],s=n[e];Vt(i)&&Vt(s)?nh(i,s,r):t[e]=dm(s)}function nh(e,t,n){const r=_n(t)?t:[t],i=r.length;if(!Vt(e))return e;n=n||{};const s=n.merger||UR;let o;for(let a=0;a<i;++a){if(o=r[a],!Vt(o))continue;const u=Object.keys(o);for(let c=0,f=u.length;c<f;++c)s(u[c],e,o,n)}return e}function Bd(e,t){return nh(e,t,{merger:HR})}function HR(e,t,n){if(!I6(e))return;const r=t[e],i=n[e];Vt(r)&&Vt(i)?Bd(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=dm(i))}const A3={"":e=>e,x:e=>e.x,y:e=>e.y};function VR(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function WR(e){const t=VR(e);return n=>{for(const r of t){if(r==="")break;n=n&&n[r]}return n}}function ja(e,t){return(A3[t]||(A3[t]=WR(t)))(e)}function ux(e){return e.charAt(0).toUpperCase()+e.slice(1)}const rh=e=>typeof e<"u",Ta=e=>typeof e=="function",I3=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function qR(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Jt=Math.PI,mn=2*Jt,QR=mn+Jt,hm=Number.POSITIVE_INFINITY,KR=Jt/180,Hn=Jt/2,ul=Jt/4,L3=Jt*2/3,ba=Math.log10,qs=Math.sign;function zd(e,t,n){return Math.abs(e-t)<n}function D3(e){const t=Math.round(e);e=zd(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(ba(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function GR(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(n|0)&&t.push(n),t.sort((i,s)=>i-s).pop(),t}function YR(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Ll(e){return!YR(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function JR(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function L6(e,t,n){let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function bs(e){return e*(Jt/180)}function cx(e){return e*(180/Jt)}function M3(e){if(!Mn(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function D6(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*Jt&&(s+=mn),{angle:s,distance:i}}function Iy(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function XR(e,t){return(e-t+QR)%mn-Jt}function Lr(e){return(e%mn+mn)%mn}function ih(e,t,n,r){const i=Lr(e),s=Lr(t),o=Lr(n),a=Lr(s-i),u=Lr(o-i),c=Lr(i-s),f=Lr(i-o);return i===s||i===o||r&&s===o||a>u&&c<f}function vr(e,t,n){return Math.max(t,Math.min(n,e))}function ZR(e){return vr(e,-32768,32767)}function Co(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function dx(e,t,n){n=n||(o=>e[o]<t);let r=e.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const ko=(e,t,n,r)=>dx(e,n,r?i=>{const s=e[i][t];return s<n||s===n&&e[i+1][t]===n}:i=>e[i][t]<n),eA=(e,t,n)=>dx(e,n,r=>e[r][t]>=n);function tA(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}const M6=["push","pop","shift","splice","unshift"];function nA(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),M6.forEach(n=>{const r="_onData"+ux(n),i=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return e._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function F3(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);i!==-1&&r.splice(i,1),!(r.length>0)&&(M6.forEach(s=>{delete e[s]}),delete e._chartjs)}function F6(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const B6=(function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame})();function z6(e,t){let n=[],r=!1;return function(...i){n=i,r||(r=!0,B6.call(window,()=>{r=!1,e.apply(t,n)}))}}function rA(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const hx=e=>e==="start"?"left":e==="end"?"right":"center",Ar=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,iA=(e,t,n,r)=>e===(r?"left":"right")?n:e==="center"?(t+n)/2:t;function $6(e,t,n){const r=t.length;let i=0,s=r;if(e._sorted){const{iScale:o,vScale:a,_parsed:u}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,f=o.axis,{min:p,max:g,minDefined:y,maxDefined:w}=o.getUserBounds();if(y){if(i=Math.min(ko(u,f,p).lo,n?r:ko(t,f,o.getPixelForValue(p)).lo),c){const S=u.slice(0,i+1).reverse().findIndex(C=>!Ut(C[a.axis]));i-=Math.max(0,S)}i=vr(i,0,r-1)}if(w){let S=Math.max(ko(u,o.axis,g,!0).hi+1,n?0:ko(t,f,o.getPixelForValue(g),!0).hi+1);if(c){const C=u.slice(S-1).findIndex(E=>!Ut(E[a.axis]));S+=Math.max(0,C)}s=vr(S,i,r)-i}else s=r-i}return{start:i,count:s}}function U6(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const s=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const ap=e=>e===0||e===1,B3=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*mn/n)),z3=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*mn/n)+1,$d={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Hn)+1,easeOutSine:e=>Math.sin(e*Hn),easeInOutSine:e=>-.5*(Math.cos(Jt*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>ap(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>ap(e)?e:B3(e,.075,.3),easeOutElastic:e=>ap(e)?e:z3(e,.075,.3),easeInOutElastic(e){return ap(e)?e:e<.5?.5*B3(e*2,.1125,.45):.5+.5*z3(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-$d.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?$d.easeInBounce(e*2)*.5:$d.easeOutBounce(e*2-1)*.5+.5};function fx(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function $3(e){return fx(e)?e:new th(e)}function g1(e){return fx(e)?e:new th(e).saturate(.5).darken(.1).hexString()}const sA=["x","y","borderWidth","radius","tension"],oA=["color","borderColor","backgroundColor"];function aA(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:oA},numbers:{type:"number",properties:sA}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function lA(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const U3=new Map;function uA(e,t){t=t||{};const n=e+JSON.stringify(t);let r=U3.get(n);return r||(r=new Intl.NumberFormat(e,t),U3.set(n,r)),r}function Th(e,t,n){return uA(t,n).format(e)}const H6={values(e){return _n(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const r=this.chart.options.locale;let i,s=e;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=cA(e,n)}const o=ba(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),u={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(u,this.options.ticks.format),Th(e,r,u)},logarithmic(e,t,n){if(e===0)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(ba(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?H6.numeric.call(this,e,t,n):""}};function cA(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Vm={formatters:H6};function dA(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Vm.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Dl=Object.create(null),Ly=Object.create(null);function Ud(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];e=e[s]||(e[s]=Object.create(null))}return e}function y1(e,t,n){return typeof t=="string"?nh(Ud(e,t),n):nh(Ud(e,""),t)}class hA{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>g1(i.backgroundColor),this.hoverBorderColor=(r,i)=>g1(i.borderColor),this.hoverColor=(r,i)=>g1(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return y1(this,t,n)}get(t){return Ud(this,t)}describe(t,n){return y1(Ly,t,n)}override(t,n){return y1(Dl,t,n)}route(t,n,r,i){const s=Ud(this,t),o=Ud(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[a],c=o[i];return Vt(u)?Object.assign({},c,u):St(u,c)},set(u){this[a]=u}}})}apply(t){t.forEach(n=>n(this))}}var Sn=new hA({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[aA,lA,dA]);function fA(e){return!e||Ut(e.size)||Ut(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function fm(e,t,n,r,i){let s=t[i];return s||(s=t[i]=e.measureText(i).width,n.push(i)),s>r&&(r=s),r}function pA(e,t,n,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},s=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let o=0;const a=n.length;let u,c,f,p,g;for(u=0;u<a;u++)if(p=n[u],p!=null&&!_n(p))o=fm(e,i,s,o,p);else if(_n(p))for(c=0,f=p.length;c<f;c++)g=p[c],g!=null&&!_n(g)&&(o=fm(e,i,s,o,g));e.restore();const y=s.length/2;if(y>n.length){for(u=0;u<y;u++)delete i[s[u]];s.splice(0,y)}return o}function cl(e,t,n){const r=e.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function H3(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Dy(e,t,n,r){V6(e,t,n,r,null)}function V6(e,t,n,r,i){let s,o,a,u,c,f,p,g;const y=t.pointStyle,w=t.rotation,S=t.radius;let C=(w||0)*KR;if(y&&typeof y=="object"&&(s=y.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){e.save(),e.translate(n,r),e.rotate(C),e.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),e.restore();return}if(!(isNaN(S)||S<=0)){switch(e.beginPath(),y){default:i?e.ellipse(n,r,i/2,S,0,0,mn):e.arc(n,r,S,0,mn),e.closePath();break;case"triangle":f=i?i/2:S,e.moveTo(n+Math.sin(C)*f,r-Math.cos(C)*S),C+=L3,e.lineTo(n+Math.sin(C)*f,r-Math.cos(C)*S),C+=L3,e.lineTo(n+Math.sin(C)*f,r-Math.cos(C)*S),e.closePath();break;case"rectRounded":c=S*.516,u=S-c,o=Math.cos(C+ul)*u,p=Math.cos(C+ul)*(i?i/2-c:u),a=Math.sin(C+ul)*u,g=Math.sin(C+ul)*(i?i/2-c:u),e.arc(n-p,r-a,c,C-Jt,C-Hn),e.arc(n+g,r-o,c,C-Hn,C),e.arc(n+p,r+a,c,C,C+Hn),e.arc(n-g,r+o,c,C+Hn,C+Jt),e.closePath();break;case"rect":if(!w){u=Math.SQRT1_2*S,f=i?i/2:u,e.rect(n-f,r-u,2*f,2*u);break}C+=ul;case"rectRot":p=Math.cos(C)*(i?i/2:S),o=Math.cos(C)*S,a=Math.sin(C)*S,g=Math.sin(C)*(i?i/2:S),e.moveTo(n-p,r-a),e.lineTo(n+g,r-o),e.lineTo(n+p,r+a),e.lineTo(n-g,r+o),e.closePath();break;case"crossRot":C+=ul;case"cross":p=Math.cos(C)*(i?i/2:S),o=Math.cos(C)*S,a=Math.sin(C)*S,g=Math.sin(C)*(i?i/2:S),e.moveTo(n-p,r-a),e.lineTo(n+p,r+a),e.moveTo(n+g,r-o),e.lineTo(n-g,r+o);break;case"star":p=Math.cos(C)*(i?i/2:S),o=Math.cos(C)*S,a=Math.sin(C)*S,g=Math.sin(C)*(i?i/2:S),e.moveTo(n-p,r-a),e.lineTo(n+p,r+a),e.moveTo(n+g,r-o),e.lineTo(n-g,r+o),C+=ul,p=Math.cos(C)*(i?i/2:S),o=Math.cos(C)*S,a=Math.sin(C)*S,g=Math.sin(C)*(i?i/2:S),e.moveTo(n-p,r-a),e.lineTo(n+p,r+a),e.moveTo(n+g,r-o),e.lineTo(n-g,r+o);break;case"line":o=i?i/2:Math.cos(C)*S,a=Math.sin(C)*S,e.moveTo(n-o,r-a),e.lineTo(n+o,r+a);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(C)*(i?i/2:S),r+Math.sin(C)*S);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Eo(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Wm(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function qm(e){e.restore()}function mA(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if(i==="middle"){const s=(t.x+n.x)/2;e.lineTo(s,t.y),e.lineTo(s,n.y)}else i==="after"!=!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function gA(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function yA(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Ut(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function vA(e,t,n,r,i){if(i.strikethrough||i.underline){const s=e.measureText(r),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,u=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,f=i.strikethrough?(u+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,f),e.lineTo(a,f),e.stroke()}}function xA(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Ml(e,t,n,r,i,s={}){const o=_n(t)?t:[t],a=s.strokeWidth>0&&s.strokeColor!=="";let u,c;for(e.save(),e.font=i.string,yA(e,s),u=0;u<o.length;++u)c=o[u],s.backdrop&&xA(e,s.backdrop),a&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),Ut(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(c,n,r,s.maxWidth)),e.fillText(c,n,r,s.maxWidth),vA(e,n,r,c,s),r+=Number(i.lineHeight);e.restore()}function sh(e,t){const{x:n,y:r,w:i,h:s,radius:o}=t;e.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*Jt,Jt,!0),e.lineTo(n,r+s-o.bottomLeft),e.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,Jt,Hn,!0),e.lineTo(n+i-o.bottomRight,r+s),e.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,Hn,0,!0),e.lineTo(n+i,r+o.topRight),e.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-Hn,!0),e.lineTo(n+o.topLeft,r)}const bA=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,wA=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function _A(e,t){const n=(""+e).match(bA);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const SA=e=>+e||0;function px(e,t){const n={},r=Vt(t),i=r?Object.keys(t):t,s=Vt(e)?r?o=>St(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of i)n[o]=SA(s(o));return n}function W6(e){return px(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Ol(e){return px(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Fr(e){const t=W6(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ar(e,t){e=e||{},t=t||Sn.font;let n=St(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let r=St(e.style,t.style);r&&!(""+r).match(wA)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:St(e.family,t.family),lineHeight:_A(St(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:St(e.weight,t.weight),string:""};return i.string=fA(i),i}function Od(e,t,n,r){let i,s,o;for(i=0,s=e.length;i<s;++i)if(o=e[i],o!==void 0&&o!==void 0)return o}function CA(e,t,n){const{min:r,max:i}=e,s=A6(t,(i-r)/2),o=(a,u)=>n&&a===0?0:a+u;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function Da(e,t){return Object.assign(Object.create(e),t)}function mx(e,t=[""],n,r,i=()=>e[0]){const s=n||e;typeof r>"u"&&(r=G6("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>mx([a,...e],t,s,r)};return new Proxy(o,{deleteProperty(a,u){return delete a[u],delete a._keys,delete e[0][u],!0},get(a,u){return Q6(a,u,()=>RA(u,t,e,a))},getOwnPropertyDescriptor(a,u){return Reflect.getOwnPropertyDescriptor(a._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,u){return W3(a).includes(u)},ownKeys(a){return W3(a)},set(a,u,c){const f=a._storage||(a._storage=i());return a[u]=f[u]=c,delete a._keys,!0}})}function dc(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:q6(e,r),setContext:s=>dc(e,s,n,r),override:s=>dc(e.override(s),t,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete e[o],!0},get(s,o,a){return Q6(s,o,()=>EA(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(s,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(s,o,a){return e[o]=a,delete s[o],!0}})}function q6(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Ta(n)?n:()=>n,isIndexable:Ta(r)?r:()=>r}}const kA=(e,t)=>e?e+ux(t):t,gx=(e,t)=>Vt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Q6(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=n();return e[t]=r,r}function EA(e,t,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=e;let a=r[t];return Ta(a)&&o.isScriptable(t)&&(a=jA(t,a,e,n)),_n(a)&&a.length&&(a=TA(t,a,e,o.isIndexable)),gx(t,a)&&(a=dc(a,i,s&&s[t],o)),a}function jA(e,t,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let u=t(s,o||r);return a.delete(e),gx(e,u)&&(u=yx(i._scopes,i,e,u)),u}function TA(e,t,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(e))return t[s.index%t.length];if(Vt(t[0])){const u=t,c=i._scopes.filter(f=>f!==u);t=[];for(const f of u){const p=yx(c,i,e,f);t.push(dc(p,s,o&&o[e],a))}}return t}function K6(e,t,n){return Ta(e)?e(t,n):e}const NA=(e,t)=>e===!0?t:typeof e=="string"?ja(t,e):void 0;function PA(e,t,n,r,i){for(const s of t){const o=NA(n,s);if(o){e.add(o);const a=K6(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function yx(e,t,n,r){const i=t._rootScopes,s=K6(t._fallback,n,r),o=[...e,...i],a=new Set;a.add(r);let u=V3(a,o,n,s||n,r);return u===null||typeof s<"u"&&s!==n&&(u=V3(a,o,s,u,r),u===null)?!1:mx(Array.from(a),[""],i,s,()=>OA(t,n,r))}function V3(e,t,n,r,i){for(;n;)n=PA(e,t,n,r,i);return n}function OA(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];return _n(i)&&Vt(n)?n:i||{}}function RA(e,t,n,r){let i;for(const s of t)if(i=G6(kA(s,e),n),typeof i<"u")return gx(e,i)?yx(n,r,e,i):i}function G6(e,t){for(const n of t){if(!n)continue;const r=n[e];if(typeof r<"u")return r}}function W3(e){let t=e._keys;return t||(t=e._keys=AA(e._scopes)),t}function AA(e){const t=new Set;for(const n of e)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))t.add(r);return Array.from(t)}function Y6(e,t,n,r){const{iScale:i}=e,{key:s="r"}=this._parsing,o=new Array(r);let a,u,c,f;for(a=0,u=r;a<u;++a)c=a+n,f=t[c],o[a]={r:i.parse(ja(f,s),c)};return o}const IA=Number.EPSILON||1e-14,hc=(e,t)=>t<e.length&&!e[t].skip&&e[t],J6=e=>e==="x"?"y":"x";function LA(e,t,n,r){const i=e.skip?t:e,s=t,o=n.skip?t:n,a=Iy(s,i),u=Iy(o,s);let c=a/(a+u),f=u/(a+u);c=isNaN(c)?0:c,f=isNaN(f)?0:f;const p=r*c,g=r*f;return{previous:{x:s.x-p*(o.x-i.x),y:s.y-p*(o.y-i.y)},next:{x:s.x+g*(o.x-i.x),y:s.y+g*(o.y-i.y)}}}function DA(e,t,n){const r=e.length;let i,s,o,a,u,c=hc(e,0);for(let f=0;f<r-1;++f)if(u=c,c=hc(e,f+1),!(!u||!c)){if(zd(t[f],0,IA)){n[f]=n[f+1]=0;continue}i=n[f]/t[f],s=n[f+1]/t[f],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[f]=i*o*t[f],n[f+1]=s*o*t[f])}}function MA(e,t,n="x"){const r=J6(n),i=e.length;let s,o,a,u=hc(e,0);for(let c=0;c<i;++c){if(o=a,a=u,u=hc(e,c+1),!a)continue;const f=a[n],p=a[r];o&&(s=(f-o[n])/3,a[`cp1${n}`]=f-s,a[`cp1${r}`]=p-s*t[c]),u&&(s=(u[n]-f)/3,a[`cp2${n}`]=f+s,a[`cp2${r}`]=p+s*t[c])}}function FA(e,t="x"){const n=J6(t),r=e.length,i=Array(r).fill(0),s=Array(r);let o,a,u,c=hc(e,0);for(o=0;o<r;++o)if(a=u,u=c,c=hc(e,o+1),!!u){if(c){const f=c[t]-u[t];i[o]=f!==0?(c[n]-u[n])/f:0}s[o]=a?c?qs(i[o-1])!==qs(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}DA(e,i,s),MA(e,s,t)}function lp(e,t,n){return Math.max(Math.min(e,n),t)}function BA(e,t){let n,r,i,s,o,a=Eo(e[0],t);for(n=0,r=e.length;n<r;++n)o=s,s=a,a=n<r-1&&Eo(e[n+1],t),s&&(i=e[n],o&&(i.cp1x=lp(i.cp1x,t.left,t.right),i.cp1y=lp(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=lp(i.cp2x,t.left,t.right),i.cp2y=lp(i.cp2y,t.top,t.bottom)))}function zA(e,t,n,r,i){let s,o,a,u;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")FA(e,i);else{let c=r?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)a=e[s],u=LA(c,a,e[Math.min(s+1,o-(r?0:1))%o],t.tension),a.cp1x=u.previous.x,a.cp1y=u.previous.y,a.cp2x=u.next.x,a.cp2y=u.next.y,c=a}t.capBezierPoints&&BA(e,n)}function vx(){return typeof window<"u"&&typeof document<"u"}function xx(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function pm(e,t,n){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}const Qm=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function $A(e,t){return Qm(e).getPropertyValue(t)}const UA=["top","right","bottom","left"];function Rl(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=UA[i];r[s]=parseFloat(e[t+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const HA=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function VA(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:s}=r;let o=!1,a,u;if(HA(i,s,e.target))a=i,u=s;else{const c=t.getBoundingClientRect();a=r.clientX-c.left,u=r.clientY-c.top,o=!0}return{x:a,y:u,box:o}}function vl(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=Qm(n),s=i.boxSizing==="border-box",o=Rl(i,"padding"),a=Rl(i,"border","width"),{x:u,y:c,box:f}=VA(e,n),p=o.left+(f&&a.left),g=o.top+(f&&a.top);let{width:y,height:w}=t;return s&&(y-=o.width+a.width,w-=o.height+a.height),{x:Math.round((u-p)/y*n.width/r),y:Math.round((c-g)/w*n.height/r)}}function WA(e,t,n){let r,i;if(t===void 0||n===void 0){const s=e&&xx(e);if(!s)t=e.clientWidth,n=e.clientHeight;else{const o=s.getBoundingClientRect(),a=Qm(s),u=Rl(a,"border","width"),c=Rl(a,"padding");t=o.width-c.width-u.width,n=o.height-c.height-u.height,r=pm(a.maxWidth,s,"clientWidth"),i=pm(a.maxHeight,s,"clientHeight")}}return{width:t,height:n,maxWidth:r||hm,maxHeight:i||hm}}const wa=e=>Math.round(e*10)/10;function qA(e,t,n,r){const i=Qm(e),s=Rl(i,"margin"),o=pm(i.maxWidth,e,"clientWidth")||hm,a=pm(i.maxHeight,e,"clientHeight")||hm,u=WA(e,t,n);let{width:c,height:f}=u;if(i.boxSizing==="content-box"){const g=Rl(i,"border","width"),y=Rl(i,"padding");c-=y.width+g.width,f-=y.height+g.height}return c=Math.max(0,c-s.width),f=Math.max(0,r?c/r:f-s.height),c=wa(Math.min(c,o,u.maxWidth)),f=wa(Math.min(f,a,u.maxHeight)),c&&!f&&(f=wa(c/2)),(t!==void 0||n!==void 0)&&r&&u.height&&f>u.height&&(f=u.height,c=wa(Math.floor(f*r))),{width:c,height:f}}function q3(e,t,n){const r=t||1,i=wa(e.height*r),s=wa(e.width*r);e.height=wa(e.height),e.width=wa(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(e.currentDevicePixelRatio=r,o.height=i,o.width=s,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const QA=(function(){let e=!1;try{const t={get passive(){return e=!0,!1}};vx()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e})();function Q3(e,t){const n=$A(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function xl(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function KA(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:r==="middle"?n<.5?e.y:t.y:r==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function GA(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},o=xl(e,i,n),a=xl(i,s,n),u=xl(s,t,n),c=xl(o,a,n),f=xl(a,u,n);return xl(c,f,n)}const YA=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},JA=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function sc(e,t,n){return e?YA(t,n):JA()}function X6(e,t){let n,r;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function Z6(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function eC(e){return e==="angle"?{between:ih,compare:XR,normalize:Lr}:{between:Co,compare:(t,n)=>t-n,normalize:t=>t}}function K3({start:e,end:t,count:n,loop:r,style:i}){return{start:e%n,end:t%n,loop:r&&(t-e+1)%n===0,style:i}}function XA(e,t,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=eC(r),u=t.length;let{start:c,end:f,loop:p}=e,g,y;if(p){for(c+=u,f+=u,g=0,y=u;g<y&&o(a(t[c%u][r]),i,s);++g)c--,f--;c%=u,f%=u}return f<c&&(f+=u),{start:c,end:f,loop:p,style:e.style}}function tC(e,t,n){if(!n)return[e];const{property:r,start:i,end:s}=n,o=t.length,{compare:a,between:u,normalize:c}=eC(r),{start:f,end:p,loop:g,style:y}=XA(e,t,n),w=[];let S=!1,C=null,E,P,A;const $=()=>u(i,A,E)&&a(i,A)!==0,W=()=>a(s,E)===0||u(s,A,E),D=()=>S||$(),R=()=>!S||W();for(let z=f,q=f;z<=p;++z)P=t[z%o],!P.skip&&(E=c(P[r]),E!==A&&(S=u(E,i,s),C===null&&D()&&(C=a(E,i)===0?z:q),C!==null&&R()&&(w.push(K3({start:C,end:z,loop:g,count:o,style:y})),C=null),q=z,A=E));return C!==null&&w.push(K3({start:C,end:p,loop:g,count:o,style:y})),w}function nC(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const s=tC(r[i],e.points,t);s.length&&n.push(...s)}return n}function ZA(e,t,n,r){let i=0,s=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(s+=i);s>i&&e[s%t].skip;)s--;return s%=t,{start:i,end:s}}function eI(e,t,n,r){const i=e.length,s=[];let o=t,a=e[t],u;for(u=t+1;u<=n;++u){const c=e[u%i];c.skip||c.stop?a.skip||(r=!1,s.push({start:t%i,end:(u-1)%i,loop:r}),t=o=c.stop?u:null):(o=u,a.skip&&(t=u)),a=c}return o!==null&&s.push({start:t%i,end:o%i,loop:r}),s}function tI(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const s=!!e._loop,{start:o,end:a}=ZA(n,i,s,r);if(r===!0)return G3(e,[{start:o,end:a,loop:s}],n,t);const u=a<o?a+i:a,c=!!e._fullLoop&&o===0&&a===i-1;return G3(e,eI(n,o,u,c),n,t)}function G3(e,t,n,r){return!r||!r.setContext||!n?t:nI(e,t,n,r)}function nI(e,t,n,r){const i=e._chart.getContext(),s=Y3(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,u=n.length,c=[];let f=s,p=t[0].start,g=p;function y(w,S,C,E){const P=a?-1:1;if(w!==S){for(w+=u;n[w%u].skip;)w-=P;for(;n[S%u].skip;)S+=P;w%u!==S%u&&(c.push({start:w%u,end:S%u,loop:C,style:E}),f=E,p=S%u)}}for(const w of t){p=a?p:w.start;let S=n[p%u],C;for(g=p+1;g<=w.end;g++){const E=n[g%u];C=Y3(r.setContext(Da(i,{type:"segment",p0:S,p1:E,p0DataIndex:(g-1)%u,p1DataIndex:g%u,datasetIndex:o}))),rI(C,f)&&y(p,g-1,w.loop,f),S=E,f=C}p<g-1&&y(p,g-1,w.loop,f)}return c}function Y3(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function rI(e,t){if(!t)return!1;const n=[],r=function(i,s){return fx(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function up(e,t,n){return e.options.clip?e[n]:t[n]}function iI(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:up(n,t,"left"),right:up(n,t,"right"),top:up(r,t,"top"),bottom:up(r,t,"bottom")}:t}function rC(e,t){const n=t._clip;if(n.disabled)return!1;const r=iI(t,e.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class sI{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=B6.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,u;for(;o>=0;--o)u=s[o],u._active?(u._total>r.duration&&(r.duration=u._total),u.tick(t),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,t,"progress")),s.length||(r.running=!1,this._notify(i,r,t,"complete"),r.initial=!1),n+=s.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let r=n.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,r)),r}listen(t,n,r){this._getAnims(t).listeners[n].push(r)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var xo=new sI;const J3="transparent",oI={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const r=$3(e||J3),i=r.valid&&$3(t||J3);return i&&i.valid?i.mix(r,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class aI{constructor(t,n,r,i){const s=n[r];i=Od([t.to,i,s,t.from]);const o=Od([t.from,s,i]);this._active=!0,this._fn=t.fn||oI[t.type||typeof o],this._easing=$d[t.easing]||$d.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=Od([t.to,n,i,t.from]),this._from=Od([t.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let u;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}u=n/r%2,u=o&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[i]=this._fn(s,a,u)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,r)=>{t.push({res:n,rej:r})})}_notify(t){const n=t?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class iC{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Vt(t))return;const n=Object.keys(Sn.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const s=t[i];if(!Vt(s))return;const o={};for(const a of n)o[a]=s[a];(_n(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(t,n){const r=n.options,i=uI(t,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&lI(t.options.$animations,r).then(()=>{t.options=r},()=>{}),s}_createAnimations(t,n){const r=this._properties,i=[],s=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let u;for(u=o.length-1;u>=0;--u){const c=o[u];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(t,n));continue}const f=n[c];let p=s[c];const g=r.get(c);if(p)if(g&&p.active()){p.update(g,f,a);continue}else p.cancel();if(!g||!g.duration){t[c]=f;continue}s[c]=p=new aI(g,t,c,f),i.push(p)}return i}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const r=this._createAnimations(t,n);if(r.length)return xo.add(this._chart,r),!0}}function lI(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const s=e[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function uI(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function X3(e,t){const n=e&&e.options||{},r=n.reverse,i=n.min===void 0?t:0,s=n.max===void 0?t:0;return{start:r?s:i,end:r?i:s}}function cI(e,t,n){if(n===!1)return!1;const r=X3(e,n),i=X3(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function dI(e){let t,n,r,i;return Vt(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:e===!1}}function sC(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function Z3(e,t,n,r={}){const i=e.keys,s=r.mode==="single";let o,a,u,c;if(t===null)return;let f=!1;for(o=0,a=i.length;o<a;++o){if(u=+i[o],u===n){if(f=!0,r.all)continue;break}c=e.values[u],Mn(c)&&(s||t===0||qs(t)===qs(c))&&(t+=c)}return!f&&!r.all?0:t}function hI(e,t){const{iScale:n,vScale:r}=t,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(e),a=new Array(o.length);let u,c,f;for(u=0,c=o.length;u<c;++u)f=o[u],a[u]={[i]:f,[s]:e[f]};return a}function v1(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function fI(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function pI(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function mI(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function e_(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const s=e[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function t_(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,u=s.axis,c=o.axis,f=fI(s,o,r),p=t.length;let g;for(let y=0;y<p;++y){const w=t[y],{[u]:S,[c]:C}=w,E=w._stacks||(w._stacks={});g=E[c]=mI(i,f,S),g[a]=C,g._top=e_(g,o,!0,r.type),g._bottom=e_(g,o,!1,r.type);const P=g._visualValues||(g._visualValues={});P[a]=C}}function x1(e,t){const n=e.scales;return Object.keys(n).filter(r=>n[r].axis===t).shift()}function gI(e,t){return Da(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function yI(e,t,n){return Da(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function pd(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const i of t){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const b1=e=>e==="reset"||e==="none",n_=(e,t)=>t?e:Object.assign({},e),vI=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:sC(n,!0),values:null};class Ma{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=v1(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&pd(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(p,g,y,w)=>p==="x"?g:p==="r"?w:y,s=n.xAxisID=St(r.xAxisID,x1(t,"x")),o=n.yAxisID=St(r.yAxisID,x1(t,"y")),a=n.rAxisID=St(r.rAxisID,x1(t,"r")),u=n.indexAxis,c=n.iAxisID=i(u,s,o,a),f=n.vAxisID=i(u,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&F3(this._data,this),t._stacked&&pd(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(Vt(n)){const i=this._cachedMeta;this._data=hI(n,i)}else if(r!==n){if(r){F3(r,this);const i=this._cachedMeta;pd(i),i._parsed=[]}n&&Object.isExtensible(n)&&nA(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=v1(n.vScale,n),n.stack!==r.stack&&(i=!0,pd(n),n.stack=r.stack),this._resyncElements(t),(i||s!==n._stacked)&&(t_(this,n._parsed),n._stacked=v1(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let u=t===0&&n===i.length?!0:r._sorted,c=t>0&&r._parsed[t-1],f,p,g;if(this._parsing===!1)r._parsed=i,r._sorted=!0,g=i;else{_n(i[t])?g=this.parseArrayData(r,i,t,n):Vt(i[t])?g=this.parseObjectData(r,i,t,n):g=this.parsePrimitiveData(r,i,t,n);const y=()=>p[a]===null||c&&p[a]<c[a];for(f=0;f<n;++f)r._parsed[f+t]=p=g[f],u&&(y()&&(u=!1),c=p);r._sorted=u}o&&t_(this,g)}parsePrimitiveData(t,n,r,i){const{iScale:s,vScale:o}=t,a=s.axis,u=o.axis,c=s.getLabels(),f=s===o,p=new Array(i);let g,y,w;for(g=0,y=i;g<y;++g)w=g+r,p[g]={[a]:f||s.parse(c[w],w),[u]:o.parse(n[w],w)};return p}parseArrayData(t,n,r,i){const{xScale:s,yScale:o}=t,a=new Array(i);let u,c,f,p;for(u=0,c=i;u<c;++u)f=u+r,p=n[f],a[u]={x:s.parse(p[0],f),y:o.parse(p[1],f)};return a}parseObjectData(t,n,r,i){const{xScale:s,yScale:o}=t,{xAxisKey:a="x",yAxisKey:u="y"}=this._parsing,c=new Array(i);let f,p,g,y;for(f=0,p=i;f<p;++f)g=f+r,y=n[g],c[f]={x:s.parse(ja(y,a),g),y:o.parse(ja(y,u),g)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const i=this.chart,s=this._cachedMeta,o=n[t.axis],a={keys:sC(i,!0),values:n._stacks[t.axis]._visualValues};return Z3(a,o,s.index,{mode:r})}updateRangeFromParsed(t,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=Z3(i,s,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&t===r.iScale,o=i.length,a=this._getOtherScale(t),u=vI(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:p}=pI(a);let g,y;function w(){y=i[g];const S=y[a.axis];return!Mn(y[t.axis])||f>S||p<S}for(g=0;g<o&&!(!w()&&(this.updateRangeFromParsed(c,t,y,u),s));++g);if(s){for(g=o-1;g>=0;--g)if(!w()){this.updateRangeFromParsed(c,t,y,u);break}}return c}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][t.axis],Mn(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(t);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=dI(St(this.options.clip,cI(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,u=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let f;for(r.dataset&&r.dataset.draw(t,s,a,u),f=a;f<a+u;++f){const p=i[f];p.hidden||(p.active&&c?o.push(p):p.draw(t,s))}for(f=0;f<o.length;++f)o[f].draw(t,s)}getStyle(t,n){const r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const i=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];s=o.$context||(o.$context=yI(this.getContext(),t,o)),s.parsed=this.getParsed(t),s.raw=i.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=gI(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=t+"-"+n,a=s[o],u=this.enableOptionSharing&&rh(r);if(a)return n_(a,u);const c=this.chart.config,f=c.datasetElementScopeKeys(this._type,t),p=i?[`${t}Hover`,"hover",t,""]:[t,""],g=c.getOptionScopes(this.getDataset(),f),y=Object.keys(Sn.elements[t]),w=()=>this.getContext(r,i,n),S=c.resolveNamedOptions(g,y,w,p);return S.$shared&&(S.$shared=u,s[o]=Object.freeze(n_(S,u))),S}_resolveAnimations(t,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let u;if(i.options.animation!==!1){const f=this.chart.config,p=f.datasetAnimationScopeKeys(this._type,n),g=f.getOptionScopes(this.getDataset(),p);u=f.createResolver(g,this.getContext(t,r,n))}const c=new iC(i,u&&u.animations);return u&&u._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||b1(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(t,n,r,i){b1(i)?Object.assign(t,r):this._resolveAnimations(n,i).update(t,r)}updateSharedOptions(t,n,r){t&&!b1(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,i){t.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(t,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[a,u,c]of this._syncList)this[a](u,c);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,t):s<i&&this._removeElements(s,i-s)}_insertElements(t,n,r=!0){const i=this._cachedMeta,s=i.data,o=t+n;let a;const u=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(u(s),a=t;a<o;++a)s[a]=new this.dataElementType;this._parsing&&u(i._parsed),this.parse(t,n),r&&this.updateElements(s,t,n,"reset")}updateElements(t,n,r,i){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(t,n);r._stacked&&pd(r,i)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,i]=t;this[n](r,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function xI(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(e));e._cache.$bar=F6(r.sort((i,s)=>i-s))}return e._cache.$bar}function bI(e){const t=e.iScale,n=xI(t,e.type);let r=t._length,i,s,o,a;const u=()=>{o===32767||o===-32768||(rh(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=n.length;i<s;++i)o=t.getPixelForValue(n[i]),u();for(a=void 0,i=0,s=t.ticks.length;i<s;++i)o=t.getPixelForTick(i),u();return r}function wI(e,t,n,r){const i=n.barThickness;let s,o;return Ut(i)?(s=t.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:t.pixels[e]-s/2}}function _I(e,t,n,r){const i=t.pixels,s=i[e];let o=e>0?i[e-1]:null,a=e<i.length-1?i[e+1]:null;const u=n.categoryPercentage;o===null&&(o=s-(a===null?t.end-t.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*u;return{chunk:Math.abs(a-o)/2*u/r,ratio:n.barPercentage,start:c}}function SI(e,t,n,r){const i=n.parse(e[0],r),s=n.parse(e[1],r),o=Math.min(i,s),a=Math.max(i,s);let u=o,c=a;Math.abs(o)>Math.abs(a)&&(u=a,c=o),t[n.axis]=c,t._custom={barStart:u,barEnd:c,start:i,end:s,min:o,max:a}}function oC(e,t,n,r){return _n(e)?SI(e,t,n,r):t[n.axis]=n.parse(e,r),t}function r_(e,t,n,r){const i=e.iScale,s=e.vScale,o=i.getLabels(),a=i===s,u=[];let c,f,p,g;for(c=n,f=n+r;c<f;++c)g=t[c],p={},p[i.axis]=a||i.parse(o[c],c),u.push(oC(g,p,s,c));return u}function w1(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function CI(e,t,n){return e!==0?qs(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function kI(e){let t,n,r,i,s;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:t,top:i,bottom:s}}function EI(e,t,n,r){let i=t.borderSkipped;const s={};if(!i){e.borderSkipped=s;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:u,top:c,bottom:f}=kI(e);i==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=f:(s[i_(f,o,a,u)]=!0,i=c)),s[i_(i,o,a,u)]=!0,e.borderSkipped=s}function i_(e,t,n,r){return r?(e=jI(e,t,n),e=s_(e,n,t)):e=s_(e,t,n),e}function jI(e,t,n){return e===t?n:e===n?t:e}function s_(e,t,n){return e==="start"?t:e==="end"?n:e}function TI(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class aC extends Ma{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,n,r,i){return r_(t,n,r,i)}parseArrayData(t,n,r,i){return r_(t,n,r,i)}parseObjectData(t,n,r,i){const{iScale:s,vScale:o}=t,{xAxisKey:a="x",yAxisKey:u="y"}=this._parsing,c=s.axis==="x"?a:u,f=o.axis==="x"?a:u,p=[];let g,y,w,S;for(g=r,y=r+i;g<y;++g)S=n[g],w={},w[s.axis]=s.parse(ja(S,c),g),p.push(oC(ja(S,f),w,o,g));return p}updateRangeFromParsed(t,n,r,i){super.updateRangeFromParsed(t,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(t),o=s._custom,a=w1(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,r,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,u=a.getBasePixel(),c=a.isHorizontal(),f=this._getRuler(),{sharedOptions:p,includeOptions:g}=this._getSharedOptions(n,i);for(let y=n;y<n+r;y++){const w=this.getParsed(y),S=s||Ut(w[a.axis])?{base:u,head:u}:this._calculateBarValuePixels(y),C=this._calculateBarIndexPixels(y,f),E=(w._stacks||{})[a.axis],P={horizontal:c,base:S.base,enableBorderRadius:!E||w1(w._custom)||o===E._top||o===E._bottom,x:c?S.head:C.center,y:c?C.center:S.head,height:c?C.size:Math.abs(S.size),width:c?Math.abs(S.size):C.size};g&&(P.options=p||this.resolveDataElementOptions(y,t[y].active?"active":i));const A=P.options||t[y].options;EI(P,A,E,o),TI(P,A,f.ratio),this.updateElement(t[y],y,P,i)}}_getStacks(t,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),s=r.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),u=a&&a[r.axis],c=f=>{const p=f._parsed.find(y=>y[r.axis]===u),g=p&&p[f.vScale.axis];if(Ut(g)||isNaN(g))return!0};for(const f of i)if(!(n!==void 0&&c(f))&&((s===!1||o.indexOf(f.stack)===-1||s===void 0&&f.stack===void 0)&&o.push(f.stack),f.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(r=>t[r].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)t[St(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,r){const i=this._getStacks(t,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const t=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,o;for(s=0,o=n.data.length;s<o;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const a=t.barThickness;return{min:a||bI(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:s,minBarLength:o}}=this,a=s||0,u=this.getParsed(t),c=u._custom,f=w1(c);let p=u[n.axis],g=0,y=r?this.applyStack(n,u,r):p,w,S;y!==p&&(g=y-p,y=p),f&&(p=c.barStart,y=c.barEnd-c.barStart,p!==0&&qs(p)!==qs(c.barEnd)&&(g=0),g+=p);const C=!Ut(s)&&!f?s:g;let E=n.getPixelForValue(C);if(this.chart.getDataVisibility(t)?w=n.getPixelForValue(g+y):w=E,S=w-E,Math.abs(S)<o){S=CI(S,n,a)*o,p===a&&(E-=S/2);const P=n.getPixelForDecimal(0),A=n.getPixelForDecimal(1),$=Math.min(P,A),W=Math.max(P,A);E=Math.max(Math.min(E,W),$),w=E+S,r&&!f&&(u._stacks[n.axis]._visualValues[i]=n.getValueForPixel(w)-n.getValueForPixel(E))}if(E===n.getPixelForValue(a)){const P=qs(S)*n.getLineWidthForValue(a)/2;E+=P,S-=P}return{size:S,base:E,head:w,center:w+S/2}}_calculateBarIndexPixels(t,n){const r=n.scale,i=this.options,s=i.skipNull,o=St(i.maxBarThickness,1/0);let a,u;const c=this._getAxisCount();if(n.grouped){const f=s?this._getStackCount(t):n.stackCount,p=i.barThickness==="flex"?_I(t,n,i,f*c):wI(t,n,i,f*c),g=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,y=this._getAxis().indexOf(St(g,this.getFirstScaleIdForIndexAxis())),w=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0)+y;a=p.start+p.chunk*w+p.chunk/2,u=Math.min(o,p.chunk*p.ratio)}else a=r.getPixelForValue(this.getParsed(t)[r.axis],t),u=Math.min(o,n.min*n.ratio);return{base:a-u/2,head:a+u/2,center:a,size:u}}draw(){const t=this._cachedMeta,n=t.vScale,r=t.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}class NI extends Ma{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,r,i){const s=super.parsePrimitiveData(t,n,r,i);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+r).radius;return s}parseArrayData(t,n,r,i){const s=super.parseArrayData(t,n,r,i);for(let o=0;o<s.length;o++){const a=n[r+o];s[o]._custom=St(a[2],this.resolveDataElementOptions(o+r).radius)}return s}parseObjectData(t,n,r,i){const s=super.parseObjectData(t,n,r,i);for(let o=0;o<s.length;o++){const a=n[r+o];s[o]._custom=St(a&&a.r&&+a.r,this.resolveDataElementOptions(o+r).radius)}return s}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let r=t.length-1;r>=0;--r)n=Math.max(n,t[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,o=this.getParsed(t),a=i.getLabelForValue(o.x),u=s.getLabelForValue(o.y),c=o._custom;return{label:r[t]||"",value:"("+a+", "+u+(c?", "+c:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,r,i){const s=i==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:u,includeOptions:c}=this._getSharedOptions(n,i),f=o.axis,p=a.axis;for(let g=n;g<n+r;g++){const y=t[g],w=!s&&this.getParsed(g),S={},C=S[f]=s?o.getPixelForDecimal(.5):o.getPixelForValue(w[f]),E=S[p]=s?a.getBasePixel():a.getPixelForValue(w[p]);S.skip=isNaN(C)||isNaN(E),c&&(S.options=u||this.resolveDataElementOptions(g,y.active?"active":i),s&&(S.options.radius=0)),this.updateElement(y,g,S,i)}}resolveDataElementOptions(t,n){const r=this.getParsed(t);let i=super.resolveDataElementOptions(t,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const s=i.radius;return n!=="active"&&(i.radius=0),i.radius+=St(r&&r._custom,s),i}}function PI(e,t,n){let r=1,i=1,s=0,o=0;if(t<mn){const a=e,u=a+t,c=Math.cos(a),f=Math.sin(a),p=Math.cos(u),g=Math.sin(u),y=(A,$,W)=>ih(A,a,u,!0)?1:Math.max($,$*n,W,W*n),w=(A,$,W)=>ih(A,a,u,!0)?-1:Math.min($,$*n,W,W*n),S=y(0,c,p),C=y(Hn,f,g),E=w(Jt,c,p),P=w(Jt+Hn,f,g);r=(S-E)/2,i=(C-P)/2,s=-(S+E)/2,o=-(C+P)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class Km extends Ma{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data,{labels:{pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((u,c)=>{const p=t.getDatasetMeta(0).controller.getStyle(c);return{text:u,fillStyle:p.backgroundColor,fontColor:s,hidden:!t.getDataVisibility(c),lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:p.borderWidth,strokeStyle:p.borderColor,textAlign:i,pointStyle:r,borderRadius:o&&(a||p.borderRadius),index:c}}):[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=u=>+r[u];if(Vt(r[t])){const{key:u="value"}=this._parsing;s=c=>+ja(r[c],u)}let o,a;for(o=t,a=t+n;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return bs(this.options.rotation-90)}_getCircumference(){return bs(this.options.circumference)}_getRotationExtents(){let t=mn,n=-mn;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();t=Math.min(t,s),n=Math.max(n,s+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),u=Math.min($R(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:f,rotation:p}=this._getRotationExtents(),{ratioX:g,ratioY:y,offsetX:w,offsetY:S}=PI(p,f,u),C=(r.width-o)/g,E=(r.height-o)/y,P=Math.max(Math.min(C,E)/2,0),A=A6(this.options.radius,P),$=Math.max(A*u,0),W=(A-$)/this._getVisibleDatasetWeightTotal();this.offsetX=w*A,this.offsetY=S*A,i.total=this.calculateTotal(),this.outerRadius=A-W*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-W*c,0),this.updateElements(s,0,s.length,t)}_circumference(t,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*s/mn)}updateElements(t,n,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,f=(a.left+a.right)/2,p=(a.top+a.bottom)/2,g=s&&c.animateScale,y=g?0:this.innerRadius,w=g?0:this.outerRadius,{sharedOptions:S,includeOptions:C}=this._getSharedOptions(n,i);let E=this._getRotation(),P;for(P=0;P<n;++P)E+=this._circumference(P,s);for(P=n;P<n+r;++P){const A=this._circumference(P,s),$=t[P],W={x:f+this.offsetX,y:p+this.offsetY,startAngle:E,endAngle:E+A,circumference:A,outerRadius:w,innerRadius:y};C&&(W.options=S||this.resolveDataElementOptions(P,$.active?"active":i)),E+=A,this.updateElement($,P,W,i)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let r=0,i;for(i=0;i<n.length;i++){const s=t._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?mn*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Th(n._parsed[t],r.options.locale);return{label:i[t]||"",value:s}}getMaxBorderWidth(t){let n=0;const r=this.chart;let i,s,o,a,u;if(!t){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),t=o.data,a=o.controller;break}}if(!t)return 0;for(i=0,s=t.length;i<s;++i)u=a.resolveDataElementOptions(i),u.borderAlign!=="inner"&&(n=Math.max(n,u.borderWidth||0,u.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let r=0,i=t.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(t){return Math.max(St(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class OI extends Ma{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:u}=$6(n,i,o);this._drawStart=a,this._drawCount=u,U6(n)&&(a=0,u=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},t),this.updateElements(i,a,u,t)}updateElements(t,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:u,_dataset:c}=this._cachedMeta,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(n,i),g=o.axis,y=a.axis,{spanGaps:w,segment:S}=this.options,C=Ll(w)?w:Number.POSITIVE_INFINITY,E=this.chart._animationsDisabled||s||i==="none",P=n+r,A=t.length;let $=n>0&&this.getParsed(n-1);for(let W=0;W<A;++W){const D=t[W],R=E?D:{};if(W<n||W>=P){R.skip=!0;continue}const z=this.getParsed(W),q=Ut(z[y]),B=R[g]=o.getPixelForValue(z[g],W),ae=R[y]=s||q?a.getBasePixel():a.getPixelForValue(u?this.applyStack(a,z,u):z[y],W);R.skip=isNaN(B)||isNaN(ae)||q,R.stop=W>0&&Math.abs(z[g]-$[g])>C,S&&(R.parsed=z,R.raw=c.data[W]),p&&(R.options=f||this.resolveDataElementOptions(W,D.active?"active":i)),E||this.updateElement(D,W,R,i),$=z}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,r=n.options&&n.options.borderWidth||0,i=t.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class lC extends Ma{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=t.legend.options;return n.labels.map((s,o)=>{const u=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:i,lineWidth:u.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Th(n._parsed[t].r,r.options.locale);return{label:i[t]||"",value:s}}parseObjectData(t,n,r,i){return Y6.bind(this)(t,n,r,i)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((r,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,r=t.options,i=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(i/2,0),o=Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0),a=(s-o)/t.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,n,r,i){const s=i==="reset",o=this.chart,u=o.options.animation,c=this._cachedMeta.rScale,f=c.xCenter,p=c.yCenter,g=c.getIndexAngle(0)-.5*Jt;let y=g,w;const S=360/this.countVisibleElements();for(w=0;w<n;++w)y+=this._computeAngle(w,i,S);for(w=n;w<n+r;w++){const C=t[w];let E=y,P=y+this._computeAngle(w,i,S),A=o.getDataVisibility(w)?c.getDistanceFromCenterForValue(this.getParsed(w).r):0;y=P,s&&(u.animateScale&&(A=0),u.animateRotate&&(E=P=g));const $={x:f,y:p,innerRadius:0,outerRadius:A,startAngle:E,endAngle:P,options:this.resolveDataElementOptions(w,C.active?"active":i)};this.updateElement(C,w,$,i)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((r,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(t,n,r){return this.chart.getDataVisibility(t)?bs(this.resolveDataElementOptions(t,n).angle||r):0}}class RI extends Km{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class uC extends Ma{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const n=this._cachedMeta.vScale,r=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(t,n,r,i){return Y6.bind(this)(t,n,r,i)}update(t){const n=this._cachedMeta,r=n.dataset,i=n.data||[],s=n.iScale.getLabels();if(r.points=i,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===i.length,options:o};this.updateElement(r,void 0,a,t)}this.updateElements(i,0,i.length,t)}updateElements(t,n,r,i){const s=this._cachedMeta.rScale,o=i==="reset";for(let a=n;a<n+r;a++){const u=t[a],c=this.resolveDataElementOptions(a,u.active?"active":i),f=s.getPointPositionForValue(a,this.getParsed(a).r),p=o?s.xCenter:f.x,g=o?s.yCenter:f.y,y={x:p,y:g,angle:f.angle,skip:isNaN(p)||isNaN(g),options:c};this.updateElement(u,a,y,i)}}}class AI extends Ma{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,o=this.getParsed(t),a=i.getLabelForValue(o.x),u=s.getLabelForValue(o.y);return{label:r[t]||"",value:"("+a+", "+u+")"}}update(t){const n=this._cachedMeta,{data:r=[]}=n,i=this.chart._animationsDisabled;let{start:s,count:o}=$6(n,r,i);if(this._drawStart=s,this._drawCount=o,U6(n)&&(s=0,o=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:u}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!u._decimated,a.points=r;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,s,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:u,_dataset:c}=this._cachedMeta,f=this.resolveDataElementOptions(n,i),p=this.getSharedOptions(f),g=this.includeOptions(i,p),y=o.axis,w=a.axis,{spanGaps:S,segment:C}=this.options,E=Ll(S)?S:Number.POSITIVE_INFINITY,P=this.chart._animationsDisabled||s||i==="none";let A=n>0&&this.getParsed(n-1);for(let $=n;$<n+r;++$){const W=t[$],D=this.getParsed($),R=P?W:{},z=Ut(D[w]),q=R[y]=o.getPixelForValue(D[y],$),B=R[w]=s||z?a.getBasePixel():a.getPixelForValue(u?this.applyStack(a,D,u):D[w],$);R.skip=isNaN(q)||isNaN(B)||z,R.stop=$>0&&Math.abs(D[y]-A[y])>E,C&&(R.parsed=D,R.raw=c.data[$]),g&&(R.options=p||this.resolveDataElementOptions($,W.active?"active":i)),P||this.updateElement(W,$,R,i),A=D}this.updateSharedOptions(p,i,f)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let a=0;for(let u=n.length-1;u>=0;--u)a=Math.max(a,n[u].size(this.resolveDataElementOptions(u))/2);return a>0&&a}const r=t.dataset,i=r.options&&r.options.borderWidth||0;if(!n.length)return i;const s=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,s,o)/2}}var II=Object.freeze({__proto__:null,BarController:aC,BubbleController:NI,DoughnutController:Km,LineController:OI,PieController:RI,PolarAreaController:lC,RadarController:uC,ScatterController:AI});function dl(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class bx{static override(t){Object.assign(bx.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return dl()}parse(){return dl()}format(){return dl()}add(){return dl()}diff(){return dl()}startOf(){return dl()}endOf(){return dl()}}var LI={_date:bx};function DI(e,t,n,r){const{controller:i,data:s,_sorted:o}=e,a=i._cachedMeta.iScale,u=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&s.length){const c=a._reversePixels?eA:ko;if(r){if(i._sharedOptions){const f=s[0],p=typeof f.getRange=="function"&&f.getRange(t);if(p){const g=c(s,t,n-p),y=c(s,t,n+p);return{lo:g.lo,hi:y.hi}}}}else{const f=c(s,t,n);if(u){const{vScale:p}=i._cachedMeta,{_parsed:g}=e,y=g.slice(0,f.lo+1).reverse().findIndex(S=>!Ut(S[p.axis]));f.lo-=Math.max(0,y);const w=g.slice(f.hi).findIndex(S=>!Ut(S[p.axis]));f.hi+=Math.max(0,w)}return f}}return{lo:0,hi:s.length-1}}function Gm(e,t,n,r,i){const s=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,u=s.length;a<u;++a){const{index:c,data:f}=s[a],{lo:p,hi:g}=DI(s[a],t,o,i);for(let y=p;y<=g;++y){const w=f[y];w.skip||r(w,c,y)}}}function MI(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(r,i){const s=t?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function _1(e,t,n,r,i){const s=[];return!i&&!e.isPointInArea(t)||Gm(e,n,t,function(a,u,c){!i&&!Eo(a,e.chartArea,0)||a.inRange(t.x,t.y,r)&&s.push({element:a,datasetIndex:u,index:c})},!0),s}function FI(e,t,n,r){let i=[];function s(o,a,u){const{startAngle:c,endAngle:f}=o.getProps(["startAngle","endAngle"],r),{angle:p}=D6(o,{x:t.x,y:t.y});ih(p,c,f)&&i.push({element:o,datasetIndex:a,index:u})}return Gm(e,n,t,s),i}function BI(e,t,n,r,i,s){let o=[];const a=MI(n);let u=Number.POSITIVE_INFINITY;function c(f,p,g){const y=f.inRange(t.x,t.y,i);if(r&&!y)return;const w=f.getCenterPoint(i);if(!(!!s||e.isPointInArea(w))&&!y)return;const C=a(t,w);C<u?(o=[{element:f,datasetIndex:p,index:g}],u=C):C===u&&o.push({element:f,datasetIndex:p,index:g})}return Gm(e,n,t,c),o}function S1(e,t,n,r,i,s){return!s&&!e.isPointInArea(t)?[]:n==="r"&&!r?FI(e,t,n,i):BI(e,t,n,r,i,s)}function o_(e,t,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Gm(e,n,t,(u,c,f)=>{u[o]&&u[o](t[n],i)&&(s.push({element:u,datasetIndex:c,index:f}),a=a||u.inRange(t.x,t.y,i))}),r&&!a?[]:s}var zI={modes:{index(e,t,n,r){const i=vl(t,e),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?_1(e,i,s,r,o):S1(e,i,s,!1,r,o),u=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const f=a[0].index,p=c.data[f];p&&!p.skip&&u.push({element:p,datasetIndex:c.index,index:f})}),u):[]},dataset(e,t,n,r){const i=vl(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?_1(e,i,s,r,o):S1(e,i,s,!1,r,o);if(a.length>0){const u=a[0].datasetIndex,c=e.getDatasetMeta(u).data;a=[];for(let f=0;f<c.length;++f)a.push({element:c[f],datasetIndex:u,index:f})}return a},point(e,t,n,r){const i=vl(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return _1(e,i,s,r,o)},nearest(e,t,n,r){const i=vl(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return S1(e,i,s,n.intersect,r,o)},x(e,t,n,r){const i=vl(t,e);return o_(e,i,"x",n.intersect,r)},y(e,t,n,r){const i=vl(t,e);return o_(e,i,"y",n.intersect,r)}}};const cC=["left","top","right","bottom"];function md(e,t){return e.filter(n=>n.pos===t)}function a_(e,t){return e.filter(n=>cC.indexOf(n.pos)===-1&&n.box.axis===t)}function gd(e,t){return e.sort((n,r)=>{const i=t?r:n,s=t?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function $I(e){const t=[];let n,r,i,s,o,a;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,t.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return t}function UI(e){const t={};for(const n of e){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!cC.includes(i))continue;const o=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function HI(e,t){const n=UI(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let s,o,a;for(s=0,o=e.length;s<o;++s){a=e[s];const{fullSize:u}=a.box,c=n[a.stack],f=c&&a.stackWeight/c.weight;a.horizontal?(a.width=f?f*r:u&&t.availableWidth,a.height=i):(a.width=r,a.height=f?f*i:u&&t.availableHeight)}return n}function VI(e){const t=$I(e),n=gd(t.filter(c=>c.box.fullSize),!0),r=gd(md(t,"left"),!0),i=gd(md(t,"right")),s=gd(md(t,"top"),!0),o=gd(md(t,"bottom")),a=a_(t,"x"),u=a_(t,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(u).concat(o).concat(a),chartArea:md(t,"chartArea"),vertical:r.concat(i).concat(u),horizontal:s.concat(o).concat(a)}}function l_(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function dC(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function WI(e,t,n,r){const{pos:i,box:s}=n,o=e.maxPadding;if(!Vt(i)){n.size&&(e[i]-=n.size);const p=r[n.stack]||{size:0,count:1};p.size=Math.max(p.size,n.horizontal?s.height:s.width),n.size=p.size/p.count,e[i]+=n.size}s.getPadding&&dC(o,s.getPadding());const a=Math.max(0,t.outerWidth-l_(o,e,"left","right")),u=Math.max(0,t.outerHeight-l_(o,e,"top","bottom")),c=a!==e.w,f=u!==e.h;return e.w=a,e.h=u,n.horizontal?{same:c,other:f}:{same:f,other:c}}function qI(e){const t=e.maxPadding;function n(r){const i=Math.max(t[r]-e[r],0);return e[r]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function QI(e,t){const n=t.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(t[o],n[o])}),s}return r(e?["left","right"]:["top","bottom"])}function Rd(e,t,n,r){const i=[];let s,o,a,u,c,f;for(s=0,o=e.length,c=0;s<o;++s){a=e[s],u=a.box,u.update(a.width||t.w,a.height||t.h,QI(a.horizontal,t));const{same:p,other:g}=WI(t,n,a,r);c|=p&&i.length,f=f||g,u.fullSize||i.push(a)}return c&&Rd(i,t,n,r)||f}function cp(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function u_(e,t,n,r){const i=n.padding;let{x:s,y:o}=t;for(const a of e){const u=a.box,c=r[a.stack]||{placed:0,weight:1},f=a.stackWeight/c.weight||1;if(a.horizontal){const p=t.w*f,g=c.size||u.height;rh(c.start)&&(o=c.start),u.fullSize?cp(u,i.left,o,n.outerWidth-i.right-i.left,g):cp(u,t.left+c.placed,o,p,g),c.start=o,c.placed+=p,o=u.bottom}else{const p=t.h*f,g=c.size||u.width;rh(c.start)&&(s=c.start),u.fullSize?cp(u,s,i.top,g,n.outerHeight-i.bottom-i.top):cp(u,s,t.top+c.placed,g,p),c.start=s,c.placed+=p,s=u.right}}t.x=s,t.y=o}var Dr={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=Fr(e.options.layout.padding),s=Math.max(t-i.width,0),o=Math.max(n-i.height,0),a=VI(e.boxes),u=a.vertical,c=a.horizontal;tn(e.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const f=u.reduce((S,C)=>C.box.options&&C.box.options.display===!1?S:S+1,0)||1,p=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/f,hBoxMaxHeight:o/2}),g=Object.assign({},i);dC(g,Fr(r));const y=Object.assign({maxPadding:g,w:s,h:o,x:i.left,y:i.top},i),w=HI(u.concat(c),p);Rd(a.fullSize,y,p,w),Rd(u,y,p,w),Rd(c,y,p,w)&&Rd(u,y,p,w),qI(y),u_(a.leftAndTop,y,p,w),y.x+=y.w,y.y+=y.h,u_(a.rightAndBottom,y,p,w),e.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},tn(a.chartArea,S=>{const C=S.box;Object.assign(C,e.chartArea),C.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class hC{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,r){}removeEventListener(t,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,r,i){return n=Math.max(0,n||t.width),r=r||t.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(t){return!0}updateConfig(t){}}class KI extends hC{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const qp="$chartjs",GI={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},c_=e=>e===null||e==="";function YI(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[qp]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",c_(i)){const s=Q3(e,"width");s!==void 0&&(e.width=s)}if(c_(r))if(e.style.height==="")e.height=e.width/(t||2);else{const s=Q3(e,"height");s!==void 0&&(e.height=s)}return e}const fC=QA?{passive:!0}:!1;function JI(e,t,n){e&&e.addEventListener(t,n,fC)}function XI(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,fC)}function ZI(e,t){const n=GI[e.type]||e.type,{x:r,y:i}=vl(e,t);return{type:n,chart:t,native:e,x:r!==void 0?r:null,y:i!==void 0?i:null}}function mm(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function eL(e,t,n){const r=e.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||mm(a.addedNodes,r),o=o&&!mm(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function tL(e,t,n){const r=e.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||mm(a.removedNodes,r),o=o&&!mm(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const oh=new Map;let d_=0;function pC(){const e=window.devicePixelRatio;e!==d_&&(d_=e,oh.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function nL(e,t){oh.size||window.addEventListener("resize",pC),oh.set(e,t)}function rL(e){oh.delete(e),oh.size||window.removeEventListener("resize",pC)}function iL(e,t,n){const r=e.canvas,i=r&&xx(r);if(!i)return;const s=z6((a,u)=>{const c=i.clientWidth;n(a,u),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const u=a[0],c=u.contentRect.width,f=u.contentRect.height;c===0&&f===0||s(c,f)});return o.observe(i),nL(e,s),o}function C1(e,t,n){n&&n.disconnect(),t==="resize"&&rL(e)}function sL(e,t,n){const r=e.canvas,i=z6(s=>{e.ctx!==null&&n(ZI(s,e))},e);return JI(r,t,i),i}class oL extends hC{acquireContext(t,n){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(YI(t,n),r):null}releaseContext(t){const n=t.canvas;if(!n[qp])return!1;const r=n[qp].initial;["height","width"].forEach(s=>{const o=r[s];Ut(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[qp],!0}addEventListener(t,n,r){this.removeEventListener(t,n);const i=t.$proxies||(t.$proxies={}),o={attach:eL,detach:tL,resize:iL}[n]||sL;i[n]=o(t,n,r)}removeEventListener(t,n){const r=t.$proxies||(t.$proxies={}),i=r[n];if(!i)return;({attach:C1,detach:C1,resize:C1}[n]||XI)(t,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,r,i){return qA(t,n,r,i)}isAttached(t){const n=t&&xx(t);return!!(n&&n.isConnected)}}function aL(e){return!vx()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?KI:oL}let Ao=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}hasValue(){return Ll(this.x)&&Ll(this.y)}getProps(t,n){const r=this.$animations;if(!n||!r)return this;const i={};return t.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}};function lL(e,t){const n=e.options.ticks,r=uL(e),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?dL(t):[],o=s.length,a=s[0],u=s[o-1],c=[];if(o>i)return hL(t,c,s,o/i),c;const f=cL(s,t,i);if(o>0){let p,g;const y=o>1?Math.round((u-a)/(o-1)):null;for(dp(t,c,f,Ut(y)?0:a-y,a),p=0,g=o-1;p<g;p++)dp(t,c,f,s[p],s[p+1]);return dp(t,c,f,u,Ut(y)?t.length:u+y),c}return dp(t,c,f),c}function uL(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}function cL(e,t,n){const r=fL(e),i=t.length/n;if(!r)return Math.max(i,1);const s=GR(r);for(let o=0,a=s.length-1;o<a;o++){const u=s[o];if(u>i)return u}return Math.max(i,1)}function dL(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}function hL(e,t,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<e.length;o++)o===s&&(t.push(e[o]),i++,s=n[i*r])}function dp(e,t,n,r,i){const s=St(r,0),o=Math.min(St(i,e.length),e.length);let a=0,u,c,f;for(n=Math.ceil(n),i&&(u=i-r,n=u/Math.floor(u/n)),f=s;f<0;)a++,f=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===f&&(t.push(e[c]),a++,f=Math.round(s+a*n))}function fL(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}const pL=e=>e==="left"?"right":e==="right"?"left":e,h_=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,f_=(e,t)=>Math.min(t||e,e);function p_(e,t){const n=[],r=e.length/t,i=e.length;let s=0;for(;s<i;s+=r)n.push(e[Math.floor(s)]);return n}function mL(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),s=e._startPixel,o=e._endPixel,a=1e-6;let u=e.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(u-s,o-u):t===0?c=(e.getPixelForTick(1)-u)/2:c=(u-e.getPixelForTick(i-1))/2,u+=i<t?c:-c,u<s-a||u>o+a)))return u}function gL(e,t){tn(e,n=>{const r=n.gc,i=r.length/2;let s;if(i>t){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function yd(e){return e.drawTicks?e.tickLength:0}function m_(e,t){if(!e.display)return 0;const n=ar(e.font,t),r=Fr(e.padding);return(_n(e.text)?e.text.length:1)*n.lineHeight+r.height}function yL(e,t){return Da(e,{scale:t,type:"scale"})}function vL(e,t,n){return Da(e,{tick:n,index:t,type:"tick"})}function xL(e,t,n){let r=hx(e);return(n&&t!=="right"||!n&&t==="right")&&(r=pL(r)),r}function bL(e,t,n,r){const{top:i,left:s,bottom:o,right:a,chart:u}=e,{chartArea:c,scales:f}=u;let p=0,g,y,w;const S=o-i,C=a-s;if(e.isHorizontal()){if(y=Ar(r,s,a),Vt(n)){const E=Object.keys(n)[0],P=n[E];w=f[E].getPixelForValue(P)+S-t}else n==="center"?w=(c.bottom+c.top)/2+S-t:w=h_(e,n,t);g=a-s}else{if(Vt(n)){const E=Object.keys(n)[0],P=n[E];y=f[E].getPixelForValue(P)-C+t}else n==="center"?y=(c.left+c.right)/2-C+t:y=h_(e,n,t);w=Ar(r,o,i),p=n==="left"?-Hn:Hn}return{titleX:y,titleY:w,maxWidth:g,rotation:p}}class Hl extends Ao{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return t=Si(t,Number.POSITIVE_INFINITY),n=Si(n,Number.NEGATIVE_INFINITY),r=Si(r,Number.POSITIVE_INFINITY),i=Si(i,Number.NEGATIVE_INFINITY),{min:Si(t,r),max:Si(n,i),minDefined:Mn(t),maxDefined:Mn(n)}}getMinMax(t){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let u=0,c=a.length;u<c;++u)o=a[u].controller.getMinMax(this,t),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:Si(n,Si(r,n)),max:Si(r,Si(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){dn(this.options.beforeUpdate,[this])}update(t,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=CA(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=a<this.ticks.length;this._convertTicksToLabels(u?p_(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=lL(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,t=!t),this._startPixel=n,this._endPixel=r,this._reversePixels=t,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){dn(this.options.afterUpdate,[this])}beforeSetDimensions(){dn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){dn(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),dn(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){dn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r],s.label=dn(n.callback,[s.value,r,t],this)}afterTickToLabelConversion(){dn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){dn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,r=f_(this.ticks.length,t.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,u,c;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const f=this._getLabelSizes(),p=f.widest.width,g=f.highest.height,y=vr(this.chart.width-p,0,this.maxWidth);a=t.offset?this.maxWidth/r:y/(r-1),p+6>a&&(a=y/(r-(t.offset?.5:1)),u=this.maxHeight-yd(t.grid)-n.padding-m_(t.title,this.chart.options.font),c=Math.sqrt(p*p+g*g),o=cx(Math.min(Math.asin(vr((f.highest.height+6)/a,-1,1)),Math.asin(vr(u/c,-1,1))-Math.asin(vr(g/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){dn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){dn(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const u=m_(i,n.options.font);if(a?(t.width=this.maxWidth,t.height=yd(s)+u):(t.height=this.maxHeight,t.width=yd(s)+u),r.display&&this.ticks.length){const{first:c,last:f,widest:p,highest:g}=this._getLabelSizes(),y=r.padding*2,w=bs(this.labelRotation),S=Math.cos(w),C=Math.sin(w);if(a){const E=r.mirror?0:C*p.width+S*g.height;t.height=Math.min(this.maxHeight,t.height+E+y)}else{const E=r.mirror?0:S*p.width+C*g.height;t.width=Math.min(this.maxWidth,t.width+E+y)}this._calculatePadding(c,f,C,S)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,u=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,y=0;u?c?(g=i*t.width,y=r*n.height):(g=r*t.height,y=i*n.width):s==="start"?y=n.width:s==="end"?g=t.width:s!=="inner"&&(g=t.width/2,y=n.width/2),this.paddingLeft=Math.max((g-f+o)*this.width/(this.width-f),0),this.paddingRight=Math.max((y-p+o)*this.width/(this.width-p),0)}else{let f=n.height/2,p=t.height/2;s==="start"?(f=0,p=t.height):s==="end"&&(f=n.height,p=0),this.paddingTop=f+o,this.paddingBottom=p+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){dn(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,r;for(n=0,r=t.length;n<r;n++)Ut(t[n].label)&&(t.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=p_(r,n)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],u=Math.floor(n/f_(n,r));let c=0,f=0,p,g,y,w,S,C,E,P,A,$,W;for(p=0;p<n;p+=u){if(w=t[p].label,S=this._resolveTickFontOptions(p),i.font=C=S.string,E=s[C]=s[C]||{data:{},gc:[]},P=S.lineHeight,A=$=0,!Ut(w)&&!_n(w))A=fm(i,E.data,E.gc,A,w),$=P;else if(_n(w))for(g=0,y=w.length;g<y;++g)W=w[g],!Ut(W)&&!_n(W)&&(A=fm(i,E.data,E.gc,A,W),$+=P);o.push(A),a.push($),c=Math.max(A,c),f=Math.max($,f)}gL(s,n);const D=o.indexOf(c),R=a.indexOf(f),z=q=>({width:o[q]||0,height:a[q]||0});return{first:z(0),last:z(n-1),widest:z(D),highest:z(R),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return ZR(this._alignToPixels?cl(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const r=n[t];return r.$context||(r.$context=vL(this.getContext(),t,r))}return this.$context||(this.$context=yL(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=bs(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,a=s?s.widest.width+o:0,u=s?s.highest.height+o:0;return this.isHorizontal()?u*r>a*i?a/r:u/i:u*i<a*r?u/r:a/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,u=s.offset,c=this.isHorizontal(),p=this.ticks.length+(u?1:0),g=yd(s),y=[],w=a.setContext(this.getContext()),S=w.display?w.width:0,C=S/2,E=function(J){return cl(r,J,S)};let P,A,$,W,D,R,z,q,B,ae,oe,xe;if(o==="top")P=E(this.bottom),R=this.bottom-g,q=P-C,ae=E(t.top)+C,xe=t.bottom;else if(o==="bottom")P=E(this.top),ae=t.top,xe=E(t.bottom)-C,R=P+C,q=this.top+g;else if(o==="left")P=E(this.right),D=this.right-g,z=P-C,B=E(t.left)+C,oe=t.right;else if(o==="right")P=E(this.left),B=t.left,oe=E(t.right)-C,D=P+C,z=this.left+g;else if(n==="x"){if(o==="center")P=E((t.top+t.bottom)/2+.5);else if(Vt(o)){const J=Object.keys(o)[0],se=o[J];P=E(this.chart.scales[J].getPixelForValue(se))}ae=t.top,xe=t.bottom,R=P+C,q=R+g}else if(n==="y"){if(o==="center")P=E((t.left+t.right)/2);else if(Vt(o)){const J=Object.keys(o)[0],se=o[J];P=E(this.chart.scales[J].getPixelForValue(se))}D=P-C,z=D-g,B=t.left,oe=t.right}const Y=St(i.ticks.maxTicksLimit,p),H=Math.max(1,Math.ceil(p/Y));for(A=0;A<p;A+=H){const J=this.getContext(A),se=s.setContext(J),X=a.setContext(J),pe=se.lineWidth,M=se.color,G=X.dash||[],me=X.dashOffset,U=se.tickWidth,Pe=se.tickColor,ke=se.tickBorderDash||[],Ee=se.tickBorderDashOffset;$=mL(this,A,u),$!==void 0&&(W=cl(r,$,pe),c?D=z=B=oe=W:R=q=ae=xe=W,y.push({tx1:D,ty1:R,tx2:z,ty2:q,x1:B,y1:ae,x2:oe,y2:xe,width:pe,color:M,borderDash:G,borderDashOffset:me,tickWidth:U,tickColor:Pe,tickBorderDash:ke,tickBorderDashOffset:Ee}))}return this._ticksLength=p,this._borderValue=P,y}_computeLabelItems(t){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:u,crossAlign:c,padding:f,mirror:p}=s,g=yd(r.grid),y=g+f,w=p?-f:y,S=-bs(this.labelRotation),C=[];let E,P,A,$,W,D,R,z,q,B,ae,oe,xe="middle";if(i==="top")D=this.bottom-w,R=this._getXAxisLabelAlignment();else if(i==="bottom")D=this.top+w,R=this._getXAxisLabelAlignment();else if(i==="left"){const H=this._getYAxisLabelAlignment(g);R=H.textAlign,W=H.x}else if(i==="right"){const H=this._getYAxisLabelAlignment(g);R=H.textAlign,W=H.x}else if(n==="x"){if(i==="center")D=(t.top+t.bottom)/2+y;else if(Vt(i)){const H=Object.keys(i)[0],J=i[H];D=this.chart.scales[H].getPixelForValue(J)+y}R=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")W=(t.left+t.right)/2-y;else if(Vt(i)){const H=Object.keys(i)[0],J=i[H];W=this.chart.scales[H].getPixelForValue(J)}R=this._getYAxisLabelAlignment(g).textAlign}n==="y"&&(u==="start"?xe="top":u==="end"&&(xe="bottom"));const Y=this._getLabelSizes();for(E=0,P=a.length;E<P;++E){A=a[E],$=A.label;const H=s.setContext(this.getContext(E));z=this.getPixelForTick(E)+s.labelOffset,q=this._resolveTickFontOptions(E),B=q.lineHeight,ae=_n($)?$.length:1;const J=ae/2,se=H.color,X=H.textStrokeColor,pe=H.textStrokeWidth;let M=R;o?(W=z,R==="inner"&&(E===P-1?M=this.options.reverse?"left":"right":E===0?M=this.options.reverse?"right":"left":M="center"),i==="top"?c==="near"||S!==0?oe=-ae*B+B/2:c==="center"?oe=-Y.highest.height/2-J*B+B:oe=-Y.highest.height+B/2:c==="near"||S!==0?oe=B/2:c==="center"?oe=Y.highest.height/2-J*B:oe=Y.highest.height-ae*B,p&&(oe*=-1),S!==0&&!H.showLabelBackdrop&&(W+=B/2*Math.sin(S))):(D=z,oe=(1-ae)*B/2);let G;if(H.showLabelBackdrop){const me=Fr(H.backdropPadding),U=Y.heights[E],Pe=Y.widths[E];let ke=oe-me.top,Ee=0-me.left;switch(xe){case"middle":ke-=U/2;break;case"bottom":ke-=U;break}switch(R){case"center":Ee-=Pe/2;break;case"right":Ee-=Pe;break;case"inner":E===P-1?Ee-=Pe:E>0&&(Ee-=Pe/2);break}G={left:Ee,top:ke,width:Pe+me.width,height:U+me.height,color:H.backdropColor}}C.push({label:$,font:q,textOffset:oe,options:{rotation:S,color:se,strokeColor:X,strokeWidth:pe,textAlign:M,textBaseline:xe,translation:[W,D],backdrop:G}})}return C}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-bs(this.labelRotation))return t==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=t+s,u=o.widest.width;let c,f;return n==="left"?i?(f=this.right+s,r==="near"?c="left":r==="center"?(c="center",f+=u/2):(c="right",f+=u)):(f=this.right-a,r==="near"?c="right":r==="center"?(c="center",f-=u/2):(c="left",f=this.left)):n==="right"?i?(f=this.left+s,r==="near"?c="right":r==="center"?(c="center",f-=u/2):(c="left",f-=u)):(f=this.left+a,r==="near"?c="left":r==="center"?(c="center",f+=u/2):(c="right",f=this.right)):c="right",{textAlign:c,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(r,i,s,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===t);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,o;const a=(u,c,f)=>{!f.width||!f.color||(r.save(),r.lineWidth=f.width,r.strokeStyle=f.color,r.setLineDash(f.borderDash||[]),r.lineDashOffset=f.borderDashOffset,r.beginPath(),r.moveTo(u.x,u.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const u=i[s];n.drawOnChartArea&&a({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&a({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let c,f,p,g;this.isHorizontal()?(c=cl(t,this.left,o)-o/2,f=cl(t,this.right,a)+a/2,p=g=u):(p=cl(t,this.top,o)-o/2,g=cl(t,this.bottom,a)+a/2,c=f=u),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,p),n.lineTo(f,g),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&Wm(r,i);const s=this.getLabelItems(t);for(const o of s){const a=o.options,u=o.font,c=o.label,f=o.textOffset;Ml(r,c,0,f,u,a)}i&&qm(r)}drawTitle(){const{ctx:t,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=ar(r.font),o=Fr(r.padding),a=r.align;let u=s.lineHeight/2;n==="bottom"||n==="center"||Vt(n)?(u+=o.bottom,_n(r.text)&&(u+=s.lineHeight*(r.text.length-1))):u+=o.top;const{titleX:c,titleY:f,maxWidth:p,rotation:g}=bL(this,u,n,a);Ml(t,r.text,0,0,s,{color:r.color,maxWidth:p,rotation:g,textAlign:xL(a,n,i),textBaseline:"middle",translation:[c,f]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,r=St(t.grid&&t.grid.z,-1),i=St(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Hl.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!t||a.type===t)&&i.push(a)}return i}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return ar(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class hp{constructor(t,n,r){this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let r;SL(n)&&(r=this.register(n));const i=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in i||(i[s]=t,wL(t,o,r),this.override&&Sn.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,r=t.id,i=this.scope;r in n&&delete n[r],i&&r in Sn[i]&&(delete Sn[i][r],this.override&&delete Dl[r])}}function wL(e,t,n){const r=nh(Object.create(null),[n?Sn.get(n):{},Sn.get(t),e.defaults]);Sn.set(t,r),e.defaultRoutes&&_L(t,e.defaultRoutes),e.descriptors&&Sn.describe(t,e.descriptors)}function _L(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),i=r.pop(),s=[e].concat(r).join("."),o=t[n].split("."),a=o.pop(),u=o.join(".");Sn.route(s,i,u,a)})}function SL(e){return"id"in e&&"defaults"in e}class CL{constructor(){this.controllers=new hp(Ma,"datasets",!0),this.elements=new hp(Ao,"elements"),this.plugins=new hp(Object,"plugins"),this.scales=new hp(Hl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(t,s,i):tn(i,o=>{const a=r||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,r){const i=ux(t);dn(r["before"+i],[],r),n[t](r),dn(r["after"+i],[],r)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(t))return r}return this.plugins}_get(t,n,r){const i=n.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return i}}var Us=new CL;class kL{constructor(){this._init=void 0}notify(t,n,r,i){if(n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const s=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(s,t,n,r);return n==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),o}_notify(t,n,r,i){i=i||{};for(const s of t){const o=s.plugin,a=o[r],u=[n,i,s.options];if(dn(a,u,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Ut(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const r=t&&t.config,i=St(r.options&&r.options.plugins,{}),s=EL(r);return i===!1&&!n?[]:TL(t,s,i,n)}_notifyStateChanges(t){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(u=>a.plugin.id===u.plugin.id));this._notify(i(n,r),t,"stop"),this._notify(i(r,n),t,"start")}}function EL(e){const t={},n=[],r=Object.keys(Us.plugins.items);for(let s=0;s<r.length;s++)n.push(Us.getPlugin(r[s]));const i=e.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function jL(e,t){return!t&&e===!1?null:e===!0?{}:e}function TL(e,{plugins:t,localIds:n},r,i){const s=[],o=e.getContext();for(const a of t){const u=a.id,c=jL(r[u],i);c!==null&&s.push({plugin:a,options:NL(e.config,{plugin:a,local:n[u]},c,o)})}return s}function NL(e,{plugin:t,local:n},r,i){const s=e.pluginScopeKeys(t),o=e.getOptionScopes(r,s);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function My(e,t){const n=Sn.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function PL(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function OL(e,t){return e===t?"_index_":"_value_"}function g_(e){if(e==="x"||e==="y"||e==="r")return e}function RL(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Fy(e,...t){if(g_(e))return e;for(const n of t){const r=n.axis||RL(n.position)||e.length>1&&g_(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function y_(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function AL(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(n.length)return y_(e,"x",n[0])||y_(e,"y",n[0])}return{}}function IL(e,t){const n=Dl[e.type]||{scales:{}},r=t.scales||{},i=My(e.type,t),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!Vt(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const u=Fy(o,a,AL(o,e),Sn.scales[a.type]),c=OL(u,i),f=n.scales||{};s[o]=Bd(Object.create(null),[{axis:u},a,f[u],f[c]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,u=o.indexAxis||My(a,t),f=(Dl[a]||{}).scales||{};Object.keys(f).forEach(p=>{const g=PL(p,u),y=o[g+"AxisID"]||g;s[y]=s[y]||Object.create(null),Bd(s[y],[{axis:g},r[y],f[p]])})}),Object.keys(s).forEach(o=>{const a=s[o];Bd(a,[Sn.scales[a.type],Sn.scale])}),s}function mC(e){const t=e.options||(e.options={});t.plugins=St(t.plugins,{}),t.scales=IL(e,t)}function gC(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function LL(e){return e=e||{},e.data=gC(e.data),mC(e),e}const v_=new Map,yC=new Set;function fp(e,t){let n=v_.get(e);return n||(n=t(),v_.set(e,n),yC.add(n)),n}const vd=(e,t,n)=>{const r=ja(t,n);r!==void 0&&e.add(r)};class DL{constructor(t){this._config=LL(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=gC(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),mC(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return fp(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return fp(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return fp(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,r=this.type;return fp(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const r=this._scopeCache;let i=r.get(t);return(!i||n)&&(i=new Map,r.set(t,i)),i}getOptionScopes(t,n,r){const{options:i,type:s}=this,o=this._cachedScopes(t,r),a=o.get(n);if(a)return a;const u=new Set;n.forEach(f=>{t&&(u.add(t),f.forEach(p=>vd(u,t,p))),f.forEach(p=>vd(u,i,p)),f.forEach(p=>vd(u,Dl[s]||{},p)),f.forEach(p=>vd(u,Sn,p)),f.forEach(p=>vd(u,Ly,p))});const c=Array.from(u);return c.length===0&&c.push(Object.create(null)),yC.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:t,type:n}=this;return[t,Dl[n]||{},Sn.datasets[n]||{},{type:n},Sn,Ly]}resolveNamedOptions(t,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=x_(this._resolverCache,t,i);let u=o;if(FL(o,n)){s.$shared=!1,r=Ta(r)?r():r;const c=this.createResolver(t,r,a);u=dc(o,r,c)}for(const c of n)s[c]=u[c];return s}createResolver(t,n,r=[""],i){const{resolver:s}=x_(this._resolverCache,t,r);return Vt(n)?dc(s,n,void 0,i):s}}function x_(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let s=r.get(i);return s||(s={resolver:mx(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const ML=e=>Vt(e)&&Object.getOwnPropertyNames(e).some(t=>Ta(e[t]));function FL(e,t){const{isScriptable:n,isIndexable:r}=q6(e);for(const i of t){const s=n(i),o=r(i),a=(o||s)&&e[i];if(s&&(Ta(a)||ML(a))||o&&_n(a))return!0}return!1}var BL="4.5.1";const zL=["top","bottom","left","right","chartArea"];function b_(e,t){return e==="top"||e==="bottom"||zL.indexOf(e)===-1&&t==="x"}function w_(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function __(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),dn(n&&n.onComplete,[e],t)}function $L(e){const t=e.chart,n=t.options.animation;dn(n&&n.onProgress,[e],t)}function vC(e){return vx()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Qp={},S_=e=>{const t=vC(e);return Object.values(Qp).filter(n=>n.canvas===t).pop()};function UL(e,t,n){const r=Object.keys(e);for(const i of r){const s=+i;if(s>=t){const o=e[i];delete e[i],(n>0||s>t)&&(e[s+n]=o)}}}function HL(e,t,n,r){return!n||e.type==="mouseout"?null:r?t:e}let Ks=class{static defaults=Sn;static instances=Qp;static overrides=Dl;static registry=Us;static version=BL;static getChart=S_;static register(...t){Us.add(...t),C_()}static unregister(...t){Us.remove(...t),C_()}constructor(t,n){const r=this.config=new DL(n),i=vC(t),s=S_(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||aL(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),u=a&&a.canvas,c=u&&u.height,f=u&&u.width;if(this.id=zR(),this.ctx=a,this.canvas=u,this.width=f,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new kL,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=rA(p=>this.update(p),o.resizeDelay||0),this._dataChanges=[],Qp[this.id]=this,!a||!u){console.error("Failed to create chart: can't acquire context from the given item");return}xo.listen(this,"complete",__),xo.listen(this,"progress",$L),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return Ut(t)?n&&s?s:i?r/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Us}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():q3(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return H3(this.canvas,this.ctx),this}stop(){return xo.stop(this),this}resize(t,n){xo.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,q3(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),dn(r.onResize,[this,o],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};tn(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],u=Fy(o,a),c=u==="r",f=u==="x";return{options:a,dposition:c?"chartArea":f?"bottom":"left",dtype:c?"radialLinear":f?"category":"linear"}}))),tn(s,o=>{const a=o.options,u=a.id,c=Fy(u,a),f=St(a.type,o.dtype);(a.position===void 0||b_(a.position,c)!==b_(o.dposition))&&(a.position=o.dposition),i[u]=!0;let p=null;if(u in r&&r[u].type===f)p=r[u];else{const g=Us.getScale(f);p=new g({id:u,type:f,ctx:this.ctx,chart:this}),r[p.id]=p}p.init(a,t)}),tn(i,(o,a)=>{o||delete r[a]}),tn(r,o=>{Dr.configure(this,o,o.options),Dr.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(w_("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||My(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const u=Us.getController(a),{datasetElementType:c,dataElementType:f}=Sn.datasets[a];Object.assign(u,{dataElementType:Us.getElement(f),datasetElementType:c&&Us.getElement(c)}),o.controller=new u(this,r),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){tn(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,f=this.data.datasets.length;c<f;c++){const{controller:p}=this.getDatasetMeta(c),g=!i&&s.indexOf(p)===-1;p.buildOrUpdateElements(g),o=Math.max(+p.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||tn(s,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(w_("z","_idx"));const{_active:a,_lastEvent:u}=this;u?this._eventHandler(u,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){tn(this.scales,t=>{Dr.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!I3(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;UL(t,i,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(t.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!I3(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Dr.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],tn(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Ta(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),i={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(xo.has(this)?this.attached&&!xo.running(this)&&xo.start(this):(this.draw(),__({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!t||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r={meta:t,index:t.index,cancelable:!0},i=rC(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&Wm(n,i),t.controller.draw(),i&&qm(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return Eo(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,i){const s=zI.modes[n];return typeof s=="function"?s(this,t,r,i):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Da(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){const r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(t),o=s.controller._resolveAnimations(void 0,i);rh(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===t?i:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),xo.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),H3(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Qp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),t[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};tn(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(u,c)=>{n.addEventListener(this,u,c),t[u]=c},i=(u,c)=>{t[u]&&(n.removeEventListener(this,u,c),delete t[u])},s=(u,c)=>{this.canvas&&this.resize(u,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){tn(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},tn(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const i=r?"set":"remove";let s,o,a,u;for(n==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,u=t.length;a<u;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!cm(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,r){const i=this.options.hover,s=(u,c)=>u.filter(f=>!c.some(p=>f.datasetIndex===p.datasetIndex&&f.index===p.index)),o=s(n,t),a=r?t:s(t,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},i=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(t,i,r,o),u=qR(t),c=HL(t,this._lastEvent,r,u);r&&(this._lastEvent=null,dn(s.onHover,[t,a,this],this),u&&dn(s.onClick,[t,a,this],this));const f=!cm(a,i);return(f||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,f}_getActiveElements(t,n,r,i){if(t.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,i)}};function C_(){return tn(Ks.instances,e=>e._plugins.invalidate())}function VL(e,t,n){const{startAngle:r,x:i,y:s,outerRadius:o,innerRadius:a,options:u}=t,{borderWidth:c,borderJoinStyle:f}=u,p=Math.min(c/o,Lr(r-n));if(e.beginPath(),e.arc(i,s,o-c/2,r+p/2,n-p/2),a>0){const g=Math.min(c/a,Lr(r-n));e.arc(i,s,a+c/2,n-g/2,r+g/2,!0)}else{const g=Math.min(c/2,o*Lr(r-n));if(f==="round")e.arc(i,s,g,n-Jt/2,r+Jt/2,!0);else if(f==="bevel"){const y=2*g*g,w=-y*Math.cos(n+Jt/2)+i,S=-y*Math.sin(n+Jt/2)+s,C=y*Math.cos(r+Jt/2)+i,E=y*Math.sin(r+Jt/2)+s;e.lineTo(w,S),e.lineTo(C,E)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function WL(e,t,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:u}=t;let c=i/a;e.beginPath(),e.arc(s,o,a,r-c,n+c),u>i?(c=i/u,e.arc(s,o,u,n+c,r-c,!0)):e.arc(s,o,i,n+Hn,r-Hn),e.closePath(),e.clip()}function qL(e){return px(e,["outerStart","outerEnd","innerStart","innerEnd"])}function QL(e,t,n,r){const i=qL(e.options.borderRadius),s=(n-t)/2,o=Math.min(s,r*t/2),a=u=>{const c=(n-Math.min(s,u))*r/2;return vr(u,0,Math.min(s,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:vr(i.innerStart,0,o),innerEnd:vr(i.innerEnd,0,o)}}function Au(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function gm(e,t,n,r,i,s){const{x:o,y:a,startAngle:u,pixelMargin:c,innerRadius:f}=t,p=Math.max(t.outerRadius+r+n-c,0),g=f>0?f+r+n+c:0;let y=0;const w=i-u;if(r){const H=f>0?f-r:0,J=p>0?p-r:0,se=(H+J)/2,X=se!==0?w*se/(se+r):w;y=(w-X)/2}const S=Math.max(.001,w*p-n/Jt)/p,C=(w-S)/2,E=u+C+y,P=i-C-y,{outerStart:A,outerEnd:$,innerStart:W,innerEnd:D}=QL(t,g,p,P-E),R=p-A,z=p-$,q=E+A/R,B=P-$/z,ae=g+W,oe=g+D,xe=E+W/ae,Y=P-D/oe;if(e.beginPath(),s){const H=(q+B)/2;if(e.arc(o,a,p,q,H),e.arc(o,a,p,H,B),$>0){const pe=Au(z,B,o,a);e.arc(pe.x,pe.y,$,B,P+Hn)}const J=Au(oe,P,o,a);if(e.lineTo(J.x,J.y),D>0){const pe=Au(oe,Y,o,a);e.arc(pe.x,pe.y,D,P+Hn,Y+Math.PI)}const se=(P-D/g+(E+W/g))/2;if(e.arc(o,a,g,P-D/g,se,!0),e.arc(o,a,g,se,E+W/g,!0),W>0){const pe=Au(ae,xe,o,a);e.arc(pe.x,pe.y,W,xe+Math.PI,E-Hn)}const X=Au(R,E,o,a);if(e.lineTo(X.x,X.y),A>0){const pe=Au(R,q,o,a);e.arc(pe.x,pe.y,A,E-Hn,q)}}else{e.moveTo(o,a);const H=Math.cos(q)*p+o,J=Math.sin(q)*p+a;e.lineTo(H,J);const se=Math.cos(B)*p+o,X=Math.sin(B)*p+a;e.lineTo(se,X)}e.closePath()}function KL(e,t,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=t;let u=t.endAngle;if(s){gm(e,t,n,r,u,i);for(let c=0;c<s;++c)e.fill();isNaN(a)||(u=o+(a%mn||mn))}return gm(e,t,n,r,u,i),e.fill(),u}function GL(e,t,n,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:u}=t,{borderWidth:c,borderJoinStyle:f,borderDash:p,borderDashOffset:g,borderRadius:y}=u,w=u.borderAlign==="inner";if(!c)return;e.setLineDash(p||[]),e.lineDashOffset=g,w?(e.lineWidth=c*2,e.lineJoin=f||"round"):(e.lineWidth=c,e.lineJoin=f||"bevel");let S=t.endAngle;if(s){gm(e,t,n,r,S,i);for(let C=0;C<s;++C)e.stroke();isNaN(a)||(S=o+(a%mn||mn))}w&&WL(e,t,S),u.selfJoin&&S-o>=Jt&&y===0&&f!=="miter"&&VL(e,t,S),s||(gm(e,t,n,r,S,i),e.stroke())}class Ym extends Ao{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,r){const i=this.getProps(["x","y"],r),{angle:s,distance:o}=D6(i,{x:t,y:n}),{startAngle:a,endAngle:u,innerRadius:c,outerRadius:f,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),g=(this.options.spacing+this.options.borderWidth)/2,y=St(p,u-a),w=ih(s,a,u)&&a!==u,S=y>=mn||w,C=Co(o,c+g,f+g);return S&&C}getCenterPoint(t){const{x:n,y:r,startAngle:i,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:u,spacing:c}=this.options,f=(i+s)/2,p=(o+a+c+u)/2;return{x:n+Math.cos(f)*p,y:r+Math.sin(f)*p}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:r}=this,i=(n.offset||0)/4,s=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>mn?Math.floor(r/mn):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*i,Math.sin(a)*i);const u=1-Math.sin(Math.min(Jt,r||0)),c=i*u;t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,KL(t,this,c,s,o),GL(t,this,c,s,o),t.restore()}}function xC(e,t,n=t){e.lineCap=St(n.borderCapStyle,t.borderCapStyle),e.setLineDash(St(n.borderDash,t.borderDash)),e.lineDashOffset=St(n.borderDashOffset,t.borderDashOffset),e.lineJoin=St(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=St(n.borderWidth,t.borderWidth),e.strokeStyle=St(n.borderColor,t.borderColor)}function YL(e,t,n){e.lineTo(n.x,n.y)}function JL(e){return e.stepped?mA:e.tension||e.cubicInterpolationMode==="monotone"?gA:YL}function bC(e,t,n={}){const r=e.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=t,u=Math.max(i,o),c=Math.min(s,a),f=i<o&&s<o||i>a&&s>a;return{count:r,start:u,loop:t.loop,ilen:c<u&&!f?r+c-u:c-u}}function XL(e,t,n,r){const{points:i,options:s}=t,{count:o,start:a,loop:u,ilen:c}=bC(i,n,r),f=JL(s);let{move:p=!0,reverse:g}=r||{},y,w,S;for(y=0;y<=c;++y)w=i[(a+(g?c-y:y))%o],!w.skip&&(p?(e.moveTo(w.x,w.y),p=!1):f(e,S,w,g,s.stepped),S=w);return u&&(w=i[(a+(g?c:0))%o],f(e,S,w,g,s.stepped)),!!u}function ZL(e,t,n,r){const i=t.points,{count:s,start:o,ilen:a}=bC(i,n,r),{move:u=!0,reverse:c}=r||{};let f=0,p=0,g,y,w,S,C,E;const P=$=>(o+(c?a-$:$))%s,A=()=>{S!==C&&(e.lineTo(f,C),e.lineTo(f,S),e.lineTo(f,E))};for(u&&(y=i[P(0)],e.moveTo(y.x,y.y)),g=0;g<=a;++g){if(y=i[P(g)],y.skip)continue;const $=y.x,W=y.y,D=$|0;D===w?(W<S?S=W:W>C&&(C=W),f=(p*f+$)/++p):(A(),e.lineTo($,W),w=D,p=0,S=C=W),E=W}A()}function By(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?ZL:XL}function eD(e){return e.stepped?KA:e.tension||e.cubicInterpolationMode==="monotone"?GA:xl}function tD(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),xC(e,t.options),e.stroke(i)}function nD(e,t,n,r){const{segments:i,options:s}=t,o=By(t);for(const a of i)xC(e,s,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}const rD=typeof Path2D=="function";function iD(e,t,n,r){rD&&!t.options.segment?tD(e,t,n,r):nD(e,t,n,r)}class xc extends Ao{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;zA(this._points,r,t,i,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=tI(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,r=t.length;return r&&n[t[r-1].end]}interpolate(t,n){const r=this.options,i=t[n],s=this.points,o=nC(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],u=eD(r);let c,f;for(c=0,f=o.length;c<f;++c){const{start:p,end:g}=o[c],y=s[p],w=s[g];if(y===w){a.push(y);continue}const S=Math.abs((i-y[n])/(w[n]-y[n])),C=u(y,w,S,r.stepped);C[n]=t[n],a.push(C)}return a.length===1?a[0]:a}pathSegment(t,n,r){return By(this)(t,this,n,r)}path(t,n,r){const i=this.segments,s=By(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)o&=s(t,this,a,{start:n,end:n+r-1});return!!o}draw(t,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),iD(t,this,r,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function k_(e,t,n,r){const i=e.options,{[n]:s}=e.getProps([n],r);return Math.abs(t-s)<i.radius+i.hitRadius}class wx extends Ao{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,r){const i=this.options,{x:s,y:o}=this.getProps(["x","y"],r);return Math.pow(t-s,2)+Math.pow(n-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,n){return k_(this,t,"x",n)}inYRange(t,n){return k_(this,t,"y",n)}getCenterPoint(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const r=n&&t.borderWidth||0;return(n+r)*2}draw(t,n){const r=this.options;this.skip||r.radius<.1||!Eo(this,n,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,Dy(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function wC(e,t){const{x:n,y:r,base:i,width:s,height:o}=e.getProps(["x","y","base","width","height"],t);let a,u,c,f,p;return e.horizontal?(p=o/2,a=Math.min(n,i),u=Math.max(n,i),c=r-p,f=r+p):(p=s/2,a=n-p,u=n+p,c=Math.min(r,i),f=Math.max(r,i)),{left:a,top:c,right:u,bottom:f}}function _a(e,t,n,r){return e?0:vr(t,n,r)}function sD(e,t,n){const r=e.options.borderWidth,i=e.borderSkipped,s=W6(r);return{t:_a(i.top,s.top,0,n),r:_a(i.right,s.right,0,t),b:_a(i.bottom,s.bottom,0,n),l:_a(i.left,s.left,0,t)}}function oD(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,s=Ol(i),o=Math.min(t,n),a=e.borderSkipped,u=r||Vt(i);return{topLeft:_a(!u||a.top||a.left,s.topLeft,0,o),topRight:_a(!u||a.top||a.right,s.topRight,0,o),bottomLeft:_a(!u||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:_a(!u||a.bottom||a.right,s.bottomRight,0,o)}}function aD(e){const t=wC(e),n=t.right-t.left,r=t.bottom-t.top,i=sD(e,n/2,r/2),s=oD(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:s},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function k1(e,t,n,r){const i=t===null,s=n===null,a=e&&!(i&&s)&&wC(e,r);return a&&(i||Co(t,a.left,a.right))&&(s||Co(n,a.top,a.bottom))}function lD(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function uD(e,t){e.rect(t.x,t.y,t.w,t.h)}function E1(e,t,n={}){const r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,s=(e.x+e.w!==n.x+n.w?t:0)-r,o=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+s,h:e.h+o,radius:e.radius}}class Nh extends Ao{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=aD(this),a=lD(o.radius)?sh:uD;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),a(t,E1(o,n,s)),t.clip(),a(t,E1(s,-n,o)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),a(t,E1(s,n)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,n,r){return k1(this,t,n,r)}inXRange(t,n){return k1(this,t,null,n)}inYRange(t,n){return k1(this,null,t,n)}getCenterPoint(t){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}var cD=Object.freeze({__proto__:null,ArcElement:Ym,BarElement:Nh,LineElement:xc,PointElement:wx});const zy=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],E_=zy.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function _C(e){return zy[e%zy.length]}function SC(e){return E_[e%E_.length]}function dD(e,t){return e.borderColor=_C(t),e.backgroundColor=SC(t),++t}function hD(e,t){return e.backgroundColor=e.data.map(()=>_C(t++)),t}function fD(e,t){return e.backgroundColor=e.data.map(()=>SC(t++)),t}function pD(e){let t=0;return(n,r)=>{const i=e.getDatasetMeta(r).controller;i instanceof Km?t=hD(n,t):i instanceof lC?t=fD(n,t):i&&(t=dD(n,t))}}function j_(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function mD(e){return e&&(e.borderColor||e.backgroundColor)}function gD(){return Sn.borderColor!=="rgba(0,0,0,0.1)"||Sn.backgroundColor!=="rgba(0,0,0,0.1)"}var yD={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:r},options:i}=e.config,{elements:s}=i,o=j_(r)||mD(i)||s&&j_(s)||gD();if(!n.forceOverride&&o)return;const a=pD(e);r.forEach(a)}};function vD(e,t,n,r,i){const s=i.samples||r;if(s>=n)return e.slice(t,t+n);const o=[],a=(n-2)/(s-2);let u=0;const c=t+n-1;let f=t,p,g,y,w,S;for(o[u++]=e[f],p=0;p<s-2;p++){let C=0,E=0,P;const A=Math.floor((p+1)*a)+1+t,$=Math.min(Math.floor((p+2)*a)+1,n)+t,W=$-A;for(P=A;P<$;P++)C+=e[P].x,E+=e[P].y;C/=W,E/=W;const D=Math.floor(p*a)+1+t,R=Math.min(Math.floor((p+1)*a)+1,n)+t,{x:z,y:q}=e[f];for(y=w=-1,P=D;P<R;P++)w=.5*Math.abs((z-C)*(e[P].y-q)-(z-e[P].x)*(E-q)),w>y&&(y=w,g=e[P],S=P);o[u++]=g,f=S}return o[u++]=e[c],o}function xD(e,t,n,r){let i=0,s=0,o,a,u,c,f,p,g,y,w,S;const C=[],E=t+n-1,P=e[t].x,$=e[E].x-P;for(o=t;o<t+n;++o){a=e[o],u=(a.x-P)/$*r,c=a.y;const W=u|0;if(W===f)c<w?(w=c,p=o):c>S&&(S=c,g=o),i=(s*i+a.x)/++s;else{const D=o-1;if(!Ut(p)&&!Ut(g)){const R=Math.min(p,g),z=Math.max(p,g);R!==y&&R!==D&&C.push({...e[R],x:i}),z!==y&&z!==D&&C.push({...e[z],x:i})}o>0&&D!==y&&C.push(e[D]),C.push(a),f=W,s=0,w=S=c,p=g=y=o}}return C}function CC(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function T_(e){e.data.datasets.forEach(t=>{CC(t)})}function bD(e,t){const n=t.length;let r=0,i;const{iScale:s}=e,{min:o,max:a,minDefined:u,maxDefined:c}=s.getUserBounds();return u&&(r=vr(ko(t,s.axis,o).lo,0,n-1)),c?i=vr(ko(t,s.axis,a).hi+1,r,n)-r:i=n-r,{start:r,count:i}}var wD={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){T_(e);return}const r=e.width;e.data.datasets.forEach((i,s)=>{const{_data:o,indexAxis:a}=i,u=e.getDatasetMeta(s),c=o||i.data;if(Od([a,e.options.indexAxis])==="y"||!u.controller.supportsDecimation)return;const f=e.scales[u.xAxisID];if(f.type!=="linear"&&f.type!=="time"||e.options.parsing)return;let{start:p,count:g}=bD(u,c);const y=n.threshold||4*r;if(g<=y){CC(i);return}Ut(o)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(S){this._data=S}}));let w;switch(n.algorithm){case"lttb":w=vD(c,p,g,r,n);break;case"min-max":w=xD(c,p,g,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}i._decimated=w})},destroy(e){T_(e)}};function _D(e,t,n){const r=e.segments,i=e.points,s=t.points,o=[];for(const a of r){let{start:u,end:c}=a;c=Jm(u,c,i);const f=$y(n,i[u],i[c],a.loop);if(!t.segments){o.push({source:a,target:f,start:i[u],end:i[c]});continue}const p=nC(t,f);for(const g of p){const y=$y(n,s[g.start],s[g.end],g.loop),w=tC(a,i,y);for(const S of w)o.push({source:S,target:g,start:{[n]:N_(f,y,"start",Math.max)},end:{[n]:N_(f,y,"end",Math.min)}})}}return o}function $y(e,t,n,r){if(r)return;let i=t[e],s=n[e];return e==="angle"&&(i=Lr(i),s=Lr(s)),{property:e,start:i,end:s}}function SD(e,t){const{x:n=null,y:r=null}=e||{},i=t.points,s=[];return t.segments.forEach(({start:o,end:a})=>{a=Jm(o,a,i);const u=i[o],c=i[a];r!==null?(s.push({x:u.x,y:r}),s.push({x:c.x,y:r})):n!==null&&(s.push({x:n,y:u.y}),s.push({x:n,y:c.y}))}),s}function Jm(e,t,n){for(;t>e;t--){const r=n[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function N_(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function kC(e,t){let n=[],r=!1;return _n(e)?(r=!0,n=e):n=SD(e,t),n.length?new xc({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function P_(e){return e&&e.fill!==!1}function CD(e,t,n){let i=e[t].fill;const s=[t];let o;if(!n)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!Mn(i))return i;if(o=e[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function kD(e,t,n){const r=ND(e);if(Vt(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return Mn(i)&&Math.floor(i)===i?ED(r[0],t,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function ED(e,t,n,r){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=r?!1:n}function jD(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:Vt(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function TD(e,t,n){let r;return e==="start"?r=n:e==="end"?r=t.options.reverse?t.min:t.max:Vt(e)?r=e.value:r=t.getBaseValue(),r}function ND(e){const t=e.options,n=t.fill;let r=St(n&&n.target,n);return r===void 0&&(r=!!t.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function PD(e){const{scale:t,index:n,line:r}=e,i=[],s=r.segments,o=r.points,a=OD(t,n);a.push(kC({x:null,y:t.bottom},r));for(let u=0;u<s.length;u++){const c=s[u];for(let f=c.start;f<=c.end;f++)RD(i,o[f],a)}return new xc({points:i,options:{}})}function OD(e,t){const n=[],r=e.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===t)break;s.hidden||n.unshift(s.dataset)}return n}function RD(e,t,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:o,last:a,point:u}=AD(s,t,"x");if(!(!u||o&&a)){if(o)r.unshift(u);else if(e.push(u),!a)break}}e.push(...r)}function AD(e,t,n){const r=e.interpolate(t,n);if(!r)return{};const i=r[n],s=e.segments,o=e.points;let a=!1,u=!1;for(let c=0;c<s.length;c++){const f=s[c],p=o[f.start][n],g=o[f.end][n];if(Co(i,p,g)){a=i===p,u=i===g;break}}return{first:a,last:u,point:r}}class EC{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,r){const{x:i,y:s,radius:o}=this;return n=n||{start:0,end:mn},t.arc(i,s,o,n.end,n.start,!0),!r.bounds}interpolate(t){const{x:n,y:r,radius:i}=this,s=t.angle;return{x:n+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function ID(e){const{chart:t,fill:n,line:r}=e;if(Mn(n))return LD(t,n);if(n==="stack")return PD(e);if(n==="shape")return!0;const i=DD(e);return i instanceof EC?i:kC(i,r)}function LD(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function DD(e){return(e.scale||{}).getPointPositionForValue?FD(e):MD(e)}function MD(e){const{scale:t={},fill:n}=e,r=jD(n,t);if(Mn(r)){const i=t.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function FD(e){const{scale:t,fill:n}=e,r=t.options,i=t.getLabels().length,s=r.reverse?t.max:t.min,o=TD(n,t,s),a=[];if(r.grid.circular){const u=t.getPointPositionForValue(0,s);return new EC({x:u.x,y:u.y,radius:t.getDistanceFromCenterForValue(o)})}for(let u=0;u<i;++u)a.push(t.getPointPositionForValue(u,o));return a}function j1(e,t,n){const r=ID(t),{chart:i,index:s,line:o,scale:a,axis:u}=t,c=o.options,f=c.fill,p=c.backgroundColor,{above:g=p,below:y=p}=f||{},w=i.getDatasetMeta(s),S=rC(i,w);r&&o.points.length&&(Wm(e,n),BD(e,{line:o,target:r,above:g,below:y,area:n,scale:a,axis:u,clip:S}),qm(e))}function BD(e,t){const{line:n,target:r,above:i,below:s,area:o,scale:a,clip:u}=t,c=n._loop?"angle":t.axis;e.save();let f=s;s!==i&&(c==="x"?(O_(e,r,o.top),T1(e,{line:n,target:r,color:i,scale:a,property:c,clip:u}),e.restore(),e.save(),O_(e,r,o.bottom)):c==="y"&&(R_(e,r,o.left),T1(e,{line:n,target:r,color:s,scale:a,property:c,clip:u}),e.restore(),e.save(),R_(e,r,o.right),f=i)),T1(e,{line:n,target:r,color:f,scale:a,property:c,clip:u}),e.restore()}function O_(e,t,n){const{segments:r,points:i}=t;let s=!0,o=!1;e.beginPath();for(const a of r){const{start:u,end:c}=a,f=i[u],p=i[Jm(u,c,i)];s?(e.moveTo(f.x,f.y),s=!1):(e.lineTo(f.x,n),e.lineTo(f.x,f.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(p.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function R_(e,t,n){const{segments:r,points:i}=t;let s=!0,o=!1;e.beginPath();for(const a of r){const{start:u,end:c}=a,f=i[u],p=i[Jm(u,c,i)];s?(e.moveTo(f.x,f.y),s=!1):(e.lineTo(n,f.y),e.lineTo(f.x,f.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(n,p.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function T1(e,t){const{line:n,target:r,property:i,color:s,scale:o,clip:a}=t,u=_D(n,r,i);for(const{source:c,target:f,start:p,end:g}of u){const{style:{backgroundColor:y=s}={}}=c,w=r!==!0;e.save(),e.fillStyle=y,zD(e,o,a,w&&$y(i,p,g)),e.beginPath();const S=!!n.pathSegment(e,c);let C;if(w){S?e.closePath():A_(e,r,g,i);const E=!!r.pathSegment(e,f,{move:S,reverse:!0});C=S&&E,C||A_(e,r,p,i)}e.closePath(),e.fill(C?"evenodd":"nonzero"),e.restore()}}function zD(e,t,n,r){const i=t.chart.chartArea,{property:s,start:o,end:a}=r||{};if(s==="x"||s==="y"){let u,c,f,p;s==="x"?(u=o,c=i.top,f=a,p=i.bottom):(u=i.left,c=o,f=i.right,p=a),e.beginPath(),n&&(u=Math.max(u,n.left),f=Math.min(f,n.right),c=Math.max(c,n.top),p=Math.min(p,n.bottom)),e.rect(u,c,f-u,p-c),e.clip()}}function A_(e,t,n,r){const i=t.interpolate(n,r);i&&e.lineTo(i.x,i.y)}var jC={id:"filler",afterDatasetsUpdate(e,t,n){const r=(e.data.datasets||[]).length,i=[];let s,o,a,u;for(o=0;o<r;++o)s=e.getDatasetMeta(o),a=s.dataset,u=null,a&&a.options&&a instanceof xc&&(u={visible:e.isDatasetVisible(o),index:o,fill:kD(a,o,r),chart:e,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=u,i.push(u);for(o=0;o<r;++o)u=i[o],!(!u||u.fill===!1)&&(u.fill=CD(i,o,n.propagate))},beforeDraw(e,t,n){const r=n.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),s=e.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),r&&a.fill&&j1(e.ctx,a,s))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=e.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;P_(s)&&j1(e.ctx,s,e.chartArea)}},beforeDatasetDraw(e,t,n){const r=t.meta.$filler;!P_(r)||n.drawTime!=="beforeDatasetDraw"||j1(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const I_=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}},$D=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class L_ extends Ao{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,r){this.maxWidth=t,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=dn(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(r=>t.filter(r,this.chart.data))),t.sort&&(n=n.sort((r,i)=>t.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,i=ar(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:u}=I_(r,s);let c,f;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,f=this._fitRows(o,s,a,u)+10):(f=this.maxHeight,c=this._fitCols(o,i,a,u)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(f,t.maxHeight||this.maxHeight)}_fitRows(t,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,u=this.legendHitBoxes=[],c=this.lineWidths=[0],f=i+a;let p=t;s.textAlign="left",s.textBaseline="middle";let g=-1,y=-f;return this.legendItems.forEach((w,S)=>{const C=r+n/2+s.measureText(w.text).width;(S===0||c[c.length-1]+C+2*a>o)&&(p+=f,c[c.length-(S>0?0:1)]=0,y+=f,g++),u[S]={left:0,top:y,row:g,width:C,height:i},c[c.length-1]+=C+a}),p}_fitCols(t,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,u=this.legendHitBoxes=[],c=this.columnSizes=[],f=o-t;let p=a,g=0,y=0,w=0,S=0;return this.legendItems.forEach((C,E)=>{const{itemWidth:P,itemHeight:A}=UD(r,n,s,C,i);E>0&&y+A+2*a>f&&(p+=g+a,c.push({width:g,height:y}),w+=g+a,S++,g=y=0),u[E]={left:w,top:y,col:S,width:P,height:A},g=Math.max(g,P),y+=A+a}),p+=g,c.push({width:g,height:y}),p}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=sc(s,this.left,this.width);if(this.isHorizontal()){let a=0,u=Ar(r,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,u=Ar(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+t+i,c.left=o.leftForLtr(o.x(u),c.width),u+=c.width+i}else{let a=0,u=Ar(r,this.top+t+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,u=Ar(r,this.top+t+i,this.bottom-this.columnSizes[a].height)),c.top=u,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),u+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Wm(t,this),this._draw(),qm(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=t,a=Sn.color,u=sc(t.rtl,this.left,this.width),c=ar(o.font),{padding:f}=o,p=c.size,g=p/2;let y;this.drawTitle(),i.textAlign=u.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:w,boxHeight:S,itemHeight:C}=I_(o,p),E=function(D,R,z){if(isNaN(w)||w<=0||isNaN(S)||S<0)return;i.save();const q=St(z.lineWidth,1);if(i.fillStyle=St(z.fillStyle,a),i.lineCap=St(z.lineCap,"butt"),i.lineDashOffset=St(z.lineDashOffset,0),i.lineJoin=St(z.lineJoin,"miter"),i.lineWidth=q,i.strokeStyle=St(z.strokeStyle,a),i.setLineDash(St(z.lineDash,[])),o.usePointStyle){const B={radius:S*Math.SQRT2/2,pointStyle:z.pointStyle,rotation:z.rotation,borderWidth:q},ae=u.xPlus(D,w/2),oe=R+g;V6(i,B,ae,oe,o.pointStyleWidth&&w)}else{const B=R+Math.max((p-S)/2,0),ae=u.leftForLtr(D,w),oe=Ol(z.borderRadius);i.beginPath(),Object.values(oe).some(xe=>xe!==0)?sh(i,{x:ae,y:B,w,h:S,radius:oe}):i.rect(ae,B,w,S),i.fill(),q!==0&&i.stroke()}i.restore()},P=function(D,R,z){Ml(i,z.text,D,R+C/2,c,{strikethrough:z.hidden,textAlign:u.textAlign(z.textAlign)})},A=this.isHorizontal(),$=this._computeTitleHeight();A?y={x:Ar(s,this.left+f,this.right-r[0]),y:this.top+f+$,line:0}:y={x:this.left+f,y:Ar(s,this.top+$+f,this.bottom-n[0].height),line:0},X6(this.ctx,t.textDirection);const W=C+f;this.legendItems.forEach((D,R)=>{i.strokeStyle=D.fontColor,i.fillStyle=D.fontColor;const z=i.measureText(D.text).width,q=u.textAlign(D.textAlign||(D.textAlign=o.textAlign)),B=w+g+z;let ae=y.x,oe=y.y;u.setWidth(this.width),A?R>0&&ae+B+f>this.right&&(oe=y.y+=W,y.line++,ae=y.x=Ar(s,this.left+f,this.right-r[y.line])):R>0&&oe+W>this.bottom&&(ae=y.x=ae+n[y.line].width+f,y.line++,oe=y.y=Ar(s,this.top+$+f,this.bottom-n[y.line].height));const xe=u.x(ae);if(E(xe,oe,D),ae=iA(q,ae+w+g,A?ae+B:this.right,t.rtl),P(u.x(ae),oe,D),A)y.x+=B+f;else if(typeof D.text!="string"){const Y=c.lineHeight;y.y+=TC(D,Y)+f}else y.y+=W}),Z6(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,r=ar(n.font),i=Fr(n.padding);if(!n.display)return;const s=sc(t.rtl,this.left,this.width),o=this.ctx,a=n.position,u=r.size/2,c=i.top+u;let f,p=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),f=this.top+c,p=Ar(t.align,p,this.right-g);else{const w=this.columnSizes.reduce((S,C)=>Math.max(S,C.height),0);f=c+Ar(t.align,this.top,this.bottom-w-t.labels.padding-this._computeTitleHeight())}const y=Ar(a,p,p+g);o.textAlign=s.textAlign(hx(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,Ml(o,n.text,y,f,r)}_computeTitleHeight(){const t=this.options.title,n=ar(t.font),r=Fr(t.padding);return t.display?n.lineHeight+r.height:0}_getLegendItemAt(t,n){let r,i,s;if(Co(t,this.left,this.right)&&Co(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],Co(t,i.left,i.left+i.width)&&Co(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(t){const n=this.options;if(!WD(t.type,n))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,s=$D(i,r);i&&!s&&dn(n.onLeave,[t,i,this],this),this._hoveredItem=r,r&&!s&&dn(n.onHover,[t,r,this],this)}else r&&dn(n.onClick,[t,r,this],this)}}function UD(e,t,n,r,i){const s=HD(r,e,t,n),o=VD(i,r,t.lineHeight);return{itemWidth:s,itemHeight:o}}function HD(e,t,n,r){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),t+n.size/2+r.measureText(i).width}function VD(e,t,n){let r=e;return typeof t.text!="string"&&(r=TC(t,n)),r}function TC(e,t){const n=e.text?e.text.length:0;return t*n}function WD(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var Vl={id:"legend",_element:L_,start(e,t,n){const r=e.legend=new L_({ctx:e.ctx,options:n,chart:e});Dr.configure(e,r,n),Dr.addBox(e,r)},stop(e){Dr.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;Dr.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(u=>{const c=u.controller.getStyle(n?0:void 0),f=Fr(c.borderWidth);return{text:t[u.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!u.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:u.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class _x extends Ao{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const i=_n(r.text)?r.text.length:1;this._padding=Fr(r.padding);const s=i*ar(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let u=0,c,f,p;return this.isHorizontal()?(f=Ar(a,r,s),p=n+t,c=s-r):(o.position==="left"?(f=r+t,p=Ar(a,i,n),u=Jt*-.5):(f=s-t,p=Ar(a,n,i),u=Jt*.5),c=i-n),{titleX:f,titleY:p,maxWidth:c,rotation:u}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const r=ar(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:u,rotation:c}=this._drawArgs(s);Ml(t,n.text,0,0,r,{color:n.color,maxWidth:u,rotation:c,textAlign:hx(n.align),textBaseline:"middle",translation:[o,a]})}}function qD(e,t){const n=new _x({ctx:e.ctx,options:t,chart:e});Dr.configure(e,n,t),Dr.addBox(e,n),e.titleBlock=n}var NC={id:"title",_element:_x,start(e,t,n){qD(e,n)},stop(e){const t=e.titleBlock;Dr.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;Dr.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const pp=new WeakMap;var QD={id:"subtitle",start(e,t,n){const r=new _x({ctx:e.ctx,options:n,chart:e});Dr.configure(e,r,n),Dr.addBox(e,r),pp.set(e,r)},stop(e){Dr.removeBox(e,pp.get(e)),pp.delete(e)},beforeUpdate(e,t,n){const r=pp.get(e);Dr.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ad={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,s=0;for(t=0,n=e.length;t<n;++t){const a=e[t].element;if(a&&a.hasValue()){const u=a.tooltipPosition();r.add(u.x),i+=u.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,u)=>a+u)/r.size,y:i/s}},nearest(e,t){if(!e.length)return!1;let n=t.x,r=t.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=e.length;s<o;++s){const u=e[s].element;if(u&&u.hasValue()){const c=u.getCenterPoint(),f=Iy(t,c);f<i&&(i=f,a=u)}}if(a){const u=a.tooltipPosition();n=u.x,r=u.y}return{x:n,y:r}}};function $s(e,t){return t&&(_n(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function bo(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function KD(e,t){const{element:n,datasetIndex:r,index:i}=t,s=e.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:e,label:o,parsed:s.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function D_(e,t){const n=e.chart.ctx,{body:r,footer:i,title:s}=e,{boxWidth:o,boxHeight:a}=t,u=ar(t.bodyFont),c=ar(t.titleFont),f=ar(t.footerFont),p=s.length,g=i.length,y=r.length,w=Fr(t.padding);let S=w.height,C=0,E=r.reduce(($,W)=>$+W.before.length+W.lines.length+W.after.length,0);if(E+=e.beforeBody.length+e.afterBody.length,p&&(S+=p*c.lineHeight+(p-1)*t.titleSpacing+t.titleMarginBottom),E){const $=t.displayColors?Math.max(a,u.lineHeight):u.lineHeight;S+=y*$+(E-y)*u.lineHeight+(E-1)*t.bodySpacing}g&&(S+=t.footerMarginTop+g*f.lineHeight+(g-1)*t.footerSpacing);let P=0;const A=function($){C=Math.max(C,n.measureText($).width+P)};return n.save(),n.font=c.string,tn(e.title,A),n.font=u.string,tn(e.beforeBody.concat(e.afterBody),A),P=t.displayColors?o+2+t.boxPadding:0,tn(r,$=>{tn($.before,A),tn($.lines,A),tn($.after,A)}),P=0,n.font=f.string,tn(e.footer,A),n.restore(),C+=w.width,{width:C,height:S}}function GD(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}function YD(e,t,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(e==="left"&&i+s+o>t.width||e==="right"&&i-s-o<0)return!0}function JD(e,t,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:u}}=e;let c="center";return r==="center"?c=i<=(a+u)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),YD(c,e,t,n)&&(c="center"),c}function M_(e,t,n){const r=n.yAlign||t.yAlign||GD(e,n);return{xAlign:n.xAlign||t.xAlign||JD(e,t,n,r),yAlign:r}}function XD(e,t){let{x:n,width:r}=e;return t==="right"?n-=r:t==="center"&&(n-=r/2),n}function ZD(e,t,n){let{y:r,height:i}=e;return t==="top"?r+=n:t==="bottom"?r-=i+n:r-=i/2,r}function F_(e,t,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=e,{xAlign:a,yAlign:u}=n,c=i+s,{topLeft:f,topRight:p,bottomLeft:g,bottomRight:y}=Ol(o);let w=XD(t,a);const S=ZD(t,u,c);return u==="center"?a==="left"?w+=c:a==="right"&&(w-=c):a==="left"?w-=Math.max(f,g)+i:a==="right"&&(w+=Math.max(p,y)+i),{x:vr(w,0,r.width-t.width),y:vr(S,0,r.height-t.height)}}function mp(e,t,n){const r=Fr(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function B_(e){return $s([],bo(e))}function eM(e,t,n){return Da(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function z_(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const PC={beforeTitle:yo,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:yo,beforeBody:yo,beforeLabel:yo,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Ut(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:yo,afterBody:yo,beforeFooter:yo,footer:yo,afterFooter:yo};function si(e,t,n,r){const i=e[t].call(n,r);return typeof i>"u"?PC[t].call(n,r):i}class $_ extends Ao{static positioners=Ad;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new iC(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=eM(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,i=si(r,"beforeTitle",this,t),s=si(r,"title",this,t),o=si(r,"afterTitle",this,t);let a=[];return a=$s(a,bo(i)),a=$s(a,bo(s)),a=$s(a,bo(o)),a}getBeforeBody(t,n){return B_(si(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:r}=n,i=[];return tn(t,s=>{const o={before:[],lines:[],after:[]},a=z_(r,s);$s(o.before,bo(si(a,"beforeLabel",this,s))),$s(o.lines,si(a,"label",this,s)),$s(o.after,bo(si(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(t,n){return B_(si(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:r}=n,i=si(r,"beforeFooter",this,t),s=si(r,"footer",this,t),o=si(r,"afterFooter",this,t);let a=[];return a=$s(a,bo(i)),a=$s(a,bo(s)),a=$s(a,bo(o)),a}_createItems(t){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],u,c;for(u=0,c=n.length;u<c;++u)a.push(KD(this.chart,n[u]));return t.filter&&(a=a.filter((f,p,g)=>t.filter(f,p,g,r))),t.itemSort&&(a=a.sort((f,p)=>t.itemSort(f,p,r))),tn(a,f=>{const p=z_(t.callbacks,f);i.push(si(p,"labelColor",this,f)),s.push(si(p,"labelPointStyle",this,f)),o.push(si(p,"labelTextColor",this,f))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=Ad[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const u=this._size=D_(this,r),c=Object.assign({},a,u),f=M_(this.chart,r,c),p=F_(r,c,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,s={opacity:1,x:p.x,y:p.y,width:u.width,height:u.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,i){const s=this.getCaretPosition(t,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(t,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:u,topRight:c,bottomLeft:f,bottomRight:p}=Ol(a),{x:g,y}=t,{width:w,height:S}=n;let C,E,P,A,$,W;return s==="center"?($=y+S/2,i==="left"?(C=g,E=C-o,A=$+o,W=$-o):(C=g+w,E=C+o,A=$-o,W=$+o),P=C):(i==="left"?E=g+Math.max(u,f)+o:i==="right"?E=g+w-Math.max(c,p)-o:E=this.caretX,s==="top"?(A=y,$=A-o,C=E-o,P=E+o):(A=y+S,$=A+o,C=E+o,P=E-o),W=A),{x1:C,x2:E,x3:P,y1:A,y2:$,y3:W}}drawTitle(t,n,r){const i=this.title,s=i.length;let o,a,u;if(s){const c=sc(r.rtl,this.x,this.width);for(t.x=mp(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=ar(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,u=0;u<s;++u)n.fillText(i[u],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,u+1===s&&(t.y+=r.titleMarginBottom-a)}}_drawColorBox(t,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:u,boxWidth:c}=s,f=ar(s.bodyFont),p=mp(this,"left",s),g=i.x(p),y=u<f.lineHeight?(f.lineHeight-u)/2:0,w=n.y+y;if(s.usePointStyle){const S={radius:Math.min(c,u)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},C=i.leftForLtr(g,c)+c/2,E=w+u/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,Dy(t,S,C,E),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Dy(t,S,C,E)}else{t.lineWidth=Vt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const S=i.leftForLtr(g,c),C=i.leftForLtr(i.xPlus(g,1),c-2),E=Ol(o.borderRadius);Object.values(E).some(P=>P!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,sh(t,{x:S,y:w,w:c,h:u,radius:E}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),sh(t,{x:C,y:w+1,w:c-2,h:u-2,radius:E}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(S,w,c,u),t.strokeRect(S,w,c,u),t.fillStyle=o.backgroundColor,t.fillRect(C,w+1,c-2,u-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:u,boxWidth:c,boxPadding:f}=r,p=ar(r.bodyFont);let g=p.lineHeight,y=0;const w=sc(r.rtl,this.x,this.width),S=function(z){n.fillText(z,w.x(t.x+y),t.y+g/2),t.y+=g+s},C=w.textAlign(o);let E,P,A,$,W,D,R;for(n.textAlign=o,n.textBaseline="middle",n.font=p.string,t.x=mp(this,C,r),n.fillStyle=r.bodyColor,tn(this.beforeBody,S),y=a&&C!=="right"?o==="center"?c/2+f:c+2+f:0,$=0,D=i.length;$<D;++$){for(E=i[$],P=this.labelTextColors[$],n.fillStyle=P,tn(E.before,S),A=E.lines,a&&A.length&&(this._drawColorBox(n,t,$,w,r),g=Math.max(p.lineHeight,u)),W=0,R=A.length;W<R;++W)S(A[W]),g=p.lineHeight;tn(E.after,S)}y=0,g=p.lineHeight,tn(this.afterBody,S),t.y-=s}drawFooter(t,n,r){const i=this.footer,s=i.length;let o,a;if(s){const u=sc(r.rtl,this.x,this.width);for(t.x=mp(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=u.textAlign(r.footerAlign),n.textBaseline="middle",o=ar(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],u.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+r.footerSpacing}}drawBackground(t,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:u}=t,{width:c,height:f}=r,{topLeft:p,topRight:g,bottomLeft:y,bottomRight:w}=Ol(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+p,u),o==="top"&&this.drawCaret(t,n,r,i),n.lineTo(a+c-g,u),n.quadraticCurveTo(a+c,u,a+c,u+g),o==="center"&&s==="right"&&this.drawCaret(t,n,r,i),n.lineTo(a+c,u+f-w),n.quadraticCurveTo(a+c,u+f,a+c-w,u+f),o==="bottom"&&this.drawCaret(t,n,r,i),n.lineTo(a+y,u+f),n.quadraticCurveTo(a,u+f,a,u+f-y),o==="center"&&s==="left"&&this.drawCaret(t,n,r,i),n.lineTo(a,u+p),n.quadraticCurveTo(a,u,a+p,u),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=Ad[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=D_(this,t),u=Object.assign({},o,this._size),c=M_(n,t,u),f=F_(t,u,c,n);(i._to!==f.x||s._to!==f.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Fr(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=r,this.drawBackground(s,t,i,n),X6(t,n.textDirection),s.y+=o.top,this.drawTitle(s,t,n),this.drawBody(s,t,n),this.drawFooter(s,t,n),Z6(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,i=t.map(({datasetIndex:a,index:u})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[u],index:u}}),s=!cm(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(t,s,n,r),a=this._positionChanged(o,t),u=n||!cm(o,s)||a;return u&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),u}_getActiveElements(t,n,r,i){const s=this.options;if(t.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:r,caretY:i,options:s}=this,o=Ad[s.position].call(this,t,n);return o!==!1&&(r!==o.x||i!==o.y)}}var Wl={id:"tooltip",_element:$_,positioners:Ad,afterInit(e,t,n){n&&(e.tooltip=new $_({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:PC},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},tM=Object.freeze({__proto__:null,Colors:yD,Decimation:wD,Filler:jC,Legend:Vl,SubTitle:QD,Title:NC,Tooltip:Wl});const nM=(e,t,n,r)=>(typeof t=="string"?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function rM(e,t,n,r){const i=e.indexOf(t);if(i===-1)return nM(e,t,n,r);const s=e.lastIndexOf(t);return i!==s?n:i}const iM=(e,t)=>e===null?null:vr(Math.round(e),0,t);function U_(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Ph extends Hl{static id="category";static defaults={ticks:{callback:U_}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Ut(t))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===t?n:rM(r,t,St(n,t),this._addedLabels),iM(n,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const t=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=t===0&&n===s.length-1?s:s.slice(t,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=t;o<=n;o++)i.push({value:o});return i}getLabelForValue(t){return U_.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function sM(e,t){const n=[],{bounds:i,step:s,min:o,max:a,precision:u,count:c,maxTicks:f,maxDigits:p,includeBounds:g}=e,y=s||1,w=f-1,{min:S,max:C}=t,E=!Ut(o),P=!Ut(a),A=!Ut(c),$=(C-S)/(p+1);let W=D3((C-S)/w/y)*y,D,R,z,q;if(W<1e-14&&!E&&!P)return[{value:S},{value:C}];q=Math.ceil(C/W)-Math.floor(S/W),q>w&&(W=D3(q*W/w/y)*y),Ut(u)||(D=Math.pow(10,u),W=Math.ceil(W*D)/D),i==="ticks"?(R=Math.floor(S/W)*W,z=Math.ceil(C/W)*W):(R=S,z=C),E&&P&&s&&JR((a-o)/s,W/1e3)?(q=Math.round(Math.min((a-o)/W,f)),W=(a-o)/q,R=o,z=a):A?(R=E?o:R,z=P?a:z,q=c-1,W=(z-R)/q):(q=(z-R)/W,zd(q,Math.round(q),W/1e3)?q=Math.round(q):q=Math.ceil(q));const B=Math.max(M3(W),M3(R));D=Math.pow(10,Ut(u)?B:u),R=Math.round(R*D)/D,z=Math.round(z*D)/D;let ae=0;for(E&&(g&&R!==o?(n.push({value:o}),R<o&&ae++,zd(Math.round((R+ae*W)*D)/D,o,H_(o,$,e))&&ae++):R<o&&ae++);ae<q;++ae){const oe=Math.round((R+ae*W)*D)/D;if(P&&oe>a)break;n.push({value:oe})}return P&&g&&z!==a?n.length&&zd(n[n.length-1].value,a,H_(a,$,e))?n[n.length-1].value=a:n.push({value:a}):(!P||z===a)&&n.push({value:z}),n}function H_(e,t,{horizontal:n,minRotation:r}){const i=bs(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+e).length;return Math.min(t/s,o)}class ym extends Hl{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Ut(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=u=>i=n?i:u,a=u=>s=r?s:u;if(t){const u=qs(i),c=qs(s);u<0&&c<0?a(0):u>0&&c>0&&o(0)}if(i===s){let u=s===0?1:Math.abs(s*.05);a(s+u),t||o(i-u)}this.min=i,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=t,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=sM(i,s);return t.bounds==="ticks"&&L6(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const i=(r-n)/Math.max(t.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(t){return Th(t,this.chart.options.locale,this.options.ticks.format)}}class Oh extends ym{static id="linear";static defaults={ticks:{callback:Vm.formatters.numeric}};determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Mn(t)?t:0,this.max=Mn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,r=bs(this.options.ticks.minRotation),i=(t?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const ah=e=>Math.floor(ba(e)),hl=(e,t)=>Math.pow(10,ah(e)+t);function V_(e){return e/Math.pow(10,ah(e))===1}function W_(e,t,n){const r=Math.pow(10,n),i=Math.floor(e/r);return Math.ceil(t/r)-i}function oM(e,t){const n=t-e;let r=ah(n);for(;W_(e,t,r)>10;)r++;for(;W_(e,t,r)<10;)r--;return Math.min(r,ah(e))}function aM(e,{min:t,max:n}){t=Si(e.min,t);const r=[],i=ah(t);let s=oM(t,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),u=i>s?Math.pow(10,i):0,c=Math.round((t-u)*o)/o,f=Math.floor((t-u)/a/10)*a*10;let p=Math.floor((c-f)/Math.pow(10,s)),g=Si(e.min,Math.round((u+f+p*Math.pow(10,s))*o)/o);for(;g<n;)r.push({value:g,major:V_(g),significand:p}),p>=10?p=p<15?15:20:p++,p>=20&&(s++,p=2,o=s>=0?1:o),g=Math.round((u+f+p*Math.pow(10,s))*o)/o;const y=Si(e.max,g);return r.push({value:y,major:V_(y),significand:p}),r}class lM extends Hl{static id="logarithmic";static defaults={ticks:{callback:Vm.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const r=ym.prototype.parse.apply(this,[t,n]);if(r===0){this._zero=!0;return}return Mn(r)&&r>0?r:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Mn(t)?Math.max(0,t):null,this.max=Mn(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Mn(this._userMin)&&(this.min=t===hl(this.min,0)?hl(this.min,-1):hl(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let r=this.min,i=this.max;const s=a=>r=t?r:a,o=a=>i=n?i:a;r===i&&(r<=0?(s(1),o(10)):(s(hl(r,-1)),o(hl(i,1)))),r<=0&&s(hl(i,-1)),i<=0&&o(hl(r,1)),this.min=r,this.max=i}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},r=aM(n,this);return t.bounds==="ticks"&&L6(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(t){return t===void 0?"0":Th(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=ba(t),this._valueRange=ba(this.max)-ba(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(ba(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}function Uy(e){const t=e.ticks;if(t.display&&e.display){const n=Fr(t.backdropPadding);return St(t.font&&t.font.size,Sn.font.size)+n.height}return 0}function uM(e,t,n){return n=_n(n)?n:[n],{w:pA(e,t.string,n),h:n.length*t.lineHeight}}function q_(e,t,n,r,i){return e===r||e===i?{start:t-n/2,end:t+n/2}:e<r||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function cM(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),r=[],i=[],s=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?Jt/s:0;for(let u=0;u<s;u++){const c=o.setContext(e.getPointLabelContext(u));i[u]=c.padding;const f=e.getPointPosition(u,e.drawingArea+i[u],a),p=ar(c.font),g=uM(e.ctx,p,e._pointLabels[u]);r[u]=g;const y=Lr(e.getIndexAngle(u)+a),w=Math.round(cx(y)),S=q_(w,f.x,g.w,0,180),C=q_(w,f.y,g.h,90,270);dM(n,t,y,S,C)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=pM(e,r,i)}function dM(e,t,n,r,i){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,u=0;r.start<t.l?(a=(t.l-r.start)/s,e.l=Math.min(e.l,t.l-a)):r.end>t.r&&(a=(r.end-t.r)/s,e.r=Math.max(e.r,t.r+a)),i.start<t.t?(u=(t.t-i.start)/o,e.t=Math.min(e.t,t.t-u)):i.end>t.b&&(u=(i.end-t.b)/o,e.b=Math.max(e.b,t.b+u))}function hM(e,t,n){const r=e.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=n,u=e.getPointPosition(t,r+i+o,s),c=Math.round(cx(Lr(u.angle+Hn))),f=yM(u.y,a.h,c),p=mM(c),g=gM(u.x,a.w,p);return{visible:!0,x:u.x,y:f,textAlign:p,left:g,top:f,right:g+a.w,bottom:f+a.h}}function fM(e,t){if(!t)return!0;const{left:n,top:r,right:i,bottom:s}=e;return!(Eo({x:n,y:r},t)||Eo({x:n,y:s},t)||Eo({x:i,y:r},t)||Eo({x:i,y:s},t))}function pM(e,t,n){const r=[],i=e._pointLabels.length,s=e.options,{centerPointLabels:o,display:a}=s.pointLabels,u={extra:Uy(s)/2,additionalAngle:o?Jt/i:0};let c;for(let f=0;f<i;f++){u.padding=n[f],u.size=t[f];const p=hM(e,f,u);r.push(p),a==="auto"&&(p.visible=fM(p,c),p.visible&&(c=p))}return r}function mM(e){return e===0||e===180?"center":e<180?"left":"right"}function gM(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function yM(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function vM(e,t,n){const{left:r,top:i,right:s,bottom:o}=n,{backdropColor:a}=t;if(!Ut(a)){const u=Ol(t.borderRadius),c=Fr(t.backdropPadding);e.fillStyle=a;const f=r-c.left,p=i-c.top,g=s-r+c.width,y=o-i+c.height;Object.values(u).some(w=>w!==0)?(e.beginPath(),sh(e,{x:f,y:p,w:g,h:y,radius:u}),e.fill()):e.fillRect(f,p,g,y)}}function xM(e,t){const{ctx:n,options:{pointLabels:r}}=e;for(let i=t-1;i>=0;i--){const s=e._pointLabelItems[i];if(!s.visible)continue;const o=r.setContext(e.getPointLabelContext(i));vM(n,o,s);const a=ar(o.font),{x:u,y:c,textAlign:f}=s;Ml(n,e._pointLabels[i],u,c+a.lineHeight/2,a,{color:o.color,textAlign:f,textBaseline:"middle"})}}function OC(e,t,n,r){const{ctx:i}=e;if(n)i.arc(e.xCenter,e.yCenter,t,0,mn);else{let s=e.getPointPosition(0,t);i.moveTo(s.x,s.y);for(let o=1;o<r;o++)s=e.getPointPosition(o,t),i.lineTo(s.x,s.y)}}function bM(e,t,n,r,i){const s=e.ctx,o=t.circular,{color:a,lineWidth:u}=t;!o&&!r||!a||!u||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=u,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),OC(e,n,o,r),s.closePath(),s.stroke(),s.restore())}function wM(e,t,n){return Da(e,{label:n,index:t,type:"pointLabel"})}class RC extends ym{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Vm.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Fr(Uy(this.options)/2),n=this.width=this.maxWidth-t.width,r=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+r/2+t.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=Mn(t)&&!isNaN(t)?t:0,this.max=Mn(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Uy(this.options))}generateTickLabels(t){ym.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,r)=>{const i=dn(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const t=this.options;t.display&&t.pointLabels.display?cM(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,r,i){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,r,i))}getIndexAngle(t){const n=mn/(this._pointLabels.length||1),r=this.options.startAngle||0;return Lr(t*n+bs(r))}getDistanceFromCenterForValue(t){if(Ut(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(Ut(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const r=n[t];return wM(this.getContext(),t,r)}}getPointPosition(t,n,r=0){const i=this.getIndexAngle(t)-Hn+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:r,right:i,bottom:s}=this._pointLabelItems[t];return{left:n,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const r=this.ctx;r.save(),r.beginPath(),OC(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=t,r.fill(),r.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:r,grid:i,border:s}=n,o=this._pointLabels.length;let a,u,c;if(n.pointLabels.display&&xM(this,o),i.display&&this.ticks.forEach((f,p)=>{if(p!==0||p===0&&this.min<0){u=this.getDistanceFromCenterForValue(f.value);const g=this.getContext(p),y=i.setContext(g),w=s.setContext(g);bM(this,y,u,o,w)}}),r.display){for(t.save(),a=o-1;a>=0;a--){const f=r.setContext(this.getPointLabelContext(a)),{color:p,lineWidth:g}=f;!g||!p||(t.lineWidth=g,t.strokeStyle=p,t.setLineDash(f.borderDash),t.lineDashOffset=f.borderDashOffset,u=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(a,u),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,u)=>{if(u===0&&this.min>=0&&!n.reverse)return;const c=r.setContext(this.getContext(u)),f=ar(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[u].value),c.showLabelBackdrop){t.font=f.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const p=Fr(c.backdropPadding);t.fillRect(-o/2-p.left,-s-f.size/2-p.top,o+p.width,f.size+p.height)}Ml(t,a.label,0,-s,f,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}const Xm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},li=Object.keys(Xm);function Q_(e,t){return e-t}function K_(e,t){if(Ut(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:s}=e._parseOpts;let o=t;return typeof r=="function"&&(o=r(o)),Mn(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(Ll(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function G_(e,t,n,r){const i=li.length;for(let s=li.indexOf(e);s<i-1;++s){const o=Xm[li[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=r)return li[s]}return li[i-1]}function _M(e,t,n,r,i){for(let s=li.length-1;s>=li.indexOf(n);s--){const o=li[s];if(Xm[o].common&&e._adapter.diff(i,r,o)>=t-1)return o}return li[n?li.indexOf(n):0]}function SM(e){for(let t=li.indexOf(e)+1,n=li.length;t<n;++t)if(Xm[li[t]].common)return li[t]}function Y_(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:r,hi:i}=dx(n,t),s=n[r]>=t?n[r]:n[i];e[s]=!0}}function CM(e,t,n,r){const i=e._adapter,s=+i.startOf(t[0].value,r),o=t[t.length-1].value;let a,u;for(a=s;a<=o;a=+i.add(a,1,r))u=n[a],u>=0&&(t[u].major=!0);return t}function J_(e,t,n){const r=[],i={},s=t.length;let o,a;for(o=0;o<s;++o)a=t[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:CM(e,r,i,n)}class Hy extends Hl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),i=this._adapter=new LI._date(t.adapters.date);i.init(n),Bd(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:K_(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function u(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(u(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&u(this.getMinMax(!1))),i=Mn(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=Mn(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=tA(i,s,o);return this._unit=n.unit||(r.autoSkip?G_(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):_M(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:SM(this._unit),this.initOffsets(i),t.reverse&&a.reverse(),J_(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,r=0,i,s;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?n=1-i:n=(this.getDecimalForValue(t[1])-i)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?r=s:r=(s-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=vr(n,0,o),r=vr(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||G_(s.minUnit,n,r,this._getLabelCapacity(n)),a=St(i.ticks.stepSize,1),u=o==="week"?s.isoWeekday:!1,c=Ll(u)||u===!0,f={};let p=n,g,y;if(c&&(p=+t.startOf(p,"isoWeek",u)),p=+t.startOf(p,c?"day":o),t.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const w=i.ticks.source==="data"&&this.getDataTimestamps();for(g=p,y=0;g<r;g=+t.add(g,a,o),y++)Y_(f,g,w);return(g===r||i.bounds==="ticks"||y===1)&&Y_(f,g,w),Object.keys(f).sort(Q_).map(S=>+S)}getLabelForValue(t){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}format(t,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(t,o)}_tickFormatFunction(t,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return dn(o,[t,n,r],this);const a=s.time.displayFormats,u=this._unit,c=this._majorUnit,f=u&&a[u],p=c&&a[c],g=r[n],y=c&&p&&g&&g.major;return this._adapter.format(t,i||(y?p:f))}generateTickLabels(t){let n,r,i;for(n=0,r=t.length;n<r;++n)i=t[n],i.label=this._tickFormatFunction(i.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,i=bs(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(t,0,J_(this,[t],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)t=t.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)t.push(K_(this,i[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return F6(t.sort(Q_))}}function gp(e,t,n){let r=0,i=e.length-1,s,o,a,u;n?(t>=e[r].pos&&t<=e[i].pos&&({lo:r,hi:i}=ko(e,"pos",t)),{pos:s,time:a}=e[r],{pos:o,time:u}=e[i]):(t>=e[r].time&&t<=e[i].time&&({lo:r,hi:i}=ko(e,"time",t)),{time:s,pos:a}=e[r],{time:o,pos:u}=e[i]);const c=o-s;return c?a+(u-a)*(t-s)/c:a}class kM extends Hy{static id="timeseries";static defaults=Hy.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=gp(n,this.min),this._tableRange=gp(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:r}=this,i=[],s=[];let o,a,u,c,f;for(o=0,a=t.length;o<a;++o)c=t[o],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)f=i[o+1],u=i[o-1],c=i[o],Math.round((f+u)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const t=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?t=this.normalize(n.concat(r)):t=n.length?n:r,t=this._cache.all=t,t}getDecimalForValue(t){return(gp(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return gp(this._table,r*this._tableRange+this._minPos,!0)}}var EM=Object.freeze({__proto__:null,CategoryScale:Ph,LinearScale:Oh,LogarithmicScale:lM,RadialLinearScale:RC,TimeScale:Hy,TimeSeriesScale:kM});const jM=[II,cD,tM,EM];Ks.register(...jM);const AC="label";function X_(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function TM(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function IC(e,t){e.labels=t}function LC(e,t,n=AC){const r=[];e.datasets=t.map(i=>{const s=e.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function NM(e,t=AC){const n={labels:[],datasets:[]};return IC(n,e.labels),LC(n,e.datasets,t),n}function PM(e,t){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:u,plugins:c=[],fallbackContent:f,updateMode:p,...g}=e,y=N.useRef(null),w=N.useRef(null),S=()=>{y.current&&(w.current=new Ks(y.current,{type:o,data:NM(a,s),options:u&&{...u},plugins:c}),X_(t,w.current))},C=()=>{X_(t,null),w.current&&(w.current.destroy(),w.current=null)};return N.useEffect(()=>{!i&&w.current&&u&&TM(w.current,u)},[i,u]),N.useEffect(()=>{!i&&w.current&&IC(w.current.config.data,a.labels)},[i,a.labels]),N.useEffect(()=>{!i&&w.current&&a.datasets&&LC(w.current.config.data,a.datasets,s)},[i,a.datasets]),N.useEffect(()=>{w.current&&(i?(C(),setTimeout(S)):w.current.update(p))},[i,u,a.labels,a.datasets,p]),N.useEffect(()=>{w.current&&(C(),setTimeout(S))},[o]),N.useEffect(()=>(S(),()=>C()),[]),h.jsx("canvas",{ref:y,role:"img",height:n,width:r,...g,children:f})}const DC=N.forwardRef(PM);function Sx(e,t){return Ks.register(t),N.forwardRef((n,r)=>h.jsx(DC,{...n,ref:r,type:e}))}const OM=Sx("bar",aC),RM=Sx("radar",uC),Cx=Sx("doughnut",Km),fc={searchBtnSpeed:{mu:1.457,sigma:.7362},captchaSpeed:{mu:3.6415,sigma:.4057},totalSpeed:{mu:8.6367,sigma:.5422}};function MC(e,t,n){if(e<=0)return 0;const r=(Math.log(e)-Math.log(t))/n,i=1/(1+.2316419*Math.abs(r)),o=.3989423*Math.exp(-r*r/2)*i*(.3193815+i*(-.3565638+i*(1.781478+i*(-1.821256+i*1.330274))));return r>0?1-o:o}function Zm(e,t=7.5,n=.3){const s=e>3e3?e/1e3:e,a=1-MC(s,t,n);return Math.max(Math.min(a*100,100),0)}function AM(e){const n=Math.min(Math.max(e,0),100)/100,i=-MC(n,.4,.1);return Math.round(i*5)}function IM(e,t){const n=(e-2*t)/(e-t);return Math.max(0,Math.round(n*100))}function LM(e){return Zm(e,fc.searchBtnSpeed.mu,fc.searchBtnSpeed.sigma)}function DM(e){return Zm(e,fc.captchaSpeed.mu,fc.captchaSpeed.sigma)}function MM(e){return Math.max(0,Math.min(e,100))}function FM(e){return Zm(e,fc.totalSpeed.mu,fc.totalSpeed.sigma)}Ks.register(RC,wx,xc,jC,Wl,Vl);const BM={responsive:!0,scales:{r:{angleLines:{display:!0},suggestedMin:0,suggestedMax:100,ticks:{display:!1},pointLabels:{font:{size:14},color:"#4B5563"},grid:{color:"#E5E7EB"}}},plugins:{legend:{display:!1},tooltip:{enabled:!0}}};function zM(e){const{user_ability:t}=e,{searchBtnSpeed:n,totalSpeed:r,accuracy:i,captchaSpeed:s}=t,o=["   "," ","","  "],a=[n,r,i,s];return{labels:o,datasets:[{label:"",data:Z_([1.776296,9.30268,93.58,3.843947]),backgroundColor:"rgba(5, 223, 114, 0.2)",borderColor:"rgba(5, 223, 114, 1)",borderWidth:2,pointBackgroundColor:"rgba(5, 223, 114, 1)"},{label:" ",data:Z_(a),backgroundColor:"rgb(0, 122, 255, 0.2)",borderColor:"rgba(0, 122, 255, 1)",borderWidth:2,pointBackgroundColor:"rgba(0, 122, 255, 1)"}]}}function Z_(e){return[LM(e[0]),FM(e[1]),MM(e[2]),DM(e[3])]}function kx({result:e}){const t=zM(e),{searchBtnSpeed:n,totalSpeed:r,accuracy:i,captchaSpeed:s}=e.user_ability;return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"h-90",children:h.jsx(RM,{data:t,className:"mx-auto",options:BM})}),h.jsxs("div",{className:"absolute bottom-6 right-6 bg-white shadow-lg rounded-lg px-4 py-3 text-xs text-gray-800",children:[h.jsx("div",{className:"font-bold text-sm mb-1",children:" "}),h.jsxs("ul",{className:"space-y-1",children:[h.jsxs("li",{className:"flex justify-between",children:[h.jsx("span",{children:"    "})," ",h.jsxs("span",{children:[n.toFixed(2)," sec"]})]}),h.jsxs("li",{className:"flex justify-between",children:[h.jsx("span",{children:"   "})," ",h.jsxs("span",{children:[r.toFixed(2)," sec"]})]}),h.jsxs("li",{className:"flex justify-between",children:[h.jsx("span",{children:" "})," ",h.jsxs("span",{children:[i.toFixed(2)," %"]})]}),h.jsxs("li",{className:"flex justify-between",children:[h.jsx("span",{children:"     "})," ",h.jsxs("span",{children:[s.toFixed(2)," sec"]})]})]})]})]})}function Vy(e,t){const n=e.getContext("2d");if(!n)return;n.clearRect(0,0,e.width,e.height);const r=n.createLinearGradient(0,0,e.width,0);r.addColorStop(0,"#4a4a4a"),r.addColorStop(1,"#bcbcbc"),n.fillStyle=r,n.fillRect(0,0,e.width,e.height),n.font="bold 32px Arial Black, Impact, sans-serif",n.fillStyle="black",n.textAlign="center",n.textBaseline="middle",n.fillText(t,e.width/2,e.height/2)}const $M={user_ability:{searchBtnSpeed:1.076296,totalSpeed:6.70268,accuracy:98.58,captchaSpeed:4.843947}};function UM(){const[e,t]=N.useState($M);return h.jsxs(La,{children:[h.jsx(kh,{title:"   ()",subtitle:"   ,    ",href:"/simulation"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[h.jsxs(wn,{children:[h.jsx(It,{level:3,children:"  "}),h.jsx(Tn,{children:"       ."}),h.jsx(VM,{setRadarData:t})]}),h.jsxs(wn,{className:"relative",children:[h.jsx(It,{level:3,children:"  "}),h.jsx(Tn,{children:"      ."}),h.jsx(kx,{result:e})]})]})]})}function e5(){return Math.floor(1e3+Math.random()*9e3).toString()}const HM=4;function VM({setRadarData:e}){const t=N.useRef(null),[n,r]=N.useState(),[i,s]=N.useState({message:"",color:"red"}),o=N.useRef(""),a=qM(e);function u(){o.current=e5(),r(""),s({message:"",color:"red"}),a.resetResult(),t.current&&Vy(t.current,o.current)}function c(){setTimeout(u,200)}function f(g){let y=g.target.value;if(a.updateResult(),/\D/.test(y)){s({message:"0~9  ",color:"red"}),r(y.replace(/\D/g,""));return}if(y.length>HM){s({message:"4  ",color:"red"});return}r(y),s({message:"",color:"red"})}N.useEffect(()=>{setTimeout(()=>{o.current=e5(),a.initResult(),t.current&&Vy(t.current,o.current)},100)},[]);function p(){n?.toString()===o.current?(s({message:"  .",color:"green"}),a.endResult(!0),setTimeout(u,700)):(s({message:"  .",color:"red"}),a.endResult(!1),setTimeout(u,700))}return h.jsxs("div",{className:"flex flex-col justify-center h-4/5",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 p-4",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsxs("div",{className:"text-sm font-semibold flex flex-row items-center gap-2",children:[h.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "})," ",h.jsx(WM,{onClick:c,children:""})]}),h.jsx("div",{className:"flex items-center mt-1",children:h.jsx("canvas",{id:"captcha",width:"105",height:"50",ref:t})})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"text-sm font-semibold  flex flex-row items-center",children:[h.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "}),"  "]}),h.jsx(Yt.Input,{value:n,className:"mt-2 w-full",onChange:g=>f(g),placeholder:" ",essential:!0}),h.jsx("span",{className:"pl-1 text-xs "+(i.color==="green"?"text-green-500":"text-red-500"),children:i.message})]})]}),h.jsx("div",{className:"flex justify-end p-4",children:h.jsx("button",{onClick:p,className:"px-4 py-2 bg-white hover:bg-blue-50 rounded-xs border cursor-pointer",children:""})})]})}function WM({className:e,children:t,...n}){return h.jsx("button",{className:"px-2 py-1 bg-blue-500 text-white text-sm rounded-xs cursor-pointer hover:bg-blue-600 "+e,...n,children:t})}function qM(e){const t=N.useRef({tryCount:0,successCount:0,avgTime:0,startTime:-1});function n(){t.current.startTime=-1}function r(){t.current.startTime=Date.now()}function i(){t.current.startTime===-1&&(t.current.startTime=Date.now())}function s(o){const a=Date.now(),u=t.current.startTime===-1?4.843947:1+(a-t.current.startTime)/1e3;t.current.startTime=-1,t.current.tryCount+=1,t.current.avgTime=1+(u-t.current.avgTime)/t.current.tryCount,t.current.successCount+=o?1:0,e&&e(c=>({user_ability:{...c.user_ability,captchaSpeed:t.current.avgTime,accuracy:100*(t.current.successCount/t.current.tryCount)}}))}return{initResult:n,resetResult:r,updateResult:i,endResult:s}}const QM="";function ql(){return ks({queryKey:["departments"],queryFn:KM,staleTime:1/0,select:e=>(e?.departments.map(n=>({...n,departmentName:n.departmentName??QM}))??[]).sort((n,r)=>n.departmentName.localeCompare(r.departmentName))})}const KM=async()=>await Oo("/api/departments"),GM=e=>{if(!e)return{universityDict:{},collegeDict:{}};const t={},n={};return e.forEach(r=>{const[i,s,o]=r.departmentName.split(" "),a=i.trim(),u=s?.trim(),c=o?.trim();u&&(t[a]||(t[a]=[]),t[a]=[...t[a],u],c||(n[u]=[u])),c&&(t[a]||(t[a]=[]),t[a]=[...t[a],c],n[u]||(n[u]=[]),n[u]=[...n[u],c])}),{universityDict:t,collegeDict:n}},YM=(e,t)=>{const n=e.split(" ").map(r=>r.trim());for(const r in t)if(n.some(i=>t[r].includes(i)))return r;return console.error("No university found",e),""},JM=(e,t)=>{const n=e.split(" ").map(r=>r.trim());for(const r in t)if(n.some(i=>r.includes(i)))return r;return console.error("No college found",e),""},eg={labels:["","","",""],datasets:[{data:[40,25,20,15]}]},Rh=["#f97316","#3b82f6","#facc15","#22c55e","#60b6d4"];function t5(e){if(!e)return eg;const t={};return e.forEach(n=>{t[n.registerDepartment??""]||(t[n.registerDepartment??""]=0),t[n.registerDepartment??""]+=Number(n.eachCount)}),{labels:Object.keys(t).map(n=>n||""),datasets:[{data:Object.values(t),backgroundColor:Rh}]}}function XM(e,t){if(!t)return eg;const n={major:0,"non-major":0},r=e.split(" ").map(o=>o.trim()),i=o=>o.split(" ").map(u=>u.trim()).some(u=>r.includes(u));t.forEach(o=>{const a=i(o.registerDepartment??"")?"major":"non-major";n[a]+=Number(o.eachCount)});const s={major:"","non-major":""};return{labels:Object.keys(n).map(o=>s[o]),datasets:[{data:Object.values(n),backgroundColor:Rh}]}}function ZM(e,t){if(!e||!t)return eg;const n={};return e.forEach(r=>{const i=YM(r.registerDepartment??"",t);n[i]||(n[i]=0),n[i]+=Number(r.eachCount)}),{labels:Object.keys(n).map(r=>r||""),datasets:[{data:Object.values(n),backgroundColor:Rh}]}}function eF(e,t){if(!e||!t)return eg;const n={};return e.forEach(r=>{const i=JM(r.registerDepartment??"",t);n[i]||(n[i]=0),n[i]+=Number(r.eachCount)}),{labels:Object.keys(n).map(r=>r||""),datasets:[{data:Object.values(n),backgroundColor:Rh}]}}function tF(e){return e?e.reduce((t,n)=>t+Number(n.eachCount),0):-1}var Kp={exports:{}},nF=Kp.exports,n5;function rF(){return n5||(n5=1,(function(e,t){((n,r)=>{e.exports=r()})(nF,function(){var n=function(v,b){return(n=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(k,T){k.__proto__=T}:function(k,T){for(var O in T)Object.prototype.hasOwnProperty.call(T,O)&&(k[O]=T[O])}))(v,b)},r=function(){return(r=Object.assign||function(v){for(var b,k=1,T=arguments.length;k<T;k++)for(var O in b=arguments[k])Object.prototype.hasOwnProperty.call(b,O)&&(v[O]=b[O]);return v}).apply(this,arguments)};function i(v,b,k){for(var T,O=0,I=b.length;O<I;O++)!T&&O in b||((T=T||Array.prototype.slice.call(b,0,O))[O]=b[O]);return v.concat(T||Array.prototype.slice.call(b))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Ed,o=Object.keys,a=Array.isArray;function u(v,b){return typeof b=="object"&&o(b).forEach(function(k){v[k]=b[k]}),v}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var c=Object.getPrototypeOf,f={}.hasOwnProperty;function p(v,b){return f.call(v,b)}function g(v,b){typeof b=="function"&&(b=b(c(v))),(typeof Reflect>"u"?o:Reflect.ownKeys)(b).forEach(function(k){w(v,k,b[k])})}var y=Object.defineProperty;function w(v,b,k,T){y(v,b,u(k&&p(k,"get")&&typeof k.get=="function"?{get:k.get,set:k.set,configurable:!0}:{value:k,configurable:!0,writable:!0},T))}function S(v){return{from:function(b){return v.prototype=Object.create(b.prototype),w(v.prototype,"constructor",v),{extend:g.bind(null,v.prototype)}}}}var C=Object.getOwnPropertyDescriptor,E=[].slice;function P(v,b,k){return E.call(v,b,k)}function A(v,b){return b(v)}function $(v){if(!v)throw new Error("Assertion Failed")}function W(v){s.setImmediate?setImmediate(v):setTimeout(v,0)}function D(v,b){if(typeof b=="string"&&p(v,b))return v[b];if(!b)return v;if(typeof b!="string"){for(var k=[],T=0,O=b.length;T<O;++T){var I=D(v,b[T]);k.push(I)}return k}var F,V=b.indexOf(".");return V===-1||(F=v[b.substr(0,V)])==null?void 0:D(F,b.substr(V+1))}function R(v,b,k){if(v&&b!==void 0&&!("isFrozen"in Object&&Object.isFrozen(v)))if(typeof b!="string"&&"length"in b){$(typeof k!="string"&&"length"in k);for(var T=0,O=b.length;T<O;++T)R(v,b[T],k[T])}else{var I,F,V=b.indexOf(".");V!==-1?(I=b.substr(0,V),(V=b.substr(V+1))===""?k===void 0?a(v)&&!isNaN(parseInt(I))?v.splice(I,1):delete v[I]:v[I]=k:R(F=(F=v[I])&&p(v,I)?F:v[I]={},V,k)):k===void 0?a(v)&&!isNaN(parseInt(b))?v.splice(b,1):delete v[b]:v[b]=k}}function z(v){var b,k={};for(b in v)p(v,b)&&(k[b]=v[b]);return k}var q=[].concat;function B(v){return q.apply([],v)}var me="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(B([8,16,32,64].map(function(v){return["Int","Uint","Float"].map(function(b){return b+v+"Array"})}))).filter(function(v){return s[v]}),ae=new Set(me.map(function(v){return s[v]})),oe=null;function xe(v){return oe=new WeakMap,v=(function b(k){if(!k||typeof k!="object")return k;var T=oe.get(k);if(T)return T;if(a(k)){T=[],oe.set(k,T);for(var O=0,I=k.length;O<I;++O)T.push(b(k[O]))}else if(ae.has(k.constructor))T=k;else{var F,V=c(k);for(F in T=V===Object.prototype?{}:Object.create(V),oe.set(k,T),k)p(k,F)&&(T[F]=b(k[F]))}return T})(v),oe=null,v}var Y={}.toString;function H(v){return Y.call(v).slice(8,-1)}var J=typeof Symbol<"u"?Symbol.iterator:"@@iterator",se=typeof J=="symbol"?function(v){var b;return v!=null&&(b=v[J])&&b.apply(v)}:function(){return null};function X(v,b){b=v.indexOf(b),0<=b&&v.splice(b,1)}var pe={};function M(v){var b,k,T,O;if(arguments.length===1){if(a(v))return v.slice();if(this===pe&&typeof v=="string")return[v];if(O=se(v))for(k=[];!(T=O.next()).done;)k.push(T.value);else{if(v==null)return[v];if(typeof(b=v.length)!="number")return[v];for(k=new Array(b);b--;)k[b]=v[b]}}else for(b=arguments.length,k=new Array(b);b--;)k[b]=arguments[b];return k}var G=typeof Symbol<"u"?function(v){return v[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},me=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Se=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(me),U={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Pe(v,b){this.name=v,this.message=b}function ke(v,b){return v+". Errors: "+Object.keys(b).map(function(k){return b[k].toString()}).filter(function(k,T,O){return O.indexOf(k)===T}).join(`
`)}function Ee(v,b,k,T){this.failures=b,this.failedKeys=T,this.successCount=k,this.message=ke(v,b)}function Qe(v,b){this.name="BulkError",this.failures=Object.keys(b).map(function(k){return b[k]}),this.failuresByPos=b,this.message=ke(v,this.failures)}S(Pe).from(Error).extend({toString:function(){return this.name+": "+this.message}}),S(Ee).from(Pe),S(Qe).from(Pe);var Ve=Se.reduce(function(v,b){return v[b]=b+"Error",v},{}),vt=Pe,ze=Se.reduce(function(v,b){var k=b+"Error";function T(O,I){this.name=k,O?typeof O=="string"?(this.message="".concat(O).concat(I?`
 `+I:""),this.inner=I||null):typeof O=="object"&&(this.message="".concat(O.name," ").concat(O.message),this.inner=O):(this.message=U[b]||k,this.inner=null)}return S(T).from(vt),v[b]=T,v},{}),cr=(ze.Syntax=SyntaxError,ze.Type=TypeError,ze.Range=RangeError,me.reduce(function(v,b){return v[b+"Error"]=ze[b],v},{}));me=Se.reduce(function(v,b){return["Syntax","Type","Range"].indexOf(b)===-1&&(v[b+"Error"]=ze[b]),v},{});function ht(){}function Zt(v){return v}function Wn(v,b){return v==null||v===Zt?b:function(k){return b(v(k))}}function Fn(v,b){return function(){v.apply(this,arguments),b.apply(this,arguments)}}function $r(v,b){return v===ht?b:function(){var k=v.apply(this,arguments),T=(k!==void 0&&(arguments[0]=k),this.onsuccess),O=this.onerror,I=(this.onsuccess=null,this.onerror=null,b.apply(this,arguments));return T&&(this.onsuccess=this.onsuccess?Fn(T,this.onsuccess):T),O&&(this.onerror=this.onerror?Fn(O,this.onerror):O),I!==void 0?I:k}}function js(v,b){return v===ht?b:function(){v.apply(this,arguments);var k=this.onsuccess,T=this.onerror;this.onsuccess=this.onerror=null,b.apply(this,arguments),k&&(this.onsuccess=this.onsuccess?Fn(k,this.onsuccess):k),T&&(this.onerror=this.onerror?Fn(T,this.onerror):T)}}function Do(v,b){return v===ht?b:function(O){var T=v.apply(this,arguments),O=(u(O,T),this.onsuccess),I=this.onerror,F=(this.onsuccess=null,this.onerror=null,b.apply(this,arguments));return O&&(this.onsuccess=this.onsuccess?Fn(O,this.onsuccess):O),I&&(this.onerror=this.onerror?Fn(I,this.onerror):I),T===void 0?F===void 0?void 0:F:u(T,F)}}function Ji(v,b){return v===ht?b:function(){return b.apply(this,arguments)!==!1&&v.apply(this,arguments)}}function Xr(v,b){return v===ht?b:function(){var k=v.apply(this,arguments);if(k&&typeof k.then=="function"){for(var T=this,O=arguments.length,I=new Array(O);O--;)I[O]=arguments[O];return k.then(function(){return b.apply(T,I)})}return b.apply(this,arguments)}}me.ModifyError=Ee,me.DexieError=Pe,me.BulkError=Qe;var Bn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ts(v){Bn=v}var Pi={},Ur=100,Tr=typeof Promise>"u"?[]:(Se=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[Tr=crypto.subtle.digest("SHA-512",new Uint8Array([0])),c(Tr),Se]:[Se,c(Se),Se]),Se=Tr[0],io=Tr[1],io=io&&io.then,Le=Se&&Se.constructor,st=!!Tr[2],ft=function(v,b){er.push([v,b]),gn&&(queueMicrotask(Js),gn=!1)},Ot=!0,gn=!0,zn=[],Xn=[],On=Zt,Zn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ht,pgp:!1,env:{},finalize:ht},We=Zn,er=[],Cn=0,Xi=[];function He(v){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var b=this._PSD=We;if(typeof v!="function"){if(v!==Pi)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&Mo(this,this._value)}else this._state=null,this._value=null,++b.ref,(function k(T,O){try{O(function(I){if(T._state===null){if(I===T)throw new TypeError("A promise cannot be resolved with itself.");var F=T._lib&&Hr();I&&typeof I.then=="function"?k(T,function(V,ie){I instanceof He?I._then(V,ie):I.then(V,ie)}):(T._state=!0,T._value=I,Fo(T)),F&&Oi()}},Mo.bind(null,T))}catch(I){Mo(T,I)}})(this,v)}var mi={get:function(){var v=We,b=tt;function k(T,O){var I=this,F=!v.global&&(v!==We||b!==tt),V=F&&!Je(),ie=new He(function(he,te){Bo(I,new gi(yn(T,v,F,V),yn(O,v,F,V),he,te,v))});return this._consoleTask&&(ie._consoleTask=this._consoleTask),ie}return k.prototype=Pi,k},set:function(v){w(this,"then",v&&v.prototype===Pi?mi:{get:function(){return v},set:mi.set})}};function gi(v,b,k,T,O){this.onFulfilled=typeof v=="function"?v:null,this.onRejected=typeof b=="function"?b:null,this.resolve=k,this.reject=T,this.psd=O}function Mo(v,b){var k,T;Xn.push(b),v._state===null&&(k=v._lib&&Hr(),b=On(b),v._state=!1,v._value=b,T=v,zn.some(function(O){return O._value===T._value})||zn.push(T),Fo(v),k)&&Oi()}function Fo(v){var b=v._listeners;v._listeners=[];for(var k=0,T=b.length;k<T;++k)Bo(v,b[k]);var O=v._PSD;--O.ref||O.finalize(),Cn===0&&(++Cn,ft(function(){--Cn==0&&Zi()},[]))}function Bo(v,b){if(v._state===null)v._listeners.push(b);else{var k=v._state?b.onFulfilled:b.onRejected;if(k===null)return(v._state?b.resolve:b.reject)(v._value);++b.psd.ref,++Cn,ft(Ba,[k,v,b])}}function Ba(v,b,k){try{var T,O=b._value;!b._state&&Xn.length&&(Xn=[]),T=Bn&&b._consoleTask?b._consoleTask.run(function(){return v(O)}):v(O),b._state||Xn.indexOf(O)!==-1||(I=>{for(var F=zn.length;F;)if(zn[--F]._value===I._value)return zn.splice(F,1)})(b),k.resolve(T)}catch(I){k.reject(I)}finally{--Cn==0&&Zi(),--k.psd.ref||k.psd.finalize()}}function Js(){rn(Zn,function(){Hr()&&Oi()})}function Hr(){var v=Ot;return gn=Ot=!1,v}function Oi(){var v,b,k;do for(;0<er.length;)for(v=er,er=[],k=v.length,b=0;b<k;++b){var T=v[b];T[0].apply(null,T[1])}while(0<er.length);gn=Ot=!0}function Zi(){for(var v=zn,b=(zn=[],v.forEach(function(T){T._PSD.onunhandled.call(null,T._value,T)}),Xi.slice(0)),k=b.length;k;)b[--k]()}function Ns(v){return new He(Pi,!1,v)}function Q(v,b){var k=We;return function(){var T=Hr(),O=We;try{return Ct(k,!0),v.apply(this,arguments)}catch(I){b&&b(I)}finally{Ct(O,!1),T&&Oi()}}}g(He.prototype,{then:mi,_then:function(v,b){Bo(this,new gi(null,null,v,b,We))},catch:function(v){var b,k;return arguments.length===1?this.then(null,v):(b=v,k=arguments[1],typeof b=="function"?this.then(null,function(T){return(T instanceof b?k:Ns)(T)}):this.then(null,function(T){return(T&&T.name===b?k:Ns)(T)}))},finally:function(v){return this.then(function(b){return He.resolve(v()).then(function(){return b})},function(b){return He.resolve(v()).then(function(){return Ns(b)})})},timeout:function(v,b){var k=this;return v<1/0?new He(function(T,O){var I=setTimeout(function(){return O(new ze.Timeout(b))},v);k.then(T,O).finally(clearTimeout.bind(null,I))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&w(He.prototype,Symbol.toStringTag,"Dexie.Promise"),Zn.env=Lt(),g(He,{all:function(){var v=M.apply(null,arguments).map(ct);return new He(function(b,k){v.length===0&&b([]);var T=v.length;v.forEach(function(O,I){return He.resolve(O).then(function(F){v[I]=F,--T||b(v)},k)})})},resolve:function(v){return v instanceof He?v:v&&typeof v.then=="function"?new He(function(b,k){v.then(b,k)}):new He(Pi,!0,v)},reject:Ns,race:function(){var v=M.apply(null,arguments).map(ct);return new He(function(b,k){v.map(function(T){return He.resolve(T).then(b,k)})})},PSD:{get:function(){return We},set:function(v){return We=v}},totalEchoes:{get:function(){return tt}},newPSD:Ye,usePSD:rn,scheduler:{get:function(){return ft},set:function(v){ft=v}},rejectionMapper:{get:function(){return On},set:function(v){On=v}},follow:function(v,b){return new He(function(k,T){return Ye(function(O,I){var F=We;F.unhandleds=[],F.onunhandled=I,F.finalize=Fn(function(){var V,ie=this;V=function(){ie.unhandleds.length===0?O():I(ie.unhandleds[0])},Xi.push(function he(){V(),Xi.splice(Xi.indexOf(he),1)}),++Cn,ft(function(){--Cn==0&&Zi()},[])},F.finalize),v()},b,k,T)})}}),Le&&(Le.allSettled&&w(He,"allSettled",function(){var v=M.apply(null,arguments).map(ct);return new He(function(b){v.length===0&&b([]);var k=v.length,T=new Array(k);v.forEach(function(O,I){return He.resolve(O).then(function(F){return T[I]={status:"fulfilled",value:F}},function(F){return T[I]={status:"rejected",reason:F}}).then(function(){return--k||b(T)})})})}),Le.any&&typeof AggregateError<"u"&&w(He,"any",function(){var v=M.apply(null,arguments).map(ct);return new He(function(b,k){v.length===0&&k(new AggregateError([]));var T=v.length,O=new Array(T);v.forEach(function(I,F){return He.resolve(I).then(function(V){return b(V)},function(V){O[F]=V,--T||k(new AggregateError(O))})})})}),Le.withResolvers)&&(He.withResolvers=Le.withResolvers);var ce={awaits:0,echoes:0,id:0},we=0,Te=[],De=0,tt=0,Ze=0;function Ye(v,F,k,T){var O=We,I=Object.create(O),F=(I.parent=O,I.ref=0,I.global=!1,I.id=++Ze,Zn.env,I.env=st?{Promise:He,PromiseProp:{value:He,configurable:!0,writable:!0},all:He.all,race:He.race,allSettled:He.allSettled,any:He.any,resolve:He.resolve,reject:He.reject}:{},F&&u(I,F),++O.ref,I.finalize=function(){--this.parent.ref||this.parent.finalize()},rn(I,v,k,T));return I.ref===0&&I.finalize(),F}function nt(){return ce.id||(ce.id=++we),++ce.awaits,ce.echoes+=Ur,ce.id}function Je(){return!!ce.awaits&&(--ce.awaits==0&&(ce.id=0),ce.echoes=ce.awaits*Ur,!0)}function ct(v){return ce.echoes&&v&&v.constructor===Le?(nt(),v.then(function(b){return Je(),b},function(b){return Je(),pt(b)})):v}function at(){var v=Te[Te.length-1];Te.pop(),Ct(v,!1)}function Ct(v,b){var k,T,O=We;(b?!ce.echoes||De++&&v===We:!De||--De&&v===We)||queueMicrotask(b?(function(I){++tt,ce.echoes&&--ce.echoes!=0||(ce.echoes=ce.awaits=ce.id=0),Te.push(We),Ct(I,!0)}).bind(null,v):at),v!==We&&(We=v,O===Zn&&(Zn.env=Lt()),st)&&(k=Zn.env.Promise,T=v.env,O.global||v.global)&&(Object.defineProperty(s,"Promise",T.PromiseProp),k.all=T.all,k.race=T.race,k.resolve=T.resolve,k.reject=T.reject,T.allSettled&&(k.allSettled=T.allSettled),T.any)&&(k.any=T.any)}function Lt(){var v=s.Promise;return st?{Promise:v,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:v.all,race:v.race,allSettled:v.allSettled,any:v.any,resolve:v.resolve,reject:v.reject}:{}}function rn(v,b,k,T,O){var I=We;try{return Ct(v,!0),b(k,T,O)}finally{Ct(I,!1)}}function yn(v,b,k,T){return typeof v!="function"?v:function(){var O=We;k&&nt(),Ct(b,!0);try{return v.apply(this,arguments)}finally{Ct(O,!1),T&&queueMicrotask(Je)}}}function Rn(v){Promise===Le&&ce.echoes===0?De===0?v():enqueueNativeMicroTask(v):setTimeout(v,0)}(""+io).indexOf("[native code]")===-1&&(nt=Je=ht);var pt=He.reject,An="",At="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ps="String expected.",tr=[],dr="__dbnames",Ri="readonly",es="readwrite";function hr(v,b){return v?b?function(){return v.apply(this,arguments)&&b.apply(this,arguments)}:v:b}var Ai={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function qn(v){return typeof v!="string"||/\./.test(v)?function(b){return b}:function(b){return b[v]===void 0&&v in b&&delete(b=xe(b))[v],b}}function Dt(){throw ze.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function rt(v,b){try{var k=ts(v),T=ts(b);if(k!==T)return k==="Array"?1:T==="Array"?-1:k==="binary"?1:T==="binary"?-1:k==="string"?1:T==="string"?-1:k==="Date"?1:T!=="Date"?NaN:-1;switch(k){case"number":case"Date":case"string":return b<v?1:v<b?-1:0;case"binary":for(var O=Ii(v),I=Ii(b),F=O.length,V=I.length,ie=F<V?F:V,he=0;he<ie;++he)if(O[he]!==I[he])return O[he]<I[he]?-1:1;return F===V?0:F<V?-1:1;case"Array":for(var te=v,Z=b,le=te.length,ue=Z.length,re=le<ue?le:ue,ne=0;ne<re;++ne){var ye=rt(te[ne],Z[ne]);if(ye!==0)return ye}return le===ue?0:le<ue?-1:1}}catch{}return NaN}function ts(v){var b=typeof v;return b=="object"&&(ArrayBuffer.isView(v)||(b=H(v))==="ArrayBuffer")?"binary":b}function Ii(v){return v instanceof Uint8Array?v:ArrayBuffer.isView(v)?new Uint8Array(v.buffer,v.byteOffset,v.byteLength):new Uint8Array(v)}function en(v,b,k){var T=v.schema.yProps;return T?(b&&0<k.numFailures&&(b=b.filter(function(O,I){return!k.failures[I]})),Promise.all(T.map(function(O){return O=O.updatesTable,b?v.db.table(O).where("k").anyOf(b).delete():v.db.table(O).clear()})).then(function(){return k})):k}Os.prototype.execute=function(v){var b=this["@@propmod"];if(b.add!==void 0){var k=b.add;if(a(k))return i(i([],a(v)?v:[],!0),k).sort();if(typeof k=="number")return(Number(v)||0)+k;if(typeof k=="bigint")try{return BigInt(v)+k}catch{return BigInt(0)+k}throw new TypeError("Invalid term ".concat(k))}if(b.remove!==void 0){var T=b.remove;if(a(T))return a(v)?v.filter(function(O){return!T.includes(O)}).sort():[];if(typeof T=="number")return Number(v)-T;if(typeof T=="bigint")try{return BigInt(v)-T}catch{return BigInt(0)-T}throw new TypeError("Invalid subtrahend ".concat(T))}return k=(k=b.replacePrefix)==null?void 0:k[0],k&&typeof v=="string"&&v.startsWith(k)?b.replacePrefix[1]+v.substring(k.length):v};var Vr=Os;function Os(v){this["@@propmod"]=v}function Rs(v,b){for(var k=o(b),T=k.length,O=!1,I=0;I<T;++I){var F=k[I],V=b[F],ie=D(v,F);V instanceof Vr?(R(v,F,V.execute(ie)),O=!0):ie!==V&&(R(v,F,V),O=!0)}return O}sn.prototype._trans=function(v,b,k){var T=this._tx||We.trans,O=this.name,I=Bn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(v==="readonly"?"read":"write"," ").concat(this.name));function F(he,te,Z){if(Z.schema[O])return b(Z.idbtrans,Z);throw new ze.NotFound("Table "+O+" not part of transaction")}var V=Hr();try{var ie=T&&T.db._novip===this.db._novip?T===We.trans?T._promise(v,F,k):Ye(function(){return T._promise(v,F,k)},{trans:T,transless:We.transless||We}):(function he(te,Z,le,ue){if(te.idbdb&&(te._state.openComplete||We.letThrough||te._vip)){var re=te._createTransaction(Z,le,te._dbSchema);try{re.create(),te._state.PR1398_maxLoop=3}catch(ne){return ne.name===Ve.InvalidState&&te.isOpen()&&0<--te._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),te.close({disableAutoOpen:!1}),te.open().then(function(){return he(te,Z,le,ue)})):pt(ne)}return re._promise(Z,function(ne,ye){return Ye(function(){return We.trans=re,ue(ne,ye,re)})}).then(function(ne){if(Z==="readwrite")try{re.idbtrans.commit()}catch{}return Z==="readonly"?ne:re._completion.then(function(){return ne})})}if(te._state.openComplete)return pt(new ze.DatabaseClosed(te._state.dbOpenError));if(!te._state.isBeingOpened){if(!te._state.autoOpen)return pt(new ze.DatabaseClosed);te.open().catch(ht)}return te._state.dbReadyPromise.then(function(){return he(te,Z,le,ue)})})(this.db,v,[this.name],F);return I&&(ie._consoleTask=I,ie=ie.catch(function(he){return console.trace(he),pt(he)})),ie}finally{V&&Oi()}},sn.prototype.get=function(v,b){var k=this;return v&&v.constructor===Object?this.where(v).first(b):v==null?pt(new ze.Type("Invalid argument to Table.get()")):this._trans("readonly",function(T){return k.core.get({trans:T,key:v}).then(function(O){return k.hook.reading.fire(O)})}).then(b)},sn.prototype.where=function(v){if(typeof v=="string")return new this.db.WhereClause(this,v);if(a(v))return new this.db.WhereClause(this,"[".concat(v.join("+"),"]"));var b=o(v);if(b.length===1)return this.where(b[0]).equals(v[b[0]]);var k=this.schema.indexes.concat(this.schema.primKey).filter(function(V){if(V.compound&&b.every(function(he){return 0<=V.keyPath.indexOf(he)})){for(var ie=0;ie<b.length;++ie)if(b.indexOf(V.keyPath[ie])===-1)return!1;return!0}return!1}).sort(function(V,ie){return V.keyPath.length-ie.keyPath.length})[0];if(k&&this.db._maxKey!==An)return F=k.keyPath.slice(0,b.length),this.where(F).equals(F.map(function(V){return v[V]}));!k&&Bn&&console.warn("The query ".concat(JSON.stringify(v)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(b.join("+"),"]"));var T=this.schema.idxByName;function O(V,ie){return rt(V,ie)===0}var F=b.reduce(function(te,ie){var he=te[0],te=te[1],Z=T[ie],le=v[ie];return[he||Z,he||!Z?hr(te,Z&&Z.multi?function(ue){return ue=D(ue,ie),a(ue)&&ue.some(function(re){return O(le,re)})}:function(ue){return O(le,D(ue,ie))}):te]},[null,null]),I=F[0],F=F[1];return I?this.where(I.name).equals(v[I.keyPath]).filter(F):k?this.filter(F):this.where(b).equals("")},sn.prototype.filter=function(v){return this.toCollection().and(v)},sn.prototype.count=function(v){return this.toCollection().count(v)},sn.prototype.offset=function(v){return this.toCollection().offset(v)},sn.prototype.limit=function(v){return this.toCollection().limit(v)},sn.prototype.each=function(v){return this.toCollection().each(v)},sn.prototype.toArray=function(v){return this.toCollection().toArray(v)},sn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},sn.prototype.orderBy=function(v){return new this.db.Collection(new this.db.WhereClause(this,a(v)?"[".concat(v.join("+"),"]"):v))},sn.prototype.reverse=function(){return this.toCollection().reverse()},sn.prototype.mapToClass=function(v){for(var b=this.db,k=this.name,T=((this.schema.mappedClass=v).prototype instanceof Dt&&(v=(F=>{var V=te,ie=F;if(typeof ie!="function"&&ie!==null)throw new TypeError("Class extends value "+String(ie)+" is not a constructor or null");function he(){this.constructor=V}function te(){return F!==null&&F.apply(this,arguments)||this}return n(V,ie),V.prototype=ie===null?Object.create(ie):(he.prototype=ie.prototype,new he),Object.defineProperty(te.prototype,"db",{get:function(){return b},enumerable:!1,configurable:!0}),te.prototype.table=function(){return k},te})(v)),new Set),O=v.prototype;O;O=c(O))Object.getOwnPropertyNames(O).forEach(function(F){return T.add(F)});function I(F){if(!F)return F;var V,ie=Object.create(v.prototype);for(V in F)if(!T.has(V))try{ie[V]=F[V]}catch{}return ie}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=I,this.hook("reading",I),v},sn.prototype.defineClass=function(){return this.mapToClass(function(v){u(this,v)})},sn.prototype.add=function(v,b){var k=this,T=this.schema.primKey,O=T.auto,I=T.keyPath,F=v;return I&&O&&(F=qn(I)(v)),this._trans("readwrite",function(V){return k.core.mutate({trans:V,type:"add",keys:b!=null?[b]:null,values:[F]})}).then(function(V){return V.numFailures?He.reject(V.failures[0]):V.lastResult}).then(function(V){if(I)try{R(v,I,V)}catch{}return V})},sn.prototype.upsert=function(v,b){var k=this,T=this.schema.primKey.keyPath;return this._trans("readwrite",function(O){return k.core.get({trans:O,key:v}).then(function(I){var F=I??{};return Rs(F,b),T&&R(F,T,v),k.core.mutate({trans:O,type:"put",values:[F],keys:[v],upsert:!0,updates:{keys:[v],changeSpecs:[b]}}).then(function(V){return V.numFailures?He.reject(V.failures[0]):!!I})})})},sn.prototype.update=function(v,b){return typeof v!="object"||a(v)?this.where(":id").equals(v).modify(b):(v=D(v,this.schema.primKey.keyPath))===void 0?pt(new ze.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(v).modify(b)},sn.prototype.put=function(v,b){var k=this,T=this.schema.primKey,O=T.auto,I=T.keyPath,F=v;return I&&O&&(F=qn(I)(v)),this._trans("readwrite",function(V){return k.core.mutate({trans:V,type:"put",values:[F],keys:b!=null?[b]:null})}).then(function(V){return V.numFailures?He.reject(V.failures[0]):V.lastResult}).then(function(V){if(I)try{R(v,I,V)}catch{}return V})},sn.prototype.delete=function(v){var b=this;return this._trans("readwrite",function(k){return b.core.mutate({trans:k,type:"delete",keys:[v]}).then(function(T){return en(b,[v],T)}).then(function(T){return T.numFailures?He.reject(T.failures[0]):void 0})})},sn.prototype.clear=function(){var v=this;return this._trans("readwrite",function(b){return v.core.mutate({trans:b,type:"deleteRange",range:Ai}).then(function(k){return en(v,null,k)})}).then(function(b){return b.numFailures?He.reject(b.failures[0]):void 0})},sn.prototype.bulkGet=function(v){var b=this;return this._trans("readonly",function(k){return b.core.getMany({keys:v,trans:k}).then(function(T){return T.map(function(O){return b.hook.reading.fire(O)})})})},sn.prototype.bulkAdd=function(v,b,k){var T=this,O=Array.isArray(b)?b:void 0,I=(k=k||(O?void 0:b))?k.allKeys:void 0;return this._trans("readwrite",function(F){var V=T.schema.primKey,he=V.auto,V=V.keyPath;if(V&&O)throw new ze.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(O&&O.length!==v.length)throw new ze.InvalidArgument("Arguments objects and keys must have the same length");var ie=v.length,he=V&&he?v.map(qn(V)):v;return T.core.mutate({trans:F,type:"add",keys:O,values:he,wantResults:I}).then(function(te){var Z=te.numFailures,le=te.failures;if(Z===0)return I?te.results:te.lastResult;throw new Qe("".concat(T.name,".bulkAdd(): ").concat(Z," of ").concat(ie," operations failed"),le)})})},sn.prototype.bulkPut=function(v,b,k){var T=this,O=Array.isArray(b)?b:void 0,I=(k=k||(O?void 0:b))?k.allKeys:void 0;return this._trans("readwrite",function(F){var V=T.schema.primKey,he=V.auto,V=V.keyPath;if(V&&O)throw new ze.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(O&&O.length!==v.length)throw new ze.InvalidArgument("Arguments objects and keys must have the same length");var ie=v.length,he=V&&he?v.map(qn(V)):v;return T.core.mutate({trans:F,type:"put",keys:O,values:he,wantResults:I}).then(function(te){var Z=te.numFailures,le=te.failures;if(Z===0)return I?te.results:te.lastResult;throw new Qe("".concat(T.name,".bulkPut(): ").concat(Z," of ").concat(ie," operations failed"),le)})})},sn.prototype.bulkUpdate=function(v){var b=this,k=this.core,T=v.map(function(F){return F.key}),O=v.map(function(F){return F.changes}),I=[];return this._trans("readwrite",function(F){return k.getMany({trans:F,keys:T,cache:"clone"}).then(function(V){var ie=[],he=[],te=(v.forEach(function(Z,le){var ue=Z.key,re=Z.changes,ne=V[le];if(ne){for(var ye=0,be=Object.keys(re);ye<be.length;ye++){var fe=be[ye],Ce=re[fe];if(fe===b.schema.primKey.keyPath){if(rt(Ce,ue)!==0)throw new ze.Constraint("Cannot update primary key in bulkUpdate()")}else R(ne,fe,Ce)}I.push(le),ie.push(ue),he.push(ne)}}),ie.length);return k.mutate({trans:F,type:"put",keys:ie,values:he,updates:{keys:T,changeSpecs:O}}).then(function(Z){var le=Z.numFailures,ue=Z.failures;if(le===0)return te;for(var re=0,ne=Object.keys(ue);re<ne.length;re++){var ye,be=ne[re],fe=I[Number(be)];fe!=null&&(ye=ue[be],delete ue[be],ue[fe]=ye)}throw new Qe("".concat(b.name,".bulkUpdate(): ").concat(le," of ").concat(te," operations failed"),ue)})})})},sn.prototype.bulkDelete=function(v){var b=this,k=v.length;return this._trans("readwrite",function(T){return b.core.mutate({trans:T,type:"delete",keys:v}).then(function(O){return en(b,v,O)})}).then(function(T){var O=T.numFailures,I=T.failures;if(O===0)return T.lastResult;throw new Qe("".concat(b.name,".bulkDelete(): ").concat(O," of ").concat(k," operations failed"),I)})};var za=sn;function sn(){}function $a(v){function b(F,V){if(V){for(var ie=arguments.length,he=new Array(ie-1);--ie;)he[ie-1]=arguments[ie];return k[F].subscribe.apply(null,he),v}if(typeof F=="string")return k[F]}var k={};b.addEventType=I;for(var T=1,O=arguments.length;T<O;++T)I(arguments[T]);return b;function I(F,V,ie){var he,te;if(typeof F!="object")return V=V||Ji,te={subscribers:[],fire:ie=ie||ht,subscribe:function(Z){te.subscribers.indexOf(Z)===-1&&(te.subscribers.push(Z),te.fire=V(te.fire,Z))},unsubscribe:function(Z){te.subscribers=te.subscribers.filter(function(le){return le!==Z}),te.fire=te.subscribers.reduce(V,ie)}},k[F]=b[F]=te;o(he=F).forEach(function(Z){var le=he[Z];if(a(le))I(Z,he[Z][0],he[Z][1]);else{if(le!=="asap")throw new ze.InvalidArgument("Invalid event config");var ue=I(Z,Zt,function(){for(var re=arguments.length,ne=new Array(re);re--;)ne[re]=arguments[re];ue.subscribers.forEach(function(ye){W(function(){ye.apply(null,ne)})})})}})}}function Xs(v,b){return S(b).from({prototype:v}),b}function Zs(v,b){return!(v.filter||v.algorithm||v.or)&&(b?v.justLimit:!v.replayFilter)}function Ua(v,b){v.filter=hr(v.filter,b)}function eo(v,b,k){var T=v.replayFilter;v.replayFilter=T?function(){return hr(T(),b())}:b,v.justLimit=k&&!T}function Jl(v,b){if(v.isPrimKey)return b.primaryKey;var k=b.getIndexByKeyPath(v.index);if(k)return k;throw new ze.Schema("KeyPath "+v.index+" on object store "+b.name+" is not indexed")}function Xl(v,b,k){var T=Jl(v,b.schema);return b.openCursor({trans:k,values:!v.keysOnly,reverse:v.dir==="prev",unique:!!v.unique,query:{index:T,range:v.range}})}function qt(v,b,k,T){var O,I,F=v.replayFilter?hr(v.filter,v.replayFilter()):v.filter;return v.or?(O={},I=function(V,ie,he){var te,Z;F&&!F(ie,he,function(le){return ie.stop(le)},function(le){return ie.fail(le)})||((Z=""+(te=ie.primaryKey))=="[object ArrayBuffer]"&&(Z=""+new Uint8Array(te)),p(O,Z))||(O[Z]=!0,b(V,ie,he))},Promise.all([v.or._iterate(I,k),Ec(Xl(v,T,k),v.algorithm,I,!v.keysOnly&&v.valueMapper)])):Ec(Xl(v,T,k),hr(v.algorithm,F),b,!v.keysOnly&&v.valueMapper)}function Ec(v,b,k,T){var O=Q(T?function(I,F,V){return k(T(I),F,V)}:k);return v.then(function(I){if(I)return I.start(function(){var F=function(){return I.continue()};b&&!b(I,function(V){return F=V},function(V){I.stop(V),F=ht},function(V){I.fail(V),F=ht})||O(I.value,I,function(V){return F=V}),F()})})}Ht.prototype._read=function(v,b){var k=this._ctx;return k.error?k.table._trans(null,pt.bind(null,k.error)):k.table._trans("readonly",v).then(b)},Ht.prototype._write=function(v){var b=this._ctx;return b.error?b.table._trans(null,pt.bind(null,b.error)):b.table._trans("readwrite",v,"locked")},Ht.prototype._addAlgorithm=function(v){var b=this._ctx;b.algorithm=hr(b.algorithm,v)},Ht.prototype._iterate=function(v,b){return qt(this._ctx,v,b,this._ctx.table.core)},Ht.prototype.clone=function(v){var b=Object.create(this.constructor.prototype),k=Object.create(this._ctx);return v&&u(k,v),b._ctx=k,b},Ht.prototype.raw=function(){return this._ctx.valueMapper=null,this},Ht.prototype.each=function(v){var b=this._ctx;return this._read(function(k){return qt(b,v,k,b.table.core)})},Ht.prototype.count=function(v){var b=this;return this._read(function(k){var T,O=b._ctx,I=O.table.core;return Zs(O,!0)?I.count({trans:k,query:{index:Jl(O,I.schema),range:O.range}}).then(function(F){return Math.min(F,O.limit)}):(T=0,qt(O,function(){return++T,!1},k,I).then(function(){return T}))}).then(v)},Ht.prototype.sortBy=function(v,b){var k=v.split(".").reverse(),T=k[0],O=k.length-1;function I(ie,he){return he?I(ie[k[he]],he-1):ie[T]}var F=this._ctx.dir==="next"?1:-1;function V(ie,he){return rt(I(ie,O),I(he,O))*F}return this.toArray(function(ie){return ie.sort(V)}).then(b)},Ht.prototype.toArray=function(v){var b=this;return this._read(function(k){var T,O,I,F=b._ctx;return F.dir==="next"&&Zs(F,!0)&&0<F.limit?(T=F.valueMapper,O=Jl(F,F.table.core.schema),F.table.core.query({trans:k,limit:F.limit,values:!0,query:{index:O,range:F.range}}).then(function(V){return V=V.result,T?V.map(T):V})):(I=[],qt(F,function(V){return I.push(V)},k,F.table.core).then(function(){return I}))},v)},Ht.prototype.offset=function(v){var b=this._ctx;return v<=0||(b.offset+=v,Zs(b)?eo(b,function(){var k=v;return function(T,O){return k===0||(k===1?--k:O(function(){T.advance(k),k=0}),!1)}}):eo(b,function(){var k=v;return function(){return--k<0}})),this},Ht.prototype.limit=function(v){return this._ctx.limit=Math.min(this._ctx.limit,v),eo(this._ctx,function(){var b=v;return function(k,T,O){return--b<=0&&T(O),0<=b}},!0),this},Ht.prototype.until=function(v,b){return Ua(this._ctx,function(k,T,O){return!v(k.value)||(T(O),b)}),this},Ht.prototype.first=function(v){return this.limit(1).toArray(function(b){return b[0]}).then(v)},Ht.prototype.last=function(v){return this.reverse().first(v)},Ht.prototype.filter=function(v){var b;return Ua(this._ctx,function(k){return v(k.value)}),(b=this._ctx).isMatch=hr(b.isMatch,v),this},Ht.prototype.and=function(v){return this.filter(v)},Ht.prototype.or=function(v){return new this.db.WhereClause(this._ctx.table,v,this)},Ht.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Ht.prototype.desc=function(){return this.reverse()},Ht.prototype.eachKey=function(v){var b=this._ctx;return b.keysOnly=!b.isMatch,this.each(function(k,T){v(T.key,T)})},Ht.prototype.eachUniqueKey=function(v){return this._ctx.unique="unique",this.eachKey(v)},Ht.prototype.eachPrimaryKey=function(v){var b=this._ctx;return b.keysOnly=!b.isMatch,this.each(function(k,T){v(T.primaryKey,T)})},Ht.prototype.keys=function(v){var b=this._ctx,k=(b.keysOnly=!b.isMatch,[]);return this.each(function(T,O){k.push(O.key)}).then(function(){return k}).then(v)},Ht.prototype.primaryKeys=function(v){var b=this._ctx;if(b.dir==="next"&&Zs(b,!0)&&0<b.limit)return this._read(function(T){var O=Jl(b,b.table.core.schema);return b.table.core.query({trans:T,values:!1,limit:b.limit,query:{index:O,range:b.range}})}).then(function(T){return T.result}).then(v);b.keysOnly=!b.isMatch;var k=[];return this.each(function(T,O){k.push(O.primaryKey)}).then(function(){return k}).then(v)},Ht.prototype.uniqueKeys=function(v){return this._ctx.unique="unique",this.keys(v)},Ht.prototype.firstKey=function(v){return this.limit(1).keys(function(b){return b[0]}).then(v)},Ht.prototype.lastKey=function(v){return this.reverse().firstKey(v)},Ht.prototype.distinct=function(){var v,b=this._ctx,b=b.index&&b.table.schema.idxByName[b.index];return b&&b.multi&&(v={},Ua(this._ctx,function(T){var T=T.primaryKey.toString(),O=p(v,T);return v[T]=!0,!O})),this},Ht.prototype.modify=function(v){var b=this,k=this._ctx;return this._write(function(T){function O(ne,ye){var be=ye.failures;le+=ne-ye.numFailures;for(var fe=0,Ce=o(be);fe<Ce.length;fe++){var Ne=Ce[fe];Z.push(be[Ne])}}var I=typeof v=="function"?v:function(ne){return Rs(ne,v)},F=k.table.core,te=F.schema.primaryKey,V=te.outbound,ie=te.extractKey,he=200,te=b.db._options.modifyChunkSize,Z=(te&&(he=typeof te=="object"?te[F.name]||te["*"]||200:te),[]),le=0,ue=[],re=v===jc;return b.clone().primaryKeys().then(function(ne){function ye(fe){var Ce=Math.min(he,ne.length-fe),Ne=ne.slice(fe,fe+Ce);return(re?Promise.resolve([]):F.getMany({trans:T,keys:Ne,cache:"immutable"})).then(function($e){var Ue=[],Re=[],Ke=V?[]:null,qe=re?Ne:[];if(!re)for(var Me=0;Me<Ce;++Me){var Ge=$e[Me],Bt={value:xe(Ge),primKey:ne[fe+Me]};I.call(Bt,Bt.value,Bt)!==!1&&(Bt.value==null?qe.push(ne[fe+Me]):V||rt(ie(Ge),ie(Bt.value))===0?(Re.push(Bt.value),V&&Ke.push(ne[fe+Me])):(qe.push(ne[fe+Me]),Ue.push(Bt.value)))}return Promise.resolve(0<Ue.length&&F.mutate({trans:T,type:"add",values:Ue}).then(function(Wt){for(var dt in Wt.failures)qe.splice(parseInt(dt),1);O(Ue.length,Wt)})).then(function(){return(0<Re.length||be&&typeof v=="object")&&F.mutate({trans:T,type:"put",keys:Ke,values:Re,criteria:be,changeSpec:typeof v!="function"&&v,isAdditionalChunk:0<fe}).then(function(Wt){return O(Re.length,Wt)})}).then(function(){return(0<qe.length||be&&re)&&F.mutate({trans:T,type:"delete",keys:qe,criteria:be,isAdditionalChunk:0<fe}).then(function(Wt){return en(k.table,qe,Wt)}).then(function(Wt){return O(qe.length,Wt)})}).then(function(){return ne.length>fe+Ce&&ye(fe+he)})})}var be=Zs(k)&&k.limit===1/0&&(typeof v!="function"||re)&&{index:k.index,range:k.range};return ye(0).then(function(){if(0<Z.length)throw new Ee("Error modifying one or more objects",Z,le,ue);return ne.length})})})},Ht.prototype.delete=function(){var v=this._ctx,b=v.range;return!Zs(v)||v.table.schema.yProps||!v.isPrimKey&&b.type!==3?this.modify(jc):this._write(function(k){var T=v.table.core.schema.primaryKey,O=b;return v.table.core.count({trans:k,query:{index:T,range:O}}).then(function(I){return v.table.core.mutate({trans:k,type:"deleteRange",range:O}).then(function(ie){var V=ie.failures,ie=ie.numFailures;if(ie)throw new Ee("Could not delete some values",Object.keys(V).map(function(he){return V[he]}),I-ie);return I-ie})})})};var $h=Ht;function Ht(){}var jc=function(v,b){return b.value=null};function Uh(v,b){return v<b?-1:v===b?0:1}function Hh(v,b){return b<v?-1:v===b?0:1}function xr(v,b,k){return v=v instanceof zo?new v.Collection(v):v,v._ctx.error=new(k||TypeError)(b),v}function ns(v){return new v.Collection(v,function(){return rs("")}).limit(0)}function yi(ue,b,k,T){var O,I,F,V,ie,he,te,Z=k.length;if(!k.every(function(ne){return typeof ne=="string"}))return xr(ue,Ps);function le(ne){O=ne==="next"?function(be){return be.toUpperCase()}:function(be){return be.toLowerCase()},I=ne==="next"?function(be){return be.toLowerCase()}:function(be){return be.toUpperCase()},F=ne==="next"?Uh:Hh;var ye=k.map(function(be){return{lower:I(be),upper:O(be)}}).sort(function(be,fe){return F(be.lower,fe.lower)});V=ye.map(function(be){return be.upper}),ie=ye.map(function(be){return be.lower}),te=(he=ne)==="next"?"":T}le("next");var ue=new ue.Collection(ue,function(){return br(V[0],ie[Z-1]+T)}),re=(ue._ondirectionchange=function(ne){le(ne)},0);return ue._addAlgorithm(function(ne,ye,be){var fe=ne.key;if(typeof fe=="string"){var Ce=I(fe);if(b(Ce,ie,re))return!0;for(var Ne=null,$e=re;$e<Z;++$e){var Ue=((Re,Ke,qe,Me,Ge,Bt)=>{for(var Wt=Math.min(Re.length,Me.length),dt=-1,jt=0;jt<Wt;++jt){var an=Ke[jt];if(an!==Me[jt])return Ge(Re[jt],qe[jt])<0?Re.substr(0,jt)+qe[jt]+qe.substr(jt+1):Ge(Re[jt],Me[jt])<0?Re.substr(0,jt)+Me[jt]+qe.substr(jt+1):0<=dt?Re.substr(0,dt)+Ke[dt]+qe.substr(dt+1):null;Ge(Re[jt],an)<0&&(dt=jt)}return Wt<Me.length&&Bt==="next"?Re+qe.substr(Re.length):Wt<Re.length&&Bt==="prev"?Re.substr(0,qe.length):dt<0?null:Re.substr(0,dt)+Me[dt]+qe.substr(dt+1)})(fe,Ce,V[$e],ie[$e],F,he);Ue===null&&Ne===null?re=$e+1:(Ne===null||0<F(Ne,Ue))&&(Ne=Ue)}ye(Ne!==null?function(){ne.continue(Ne+te)}:be)}return!1}),ue}function br(v,b,k,T){return{type:2,lower:v,upper:b,lowerOpen:k,upperOpen:T}}function rs(v){return{type:1,lower:v,upper:v}}Object.defineProperty(vn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),vn.prototype.between=function(v,b,k,T){k=k!==!1,T=T===!0;try{return 0<this._cmp(v,b)||this._cmp(v,b)===0&&(k||T)&&(!k||!T)?ns(this):new this.Collection(this,function(){return br(v,b,!k,!T)})}catch{return xr(this,At)}},vn.prototype.equals=function(v){return v==null?xr(this,At):new this.Collection(this,function(){return rs(v)})},vn.prototype.above=function(v){return v==null?xr(this,At):new this.Collection(this,function(){return br(v,void 0,!0)})},vn.prototype.aboveOrEqual=function(v){return v==null?xr(this,At):new this.Collection(this,function(){return br(v,void 0,!1)})},vn.prototype.below=function(v){return v==null?xr(this,At):new this.Collection(this,function(){return br(void 0,v,!1,!0)})},vn.prototype.belowOrEqual=function(v){return v==null?xr(this,At):new this.Collection(this,function(){return br(void 0,v)})},vn.prototype.startsWith=function(v){return typeof v!="string"?xr(this,Ps):this.between(v,v+An,!0,!0)},vn.prototype.startsWithIgnoreCase=function(v){return v===""?this.startsWith(v):yi(this,function(b,k){return b.indexOf(k[0])===0},[v],An)},vn.prototype.equalsIgnoreCase=function(v){return yi(this,function(b,k){return b===k[0]},[v],"")},vn.prototype.anyOfIgnoreCase=function(){var v=M.apply(pe,arguments);return v.length===0?ns(this):yi(this,function(b,k){return k.indexOf(b)!==-1},v,"")},vn.prototype.startsWithAnyOfIgnoreCase=function(){var v=M.apply(pe,arguments);return v.length===0?ns(this):yi(this,function(b,k){return k.some(function(T){return b.indexOf(T)===0})},v,An)},vn.prototype.anyOf=function(){var v,b,k=this,T=M.apply(pe,arguments),O=this._cmp;try{T.sort(O)}catch{return xr(this,At)}return T.length===0?ns(this):((v=new this.Collection(this,function(){return br(T[0],T[T.length-1])}))._ondirectionchange=function(I){O=I==="next"?k._ascending:k._descending,T.sort(O)},b=0,v._addAlgorithm(function(I,F,V){for(var ie=I.key;0<O(ie,T[b]);)if(++b===T.length)return F(V),!1;return O(ie,T[b])===0||(F(function(){I.continue(T[b])}),!1)}),v)},vn.prototype.notEqual=function(v){return this.inAnyRange([[-1/0,v],[v,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},vn.prototype.noneOf=function(){var v=M.apply(pe,arguments);if(v.length===0)return new this.Collection(this);try{v.sort(this._ascending)}catch{return xr(this,At)}var b=v.reduce(function(k,T){return k?k.concat([[k[k.length-1][1],T]]):[[-1/0,T]]},null);return b.push([v[v.length-1],this.db._maxKey]),this.inAnyRange(b,{includeLowers:!1,includeUppers:!1})},vn.prototype.inAnyRange=function(v,be){var k=this,T=this._cmp,O=this._ascending,I=this._descending,F=this._min,V=this._max;if(v.length===0)return ns(this);if(!v.every(function(fe){return fe[0]!==void 0&&fe[1]!==void 0&&O(fe[0],fe[1])<=0}))return xr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ze.InvalidArgument);var ie=!be||be.includeLowers!==!1,he=be&&be.includeUppers===!0,te,Z=O;function le(fe,Ce){return Z(fe[0],Ce[0])}try{(te=v.reduce(function(fe,Ce){for(var Ne=0,$e=fe.length;Ne<$e;++Ne){var Ue=fe[Ne];if(T(Ce[0],Ue[1])<0&&0<T(Ce[1],Ue[0])){Ue[0]=F(Ue[0],Ce[0]),Ue[1]=V(Ue[1],Ce[1]);break}}return Ne===$e&&fe.push(Ce),fe},[])).sort(le)}catch{return xr(this,At)}var ue=0,re=he?function(fe){return 0<O(fe,te[ue][1])}:function(fe){return 0<=O(fe,te[ue][1])},ne=ie?function(fe){return 0<I(fe,te[ue][0])}:function(fe){return 0<=I(fe,te[ue][0])},ye=re,be=new this.Collection(this,function(){return br(te[0][0],te[te.length-1][1],!ie,!he)});return be._ondirectionchange=function(fe){Z=fe==="next"?(ye=re,O):(ye=ne,I),te.sort(le)},be._addAlgorithm(function(fe,Ce,Ne){for(var $e,Ue=fe.key;ye(Ue);)if(++ue===te.length)return Ce(Ne),!1;return!re($e=Ue)&&!ne($e)||(k._cmp(Ue,te[ue][1])===0||k._cmp(Ue,te[ue][0])===0||Ce(function(){Z===O?fe.continue(te[ue][0]):fe.continue(te[ue][1])}),!1)}),be},vn.prototype.startsWithAnyOf=function(){var v=M.apply(pe,arguments);return v.every(function(b){return typeof b=="string"})?v.length===0?ns(this):this.inAnyRange(v.map(function(b){return[b,b+An]})):xr(this,"startsWithAnyOf() only works with strings")};var zo=vn;function vn(){}function nr(v){return Q(function(b){return Ha(b),v(b.target.error),!1})}function Ha(v){v.stopPropagation&&v.stopPropagation(),v.preventDefault&&v.preventDefault()}var $o="storagemutated",to="x-storagemutated-1",As=$a(null,$o),Vh=(Wr.prototype._lock=function(){return $(!We.global),++this._reculock,this._reculock!==1||We.global||(We.lockOwnerFor=this),this},Wr.prototype._unlock=function(){if($(!We.global),--this._reculock==0)for(We.global||(We.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var v=this._blockedFuncs.shift();try{rn(v[1],v[0])}catch{}}return this},Wr.prototype._locked=function(){return this._reculock&&We.lockOwnerFor!==this},Wr.prototype.create=function(v){var b=this;if(this.mode){var k=this.db.idbdb,T=this.db._state.dbOpenError;if($(!this.idbtrans),!v&&!k)switch(T&&T.name){case"DatabaseClosedError":throw new ze.DatabaseClosed(T);case"MissingAPIError":throw new ze.MissingAPI(T.message,T);default:throw new ze.OpenFailed(T)}if(!this.active)throw new ze.TransactionInactive;$(this._completion._state===null),(v=this.idbtrans=v||(this.db.core||k).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Q(function(O){Ha(O),b._reject(v.error)}),v.onabort=Q(function(O){Ha(O),b.active&&b._reject(new ze.Abort(v.error)),b.active=!1,b.on("abort").fire(O)}),v.oncomplete=Q(function(){b.active=!1,b._resolve(),"mutatedParts"in v&&As.storagemutated.fire(v.mutatedParts)})}return this},Wr.prototype._promise=function(v,b,k){var T,O=this;return v==="readwrite"&&this.mode!=="readwrite"?pt(new ze.ReadOnly("Transaction is readonly")):this.active?this._locked()?new He(function(I,F){O._blockedFuncs.push([function(){O._promise(v,b,k).then(I,F)},We])}):k?Ye(function(){var I=new He(function(F,V){O._lock();var ie=b(F,V,O);ie&&ie.then&&ie.then(F,V)});return I.finally(function(){return O._unlock()}),I._lib=!0,I}):((T=new He(function(I,F){var V=b(I,F,O);V&&V.then&&V.then(I,F)}))._lib=!0,T):pt(new ze.TransactionInactive)},Wr.prototype._root=function(){return this.parent?this.parent._root():this},Wr.prototype.waitFor=function(v){var b,k=this._root(),T=He.resolve(v),O=(k._waitingFor?k._waitingFor=k._waitingFor.then(function(){return T}):(k._waitingFor=T,k._waitingQueue=[],b=k.idbtrans.objectStore(k.storeNames[0]),(function I(){for(++k._spinCount;k._waitingQueue.length;)k._waitingQueue.shift()();k._waitingFor&&(b.get(-1/0).onsuccess=I)})()),k._waitingFor);return new He(function(I,F){T.then(function(V){return k._waitingQueue.push(Q(I.bind(null,V)))},function(V){return k._waitingQueue.push(Q(F.bind(null,V)))}).finally(function(){k._waitingFor===O&&(k._waitingFor=null)})})},Wr.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ze.Abort))},Wr.prototype.table=function(v){var b=this._memoizedTables||(this._memoizedTables={});if(p(b,v))return b[v];var k=this.schema[v];if(k)return(k=new this.db.Table(v,k,this)).core=this.db.core.table(v),b[v]=k;throw new ze.NotFound("Table "+v+" not part of transaction")},Wr);function Wr(){}function Zl(v,b,k,T,O,I,F,V){return{name:v,keyPath:b,unique:k,multi:T,auto:O,compound:I,src:(k&&!F?"&":"")+(T?"*":"")+(O?"++":"")+Wh(b),type:V}}function Wh(v){return typeof v=="string"?v:v?"["+[].join.call(v,"+")+"]":""}function no(v,b,k){return{name:v,primKey:b,indexes:k,mappedClass:null,idxByName:(T=function(O){return[O.name,O]},k.reduce(function(O,I,F){return I=T(I,F),I&&(O[I[0]]=I[1]),O},{}))};var T}var is=function(v){try{return v.only([[]]),is=function(){return[[]]},[[]]}catch{return is=function(){return An},An}};function Is(v){return v==null?function(){}:typeof v=="string"?(b=v).split(".").length===1?function(k){return k[b]}:function(k){return D(k,b)}:function(k){return D(k,v)};var b}function Va(v){return[].slice.call(v)}var Eg=0;function Wa(v){return v==null?":id":typeof v=="string"?v:"[".concat(v.join("+"),"]")}function Tc(v,b,ie){function T(re){if(re.type===3)return null;if(re.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Z=re.lower,le=re.upper,ue=re.lowerOpen,re=re.upperOpen;return Z===void 0?le===void 0?null:b.upperBound(le,!!re):le===void 0?b.lowerBound(Z,!!ue):b.bound(Z,le,!!ue,!!re)}function O(te){var Z,le=te.name;return{name:le,schema:te,mutate:function(ue){var re=ue.trans,ne=ue.type,ye=ue.keys,be=ue.values,fe=ue.range;return new Promise(function(Ce,Ne){Ce=Q(Ce);var $e=re.objectStore(le),Ue=$e.keyPath==null,Re=ne==="put"||ne==="add";if(!Re&&ne!=="delete"&&ne!=="deleteRange")throw new Error("Invalid operation type: "+ne);var Ke,qe=(ye||be||{length:1}).length;if(ye&&be&&ye.length!==be.length)throw new Error("Given keys array must have same length as given values array.");if(qe===0)return Ce({numFailures:0,failures:{},results:[],lastResult:void 0});function Me(Xt){++Wt,Ha(Xt)}var Ge=[],Bt=[],Wt=0;if(ne==="deleteRange"){if(fe.type===4)return Ce({numFailures:Wt,failures:Bt,results:[],lastResult:void 0});fe.type===3?Ge.push(Ke=$e.clear()):Ge.push(Ke=$e.delete(T(fe)))}else{var Ue=Re?Ue?[be,ye]:[be,null]:[ye,null],dt=Ue[0],jt=Ue[1];if(Re)for(var an=0;an<qe;++an)Ge.push(Ke=jt&&jt[an]!==void 0?$e[ne](dt[an],jt[an]):$e[ne](dt[an])),Ke.onerror=Me;else for(an=0;an<qe;++an)Ge.push(Ke=$e[ne](dt[an])),Ke.onerror=Me}function qr(Xt){Xt=Xt.target.result,Ge.forEach(function(us,Ya){return us.error!=null&&(Bt[Ya]=us.error)}),Ce({numFailures:Wt,failures:Bt,results:ne==="delete"?ye:Ge.map(function(us){return us.result}),lastResult:Xt})}Ke.onerror=function(Xt){Me(Xt),qr(Xt)},Ke.onsuccess=qr})},getMany:function(ue){var re=ue.trans,ne=ue.keys;return new Promise(function(ye,be){ye=Q(ye);for(var fe,Ce=re.objectStore(le),Ne=ne.length,$e=new Array(Ne),Ue=0,Re=0,Ke=function(Ge){Ge=Ge.target,$e[Ge._pos]=Ge.result,++Re===Ue&&ye($e)},qe=nr(be),Me=0;Me<Ne;++Me)ne[Me]!=null&&((fe=Ce.get(ne[Me]))._pos=Me,fe.onsuccess=Ke,fe.onerror=qe,++Ue);Ue===0&&ye($e)})},get:function(ue){var re=ue.trans,ne=ue.key;return new Promise(function(ye,be){ye=Q(ye);var fe=re.objectStore(le).get(ne);fe.onsuccess=function(Ce){return ye(Ce.target.result)},fe.onerror=nr(be)})},query:(Z=V,function(ue){return new Promise(function(re,ne){re=Q(re);var ye,be,fe,Re=ue.trans,Ce=ue.values,Ne=ue.limit,Ue=ue.query,$e=Ne===1/0?void 0:Ne,Ke=Ue.index,Ue=Ue.range,Re=Re.objectStore(le),Re=Ke.isPrimaryKey?Re:Re.index(Ke.name),Ke=T(Ue);if(Ne===0)return re({result:[]});Z?((Ue=Ce?Re.getAll(Ke,$e):Re.getAllKeys(Ke,$e)).onsuccess=function(qe){return re({result:qe.target.result})},Ue.onerror=nr(ne)):(ye=0,be=!Ce&&"openKeyCursor"in Re?Re.openKeyCursor(Ke):Re.openCursor(Ke),fe=[],be.onsuccess=function(qe){var Me=be.result;return!Me||(fe.push(Ce?Me.value:Me.primaryKey),++ye===Ne)?re({result:fe}):void Me.continue()},be.onerror=nr(ne))})}),openCursor:function(ue){var re=ue.trans,ne=ue.values,ye=ue.query,be=ue.reverse,fe=ue.unique;return new Promise(function(Ce,Ne){Ce=Q(Ce);var Re=ye.index,$e=ye.range,Ue=re.objectStore(le),Ue=Re.isPrimaryKey?Ue:Ue.index(Re.name),Re=be?fe?"prevunique":"prev":fe?"nextunique":"next",Ke=!ne&&"openKeyCursor"in Ue?Ue.openKeyCursor(T($e),Re):Ue.openCursor(T($e),Re);Ke.onerror=nr(Ne),Ke.onsuccess=Q(function(qe){var Me,Ge,Bt,Wt,dt=Ke.result;dt?(dt.___id=++Eg,dt.done=!1,Me=dt.continue.bind(dt),Ge=(Ge=dt.continuePrimaryKey)&&Ge.bind(dt),Bt=dt.advance.bind(dt),Wt=function(){throw new Error("Cursor not stopped")},dt.trans=re,dt.stop=dt.continue=dt.continuePrimaryKey=dt.advance=function(){throw new Error("Cursor not started")},dt.fail=Q(Ne),dt.next=function(){var jt=this,an=1;return this.start(function(){return an--?jt.continue():jt.stop()}).then(function(){return jt})},dt.start=function(jt){function an(){if(Ke.result)try{jt()}catch(Xt){dt.fail(Xt)}else dt.done=!0,dt.start=function(){throw new Error("Cursor behind last entry")},dt.stop()}var qr=new Promise(function(Xt,us){Xt=Q(Xt),Ke.onerror=nr(us),dt.fail=us,dt.stop=function(Ya){dt.stop=dt.continue=dt.continuePrimaryKey=dt.advance=Wt,Xt(Ya)}});return Ke.onsuccess=Q(function(Xt){Ke.onsuccess=an,an()}),dt.continue=Me,dt.continuePrimaryKey=Ge,dt.advance=Bt,an(),qr},Ce(dt)):Ce(null)},Ne)})},count:function(ue){var re=ue.query,ne=ue.trans,ye=re.index,be=re.range;return new Promise(function(fe,Ce){var Ne=ne.objectStore(le),Ne=ye.isPrimaryKey?Ne:Ne.index(ye.name),$e=T(be),$e=$e?Ne.count($e):Ne.count();$e.onsuccess=Q(function(Ue){return fe(Ue.target.result)}),$e.onerror=nr(Ce)})}}}I=ie,F=Va((ie=v).objectStoreNames);var I,ie={schema:{name:ie.name,tables:F.map(function(te){return I.objectStore(te)}).map(function(te){var Z=te.keyPath,le=te.autoIncrement,re=a(Z),ue={},re={name:te.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Z==null,compound:re,keyPath:Z,autoIncrement:le,unique:!0,extractKey:Is(Z)},indexes:Va(te.indexNames).map(function(ne){return te.index(ne)}).map(function(fe){var Ce=fe.name,ye=fe.unique,be=fe.multiEntry,fe=fe.keyPath,Ce={name:Ce,compound:a(fe),keyPath:fe,unique:ye,multiEntry:be,extractKey:Is(fe)};return ue[Wa(fe)]=Ce}),getIndexByKeyPath:function(ne){return ue[Wa(ne)]}};return ue[":id"]=re.primaryKey,Z!=null&&(ue[Wa(Z)]=re.primaryKey),re})},hasGetAll:0<F.length&&"getAll"in I.objectStore(F[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},F=ie.schema,V=ie.hasGetAll,ie=F.tables.map(O),he={};return ie.forEach(function(te){return he[te.name]=te}),{stack:"dbcore",transaction:v.transaction.bind(v),table:function(te){if(he[te])return he[te];throw new Error("Table '".concat(te,"' not found"))},MIN_KEY:-1/0,MAX_KEY:is(b),schema:F}}function eu(v,b,k,T){return k=k.IDBKeyRange,b=Tc(b,k,T),{dbcore:v.dbcore.reduce(function(O,I){return I=I.create,r(r({},O),I(O))},b)}}function Uo(v,b){var k=b.db,k=eu(v._middlewares,k,v._deps,b);v.core=k.dbcore,v.tables.forEach(function(T){var O=T.name;v.core.schema.tables.some(function(I){return I.name===O})&&(T.core=v.core.table(O),v[O]instanceof v.Table)&&(v[O].core=T.core)})}function qa(v,b,k,T){k.forEach(function(O){var I=T[O];b.forEach(function(F){var V=(function ie(he,te){return C(he,te)||(he=c(he))&&ie(he,te)})(F,O);(!V||"value"in V&&V.value===void 0)&&(F===v.Transaction.prototype||F instanceof v.Transaction?w(F,O,{get:function(){return this.table(O)},set:function(ie){y(this,O,{value:ie,writable:!0,configurable:!0,enumerable:!0})}}):F[O]=new v.Table(O,I))})})}function Li(v,b){b.forEach(function(k){for(var T in k)k[T]instanceof v.Table&&delete k[T]})}function Nc(v,b){return v._cfg.version-b._cfg.version}function tu(v,b,k,T){var O=v._dbSchema,I=(k.objectStoreNames.contains("$meta")&&!O.$meta&&(O.$meta=no("$meta",qo("")[0],[]),v._storeNames.push("$meta")),v._createTransaction("readwrite",v._storeNames,O)),F=(I.create(k),I._completion.catch(T),I._reject.bind(I)),V=We.transless||We;Ye(function(){if(We.trans=I,We.transless=V,b!==0)return Uo(v,k),he=b,((ie=I).storeNames.includes("$meta")?ie.table("$meta").get("version").then(function(te){return te??he}):He.resolve(he)).then(function(ye){var Z=v,le=ye,ue=I,re=k,ne=[],ye=Z._versions,be=Z._dbSchema=ss(0,Z.idbdb,re);return(ye=ye.filter(function(fe){return fe._cfg.version>=le})).length===0?He.resolve():(ye.forEach(function(fe){ne.push(function(){var Ce,Ne,$e,Ue=be,Re=fe._cfg.dbschema,Ke=(Wo(Z,Ue,re),Wo(Z,Re,re),be=Z._dbSchema=Re,Ho(Ue,Re)),qe=(Ke.add.forEach(function(Me){Vo(re,Me[0],Me[1].primKey,Me[1].indexes)}),Ke.change.forEach(function(Me){if(Me.recreate)throw new ze.Upgrade("Not yet support for changing primary key");var Ge=re.objectStore(Me.name);Me.add.forEach(function(Bt){return fr(Ge,Bt)}),Me.change.forEach(function(Bt){Ge.deleteIndex(Bt.name),fr(Ge,Bt)}),Me.del.forEach(function(Bt){return Ge.deleteIndex(Bt)})}),fe._cfg.contentUpgrade);if(qe&&fe._cfg.version>le)return Uo(Z,re),ue._memoizedTables={},Ce=z(Re),Ke.del.forEach(function(Me){Ce[Me]=Ue[Me]}),Li(Z,[Z.Transaction.prototype]),qa(Z,[Z.Transaction.prototype],o(Ce),Ce),ue.schema=Ce,(Ne=G(qe))&&nt(),Re=He.follow(function(){var Me;($e=qe(ue))&&Ne&&(Me=Je.bind(null,null),$e.then(Me,Me))}),$e&&typeof $e.then=="function"?He.resolve($e):Re.then(function(){return $e})}),ne.push(function(Ce){var Ne,$e,Ue=fe._cfg.dbschema;Ne=Ue,$e=Ce,[].slice.call($e.db.objectStoreNames).forEach(function(Re){return Ne[Re]==null&&$e.db.deleteObjectStore(Re)}),Li(Z,[Z.Transaction.prototype]),qa(Z,[Z.Transaction.prototype],Z._storeNames,Z._dbSchema),ue.schema=Z._dbSchema}),ne.push(function(Ce){Z.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(Z.idbdb.version/10)===fe._cfg.version?(Z.idbdb.deleteObjectStore("$meta"),delete Z._dbSchema.$meta,Z._storeNames=Z._storeNames.filter(function(Ne){return Ne!=="$meta"})):Ce.objectStore("$meta").put(fe._cfg.version,"version"))})}),(function fe(){return ne.length?He.resolve(ne.shift()(ue.idbtrans)).then(fe):He.resolve()})().then(function(){Pc(be,re)}))}).catch(F);var ie,he;o(O).forEach(function(te){Vo(k,te,O[te].primKey,O[te].indexes)}),Uo(v,k),He.follow(function(){return v.on.populate.fire(I)}).catch(F)})}function qh(v,b){Pc(v._dbSchema,b),b.db.version%10!=0||b.objectStoreNames.contains("$meta")||b.db.createObjectStore("$meta").add(Math.ceil(b.db.version/10-1),"version");var k=ss(0,v.idbdb,b);Wo(v,v._dbSchema,b);for(var T=0,O=Ho(k,v._dbSchema).change;T<O.length;T++){var I=(F=>{if(F.change.length||F.recreate)return console.warn("Unable to patch indexes of table ".concat(F.name," because it has changes on the type of index or primary key.")),{value:void 0};var V=b.objectStore(F.name);F.add.forEach(function(ie){Bn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(F.name,".").concat(ie.src)),fr(V,ie)})})(O[T]);if(typeof I=="object")return I.value}}function Ho(v,b){var k,T={del:[],add:[],change:[]};for(k in v)b[k]||T.del.push(k);for(k in b){var O=v[k],I=b[k];if(O){var F={name:k,def:I,recreate:!1,del:[],add:[],change:[]};if(""+(O.primKey.keyPath||"")!=""+(I.primKey.keyPath||"")||O.primKey.auto!==I.primKey.auto)F.recreate=!0,T.change.push(F);else{var V=O.idxByName,ie=I.idxByName,he=void 0;for(he in V)ie[he]||F.del.push(he);for(he in ie){var te=V[he],Z=ie[he];te?te.src!==Z.src&&F.change.push(Z):F.add.push(Z)}(0<F.del.length||0<F.add.length||0<F.change.length)&&T.change.push(F)}}else T.add.push([k,I])}return T}function Vo(v,b,k,T){var O=v.db.createObjectStore(b,k.keyPath?{keyPath:k.keyPath,autoIncrement:k.auto}:{autoIncrement:k.auto});T.forEach(function(I){return fr(O,I)})}function Pc(v,b){o(v).forEach(function(k){b.db.objectStoreNames.contains(k)||(Bn&&console.debug("Dexie: Creating missing table",k),Vo(b,k,v[k].primKey,v[k].indexes))})}function fr(v,b){v.createIndex(b.name,b.keyPath,{unique:b.unique,multiEntry:b.multi})}function ss(v,b,k){var T={};return P(b.objectStoreNames,0).forEach(function(O){for(var I=k.objectStore(O),F=Zl(Wh(he=I.keyPath),he||"",!0,!1,!!I.autoIncrement,he&&typeof he!="string",!0),V=[],ie=0;ie<I.indexNames.length;++ie){var te=I.index(I.indexNames[ie]),he=te.keyPath,te=Zl(te.name,he,!!te.unique,!!te.multiEntry,!1,he&&typeof he!="string",!1);V.push(te)}T[O]=no(O,F,V)}),T}function Wo(v,b,k){for(var T=k.db.objectStoreNames,O=0;O<T.length;++O){var I=T[O],F=k.objectStore(I);v._hasGetAll="getAll"in F;for(var V=0;V<F.indexNames.length;++V){var ie,he=F.indexNames[V],te=F.index(he).keyPath,te=typeof te=="string"?te:"["+P(te).join("+")+"]";b[I]&&(ie=b[I].idxByName[te])&&(ie.name=he,delete b[I].idxByName[te],b[I].idxByName[he]=ie)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(v._hasGetAll=!1)}function qo(v){return v.split(",").map(function(b,k){var O=b.split(":"),T=(T=O[1])==null?void 0:T.trim(),O=(b=O[0].trim()).replace(/([&*]|\+\+)/g,""),I=/^\[/.test(O)?O.match(/^\[(.*)\]$/)[1].split("+"):O;return Zl(O,I||null,/\&/.test(b),/\*/.test(b),/\+\+/.test(b),a(I),k===0,T)})}Ls.prototype._createTableSchema=no,Ls.prototype._parseIndexSyntax=qo,Ls.prototype._parseStoresSpec=function(v,b){var k=this;o(v).forEach(function(T){if(v[T]!==null){var O=k._parseIndexSyntax(v[T]),I=O.shift();if(!I)throw new ze.Schema("Invalid schema for table "+T+": "+v[T]);if(I.unique=!0,I.multi)throw new ze.Schema("Primary key cannot be multiEntry*");O.forEach(function(F){if(F.auto)throw new ze.Schema("Only primary key can be marked as autoIncrement (++)");if(!F.keyPath)throw new ze.Schema("Index must have a name and cannot be an empty string")}),I=k._createTableSchema(T,I,O),b[T]=I}})},Ls.prototype.stores=function(k){var b=this.db,k=(this._cfg.storesSource=this._cfg.storesSource?u(this._cfg.storesSource,k):k,b._versions),T={},O={};return k.forEach(function(I){u(T,I._cfg.storesSource),O=I._cfg.dbschema={},I._parseStoresSpec(T,O)}),b._dbSchema=O,Li(b,[b._allTables,b,b.Transaction.prototype]),qa(b,[b._allTables,b,b.Transaction.prototype,this._cfg.tables],o(O),O),b._storeNames=o(O),this},Ls.prototype.upgrade=function(v){return this._cfg.contentUpgrade=Xr(this._cfg.contentUpgrade||ht,v),this};var jg=Ls;function Ls(){}function Qa(v,b){var k=v._dbNamesDB;return k||(k=v._dbNamesDB=new as(dr,{addons:[],indexedDB:v,IDBKeyRange:b})).version(1).stores({dbnames:"name"}),k.table("dbnames")}function ro(v){return v&&typeof v.databases=="function"}function Qo(v){return Ye(function(){return We.letThrough=!0,v()})}function nu(v){return!("from"in v)}var pr=function(v,b){var k;if(!this)return k=new pr,v&&"d"in v&&u(k,v),k;u(this,arguments.length?{d:1,from:v,to:1<arguments.length?b:v}:{d:0})};function Ka(v,b,k){var T=rt(b,k);if(!isNaN(T)){if(0<T)throw RangeError();if(nu(v))return u(v,{from:b,to:k,d:1});var T=v.l,O=v.r;if(rt(k,v.from)<0)return T?Ka(T,b,k):v.l={from:b,to:k,d:1,l:null,r:null},Qh(v);if(0<rt(b,v.to))return O?Ka(O,b,k):v.r={from:b,to:k,d:1,l:null,r:null},Qh(v);rt(b,v.from)<0&&(v.from=b,v.l=null,v.d=O?O.d+1:1),0<rt(k,v.to)&&(v.to=k,v.r=null,v.d=v.l?v.l.d+1:1),b=!v.r,T&&!v.l&&Ga(v,T),O&&b&&Ga(v,O)}}function Ga(v,b){nu(b)||(function k(T,O){var I=O.from,F=O.l,V=O.r;Ka(T,I,O.to),F&&k(T,F),V&&k(T,V)})(v,b)}function ru(v,b){var k=iu(b),T=k.next();if(!T.done)for(var O=T.value,I=iu(v),F=I.next(O.from),V=F.value;!T.done&&!F.done;){if(rt(V.from,O.to)<=0&&0<=rt(V.to,O.from))return!0;rt(O.from,V.from)<0?O=(T=k.next(V.from)).value:V=(F=I.next(O.from)).value}return!1}function iu(v){var b=nu(v)?null:{s:0,n:v};return{next:function(k){for(var T=0<arguments.length;b;)switch(b.s){case 0:if(b.s=1,T)for(;b.n.l&&rt(k,b.n.from)<0;)b={up:b,n:b.n.l,s:1};else for(;b.n.l;)b={up:b,n:b.n.l,s:1};case 1:if(b.s=2,!T||rt(k,b.n.to)<=0)return{value:b.n,done:!1};case 2:if(b.n.r){b.s=3,b={up:b,n:b.n.r,s:0};continue}case 3:b=b.up}return{done:!0}}}}function Qh(v){var b,k,T,O=(((O=v.r)==null?void 0:O.d)||0)-(((O=v.l)==null?void 0:O.d)||0),O=1<O?"r":O<-1?"l":"";O&&(b=O=="r"?"l":"r",k=r({},v),T=v[O],v.from=T.from,v.to=T.to,v[O]=T[O],k[O]=T[b],(v[b]=k).d=Kh(k)),v.d=Kh(v)}function Kh(k){var b=k.r,k=k.l;return(b?k?Math.max(b.d,k.d):b.d:k?k.d:0)+1}function su(v,b){return o(b).forEach(function(k){v[k]?Ga(v[k],b[k]):v[k]=(function T(O){var I,F,V={};for(I in O)p(O,I)&&(F=O[I],V[I]=!F||typeof F!="object"||ae.has(F.constructor)?F:T(F));return V})(b[k])}),v}function Oc(v,b){return v.all||b.all||Object.keys(v).some(function(k){return b[k]&&ru(b[k],v[k])})}g(pr.prototype,((Se={add:function(v){return Ga(this,v),this},addKey:function(v){return Ka(this,v,v),this},addKeys:function(v){var b=this;return v.forEach(function(k){return Ka(b,k,k)}),this},hasKey:function(v){var b=iu(this).next(v).value;return b&&rt(b.from,v)<=0&&0<=rt(b.to,v)}})[J]=function(){return iu(this)},Se));var Ds={},Rc={},Ac=!1;function ou(v){su(Rc,v),Ac||(Ac=!0,setTimeout(function(){Ac=!1,Ic(Rc,!(Rc={}))},0))}function Ic(v,b){b===void 0&&(b=!1);var k=new Set;if(v.all)for(var T=0,O=Object.values(Ds);T<O.length;T++)au(V=O[T],v,k,b);else for(var I in v){var F,V,I=/^idb\:\/\/(.*)\/(.*)\//.exec(I);I&&(F=I[1],I=I[2],V=Ds["idb://".concat(F,"/").concat(I)])&&au(V,v,k,b)}k.forEach(function(ie){return ie()})}function au(v,b,k,T){for(var O=[],I=0,F=Object.entries(v.queries.query);I<F.length;I++){for(var V=F[I],ie=V[0],he=[],te=0,Z=V[1];te<Z.length;te++){var le=Z[te];Oc(b,le.obsSet)?le.subscribers.forEach(function(ye){return k.add(ye)}):T&&he.push(le)}T&&O.push([ie,he])}if(T)for(var ue=0,re=O;ue<re.length;ue++){var ne=re[ue],ie=ne[0],he=ne[1];v.queries.query[ie]=he}}function Tg(v){var b=v._state,k=v._deps.indexedDB;if(b.isBeingOpened||v.idbdb)return b.dbReadyPromise.then(function(){return b.dbOpenError?pt(b.dbOpenError):v});b.isBeingOpened=!0,b.dbOpenError=null,b.openComplete=!1;var T=b.openCanceller,O=Math.round(10*v.verno),I=!1;function F(){if(b.openCanceller!==T)throw new ze.DatabaseClosed("db.open() was cancelled")}function V(){return new He(function(le,ue){if(F(),!k)throw new ze.MissingAPI;var re=v.name,ne=b.autoSchema||!O?k.open(re):k.open(re,O);if(!ne)throw new ze.MissingAPI;ne.onerror=nr(ue),ne.onblocked=Q(v._fireOnBlocked),ne.onupgradeneeded=Q(function(ye){var be;te=ne.transaction,b.autoSchema&&!v._options.allowEmptyDB?(ne.onerror=Ha,te.abort(),ne.result.close(),(be=k.deleteDatabase(re)).onsuccess=be.onerror=Q(function(){ue(new ze.NoSuchDatabase("Database ".concat(re," doesnt exist")))})):(te.onerror=nr(ue),be=ye.oldVersion>Math.pow(2,62)?0:ye.oldVersion,Z=be<1,v.idbdb=ne.result,I&&qh(v,te),tu(v,be/10,te,ue))},ue),ne.onsuccess=Q(function(){te=null;var ye,be,fe,Ce,Ne,$e,Ue=v.idbdb=ne.result,Re=P(Ue.objectStoreNames);if(0<Re.length)try{var Ke=Ue.transaction((Ne=Re).length===1?Ne[0]:Ne,"readonly");if(b.autoSchema)$e=Ue,Ce=Ke,(fe=v).verno=$e.version/10,Ce=fe._dbSchema=ss(0,$e,Ce),fe._storeNames=P($e.objectStoreNames,0),qa(fe,[fe._allTables],o(Ce),Ce);else if(Wo(v,v._dbSchema,Ke),be=Ke,((be=Ho(ss(0,(ye=v).idbdb,be),ye._dbSchema)).add.length||be.change.some(function(qe){return qe.add.length||qe.change.length}))&&!I)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ue.close(),O=Ue.version+1,I=!0,le(V());Uo(v,Ke)}catch{}tr.push(v),Ue.onversionchange=Q(function(qe){b.vcFired=!0,v.on("versionchange").fire(qe)}),Ue.onclose=Q(function(){v.close({disableAutoOpen:!1})}),Z&&(Re=v._deps,Ne=re,ro($e=Re.indexedDB)||Ne===dr||Qa($e,Re.IDBKeyRange).put({name:Ne}).catch(ht)),le()},ue)}).catch(function(le){switch(le?.name){case"UnknownError":if(0<b.PR1398_maxLoop)return b.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),V();break;case"VersionError":if(0<O)return O=0,V()}return He.reject(le)})}var ie,he=b.dbReadyResolve,te=null,Z=!1;return He.race([T,(typeof navigator>"u"?He.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(le){function ue(){return indexedDB.databases().finally(le)}ie=setInterval(ue,100),ue()}).finally(function(){return clearInterval(ie)}):Promise.resolve()).then(V)]).then(function(){return F(),b.onReadyBeingFired=[],He.resolve(Qo(function(){return v.on.ready.fire(v.vip)})).then(function le(){var ue;if(0<b.onReadyBeingFired.length)return ue=b.onReadyBeingFired.reduce(Xr,ht),b.onReadyBeingFired=[],He.resolve(Qo(function(){return ue(v.vip)})).then(le)})}).finally(function(){b.openCanceller===T&&(b.onReadyBeingFired=null,b.isBeingOpened=!1)}).catch(function(le){b.dbOpenError=le;try{te&&te.abort()}catch{}return T===b.openCanceller&&v._close(),pt(le)}).finally(function(){b.openComplete=!0,he()}).then(function(){var le;return Z&&(le={},v.tables.forEach(function(ue){ue.schema.indexes.forEach(function(re){re.name&&(le["idb://".concat(v.name,"/").concat(ue.name,"/").concat(re.name)]=new pr(-1/0,[[[]]]))}),le["idb://".concat(v.name,"/").concat(ue.name,"/")]=le["idb://".concat(v.name,"/").concat(ue.name,"/:dels")]=new pr(-1/0,[[[]]])}),As($o).fire(le),Ic(le,!0)),v})}function Lc(v){function b(I){return v.next(I)}var k=O(b),T=O(function(I){return v.throw(I)});function O(I){return function(V){var V=I(V),ie=V.value;return V.done?ie:ie&&typeof ie.then=="function"?ie.then(k,T):a(ie)?Promise.all(ie).then(k,T):k(ie)}}return O(b)()}function lu(v,b,k){for(var T=a(v)?v.slice():[v],O=0;O<k;++O)T.push(b);return T}var Gh={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(v){return r(r({},v),{table:function(T){var k=v.table(T),T=k.schema,O={},I=[];function F(le,ue,re){var fe=Wa(le),ne=O[fe]=O[fe]||[],ye=le==null?0:typeof le=="string"?1:le.length,be=0<ue,fe=r(r({},re),{name:be?"".concat(fe,"(virtual-from:").concat(re.name,")"):re.name,lowLevelIndex:re,isVirtual:be,keyTail:ue,keyLength:ye,extractKey:Is(le),unique:!be&&re.unique});return ne.push(fe),fe.isPrimaryKey||I.push(fe),1<ye&&F(ye===2?le[0]:le.slice(0,ye-1),ue+1,re),ne.sort(function(Ce,Ne){return Ce.keyTail-Ne.keyTail}),fe}var V=F(T.primaryKey.keyPath,0,T.primaryKey);O[":id"]=[V];for(var ie=0,he=T.indexes;ie<he.length;ie++){var te=he[ie];F(te.keyPath,0,te)}function Z(le){var ue,re=le.query.index;return re.isVirtual?r(r({},le),{query:{index:re.lowLevelIndex,range:(ue=le.query.range,re=re.keyTail,{type:ue.type===1?2:ue.type,lower:lu(ue.lower,ue.lowerOpen?v.MAX_KEY:v.MIN_KEY,re),lowerOpen:!0,upper:lu(ue.upper,ue.upperOpen?v.MIN_KEY:v.MAX_KEY,re),upperOpen:!0})}}):le}return r(r({},k),{schema:r(r({},T),{primaryKey:V,indexes:I,getIndexByKeyPath:function(le){return(le=O[Wa(le)])&&le[0]}}),count:function(le){return k.count(Z(le))},query:function(le){return k.query(Z(le))},openCursor:function(le){var ue=le.query.index,re=ue.keyTail,ne=ue.keyLength;return ue.isVirtual?k.openCursor(Z(le)).then(function(be){return be&&ye(be)}):k.openCursor(le);function ye(be){return Object.create(be,{continue:{value:function(fe){fe!=null?be.continue(lu(fe,le.reverse?v.MAX_KEY:v.MIN_KEY,re)):le.unique?be.continue(be.key.slice(0,ne).concat(le.reverse?v.MIN_KEY:v.MAX_KEY,re)):be.continue()}},continuePrimaryKey:{value:function(fe,Ce){be.continuePrimaryKey(lu(fe,v.MAX_KEY,re),Ce)}},primaryKey:{get:function(){return be.primaryKey}},key:{get:function(){var fe=be.key;return ne===1?fe[0]:fe.slice(0,ne)}},value:{get:function(){return be.value}}})}}})}})}};function Dc(v,b,k,T){return k=k||{},T=T||"",o(v).forEach(function(O){var I,F,V;p(b,O)?(I=v[O],F=b[O],typeof I=="object"&&typeof F=="object"&&I&&F?(V=H(I))!==H(F)?k[T+O]=b[O]:V==="Object"?Dc(I,F,k,T+O+"."):I!==F&&(k[T+O]=b[O]):I!==F&&(k[T+O]=b[O])):k[T+O]=void 0}),o(b).forEach(function(O){p(v,O)||(k[T+O]=b[O])}),k}function Mc(v,b){return b.type==="delete"?b.keys:b.keys||b.values.map(v.extractKey)}var Ng={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(v){return r(r({},v),{table:function(b){var k=v.table(b),T=k.schema.primaryKey;return r(r({},k),{mutate:function(O){var I=We.trans,F=I.table(b).hook,V=F.deleting,ie=F.creating,he=F.updating;switch(O.type){case"add":if(ie.fire===ht)break;return I._promise("readwrite",function(){return te(O)},!0);case"put":if(ie.fire===ht&&he.fire===ht)break;return I._promise("readwrite",function(){return te(O)},!0);case"delete":if(V.fire===ht)break;return I._promise("readwrite",function(){return te(O)},!0);case"deleteRange":if(V.fire===ht)break;return I._promise("readwrite",function(){return(function Z(le,ue,re){return k.query({trans:le,values:!1,query:{index:T,range:ue},limit:re}).then(function(ne){var ye=ne.result;return te({type:"delete",keys:ye,trans:le}).then(function(be){return 0<be.numFailures?Promise.reject(be.failures[0]):ye.length<re?{failures:[],numFailures:0,lastResult:void 0}:Z(le,r(r({},ue),{lower:ye[ye.length-1],lowerOpen:!0}),re)})})})(O.trans,O.range,1e4)},!0)}return k.mutate(O);function te(Z){var le,ue,re,ne=We.trans,ye=Z.keys||Mc(T,Z);if(ye)return(Z=Z.type==="add"||Z.type==="put"?r(r({},Z),{keys:ye}):r({},Z)).type!=="delete"&&(Z.values=i([],Z.values)),Z.keys&&(Z.keys=i([],Z.keys)),le=k,re=ye,((ue=Z).type==="add"?Promise.resolve([]):le.getMany({trans:ue.trans,keys:re,cache:"immutable"})).then(function(be){var fe=ye.map(function(Ce,Ne){var $e,Ue,Re,Ke=be[Ne],qe={onerror:null,onsuccess:null};return Z.type==="delete"?V.fire.call(qe,Ce,Ke,ne):Z.type==="add"||Ke===void 0?($e=ie.fire.call(qe,Ce,Z.values[Ne],ne),Ce==null&&$e!=null&&(Z.keys[Ne]=Ce=$e,T.outbound||R(Z.values[Ne],T.keyPath,Ce))):($e=Dc(Ke,Z.values[Ne]),(Ue=he.fire.call(qe,$e,Ce,Ke,ne))&&(Re=Z.values[Ne],Object.keys(Ue).forEach(function(Me){p(Re,Me)?Re[Me]=Ue[Me]:R(Re,Me,Ue[Me])}))),qe});return k.mutate(Z).then(function(Ce){for(var Ne=Ce.failures,$e=Ce.results,Ue=Ce.numFailures,Ce=Ce.lastResult,Re=0;Re<ye.length;++Re){var Ke=($e||ye)[Re],qe=fe[Re];Ke==null?qe.onerror&&qe.onerror(Ne[Re]):qe.onsuccess&&qe.onsuccess(Z.type==="put"&&be[Re]?Z.values[Re]:Ke)}return{failures:Ne,results:$e,numFailures:Ue,lastResult:Ce}}).catch(function(Ce){return fe.forEach(function(Ne){return Ne.onerror&&Ne.onerror(Ce)}),Promise.reject(Ce)})});throw new Error("Keys missing")}}})}})}};function Yh(v,b,k){try{if(!b||b.keys.length<v.length)return null;for(var T=[],O=0,I=0;O<b.keys.length&&I<v.length;++O)rt(b.keys[O],v[I])===0&&(T.push(k?xe(b.values[O]):b.values[O]),++I);return T.length===v.length?T:null}catch{return null}}var Pg={stack:"dbcore",level:-1,create:function(v){return{table:function(b){var k=v.table(b);return r(r({},k),{getMany:function(T){var O;return T.cache?(O=Yh(T.keys,T.trans._cache,T.cache==="clone"))?He.resolve(O):k.getMany(T).then(function(I){return T.trans._cache={keys:T.keys,values:T.cache==="clone"?xe(I):I},I}):k.getMany(T)},mutate:function(T){return T.type!=="add"&&(T.trans._cache=null),k.mutate(T)}})}}}};function Jh(v,b){return v.trans.mode==="readonly"&&!!v.subscr&&!v.trans.explicit&&v.trans.db._options.cache!=="disabled"&&!b.schema.primaryKey.outbound}function Xh(v,b){switch(v){case"query":return b.values&&!b.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Fc={stack:"dbcore",level:0,name:"Observability",create:function(v){var b=v.schema.name,k=new pr(v.MIN_KEY,v.MAX_KEY);return r(r({},v),{transaction:function(T,O,I){if(We.subscr&&O!=="readonly")throw new ze.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(We.querier));return v.transaction(T,O,I)},table:function(T){function O(ye){var ne,ye=ye.query;return[ne=ye.index,new pr((ne=(ye=ye.range).lower)!=null?ne:v.MIN_KEY,(ne=ye.upper)!=null?ne:v.MAX_KEY)]}var I=v.table(T),F=I.schema,V=F.primaryKey,ie=F.indexes,he=V.extractKey,te=V.outbound,Z=V.autoIncrement&&ie.filter(function(re){return re.compound&&re.keyPath.includes(V.keyPath)}),le=r(r({},I),{mutate:function(re){function ne(Ge){return Ge="idb://".concat(b,"/").concat(T,"/").concat(Ge),Ne[Ge]||(Ne[Ge]=new pr)}var ye,be,fe,Ce=re.trans,Ne=re.mutatedParts||(re.mutatedParts={}),$e=ne(""),Ue=ne(":dels"),Re=re.type,qe=re.type==="deleteRange"?[re.range]:re.type==="delete"?[re.keys]:re.values.length<50?[Mc(V,re).filter(function(Ge){return Ge}),re.values]:[],Ke=qe[0],qe=qe[1],Me=re.trans._cache;return a(Ke)?($e.addKeys(Ke),(Re=Re==="delete"||Ke.length===qe.length?Yh(Ke,Me):null)||Ue.addKeys(Ke),(Re||qe)&&(ye=ne,be=Re,fe=qe,F.indexes.forEach(function(Ge){var Bt=ye(Ge.name||"");function Wt(jt){return jt!=null?Ge.extractKey(jt):null}function dt(jt){Ge.multiEntry&&a(jt)?jt.forEach(function(an){return Bt.addKey(an)}):Bt.addKey(jt)}(be||fe).forEach(function(jt,Xt){var qr=be&&Wt(be[Xt]),Xt=fe&&Wt(fe[Xt]);rt(qr,Xt)!==0&&(qr!=null&&dt(qr),Xt!=null)&&dt(Xt)})}))):Ke?(qe={from:(Me=Ke.lower)!=null?Me:v.MIN_KEY,to:(Re=Ke.upper)!=null?Re:v.MAX_KEY},Ue.add(qe),$e.add(qe)):($e.add(k),Ue.add(k),F.indexes.forEach(function(Ge){return ne(Ge.name).add(k)})),I.mutate(re).then(function(Ge){return!Ke||re.type!=="add"&&re.type!=="put"||($e.addKeys(Ge.results),Z&&Z.forEach(function(Bt){for(var Wt=re.values.map(function(qr){return Bt.extractKey(qr)}),dt=Bt.keyPath.findIndex(function(qr){return qr===V.keyPath}),jt=0,an=Ge.results.length;jt<an;++jt)Wt[jt][dt]=Ge.results[jt];ne(Bt.name).addKeys(Wt)})),Ce.mutatedParts=su(Ce.mutatedParts||{},Ne),Ge})}}),ue={get:function(re){return[V,new pr(re.key)]},getMany:function(re){return[V,new pr().addKeys(re.keys)]},count:O,query:O,openCursor:O};return o(ue).forEach(function(re){le[re]=function(ne){var ye=We.subscr,be=!!ye,fe=Jh(We,I)&&Xh(re,ne)?ne.obsSet={}:ye;if(be){var Ce,ye=function(qe){return qe="idb://".concat(b,"/").concat(T,"/").concat(qe),fe[qe]||(fe[qe]=new pr)},Ne=ye(""),$e=ye(":dels"),be=ue[re](ne),Ue=be[0],be=be[1];if((re==="query"&&Ue.isPrimaryKey&&!ne.values?$e:ye(Ue.name||"")).add(be),!Ue.isPrimaryKey){if(re!=="count")return Ce=re==="query"&&te&&ne.values&&I.query(r(r({},ne),{values:!1})),I[re].apply(this,arguments).then(function(qe){if(re==="query"){if(te&&ne.values)return Ce.then(function(Wt){return Wt=Wt.result,Ne.addKeys(Wt),qe});var Me=ne.values?qe.result.map(he):qe.result;(ne.values?Ne:$e).addKeys(Me)}else{var Ge,Bt;if(re==="openCursor")return Bt=ne.values,(Ge=qe)&&Object.create(Ge,{key:{get:function(){return $e.addKey(Ge.primaryKey),Ge.key}},primaryKey:{get:function(){var Wt=Ge.primaryKey;return $e.addKey(Wt),Wt}},value:{get:function(){return Bt&&Ne.addKey(Ge.primaryKey),Ge.value}}})}return qe});$e.add(k)}}return I[re].apply(this,arguments)}}),le}})}};function Ko(v,b,k){var T;return k.numFailures===0?b:b.type==="deleteRange"||(T=b.keys?b.keys.length:"values"in b&&b.values?b.values.length:1,k.numFailures===T)?null:(T=r({},b),a(T.keys)&&(T.keys=T.keys.filter(function(O,I){return!(I in k.failures)})),"values"in T&&a(T.values)&&(T.values=T.values.filter(function(O,I){return!(I in k.failures)})),T)}function Bc(v,b){return k=v,((T=b).lower===void 0||(T.lowerOpen?0<rt(k,T.lower):0<=rt(k,T.lower)))&&(k=v,(T=b).upper===void 0||(T.upperOpen?rt(k,T.upper)<0:rt(k,T.upper)<=0));var k,T}function zc(v,b,k,T,O,I){var F,V,ie,he,te,Z;return!k||k.length===0||(F=b.query.index,V=F.multiEntry,ie=b.query.range,he=T.schema.primaryKey.extractKey,te=F.extractKey,Z=(F.lowLevelIndex||F).extractKey,(T=k.reduce(function(le,ue){var re=le,ne=[];if(ue.type==="add"||ue.type==="put")for(var ye=new pr,be=ue.values.length-1;0<=be;--be){var fe,Ce=ue.values[be],Ne=he(Ce);!ye.hasKey(Ne)&&(fe=te(Ce),V&&a(fe)?fe.some(function(qe){return Bc(qe,ie)}):Bc(fe,ie))&&(ye.addKey(Ne),ne.push(Ce))}switch(ue.type){case"add":var $e=new pr().addKeys(b.values?le.map(function(Me){return he(Me)}):le),re=le.concat(b.values?ne.filter(function(Me){return Me=he(Me),!$e.hasKey(Me)&&($e.addKey(Me),!0)}):ne.map(function(Me){return he(Me)}).filter(function(Me){return!$e.hasKey(Me)&&($e.addKey(Me),!0)}));break;case"put":var Ue=new pr().addKeys(ue.values.map(function(Me){return he(Me)}));re=le.filter(function(Me){return!Ue.hasKey(b.values?he(Me):Me)}).concat(b.values?ne:ne.map(function(Me){return he(Me)}));break;case"delete":var Re=new pr().addKeys(ue.keys);re=le.filter(function(Me){return!Re.hasKey(b.values?he(Me):Me)});break;case"deleteRange":var Ke=ue.range;re=le.filter(function(Me){return!Bc(he(Me),Ke)})}return re},v))===v)?v:(T.sort(function(le,ue){return rt(Z(le),Z(ue))||rt(he(le),he(ue))}),b.limit&&b.limit<1/0&&(T.length>b.limit?T.length=b.limit:v.length===b.limit&&T.length<b.limit&&(O.dirty=!0)),I?Object.freeze(T):T)}function $c(v,b){return rt(v.lower,b.lower)===0&&rt(v.upper,b.upper)===0&&!!v.lowerOpen==!!b.lowerOpen&&!!v.upperOpen==!!b.upperOpen}function Zh(v,b){return((k,T,O,I)=>{if(k===void 0)return T!==void 0?-1:0;if(T===void 0)return 1;if((k=rt(k,T))===0){if(O&&I)return 0;if(O)return 1;if(I)return-1}return k})(v.lower,b.lower,v.lowerOpen,b.lowerOpen)<=0&&0<=((k,T,O,I)=>{if(k===void 0)return T!==void 0?1:0;if(T===void 0)return-1;if((k=rt(k,T))===0){if(O&&I)return 0;if(O)return-1;if(I)return 1}return k})(v.upper,b.upper,v.upperOpen,b.upperOpen)}function ef(v,b,k,T){v.subscribers.add(k),T.addEventListener("abort",function(){var O,I;v.subscribers.delete(k),v.subscribers.size===0&&(O=v,I=b,setTimeout(function(){O.subscribers.size===0&&X(I,O)},3e3))})}var tf={stack:"dbcore",level:0,name:"Cache",create:function(v){var b=v.schema.name;return r(r({},v),{transaction:function(k,T,O){var I,F,V=v.transaction(k,T,O);return T==="readwrite"&&(O=(I=new AbortController).signal,V.addEventListener("abort",(F=function(ie){return function(){if(I.abort(),T==="readwrite"){for(var he=new Set,te=0,Z=k;te<Z.length;te++){var le=Z[te],ue=Ds["idb://".concat(b,"/").concat(le)];if(ue){var re=v.table(le),ne=ue.optimisticOps.filter(function(Ge){return Ge.trans===V});if(V._explicit&&ie&&V.mutatedParts)for(var ye=0,be=Object.values(ue.queries.query);ye<be.length;ye++)for(var fe=0,Ce=(Ue=be[ye]).slice();fe<Ce.length;fe++)Oc((Re=Ce[fe]).obsSet,V.mutatedParts)&&(X(Ue,Re),Re.subscribers.forEach(function(Ge){return he.add(Ge)}));else if(0<ne.length){ue.optimisticOps=ue.optimisticOps.filter(function(Ge){return Ge.trans!==V});for(var Ne=0,$e=Object.values(ue.queries.query);Ne<$e.length;Ne++)for(var Ue,Re,Ke,qe=0,Me=(Ue=$e[Ne]).slice();qe<Me.length;qe++)(Re=Me[qe]).res!=null&&V.mutatedParts&&(ie&&!Re.dirty?(Ke=Object.isFrozen(Re.res),Ke=zc(Re.res,Re.req,ne,re,Re,Ke),Re.dirty?(X(Ue,Re),Re.subscribers.forEach(function(Ge){return he.add(Ge)})):Ke!==Re.res&&(Re.res=Ke,Re.promise=He.resolve({result:Ke}))):(Re.dirty&&X(Ue,Re),Re.subscribers.forEach(function(Ge){return he.add(Ge)})))}}}he.forEach(function(Ge){return Ge()})}}})(!1),{signal:O}),V.addEventListener("error",F(!1),{signal:O}),V.addEventListener("complete",F(!0),{signal:O})),V},table:function(k){var T=v.table(k),O=T.schema.primaryKey;return r(r({},T),{mutate:function(I){var F,V=We.trans;return!O.outbound&&V.db._options.cache!=="disabled"&&!V.explicit&&V.idbtrans.mode==="readwrite"&&(F=Ds["idb://".concat(b,"/").concat(k)])?(V=T.mutate(I),I.type!=="add"&&I.type!=="put"||!(50<=I.values.length||Mc(O,I).some(function(ie){return ie==null}))?(F.optimisticOps.push(I),I.mutatedParts&&ou(I.mutatedParts),V.then(function(ie){0<ie.numFailures&&(X(F.optimisticOps,I),(ie=Ko(0,I,ie))&&F.optimisticOps.push(ie),I.mutatedParts)&&ou(I.mutatedParts)}),V.catch(function(){X(F.optimisticOps,I),I.mutatedParts&&ou(I.mutatedParts)})):V.then(function(ie){var he=Ko(0,r(r({},I),{values:I.values.map(function(te,Z){var le;return ie.failures[Z]?te:(R(le=(le=O.keyPath)!=null&&le.includes(".")?xe(te):r({},te),O.keyPath,ie.results[Z]),le)})}),ie);F.optimisticOps.push(he),queueMicrotask(function(){return I.mutatedParts&&ou(I.mutatedParts)})}),V):T.mutate(I)},query:function(I){var F,V,ie,he,te,Z,le;return Jh(We,T)&&Xh("query",I)?(F=((ie=We.trans)==null?void 0:ie.db._options.cache)==="immutable",V=(ie=We).requery,ie=ie.signal,Z=((ue,re,ne,ye)=>{var be=Ds["idb://".concat(ue,"/").concat(re)];if(!be)return[];if(!(ue=be.queries[ne]))return[null,!1,be,null];var fe=ue[(ye.query?ye.query.index.name:null)||""];if(!fe)return[null,!1,be,null];switch(ne){case"query":var Ce=fe.find(function(Ne){return Ne.req.limit===ye.limit&&Ne.req.values===ye.values&&$c(Ne.req.query.range,ye.query.range)});return Ce?[Ce,!0,be,fe]:[fe.find(function(Ne){return("limit"in Ne.req?Ne.req.limit:1/0)>=ye.limit&&(!ye.values||Ne.req.values)&&Zh(Ne.req.query.range,ye.query.range)}),!1,be,fe];case"count":return Ce=fe.find(function(Ne){return $c(Ne.req.query.range,ye.query.range)}),[Ce,!!Ce,be,fe]}})(b,k,"query",I),le=Z[0],he=Z[2],te=Z[3],le&&Z[1]?le.obsSet=I.obsSet:(Z=T.query(I).then(function(ue){var re=ue.result;if(le&&(le.res=re),F){for(var ne=0,ye=re.length;ne<ye;++ne)Object.freeze(re[ne]);Object.freeze(re)}else ue.result=xe(re);return ue}).catch(function(ue){return te&&le&&X(te,le),Promise.reject(ue)}),le={obsSet:I.obsSet,promise:Z,subscribers:new Set,type:"query",req:I,dirty:!1},te?te.push(le):(te=[le],(he=he||(Ds["idb://".concat(b,"/").concat(k)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[I.query.index.name||""]=te)),ef(le,te,V,ie),le.promise.then(function(ue){return{result:zc(ue.result,I,he?.optimisticOps,T,le,F)}})):T.query(I)}})}})}};function os(v,b){return new Proxy(v,{get:function(k,T,O){return T==="db"?b:Reflect.get(k,T,O)}})}kn.prototype.version=function(v){if(isNaN(v)||v<.1)throw new ze.Type("Given version is not a positive number");if(v=Math.round(10*v)/10,this.idbdb||this._state.isBeingOpened)throw new ze.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,v);var b=this._versions,k=b.filter(function(T){return T._cfg.version===v})[0];return k||(k=new this.Version(v),b.push(k),b.sort(Nc),k.stores({}),this._state.autoSchema=!1),k},kn.prototype._whenReady=function(v){var b=this;return this.idbdb&&(this._state.openComplete||We.letThrough||this._vip)?v():new He(function(k,T){if(b._state.openComplete)return T(new ze.DatabaseClosed(b._state.dbOpenError));if(!b._state.isBeingOpened){if(!b._state.autoOpen)return void T(new ze.DatabaseClosed);b.open().catch(ht)}b._state.dbReadyPromise.then(k,T)}).then(v)},kn.prototype.use=function(O){var b=O.stack,k=O.create,T=O.level,O=O.name,I=(O&&this.unuse({stack:b,name:O}),this._middlewares[b]||(this._middlewares[b]=[]));return I.push({stack:b,create:k,level:T??10,name:O}),I.sort(function(F,V){return F.level-V.level}),this},kn.prototype.unuse=function(v){var b=v.stack,k=v.name,T=v.create;return b&&this._middlewares[b]&&(this._middlewares[b]=this._middlewares[b].filter(function(O){return T?O.create!==T:!!k&&O.name!==k})),this},kn.prototype.open=function(){var v=this;return rn(Zn,function(){return Tg(v)})},kn.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var v=this._state,b=tr.indexOf(this);if(0<=b&&tr.splice(b,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}v.isBeingOpened||(v.dbReadyPromise=new He(function(k){v.dbReadyResolve=k}),v.openCanceller=new He(function(k,T){v.cancelOpen=T}))},kn.prototype.close=function(b){var b=(b===void 0?{disableAutoOpen:!0}:b).disableAutoOpen,k=this._state;b?(k.isBeingOpened&&k.cancelOpen(new ze.DatabaseClosed),this._close(),k.autoOpen=!1,k.dbOpenError=new ze.DatabaseClosed):(this._close(),k.autoOpen=this._options.autoOpen||k.isBeingOpened,k.openComplete=!1,k.dbOpenError=null)},kn.prototype.delete=function(v){var b=this,k=(v===void 0&&(v={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),T=this._state;return new He(function(O,I){function F(){b.close(v);var V=b._deps.indexedDB.deleteDatabase(b.name);V.onsuccess=Q(function(){var ie,he,te;ie=b._deps,he=b.name,ro(te=ie.indexedDB)||he===dr||Qa(te,ie.IDBKeyRange).delete(he).catch(ht),O()}),V.onerror=nr(I),V.onblocked=b._fireOnBlocked}if(k)throw new ze.InvalidArgument("Invalid closeOptions argument to db.delete()");T.isBeingOpened?T.dbReadyPromise.then(F):F()})},kn.prototype.backendDB=function(){return this.idbdb},kn.prototype.isOpen=function(){return this.idbdb!==null},kn.prototype.hasBeenClosed=function(){var v=this._state.dbOpenError;return v&&v.name==="DatabaseClosed"},kn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},kn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(kn.prototype,"tables",{get:function(){var v=this;return o(this._allTables).map(function(b){return v._allTables[b]})},enumerable:!1,configurable:!0}),kn.prototype.transaction=function(){var v=(function(b,k,T){var O=arguments.length;if(O<2)throw new ze.InvalidArgument("Too few arguments");for(var I=new Array(O-1);--O;)I[O-1]=arguments[O];return T=I.pop(),[b,B(I),T]}).apply(this,arguments);return this._transaction.apply(this,v)},kn.prototype._transaction=function(v,b,k){var T,O,I=this,F=We.trans,V=(F&&F.db===this&&v.indexOf("!")===-1||(F=null),v.indexOf("?")!==-1);v=v.replace("!","").replace("?","");try{if(O=b.map(function(he){if(he=he instanceof I.Table?he.name:he,typeof he!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return he}),v=="r"||v===Ri)T=Ri;else{if(v!="rw"&&v!=es)throw new ze.InvalidArgument("Invalid transaction mode: "+v);T=es}if(F){if(F.mode===Ri&&T===es){if(!V)throw new ze.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");F=null}F&&O.forEach(function(he){if(F&&F.storeNames.indexOf(he)===-1){if(!V)throw new ze.SubTransaction("Table "+he+" not included in parent transaction.");F=null}}),V&&F&&!F.active&&(F=null)}}catch(he){return F?F._promise(null,function(te,Z){Z(he)}):pt(he)}var ie=(function he(te,Z,le,ue,re){return He.resolve().then(function(){var fe=We.transless||We,ne=te._createTransaction(Z,le,te._dbSchema,ue),fe=(ne.explicit=!0,{trans:ne,transless:fe});if(ue)ne.idbtrans=ue.idbtrans;else try{ne.create(),ne.idbtrans._explicit=!0,te._state.PR1398_maxLoop=3}catch(Ce){return Ce.name===Ve.InvalidState&&te.isOpen()&&0<--te._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),te.close({disableAutoOpen:!1}),te.open().then(function(){return he(te,Z,le,null,re)})):pt(Ce)}var ye,be=G(re),fe=(be&&nt(),He.follow(function(){var Ce;(ye=re.call(ne,ne))&&(be?(Ce=Je.bind(null,null),ye.then(Ce,Ce)):typeof ye.next=="function"&&typeof ye.throw=="function"&&(ye=Lc(ye)))},fe));return(ye&&typeof ye.then=="function"?He.resolve(ye).then(function(Ce){return ne.active?Ce:pt(new ze.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):fe.then(function(){return ye})).then(function(Ce){return ue&&ne._resolve(),ne._completion.then(function(){return Ce})}).catch(function(Ce){return ne._reject(Ce),pt(Ce)})})}).bind(null,this,T,O,F,k);return F?F._promise(T,ie,"lock"):We.trans?rn(We.transless,function(){return I._whenReady(ie)}):this._whenReady(ie)},kn.prototype.table=function(v){if(p(this._allTables,v))return this._allTables[v];throw new ze.InvalidTable("Table ".concat(v," does not exist"))};var as=kn;function kn(v,b){var k,T,O,I,F,V=this,ie=(this._middlewares={},this.verno=0,kn.dependencies),ie=(this._options=b=r({addons:kn.addons,autoOpen:!0,indexedDB:ie.indexedDB,IDBKeyRange:ie.IDBKeyRange,cache:"cloned"},b),this._deps={indexedDB:b.indexedDB,IDBKeyRange:b.IDBKeyRange},b.addons),he=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ht,dbReadyPromise:null,cancelOpen:ht,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:b.autoOpen}),te=(he.dbReadyPromise=new He(function(Z){he.dbReadyResolve=Z}),he.openCanceller=new He(function(Z,le){he.cancelOpen=le}),this._state=he,this.name=v,this.on=$a(this,"populate","blocked","versionchange","close",{ready:[Xr,ht]}),this.once=function(Z,le){var ue=function(){for(var re=[],ne=0;ne<arguments.length;ne++)re[ne]=arguments[ne];V.on(Z).unsubscribe(ue),le.apply(V,re)};return V.on(Z,ue)},this.on.ready.subscribe=A(this.on.ready.subscribe,function(Z){return function(le,ue){kn.vip(function(){var re,ne=V._state;ne.openComplete?(ne.dbOpenError||He.resolve().then(le),ue&&Z(le)):ne.onReadyBeingFired?(ne.onReadyBeingFired.push(le),ue&&Z(le)):(Z(le),re=V,ue||Z(function ye(){re.on.ready.unsubscribe(le),re.on.ready.unsubscribe(ye)}))})}}),this.Collection=(k=this,Xs($h.prototype,function(ye,ne){this.db=k;var ue=Ai,re=null;if(ne)try{ue=ne()}catch(fe){re=fe}var ne=ye._ctx,ye=ne.table,be=ye.hook.reading.fire;this._ctx={table:ye,index:ne.index,isPrimKey:!ne.index||ye.schema.primKey.keyPath&&ne.index===ye.schema.primKey.name,range:ue,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:re,or:ne.or,valueMapper:be!==Zt?be:null}})),this.Table=(T=this,Xs(za.prototype,function(Z,le,ue){this.db=T,this._tx=ue,this.name=Z,this.schema=le,this.hook=T._allTables[Z]?T._allTables[Z].hook:$a(null,{creating:[$r,ht],reading:[Wn,Zt],updating:[Do,ht],deleting:[js,ht]})})),this.Transaction=(O=this,Xs(Vh.prototype,function(Z,le,ue,re,ne){var ye=this;Z!=="readonly"&&le.forEach(function(be){be=(be=ue[be])==null?void 0:be.yProps,be&&(le=le.concat(be.map(function(fe){return fe.updatesTable})))}),this.db=O,this.mode=Z,this.storeNames=le,this.schema=ue,this.chromeTransactionDurability=re,this.idbtrans=null,this.on=$a(this,"complete","error","abort"),this.parent=ne||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new He(function(be,fe){ye._resolve=be,ye._reject=fe}),this._completion.then(function(){ye.active=!1,ye.on.complete.fire()},function(be){var fe=ye.active;return ye.active=!1,ye.on.error.fire(be),ye.parent?ye.parent._reject(be):fe&&ye.idbtrans&&ye.idbtrans.abort(),pt(be)})})),this.Version=(I=this,Xs(jg.prototype,function(Z){this.db=I,this._cfg={version:Z,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(F=this,Xs(zo.prototype,function(Z,le,ue){if(this.db=F,this._ctx={table:Z,index:le===":id"?null:le,or:ue},this._cmp=this._ascending=rt,this._descending=function(re,ne){return rt(ne,re)},this._max=function(re,ne){return 0<rt(re,ne)?re:ne},this._min=function(re,ne){return rt(re,ne)<0?re:ne},this._IDBKeyRange=F._deps.IDBKeyRange,!this._IDBKeyRange)throw new ze.MissingAPI})),this.on("versionchange",function(Z){0<Z.newVersion?console.warn("Another connection wants to upgrade database '".concat(V.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(V.name,"'. Closing db now to resume the delete request.")),V.close({disableAutoOpen:!1})}),this.on("blocked",function(Z){!Z.newVersion||Z.newVersion<Z.oldVersion?console.warn("Dexie.delete('".concat(V.name,"') was blocked")):console.warn("Upgrade '".concat(V.name,"' blocked by other connection holding version ").concat(Z.oldVersion/10))}),this._maxKey=is(b.IDBKeyRange),this._createTransaction=function(Z,le,ue,re){return new V.Transaction(Z,le,ue,V._options.chromeTransactionDurability,re)},this._fireOnBlocked=function(Z){V.on("blocked").fire(Z),tr.filter(function(le){return le.name===V.name&&le!==V&&!le._state.vcFired}).map(function(le){return le.on("versionchange").fire(Z)})},this.use(Pg),this.use(tf),this.use(Fc),this.use(Gh),this.use(Ng),new Proxy(this,{get:function(Z,le,ue){var re;return le==="_vip"||(le==="table"?function(ne){return os(V.table(ne),te)}:(re=Reflect.get(Z,le,ue))instanceof za?os(re,te):le==="tables"?re.map(function(ne){return os(ne,te)}):le==="_createTransaction"?function(){return os(re.apply(this,arguments),te)}:re)}}));this.vip=te,ie.forEach(function(Z){return Z(V)})}var uu,io=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",nf=(so.prototype.subscribe=function(v,b,k){return this._subscribe(v&&typeof v!="function"?v:{next:v,error:b,complete:k})},so.prototype[io]=function(){return this},so);function so(v){this._subscribe=v}try{uu={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{uu={indexedDB:null,IDBKeyRange:null}}function Go(v){var b,k=!1,T=new nf(function(O){var I=G(v),F,V=!1,ie={},he={},te={get closed(){return V},unsubscribe:function(){V||(V=!0,F&&F.abort(),Z&&As.storagemutated.unsubscribe(ue))}},Z=(O.start&&O.start(te),!1),le=function(){return Rn(re)},ue=function(ne){su(ie,ne),Oc(he,ie)&&le()},re=function(){var ne,ye,be;!V&&uu.indexedDB&&(ie={},ne={},F&&F.abort(),F=new AbortController,be=(fe=>{var Ce=Hr();try{I&&nt();var Ne=Ye(v,fe);return Ne=I?Ne.finally(Je):Ne}finally{Ce&&Oi()}})(ye={subscr:ne,signal:F.signal,requery:le,querier:v,trans:null}),Promise.resolve(be).then(function(fe){k=!0,b=fe,V||ye.signal.aborted||(ie={},(Ce=>{for(var Ne in Ce)if(p(Ce,Ne))return;return 1})(he=ne)||Z||(As($o,ue),Z=!0),Rn(function(){return!V&&O.next&&O.next(fe)}))},function(fe){k=!1,["DatabaseClosedError","AbortError"].includes(fe?.name)||V||Rn(function(){V||O.error&&O.error(fe)})}))};return setTimeout(le,0),te});return T.hasValue=function(){return k},T.getValue=function(){return b},T}var oo=as;function Yo(v){var b=ls;try{ls=!0,As.storagemutated.fire(v),Ic(v,!0)}finally{ls=b}}g(oo,r(r({},me),{delete:function(v){return new oo(v,{addons:[]}).delete()},exists:function(v){return new oo(v,{addons:[]}).open().then(function(b){return b.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(v){try{return b=oo.dependencies,k=b.indexedDB,b=b.IDBKeyRange,(ro(k)?Promise.resolve(k.databases()).then(function(T){return T.map(function(O){return O.name}).filter(function(O){return O!==dr})}):Qa(k,b).toCollection().primaryKeys()).then(v)}catch{return pt(new ze.MissingAPI)}var b,k},defineClass:function(){return function(v){u(this,v)}},ignoreTransaction:function(v){return We.trans?rn(We.transless,v):v()},vip:Qo,async:function(v){return function(){try{var b=Lc(v.apply(this,arguments));return b&&typeof b.then=="function"?b:He.resolve(b)}catch(k){return pt(k)}}},spawn:function(v,b,k){try{var T=Lc(v.apply(k,b||[]));return T&&typeof T.then=="function"?T:He.resolve(T)}catch(O){return pt(O)}},currentTransaction:{get:function(){return We.trans||null}},waitFor:function(v,b){return v=He.resolve(typeof v=="function"?oo.ignoreTransaction(v):v).timeout(b||6e4),We.trans?We.trans.waitFor(v):v},Promise:He,debug:{get:function(){return Bn},set:function(v){Ts(v)}},derive:S,extend:u,props:g,override:A,Events:$a,on:As,liveQuery:Go,extendObservabilitySet:su,getByKeyPath:D,setByKeyPath:R,delByKeyPath:function(v,b){typeof b=="string"?R(v,b,void 0):"length"in b&&[].map.call(b,function(k){R(v,k,void 0)})},shallowClone:z,deepClone:xe,getObjectDiff:Dc,cmp:rt,asap:W,minKey:-1/0,addons:[],connections:tr,errnames:Ve,dependencies:uu,cache:Ds,semVer:"4.3.0",version:"4.3.0".split(".").map(function(v){return parseInt(v)}).reduce(function(v,b,k){return v+b/Math.pow(10,2*k)})})),oo.maxKey=is(oo.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(As($o,function(v){ls||(v=new CustomEvent(to,{detail:v}),ls=!0,dispatchEvent(v),ls=!1)}),addEventListener(to,function(v){v=v.detail,ls||Yo(v)}));var Jo,ls=!1,cu=function(){};return typeof BroadcastChannel<"u"&&((cu=function(){(Jo=new BroadcastChannel(to)).onmessage=function(v){return v.data&&Yo(v.data)}})(),typeof Jo.unref=="function"&&Jo.unref(),As($o,function(v){ls||Jo.postMessage(v)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(v){if(!as.disableBfCache&&v.persisted){Bn&&console.debug("Dexie: handling persisted pagehide"),Jo?.close();for(var b=0,k=tr;b<k.length;b++)k[b].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(v){!as.disableBfCache&&v.persisted&&(Bn&&console.debug("Dexie: handling persisted pageshow"),cu(),Yo({all:new pr(-1/0,[[]])}))})),He.rejectionMapper=function(v,b){return!v||v instanceof Pe||v instanceof TypeError||v instanceof SyntaxError||!v.name||!cr[v.name]?v:(b=new cr[v.name](b||v.message,v),"stack"in v&&w(b,"stack",{get:function(){return this.inner.stack}}),b)},Ts(Bn),r(as,Object.freeze({__proto__:null,Dexie:as,Entity:Dt,PropModification:Vr,RangeSet:pr,add:function(v){return new Vr({add:v})},cmp:rt,default:as,liveQuery:Go,mergeRanges:Ga,rangesOverlap:ru,remove:function(v){return new Vr({remove:v})},replacePrefix:function(v,b){return new Vr({replacePrefix:[v,b]})}}),{default:as}),as})})(Kp)),Kp.exports}var iF=rF();const Wy=Gi(iF),r5=Symbol.for("Dexie"),vm=globalThis[r5]||(globalThis[r5]=Wy);if(Wy.semVer!==vm.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Wy.semVer} and ${vm.semVer}`);const{liveQuery:sF,mergeRanges:lZ,rangesOverlap:uZ,RangeSet:cZ,cmp:dZ,Entity:hZ,PropModification:fZ,replacePrefix:pZ,add:mZ,remove:gZ,DexieYProvider:yZ}=vm;class oF extends vm{interested_snapshot;interested_subject;simulation_run;simulation_run_selections;simulation_run_events;constructor(){super("ALLCLL_Simulation"),this.version(1).stores({interested_snapshot:"++snapshot_id,user_id,created_at,simulated",interested_subject:"++interested_id,snapshot_id,subject_id",simulation_run:"++simulation_run_id,snapshot_id,user_id,department_name,success_subject_count,subject_count,accuracy,score,total_elapsed,started_at,ended_at",simulation_run_selections:"++run_selections_id,simulation_run_id,interested_id,selected_index,status,started_at,ended_at",simulation_run_events:"++event_id,simulation_section_id,event_type,timestamp"})}}const _t=new oF;async function FC(){const e=await _t.interested_snapshot.orderBy("created_at").last();if(!e)return null;const t=await _t.interested_subject.where("snapshot_id").equals(e.snapshot_id).toArray();return{...e,subjects:t}}async function BC(e){const t=await _t.interested_snapshot.get(e);if(!t)return null;const n=await _t.interested_subject.where("snapshot_id").equals(e).toArray();return{...t,subjects:n}}async function aF(e){const t=await _t.interested_snapshot.orderBy("created_at").last(),n=t&&!t.simulated?t.snapshot_id:await _t.interested_snapshot.add({user_id:"Todo: user_id",created_at:Date.now(),simulated:!1});t&&!t.simulated&&(await _t.interested_snapshot.update(t.snapshot_id,{created_at:Date.now()}),await _t.interested_subject.where("snapshot_id").equals(t.snapshot_id).delete()),await _t.interested_subject.bulkAdd(e.map(r=>({snapshot_id:n,subject_id:r})))}async function i5(e,t){const n=await _t.interested_subject.where("snapshot_id").equals(e).filter(r=>r.subject_id===t).first();return n?n.interested_id:-1}async function lF(){const e=await lh();if("errMsg"in e)throw new Error(e.errMsg);return e}const uF=["","","1","","","","","","","","","","","","","","","English Listening","English Reading"],cF=(e,t,n)=>{const r=e.find(s=>s.subjectId===t);let i=40;return r?.departmentName===""&&(uF.includes(r.subjectName)?i=4.6*3:i=4.6*4),console.log(n,i),n<i},tg=jr(e=>({currentSubjectId:0,isCaptchaFailed:!1,subjectStatusMap:{},setCurrentSubjectId:t=>e({currentSubjectId:t}),setSubjectStatus:(t,n)=>e(r=>({subjectStatusMap:{...r.subjectStatusMap,[t]:n}})),setCaptchaFailed:t=>e({isCaptchaFailed:t})}));var Yn=(e=>(e[e.SEARCH=0]="SEARCH",e[e.APPLY=1]="APPLY",e[e.CAPTCHA=2]="CAPTCHA",e[e.CANCEL_SUBMIT=3]="CANCEL_SUBMIT",e[e.SUBJECT_SUBMIT=4]="SUBJECT_SUBMIT",e[e.REFRESH=5]="REFRESH",e[e.SKIP_REFRESH=6]="SKIP_REFRESH",e))(Yn||{}),zt=(e=>(e[e.PROGRESS=0]="PROGRESS",e[e.SUCCESS=1]="SUCCESS",e[e.FAILED=2]="FAILED",e[e.DOUBLED=3]="DOUBLED",e[e.CAPTCHA_FAILED=4]="CAPTCHA_FAILED",e[e.NOT_ELIGIBLE=5]="NOT_ELIGIBLE",e[e.CANCELED=6]="CANCELED",e))(zt||{}),zC=(e=>(e.SNAPSHOT_NOT_EXIST="SNAPSHOT_NOT_EXIST",e.ONGOING_SIMULATION_NOT_FOUND="ONGOING_SIMULATION_NOT_FOUND",e.SELECTION_NOT_FOUND="SELECTION_NOT_FOUND",e.SIMULATION_NOT_FOUND="SIMULATION_NOT_FOUND",e.MULTIPLE_SIMULATION_FOUND="MULTIPLE_SIMULATION_FOUND",e.SIMULATION_IS_NOT_FINISHED="SIMULATION_IS_NOT_FINISHED",e.MULTIPLE_SIMULATION_RUNNING="MULTIPLE_SIMULATION_RUNNING",e.UNKNOWN_ERROR="UNKNOWN_ERROR",e))(zC||{});const Ex=300,dF=Ex*1e3;function Na(e){return{errMsg:e}}function $C(e){return e instanceof Error?Na(e.message):Na("UNKNOWN_ERROR")}async function lh(){try{const e=await ng();if(!e)return{simulationId:-1};const t=await _t.simulation_run_selections.filter(a=>rg(a,e.simulation_run_id)).toArray(),n=await _t.interested_subject.where("snapshot_id").equals(e.snapshot_id).toArray();if(!n)return Na("SNAPSHOT_NOT_EXIST");const r=t.filter(a=>a.status===1),i=n.filter(a=>r.some(u=>u.interested_id===a.interested_id)).map(a=>({subjectId:a.subject_id})),s=n.filter(a=>!r.some(u=>u.interested_id===a.interested_id)).map(a=>({subjectId:a.subject_id})),o=t.map(a=>{const u=n.find(c=>c.interested_id===a.interested_id);return u?{subjectId:u.subject_id,status:a.status}:{subjectId:-1,status:2}});return{simulationId:e.simulation_run_id,userStatus:{userPK:e.user_id,departmentCode:e.department_code,departmentName:e.department_name},searchEventAt:e.search_event_at,startedAt:e.started_at,nonRegisteredSubjects:s,registeredSubjects:i,subjectStatus:o}}catch(e){return $C(e)}}async function ng(){const e=await _t.simulation_run.filter(t=>t.ended_at===-1).toArray();if(e&&e.length>1)throw new Error("MULTIPLE_SIMULATION_RUNNING");return e[0]??null}async function hF(e){const t=await _t.simulation_run.where("simulation_run_id").equals(e).filter(n=>n.ended_at!==-1).toArray();if(!t.length)throw new Error("SIMULATION_NOT_FOUND");if(t.length>1)throw new Error("MULTIPLE_SIMULATION_FOUND");return t[0]}async function fF(e,t,n){const r=await lh();if(r&&"errMsg"in r)return r;if(r.simulationId!==-1)return{simulationId:r.simulationId,isRunning:!0};const i=await FC();if(!i)return Na("SNAPSHOT_NOT_EXIST");await _t.interested_snapshot.update(i.snapshot_id,{simulated:!0});const s=i.subjects;return{simulationId:await _t.simulation_run.add({snapshot_id:i.snapshot_id,user_id:e,department_code:t,department_name:n,success_subject_count:0,subject_count:s.length,accuracy:-1,score:-1,total_elapsed:-1,search_event_at:-1,started_at:Date.now(),ended_at:-1}),started_at:Date.now(),isRunning:!0}}async function So(e,t){const{eventType:n}=e;console.log("BUTTON EVENT",e);let r;try{if(r=await ng(),!r)throw new Error("ONGOING_SIMULATION_NOT_FOUND")}catch(c){return $C(c)}const i=r.simulation_run_id;if(n===0){const c=Date.now();return await _t.simulation_run.update(i,{search_event_at:c}),{elapsed_time:c-r.started_at}}const{subjectId:s}=e;if(n===1){const c=await _t.simulation_run_selections.filter(p=>p.simulation_run_id===r.simulation_run_id&&p.ended_at>=0).count(),f=await _t.simulation_run_selections.add({simulation_run_id:r.simulation_run_id,interested_id:await i5(r.snapshot_id,s),selected_index:c+1,status:0,started_at:Date.now(),ended_at:-1});return await _t.simulation_run_events.add({simulation_section_id:f,event_type:n,timestamp:Date.now()}),{}}const o=await _t.simulation_run_selections.filter(c=>c.simulation_run_id===i).toArray(),a=o.filter(c=>c.ended_at===-1).sort((c,f)=>f.started_at-c.started_at)[0];if(!a)return Na("SELECTION_NOT_FOUND");const u=Date.now();if(await _t.simulation_run_events.add({simulation_section_id:a.run_selections_id,event_type:n,timestamp:u}),n===4){const c=await i5(r.snapshot_id,s);if(!await _t.simulation_run_selections.filter(E=>E.simulation_run_id===i&&E.interested_id===c).last())return Na("SELECTION_NOT_FOUND");const p=async E=>(await _t.simulation_run_selections.update(a.run_selections_id,{status:E}),console.log("saved section",a.run_selections_id,E),{status:E});if(tg.getState().isCaptchaFailed)return await p(4);if(o.some(E=>E.interested_id===c&&E.status===2))return await p(3),{status:2};if(o.some(E=>E.interested_id===c&&E.ended_at>=0&&rg(E,i)))return await p(3);const S=Math.floor(u-r.started_at)/1e3;return cF(t,s,S)?await p(1):await p(2)}if(n===3&&await _t.simulation_run_selections.update(a.run_selections_id,{status:6,ended_at:Date.now()}),n===5||n===6){await _t.simulation_run_selections.update(a.run_selections_id,{ended_at:Date.now()});const c=await mF();return c&&await UC(),{finished:c}}return{}}async function oc(){await UC()}async function UC(){const e=await _t.simulation_run.filter(u=>u.ended_at<=-1).last();if(!e)return;const t=await _t.simulation_run_selections.filter(u=>u.simulation_run_id===e.simulation_run_id).toArray(),n=t.filter(u=>rg(u,e.simulation_run_id)).length,i=t.filter(u=>yF(u,e.simulation_run_id)).reduce((u,c)=>c.ended_at===-1?u+4600:u+(c.ended_at-c.started_at),0),s=Date.now()-e.started_at,o=IM(s/1e3,i/1e3),a=Zm(s/1e3/n)+AM(o);await _t.simulation_run.update(e.simulation_run_id,{ended_at:Date.now(),accuracy:o,score:Math.min(100,Math.max(0,a)),total_elapsed:s}),await gF(e)}async function pF({simulationId:e}){const t=await _t.simulation_run.get(e);return t?t.ended_at===-1?Na("SIMULATION_IS_NOT_FINISHED"):{accuracy:t.accuracy,score:t.score,total_elapsed:t.total_elapsed}:Na("SIMULATION_NOT_FOUND")}async function mF(){let e;try{e=await ng()}catch{return!0}if(!e)return!0;const t=await _t.simulation_run_selections.filter(n=>rg(n,e.simulation_run_id)).toArray();return e.subject_count<=t.length}async function gF(e){const t=e.simulation_run_id;return e.search_event_at<0?(await _t.simulation_run_selections.where("simulation_run_id").equals(t).delete(),await _t.simulation_run.delete(t),!0):(e.started_at+dF<Date.now()&&await _t.simulation_run.update(t,{ended_at:Date.now()}),!1)}const HC=(e,t)=>e.simulation_run_id===t,rg=(e,t)=>HC(e,t)&&[1,2].includes(e.status),yF=(e,t)=>HC(e,t)&&![1,2].includes(e.status);function ig(e){return e>5?"text-green-500 bg-green-100":e>0?"text-yellow-500 bg-yellow-100":e==0?"text-red-500 bg-red-100":"text-gray-500 bg-gray-100"}function vF(e){return e>=100?"text-red-500 bg-red-100":e>=50?"text-yellow-500 bg-yellow-100":e>=0?"text-green-500 bg-green-100":"text-gray-500 bg-gray-100"}function xF(e){return bF(qy(e))}function qy(e){switch(e){case zt.SUCCESS:return"green";case zt.FAILED:return"red";case zt.CAPTCHA_FAILED:return"orange";case zt.PROGRESS:return"yellow";default:return"gray"}}function bF(e){switch(e){case"green":return"bg-green-100 text-green-500";case"red":return"bg-red-100 text-red-500";case"orange":return"bg-orange-100 text-orange-500";case"yellow":return"bg-yellow-100 text-yellow-500";default:return"bg-gray-100 text-gray-500"}}function VC(e){return e==null?"default":e>5?"success":e>0?"warning":e==0?"danger":"default"}function wF(e){return e==null?"default":e>=100?"danger":e>=50?"warning":e>=0?"success":"default"}function jx({wishCount:e,formatter:t=n=>n}){const n=e!=null&&e>=0,r=wF(e),i=n?e:"-";return h.jsx(jo,{variant:r,children:t(i)})}Ks.register(Nh,Ph,Oh,Wl,Vl);const _F={labels:["","","",""],datasets:[{data:[40,25,20,15],backgroundColor:Rh}]};function SF(){return h.jsxs(La,{children:[h.jsx(kh,{title:" ",href:"/wishes"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[h.jsx(It,{level:3,children:" "}),h.jsx("div",{className:"flex align-center justify-center max-h-96",children:h.jsx(Cx,{data:_F})})]}),h.jsxs("div",{className:"bg-white p-6 shadow-md rounded-md",children:[h.jsx(It,{level:3,children:"  "}),[{name:"",dept:" ",status:30},{name:"",dept:"",status:14}].map((e,t)=>h.jsxs("div",{className:"mt-4 flex justify-between p-2 rounded-md border border-gray-200",children:[h.jsxs("div",{children:[h.jsx(It,{level:4,children:e.name}),h.jsx("p",{className:"text-sm text-gray-500",children:e.dept})]}),h.jsx("span",{children:h.jsx(jx,{wishCount:e.status,formatter:n=>`: ${n}`})})]},"recommend-course-"+t))]})]})]})}function Qy({seat:e,formatter:t=n=>n}){const n=e!=null&&e>=0,r=VC(e),i=n?e:"-";return h.jsx(jo,{variant:r,children:t(i)})}const Pa=({className:e,disabled:t=!1})=>{const n=t?"text-gray-400 ":"text-blue-500 ";return h.jsx(Jv,{className:n+e})};function CF(){return h.jsxs(La,{children:[h.jsx(kh,{title:"   ",subtitle:"    ,  ",href:"/live"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[h.jsx(It,{level:3,children:"  "}),h.jsxs(Tn,{children:["   ,   ",h.jsx("span",{className:"text-blue-500 font-bold",children:""})," "]}),h.jsx("div",{className:"flex flex-col gap-4 mt-4",children:[{name:"",prof:"003281 | "},{name:"",prof:"004310 | LEE KANGWON"}].map(({name:e,prof:t})=>h.jsxs("div",{className:"bg-gray-50 shadow-sm rounded-lg p-4 w-full",children:[h.jsxs(je,{justify:"justify-between",className:"mb-2",children:[h.jsx(It,{level:4,children:e}),h.jsx(Pa,{})]}),h.jsxs(je,{justify:"justify-between",children:[h.jsx("p",{className:"text-sm text-gray-500",children:t}),h.jsx(Qy,{seat:0,formatter:n=>`: ${n}`})]})]},t))})]}),h.jsxs("div",{className:"bg-white p-6 shadow-md rounded-md",children:[h.jsx(It,{level:3,children:"  TOP 10"}),h.jsx(Tn,{children:"    !"}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full bg-white rounded-lg text-sm",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"bg-gray-50 z-10 text-nowrap",children:[h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""})]})}),h.jsx("tbody",{children:[{id:"004310-004",name:"",prof:"",seats:22},{id:"003281-001",name:"",prof:"",seats:15},{id:"004118-007",name:"",prof:"Rajendra Dhakal",seats:6},{id:"009912-006",name:"C",prof:"",seats:5},{id:"007330-001",name:"",prof:"",seats:4}].map(({id:e,name:t,prof:n,seats:r},i)=>h.jsxs("tr",{className:"border-t border-gray-200 text-black",children:[h.jsx("td",{className:"px-4 py-2 text-center",children:e}),h.jsx("td",{className:"px-4 py-2 text-center",children:t}),h.jsx("td",{className:"px-4 py-2 text-center",children:n}),h.jsx("td",{className:"px-4 py-2 text-center",children:h.jsx(Qy,{seat:r})})]},"live-non-major-"+i))})]})})]})]})]})}const kF=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,72)"},N.createElement("path",{d:"M18,72Q22.9219,71.9297,27,69.6094Q31.0781,67.2188,33.6094,63Q36,58.710899999999995,36,54Q36,49.2891,33.6094,45Q31.0781,40.78125,27,38.39062Q22.9219,36.0703125,18,36Q13.0781,36.0703125,9,38.39062Q4.92188,40.78125,2.39062,45Q0,49.2891,0,54Q0,58.710899999999995,2.39062,63Q4.92188,67.2188,9,69.6094Q13.0781,71.9297,18,72ZM16.3125,63.5625L16.3125,54L16.3125,63.5625L16.3125,54Q16.3125,53.085899999999995,17.0859,52.5938L23.8359,48.0938Q25.1719,47.3203,26.1562,48.5859Q26.9297,49.9219,25.6641,50.9062L19.6875,54.914100000000005L19.6875,63.5625Q19.5469,65.1094,18,65.25Q16.4531,65.1094,16.3125,63.5625Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),EF=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,72)"},N.createElement("path",{d:"M25.8047,42.96094L7.03125,61.8047L25.8047,42.96094L7.03125,61.8047Q4.57031,58.4297,4.5,54Q4.64062,48.2344,8.4375,44.4375Q12.2344,40.64062,18,40.5Q22.4297,40.57031,25.8047,42.96094ZM29.0391,46.1953Q31.4297,49.5703,31.5,54Q31.3594,59.7656,27.5625,63.5625Q23.7656,67.3594,18,67.5Q13.5703,67.4297,10.1953,64.9688L29.0391,46.1953ZM0,54Q0.0703125,58.9219,2.39062,63Q4.78125,67.0781,9,69.6094Q13.2891,72,18,72Q22.7109,72,27,69.6094Q31.2188,67.0781,33.6094,63Q35.9297,58.9219,36,54Q35.9297,49.0781,33.6094,45Q32.4141,42.96094,30.7617,41.30859Q29.1094,39.65625,27,38.39062Q22.7109,36,18,36Q13.2891,36,9,38.39062Q4.78125,40.92188,2.39062,45Q0.0703125,49.0781,0,54Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),WC=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:33.75,height:36,viewBox:"0 0 33.75 36",...e},N.createElement("defs",null,N.createElement("clipPath",{id:"master_svg0_85_3284"},N.createElement("rect",{x:0,y:0,width:33.75,height:36,rx:0}))),N.createElement("g",{clipPath:"url(#master_svg0_85_3284)"},N.createElement("g",{transform:"matrix(1,0,0,-1,0,69.046875)"},N.createElement("g",null,N.createElement("path",{d:"M6.25781,54.000037500000005Q7.10156,56.3906375,8.92969,58.2187375Q12.375,61.5234375,16.875,61.5234375Q21.375,61.5234375,24.8203,58.2187375L26.0156,57.0234375L23.625,57.0234375Q22.6406,57.0234375,22.0078,56.3906375Q21.375,55.7578375,21.375,54.7734375Q21.375,53.7890375,22.0078,53.1562375Q22.6406,52.5234375,23.625,52.5234375L31.5,52.5234375Q32.4844,52.5234375,33.1172,53.1562375Q33.75,53.7890375,33.75,54.7734375L33.75,62.6484375Q33.75,63.6328375,33.1172,64.2656375Q32.4844,64.8984375,31.5,64.8984375Q30.5156,64.8984375,29.8828,64.2656375Q29.25,63.6328375,29.25,62.6484375L29.25,60.187537500000005L27.9844,61.3828375Q24.8906,64.4765375,20.8828,65.5312375Q16.875,66.5156375,12.8672,65.5312375Q8.85938,64.4765375,5.76562,61.3828375Q3.16406,58.7812375,2.03906,55.546837499999995Q1.75781,54.6328375,2.10938,53.7890375Q2.53125,53.0156375,3.375,52.6640375Q4.28906,52.3828375,5.13281,52.734337499999995Q5.90625,53.1562375,6.25781,54.000037500000005ZM1.61719,47.9531375Q1.05469,47.7422375,0.632812,47.3203375Q0.210938,46.8984375,0.0703125,46.3359375Q0.0703125,46.2656375,0,46.1250375Q0,45.9140375,0,45.7734375L0,37.8984375Q0,36.9140575,0.632812,36.2812475Q1.26562,35.6484375,2.25,35.6484375Q3.23438,35.6484375,3.86719,36.2812475Q4.5,36.9140575,4.5,37.8984375L4.5,40.3593775L5.76562,39.1640575Q8.85938,36.0703175,12.8672,35.0156255Q16.875,34.0312495,20.8828,35.0156255Q24.8906,36.0703175,27.9844,39.1640575Q30.5859,41.7656275,31.7109,45.0000375Q31.9922,45.9140375,31.6406,46.7578375Q31.2188,47.5312375,30.375,47.8828375Q29.4609,48.1640375,28.6172,47.8125375Q27.8438,47.3906375,27.4922,46.5468375Q26.6484,44.2265575,24.8203,42.3281275Q21.375,39.0234375,16.875,39.0234375Q12.375,39.0234375,8.92969,42.3281275L7.73438,43.5234375L10.125,43.5234375Q11.1094,43.5234375,11.7422,44.1562475Q12.375,44.7890375,12.375,45.7734375Q12.375,46.7578375,11.7422,47.3906375Q11.1094,48.0234375,10.125,48.0234375L2.25,48.0234375Q2.10938,48.0234375,1.96875,48.0234375Q1.75781,47.9531375,1.61719,47.9531375Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})))));function jF(){return h.jsxs(La,{className:"text-center",children:[h.jsx(It,{level:2,children:"  "}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[{icon:h.jsx(kF,{className:"w-6 h-6"}),title:"6     ...",text:"       "},{icon:h.jsx(EF,{className:"w-6 h-6"}),title:"   ...",text:"  ,      "},{icon:h.jsx(WC,{className:"w-6 h-6"}),title:"      ...",text:"   ,     "}].map(({icon:e,title:t,text:n},r)=>h.jsxs("div",{className:"flex flex-col gap-4 p-6 rounded-md bg-gray-50 text-left",children:[e,h.jsx(It,{level:3,className:"font-extrabold",children:t}),h.jsx(Tn,{children:n})]},"pain-point-"+r))}),h.jsxs("div",{className:"text-gray-900 mt-16",children:[h.jsx("p",{children:"   ."}),h.jsx("p",{children:"   ,      . "})]})]})}const TF=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:24,height:24,viewBox:"0 0 24 24",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,48)"},N.createElement("path",{d:"M18.7031,30Q17.9062,31.35938,16.5469,32.15625Q15.1875,33,13.5,33L10.5,33Q8.8125,33,7.45312,32.15625Q6.09375,31.35938,5.29688,30Q6.5625,28.59375,8.25,27.79688Q9.98438,27,12,27Q14.0156,27,15.75,27.79688Q17.4375,28.59375,18.7031,30ZM0,36Q0.046875,39.2812,1.59375,42Q3.1875,44.7188,6,46.4062Q8.85938,48,12,48Q15.1406,48,18,46.4062Q20.8125,44.7188,22.4062,42Q23.9531,39.2812,24,36Q23.9531,32.71875,22.4062,30Q20.8125,27.28125,18,25.59375Q15.1406,24,12,24Q8.85938,24,6,25.59375Q3.1875,27.28125,1.59375,30Q0.046875,32.71875,0,36ZM12,35.25Q13.9219,35.2969,14.9062,36.9375Q15.8438,38.625,14.9062,40.3125Q13.9219,41.9531,12,42Q10.0781,41.9531,9.09375,40.3125Q8.15625,38.625,9.09375,36.9375Q10.0781,35.2969,12,35.25Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function NF(){return h.jsxs(La,{className:"text-center",children:[h.jsx(It,{level:2,children:"   !"}),h.jsxs("div",{className:"overflow-hidden mt-6 relative",children:[h.jsx("div",{className:"absolute top-0 left-0 w-12 h-full bg-gradient-to-r from-gray-50 to-transparent z-10"}),h.jsxs("div",{className:"animate-marquee flex gap-6 flex-nowrap w-fit",children:[s5.map((e,t)=>h.jsx(o5,{...e},"feedback-left-"+t)),s5.map((e,t)=>h.jsx(o5,{...e},"feedback-right-"+t))]}),h.jsx("div",{className:"absolute top-0 right-0 w-12 h-full bg-gradient-to-l from-gray-50 to-transparent z-10"})]})]})}const s5=[{name:"O",department:" 2",review:"        !"},{name:"O",department:" 4",review:"         !"},{name:"O",department:" 3",review:"     !"}];function o5({name:e,department:t,review:n}){return h.jsxs("div",{className:"w-screen md:w-xs flex flex-col gap-4 p-6 rounded-md bg-white text-left text-sm",children:[h.jsxs("div",{className:"flex gap-4 items-center",children:[h.jsx(TF,{className:"w-6 h-6"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-bold",children:e}),h.jsx("p",{className:"text-xs text-gray-500",children:t})]})]}),h.jsxs("p",{className:"text-gray-950",children:['"',n,'"']})]})}Ks.register(Ym,Wl,Vl);function PF(){return h.jsxs(La,{children:[h.jsx(kh,{title:"   ",subtitle:"      .    ,  ."}),h.jsx(jo,{variant:"danger",children:"  "}),h.jsx(je,{className:"mt-6",direction:"flex-col",gap:"gap-2",children:h.jsxs(wn,{children:[h.jsxs(je,{direction:"flex-row",gap:"gap-4",children:[h.jsx(It,{level:3,children:"  "}),h.jsx(jo,{variant:"default",children:" "})]}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mt-6 justify-items-center",children:[h.jsx(yp,{earned:da.totalCredits.earned,required:da.totalCredits.required,label:" "}),h.jsx(yp,{earned:da.majorCredits.earned,required:da.majorCredits.required,label:" "}),h.jsx("div",{className:"hidden md:block",children:h.jsx(yp,{earned:da.generalCredits.earned,required:da.generalCredits.required,label:" "})}),h.jsx("div",{className:"hidden md:block",children:h.jsx(yp,{earned:da.liberalCredits.earned,required:da.liberalCredits.required,label:" "})})]})]})})]})}function yp({earned:e,required:t,label:n}){const r=t===0?100:Math.round(e/t*100),i=Math.max(0,t-e),s={datasets:[{data:[e,i],backgroundColor:[vP.primary[500],"#E5E7EB"],borderWidth:0,cutout:"75%"}]},o={responsive:!0,maintainAspectRatio:!0,plugins:{legend:{display:!1},tooltip:{enabled:!1}}};return h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsxs("div",{className:"relative flex items-center justify-center",style:{width:120,height:120},children:[h.jsx(Cx,{data:s,options:o}),h.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:h.jsxs("span",{className:"text-xl font-bold text-primary-500",children:[r,"%"]})})]}),h.jsxs("div",{className:"mt-2 text-center",children:[h.jsx("span",{className:"text-sm font-medium text-gray-700",children:n}),h.jsxs("p",{className:"text-xs text-gray-500",children:[e," / ",t," "]})]})]})}const da={totalCredits:{earned:98,required:130},majorCredits:{earned:18,required:24},generalCredits:{earned:20,required:32},liberalCredits:{earned:60,required:74}};function OF(){return h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx(BO,{}),h.jsx(PF,{}),h.jsx(gR,{}),h.jsx(SF,{}),h.jsx(UM,{}),h.jsx(CF,{}),h.jsx(jF,{}),h.jsx(NF,{})]})}function Ni(){const[e,t]=N.useState(!1);return N.useEffect(()=>{const n=()=>{t(window.innerWidth<=768)};return n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[]),e}const RF=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:13.836064338684082,height:14,viewBox:"-1 -1 15.5 16.5",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,28)"},N.createElement("path",{d:"M13.8033,23.433590000000002Q13.918,23.05078,13.6311,22.777340000000002L12.3689,21.68359Q12.4262,21.35547,12.4262,21Q12.4262,20.64453,12.3689,20.31641L13.6311,19.22266Q13.918,18.94922,13.8033,18.56641Q13.6025,18.07422,13.3443,17.60938L13.2008,17.39062Q12.9139,16.95312,12.5697,16.54297Q12.2828,16.24219,11.8811,16.35156L10.2746,16.84375Q9.70082,16.40625,9.01229,16.16016L8.66803,14.574219Q8.55328,14.191406,8.12295,14.109375Q7.54918,14,6.91803,14Q6.28688,14,5.68443,14.109375Q5.28279,14.191406,5.16803,14.574219L4.82377,16.16016Q4.13525,16.40625,3.56148,16.84375L1.95492,16.35156Q1.55328,16.24219,1.26639,16.54297Q0.893443,16.95312,0.635246,17.39062L0.491803,17.60938Q0.233607,18.07422,0.0327869,18.53906Q-0.0819672,18.94922,0.204918,19.22266L1.46721,20.28906Q1.40984,20.64453,1.40984,21Q1.40984,21.35547,1.46721,21.68359L0.204918,22.777340000000002Q-0.0819672,23.05078,0.0327869,23.433590000000002Q0.233607,23.92578,0.491803,24.3906L0.635246,24.6094Q0.893443,25.0469,1.26639,25.457Q1.55328,25.7578,1.95492,25.648400000000002L3.56148,25.1562Q4.13525,25.5937,4.82377,25.8672L5.16803,27.425800000000002Q5.28279,27.8086,5.71311,27.8906Q6.28688,28,6.91803,28Q7.54918,28,8.15164,27.8906Q8.55328,27.8086,8.66803,27.425800000000002L9.01229,25.8672Q9.70082,25.5937,10.2746,25.1562L11.8811,25.648400000000002Q12.2828,25.7578,12.5697,25.457Q12.9426,25.0469,13.2295,24.6094L13.3443,24.3906Q13.6025,23.92578,13.8033,23.433590000000002ZM6.91803,18.8125Q8.20902,18.83984,8.89754,19.90625Q9.52869,21,8.89754,22.09375Q8.20902,23.160159999999998,6.91803,23.1875Q5.62705,23.160159999999998,4.93852,22.09375Q4.30738,21,4.93852,19.90625Q5.62705,18.83984,6.91803,18.8125Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function a5({children:e,checked:t,onChange:n,...r}){return h.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[h.jsx("input",{type:"checkbox",className:"sr-only peer",checked:t,onChange:n,...r}),h.jsx("div",{className:"w-12 h-6 rounded-full transition-colors duration-150 bg-gray-300 peer-checked:bg-blue-500 peer-disabled:bg-gray-200"}),h.jsx("div",{className:"absolute top-1 left-1 w-4 h-4 bg-white rounded-full shadow-md transform transition-transform duration-150 peer-checked:translate-x-6"}),e]})}function qC({enabled:e=!0,onClose:t}){N.useEffect(()=>{if(!e)return;const n=i=>{i.key==="Escape"&&t&&t()},r=i=>{i.preventDefault(),t&&t()};return window.addEventListener("keydown",n),window.addEventListener("popstate",r),()=>{window.removeEventListener("keydown",n),window.removeEventListener("popstate",r)}},[])}const AF=[{title:" ",value:ci.NONE,disabled:()=>!1},{title:" ",value:ci.BROWSER,disabled:()=>!Vi.canNotify()},{title:" ",value:ci.TOAST,disabled:()=>!Oy.canNotify()},{title:" +  ",value:ci.BOTH,disabled:()=>!Vi.canNotify()||!Oy.canNotify()}];function IF({isOpen:e,close:t}){const n=Ea(s=>s.isPermitted),r=()=>{Ei.show("  ","test-alarm")},i=()=>{Ei.requestPermission(),t()};return qC({enabled:e,onClose:i}),e?h.jsx(Pn,{title:"",onClose:i,isOpen:e,children:h.jsxs(Pn.Content,{children:[h.jsx(LF,{}),h.jsx(DF,{}),h.jsx("div",{className:"mt-4 flex justify-end",children:h.jsx(Et,{variant:"outlined",size:"medium",onClick:r,disabled:!n,children:""})})]})}):null}function LF(){const e=Ws(s=>s.alarmType),t=Ws(s=>s.saveSettings),n=Ea(s=>s.isPermitted),r=Vi.canNotify(),i=s=>{t({alarmType:Number(s.target.value)})};return h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block mb-2 font-bold text-md",htmlFor:"alarm-type-select",children:" "}),h.jsx("select",{id:"alarm-type-select",className:"w-full mb-2 p-2 border border-gray-300 rounded",value:e,onChange:i,children:AF.map(s=>h.jsx("option",{className:"disabled:text-gray-500",value:s.value,disabled:s.disabled(),children:s.title},s.value))}),(e===ci.BROWSER||e===ci.BOTH)&&!n&&h.jsx("p",{className:"pl-2 pb-2 text-sm text-red-600",children:"  ."}),e===ci.TOAST&&h.jsx("p",{className:"pl-2 pb-2 text-sm text-red-600",children:"      ."}),!r&&h.jsx("p",{className:"pl-2 pb-2 text-xs text-gray-600",children:"     ."})]})}function DF(){const t=Ws(f=>f.alarmType)===ci.NONE,n=Zd(va.SOUND),r=Zd(va.VIBRATE),i=tx.canNotify(),s=Ws(f=>f.subAlarmType),o=Ws(f=>f.saveSettings),a=t,u=t||!i,c=f=>{const p=f.target.id==="select-sound"?va.SOUND:va.VIBRATE,g=f.target.checked?s|p:s&~p;o({subAlarmType:g})};return h.jsxs("div",{children:[h.jsx("h3",{className:"block mb-2 font-bold text-md",children:"  "}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("label",{className:"my-1 flex items-center justify-between",htmlFor:"select-sound",children:[h.jsx("span",{className:a?"text-gray-300":"",children:""}),h.jsx(a5,{id:"select-sound",name:"sound",checked:n,onChange:c,disabled:a})]}),h.jsxs("label",{className:"my-1 flex items-center justify-between",htmlFor:"select-vibrate",children:[h.jsx("span",{className:u?"text-gray-300":"",children:""}),h.jsx(a5,{id:"select-vibrate",name:"vibrate",checked:r,onChange:c,disabled:u})]}),!i&&h.jsx("p",{className:"pl-2 pb-2 text-sm text-red-600",children:"     ."})]})]})}const MF=e=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 3C7.88696 2.99977 8.74883 3.29435 9.4501 3.83741C10.1514 4.38047 10.6523 5.14121 10.874 6H19V8H10.874C10.6283 8.94049 10.0486 9.75939 9.24333 10.3038C8.43802 10.8482 7.46209 11.0809 6.49778 10.9584C5.53346 10.836 4.64669 10.3667 4.00303 9.63828C3.35937 8.90985 3.00284 7.97206 3 7C3 5.93913 3.42143 4.92172 4.17157 4.17157C4.92172 3.42143 5.93913 3 7 3ZM7 9C7.53043 9 8.03914 8.78929 8.41421 8.41421C8.78929 8.03914 9 7.53043 9 7C9 6.46957 8.78929 5.96086 8.41421 5.58579C8.03914 5.21071 7.53043 5 7 5C6.46957 5 5.96086 5.21071 5.58579 5.58579C5.21071 5.96086 5 6.46957 5 7C5 7.53043 5.21071 8.03914 5.58579 8.41421C5.96086 8.78929 6.46957 9 7 9ZM17 20C16.113 20.0002 15.2512 19.7056 14.5499 19.1626C13.8486 18.6195 13.3477 17.8588 13.126 17H5V15H13.126C13.3717 14.0595 13.9514 13.2406 14.7567 12.6962C15.562 12.1518 16.5379 11.9191 17.5022 12.0416C18.4665 12.164 19.3533 12.6333 19.997 13.3617C20.6406 14.0901 20.9972 15.0279 21 16C21 17.0609 20.5786 18.0783 19.8284 18.8284C19.0783 19.5786 18.0609 20 17 20ZM17 18C17.5304 18 18.0391 17.7893 18.4142 17.4142C18.7893 17.0391 19 16.5304 19 16C19 15.4696 18.7893 14.9609 18.4142 14.5858C18.0391 14.2107 17.5304 14 17 14C16.4696 14 15.9609 14.2107 15.5858 14.5858C15.2107 14.9609 15 15.4696 15 16C15 16.5304 15.2107 17.0391 15.5858 17.4142C15.9609 17.7893 16.4696 18 17 18Z",fill:"currentColor"})),FF=()=>{if(typeof navigator>"u")return"chrome";const e=navigator.userAgent.toLowerCase();return e.includes("firefox")?"firefox":e.includes("edg")?"edge":e.includes("safari")&&!e.includes("chrome")?"safari":"chrome"},BF=()=>{if(typeof navigator>"u")return"macos";const e=navigator.platform.toLowerCase(),t=navigator.userAgent.toLowerCase();return e.startsWith("mac")||t.includes("mac os x")?"macos":e.startsWith("win")?"windows":/android|iphone|ipad|ipod/.test(t)?"mobile":"macos"};function zF(){const e=Ea(s=>s.isOpen),t=Ea(s=>s.close),[n,r]=N.useState(0),i=1;return N.useEffect(()=>{e||r(0)},[e]),h.jsx(Pn,{title:"  ",onClose:t,isOpen:e,children:h.jsxs("div",{className:"p-4 text-sm text-gray-700 w-lg max-w-full",children:[n===0&&h.jsx($F,{}),n===1&&h.jsx(UF,{}),h.jsxs("div",{className:"flex justify-between items-center mt-6",children:[h.jsxs("span",{className:"text-xs text-gray-500",children:[n+1," / ",i+1]}),h.jsxs("div",{className:"flex justify-end gap-2",children:[n>0&&h.jsx("button",{className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",onClick:()=>r(n-1),children:""}),n<i&&h.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>r(n+1),children:""}),n===i&&h.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:t,children:""})]})]})]})})}function $F(){const[e,t]=N.useState(FF());return h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-base text-gray-800",children:"1:    "}),h.jsx("p",{className:"mt-1",children:" 'ALLCLL'    ."})]}),h.jsxs("div",{className:"flex border-b border-gray-500",children:[h.jsx(Tl,{name:"Chrome",id:"chrome",selected:e,onClick:t}),h.jsx(Tl,{name:"Firefox",id:"firefox",selected:e,onClick:t}),h.jsx(Tl,{name:"Safari",id:"safari",selected:e,onClick:t}),h.jsx(Tl,{name:"Edge",id:"edge",selected:e,onClick:t})]}),h.jsxs("div",{className:"p-2 bg-gray-50 rounded-md h-64 overflow-y-auto",children:[e==="chrome"&&h.jsx(HF,{}),e==="firefox"&&h.jsx(WF,{}),e==="safari"&&h.jsx(qF,{}),e==="edge"&&h.jsx(VF,{})]})]})}function UF(){const[e,t]=N.useState(BF());return h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-base text-gray-800",children:"2: OS    "}),h.jsx("p",{className:"mt-1",children:"  OS   ."})]}),h.jsxs("div",{className:"flex border-b border-gray-500",children:[h.jsx(Tl,{name:"macOS",id:"macos",selected:e,onClick:t}),h.jsx(Tl,{name:"Windows",id:"windows",selected:e,onClick:t}),h.jsx(Tl,{name:"",id:"mobile",selected:e,onClick:t})]}),h.jsxs("div",{className:"p-2 bg-gray-50 rounded-md h-64 overflow-y-auto",children:[e==="macos"&&h.jsx(QF,{}),e==="windows"&&h.jsx(KF,{}),e==="mobile"&&h.jsx(GF,{})]})]})}const Tl=({name:e,id:t,selected:n,onClick:r})=>h.jsx("button",{className:`px-4 py-2 text-sm ${n===t?"border-b-2 border-blue-500 text-blue-600 font-semibold":"text-gray-500 font-medium"}`,onClick:()=>r(t),children:e}),Fl=({title:e,children:t})=>h.jsxs("div",{className:"space-y-1",children:[h.jsx("h4",{className:"font-semibold text-gray-800",children:e}),h.jsx("div",{className:"pl-2 space-y-1 text-gray-600",children:t})]}),HF=()=>h.jsxs("div",{className:"space-y-3",children:[h.jsx(Fl,{title:" 1:   ()",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsxs("li",{children:["    (",h.jsx(MF,{className:"inline-block w-4 h-4"}),")  ."]}),h.jsx("li",{children:"  ''    '' ."})]})}),h.jsx(Fl,{title:" 2:   ",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"   3()  > '' ."}),h.jsx("li",{children:"'  ' > ' ' > '' ."}),h.jsx("li",{children:"'  '  ''   'allcll.com' ."})]})})]}),VF=()=>h.jsxs("div",{className:"space-y-3",children:[h.jsx(Fl,{title:" 1:   ()",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"  ()  ."}),h.jsx("li",{children:"'   '  '' '' ."})]})}),h.jsx(Fl,{title:" 2:   ",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"   3()  > '' ."}),h.jsx("li",{children:"'   ' > '' ."}),h.jsx("li",{children:"''  ''   'allcll.com' ."})]})})]}),WF=()=>h.jsxs("div",{className:"space-y-3",children:[h.jsx(Fl,{title:" 1:   ()",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"  ()  ."}),h.jsx("li",{children:"' '  '' ."})]})}),h.jsx(Fl,{title:" 2:   ",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"   3()  > '' ."}),h.jsx("li",{children:"'  '  ''  ."}),h.jsx("li",{children:"''  '...'  ."}),h.jsx("li",{children:"'allcll.com'   ''  '  ' ."})]})})]}),qF=()=>h.jsx("div",{className:"space-y-3",children:h.jsx(Fl,{title:"Safari  ",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"    'Safari' > '...' ( '...') ."}),h.jsx("li",{children:"''  ."}),h.jsx("li",{children:"  '' ."}),h.jsx("li",{children:" 'allcll.com'   '' ."})]})})}),QF=()=>h.jsx("div",{className:"space-y-2",children:h.jsxs("ol",{className:"list-decimal list-inside pl-2 mt-2 space-y-1",children:[h.jsx("li",{children:"    ()   ' ' ."}),h.jsx("li",{children:"  '' ."}),h.jsx("li",{children:"    (Chrome, Safari )  ."}),h.jsx("li",{children:"' '  ."})]})}),KF=()=>h.jsx("div",{className:"space-y-2",children:h.jsxs("ol",{className:"list-decimal list-inside pl-2 mt-2 space-y-1",children:[h.jsx("li",{children:"''  '' ."}),h.jsx("li",{children:"''   ''  ."}),h.jsx("li",{children:"'     '   ."}),h.jsx("li",{children:"        ."})]})}),GF=()=>h.jsxs("div",{className:"pl-2 mt-2 space-y-2",children:[h.jsx("p",{children:"  PC        .  iOS Safari     ."}),h.jsx("p",{className:"font-medium",children:"       ' '   ."})]}),YF=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17,height:17,viewBox:"0 0 17 14.5",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,28.015625)"},N.createElement("path",{d:"M1.0474,27.8750125Q0.538991,28.2031125,0.137615,27.7656125Q-0.183486,27.246112500000002,0.244648,26.8359125L16.0856,14.1484375Q16.594,13.8203125,16.9954,14.2578125Q17.3165,14.7773435,16.8884,15.1875025L14.4801,17.1289025Q14.4801,17.1562525,14.4801,17.1562525Q14.6942,17.6757825,14.3463,18.0859325L14.159,18.3320325Q12.8746,19.8085925,12.8479,21.8046925L12.8479,22.324222499999998Q12.8211,23.9375025,11.8578,25.1133125Q10.9213,26.2890125,9.42278,26.6172125L9.42278,27.1367125Q9.42278,27.519512499999998,9.18196,27.7656125Q8.94113,28.0117125,8.56651,28.0117125Q8.1919,28.0117125,7.95107,27.7656125Q7.71025,27.519512499999998,7.71025,27.1367125L7.71025,26.6172125Q5.94419,26.207012499999998,4.98089,24.7031125L1.0474,27.8750125ZM10.8677,16.6367225L4.28517,21.9414025L10.8677,16.6367225L4.28517,21.9414025L4.28517,21.8046925Q4.25841,19.8085925,3.00077,18.3046925L2.7867,18.0859325Q2.43884,17.6757825,2.65291,17.1562525Q2.89373,16.6640625,3.4289,16.6367225L10.8677,16.6367225ZM9.77064,14.5312505Q10.2791,15.0507825,10.2791,15.7617225L8.56651,15.7617225L6.85398,15.7617225Q6.85398,15.0507825,7.36239,14.5312505Q7.8708,14.01171884,8.56651,14.01171884Q9.26223,14.01171884,9.77064,14.5312505Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function JF({isAlarm:e}){const t=Zu(s=>s.sseState),n=Ea(s=>s.isPermitted),r=t===nx.LIVE,i=r?Ei.getDeniedMessage():[...Ei.getDeniedMessage(),"  "];return e?n&&r?h.jsx(Pa,{className:"w-5 h-5 text-primary-500"}):h.jsxs(h.Fragment,{children:[h.jsx(Pa,{className:"w-5 h-5 text-secondary-500 animate-pulse"}),i.length>0&&h.jsx("span",{className:"absolute left-full -bottom-2 transform -translate-x-full translate-y-full opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-gray-900 text-white text-sm p-2 rounded w-64 h-fit text-center pointer-events-none",children:i.map((s,o)=>h.jsx("p",{className:"pt-1 first:pt-0",children:s},"tooltip-line-"+o))})]}):h.jsx(YF,{className:"w-5 h-5"})}const XF=async()=>await Oo("/api/pins"),ZF=async e=>{const t=await Fm(`/api/pin?subjectId=${e}`,{method:"POST"});if(!t.ok)throw new Error(await t.text())},eB=async e=>{const t=await Fm(`/api/pin/${e}`,{method:"DELETE"});if(!t.ok)throw new Error(await t.text())},l5=5;function sg(){return ks({queryKey:["pinnedSubjects"],queryFn:XF,select:e=>e.subjects})}const QC=()=>{const e=Ti();return Aa({mutationFn:ZF,onMutate:async t=>{await e.cancelQueries({queryKey:["pinnedSubjects"]});const n=e.getQueryData(["pinnedSubjects"])?.subjects??[];if(n&&n.length>=l5)throw new Error(JSON.stringify({message:`   ${l5} .`}));if(n){const r={...n[0],subjectId:t};e.setQueryData(["pinnedSubjects"],{subjects:[...n,r]}),n.push(r)}return{previousUsers:n}},onSuccess:()=>{e.invalidateQueries({queryKey:["pinnedSubjects"]}).then()},onError:t=>{try{const n=JSON.parse(t.message);alert(n.message)}catch{alert("Error adding pinned subject")}}})},Tx=()=>{const e=Ti();return Aa({mutationFn:eB,onMutate:async t=>{await e.cancelQueries({queryKey:["pinnedSubjects"]});const n=e.getQueryData(["pinnedSubjects"]);if(n){const r=n.subjects.filter(i=>i.subjectId!==t);e.setQueryData(["pinnedSubjects"],{subjects:r})}return{previousData:n}},onSettled:()=>{console.log("pin removed onSettled"),e.invalidateQueries({queryKey:["pinnedSubjects"]}).then()},onError:t=>{console.error("Error removing pinned subject:",t)}})},tB=1e3,nB=60*tB,rB={subjectId:-1,seat:-1};function iB(){return ks({queryKey:["preRealSeats"],queryFn:sB,staleTime:10*nB,select:e=>e?.preSeats??null})}async function sB(){return await Bm("/pre-seats.json?date=20260212-pre")}function KC(e,t,n,r){if(!e||!t)return e||t;const i=e.sort((c,f)=>c.subjectId-f.subjectId),s=t.sort((c,f)=>c.subjectId-f.subjectId),o=[];let a=0,u=0;for(;a<i.length&&u<s.length;)i[a].subjectId===s[u].subjectId?o.push({...i[a++],...s[u++]}):i[a].subjectId<s[u].subjectId?o.push({...r,...i[a++]}):o.push({...n,...s[u++]});for(;a<i.length;)o.push({...r,...i[a++]});for(;u<s.length;)o.push({...n,...s[u++]});return o}function og(e,t){const{data:n}=iB();return N.useMemo(()=>!e||!n?.length?e:KC(e,n,t??$m,rB),[e,n,t])}class Nx extends RangeError{constructor(t){super(t),this.name="ParamsInvalidError"}}class oB extends Error{constructor(t){super(t),this.name="NotFoundError"}}const aB="SPRING_26_20260131",lB=async e=>await Bm(`/${e}/baskets.json?v=${aB}`),uB=async e=>{const t=await Fm(`/api/baskets/${e}`);if(!t.ok){const n=await t.text(),r=cB(n);throw r?.status==="400 BAD_REQUEST"?new Nx(r.code):new Error(await t.text())}return t.json()},cB=e=>{try{return JSON.parse(e)}catch{return null}},Ql={...$m,departmentCode:"",departmentName:"",totalCount:-1};function Gs(e){e=e??Ki.semesterCode;const{data:t,isPending:n,isLoading:r}=Es(e),i=ks({queryKey:["wishlist",e],queryFn:()=>lB(e),staleTime:1/0,select:s=>dB(s,t)});return{...i,isPending:i.isPending||n,isLoading:i.isLoading||r}}const dB=(e,t)=>{if(!t)return[];const n=e?.baskets??[];return KC(t,n,$m,Ql).map(i=>({...i,departmentCode:i.deptCd,departmentName:i.manageDeptNm}))};function hB(e){const{data:t}=Gs();return t?.filter(n=>e.includes(n.subjectId))??[]}const GC=e=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M18 6L6 18M6 6L18 18",stroke:"#354052",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));let xd=null,Iu=0;const N1=jr(e=>{const t=()=>{xd||(xd=setInterval(()=>{e(r=>({tick:r.tick+1}))},1e3))},n=()=>{xd&&clearInterval(xd),xd=null};return{tick:0,addRefCount:()=>{Iu===0&&t(),Iu=Iu+1},removeRefCount:()=>{Iu<=1&&n(),Iu=Math.max(0,Iu-1)}}}),YC=e=>{const t=N1(i=>i.tick),n=N1(i=>i.addRefCount),r=N1(i=>i.removeRefCount);N.useEffect(()=>(n(),()=>{r()}),[]),N.useEffect(()=>{},[t])};function Px(e){if(!e)return" ";const t=new Date,n=new Date(e),r=t.getTime()-n.getTime(),i=Math.floor(r/1e3),s=Math.floor(i/60),o=Math.floor(s/60),a=Math.floor(o/24),u=Math.floor(a/30),c=Math.floor(u/12);return c>0?`${c} `:u>0?`${u} `:a>0?`${a} `:o>0?`${o} `:s>0?`${s} `:i>0?`${i} `:" "}function fB({subject:e,seats:t,queryTime:n,disableSeat:r=!1}){const{mutate:i}=Tx(),s=()=>{i(e.subjectId)};return h.jsxs(wn,{variant:"filled",children:[h.jsxs(je,{justify:"justify-between",children:[h.jsx(It,{level:3,children:e.subjectName}),h.jsx(lr,{variant:"plain","aria-label":"  ",icon:h.jsx(GC,{className:"text-gray-400 w-3 h-3"}),onClick:s})]}),h.jsxs("div",{className:"mb-2 text-xs text-gray-500",children:[h.jsx("p",{children:e.departmentName}),h.jsxs("p",{children:[e.subjectCode,"-",e.classCode," | ",e.professorName]})]}),!r&&h.jsxs(je,{justify:"justify-between",children:[h.jsx(mB,{seats:t}),h.jsx(pB,{queryTime:n})]})]})}function pB({queryTime:e}){return YC(),h.jsx("p",{className:"text-xs text-gray-500",children:Px(e)})}function mB({seats:e}){const t=e!=null&&e>=0,n=VC(e),r=t?e:"???";return h.jsxs(jo,{variant:n,children:[": ",r]})}const Ky=jr(e=>({isSearchOpen:!1,setIsSearchOpen:t=>e(()=>({isSearchOpen:t}))}));function JC(){const e=Ky(t=>t.setIsSearchOpen);return h.jsx(je,{justify:"justify-center",align:"items-center",children:h.jsx(Et,{variant:"ghost",size:"medium",onClick:()=>e(!0),children:"+   "})})}function ag({icon:e,title:t,description:n,children:r}){return h.jsx("div",{className:"flex flex-col items-center justify-center w-full bg-gray-50 rounded-md",children:h.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 p-12",children:[h.jsx("div",{children:e}),h.jsx("div",{className:"text-gray-600",children:t}),h.jsx("div",{className:"text-xs text-gray-500",children:n}),r]})})}const lg=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,72)"},N.createElement("g",null,N.createElement("path",{d:"M18,36Q22.9219,36.0703125,27,38.39062Q31.0781,40.78125,33.6094,45Q36,49.2891,36,54Q36,58.710899999999995,33.6094,63Q31.0781,67.2188,27,69.6094Q22.9219,71.9297,18,72Q13.0781,71.9297,9,69.6094Q4.92188,67.2188,2.39062,63Q0,58.710899999999995,0,54Q0,49.2891,2.39062,45Q4.92188,40.78125,9,38.39062Q13.0781,36.0703125,18,36ZM18,63Q19.5469,62.8594,19.6875,61.3125L19.6875,53.4375Q19.5469,51.8906,18,51.75Q16.4531,51.8906,16.3125,53.4375L16.3125,61.3125Q16.4531,62.8594,18,63ZM15.75,47.25Q15.75,48.2344,16.3828,48.8672Q17.0156,49.5,18,49.5Q18.9844,49.5,19.6172,48.8672Q20.25,48.2344,20.25,47.25Q20.25,46.2656,19.6172,45.63281Q18.9844,45,18,45Q17.0156,45,16.3828,45.63281Q15.75,46.2656,15.75,47.25Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})))),gB=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:12.68359375,height:12.25,viewBox:"0 0 12.68359375 12.25",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,24.5)"},N.createElement("g",null,N.createElement("path",{d:"M9.67675,21L8.30998,21L9.67675,21L8.30998,21Q7.92728,21,7.68126,20.753909999999998Q7.43524,20.50781,7.43524,20.125Q7.43524,19.74219,7.68126,19.49609Q7.92728,19.25,8.30998,19.25L11.8089,19.25Q12.1916,19.25,12.4376,19.49609Q12.6837,19.74219,12.6837,20.125L12.6837,23.625Q12.6837,24.0078,12.4376,24.2539Q12.1916,24.5,11.8089,24.5Q11.4262,24.5,11.1802,24.2539Q10.9342,24.0078,10.9342,23.625L10.9342,22.23047L10.4421,22.6953Q9.23938,23.898400000000002,7.68126,24.3086Q6.12314,24.6914,4.56502,24.3086Q3.0069,23.898400000000002,1.80414,22.6953Q0.60138,21.49219,0.191348,19.93359Q-0.191348,18.375,0.191348,16.81641Q0.60138,15.25781,1.80414,14.05469Q3.0069,12.851562,4.56502,12.441406Q6.12314,12.058594,7.68126,12.441406Q9.23938,12.851562,10.4421,14.05469Q10.7155,14.30078,10.7155,14.65625Q10.7155,15.01172,10.4421,15.28516Q10.1961,15.53125,9.84076,15.53125Q9.4854,15.53125,9.21205,15.28516Q7.87261,14,6.12314,14Q4.37367,14,3.03424,15.28516Q1.74947,16.625,1.74947,18.375Q1.74947,20.125,3.03424,21.464840000000002Q4.37367,22.75,6.12314,22.75Q7.87261,22.75,9.21205,21.464840000000002L9.67675,21Z",fill:"#FFFFFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))));function XC({onReload:e}){return h.jsx(ag,{title:"    ",description:"  ",icon:h.jsx(lg,{className:"w-7 h-7"}),children:h.jsxs("button",{className:"mt-4 flex items-center gap-2 bg-blue-500 text-white px-4 py-2 rounded cursor-pointer hover:bg-blue-600",onClick:e,children:[h.jsx(gB,{className:"w-3 h-3"}),""]})})}function yB(){return h.jsx(ag,{title:"   ",description:"    .     .",icon:h.jsx(Pa,{className:"w-7 h-7",disabled:!0}),children:h.jsx(JC,{})})}function vB(){return h.jsx(je,{justify:"justify-center",align:"items-center",children:h.jsx(Et,{variant:"ghost",size:"medium",disabled:!0,children:"   5   ."})})}function xB(){const{data:e,isPending:t,isError:n,refetch:r}=sg(),{data:i}=rx(Um.PINNED),s=hB(e?.map(u=>u.subjectId)??[]),o=u=>i?.find(f=>f.subjectId===u)?.seatCount??-1,a=u=>i?.find(f=>f.subjectId===u)?.queryTime??"";return t?h.jsx(bB,{}):n?h.jsx(XC,{onReload:r}):!s||s.length===0?h.jsx(yB,{}):h.jsxs(Ia,{columns:{base:1,md:3},gap:"gap-4",children:[s.map(u=>h.jsx(fB,{subject:u,seats:o(u.subjectId),queryTime:a(u.subjectId)},`${u.subjectId}_${u.subjectCode}_${u.professorName}`)),s.length<5?h.jsx(JC,{}):h.jsx(vB,{})]})}function bB(){return h.jsx("div",{className:"animate-pulse grid grid-cols-1 md:grid-cols-3 gap-4",children:[0,0,0].map((e,t)=>h.jsx("div",{className:"bg-gray-300 shadow-sm rounded-lg p-4 h-24"},"skeleton-card-"+t))})}const wB=()=>{const[e,t]=N.useState(!1);return h.jsxs(wn,{children:[h.jsx(IF,{isOpen:e,close:()=>t(!1)}),h.jsx(zF,{}),h.jsx(_B,{setIsAlarmSettingOpen:t}),h.jsx(xB,{})]})};function _B({setIsAlarmSettingOpen:e}){const{isAlarm:t,changeAlarm:n}=eO(),{isError:r,refetch:i}=rx(Um.PINNED);return h.jsxs(je,{direction:"flex-row",justify:"justify-between",align:"align-top",className:"mb-4",children:[h.jsxs(je,{align:"items-center",justify:"justify-center",gap:"gap-2",children:[h.jsx(It,{level:3,children:"  "}),h.jsx(fP,{children:h.jsxs("p",{className:"text-sm",children:["    ",h.jsx("br",{}),h.jsx("span",{className:"text-red-500",children:"*     "})]})})]}),h.jsxs(je,{align:"items-center",gap:"gap-1",children:[r&&h.jsx(lr,{icon:h.jsx(WC,{className:"w-5 h-5"}),"aria-label":" ",label:" ",onClick:i}),h.jsx(lr,{icon:h.jsx(RF,{className:"w-5 h-5"}),"aria-label":" ",label:" ",onClick:()=>e(!0)}),h.jsx(lr,{icon:h.jsx(JF,{isAlarm:t}),"aria-label":t?" ":" ",label:t?" ":" ",onClick:n})]})]})}const SB=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:15.75,height:18,viewBox:"0 0 15.75 18",...e},N.createElement("defs",null,N.createElement("clipPath",{id:"master_svg0_85_3269"},N.createElement("rect",{x:0,y:0,width:15.75,height:18,rx:0}))),N.createElement("g",{clipPath:"url(#master_svg0_85_3269)"},N.createElement("g",{transform:"matrix(1,0,0,-1,0,32.2734375)"},N.createElement("g",null,N.createElement("path",{d:"M15.4336,22.07812875Q15.75,22.42968875,15.75,22.88671875Q15.75,23.34374875,15.4336,23.69530875L9.80859,29.32031875Q9.45703,29.63671875,9,29.63671875Q8.54297,29.63671875,8.19141,29.32031875Q7.875,28.96871875,7.875,28.51171875Q7.875,28.05471875,8.19141,27.70311875L11.918,24.01171875L1.125,24.01171875Q0.632812,24.01171875,0.316406,23.69530875Q0,23.37890875,0,22.88671875Q0,22.39452875,0.316406,22.07812875Q0.632812,21.76171875,1.125,21.76171875L11.918,21.76171875L8.19141,18.07030875Q7.875,17.71874875,7.875,17.26171875Q7.875,16.80468775,8.19141,16.45312475Q8.54297,16.13671875,9,16.13671875Q9.45703,16.13671875,9.80859,16.45312475L15.4336,22.07812875Z",fill:"#FFFFFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})))));function CB(e=200){const[t,n]=N.useState(!1);return N.useEffect(()=>{const i=()=>n(window.scrollY>e);return i(),window.addEventListener("scroll",i,{passive:!0}),()=>window.removeEventListener("scroll",i)},[e]),{isVisible:t,scrollToTop:()=>{window.scrollTo({top:0,behavior:"smooth"})}}}function ZC({right:e="right-2 sm:right-10",bottom:t="bottom-4"}){const{isVisible:n,scrollToTop:r}=CB(200);return h.jsx("button",{"aria-label":"  ",className:`fixed ${t} ${e} z-50 w-12 h-12 rounded-full bg-blue-500 text-white shadow-lg 
                  flex justify-center items-center cursor-pointer transition-opacity duration-200
                  ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:r,children:h.jsx(SB,{className:"w-6 h-6 -rotate-90"})})}const Oa={keywords:"",department:"",grades:[],credits:[],categories:[],seatRange:null,wishRange:null,time:[],days:[],classroom:[],note:[],language:[],alarmOnly:!1,favoriteOnly:!1},Ox=()=>jr(e=>({filters:{...Oa},setFilter:(t,n)=>e(r=>({filters:{...r.filters,[t]:n}})),resetFilters:()=>e({filters:Oa})})),ws=Ox(),Qu=Ox(),Id=Ox();function Rx(){return h.jsxs("div",{className:"flex justify-end items-center mt-2 text-xs text-gray-500",children:[h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"block w-4 h-4 rounded bg-green-100 ml-1","aria-label":" "}),"  "]}),h.jsxs("span",{className:"flex items-center gap-2 ml-4",children:[h.jsx("span",{className:"block w-4 h-4 rounded bg-gray-100 ml-1","aria-label":" "})," "]})]})}function ek(e){const{data:t,isPending:n}=Gs(),r=og(t,Ql),i=r&&r[0]&&"seat"in r[0],s=N.useMemo(()=>i?[...e,{title:"",key:"seat"}]:e,[r,e]);return{data:r,titles:s,isPending:n,hasRealSeats:i}}let ui;function tk(){return ui||(ui=JSON.parse(localStorage.getItem("departmentRank")??"{}"),ui)}function kB(){ui&&localStorage.setItem("departmentRank",JSON.stringify(ui))}function ug(e){ui||(ui=tk()),ui[e]===void 0?ui[e]=0:ui[e]+=1,kB()}function nk(){return ui||(ui=tk()),Object.entries(ui).sort(([,e],[,t])=>t-e)}function bc(e){const t=N.useMemo(()=>{const r=nk();return new Map(r.map(([i,s],o)=>[i,o]))},[]),n=N.useMemo(()=>{if(e)return EB(e)},[e]);return N.useMemo(()=>{if(!n)return;const r=o=>{const a=t.get(o);return a===void 0?5:a};return n.map(o=>{const u=(5-r(o.departmentCode??o.deptCd))*250+o.rank*100-Number(o.classCode);return{...o,searchScore:u}}).sort((o,a)=>a.searchScore-o.searchScore).map(({searchScore:o,...a})=>a)},[t,n])}function EB(e){const t=new Map;for(const n of e){const r=`${n.subjectCode}-${n.departmentCode}`,i=t.get(r);i?(i.sum+=n.totalCount??0,i.count+=1):t.set(r,{sum:n.totalCount??0,count:1})}return e.map(n=>{const r=`${n.subjectCode}-${n.departmentCode}`,i=t.get(r),s=i.sum/i.count;return{...n,rank:s}})}function cg(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function jB(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(p){o(p)}}function u(f){try{c(r.throw(f))}catch(p){o(p)}}function c(f){f.done?s(f.value):i(f.value).then(a,u)}c((r=r.apply(e,t||[])).next())})}const TB=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Ax extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class NB extends Ax{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class u5 extends Ax{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class c5 extends Ax{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Gy;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Gy||(Gy={}));class PB{constructor(t,{headers:n={},customFetch:r,region:i=Gy.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=TB(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return jB(this,arguments,void 0,function*(n,r={}){var i;let s,o;try{const{headers:a,method:u,body:c,signal:f,timeout:p}=r;let g={},{region:y}=r;y||(y=this.region);const w=new URL(`${this.url}/${n}`);y&&y!=="any"&&(g["x-region"]=y,w.searchParams.set("forceFunctionRegion",y));let S;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",S=c):typeof c=="string"?(g["Content-Type"]="text/plain",S=c):typeof FormData<"u"&&c instanceof FormData?S=c:(g["Content-Type"]="application/json",S=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?S=JSON.stringify(c):S=c;let C=f;p&&(o=new AbortController,s=setTimeout(()=>o.abort(),p),f?(C=o.signal,f.addEventListener("abort",()=>o.abort())):C=o.signal);const E=yield this.fetch(w.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),a),body:S,signal:C}).catch(W=>{throw new NB(W)}),P=E.headers.get("x-relay-error");if(P&&P==="true")throw new u5(E);if(!E.ok)throw new c5(E);let A=((i=E.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),$;return A==="application/json"?$=yield E.json():A==="application/octet-stream"||A==="application/pdf"?$=yield E.blob():A==="text/event-stream"?$=E:A==="multipart/form-data"?$=yield E.formData():$=yield E.text(),{data:$,error:null,response:E}}catch(a){return{data:null,error:a,response:a instanceof c5||a instanceof u5?a.context:void 0}}finally{s&&clearTimeout(s)}})}}var OB=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},RB=class{constructor(e){var t,n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=e.urlLengthLimit)!==null&&r!==void 0?r:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let o=null,a=null,u=null,c=s.status,f=s.statusText;if(s.ok){var p,g;if(n.method!=="HEAD"){var y;const E=await s.text();E===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((y=n.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?a=E:a=JSON.parse(E))}const S=(p=n.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),C=(g=s.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");S&&C&&C.length>1&&(u=parseInt(C[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,u=null,c=406,f="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var w;const S=await s.text();try{o=JSON.parse(S),Array.isArray(o)&&s.status===404&&(a=[],o=null,c=200,f="OK")}catch{s.status===404&&S===""?(c=204,f="No Content"):o={message:S}}if(o&&n.isMaybeSingle&&(!(o==null||(w=o.details)===null||w===void 0)&&w.includes("0 rows"))&&(o=null,c=200,f="OK"),o&&n.shouldThrowOnError)throw new OB(o)}return{error:o,data:a,count:u,status:c,statusText:f}});return this.shouldThrowOnError||(i=i.catch(s=>{var o;let a="",u="",c="";const f=s?.cause;if(f){var p,g,y,w;const E=(p=f?.message)!==null&&p!==void 0?p:"",P=(g=f?.code)!==null&&g!==void 0?g:"";a=`${(y=s?.name)!==null&&y!==void 0?y:"FetchError"}: ${s?.message}`,a+=`

Caused by: ${(w=f?.name)!==null&&w!==void 0?w:"Error"}: ${E}`,P&&(a+=` (${P})`),f?.stack&&(a+=`
${f.stack}`)}else{var S;a=(S=s?.stack)!==null&&S!==void 0?S:""}const C=this.url.toString().length;return s?.name==="AbortError"||s?.code==="ABORT_ERR"?(c="",u="Request was aborted (timeout or manual cancellation)",C>this.urlLengthLimit&&(u+=`. Note: Your request URL is ${C} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(f?.name==="HeadersOverflowError"||f?.code==="UND_ERR_HEADERS_OVERFLOW")&&(c="",u="HTTP headers exceeded server limits (typically 16KB)",C>this.urlLengthLimit&&(u+=`. Your request URL is ${C} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(o=s?.name)!==null&&o!==void 0?o:"FetchError"}: ${s?.message}`,details:a,hint:u,code:c},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},AB=class extends RB{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:s="text"}={}){var o;const a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${u}"; options=${a};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const d5=new RegExp("[,()]");var Ku=class extends AB{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&d5.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&d5.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},IB=class{constructor(e,{headers:t={},schema:n,fetch:r,urlLengthLimit:i=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},i=n?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join(""),{url:a,headers:u}=this.cloneRequestState();return a.searchParams.set("select",o),r&&u.append("Prefer",`count=${r}`),new Ku({method:i,url:a,headers:u,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const i="POST",{url:s,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),n||o.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(a.length>0){const u=[...new Set(a)].map(c=>`"${c}"`);s.searchParams.set("columns",u.join(","))}}return new Ku({method:i,url:s,headers:o,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var s;const o="POST",{url:a,headers:u}=this.cloneRequestState();if(u.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&a.searchParams.set("on_conflict",t),r&&u.append("Prefer",`count=${r}`),i||u.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(c.length>0){const f=[...new Set(c)].map(p=>`"${p}"`);a.searchParams.set("columns",f.join(","))}}return new Ku({method:o,url:a,headers:u,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var n;const r="PATCH",{url:i,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new Ku({method:r,url:i,headers:s,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new Ku({method:n,url:r,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function uh(e){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uh(e)}function LB(e,t){if(uh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DB(e){var t=LB(e,"string");return uh(t)=="symbol"?t:t+""}function MB(e,t,n){return(t=DB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h5(Object(n),!0).forEach(function(r){MB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var FB=class rk{constructor(t,{headers:n={},schema:r,fetch:i,timeout:s,urlLengthLimit:o=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=o;const a=i??globalThis.fetch;s!==void 0&&s>0?this.fetch=(u,c)=>{const f=new AbortController,p=setTimeout(()=>f.abort(),s),g=c?.signal;if(g){if(g.aborted)return clearTimeout(p),a(u,c);const y=()=>{clearTimeout(p),f.abort()};return g.addEventListener("abort",y,{once:!0}),a(u,vp(vp({},c),{},{signal:f.signal})).finally(()=>{clearTimeout(p),g.removeEventListener("abort",y)})}return a(u,vp(vp({},c),{},{signal:f.signal})).finally(()=>clearTimeout(p))}:this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new IB(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new rk(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:r=!1,get:i=!1,count:s}={}){var o;let a;const u=new URL(`${this.url}/rpc/${t}`);let c;const f=y=>y!==null&&typeof y=="object"&&(!Array.isArray(y)||y.some(f)),p=r&&Object.values(n).some(f);p?(a="POST",c=n):r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([y,w])=>w!==void 0).map(([y,w])=>[y,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([y,w])=>{u.searchParams.append(y,w)})):(a="POST",c=n);const g=new Headers(this.headers);return p?g.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&g.set("Prefer",`count=${s}`),new Ku({method:a,url:u,headers:g,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}};class BB{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const zB="2.95.3",$B=`realtime-js/${zB}`,UB="1.0.0",ik="2.0.0",f5=ik,Yy=1e4,HB=1e3,VB=100;var fa;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(fa||(fa={}));var sr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(sr||(sr={}));var ys;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ys||(ys={}));var Jy;(function(e){e.websocket="websocket"})(Jy||(Jy={}));var wl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(wl||(wl={}));class WB{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var i,s;const o=t.topic,a=(i=t.ref)!==null&&i!==void 0?i:"",u=(s=t.join_ref)!==null&&s!==void 0?s:"",c=t.payload.event,f=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},p=Object.keys(f).length===0?"":JSON.stringify(f);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+a.length+o.length+c.length+p.length,y=new ArrayBuffer(this.HEADER_LENGTH+g);let w=new DataView(y),S=0;w.setUint8(S++,this.KINDS.userBroadcastPush),w.setUint8(S++,u.length),w.setUint8(S++,a.length),w.setUint8(S++,o.length),w.setUint8(S++,c.length),w.setUint8(S++,p.length),w.setUint8(S++,n),Array.from(u,E=>w.setUint8(S++,E.charCodeAt(0))),Array.from(a,E=>w.setUint8(S++,E.charCodeAt(0))),Array.from(o,E=>w.setUint8(S++,E.charCodeAt(0))),Array.from(c,E=>w.setUint8(S++,E.charCodeAt(0))),Array.from(p,E=>w.setUint8(S++,E.charCodeAt(0)));var C=new Uint8Array(y.byteLength+r.byteLength);return C.set(new Uint8Array(y),0),C.set(new Uint8Array(r),y.byteLength),C.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,s,o,a,u]=r;return n({join_ref:i,ref:s,topic:o,event:a,payload:u})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let u=this.HEADER_LENGTH+4;const c=r.decode(t.slice(u,u+i));u=u+i;const f=r.decode(t.slice(u,u+s));u=u+s;const p=r.decode(t.slice(u,u+o));u=u+o;const g=t.slice(u,t.byteLength),y=a===this.JSON_ENCODING?JSON.parse(r.decode(g)):g,w={type:this.BROADCAST_EVENT,event:f,payload:y};return o>0&&(w.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class sk{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var un;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(un||(un={}));const p5=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((s,o)=>(s[o]=qB(o,e,t,i),s),{}):{}},qB=(e,t,n,r)=>{const i=t.find(a=>a.name===e),s=i?.type,o=n[e];return s&&!r.includes(s)?ok(s,o):Xy(o)},ok=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return YB(t,n)}switch(e){case un.bool:return QB(t);case un.float4:case un.float8:case un.int2:case un.int4:case un.int8:case un.numeric:case un.oid:return KB(t);case un.json:case un.jsonb:return GB(t);case un.timestamp:return JB(t);case un.abstime:case un.date:case un.daterange:case un.int4range:case un.int8range:case un.money:case un.reltime:case un.text:case un.time:case un.timestamptz:case un.timetz:case un.tsrange:case un.tstzrange:return Xy(t);default:return Xy(t)}},Xy=e=>e,QB=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},KB=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},GB=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},YB=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const o=e.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>ok(t,a))}return e},JB=e=>typeof e=="string"?e.replace(" ","T"):e,ak=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class P1{constructor(t,n,r={},i=Yy){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var m5;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(m5||(m5={}));class Hd{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Hd.syncState(this.state,i,s,o),this.pendingDiffs.forEach(u=>{this.state=Hd.syncDiff(this.state,u,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Hd.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),o=this.transformState(n),a={},u={};return this.map(s,(c,f)=>{o[c]||(u[c]=f)}),this.map(o,(c,f)=>{const p=s[c];if(p){const g=f.map(C=>C.presence_ref),y=p.map(C=>C.presence_ref),w=f.filter(C=>y.indexOf(C.presence_ref)<0),S=p.filter(C=>g.indexOf(C.presence_ref)<0);w.length>0&&(a[c]=w),S.length>0&&(u[c]=S)}else a[c]=f}),this.syncDiff(s,{joins:a,leaves:u},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,u)=>{var c;const f=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(u),f.length>0){const p=t[a].map(y=>y.presence_ref),g=f.filter(y=>p.indexOf(y.presence_ref)<0);t[a].unshift(...g)}r(a,f,u)}),this.map(o,(a,u)=>{let c=t[a];if(!c)return;const f=u.map(p=>p.presence_ref);c=c.filter(p=>f.indexOf(p.presence_ref)<0),t[a]=c,i(a,c,u),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var g5;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(g5||(g5={}));var Vd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Vd||(Vd={}));var wo;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(wo||(wo={}));class ec{constructor(t,n={config:{}},r){var i,s;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=sr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new P1(this,ys.join,this.params,this.timeout),this.rejoinTimer=new sk(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=sr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=sr.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=sr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=sr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=sr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ys.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Hd(this),this.broadcastEndpointURL=ak(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==sr.closed){const{config:{broadcast:o,presence:a,private:u}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[Vd.PRESENCE]&&this.bindings[Vd.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,p={},g={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:f}),postgres_changes:c,private:u};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(y=>t?.(wo.CHANNEL_ERROR,y)),this._onClose(()=>t?.(wo.CLOSED)),this.updateJoinPayload(Object.assign({config:g},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),y===void 0){t?.(wo.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,C=(w=S?.length)!==null&&w!==void 0?w:0,E=[];for(let P=0;P<C;P++){const A=S[P],{filter:{event:$,schema:W,table:D,filter:R}}=A,z=y&&y[P];if(z&&z.event===$&&ec.isFilterValueEqual(z.schema,W)&&ec.isFilterValueEqual(z.table,D)&&ec.isFilterValueEqual(z.filter,R))E.push(Object.assign(Object.assign({},A),{id:z.id}));else{this.unsubscribe(),this.state=sr.errored,t?.(wo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,t&&t(wo.SUBSCRIBED);return}}).receive("error",y=>{this.state=sr.errored,t?.(wo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t?.(wo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===sr.joined&&t===Vd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let u=a.statusText;try{const c=await a.json();u=c.error||c.message||u}catch{}return Promise.reject(new Error(u))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,u;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=sr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ys.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new P1(this,ys.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=sr.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new P1(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>VB){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const o=t.toLocaleLowerCase(),{close:a,error:u,leave:c,join:f}=ys;if(r&&[a,u,c,f].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var w,S,C;return((w=y.filter)===null||w===void 0?void 0:w.event)==="*"||((C=(S=y.filter)===null||S===void 0?void 0:S.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===o}).map(y=>y.callback(g,r)):(s=this.bindings[o])===null||s===void 0||s.filter(y=>{var w,S,C,E,P,A;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const $=y.id,W=(w=y.filter)===null||w===void 0?void 0:w.event;return $&&((S=n.ids)===null||S===void 0?void 0:S.includes($))&&(W==="*"||W?.toLocaleLowerCase()===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const $=(P=(E=y?.filter)===null||E===void 0?void 0:E.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return $==="*"||$===((A=n?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof g=="object"&&"ids"in g){const w=g.data,{schema:S,table:C,commit_timestamp:E,type:P,errors:A}=w;g=Object.assign(Object.assign({},{schema:S,table:C,commit_timestamp:E,eventType:P,new:{},old:{},errors:A}),this._getPayloadRecords(w))}y.callback(g,r)})}_isClosed(){return this.state===sr.closed}_isJoined(){return this.state===sr.joined}_isJoining(){return this.state===sr.joining}_isLeaving(){return this.state===sr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&ec.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ys.close,{},t)}_onError(t){this._on(ys.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=sr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=p5(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=p5(t.columns,t.old_record)),n}}const O1=()=>{},xp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},XB=[1e3,2e3,5e3,1e4],ZB=1e4,ez=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class tz{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yy,this.transport=null,this.heartbeatIntervalMs=xp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=O1,this.ref=0,this.reconnectTimer=null,this.vsn=f5,this.logger=O1,this.conn=null,this.sendBuffer=[],this.serializer=new WB,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Jy.websocket}`,this.httpEndpoint=ak(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=BB.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return n==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case fa.connecting:return wl.Connecting;case fa.open:return wl.Open;case fa.closing:return wl.Closing;default:return wl.Closed}}isConnected(){return this.connectionState()===wl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new ec(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,o=()=>{this.encode(t,a=>{var u;(u=this.conn)===null||u===void 0||u.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(HB,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},xp.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",c)}catch(f){this.log("error","error in heartbeat callback",f)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:s,ref:o}=n,a=o?`(${o})`:"",u=s.status||"";this.log("receive",`${u} ${r} ${i} ${a}`.trim(),s),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,s,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===fa.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===fa.open||this.conn.readyState===fa.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(ys.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([ez],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const s={access_token:n,version:$B};n&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(ys.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new sk(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},xp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,s,o,a,u,c,f,p,g,y;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:Yy,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:xp.HEARTBEAT_INTERVAL,this.worker=(s=t?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t?.heartbeatCallback)!==null&&a!==void 0?a:O1,this.vsn=(u=t?.vsn)!==null&&u!==void 0?u:f5,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t?.reconnectAfterMs)!==null&&c!==void 0?c:(w=>XB[w-1]||ZB),this.vsn){case UB:this.encode=(f=t?.encode)!==null&&f!==void 0?f:((w,S)=>S(JSON.stringify(w))),this.decode=(p=t?.decode)!==null&&p!==void 0?p:((w,S)=>S(JSON.parse(w)));break;case ik:this.encode=(g=t?.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(y=t?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var ch=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function nz(e,t,n){const r=new URL(t,e);if(n)for(const[i,s]of Object.entries(n))s!==void 0&&r.searchParams.set(i,s);return r.toString()}async function rz(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function iz(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:s,headers:o}){const a=nz(e.baseUrl,r,i),u=await rz(e.auth),c=await t(a,{method:n,headers:{...s?{"Content-Type":"application/json"}:{},...u,...o},body:s?JSON.stringify(s):void 0}),f=await c.text(),p=(c.headers.get("content-type")||"").includes("application/json"),g=p&&f?JSON.parse(f):f;if(!c.ok){const y=p?g:void 0,w=y?.error;throw new ch(w?.message??`Request failed with status ${c.status}`,{status:c.status,icebergType:w?.type,icebergCode:w?.code,details:y})}return{status:c.status,headers:c.headers,data:g}}}}function bp(e){return e.join("")}var sz=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:bp(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${bp(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bp(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${bp(e.namespace)}`}),!0}catch(t){if(t instanceof ch&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof ch&&n.status===409)return;throw n}}};function Lu(e){return e.join("")}var oz=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Lu(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Lu(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Lu(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Lu(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Lu(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Lu(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof ch&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof ch&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},az=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=iz({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new sz(this.client,t),this.tableOps=new oz(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},dg=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function hg(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var wp=class extends dg{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},lk=class extends dg{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const lz=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),uz=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Zy=e=>{if(Array.isArray(e))return e.map(n=>Zy(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Zy(r)}),t},cz=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function dh(e){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dh(e)}function dz(e,t){if(dh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hz(e){var t=dz(e,"string");return dh(t)=="symbol"?t:t+""}function fz(e,t,n){return(t=hz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y5(Object(n),!0).forEach(function(r){fz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const v5=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},pz=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const i=e,s=i.status||500;if(typeof i.json=="function")i.json().then(o=>{const a=o?.statusCode||o?.code||s+"";t(new wp(v5(o),s,a,r))}).catch(()=>{if(r==="vectors"){const o=s+"";t(new wp(i.statusText||`HTTP ${s} error`,s,o,r))}else{const o=s+"";t(new wp(i.statusText||`HTTP ${s} error`,s,o,r))}});else{const o=s+"";t(new wp(i.statusText||`HTTP ${s} error`,s,o,r))}}else t(new lk(v5(e),e,r))},mz=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||e==="HEAD"||!r?bt(bt({},i),n):(uz(r)?(i.headers=bt({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),bt(bt({},i),n))};async function bd(e,t,n,r,i,s,o){return new Promise((a,u)=>{e(n,mz(t,r,i,s)).then(c=>{if(!c.ok)throw c;if(r?.noResolveJson)return c;if(o==="vectors"){const f=c.headers.get("content-type");if(c.headers.get("content-length")==="0"||c.status===204)return{};if(!f||!f.includes("application/json"))return{}}return c.json()}).then(c=>a(c)).catch(c=>pz(c,u,r,o))})}function uk(e="storage"){return{get:async(t,n,r,i)=>bd(t,"GET",n,r,i,void 0,e),post:async(t,n,r,i,s)=>bd(t,"POST",n,i,s,r,e),put:async(t,n,r,i,s)=>bd(t,"PUT",n,i,s,r,e),head:async(t,n,r,i)=>bd(t,"HEAD",n,bt(bt({},r),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,n,r,i,s)=>bd(t,"DELETE",n,i,s,r,e)}}const gz=uk("storage"),{get:hh,post:gs,put:ev,head:yz,remove:Ix}=gz,ki=uk("vectors");var wc=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=lz(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(hg(n))return{data:null,error:n};throw n}}},vz=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(hg(t))return{data:null,error:t};throw t}}};let ck;ck=Symbol.toStringTag;var xz=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[ck]="BlobDownloadBuilder",this.promise=null}asStream(){return new vz(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(hg(t))return{data:null,error:t};throw t}}};const bz={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},x5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var wz=class extends wc{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var i=this;return i.handleOperation(async()=>{let s;const o=bt(bt({},x5),r);let a=bt(bt({},i.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),u&&s.append("metadata",i.encodeMetadata(u)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",o.cacheControl),u&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(u))):(s=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,u&&(a["x-metadata"]=i.toBase64(i.encodeMetadata(u))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!o.duplex&&(o.duplex="half")),r?.headers&&(a=bt(bt({},a),r.headers));const c=i._removeEmptyFolders(t),f=i._getFinalPath(c),p=await(e=="PUT"?ev:gs)(i.fetch,`${i.url}/object/${f}`,s,bt({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{path:c,id:p.Id,fullPath:p.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;const s=i._removeEmptyFolders(e),o=i._getFinalPath(s),a=new URL(i.url+`/object/upload/sign/${o}`);return a.searchParams.set("token",t),i.handleOperation(async()=>{let u;const c=bt({upsert:x5.upsert},r),f=bt(bt({},i.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType),{path:s,fullPath:(await ev(i.fetch,a.toString(),u,{headers:f})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const i=bt({},n.headers);t?.upsert&&(i["x-upsert"]="true");const s=await gs(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(n.url+s.url),a=o.searchParams.get("token");if(!a)throw new dg("No token returned by API");return{signedUrl:o.toString(),path:e,token:a}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await gs(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await gs(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(e),s=await gs(r.fetch,`${r.url}/object/sign/${i}`,bt({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${s.signedURL}${o}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const i=await gs(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i.map(o=>bt(bt({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${s}`):null}))})}download(e,t,n){const r=typeof t?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(t?.transform||{}),s=i?`?${i}`:"",o=this._getFinalPath(e),a=()=>hh(this.fetch,`${this.url}/${r}/${o}${s}`,{headers:this.headers,noResolveJson:!0},n);return new xz(a,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>Zy(await hh(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await yz(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(hg(r)&&r instanceof lk){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=t?.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);const s=typeof t?.transform<"u"?"render/image":"object",o=this.transformOptsToQueryString(t?.transform||{});o!==""&&r.push(o);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${a}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Ix(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const i=bt(bt(bt({},bz),t),{},{prefix:e||""});return await gs(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=bt({},e);return await gs(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const _z="2.95.3",Ah={"X-Client-Info":`storage-js/${_z}`};var Sz=class extends wc{constructor(e,t={},n,r){const i=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const s=i.href.replace(/\/$/,""),o=bt(bt({},Ah),t);super(s,o,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await hh(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await hh(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await gs(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await ev(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await gs(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Ix(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Cz=class extends wc{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=bt(bt({},Ah),t);super(r,i,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await gs(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await hh(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Ix(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!cz(e))throw new dg("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new az({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,s){const o=i[s];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(i,a),error:null}}catch(u){if(r)throw u;return{data:null,error:u}}}}})}},kz=class extends wc{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=bt(bt({},Ah),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await ki.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await ki.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await ki.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await ki.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},Ez=class extends wc{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=bt(bt({},Ah),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ki.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await ki.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await ki.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await ki.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ki.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},jz=class extends wc{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=bt(bt({},Ah),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ki.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ki.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await ki.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ki.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},Tz=class extends jz{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Nz(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},Nz=class extends kz{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,bt(bt({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,bt(bt({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new Pz(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Pz=class extends Ez{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,bt(bt({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,bt(bt({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,bt(bt({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,bt(bt({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,bt(bt({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},Oz=class extends Sz{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new wz(this.url,this.headers,e,this.fetch)}get vectors(){return new Tz(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Cz(this.url+"/iceberg",this.headers,this.fetch)}};const dk="2.95.3",Gu=30*1e3,tv=3,R1=tv*Gu,Rz="http://localhost:9999",Az="supabase.auth.token",Iz={"X-Client-Info":`gotrue-js/${dk}`},nv="X-Supabase-Api-Version",hk={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Lz=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Dz=600*1e3;class fh extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ut(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Mz extends fh{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Fz(e){return ut(e)&&e.name==="AuthApiError"}class _l extends fh{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Io extends fh{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class wi extends Io{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function A1(e){return ut(e)&&e.name==="AuthSessionMissingError"}class Du extends Io{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _p extends Io{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Sp extends Io{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Bz(e){return ut(e)&&e.name==="AuthImplicitGrantRedirectError"}class b5 extends Io{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zz extends Io{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class rv extends Io{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function I1(e){return ut(e)&&e.name==="AuthRetryableFetchError"}class w5 extends Io{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class iv extends Io{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const xm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),_5=` 	
\r=`.split(""),$z=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<_5.length;t+=1)e[_5[t].charCodeAt(0)]=-2;for(let t=0;t<xm.length;t+=1)e[xm[t].charCodeAt(0)]=t;return e})();function S5(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(xm[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(xm[r]),t.queuedBits-=6}}function fk(e,t,n){const r=$z[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function C5(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{Vz(o,r,n)};for(let o=0;o<e.length;o+=1)fk(e.charCodeAt(o),i,s);return t.join("")}function Uz(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Hz(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Uz(r,t)}}function Vz(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function ac(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)fk(e.charCodeAt(i),n,r);return new Uint8Array(t)}function Wz(e){const t=[];return Hz(e,n=>t.push(n)),new Uint8Array(t)}function Nl(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>S5(i,n,r)),S5(null,n,r),t.join("")}function qz(e){return Math.round(Date.now()/1e3)+e}function Qz(){return Symbol("auth-callback")}const Cr=()=>typeof window<"u"&&typeof document<"u",fl={tested:!1,writable:!1},pk=()=>{if(!Cr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fl.tested)return fl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),fl.tested=!0,fl.writable=!0}catch{fl.tested=!0,fl.writable=!1}return fl.writable};function Kz(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const mk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Gz=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Yu=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},pl=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Sr=async(e,t)=>{await e.removeItem(t)};class fg{constructor(){this.promise=new fg.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}fg.promiseConstructor=Promise;function Cp(e){const t=e.split(".");if(t.length!==3)throw new iv("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Lz.test(t[r]))throw new iv("JWT not in base64url format");return{header:JSON.parse(C5(t[0])),payload:JSON.parse(C5(t[1])),signature:ac(t[2]),raw:{header:t[0],payload:t[1]}}}async function Yz(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Jz(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){r(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function Xz(e){return("0"+e.toString(16)).substr(-2)}function Zz(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,Xz).join("")}async function e$(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function t$(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await e$(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Mu(e,t,n=!1){const r=Zz();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Yu(e,`${t}-code-verifier`,i);const s=await t$(r);return[s,r===s?"plain":"s256"]}const n$=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function r$(e){const t=e.headers.get(nv);if(!t||!t.match(n$))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function i$(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function s$(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const o$=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fu(e){if(!o$.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function L1(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function a$(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function k5(e){return JSON.parse(JSON.stringify(e))}const bl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),l$=[502,503,504];async function E5(e){var t;if(!Gz(e))throw new rv(bl(e),0);if(l$.includes(e.status))throw new rv(bl(e),e.status);let n;try{n=await e.json()}catch(s){throw new _l(bl(s),s)}let r;const i=r$(e);if(i&&i.getTime()>=hk["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new w5(bl(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new wi}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new w5(bl(n),e.status,n.weak_password.reasons);throw new Mz(bl(n),e.status||500,r)}const u$=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function xt(e,t,n,r){var i;const s=Object.assign({},r?.headers);s[nv]||(s[nv]=hk["2024-01-01"].name),r?.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await c$(e,t,n+a,{headers:s,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}}async function c$(e,t,n,r,i,s){const o=u$(t,r,i,s);let a;try{a=await e(n,Object.assign({},o))}catch(u){throw console.error(u),new rv(bl(u),0)}if(a.ok||await E5(a),r?.noResolveJson)return a;try{return await a.json()}catch(u){await E5(u)}}function ms(e){var t;let n=null;f$(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=qz(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function j5(e){const t=ms(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ga(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function d$(e){return{data:e,error:null}}function h$(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,o=cg(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},u=Object.assign({},o);return{data:{properties:a,user:u},error:null}}function T5(e){return e}function f$(e){return e.access_token&&e.refresh_token&&e.expires_in}const D1=["global","local","others"];class p${constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=mk(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=D1[0]){if(D1.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${D1.join(", ")}`);try{return await xt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ut(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await xt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ga})}catch(r){if(ut(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=cg(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await xt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:h$,redirectTo:n?.redirectTo})}catch(n){if(ut(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await xt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ga})}catch(n){if(ut(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,o,a,u;try{const c={nextPage:null,lastPage:0,total:0},f=await xt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:T5});if(f.error)throw f.error;const p=await f.json(),g=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(u=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(w.split(";")[1].split("=")[1]);c[`${C}Page`]=S}),c.total=parseInt(g)),{data:Object.assign(Object.assign({},p),c),error:null}}catch(c){if(ut(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Fu(t);try{return await xt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ga})}catch(n){if(ut(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Fu(t);try{return await xt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ga})}catch(r){if(ut(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Fu(t);try{return await xt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ga})}catch(r){if(ut(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Fu(t.userId);try{const{data:n,error:r}=await xt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Fu(t.userId),Fu(t.id);try{return{data:await xt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,s,o,a,u;try{const c={nextPage:null,lastPage:0,total:0},f=await xt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:T5});if(f.error)throw f.error;const p=await f.json(),g=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(u=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(w.split(";")[1].split("=")[1]);c[`${C}Page`]=S}),c.total=parseInt(g)),{data:Object.assign(Object.assign({},p),c),error:null}}catch(c){if(ut(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await xt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await xt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await xt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ut(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await xt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await xt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ut(n))return{data:null,error:n};throw n}}}function N5(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Bu={debug:!!(globalThis&&pk()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gk extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class m$ extends gk{}async function g$(e,t,n){Bu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Bu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Bu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Bu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Bu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new m$(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Bu.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function y$(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function yk(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function v$(e){return parseInt(e,16)}function x$(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function b$(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:a,requestId:u,resources:c,scheme:f,uri:p,version:g}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=yk(e.address),w=f?`${f}://${r}`:r,S=e.statement?`${e.statement}
`:"",C=`${w} wants you to sign in with your Ethereum account:
${y}

${S}`;let E=`URI: ${p}
Version: ${g}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(E+=`
Expiration Time: ${i.toISOString()}`),a&&(E+=`
Not Before: ${a.toISOString()}`),u&&(E+=`
Request ID: ${u}`),c){let P=`
Resources:`;for(const A of c){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);P+=`
- ${A}`}E+=P}return`${C}
${E}`}class Gn extends Error{constructor({message:t,code:n,cause:r,name:i}){var s;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class bm extends Gn{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function w$({error:e,options:t}){var n,r,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Gn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Gn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Gn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Gn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Gn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Gn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Gn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Gn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(vk(o)){if(s.rp.id!==o)return new Gn({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Gn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Gn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Gn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Gn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function _$({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Gn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Gn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(vk(r)){if(n.rpId!==r)return new Gn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Gn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Gn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Gn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class S${createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const C$=new S$;function k$(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=cg(e,["challenge","user","excludeCredentials"]),s=ac(t).buffer,o=Object.assign(Object.assign({},n),{id:ac(n.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:s,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const c=r[u];a.excludeCredentials[u]=Object.assign(Object.assign({},c),{id:ac(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function E$(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=cg(e,["challenge","allowCredentials"]),i=ac(t).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];s.allowCredentials[o]=Object.assign(Object.assign({},a),{id:ac(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return s}function j$(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Nl(new Uint8Array(e.response.attestationObject)),clientDataJSON:Nl(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function T$(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Nl(new Uint8Array(i.authenticatorData)),clientDataJSON:Nl(new Uint8Array(i.clientDataJSON)),signature:Nl(new Uint8Array(i.signature)),userHandle:i.userHandle?Nl(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function vk(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function P5(){var e,t;return!!(Cr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function N$(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new bm("Browser returned unexpected credential type",t)}:{data:null,error:new bm("Empty credential response",t)}}catch(t){return{data:null,error:w$({error:t,options:e})}}}async function P$(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new bm("Browser returned unexpected credential type",t)}:{data:null,error:new bm("Empty credential response",t)}}catch(t){return{data:null,error:_$({error:t,options:e})}}}const O$={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},R$={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function wm(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))r[s]=o;else if(n(o))r[s]=o;else if(t(o)){const a=r[s];t(a)?r[s]=wm(a,o):r[s]=wm(o)}else r[s]=o}return r}function A$(e,t){return wm(O$,e,t||{})}function I$(e,t){return wm(R$,e,t||{})}class L${constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},s){var o;try{const{data:a,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!a)return{data:null,error:u};const c=i??C$.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:f}=a.webauthn.credential_options.publicKey;if(!f.name){const p=r;if(p)f.name=`${f.id}:${p}`;else{const y=(await this.client.getUser()).data.user,w=((o=y?.user_metadata)===null||o===void 0?void 0:o.name)||y?.email||y?.id||"User";f.name=`${f.id}:${w}`}}f.displayName||(f.displayName=f.name)}switch(a.webauthn.type){case"create":{const f=A$(a.webauthn.credential_options.publicKey,s?.create),{data:p,error:g}=await N$({publicKey:f,signal:c});return p?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}case"request":{const f=I$(a.webauthn.credential_options.publicKey,s?.request),{data:p,error:g}=await P$(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:f,signal:c}));return p?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}}}catch(a){return ut(a)?{data:null,error:a}:{data:null,error:new _l("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new fh("rpId is required for WebAuthn authentication")};try{if(!P5())return{data:null,error:new _l("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!o)return{data:null,error:a};const{webauthn:u}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(o){return ut(o)?{data:null,error:o}:{data:null,error:new _l("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new fh("rpId is required for WebAuthn registration")};try{if(!P5())return{data:null,error:new _l("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(f=>{var p;return(p=f.data)===null||p===void 0?void 0:p.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f?.id}):void 0),{data:null,error:a};const{data:u,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return u?this._verify({factorId:o.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:c}}catch(o){return ut(o)?{data:null,error:o}:{data:null,error:new _l("Unexpected error in register",o)}}}}y$();const D$={url:Rz,storageKey:Az,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Iz,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function O5(e,t,n){return await n()}const zu={};class ph{get jwks(){var t,n;return(n=(t=zu[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){zu[this.storageKey]=Object.assign(Object.assign({},zu[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=zu[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){zu[this.storageKey]=Object.assign(Object.assign({},zu[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},D$),t);if(this.storageKey=s.storageKey,this.instanceID=(n=ph.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,ph.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Cr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new p$({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=mk(s.fetch),this.lock=s.lock||O5,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&Cr()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=g$:this.lock=O5,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new L$(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:pk()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=N5(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=N5(this.memoryStorage)),Cr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(a){this._debug("#broadcastChannel","error",a)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${dk}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Cr()&&(n=Kz(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Cr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Bz(s)){const u=(t=s.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ut(n)?this._returnResult({error:n}):this._returnResult({error:new _l("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await xt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:ms}),{data:o,error:a}=s;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(s){if(ut(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:f,password:p,options:g}=t;let y=null,w=null;this.flowType==="pkce"&&([y,w]=await Mu(this.storage,this.storageKey)),s=await xt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:f,password:p,data:(n=g?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:y,code_challenge_method:w},xform:ms})}else if("phone"in t){const{phone:f,password:p,options:g}=t;s=await xt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:p,data:(r=g?.data)!==null&&r!==void 0?r:{},channel:(i=g?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:ms})}else throw new _p("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return await Sr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(s){if(await Sr(this.storage,`${this.storageKey}-code-verifier`),ut(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:o,options:a}=t;n=await xt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:j5})}else if("phone"in t){const{phone:s,password:o,options:a}=t;n=await xt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:j5})}else throw new _p("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const s=new Du;return this._returnResult({data:{user:null,session:null},error:s})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ut(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,s,o,a,u,c,f,p,g;let y,w;if("message"in t)y=t.message,w=t.signature;else{const{chain:S,wallet:C,statement:E,options:P}=t;let A;if(Cr())if(typeof C=="object")A=C;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")A=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=C}const $=new URL((n=P?.url)!==null&&n!==void 0?n:window.location.href),W=await A.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!W||W.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=yk(W[0]);let R=(r=P?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!R){const q=await A.request({method:"eth_chainId"});R=v$(q)}const z={domain:$.host,address:D,statement:E,uri:$.href,version:"1",chainId:R,nonce:(i=P?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=P?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=P?.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(u=P?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(c=P?.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(f=P?.signInWithEthereum)===null||f===void 0?void 0:f.resources};y=b$(z),w=await A.request({method:"personal_sign",params:[x$(y),D]})}try{const{data:S,error:C}=await xt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:w},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:ms});if(C)throw C;if(!S||!S.session||!S.user){const E=new Du;return this._returnResult({data:{user:null,session:null},error:E})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:C})}catch(S){if(ut(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(t){var n,r,i,s,o,a,u,c,f,p,g,y;let w,S;if("message"in t)w=t.message,S=t.signature;else{const{chain:C,wallet:E,statement:P,options:A}=t;let $;if(Cr())if(typeof E=="object")$=E;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))$=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=E}const W=new URL((n=A?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in $&&$.signIn){const D=await $.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:W.host,uri:W.href}),P?{statement:P}:null));let R;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")R=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)R=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)w=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),S=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in $)||typeof $.signMessage!="function"||!("publicKey"in $)||typeof $!="object"||!$.publicKey||!("toBase58"in $.publicKey)||typeof $.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${W.host} wants you to sign in with your Solana account:`,$.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${W.href}`,`Issued At: ${(i=(r=A?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=A?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((o=A?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((a=A?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((u=A?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((c=A?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((p=(f=A?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||p===void 0)&&p.length?["Resources",...A.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const D=await $.signMessage(new TextEncoder().encode(w),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=D}}try{const{data:C,error:E}=await xt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Nl(S)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:ms});if(E)throw E;if(!C||!C.session||!C.user){const P=new Du;return this._returnResult({data:{user:null,session:null},error:P})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:E})}catch(C){if(ut(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(t){const n=await pl(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new zz;const{data:s,error:o}=await xt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:ms});if(await Sr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!s||!s.session||!s.user){const a=new Du;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(await Sr(this.storage,`${this.storageKey}-code-verifier`),ut(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=t,a=await xt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:ms}),{data:u,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!u||!u.session||!u.user){const f=new Du;return this._returnResult({data:{user:null,session:null},error:f})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:c})}catch(n){if(ut(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,s,o;try{if("email"in t){const{email:a,options:u}=t;let c=null,f=null;this.flowType==="pkce"&&([c,f]=await Mu(this.storage,this.storageKey));const{error:p}=await xt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(r=u?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:c,code_challenge_method:f},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:a,options:u}=t,{data:c,error:f}=await xt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(o=u?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:f})}throw new _p("You must provide either an email or phone number.")}catch(a){if(await Sr(this.storage,`${this.storageKey}-code-verifier`),ut(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await xt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:ms});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,c=o.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(i){if(ut(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,s,o;try{let a=null,u=null;this.flowType==="pkce"&&([a,u]=await Mu(this.storage,this.storageKey));const c=await xt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:u}),headers:this.headers,xform:d$});return!((s=c.data)===null||s===void 0)&&s.url&&Cr()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(await Sr(this.storage,`${this.storageKey}-code-verifier`),ut(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new wi;const{error:i}=await xt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(ut(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:o}=await xt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:o,error:a}=await xt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:a})}throw new _p("You must provide either an email or phone number and a type")}catch(n){if(ut(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await pl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<R1:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await pl(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=L1()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=a$(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await xt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ga}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wi}:await xt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:ga})})}catch(n){if(ut(n))return A1(n)&&(await this._removeSession(),await Sr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new wi;const o=i.session;let a=null,u=null;this.flowType==="pkce"&&t.email!=null&&([a,u]=await Mu(this.storage,this.storageKey));const{data:c,error:f}=await xt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:u}),jwt:o.access_token,xform:ga});if(f)throw f;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await Sr(this.storage,`${this.storageKey}-code-verifier`),ut(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new wi;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=Cp(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:a,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:u}=await this._getUser(t.access_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});s={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(n){if(ut(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new wi;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ut(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Cr())throw new Sp("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Sp(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new b5("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Sp("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new b5("No code detected.");const{data:P,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const $=new URL(window.location.href);return $.searchParams.delete("code"),window.history.replaceState(window.history.state,"",$.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:u,token_type:c}=t;if(!s||!a||!o||!c)throw new Sp("No session defined in URL");const f=Math.round(Date.now()/1e3),p=parseInt(a);let g=f+p;u&&(g=parseInt(u));const y=g-f;y*1e3<=Gu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);const w=g-p;f-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,g,f):f-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,g,f);const{data:S,error:C}=await this._getUser(s);if(C)throw C;const E={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:g,refresh_token:o,token_type:c,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:E,redirectType:t.type},error:null})}catch(r){if(ut(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await pl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s&&!A1(s))return this._returnResult({error:s});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Fz(a)&&(a.status===404||a.status===401||a.status===403)||A1(a)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await Sr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=Qz(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Mu(this.storage,this.storageKey,!0));try{return await xt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(await Sr(this.storage,`${this.storageKey}-code-verifier`),ut(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,u,c,f;const{data:p,error:g}=s;if(g)throw g;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await xt(this.fetch,"GET",y,{headers:this.headers,jwt:(f=(c=p.session)===null||c===void 0?void 0:c.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return Cr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(ut(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:o,provider:a,token:u,access_token:c,nonce:f}=t,p=await xt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:u,access_token:c,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:ms}),{data:g,error:y}=p;return y?this._returnResult({data:{user:null,session:null},error:y}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new Du}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:y}))}catch(i){if(await Sr(this.storage,`${this.storageKey}-code-verifier`),ut(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await xt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Jz(async i=>(i>0&&await Yz(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await xt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ms})),(i,s)=>{const o=200*Math.pow(2,i);return s&&I1(s)&&Date.now()+o-r<Gu})}catch(r){if(this._debug(n,"error",r),ut(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Cr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await pl(this.storage,this.storageKey);if(i&&this.userStorage){let o=await pl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Yu(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:L1()}else if(i&&!i.user&&!i.user){const o=await pl(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await Sr(this.storage,this.storageKey+"-user"),await Yu(this.storage,this.storageKey,i)):i.user=L1()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<R1;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${R1}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),I1(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new wi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new fg;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new wi;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={data:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),ut(s)){const o={data:null,error:s};return I1(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(u){s.push(u)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Sr(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Yu(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=k5(i);await Yu(this.storage,this.storageKey,s)}else{const i=k5(n);await Yu(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Sr(this.storage,this.storageKey),await Sr(this.storage,this.storageKey+"-code-verifier"),await Sr(this.storage,this.storageKey+"-user"),this.userStorage&&await Sr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Cr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Gu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Gu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Gu}ms, refresh threshold is ${tv} ticks`),i<=tv&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof gk)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Cr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await Mu(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r?.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?this._returnResult({data:null,error:s}):await xt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:c}=await xt(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?j$(t.webauthn.credential_response):T$(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:u}=await xt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:u}))})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const o=await xt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:k$(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:E$(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=n?.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,r,i,s;if(t)try{const{payload:y}=Cp(t);let w=null;y.aal&&(w=y.aal);let S=w;const{data:{user:C},error:E}=await this.getUser(t);if(E)return this._returnResult({data:null,error:E});((r=(n=C?.factors)===null||n===void 0?void 0:n.filter($=>$.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(S="aal2");const A=y.amr||[];return{data:{currentLevel:w,nextLevel:S,currentAuthenticationMethods:A},error:null}}catch(y){if(ut(y))return this._returnResult({data:null,error:y});throw y}const{data:{session:o},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Cp(o.access_token);let c=null;u.aal&&(c=u.aal);let f=c;((s=(i=o.user.factors)===null||i===void 0?void 0:i.filter(y=>y.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(f="aal2");const g=u.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await xt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new wi})})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new wi});const o=await xt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Cr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(ut(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new wi});const o=await xt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Cr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(ut(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await xt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new wi})})}catch(t){if(ut(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await xt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new wi})})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+Dz>i)return r;const{data:s,error:o}=await xt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:y,error:w}=await this.getSession();if(w||!y.session)return this._returnResult({data:null,error:w});r=y.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:u}}=Cp(r);n?.allowExpired||i$(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!c){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:s,header:i,signature:o},error:null}}const f=s$(i.alg),p=await crypto.subtle.importKey("jwk",c,f,!0,["verify"]);if(!await crypto.subtle.verify(f,p,o,Wz(`${a}.${u}`)))throw new iv("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(ut(r))return this._returnResult({data:null,error:r});throw r}}}ph.nextInstanceID={};const M$=ph,F$="2.95.3";let Ld="";typeof Deno<"u"?Ld="deno":typeof document<"u"?Ld="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ld="react-native":Ld="node";const B$={"X-Client-Info":`supabase-js-${Ld}/${F$}`},z$={headers:B$},$$={schema:"public"},U$={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},H$={};function mh(e){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mh(e)}function V$(e,t){if(mh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W$(e){var t=V$(e,"string");return mh(t)=="symbol"?t:t+""}function q$(e,t,n){return(t=W$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ln(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R5(Object(n),!0).forEach(function(r){q$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const Q$=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),K$=()=>Headers,G$=(e,t,n)=>{const r=Q$(n),i=K$();return async(s,o)=>{var a;const u=(a=await t())!==null&&a!==void 0?a:e;let c=new i(o?.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),r(s,Ln(Ln({},o),{},{headers:c}))}};function Y$(e){return e.endsWith("/")?e:e+"/"}function J$(e,t){var n,r;const{db:i,auth:s,realtime:o,global:a}=e,{db:u,auth:c,realtime:f,global:p}=t,g={db:Ln(Ln({},u),i),auth:Ln(Ln({},c),s),realtime:Ln(Ln({},f),o),storage:{},global:Ln(Ln(Ln({},p),a),{},{headers:Ln(Ln({},(n=p?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}function X$(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Y$(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Z$=class extends M${constructor(e){super(e)}},eU=class{constructor(e,t,n){var r,i;this.supabaseUrl=e,this.supabaseKey=t;const s=X$(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const o=`sb-${s.hostname.split(".")[0]}-auth-token`,a={db:$$,realtime:H$,auth:Ln(Ln({},U$),{},{storageKey:o}),global:z$},u=J$(n??{},a);if(this.storageKey=(r=u.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken)this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=u.auth)!==null&&c!==void 0?c:{},this.headers,u.global.fetch)}this.fetch=G$(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Ln({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new FB(new URL("rest/v1",s).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch,timeout:u.db.timeout,urlLengthLimit:u.db.urlLengthLimit}),this.storage=new Oz(this.storageUrl.href,this.headers,this.fetch,n?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new PB(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:s,flowType:o,lock:a,debug:u,throwOnError:c},f,p){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Z$({url:this.authUrl.href,headers:Ln(Ln({},g),f),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:o,lock:a,debug:u,throwOnError:c,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new tz(this.realtimeUrl.href,Ln(Ln({},e),{},{params:Ln(Ln({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const tU=(e,t,n)=>new eU(e,t,n);function nU(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}nU()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");function A5(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var $u=[..."".normalize("NFD")].map(e=>e.charCodeAt(0)),I5=44032,rU=55203,M1=28,L5=21,sv={"":"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},ov={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},iU=["","","","","","","","","","","","","","","","","","",""],sU=Object.values(ov),oU=["","","","","","","","","","","","","","","","","","","","","","","","","","","",""].map(e=>sv[e]);function aU(e){const t=e.charCodeAt(0);if(!(I5<=t&&t<=rU))return;const r=t-I5,i=r%M1,s=(r-i)/M1%L5,o=Math.floor((r-i)/M1/L5);return{choseong:iU[o],jungseong:sU[s],jongseong:oU[i]}}function lU(e){const t=[];for(const n of e){const r=aU(n);if(r!=null){t.push([...r.choseong,...r.jungseong,...r.jongseong]);continue}if(A5(sv,n)){const i=sv[n];t.push([...i]);continue}if(A5(ov,n)){const i=ov[n];t.push([...i]);continue}t.push([n])}return t}function pc(e){return lU(e).reduce((t,n)=>`${t}${n.join("")}`,"")}var _m={START_CHOSEONG:$u[0],START_JUNGSEONG:$u[1],START_JONGSEONG:$u[2],END_CHOSEONG:$u[3],END_JUNGSEONG:$u[4],END_JONGSEONG:$u[5]};new RegExp(`[^\\u${_m.START_CHOSEONG.toString(16)}-\\u${_m.END_CHOSEONG.toString(16)}-\\s]+`,"ug");new RegExp(`[\\u${_m.START_CHOSEONG.toString(16)}-\\u${_m.END_CHOSEONG.toString(16)}]`,"g");const uU=tU("https://jvbtsubxzytnjnzxmtbg.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp2YnRzdWJ4enl0bmpuenhtdGJnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQyMzMyMzgsImV4cCI6MjA2OTgwOTIzOH0.uUpg4kO7-uLmswUo8Dp_-WZwKw_xKqxRrpGmM2tN02I"),cU=30*1e3,dU=10*1e3,hU=60*1e3,fU=5,kp="searchLoggingData",pU="searches_dev",Tt={timer:null,commitDelay:cU,data:[],loadLoggingData(){if(Tt.data.length>0)return Tt.data;const e=localStorage.getItem(kp);return e&&(Tt.data=JSON.parse(e)),Tt.data},updateLoggingData(e,t,n){const r=!t||Number.isNaN(Number(t))?-1:Number(t),s={search:e===void 0&&Tt.data.length>0?Tt.data[Tt.data.length-1].search:e??"",dprt_cd:r,target:n,created_at:Date.now()};if((a=>{if(Tt.data.length===0)return!1;const u=Tt.data[Tt.data.length-1];return u.target<0&&(F1(u.search,a.search)||F1(a.search,u.search))})(s)){const a=Tt.data[Tt.data.length-1];a.target=n,a.created_at=Date.now(),F1(s.search,a.search)&&(a.search=s.search),s.dprt_cd>=0&&(a.dprt_cd=s.dprt_cd)}else Tt.data.push(s);localStorage.setItem(kp,JSON.stringify(Tt.data)),Tt.submitDelayCommit()},reconcileLoggingData(){Tt.data=Tt.data.filter(e=>!(e.search&&e.dprt_cd<0&&e.target<0)),Tt.data=Tt.data.filter((e,t)=>!(t>0&&e.search===Tt.data[t-1].search&&e.dprt_cd===Tt.data[t-1].dprt_cd&&e.target===-1)),localStorage.setItem(kp,JSON.stringify(Tt.data))},submitDelayCommit(){if(Tt.timer&&(clearTimeout(Tt.timer),Tt.timer=null),Tt.data.length>fU){const e=Tt.data.map(r=>r.created_at),t=e.slice(1).map((r,i)=>r-e[i]),n=t.reduce((r,i)=>r+i,0)/t.length;Tt.commitDelay=Math.min(hU,Math.max(dU,n+10*1e3))}Tt.timer=setTimeout(()=>{Tt.timer=null,Tt.commitLoggingData()},Tt.commitDelay)},commitLoggingData(){Tt.reconcileLoggingData();const e=Tt.data.length;if(e===0)return;const t=Tt.data.map(({search:n,dprt_cd:r,target:i})=>({search:n,dprt_cd:r,target:i}));uU.from(pU).insert(t).then(({error:n})=>{n?console.error("Error committing search logging data:",n):(Tt.data=Tt.data.slice(e),localStorage.setItem(kp,JSON.stringify(Tt.data)))})}};function F1(e,t){const n=pc(e).toLowerCase(),r=pc(t).toLowerCase();return n.includes(r)}function Ih(){N.useEffect(()=>{Tt.loadLoggingData()},[]);function e(r,i){Tt.updateLoggingData(r,i,-1)}function t(r,i,s){Tt.updateLoggingData(r,i,s)}function n(r){Tt.updateLoggingData(void 0,void 0,r)}return{onSearchChange:e,selectTarget:t,selectTargetOnly:n}}const av=jr((e,t)=>({favorites:JSON.parse(localStorage.getItem("favorites")??"[]"),toggleFavorite:n=>{const r=t().favorites.includes(n);e(i=>{const s=r?i.favorites.filter(o=>o!==n):[...i.favorites,n];return localStorage.setItem("favorites",JSON.stringify(s)),{favorites:s}})},isFavorite:n=>t().favorites.includes(n)})),hn={grades:[1,2,3,4],credits:[1,2,3],days:["","","","",""],remark:["","SHP",""],classRoom:["","","","","AI","()","","","","","","","","","","","","","","","",""],wishRange:[{min:10},{min:50},{min:100},{min:200}],seatRange:[{min:1},{max:2},{max:5},{max:10}]},mU={classRoom:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"AI",value:""},{label:"()",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]};function Lh(e){return gU(e.map(n=>n.curiTypeCdNm)).filter(n=>!!n)}function gU(e){return Array.from(new Set(e))}const di={keywords:"",department:"",grades:"",credits:"",classroom:"",seatRange:"",wishRange:" ",time:"",days:"",categories:" ",note:"",language:"",alarmOnly:"",favoriteOnly:""};function yU(e,t){if(t.length===0)return di[e];const n=t[0];return t.length===1?ka()[e]?.(n)??di[e]:`${ka()[e]?.(n)??di[e]}  ${t.length-1}`}function vU(e,t){if(t==null)return di[e];const n=t;return e==="seatRange"?` ${ka()[e]?.(n)??di[e]}`:e==="wishRange"?`  ${ka()[e]?.(n)??di[e]}`:ka()[e]?.(n)??di[e]}function D5(e,t,n){if(t==null)return"";const r=t,i=ka(n)[e]?.(r);return i?e==="seatRange"?` ${i}`:e==="wishRange"?` ${i}`:i:""}function ka(e){const t=n=>e?e.find(i=>i.departmentCode===n)?.departmentName||n:"";return{keywords:n=>typeof n=="string"?n:"",department:n=>t(n),grades:n=>F5(n,di.grades),credits:n=>F5(n,di.credits),classroom:xU,seatRange:M5,wishRange:M5,time:bU,days:wU,categories:n=>n,note:n=>n,language:n=>n,alarmOnly:()=>di.alarmOnly,favoriteOnly:()=>di.favoriteOnly}}const xU=e=>!e||typeof e!="string"?"":mU.classRoom.find(t=>t.value===e)?.label||e,M5=e=>{if(!e)return"";const{min:t,max:n}=e;return t!==void 0&&n!==void 0?`${t}  ~ ${n} `:t!==void 0?`${t} `:n!==void 0?`${n} `:""},bU=e=>`${e.day}${di.time} ${e.start}~${e.end}`,wU=e=>e+"",F5=(e,t)=>e+t;function xk(e,t){return e==="time"&&Array.isArray(t)?t.length===0||t.length===1&&t[0].day==="":Array.isArray(Oa[e])&&Array.isArray(t)?t.length===0:!t}function B5(e){return Array.isArray(e)?e.length>0:e!=null&&e!==""&&e!==!1}function Lx(e,t){const n=[];for(const r in e){const i=e[r];if(r==="time"){const{day:s,type:o}=i;if(!s||!o)continue}r==="keywords"||r==="favoriteOnly"||r==="alarmOnly"||(Array.isArray(i)&&i.length>0&&i.forEach(s=>{B5(s)&&n.push({filterKey:r,values:s,label:D5(r,s,t)})}),!Array.isArray(i)&&B5(i)&&n.push({filterKey:r,values:i,label:i!==null?D5(r,i,t):""}))}return n}function _U(e){const{data:t}=sg(),n=av(o=>o.isFavorite),r=SU(e,t,n),s=Object.keys(e).filter(o=>!xk(o,e[o]));return(o,a)=>s.every(u=>{const c=r[u];return c?c(o,a[u]):!0})}function SU(e,t,n){const r=o=>t?.some(({subjectId:a})=>a===o)??!0,i=wk(e.keywords),s=e.keywords.replace(/[-\s]/g,"").toLowerCase();return{keywords:o=>PU(o,i,s),department:NU,grades:kU,credits:EU,categories:IU,seatRange:jU,wishRange:TU,time:AU,days:CU,classroom:OU,note:RU,language:LU,alarmOnly:o=>n(o.subjectId),favoriteOnly:o=>r(o.subjectId)}}function bk(e,t){if(!t)return!0;const{min:n,max:r}=t;return(n===void 0||e>=n)&&(r===void 0||e<=r)}function Dx(e,t){return!t.length||t.includes(e)}function wk(e){const t=e.replace(/[^\w---]/g,"");return pc(t).toLowerCase()}function CU(e,t){if(!e.lesnTime||!t||t.length===0)return!0;const n=RegExp(/^([-]+)/).exec(e.lesnTime);if(!n)return!0;const r=n[1].split("");return t.some(i=>r.includes(i))}function kU(e,t){const n=Number(e.studentYear);return!n||t.includes("")||t.length===0?!0:t.includes(n)}function EU(e,t){const n=Number(e.tmNum.split("/")[0]);return!n||Number.isNaN(n)?!0:Dx(n,t)}function jU(e,t){const n=e;return"seat"in n?bk(n.seat??0,t):!0}function TU(e,t){return"totalCount"in e?bk(e.totalCount??0,t):!0}function NU(e,t){return!t||t===""||t===e.deptCd}function PU(e,t,n){if(!t)return!0;const r=e.professorName?pc(e.professorName).toLowerCase():"",i=wk(e.subjectName),o=(e.subjectCode+e.classCode).toLowerCase().includes(n);return r.includes(t)||i.includes(t)||o}function OU(e,t){return t.length?e.lesnRoom?t.some(n=>new RegExp(`^${n}[\\w]`,"i").test(e.lesnRoom)):!1:!0}function RU(e,t){return!t||t.length===0?!0:t.some(n=>{switch(n){case"":return e.remark?.includes("")??!1;case"SHP":return["SHP","Honor"].some(r=>e.remark?.includes(r)??!1);case"":return!e.remark||!["","SHP","Honor"].some(r=>e.remark?.includes(r)??!1)}})}function AU(e,t){if(!t||t.length===0||!e.lesnTime)return!0;const r=new vc(e.lesnTime).toApiData().map(i=>({day:i.dayOfWeeks,start:new Ou(i.startTime),end:new Ou(i.endTime)}));return t.some(i=>{if(i.day==="")return!0;const s=r.filter(o=>o.day===i.day);if(i.type==="all"||!s.length)return!!s.length;if(i.type==="before"&&i.start){const o=new Ou(i.start);return s.some(a=>a.end.compare(o)<=0)}if(i.type==="after"&&i.start){const o=new Ou(i.start);return s.some(a=>o.compare(a.start)<=0)}if(i.type==="between"&&i.start&&i.end){const o=new Ou(i.start),a=new Ou(i.end);return s.some(u=>o.compare(u.start)<=0&&u.end.compare(a)<=0)}})}function IU(e,t){return Dx(e.curiTypeCdNm,t)}function LU(e,t){return Dx(e.curiLangNm??"",t)}function _c(e,t){const n=_U(t),{onSearchChange:r}=Ih(),{keywords:i,department:s}=t;return!e||e.length===0?[]:(r(i,s),e.filter(o=>n(o,t)))}const _k="2026-02-13";function pg(e){const{hasSeats:t}=e??{},n=new Date>UO(`${_k}T10:00:00`);return{isPreSeatAvailable:!n}}function mg({col:e,row:t}){return h.jsx(h.Fragment,{children:Array.from({length:t}).map((n,r)=>h.jsx("tr",{className:"animate-pulse border-t border-gray-200 h-10",children:Array.from({length:e}).map((i,s)=>h.jsx("td",{className:"bg-gray-300",colSpan:-1},`skeleton-td-${s}-${r}`))},"skeleton-row-"+r))})}const B1=45;function gg(e,t="ref",n=".load-more-trigger"){const[r,i]=N.useState(B1),s=N.useRef(null),o=N.useRef(null);return N.useEffect(()=>{i(B1)},[e]),N.useEffect(()=>{const a=new IntersectionObserver(u=>{u.forEach(c=>{c.isIntersecting&&i(f=>f>=e.length?f:f+B1)})},{root:null,rootMargin:"0px",threshold:.5});return o.current=a,t==="ref"&&s.current?a.observe(s.current):t==="selector"&&document.querySelectorAll(n).forEach(c=>a.observe(c)),()=>{a.disconnect()}},[e,t,n]),{visibleRows:r,...t==="ref"?{loadMoreRef:s}:{}}}const yg=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16,height:16,viewBox:"0 0 16 16",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,32)"},N.createElement("path",{d:"M13,25.5Q12.9688,23.3125,11.75,21.65625L15.7188,17.71875Q16,17.40625,16,17Q16,16.59375,15.7188,16.28125Q15.4062,16,15,16Q14.5938,16,14.2812,16.28125L10.3438,20.25Q8.6875,19.03125,6.5,19Q3.75,19.0625,1.90625,20.90625Q0.0625,22.75,0,25.5Q0.0625,28.25,1.90625,30.0938Q3.75,31.9375,6.5,32Q9.25,31.9375,11.0938,30.0938Q12.9375,28.25,13,25.5ZM6.5,21Q7.71875,21,8.75,21.59375Q9.78125,22.1875,10.4062,23.25Q11,24.3125,11,25.5Q11,26.6875,10.4062,27.75Q9.78125,28.8125,8.75,29.4062Q7.71875,30,6.5,30Q5.28125,30,4.25,29.4062Q3.21875,28.8125,2.59375,27.75Q2,26.6875,2,25.5Q2,24.3125,2.59375,23.25Q3.21875,22.1875,4.25,21.59375Q5.28125,21,6.5,21Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function Sm({title:e,description:t}){return h.jsxs(je,{direction:"flex-col",align:"items-center",gap:"gap-1",className:"mt-2",children:[h.jsx(yg,{className:"w-7 h-7"}),h.jsx("p",{className:"text-gray-500 font-medium",children:e}),t&&h.jsx("p",{className:"text-gray-400 text-xs",children:t})]})}function Mx({col:e,title:t,description:n}){return h.jsx("tr",{children:h.jsx("td",{colSpan:e,className:"py-4 text-center",children:h.jsx(Sm,{title:t,description:n})})})}function DU({titles:e,subjects:t,isPending:n=!1}){return h.jsxs("table",{className:"w-full bg-white rounded-lg relative text-sm",children:[h.jsx("thead",{children:h.jsx("tr",{className:"bg-gray-50 text-nowrap",children:e.map(({title:r})=>h.jsx("th",{className:"px-4 py-2",children:r},r))})}),h.jsx("tbody",{children:h.jsx(MU,{titles:e,subjects:t,isPending:n})})]})}function MU({titles:e,subjects:t,isPending:n=!1}){const{visibleRows:r}=gg(t??[],"selector"),i=(t??[]).filter(o=>!o.isDeleted),s=i?i.slice(0,r):[];return n||!i?h.jsx(mg,{row:5,col:e.length}):i.length?h.jsxs(h.Fragment,{children:[s.map(o=>h.jsx(FU,{subject:o},`${o.subjectCode} ${o.subjectId} ${o.professorName}`)),h.jsx("tr",{className:"load-more-trigger"})]}):h.jsx(Mx,{col:e.length,title:"  .",description:"   ."})}function FU({subject:e}){const t=e.curiLangNm==="",r=e.isDeleted?"bg-gray-100 hover:bg-gray-200":t?"bg-green-50 hover:bg-green-100":"bg-white hover:bg-gray-100",{data:i}=sg(),{mutate:s}=Tx(),{mutate:o}=QC(),{selectTargetOnly:a}=Ih(),u=i?.some(f=>f.subjectId===e.subjectId),c=()=>{if(!u){o(e.subjectId);return}s(e.subjectId),a(e.subjectId),ug(e.deptCd)};return h.jsxs("tr",{className:`border-t border-gray-200 text-black ${r}`,children:[h.jsx("td",{className:"px-4 py-2 text-center",children:h.jsx("button",{className:"cursor-pointer","aria-label":u?"  ":"  ",onClick:c,children:h.jsx(Pa,{disabled:!u})})}),h.jsxs("td",{className:"px-2 py-2 text-center",children:[e.subjectCode,"-",e.classCode]}),h.jsx("td",{className:"px-2 py-2 text-center",children:e.departmentName}),h.jsx("td",{className:"px-2 py-2 text-center",children:e.subjectName}),h.jsx("td",{className:"px-2 py-2 text-center",children:e.professorName}),e.seat!==void 0?h.jsx("td",{className:"px-2 py-2 text-center",children:e.seat>=0?h.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${ig(e.seat)}`,children:e.seat}):h.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-gray-300",children:"-"})}):null]})}function Sk({subject:e,variant:t="contain",className:n,onClick:r,...i}){const{data:s}=sg(),{mutate:o}=Tx(),{mutate:a}=QC(),{selectTargetOnly:u}=Ih(),c=s?.some(g=>g.subjectId===e.subjectId),f=c?"  ":"  ",p=g=>{if(u(e.subjectId),ug(e.deptCd),r&&r(g),!c){a(e.subjectId);return}o(e.subjectId)};return h.jsx(lr,{"aria-label":f,title:f,variant:t==="contain"?"contain":"plain",onClick:p,icon:h.jsx(Pa,{disabled:!c}),className:n,...i})}function BU({subject:e,seats:t,queryTime:n,disableSeat:r=!1,isLive:i=!1}){const s=e.isDeleted,o=e.curiLangNm==="",a=typeof e.tmNum=="string"&&Number(e.tmNum.split("/")[0])||0;return h.jsxs(wn,{variant:"elevated",children:[h.jsxs(je,{justify:"justify-between",children:[h.jsx(It,{level:3,children:e.subjectName}),h.jsx(Sk,{subject:e,variant:"plain"})]}),h.jsxs(je,{className:"text-xs text-gray-500",direction:"flex-col",children:[h.jsx("p",{children:e.departmentName}),h.jsxs("p",{children:[e.subjectCode,"-",e.classCode," | ",e.professorName]})]}),h.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:[e.studentYear," ",e.curiTypeCdNm," | ",a," | ",e.lesnTime]}),!r&&h.jsxs(je,{gap:"gap-2",align:"items-baseline",justify:"justify-between",children:[h.jsxs("p",{className:`text-sm px-2 py-1 rounded-full font-bold ${ig(t)}`,children:[": ",t<0?"???":t]}),!i&&h.jsx(jo,{variant:"default",children:Px(n)}),s&&h.jsx(jo,{variant:"danger",children:""}),o&&h.jsx(jo,{variant:"success",children:""})]})]})}function Fx({subjects:e,isPending:t=!1,className:n="",isLive:r=!1}){return h.jsx(je,{direction:"flex-col",gap:"gap-2",className:n,children:h.jsx(zU,{subjects:e,isPending:t,isLive:r})})}function zU({subjects:e,isPending:t=!1,isLive:n=!1}){const{visibleRows:r,loadMoreRef:i}=gg(e),s=e?e.slice(0,r):[];return t||!e?h.jsx(Ia,{columns:{base:1,md:3},gap:"gap-4",className:"animate-pulse",children:[0,0,0].map((o,a)=>h.jsx("div",{className:"bg-gray-300 shadow-sm rounded-lg p-4 h-24"},"skeleton-card-"+a))}):e.length?h.jsxs(h.Fragment,{children:[s.map(o=>h.jsx(BU,{subject:o,seats:"seat"in o?o.seat??-1:-1,disableSeat:!("seat"in o),className:"bg-white",isLive:n},o.subjectId)),h.jsx("div",{ref:i,className:"load-more-trigger opacity-0",children:" "})]}):h.jsxs(je,{direction:"flex-col",align:"items-center",gap:"gap-2",className:"text-center py-4",children:[h.jsx(yg,{className:"w-12 h-12"}),h.jsx("p",{className:"text-gray-500 font-bold mt-4",children:"  ."}),h.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"   ."})]})}function Kl({onDelete:e,...t}){const n=N.useRef(null);return h.jsx(Ey,{leftIcon:h.jsx(lr,{variant:"plain",icon:h.jsx(yg,{className:"w-5 h-5"}),className:"absolute left-3 top-3",onClick:r=>{r.preventDefault(),n.current?.focus()}}),rightIcon:h.jsx(lr,{variant:"plain",icon:h.jsx(p6,{className:"w-5 h-5"}),"aria-label":"  ",className:"absolute right-3 top-4",onClick:()=>{e(),n.current?.focus()}}),...t})}const z1=9;function Gp({selectedValues:e,filterKey:t,setFilter:n,options:r,ItemComponent:i}){const s=ka(),o=i.layout??"grid",a=Ni(),[u,c]=N.useState(!1),f=y=>{const S=e?.includes(y)?e?.filter(C=>C!==y):[...e??[],y];n(t,S??null)},p=()=>{n(t,null)},g=!u&&r.length>z1?r.slice(0,z1):r;return h.jsxs("div",{className:"relative inline-block w-full",children:[h.jsxs(je,{direction:"flex-col",gap:"gap-2",children:[h.jsx(ur,{children:di[t]}),o==="grid"?h.jsx(Ia,{columns:{md:3},gap:"gap-2",children:g.map(y=>h.jsx(i,{label:s[t]?.(y)??String(y),selected:e?.includes(y)??!1,onClick:()=>f(y)},String(y)))}):h.jsx(je,{direction:"flex-col",gap:"gap-2",className:"pr-4",children:g.map(y=>h.jsx(i,{label:s[t]?.(y)??String(y),selected:e?.includes(y)??!1,onClick:()=>f(y)},String(y)))})]}),r.length>z1&&h.jsx(Et,{variant:"text",size:"small",textColor:"gray",onClick:()=>c(y=>!y),children:u?"- ":"+ "}),!a&&h.jsx(je,{justify:"justify-end",children:h.jsx(Et,{variant:"text",size:"small",textColor:"gray",disabled:e==null||e.length===0,onClick:()=>p(),children:""})})]})}function Ck({label:e,selected:t,onClick:n}){return h.jsx(Lm,{label:e,checked:t,onChange:n})}Ck.layout="flex";function vg({label:e,selected:t,children:n,className:r=""}){return h.jsxs(ic,{children:[h.jsx(ic.Trigger,{selected:t,label:e}),h.jsx(ic.Content,{children:h.jsx(je,{direction:"flex-col",gap:"gap-4",className:r,children:n})})]})}function Dn({filterKey:e,selectedValues:t,options:n,setFilter:r,ItemComponent:i,className:s}){const o=Ni(),a=yU(e,t),u=o?Nn:Ck,c=h.jsx(Gp,{filterKey:e,selectedValues:t,setFilter:(f,p)=>r(f,p),options:n,ItemComponent:i||u});return o?c:h.jsx(vg,{label:a,selected:t.length>0,className:s,children:c})}const $U=e=>N.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M9 14C10.1867 14 11.3467 13.6481 12.3334 12.9888C13.3201 12.3295 14.0892 11.3925 14.5433 10.2961C14.9974 9.19975 15.1162 7.99335 14.8847 6.82946C14.6532 5.66558 14.0818 4.59648 13.2426 3.75736C12.4035 2.91825 11.3344 2.3468 10.1705 2.11529C9.00666 1.88378 7.80026 2.0026 6.7039 2.45673C5.60754 2.91085 4.67047 3.67989 4.01118 4.66658C3.35189 5.65328 3 6.81331 3 8V11.1L1.2 9.3L0.5 10L3.5 13L6.5 10L5.8 9.3L4 11.1V8C4 7.0111 4.29324 6.0444 4.84265 5.22215C5.39206 4.39991 6.17295 3.75904 7.08658 3.38061C8.00021 3.00217 9.00555 2.90315 9.97545 3.09608C10.9454 3.289 11.8363 3.76521 12.5355 4.46447C13.2348 5.16373 13.711 6.05465 13.9039 7.02455C14.0969 7.99446 13.9978 8.99979 13.6194 9.91342C13.241 10.8271 12.6001 11.6079 11.7779 12.1574C10.9556 12.7068 9.98891 13 9 13V14Z",fill:"#047CFE"}));function UU({selectedValue:e,filterKey:t,setFilter:n}){const[r,i]=N.useState({min:e?.min??0,max:e?.max??0}),s=(o,a)=>{const u={...r,[o]:a};i(u),n(t,u)};return h.jsxs("div",{className:"relative inline-block w-full space-y-2",children:[h.jsx(ur,{children:" "}),h.jsxs(je,{gap:"gap-2",children:[h.jsx(Ey,{type:"text",placeholder:"",value:r.min,onChange:o=>{const a=o.target.value.replace(/[^\d]/g,"");s("min",a)},className:"w-full"}),h.jsx("span",{className:"flex items-center text-gray-400",children:"~"}),h.jsx(Ey,{type:"text",placeholder:"",value:r.max,onChange:o=>{const a=o.target.value.replace(/[^\d]/g,"");s("max",a)},className:"w-full"})]})]})}function HU({selectedValue:e,filterKey:t,setFilter:n,options:r,ItemComponent:i,isMinMax:s=!1}){const o=Ni(),a=f=>{n(t,e===f?null:f)},u=()=>{n(t,null)},c=ka();return h.jsxs("div",{className:"relative inline-block",children:[h.jsxs(je,{direction:"flex-col",gap:"gap-2",children:[h.jsx(ur,{children:di[t]}),h.jsx(Ia,{columns:{md:3},gap:"gap-2",children:r.map(f=>h.jsx(i,{label:c[t]?.(f)??String(f),selected:e===f,onClick:()=>a(f)},String(f)))}),s&&h.jsx("div",{className:"mt-2",children:h.jsx(UU,{selectedValue:e,filterKey:t,setFilter:(f,p)=>n(f,p),options:r})})]}),!o&&h.jsx(je,{justify:"justify-end",children:h.jsxs(Et,{variant:"text",size:"small",textColor:"gray",onClick:()=>u(),children:[h.jsx($U,{className:"inline w-3 h-3 mr-1",stroke:"currentColor"}),""]})})]})}function mc({filterKey:e,options:t,ItemComponent:n,selectedValue:r,setFilter:i,className:s,isMinMax:o}){const a=Ni(),u=vU(e,r),c=h.jsx(HU,{selectedValue:r,filterKey:e,setFilter:(f,p)=>i(f,p),options:t,ItemComponent:n,isMinMax:o});return a?c:h.jsx(vg,{label:u,selected:!!r,className:s,children:c})}const kk=e=>N.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M7.18066 10.5625C7.88416 10.5629 8.47281 11.0824 8.63086 11.7812H14.625C14.8321 11.7812 15 11.9491 15 12.1562C15 12.3634 14.8321 12.5312 14.625 12.5312H8.63086C8.47281 13.2301 7.88416 13.7496 7.18066 13.75C6.47688 13.75 5.88776 13.2303 5.72949 12.5312H1.375C1.16789 12.5312 1 12.3634 1 12.1562C1 11.9491 1.16789 11.7812 1.375 11.7812H5.72949C5.88776 11.0822 6.47688 10.5625 7.18066 10.5625ZM7.18066 11.2812C6.72774 11.2812 6.36035 11.673 6.36035 12.1562C6.36035 12.6395 6.72774 13.0312 7.18066 13.0312C7.63324 13.0308 8 12.6392 8 12.1562C8 11.6733 7.63324 11.2817 7.18066 11.2812ZM11.7197 6.40625C12.4233 6.40647 13.0117 6.92611 13.1699 7.625H14.625C14.8321 7.625 15 7.79289 15 8C15 8.20711 14.8321 8.375 14.625 8.375H13.1699C13.0117 9.0739 12.4233 9.59353 11.7197 9.59375C11.0161 9.59356 10.4277 9.07393 10.2695 8.375H1.375C1.16789 8.375 1 8.20711 1 8C1 7.79289 1.16789 7.625 1.375 7.625H10.2695C10.4277 6.92608 11.0161 6.40644 11.7197 6.40625ZM11.7197 7.125C11.267 7.12523 10.9004 7.51689 10.9004 8C10.9004 8.48311 11.267 8.87477 11.7197 8.875C12.1724 8.87474 12.54 8.48309 12.54 8C12.54 7.51691 12.1724 7.12526 11.7197 7.125ZM5.07129 2.25C5.77489 2.2502 6.36337 2.76981 6.52148 3.46875H14.625C14.8321 3.46875 15 3.63664 15 3.84375C15 4.05086 14.8321 4.21875 14.625 4.21875H6.52148C6.36337 4.91769 5.77489 5.43729 5.07129 5.4375C4.36758 5.43737 3.77832 4.9178 3.62012 4.21875H1.375C1.16789 4.21875 1 4.05086 1 3.84375C1 3.63664 1.16789 3.46875 1.375 3.46875H3.62012C3.77832 2.7697 4.36758 2.25013 5.07129 2.25ZM5.07129 2.96875C4.61849 2.9689 4.25098 3.36059 4.25098 3.84375C4.25098 4.32691 4.61849 4.7186 5.07129 4.71875C5.52402 4.71852 5.89062 4.32686 5.89062 3.84375C5.89062 3.36064 5.52402 2.96898 5.07129 2.96875Z",fill:"#9CA3AF"}));function Bx({handleOpenFilter:e}){return h.jsx(lr,{"aria-label":" ",title:" ",label:" ",variant:"contain",icon:h.jsx(kk,{className:"w-4 h-4 "}),onClick:e})}function VU({alarmOnly:e,setFilter:t}){return h.jsxs(Et,{variant:"outlined",size:"medium",onClick:()=>t("alarmOnly",!e),children:[h.jsx(Pa,{disabled:!e}),""]})}function WU({departments:e,category:t,setCategory:n,searchKeywords:r,setSearchKeywords:i}={}){const s=N.useMemo(()=>[{departmentName:"",departmentCode:""},...e??[]],[e]),o=N.useMemo(()=>s.filter(a=>t===""?a.departmentCode==="9005":t===""?a.departmentCode!=="9005":!0).filter(a=>{if(!r)return!0;const u=r.replace(/[^\w\s---]/g,""),c=pc(u).toLowerCase(),f=a.departmentName.replace(/[^\w\s---]/g,"");return pc(f).toLowerCase().includes(c)}),[s,t,r]);return{category:t,setCategory:n,searchKeywords:r,setSearchKeywords:i,departmentsList:s,filteredDepartments:o}}const Ek=e=>N.createElement("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M4.50007 8.08504L2.76507 6.35004C2.67158 6.25655 2.54479 6.20403 2.41257 6.20403C2.28036 6.20403 2.15356 6.25655 2.06007 6.35004C1.96658 6.44353 1.91406 6.57033 1.91406 6.70254C1.91406 6.768 1.92696 6.83283 1.95201 6.89331C1.97706 6.95379 2.01378 7.00875 2.06007 7.05504L4.15007 9.14504C4.34507 9.34004 4.66007 9.34004 4.85507 9.14504L10.1451 3.85504C10.2386 3.76155 10.2911 3.63475 10.2911 3.50254C10.2911 3.37033 10.2386 3.24353 10.1451 3.15004C10.0516 3.05655 9.92479 3.00403 9.79257 3.00403C9.66036 3.00403 9.53356 3.05655 9.44007 3.15004L4.50007 8.08504Z",fill:"#047CFE"}));function zx({setFilter:e,selectedValue:t}){const{data:n}=ql(),[r,i]=N.useState(""),[s,o]=N.useState(""),{departmentsList:a,filteredDepartments:u}=WU({category:s,setCategory:o,searchKeywords:r,setSearchKeywords:i,departments:n});return h.jsxs(vg,{label:jk(t,a),selected:!!t,children:[h.jsxs(je,{direction:"flex-col",className:"h-80 w-80 overflow-y-auto",children:[h.jsx(ur,{children:""}),h.jsxs(je,{className:"shrink-0 bg-white",gap:"gap-2",children:[h.jsxs("select",{value:s,className:"border border-gray-300 rounded-md text-sm text-gray-700 bg-white",onChange:c=>{const f=c.target.value;o(f),e("department","")},children:[h.jsx("option",{value:"",children:""}),h.jsx("option",{value:"",children:""})]}),h.jsx(Kl,{type:"text",placeholder:" ",onDelete:()=>{i("")},value:r,onChange:c=>{i(c.target.value)},className:"w-full"})]}),h.jsx("div",{className:"overflow-y-auto flex-1 py-2 ",children:(s===""||s==="")&&h.jsx(qU,{departments:u,setFilter:e,selectedValue:t})})]}),h.jsx(je,{justify:"justify-end",className:"w-full pt-1",children:h.jsx(Et,{variant:"text",size:"small",textColor:"gray",disabled:!t,onClick:()=>e("department",""),children:""})})]})}function qU({departments:e,setFilter:t,selectedValue:n}){if(!e)return h.jsx(Sm,{title:"  ."});const r=i=>{t("department",i||"")};return e.length===0?h.jsx(Sm,{title:"  .",description:"   ."}):h.jsx(h.Fragment,{children:e.map(i=>{const s=jk(n,e)===i.departmentName,o=i.departmentName?i.departmentName.split(" ").slice(-1)[0]:"  ";return h.jsx(gP,{selected:s,left:o,right:s?h.jsx(Ek,{className:"w-4 h-4 shrink-0"}):null,onSelect:()=>r(i.departmentCode)},i.departmentCode)})})}function jk(e,t){const n=t?.find(r=>r.departmentCode===e)?.departmentName;return n||" ."}function z5({className:e,onChange:t,...n}){return h.jsx("input",{type:"time",className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:outline-blue-500 "+e,placeholder:"HH:MM",step:600,onChange:r=>{r.target.value=QU(r.target.value),console.log("Time changed:",r.target.value),t&&t(r)},...n})}function QU(e){const[t,n]=e.split(":").map(Number);if(Number.isNaN(t)||Number.isNaN(n))return"00:00";const r=Math.round(n/10)%6*10,i=String(t).padStart(2,"0"),s=String(r).padStart(2,"0");return`${i}:${s}`}function lv({items:e,onChange:t}){N.useEffect(()=>{if(e.length===0){t([{day:"",type:"all"}]);return}const i=GU(e);i&&t(i)},[e]);const n=i=>s=>{const{name:o,value:a}=s.target,u=[...e];u[i]={...u[i],[o]:a},t(u)},r=i=>()=>{const s=e.filter((o,a)=>a!==i);t(s)};return h.jsxs(h.Fragment,{children:[h.jsxs(je,{direction:"flex-col",gap:"gap-2",children:[h.jsx(ur,{children:""}),e.map((i,s)=>h.jsx(KU,{item:i,onChange:n(s),onDelete:r(s)},`${i.day}-${i.type}-${i.start}-${i.end}`))]}),h.jsx(Et,{variant:"text",size:"small",textColor:"gray",onClick:()=>t([...e,{day:"",type:"all"}]),children:" "})]})}function KU({item:e,onChange:t,onDelete:n}){const r=!!e.day,i=e.type!="all",s=e.type==="between";return h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("select",{name:"day",value:e.day,onChange:t,className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:[h.jsx("option",{value:"",children:""}),["","","","","","",""].map(o=>h.jsx("option",{value:o,children:o},o))]}),r&&h.jsxs("select",{name:"type",value:e.type,onChange:t,className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:[h.jsx("option",{value:"all",children:""}),h.jsx("option",{value:"before",children:""}),h.jsx("option",{value:"after",children:""}),h.jsx("option",{value:"between",children:""})]}),i&&h.jsx(z5,{name:"start",value:e.start||"00:00",onChange:t}),s&&h.jsx(z5,{name:"end",value:e.end||"00:00",onChange:t}),h.jsx(Et,{variant:"text",size:"small",textColor:"secondary",onClick:n,children:""})]})}function GU(e){return e.some(n=>n.day===""?n.type!=="all"||n.start||n.end:n.type==="all"?n.start||n.end:n.type==="before"||n.type==="after"?!n.start||n.end:n.type==="between"?!n.start||!n.end:!1)?e.map(n=>n.day===""?{day:"",type:"all"}:n.type==="all"?{day:n.day,type:"all"}:n.type==="before"||n.type==="after"?{day:n.day,type:n.type,start:n.start||"00:00"}:n.type==="between"?{day:n.day,type:n.type,start:n.start||"00:00",end:n.end||"00:00"}:n):e}function Tk({times:e,setFilter:t}){const n=(o,a)=>{t("time",a)},r=Ni(),s=e.length===1&&e[0].type==="all"&&e[0].day===""?"":e.length===1?` ${e[0].day}`:e.length>1?` ${e[0].day}  ${e.length-1}`:"";return r?h.jsx(lv,{items:e,onChange:o=>n("time",o)}):h.jsx(vg,{label:s,selected:e.length>0&&e[0].day!=="",className:"min-w-max",children:h.jsxs(je,{direction:"flex-col",gap:"gap-2",children:[h.jsx(ur,{children:" "}),h.jsx(lv,{items:e,onChange:o=>n("time",o)})]})})}const YU=e=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M3 4H17L12 10.5V20L8 16V10.5L3 4Z",stroke:"#047CFE",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),N.createElement("path",{d:"M16 15L22 21",stroke:"#047CFE",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),N.createElement("path",{d:"M16 21L22 15",stroke:"#047CFE",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function $x({filters:e,resetFilter:t}){return Object.keys(e).some(i=>!xk(i,e[i]))?h.jsx(Nn,{label:h.jsxs(je,{align:"items-center",gap:"gap-1",children:[h.jsx("span",{children:" "}),h.jsx(YU,{className:"w-4 h-4"})]}),selected:!0,onClick:t}):null}function Ux({filterStore:e,onClose:t}){const n=Ro(),{classroom:r,note:i,categories:s,time:o}=e(S=>S.filters),a=ql(),u=e(S=>S.filters),c=e(S=>S.setFilter),f=e(S=>S.resetFilters),p=Lx(u,a.data),{data:g}=Es(n),y=Lh(g??[]).sort((S,C)=>S.localeCompare(C)).map(S=>S),w=(S,C)=>{const E=u[S];Array.isArray(E)?c(S,E.filter(P=>P!==C)):c(S,Oa[S])};return h.jsxs(Pn,{title:" ",onClose:t,isOpen:!0,children:[h.jsx(Pn.Content,{children:h.jsxs(je,{direction:"flex-col",gap:"gap-4",className:"w-130",children:[p.length>0&&h.jsx(wn,{variant:"outlined",children:h.jsxs(je,{direction:"flex-col",gap:"gap-2",children:[h.jsx(ur,{children:" "}),h.jsx(je,{gap:"gap-2",direction:"flex-wrap",justify:"justify-start",className:"w-120",children:p.map(S=>h.jsx(Nn,{variant:"cancel",label:S.label,selected:!0,onClick:()=>w(S.filterKey,S.values)},`${S.filterKey}-${S.values}`))})]})}),h.jsx(wn,{variant:"outlined",children:h.jsx(Gp,{selectedValues:s,options:y,filterKey:"categories",setFilter:c,ItemComponent:Nn})}),h.jsx(wn,{variant:"outlined",children:h.jsx(lv,{items:o,onChange:S=>c("time",S)})}),h.jsx(wn,{variant:"outlined",children:h.jsx(Gp,{selectedValues:i,options:hn.remark,filterKey:"note",setFilter:c,ItemComponent:Nn})}),h.jsx(wn,{variant:"outlined",children:h.jsx(Gp,{selectedValues:r,options:hn.classRoom,filterKey:"classroom",setFilter:c,ItemComponent:Nn})})]})}),h.jsx(Pn.Footer,{children:h.jsx(je,{direction:"flex-col",gap:"gap-2",children:h.jsx(je,{justify:"justify-end",children:h.jsx(Et,{variant:"primary",size:"medium",onClick:f,disabled:p.length===0,children:" "})})})})]})}function JU(){const e=N.useRef(null),t=N.useRef(null),n=N.useRef({touchStart:{sheetY:0,touchY:0},touchMove:{prevTouchY:0,movingDirection:"none"},isContentAreaTouched:!1});N.useEffect(()=>{const s=()=>{const{touchMove:c,isContentAreaTouched:f}=n.current,p=e.current?.getBoundingClientRect().y;if(!p)return!1;if(!f||p!==Sl)return!0;const g=t.current,y=g.scrollTop<=0,w=g.scrollTop+g.clientHeight>=g.scrollHeight;return c.movingDirection==="down"&&y||c.movingDirection==="up"&&w,!1},o=c=>{const{touchStart:f}=n.current;f.sheetY=e.current.getBoundingClientRect().y,f.touchY=c.touches[0].clientY},a=c=>{const{touchStart:f,touchMove:p}=n.current,g=c.touches[0];if(p.prevTouchY===void 0&&(p.prevTouchY=f.touchY),p.prevTouchY===0&&(p.prevTouchY=f.touchY),p.prevTouchY<g.clientY&&(p.movingDirection="down"),p.prevTouchY>g.clientY&&(p.movingDirection="up"),s()){c.stopPropagation();const y=g.clientY-f.touchY;let w=f.sheetY+y;w<=Sl&&(w=Sl),w>=Ep&&(w=Ep),e.current.style.setProperty("transform",`translateY(${w}px)`)}else document.body.style.overflowY="hidden"},u=()=>{const{touchMove:c}=n.current;(e.current?.getBoundingClientRect().y??0)!==Sl&&(c.movingDirection==="down"&&e.current.style.setProperty("transform",`translateY(${Ep}px)`),c.movingDirection==="up"&&e.current.style.setProperty("transform",`translateY(${Sl}px)`)),n.current={touchStart:{sheetY:0,touchY:0},touchMove:{prevTouchY:0,movingDirection:"none"},isContentAreaTouched:!1}};return e.current.addEventListener("touchstart",o),e.current.addEventListener("touchmove",a),e.current.addEventListener("touchend",u),()=>{e.current?.removeEventListener("touchstart",o),e.current?.removeEventListener("touchmove",a),e.current?.removeEventListener("touchend",u)}},[]);const r=()=>{e.current&&e.current.style.setProperty("transform","translateY(400px)")},i=()=>{e.current&&e.current.style.setProperty("transform",`translateY(${Ep}px)`)};return N.useEffect(()=>{const s=()=>{n.current.isContentAreaTouched=!0};t.current.addEventListener("touchstart",s);const o=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=o}},[]),{sheet:e,content:t,expandToMax:r,collapseToMin:i}}function XU(){const{cancelSchedule:e}=Br(),t=Rm(),n=()=>{t("/timetable"),e()};N.useEffect(()=>(window.addEventListener("popstate",n),()=>{window.removeEventListener("popstate",n)}),[])}const Sl=0,Ep=window.innerHeight-300,ZU=window.innerHeight-Sl;function Dh({children:e}){const{sheet:t,content:n,expandToMax:r,collapseToMin:i}=JU(),{type:s,resetBottomSheet:o}=To(),{cancelSchedule:a}=Br();function u(){a(),o()}return XU(),h.jsxs("div",{className:"fixed inset-0 z-[200]",children:[s&&h.jsx("div",{className:"absolute inset-0 bg-black/5 bg-opacity-80",role:"presentation",onClick:u}),h.jsxs("div",{ref:t,className:"fixed rounded-t-xl bottom-0 left-0 w-full transition-transform bg-white duration-300 z-200",style:{height:`${ZU}px`,transform:`translateY(${Sl}px)`},children:[h.jsx("div",{className:"w-full flex justify-center py-2 h-7 shrink-0",children:h.jsx("button",{className:"w-20 h-2 cursor-pointer bg-gray-300 rounded-full","aria-label":"",onClick:a})}),h.jsx("div",{ref:n,className:"flex-1 overflow-y-auto ",children:typeof e=="function"?e({expandToMax:r,collapseToMin:i}):e})]})]})}const Nk=e=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M12 5V19M5 12H19",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function Mh({title:e,headerType:t,onClose:n,onClick:r}){return h.jsx("header",{className:"w-full px-2 flex items-center justify-between mb-2",children:t==="add"?h.jsxs("div",{className:"w-full h-8 flex items-center  justify-between ",children:[h.jsx($1,{headerType:"add",onClick:r}),e&&h.jsx(It,{level:3,children:e}),h.jsx($1,{headerType:"close",onClick:n})]}):h.jsx(h.Fragment,{children:h.jsxs("div",{className:"relative w-full flex items-center justify-center h-6",children:[h.jsx(It,{level:3,children:e}),h.jsx("div",{className:"absolute right-0",children:h.jsx($1,{headerType:"close",onClick:n})})]})})})}function $1({headerType:e,onClick:t}){const n=e==="close"?h.jsx(T6,{}):h.jsx(Nk,{className:"text-gray-400",width:16,height:16});return h.jsx("button",{className:"w-6 h-6 cursor-pointer flex items-center justify-center bg-gray-100 rounded-full",onClick:t,children:n})}function xg({id:e,className:t,value:n,defaultValue:r="",...i}){const{data:s}=ql(),o=[{departmentName:r,departmentCode:""},...s??[]],a=e??"department-filter";return h.jsxs(h.Fragment,{children:[h.jsx(ur,{htmlFor:a,hidden:!0,children:""}),h.jsx("select",{id:a,className:"w-full p-2 rounded-md bg-white border border-gray-400 "+t,value:n,...i,children:o.map(({departmentName:u,departmentCode:c})=>h.jsx("option",{value:c,children:u},c))})]})}function Hx({onCloseFiltering:e,filters:t,setFilter:n,resetFilter:r}){const i=()=>{e()},s=Ro(),{data:o}=Es(s),a=ql(),u=Lh(o??[]).sort((p,g)=>p.localeCompare(g)).map(p=>p),c=Lx(t,a.data),f=(p,g)=>{const y=t[p];Array.isArray(y)?n(p,y.filter(w=>w!==g)):n(p,Oa[p])};return h.jsxs(Dh,{children:[h.jsx(Mh,{headerType:"close",title:"",onClose:()=>{e()}}),h.jsxs("div",{className:"w-full flex px-4 flex-col h-[85vh] gap-5 overflow-y-auto overscroll-contain",children:[h.jsx(je,{direction:"flex-wrap",gap:"gap-2",children:c.map(p=>h.jsx(Nn,{variant:"cancel",label:p.label,selected:!0,onClick:()=>f(p.filterKey,p.values)},`${p.filterKey}-${p.values}`))}),h.jsxs(je,{direction:"flex-col",justify:"justify-center",gap:"gap-8",className:"w-full",children:[h.jsx(xg,{className:"cursor-pointer border-gray-100 rounded-sm py-1 text-sm",value:t.department,onChange:p=>n("department",p.target.value)}),h.jsx(mc,{filterKey:"wishRange",options:hn.wishRange,selectedValue:t.wishRange??null,setFilter:n,ItemComponent:Nn}),h.jsx(mc,{filterKey:"seatRange",options:hn.seatRange,selectedValue:t.seatRange??null,setFilter:n,ItemComponent:Nn}),h.jsx(je,{direction:"flex-col",gap:"gap-2",children:h.jsx(Tk,{times:t.time,setFilter:n})}),h.jsx(Dn,{filterKey:"credits",options:hn.credits,selectedValues:t.credits??[],setFilter:n}),h.jsx(Dn,{filterKey:"grades",options:hn.grades,selectedValues:t.grades??[],setFilter:n}),h.jsx(Dn,{filterKey:"classroom",options:hn.classRoom,selectedValues:t.classroom??[],setFilter:n}),h.jsx(Dn,{filterKey:"note",options:hn.remark,selectedValues:t.note??[],setFilter:n}),h.jsx(Dn,{filterKey:"categories",options:u,selectedValues:t.categories??[],setFilter:n}),h.jsxs("div",{className:"sticky bottom-0 py-3 bg-white flex justify-end items-center gap-2 border-gray-200",children:[h.jsx(Et,{variant:"outlined",size:"medium",onClick:r,disabled:c.length===0,children:" "}),h.jsx(Et,{type:"submit",variant:"primary",size:"medium",onClick:i,children:""})]})]})]})]})}function eH(){const[e,t]=N.useState(!1),[n,r]=N.useState(!1),i=Qu(w=>w.setFilter),{keywords:s,alarmOnly:o,time:a}=Qu(w=>w.filters),u=Qu(w=>w.filters),c=Qu(w=>w.resetFilters),f=Ni(),{data:p}=Es(),g=Lh(p??[]).sort((w,S)=>w.localeCompare(S)).map(w=>w),y=()=>{f?r(!0):t(!0)};return h.jsxs(je,{direction:"flex-wrap",gap:"gap-2",children:[h.jsx(ur,{className:"hidden",htmlFor:"searchOption",children:" "}),h.jsx(Kl,{placeholder:",      ",value:s,className:"w-full",onDelete:()=>i("keywords",""),onChange:w=>i("keywords",w.target.value)}),e&&h.jsx(Ux,{filterStore:Qu,onClose:()=>t(!1)}),n&&h.jsx(Hx,{onCloseFiltering:()=>r(!1),filters:u,setFilter:i,resetFilter:c}),h.jsxs(je,{align:"items-center",direction:"flex-wrap",gap:"gap-2",children:[h.jsxs(je,{direction:"flex-wrap",gap:"gap-2",className:"hidden md:flex",children:[h.jsx(zx,{selectedValue:u.department??"",setFilter:i}),h.jsx(Tk,{times:a,setFilter:i}),h.jsx(Dn,{filterKey:"credits",options:hn.credits,selectedValues:u.credits??[],setFilter:i}),h.jsx(Dn,{filterKey:"grades",options:hn.grades,selectedValues:u.grades??[],setFilter:i}),u.classroom.length>0&&h.jsx(Dn,{filterKey:"classroom",options:hn.classRoom,selectedValues:u.classroom??[],setFilter:i,className:"min-w-max"}),h.jsx(Dn,{filterKey:"note",options:hn.remark,selectedValues:u.note??[],setFilter:i}),u.categories.length>0&&h.jsx(Dn,{filterKey:"categories",options:g,selectedValues:u.categories??[],setFilter:i,className:"min-w-max"}),h.jsx(mc,{filterKey:"wishRange",options:hn.wishRange,selectedValue:u.wishRange??null,setFilter:i,ItemComponent:Nn}),h.jsx(mc,{filterKey:"seatRange",options:hn.seatRange,selectedValue:u.seatRange??null,setFilter:i,ItemComponent:Nn})]}),h.jsx($x,{filters:u,resetFilter:c}),h.jsx(Bx,{handleOpenFilter:y}),h.jsx(VU,{alarmOnly:o,setFilter:i})]})]})}const tH=[{title:"",key:"pin"},{title:"",key:"code"},{title:"",key:"departmentName"},{title:"",key:"name"},{title:"",key:"professor"}];function nH(){const e=Qu(t=>t.filters);return h.jsxs(h.Fragment,{children:[h.jsx(Er,{children:h.jsx("title",{children:"ALLCLL |  "})}),h.jsxs(je,{direction:"flex-col",className:"mb-4",children:[h.jsx(It,{level:2,children:" "}),h.jsxs(Tn,{children:["   ,    .",h.jsx("br",{}),"  ",_k,", 11:00  ."]}),h.jsxs(wn,{children:[h.jsx(eH,{}),h.jsx(Rx,{})]}),h.jsx(rH,{filters:e}),h.jsx(ZC,{right:"right-2 sm:right-10"})]})]})}function rH({filters:e}){const{data:t,titles:n,isPending:r}=ek(tH),i=bc(t),s=N.useDeferredValue(_c(i??[],e)),o=Ni();return h.jsx(wn,{children:o?h.jsx(Fx,{subjects:s,isPending:r,isLive:!0}):h.jsx(DU,{titles:n,subjects:s,isPending:r})})}const iH={enter:"sidebar-transition-enter",enterActive:"sidebar-transition-enter-active",exit:"sidebar-transition-exit",exitActive:"sidebar-transition-exit-active"};function sH({isOpen:e,onClose:t}){return h.jsx(Ch,{in:e,timeout:100,classNames:iH,unmountOnExit:!0,children:h.jsxs(je,{direction:"flex-col",className:"w-92 flex-auto bg-gray-50 shadow-lg z-10",children:[h.jsxs("div",{className:"flex justify-between items-center py-2 pl-4 pr-2 bg-white border-b border-gray-200",children:[h.jsx(It,{level:2,children:" "}),h.jsx(lr,{"aria-label":"  ",icon:h.jsx(GC,{className:"w-4 h-4"}),onClick:t})]}),h.jsx(oH,{})]})})}function oH(){const[e,t]=N.useState(""),[n,r]=N.useState(""),{data:i,isPending:s}=Gs(),o=bc(i),a=N.useDeferredValue(_c(o??[],{...Oa,keywords:e,department:n}));return h.jsx(je,{direction:"flex-col",className:"flex-1 p-2",children:h.jsxs(je,{direction:"flex-col",className:"mb-4",gap:"gap-2",children:[h.jsx(Kl,{placeholder:"  ",value:e,onChange:u=>t(u.target.value),onDelete:()=>t(""),className:"w-full"}),h.jsx(xg,{className:"flex-auto",value:n,onChange:u=>r(u.target.value)}),h.jsx(Fx,{className:"flex flex-full overflow-auto max-h-screen",subjects:a,isPending:s})]})})}function aH({onCloseSearch:e}){const[t,n]=N.useState(""),[r,i]=N.useState(""),{data:s,isPending:o}=Gs(),a=bc(s),u=N.useDeferredValue(_c(a??[],{...Oa,keywords:t,department:r}));return h.jsx(Dh,{children:({expandToMax:c})=>h.jsxs(h.Fragment,{children:[h.jsx(Mh,{title:"",headerType:"close",onClose:()=>e(),onClick:c}),h.jsxs("div",{className:"sticky py-3 px-2 top-0 bg-white z-10 flex flex-col gap-2 mb-4 flex-auto",children:[h.jsx(Kl,{placeholder:"  ",onChange:f=>n(f.target.value),onDelete:()=>n(""),className:"w-full"}),h.jsx(xg,{className:"flex-auto",value:r,onChange:f=>i(f.target.value)})]}),h.jsx("div",{className:"max-h-[70vh] min-h-0 px-2 overflow-y-auto touch-auto flex flex-col",children:h.jsx(Fx,{className:"flex flex-full overflow-auto max-h-screen",subjects:u,isPending:o})})]})})}const Vx=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},N.createElement("defs",null,N.createElement("clipPath",{id:"master_svg0_106_2202"},N.createElement("rect",{x:0,y:0,width:36,height:36,rx:0}))),N.createElement("g",{clipPath:"url(#master_svg0_106_2202)"},N.createElement("g",{transform:"matrix(1,0,0,-1,0,69.046875)"},N.createElement("g",null,N.createElement("path",{d:"M2.25,66.0234375Q3.23438,66.0234375,3.86719,65.3906375Q4.5,64.7578375,4.5,63.7734375L4.5,40.1484375Q4.57031,39.0937475,5.625,39.0234375L33.75,39.0234375Q34.7344,39.0234375,35.3672,38.3906275Q36,37.7578175,36,36.7734375Q36,35.7890575,35.3672,35.1562495Q34.7344,34.5234375,33.75,34.5234375L5.625,34.5234375Q3.23438,34.59375,1.61719,36.1406275Q0.0703125,37.7578175,0,40.1484375L0,63.7734375Q0,64.7578375,0.632812,65.3906375Q1.26562,66.0234375,2.25,66.0234375ZM9,59.2734375Q9,60.2578375,9.63281,60.8906375Q10.2656,61.5234375,11.25,61.5234375L24.75,61.5234375Q25.7344,61.5234375,26.3672,60.8906375Q27,60.2578375,27,59.2734375Q27,58.2890375,26.3672,57.6562375Q25.7344,57.0234375,24.75,57.0234375L11.25,57.0234375Q10.2656,57.0234375,9.63281,57.6562375Q9,58.2890375,9,59.2734375ZM11.25,54.7734375L20.25,54.7734375L11.25,54.7734375L20.25,54.7734375Q21.2344,54.7734375,21.8672,54.1406375Q22.5,53.5078375,22.5,52.5234375Q22.5,51.5390375,21.8672,50.9062375Q21.2344,50.2734375,20.25,50.2734375L11.25,50.2734375Q10.2656,50.2734375,9.63281,50.9062375Q9,51.5390375,9,52.5234375Q9,53.5078375,9.63281,54.1406375Q10.2656,54.7734375,11.25,54.7734375ZM11.25,48.0234375L29.25,48.0234375L11.25,48.0234375L29.25,48.0234375Q30.2344,48.0234375,30.8672,47.3906375Q31.5,46.7578375,31.5,45.7734375Q31.5,44.7890375,30.8672,44.1562475Q30.2344,43.5234375,29.25,43.5234375L11.25,43.5234375Q10.2656,43.5234375,9.63281,44.1562475Q9,44.7890375,9,45.7734375Q9,46.7578375,9.63281,47.3906375Q10.2656,48.0234375,11.25,48.0234375Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))))),lH=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e},N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})),uH=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e},N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.477 0-8.268-2.943-9.542-7a9.957 9.957 0 012.043-3.36m3.237-2.347A9.956 9.956 0 0112 5c4.478 0 8.268 2.943 9.542 7a9.954 9.954 0 01-4.043 5.132M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3l18 18"}));function cH({initialItems:e,onChange:t}){const[n,r]=N.useState(e),i=N.useRef(null),s=N.useRef([]),[o,a]=N.useState(null),u=N.useRef(null),[c,f]=N.useState(null),[p,g]=N.useState(null);N.useEffect(()=>{t?.(n)},[n,t]),N.useEffect(()=>{if(o){const D=n.findIndex(R=>R.title===o);D!==-1&&s.current[D]?.focus(),a(null)}},[n,o]),N.useEffect(()=>{const D=()=>requestAnimationFrame(S),R=new ResizeObserver(D);return i.current&&R.observe(i.current),window.addEventListener("scroll",D,!0),window.addEventListener("resize",D),D(),()=>{R.disconnect(),window.removeEventListener("scroll",D,!0),window.removeEventListener("resize",D)}},[]);function y(D){r(R=>{const z=[...R];return z[D]={...z[D],visible:!z[D].visible},z})}const w=N.useRef([]);function S(){const D=i.current;if(!D)return;const R=Array.from(D.children);w.current=R.map(z=>{const q=z.getBoundingClientRect();return q.top+q.height/2})}function C(D,R){if(D.key==="ArrowUp"||D.key==="ArrowDown"){D.preventDefault(),D.stopPropagation();const z=R;let q;if(D.key==="ArrowUp"){if(z===0)return;q=z-1}else{if(z===n.length-1)return;q=z+1}const B=n[z].title;r(ae=>{const oe=[...ae],[xe]=oe.splice(z,1);return oe.splice(q,0,xe),oe}),a(B)}}function E(D,R){if(!i.current)return;const z=D.target.closest(".draggable-item");if(!z)return;D.target.setPointerCapture(D.pointerId);const q=z.getBoundingClientRect(),B=i.current.getBoundingClientRect();u.current={currentIndex:R,height:q.height,offsetY:D.clientY-q.top,containerRect:B},f({item:n[R],initialIndex:R}),g({width:q.width,left:q.left,top:q.top,position:"fixed",zIndex:50,pointerEvents:"none",transition:"none"}),window.addEventListener("pointermove",P),window.addEventListener("pointerup",A,{once:!0})}function P(D){if(u.current===null)return;const{height:R,offsetY:z,containerRect:q}=u.current;let B=D.clientY-z;B=Math.max(q.top,B),B=Math.min(q.bottom-R,B),g(J=>({...J||{},top:B})),S();const ae=D.clientY;let xe=w.current.findIndex(J=>ae<J);xe===-1&&(xe=n.length);const Y=u.current.currentIndex;let H=Math.max(0,Math.min(n.length-1,xe>Y?xe-1:xe));H!==Y&&(u.current.currentIndex=H,r(J=>{const se=[...J],[X]=se.splice(Y,1);return se.splice(H,0,X),se}))}function A(){window.removeEventListener("pointermove",P),u.current=null,f(null),g(null)}const $=N.useMemo(()=>c?n.findIndex(D=>D.title===c.item.title):-1,[n,c]);function W(D){if(!c||!u.current||$===-1)return"";const R=$,z=u.current.currentIndex,q=u.current.height;if(D===R)return"";if(R<z){if(D>R&&D<=z)return`translateY(-${q}px)`}else if(D>=z&&D<R)return`translateY(${q}px)`;return""}return h.jsxs(h.Fragment,{children:[h.jsx("ul",{ref:i,className:"bg-white divide-y divide-gray-100 relative",children:n.map((D,R)=>h.jsxs("li",{ref:z=>{s.current[R]=z},className:"draggable-item flex items-center gap-2 rounded-md px-2 transition-transform duration-1000",tabIndex:0,onKeyDown:z=>C(z,R),style:{transform:W(R),opacity:$===R?.4:1},children:[h.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700 cursor-grab",onPointerDown:z=>E(z,R),"aria-label":`Drag ${D.title}`,title:" ",children:""}),h.jsxs("div",{className:"flex items-center justify-between flex-auto",children:[h.jsx("span",{className:"font-medium",children:D.title}),h.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700 cursor-pointer","aria-label":D.visible?"":"",title:D.visible?"":"",onClick:()=>y(R),children:D.visible?h.jsx(lH,{className:"w-4 h-4"}):h.jsx(uH,{className:"w-4 h-4"})})]})]},D.title))}),p&&c&&h.jsx("div",{style:p,className:"bg-blue-50 rounded-md shadow-lg w-full max-w-lg m-auto px-2",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"p-1 text-gray-700",children:""}),h.jsx("span",{className:"font-medium",children:c.item.title})]})}),h.jsx("div",{className:"mt-4 text-sm text-gray-500",children:"Tip:    /    ."})]})}function Pk({initialItems:e,onChange:t,onClose:n}){return qC({enabled:!0,onClose:n}),h.jsx(Pn,{title:" ",onClose:n,isOpen:!0,children:h.jsx(Pn.Content,{children:h.jsx(cH,{initialItems:e,onChange:t})})})}function dH(e){const{data:t}=Es(),{data:n,...r}=rx(e);return{data:n?.map(s=>{const{subjectId:o,seatCount:a,queryTime:u}=s,c=t?.find(w=>w.subjectId===o)||$m,{subjectName:f,subjectCode:p,classCode:g,professorName:y}=c;return{...c,code:`${p}-${g}`,name:f,professor:y,seat:a,queryTime:u}}),...r}}function hH(){return h.jsx(ag,{title:"   TOP 10  ",description:"   ",icon:h.jsx(Vx,{className:"w-7 h-7"})})}function fH(){return h.jsx(ag,{title:"   ",description:"   .   .",icon:h.jsx(Jv,{className:"w-7 h-7 text-gray-400"}),children:h.jsx(je,{justify:"justify-center",children:h.jsx("a",{className:"bg-gray-50 rounded-full px-4 py-2 text-sm border border-gray-200 hover:shadow-md cursor-pointer",href:"https://open.kakao.com/o/g3MztXfh",children:"  "})})})}const Ok=(e,t)=>jr()(ex(n=>({tableTitles:t,setTableTitles:r=>n({tableTitles:r}),resetTableTitles:()=>n({tableTitles:t})}),{name:`${e}-table-head-store`})),pH=[{title:"",visible:!0,key:"code"},{title:"",visible:!0,key:"name"},{title:"",visible:!0,key:"professor"},{title:"",visible:!0,key:"seat"},{title:"",visible:!0,key:"queryTime"},{title:"",visible:!1,key:"manageDeptNm"},{title:"",visible:!1,key:"studentYear"},{title:"",visible:!1,key:"lesnTime"},{title:"",visible:!1,key:"lesnRoom"},{title:"",visible:!1,key:"tmNum"},{title:"",visible:!1,key:"remark"},{title:"",visible:!1,key:"curiTypeCdNm"},{title:"",visible:!1,key:"curiLangNm"}],$5=Ok("live",pH),mH=({title:e=""})=>{const[t,n]=N.useState(!1),r=$5(s=>s.setTableTitles),i=$5(s=>s.tableTitles);return h.jsxs(wn,{children:[t&&h.jsx(Pk,{initialItems:i,onChange:r,onClose:()=>n(!1)}),h.jsxs(je,{justify:"justify-between",align:"items-center",className:"mb-2",children:[h.jsxs(It,{level:3,children:[e," "]}),h.jsx(lr,{label:" ",variant:"plain","aria-label":" ",icon:h.jsx(Vx,{className:"w-4 h-4"}),onClick:()=>n(!0)})]}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full bg-white rounded-lg text-sm",children:[h.jsx("thead",{children:h.jsx("tr",{className:"bg-gray-50 sticky top-0 z-10 text-nowrap",children:i.filter(s=>s.visible).map(({title:s})=>h.jsx("th",{className:"px-4 py-2",children:s},s))})}),h.jsx("tbody",{children:h.jsx(gH,{tableTitles:i})})]})}),h.jsx(Rx,{})]})};function gH({tableTitles:e}){const{data:t,isError:n,isPending:r,refetch:i}=dH(Um.NON_MAJOR),s=e.filter(c=>c.visible),{data:o}=Ul("live"),a=o&&"service"in o&&o.service&&!o.service.withinPeriod?o.service:null,u=Zu(c=>c.sseState);return n?h.jsx("tr",{children:h.jsx("td",{colSpan:s.length,children:h.jsx(XC,{onReload:i})})}):r||!t?h.jsx(mg,{row:5,col:s.length}):u===nx.IDLE&&a?h.jsx("tr",{children:h.jsx("td",{colSpan:s.length,className:"text-center",children:h.jsx(fH,{})})}):t.length?h.jsx(Dm,{component:null,children:t.map(c=>h.jsx(Ch,{timeout:500,classNames:"row-change",children:h.jsx(yH,{subject:c,HeadTitles:s},c.code)},c.code))}):h.jsx("tr",{children:h.jsx("td",{colSpan:s.length,className:"text-center",children:h.jsx(hH,{})})})}function yH({subject:e,HeadTitles:t}){const n=N.useRef(e.seat),[r,i]=N.useState(!1),s=e.isDeleted,o=e.curiLangNm==="",a=r?"bg-blue-50":s?"bg-gray-100":o?"bg-green-50":"",u=new Date(e.queryTime??0).getTime();return N.useEffect(()=>{if(n.current!==e.seat){i(!0);const c=setTimeout(()=>i(!1),1e3);return n.current=e.seat,()=>clearTimeout(c)}},[e.seat]),h.jsx("tr",{className:`border-t border-gray-200 text-black transition-colors duration-500 text-nowrap ${a}`,"data-testid":"crawl-row","data-crawled-at":u,children:t.map(({key:c})=>{switch(c){case"seat":return h.jsx("td",{className:"px-4 py-2 text-center",children:h.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold "+ig(e.seat??-1),children:e[c]})},c);case"queryTime":return h.jsx(vH,{queryTime:e.queryTime},c);default:return h.jsx("td",{className:"px-4 py-2 text-center",children:e[c]},c)}})})}function vH({queryTime:e}){return YC(),h.jsx("td",{className:"w-18 px-4 py-2 text-center text-xs",children:h.jsx("span",{className:"text-gray-500",children:Px(e)})})}function xH(){const e=Ky(s=>s.isSearchOpen),t=Ky(s=>s.setIsSearchOpen),n=Ni(),{isPreSeatAvailable:r}=pg(),i=!r;return h.jsxs(h.Fragment,{children:[h.jsxs(Er,{children:[h.jsx("title",{children:"ALLCLL |   "}),h.jsx("meta",{name:"description",content:"    ,    !"})]}),h.jsxs(je,{className:"overflow-hidden min-h-screen",children:[h.jsxs(je,{direction:"flex-col",className:"max-w-screen-xl mx-auto p-4 mb-8 container",children:[h.jsxs(je,{direction:"flex-col",gap:"gap-0",children:[h.jsx(It,{level:1,children:"  "}),h.jsxs(Tn,{children:["     .    ",h.jsx("a",{href:"https://forms.gle/bCDTVujEHunnvHe88",target:"_blank",className:"text-blue-500 underline hover:text-blue-600",children:""})]})]}),i&&h.jsx(wB,{}),h.jsx(Ia,{columns:{base:1},gap:"gap-4",children:h.jsx(bH,{isPreSeatAvailable:r})})]}),h.jsx(wH,{isMobile:n,isOpen:e,onClose:()=>t(!1)})]})]})}function bH({isPreSeatAvailable:e}){return e?h.jsx(nH,{}):h.jsx(mH,{title:""})}function wH({isMobile:e,isOpen:t,onClose:n}){return t?e?h.jsx(aH,{onCloseSearch:n}):h.jsx(sH,{isOpen:t,onClose:n}):null}function _H(){const[e,t]=N.useState(!1);return h.jsxs(h.Fragment,{children:[h.jsx(Er,{children:h.jsx("title",{children:"ALLCLL | "})}),h.jsxs("div",{className:"mx-auto flex flex-col justify-center bg-blue-100 h-max",children:[h.jsx("iframe",{src:"https://resilient-may-c73.notion.site/ebd/1f2acf7c316280939afed2657259c817",width:"100%",height:e?"1000":"0",onLoad:()=>t(!0),children:" "}),!e&&h.jsx("div",{className:"w-4xl mx-auto h-screen flex justify-center items-center text-3xl",children:" ..."})]})]})}function SH(){const[e,t]=N.useState(!1);return h.jsxs(h.Fragment,{children:[h.jsxs(Er,{children:[h.jsx("title",{children:"ALLCLL |   "}),h.jsx("meta",{name:"description",content:"     ,  ."})]}),h.jsxs("div",{className:"mx-auto flex justify-center bg-blue-100 pt-4",children:[h.jsx("iframe",{src:"https://docs.google.com/forms/d/e/1FAIpQLSdk7MxNYVyzPyJLecQdJU5wGSgdE7rUWtRfcrPBY2ioKbtW2Q/viewform?embedded=true",width:"640",height:e?"1100":"0",onLoad:()=>t(!0),children:" "}),!e&&h.jsx("div",{className:"w-4xl h-screen flex items-center text-3xl",children:" ..."})]})]})}function U5(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}const Jr=Fa(/[A-Za-z]/),Mr=Fa(/[\dA-Za-z]/),CH=Fa(/[#-'*+\--9=?A-Z^-~]/);function Cm(e){return e!==null&&(e<32||e===127)}const uv=Fa(/\d/),kH=Fa(/[\dA-Fa-f]/),EH=Fa(/[!-/:-@[-`{-~]/);function yt(e){return e!==null&&e<-2}function on(e){return e!==null&&(e<0||e===32)}function $t(e){return e===-2||e===-1||e===32}const bg=Fa(new RegExp("\\p{P}|\\p{S}","u")),Bl=Fa(/\s/);function Fa(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function jH(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const wg=(function(e){if(e==null)return OH;if(typeof e=="function")return _g(e);if(typeof e=="object")return Array.isArray(e)?TH(e):NH(e);if(typeof e=="string")return PH(e);throw new Error("Expected function, string, or object as test")});function TH(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=wg(e[n]);return _g(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function NH(e){const t=e;return _g(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function PH(e){return _g(t);function t(n){return n&&n.type===e}}function _g(e){return t;function t(n,r,i){return!!(RH(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function OH(){return!0}function RH(e){return e!==null&&typeof e=="object"&&"type"in e}const Rk=[],AH=!0,cv=!1,IH="skip";function Ak(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=wg(i),o=r?-1:1;a(e,void 0,[])();function a(u,c,f){const p=u&&typeof u=="object"?u:{};if(typeof p.type=="string"){const y=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(u.type+(y?"<"+y+">":""))+")"})}return g;function g(){let y=Rk,w,S,C;if((!t||s(u,c,f[f.length-1]||void 0))&&(y=LH(n(u,f)),y[0]===cv))return y;if("children"in u&&u.children){const E=u;if(E.children&&y[0]!==IH)for(S=(r?E.children.length:-1)+o,C=f.concat(E);S>-1&&S<E.children.length;){const P=E.children[S];if(w=a(P,S,C)(),w[0]===cv)return w;S=typeof w[1]=="number"?w[1]:S+o}}return y}}}function LH(e){return Array.isArray(e)?e:typeof e=="number"?[AH,e]:e==null?Rk:[e]}function DH(e,t,n){const i=wg((n||{}).ignore||[]),s=MH(t);let o=-1;for(;++o<s.length;)Ak(e,"text",a);function a(c,f){let p=-1,g;for(;++p<f.length;){const y=f[p],w=g?g.children:void 0;if(i(y,w?w.indexOf(y):void 0,g))return;g=y}if(g)return u(c,f)}function u(c,f){const p=f[f.length-1],g=s[o][0],y=s[o][1];let w=0;const C=p.children.indexOf(c);let E=!1,P=[];g.lastIndex=0;let A=g.exec(c.value);for(;A;){const $=A.index,W={index:A.index,input:A.input,stack:[...f,c]};let D=y(...A,W);if(typeof D=="string"&&(D=D.length>0?{type:"text",value:D}:void 0),D===!1?g.lastIndex=$+1:(w!==$&&P.push({type:"text",value:c.value.slice(w,$)}),Array.isArray(D)?P.push(...D):D&&P.push(D),w=$+A[0].length,E=!0),!g.global)break;A=g.exec(c.value)}return E?(w<c.value.length&&P.push({type:"text",value:c.value.slice(w)}),p.children.splice(C,1,...P)):P=[c],C+P.length}}function MH(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([FH(i[0]),BH(i[1])])}return t}function FH(e){return typeof e=="string"?new RegExp(jH(e),"g"):e}function BH(e){return typeof e=="function"?e:function(){return e}}const U1="phrasing",H1=["autolink","link","image","label"];function zH(){return{transforms:[QH],enter:{literalAutolink:UH,literalAutolinkEmail:V1,literalAutolinkHttp:V1,literalAutolinkWww:V1},exit:{literalAutolink:qH,literalAutolinkEmail:WH,literalAutolinkHttp:HH,literalAutolinkWww:VH}}}function $H(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:U1,notInConstruct:H1},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:U1,notInConstruct:H1},{character:":",before:"[ps]",after:"\\/",inConstruct:U1,notInConstruct:H1}]}}function UH(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function V1(e){this.config.enter.autolinkProtocol.call(this,e)}function HH(e){this.config.exit.autolinkProtocol.call(this,e)}function VH(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function WH(e){this.config.exit.autolinkEmail.call(this,e)}function qH(e){this.exit(e)}function QH(e){DH(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,KH],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),GH]],{ignore:["link","linkReference"]})}function KH(e,t,n,r,i){let s="";if(!Ik(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!YH(n)))return!1;const o=JH(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function GH(e,t,n,r){return!Ik(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function YH(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function JH(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=U5(e,"(");let s=U5(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function Ik(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Bl(n)||bg(n))&&(!t||n!==47)}function _s(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}Lk.peek=oV;function XH(){this.buffer()}function ZH(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function eV(){this.buffer()}function tV(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function nV(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=_s(this.sliceSerialize(e)).toLowerCase(),n.label=t}function rV(e){this.exit(e)}function iV(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=_s(this.sliceSerialize(e)).toLowerCase(),n.label=t}function sV(e){this.exit(e)}function oV(){return"["}function Lk(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(n.safe(n.associationId(e),{after:"]",before:s})),a(),o(),s+=i.move("]"),s}function aV(){return{enter:{gfmFootnoteCallString:XH,gfmFootnoteCall:ZH,gfmFootnoteDefinitionLabelString:eV,gfmFootnoteDefinition:tV},exit:{gfmFootnoteCallString:nV,gfmFootnoteCall:rV,gfmFootnoteDefinitionLabelString:iV,gfmFootnoteDefinition:sV}}}function lV(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:Lk},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,o){const a=s.createTracker(o);let u=a.move("[^");const c=s.enter("footnoteDefinition"),f=s.enter("label");return u+=a.move(s.safe(s.associationId(r),{before:u,after:"]"})),f(),u+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),u+=a.move((t?`
`:" ")+s.indentLines(s.containerFlow(r,a.current()),t?Dk:uV))),c(),u}}function uV(e,t,n){return t===0?e:Dk(e,t,n)}function Dk(e,t,n){return(n?"":"    ")+e}const cV=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Mk.peek=mV;function dV(){return{canContainEols:["delete"],enter:{strikethrough:fV},exit:{strikethrough:pV}}}function hV(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:cV}],handlers:{delete:Mk}}}function fV(e){this.enter({type:"delete",children:[]},e)}function pV(e){this.exit(e)}function Mk(e,t,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function mV(){return"~"}function gV(e){return e.length}function yV(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||gV,s=[],o=[],a=[],u=[];let c=0,f=-1;for(;++f<e.length;){const S=[],C=[];let E=-1;for(e[f].length>c&&(c=e[f].length);++E<e[f].length;){const P=vV(e[f][E]);if(n.alignDelimiters!==!1){const A=i(P);C[E]=A,(u[E]===void 0||A>u[E])&&(u[E]=A)}S.push(P)}o[f]=S,a[f]=C}let p=-1;if(typeof r=="object"&&"length"in r)for(;++p<c;)s[p]=H5(r[p]);else{const S=H5(r);for(;++p<c;)s[p]=S}p=-1;const g=[],y=[];for(;++p<c;){const S=s[p];let C="",E="";S===99?(C=":",E=":"):S===108?C=":":S===114&&(E=":");let P=n.alignDelimiters===!1?1:Math.max(1,u[p]-C.length-E.length);const A=C+"-".repeat(P)+E;n.alignDelimiters!==!1&&(P=C.length+P+E.length,P>u[p]&&(u[p]=P),y[p]=P),g[p]=A}o.splice(1,0,g),a.splice(1,0,y),f=-1;const w=[];for(;++f<o.length;){const S=o[f],C=a[f];p=-1;const E=[];for(;++p<c;){const P=S[p]||"";let A="",$="";if(n.alignDelimiters!==!1){const W=u[p]-(C[p]||0),D=s[p];D===114?A=" ".repeat(W):D===99?W%2?(A=" ".repeat(W/2+.5),$=" ".repeat(W/2-.5)):(A=" ".repeat(W/2),$=A):$=" ".repeat(W)}n.delimiterStart!==!1&&!p&&E.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&P==="")&&(n.delimiterStart!==!1||p)&&E.push(" "),n.alignDelimiters!==!1&&E.push(A),E.push(P),n.alignDelimiters!==!1&&E.push($),n.padding!==!1&&E.push(" "),(n.delimiterEnd!==!1||p!==c-1)&&E.push("|")}w.push(n.delimiterEnd===!1?E.join("").replace(/ +$/,""):E.join(""))}return w.join(`
`)}function vV(e){return e==null?"":String(e)}function H5(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function xV(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(e,s.current()),bV);return i(),o}function bV(e,t,n){return">"+(n?"":" ")+e}function wV(e,t){return V5(e,t.inConstruct,!0)&&!V5(e,t.notInConstruct,!1)}function V5(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function W5(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&wV(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function _V(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+t.length,r=n.indexOf(t,i);return o}function SV(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function CV(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function kV(e,t,n,r){const i=CV(n),s=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(SV(e,n)){const p=n.enter("codeIndented"),g=n.indentLines(s,EV);return p(),g}const a=n.createTracker(r),u=i.repeat(Math.max(_V(s,i)+1,3)),c=n.enter("codeFenced");let f=a.move(u);if(e.lang){const p=n.enter(`codeFencedLang${o}`);f+=a.move(n.safe(e.lang,{before:f,after:" ",encode:["`"],...a.current()})),p()}if(e.lang&&e.meta){const p=n.enter(`codeFencedMeta${o}`);f+=a.move(" "),f+=a.move(n.safe(e.meta,{before:f,after:`
`,encode:["`"],...a.current()})),p()}return f+=a.move(`
`),s&&(f+=a.move(s+`
`)),f+=a.move(u),c(),f}function EV(e,t,n){return(n?"":"    ")+e}function Wx(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function jV(e,t,n,r){const i=Wx(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const u=n.createTracker(r);let c=u.move("[");return c+=u.move(n.safe(n.associationId(e),{before:c,after:"]",...u.current()})),c+=u.move("]: "),a(),!e.url||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(n.safe(e.url,{before:c,after:">",...u.current()})),c+=u.move(">")):(a=n.enter("destinationRaw"),c+=u.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...u.current()}))),a(),e.title&&(a=n.enter(`title${s}`),c+=u.move(" "+i),c+=u.move(n.safe(e.title,{before:c,after:i,...u.current()})),c+=u.move(i),a()),o(),c}function TV(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function gh(e){return"&#x"+e.toString(16).toUpperCase()+";"}function gc(e){if(e===null||on(e)||Bl(e))return 1;if(bg(e))return 2}function km(e,t,n){const r=gc(e),i=gc(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Fk.peek=NV;function Fk(e,t,n,r){const i=TV(n),s=n.enter("emphasis"),o=n.createTracker(r),a=o.move(i);let u=o.move(n.containerPhrasing(e,{after:i,before:a,...o.current()}));const c=u.charCodeAt(0),f=km(r.before.charCodeAt(r.before.length-1),c,i);f.inside&&(u=gh(c)+u.slice(1));const p=u.charCodeAt(u.length-1),g=km(r.after.charCodeAt(0),p,i);g.inside&&(u=u.slice(0,-1)+gh(p));const y=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:g.outside,before:f.outside},a+u+y}function NV(e,t,n){return n.options.emphasis||"*"}function qx(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),Ak(e,s,a,i);function a(u,c){const f=c[c.length-1],p=f?f.children.indexOf(u):void 0;return o(u,p,f)}}const PV={};function Qx(e,t){const n=PV,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Bk(e,r,i)}function Bk(e,t,n){if(OV(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return q5(e.children,t,n)}return Array.isArray(e)?q5(e,t,n):""}function q5(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Bk(e[i],t,n);return r.join("")}function OV(e){return!!(e&&typeof e=="object")}function RV(e,t){let n=!1;return qx(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,cv}),!!((!e.depth||e.depth<3)&&Qx(e)&&(t.options.setext||n))}function AV(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(RV(e,n)){const f=n.enter("headingSetext"),p=n.enter("phrasing"),g=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return p(),f(),g+`
`+(i===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),u=n.enter("phrasing");s.move(o+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c=gh(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),u(),a(),c}zk.peek=IV;function zk(e){return e.value||""}function IV(){return"<"}$k.peek=LV;function $k(e,t,n,r){const i=Wx(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const u=n.createTracker(r);let c=u.move("![");return c+=u.move(n.safe(e.alt,{before:c,after:"]",...u.current()})),c+=u.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(n.safe(e.url,{before:c,after:">",...u.current()})),c+=u.move(">")):(a=n.enter("destinationRaw"),c+=u.move(n.safe(e.url,{before:c,after:e.title?" ":")",...u.current()}))),a(),e.title&&(a=n.enter(`title${s}`),c+=u.move(" "+i),c+=u.move(n.safe(e.title,{before:c,after:i,...u.current()})),c+=u.move(i),a()),c+=u.move(")"),o(),c}function LV(){return"!"}Uk.peek=DV;function Uk(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let u=a.move("![");const c=n.safe(e.alt,{before:u,after:"]",...a.current()});u+=a.move(c+"]["),o();const f=n.stack;n.stack=[],o=n.enter("reference");const p=n.safe(n.associationId(e),{before:u,after:"]",...a.current()});return o(),n.stack=f,s(),i==="full"||!c||c!==p?u+=a.move(p+"]"):i==="shortcut"?u=u.slice(0,-1):u+=a.move("]"),u}function DV(){return"!"}Hk.peek=MV;function Hk(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let u;if(o.atBreak)for(;u=a.exec(r);){let c=u.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(u.index+1)}}return i+r+i}function MV(){return"`"}function Vk(e,t){const n=Qx(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}Wk.peek=FV;function Wk(e,t,n,r){const i=Wx(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,u;if(Vk(e,n)){const f=n.stack;n.stack=[],a=n.enter("autolink");let p=o.move("<");return p+=o.move(n.containerPhrasing(e,{before:p,after:">",...o.current()})),p+=o.move(">"),a(),n.stack=f,p}a=n.enter("link"),u=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(e,{before:c,after:"](",...o.current()})),c+=o.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(e.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(u=n.enter("destinationRaw"),c+=o.move(n.safe(e.url,{before:c,after:e.title?" ":")",...o.current()}))),u(),e.title&&(u=n.enter(`title${s}`),c+=o.move(" "+i),c+=o.move(n.safe(e.title,{before:c,after:i,...o.current()})),c+=o.move(i),u()),c+=o.move(")"),a(),c}function FV(e,t,n){return Vk(e,n)?"<":"["}qk.peek=BV;function qk(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let u=a.move("[");const c=n.containerPhrasing(e,{before:u,after:"]",...a.current()});u+=a.move(c+"]["),o();const f=n.stack;n.stack=[],o=n.enter("reference");const p=n.safe(n.associationId(e),{before:u,after:"]",...a.current()});return o(),n.stack=f,s(),i==="full"||!c||c!==p?u+=a.move(p+"]"):i==="shortcut"?u=u.slice(0,-1):u+=a.move("]"),u}function BV(){return"["}function Kx(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function zV(e){const t=Kx(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function $V(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function Qk(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function UV(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=e.ordered?$V(n):Kx(n);const a=e.ordered?o==="."?")":".":zV(n);let u=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const f=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&f&&(!f.children||!f.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(u=!0),Qk(n)===o&&f){let p=-1;for(;++p<e.children.length;){const g=e.children[p];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(o=a),n.bulletCurrent=o;const c=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),c}function HV(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function VV(e,t,n,r){const i=HV(n);let s=n.bulletCurrent||Kx(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const u=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,a.current()),f);return u(),c;function f(p,g,y){return g?(y?"":" ".repeat(o))+p:(y?s:s+" ".repeat(o-s.length))+p}}function WV(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(e,r);return s(),i(),o}const qV=wg(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function QV(e,t,n,r){return(e.children.some(function(o){return qV(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function KV(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}Kk.peek=GV;function Kk(e,t,n,r){const i=KV(n),s=n.enter("strong"),o=n.createTracker(r),a=o.move(i+i);let u=o.move(n.containerPhrasing(e,{after:i,before:a,...o.current()}));const c=u.charCodeAt(0),f=km(r.before.charCodeAt(r.before.length-1),c,i);f.inside&&(u=gh(c)+u.slice(1));const p=u.charCodeAt(u.length-1),g=km(r.after.charCodeAt(0),p,i);g.inside&&(u=u.slice(0,-1)+gh(p));const y=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:g.outside,before:f.outside},a+u+y}function GV(e,t,n){return n.options.strong||"*"}function YV(e,t,n,r){return n.safe(e.value,r)}function JV(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function XV(e,t,n){const r=(Qk(n)+(n.options.ruleSpaces?" ":"")).repeat(JV(n));return n.options.ruleSpaces?r.slice(0,-1):r}const Gk={blockquote:xV,break:W5,code:kV,definition:jV,emphasis:Fk,hardBreak:W5,heading:AV,html:zk,image:$k,imageReference:Uk,inlineCode:Hk,link:Wk,linkReference:qk,list:UV,listItem:VV,paragraph:WV,root:QV,strong:Kk,text:YV,thematicBreak:XV},Q5=document.createElement("i");function Gx(e){const t="&"+e+";";Q5.innerHTML=t;const n=Q5.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Yk(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}const ZV=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function eW(e){return e.replace(ZV,tW)}function tW(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return Yk(n.slice(s?2:1),s?16:10)}return Gx(n)||e}function nW(){return{enter:{table:rW,tableData:K5,tableHeader:K5,tableRow:sW},exit:{codeText:oW,table:iW,tableData:W1,tableHeader:W1,tableRow:W1}}}function rW(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function iW(e){this.exit(e),this.data.inTable=void 0}function sW(e){this.enter({type:"tableRow",children:[]},e)}function W1(e){this.exit(e)}function K5(e){this.enter({type:"tableCell",children:[]},e)}function oW(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,aW));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function aW(e,t){return t==="|"?t:e}function lW(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:g,table:o,tableCell:u,tableRow:a}};function o(y,w,S,C){return c(f(y,S,C),y.align)}function a(y,w,S,C){const E=p(y,S,C),P=c([E]);return P.slice(0,P.indexOf(`
`))}function u(y,w,S,C){const E=S.enter("tableCell"),P=S.enter("phrasing"),A=S.containerPhrasing(y,{...C,before:s,after:s});return P(),E(),A}function c(y,w){return yV(y,{align:w,alignDelimiters:r,padding:n,stringLength:i})}function f(y,w,S){const C=y.children;let E=-1;const P=[],A=w.enter("table");for(;++E<C.length;)P[E]=p(C[E],w,S);return A(),P}function p(y,w,S){const C=y.children;let E=-1;const P=[],A=w.enter("tableRow");for(;++E<C.length;)P[E]=u(C[E],y,w,S);return A(),P}function g(y,w,S){let C=Gk.inlineCode(y,w,S);return S.stack.includes("tableCell")&&(C=C.replace(/\|/g,"\\$&")),C}}function uW(){return{exit:{taskListCheckValueChecked:G5,taskListCheckValueUnchecked:G5,paragraph:dW}}}function cW(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:hW}}}function G5(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function dW(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function hW(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",a=n.createTracker(r);s&&a.move(o);let u=Gk.listItem(e,t,n,{...r,...a.current()});return s&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),u;function c(f){return f+o}}function fW(){return[zH(),aV(),dV(),nW(),uW()]}function pW(e){return{extensions:[$H(),lV(e),hV(),lW(e),cW()]}}function ji(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function qi(e,t){return e.length>0?(ji(e,e.length,0,t),e):t}const Y5={}.hasOwnProperty;function Jk(e){const t={};let n=-1;for(;++n<e.length;)mW(t,e[n]);return t}function mW(e,t){let n;for(n in t){const i=(Y5.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){Y5.call(i,o)||(i[o]=[]);const a=s[o];gW(i[o],Array.isArray(a)?a:a?[a]:[])}}}function gW(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);ji(e,0,0,r)}const yW={tokenize:SW,partial:!0},Xk={tokenize:CW,partial:!0},Zk={tokenize:kW,partial:!0},e7={tokenize:EW,partial:!0},vW={tokenize:jW,partial:!0},t7={name:"wwwAutolink",tokenize:wW,previous:r7},n7={name:"protocolAutolink",tokenize:_W,previous:i7},Lo={name:"emailAutolink",tokenize:bW,previous:s7},Ys={};function xW(){return{text:Ys}}let ml=48;for(;ml<123;)Ys[ml]=Lo,ml++,ml===58?ml=65:ml===91&&(ml=97);Ys[43]=Lo;Ys[45]=Lo;Ys[46]=Lo;Ys[95]=Lo;Ys[72]=[Lo,n7];Ys[104]=[Lo,n7];Ys[87]=[Lo,t7];Ys[119]=[Lo,t7];function bW(e,t,n){const r=this;let i,s;return o;function o(p){return!dv(p)||!s7.call(r,r.previous)||Yx(r.events)?n(p):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(p))}function a(p){return dv(p)?(e.consume(p),a):p===64?(e.consume(p),u):n(p)}function u(p){return p===46?e.check(vW,f,c)(p):p===45||p===95||Mr(p)?(s=!0,e.consume(p),u):f(p)}function c(p){return e.consume(p),i=!0,u}function f(p){return s&&i&&Jr(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(p)):n(p)}}function wW(e,t,n){const r=this;return i;function i(o){return o!==87&&o!==119||!r7.call(r,r.previous)||Yx(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(yW,e.attempt(Xk,e.attempt(Zk,s),n),n)(o))}function s(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function _W(e,t,n){const r=this;let i="",s=!1;return o;function o(p){return(p===72||p===104)&&i7.call(r,r.previous)&&!Yx(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(p),e.consume(p),a):n(p)}function a(p){if(Jr(p)&&i.length<5)return i+=String.fromCodePoint(p),e.consume(p),a;if(p===58){const g=i.toLowerCase();if(g==="http"||g==="https")return e.consume(p),u}return n(p)}function u(p){return p===47?(e.consume(p),s?c:(s=!0,u)):n(p)}function c(p){return p===null||Cm(p)||on(p)||Bl(p)||bg(p)?n(p):e.attempt(Xk,e.attempt(Zk,f),n)(p)}function f(p){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(p)}}function SW(e,t,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),i):o===46&&r===3?(e.consume(o),s):n(o)}function s(o){return o===null?n(o):t(o)}}function CW(e,t,n){let r,i,s;return o;function o(c){return c===46||c===95?e.check(e7,u,a)(c):c===null||on(c)||Bl(c)||c!==45&&bg(c)?u(c):(s=!0,e.consume(c),o)}function a(c){return c===95?r=!0:(i=r,r=void 0),e.consume(c),o}function u(c){return i||r||!s?n(c):t(c)}}function kW(e,t){let n=0,r=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(e7,t,s)(o):o===null||on(o)||Bl(o)?t(o):(e.consume(o),i)}function s(o){return o===41&&r++,e.consume(o),i}}function EW(e,t,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(e.consume(a),r):a===38?(e.consume(a),s):a===93?(e.consume(a),i):a===60||a===null||on(a)||Bl(a)?t(a):n(a)}function i(a){return a===null||a===40||a===91||on(a)||Bl(a)?t(a):r(a)}function s(a){return Jr(a)?o(a):n(a)}function o(a){return a===59?(e.consume(a),r):Jr(a)?(e.consume(a),o):n(a)}}function jW(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return Mr(s)?n(s):t(s)}}function r7(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||on(e)}function i7(e){return!Jr(e)}function s7(e){return!(e===47||dv(e))}function dv(e){return e===43||e===45||e===46||e===95||Mr(e)}function Yx(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}function Sc(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&Mr(e.charCodeAt(n+1))&&Mr(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Sg(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const hv={name:"attention",resolveAll:TW,tokenize:NW};function TW(e,t){let n=-1,r,i,s,o,a,u,c,f;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p={...e[r][1].end},g={...e[n][1].start};J5(p,-u),J5(g,u),o={type:u>1?"strongSequence":"emphasisSequence",start:p,end:{...e[r][1].end}},a={type:u>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:g},s={type:u>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:u>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},e[r][1].end={...o.start},e[n][1].start={...a.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=qi(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=qi(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),c=qi(c,Sg(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=qi(c,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(f=2,c=qi(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):f=0,ji(e,r-1,n-r+3,c),n=r+c.length-f-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function NW(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=gc(r);let s;return o;function o(u){return s=u,e.enter("attentionSequence"),a(u)}function a(u){if(u===s)return e.consume(u),a;const c=e.exit("attentionSequence"),f=gc(u),p=!f||f===2&&i||n.includes(u),g=!i||i===2&&f||n.includes(r);return c._open=!!(s===42?p:p&&(i||!g)),c._close=!!(s===42?g:g&&(f||!p)),t(u)}}function J5(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const PW={name:"autolink",tokenize:OW};function OW(e,t,n){let r=0;return i;function i(y){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(y){return Jr(y)?(e.consume(y),o):y===64?n(y):c(y)}function o(y){return y===43||y===45||y===46||Mr(y)?(r=1,a(y)):c(y)}function a(y){return y===58?(e.consume(y),r=0,u):(y===43||y===45||y===46||Mr(y))&&r++<32?(e.consume(y),a):(r=0,c(y))}function u(y){return y===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):y===null||y===32||y===60||Cm(y)?n(y):(e.consume(y),u)}function c(y){return y===64?(e.consume(y),f):CH(y)?(e.consume(y),c):n(y)}function f(y){return Mr(y)?p(y):n(y)}function p(y){return y===46?(e.consume(y),r=0,f):y===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):g(y)}function g(y){if((y===45||Mr(y))&&r++<63){const w=y===45?g:p;return e.consume(y),w}return n(y)}}function Qt(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(u){return $t(u)?(e.enter(n),a(u)):t(u)}function a(u){return $t(u)&&s++<i?(e.consume(u),a):(e.exit(n),t(u))}}const Fh={partial:!0,tokenize:RW};function RW(e,t,n){return r;function r(s){return $t(s)?Qt(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||yt(s)?t(s):n(s)}}const o7={continuation:{tokenize:IW},exit:LW,name:"blockQuote",tokenize:AW};function AW(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return $t(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function IW(e,t,n){const r=this;return i;function i(o){return $t(o)?Qt(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(o7,t,n)(o)}}function LW(e){e.exit("blockQuote")}const a7={name:"characterEscape",tokenize:DW};function DW(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return EH(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const l7={name:"characterReference",tokenize:MW};function MW(e,t,n){const r=this;let i=0,s,o;return a;function a(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),u}function u(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),s=31,o=Mr,f(p))}function c(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=kH,f):(e.enter("characterReferenceValue"),s=7,o=uv,f(p))}function f(p){if(p===59&&i){const g=e.exit("characterReferenceValue");return o===Mr&&!Gx(r.sliceSerialize(g))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(p)&&i++<s?(e.consume(p),f):n(p)}}const X5={partial:!0,tokenize:BW},Z5={concrete:!0,name:"codeFenced",tokenize:FW};function FW(e,t,n){const r=this,i={partial:!0,tokenize:W};let s=0,o=0,a;return u;function u(D){return c(D)}function c(D){const R=r.events[r.events.length-1];return s=R&&R[1].type==="linePrefix"?R[2].sliceSerialize(R[1],!0).length:0,a=D,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),f(D)}function f(D){return D===a?(o++,e.consume(D),f):o<3?n(D):(e.exit("codeFencedFenceSequence"),$t(D)?Qt(e,p,"whitespace")(D):p(D))}function p(D){return D===null||yt(D)?(e.exit("codeFencedFence"),r.interrupt?t(D):e.check(X5,S,$)(D)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(D))}function g(D){return D===null||yt(D)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(D)):$t(D)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Qt(e,y,"whitespace")(D)):D===96&&D===a?n(D):(e.consume(D),g)}function y(D){return D===null||yt(D)?p(D):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),w(D))}function w(D){return D===null||yt(D)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(D)):D===96&&D===a?n(D):(e.consume(D),w)}function S(D){return e.attempt(i,$,C)(D)}function C(D){return e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),E}function E(D){return s>0&&$t(D)?Qt(e,P,"linePrefix",s+1)(D):P(D)}function P(D){return D===null||yt(D)?e.check(X5,S,$)(D):(e.enter("codeFlowValue"),A(D))}function A(D){return D===null||yt(D)?(e.exit("codeFlowValue"),P(D)):(e.consume(D),A)}function $(D){return e.exit("codeFenced"),t(D)}function W(D,R,z){let q=0;return B;function B(H){return D.enter("lineEnding"),D.consume(H),D.exit("lineEnding"),ae}function ae(H){return D.enter("codeFencedFence"),$t(H)?Qt(D,oe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(H):oe(H)}function oe(H){return H===a?(D.enter("codeFencedFenceSequence"),xe(H)):z(H)}function xe(H){return H===a?(q++,D.consume(H),xe):q>=o?(D.exit("codeFencedFenceSequence"),$t(H)?Qt(D,Y,"whitespace")(H):Y(H)):z(H)}function Y(H){return H===null||yt(H)?(D.exit("codeFencedFence"),R(H)):z(H)}}}function BW(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const q1={name:"codeIndented",tokenize:$W},zW={partial:!0,tokenize:UW};function $W(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),Qt(e,s,"linePrefix",5)(c)}function s(c){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?u(c):yt(c)?e.attempt(zW,o,u)(c):(e.enter("codeFlowValue"),a(c))}function a(c){return c===null||yt(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),a)}function u(c){return e.exit("codeIndented"),t(c)}}function UW(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):yt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):Qt(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):yt(o)?i(o):n(o)}}const HW={name:"codeText",previous:WW,resolve:VW,tokenize:qW};function VW(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function WW(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function qW(e,t,n){let r=0,i,s;return o;function o(p){return e.enter("codeText"),e.enter("codeTextSequence"),a(p)}function a(p){return p===96?(e.consume(p),r++,a):(e.exit("codeTextSequence"),u(p))}function u(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),u):p===96?(s=e.enter("codeTextSequence"),i=0,f(p)):yt(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),u):(e.enter("codeTextData"),c(p))}function c(p){return p===null||p===32||p===96||yt(p)?(e.exit("codeTextData"),u(p)):(e.consume(p),c)}function f(p){return p===96?(e.consume(p),i++,f):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(s.type="codeTextData",c(p))}}class QW{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&wd(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),wd(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),wd(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);wd(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);wd(this.left,n.reverse())}}}function wd(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function u7(e){const t={};let n=-1,r,i,s,o,a,u,c;const f=new QW(e);for(;++n<f.length;){for(;n in t;)n=t[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,KW(f,n)),n=t[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=f.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...f.get(i)[1].start},a=f.slice(i,n),a.unshift(r),f.splice(i,n-i+1,a))}}return ji(e,0,Number.POSITIVE_INFINITY,f.slice(0)),!c}function KW(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,u=[],c={};let f,p,g=-1,y=n,w=0,S=0;const C=[S];for(;y;){for(;e.get(++i)[1]!==y;);s.push(i),y._tokenizer||(f=r.sliceStream(y),y.next||f.push(null),p&&o.defineSkip(y.start),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(f),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),p=y,y=y.next}for(y=n;++g<a.length;)a[g][0]==="exit"&&a[g-1][0]==="enter"&&a[g][1].type===a[g-1][1].type&&a[g][1].start.line!==a[g][1].end.line&&(S=g+1,C.push(S),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(o.events=[],y?(y._tokenizer=void 0,y.previous=void 0):C.pop(),g=C.length;g--;){const E=a.slice(C[g],C[g+1]),P=s.pop();u.push([P,P+E.length-1]),e.splice(P,2,E)}for(u.reverse(),g=-1;++g<u.length;)c[w+u[g][0]]=w+u[g][1],w+=u[g][1]-u[g][0]-1;return c}const GW={resolve:JW,tokenize:XW},YW={partial:!0,tokenize:ZW};function JW(e){return u7(e),e}function XW(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):yt(a)?e.check(YW,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function ZW(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Qt(e,s,"linePrefix")}function s(o){if(o===null||yt(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function c7(e,t,n,r,i,s,o,a,u){const c=u||Number.POSITIVE_INFINITY;let f=0;return p;function p(E){return E===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(E),e.exit(s),g):E===null||E===32||E===41||Cm(E)?n(E):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),S(E))}function g(E){return E===62?(e.enter(s),e.consume(E),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),y(E))}function y(E){return E===62?(e.exit("chunkString"),e.exit(a),g(E)):E===null||E===60||yt(E)?n(E):(e.consume(E),E===92?w:y)}function w(E){return E===60||E===62||E===92?(e.consume(E),y):y(E)}function S(E){return!f&&(E===null||E===41||on(E))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(E)):f<c&&E===40?(e.consume(E),f++,S):E===41?(e.consume(E),f--,S):E===null||E===32||E===40||Cm(E)?n(E):(e.consume(E),E===92?C:S)}function C(E){return E===40||E===41||E===92?(e.consume(E),S):S(E)}}function d7(e,t,n,r,i,s){const o=this;let a=0,u;return c;function c(y){return e.enter(r),e.enter(i),e.consume(y),e.exit(i),e.enter(s),f}function f(y){return a>999||y===null||y===91||y===93&&!u||y===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(y):y===93?(e.exit(s),e.enter(i),e.consume(y),e.exit(i),e.exit(r),t):yt(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),f):(e.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===null||y===91||y===93||yt(y)||a++>999?(e.exit("chunkString"),f(y)):(e.consume(y),u||(u=!$t(y)),y===92?g:p)}function g(y){return y===91||y===92||y===93?(e.consume(y),a++,p):p(y)}}function h7(e,t,n,r,i,s){let o;return a;function a(g){return g===34||g===39||g===40?(e.enter(r),e.enter(i),e.consume(g),e.exit(i),o=g===40?41:g,u):n(g)}function u(g){return g===o?(e.enter(i),e.consume(g),e.exit(i),e.exit(r),t):(e.enter(s),c(g))}function c(g){return g===o?(e.exit(s),u(o)):g===null?n(g):yt(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),Qt(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),f(g))}function f(g){return g===o||g===null||yt(g)?(e.exit("chunkString"),c(g)):(e.consume(g),g===92?p:f)}function p(g){return g===o||g===92?(e.consume(g),f):f(g)}}function Wd(e,t){let n;return r;function r(i){return yt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):$t(i)?Qt(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const eq={name:"definition",tokenize:nq},tq={partial:!0,tokenize:rq};function nq(e,t,n){const r=this;let i;return s;function s(y){return e.enter("definition"),o(y)}function o(y){return d7.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function a(y){return i=_s(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),u):n(y)}function u(y){return on(y)?Wd(e,c)(y):c(y)}function c(y){return c7(e,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function f(y){return e.attempt(tq,p,p)(y)}function p(y){return $t(y)?Qt(e,g,"whitespace")(y):g(y)}function g(y){return y===null||yt(y)?(e.exit("definition"),r.parser.defined.push(i),t(y)):n(y)}}function rq(e,t,n){return r;function r(a){return on(a)?Wd(e,i)(a):n(a)}function i(a){return h7(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return $t(a)?Qt(e,o,"whitespace")(a):o(a)}function o(a){return a===null||yt(a)?t(a):n(a)}}const iq={name:"hardBreakEscape",tokenize:sq};function sq(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return yt(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const oq={name:"headingAtx",resolve:aq,tokenize:lq};function aq(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},ji(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function lq(e,t,n){let r=0;return i;function i(f){return e.enter("atxHeading"),s(f)}function s(f){return e.enter("atxHeadingSequence"),o(f)}function o(f){return f===35&&r++<6?(e.consume(f),o):f===null||on(f)?(e.exit("atxHeadingSequence"),a(f)):n(f)}function a(f){return f===35?(e.enter("atxHeadingSequence"),u(f)):f===null||yt(f)?(e.exit("atxHeading"),t(f)):$t(f)?Qt(e,a,"whitespace")(f):(e.enter("atxHeadingText"),c(f))}function u(f){return f===35?(e.consume(f),u):(e.exit("atxHeadingSequence"),a(f))}function c(f){return f===null||f===35||on(f)?(e.exit("atxHeadingText"),a(f)):(e.consume(f),c)}}const uq=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],eS=["pre","script","style","textarea"],cq={concrete:!0,name:"htmlFlow",resolveTo:fq,tokenize:pq},dq={partial:!0,tokenize:gq},hq={partial:!0,tokenize:mq};function fq(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function pq(e,t,n){const r=this;let i,s,o,a,u;return c;function c(U){return f(U)}function f(U){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(U),p}function p(U){return U===33?(e.consume(U),g):U===47?(e.consume(U),s=!0,S):U===63?(e.consume(U),i=3,r.interrupt?t:M):Jr(U)?(e.consume(U),o=String.fromCharCode(U),C):n(U)}function g(U){return U===45?(e.consume(U),i=2,y):U===91?(e.consume(U),i=5,a=0,w):Jr(U)?(e.consume(U),i=4,r.interrupt?t:M):n(U)}function y(U){return U===45?(e.consume(U),r.interrupt?t:M):n(U)}function w(U){const Pe="CDATA[";return U===Pe.charCodeAt(a++)?(e.consume(U),a===Pe.length?r.interrupt?t:oe:w):n(U)}function S(U){return Jr(U)?(e.consume(U),o=String.fromCharCode(U),C):n(U)}function C(U){if(U===null||U===47||U===62||on(U)){const Pe=U===47,ke=o.toLowerCase();return!Pe&&!s&&eS.includes(ke)?(i=1,r.interrupt?t(U):oe(U)):uq.includes(o.toLowerCase())?(i=6,Pe?(e.consume(U),E):r.interrupt?t(U):oe(U)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(U):s?P(U):A(U))}return U===45||Mr(U)?(e.consume(U),o+=String.fromCharCode(U),C):n(U)}function E(U){return U===62?(e.consume(U),r.interrupt?t:oe):n(U)}function P(U){return $t(U)?(e.consume(U),P):B(U)}function A(U){return U===47?(e.consume(U),B):U===58||U===95||Jr(U)?(e.consume(U),$):$t(U)?(e.consume(U),A):B(U)}function $(U){return U===45||U===46||U===58||U===95||Mr(U)?(e.consume(U),$):W(U)}function W(U){return U===61?(e.consume(U),D):$t(U)?(e.consume(U),W):A(U)}function D(U){return U===null||U===60||U===61||U===62||U===96?n(U):U===34||U===39?(e.consume(U),u=U,R):$t(U)?(e.consume(U),D):z(U)}function R(U){return U===u?(e.consume(U),u=null,q):U===null||yt(U)?n(U):(e.consume(U),R)}function z(U){return U===null||U===34||U===39||U===47||U===60||U===61||U===62||U===96||on(U)?W(U):(e.consume(U),z)}function q(U){return U===47||U===62||$t(U)?A(U):n(U)}function B(U){return U===62?(e.consume(U),ae):n(U)}function ae(U){return U===null||yt(U)?oe(U):$t(U)?(e.consume(U),ae):n(U)}function oe(U){return U===45&&i===2?(e.consume(U),J):U===60&&i===1?(e.consume(U),se):U===62&&i===4?(e.consume(U),G):U===63&&i===3?(e.consume(U),M):U===93&&i===5?(e.consume(U),pe):yt(U)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(dq,me,xe)(U)):U===null||yt(U)?(e.exit("htmlFlowData"),xe(U)):(e.consume(U),oe)}function xe(U){return e.check(hq,Y,me)(U)}function Y(U){return e.enter("lineEnding"),e.consume(U),e.exit("lineEnding"),H}function H(U){return U===null||yt(U)?xe(U):(e.enter("htmlFlowData"),oe(U))}function J(U){return U===45?(e.consume(U),M):oe(U)}function se(U){return U===47?(e.consume(U),o="",X):oe(U)}function X(U){if(U===62){const Pe=o.toLowerCase();return eS.includes(Pe)?(e.consume(U),G):oe(U)}return Jr(U)&&o.length<8?(e.consume(U),o+=String.fromCharCode(U),X):oe(U)}function pe(U){return U===93?(e.consume(U),M):oe(U)}function M(U){return U===62?(e.consume(U),G):U===45&&i===2?(e.consume(U),M):oe(U)}function G(U){return U===null||yt(U)?(e.exit("htmlFlowData"),me(U)):(e.consume(U),G)}function me(U){return e.exit("htmlFlow"),t(U)}}function mq(e,t,n){const r=this;return i;function i(o){return yt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function gq(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Fh,t,n)}}const yq={name:"htmlText",tokenize:vq};function vq(e,t,n){const r=this;let i,s,o;return a;function a(M){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(M),u}function u(M){return M===33?(e.consume(M),c):M===47?(e.consume(M),W):M===63?(e.consume(M),A):Jr(M)?(e.consume(M),z):n(M)}function c(M){return M===45?(e.consume(M),f):M===91?(e.consume(M),s=0,w):Jr(M)?(e.consume(M),P):n(M)}function f(M){return M===45?(e.consume(M),y):n(M)}function p(M){return M===null?n(M):M===45?(e.consume(M),g):yt(M)?(o=p,se(M)):(e.consume(M),p)}function g(M){return M===45?(e.consume(M),y):p(M)}function y(M){return M===62?J(M):M===45?g(M):p(M)}function w(M){const G="CDATA[";return M===G.charCodeAt(s++)?(e.consume(M),s===G.length?S:w):n(M)}function S(M){return M===null?n(M):M===93?(e.consume(M),C):yt(M)?(o=S,se(M)):(e.consume(M),S)}function C(M){return M===93?(e.consume(M),E):S(M)}function E(M){return M===62?J(M):M===93?(e.consume(M),E):S(M)}function P(M){return M===null||M===62?J(M):yt(M)?(o=P,se(M)):(e.consume(M),P)}function A(M){return M===null?n(M):M===63?(e.consume(M),$):yt(M)?(o=A,se(M)):(e.consume(M),A)}function $(M){return M===62?J(M):A(M)}function W(M){return Jr(M)?(e.consume(M),D):n(M)}function D(M){return M===45||Mr(M)?(e.consume(M),D):R(M)}function R(M){return yt(M)?(o=R,se(M)):$t(M)?(e.consume(M),R):J(M)}function z(M){return M===45||Mr(M)?(e.consume(M),z):M===47||M===62||on(M)?q(M):n(M)}function q(M){return M===47?(e.consume(M),J):M===58||M===95||Jr(M)?(e.consume(M),B):yt(M)?(o=q,se(M)):$t(M)?(e.consume(M),q):J(M)}function B(M){return M===45||M===46||M===58||M===95||Mr(M)?(e.consume(M),B):ae(M)}function ae(M){return M===61?(e.consume(M),oe):yt(M)?(o=ae,se(M)):$t(M)?(e.consume(M),ae):q(M)}function oe(M){return M===null||M===60||M===61||M===62||M===96?n(M):M===34||M===39?(e.consume(M),i=M,xe):yt(M)?(o=oe,se(M)):$t(M)?(e.consume(M),oe):(e.consume(M),Y)}function xe(M){return M===i?(e.consume(M),i=void 0,H):M===null?n(M):yt(M)?(o=xe,se(M)):(e.consume(M),xe)}function Y(M){return M===null||M===34||M===39||M===60||M===61||M===96?n(M):M===47||M===62||on(M)?q(M):(e.consume(M),Y)}function H(M){return M===47||M===62||on(M)?q(M):n(M)}function J(M){return M===62?(e.consume(M),e.exit("htmlTextData"),e.exit("htmlText"),t):n(M)}function se(M){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),X}function X(M){return $t(M)?Qt(e,pe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):pe(M)}function pe(M){return e.enter("htmlTextData"),o(M)}}const Jx={name:"labelEnd",resolveAll:_q,resolveTo:Sq,tokenize:Cq},xq={tokenize:kq},bq={tokenize:Eq},wq={tokenize:jq};function _q(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&ji(e,0,e.length,n),e}function Sq(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const u={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[s][1].start},end:{...e[o][1].end}},f={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[o-2][1].start}};return a=[["enter",u,t],["enter",c,t]],a=qi(a,e.slice(s+1,s+r+3)),a=qi(a,[["enter",f,t]]),a=qi(a,Sg(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=qi(a,[["exit",f,t],e[o-2],e[o-1],["exit",c,t]]),a=qi(a,e.slice(o+1)),a=qi(a,[["exit",u,t]]),ji(e,s,e.length,a),e}function Cq(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(g){return s?s._inactive?p(g):(o=r.parser.defined.includes(_s(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),u):n(g)}function u(g){return g===40?e.attempt(xq,f,o?f:p)(g):g===91?e.attempt(bq,f,o?c:p)(g):o?f(g):p(g)}function c(g){return e.attempt(wq,f,p)(g)}function f(g){return t(g)}function p(g){return s._balanced=!0,n(g)}}function kq(e,t,n){return r;function r(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),i}function i(p){return on(p)?Wd(e,s)(p):s(p)}function s(p){return p===41?f(p):c7(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function o(p){return on(p)?Wd(e,u)(p):f(p)}function a(p){return n(p)}function u(p){return p===34||p===39||p===40?h7(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):f(p)}function c(p){return on(p)?Wd(e,f)(p):f(p)}function f(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function Eq(e,t,n){const r=this;return i;function i(a){return d7.call(r,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(_s(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function jq(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const Tq={name:"labelStartImage",resolveAll:Jx.resolveAll,tokenize:Nq};function Nq(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const Pq={name:"labelStartLink",resolveAll:Jx.resolveAll,tokenize:Oq};function Oq(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Q1={name:"lineEnding",tokenize:Rq};function Rq(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Qt(e,t,"linePrefix")}}const Yp={name:"thematicBreak",tokenize:Aq};function Aq(e,t,n){let r=0,i;return s;function s(c){return e.enter("thematicBreak"),o(c)}function o(c){return i=c,a(c)}function a(c){return c===i?(e.enter("thematicBreakSequence"),u(c)):r>=3&&(c===null||yt(c))?(e.exit("thematicBreak"),t(c)):n(c)}function u(c){return c===i?(e.consume(c),r++,u):(e.exit("thematicBreakSequence"),$t(c)?Qt(e,a,"whitespace")(c):a(c))}}const ai={continuation:{tokenize:Mq},exit:Bq,name:"list",tokenize:Dq},Iq={partial:!0,tokenize:zq},Lq={partial:!0,tokenize:Fq};function Dq(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(y){const w=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:uv(y)){if(r.containerState.type||(r.containerState.type=w,e.enter(w,{_container:!0})),w==="listUnordered")return e.enter("listItemPrefix"),y===42||y===45?e.check(Yp,n,c)(y):c(y);if(!r.interrupt||y===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(y)}return n(y)}function u(y){return uv(y)&&++o<10?(e.consume(y),u):(!r.interrupt||o<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(e.exit("listItemValue"),c(y)):n(y)}function c(y){return e.enter("listItemMarker"),e.consume(y),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,e.check(Fh,r.interrupt?n:f,e.attempt(Iq,g,p))}function f(y){return r.containerState.initialBlankLine=!0,s++,g(y)}function p(y){return $t(y)?(e.enter("listItemPrefixWhitespace"),e.consume(y),e.exit("listItemPrefixWhitespace"),g):n(y)}function g(y){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(y)}}function Mq(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Fh,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Qt(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!$t(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Lq,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Qt(e,e.attempt(ai,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function Fq(e,t,n){const r=this;return Qt(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function Bq(e){e.exit(this.containerState.type)}function zq(e,t,n){const r=this;return Qt(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!$t(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const tS={name:"setextUnderline",resolveTo:$q,tokenize:Uq};function $q(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function Uq(e,t,n){const r=this;let i;return s;function s(c){let f=r.events.length,p;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){p=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(e.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(e.consume(c),a):(e.exit("setextHeadingLineSequence"),$t(c)?Qt(e,u,"lineSuffix")(c):u(c))}function u(c){return c===null||yt(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const Hq={tokenize:Jq,partial:!0};function Vq(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Kq,continuation:{tokenize:Gq},exit:Yq}},text:{91:{name:"gfmFootnoteCall",tokenize:Qq},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Wq,resolveTo:qq}}}}function Wq(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const u=r.events[i][1];if(u.type==="labelImage"){o=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return a;function a(u){if(!o||!o._balanced)return n(u);const c=_s(r.sliceSerialize({start:o.end,end:r.now()}));return c.codePointAt(0)!==94||!s.includes(c.slice(1))?n(u):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),t(u))}}function qq(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...a),e}function Qq(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(p){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),u}function u(p){return p!==94?n(p):(e.enter("gfmFootnoteCallMarker"),e.consume(p),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(p){if(s>999||p===93&&!o||p===null||p===91||on(p))return n(p);if(p===93){e.exit("chunkString");const g=e.exit("gfmFootnoteCallString");return i.includes(_s(r.sliceSerialize(g)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(p)}return on(p)||(o=!0),s++,e.consume(p),p===92?f:c}function f(p){return p===91||p===92||p===93?(e.consume(p),s++,c):c(p)}}function Kq(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return u;function u(w){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(w){return w===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",f):n(w)}function f(w){if(o>999||w===93&&!a||w===null||w===91||on(w))return n(w);if(w===93){e.exit("chunkString");const S=e.exit("gfmFootnoteDefinitionLabelString");return s=_s(r.sliceSerialize(S)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),g}return on(w)||(a=!0),o++,e.consume(w),w===92?p:f}function p(w){return w===91||w===92||w===93?(e.consume(w),o++,f):f(w)}function g(w){return w===58?(e.enter("definitionMarker"),e.consume(w),e.exit("definitionMarker"),i.includes(s)||i.push(s),Qt(e,y,"gfmFootnoteDefinitionWhitespace")):n(w)}function y(w){return t(w)}}function Gq(e,t,n){return e.check(Fh,t,e.attempt(Hq,t,n))}function Yq(e){e.exit("gfmFootnoteDefinition")}function Jq(e,t,n){const r=this;return Qt(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(s):n(s)}}function Xq(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let u=-1;for(;++u<o.length;)if(o[u][0]==="enter"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._close){let c=u;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[u][1].end.offset-o[u][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[u][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[u][1].end)},p={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[u][1].start)},g=[["enter",f,a],["enter",o[c][1],a],["exit",o[c][1],a],["enter",p,a]],y=a.parser.constructs.insideSpan.null;y&&ji(g,g.length,0,Sg(y,o.slice(c+1,u),a)),ji(g,g.length,0,[["exit",p,a],["enter",o[u][1],a],["exit",o[u][1],a],["exit",f,a]]),ji(o,c-1,u-c+3,g),u=c+g.length-2;break}}for(u=-1;++u<o.length;)o[u][1].type==="strikethroughSequenceTemporary"&&(o[u][1].type="data");return o}function s(o,a,u){const c=this.previous,f=this.events;let p=0;return g;function g(w){return c===126&&f[f.length-1][1].type!=="characterEscape"?u(w):(o.enter("strikethroughSequenceTemporary"),y(w))}function y(w){const S=gc(c);if(w===126)return p>1?u(w):(o.consume(w),p++,y);if(p<2&&!n)return u(w);const C=o.exit("strikethroughSequenceTemporary"),E=gc(w);return C._open=!E||E===2&&!!S,C._close=!S||S===2&&!!E,a(w)}}}class Zq{constructor(){this.map=[]}add(t,n,r){eQ(this,t,n,r)}consume(t){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const s of i)t.push(s);i=r.pop()}this.map.length=0}}function eQ(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function tQ(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function nQ(){return{flow:{null:{name:"table",tokenize:rQ,resolveAll:iQ}}}}function rQ(e,t,n){const r=this;let i=0,s=0,o;return a;function a(B){let ae=r.events.length-1;for(;ae>-1;){const Y=r.events[ae][1].type;if(Y==="lineEnding"||Y==="linePrefix")ae--;else break}const oe=ae>-1?r.events[ae][1].type:null,xe=oe==="tableHead"||oe==="tableRow"?D:u;return xe===D&&r.parser.lazy[r.now().line]?n(B):xe(B)}function u(B){return e.enter("tableHead"),e.enter("tableRow"),c(B)}function c(B){return B===124||(o=!0,s+=1),f(B)}function f(B){return B===null?n(B):yt(B)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(B),e.exit("lineEnding"),y):n(B):$t(B)?Qt(e,f,"whitespace")(B):(s+=1,o&&(o=!1,i+=1),B===124?(e.enter("tableCellDivider"),e.consume(B),e.exit("tableCellDivider"),o=!0,f):(e.enter("data"),p(B)))}function p(B){return B===null||B===124||on(B)?(e.exit("data"),f(B)):(e.consume(B),B===92?g:p)}function g(B){return B===92||B===124?(e.consume(B),p):p(B)}function y(B){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(B):(e.enter("tableDelimiterRow"),o=!1,$t(B)?Qt(e,w,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):w(B))}function w(B){return B===45||B===58?C(B):B===124?(o=!0,e.enter("tableCellDivider"),e.consume(B),e.exit("tableCellDivider"),S):W(B)}function S(B){return $t(B)?Qt(e,C,"whitespace")(B):C(B)}function C(B){return B===58?(s+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(B),e.exit("tableDelimiterMarker"),E):B===45?(s+=1,E(B)):B===null||yt(B)?$(B):W(B)}function E(B){return B===45?(e.enter("tableDelimiterFiller"),P(B)):W(B)}function P(B){return B===45?(e.consume(B),P):B===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(B),e.exit("tableDelimiterMarker"),A):(e.exit("tableDelimiterFiller"),A(B))}function A(B){return $t(B)?Qt(e,$,"whitespace")(B):$(B)}function $(B){return B===124?w(B):B===null||yt(B)?!o||i!==s?W(B):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(B)):W(B)}function W(B){return n(B)}function D(B){return e.enter("tableRow"),R(B)}function R(B){return B===124?(e.enter("tableCellDivider"),e.consume(B),e.exit("tableCellDivider"),R):B===null||yt(B)?(e.exit("tableRow"),t(B)):$t(B)?Qt(e,R,"whitespace")(B):(e.enter("data"),z(B))}function z(B){return B===null||B===124||on(B)?(e.exit("data"),R(B)):(e.consume(B),B===92?q:z)}function q(B){return B===92||B===124?(e.consume(B),z):z(B)}}function iQ(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,u=0,c,f,p;const g=new Zq;for(;++n<e.length;){const y=e[n],w=y[1];y[0]==="enter"?w.type==="tableHead"?(a=!1,u!==0&&(nS(g,t,u,c,f),f=void 0,u=0),c={type:"table",start:Object.assign({},w.start),end:Object.assign({},w.end)},g.add(n,0,[["enter",c,t]])):w.type==="tableRow"||w.type==="tableDelimiterRow"?(r=!0,p=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,f={type:"tableBody",start:Object.assign({},w.start),end:Object.assign({},w.end)},g.add(n,0,[["enter",f,t]])),i=w.type==="tableDelimiterRow"?2:f?3:1):i&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],p=jp(g,t,s,i,void 0,p),s=[0,0,0,0]),o[2]=n)):w.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],p=jp(g,t,s,i,void 0,p)),s=o,o=[s[1],n,0,0])):w.type==="tableHead"?(a=!0,u=n):w.type==="tableRow"||w.type==="tableDelimiterRow"?(u=n,s[1]!==0?(o[0]=o[1],p=jp(g,t,s,i,n,p)):o[1]!==0&&(p=jp(g,t,o,i,n,p)),i=0):i&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")&&(o[3]=n)}for(u!==0&&nS(g,t,u,c,f),g.consume(t.events),n=-1;++n<t.events.length;){const y=t.events[n];y[0]==="enter"&&y[1].type==="table"&&(y[1]._align=tQ(t.events,n))}return e}function jp(e,t,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},Ju(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const u=Ju(t.events,n[1]);if(s={type:o,start:Object.assign({},u),end:Object.assign({},u)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const c=Ju(t.events,n[2]),f=Ju(t.events,n[3]),p={type:a,start:Object.assign({},c),end:Object.assign({},f)};if(e.add(n[2],0,[["enter",p,t]]),r!==2){const g=t.events[n[2]],y=t.events[n[3]];if(g[1].end=Object.assign({},y[1].end),g[1].type="chunkText",g[1].contentType="text",n[3]>n[2]+1){const w=n[2]+1,S=n[3]-n[2]-1;e.add(w,S,[])}}e.add(n[3]+1,0,[["exit",p,t]])}return i!==void 0&&(s.end=Object.assign({},Ju(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function nS(e,t,n,r,i){const s=[],o=Ju(t.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,t])),r.end=Object.assign({},o),s.push(["exit",r,t]),e.add(n+1,0,s)}function Ju(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const sQ={name:"tasklistCheck",tokenize:aQ};function oQ(){return{text:{91:sQ}}}function aQ(e,t,n){const r=this;return i;function i(u){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(u):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),s)}function s(u){return on(u)?(e.enter("taskListCheckValueUnchecked"),e.consume(u),e.exit("taskListCheckValueUnchecked"),o):u===88||u===120?(e.enter("taskListCheckValueChecked"),e.consume(u),e.exit("taskListCheckValueChecked"),o):n(u)}function o(u){return u===93?(e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(u)}function a(u){return yt(u)?t(u):$t(u)?e.check({tokenize:lQ},t,n)(u):n(u)}}function lQ(e,t,n){return Qt(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function uQ(e){return Jk([xW(),Vq(),Xq(e),nQ(),oQ()])}const cQ={};function dQ(e){const t=this,n=e||cQ,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(uQ(n)),s.push(fW()),o.push(pW(n))}function hQ(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const fQ=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,pQ=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,mQ={};function rS(e,t){return(mQ.jsx?pQ:fQ).test(e)}const gQ=/[ \t\n\f\r]/g;function yQ(e){return typeof e=="object"?e.type==="text"?iS(e.value):!1:iS(e)}function iS(e){return e.replace(gQ,"")===""}class Bh{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Bh.prototype.normal={};Bh.prototype.property={};Bh.prototype.space=void 0;function f7(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Bh(n,r,t)}function fv(e){return e.toLowerCase()}class pi{constructor(t,n){this.attribute=n,this.property=t}}pi.prototype.attribute="";pi.prototype.booleanish=!1;pi.prototype.boolean=!1;pi.prototype.commaOrSpaceSeparated=!1;pi.prototype.commaSeparated=!1;pi.prototype.defined=!1;pi.prototype.mustUseProperty=!1;pi.prototype.number=!1;pi.prototype.overloadedBoolean=!1;pi.prototype.property="";pi.prototype.spaceSeparated=!1;pi.prototype.space=void 0;let vQ=0;const Nt=Gl(),Kn=Gl(),pv=Gl(),Fe=Gl(),cn=Gl(),lc=Gl(),_i=Gl();function Gl(){return 2**++vQ}const mv=Object.freeze(Object.defineProperty({__proto__:null,boolean:Nt,booleanish:Kn,commaOrSpaceSeparated:_i,commaSeparated:lc,number:Fe,overloadedBoolean:pv,spaceSeparated:cn},Symbol.toStringTag,{value:"Module"})),K1=Object.keys(mv);class Xx extends pi{constructor(t,n,r,i){let s=-1;if(super(t,n),sS(this,"space",i),typeof r=="number")for(;++s<K1.length;){const o=K1[s];sS(this,K1[s],(r&mv[o])===mv[o])}}}Xx.prototype.defined=!0;function sS(e,t,n){n&&(e[t]=n)}function Cc(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new Xx(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[fv(r)]=r,n[fv(s.attribute)]=r}return new Bh(t,n,e.space)}const p7=Cc({properties:{ariaActiveDescendant:null,ariaAtomic:Kn,ariaAutoComplete:null,ariaBusy:Kn,ariaChecked:Kn,ariaColCount:Fe,ariaColIndex:Fe,ariaColSpan:Fe,ariaControls:cn,ariaCurrent:null,ariaDescribedBy:cn,ariaDetails:null,ariaDisabled:Kn,ariaDropEffect:cn,ariaErrorMessage:null,ariaExpanded:Kn,ariaFlowTo:cn,ariaGrabbed:Kn,ariaHasPopup:null,ariaHidden:Kn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:cn,ariaLevel:Fe,ariaLive:null,ariaModal:Kn,ariaMultiLine:Kn,ariaMultiSelectable:Kn,ariaOrientation:null,ariaOwns:cn,ariaPlaceholder:null,ariaPosInSet:Fe,ariaPressed:Kn,ariaReadOnly:Kn,ariaRelevant:null,ariaRequired:Kn,ariaRoleDescription:cn,ariaRowCount:Fe,ariaRowIndex:Fe,ariaRowSpan:Fe,ariaSelected:Kn,ariaSetSize:Fe,ariaSort:null,ariaValueMax:Fe,ariaValueMin:Fe,ariaValueNow:Fe,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function m7(e,t){return t in e?e[t]:t}function g7(e,t){return m7(e,t.toLowerCase())}const xQ=Cc({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:lc,acceptCharset:cn,accessKey:cn,action:null,allow:null,allowFullScreen:Nt,allowPaymentRequest:Nt,allowUserMedia:Nt,alt:null,as:null,async:Nt,autoCapitalize:null,autoComplete:cn,autoFocus:Nt,autoPlay:Nt,blocking:cn,capture:null,charSet:null,checked:Nt,cite:null,className:cn,cols:Fe,colSpan:null,content:null,contentEditable:Kn,controls:Nt,controlsList:cn,coords:Fe|lc,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Nt,defer:Nt,dir:null,dirName:null,disabled:Nt,download:pv,draggable:Kn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Nt,formTarget:null,headers:cn,height:Fe,hidden:pv,high:Fe,href:null,hrefLang:null,htmlFor:cn,httpEquiv:cn,id:null,imageSizes:null,imageSrcSet:null,inert:Nt,inputMode:null,integrity:null,is:null,isMap:Nt,itemId:null,itemProp:cn,itemRef:cn,itemScope:Nt,itemType:cn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Nt,low:Fe,manifest:null,max:null,maxLength:Fe,media:null,method:null,min:null,minLength:Fe,multiple:Nt,muted:Nt,name:null,nonce:null,noModule:Nt,noValidate:Nt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Nt,optimum:Fe,pattern:null,ping:cn,placeholder:null,playsInline:Nt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Nt,referrerPolicy:null,rel:cn,required:Nt,reversed:Nt,rows:Fe,rowSpan:Fe,sandbox:cn,scope:null,scoped:Nt,seamless:Nt,selected:Nt,shadowRootClonable:Nt,shadowRootDelegatesFocus:Nt,shadowRootMode:null,shape:null,size:Fe,sizes:null,slot:null,span:Fe,spellCheck:Kn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Fe,step:null,style:null,tabIndex:Fe,target:null,title:null,translate:null,type:null,typeMustMatch:Nt,useMap:null,value:Kn,width:Fe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:cn,axis:null,background:null,bgColor:null,border:Fe,borderColor:null,bottomMargin:Fe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Nt,declare:Nt,event:null,face:null,frame:null,frameBorder:null,hSpace:Fe,leftMargin:Fe,link:null,longDesc:null,lowSrc:null,marginHeight:Fe,marginWidth:Fe,noResize:Nt,noHref:Nt,noShade:Nt,noWrap:Nt,object:null,profile:null,prompt:null,rev:null,rightMargin:Fe,rules:null,scheme:null,scrolling:Kn,standby:null,summary:null,text:null,topMargin:Fe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Fe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Nt,disableRemotePlayback:Nt,prefix:null,property:null,results:Fe,security:null,unselectable:null},space:"html",transform:g7}),bQ=Cc({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:_i,accentHeight:Fe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Fe,amplitude:Fe,arabicForm:null,ascent:Fe,attributeName:null,attributeType:null,azimuth:Fe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Fe,by:null,calcMode:null,capHeight:Fe,className:cn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Fe,diffuseConstant:Fe,direction:null,display:null,dur:null,divisor:Fe,dominantBaseline:null,download:Nt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Fe,enableBackground:null,end:null,event:null,exponent:Fe,externalResourcesRequired:null,fill:null,fillOpacity:Fe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:lc,g2:lc,glyphName:lc,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Fe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Fe,horizOriginX:Fe,horizOriginY:Fe,id:null,ideographic:Fe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Fe,k:Fe,k1:Fe,k2:Fe,k3:Fe,k4:Fe,kernelMatrix:_i,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Fe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Fe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Fe,overlineThickness:Fe,paintOrder:null,panose1:null,path:null,pathLength:Fe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:cn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Fe,pointsAtY:Fe,pointsAtZ:Fe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:_i,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:_i,rev:_i,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:_i,requiredFeatures:_i,requiredFonts:_i,requiredFormats:_i,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Fe,specularExponent:Fe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Fe,strikethroughThickness:Fe,string:null,stroke:null,strokeDashArray:_i,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Fe,strokeOpacity:Fe,strokeWidth:null,style:null,surfaceScale:Fe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:_i,tabIndex:Fe,tableValues:null,target:null,targetX:Fe,targetY:Fe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:_i,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Fe,underlineThickness:Fe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Fe,values:null,vAlphabetic:Fe,vMathematical:Fe,vectorEffect:null,vHanging:Fe,vIdeographic:Fe,version:null,vertAdvY:Fe,vertOriginX:Fe,vertOriginY:Fe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Fe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:m7}),y7=Cc({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),v7=Cc({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:g7}),x7=Cc({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),wQ={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},_Q=/[A-Z]/g,oS=/-[a-z]/g,SQ=/^data[-\w.:]+$/i;function CQ(e,t){const n=fv(t);let r=t,i=pi;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&SQ.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(oS,EQ);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!oS.test(s)){let o=s.replace(_Q,kQ);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=Xx}return new i(r,t)}function kQ(e){return"-"+e.toLowerCase()}function EQ(e){return e.charAt(1).toUpperCase()}const jQ=f7([p7,xQ,y7,v7,x7],"html"),Zx=f7([p7,bQ,y7,v7,x7],"svg");function TQ(e){return e.join(" ").trim()}var Uu={},G1,aS;function NQ(){if(aS)return G1;aS=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,a=/^\s+|\s+$/g,u=`
`,c="/",f="*",p="",g="comment",y="declaration";function w(C,E){if(typeof C!="string")throw new TypeError("First argument must be a string");if(!C)return[];E=E||{};var P=1,A=1;function $(Y){var H=Y.match(t);H&&(P+=H.length);var J=Y.lastIndexOf(u);A=~J?Y.length-J:A+Y.length}function W(){var Y={line:P,column:A};return function(H){return H.position=new D(Y),q(),H}}function D(Y){this.start=Y,this.end={line:P,column:A},this.source=E.source}D.prototype.content=C;function R(Y){var H=new Error(E.source+":"+P+":"+A+": "+Y);if(H.reason=Y,H.filename=E.source,H.line=P,H.column=A,H.source=C,!E.silent)throw H}function z(Y){var H=Y.exec(C);if(H){var J=H[0];return $(J),C=C.slice(J.length),H}}function q(){z(n)}function B(Y){var H;for(Y=Y||[];H=ae();)H!==!1&&Y.push(H);return Y}function ae(){var Y=W();if(!(c!=C.charAt(0)||f!=C.charAt(1))){for(var H=2;p!=C.charAt(H)&&(f!=C.charAt(H)||c!=C.charAt(H+1));)++H;if(H+=2,p===C.charAt(H-1))return R("End of comment missing");var J=C.slice(2,H-2);return A+=2,$(J),C=C.slice(H),A+=2,Y({type:g,comment:J})}}function oe(){var Y=W(),H=z(r);if(H){if(ae(),!z(i))return R("property missing ':'");var J=z(s),se=Y({type:y,property:S(H[0].replace(e,p)),value:J?S(J[0].replace(e,p)):p});return z(o),se}}function xe(){var Y=[];B(Y);for(var H;H=oe();)H!==!1&&(Y.push(H),B(Y));return Y}return q(),xe()}function S(C){return C?C.replace(a,p):p}return G1=w,G1}var lS;function PQ(){if(lS)return Uu;lS=1;var e=Uu&&Uu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Uu,"__esModule",{value:!0}),Uu.default=n;const t=e(NQ());function n(r,i){let s=null;if(!r||typeof r!="string")return s;const o=(0,t.default)(r),a=typeof i=="function";return o.forEach(u=>{if(u.type!=="declaration")return;const{property:c,value:f}=u;a?i(c,f,u):f&&(s=s||{},s[c]=f)}),s}return Uu}var _d={},uS;function OQ(){if(uS)return _d;uS=1,Object.defineProperty(_d,"__esModule",{value:!0}),_d.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(c){return!c||n.test(c)||e.test(c)},o=function(c,f){return f.toUpperCase()},a=function(c,f){return"".concat(f,"-")},u=function(c,f){return f===void 0&&(f={}),s(c)?c:(c=c.toLowerCase(),f.reactCompat?c=c.replace(i,a):c=c.replace(r,a),c.replace(t,o))};return _d.camelCase=u,_d}var Sd,cS;function RQ(){if(cS)return Sd;cS=1;var e=Sd&&Sd.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(PQ()),n=OQ();function r(i,s){var o={};return!i||typeof i!="string"||(0,t.default)(i,function(a,u){a&&u&&(o[(0,n.camelCase)(a,s)]=u)}),o}return r.default=r,Sd=r,Sd}var AQ=RQ();const IQ=Gi(AQ),b7=w7("end"),eb=w7("start");function w7(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function LQ(e){const t=eb(e),n=b7(e);if(t&&n)return{start:t,end:n}}function qd(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?dS(e.position):"start"in e||"end"in e?dS(e):"line"in e||"column"in e?gv(e):""}function gv(e){return hS(e&&e.line)+":"+hS(e&&e.column)}function dS(e){return gv(e&&e.start)+"-"+gv(e&&e.end)}function hS(e){return e&&typeof e=="number"?e:1}class zr extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(o=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?s.ruleId=r:(s.source=r.slice(0,u),s.ruleId=r.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){const u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=qd(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}zr.prototype.file="";zr.prototype.name="";zr.prototype.reason="";zr.prototype.message="";zr.prototype.stack="";zr.prototype.column=void 0;zr.prototype.line=void 0;zr.prototype.ancestors=void 0;zr.prototype.cause=void 0;zr.prototype.fatal=void 0;zr.prototype.place=void 0;zr.prototype.ruleId=void 0;zr.prototype.source=void 0;const tb={}.hasOwnProperty,DQ=new Map,MQ=/[A-Z]/g,FQ=new Set(["table","tbody","thead","tfoot","tr"]),BQ=new Set(["td","th"]),_7="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function zQ(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=KQ(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=QQ(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Zx:jQ,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=S7(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function S7(e,t,n){if(t.type==="element")return $Q(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return UQ(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return VQ(e,t,n);if(t.type==="mdxjsEsm")return HQ(e,t);if(t.type==="root")return WQ(e,t,n);if(t.type==="text")return qQ(e,t)}function $Q(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Zx,e.schema=i),e.ancestors.push(t);const s=k7(e,t.tagName,!1),o=GQ(e,t);let a=rb(e,t);return FQ.has(t.tagName)&&(a=a.filter(function(u){return typeof u=="string"?!yQ(u):!0})),C7(e,o,s,t),nb(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function UQ(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}yh(e,t.position)}function HQ(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);yh(e,t.position)}function VQ(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Zx,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:k7(e,t.name,!0),o=YQ(e,t),a=rb(e,t);return C7(e,o,s,t),nb(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function WQ(e,t,n){const r={};return nb(r,rb(e,t)),e.create(t,e.Fragment,r,n)}function qQ(e,t){return t.value}function C7(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function nb(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function QQ(e,t,n){return r;function r(i,s,o,a){const c=Array.isArray(o.children)?n:t;return a?c(s,o,a):c(s,o)}}function KQ(e,t){return n;function n(r,i,s,o){const a=Array.isArray(s.children),u=eb(r);return t(i,s,o,a,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function GQ(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&tb.call(t.properties,i)){const s=JQ(e,i,t.properties[i]);if(s){const[o,a]=s;e.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&BQ.has(t.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function YQ(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else yh(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,s=e.evaluater.evaluateExpression(a.expression)}else yh(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function rb(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:DQ;for(;++r<t.children.length;){const s=t.children[r];let o;if(e.passKeys){const u=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(u){const c=i.get(u)||0;o=u+"-"+c,i.set(u,c+1)}}const a=S7(e,s,o);a!==void 0&&n.push(a)}return n}function JQ(e,t,n){const r=CQ(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?hQ(n):TQ(n)),r.property==="style"){let i=typeof n=="object"?n:XQ(e,String(n));return e.stylePropertyNameCase==="css"&&(i=ZQ(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?wQ[r.property]||r.property:r.attribute,n]}}function XQ(e,t){try{return IQ(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new zr("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=_7+"#cannot-parse-style-attribute",i}}function k7(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,o;for(;++s<i.length;){const a=rS(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=rS(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return tb.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);yh(e)}function yh(e,t){const n=new zr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=_7+"#cannot-handle-mdx-estrees-without-createevaluater",n}function ZQ(e){const t={};let n;for(n in e)tb.call(e,n)&&(t[eK(n)]=e[n]);return t}function eK(e){let t=e.replace(MQ,tK);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function tK(e){return"-"+e.toLowerCase()}const Y1={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},nK={tokenize:rK};function rK(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Qt(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return yt(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const iK={tokenize:sK},fS={tokenize:oK};function sK(e){const t=this,n=[];let r=0,i,s,o;return a;function a(A){if(r<n.length){const $=n[r];return t.containerState=$[1],e.attempt($[0].continuation,u,c)(A)}return c(A)}function u(A){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&P();const $=t.events.length;let W=$,D;for(;W--;)if(t.events[W][0]==="exit"&&t.events[W][1].type==="chunkFlow"){D=t.events[W][1].end;break}E(r);let R=$;for(;R<t.events.length;)t.events[R][1].end={...D},R++;return ji(t.events,W+1,0,t.events.slice($)),t.events.length=R,c(A)}return a(A)}function c(A){if(r===n.length){if(!i)return g(A);if(i.currentConstruct&&i.currentConstruct.concrete)return w(A);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(fS,f,p)(A)}function f(A){return i&&P(),E(r),g(A)}function p(A){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,w(A)}function g(A){return t.containerState={},e.attempt(fS,y,w)(A)}function y(A){return r++,n.push([t.currentConstruct,t.containerState]),g(A)}function w(A){if(A===null){i&&P(),E(0),e.consume(A);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),S(A)}function S(A){if(A===null){C(e.exit("chunkFlow"),!0),E(0),e.consume(A);return}return yt(A)?(e.consume(A),C(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(A),S)}function C(A,$){const W=t.sliceStream(A);if($&&W.push(null),A.previous=s,s&&(s.next=A),s=A,i.defineSkip(A.start),i.write(W),t.parser.lazy[A.start.line]){let D=i.events.length;for(;D--;)if(i.events[D][1].start.offset<o&&(!i.events[D][1].end||i.events[D][1].end.offset>o))return;const R=t.events.length;let z=R,q,B;for(;z--;)if(t.events[z][0]==="exit"&&t.events[z][1].type==="chunkFlow"){if(q){B=t.events[z][1].end;break}q=!0}for(E(r),D=R;D<t.events.length;)t.events[D][1].end={...B},D++;ji(t.events,z+1,0,t.events.slice(R)),t.events.length=D}}function E(A){let $=n.length;for(;$-- >A;){const W=n[$];t.containerState=W[1],W[0].exit.call(t,e)}n.length=A}function P(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function oK(e,t,n){return Qt(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}const aK={tokenize:lK};function lK(e){const t=this,n=e.attempt(Fh,r,e.attempt(this.parser.constructs.flowInitial,i,Qt(e,e.attempt(this.parser.constructs.flow,i,e.attempt(GW,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const uK={resolveAll:j7()},cK=E7("string"),dK=E7("text");function E7(e){return{resolveAll:j7(e==="text"?hK:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(f){return c(f)?s(f):a(f)}function a(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),u}function u(f){return c(f)?(n.exit("data"),s(f)):(n.consume(f),u)}function c(f){if(f===null)return!0;const p=i[f];let g=-1;if(p)for(;++g<p.length;){const y=p[g];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function j7(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function hK(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,u;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)u=!0,a++;else if(c!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const c={type:n===e.length||u||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const fK={42:ai,43:ai,45:ai,48:ai,49:ai,50:ai,51:ai,52:ai,53:ai,54:ai,55:ai,56:ai,57:ai,62:o7},pK={91:eq},mK={[-2]:q1,[-1]:q1,32:q1},gK={35:oq,42:Yp,45:[tS,Yp],60:cq,61:tS,95:Yp,96:Z5,126:Z5},yK={38:l7,92:a7},vK={[-5]:Q1,[-4]:Q1,[-3]:Q1,33:Tq,38:l7,42:hv,60:[PW,yq],91:Pq,92:[iq,a7],93:Jx,95:hv,96:HW},xK={null:[hv,uK]},bK={null:[42,95]},wK={null:[]},_K=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:bK,contentInitial:pK,disable:wK,document:fK,flow:gK,flowInitial:mK,insideSpan:xK,string:yK,text:vK},Symbol.toStringTag,{value:"Module"}));function SK(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const u={attempt:R(W),check:R(D),consume:P,enter:A,exit:$,interrupt:R(D,{interrupt:!0})},c={code:null,containerState:{},defineSkip:S,events:[],now:w,parser:e,previous:null,sliceSerialize:g,sliceStream:y,write:p};let f=t.tokenize.call(c,u);return t.resolveAll&&s.push(t),c;function p(ae){return o=qi(o,ae),C(),o[o.length-1]!==null?[]:(z(t,0),c.events=Sg(s,c.events,c),c.events)}function g(ae,oe){return kK(y(ae),oe)}function y(ae){return CK(o,ae)}function w(){const{_bufferIndex:ae,_index:oe,line:xe,column:Y,offset:H}=r;return{_bufferIndex:ae,_index:oe,line:xe,column:Y,offset:H}}function S(ae){i[ae.line]=ae.column,B()}function C(){let ae;for(;r._index<o.length;){const oe=o[r._index];if(typeof oe=="string")for(ae=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===ae&&r._bufferIndex<oe.length;)E(oe.charCodeAt(r._bufferIndex));else E(oe)}}function E(ae){f=f(ae)}function P(ae){yt(ae)?(r.line++,r.column=1,r.offset+=ae===-3?2:1,B()):ae!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=ae}function A(ae,oe){const xe=oe||{};return xe.type=ae,xe.start=w(),c.events.push(["enter",xe,c]),a.push(xe),xe}function $(ae){const oe=a.pop();return oe.end=w(),c.events.push(["exit",oe,c]),oe}function W(ae,oe){z(ae,oe.from)}function D(ae,oe){oe.restore()}function R(ae,oe){return xe;function xe(Y,H,J){let se,X,pe,M;return Array.isArray(Y)?me(Y):"tokenize"in Y?me([Y]):G(Y);function G(Ee){return Qe;function Qe(Ve){const vt=Ve!==null&&Ee[Ve],ze=Ve!==null&&Ee.null,cr=[...Array.isArray(vt)?vt:vt?[vt]:[],...Array.isArray(ze)?ze:ze?[ze]:[]];return me(cr)(Ve)}}function me(Ee){return se=Ee,X=0,Ee.length===0?J:U(Ee[X])}function U(Ee){return Qe;function Qe(Ve){return M=q(),pe=Ee,Ee.partial||(c.currentConstruct=Ee),Ee.name&&c.parser.constructs.disable.null.includes(Ee.name)?ke():Ee.tokenize.call(oe?Object.assign(Object.create(c),oe):c,u,Pe,ke)(Ve)}}function Pe(Ee){return ae(pe,M),H}function ke(Ee){return M.restore(),++X<se.length?U(se[X]):J}}}function z(ae,oe){ae.resolveAll&&!s.includes(ae)&&s.push(ae),ae.resolve&&ji(c.events,oe,c.events.length-oe,ae.resolve(c.events.slice(oe),c)),ae.resolveTo&&(c.events=ae.resolveTo(c.events,c))}function q(){const ae=w(),oe=c.previous,xe=c.currentConstruct,Y=c.events.length,H=Array.from(a);return{from:Y,restore:J};function J(){r=ae,c.previous=oe,c.currentConstruct=xe,c.events.length=Y,a=H,B()}}function B(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function CK(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function kK(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function EK(e){const r={constructs:Jk([_K,...(e||{}).extensions||[]]),content:i(nK),defined:[],document:i(iK),flow:i(aK),lazy:{},string:i(cK),text:i(dK)};return r;function i(s){return o;function o(a){return SK(r,s,a)}}}function jK(e){for(;!u7(e););return e}const pS=/[\0\t\n\r]/g;function TK(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const u=[];let c,f,p,g,y;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),p=0,t="",n&&(s.charCodeAt(0)===65279&&p++,n=void 0);p<s.length;){if(pS.lastIndex=p,c=pS.exec(s),g=c&&c.index!==void 0?c.index:s.length,y=s.charCodeAt(g),!c){t=s.slice(p);break}if(y===10&&p===g&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),p<g&&(u.push(s.slice(p,g)),e+=g-p),y){case 0:{u.push(65533),e++;break}case 9:{for(f=Math.ceil(e/4)*4,u.push(-2);e++<f;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}p=g+1}return a&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}const T7={}.hasOwnProperty;function NK(e,t,n){return typeof t!="string"&&(n=t,t=void 0),PK(n)(jK(EK(n).document().write(TK()(e,t,!0))))}function PK(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Ji),autolinkProtocol:q,autolinkEmail:q,atxHeading:s(Fn),blockQuote:s(ze),characterEscape:q,characterReference:q,codeFenced:s(cr),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(cr,o),codeText:s(ht,o),codeTextData:q,data:q,codeFlowValue:q,definition:s(Zt),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(Wn),hardBreakEscape:s($r),hardBreakTrailing:s($r),htmlFlow:s(js,o),htmlFlowData:q,htmlText:s(js,o),htmlTextData:q,image:s(Do),label:o,link:s(Ji),listItem:s(Bn),listItemValue:g,listOrdered:s(Xr,p),listUnordered:s(Xr),paragraph:s(Ts),reference:U,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(Fn),strong:s(Pi),thematicBreak:s(Tr)},exit:{atxHeading:u(),atxHeadingSequence:W,autolink:u(),autolinkEmail:vt,autolinkProtocol:Ve,blockQuote:u(),characterEscapeValue:B,characterReferenceMarkerHexadecimal:ke,characterReferenceMarkerNumeric:ke,characterReferenceValue:Ee,characterReference:Qe,codeFenced:u(C),codeFencedFence:S,codeFencedFenceInfo:y,codeFencedFenceMeta:w,codeFlowValue:B,codeIndented:u(E),codeText:u(H),codeTextData:B,data:B,definition:u(),definitionDestinationString:$,definitionLabelString:P,definitionTitleString:A,emphasis:u(),hardBreakEscape:u(oe),hardBreakTrailing:u(oe),htmlFlow:u(xe),htmlFlowData:B,htmlText:u(Y),htmlTextData:B,image:u(se),label:pe,labelText:X,lineEnding:ae,link:u(J),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:Pe,resourceDestinationString:M,resourceTitleString:G,resource:me,setextHeading:u(z),setextHeadingLineSequence:R,setextHeadingText:D,strong:u(),thematicBreak:u()}};N7(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Se){let Le={type:"root",children:[]};const st={stack:[Le],tokenStack:[],config:t,enter:a,exit:c,buffer:o,resume:f,data:n},ft=[];let Ot=-1;for(;++Ot<Se.length;)if(Se[Ot][1].type==="listOrdered"||Se[Ot][1].type==="listUnordered")if(Se[Ot][0]==="enter")ft.push(Ot);else{const gn=ft.pop();Ot=i(Se,gn,Ot)}for(Ot=-1;++Ot<Se.length;){const gn=t[Se[Ot][0]];T7.call(gn,Se[Ot][1].type)&&gn[Se[Ot][1].type].call(Object.assign({sliceSerialize:Se[Ot][2].sliceSerialize},st),Se[Ot][1])}if(st.tokenStack.length>0){const gn=st.tokenStack[st.tokenStack.length-1];(gn[1]||mS).call(st,void 0,gn[0])}for(Le.position={start:ha(Se.length>0?Se[0][1].start:{line:1,column:1,offset:0}),end:ha(Se.length>0?Se[Se.length-2][1].end:{line:1,column:1,offset:0})},Ot=-1;++Ot<t.transforms.length;)Le=t.transforms[Ot](Le)||Le;return Le}function i(Se,Le,st){let ft=Le-1,Ot=-1,gn=!1,zn,Xn,On,Zn;for(;++ft<=st;){const We=Se[ft];switch(We[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{We[0]==="enter"?Ot++:Ot--,Zn=void 0;break}case"lineEndingBlank":{We[0]==="enter"&&(zn&&!Zn&&!Ot&&!On&&(On=ft),Zn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Zn=void 0}if(!Ot&&We[0]==="enter"&&We[1].type==="listItemPrefix"||Ot===-1&&We[0]==="exit"&&(We[1].type==="listUnordered"||We[1].type==="listOrdered")){if(zn){let er=ft;for(Xn=void 0;er--;){const Cn=Se[er];if(Cn[1].type==="lineEnding"||Cn[1].type==="lineEndingBlank"){if(Cn[0]==="exit")continue;Xn&&(Se[Xn][1].type="lineEndingBlank",gn=!0),Cn[1].type="lineEnding",Xn=er}else if(!(Cn[1].type==="linePrefix"||Cn[1].type==="blockQuotePrefix"||Cn[1].type==="blockQuotePrefixWhitespace"||Cn[1].type==="blockQuoteMarker"||Cn[1].type==="listItemIndent"))break}On&&(!Xn||On<Xn)&&(zn._spread=!0),zn.end=Object.assign({},Xn?Se[Xn][1].start:We[1].end),Se.splice(Xn||ft,0,["exit",zn,We[2]]),ft++,st++}if(We[1].type==="listItemPrefix"){const er={type:"listItem",_spread:!1,start:Object.assign({},We[1].start),end:void 0};zn=er,Se.splice(ft,0,["enter",er,We[2]]),ft++,st++,On=void 0,Zn=!0}}}return Se[Le][1]._spread=gn,st}function s(Se,Le){return st;function st(ft){a.call(this,Se(ft),ft),Le&&Le.call(this,ft)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(Se,Le,st){this.stack[this.stack.length-1].children.push(Se),this.stack.push(Se),this.tokenStack.push([Le,st||void 0]),Se.position={start:ha(Le.start),end:void 0}}function u(Se){return Le;function Le(st){Se&&Se.call(this,st),c.call(this,st)}}function c(Se,Le){const st=this.stack.pop(),ft=this.tokenStack.pop();if(ft)ft[0].type!==Se.type&&(Le?Le.call(this,Se,ft[0]):(ft[1]||mS).call(this,Se,ft[0]));else throw new Error("Cannot close `"+Se.type+"` ("+qd({start:Se.start,end:Se.end})+"): its not open");st.position.end=ha(Se.end)}function f(){return Qx(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function g(Se){if(this.data.expectingFirstListItemValue){const Le=this.stack[this.stack.length-2];Le.start=Number.parseInt(this.sliceSerialize(Se),10),this.data.expectingFirstListItemValue=void 0}}function y(){const Se=this.resume(),Le=this.stack[this.stack.length-1];Le.lang=Se}function w(){const Se=this.resume(),Le=this.stack[this.stack.length-1];Le.meta=Se}function S(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function C(){const Se=this.resume(),Le=this.stack[this.stack.length-1];Le.value=Se.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function E(){const Se=this.resume(),Le=this.stack[this.stack.length-1];Le.value=Se.replace(/(\r?\n|\r)$/g,"")}function P(Se){const Le=this.resume(),st=this.stack[this.stack.length-1];st.label=Le,st.identifier=_s(this.sliceSerialize(Se)).toLowerCase()}function A(){const Se=this.resume(),Le=this.stack[this.stack.length-1];Le.title=Se}function $(){const Se=this.resume(),Le=this.stack[this.stack.length-1];Le.url=Se}function W(Se){const Le=this.stack[this.stack.length-1];if(!Le.depth){const st=this.sliceSerialize(Se).length;Le.depth=st}}function D(){this.data.setextHeadingSlurpLineEnding=!0}function R(Se){const Le=this.stack[this.stack.length-1];Le.depth=this.sliceSerialize(Se).codePointAt(0)===61?1:2}function z(){this.data.setextHeadingSlurpLineEnding=void 0}function q(Se){const st=this.stack[this.stack.length-1].children;let ft=st[st.length-1];(!ft||ft.type!=="text")&&(ft=Ur(),ft.position={start:ha(Se.start),end:void 0},st.push(ft)),this.stack.push(ft)}function B(Se){const Le=this.stack.pop();Le.value+=this.sliceSerialize(Se),Le.position.end=ha(Se.end)}function ae(Se){const Le=this.stack[this.stack.length-1];if(this.data.atHardBreak){const st=Le.children[Le.children.length-1];st.position.end=ha(Se.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Le.type)&&(q.call(this,Se),B.call(this,Se))}function oe(){this.data.atHardBreak=!0}function xe(){const Se=this.resume(),Le=this.stack[this.stack.length-1];Le.value=Se}function Y(){const Se=this.resume(),Le=this.stack[this.stack.length-1];Le.value=Se}function H(){const Se=this.resume(),Le=this.stack[this.stack.length-1];Le.value=Se}function J(){const Se=this.stack[this.stack.length-1];if(this.data.inReference){const Le=this.data.referenceType||"shortcut";Se.type+="Reference",Se.referenceType=Le,delete Se.url,delete Se.title}else delete Se.identifier,delete Se.label;this.data.referenceType=void 0}function se(){const Se=this.stack[this.stack.length-1];if(this.data.inReference){const Le=this.data.referenceType||"shortcut";Se.type+="Reference",Se.referenceType=Le,delete Se.url,delete Se.title}else delete Se.identifier,delete Se.label;this.data.referenceType=void 0}function X(Se){const Le=this.sliceSerialize(Se),st=this.stack[this.stack.length-2];st.label=eW(Le),st.identifier=_s(Le).toLowerCase()}function pe(){const Se=this.stack[this.stack.length-1],Le=this.resume(),st=this.stack[this.stack.length-1];if(this.data.inReference=!0,st.type==="link"){const ft=Se.children;st.children=ft}else st.alt=Le}function M(){const Se=this.resume(),Le=this.stack[this.stack.length-1];Le.url=Se}function G(){const Se=this.resume(),Le=this.stack[this.stack.length-1];Le.title=Se}function me(){this.data.inReference=void 0}function U(){this.data.referenceType="collapsed"}function Pe(Se){const Le=this.resume(),st=this.stack[this.stack.length-1];st.label=Le,st.identifier=_s(this.sliceSerialize(Se)).toLowerCase(),this.data.referenceType="full"}function ke(Se){this.data.characterReferenceType=Se.type}function Ee(Se){const Le=this.sliceSerialize(Se),st=this.data.characterReferenceType;let ft;st?(ft=Yk(Le,st==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ft=Gx(Le);const Ot=this.stack[this.stack.length-1];Ot.value+=ft}function Qe(Se){const Le=this.stack.pop();Le.position.end=ha(Se.end)}function Ve(Se){B.call(this,Se);const Le=this.stack[this.stack.length-1];Le.url=this.sliceSerialize(Se)}function vt(Se){B.call(this,Se);const Le=this.stack[this.stack.length-1];Le.url="mailto:"+this.sliceSerialize(Se)}function ze(){return{type:"blockquote",children:[]}}function cr(){return{type:"code",lang:null,meta:null,value:""}}function ht(){return{type:"inlineCode",value:""}}function Zt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Wn(){return{type:"emphasis",children:[]}}function Fn(){return{type:"heading",depth:0,children:[]}}function $r(){return{type:"break"}}function js(){return{type:"html",value:""}}function Do(){return{type:"image",title:null,url:"",alt:null}}function Ji(){return{type:"link",title:null,url:"",children:[]}}function Xr(Se){return{type:"list",ordered:Se.type==="listOrdered",start:null,spread:Se._spread,children:[]}}function Bn(Se){return{type:"listItem",spread:Se._spread,checked:null,children:[]}}function Ts(){return{type:"paragraph",children:[]}}function Pi(){return{type:"strong",children:[]}}function Ur(){return{type:"text",value:""}}function Tr(){return{type:"thematicBreak"}}}function ha(e){return{line:e.line,column:e.column,offset:e.offset}}function N7(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?N7(e,r):OK(e,r)}}function OK(e,t){let n;for(n in t)if(T7.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function mS(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+qd({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+qd({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+qd({start:t.start,end:t.end})+") is still open")}function RK(e){const t=this;t.parser=n;function n(r){return NK(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function AK(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function IK(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function LK(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function DK(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function MK(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function FK(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Sc(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,a+=1,e.footnoteCounts.set(r,a);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,u);const c={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,c),e.applyData(t,c)}function BK(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function zK(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function P7(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function $K(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return P7(e,t);const i={src:Sc(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function UK(e,t){const n={src:Sc(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function HK(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function VK(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return P7(e,t);const i={href:Sc(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function WK(e,t){const n={href:Sc(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function qK(e,t,n){const r=e.all(t),i=n?QK(n):O7(t),s={},o=[];if(typeof t.checked=="boolean"){const f=r[0];let p;f&&f.type==="element"&&f.tagName==="p"?p=f:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const f=r[a];(i||a!==0||f.type!=="element"||f.tagName!=="p")&&o.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?o.push(...f.children):o.push(f)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,c),e.applyData(t,c)}function QK(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=O7(n[r])}return t}function O7(e){const t=e.spread;return t??e.children.length>1}function KK(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function GK(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function YK(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function JK(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function XK(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=eb(t.children[1]),u=b7(t.children[t.children.length-1]);a&&u&&(o.position={start:a,end:u}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function ZK(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let u=-1;const c=[];for(;++u<a;){const p=t.children[u],g={},y=o?o[u]:void 0;y&&(g.align=y);let w={type:"element",tagName:s,properties:g,children:[]};p&&(w.children=e.all(p),e.patch(p,w),w=e.applyData(p,w)),c.push(w)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,f),e.applyData(t,f)}function eG(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const gS=9,yS=32;function tG(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(vS(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(vS(t.slice(i),i>0,!1)),s.join("")}function vS(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===gS||s===yS;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===gS||s===yS;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function nG(e,t){const n={type:"text",value:tG(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function rG(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const iG={blockquote:AK,break:IK,code:LK,delete:DK,emphasis:MK,footnoteReference:FK,heading:BK,html:zK,imageReference:$K,image:UK,inlineCode:HK,linkReference:VK,link:WK,listItem:qK,list:KK,paragraph:GK,root:YK,strong:JK,table:XK,tableCell:eG,tableRow:ZK,text:nG,thematicBreak:rG,toml:Tp,yaml:Tp,definition:Tp,footnoteDefinition:Tp};function Tp(){}const R7=-1,Cg=0,Qd=1,Em=2,ib=3,sb=4,ob=5,ab=6,A7=7,I7=8,xS=typeof self=="object"?self:globalThis,sG=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case Cg:case R7:return n(o,i);case Qd:{const a=n([],i);for(const u of o)a.push(r(u));return a}case Em:{const a=n({},i);for(const[u,c]of o)a[r(u)]=r(c);return a}case ib:return n(new Date(o),i);case sb:{const{source:a,flags:u}=o;return n(new RegExp(a,u),i)}case ob:{const a=n(new Map,i);for(const[u,c]of o)a.set(r(u),r(c));return a}case ab:{const a=n(new Set,i);for(const u of o)a.add(r(u));return a}case A7:{const{name:a,message:u}=o;return n(new xS[a](u),i)}case I7:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new xS[s](o),i)};return r},bS=e=>sG(new Map,e)(0),Hu="",{toString:oG}={},{keys:aG}=Object,Cd=e=>{const t=typeof e;if(t!=="object"||!e)return[Cg,t];const n=oG.call(e).slice(8,-1);switch(n){case"Array":return[Qd,Hu];case"Object":return[Em,Hu];case"Date":return[ib,Hu];case"RegExp":return[sb,Hu];case"Map":return[ob,Hu];case"Set":return[ab,Hu];case"DataView":return[Qd,n]}return n.includes("Array")?[Qd,n]:n.includes("Error")?[A7,n]:[Em,n]},Np=([e,t])=>e===Cg&&(t==="function"||t==="symbol"),lG=(e,t,n,r)=>{const i=(o,a)=>{const u=r.push(o)-1;return n.set(a,u),u},s=o=>{if(n.has(o))return n.get(o);let[a,u]=Cd(o);switch(a){case Cg:{let f=o;switch(u){case"bigint":a=I7,f=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);f=null;break;case"undefined":return i([R7],o)}return i([a,f],o)}case Qd:{if(u){let g=o;return u==="DataView"?g=new Uint8Array(o.buffer):u==="ArrayBuffer"&&(g=new Uint8Array(o)),i([u,[...g]],o)}const f=[],p=i([a,f],o);for(const g of o)f.push(s(g));return p}case Em:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const f=[],p=i([a,f],o);for(const g of aG(o))(e||!Np(Cd(o[g])))&&f.push([s(g),s(o[g])]);return p}case ib:return i([a,o.toISOString()],o);case sb:{const{source:f,flags:p}=o;return i([a,{source:f,flags:p}],o)}case ob:{const f=[],p=i([a,f],o);for(const[g,y]of o)(e||!(Np(Cd(g))||Np(Cd(y))))&&f.push([s(g),s(y)]);return p}case ab:{const f=[],p=i([a,f],o);for(const g of o)(e||!Np(Cd(g)))&&f.push(s(g));return p}}const{message:c}=o;return i([a,{name:u,message:c}],o)};return s},wS=(e,{json:t,lossy:n}={})=>{const r=[];return lG(!(t||n),!!t,new Map,r)(e),r},jm=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?bS(wS(e,t)):structuredClone(e):(e,t)=>bS(wS(e,t));function uG(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function cG(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function dG(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||uG,r=e.options.footnoteBackLabel||cG,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let u=-1;for(;++u<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[u]);if(!c)continue;const f=e.all(c),p=String(c.identifier).toUpperCase(),g=Sc(p.toLowerCase());let y=0;const w=[],S=e.footnoteCounts.get(p);for(;S!==void 0&&++y<=S;){w.length>0&&w.push({type:"text",value:" "});let P=typeof n=="string"?n:n(u,y);typeof P=="string"&&(P={type:"text",value:P}),w.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,y),className:["data-footnote-backref"]},children:Array.isArray(P)?P:[P]})}const C=f[f.length-1];if(C&&C.type==="element"&&C.tagName==="p"){const P=C.children[C.children.length-1];P&&P.type==="text"?P.value+=" ":C.children.push({type:"text",value:" "}),C.children.push(...w)}else f.push(...w);const E={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(f,!0)};e.patch(c,E),a.push(E)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...jm(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const yv={}.hasOwnProperty,hG={};function fG(e,t){const n=t||hG,r=new Map,i=new Map,s=new Map,o={...iG,...n.handlers},a={all:c,applyData:mG,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:u,options:n,patch:pG,wrap:yG};return qx(e,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const p=f.type==="definition"?r:i,g=String(f.identifier).toUpperCase();p.has(g)||p.set(g,f)}}),a;function u(f,p){const g=f.type,y=a.handlers[g];if(yv.call(a.handlers,g)&&y)return y(a,f,p);if(a.options.passThrough&&a.options.passThrough.includes(g)){if("children"in f){const{children:S,...C}=f,E=jm(C);return E.children=a.all(f),E}return jm(f)}return(a.options.unknownHandler||gG)(a,f,p)}function c(f){const p=[];if("children"in f){const g=f.children;let y=-1;for(;++y<g.length;){const w=a.one(g[y],f);if(w){if(y&&g[y-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=_S(w.value)),!Array.isArray(w)&&w.type==="element")){const S=w.children[0];S&&S.type==="text"&&(S.value=_S(S.value))}Array.isArray(w)?p.push(...w):p.push(w)}}}return p}}function pG(e,t){e.position&&(t.position=LQ(e))}function mG(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,jm(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function gG(e,t){const n=t.data||{},r="value"in t&&!(yv.call(n,"hProperties")||yv.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function yG(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function _S(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function SS(e,t){const n=fG(e,t),r=n.one(e,void 0),i=dG(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function vG(e,t){return e&&"run"in e?async function(n,r){const i=SS(n,{file:r,...t});await e.run(i,r)}:function(n,r){return SS(n,{file:r,...e||t})}}function CS(e){if(e)throw e}var J1,kS;function xG(){if(kS)return J1;kS=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):t.call(c)==="[object Array]"},s=function(c){if(!c||t.call(c)!=="[object Object]")return!1;var f=e.call(c,"constructor"),p=c.constructor&&c.constructor.prototype&&e.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!f&&!p)return!1;var g;for(g in c);return typeof g>"u"||e.call(c,g)},o=function(c,f){n&&f.name==="__proto__"?n(c,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):c[f.name]=f.newValue},a=function(c,f){if(f==="__proto__")if(e.call(c,f)){if(r)return r(c,f).value}else return;return c[f]};return J1=function u(){var c,f,p,g,y,w,S=arguments[0],C=1,E=arguments.length,P=!1;for(typeof S=="boolean"&&(P=S,S=arguments[1]||{},C=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});C<E;++C)if(c=arguments[C],c!=null)for(f in c)p=a(S,f),g=a(c,f),S!==g&&(P&&g&&(s(g)||(y=i(g)))?(y?(y=!1,w=p&&i(p)?p:[]):w=p&&s(p)?p:{},o(S,{name:f,newValue:u(P,w,g)})):typeof g<"u"&&o(S,{name:f,newValue:g}));return S},J1}var bG=xG();const X1=Gi(bG);function vv(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function wG(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(u,...c){const f=e[++s];let p=-1;if(u){o(u);return}for(;++p<i.length;)(c[p]===null||c[p]===void 0)&&(c[p]=i[p]);i=c,f?_G(f,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function _G(e,t){let n;return r;function r(...o){const a=e.length>o.length;let u;a&&o.push(i);try{u=e.apply(this,o)}catch(c){const f=c;if(a&&n)throw f;return i(f)}a||(u&&u.then&&typeof u.then=="function"?u.then(s,i):u instanceof Error?i(u):s(u))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}const Hs={basename:SG,dirname:CG,extname:kG,join:EG,sep:"/"};function SG(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');zh(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function CG(e){if(zh(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function kG(e){zh(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.codePointAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function EG(...e){let t=-1,n;for(;++t<e.length;)zh(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":jG(n)}function jG(e){zh(e);const t=e.codePointAt(0)===47;let n=TG(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function TG(e,t){let n="",r=0,i=-1,s=0,o=-1,a,u;for(;++o<=e.length;){if(o<e.length)a=e.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function zh(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const NG={cwd:PG};function PG(){return"/"}function xv(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function OG(e){if(typeof e=="string")e=new URL(e);else if(!xv(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return RG(e)}function RG(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Z1=["history","path","basename","stem","extname","dirname"];class L7{constructor(t){let n;t?xv(t)?n={path:t}:typeof t=="string"||AG(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":NG.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Z1.length;){const s=Z1[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Z1.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Hs.basename(this.path):void 0}set basename(t){ty(t,"basename"),ey(t,"basename"),this.path=Hs.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Hs.dirname(this.path):void 0}set dirname(t){ES(this.basename,"dirname"),this.path=Hs.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Hs.extname(this.path):void 0}set extname(t){if(ey(t,"extname"),ES(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Hs.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){xv(t)&&(t=OG(t)),ty(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Hs.basename(this.path,this.extname):void 0}set stem(t){ty(t,"stem"),ey(t,"stem"),this.path=Hs.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new zr(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function ey(e,t){if(e&&e.includes(Hs.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Hs.sep+"`")}function ty(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function ES(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function AG(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const IG=(function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s}),LG={}.hasOwnProperty;class lb extends IG{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=wG()}copy(){const t=new lb;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(X1(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(iy("data",this.frozen),this.namespace[t]=n,this):LG.call(this.namespace,t)&&this.namespace[t]||void 0:t?(iy("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Pp(t),r=this.parser||this.Parser;return ny("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),ny("process",this.parser||this.Parser),ry("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=Pp(t),u=r.parse(a);r.run(u,a,function(f,p,g){if(f||!p||!g)return c(f);const y=p,w=r.stringify(y,g);FG(w)?g.value=w:g.result=w,c(f,g)});function c(f,p){f||!p?o(f):s?s(p):n(void 0,p)}}}processSync(t){let n=!1,r;return this.freeze(),ny("processSync",this.parser||this.Parser),ry("processSync",this.compiler||this.Compiler),this.process(t,i),TS("processSync","process",n),r;function i(s,o){n=!0,CS(s),r=o}}run(t,n,r){jS(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const u=Pp(n);i.run(t,u,c);function c(f,p,g){const y=p||t;f?a(f):o?o(y):r(void 0,y,g)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),TS("runSync","run",r),i;function s(o,a){CS(o),i=a,r=!0}}stringify(t,n){this.freeze();const r=Pp(n),i=this.compiler||this.Compiler;return ry("stringify",i),jS(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(iy("use",this.frozen),t!=null)if(typeof t=="function")u(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(c){if(typeof c=="function")u(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[f,...p]=c;u(f,p)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=X1(!0,i.settings,c.settings))}function a(c){let f=-1;if(c!=null)if(Array.isArray(c))for(;++f<c.length;){const p=c[f];s(p)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function u(c,f){let p=-1,g=-1;for(;++p<r.length;)if(r[p][0]===c){g=p;break}if(g===-1)r.push([c,...f]);else if(f.length>0){let[y,...w]=f;const S=r[g][1];vv(S)&&vv(y)&&(y=X1(!0,S,y)),r[g]=[c,y,...w]}}}}const DG=new lb().freeze();function ny(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function ry(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function iy(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function jS(e){if(!vv(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function TS(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Pp(e){return MG(e)?e:new L7(e)}function MG(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function FG(e){return typeof e=="string"||BG(e)}function BG(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const zG="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",NS=[],PS={allowDangerousHtml:!0},$G=/^(https?|ircs?|mailto|xmpp)$/i,UG=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function HG(e){const t=VG(e),n=WG(e);return qG(t.runSync(t.parse(n),n),e)}function VG(e){const t=e.rehypePlugins||NS,n=e.remarkPlugins||NS,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...PS}:PS;return DG().use(RK).use(n).use(vG,r).use(t)}function WG(e){const t=e.children||"",n=new L7;return typeof t=="string"&&(n.value=t),n}function qG(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,o=t.skipHtml,a=t.unwrapDisallowed,u=t.urlTransform||QG;for(const f of UG)Object.hasOwn(t,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+zG+f.id,void 0);return qx(e,c),zQ(e,{Fragment:h.Fragment,components:i,ignoreInvalidStyle:!0,jsx:h.jsx,jsxs:h.jsxs,passKeys:!0,passNode:!0});function c(f,p,g){if(f.type==="raw"&&g&&typeof p=="number")return o?g.children.splice(p,1):g.children[p]={type:"text",value:f.value},p;if(f.type==="element"){let y;for(y in Y1)if(Object.hasOwn(Y1,y)&&Object.hasOwn(f.properties,y)){const w=f.properties[y],S=Y1[y];(S===null||S.includes(f.tagName))&&(f.properties[y]=u(String(w||""),y,f))}}if(f.type==="element"){let y=n?!n.includes(f.tagName):s?s.includes(f.tagName):!1;if(!y&&r&&typeof p=="number"&&(y=!r(f,p,g)),y&&g&&typeof p=="number")return a&&f.children?g.children.splice(p,1,...f.children):g.children.splice(p,1),p}}}function QG(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||$G.test(e.slice(0,t))?e:""}const KG=async()=>await Bm("/faq.json");function GG(){return ks({queryKey:["faq"],queryFn:KG,staleTime:1/0,select:e=>e.faq.map((t,n)=>({...t,id:n}))})}const YG=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:14,height:16,viewBox:"0 0 14 16",...e},N.createElement("defs",null,N.createElement("clipPath",{id:"master_svg0_137_3346"},N.createElement("rect",{x:0,y:0,width:14,height:16,rx:0}))),N.createElement("g",{clipPath:"url(#master_svg0_137_3346)"},N.createElement("g",{transform:"matrix(1,0,0,-1,0,26.6875)"},N.createElement("g",null,N.createElement("path",{d:"M6.28125,13.625Q6.59375,13.34375,7,13.34375Q7.40625,13.34375,7.71875,13.625L13.7188,19.625Q14,19.9375,14,20.34375Q14,20.75,13.7188,21.0625Q13.4062,21.34375,13,21.34375Q12.5938,21.34375,12.2812,21.0625L7,15.75L1.71875,21.0625Q1.40625,21.34375,1,21.34375Q0.59375,21.34375,0.28125,21.0625Q0,20.75,0,20.34375Q0,19.9375,0.28125,19.625L6.28125,13.625Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))))),JG={h2:e=>h.jsx("h2",{...e,className:"text-lg font-bold my-4"}),h3:e=>h.jsx("h3",{...e,className:"text-base font-bold my-4"}),a:e=>h.jsx("a",{...e,className:"text-blue-500 underline"})},XG={all:"",timetable:"",wishes:"",simulation:"",live:""};function ZG(e){return Array.from(new Set(e))}function eY(){const e=Cs(),t=e.hash,n=t?Number.parseInt(t.replace("#","")):null,[r,i]=N.useState(n),{data:s}=GG(),[o,a]=N.useState(null),u=ZG(s?.map(g=>g.tag)??[]),c=o?s?.filter(g=>g.tag===o):s,f=g=>{i(r===g?null:g)};N.useEffect(()=>{if(e.hash){const g=Number.parseInt(e.hash.replace("#",""));setTimeout(()=>{const y=document.getElementById("faq-container-"+g);y&&(y.scrollIntoView({behavior:"smooth"}),i(g))},300)}},[e.hash]);const p=g=>{a(y=>y===g?null:g)};return h.jsxs(h.Fragment,{children:[h.jsxs(Er,{children:[h.jsx("title",{children:"ALLCLL |   "}),h.jsx("meta",{name:"description",content:"    ."})]}),h.jsx("div",{className:"mx-auto max-w-7xl px-4 md:px-16 py-24",children:h.jsxs(je,{direction:"flex-col",gap:"gap-4",children:[h.jsx(It,{level:1,children:"  "}),h.jsx(je,{direction:"flex-wrap",gap:"gap-2",className:"mb-6",children:u.length>0&&u.map((g,y)=>h.jsx(Nn,{label:XG[g]||g,onClick:()=>p(g),selected:o===g},"faq-chip-"+y))}),c&&c.map(g=>h.jsx(tY,{item:g,index:g.id,isOpen:r===g.id,toggleAnswer:f},g.id))]})})]})}function tY({item:e,index:t,isOpen:n,toggleAnswer:r}){return h.jsxs("div",{id:"faq-container-"+t,className:"mb-4 rounded-md bg-white shadow-sm",children:[h.jsxs("button",{onClick:()=>r(t),className:"flex items-center justify-between rounded-md w-full text-left font-semibold text-md p-4 hover:bg-blue-50 focus:outline-none cursor-pointer "+(n?"text-blue-600 font-bold":""),children:[e.question,h.jsx(YG,{className:"w-4 h-4 transform transition-transform duration-150 "+(n?"rotate-180":"")})]}),n&&h.jsx("div",{className:"p-4 border-t border-gray-200 text-sm",children:h.jsx(HG,{remarkPlugins:[dQ],components:JG,children:e.answer})})]},t)}const nY=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16.508930206298828,height:16.008333206176758,viewBox:"0 0 16.508930206298828 16.008333206176758",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,32.016666412353516)"},N.createElement("path",{d:"M8.25446,32.016633206176756Q8.72321,31.985433206176758,8.94196,31.579133206176756L11.067,27.172933206176758L15.8482,26.485433206176758Q16.317,26.391633206176756,16.4732,25.95416320617676Q16.5982,25.51666320617676,16.2857,25.20416320617676L12.817,21.76666320617676L13.6295,16.891666206176758Q13.692,16.454166206176758,13.317,16.141666206176758Q12.942,15.891666206176758,12.5357,16.110416206176758L8.25446,18.39166320617676L3.97321,16.110416206176758Q3.56696,15.891666206176758,3.19196,16.172916206176758Q2.81696,16.454166206176758,2.87946,16.891666206176758L3.69196,21.76666320617676L0.223214,25.20416320617676Q-0.0892857,25.51666320617676,0.0357143,25.95416320617676Q0.191964,26.391633206176756,0.660714,26.485433206176758L5.44196,27.172933206176758L7.56696,31.579133206176756Q7.78571,31.985433206176758,8.25446,32.016633206176756ZM8.25446,29.547933206176758L6.59821,26.172933206176758L8.25446,29.547933206176758L6.59821,26.172933206176758Q6.44196,25.82916320617676,6.03571,25.73541320617676L2.34821,25.20416320617676L5.03571,22.54791320617676Q5.28571,22.26666320617676,5.25446,21.89166320617676L4.59821,18.14166320617676L7.91071,19.89166320617676Q8.25446,20.07916320617676,8.59821,19.89166320617676L11.8795,18.14166320617676L11.2545,21.89166320617676Q11.192,22.26666320617676,11.4732,22.54791320617676L14.1607,25.20416320617676L10.4732,25.73541320617676Q10.067,25.82916320617676,9.91071,26.172933206176758L8.25446,29.547933206176758Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),rY=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16.505903244018555,height:16.001562118530273,viewBox:"0 0 16.505903244018555 16.001562118530273",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,32.00312423706055)"},N.createElement("path",{d:"M9.15,31.440662118530273Q8.86875,31.971862118530275,8.24375,32.00316211853027Q7.65,31.971862118530275,7.3375,31.440662118530273L5.3375,27.315662118530273L0.8375,26.628162118530273Q0.24375,26.534362118530275,0.05625,25.97187211853027Q-0.13125,25.37812211853027,0.30625,24.94062211853027L3.55625,21.72187211853027L2.775,17.159372118530275Q2.7125,16.565625118530274,3.18125,16.190625118530274Q3.68125,15.846875118530274,4.24375,16.128125118530274L8.24375,18.253122118530275L12.275,16.128125118530274Q12.8062,15.846875118530274,13.3062,16.190625118530274Q13.8062,16.565625118530274,13.7125,17.159372118530275L12.9625,21.72187211853027L16.2125,24.94062211853027Q16.6187,25.37812211853027,16.4625,25.97187211853027Q16.2437,26.534362118530275,15.65,26.628162118530273L11.15,27.315662118530273L9.15,31.440662118530273Z",fill:"#FACC15",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function D7({disabled:e}){return e?h.jsx(nY,{className:"w-4 h-4"}):h.jsx(rY,{className:"w-4 h-4"})}function M7({subject:e,variant:t="contain",className:n,onClick:r,...i}){const s=av(c=>c.isFavorite(e.subjectId)),o=av(c=>c.toggleFavorite),a=s?" ":" ",u=c=>{o(e.subjectId),r&&r(c)};return h.jsx(lr,{variant:t,onClick:u,label:a,icon:h.jsx(D7,{disabled:!s}),"aria-label":a,className:n,...i})}const iY=[{title:"",visible:!0,key:"subjectCode"},{title:"",visible:!0,key:"classCode"},{title:" ",visible:!0,key:"departmentName"},{title:"",visible:!0,key:"subjectName"},{title:"",visible:!0,key:"professorName"},{title:"",visible:!0,key:"totalCount"},{title:"",visible:!0,key:"seat"},{title:"",visible:!1,key:"studentYear"},{title:"",visible:!1,key:"lesnTime"},{title:"",visible:!1,key:"lesnRoom"},{title:"",visible:!1,key:"tmNum"},{title:"",visible:!1,key:"remark"},{title:"",visible:!1,key:"curiTypeCdNm"},{title:"",visible:!1,key:"curiLangNm"}],bv=Ok("wishes",iY);function sY(e){const t=bv(o=>o.tableTitles),n=!!(e&&e[0]&&"seat"in e[0]),r=e&&e[0]&&"totalCount"in e[0],{isPreSeatAvailable:i}=pg({hasSeats:n});let s=[{title:"",visible:!0,key:""},...t.filter(o=>o.visible)];return r||(s=s.filter(o=>o.key!=="totalCount")),i||(s=s.filter(o=>o.key!=="seat")),s}function oY(e,t=!0){const n=e.curiLangNm==="";return e.isDeleted?t?"bg-gray-100 hover:bg-gray-200":"bg-gray-100":n?t?"bg-green-50 hover:bg-green-100":"bg-green-50":t?"bg-white hover:bg-gray-100":"bg-white"}function F7({data:e,isPending:t=!1,placeholder:n}){const r=sY(e);return h.jsxs("table",{className:"w-full bg-white rounded-lg relative text-sm",children:[h.jsx("thead",{children:h.jsx("tr",{className:"bg-gray-50 sticky top-0 z-10 text-nowrap",children:r.map(({title:i})=>h.jsx("th",{className:"px-4 py-2",children:i},"table-header-name-"+i))})}),h.jsx("tbody",{children:h.jsx(aY,{headers:r,data:e,isPending:t,placeholder:n})})]})}function aY({headers:e,data:t,isPending:n=!1,placeholder:r}){const{visibleRows:i}=gg(t??[],"selector"),s=t?t.slice(0,i):[];return n||!t?h.jsx(mg,{row:5,col:e.length}):t.length?h.jsxs(h.Fragment,{children:[s.map(o=>h.jsx(lY,{data:o,tableHeaders:e},`${o.subjectCode} ${o.subjectId} ${o.professorName}`)),h.jsx("tr",{className:"load-more-trigger"})]}):h.jsx(Mx,{col:e.length,...r})}const lY=({data:e,tableHeaders:t})=>{const n=oY(e,!0);return h.jsxs("tr",{className:`border-t border-gray-200 text-black ${n}`,children:[h.jsx("td",{className:"px-4 py-2",children:h.jsx(je,{align:"items-center",gap:"gap-2",children:h.jsx(M7,{subject:e,variant:"plain"})})}),h.jsx(cY,{data:e,tableHeaders:t})]})},uY=(e,t)=>e.data.subjectId===t.data.subjectId&&"seat"in e=="seat"in t&&e.tableHeaders===t.tableHeaders,cY=N.memo(({data:e,tableHeaders:t})=>{const{selectTargetOnly:n}=Ih();function r(){n(e.subjectId),ug(e.departmentCode??e.deptCd)}return t.slice(1,20).map(({key:i})=>h.jsx("td",{className:"px-4 py-2 text-center",children:h.jsx(kr,{to:`/wishes/${e.subjectId}`,onClick:r,children:h.jsx(dY,{data:e,headerType:i})})},i))},uY);function dY({data:e,headerType:t}){switch(t){case"":return h.jsx(h.Fragment,{children:""});case"totalCount":return h.jsx(jx,{wishCount:e.totalCount??-1});case"seat":return h.jsx(Qy,{seat:e.seat});default:return e[t]?.toString()}}function hY(){const[e,t]=N.useState(!1),[n,r]=N.useState(!1),i=Id(R=>R.filters),s=Id(R=>R.setFilter),o=Id(R=>R.resetFilters),{keywords:a,favoriteOnly:u}=i,c=bv(R=>R.tableTitles),f=bv(R=>R.setTableTitles),p=Ni(),[g,y]=N.useState(!1),{data:w}=ek([]),S=Lh(w??[]).sort((R,z)=>R.localeCompare(z)).map(R=>R),C=Lx(i),E=w&&"seat"in w,{isPreSeatAvailable:P}=pg({hasSeats:E}),A=w&&"totalCount"in w,$=()=>s("favoriteOnly",!u),W=()=>{p?y(!0):r(!0)},D=(R,z)=>{const q=i[R];Array.isArray(q)?s(R,q.filter(B=>B!==z)):s(R,Oa[R])};return h.jsxs("div",{className:"flex flex-wrap gap-2 mt-4 lg:flex-wrap lg:flex-row lg:items-center lg:gap-y-0 lg:gap-x-2",children:[e&&h.jsx(Pk,{initialItems:c,onChange:f,onClose:()=>t(!1)}),n&&h.jsx(Ux,{filterStore:Id,onClose:()=>r(!1)}),g&&h.jsx(Hx,{onCloseFiltering:()=>y(!1),filters:i,setFilter:s,resetFilter:o}),h.jsx(Kl,{type:"text",placeholder:",      ",value:a,onDelete:()=>s("keywords",""),onChange:R=>s("keywords",R.target.value),className:"w-full"}),h.jsxs("div",{className:"flex items-center flex-wrap mt-2 gap-2",children:[h.jsxs("div",{className:"hidden md:flex flex-wrap gap-2",children:[h.jsx(zx,{setFilter:s,selectedValue:i.department??""}),A&&h.jsx(mc,{filterKey:"wishRange",options:hn.wishRange,selectedValue:i.wishRange??null,setFilter:s,ItemComponent:Nn,isMinMax:!0}),P&&h.jsx(mc,{filterKey:"seatRange",options:hn.seatRange,selectedValue:i.seatRange??null,setFilter:s,ItemComponent:Nn,isMinMax:!0}),h.jsx(Dn,{filterKey:"days",options:hn.days,selectedValues:i.days??[],setFilter:s}),h.jsx(Dn,{filterKey:"credits",options:hn.credits,selectedValues:i.credits??[],setFilter:s}),h.jsx(Dn,{filterKey:"grades",options:hn.grades,selectedValues:i.grades??[],setFilter:s}),i.classroom.length>0&&h.jsx(Dn,{filterKey:"classroom",options:hn.classRoom,selectedValues:i.classroom??[],setFilter:s,className:"min-w-max"}),i.note.length>0&&h.jsx(Dn,{filterKey:"note",options:hn.remark,selectedValues:i.note??[],setFilter:s}),i.categories.length>0&&h.jsx(Dn,{filterKey:"categories",options:S,selectedValues:i.categories??[],setFilter:s,className:"min-w-max"})]}),h.jsx($x,{filters:i,resetFilter:o}),h.jsx(Bx,{handleOpenFilter:W}),h.jsx(lr,{variant:"contain",icon:h.jsx(D7,{disabled:!u}),"aria-label":u?"  ":"  ",label:u?"  ":"  ",onClick:$}),h.jsx(lr,{variant:"contain",label:" ",icon:h.jsx(Vx,{className:"w-5 h-5"}),onClick:()=>t(!0)}),h.jsx(je,{direction:"flex-wrap",gap:"gap-2",className:"w-fit md:hidden",children:C.map(R=>h.jsx(Nn,{variant:"cancel",label:R.label,selected:!0,onClick:()=>D(R.filterKey,R.values)},`${R.filterKey}-${R.values}`))})]})]})}function fY(){return h.jsxs($l,{to:"/live",state:{openSearch:!0},className:"inline-flex items-center gap-2 rounded-md border border-blue-500 px-3 py-2 text-sm text-blue-500 hover:bg-blue-50",children:[h.jsx(Pa,{}),""]})}function pY(){return h.jsxs(h.Fragment,{children:[h.jsxs(Er,{children:[h.jsx("title",{children:"ALLCLL |  "}),h.jsx("meta",{name:"description",content:"    ."})]}),h.jsxs("div",{className:"mx-auto max-w-7xl px-4 md:px-16 mb-8 min-h-screen",children:[h.jsx(It,{level:1,className:"mt-2",children:" "}),h.jsxs(Tn,{children:["  ",h.jsx("span",{className:"text-blue-500 font-bold",children:" "})," .   ."]}),h.jsxs(je,{gap:"gap-4",direction:"flex-col",className:"mt-6",children:[h.jsxs(wn,{children:[h.jsx(fY,{}),h.jsx(hY,{}),h.jsx(Rx,{})]}),h.jsx(wn,{variant:"elevated",className:"mt-6 overflow-x-auto",children:h.jsx(mY,{})}),h.jsx(ZC,{right:"right-2 sm:right-20"})]})]})]})}function mY(){const{data:e,isPending:t}=Gs(),n=bc(og(e,Ql)),r=Id(o=>o.filters),i=N.useDeferredValue(_c(n??[],r)),s={title:"  .",description:"   ."};return h.jsx(F7,{data:i,isPending:t,placeholder:s})}function gY({children:e}){return h.jsxs("div",{className:"relative max-h-screen overflow-hidden",children:[h.jsx("div",{style:{filter:"blur(4px"},children:e}),h.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex justify-center items-center",children:h.jsx("p",{className:"text-xl font-bold text-gray-700",children:"  "})})]})}Ks.register(Ym,Wl,Vl,Nh,Ph,Oh);const yY={labels:["4","3","2","1"],datasets:[{data:[50,40,25,20],backgroundColor:"#60a5fa"}]};function vY(){return h.jsxs(gY,{children:[h.jsx("p",{className:"text-sm text-gray-500",children:"   20%      "}),h.jsx("div",{className:"mt-4",children:h.jsx(OM,{data:yY})})]})}Ks.register(Ym,Wl,Vl,Nh,Ph,Oh);var B7=(e=>(e.MAJOR="/",e.UNIVERSITY="",e.DEPARTMENT="",e.COLLEGE="",e))(B7||{});function xY({data:e,majorName:t}){const[n,r]=N.useState("/"),{data:i}=ql(),s=GM(i),{doughnutData:o,totalCount:a}=bY(e,s,t,n);return h.jsxs(h.Fragment,{children:[h.jsxs(je,{justify:"justify-between",align:"items-center",children:[h.jsx(It,{level:2,children:" "}),h.jsx(ur,{className:"hidden",htmlFor:"doughnut-select",children:""}),h.jsx("select",{className:"border px-3 py-1 rounded-md",id:"doughnut-select",value:n,onChange:u=>r(u.target.value),children:Object.values(B7).map(u=>h.jsx("option",{value:u,children:u},u))})]}),a?h.jsx(Cx,{data:o}):h.jsx(je,{justify:"justify-center",align:"items-center",className:"h-48",children:h.jsx("p",{className:"text-center text-gray-500 font-semibold",children:"   ."})})]})}function bY(e,t,n,r){let i;const{universityDict:s,collegeDict:o}=t;switch(r){case"/":i=XM(n,e);break;case"":i=ZM(e,s);break;case"":i=eF(e,o);break;case"":i=t5(e);break;default:i=t5(e);break}const a=tF(e);return{doughnutData:i,totalCount:a}}function wY({wishes:e}){const t=e??Ql,n=e&&"seat"in e,{isPreSeatAvailable:r}=pg({hasSeats:n}),i=n?e.seat:-1,s=e?.curiLangNm==="",o=e?.isDeleted??!1;return h.jsxs(h.Fragment,{children:[h.jsxs("p",{className:"text-gray-600",children:[t.subjectCode,"-",t.classCode," | ",t.departmentName," | ",t.professorName]}),h.jsxs(je,{gap:"gap-2",align:"items-center",direction:"flex-wrap",className:"text-gray-600 text-sm",children:[h.jsxs("span",{children:[t.studentYear,""]}),h.jsx("span",{children:t.curiTypeCdNm}),h.jsxs("span",{children:[Number(t.tmNum.split("/")[0].trim()),""]}),h.jsxs("span",{children:[" ","| ",t.lesnRoom," | ",t.lesnTime]}),r&&h.jsxs("p",{className:`text-sm px-2 py-1 rounded-full font-bold ${ig(i??-1)}`,children:[": ",(i??-1)<0?"???":i]}),s&&h.jsx(OS,{variant:"success",children:""}),o&&h.jsx(OS,{variant:"danger",children:""})]}),h.jsx("p",{className:"text-sm text-gray-500",children:t.remark})]})}function OS({variant:e,children:t}){const n=_Y(e);return h.jsx("div",{className:`${n} rounded px-2 py-1 text-xs font-semibold`,children:t})}function _Y(e){switch(e){case"success":return"bg-green-100 text-green-500 ";case"warning":return"bg-yellow-100 text-yellow-500 ";case"danger":return"bg-red-100 text-red-500 ";case"default":return"bg-gray-100 text-gray-500 ";default:return""}}function z7(e){const{data:t}=Gs(),n=og(t,Ql);if(!n)return{isPending:!0};const r=n?.find(i=>i.subjectId===e);return{isPending:!1,data:r,isLastSemesterWish:!r}}function SY(e){const{data:t}=Gs(),{data:n}=z7(e),r=og(t,Ql),i=n?.subjectCode??"";return r?{isPending:!1,data:r.filter(o=>o.subjectCode===i&&o.subjectId!==e)}:{isPending:!0}}function CY(e){return ks({queryKey:["detail-registers",e],queryFn:()=>uB(e),staleTime:1/0,retry:kY})}const kY=(e,t)=>e>=3?!1:!(t instanceof Nx);function EY(){const e=T4(),t=Number(e.id??"-1"),{data:n,isPending:r,isLastSemesterWish:i}=z7(t),{data:s,error:o}=CY(t),a=n??Ql,u=n&&"totalCount"in n;if(r||!a)return h.jsxs(h.Fragment,{children:[h.jsxs(Er,{children:[h.jsx("title",{children:"ALLCLL |   "}),h.jsx("meta",{name:"description",content:"    ."})]}),h.jsx("div",{className:"min-h-screen bg-gray-50 flex justify-center items-center",children:h.jsx("h1",{className:"text-2xl font-bold",children:"Loading..."})})]});if(o)throw o;return h.jsxs(h.Fragment,{children:[h.jsx(Er,{children:h.jsx("title",{children:"ALLCLL |   "})}),i&&h.jsx("p",{className:"bg-red-100 text-red-500 py-2 px-4 font-bold",children:"   .   ."}),h.jsx("div",{className:"min-h-screen bg-gray-50",children:h.jsx("div",{className:"p-6 max-w-5xl mx-auto",children:h.jsxs(wn,{children:[h.jsxs(je,{justify:"justify-between",align:"items-center",children:[h.jsx(It,{level:1,children:a.subjectName}),h.jsxs(je,{gap:"gap-2",children:[h.jsx(M7,{subject:a}),h.jsx(Sk,{subject:a})]})]}),h.jsx(wY,{wishes:n}),h.jsxs(Ia,{columns:{md:2,base:1},gap:"gap-6",className:" mt-6",children:[h.jsx(wn,{className:"p-6",children:h.jsx(xY,{data:s?.eachDepartmentRegisters??[],majorName:a.departmentName??a.manageDeptNm})}),h.jsxs(wn,{children:[h.jsxs(je,{gap:"gap-2",align:"items-center",className:"mb-4",children:[h.jsx(It,{level:2,children:"  "}),u&&h.jsxs("p",{className:`${vF(a.totalCount??-1)} font-bold text-xl`,children:[" ",a.totalCount,""]})]}),h.jsx(vY,{})]})]}),h.jsxs(wn,{children:[h.jsx(It,{level:2,className:"mt-2",children:" "}),h.jsx(Tn,{children:"   "}),h.jsx("div",{className:"overflow-x-auto",children:h.jsx(jY,{subjectId:t})})]})]})})})]})}function jY({subjectId:e}){const{data:t}=SY(e),n={title:"   ."};return h.jsx(F7,{data:t??[],placeholder:n})}const Dd=()=>{const e=Lv();return N.useEffect(()=>{OT(e,{extra:{url:window.location.href,userAgent:navigator.userAgent}})},[e]),h.jsxs(h.Fragment,{children:[h.jsx(Er,{children:h.jsx("title",{children:"ALLCLL |  "})}),h.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[h.jsx("h1",{className:"text-4xl font-bold mb-4",children:" "}),h.jsx("p",{className:"text-lg mb-4",children:" .    "}),h.jsx(kr,{to:"/",className:"text-blue-500",children:" "}),h.jsx("a",{href:"https://forms.gle/bCDTVujEHunnvHe88",target:"_blank",className:"text-blue-500",children:""})]})]})},$7=()=>h.jsxs(h.Fragment,{children:[h.jsx(Er,{children:h.jsx("title",{children:"ALLCLL |    "})}),h.jsxs(je,{direction:"flex-col",align:"items-center",justify:"justify-center",gap:"gap-2",className:"h-screen",children:[h.jsx(It,{level:1,children:"404 -    "}),h.jsx("p",{className:"text-lg mb-4",children:"   "}),h.jsx(kr,{to:"/",className:"text-blue-500",children:" "})]})]}),TY=()=>{const e=Lv();return e instanceof Nx||e instanceof oB?h.jsx($7,{}):h.jsx(Dd,{})},Jn=jr((e,t)=>({type:null,props:void 0,openModal:(n,r)=>{e({type:n,props:r})},closeModal:n=>{const r=t().type;(!n||r===n)&&e({type:null,props:void 0})}}));function Yl(){const{data:e,isLoading:t}=Es(),{data:n,isLoading:r}=ql(),i=t||r;return i||!e||!n?{data:[],isLoading:i}:{data:NY(e,n),isLoading:!1}}function NY(e,t){return e.map(n=>{const r=t.find(s=>s.departmentCode===n.deptCd)?.departmentName||"",i=r?r.split(" ").reverse()[0]:"";return{subjectId:n.subjectId??-1,subjectCode:n.subjectCode??"",classCode:n.classCode??"",departmentName:i,subjectName:n.subjectName??"",language:n.curiLangNm??"",subjectType:n.curiTypeCdNm??"",semester_at:n.studentYear?Number(n.studentYear):-1,lesn_time:n.lesnTime??"",professorName:n.professorName??"",lesn_room:n.lesnRoom??"",tm_num:n.tmNum??""}})}function PY(){return Math.floor(1e3+Math.random()*9e3).toString()}const OY=4;function RY(){const e=N.useRef(null),[t,n]=N.useState(),[r,i]=N.useState(""),s=N.useRef(""),{data:o}=Yl(),a=Jn(C=>C.openModal),u=Jn(C=>C.closeModal),{currentSubjectId:c,setSubjectStatus:f,setCaptchaFailed:p}=tg();function g(){const C=PY();s.current=C,setTimeout(()=>{e.current&&Vy(e.current,C)},100)}function y(C){let E=C.target.value;if(/[^0-9]/.test(E)){i("0~9  "),n(E.replace(/[^0-9]/g,""));return}E.length<=OY?(n(E),i("")):i("4  ")}N.useEffect(()=>{setTimeout(()=>{g()},100)},[]);function w(){So({eventType:Yn.CAPTCHA,subjectId:c},o).then(()=>{t?.toString()===s.current?(f(c,zt.PROGRESS),p(!1)):(f(c,zt.PROGRESS),p(!0))}).then(()=>{u(),a("simulation")})}function S(){So({eventType:Yn.CANCEL_SUBMIT,subjectId:c},o).then(()=>{u("captcha"),p(!1),f(c,zt.PROGRESS)})}return h.jsx(Yt.Modal,{preventAutoFocus:!0,children:h.jsxs("div",{className:"sm:w-[460px]",children:[h.jsx(Yt.Modal.Header,{title:"  (Arti-marco code input)",onClose:S}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[h.jsxs("div",{className:"flex flex-col px-1",children:[h.jsxs("div",{className:"text-sm font-semibold flex flex-row items-center",children:[h.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "})," ",h.jsx("button",{onClick:g,className:"ml-2 px-2 py-1 bg-blue-500 text-white text-sm rounded-xs cursor-pointer hover:bg-blue-600",children:""})]}),h.jsx("div",{className:"flex items-center mt-1",children:h.jsx("canvas",{id:"captcha",width:"105",height:"50",ref:e})})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"text-sm font-semibold flex flex-row items-center",children:[h.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500"}),"  "]}),h.jsx(Yt.Input,{value:t,onChange:C=>y(C),className:"mt-2 w-full",placeholder:" ",essential:!0}),h.jsx("span",{className:"pl-1 text-xs text-red-500 ",children:r})]})]}),h.jsx("p",{className:"text-sm text-gray-800 mt-10",children:"               ."}),h.jsxs(Yt.Modal.ButtonContainer,{className:"px-6 py-2 bg-gray-100",children:[h.jsx(Yt.Modal.Button,{variant:"cancel",onClick:w,children:""}),h.jsx(Yt.Modal.Button,{variant:"cancel",onClick:S,children:""})]})]})})}const AY=e=>N.createElement("svg",{width:50,height:50,viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("circle",{cx:25,cy:25,r:25,fill:"#7890CE"}),N.createElement("path",{d:"M20.2339 29.5078L35.0317 17.4276C35.3809 17.1425 35.7883 17 36.2539 17C36.7196 17 37.127 17.1425 37.4762 17.4276C37.8254 17.7127 38 18.0515 38 18.4439C38 18.8364 37.8254 19.1747 37.4762 19.4588L21.4562 32.5724C21.107 32.8575 20.6995 33 20.2339 33C19.7683 33 19.3609 32.8575 19.0117 32.5724L11.5037 26.4432C11.1545 26.1581 10.9868 25.8198 11.0008 25.4283C11.0148 25.0368 11.1969 24.6981 11.5473 24.412C11.8977 24.126 12.3127 23.9835 12.7923 23.9844C13.2718 23.9854 13.6862 24.1279 14.0354 24.412L20.2339 29.5078Z",fill:"white"})),RS={simulationId:-1,registeredSubjects:[],nonRegisteredSubjects:[],simulationStatus:"before",clickedTime:0},fi=jr(e=>({currentSimulation:RS,setCurrentSimulation:t=>e(n=>({currentSimulation:{...n.currentSimulation,...t}})),resetSimulation:()=>e({currentSimulation:RS})})),IY=[{status:zt.PROGRESS,topMessage:"   ?",description:"(CourseTitle):"},{status:zt.SUCCESS,topMessage:"  .   ?",description:`    []  . 

              []  
          . []  
        .`},{status:zt.FAILED,topMessage:"  !"},{status:zt.DOUBLED,topMessage:"   !"},{status:zt.CAPTCHA_FAILED,topMessage:"   "},{status:zt.NOT_ELIGIBLE,topMessage:"   "}],LY=[zt.PROGRESS,zt.SUCCESS,zt.FAILED,zt.CAPTCHA_FAILED];function DY({reloadSimulationStatus:e}){const t=Jn(D=>D.openModal),n=Jn(D=>D.closeModal),{currentSubjectId:r,setSubjectStatus:i,subjectStatusMap:s}=tg(),o=fi(D=>D.setCurrentSimulation),{data:a}=Yl(),u=s[r],c=IY.find(D=>D.status===u),f=c?.status??zt.PROGRESS,p=[zt.FAILED,zt.DOUBLED,zt.CAPTCHA_FAILED].includes(f),g=LY.includes(f),y=N.useRef(null);if(!c)return null;y.current?.focus();const w=(D,R=!1)=>{if("errMsg"in D)throw alert(D.errMsg),R&&oc().then(()=>{t("result")}),new Error(D.errMsg)},S=D=>{console.error(" :",D),alert(" :"+D.toString())},C=async D=>{const R=await So({eventType:Yn.SUBJECT_SUBMIT,subjectId:D},a);w(R),i(D,R.status),t("simulation")},E=async D=>{const R=await So({eventType:Yn.REFRESH,subjectId:D},a);w(R),e(),R.finished&&(o({simulationStatus:"finish"}),console.log(" "),t("result"))},P=async D=>{try{const R=await So({eventType:Yn.SKIP_REFRESH,subjectId:D},a);"errMsg"in R?(alert(R.errMsg),await oc(),o({simulationStatus:"finish"}),t("result")):R.finished&&(o({simulationStatus:"finish"}),t("result"))}catch(R){console.error(R)}finally{n("simulation")}},A=async()=>{try{c.status===zt.PROGRESS?await C(r):c?.status===zt.SUCCESS?await E(r):p&&await P(r)}catch(D){S(D)}},$=async()=>{try{if(c?.status===zt.SUCCESS){const D=await So({eventType:Yn.SKIP_REFRESH,subjectId:r},a);"errMsg"in D?(alert(D.errMsg),await oc(),o({simulationStatus:"finish"}),t("result")):D.finished?(o({simulationStatus:"finish"}),t("result")):n("simulation")}else if(c?.status===zt.PROGRESS){const D=await So({eventType:Yn.CANCEL_SUBMIT,subjectId:r},a);w(D,!0)}}catch(D){S(D)}},W=()=>{g||n("simulation")};return h.jsxs(Yt.Modal,{modalCassName:"max-w-md",children:[h.jsx(Yt.Modal.Header,{title:"",onClose:W}),h.jsxs("div",{className:`px-6 pb-6 items-center flex-col flex ${MY(f)}`,children:[h.jsx("div",{className:"flex justify-center mb-2 py-2",children:c.status===zt.SUCCESS||c.status===zt.PROGRESS?h.jsx(AY,{className:"w-12 h-12"}):h.jsx(lg,{className:"w-12 h-12",fill:"#C4C4C4"})}),h.jsx("p",{className:"text-gray-700 text-sm mb-4",children:c.topMessage}),c.description&&h.jsxs("p",{className:"text-sm text-gray-700 whitespace-pre-line text-center",children:[c.description," ",c.status===zt.PROGRESS&&h.jsx("span",{children:a?.find(D=>D.subjectId===r)?.subjectName})]})]}),h.jsxs(Yt.Modal.ButtonContainer,{className:"px-6 py-2 bg-gray-100",children:[c.status===zt.PROGRESS||c.status===zt.SUCCESS&&h.jsx(Yt.Modal.Button,{variant:"cancel",onClick:$,children:""}),h.jsx(Yt.Modal.Button,{variant:"primary",onClick:A,children:""})]})]})}const MY=e=>e===zt.FAILED||e===zt.DOUBLED?"sm:min-h-[200px] min-h-[80vh]":"sm:min-h-[230px] min-h-[80vh]";function FY(e,t,n){var r,i;typeof e=="function"?(r=t||[],i=n):(r=[],i=t);var s=nn.useRef({hasResult:!1,result:i,error:null}),o=nn.useReducer(function(c){return c+1},0);o[0];var a=o[1],u=nn.useMemo(function(){var c=typeof e=="function"?e():e;if(!c||typeof c.subscribe!="function")throw e===c?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!s.current.hasResult&&typeof window<"u"&&(typeof c.hasValue!="function"||c.hasValue()))if(typeof c.getValue=="function")s.current.result=c.getValue(),s.current.hasResult=!0;else{var f=c.subscribe(function(p){s.current.result=p,s.current.hasResult=!0});typeof f=="function"?f():f.unsubscribe()}return c},r);if(nn.useDebugValue(s.current.result),nn.useEffect(function(){var c=u.subscribe(function(f){var p=s.current;(p.error!==null||p.result!==f)&&(p.error=null,p.result=f,p.hasResult=!0,a())},function(f){var p=s.current;p.error!==f&&(p.error=f,a())});return typeof c=="function"?c:c.unsubscribe.bind(c)},r),s.current.error)throw s.current.error;return s.current.result}function kc(e,t,n){return FY(function(){return sF(e)},[],n)}function AS(){const e=Jn(t=>t.closeModal);return h.jsx(Yt.Modal,{onBackdropClick:()=>e(),noBorder:!0,children:h.jsxs("div",{className:"p-6 w-80 bg-white rounded shadow",children:[h.jsx("p",{className:"text-sm text-gray-800 mb-4",children:"  ."}),h.jsx("div",{className:"w-full h-4 bg-gray-200 rounded overflow-hidden",children:h.jsx("div",{className:"h-full bg-blue-400 bg-gradient-to-r from-blue-400 to-blue-600 animate-stripes"})})]})})}const kd=1/1e3;async function BY(){return{snapshots:(await _t.simulation_run.filter(n=>n.ended_at!==-1).toArray()).sort((n,r)=>r.simulation_run_id-n.simulation_run_id)}}async function zY(e){const t=await hF(e),n=await BC(t.snapshot_id);if(!t||!n)return null;const r=await _t.simulation_run_selections.where("simulation_run_id").equals(t.simulation_run_id).toArray(),i=r.map(c=>c.run_selections_id),s=c=>{const f=n.subjects.find(p=>p.interested_id===c);return f?f.subject_id:-1},o=await _t.simulation_run_events.filter(c=>i.includes(c.simulation_section_id)).toArray(),a=o.filter(c=>c.event_type===Yn.CAPTCHA),u=r.reduce((c,f)=>{const p=a.find(g=>g.simulation_section_id===f.run_selections_id);return p?.timestamp?c+p.timestamp-f.started_at:c},0)/r.length;return{started_at:t.started_at,ended_at:t.ended_at,user_ability:{searchBtnSpeed:(t.search_event_at-t.started_at)/1e3,totalSpeed:t.total_elapsed/t.subject_count/1e3,accuracy:t.accuracy,captchaSpeed:u/1e3},timeline:r.map(c=>({interested_id:c.interested_id,subject_id:s(c.interested_id),started_at:c.started_at,ended_at:c.ended_at,status:c.status,events:o.filter(f=>f.simulation_section_id===c.run_selections_id).sort((f,p)=>f.timestamp-p.timestamp).map(f=>({event:f.event_type,timestamp:f.timestamp}))})),subject_results:r.sort((c,f)=>f.started_at-c.started_at).reduce((c,f)=>c.some(p=>p.interested_id===f.interested_id)?c:[...c,f],[]).map(c=>({interested_id:c.interested_id,subject_id:s(c.interested_id),selected_index:c.selected_index,ended_at:c.ended_at,status:c.status}))}}async function U7(){const e=await _t.simulation_run.filter(C=>C.ended_at!==-1).toArray(),t=e.length;if(t===0)throw new Error("    .");const n=await _t.simulation_run_selections.toArray(),r=await Promise.all(e.map(async C=>{const E=await _t.simulation_run_selections.filter(R=>R.simulation_run_id===C.simulation_run_id).toArray(),P=E.map(R=>R.run_selections_id),A=await _t.simulation_run_events.filter(R=>R.event_type===Yn.CAPTCHA&&P.includes(R.simulation_section_id)).toArray(),$=(C.search_event_at-C.started_at)*kd,W=A.reduce((R,z)=>{const q=E.find(B=>B.run_selections_id===z.simulation_section_id);return q?R+(z.timestamp-q.started_at):R},0)*kd,D=E.reduce((R,z)=>z.ended_at>=0?R+(z.ended_at-z.started_at):R,0)*kd;return{simulationRunId:C.simulation_run_id,accuracy:C.accuracy,subjectCount:C.subject_count,searchBtnTime:$,captchaTime:W+$,subjectTime:D+$,totalTime:C.total_elapsed*kd}})),i=await _t.interested_snapshot.filter(C=>C.simulated).last();if(!i)throw new Error("   .");const o=(await _t.interested_subject.filter(C=>C.snapshot_id===i.snapshot_id).toArray()).map(C=>{const E=n.filter(q=>q.interested_id===C.interested_id),P=E.filter(q=>q.status===zt.SUCCESS).length,A=E.filter(q=>q.status===zt.FAILED).length,$=E.filter(q=>q.status===zt.DOUBLED).length,W=E.length,D=E.reduce((q,B)=>q+B.selected_index,0)/W||0,R=E.filter(q=>q.ended_at>=0&&q.started_at>=0).map(q=>(q.ended_at-q.started_at)*kd),z=$Y(R);return{subjectId:C.subject_id,successCount:P,failedCount:A,doubledCount:$,totalCount:W,avgCompletionTime:z,avgIndex:D}}),a=new Map;for(const C of n){const E=C.simulation_run_id,P=e.find(R=>R.simulation_run_id===E);if(!P)continue;const A=await BC(P.snapshot_id);if(!A)continue;const $=A.subjects.find(R=>R.interested_id===C.interested_id);if(!$)continue;const W=$.subject_id;a.has(W)||a.set(W,{subject_id:W,success_count:0,total_count:0,completion_time_sum:0});const D=a.get(W);D.total_count++,C.status===1&&(D.success_count++,D.completion_time_sum+=C.ended_at-C.started_at)}const u=Array.from(a.values()).map(C=>({subject_id:C.subject_id,success_count:C.success_count,total_count:C.total_count,success_rate:C.success_count/C.total_count,avg_completion_time:C.success_count>0?C.completion_time_sum/C.success_count/1e3:0})),c=n.reduce((C,E)=>(C[E.status]=(C[E.status]||0)+1,C),{}),f=n.length,p=Object.entries(c).map(([C,E])=>({status:Number(C),count:E,percentage:E/f})),g=e.map(C=>C.simulation_run_id),y=n.filter(C=>g.includes(C.simulation_run_id)).map(C=>C.run_selections_id),w=await _t.simulation_run_events.filter(C=>y.includes(C.simulation_section_id)&&C.event_type===Yn.CAPTCHA).toArray();let S=0;for(const C of w){const E=n.find(P=>P.run_selections_id===C.simulation_section_id);E&&(S+=C.timestamp-E.started_at)}return{total_users:t,avg_started_at:e.reduce((C,E)=>C+E.started_at,0)/t,avg_ended_at:e.reduce((C,E)=>C+E.ended_at,0)/t,avg_elapsed_time:e.reduce((C,E)=>C+(E.ended_at-E.started_at),0)/t/1e3,subject_success_rate:u,status_distribution:p,simulations:r,subjects:o}}function $Y(e){return e.length===0?0:e.reduce((t,n)=>t+n,0)/e.length}function UY({simulationId:e}){const t=Jn(E=>E.type),n=Jn(E=>E.openModal),r=Jn(E=>E.closeModal),[i,s]=N.useState(null),[o,a]=N.useState(),u=t==="result",c=kc(async()=>{try{return await U7()}catch(E){return{error:E.message}}});if(c&&"error"in c)return h.jsx("div",{className:"flex flex-col w-full items-center justify-center h-120 gap-3"});const{simulations:f}=c||{simulations:[]},p=c?{user_ability:{searchBtnSpeed:f.reduce((E,P)=>E+P.searchBtnTime,0)/f.length||0,totalSpeed:f.reduce((E,P)=>E+P.totalTime/P.subjectCount,0)/f.length||0,accuracy:f.reduce((E,P)=>E+P.accuracy,0)/f.length||0,captchaSpeed:f.reduce((E,P)=>E+(P.captchaTime-P.searchBtnTime)/P.subjectCount,0)/f.length||0}}:void 0;if(N.useEffect(()=>{async function E(){pF({simulationId:e}).then(P=>{"errMsg"in P?P.errMsg===zC.SIMULATION_NOT_FOUND?r():alert(P.errMsg):(s(P),a(e))})}E().then()},[]),!i)return h.jsx(AS,{});const{accuracy:g,score:y,total_elapsed:w}=i,S=y>=70,C=p?.user_ability?.searchBtnSpeed??0;return!p||!c?h.jsx(AS,{}):h.jsx(Pn,{title:" ",onClose:()=>r("result"),isOpen:u,children:h.jsxs(Pn.Content,{children:[S&&h.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[h.jsx("div",{className:"animate-float1 absolute top-6 left-6 w-3 h-3 bg-red-400 rounded-full"}),h.jsx("div",{className:"animate-float2 absolute top-16 right-10 w-2 h-2 bg-yellow-400 rounded-full"}),h.jsx("div",{className:"animate-float3 absolute bottom-20 left-12 w-2.5 h-2.5 bg-blue-400 rounded-full"}),h.jsx("div",{className:"animate-float4 absolute bottom-10 right-6 w-3 h-3 bg-pink-400 rounded-full"}),h.jsx("div",{className:"animate-float5 absolute top-1/2 left-1/2 w-2 h-2 bg-purple-400 rounded-full"})]}),h.jsxs("div",{className:"relative z-10 text-center",children:[h.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[" ",h.jsx("span",{className:S?"text-blue-600":"text-red-500",children:S?" !":" "})]}),h.jsxs("span",{className:"text-sm text-gray-700 mt-1",children:[" ",S?" ":" ",""]}),h.jsxs("div",{className:"flex flex-col justify-center items-center",children:[h.jsx("div",{className:"m-2 flex justify-center",children:S?h.jsx("img",{src:"/ci.svg",alt:" ",className:"w-20 h-20"}):h.jsx("span",{className:"text-[50px]",children:""})}),h.jsxs("div",{className:"flex flex-row justify-center gap-6 mt-6",children:[h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("p",{className:"text-sm text-gray-800 mb-1",children:""}),h.jsxs("p",{className:"text-xl text-blue-500 font-bold whitespace-nowrap",children:[y.toFixed(1),h.jsx("span",{className:"text-gray-600",children:""})]})]}),h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("p",{className:"text-sm text-gray-800 mb-1",children:" "}),h.jsxs("p",{className:"text-xl text-gray-600 font-bold whitespace-nowrap",children:[(w/1e3).toFixed(0),""]})]})]}),h.jsxs("div",{className:"flex flex-row justify-center gap-6 mt-6",children:[h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("p",{className:"text-sm text-gray-800 mb-1",children:"    "}),h.jsxs("p",{className:"text-xl text-blue-500 font-bold whitespace-nowrap",children:[p?.user_ability.captchaSpeed.toFixed(2),h.jsx("span",{className:"text-gray-600",children:""})]})]}),h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("p",{className:"text-sm text-gray-800 mb-1",children:"    "}),h.jsxs("p",{className:"text-xl text-blue-500 font-bold whitespace-nowrap",children:[C<=0?0:C.toFixed(2),h.jsx("span",{className:"text-gray-600",children:""})]})]})]})]}),h.jsx("div",{className:"text-left text-sm text-gray-800 mt-4 mb-1",children:""}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-full h-3 bg-gray-200 rounded-full overflow-hidden",children:h.jsx("div",{className:"h-3 bg-indigo-400 rounded-full transition-all duration-300",style:{width:`${g}%`}})}),h.jsxs("p",{className:"text-xl text-gray-600 font-bold whitespace-nowrap",children:[g,"%"]})]}),h.jsxs("div",{className:"flex justify-center gap-3 mt-6",children:[h.jsx("button",{className:"px-4 py-2 border border-gray-400 text-gray-800 rounded-md hover:bg-gray-100 text-sm",onClick:()=>{r(),n("wish")},children:" "}),h.jsx($l,{to:`/simulation/logs/${o}`,end:!1,className:"px-4 py-2  bg-blue-500 text-white rounded-md hover:bg-blue-600 text-sm",onClick:()=>{r()},children:"   "})]})]}),h.jsx("style",{children:`
        @keyframes float1 {
          0% { transform: translateY(0); }
          50% { transform: translateY(-8px); }
          100% { transform: translateY(0); }
        }
        @keyframes float2 {
          0% { transform: translateY(0); }
          50% { transform: translateY(6px); }
          100% { transform: translateY(0); }
        }
        @keyframes float3 {
          0% { transform: translateY(0); }
          50% { transform: translateY(-6px); }
          100% { transform: translateY(0); }
        }
        @keyframes float4 {
          0% { transform: translateY(0); }
          50% { transform: translateY(4px); }
          100% { transform: translateY(0); }
        }
        @keyframes float5 {
          0% { transform: translateY(0); }
          50% { transform: translateY(-5px); }
          100% { transform: translateY(0); }
        }

        .animate-float1 { animation: float1 3s ease-in-out infinite; }
        .animate-float2 { animation: float2 4s ease-in-out infinite; }
        .animate-float3 { animation: float3 2.5s ease-in-out infinite; }
        .animate-float4 { animation: float4 3.5s ease-in-out infinite; }
        .animate-float5 { animation: float5 3s ease-in-out infinite; }
      `})]})})}function HY(){return h.jsxs("div",{className:"mt-6 text-sm text-gray-800 space-y-2",children:[h.jsx(It,{level:4,children:" Tip!"}),["      .","    .","       !","    ."].map((e,t)=>h.jsxs(je,{className:"text-xs",children:[h.jsx("span",{className:"text-blue-500 mr-2",children:h.jsx(Ek,{})}),h.jsx("span",{className:t===0?"font-semibold text-blue-500 animate-bounce":"text-gray-600",children:e})]},t))]})}function VY({department:e,setDepartment:t}){const{data:n}=ql(),r=i=>{const s=i.target.value,o=n?.find(a=>a.departmentCode===s)?.departmentName??"";t({departmentName:o,departmentCode:s})};return N.useEffect(()=>{if(!n)return;const s=nk().filter(([u])=>u!=="9005");if(s.length<=0)return;const o=s[0][0],a=n.find(u=>u.departmentCode===o)?.departmentName??"";t({departmentName:a,departmentCode:o})},[n]),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx(ur,{children:" "}),h.jsx(xg,{className:"cursor-pointer rounded-sm px-2 py-1 w-50 sm:w-120 bg-white",value:e.departmentCode,onChange:r})]})}function WY({selectedTimetable:e,onSelect:t,timetables:n}){const{data:r}=Ul(),i=r??Ki,s=n.filter(o=>o.semesterCode===i.semesterCode);return s.length===0?h.jsx(QY,{semesterValue:i.semesterValue}):h.jsx(qY,{semesterValue:i.semesterValue,timetables:s,selectedTimetableId:e.timeTableId,onSelect:t})}function qY({semesterValue:e,timetables:t,selectedTimetableId:n,onSelect:r}){return h.jsxs(je,{direction:"flex-col",gap:"gap-2",children:[h.jsxs(ur,{children:[e," "]}),h.jsxs(je,{gap:"gap-2",children:[h.jsx(Ia,{columns:{sm:2,md:3},gap:"gap-2",className:"flex-1",children:t.map(i=>h.jsx(Nn,{label:i.timeTableName,selected:n===i.timeTableId,onClick:()=>r(i.timeTableId)},i.timeTableId))}),h.jsx(Et,{variant:"text",size:"small",textColor:"primary",children:h.jsx(kr,{to:"/timetable",children:"+   "})})]})]})}function QY({semesterValue:e}){return h.jsxs(je,{direction:"flex-col",gap:"gap-4",children:[h.jsx(ur,{children:" "}),h.jsxs(je,{direction:"flex-col",gap:"gap-2",align:"items-center",children:[h.jsx(lg,{className:"w-7 h-7",fill:"#C4C4C4"}),h.jsxs("p",{className:"text-gray-500 text-sm",children:[e,"  ."]}),h.jsx(Et,{asChild:!0,variant:"secondary",size:"small",children:h.jsx(kr,{to:"/timetable",children:"  "})})]})]})}const KY=5;function wv(e,t){const n=new Set,r=[];for(const i of[...e].sort(()=>Math.random()-.5)){if(n.size>=t)break;n.has(i.subjectCode)||(n.add(i.subjectCode),r.push(i))}return r}function H7(e){const t=e.split(" ");return t.findIndex(r=>r.includes(""))!==-1?t.slice(1).join(" ").trim():e}function V7(e,t){const n=r=>r.replace(/(||)$/,"");return n(e)===n(t)}function GY(e){return KY-e+1}const YY=(e,t)=>{if(t==="")return W7(e);const n=H7(t),r=e.filter(f=>V7(f.departmentName,n)),i=e.filter(f=>f.departmentName===""),s=r.filter(f=>f.professorName!==null&&f.lesn_time!==null),o=wv(s,3),a=i.filter(f=>f.professorName!==null&&f.lesn_time!==null),u=wv(a,GY(o.length+1)),c=[...o,...u];for(let f=c.length-1;f>0;f--){const p=Math.floor(Math.random()*(f+1));[c[f],c[p]]=[c[p],c[f]]}return c},_v=(e,t)=>e.find(n=>t===n.subjectId),W7=e=>wv(e,5),JY=(e,t)=>{const n=H7(t);if(n==="")return W7(e);const r=e.filter(c=>V7(c.departmentName,n)),i=e.filter(c=>c.departmentName===""),s=c=>{const f=new Set;return c.filter(p=>f.has(p.subjectCode)?!1:(f.add(p.subjectCode),!0))},o=s(r).slice(0,3),a=5-o.length,u=s(i).slice(0,a);return[...o,...u]},XY=e=>{let t=0;const n=[];for(const r of e){const i=Number(r.tm_num.split("/")[0])||0;if(t+i>24)break;t+=i,n.push(r)}return n};function ZY({subjects:e,handleRemakeSubjects:t,isLoadingLectures:n}){const r=e?.reduce((i,s)=>{if(!s.tm_num)return i;const o=s?.tm_num.split("/")[0]??"0",a=Number(o)||0;return i+a},0);return h.jsxs(h.Fragment,{children:[h.jsxs(je,{direction:"flex-row",justify:"justify-between",align:"items-center",children:[h.jsxs(je,{align:"items-center",children:[h.jsx(ur,{children:"   "}),t&&h.jsx(Et,{onClick:t,size:"small",variant:"text",children:" "})]}),h.jsxs(Tn,{children:[h.jsx("span",{className:"text-blue-500",children:r})," "]})]}),h.jsx("div",{className:"overflow-x-auto overflow-y-auto sm:max-w-full",children:h.jsxs("table",{className:"min-w-full table-fixed sm:text-sm text-xs text-left whitespace-nowrap border-t border-b border-gray-200",children:[h.jsx("thead",{className:"bg-gray-100 text-gray-700",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""})]})}),h.jsx("tbody",{className:"h-[250px]",children:h.jsx(eJ,{subjects:e,isLoadingLectures:n})})]})})]})}function eJ({subjects:e,isLoadingLectures:t}){return t?h.jsx(mg,{col:5,row:8}):e.length===0?h.jsx(Mx,{col:5,title:"  .",description:"       ."}):h.jsx(h.Fragment,{children:e.map((n,r)=>h.jsxs("tr",{className:"border border-gray-200 h-[40px]",children:[h.jsx("td",{className:"px-4 py-2 w-[30px] truncate",children:n.subjectCode}),h.jsx("td",{className:"px-4 py-2 w-[30px] truncate",children:n.classCode}),h.jsx("td",{className:"px-4 py-2 w-[100px] truncate",children:n.departmentName}),h.jsx("td",{className:"px-4 py-2  w-[150px] truncate",children:n.subjectName}),h.jsx("td",{className:"px-4 py-2",children:n.professorName})]},n.subjectId??r))})}const tJ=({simulationSubjects:e,handleStartGame:t,setToggleTip:n})=>h.jsxs("div",{className:"flex justify-end gap-2 px-2 pb-2 sm:px-6 sm:pb-6",children:[h.jsx(Et,{variant:"primary",size:"medium",onClick:()=>n(!0),children:" "}),h.jsx(Et,{variant:"outlined",size:"medium",onClick:t,disabled:e.length===0,children:""})]}),nJ=(e,t)=>e?"previous":t.length>0?"timetable":"random",rJ={departmentCode:"",departmentName:""};function iJ({timetables:e,setIsModalOpen:t}){const n=fi(B=>B.setCurrentSimulation),r=Jn(B=>B.closeModal),{data:i,isLoading:s}=Yl(),o=Rt(B=>B.currentTimetable),a=Rt(B=>B.pickTimetable),[u,c]=N.useState([]),[f,p]=N.useState({...rJ}),[g,y]=N.useState(o??{timeTableId:-1,timeTableName:"  ",semesterCode:Ki.semesterCode}),w=kc(FC),[S,C]=N.useState(nJ(!!w,e)),[E,P]=N.useState(!1),{data:A,isLoading:$}=S6(g?.timeTableId),W=()=>{c(YY(i,f.departmentName))},D=async()=>{if(u.length===0){alert("  .    .");return}try{r(),S!=="previous"&&await aF(u.map(oe=>oe.subjectId));const B=await fF("",f.departmentCode,f.departmentName);if("simulationId"in B&&"isRunning"in B&&B.simulationId!==-1&&B.isRunning!==void 0){const{simulationId:oe,isRunning:xe}=B;n({simulationId:oe,simulationStatus:xe?"start":"before"})}else console.error("    ",B)}catch(B){console.error("    :",B)}},R=B=>{const ae=e.find(oe=>oe.timeTableId===B)??{timeTableId:-1,timeTableName:"  ",semesterCode:Ki.semesterCode};if(!ae){console.error("    :",B);return}y(ae),a(ae)},z=B=>{c([]),C(B)},q=B=>i.find(ae=>ae.subjectId===B);return N.useEffect(()=>{if($||S!=="timetable"||!A||A.length===0)return;const ae=A.filter(xe=>xe.scheduleType!=="custom").map(xe=>q(xe.subjectId??0)).filter(xe=>!!xe),oe=XY(ae);c(oe)},[S,A,$,g]),N.useEffect(()=>{S==="random"&&c(JY(i,f.departmentName))},[S,f]),N.useEffect(()=>{if(S!=="previous"||!w||w.snapshot_id<0||s)return;const ae=w.subjects.map(oe=>oe.subject_id).map(oe=>q(oe)).filter(oe=>!!oe);c(ae)},[S,w,s]),h.jsx(Pn,{title:"   ",onClose:()=>t(!1),children:h.jsxs("div",{className:"flex flex-col overflow-y-auto max-h-[90vh] w-[600px] max-w-[90vw]",children:[h.jsxs("div",{className:"flex flex-col gap-2 p-2 sm:p-4",children:[h.jsx(ur,{children:"  ?"}),h.jsxs("div",{className:"flex gap-2 py-2",children:[w&&h.jsx(Nn,{label:" ",selected:S==="previous",onClick:()=>z("previous")}),h.jsx(Nn,{label:" ",selected:S==="timetable",onClick:()=>z("timetable")}),h.jsx(Nn,{label:" ",selected:S==="random",onClick:()=>z("random")})]}),S==="timetable"&&h.jsx(WY,{timetables:e,selectedTimetable:g,onSelect:R}),S==="random"&&h.jsx(VY,{department:f,setDepartment:p}),h.jsx(ZY,{isLoadingLectures:s,subjects:u,handleRemakeSubjects:S==="random"?W:void 0}),E&&h.jsx(HY,{})]}),h.jsx(tJ,{simulationSubjects:u,handleStartGame:D,setToggleTip:P})]})})}function sJ(e,t,n,r,i,s){const o=Math.floor((e+t)/n);let a=r,u=0;for(let c=0;c<=o;c++){const f=c*n;let p=i,g=s;f>4&&(p=48,g=33),a+=p,u+=g}return Math.max(Math.round(a-u),0)}function oJ(){const[e,t]=N.useState(0),[n,r]=N.useState(0),[i,s]=N.useState(1),[o,a]=N.useState(0),u=N.useRef(null),c=Jn(C=>C.closeModal),f=fi(C=>C.currentSimulation),p=fi(C=>C.setCurrentSimulation),g=.2,y=98,w=79;N.useEffect(()=>{let C=Math.floor(f.clickedTime/.2)*100+124;const E=C/w*g;for(let P=0;P<=Math.floor(f.clickedTime/g);P++)C+=P*y;r(C),t(Math.ceil(E))},[]),N.useEffect(()=>(u.current=setInterval(()=>{a(E=>{const P=E+1,A=sJ(P,f.clickedTime,g,i,y,w);return s(A),P});const C=Math.floor((e+f.clickedTime)/.2)*w;n<0?r(0):r(E=>E-C),t(E=>{const P=Math.max(E-1,0);return P===0&&u.current&&(clearInterval(u.current),c()),P})},1e3),()=>{u.current&&clearInterval(u.current)}),[e]);const S=()=>{p({simulationStatus:"before"}),c()};return h.jsx(Yt.Modal,{noBorder:!0,children:h.jsxs("div",{className:"bg-white p-6 text-center space-y-6 max-w-md",children:[h.jsxs("h2",{className:"text-lg md:text-xl font-semibold text-gray-800",children:[" ",h.jsx("span",{className:"text-blue-600 font-bold",children:" "}),"."]}),h.jsxs("div",{className:"text-sm md:text-base text-gray-600",children:[": ",h.jsx("span",{className:"text-blue-600 font-bold text-xl",children:e}),""]}),h.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:h.jsx("div",{className:"h-full bg-blue-500 transition-all duration-300",style:{width:`${o/(e+o)*100}%`}})}),h.jsxs("div",{className:"text-gray-700 text-sm md:text-base leading-relaxed",children:["  ",h.jsx("span",{className:"text-green-600 font-bold text-xl",children:n<0?0:n}),",  ",h.jsx("span",{className:"text-green-600 font-bold text-xl",children:i}),"  . ",h.jsx("br",{}),"     ,      ."]}),h.jsxs("button",{className:"inline-flex items-center justify-center border-2 border-gray-400 text-gray-800 px-2 py-1 hover:bg-gray-100",onClick:S,children:[h.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),""]}),h.jsx("p",{className:"text-xs md:text-sm text-gray-500",children:"    ."})]})})}var sy,IS;function aJ(){return IS||(IS=1,sy=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}),sy}var lJ=aJ();const uJ=Gi(lJ);var Op={exports:{}},oy,LS;function cJ(){if(LS)return oy;LS=1;var e;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/return e=function(){var t={},n={};return t.on=function(r,i){var s={name:r,handler:i};return n[r]=n[r]||[],n[r].unshift(s),s},t.off=function(r){var i=n[r.name].indexOf(r);i!==-1&&n[r.name].splice(i,1)},t.trigger=function(r,i){var s=n[r],o;if(s)for(o=s.length;o--;)s[o].handler(i)},t},oy=e,oy}var Rp={exports:{}},ay,DS;function dJ(){if(DS)return ay;DS=1,ay=function(i,s,o){var a=document.head||document.getElementsByTagName("head")[0],u=document.createElement("script");typeof s=="function"&&(o=s,s={}),s=s||{},o=o||function(){},u.type=s.type||"text/javascript",u.charset=s.charset||"utf8",u.async="async"in s?!!s.async:!0,u.src=i,s.attrs&&e(u,s.attrs),s.text&&(u.text=""+s.text);var c="onload"in u?t:n;c(u,o),u.onload||t(u,o),a.appendChild(u)};function e(r,i){for(var s in i)r.setAttribute(s,i[s])}function t(r,i){r.onload=function(){this.onerror=this.onload=null,i(null,r)},r.onerror=function(){this.onerror=this.onload=null,i(new Error("Failed to load "+this.src),r)}}function n(r,i){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,i(null,r))}}return ay}var MS;function hJ(){return MS||(MS=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=dJ(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default=function(s){var o=new Promise(function(a){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){a(window.YT);return}else{var u=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(u+"//www.youtube.com/iframe_api",function(f){f&&s.trigger("error",f)})}var c=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){c&&c(),a(window.YT)}});return o},e.exports=t.default})(Rp,Rp.exports)),Rp.exports}var Ap={exports:{}},Ip={exports:{}},Lp={exports:{}},ly,FS;function fJ(){if(FS)return ly;FS=1;var e=1e3,t=e*60,n=t*60,r=n*24,i=r*365.25;ly=function(c,f){f=f||{};var p=typeof c;if(p==="string"&&c.length>0)return s(c);if(p==="number"&&isNaN(c)===!1)return f.long?a(c):o(c);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))};function s(c){if(c=String(c),!(c.length>100)){var f=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(c);if(f){var p=parseFloat(f[1]),g=(f[2]||"ms").toLowerCase();switch(g){case"years":case"year":case"yrs":case"yr":case"y":return p*i;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function o(c){return c>=r?Math.round(c/r)+"d":c>=n?Math.round(c/n)+"h":c>=t?Math.round(c/t)+"m":c>=e?Math.round(c/e)+"s":c+"ms"}function a(c){return u(c,r,"day")||u(c,n,"hour")||u(c,t,"minute")||u(c,e,"second")||c+" ms"}function u(c,f,p){if(!(c<f))return c<f*1.5?Math.floor(c/f)+" "+p:Math.ceil(c/f)+" "+p+"s"}return ly}var BS;function pJ(){return BS||(BS=1,(function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=u,t.disable=o,t.enable=s,t.enabled=a,t.humanize=fJ(),t.names=[],t.skips=[],t.formatters={};var n;function r(c){var f=0,p;for(p in c)f=(f<<5)-f+c.charCodeAt(p),f|=0;return t.colors[Math.abs(f)%t.colors.length]}function i(c){function f(){if(f.enabled){var p=f,g=+new Date,y=g-(n||g);p.diff=y,p.prev=n,p.curr=g,n=g;for(var w=new Array(arguments.length),S=0;S<w.length;S++)w[S]=arguments[S];w[0]=t.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");var C=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,function(P,A){if(P==="%%")return P;C++;var $=t.formatters[A];if(typeof $=="function"){var W=w[C];P=$.call(p,W),w.splice(C,1),C--}return P}),t.formatArgs.call(p,w);var E=f.log||t.log||console.log.bind(console);E.apply(p,w)}}return f.namespace=c,f.enabled=t.enabled(c),f.useColors=t.useColors(),f.color=r(c),typeof t.init=="function"&&t.init(f),f}function s(c){t.save(c),t.names=[],t.skips=[];for(var f=(typeof c=="string"?c:"").split(/[\s,]+/),p=f.length,g=0;g<p;g++)f[g]&&(c=f[g].replace(/\*/g,".*?"),c[0]==="-"?t.skips.push(new RegExp("^"+c.substr(1)+"$")):t.names.push(new RegExp("^"+c+"$")))}function o(){t.enable("")}function a(c){var f,p;for(f=0,p=t.skips.length;f<p;f++)if(t.skips[f].test(c))return!1;for(f=0,p=t.names.length;f<p;f++)if(t.names[f].test(c))return!0;return!1}function u(c){return c instanceof Error?c.stack||c.message:c}})(Lp,Lp.exports)),Lp.exports}var zS;function mJ(){return zS||(zS=1,(function(e,t){var n={};t=e.exports=pJ(),t.log=s,t.formatArgs=i,t.save=o,t.load=a,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:u(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(c){try{return JSON.stringify(c)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}};function i(c){var f=this.useColors;if(c[0]=(f?"%c":"")+this.namespace+(f?" %c":" ")+c[0]+(f?"%c ":" ")+"+"+t.humanize(this.diff),!!f){var p="color: "+this.color;c.splice(1,0,p,"color: inherit");var g=0,y=0;c[0].replace(/%[a-zA-Z%]/g,function(w){w!=="%%"&&(g++,w==="%c"&&(y=g))}),c.splice(y,0,p)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(c){try{c==null?t.storage.removeItem("debug"):t.storage.debug=c}catch{}}function a(){var c;try{c=t.storage.debug}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}t.enable(a());function u(){try{return window.localStorage}catch{}}})(Ip,Ip.exports)),Ip.exports}var Dp={exports:{}},$S;function gJ(){return $S||($S=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default})(Dp,Dp.exports)),Dp.exports}var Mp={exports:{}},US;function yJ(){return US||(US=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default})(Mp,Mp.exports)),Mp.exports}var Fp={exports:{}},Bp={exports:{}},HS;function vJ(){return HS||(HS=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default})(Bp,Bp.exports)),Bp.exports}var VS;function xJ(){return VS||(VS=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=vJ(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default})(Fp,Fp.exports)),Fp.exports}var WS;function bJ(){return WS||(WS=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=mJ(),r=f(n),i=gJ(),s=f(i),o=yJ(),a=f(o),u=xJ(),c=f(u);function f(y){return y&&y.__esModule?y:{default:y}}var p=(0,r.default)("youtube-player"),g={};g.proxyEvents=function(y){var w={},S=function(R){var z="on"+R.slice(0,1).toUpperCase()+R.slice(1);w[z]=function(q){p('event "%s"',z,q),y.trigger(R,q)}},C=!0,E=!1,P=void 0;try{for(var A=a.default[Symbol.iterator](),$;!(C=($=A.next()).done);C=!0){var W=$.value;S(W)}}catch(D){E=!0,P=D}finally{try{!C&&A.return&&A.return()}finally{if(E)throw P}}return w},g.promisifyPlayer=function(y){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,S={},C=function(z){w&&c.default[z]?S[z]=function(){for(var q=arguments.length,B=Array(q),ae=0;ae<q;ae++)B[ae]=arguments[ae];return y.then(function(oe){var xe=c.default[z],Y=oe.getPlayerState(),H=oe[z].apply(oe,B);return xe.stateChangeRequired||Array.isArray(xe.acceptableStates)&&xe.acceptableStates.indexOf(Y)===-1?new Promise(function(J){var se=function X(){var pe=oe.getPlayerState(),M=void 0;typeof xe.timeout=="number"&&(M=setTimeout(function(){oe.removeEventListener("onStateChange",X),J()},xe.timeout)),Array.isArray(xe.acceptableStates)&&xe.acceptableStates.indexOf(pe)!==-1&&(oe.removeEventListener("onStateChange",X),clearTimeout(M),J())};oe.addEventListener("onStateChange",se)}).then(function(){return H}):H})}:S[z]=function(){for(var q=arguments.length,B=Array(q),ae=0;ae<q;ae++)B[ae]=arguments[ae];return y.then(function(oe){return oe[z].apply(oe,B)})}},E=!0,P=!1,A=void 0;try{for(var $=s.default[Symbol.iterator](),W;!(E=(W=$.next()).done);E=!0){var D=W.value;C(D)}}catch(R){P=!0,A=R}finally{try{!E&&$.return&&$.return()}finally{if(P)throw A}}return S},t.default=g,e.exports=t.default})(Ap,Ap.exports)),Ap.exports}var qS;function wJ(){return qS||(qS=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},r=cJ(),i=c(r),s=hJ(),o=c(s),a=bJ(),u=c(a);function c(p){return p&&p.__esModule?p:{default:p}}var f=void 0;t.default=function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,w=(0,i.default)();if(f||(f=(0,o.default)(w)),g.events)throw new Error("Event handlers cannot be overwritten.");if(typeof p=="string"&&!document.getElementById(p))throw new Error('Element "'+p+'" does not exist.');g.events=u.default.proxyEvents(w);var S=new Promise(function(E){if((typeof p>"u"?"undefined":n(p))==="object"&&p.playVideo instanceof Function){var P=p;E(P)}else f.then(function(A){var $=new A.Player(p,g);return w.on("ready",function(){E($)}),null})}),C=u.default.promisifyPlayer(S,y);return C.on=w.on,C.off=w.off,C},e.exports=t.default})(Op,Op.exports)),Op.exports}var _J=wJ();const SJ=Gi(_J);var CJ=Object.defineProperty,kJ=Object.defineProperties,EJ=Object.getOwnPropertyDescriptors,QS=Object.getOwnPropertySymbols,jJ=Object.prototype.hasOwnProperty,TJ=Object.prototype.propertyIsEnumerable,KS=(e,t,n)=>t in e?CJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Sv=(e,t)=>{for(var n in t||(t={}))jJ.call(t,n)&&KS(e,n,t[n]);if(QS)for(var n of QS(t))TJ.call(t,n)&&KS(e,n,t[n]);return e},Cv=(e,t)=>kJ(e,EJ(t)),NJ=(e,t,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(c){i(c)}},o=u=>{try{a(n.throw(u))}catch(c){i(c)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(e,t)).next())});function PJ(e,t){var n,r;if(e.videoId!==t.videoId)return!0;const i=((n=e.opts)==null?void 0:n.playerVars)||{},s=((r=t.opts)==null?void 0:r.playerVars)||{};return i.start!==s.start||i.end!==s.end}function GS(e={}){return Cv(Sv({},e),{height:0,width:0,playerVars:Cv(Sv({},e.playerVars),{autoplay:0,start:0,end:0})})}function OJ(e,t){return e.videoId!==t.videoId||!uJ(GS(e.opts),GS(t.opts))}function RJ(e,t){var n,r,i,s;return e.id!==t.id||e.className!==t.className||((n=e.opts)==null?void 0:n.width)!==((r=t.opts)==null?void 0:r.width)||((i=e.opts)==null?void 0:i.height)!==((s=t.opts)==null?void 0:s.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title}var AJ={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},IJ={videoId:Pt.string,id:Pt.string,className:Pt.string,iframeClassName:Pt.string,style:Pt.object,title:Pt.string,loading:Pt.oneOf(["lazy","eager"]),opts:Pt.objectOf(Pt.any),onReady:Pt.func,onError:Pt.func,onPlay:Pt.func,onPause:Pt.func,onEnd:Pt.func,onStateChange:Pt.func,onPlaybackRateChange:Pt.func,onPlaybackQualityChange:Pt.func},Jp=class extends nn.Component{constructor(e){super(e),this.destroyPlayerPromise=void 0,this.onPlayerReady=t=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,t)},this.onPlayerError=t=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,t)},this.onPlayerStateChange=t=>{var n,r,i,s,o,a,u,c;switch((r=(n=this.props).onStateChange)==null||r.call(n,t),t.data){case Jp.PlayerState.ENDED:(s=(i=this.props).onEnd)==null||s.call(i,t);break;case Jp.PlayerState.PLAYING:(a=(o=this.props).onPlay)==null||a.call(o,t);break;case Jp.PlayerState.PAUSED:(c=(u=this.props).onPause)==null||c.call(u,t);break}},this.onPlayerPlaybackRateChange=t=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,t)},this.onPlayerPlaybackQualityChange=t=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,t)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const t=Cv(Sv({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=SJ(this.container,t),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var t;(t=this.internalPlayer)==null||t.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var t,n,r,i;if(typeof this.props.videoId>"u"||this.props.videoId===null){(t=this.internalPlayer)==null||t.stopVideo();return}let s=!1;const o={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(s=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(o.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(o.endSeconds=this.props.opts.playerVars.end)),s){(r=this.internalPlayer)==null||r.loadVideoById(o);return}(i=this.internalPlayer)==null||i.cueVideoById(o)},this.refContainer=t=>{this.container=t},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(e){return NJ(this,null,function*(){RJ(e,this.props)&&this.updatePlayer(),OJ(e,this.props)&&(yield this.resetPlayer()),PJ(e,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return nn.createElement("div",{className:this.props.className,style:this.props.style},nn.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},kg=Jp;kg.propTypes=IJ;kg.defaultProps=AJ;kg.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var LJ=kg;const YS=e=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M6 9L12 15L18 9",stroke:"#354052",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),DJ="visitedTutorial",MJ=1440*60*1e3,FJ=7*MJ,Tm=jr()(ex(e=>({visitedAt:null,shouldSkipTutorial:!1,setVisited:()=>e({visitedAt:Date.now(),shouldSkipTutorial:!0}),resetVisited:()=>e({visitedAt:null,shouldSkipTutorial:!1})}),{name:DJ,storage:g6(()=>localStorage),onRehydrateStorage:()=>e=>{if(e){const t=Date.now();!e.visitedAt||t-e.visitedAt>FJ?e.resetVisited():e.shouldSkipTutorial=!0}}})),uy=[{id:1,videoId:"BTNgos01s1o",title:"1:   "},{id:2,videoId:"yYq-sXZmS9I",title:"2:   "},{id:3,videoId:"mEi-n2kEs94",title:"3:  "},{id:4,videoId:"xmD5YuZtJv4",title:"4:    "}];function BJ(){const[e,t]=N.useState(0),[n,r]=N.useState(!1),i=Jn(C=>C.openModal),s=Jn(C=>C.closeModal),a=Ni()?{width:"250",height:"141"}:{width:"600",height:"338"},u=Tm(C=>C.shouldSkipTutorial),c=Tm(C=>C.setVisited);u&&i("wish");const f=()=>{t(C=>C===0?uy.length-1:C-1)},p=()=>{t(C=>C===uy.length-1?0:C+1)},g=()=>{n&&(c(),r(!0))},y=uy[e],w=()=>{s()},S=()=>{g(),s(),i("wish")};return h.jsx(Pn,{title:" ",onClose:w,isOpen:!u,children:h.jsxs(Pn.Content,{children:[h.jsxs(je,{className:"w-full",direction:"flex-col",children:[h.jsx(Tn,{children:"        ."}),h.jsx("div",{className:"mx-auto",style:{width:a.width+"px",height:a.height+"px"},children:h.jsx(LJ,{videoId:y.videoId,opts:{width:a.width,height:a.height,playerVars:{autoplay:1,mute:1,playlist:y.videoId}},onEnd:p})})]}),h.jsxs("div",{className:"mt-4 flex flex-col justify-center items-center gap-2",children:[h.jsxs(je,{justify:"justify-center",align:"items-center",className:"gap-4",children:[h.jsx(Et,{variant:"text",size:"medium","aria-label":" ",onClick:f,children:e!==0&&h.jsx(YS,{className:"w-5 h-5 transform rotate-90"})}),h.jsx(It,{level:3,children:y.title}),h.jsx(Et,{variant:"text",size:"medium","aria-label":" ",onClick:p,children:e<3&&h.jsx(YS,{className:"w-5 h-5 transform -rotate-90"})})]}),h.jsx(Tn,{children:"     ,   ,         ."}),h.jsxs(Yt.Modal.ButtonContainer,{className:"mt-4",children:[h.jsx(Lm,{label:"   ",checked:n,onChange:()=>r(!n)}),h.jsx(Et,{variant:"primary",size:"medium",onClick:S,children:" "})]})]})]})})}function q7(e){if(!e)return"-";const t=e.split("/");return t[0]=Number.parseFloat(t[0]).toFixed(1),t.join("/")}function zJ(e){return e===-1?"":e}const $J=[{header:"",cell:(e,t)=>t+1},{header:"",cell:e=>h.jsx(HJ,{subjectId:e.subjectId})},{header:"",cell:e=>e.subjectCode},{header:"",cell:e=>e.classCode},{header:"",cell:e=>h.jsx("div",{className:"text-left",children:e.departmentName})},{header:"",cell:e=>h.jsx("div",{className:"text-left",children:e.subjectName})},{header:"",cell:()=>h.jsx("div",{className:"flex justify-center",children:h.jsx(Yt.Button,{size:"sm",variant:"dark",children:""})})},{header:"",cell:e=>e.language},{header:"//",cell:e=>q7(e.tm_num)},{header:"",cell:e=>e.subjectType},{header:"",cell:e=>zJ(e.semester_at)},{header:"",cell:e=>e.lesn_time},{header:"",cell:()=>h.jsx("div",{className:"flex justify-center",children:h.jsx(Yt.Button,{size:"sm",variant:"dark",children:""})})}],UJ=()=>{const e=fi(r=>r.currentSimulation),t=Jn(r=>r.type),n=e.simulationStatus==="progress"&&t!=="waiting"?e.nonRegisteredSubjects:[];return h.jsx(Yt.DataTable,{columns:$J,data:n,keyInfo:"subjectId"})},HJ=({subjectId:e})=>{const t=Jn(s=>s.openModal),n=tg(s=>s.setCurrentSubjectId),{data:r}=Yl(),i=s=>{So({eventType:Yn.APPLY,subjectId:s},r).then(o=>{"errMsg"in o&&alert(o.errMsg)}).catch(o=>{console.error(" :",o)}),n(s),t("captcha")};return h.jsx("div",{className:"flex justify-center",children:h.jsx(Yt.Button,{size:"sm",onClick:()=>i(e),children:""})})},VJ=[{header:"",cell:(e,t)=>t+1},{header:"",cell:()=>h.jsx(Yt.Button,{size:"sm",children:""})},{header:"",cell:e=>e.subjectCode},{header:"",cell:e=>e.classCode},{header:"",cell:e=>h.jsx("div",{className:"text-left",children:e.departmentName})},{header:"",cell:e=>h.jsx("div",{className:"text-left",children:e.subjectName})},{header:"",cell:()=>h.jsx(Yt.Button,{size:"sm",variant:"dark",children:""})},{header:"",cell:e=>e.language},{header:"//",cell:e=>q7(e.tm_num)},{header:"",cell:e=>e.subjectType},{header:"",cell:()=>"-"},{header:"",cell:e=>e.lesn_time},{header:"",cell:()=>h.jsx(Yt.Button,{size:"sm",variant:"dark",children:""})}],WJ=()=>{const e=fi(r=>r.currentSimulation),t=Jn(r=>r.type),n=e.simulationStatus==="progress"&&t!=="waiting"?e.registeredSubjects:[];return h.jsx(Yt.DataTable,{columns:VJ,data:n,keyInfo:"subjectId"})};function ub(){const e=fi(o=>o.setCurrentSimulation),t=fi(o=>o.currentSimulation),n=Jn(o=>o.openModal),{data:r}=Yl(),i=(o,a,u)=>{const c=o.map(f=>_v(r,f.subjectId)).filter(f=>f!==void 0);e({simulationId:u,[a]:c}),t.simulationStatus==="progress"&&n("waiting")};return{reloadSimulationStatus:()=>{lF().then(o=>{!o||o.simulationId===-1||(e({simulationId:o.simulationId}),o?.nonRegisteredSubjects&&i(o.nonRegisteredSubjects,"nonRegisteredSubjects",o.simulationId),o?.registeredSubjects&&i(o.registeredSubjects,"registeredSubjects",o.simulationId))}).catch(o=>{console.log(o)})}}}const qJ=e=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M9.5 16C7.68333 16 6.146 15.3707 4.888 14.112C3.63 12.8533 3.00067 11.316 3 9.5C2.99933 7.684 3.62867 6.14667 4.888 4.888C6.14733 3.62933 7.68467 3 9.5 3C11.3153 3 12.853 3.62933 14.113 4.888C15.373 6.14667 16.002 7.684 16 9.5C16 10.2333 15.8833 10.925 15.65 11.575C15.4167 12.225 15.1 12.8 14.7 13.3L20.3 18.9C20.4833 19.0833 20.575 19.3167 20.575 19.6C20.575 19.8833 20.4833 20.1167 20.3 20.3C20.1167 20.4833 19.8833 20.575 19.6 20.575C19.3167 20.575 19.0833 20.4833 18.9 20.3L13.3 14.7C12.8 15.1 12.225 15.4167 11.575 15.65C10.925 15.8833 10.2333 16 9.5 16ZM9.5 14C10.75 14 11.8127 13.5627 12.688 12.688C13.5633 11.8133 14.0007 10.7507 14 9.5C13.9993 8.24933 13.562 7.187 12.688 6.313C11.814 5.439 10.7513 5.00133 9.5 5C8.24867 4.99867 7.18633 5.43633 6.313 6.313C5.43967 7.18967 5.002 8.252 5 9.5C4.998 10.748 5.43567 11.8107 6.313 12.688C7.19033 13.5653 8.25267 14.0027 9.5 14Z",fill:"white"}));function QJ(){const{setCurrentSimulation:e,currentSimulation:t,resetSimulation:n}=fi(),r=Jn(w=>w.openModal),i=kc(lh),{reloadSimulationStatus:s}=ub(),{data:o}=Yl(),u=(i&&"simulationId"in i?i.simulationId:-1)!==-1,c=i&&"userStatus"in i?i.userStatus?.departmentName:-1,f=()=>{e({simulationStatus:"before"}),r("tutorial"),n()},p=()=>{lh().then(w=>{w&&"simulationId"in w&&w.simulationId!==-1&&s()})},g=async()=>{p(),So({eventType:Yn.SEARCH},o).then(w=>{if("errMsg"in w)alert("  .    !");else{const S=w.elapsed_time/1e3;e({simulationStatus:"progress",clickedTime:S>10?5:S}),r("waiting")}}).catch(w=>{console.error(" :",w)})},y=async()=>{try{await oc(),e({simulationStatus:"finish"}),r("result")}catch(w){console.error(w),alert("  .")}};return h.jsx("section",{className:"border p-2 text-xs",children:h.jsxs("div",{className:"flex flex-col gap-1 sm:gap-2",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 sm:gap-8",children:[h.jsx("div",{className:"flex justify-end items-center sm:justify-start gap-2",children:h.jsx(Vu,{id:"organization-type",label:" ",className:"w-48",essential:!0,disabled:!0,children:h.jsx("option",{})})}),h.jsx("div",{className:"flex justify-end items-center sm:justify-start gap-2",children:h.jsx(Vu,{id:"semester-type",label:"/",className:"w-48",essential:!0,disabled:!0,children:h.jsx("option",{})})})]}),h.jsx("div",{className:"flex flex-col justify-between sm:flex-row gap-1 sm:gap-8",children:h.jsxs("div",{className:"flex flex-col sm:items-end sm:flex-row gap-2 ",children:[h.jsx("div",{className:"flex items-center justify-end sm:justify-start gap-2",children:h.jsx(Vu,{id:"my-major-department",label:"()",className:"w-48",disabled:!0,children:h.jsx("option",{children:""})})}),h.jsx("div",{className:"flex items-center justify-end sm:justify-start gap-2",children:h.jsx(Vu,{id:"my-sub-department",label:"()",className:"w-48",disabled:!0,children:h.jsx("option",{children:""})})})]})}),h.jsxs("div",{className:"flex flex-col sm:flex-col md:flex-row justify-between gap-2",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[h.jsx("div",{className:"flex justify-end items-center sm:justify-start gap-2",children:h.jsx(Vu,{id:"search-division",label:"",className:"w-48",essential:!0,disabled:!0,children:h.jsx("option",{children:""})})}),h.jsxs("div",{className:"flex justify-end items-center sm:justify-start gap-1",children:[h.jsx("label",{htmlFor:"search-major",className:"font-bold",children:""}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-1",children:[h.jsx(Yt.Select,{id:"search-major",className:"w-48 sm:w-30",essential:!0,disabled:!0,children:h.jsx("option",{children:""})}),h.jsx(Vu,{id:"search-department",label:" ",className:"w-40 lg:w-90",value:c,disabled:!0,hideLabel:!0})]})]})]}),h.jsxs("div",{className:"flex flex-row justify-between gap-2",children:[h.jsx("div",{className:"flex flex-row ",children:u?h.jsx(Yt.Button,{variant:"cancel",onClick:y,children:" "}):h.jsx(Yt.Button,{variant:"primary",onClick:f,children:""})}),h.jsxs("button",{onClick:g,className:`relative px-3 py-2 rounded flex flex-row items-center gap-1 text-white ${u?"bg-gradient-animation cursor-pointer":"bg-gray-400 cursor-not-allowed"}`,disabled:!u,children:[t.simulationStatus==="start"&&h.jsx(t6,{className:"absolute -top-20 right-8 w-15 h-15 animate-bounce rotate-170"}),h.jsx(qJ,{className:"w-5 h-4"}),""]})]})]})]})})}function Vu({label:e,hideLabel:t=!1,children:n,id:r,className:i,...s}){const o=r||"muted-select-"+e;return h.jsxs(h.Fragment,{children:[h.jsx("label",{htmlFor:o,className:t?"hidden":"font-bold",children:e}),h.jsx(Yt.Select,{id:o,...s,className:i,children:n})]})}function KJ(){const[e,t]=N.useState("00:00"),n=Jn(u=>u.openModal),r=fi(u=>u.currentSimulation),i=fi(u=>u.setCurrentSimulation),s=N.useRef(null),o=u=>{const c=Math.floor(u%3600/60),f=u%60;t(`${c.toString().padStart(2,"0")}:${f.toString().padStart(2,"0")}`)},a=async()=>{try{await oc(),i({simulationStatus:"finish"}),n("result")}catch(u){console.error(u),alert("   .")}};return N.useEffect(()=>((async()=>{if(r.simulationStatus==="finish"){t("00:00");return}try{const c=await ng();if(!(c?.started_at&&c.simulation_run_id===r.simulationId))return;const p=c.started_at;s.current=setInterval(()=>{const g=Date.now(),y=Math.floor((g-p)/1e3);if(y>=Ex){clearInterval(s.current),alert("5    ."),a().then();return}o(y),r.simulationStatus==="finish"&&(clearInterval(s.current),t("00:00"))},1e3)}catch(c){console.error(c)}})().then(),()=>{s.current&&(clearInterval(s.current),s.current=null)}),[r.simulationStatus,r.simulationId]),h.jsx("p",{className:"font-semibold text-xl text-blue-500",children:e})}function GJ({onClick:e}){const t=Tm(i=>i.shouldSkipTutorial),n=Tm(i=>i.resetVisited),r=()=>{n(),e&&e()};return t&&h.jsx("button",{className:"text-gray-600 hover:text-blue-500 cursor-pointer",onClick:r,children:" "})}function YJ(){const e=Jn(a=>a.openModal),t=fi(a=>a.currentSimulation),n=fi(a=>a.setCurrentSimulation),{reloadSimulationStatus:r}=ub(),i=async()=>{try{await oc(),n({simulationStatus:"finish"}),alert("5    ."),e("result")}catch(a){console.error(a),alert("   .")}},s=()=>{lh().then(a=>{if(a&&"simulationId"in a&&a.simulationId!==-1){const u=a.startedAt;if(!u)return;const c=Date.now();Math.floor((c-u)/1e3)>Ex?i().then():r()}else t.simulationStatus==="before"&&e("tutorial")})};N.useEffect(()=>{s()},[t.simulationStatus]);const o=t.registeredSubjects.reduce((a,u)=>{const c=u.tm_num.split("/")[0];return a+Number.parseInt(c,10)},0);return h.jsxs(h.Fragment,{children:[h.jsxs(Er,{children:[h.jsx("title",{children:"ALLCLL |  -   "}),h.jsx("meta",{name:"description",content:"       !"})]}),h.jsx(JJ,{}),h.jsxs("div",{className:"flex justify-between gap-5",children:[h.jsxs("div",{className:"flex gap-5",children:[h.jsx("h1",{className:"font-bold text-lg",children:" "}),h.jsx(KJ,{})]}),h.jsx(GJ,{onClick:()=>e("tutorial")})]}),h.jsx(QJ,{}),h.jsxs("section",{className:"mt-4 ",children:[h.jsx("div",{className:"mb-2",children:h.jsx(Yt.SectionHeader,{children:"  "})}),h.jsx(UJ,{})]}),h.jsxs("section",{className:"mt-4",children:[h.jsxs("div",{className:"w-full flex flex-col sm:flex-row sm:items-center justify-start gap-2 mb-2",children:[h.jsx(Yt.SectionHeader,{children:"  "}),h.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[h.jsx(Yt.Button,{size:"sm",onClick:r,children:""}),h.jsxs("span",{className:"text-xs font-bold text-black",children:["  : 18 /",h.jsxs("span",{className:"text-blue-500",children:[" : ",t.registeredSubjects.length," /  : ",o]})]})]})]}),h.jsx(WJ,{})]})]})}function JJ(){const e=fi(o=>o.currentSimulation),{type:t,closeModal:n}=Jn(),{reloadSimulationStatus:r}=ub(),{data:i}=Ul("timetable"),{data:s=[]}=_6(i?.semesterCode??Ki.semesterCode);switch(t){case"tutorial":return h.jsx(BJ,{});case"waiting":return h.jsx(oJ,{});case"captcha":return h.jsx(RY,{});case"wish":return h.jsx(iJ,{timetables:s,setIsModalOpen:()=>n()});case"simulation":return h.jsx(DY,{reloadSimulationStatus:r});case"result":return h.jsx(UY,{simulationId:e.simulationId});default:return null}}Ks.register(Ph,Oh,Nh,wx,xc,NC,Wl,Vl);function XJ({result:e}){const[t,n]=N.useState(!0),r=t?e.simulations.filter(g=>g.totalTime<=80&&g.searchBtnTime>0):e.simulations,i=r.map((g,y)=>` ${y+1}`),s=r.map(g=>g.searchBtnTime),o=r.map(g=>g.captchaTime-g.searchBtnTime),a=r.map(g=>g.subjectTime-g.captchaTime),u=r.map(g=>g.totalTime-g.subjectTime),c=r&&r.length<50?16:8,f={labels:i,datasets:[{type:"bar",label:"  ",data:s,barThickness:c,backgroundColor:"rgba(75, 192, 192, 0.7)",stack:"Stack 0"},{type:"bar",label:"   ",data:o,barThickness:c,backgroundColor:"rgba(255, 99, 132, 0.7)",stack:"Stack 0"},{type:"bar",label:"  ",data:a,barThickness:c,backgroundColor:"rgba(54, 162, 235, 0.7)",stack:"Stack 0"},{type:"bar",label:" ",data:u,barThickness:c,backgroundColor:"rgba(153, 102, 255, 0.7)",stack:"Stack 0"},{type:"line",label:" ",data:s,borderColor:"rgba(75, 192, 192, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(75, 192, 192, 1)",fill:!1,tension:.1},{type:"line",label:" ",data:o,borderColor:"rgba(255, 99, 132, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(255, 99, 132, 1)",fill:!1,tension:.1},{type:"line",label:"  ",data:a,borderColor:"rgba(54, 162, 235, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(54, 162, 235, 1)",fill:!1,tension:.1},{type:"line",label:"  ",data:u,borderColor:"rgba(153, 102, 255, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(153, 102, 255, 1)",fill:!1,tension:.1}]},p={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(g){const y=g.dataset.label||"",w=g.parsed.y;return`${y}: ${w.toFixed(2)}`}}}},scales:{x:{title:{display:!0,text:""}},y:{stacked:!0,title:{display:!0,text:" ()"},ticks:{callback:function(g){return(Ll(g)?g.toFixed(1):g)+""}}}}};return h.jsxs("div",{className:"w-full h-96 p-4 box-border",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("div",{}),h.jsxs("div",{className:"text-lg font-semibold",children:[h.jsx("input",{id:"normal-data",type:"checkbox",className:"cursor-pointer",onChange:g=>n(g.target.checked),checked:t}),h.jsx("label",{htmlFor:"normal-data",className:"text-sm pl-2 cursor-pointer",children:" "})]})]}),h.jsx("div",{className:"h-full pb-6 overflow-x-auto",children:h.jsx(DC,{type:"bar",data:f,options:p})})]})}function ZJ({result:e}){const{data:t}=Gs(),n=N.useMemo(()=>eX(t,e.subjects),[t,e]);return h.jsxs("table",{className:"min-w-full text-sm text-center text-nowrap",children:[h.jsx("thead",{className:"bg-gray-100 text-gray-600",children:h.jsxs("tr",{children:[h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:"/"})]})}),h.jsx("tbody",{className:"text-gray-700",children:n.map(r=>h.jsxs("tr",{className:"border-t border-gray-200",children:[h.jsx("td",{className:"py-2 px-1",children:r.subjectCode+"-"+r.classCode}),h.jsx("td",{className:"py-2 px-1",children:r.subjectName}),h.jsx("td",{className:"py-2 px-1",children:r.professorName}),h.jsx("td",{className:"py-2 px-1",children:r.avgIndex.toFixed(2)}),h.jsx("td",{className:"py-2 px-1",children:r.avgCompletionTime.toFixed(2)+" sec"}),h.jsxs("td",{className:"py-2 px-2",children:[h.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-green-500",children:r.successCount}),"/",h.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-red-500",children:r.failedCount}),"/",h.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-gray-500",children:r.doubledCount}),"/",h.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-black",children:r.totalCount})]})]},r.subjectId))})]})}function eX(e,t){if(!t||!e)return[];const n=r=>e.find(i=>i.subjectId===r);return t.map(r=>{const i=n(r.subjectId);return{...r,subjectName:i?.subjectName||"",departmentName:i?.departmentName||"",departmentCode:i?.departmentCode||"",subjectCode:i?.subjectCode||"",classCode:i?.classCode||"",professorName:i?.professorName||null}})}function tX(){const e=kc(async()=>{try{return await U7()}catch(r){return{error:r.message}}});if(e&&"error"in e)return h.jsxs("div",{className:"flex flex-col w-full items-center justify-center h-120 gap-3",children:[h.jsx(lg,{className:"h-12 w-12"}),h.jsx("div",{className:"text-center text-gray-500",children:e.error}),h.jsx(kr,{to:"/simulation",className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 cursor-pointer",children:"  "})]});const{simulations:t}=e||{simulations:[]},n=e?{user_ability:{searchBtnSpeed:t.reduce((r,i)=>r+i.searchBtnTime,0)/t.length||0,totalSpeed:t.reduce((r,i)=>r+i.totalTime/i.subjectCount,0)/t.length||0,accuracy:t.reduce((r,i)=>r+i.accuracy,0)/t.length||0,captchaSpeed:t.reduce((r,i)=>r+(i.captchaTime-i.searchBtnTime)/i.subjectCount,0)/t.length||0}}:void 0;return!n||!e?h.jsxs("div",{className:"flex flex-col w-full items-center justify-center h-120",children:[h.jsx("div",{className:"animate-spin h-16 w-16 mx-auto my-10",children:h.jsxs("svg",{className:"h-16 w-16 fill-transparent",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25 stroke-blue-500",cx:"12",cy:"12",r:"10",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75 fill-blue-500",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2.93 6.243A8.001 8.001 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3.93-1.695z"})]})}),h.jsxs("div",{className:"text-center text-gray-500 my-10",children:["    ... ",h.jsx("br",{})," "]})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex gap-3 flex-wrap",children:[h.jsx("div",{className:"relative flex-1 min-w-[240px]",children:h.jsx(kx,{result:n})}),h.jsx("div",{className:"flex-1 min-w-[240px] overflow-x-auto",children:h.jsx(ZJ,{result:e})})]}),h.jsx("div",{children:h.jsx(XJ,{result:e})})]})}const nX=e=>N.createElement("svg",{width:26,height:26,viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M5.54964 1.99315C5.50209 1.17248 6.41035 0.64822 7.09733 1.0996L20.3806 9.83538C21.12 10.3219 20.9092 11.4586 20.0444 11.6476L15.7086 12.5948L21.1016 21.9358C21.3775 22.4141 21.2138 23.0258 20.7356 23.3019L17.8077 24.9923C17.3295 25.2684 16.7179 25.1043 16.4417 24.6263L11.0764 15.3334L8.21097 18.4797C7.61486 19.134 6.52521 18.7482 6.47343 17.8647L5.54964 1.99315Z",fill:"#0756FF"}));function rX(){return h.jsxs(h.Fragment,{children:[h.jsx("h1",{className:"text-2xl font-bold mb-2",children:"   "}),h.jsx("p",{className:"text-gray-500 mb-4",children:"    ."}),h.jsx(iX,{})]})}function iX(){const e=kc(BY),t=e?e.snapshots:[],n=e===void 0,r=e===null;return n?h.jsx("div",{className:"flex justify-center items-center h-64",children:h.jsx("span",{className:"text-gray-500",children:" ..."})}):r?h.jsx("div",{className:"flex justify-center items-center h-64",children:h.jsx("span",{className:"text-red-500",children:" "})}):t.length?t.map(i=>h.jsxs(kr,{to:`/simulation/logs/${i.simulation_run_id}`,className:"flex items-center justify-between bg-white p-3 rounded-md text-sm shadow-md shadow-gray-300 mb-2 hover:bg-gray-100",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("p",{className:"hidden",children:"id"}),h.jsx("span",{className:"font-bold",children:i.simulation_run_id}),h.jsx("p",{className:"hidden",children:""}),h.jsx("span",{children:i.department_name?i.department_name.split(" ")[i.department_name.split(" ").length-1]:"  "})]}),h.jsxs("div",{className:"flex items-center text-center",children:[h.jsxs("div",{className:"",children:[h.jsx("p",{className:"text-xs",children:" "}),h.jsxs("span",{className:"text-sm font-bold",children:[i.accuracy,"%"]})]}),h.jsxs("div",{className:"flex items-center justify-end gap-1 w-20",children:[h.jsx("p",{className:"hidden",children:""}),h.jsx(nX,{className:"w-4 h-4"}),h.jsx("span",{className:"font-bold",children:i.score.toFixed(3)})]})]})]},"simulation-log-"+i.simulation_run_id)):h.jsx("div",{className:"flex justify-center items-center",children:h.jsx("span",{className:"text-gray-500",children:" "})})}function sX(){return h.jsxs(h.Fragment,{children:[h.jsxs(Er,{children:[h.jsx("title",{children:"ALLCLL |  -  "}),h.jsx("meta",{name:"description",content:"  ,    ."})]}),h.jsxs("section",{className:"max-w-7xl mx-auto",children:[h.jsx("h1",{className:"text-2xl font-bold mb-2",children:" "}),h.jsx("p",{className:"text-gray-500 mb-4",children:"   ,    ."}),h.jsx("div",{className:"bg-white p-3 rounded-md text-sm shadow-md shadow-gray-300",children:h.jsx(tX,{})})]}),h.jsx("section",{className:"max-w-3xl mx-auto mt-12",children:h.jsx(rX,{})})]})}const vh=32,JS=200;function oX({result:e}){const t=pX(e),n=(e.ended_at-e.started_at)/1e3,r=Array.from({length:Math.floor(n)+5},(i,s)=>s+1);return h.jsxs("div",{className:"relative",children:[h.jsxs("div",{className:"relative overflow-x-auto overflow-y-hidden",children:[h.jsx("div",{className:"absolute top-0 flex h-full",style:{left:`${JS}px`},children:r.map(i=>h.jsx("div",{className:"border-r border-gray-200 relative",style:{width:`${vh}px`},children:h.jsx("span",{className:"absolute text-xs text-gray-400 bg-white bottom-0 right-0 translate-x-1/2",children:i})},i))}),t.map((i,s)=>h.jsxs("div",{className:"flex items-center",style:{width:`${vh*r.length}px`},children:[h.jsxs("div",{className:"py-2 text-sm md:sticky left-0 right-0 z-10 bg-white",style:{width:`${JS}px`},children:[h.jsx("div",{className:`font-semibold ${hX(i.color)}`,children:i.name}),h.jsx("span",{className:`text-xs ${dX(i.color)}`,children:i.code})]}),h.jsx("div",{className:"flex-1 relative h-8",children:h.jsx(aX,{timelines:i.timelines})})]},"timeline-row-"+s))]}),h.jsx("div",{className:"pointer-events-none absolute inset-y-4 left-0 md:left-[200px] w-3 bg-gradient-to-r from-white to-transparent"}),h.jsx("div",{className:"pointer-events-none absolute inset-y-4 right-0 w-3 bg-gradient-to-l from-white to-transparent"})]})}function aX({timelines:e}){return e.map((t,n)=>{const r=t.start*vh-12,i=t.duration*vh+24;return h.jsx("div",{className:`absolute top-1 h-6 rounded-full px-3 ${uX(t.color)}`,style:{left:`${r}px`,width:`${i}px`},children:t.events.map((s,o)=>h.jsx(lX,{event:s,startAt:t.start,color:t.color,isTop:t.isTop},"timeline-dot-"+o))},"timeline-bar-"+n)})}function lX({event:e,startAt:t,color:n,isTop:r}){const i=(e.start-t)*vh+6,s=fX(e.event),o=e.start,a=r?"top-4":"bottom-4";return h.jsxs("div",{className:"absolute top-1.5",style:{left:`${i}px`},children:[h.jsx("div",{className:`w-3 h-3 peer bg-white border-2 rounded-full hover:shadow cursor-pointer ${cX(n)}`}),h.jsxs("div",{className:`absolute z-10 ${a} left-1/2 -translate-x-1/2 px-2 py-1 rounded bg-black text-white text-nowrap text-xs text-center opacity-0 peer-hover:opacity-100 transition-opacity duration-200`,children:[s,h.jsx("br",{}),o.toFixed(2)," sec"]})]})}function uX(e){switch(e){case"green":return"bg-green-100 border-green-500 text-green-700";case"red":return"bg-red-100 border-red-500 text-red-700";case"orange":return"bg-orange-100 border-orange-500 text-orange-700";case"yellow":return"bg-yellow-100 border-yellow-500 text-yellow-700";default:return"bg-gray-100 border-gray-500 text-gray-700"}}function cX(e){switch(e){case"green":return"border-green-500 text-green-500 shadow-green-500";case"red":return"border-red-500 text-red-500 shadow-red-500";case"orange":return"border-orange-500 text-orange-500 shadow-orange-500";case"yellow":return"border-yellow-500 text-yellow-500 shadow-yellow-500";default:return"border-gray-500 text-gray-500 shadow-gray-500"}}function dX(e){switch(e){case"green":return"text-green-500";case"red":return"text-red-500";case"orange":return"text-orange-500";case"yellow":return"text-yellow-500";default:return"text-gray-500"}}function hX(e){switch(e){case"green":return"text-green-600";case"red":return"text-red-600";case"orange":return"text-orange-600";case"yellow":return"text-yellow-600";default:return"text-gray-600"}}function fX(e){switch(e){case Yn.SEARCH:return"  ";case Yn.APPLY:return"  ";case Yn.CAPTCHA:return"   ";case Yn.SUBJECT_SUBMIT:return"   ";case Yn.SKIP_REFRESH:return" ";case Yn.REFRESH:return"  ";case Yn.CANCEL_SUBMIT:return"  "}}function pX(e){const{timeline:t,started_at:n,subject_results:r}=e;return r.map(i=>({name:i.subjectInfo?.subjectName,code:i.subjectInfo?.subjectCode+"-"+i.subjectInfo?.classCode,color:qy(i.status),timelines:t.filter(s=>s.subject_id===i.subject_id).map(s=>({color:qy(s.status),start:(s.started_at-n)/1e3,duration:(s.ended_at-s.started_at)/1e3,isTop:r[0].subject_id===s.subject_id,events:s.events.reduce((o,a,u)=>[...o,{event:a.event,duration:u==0?0:(a.timestamp-s.events[u-1].timestamp)/1e3,start:(a.timestamp-n)/1e3}],[])}))}))}function mX({result:e}){const{subject_results:t,started_at:n}=e;return h.jsxs("table",{className:"min-w-full text-sm text-center text-nowrap",children:[h.jsx("thead",{className:"bg-gray-100 text-gray-600",children:h.jsxs("tr",{children:[h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:"/"})]})}),h.jsx("tbody",{className:"text-gray-700",children:t.map(r=>h.jsxs("tr",{className:"border-t border-gray-200",children:[h.jsx("td",{className:"py-2 px-1",children:r.subjectInfo?.subjectCode+"-"+r.subjectInfo?.classCode}),h.jsx("td",{className:"py-2 px-1",children:r.subjectInfo?.subjectName}),h.jsx("td",{className:"py-2 px-1",children:r.subjectInfo?.professorName}),h.jsx("td",{className:"py-2 px-1",children:r.selected_index}),h.jsx("td",{className:"py-2 px-1",children:((r.ended_at-n)/1e3).toFixed(2)+" sec"}),h.jsx("td",{className:"py-2 px-2",children:h.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${xF(r.status)}`,children:r.status===zt.SUCCESS?"":""})})]},"subject-detail-row-"+r.subject_id))})]})}function gX(){const{runId:e}=T4(),{data:t}=Yl(),n=kc(()=>zY(Number(e))),r=N.useMemo(()=>yX(t,n),[t,n]);return h.jsxs(h.Fragment,{children:[h.jsxs(Er,{children:[h.jsx("title",{children:"ALLCLL |  -   "}),h.jsx("meta",{name:"description",content:"  ,    ."})]}),h.jsx("h1",{className:"text-2xl font-bold mb-6",children:"   "}),h.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"relative bg-white p-6 rounded-2xl shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"  "}),r?h.jsx(kx,{result:r}):h.jsx("div",{className:"text-center text-gray-500",children:"  ..."})]}),h.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm overflow-x-auto",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4 min-w-[240px] overflow-x-auto",children:"  "}),r?h.jsx(mX,{result:r}):h.jsx("div",{className:"text-center text-gray-500",children:"  ..."})]})]}),h.jsxs("section",{className:"bg-white p-6 rounded-2xl shadow-sm",children:[h.jsx("div",{className:"flex items-start justify-between mb-4",children:h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"     TimeLine"})}),r?h.jsx(oX,{result:r}):h.jsx("div",{className:"text-center text-gray-500",children:"  ..."})]})]})}function yX(e,t){if(!(!t||!e))return{...t,timeline:t.timeline.map(n=>({...n,subjectInfo:_v(e,n.subject_id)})),subject_results:t.subject_results.map(n=>({...n,subjectInfo:_v(e,n.subject_id)}))}}function vX(){const e=Ro(),[t,n]=N.useState(!1),r=ws(u=>u.filters),i=ws(u=>u.setFilter),s=ws(u=>u.resetFilters),{data:o}=Es(e),a=Lh(o??[]).sort((u,c)=>u.localeCompare(c)).map(u=>u);return h.jsxs(je,{direction:"flex-wrap",align:"items-center",gap:"gap-2",className:"w-full",children:[h.jsx(Bx,{handleOpenFilter:()=>n(!0)}),h.jsx(zx,{setFilter:i,selectedValue:r.department}),h.jsx(Dn,{filterKey:"days",options:hn.days,selectedValues:r.days??[],setFilter:i}),h.jsx(Dn,{filterKey:"credits",options:hn.credits,selectedValues:r.credits??[],setFilter:i}),h.jsx(Dn,{filterKey:"grades",options:hn.grades,selectedValues:r.grades??[],setFilter:i}),r.note?.length>0&&h.jsx(Dn,{filterKey:"note",options:hn.remark,selectedValues:r.note??[],setFilter:i}),r.categories?.length>0&&h.jsx(Dn,{filterKey:"categories",options:a,selectedValues:r.categories??[],setFilter:i}),r.classroom?.length>0&&h.jsx(Dn,{filterKey:"classroom",options:hn.classRoom,selectedValues:r.classroom??[],setFilter:i}),h.jsx($x,{filters:r,resetFilter:s}),t&&h.jsx(Ux,{filterStore:ws,onClose:()=>n(!1)})]})}function xX(){const{openScheduleModal:e}=Br(),t=new hi().toUiData();return h.jsxs("div",{className:"flex flex-col items-center gap-3 pt-5",children:[h.jsx(Sm,{title:"  .",description:"  ?   ."}),h.jsx(Et,{variant:"primary",size:"medium",onClick:()=>e(t),children:""})]})}function bX({isActive:e,subject:t,onClick:n,forwardedRef:r}){const i=e?"text-blue-500 bg-blue-50":"text-gray-700 bg-white hover:bg-gray-50",{saveSchedule:s}=Br(),{selectTargetOnly:o}=Ih(),a=u=>{s(u,!1),o(t.subjectId),ug(t.deptCd)};return h.jsx("button",{type:"button",className:`border border-gray-200 rounded-lg p-3 sm:p-4 gap-2 sm:gap-3 ${i} cursor-pointer w-full text-left`,onClick:n,ref:r,children:h.jsxs(je,{direction:"flex-col",children:[h.jsxs(je,{justify:"justify-between",align:"items-center",gap:"gap-2 ",children:[h.jsx(It,{level:3,children:t.subjectName}),h.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:t.professorName})]}),h.jsxs(je,{direction:"flex-col",justify:"justify-start",align:"items-start",gap:"gap-2 ",children:[h.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:t.lesnTime}),h.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:t.lesnRoom}),h.jsxs("span",{className:"text-xs sm:text-sm text-gray-500",children:[t.studentYear,"/",t.manageDeptNm]})]}),h.jsxs(je,{justify:"justify-between",align:"items-center",children:[h.jsxs(jo,{variant:"default",children:[t.tmNum[0],""]}),!e&&t.totalCount!==-1&&h.jsx(jx,{wishCount:t.totalCount??-1,formatter:u=>`: ${u}`}),e&&h.jsx(Et,{variant:"primary",size:"medium",onClick:a,children:""})]})]})})}const wX=({message:e})=>h.jsxs(je,{"flex-direction":"column","justify-content":"center","align-item":"center",style:{height:"100%"},children:[h.jsx(Tn,{children:e||" "}),h.jsx(Tn,{children:"  ."})]});function Q7({subjects:e,expandToMax:t,isPending:n=!1}){const{visibleRows:r,loadMoreRef:i}=gg(e,"ref"),s=N.useRef(null),o=Rt(f=>f.schedule.subjectId),{openScheduleModal:a,cancelSchedule:u}=Br();if(n)return h.jsx(wX,{message:"   ..."});if(!e.length)return h.jsx(xX,{});const c=f=>{if(o===f.subjectId){u(void 0,!1);return}const p=new hi({...new hi().toApiData(),scheduleType:"official",subjectId:f.subjectId??-1},f);a(p.toUiData()),console.log("official",o);const w=new vc(f.lesnTime).toUiData(9)[0]?.top;t&&(t(),setTimeout(()=>{if(w){const S=Number.parseFloat(w);window.scrollTo({top:S,behavior:"smooth"})}},400))};return h.jsxs(je,{direction:"flex-col",justify:"justify-end",gap:"gap-2",children:[e.slice(0,r).map(f=>{const p=o===f.subjectId;return h.jsx(bX,{subject:f,isActive:p,onClick:()=>c(f),forwardedRef:p?s:void 0},f.subjectId)}),r<e.length&&h.jsx("div",{ref:i,className:"load-more-trigger w-full h-10"})]})}const _X=new hi().toUiData();function SX(){const e=Ro(),{openScheduleModal:t}=Br(),{data:n,isPending:r}=Gs(e),i=bc(n)??[],s=ws(u=>u.filters),o=ws(u=>u.setFilter),a=N.useDeferredValue(_c(i,s));return h.jsx(wn,{children:h.jsxs(je,{direction:"flex-col",gap:"gap-3",className:"w-full bg-white h-screen md:border-t-0",children:[h.jsx(Kl,{type:"text",value:s.keywords,placeholder:" ",onDelete:()=>o("keywords",""),onChange:u=>o("keywords",u.target.value),className:"w-full"}),h.jsx(vX,{}),h.jsx(Et,{variant:"text",size:"small",onClick:()=>t(_X),children:"+   "}),h.jsx(je,{direction:"flex-col",className:"h-full overflow-hidden overflow-y-auto",children:h.jsx(Q7,{subjects:a,isPending:r})})]})})}const CX="FALL_25",XS=zm.findIndex(e=>e.semesterCode===CX),kX=XS!==-1?zm.slice(0,XS+1):[];function EX({currentSemester:e}){const t="border-b-2 border-primary text-primary pb-2";return h.jsx(je,{gap:"gap-4",className:"border-b text-sm border-gray-200",children:kX.map(n=>{const r=e===n.semesterCode;return h.jsxs(kr,{to:`/timetable?semester=${n.semesterCode}`,className:r?t:"text-gray-500 pb-2",children:[n.semesterValue,""]},n.semesterCode)})})}var cy={exports:{}},ZS;function jX(){return ZS||(ZS=1,(function(e){(function(t){var n=A(),r=$(),i=W(),s=D(),o={imagePlaceholder:void 0,cacheBust:!1},a={toSvg:u,toPng:f,toJpeg:p,toBlob:g,toPixelData:c,impl:{fontFaces:i,images:s,util:n,inliner:r,options:{}}};e.exports=a;function u(R,z){return z=z||{},y(z),Promise.resolve(R).then(function(B){return S(B,z.filter,!0)}).then(C).then(E).then(q).then(function(B){return P(B,z.width||n.width(R),z.height||n.height(R))});function q(B){return z.bgcolor&&(B.style.backgroundColor=z.bgcolor),z.width&&(B.style.width=z.width+"px"),z.height&&(B.style.height=z.height+"px"),z.style&&Object.keys(z.style).forEach(function(ae){B.style[ae]=z.style[ae]}),B}}function c(R,z){return w(R,z||{}).then(function(q){return q.getContext("2d").getImageData(0,0,n.width(R),n.height(R)).data})}function f(R,z){return w(R,z||{}).then(function(q){return q.toDataURL()})}function p(R,z){return z=z||{},w(R,z).then(function(q){return q.toDataURL("image/jpeg",z.quality||1)})}function g(R,z){return w(R,z||{}).then(n.canvasToBlob)}function y(R){typeof R.imagePlaceholder>"u"?a.impl.options.imagePlaceholder=o.imagePlaceholder:a.impl.options.imagePlaceholder=R.imagePlaceholder,typeof R.cacheBust>"u"?a.impl.options.cacheBust=o.cacheBust:a.impl.options.cacheBust=R.cacheBust}function w(R,z){return u(R,z).then(n.makeImage).then(n.delay(100)).then(function(B){var ae=q(R);return ae.getContext("2d").drawImage(B,0,0),ae});function q(B){var ae=document.createElement("canvas");if(ae.width=z.width||n.width(B),ae.height=z.height||n.height(B),z.bgcolor){var oe=ae.getContext("2d");oe.fillStyle=z.bgcolor,oe.fillRect(0,0,ae.width,ae.height)}return ae}}function S(R,z,q){if(!q&&z&&!z(R))return Promise.resolve();return Promise.resolve(R).then(B).then(function(xe){return ae(R,xe,z)}).then(function(xe){return oe(R,xe)});function B(xe){return xe instanceof HTMLCanvasElement?n.makeImage(xe.toDataURL()):xe.cloneNode(!1)}function ae(xe,Y,H){var J=xe.childNodes;if(J.length===0)return Promise.resolve(Y);return se(Y,n.asArray(J),H).then(function(){return Y});function se(X,pe,M){var G=Promise.resolve();return pe.forEach(function(me){G=G.then(function(){return S(me,M)}).then(function(U){U&&X.appendChild(U)})}),G}}function oe(xe,Y){if(!(Y instanceof Element))return Y;return Promise.resolve().then(H).then(J).then(se).then(X).then(function(){return Y});function H(){pe(window.getComputedStyle(xe),Y.style);function pe(M,G){M.cssText?G.cssText=M.cssText:me(M,G);function me(U,Pe){n.asArray(U).forEach(function(ke){Pe.setProperty(ke,U.getPropertyValue(ke),U.getPropertyPriority(ke))})}}}function J(){[":before",":after"].forEach(function(M){pe(M)});function pe(M){var G=window.getComputedStyle(xe,M),me=G.getPropertyValue("content");if(me===""||me==="none")return;var U=n.uid();Y.className=Y.className+" "+U;var Pe=document.createElement("style");Pe.appendChild(ke(U,M,G)),Y.appendChild(Pe);function ke(Ee,Qe,Ve){var vt="."+Ee+":"+Qe,ze=Ve.cssText?cr(Ve):ht(Ve);return document.createTextNode(vt+"{"+ze+"}");function cr(Zt){var Wn=Zt.getPropertyValue("content");return Zt.cssText+" content: "+Wn+";"}function ht(Zt){return n.asArray(Zt).map(Wn).join("; ")+";";function Wn(Fn){return Fn+": "+Zt.getPropertyValue(Fn)+(Zt.getPropertyPriority(Fn)?" !important":"")}}}}}function se(){xe instanceof HTMLTextAreaElement&&(Y.innerHTML=xe.value),xe instanceof HTMLInputElement&&Y.setAttribute("value",xe.value)}function X(){Y instanceof SVGElement&&(Y.setAttribute("xmlns","http://www.w3.org/2000/svg"),Y instanceof SVGRectElement&&["width","height"].forEach(function(pe){var M=Y.getAttribute(pe);M&&Y.style.setProperty(pe,M)}))}}}function C(R){return i.resolveAll().then(function(z){var q=document.createElement("style");return R.appendChild(q),q.appendChild(document.createTextNode(z)),R})}function E(R){return s.inlineAll(R).then(function(){return R})}function P(R,z,q){return Promise.resolve(R).then(function(B){return B.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(B)}).then(n.escapeXhtml).then(function(B){return'<foreignObject x="0" y="0" width="100%" height="100%">'+B+"</foreignObject>"}).then(function(B){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+z+'" height="'+q+'">'+B+"</svg>"}).then(function(B){return"data:image/svg+xml;charset=utf-8,"+B})}function A(){return{escape:X,parseExtension:z,mimeType:q,dataAsUrl:se,isDataUrl:B,canvasToBlob:oe,resolveUrl:xe,getAndEncode:J,uid:Y(),delay:pe,asArray:M,escapeXhtml:G,makeImage:H,width:me,height:U};function R(){var ke="application/font-woff",Ee="image/jpeg";return{woff:ke,woff2:ke,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Ee,jpeg:Ee,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function z(ke){var Ee=/\.([^\.\/]*?)$/g.exec(ke);return Ee?Ee[1]:""}function q(ke){var Ee=z(ke).toLowerCase();return R()[Ee]||""}function B(ke){return ke.search(/^(data:)/)!==-1}function ae(ke){return new Promise(function(Ee){for(var Qe=window.atob(ke.toDataURL().split(",")[1]),Ve=Qe.length,vt=new Uint8Array(Ve),ze=0;ze<Ve;ze++)vt[ze]=Qe.charCodeAt(ze);Ee(new Blob([vt],{type:"image/png"}))})}function oe(ke){return ke.toBlob?new Promise(function(Ee){ke.toBlob(Ee)}):ae(ke)}function xe(ke,Ee){var Qe=document.implementation.createHTMLDocument(),Ve=Qe.createElement("base");Qe.head.appendChild(Ve);var vt=Qe.createElement("a");return Qe.body.appendChild(vt),Ve.href=Ee,vt.href=ke,vt.href}function Y(){var ke=0;return function(){return"u"+Ee()+ke++;function Ee(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function H(ke){return new Promise(function(Ee,Qe){var Ve=new Image;Ve.onload=function(){Ee(Ve)},Ve.onerror=Qe,Ve.src=ke})}function J(ke){var Ee=3e4;return a.impl.options.cacheBust&&(ke+=(/\?/.test(ke)?"&":"?")+new Date().getTime()),new Promise(function(Qe){var Ve=new XMLHttpRequest;Ve.onreadystatechange=cr,Ve.ontimeout=ht,Ve.responseType="blob",Ve.timeout=Ee,Ve.open("GET",ke,!0),Ve.send();var vt;if(a.impl.options.imagePlaceholder){var ze=a.impl.options.imagePlaceholder.split(/,/);ze&&ze[1]&&(vt=ze[1])}function cr(){if(Ve.readyState===4){if(Ve.status!==200){vt?Qe(vt):Zt("cannot fetch resource: "+ke+", status: "+Ve.status);return}var Wn=new FileReader;Wn.onloadend=function(){var Fn=Wn.result.split(/,/)[1];Qe(Fn)},Wn.readAsDataURL(Ve.response)}}function ht(){vt?Qe(vt):Zt("timeout of "+Ee+"ms occured while fetching resource: "+ke)}function Zt(Wn){console.error(Wn),Qe("")}})}function se(ke,Ee){return"data:"+Ee+";base64,"+ke}function X(ke){return ke.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function pe(ke){return function(Ee){return new Promise(function(Qe){setTimeout(function(){Qe(Ee)},ke)})}}function M(ke){for(var Ee=[],Qe=ke.length,Ve=0;Ve<Qe;Ve++)Ee.push(ke[Ve]);return Ee}function G(ke){return ke.replace(/#/g,"%23").replace(/\n/g,"%0A")}function me(ke){var Ee=Pe(ke,"border-left-width"),Qe=Pe(ke,"border-right-width");return ke.scrollWidth+Ee+Qe}function U(ke){var Ee=Pe(ke,"border-top-width"),Qe=Pe(ke,"border-bottom-width");return ke.scrollHeight+Ee+Qe}function Pe(ke,Ee){var Qe=window.getComputedStyle(ke).getPropertyValue(Ee);return parseFloat(Qe.replace("px",""))}}function $(){var R=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:ae,shouldProcess:z,impl:{readUrls:q,inline:B}};function z(oe){return oe.search(R)!==-1}function q(oe){for(var xe=[],Y;(Y=R.exec(oe))!==null;)xe.push(Y[1]);return xe.filter(function(H){return!n.isDataUrl(H)})}function B(oe,xe,Y,H){return Promise.resolve(xe).then(function(se){return Y?n.resolveUrl(se,Y):se}).then(H||n.getAndEncode).then(function(se){return n.dataAsUrl(se,n.mimeType(xe))}).then(function(se){return oe.replace(J(xe),"$1"+se+"$3")});function J(se){return new RegExp(`(url\\(['"]?)(`+n.escape(se)+`)(['"]?\\))`,"g")}}function ae(oe,xe,Y){if(H())return Promise.resolve(oe);return Promise.resolve(oe).then(q).then(function(J){var se=Promise.resolve(oe);return J.forEach(function(X){se=se.then(function(pe){return B(pe,X,xe,Y)})}),se});function H(){return!z(oe)}}}function W(){return{resolveAll:R,impl:{readAll:z}};function R(){return z().then(function(q){return Promise.all(q.map(function(B){return B.resolve()}))}).then(function(q){return q.join(`
`)})}function z(){return Promise.resolve(n.asArray(document.styleSheets)).then(B).then(q).then(function(oe){return oe.map(ae)});function q(oe){return oe.filter(function(xe){return xe.type===CSSRule.FONT_FACE_RULE}).filter(function(xe){return r.shouldProcess(xe.style.getPropertyValue("src"))})}function B(oe){var xe=[];return oe.forEach(function(Y){try{n.asArray(Y.cssRules||[]).forEach(xe.push.bind(xe))}catch(H){console.log("Error while reading CSS rules from "+Y.href,H.toString())}}),xe}function ae(oe){return{resolve:function(){var Y=(oe.parentStyleSheet||{}).href;return r.inlineAll(oe.cssText,Y)},src:function(){return oe.style.getPropertyValue("src")}}}}}function D(){return{inlineAll:z,impl:{newImage:R}};function R(q){return{inline:B};function B(ae){return n.isDataUrl(q.src)?Promise.resolve():Promise.resolve(q.src).then(ae||n.getAndEncode).then(function(oe){return n.dataAsUrl(oe,n.mimeType(q.src))}).then(function(oe){return new Promise(function(xe,Y){q.onload=xe,q.onerror=Y,q.src=oe})})}}function z(q){if(!(q instanceof Element))return Promise.resolve(q);return B(q).then(function(){return q instanceof HTMLImageElement?R(q).inline():Promise.all(n.asArray(q.childNodes).map(function(ae){return z(ae)}))});function B(ae){var oe=ae.style.getPropertyValue("background");return oe?r.inlineAll(oe).then(function(xe){ae.style.setProperty("background",xe,ae.style.getPropertyPriority("background"))}).then(function(){return ae}):Promise.resolve(ae)}}}})()})(cy)),cy.exports}var TX=jX();const NX=Gi(TX);var Xp={exports:{}},PX=Xp.exports,e4;function OX(){return e4||(e4=1,(function(e,t){(function(n,r){r()})(PX,function(){function n(c,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function r(c,f,p){var g=new XMLHttpRequest;g.open("GET",c),g.responseType="blob",g.onload=function(){u(g.response,f,p)},g.onerror=function(){console.error("could not download file")},g.send()}function i(c){var f=new XMLHttpRequest;f.open("HEAD",c,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function s(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(f)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Ed=="object"&&Ed.global===Ed?Ed:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(c,f,p){var g=o.URL||o.webkitURL,y=document.createElement("a");f=f||c.name||"download",y.download=f,y.rel="noopener",typeof c=="string"?(y.href=c,y.origin===location.origin?s(y):i(y.href)?r(c,f,p):s(y,y.target="_blank")):(y.href=g.createObjectURL(c),setTimeout(function(){g.revokeObjectURL(y.href)},4e4),setTimeout(function(){s(y)},0))}:"msSaveOrOpenBlob"in navigator?function(c,f,p){if(f=f||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(n(c,p),f);else if(i(c))r(c,f,p);else{var g=document.createElement("a");g.href=c,g.target="_blank",setTimeout(function(){s(g)})}}:function(c,f,p,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof c=="string")return r(c,f,p);var y=c.type==="application/octet-stream",w=/constructor/i.test(o.HTMLElement)||o.safari,S=/CriOS\/[\d]+/.test(navigator.userAgent);if((S||y&&w||a)&&typeof FileReader<"u"){var C=new FileReader;C.onloadend=function(){var A=C.result;A=S?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=A:location=A,g=null},C.readAsDataURL(c)}else{var E=o.URL||o.webkitURL,P=E.createObjectURL(c);g?g.location=P:location.href=P,g=null,setTimeout(function(){E.revokeObjectURL(P)},4e4)}});o.saveAs=u.saveAs=u,e.exports=u})})(Xp)),Xp.exports}var RX=OX();function AX(e,t="image.png"){if(!e){console.error("Image reference is not set");return}NX.toBlob(e).then(n=>RX.saveAs(n,t)).catch(n=>{console.error("Error saving image:",n)})}const IX=e=>N.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M10 12.9791C9.8889 12.9791 9.78473 12.9619 9.68751 12.9274C9.59029 12.893 9.50001 12.8338 9.41668 12.7499L6.41668 9.74992C6.25001 9.58325 6.17001 9.38881 6.17668 9.16659C6.18334 8.94437 6.26334 8.74992 6.41668 8.58325C6.58334 8.41659 6.7814 8.32992 7.01084 8.32325C7.24029 8.31659 7.43807 8.39631 7.60418 8.56242L9.16668 10.1249V4.16659C9.16668 3.93048 9.24668 3.7327 9.40668 3.57325C9.56668 3.41381 9.76445 3.33381 10 3.33325C10.2356 3.3327 10.4336 3.4127 10.5942 3.57325C10.7547 3.73381 10.8345 3.93159 10.8333 4.16659V10.1249L12.3958 8.56242C12.5625 8.39575 12.7606 8.31575 12.99 8.32242C13.2195 8.32909 13.4172 8.41603 13.5833 8.58325C13.7361 8.74992 13.8161 8.94437 13.8233 9.16659C13.8306 9.38881 13.7506 9.58325 13.5833 9.74992L10.5833 12.7499C10.5 12.8333 10.4097 12.8924 10.3125 12.9274C10.2153 12.9624 10.1111 12.9796 10 12.9791ZM5.00001 16.6666C4.54168 16.6666 4.14945 16.5035 3.82334 16.1774C3.49723 15.8513 3.3339 15.4588 3.33334 14.9999V13.3333C3.33334 13.0971 3.41334 12.8994 3.57334 12.7399C3.73334 12.5805 3.93112 12.5005 4.16668 12.4999C4.40223 12.4994 4.60029 12.5794 4.76084 12.7399C4.9214 12.9005 5.00112 13.0983 5.00001 13.3333V14.9999H15V13.3333C15 13.0971 15.08 12.8994 15.24 12.7399C15.4 12.5805 15.5978 12.5005 15.8333 12.4999C16.0689 12.4994 16.267 12.5794 16.4275 12.7399C16.5881 12.9005 16.6678 13.0983 16.6667 13.3333V14.9999C16.6667 15.4583 16.5036 15.8508 16.1775 16.1774C15.8514 16.5041 15.4589 16.6671 15 16.6666H5.00001Z",fill:"#9CA3AF"}));function LX({setIsOpenModal:e,timetables:t}){const n=Rt(o=>o.options.isMobile),r=To(o=>o.openBottomSheet),i=()=>{const o=Rt.getState()?.currentTimetable?.timeTableName,a=Rt.getState().options.containerRef;AX(a,o?o+".png":".png")},s=()=>{e("create")};return h.jsxs(je,{children:[h.jsx(lr,{icon:h.jsx(IX,{className:"w-5 h-5"}),variant:"plain",label:"  ",onClick:i}),n&&h.jsx(lr,{icon:h.jsx(yg,{className:"w-5 h-5"}),variant:"plain",label:" ",onClick:()=>r("search")}),!n&&t&&t.length>=0&&h.jsx(Et,{variant:"text",size:"medium",onClick:s,children:"+  "})]})}const DX=({setIsOpenModal:e,openCreateModal:t,timetables:n,currentTimetable:r})=>{const i=Rt(c=>c.pickTimetable),{mutate:s}=C6(),o=c=>{const f=n.find(p=>p.timeTableId===c.timeTableId);f&&i(f)},a=()=>{e("edit")},u=c=>{s(c)};return!r&&n.length===0?h.jsx(Et,{variant:"primary",size:"medium",onClick:t,children:" "}):h.jsxs(ic,{children:[h.jsx(ic.Trigger,{label:r?r.timeTableName:" "}),h.jsx(ic.Content,{children:h.jsxs(je,{direction:"flex-col",gap:"gap-4",children:[n.length===0&&h.jsx(Tn,{children:"  ."}),n.map(c=>h.jsxs(je,{gap:"gap-4",children:[h.jsx(Lm,{label:c.timeTableName,checked:r?.timeTableId===c.timeTableId,onChange:()=>o(c)},c.timeTableId),r?.timeTableId===c.timeTableId&&h.jsxs(je,{gap:"gap-4",children:[h.jsx(Et,{variant:"text",size:"small",onClick:a,children:""}),h.jsx(Et,{variant:"text",size:"small",textColor:"secondary",onClick:()=>u(c.timeTableId),children:""})]})]},c.timeTableName+c.timeTableId)),r&&h.jsx(Et,{variant:"text",size:"small",textColor:"gray",onClick:t,children:"+  "})]})})]})};function MX({onClose:e,type:t}){const[n,r]=N.useState(""),i=Rt(S=>S.currentTimetable),s=Ul(),[o,a]=N.useState(i?.semesterCode??s.data?.semesterCode??""),{mutate:u}=VO(),{mutate:c}=C6(),{mutate:f}=k6(),p=()=>{t==="edit"&&i&&(c(i.timeTableId),e())},g=S=>{if(S.preventDefault(),i&&t==="edit"){u({timeTableId:i.timeTableId,timeTableName:n}),e();return}t==="create"&&(f({timeTableName:n,semesterCode:o}),e())},y=S=>{S.key==="Escape"&&e()};N.useEffect(()=>(window.addEventListener("keydown",y),()=>{window.removeEventListener("keydown",y)}),[]);const w=S=>{if(t==="edit"){alert("   .");return}a(S)};return h.jsx(Pn,{title:`${t==="edit"?" ":" "}`,onClose:e,isOpen:!0,children:h.jsxs("form",{onSubmit:g,children:[h.jsxs(Pn.Content,{children:[h.jsx(ur,{children:" "}),h.jsx(Ia,{columns:{base:2},gap:"gap-2",children:zm.map(S=>h.jsx(Nn,{label:S.semesterValue,selected:S.semesterCode===o,onClick:()=>w(S.semesterCode)},S.semesterCode))}),h.jsx(d6,{id:"timetableName",required:!0,size:"medium",placeholder:"  .",value:n,onChange:S=>r(S.target.value)},"timetableName")]}),h.jsxs(Pn.Footer,{children:[h.jsx(Et,{type:"submit",variant:"primary",size:"medium",children:""}),i&&t==="edit"&&h.jsx(Et,{type:"button",variant:"secondary",textColor:"secondary",size:"medium",onClick:p,children:""})]})]})})}const FX=(e,t)=>{const n=Rt(i=>i.currentTimetable),r=Rt(i=>i.pickTimetable);return N.useEffect(()=>{r(t[0])},[e]),{currentSemester:e,currentTimetable:n}};function BX({currentSemester:e}){const{data:t}=_6(e),{currentTimetable:n}=FX(e,t??[]),r=Rt(c=>c.pickTimetable),{data:i}=S6(n?.timeTableId,e),[s,o]=N.useState(null),{cancelSchedule:a}=Br(),u=()=>{o("create")};return N.useEffect(()=>{a(void 0,!0)},[e,a]),N.useEffect(()=>{if(!t)return;!n&&t.length>0&&r(t[0]),t.find(f=>f.timeTableId===n?.timeTableId)||r(t[t.length-1])},[t]),h.jsxs(wn,{className:"px-2 flex flex-col gap-2 relative overflow-hidden",children:[h.jsx("header",{children:h.jsxs(je,{align:"items-center",justify:"justify-between",gap:"gap-2",children:[h.jsx(DX,{timetables:t??[],currentTimetable:n,setIsOpenModal:o,openCreateModal:u}),h.jsx(LX,{setIsOpenModal:o}),s&&h.jsx(MX,{type:s,onClose:()=>o(null)})]})}),h.jsx(uR,{schedules:i??[]})]})}function zX({onCloseSearch:e,onOpenFiltering:t}){const n=Ro(),{openScheduleModal:r}=Br(),{data:i,isPending:s}=Gs(n),o=bc(i)??[],a=ws(g=>g.filters),u=ws(g=>g.setFilter),c=N.useDeferredValue(_c(o,a)),f=new hi().toUiData(),{keywords:p}=a;return h.jsx(Dh,{children:({expandToMax:g})=>h.jsxs(h.Fragment,{children:[h.jsx(Mh,{title:"",headerType:"add",onClose:e,onClick:()=>r(f)}),h.jsxs("div",{className:"sticky px-2 top-0 bg-white z-10 flex items-center gap-2 py-3",children:[h.jsx(Kl,{type:"text",placeholder:"   ",value:p,onChange:y=>u("keywords",y.target.value),onDelete:()=>u("keywords",""),className:"w-full"}),h.jsx(lr,{"aria-label":"filter",variant:"plain",label:"filter",icon:h.jsx(kk,{className:"w-6 h-6"}),onClick:()=>t()})]}),h.jsx(je,{direction:"flex-col",className:"max-h-[70vh] min-h-0 px-2 overflow-y-auto touch-auto",children:h.jsx(Q7,{expandToMax:g,subjects:c,isPending:s})})]})})}const $X=(e,t)=>{const n=Nm(e),r=Nm(t);return{startHour:n.hour,startMinute:n.minute,endHour:r.hour,endMinute:r.minute}},UX={hour:"10",minute:"00"},Nm=(e,t=UX)=>{if(!e)return t;let[n,r]=e.split(":").map(Number);return Number.isNaN(n)&&(n=Number(t.hour)),Number.isNaN(r)&&(r=Number(t.minute)),{hour:n.toString(),minute:r.toString().padStart(2,"0")}},t4=e=>{const{hour:t,minute:n}=e;return`${t}:${n}`};function HX(e,t){return e.some(r=>r.dayOfWeeks===t)?e.filter(r=>r.dayOfWeeks!==t):[...e,{dayOfWeeks:t,startTime:"",endTime:""}]}function VX(e,t,n){const r=Nm(e.startTime),i=Nm(e.endTime);let s=r,o=i;switch(t){case"startHour":s={...r,hour:n};break;case"startMinute":s={...r,minute:n};break;case"endHour":o={...i,hour:n};break;case"endMinute":o={...i,minute:n};break}return{...e,startTime:t4(s),endTime:t4(o)}}const zp=Array.from({length:24},(e,t)=>`${t}`),$p=["00","10","20","30","40","50"];function WX({timeRange:e,onChange:t,day:n}){const r=(i,s)=>{if(n){t(i,s,n);return}t(i,s)};return h.jsx("div",{className:" w-full h-3 flex gap-2 flex-col justify-center",children:h.jsxs("div",{className:"relative w-full flex gap-2 flex-wrap",children:[h.jsx("select",{name:"startHour",value:e.startHour??zp[8],onChange:i=>r("startHour",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:zp.map(i=>h.jsx("option",{value:i,children:i},i))}),h.jsx("select",{name:"startMinute",value:e.startMinute??$p[0],onChange:i=>r("startMinute",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:$p.map(i=>h.jsx("option",{value:i,children:i},i))}),h.jsx("span",{className:"text-gray-400 text-sm mx-1",children:"~"}),h.jsx("select",{name:"endHour",value:e.endHour??zp[9],onChange:i=>r("endHour",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:zp.map(i=>h.jsx("option",{value:i,children:i},i))}),h.jsx("select",{name:"endMinute",value:e.endMinute??$p[0],onChange:i=>r("endMinute",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:$p.map(i=>h.jsx("option",{value:i,children:i},i))})]})})}function K7(){const e=Rt(o=>o.options.isMobile),{schedule:t}=Eh(),{editSchedule:n}=Br(),r=[{id:"subjectName",name:"",value:t?.subjectName??""},{id:"professorName",name:"",value:t?.professorName??""},{id:"location",name:"",value:t?.location??""}],i=o=>{n(a=>({...a,timeSlots:HX(a.timeSlots,o)}))},s=(o,a,u)=>{n(c=>{const f=c.timeSlots.map(p=>p.dayOfWeeks===u?VX(p,o,a):p);return{...c,timeSlots:f}})};return h.jsxs(je,{direction:"flex-col",gap:e?"gap-4":"gap-5",children:[r.map(({id:o,name:a,value:u})=>h.jsx(d6,{size:"medium",id:o,placeholder:`${a} `,value:u,label:a,onChange:c=>n(f=>({...f,[o]:c.target.value})),required:!0},o)),h.jsxs(je,{gap:"gap-2",direction:"flex-col",children:[h.jsx(ur,{children:""}),h.jsx(je,{direction:"flex-wrap",children:Hm.map(o=>h.jsx(Nn,{label:o,selected:t.timeSlots.some(a=>a.dayOfWeeks===o),onClick:()=>i(o)},o))})]}),t.timeSlots.map(o=>h.jsxs(je,{direction:"flex-col",gap:"gap-4",children:[h.jsx(ur,{children:o.dayOfWeeks}),h.jsx(WX,{day:o.dayOfWeeks,timeRange:$X(o.startTime,o.endTime),onChange:s})]},o.dayOfWeeks))]})}function qX(){const{modalActionType:e}=Eh(),t=e===Un.CREATE?"":"",{saveSchedule:n,deleteSchedule:r,cancelSchedule:i}=Br(),s=Ni(),o=c=>{c.key==="Escape"&&i(c)};N.useEffect(()=>(document.addEventListener("keydown",o),()=>{document.removeEventListener("keydown",o)}),[]);const a=c=>{n(c)},u=c=>{r(c)};return h.jsx(Pn,{title:`  ${t}`,onClose:i,isOpen:!0,children:h.jsxs("form",{onSubmit:a,className:"flex flex-col gap-5",children:[h.jsx(Pn.Content,{children:h.jsx(K7,{})}),h.jsxs(Pn.Footer,{children:[(e===Un.EDIT||e===Un.VIEW)&&h.jsx(Et,{variant:"secondary",size:s?"small":"medium",onClick:u,children:""}),h.jsx(Et,{type:"submit",variant:"primary",size:s?"small":"medium",children:""})]})]})})}const G7=e=>N.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M8.5 4.6665C8.5 4.5339 8.44732 4.40672 8.35355 4.31295C8.25979 4.21918 8.13261 4.1665 8 4.1665C7.86739 4.1665 7.74022 4.21918 7.64645 4.31295C7.55268 4.40672 7.5 4.5339 7.5 4.6665V7.99984C7.49996 8.08461 7.52148 8.168 7.56253 8.24217C7.60358 8.31634 7.66282 8.37885 7.73467 8.42384L9.73467 9.67384C9.84712 9.74421 9.98292 9.76703 10.1122 9.73727C10.1762 9.72254 10.2367 9.69534 10.2902 9.65723C10.3437 9.61912 10.3892 9.57085 10.424 9.51517C10.4588 9.45949 10.4824 9.39749 10.4933 9.33272C10.5041 9.26794 10.5022 9.20165 10.4874 9.13764C10.4727 9.07363 10.4455 9.01315 10.4074 8.95965C10.3693 8.90615 10.321 8.86068 10.2653 8.82584L8.5 7.7225V4.6665Z",fill:"#D1D5DB"}),N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.99996 2.1665C6.45286 2.1665 4.96913 2.78109 3.87517 3.87505C2.78121 4.96901 2.16663 6.45274 2.16663 7.99984C2.16663 9.54693 2.78121 11.0307 3.87517 12.1246C4.96913 13.2186 6.45286 13.8332 7.99996 13.8332C9.54706 13.8332 11.0308 13.2186 12.1248 12.1246C13.2187 11.0307 13.8333 9.54693 13.8333 7.99984C13.8333 6.45274 13.2187 4.96901 12.1248 3.87505C11.0308 2.78109 9.54706 2.1665 7.99996 2.1665ZM3.16663 7.99984C3.16663 7.36512 3.29164 6.73661 3.53454 6.1502C3.77744 5.56379 4.13346 5.03097 4.58228 4.58215C5.03109 4.13334 5.56392 3.77732 6.15032 3.53442C6.73673 3.29152 7.36524 3.1665 7.99996 3.1665C8.63468 3.1665 9.26319 3.29152 9.8496 3.53442C10.436 3.77732 10.9688 4.13334 11.4176 4.58215C11.8665 5.03097 12.2225 5.56379 12.4654 6.1502C12.7083 6.73661 12.8333 7.36512 12.8333 7.99984C12.8333 9.28172 12.3241 10.5111 11.4176 11.4175C10.5112 12.3239 9.28184 12.8332 7.99996 12.8332C6.71808 12.8332 5.4887 12.3239 4.58228 11.4175C3.67585 10.5111 3.16663 9.28172 3.16663 7.99984Z",fill:"#D1D5DB"})),Y7=e=>N.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M13.7069 6.79266L8.70688 1.79266C8.51936 1.60527 8.26511 1.5 8.00001 1.5C7.7349 1.5 7.48065 1.60527 7.29313 1.79266L2.29313 6.79266C2.19982 6.88528 2.12586 6.99552 2.07553 7.11698C2.02521 7.23844 1.99954 7.36869 2.00001 7.50016V13.5002C2.00001 13.6328 2.05268 13.7599 2.14645 13.8537C2.24022 13.9475 2.3674 14.0002 2.50001 14.0002H6.50001C6.63261 14.0002 6.75979 13.9475 6.85356 13.8537C6.94733 13.7599 7.00001 13.6328 7.00001 13.5002V10.0002H9.00001V13.5002C9.00001 13.6328 9.05268 13.7599 9.14645 13.8537C9.24022 13.9475 9.3674 14.0002 9.50001 14.0002H13.5C13.6326 14.0002 13.7598 13.9475 13.8536 13.8537C13.9473 13.7599 14 13.6328 14 13.5002V7.50016C14.0005 7.36869 13.9748 7.23844 13.9245 7.11698C13.8742 6.99552 13.8002 6.88528 13.7069 6.79266ZM13 13.0002H10V9.50016C10 9.36755 9.94733 9.24038 9.85356 9.14661C9.75979 9.05284 9.63261 9.00016 9.50001 9.00016H6.50001C6.3674 9.00016 6.24022 9.05284 6.14645 9.14661C6.05268 9.24038 6.00001 9.36755 6.00001 9.50016V13.0002H3.00001V7.50016L8.00001 2.50016L13 7.50016V13.0002Z",fill:"#D1D5DB"}));function QX(){const e=Ro(),{schedule:t}=Eh(),{deleteSchedule:n}=Br(),r=To(a=>a.closeBottomSheet),{data:i}=Es(e),s=a=>{confirm("  ?")&&n(a)},o=i?.find(a=>a.subjectId===t.subjectId);return h.jsxs(Pn,{title:t.subjectName,onClose:()=>r("info"),isOpen:!0,children:[h.jsx(Pn.Content,{children:h.jsxs(je,{direction:"flex-col",gap:"gap-1",className:"w-80 text-sm text-gray-500",children:[h.jsx("p",{children:t.professorName??"  "}),h.jsxs(je,{align:"items-center",gap:"gap-2",children:[h.jsx(G7,{className:"w-4 h-4 text-gray-400"}),h.jsx("p",{children:o?.lesnTime})]}),h.jsxs(je,{align:"items-center",gap:"gap-2",children:[h.jsx(Y7,{className:"w-4 h-4 text-gray-400"}),h.jsx("p",{children:o?.lesnRoom??"  "})]}),h.jsxs("p",{children:[o?.manageDeptNm," ",o?.studentYear+""," ",h.jsx("span",{className:"text-blue-500",children:o?.tmNum[0]+""})]})]})}),h.jsx(Pn.Footer,{children:h.jsx(Et,{variant:"text",size:"medium",textColor:"secondary",onClick:s,children:""})})]})}function KX(){const{modalActionType:e}=Eh(),{cancelSchedule:t,deleteSchedule:n,saveSchedule:r}=Br(),i=u=>{t(u)},s=e===Un.CREATE?"":"",o=Ni(),a=u=>{r(u)};return h.jsxs(Dh,{children:[h.jsx(Mh,{title:`  ${s}`,headerType:"close",onClose:i}),h.jsxs("form",{onSubmit:a,className:"flex flex-col gap-5",children:[h.jsx(je,{direction:"flex-col",className:"py-5 px-2 overflow-y-auto max-h-[80vh]",children:h.jsx(K7,{})}),h.jsxs(je,{justify:"justify-end",gap:o?"gap-2":"gap-4",className:"p-4",children:[(e===Un.EDIT||e===Un.VIEW)&&h.jsx(Et,{variant:"secondary",size:o?"small":"medium",onClick:n,children:""}),h.jsx(Et,{type:"submit",variant:"primary",size:o?"small":"medium",children:""})]})]})]})}function GX(){const e=Ro(),{schedule:t}=Eh(),{deleteSchedule:n,cancelSchedule:r}=Br(),{data:i}=Es(e),s=a=>{confirm("  ?")&&n(a)},o=i?.find(a=>a.subjectId===t.subjectId);return h.jsxs(Dh,{children:[h.jsx(Mh,{headerType:"close",onClose:r}),h.jsxs(je,{direction:"flex-col",className:"px-2 py-3 w-full text-sm text-gray-500 gap-2",children:[h.jsx(It,{level:3,children:t.subjectName}),h.jsx("p",{className:"text-sm text-gray-500",children:t.professorName??"  "}),h.jsxs(je,{align:"items-center",children:[h.jsx(G7,{className:"w-4 h-4 text-gray-400"}),h.jsx("span",{children:o?.lesnTime})]}),h.jsxs(je,{align:"items-center",children:[h.jsx(Y7,{className:"w-4 h-4 text-gray-400"}),h.jsx("span",{children:o?.lesnRoom??"  "})]}),h.jsxs(je,{children:[h.jsx("span",{children:o?.manageDeptNm}),h.jsxs("span",{children:[" ",o?.studentYear+""]}),h.jsx("span",{className:"text-blue-500 text-sm",children:o?.tmNum[0]+""})]}),h.jsxs(je,{children:[h.jsxs("span",{children:[o?.curiTypeCdNm??""," "]}),h.jsx("span",{children:o?.remark??""})]}),h.jsx(je,{justify:"justify-end",className:"px-2",children:h.jsx(Et,{variant:"text",size:"medium",textColor:"secondary",onClick:s,children:""})})]})]})}function YX(){return Ni()?h.jsx(JX,{}):h.jsx(XX,{})}function JX(){const e=To(f=>f.type),t=To(f=>f.closeBottomSheet),n=To(f=>f.openBottomSheet),r=()=>{t("search")},i=()=>{t("filter"),n("search")},s=()=>{n("search")},o=()=>{n("filter")},a=ws(f=>f.filters),u=ws(f=>f.setFilter),c=ws(f=>f.resetFilters);return h.jsxs(h.Fragment,{children:[h.jsx(Cl,{when:e.search.isOpen,children:h.jsx(zX,{onCloseSearch:r,onOpenFiltering:o})}),h.jsx(Cl,{when:e.filter.isOpen,children:h.jsx(Hx,{onCloseFiltering:i,filters:a,setFilter:u,resetFilter:c})}),h.jsx(Cl,{when:e.edit.isOpen,children:h.jsx(KX,{})}),h.jsx(Cl,{when:e.info.isOpen,children:h.jsx(GX,{})}),h.jsx(Cl,{when:!e.search.isOpen&&!e.filter.isOpen&&!e.edit.isOpen&&!e.info.isOpen,children:h.jsx("div",{className:"fixed bottom-4 right-4 z-5",children:h.jsx(Et,{size:"small",variant:"circle",onClick:s,children:h.jsx(Nk,{fill:"#ffffff",className:"w-6 h-6 cursor-pointer"})})})})]})}function XX(){const e=To(t=>t.type);return h.jsxs(h.Fragment,{children:[h.jsx(Cl,{when:e.edit.isOpen,children:h.jsx(qX,{})}),h.jsx(Cl,{when:e.info.isOpen,children:h.jsx(QX,{})})]})}function Cl({when:e,children:t}){return e?h.jsx(h.Fragment,{children:t}):null}function ZX(){const{data:e}=Ul("timetable"),[t,n]=L4(),r=e?.semesterCode,i=t.get("semester")??r;return N.useEffect(()=>{!t.has("semester")&&r&&n({semester:r},{replace:!0})},[t,r,n]),{currentSemester:i??Ki.semesterCode,defaultSemester:r,isLoading:!e}}function eZ(){const{currentSemester:e}=ZX();return h.jsxs("div",{className:"px-4 py-2",children:[h.jsxs(Er,{children:[h.jsx("title",{children:"ALLCLL | "}),h.jsx("meta",{name:"description",content:"  , !"})]}),h.jsxs("div",{className:"grid md:grid-cols-5 gap-4 mb-4",children:[h.jsx("div",{className:"md:col-span-3 w-full",children:h.jsxs(je,{direction:"flex-col",gap:"gap-2",children:[h.jsx(It,{level:1,children:""}),h.jsx(EX,{currentSemester:e}),h.jsx(BX,{currentSemester:e})]})}),h.jsx("div",{className:"w-full md:col-span-2 hidden md:block",children:h.jsx(SX,{})})]}),h.jsx(YX,{})]})}const tZ=uj([{path:"/",element:h.jsx(S3,{}),errorElement:h.jsx(Dd,{}),children:[{path:"/",element:h.jsx(OF,{})},{path:"survey",element:h.jsx(SH,{})},{path:"about",element:h.jsx(_H,{})},{path:"faq",element:h.jsx(eY,{})}]},{path:"wishes",element:h.jsx(C3,{serviceId:"baskets"}),errorElement:h.jsx(TY,{}),children:[{path:"",element:h.jsx(pY,{})},{path:":id",element:h.jsx(EY,{})}]},{path:"live",element:h.jsx(C3,{serviceId:"live"}),errorElement:h.jsx(Dd,{}),children:[{path:"",element:h.jsx(xH,{})}]},{path:"simulation",element:h.jsx(DO,{}),errorElement:h.jsx(Dd,{}),children:[{path:"",element:h.jsx(YJ,{})},{path:"logs",element:h.jsx(sX,{})},{path:"logs/:runId",element:h.jsx(gX,{})}]},{path:"timetable",element:h.jsx(S3,{}),children:[{index:!0,element:h.jsx(eZ,{})}],errorElement:h.jsx(Dd,{})},{path:"*",element:h.jsx($7,{})}]),nZ=new Vj;rZ();function rZ(){Y8.createRoot(document.getElementById("root")).render(h.jsx(N.StrictMode,{children:h.jsx(Wj,{client:nZ,children:h.jsx(lP,{children:h.jsx(bj,{router:tZ})})})})),"serviceWorker"in navigator&&navigator.serviceWorker.register("/serviceWorker.js").then(function(e){console.log("Service Worker registered with scope:",e.scope)}).catch(function(e){console.log("Service Worker registration failed:",e)})}
//# sourceMappingURL=index-ChlVNCzc.js.map
