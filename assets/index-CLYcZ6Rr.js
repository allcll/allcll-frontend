try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="16fbc4ca-260a-4a51-9f35-714221d3ef5a",e._sentryDebugIdIdentifier="sentry-dbid-16fbc4ca-260a-4a51-9f35-714221d3ef5a")}catch{}{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"955e14116c9618535395ded819d7b8e83cf4aeff"}}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const B9="modulepreload",z9=function(e){return"/"+e},fb={},Gd=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let c=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};var o=c;document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=a?.nonce||a?.getAttribute("nonce");i=c(n.map(f=>{if(f=z9(f),f in fb)return;fb[f]=!0;const p=f.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":B9,p||(v.as="script"),v.crossOrigin="",v.href=f,u&&v.setAttribute("nonce",u),document.head.appendChild(v),p)return new Promise((w,_)=>{v.addEventListener("load",w),v.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return i.then(a=>{for(const u of a||[])u.status==="rejected"&&s(u.reason);return t().catch(s)})};var ld=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function $9(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var c0={exports:{}},Uc={},d0={exports:{}},Ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pb;function U9(){if(pb)return Ot;pb=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function g(G){return G===null||typeof G!="object"?null:(G=p&&G[p]||G["@@iterator"],typeof G=="function"?G:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,_={};function C(G,ye,$){this.props=G,this.context=ye,this.refs=_,this.updater=$||v}C.prototype.isReactComponent={},C.prototype.setState=function(G,ye){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ye,"setState")},C.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function E(){}E.prototype=C.prototype;function L(G,ye,$){this.props=G,this.context=ye,this.refs=_,this.updater=$||v}var A=L.prototype=new E;A.constructor=L,w(A,C.prototype),A.isPureReactComponent=!0;var B=Array.isArray,U=Object.prototype.hasOwnProperty,P={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function z(G,ye,$){var De,je={},Ee=null,Ye=null;if(ye!=null)for(De in ye.ref!==void 0&&(Ye=ye.ref),ye.key!==void 0&&(Ee=""+ye.key),ye)U.call(ye,De)&&!D.hasOwnProperty(De)&&(je[De]=ye[De]);var Ke=arguments.length-2;if(Ke===1)je.children=$;else if(1<Ke){for(var Pe=Array(Ke),ht=0;ht<Ke;ht++)Pe[ht]=arguments[ht+2];je.children=Pe}if(G&&G.defaultProps)for(De in Ke=G.defaultProps,Ke)je[De]===void 0&&(je[De]=Ke[De]);return{$$typeof:e,type:G,key:Ee,ref:Ye,props:je,_owner:P.current}}function Q(G,ye){return{$$typeof:e,type:G.type,key:ye,ref:G.ref,props:G.props,_owner:G._owner}}function F(G){return typeof G=="object"&&G!==null&&G.$$typeof===e}function oe(G){var ye={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function($){return ye[$]})}var le=/\/+/g;function ue(G,ye){return typeof G=="object"&&G!==null&&G.key!=null?oe(""+G.key):ye.toString(36)}function W(G,ye,$,De,je){var Ee=typeof G;(Ee==="undefined"||Ee==="boolean")&&(G=null);var Ye=!1;if(G===null)Ye=!0;else switch(Ee){case"string":case"number":Ye=!0;break;case"object":switch(G.$$typeof){case e:case t:Ye=!0}}if(Ye)return Ye=G,je=je(Ye),G=De===""?"."+ue(Ye,0):De,B(je)?($="",G!=null&&($=G.replace(le,"$&/")+"/"),W(je,ye,$,"",function(ht){return ht})):je!=null&&(F(je)&&(je=Q(je,$+(!je.key||Ye&&Ye.key===je.key?"":(""+je.key).replace(le,"$&/")+"/")+G)),ye.push(je)),1;if(Ye=0,De=De===""?".":De+":",B(G))for(var Ke=0;Ke<G.length;Ke++){Ee=G[Ke];var Pe=De+ue(Ee,Ke);Ye+=W(Ee,ye,$,Pe,je)}else if(Pe=g(G),typeof Pe=="function")for(G=Pe.call(G),Ke=0;!(Ee=G.next()).done;)Ee=Ee.value,Pe=De+ue(Ee,Ke++),Ye+=W(Ee,ye,$,Pe,je);else if(Ee==="object")throw ye=String(G),Error("Objects are not valid as a React child (found: "+(ye==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ye)+"). If you meant to render a collection of children, use an array instead.");return Ye}function V(G,ye,$){if(G==null)return G;var De=[],je=0;return W(G,De,"","",function(Ee){return ye.call($,Ee,je++)}),De}function J(G){if(G._status===-1){var ye=G._result;ye=ye(),ye.then(function($){(G._status===0||G._status===-1)&&(G._status=1,G._result=$)},function($){(G._status===0||G._status===-1)&&(G._status=2,G._result=$)}),G._status===-1&&(G._status=0,G._result=ye)}if(G._status===1)return G._result.default;throw G._result}var te={current:null},ne={transition:null},me={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:ne,ReactCurrentOwner:P};function I(){throw Error("act(...) is not supported in production builds of React.")}return Ot.Children={map:V,forEach:function(G,ye,$){V(G,function(){ye.apply(this,arguments)},$)},count:function(G){var ye=0;return V(G,function(){ye++}),ye},toArray:function(G){return V(G,function(ye){return ye})||[]},only:function(G){if(!F(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Ot.Component=C,Ot.Fragment=n,Ot.Profiler=i,Ot.PureComponent=L,Ot.StrictMode=r,Ot.Suspense=u,Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Ot.act=I,Ot.cloneElement=function(G,ye,$){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var De=w({},G.props),je=G.key,Ee=G.ref,Ye=G._owner;if(ye!=null){if(ye.ref!==void 0&&(Ee=ye.ref,Ye=P.current),ye.key!==void 0&&(je=""+ye.key),G.type&&G.type.defaultProps)var Ke=G.type.defaultProps;for(Pe in ye)U.call(ye,Pe)&&!D.hasOwnProperty(Pe)&&(De[Pe]=ye[Pe]===void 0&&Ke!==void 0?Ke[Pe]:ye[Pe])}var Pe=arguments.length-2;if(Pe===1)De.children=$;else if(1<Pe){Ke=Array(Pe);for(var ht=0;ht<Pe;ht++)Ke[ht]=arguments[ht+2];De.children=Ke}return{$$typeof:e,type:G.type,key:je,ref:Ee,props:De,_owner:Ye}},Ot.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:s,_context:G},G.Consumer=G},Ot.createElement=z,Ot.createFactory=function(G){var ye=z.bind(null,G);return ye.type=G,ye},Ot.createRef=function(){return{current:null}},Ot.forwardRef=function(G){return{$$typeof:a,render:G}},Ot.isValidElement=F,Ot.lazy=function(G){return{$$typeof:f,_payload:{_status:-1,_result:G},_init:J}},Ot.memo=function(G,ye){return{$$typeof:c,type:G,compare:ye===void 0?null:ye}},Ot.startTransition=function(G){var ye=ne.transition;ne.transition={};try{G()}finally{ne.transition=ye}},Ot.unstable_act=I,Ot.useCallback=function(G,ye){return te.current.useCallback(G,ye)},Ot.useContext=function(G){return te.current.useContext(G)},Ot.useDebugValue=function(){},Ot.useDeferredValue=function(G){return te.current.useDeferredValue(G)},Ot.useEffect=function(G,ye){return te.current.useEffect(G,ye)},Ot.useId=function(){return te.current.useId()},Ot.useImperativeHandle=function(G,ye,$){return te.current.useImperativeHandle(G,ye,$)},Ot.useInsertionEffect=function(G,ye){return te.current.useInsertionEffect(G,ye)},Ot.useLayoutEffect=function(G,ye){return te.current.useLayoutEffect(G,ye)},Ot.useMemo=function(G,ye){return te.current.useMemo(G,ye)},Ot.useReducer=function(G,ye,$){return te.current.useReducer(G,ye,$)},Ot.useRef=function(G){return te.current.useRef(G)},Ot.useState=function(G){return te.current.useState(G)},Ot.useSyncExternalStore=function(G,ye,$){return te.current.useSyncExternalStore(G,ye,$)},Ot.useTransition=function(){return te.current.useTransition()},Ot.version="18.3.1",Ot}var mb;function rm(){return mb||(mb=1,d0.exports=U9()),d0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gb;function H9(){if(gb)return Uc;gb=1;var e=rm(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,u,c){var f,p={},g=null,v=null;c!==void 0&&(g=""+c),u.key!==void 0&&(g=""+u.key),u.ref!==void 0&&(v=u.ref);for(f in u)r.call(u,f)&&!s.hasOwnProperty(f)&&(p[f]=u[f]);if(a&&a.defaultProps)for(f in u=a.defaultProps,u)p[f]===void 0&&(p[f]=u[f]);return{$$typeof:t,type:a,key:g,ref:v,props:p,_owner:i.current}}return Uc.Fragment=n,Uc.jsx=o,Uc.jsxs=o,Uc}var yb;function Q9(){return yb||(yb=1,c0.exports=H9()),c0.exports}var h=Q9(),N=rm();const en=xi(N);var Cf={},h0={exports:{}},Wr={},f0={exports:{}},p0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xb;function V9(){return xb||(xb=1,function(e){function t(ne,me){var I=ne.length;ne.push(me);e:for(;0<I;){var G=I-1>>>1,ye=ne[G];if(0<i(ye,me))ne[G]=me,ne[I]=ye,I=G;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var me=ne[0],I=ne.pop();if(I!==me){ne[0]=I;e:for(var G=0,ye=ne.length,$=ye>>>1;G<$;){var De=2*(G+1)-1,je=ne[De],Ee=De+1,Ye=ne[Ee];if(0>i(je,I))Ee<ye&&0>i(Ye,je)?(ne[G]=Ye,ne[Ee]=I,G=Ee):(ne[G]=je,ne[De]=I,G=De);else if(Ee<ye&&0>i(Ye,I))ne[G]=Ye,ne[Ee]=I,G=Ee;else break e}}return me}function i(ne,me){var I=ne.sortIndex-me.sortIndex;return I!==0?I:ne.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],c=[],f=1,p=null,g=3,v=!1,w=!1,_=!1,C=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(ne){for(var me=n(c);me!==null;){if(me.callback===null)r(c);else if(me.startTime<=ne)r(c),me.sortIndex=me.expirationTime,t(u,me);else break;me=n(c)}}function B(ne){if(_=!1,A(ne),!w)if(n(u)!==null)w=!0,J(U);else{var me=n(c);me!==null&&te(B,me.startTime-ne)}}function U(ne,me){w=!1,_&&(_=!1,E(z),z=-1),v=!0;var I=g;try{for(A(me),p=n(u);p!==null&&(!(p.expirationTime>me)||ne&&!oe());){var G=p.callback;if(typeof G=="function"){p.callback=null,g=p.priorityLevel;var ye=G(p.expirationTime<=me);me=e.unstable_now(),typeof ye=="function"?p.callback=ye:p===n(u)&&r(u),A(me)}else r(u);p=n(u)}if(p!==null)var $=!0;else{var De=n(c);De!==null&&te(B,De.startTime-me),$=!1}return $}finally{p=null,g=I,v=!1}}var P=!1,D=null,z=-1,Q=5,F=-1;function oe(){return!(e.unstable_now()-F<Q)}function le(){if(D!==null){var ne=e.unstable_now();F=ne;var me=!0;try{me=D(!0,ne)}finally{me?ue():(P=!1,D=null)}}else P=!1}var ue;if(typeof L=="function")ue=function(){L(le)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,V=W.port2;W.port1.onmessage=le,ue=function(){V.postMessage(null)}}else ue=function(){C(le,0)};function J(ne){D=ne,P||(P=!0,ue())}function te(ne,me){z=C(function(){ne(e.unstable_now())},me)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ne){ne.callback=null},e.unstable_continueExecution=function(){w||v||(w=!0,J(U))},e.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<ne?Math.floor(1e3/ne):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(ne){switch(g){case 1:case 2:case 3:var me=3;break;default:me=g}var I=g;g=me;try{return ne()}finally{g=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ne,me){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var I=g;g=ne;try{return me()}finally{g=I}},e.unstable_scheduleCallback=function(ne,me,I){var G=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?G+I:G):I=G,ne){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=I+ye,ne={id:f++,callback:me,priorityLevel:ne,startTime:I,expirationTime:ye,sortIndex:-1},I>G?(ne.sortIndex=I,t(c,ne),n(u)===null&&ne===n(c)&&(_?(E(z),z=-1):_=!0,te(B,I-G))):(ne.sortIndex=ye,t(u,ne),w||v||(w=!0,J(U))),ne},e.unstable_shouldYield=oe,e.unstable_wrapCallback=function(ne){var me=g;return function(){var I=g;g=me;try{return ne.apply(this,arguments)}finally{g=I}}}}(p0)),p0}var vb;function q9(){return vb||(vb=1,f0.exports=V9()),f0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bb;function W9(){if(bb)return Wr;bb=1;var e=rm(),t=q9();function n(l){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(l,d){o(l,d),o(l+"Capture",d)}function o(l,d){for(i[l]=d,l=0;l<d.length;l++)r.add(d[l])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(l){return u.call(p,l)?!0:u.call(f,l)?!1:c.test(l)?p[l]=!0:(f[l]=!0,!1)}function v(l,d,m,x){if(m!==null&&m.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return x?!1:m!==null?!m.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function w(l,d,m,x){if(d===null||typeof d>"u"||v(l,d,m,x))return!0;if(x)return!1;if(m!==null)switch(m.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function _(l,d,m,x,S,j,M){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=x,this.attributeNamespace=S,this.mustUseProperty=m,this.propertyName=l,this.type=d,this.sanitizeURL=j,this.removeEmptyString=M}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){C[l]=new _(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var d=l[0];C[d]=new _(d,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){C[l]=new _(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){C[l]=new _(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){C[l]=new _(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){C[l]=new _(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){C[l]=new _(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){C[l]=new _(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){C[l]=new _(l,5,!1,l.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function L(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var d=l.replace(E,L);C[d]=new _(d,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var d=l.replace(E,L);C[d]=new _(d,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var d=l.replace(E,L);C[d]=new _(d,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){C[l]=new _(l,1,!1,l.toLowerCase(),null,!1,!1)}),C.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){C[l]=new _(l,1,!1,l.toLowerCase(),null,!0,!0)});function A(l,d,m,x){var S=C.hasOwnProperty(d)?C[d]:null;(S!==null?S.type!==0:x||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(w(d,m,S,x)&&(m=null),x||S===null?g(d)&&(m===null?l.removeAttribute(d):l.setAttribute(d,""+m)):S.mustUseProperty?l[S.propertyName]=m===null?S.type===3?!1:"":m:(d=S.attributeName,x=S.attributeNamespace,m===null?l.removeAttribute(d):(S=S.type,m=S===3||S===4&&m===!0?"":""+m,x?l.setAttributeNS(x,d,m):l.setAttribute(d,m))))}var B=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),P=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),oe=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),ne=Symbol.iterator;function me(l){return l===null||typeof l!="object"?null:(l=ne&&l[ne]||l["@@iterator"],typeof l=="function"?l:null)}var I=Object.assign,G;function ye(l){if(G===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);G=d&&d[1]||""}return`
`+G+l}var $=!1;function De(l,d){if(!l||$)return"";$=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(be){var x=be}Reflect.construct(l,[],d)}else{try{d.call()}catch(be){x=be}l.call(d.prototype)}else{try{throw Error()}catch(be){x=be}l()}}catch(be){if(be&&x&&typeof be.stack=="string"){for(var S=be.stack.split(`
`),j=x.stack.split(`
`),M=S.length-1,q=j.length-1;1<=M&&0<=q&&S[M]!==j[q];)q--;for(;1<=M&&0<=q;M--,q--)if(S[M]!==j[q]){if(M!==1||q!==1)do if(M--,q--,0>q||S[M]!==j[q]){var Z=`
`+S[M].replace(" at new "," at ");return l.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",l.displayName)),Z}while(1<=M&&0<=q);break}}}finally{$=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?ye(l):""}function je(l){switch(l.tag){case 5:return ye(l.type);case 16:return ye("Lazy");case 13:return ye("Suspense");case 19:return ye("SuspenseList");case 0:case 2:case 15:return l=De(l.type,!1),l;case 11:return l=De(l.type.render,!1),l;case 1:return l=De(l.type,!0),l;default:return""}}function Ee(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case D:return"Fragment";case P:return"Portal";case Q:return"Profiler";case z:return"StrictMode";case ue:return"Suspense";case W:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case oe:return(l.displayName||"Context")+".Consumer";case F:return(l._context.displayName||"Context")+".Provider";case le:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case V:return d=l.displayName||null,d!==null?d:Ee(l.type)||"Memo";case J:d=l._payload,l=l._init;try{return Ee(l(d))}catch{}}return null}function Ye(l){var d=l.type;switch(l.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=d.render,l=l.displayName||l.name||"",d.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ee(d);case 8:return d===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function Ke(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Pe(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function ht(l){var d=Pe(l)?"checked":"value",m=Object.getOwnPropertyDescriptor(l.constructor.prototype,d),x=""+l[d];if(!l.hasOwnProperty(d)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var S=m.get,j=m.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return S.call(this)},set:function(M){x=""+M,j.call(this,M)}}),Object.defineProperty(l,d,{enumerable:m.enumerable}),{getValue:function(){return x},setValue:function(M){x=""+M},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function un(l){l._valueTracker||(l._valueTracker=ht(l))}function Tt(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var m=d.getValue(),x="";return l&&(x=Pe(l)?l.checked?"true":"false":l.value),l=x,l!==m?(d.setValue(l),!0):!1}function pn(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function cn(l,d){var m=d.checked;return I({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??l._wrapperState.initialChecked})}function Tn(l,d){var m=d.defaultValue==null?"":d.defaultValue,x=d.checked!=null?d.checked:d.defaultChecked;m=Ke(d.value!=null?d.value:m),l._wrapperState={initialChecked:x,initialValue:m,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function Os(l,d){d=d.checked,d!=null&&A(l,"checked",d,!1)}function Bi(l,d){Os(l,d);var m=Ke(d.value),x=d.type;if(m!=null)x==="number"?(m===0&&l.value===""||l.value!=m)&&(l.value=""+m):l.value!==""+m&&(l.value=""+m);else if(x==="submit"||x==="reset"){l.removeAttribute("value");return}d.hasOwnProperty("value")?cs(l,d.type,m):d.hasOwnProperty("defaultValue")&&cs(l,d.type,Ke(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(l.defaultChecked=!!d.defaultChecked)}function go(l,d,m){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var x=d.type;if(!(x!=="submit"&&x!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+l._wrapperState.initialValue,m||d===l.value||(l.value=d),l.defaultValue=d}m=l.name,m!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,m!==""&&(l.name=m)}function cs(l,d,m){(d!=="number"||pn(l.ownerDocument)!==l)&&(m==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+m&&(l.defaultValue=""+m))}var Fr=Array.isArray;function Nn(l,d,m,x){if(l=l.options,d){d={};for(var S=0;S<m.length;S++)d["$"+m[S]]=!0;for(m=0;m<l.length;m++)S=d.hasOwnProperty("$"+l[m].value),l[m].selected!==S&&(l[m].selected=S),S&&x&&(l[m].defaultSelected=!0)}else{for(m=""+Ke(m),d=null,S=0;S<l.length;S++){if(l[S].value===m){l[S].selected=!0,x&&(l[S].defaultSelected=!0);return}d!==null||l[S].disabled||(d=l[S])}d!==null&&(d.selected=!0)}}function cr(l,d){if(d.dangerouslySetInnerHTML!=null)throw Error(n(91));return I({},d,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function dr(l,d){var m=d.value;if(m==null){if(m=d.children,d=d.defaultValue,m!=null){if(d!=null)throw Error(n(92));if(Fr(m)){if(1<m.length)throw Error(n(93));m=m[0]}d=m}d==null&&(d=""),m=d}l._wrapperState={initialValue:Ke(m)}}function ds(l,d){var m=Ke(d.value),x=Ke(d.defaultValue);m!=null&&(m=""+m,m!==l.value&&(l.value=m),d.defaultValue==null&&l.defaultValue!==m&&(l.defaultValue=m)),x!=null&&(l.defaultValue=""+x)}function Br(l){var d=l.textContent;d===l._wrapperState.initialValue&&d!==""&&d!==null&&(l.value=d)}function Ce(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oe(l,d){return l==null||l==="http://www.w3.org/1999/xhtml"?Ce(d):l==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var lt,pt=function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,m,x,S){MSApp.execUnsafeLocalFunction(function(){return l(d,m,x,S)})}:l}(function(l,d){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=d;else{for(lt=lt||document.createElement("div"),lt.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=lt.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;d.firstChild;)l.appendChild(d.firstChild)}});function Nt(l,d){if(d){var m=l.firstChild;if(m&&m===l.lastChild&&m.nodeType===3){m.nodeValue=d;return}}l.textContent=d}var Kt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mn=["Webkit","ms","Moz","O"];Object.keys(Kt).forEach(function(l){Mn.forEach(function(d){d=d+l.charAt(0).toUpperCase()+l.substring(1),Kt[d]=Kt[l]})});function Rn(l,d,m){return d==null||typeof d=="boolean"||d===""?"":m||typeof d!="number"||d===0||Kt.hasOwnProperty(l)&&Kt[l]?(""+d).trim():d+"px"}function Er(l,d){l=l.style;for(var m in d)if(d.hasOwnProperty(m)){var x=m.indexOf("--")===0,S=Rn(m,d[m],x);m==="float"&&(m="cssFloat"),x?l.setProperty(m,S):l[m]=S}}var Yn=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ve(l,d){if(d){if(Yn[l]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(n(137,l));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(n(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(n(61))}if(d.style!=null&&typeof d.style!="object")throw Error(n(62))}}function Pn(l,d){if(l.indexOf("-")===-1)return typeof d.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mn=null;function bi(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var qe=null,ii=null,zi=null;function Ls(l){if(l=Ec(l)){if(typeof qe!="function")throw Error(n(280));var d=l.stateNode;d&&(d=Fh(d),qe(l.stateNode,l.type,d))}}function hs(l){ii?zi?zi.push(l):zi=[l]:ii=l}function $i(){if(ii){var l=ii,d=zi;if(zi=ii=null,Ls(l),d)for(l=0;l<d.length;l++)Ls(d[l])}}function El(l,d){return l(d)}function Tl(){}var X=!1;function pe(l,d,m){if(X)return l(d,m);X=!0;try{return El(l,d,m)}finally{X=!1,(ii!==null||zi!==null)&&(Tl(),$i())}}function _e(l,d){var m=l.stateNode;if(m===null)return null;var x=Fh(m);if(x===null)return null;m=x[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(l=l.type,x=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!x;break e;default:l=!1}if(l)return null;if(m&&typeof m!="function")throw Error(n(231,d,typeof m));return m}var Ae=!1;if(a)try{var Te={};Object.defineProperty(Te,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Te,Te),window.removeEventListener("test",Te,Te)}catch{Ae=!1}function We(l,d,m,x,S,j,M,q,Z){var be=Array.prototype.slice.call(arguments,3);try{d.apply(m,be)}catch(Le){this.onError(Le)}}var rt=!1,Je=null,tt=!1,at=null,ot={onError:function(l){rt=!0,Je=l}};function et(l,d,m,x,S,j,M,q,Z){rt=!1,Je=null,We.apply(ot,arguments)}function _t(l,d,m,x,S,j,M,q,Z){if(et.apply(this,arguments),rt){if(rt){var be=Je;rt=!1,Je=null}else throw Error(n(198));tt||(tt=!0,at=be)}}function Pt(l){var d=l,m=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(m=d.return),l=d.return;while(l)}return d.tag===3?m:null}function gn(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function In(l){if(Pt(l)!==l)throw Error(n(188))}function Ht(l){var d=l.alternate;if(!d){if(d=Pt(l),d===null)throw Error(n(188));return d!==l?null:l}for(var m=l,x=d;;){var S=m.return;if(S===null)break;var j=S.alternate;if(j===null){if(x=S.return,x!==null){m=x;continue}break}if(S.child===j.child){for(j=S.child;j;){if(j===m)return In(S),l;if(j===x)return In(S),d;j=j.sibling}throw Error(n(188))}if(m.return!==x.return)m=S,x=j;else{for(var M=!1,q=S.child;q;){if(q===m){M=!0,m=S,x=j;break}if(q===x){M=!0,x=S,m=j;break}q=q.sibling}if(!M){for(q=j.child;q;){if(q===m){M=!0,m=j,x=S;break}if(q===x){M=!0,x=j,m=S;break}q=q.sibling}if(!M)throw Error(n(189))}}if(m.alternate!==x)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?l:d}function Gt(l){return l=Ht(l),l!==null?Xn(l):null}function Xn(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var d=Xn(l);if(d!==null)return d;l=l.sibling}return null}var Ui=t.unstable_scheduleCallback,Tr=t.unstable_cancelCallback,$t=t.unstable_shouldYield,si=t.unstable_requestPaint,Lt=t.unstable_now,wi=t.unstable_getCurrentPriorityLevel,Nr=t.unstable_ImmediatePriority,_i=t.unstable_UserBlockingPriority,At=t.unstable_NormalPriority,Cn=t.unstable_LowPriority,Pr=t.unstable_IdlePriority,oi=null,Bt=null;function As(l){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(oi,l,void 0,(l.current.flags&128)===128)}catch{}}var ft=Math.clz32?Math.clz32:vh,Nl=Math.log,xh=Math.LN2;function vh(l){return l>>>=0,l===0?32:31-(Nl(l)/xh|0)|0}var Xt=64,fs=4194304;function Hi(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Qi(l,d){var m=l.pendingLanes;if(m===0)return 0;var x=0,S=l.suspendedLanes,j=l.pingedLanes,M=m&268435455;if(M!==0){var q=M&~S;q!==0?x=Hi(q):(j&=M,j!==0&&(x=Hi(j)))}else M=m&~S,M!==0?x=Hi(M):j!==0&&(x=Hi(j));if(x===0)return 0;if(d!==0&&d!==x&&(d&S)===0&&(S=x&-x,j=d&-d,S>=j||S===16&&(j&4194240)!==0))return d;if((x&4)!==0&&(x|=m&16),d=l.entangledLanes,d!==0)for(l=l.entanglements,d&=x;0<d;)m=31-ft(d),S=1<<m,x|=l[m],d&=~S;return x}function cc(l,d){switch(l){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dc(l,d){for(var m=l.suspendedLanes,x=l.pingedLanes,S=l.expirationTimes,j=l.pendingLanes;0<j;){var M=31-ft(j),q=1<<M,Z=S[M];Z===-1?((q&m)===0||(q&x)!==0)&&(S[M]=cc(q,d)):Z<=d&&(l.expiredLanes|=q),j&=~q}}function yo(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function hc(){var l=Xt;return Xt<<=1,(Xt&4194240)===0&&(Xt=64),l}function xo(l){for(var d=[],m=0;31>m;m++)d.push(l);return d}function vo(l,d,m){l.pendingLanes|=d,d!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,d=31-ft(d),l[d]=m}function pa(l,d){var m=l.pendingLanes&~d;l.pendingLanes=d,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=d,l.mutableReadLanes&=d,l.entangledLanes&=d,d=l.entanglements;var x=l.eventTimes;for(l=l.expirationTimes;0<m;){var S=31-ft(m),j=1<<S;d[S]=0,x[S]=-1,l[S]=-1,m&=~j}}function Pl(l,d){var m=l.entangledLanes|=d;for(l=l.entanglements;m;){var x=31-ft(m),S=1<<x;S&d|l[x]&d&&(l[x]|=d),m&=~S}}var Yt=0;function zt(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var Ol,fc,bh,hr,Ms,bo=!1,ai=[],Vi=null,qi=null,tn=null,fr=new Map,Wi=new Map,zr=[],pc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ki(l,d){switch(l){case"focusin":case"focusout":Vi=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":tn=null;break;case"pointerover":case"pointerout":fr.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wi.delete(d.pointerId)}}function ma(l,d,m,x,S,j){return l===null||l.nativeEvent!==j?(l={blockedOn:d,domEventName:m,eventSystemFlags:x,nativeEvent:j,targetContainers:[S]},d!==null&&(d=Ec(d),d!==null&&fc(d)),l):(l.eventSystemFlags|=x,d=l.targetContainers,S!==null&&d.indexOf(S)===-1&&d.push(S),l)}function Si(l,d,m,x,S){switch(d){case"focusin":return Vi=ma(Vi,l,d,m,x,S),!0;case"dragenter":return qi=ma(qi,l,d,m,x,S),!0;case"mouseover":return tn=ma(tn,l,d,m,x,S),!0;case"pointerover":var j=S.pointerId;return fr.set(j,ma(fr.get(j)||null,l,d,m,x,S)),!0;case"gotpointercapture":return j=S.pointerId,Wi.set(j,ma(Wi.get(j)||null,l,d,m,x,S)),!0}return!1}function Ll(l){var d=Na(l.target);if(d!==null){var m=Pt(d);if(m!==null){if(d=m.tag,d===13){if(d=gn(m),d!==null){l.blockedOn=d,Ms(l.priority,function(){bh(m)});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){l.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}l.blockedOn=null}function ga(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var m=xa(l.domEventName,l.eventSystemFlags,d[0],l.nativeEvent);if(m===null){m=l.nativeEvent;var x=new m.constructor(m.type,m);mn=x,m.target.dispatchEvent(x),mn=null}else return d=Ec(m),d!==null&&fc(d),l.blockedOn=m,!1;d.shift()}return!0}function Al(l,d,m){ga(l)&&m.delete(d)}function ya(){bo=!1,Vi!==null&&ga(Vi)&&(Vi=null),qi!==null&&ga(qi)&&(qi=null),tn!==null&&ga(tn)&&(tn=null),fr.forEach(Al),Wi.forEach(Al)}function Rs(l,d){l.blockedOn===d&&(l.blockedOn=null,bo||(bo=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ya)))}function wo(l){function d(S){return Rs(S,l)}if(0<ai.length){Rs(ai[0],l);for(var m=1;m<ai.length;m++){var x=ai[m];x.blockedOn===l&&(x.blockedOn=null)}}for(Vi!==null&&Rs(Vi,l),qi!==null&&Rs(qi,l),tn!==null&&Rs(tn,l),fr.forEach(d),Wi.forEach(d),m=0;m<zr.length;m++)x=zr[m],x.blockedOn===l&&(x.blockedOn=null);for(;0<zr.length&&(m=zr[0],m.blockedOn===null);)Ll(m),m.blockedOn===null&&zr.shift()}var _o=B.ReactCurrentBatchConfig,ps=!0;function Vm(l,d,m,x){var S=Yt,j=_o.transition;_o.transition=null;try{Yt=1,So(l,d,m,x)}finally{Yt=S,_o.transition=j}}function qm(l,d,m,x){var S=Yt,j=_o.transition;_o.transition=null;try{Yt=4,So(l,d,m,x)}finally{Yt=S,_o.transition=j}}function So(l,d,m,x){if(ps){var S=xa(l,d,m,x);if(S===null)eg(l,d,x,Is,m),Ki(l,x);else if(Si(S,l,d,m,x))x.stopPropagation();else if(Ki(l,x),d&4&&-1<pc.indexOf(l)){for(;S!==null;){var j=Ec(S);if(j!==null&&Ol(j),j=xa(l,d,m,x),j===null&&eg(l,d,x,Is,m),j===S)break;S=j}S!==null&&x.stopPropagation()}else eg(l,d,x,null,m)}}var Is=null;function xa(l,d,m,x){if(Is=null,l=bi(x),l=Na(l),l!==null)if(d=Pt(l),d===null)l=null;else if(m=d.tag,m===13){if(l=gn(d),l!==null)return l;l=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null);return Is=l,null}function wh(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wi()){case Nr:return 1;case _i:return 4;case At:case Cn:return 16;case Pr:return 536870912;default:return 16}default:return 16}}var ms=null,mc=null,Co=null;function Ml(){if(Co)return Co;var l,d=mc,m=d.length,x,S="value"in ms?ms.value:ms.textContent,j=S.length;for(l=0;l<m&&d[l]===S[l];l++);var M=m-l;for(x=1;x<=M&&d[m-x]===S[j-x];x++);return Co=S.slice(l,1<x?1-x:void 0)}function va(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function Ds(){return!0}function ba(){return!1}function Jn(l){function d(m,x,S,j,M){this._reactName=m,this._targetInst=S,this.type=x,this.nativeEvent=j,this.target=M,this.currentTarget=null;for(var q in l)l.hasOwnProperty(q)&&(m=l[q],this[q]=m?m(j):j[q]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Ds:ba,this.isPropagationStopped=ba,this}return I(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Ds)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Ds)},persist:function(){},isPersistent:Ds}),d}var Fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gc=Jn(Fs),gs=I({},Fs,{view:0,detail:0}),yc=Jn(gs),wa,_a,Bs,On=I({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ca,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Bs&&(Bs&&l.type==="mousemove"?(wa=l.screenX-Bs.screenX,_a=l.screenY-Bs.screenY):_a=wa=0,Bs=l),wa)},movementY:function(l){return"movementY"in l?l.movementY:_a}}),ko=Jn(On),Sa=I({},On,{dataTransfer:0}),_h=Jn(Sa),Rl=I({},gs,{relatedTarget:0}),Il=Jn(Rl),Sh=I({},Fs,{animationName:0,elapsedTime:0,pseudoElement:0}),Dl=Jn(Sh),xc=I({},Fs,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),zs=Jn(xc),vc=I({},Fs,{data:0}),Fl=Jn(vc),Bl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ch={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wm(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=Ch[l])?!!d[l]:!1}function Ca(){return Wm}var zl=I({},gs,{key:function(l){if(l.key){var d=Bl[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=va(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?bc[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ca,charCode:function(l){return l.type==="keypress"?va(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?va(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Km=Jn(zl),wc=I({},On,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$l=Jn(wc),Gm=I({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ca}),kh=Jn(Gm),Ym=I({},Fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),jh=Jn(Ym),Eh=I({},On,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Xm=Jn(Eh),Th=[9,13,27,32],ka=a&&"CompositionEvent"in window,jo=null;a&&"documentMode"in document&&(jo=document.documentMode);var Nh=a&&"TextEvent"in window&&!jo,Ph=a&&(!ka||jo&&8<jo&&11>=jo),Oh=" ",Lh=!1;function ja(l,d){switch(l){case"keyup":return Th.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ci(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Zt=!1;function Ul(l,d){switch(l){case"compositionend":return Ci(d);case"keypress":return d.which!==32?null:(Lh=!0,Oh);case"textInput":return l=d.data,l===Oh&&Lh?null:l;default:return null}}function $r(l,d){if(Zt)return l==="compositionend"||!ka&&ja(l,d)?(l=Ml(),Co=mc=ms=null,Zt=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Ph&&d.locale!=="ko"?null:d.data;default:return null}}var Jm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hl(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!Jm[l.type]:d==="textarea"}function _c(l,d,m,x){hs(x),d=Rh(d,"onChange"),0<d.length&&(m=new gc("onChange","change",null,m,x),l.push({event:m,listeners:d}))}var li=null,$s=null;function Eo(l){Nv(l,0)}function ui(l){var d=ql(l);if(Tt(d))return l}function Ah(l,d){if(l==="change")return d}var y=!1;if(a){var b;if(a){var k="oninput"in document;if(!k){var T=document.createElement("div");T.setAttribute("oninput","return;"),k=typeof T.oninput=="function"}b=k}else b=!1;y=b&&(!document.documentMode||9<document.documentMode)}function O(){li&&(li.detachEvent("onpropertychange",R),$s=li=null)}function R(l){if(l.propertyName==="value"&&ui($s)){var d=[];_c(d,$s,l,bi(l)),pe(Eo,d)}}function H(l,d,m){l==="focusin"?(O(),li=d,$s=m,li.attachEvent("onpropertychange",R)):l==="focusout"&&O()}function K(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return ui($s)}function ee(l,d){if(l==="click")return ui(d)}function ie(l,d){if(l==="input"||l==="change")return ui(d)}function de(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var Y=typeof Object.is=="function"?Object.is:de;function he(l,d){if(Y(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var m=Object.keys(l),x=Object.keys(d);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var S=m[x];if(!u.call(d,S)||!Y(l[S],d[S]))return!1}return!0}function re(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function ce(l,d){var m=re(l);l=0;for(var x;m;){if(m.nodeType===3){if(x=l+m.textContent.length,l<=d&&x>=d)return{node:m,offset:d-l};l=x}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=re(m)}}function fe(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?fe(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function ae(){for(var l=window,d=pn();d instanceof l.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch{m=!1}if(m)l=d.contentWindow;else break;d=pn(l.document)}return d}function xe(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}function we(l){var d=ae(),m=l.focusedElem,x=l.selectionRange;if(d!==m&&m&&m.ownerDocument&&fe(m.ownerDocument.documentElement,m)){if(x!==null&&xe(m)){if(d=x.start,l=x.end,l===void 0&&(l=d),"selectionStart"in m)m.selectionStart=d,m.selectionEnd=Math.min(l,m.value.length);else if(l=(d=m.ownerDocument||document)&&d.defaultView||window,l.getSelection){l=l.getSelection();var S=m.textContent.length,j=Math.min(x.start,S);x=x.end===void 0?j:Math.min(x.end,S),!l.extend&&j>x&&(S=x,x=j,j=S),S=ce(m,j);var M=ce(m,x);S&&M&&(l.rangeCount!==1||l.anchorNode!==S.node||l.anchorOffset!==S.offset||l.focusNode!==M.node||l.focusOffset!==M.offset)&&(d=d.createRange(),d.setStart(S.node,S.offset),l.removeAllRanges(),j>x?(l.addRange(d),l.extend(M.node,M.offset)):(d.setEnd(M.node,M.offset),l.addRange(d)))}}for(d=[],l=m;l=l.parentNode;)l.nodeType===1&&d.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<d.length;m++)l=d[m],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var Se=a&&"documentMode"in document&&11>=document.documentMode,ke=null,Re=null,Ue=null,Ie=!1;function Be(l,d,m){var x=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Ie||ke==null||ke!==pn(x)||(x=ke,"selectionStart"in x&&xe(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Ue&&he(Ue,x)||(Ue=x,x=Rh(Re,"onSelect"),0<x.length&&(d=new gc("onSelect","select",null,d,m),l.push({event:d,listeners:x}),d.target=ke)))}function Qe(l,d){var m={};return m[l.toLowerCase()]=d.toLowerCase(),m["Webkit"+l]="webkit"+d,m["Moz"+l]="moz"+d,m}var ze={animationend:Qe("Animation","AnimationEnd"),animationiteration:Qe("Animation","AnimationIteration"),animationstart:Qe("Animation","AnimationStart"),transitionend:Qe("Transition","TransitionEnd")},Ge={},yt={};a&&(yt=document.createElement("div").style,"AnimationEvent"in window||(delete ze.animationend.animation,delete ze.animationiteration.animation,delete ze.animationstart.animation),"TransitionEvent"in window||delete ze.transitionend.transition);function bt(l){if(Ge[l])return Ge[l];if(!ze[l])return l;var d=ze[l],m;for(m in d)if(d.hasOwnProperty(m)&&m in yt)return Ge[l]=d[m];return l}var kt=bt("animationend"),pr=bt("animationiteration"),gt=bt("animationstart"),Un=bt("transitionend"),Hn=new Map,Ea="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yn(l,d){Hn.set(l,d),s(d,[l])}for(var Gi=0;Gi<Ea.length;Gi++){var Ta=Ea[Gi],KS=Ta.toLowerCase(),GS=Ta[0].toUpperCase()+Ta.slice(1);yn(KS,"on"+GS)}yn(kt,"onAnimationEnd"),yn(pr,"onAnimationIteration"),yn(gt,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(Un,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sc));function Tv(l,d,m){var x=l.type||"unknown-event";l.currentTarget=m,_t(x,d,void 0,l),l.currentTarget=null}function Nv(l,d){d=(d&4)!==0;for(var m=0;m<l.length;m++){var x=l[m],S=x.event;x=x.listeners;e:{var j=void 0;if(d)for(var M=x.length-1;0<=M;M--){var q=x[M],Z=q.instance,be=q.currentTarget;if(q=q.listener,Z!==j&&S.isPropagationStopped())break e;Tv(S,q,be),j=Z}else for(M=0;M<x.length;M++){if(q=x[M],Z=q.instance,be=q.currentTarget,q=q.listener,Z!==j&&S.isPropagationStopped())break e;Tv(S,q,be),j=Z}}}if(tt)throw l=at,tt=!1,at=null,l}function dn(l,d){var m=d[og];m===void 0&&(m=d[og]=new Set);var x=l+"__bubble";m.has(x)||(Pv(d,l,2,!1),m.add(x))}function Zm(l,d,m){var x=0;d&&(x|=4),Pv(m,l,x,d)}var Mh="_reactListening"+Math.random().toString(36).slice(2);function Cc(l){if(!l[Mh]){l[Mh]=!0,r.forEach(function(m){m!=="selectionchange"&&(YS.has(m)||Zm(m,!1,l),Zm(m,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[Mh]||(d[Mh]=!0,Zm("selectionchange",!1,d))}}function Pv(l,d,m,x){switch(wh(d)){case 1:var S=Vm;break;case 4:S=qm;break;default:S=So}m=S.bind(null,d,m,l),S=void 0,!Ae||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(S=!0),x?S!==void 0?l.addEventListener(d,m,{capture:!0,passive:S}):l.addEventListener(d,m,!0):S!==void 0?l.addEventListener(d,m,{passive:S}):l.addEventListener(d,m,!1)}function eg(l,d,m,x,S){var j=x;if((d&1)===0&&(d&2)===0&&x!==null)e:for(;;){if(x===null)return;var M=x.tag;if(M===3||M===4){var q=x.stateNode.containerInfo;if(q===S||q.nodeType===8&&q.parentNode===S)break;if(M===4)for(M=x.return;M!==null;){var Z=M.tag;if((Z===3||Z===4)&&(Z=M.stateNode.containerInfo,Z===S||Z.nodeType===8&&Z.parentNode===S))return;M=M.return}for(;q!==null;){if(M=Na(q),M===null)return;if(Z=M.tag,Z===5||Z===6){x=j=M;continue e}q=q.parentNode}}x=x.return}pe(function(){var be=j,Le=bi(m),Me=[];e:{var Ne=Hn.get(l);if(Ne!==void 0){var Xe=gc,nt=l;switch(l){case"keypress":if(va(m)===0)break e;case"keydown":case"keyup":Xe=Km;break;case"focusin":nt="focus",Xe=Il;break;case"focusout":nt="blur",Xe=Il;break;case"beforeblur":case"afterblur":Xe=Il;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Xe=ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Xe=_h;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Xe=kh;break;case kt:case pr:case gt:Xe=Dl;break;case Un:Xe=jh;break;case"scroll":Xe=yc;break;case"wheel":Xe=Xm;break;case"copy":case"cut":case"paste":Xe=zs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Xe=$l}var it=(d&4)!==0,Ln=!it&&l==="scroll",ge=it?Ne!==null?Ne+"Capture":null:Ne;it=[];for(var se=be,ve;se!==null;){ve=se;var $e=ve.stateNode;if(ve.tag===5&&$e!==null&&(ve=$e,ge!==null&&($e=_e(se,ge),$e!=null&&it.push(kc(se,$e,ve)))),Ln)break;se=se.return}0<it.length&&(Ne=new Xe(Ne,nt,null,m,Le),Me.push({event:Ne,listeners:it}))}}if((d&7)===0){e:{if(Ne=l==="mouseover"||l==="pointerover",Xe=l==="mouseout"||l==="pointerout",Ne&&m!==mn&&(nt=m.relatedTarget||m.fromElement)&&(Na(nt)||nt[Us]))break e;if((Xe||Ne)&&(Ne=Le.window===Le?Le:(Ne=Le.ownerDocument)?Ne.defaultView||Ne.parentWindow:window,Xe?(nt=m.relatedTarget||m.toElement,Xe=be,nt=nt?Na(nt):null,nt!==null&&(Ln=Pt(nt),nt!==Ln||nt.tag!==5&&nt.tag!==6)&&(nt=null)):(Xe=null,nt=be),Xe!==nt)){if(it=ko,$e="onMouseLeave",ge="onMouseEnter",se="mouse",(l==="pointerout"||l==="pointerover")&&(it=$l,$e="onPointerLeave",ge="onPointerEnter",se="pointer"),Ln=Xe==null?Ne:ql(Xe),ve=nt==null?Ne:ql(nt),Ne=new it($e,se+"leave",Xe,m,Le),Ne.target=Ln,Ne.relatedTarget=ve,$e=null,Na(Le)===be&&(it=new it(ge,se+"enter",nt,m,Le),it.target=ve,it.relatedTarget=Ln,$e=it),Ln=$e,Xe&&nt)t:{for(it=Xe,ge=nt,se=0,ve=it;ve;ve=Ql(ve))se++;for(ve=0,$e=ge;$e;$e=Ql($e))ve++;for(;0<se-ve;)it=Ql(it),se--;for(;0<ve-se;)ge=Ql(ge),ve--;for(;se--;){if(it===ge||ge!==null&&it===ge.alternate)break t;it=Ql(it),ge=Ql(ge)}it=null}else it=null;Xe!==null&&Ov(Me,Ne,Xe,it,!1),nt!==null&&Ln!==null&&Ov(Me,Ln,nt,it,!0)}}e:{if(Ne=be?ql(be):window,Xe=Ne.nodeName&&Ne.nodeName.toLowerCase(),Xe==="select"||Xe==="input"&&Ne.type==="file")var st=Ah;else if(Hl(Ne))if(y)st=ie;else{st=K;var ut=H}else(Xe=Ne.nodeName)&&Xe.toLowerCase()==="input"&&(Ne.type==="checkbox"||Ne.type==="radio")&&(st=ee);if(st&&(st=st(l,be))){_c(Me,st,m,Le);break e}ut&&ut(l,Ne,be),l==="focusout"&&(ut=Ne._wrapperState)&&ut.controlled&&Ne.type==="number"&&cs(Ne,"number",Ne.value)}switch(ut=be?ql(be):window,l){case"focusin":(Hl(ut)||ut.contentEditable==="true")&&(ke=ut,Re=be,Ue=null);break;case"focusout":Ue=Re=ke=null;break;case"mousedown":Ie=!0;break;case"contextmenu":case"mouseup":case"dragend":Ie=!1,Be(Me,m,Le);break;case"selectionchange":if(Se)break;case"keydown":case"keyup":Be(Me,m,Le)}var ct;if(ka)e:{switch(l){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else Zt?ja(l,m)&&(mt="onCompositionEnd"):l==="keydown"&&m.keyCode===229&&(mt="onCompositionStart");mt&&(Ph&&m.locale!=="ko"&&(Zt||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Zt&&(ct=Ml()):(ms=Le,mc="value"in ms?ms.value:ms.textContent,Zt=!0)),ut=Rh(be,mt),0<ut.length&&(mt=new Fl(mt,l,null,m,Le),Me.push({event:mt,listeners:ut}),ct?mt.data=ct:(ct=Ci(m),ct!==null&&(mt.data=ct)))),(ct=Nh?Ul(l,m):$r(l,m))&&(be=Rh(be,"onBeforeInput"),0<be.length&&(Le=new Fl("onBeforeInput","beforeinput",null,m,Le),Me.push({event:Le,listeners:be}),Le.data=ct))}Nv(Me,d)})}function kc(l,d,m){return{instance:l,listener:d,currentTarget:m}}function Rh(l,d){for(var m=d+"Capture",x=[];l!==null;){var S=l,j=S.stateNode;S.tag===5&&j!==null&&(S=j,j=_e(l,m),j!=null&&x.unshift(kc(l,j,S)),j=_e(l,d),j!=null&&x.push(kc(l,j,S))),l=l.return}return x}function Ql(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function Ov(l,d,m,x,S){for(var j=d._reactName,M=[];m!==null&&m!==x;){var q=m,Z=q.alternate,be=q.stateNode;if(Z!==null&&Z===x)break;q.tag===5&&be!==null&&(q=be,S?(Z=_e(m,j),Z!=null&&M.unshift(kc(m,Z,q))):S||(Z=_e(m,j),Z!=null&&M.push(kc(m,Z,q)))),m=m.return}M.length!==0&&l.push({event:d,listeners:M})}var XS=/\r\n?/g,JS=/\u0000|\uFFFD/g;function Lv(l){return(typeof l=="string"?l:""+l).replace(XS,`
`).replace(JS,"")}function Ih(l,d,m){if(d=Lv(d),Lv(l)!==d&&m)throw Error(n(425))}function Dh(){}var tg=null,ng=null;function rg(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var ig=typeof setTimeout=="function"?setTimeout:void 0,ZS=typeof clearTimeout=="function"?clearTimeout:void 0,Av=typeof Promise=="function"?Promise:void 0,e9=typeof queueMicrotask=="function"?queueMicrotask:typeof Av<"u"?function(l){return Av.resolve(null).then(l).catch(t9)}:ig;function t9(l){setTimeout(function(){throw l})}function sg(l,d){var m=d,x=0;do{var S=m.nextSibling;if(l.removeChild(m),S&&S.nodeType===8)if(m=S.data,m==="/$"){if(x===0){l.removeChild(S),wo(d);return}x--}else m!=="$"&&m!=="$?"&&m!=="$!"||x++;m=S}while(m);wo(d)}function To(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return l}function Mv(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var m=l.data;if(m==="$"||m==="$!"||m==="$?"){if(d===0)return l;d--}else m==="/$"&&d++}l=l.previousSibling}return null}var Vl=Math.random().toString(36).slice(2),ys="__reactFiber$"+Vl,jc="__reactProps$"+Vl,Us="__reactContainer$"+Vl,og="__reactEvents$"+Vl,n9="__reactListeners$"+Vl,r9="__reactHandles$"+Vl;function Na(l){var d=l[ys];if(d)return d;for(var m=l.parentNode;m;){if(d=m[Us]||m[ys]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(l=Mv(l);l!==null;){if(m=l[ys])return m;l=Mv(l)}return d}l=m,m=l.parentNode}return null}function Ec(l){return l=l[ys]||l[Us],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function ql(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(n(33))}function Fh(l){return l[jc]||null}var ag=[],Wl=-1;function No(l){return{current:l}}function hn(l){0>Wl||(l.current=ag[Wl],ag[Wl]=null,Wl--)}function rn(l,d){Wl++,ag[Wl]=l.current,l.current=d}var Po={},mr=No(Po),Ur=No(!1),Pa=Po;function Kl(l,d){var m=l.type.contextTypes;if(!m)return Po;var x=l.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===d)return x.__reactInternalMemoizedMaskedChildContext;var S={},j;for(j in m)S[j]=d[j];return x&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=d,l.__reactInternalMemoizedMaskedChildContext=S),S}function Hr(l){return l=l.childContextTypes,l!=null}function Bh(){hn(Ur),hn(mr)}function Rv(l,d,m){if(mr.current!==Po)throw Error(n(168));rn(mr,d),rn(Ur,m)}function Iv(l,d,m){var x=l.stateNode;if(d=d.childContextTypes,typeof x.getChildContext!="function")return m;x=x.getChildContext();for(var S in x)if(!(S in d))throw Error(n(108,Ye(l)||"Unknown",S));return I({},m,x)}function zh(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Po,Pa=mr.current,rn(mr,l),rn(Ur,Ur.current),!0}function Dv(l,d,m){var x=l.stateNode;if(!x)throw Error(n(169));m?(l=Iv(l,d,Pa),x.__reactInternalMemoizedMergedChildContext=l,hn(Ur),hn(mr),rn(mr,l)):hn(Ur),rn(Ur,m)}var Hs=null,$h=!1,lg=!1;function Fv(l){Hs===null?Hs=[l]:Hs.push(l)}function i9(l){$h=!0,Fv(l)}function Oo(){if(!lg&&Hs!==null){lg=!0;var l=0,d=Yt;try{var m=Hs;for(Yt=1;l<m.length;l++){var x=m[l];do x=x(!0);while(x!==null)}Hs=null,$h=!1}catch(S){throw Hs!==null&&(Hs=Hs.slice(l+1)),Ui(Nr,Oo),S}finally{Yt=d,lg=!1}}return null}var Gl=[],Yl=0,Uh=null,Hh=0,ki=[],ji=0,Oa=null,Qs=1,Vs="";function La(l,d){Gl[Yl++]=Hh,Gl[Yl++]=Uh,Uh=l,Hh=d}function Bv(l,d,m){ki[ji++]=Qs,ki[ji++]=Vs,ki[ji++]=Oa,Oa=l;var x=Qs;l=Vs;var S=32-ft(x)-1;x&=~(1<<S),m+=1;var j=32-ft(d)+S;if(30<j){var M=S-S%5;j=(x&(1<<M)-1).toString(32),x>>=M,S-=M,Qs=1<<32-ft(d)+S|m<<S|x,Vs=j+l}else Qs=1<<j|m<<S|x,Vs=l}function ug(l){l.return!==null&&(La(l,1),Bv(l,1,0))}function cg(l){for(;l===Uh;)Uh=Gl[--Yl],Gl[Yl]=null,Hh=Gl[--Yl],Gl[Yl]=null;for(;l===Oa;)Oa=ki[--ji],ki[ji]=null,Vs=ki[--ji],ki[ji]=null,Qs=ki[--ji],ki[ji]=null}var ci=null,di=null,xn=!1,Yi=null;function zv(l,d){var m=Pi(5,null,null,0);m.elementType="DELETED",m.stateNode=d,m.return=l,d=l.deletions,d===null?(l.deletions=[m],l.flags|=16):d.push(m)}function $v(l,d){switch(l.tag){case 5:var m=l.type;return d=d.nodeType!==1||m.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(l.stateNode=d,ci=l,di=To(d.firstChild),!0):!1;case 6:return d=l.pendingProps===""||d.nodeType!==3?null:d,d!==null?(l.stateNode=d,ci=l,di=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(m=Oa!==null?{id:Qs,overflow:Vs}:null,l.memoizedState={dehydrated:d,treeContext:m,retryLane:1073741824},m=Pi(18,null,null,0),m.stateNode=d,m.return=l,l.child=m,ci=l,di=null,!0):!1;default:return!1}}function dg(l){return(l.mode&1)!==0&&(l.flags&128)===0}function hg(l){if(xn){var d=di;if(d){var m=d;if(!$v(l,d)){if(dg(l))throw Error(n(418));d=To(m.nextSibling);var x=ci;d&&$v(l,d)?zv(x,m):(l.flags=l.flags&-4097|2,xn=!1,ci=l)}}else{if(dg(l))throw Error(n(418));l.flags=l.flags&-4097|2,xn=!1,ci=l}}}function Uv(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;ci=l}function Qh(l){if(l!==ci)return!1;if(!xn)return Uv(l),xn=!0,!1;var d;if((d=l.tag!==3)&&!(d=l.tag!==5)&&(d=l.type,d=d!=="head"&&d!=="body"&&!rg(l.type,l.memoizedProps)),d&&(d=di)){if(dg(l))throw Hv(),Error(n(418));for(;d;)zv(l,d),d=To(d.nextSibling)}if(Uv(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));e:{for(l=l.nextSibling,d=0;l;){if(l.nodeType===8){var m=l.data;if(m==="/$"){if(d===0){di=To(l.nextSibling);break e}d--}else m!=="$"&&m!=="$!"&&m!=="$?"||d++}l=l.nextSibling}di=null}}else di=ci?To(l.stateNode.nextSibling):null;return!0}function Hv(){for(var l=di;l;)l=To(l.nextSibling)}function Xl(){di=ci=null,xn=!1}function fg(l){Yi===null?Yi=[l]:Yi.push(l)}var s9=B.ReactCurrentBatchConfig;function Tc(l,d,m){if(l=m.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var x=m.stateNode}if(!x)throw Error(n(147,l));var S=x,j=""+l;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===j?d.ref:(d=function(M){var q=S.refs;M===null?delete q[j]:q[j]=M},d._stringRef=j,d)}if(typeof l!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,l))}return l}function Vh(l,d){throw l=Object.prototype.toString.call(d),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l))}function Qv(l){var d=l._init;return d(l._payload)}function Vv(l){function d(ge,se){if(l){var ve=ge.deletions;ve===null?(ge.deletions=[se],ge.flags|=16):ve.push(se)}}function m(ge,se){if(!l)return null;for(;se!==null;)d(ge,se),se=se.sibling;return null}function x(ge,se){for(ge=new Map;se!==null;)se.key!==null?ge.set(se.key,se):ge.set(se.index,se),se=se.sibling;return ge}function S(ge,se){return ge=Bo(ge,se),ge.index=0,ge.sibling=null,ge}function j(ge,se,ve){return ge.index=ve,l?(ve=ge.alternate,ve!==null?(ve=ve.index,ve<se?(ge.flags|=2,se):ve):(ge.flags|=2,se)):(ge.flags|=1048576,se)}function M(ge){return l&&ge.alternate===null&&(ge.flags|=2),ge}function q(ge,se,ve,$e){return se===null||se.tag!==6?(se=i0(ve,ge.mode,$e),se.return=ge,se):(se=S(se,ve),se.return=ge,se)}function Z(ge,se,ve,$e){var st=ve.type;return st===D?Le(ge,se,ve.props.children,$e,ve.key):se!==null&&(se.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===J&&Qv(st)===se.type)?($e=S(se,ve.props),$e.ref=Tc(ge,se,ve),$e.return=ge,$e):($e=gf(ve.type,ve.key,ve.props,null,ge.mode,$e),$e.ref=Tc(ge,se,ve),$e.return=ge,$e)}function be(ge,se,ve,$e){return se===null||se.tag!==4||se.stateNode.containerInfo!==ve.containerInfo||se.stateNode.implementation!==ve.implementation?(se=s0(ve,ge.mode,$e),se.return=ge,se):(se=S(se,ve.children||[]),se.return=ge,se)}function Le(ge,se,ve,$e,st){return se===null||se.tag!==7?(se=za(ve,ge.mode,$e,st),se.return=ge,se):(se=S(se,ve),se.return=ge,se)}function Me(ge,se,ve){if(typeof se=="string"&&se!==""||typeof se=="number")return se=i0(""+se,ge.mode,ve),se.return=ge,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case U:return ve=gf(se.type,se.key,se.props,null,ge.mode,ve),ve.ref=Tc(ge,null,se),ve.return=ge,ve;case P:return se=s0(se,ge.mode,ve),se.return=ge,se;case J:var $e=se._init;return Me(ge,$e(se._payload),ve)}if(Fr(se)||me(se))return se=za(se,ge.mode,ve,null),se.return=ge,se;Vh(ge,se)}return null}function Ne(ge,se,ve,$e){var st=se!==null?se.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number")return st!==null?null:q(ge,se,""+ve,$e);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case U:return ve.key===st?Z(ge,se,ve,$e):null;case P:return ve.key===st?be(ge,se,ve,$e):null;case J:return st=ve._init,Ne(ge,se,st(ve._payload),$e)}if(Fr(ve)||me(ve))return st!==null?null:Le(ge,se,ve,$e,null);Vh(ge,ve)}return null}function Xe(ge,se,ve,$e,st){if(typeof $e=="string"&&$e!==""||typeof $e=="number")return ge=ge.get(ve)||null,q(se,ge,""+$e,st);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case U:return ge=ge.get($e.key===null?ve:$e.key)||null,Z(se,ge,$e,st);case P:return ge=ge.get($e.key===null?ve:$e.key)||null,be(se,ge,$e,st);case J:var ut=$e._init;return Xe(ge,se,ve,ut($e._payload),st)}if(Fr($e)||me($e))return ge=ge.get(ve)||null,Le(se,ge,$e,st,null);Vh(se,$e)}return null}function nt(ge,se,ve,$e){for(var st=null,ut=null,ct=se,mt=se=0,tr=null;ct!==null&&mt<ve.length;mt++){ct.index>mt?(tr=ct,ct=null):tr=ct.sibling;var Vt=Ne(ge,ct,ve[mt],$e);if(Vt===null){ct===null&&(ct=tr);break}l&&ct&&Vt.alternate===null&&d(ge,ct),se=j(Vt,se,mt),ut===null?st=Vt:ut.sibling=Vt,ut=Vt,ct=tr}if(mt===ve.length)return m(ge,ct),xn&&La(ge,mt),st;if(ct===null){for(;mt<ve.length;mt++)ct=Me(ge,ve[mt],$e),ct!==null&&(se=j(ct,se,mt),ut===null?st=ct:ut.sibling=ct,ut=ct);return xn&&La(ge,mt),st}for(ct=x(ge,ct);mt<ve.length;mt++)tr=Xe(ct,ge,mt,ve[mt],$e),tr!==null&&(l&&tr.alternate!==null&&ct.delete(tr.key===null?mt:tr.key),se=j(tr,se,mt),ut===null?st=tr:ut.sibling=tr,ut=tr);return l&&ct.forEach(function(zo){return d(ge,zo)}),xn&&La(ge,mt),st}function it(ge,se,ve,$e){var st=me(ve);if(typeof st!="function")throw Error(n(150));if(ve=st.call(ve),ve==null)throw Error(n(151));for(var ut=st=null,ct=se,mt=se=0,tr=null,Vt=ve.next();ct!==null&&!Vt.done;mt++,Vt=ve.next()){ct.index>mt?(tr=ct,ct=null):tr=ct.sibling;var zo=Ne(ge,ct,Vt.value,$e);if(zo===null){ct===null&&(ct=tr);break}l&&ct&&zo.alternate===null&&d(ge,ct),se=j(zo,se,mt),ut===null?st=zo:ut.sibling=zo,ut=zo,ct=tr}if(Vt.done)return m(ge,ct),xn&&La(ge,mt),st;if(ct===null){for(;!Vt.done;mt++,Vt=ve.next())Vt=Me(ge,Vt.value,$e),Vt!==null&&(se=j(Vt,se,mt),ut===null?st=Vt:ut.sibling=Vt,ut=Vt);return xn&&La(ge,mt),st}for(ct=x(ge,ct);!Vt.done;mt++,Vt=ve.next())Vt=Xe(ct,ge,mt,Vt.value,$e),Vt!==null&&(l&&Vt.alternate!==null&&ct.delete(Vt.key===null?mt:Vt.key),se=j(Vt,se,mt),ut===null?st=Vt:ut.sibling=Vt,ut=Vt);return l&&ct.forEach(function(F9){return d(ge,F9)}),xn&&La(ge,mt),st}function Ln(ge,se,ve,$e){if(typeof ve=="object"&&ve!==null&&ve.type===D&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case U:e:{for(var st=ve.key,ut=se;ut!==null;){if(ut.key===st){if(st=ve.type,st===D){if(ut.tag===7){m(ge,ut.sibling),se=S(ut,ve.props.children),se.return=ge,ge=se;break e}}else if(ut.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===J&&Qv(st)===ut.type){m(ge,ut.sibling),se=S(ut,ve.props),se.ref=Tc(ge,ut,ve),se.return=ge,ge=se;break e}m(ge,ut);break}else d(ge,ut);ut=ut.sibling}ve.type===D?(se=za(ve.props.children,ge.mode,$e,ve.key),se.return=ge,ge=se):($e=gf(ve.type,ve.key,ve.props,null,ge.mode,$e),$e.ref=Tc(ge,se,ve),$e.return=ge,ge=$e)}return M(ge);case P:e:{for(ut=ve.key;se!==null;){if(se.key===ut)if(se.tag===4&&se.stateNode.containerInfo===ve.containerInfo&&se.stateNode.implementation===ve.implementation){m(ge,se.sibling),se=S(se,ve.children||[]),se.return=ge,ge=se;break e}else{m(ge,se);break}else d(ge,se);se=se.sibling}se=s0(ve,ge.mode,$e),se.return=ge,ge=se}return M(ge);case J:return ut=ve._init,Ln(ge,se,ut(ve._payload),$e)}if(Fr(ve))return nt(ge,se,ve,$e);if(me(ve))return it(ge,se,ve,$e);Vh(ge,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"?(ve=""+ve,se!==null&&se.tag===6?(m(ge,se.sibling),se=S(se,ve),se.return=ge,ge=se):(m(ge,se),se=i0(ve,ge.mode,$e),se.return=ge,ge=se),M(ge)):m(ge,se)}return Ln}var Jl=Vv(!0),qv=Vv(!1),qh=No(null),Wh=null,Zl=null,pg=null;function mg(){pg=Zl=Wh=null}function gg(l){var d=qh.current;hn(qh),l._currentValue=d}function yg(l,d,m){for(;l!==null;){var x=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,x!==null&&(x.childLanes|=d)):x!==null&&(x.childLanes&d)!==d&&(x.childLanes|=d),l===m)break;l=l.return}}function eu(l,d){Wh=l,pg=Zl=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&d)!==0&&(Qr=!0),l.firstContext=null)}function Ei(l){var d=l._currentValue;if(pg!==l)if(l={context:l,memoizedValue:d,next:null},Zl===null){if(Wh===null)throw Error(n(308));Zl=l,Wh.dependencies={lanes:0,firstContext:l}}else Zl=Zl.next=l;return d}var Aa=null;function xg(l){Aa===null?Aa=[l]:Aa.push(l)}function Wv(l,d,m,x){var S=d.interleaved;return S===null?(m.next=m,xg(d)):(m.next=S.next,S.next=m),d.interleaved=m,qs(l,x)}function qs(l,d){l.lanes|=d;var m=l.alternate;for(m!==null&&(m.lanes|=d),m=l,l=l.return;l!==null;)l.childLanes|=d,m=l.alternate,m!==null&&(m.childLanes|=d),m=l,l=l.return;return m.tag===3?m.stateNode:null}var Lo=!1;function vg(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kv(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Ws(l,d){return{eventTime:l,lane:d,tag:0,payload:null,callback:null,next:null}}function Ao(l,d,m){var x=l.updateQueue;if(x===null)return null;if(x=x.shared,(Qt&2)!==0){var S=x.pending;return S===null?d.next=d:(d.next=S.next,S.next=d),x.pending=d,qs(l,m)}return S=x.interleaved,S===null?(d.next=d,xg(x)):(d.next=S.next,S.next=d),x.interleaved=d,qs(l,m)}function Kh(l,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194240)!==0)){var x=d.lanes;x&=l.pendingLanes,m|=x,d.lanes=m,Pl(l,m)}}function Gv(l,d){var m=l.updateQueue,x=l.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var S=null,j=null;if(m=m.firstBaseUpdate,m!==null){do{var M={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};j===null?S=j=M:j=j.next=M,m=m.next}while(m!==null);j===null?S=j=d:j=j.next=d}else S=j=d;m={baseState:x.baseState,firstBaseUpdate:S,lastBaseUpdate:j,shared:x.shared,effects:x.effects},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=d:l.next=d,m.lastBaseUpdate=d}function Gh(l,d,m,x){var S=l.updateQueue;Lo=!1;var j=S.firstBaseUpdate,M=S.lastBaseUpdate,q=S.shared.pending;if(q!==null){S.shared.pending=null;var Z=q,be=Z.next;Z.next=null,M===null?j=be:M.next=be,M=Z;var Le=l.alternate;Le!==null&&(Le=Le.updateQueue,q=Le.lastBaseUpdate,q!==M&&(q===null?Le.firstBaseUpdate=be:q.next=be,Le.lastBaseUpdate=Z))}if(j!==null){var Me=S.baseState;M=0,Le=be=Z=null,q=j;do{var Ne=q.lane,Xe=q.eventTime;if((x&Ne)===Ne){Le!==null&&(Le=Le.next={eventTime:Xe,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});e:{var nt=l,it=q;switch(Ne=d,Xe=m,it.tag){case 1:if(nt=it.payload,typeof nt=="function"){Me=nt.call(Xe,Me,Ne);break e}Me=nt;break e;case 3:nt.flags=nt.flags&-65537|128;case 0:if(nt=it.payload,Ne=typeof nt=="function"?nt.call(Xe,Me,Ne):nt,Ne==null)break e;Me=I({},Me,Ne);break e;case 2:Lo=!0}}q.callback!==null&&q.lane!==0&&(l.flags|=64,Ne=S.effects,Ne===null?S.effects=[q]:Ne.push(q))}else Xe={eventTime:Xe,lane:Ne,tag:q.tag,payload:q.payload,callback:q.callback,next:null},Le===null?(be=Le=Xe,Z=Me):Le=Le.next=Xe,M|=Ne;if(q=q.next,q===null){if(q=S.shared.pending,q===null)break;Ne=q,q=Ne.next,Ne.next=null,S.lastBaseUpdate=Ne,S.shared.pending=null}}while(!0);if(Le===null&&(Z=Me),S.baseState=Z,S.firstBaseUpdate=be,S.lastBaseUpdate=Le,d=S.shared.interleaved,d!==null){S=d;do M|=S.lane,S=S.next;while(S!==d)}else j===null&&(S.shared.lanes=0);Ia|=M,l.lanes=M,l.memoizedState=Me}}function Yv(l,d,m){if(l=d.effects,d.effects=null,l!==null)for(d=0;d<l.length;d++){var x=l[d],S=x.callback;if(S!==null){if(x.callback=null,x=m,typeof S!="function")throw Error(n(191,S));S.call(x)}}}var Nc={},xs=No(Nc),Pc=No(Nc),Oc=No(Nc);function Ma(l){if(l===Nc)throw Error(n(174));return l}function bg(l,d){switch(rn(Oc,d),rn(Pc,l),rn(xs,Nc),l=d.nodeType,l){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:Oe(null,"");break;default:l=l===8?d.parentNode:d,d=l.namespaceURI||null,l=l.tagName,d=Oe(d,l)}hn(xs),rn(xs,d)}function tu(){hn(xs),hn(Pc),hn(Oc)}function Xv(l){Ma(Oc.current);var d=Ma(xs.current),m=Oe(d,l.type);d!==m&&(rn(Pc,l),rn(xs,m))}function wg(l){Pc.current===l&&(hn(xs),hn(Pc))}var _n=No(0);function Yh(l){for(var d=l;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var _g=[];function Sg(){for(var l=0;l<_g.length;l++)_g[l]._workInProgressVersionPrimary=null;_g.length=0}var Xh=B.ReactCurrentDispatcher,Cg=B.ReactCurrentBatchConfig,Ra=0,Sn=null,Qn=null,Zn=null,Jh=!1,Lc=!1,Ac=0,o9=0;function gr(){throw Error(n(321))}function kg(l,d){if(d===null)return!1;for(var m=0;m<d.length&&m<l.length;m++)if(!Y(l[m],d[m]))return!1;return!0}function jg(l,d,m,x,S,j){if(Ra=j,Sn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Xh.current=l===null||l.memoizedState===null?c9:d9,l=m(x,S),Lc){j=0;do{if(Lc=!1,Ac=0,25<=j)throw Error(n(301));j+=1,Zn=Qn=null,d.updateQueue=null,Xh.current=h9,l=m(x,S)}while(Lc)}if(Xh.current=tf,d=Qn!==null&&Qn.next!==null,Ra=0,Zn=Qn=Sn=null,Jh=!1,d)throw Error(n(300));return l}function Eg(){var l=Ac!==0;return Ac=0,l}function vs(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zn===null?Sn.memoizedState=Zn=l:Zn=Zn.next=l,Zn}function Ti(){if(Qn===null){var l=Sn.alternate;l=l!==null?l.memoizedState:null}else l=Qn.next;var d=Zn===null?Sn.memoizedState:Zn.next;if(d!==null)Zn=d,Qn=l;else{if(l===null)throw Error(n(310));Qn=l,l={memoizedState:Qn.memoizedState,baseState:Qn.baseState,baseQueue:Qn.baseQueue,queue:Qn.queue,next:null},Zn===null?Sn.memoizedState=Zn=l:Zn=Zn.next=l}return Zn}function Mc(l,d){return typeof d=="function"?d(l):d}function Tg(l){var d=Ti(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=l;var x=Qn,S=x.baseQueue,j=m.pending;if(j!==null){if(S!==null){var M=S.next;S.next=j.next,j.next=M}x.baseQueue=S=j,m.pending=null}if(S!==null){j=S.next,x=x.baseState;var q=M=null,Z=null,be=j;do{var Le=be.lane;if((Ra&Le)===Le)Z!==null&&(Z=Z.next={lane:0,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null}),x=be.hasEagerState?be.eagerState:l(x,be.action);else{var Me={lane:Le,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null};Z===null?(q=Z=Me,M=x):Z=Z.next=Me,Sn.lanes|=Le,Ia|=Le}be=be.next}while(be!==null&&be!==j);Z===null?M=x:Z.next=q,Y(x,d.memoizedState)||(Qr=!0),d.memoizedState=x,d.baseState=M,d.baseQueue=Z,m.lastRenderedState=x}if(l=m.interleaved,l!==null){S=l;do j=S.lane,Sn.lanes|=j,Ia|=j,S=S.next;while(S!==l)}else S===null&&(m.lanes=0);return[d.memoizedState,m.dispatch]}function Ng(l){var d=Ti(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=l;var x=m.dispatch,S=m.pending,j=d.memoizedState;if(S!==null){m.pending=null;var M=S=S.next;do j=l(j,M.action),M=M.next;while(M!==S);Y(j,d.memoizedState)||(Qr=!0),d.memoizedState=j,d.baseQueue===null&&(d.baseState=j),m.lastRenderedState=j}return[j,x]}function Jv(){}function Zv(l,d){var m=Sn,x=Ti(),S=d(),j=!Y(x.memoizedState,S);if(j&&(x.memoizedState=S,Qr=!0),x=x.queue,Pg(n2.bind(null,m,x,l),[l]),x.getSnapshot!==d||j||Zn!==null&&Zn.memoizedState.tag&1){if(m.flags|=2048,Rc(9,t2.bind(null,m,x,S,d),void 0,null),er===null)throw Error(n(349));(Ra&30)!==0||e2(m,d,S)}return S}function e2(l,d,m){l.flags|=16384,l={getSnapshot:d,value:m},d=Sn.updateQueue,d===null?(d={lastEffect:null,stores:null},Sn.updateQueue=d,d.stores=[l]):(m=d.stores,m===null?d.stores=[l]:m.push(l))}function t2(l,d,m,x){d.value=m,d.getSnapshot=x,r2(d)&&i2(l)}function n2(l,d,m){return m(function(){r2(d)&&i2(l)})}function r2(l){var d=l.getSnapshot;l=l.value;try{var m=d();return!Y(l,m)}catch{return!0}}function i2(l){var d=qs(l,1);d!==null&&es(d,l,1,-1)}function s2(l){var d=vs();return typeof l=="function"&&(l=l()),d.memoizedState=d.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mc,lastRenderedState:l},d.queue=l,l=l.dispatch=u9.bind(null,Sn,l),[d.memoizedState,l]}function Rc(l,d,m,x){return l={tag:l,create:d,destroy:m,deps:x,next:null},d=Sn.updateQueue,d===null?(d={lastEffect:null,stores:null},Sn.updateQueue=d,d.lastEffect=l.next=l):(m=d.lastEffect,m===null?d.lastEffect=l.next=l:(x=m.next,m.next=l,l.next=x,d.lastEffect=l)),l}function o2(){return Ti().memoizedState}function Zh(l,d,m,x){var S=vs();Sn.flags|=l,S.memoizedState=Rc(1|d,m,void 0,x===void 0?null:x)}function ef(l,d,m,x){var S=Ti();x=x===void 0?null:x;var j=void 0;if(Qn!==null){var M=Qn.memoizedState;if(j=M.destroy,x!==null&&kg(x,M.deps)){S.memoizedState=Rc(d,m,j,x);return}}Sn.flags|=l,S.memoizedState=Rc(1|d,m,j,x)}function a2(l,d){return Zh(8390656,8,l,d)}function Pg(l,d){return ef(2048,8,l,d)}function l2(l,d){return ef(4,2,l,d)}function u2(l,d){return ef(4,4,l,d)}function c2(l,d){if(typeof d=="function")return l=l(),d(l),function(){d(null)};if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function d2(l,d,m){return m=m!=null?m.concat([l]):null,ef(4,4,c2.bind(null,d,l),m)}function Og(){}function h2(l,d){var m=Ti();d=d===void 0?null:d;var x=m.memoizedState;return x!==null&&d!==null&&kg(d,x[1])?x[0]:(m.memoizedState=[l,d],l)}function f2(l,d){var m=Ti();d=d===void 0?null:d;var x=m.memoizedState;return x!==null&&d!==null&&kg(d,x[1])?x[0]:(l=l(),m.memoizedState=[l,d],l)}function p2(l,d,m){return(Ra&21)===0?(l.baseState&&(l.baseState=!1,Qr=!0),l.memoizedState=m):(Y(m,d)||(m=hc(),Sn.lanes|=m,Ia|=m,l.baseState=!0),d)}function a9(l,d){var m=Yt;Yt=m!==0&&4>m?m:4,l(!0);var x=Cg.transition;Cg.transition={};try{l(!1),d()}finally{Yt=m,Cg.transition=x}}function m2(){return Ti().memoizedState}function l9(l,d,m){var x=Do(l);if(m={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null},g2(l))y2(d,m);else if(m=Wv(l,d,m,x),m!==null){var S=Lr();es(m,l,x,S),x2(m,d,x)}}function u9(l,d,m){var x=Do(l),S={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null};if(g2(l))y2(d,S);else{var j=l.alternate;if(l.lanes===0&&(j===null||j.lanes===0)&&(j=d.lastRenderedReducer,j!==null))try{var M=d.lastRenderedState,q=j(M,m);if(S.hasEagerState=!0,S.eagerState=q,Y(q,M)){var Z=d.interleaved;Z===null?(S.next=S,xg(d)):(S.next=Z.next,Z.next=S),d.interleaved=S;return}}catch{}finally{}m=Wv(l,d,S,x),m!==null&&(S=Lr(),es(m,l,x,S),x2(m,d,x))}}function g2(l){var d=l.alternate;return l===Sn||d!==null&&d===Sn}function y2(l,d){Lc=Jh=!0;var m=l.pending;m===null?d.next=d:(d.next=m.next,m.next=d),l.pending=d}function x2(l,d,m){if((m&4194240)!==0){var x=d.lanes;x&=l.pendingLanes,m|=x,d.lanes=m,Pl(l,m)}}var tf={readContext:Ei,useCallback:gr,useContext:gr,useEffect:gr,useImperativeHandle:gr,useInsertionEffect:gr,useLayoutEffect:gr,useMemo:gr,useReducer:gr,useRef:gr,useState:gr,useDebugValue:gr,useDeferredValue:gr,useTransition:gr,useMutableSource:gr,useSyncExternalStore:gr,useId:gr,unstable_isNewReconciler:!1},c9={readContext:Ei,useCallback:function(l,d){return vs().memoizedState=[l,d===void 0?null:d],l},useContext:Ei,useEffect:a2,useImperativeHandle:function(l,d,m){return m=m!=null?m.concat([l]):null,Zh(4194308,4,c2.bind(null,d,l),m)},useLayoutEffect:function(l,d){return Zh(4194308,4,l,d)},useInsertionEffect:function(l,d){return Zh(4,2,l,d)},useMemo:function(l,d){var m=vs();return d=d===void 0?null:d,l=l(),m.memoizedState=[l,d],l},useReducer:function(l,d,m){var x=vs();return d=m!==void 0?m(d):d,x.memoizedState=x.baseState=d,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:d},x.queue=l,l=l.dispatch=l9.bind(null,Sn,l),[x.memoizedState,l]},useRef:function(l){var d=vs();return l={current:l},d.memoizedState=l},useState:s2,useDebugValue:Og,useDeferredValue:function(l){return vs().memoizedState=l},useTransition:function(){var l=s2(!1),d=l[0];return l=a9.bind(null,l[1]),vs().memoizedState=l,[d,l]},useMutableSource:function(){},useSyncExternalStore:function(l,d,m){var x=Sn,S=vs();if(xn){if(m===void 0)throw Error(n(407));m=m()}else{if(m=d(),er===null)throw Error(n(349));(Ra&30)!==0||e2(x,d,m)}S.memoizedState=m;var j={value:m,getSnapshot:d};return S.queue=j,a2(n2.bind(null,x,j,l),[l]),x.flags|=2048,Rc(9,t2.bind(null,x,j,m,d),void 0,null),m},useId:function(){var l=vs(),d=er.identifierPrefix;if(xn){var m=Vs,x=Qs;m=(x&~(1<<32-ft(x)-1)).toString(32)+m,d=":"+d+"R"+m,m=Ac++,0<m&&(d+="H"+m.toString(32)),d+=":"}else m=o9++,d=":"+d+"r"+m.toString(32)+":";return l.memoizedState=d},unstable_isNewReconciler:!1},d9={readContext:Ei,useCallback:h2,useContext:Ei,useEffect:Pg,useImperativeHandle:d2,useInsertionEffect:l2,useLayoutEffect:u2,useMemo:f2,useReducer:Tg,useRef:o2,useState:function(){return Tg(Mc)},useDebugValue:Og,useDeferredValue:function(l){var d=Ti();return p2(d,Qn.memoizedState,l)},useTransition:function(){var l=Tg(Mc)[0],d=Ti().memoizedState;return[l,d]},useMutableSource:Jv,useSyncExternalStore:Zv,useId:m2,unstable_isNewReconciler:!1},h9={readContext:Ei,useCallback:h2,useContext:Ei,useEffect:Pg,useImperativeHandle:d2,useInsertionEffect:l2,useLayoutEffect:u2,useMemo:f2,useReducer:Ng,useRef:o2,useState:function(){return Ng(Mc)},useDebugValue:Og,useDeferredValue:function(l){var d=Ti();return Qn===null?d.memoizedState=l:p2(d,Qn.memoizedState,l)},useTransition:function(){var l=Ng(Mc)[0],d=Ti().memoizedState;return[l,d]},useMutableSource:Jv,useSyncExternalStore:Zv,useId:m2,unstable_isNewReconciler:!1};function Xi(l,d){if(l&&l.defaultProps){d=I({},d),l=l.defaultProps;for(var m in l)d[m]===void 0&&(d[m]=l[m]);return d}return d}function Lg(l,d,m,x){d=l.memoizedState,m=m(x,d),m=m==null?d:I({},d,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var nf={isMounted:function(l){return(l=l._reactInternals)?Pt(l)===l:!1},enqueueSetState:function(l,d,m){l=l._reactInternals;var x=Lr(),S=Do(l),j=Ws(x,S);j.payload=d,m!=null&&(j.callback=m),d=Ao(l,j,S),d!==null&&(es(d,l,S,x),Kh(d,l,S))},enqueueReplaceState:function(l,d,m){l=l._reactInternals;var x=Lr(),S=Do(l),j=Ws(x,S);j.tag=1,j.payload=d,m!=null&&(j.callback=m),d=Ao(l,j,S),d!==null&&(es(d,l,S,x),Kh(d,l,S))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var m=Lr(),x=Do(l),S=Ws(m,x);S.tag=2,d!=null&&(S.callback=d),d=Ao(l,S,x),d!==null&&(es(d,l,x,m),Kh(d,l,x))}};function v2(l,d,m,x,S,j,M){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(x,j,M):d.prototype&&d.prototype.isPureReactComponent?!he(m,x)||!he(S,j):!0}function b2(l,d,m){var x=!1,S=Po,j=d.contextType;return typeof j=="object"&&j!==null?j=Ei(j):(S=Hr(d)?Pa:mr.current,x=d.contextTypes,j=(x=x!=null)?Kl(l,S):Po),d=new d(m,j),l.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=nf,l.stateNode=d,d._reactInternals=l,x&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=S,l.__reactInternalMemoizedMaskedChildContext=j),d}function w2(l,d,m,x){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,x),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,x),d.state!==l&&nf.enqueueReplaceState(d,d.state,null)}function Ag(l,d,m,x){var S=l.stateNode;S.props=m,S.state=l.memoizedState,S.refs={},vg(l);var j=d.contextType;typeof j=="object"&&j!==null?S.context=Ei(j):(j=Hr(d)?Pa:mr.current,S.context=Kl(l,j)),S.state=l.memoizedState,j=d.getDerivedStateFromProps,typeof j=="function"&&(Lg(l,d,j,m),S.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(d=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),d!==S.state&&nf.enqueueReplaceState(S,S.state,null),Gh(l,m,S,x),S.state=l.memoizedState),typeof S.componentDidMount=="function"&&(l.flags|=4194308)}function nu(l,d){try{var m="",x=d;do m+=je(x),x=x.return;while(x);var S=m}catch(j){S=`
Error generating stack: `+j.message+`
`+j.stack}return{value:l,source:d,stack:S,digest:null}}function Mg(l,d,m){return{value:l,source:null,stack:m??null,digest:d??null}}function Rg(l,d){try{console.error(d.value)}catch(m){setTimeout(function(){throw m})}}var f9=typeof WeakMap=="function"?WeakMap:Map;function _2(l,d,m){m=Ws(-1,m),m.tag=3,m.payload={element:null};var x=d.value;return m.callback=function(){cf||(cf=!0,Yg=x),Rg(l,d)},m}function S2(l,d,m){m=Ws(-1,m),m.tag=3;var x=l.type.getDerivedStateFromError;if(typeof x=="function"){var S=d.value;m.payload=function(){return x(S)},m.callback=function(){Rg(l,d)}}var j=l.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(m.callback=function(){Rg(l,d),typeof x!="function"&&(Ro===null?Ro=new Set([this]):Ro.add(this));var M=d.stack;this.componentDidCatch(d.value,{componentStack:M!==null?M:""})}),m}function C2(l,d,m){var x=l.pingCache;if(x===null){x=l.pingCache=new f9;var S=new Set;x.set(d,S)}else S=x.get(d),S===void 0&&(S=new Set,x.set(d,S));S.has(m)||(S.add(m),l=E9.bind(null,l,d,m),d.then(l,l))}function k2(l){do{var d;if((d=l.tag===13)&&(d=l.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return l;l=l.return}while(l!==null);return null}function j2(l,d,m,x,S){return(l.mode&1)===0?(l===d?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(d=Ws(-1,1),d.tag=2,Ao(m,d,1))),m.lanes|=1),l):(l.flags|=65536,l.lanes=S,l)}var p9=B.ReactCurrentOwner,Qr=!1;function Or(l,d,m,x){d.child=l===null?qv(d,null,m,x):Jl(d,l.child,m,x)}function E2(l,d,m,x,S){m=m.render;var j=d.ref;return eu(d,S),x=jg(l,d,m,x,j,S),m=Eg(),l!==null&&!Qr?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~S,Ks(l,d,S)):(xn&&m&&ug(d),d.flags|=1,Or(l,d,x,S),d.child)}function T2(l,d,m,x,S){if(l===null){var j=m.type;return typeof j=="function"&&!r0(j)&&j.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(d.tag=15,d.type=j,N2(l,d,j,x,S)):(l=gf(m.type,null,x,d,d.mode,S),l.ref=d.ref,l.return=d,d.child=l)}if(j=l.child,(l.lanes&S)===0){var M=j.memoizedProps;if(m=m.compare,m=m!==null?m:he,m(M,x)&&l.ref===d.ref)return Ks(l,d,S)}return d.flags|=1,l=Bo(j,x),l.ref=d.ref,l.return=d,d.child=l}function N2(l,d,m,x,S){if(l!==null){var j=l.memoizedProps;if(he(j,x)&&l.ref===d.ref)if(Qr=!1,d.pendingProps=x=j,(l.lanes&S)!==0)(l.flags&131072)!==0&&(Qr=!0);else return d.lanes=l.lanes,Ks(l,d,S)}return Ig(l,d,m,x,S)}function P2(l,d,m){var x=d.pendingProps,S=x.children,j=l!==null?l.memoizedState:null;if(x.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},rn(iu,hi),hi|=m;else{if((m&1073741824)===0)return l=j!==null?j.baseLanes|m:m,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:l,cachePool:null,transitions:null},d.updateQueue=null,rn(iu,hi),hi|=l,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=j!==null?j.baseLanes:m,rn(iu,hi),hi|=x}else j!==null?(x=j.baseLanes|m,d.memoizedState=null):x=m,rn(iu,hi),hi|=x;return Or(l,d,S,m),d.child}function O2(l,d){var m=d.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(d.flags|=512,d.flags|=2097152)}function Ig(l,d,m,x,S){var j=Hr(m)?Pa:mr.current;return j=Kl(d,j),eu(d,S),m=jg(l,d,m,x,j,S),x=Eg(),l!==null&&!Qr?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~S,Ks(l,d,S)):(xn&&x&&ug(d),d.flags|=1,Or(l,d,m,S),d.child)}function L2(l,d,m,x,S){if(Hr(m)){var j=!0;zh(d)}else j=!1;if(eu(d,S),d.stateNode===null)sf(l,d),b2(d,m,x),Ag(d,m,x,S),x=!0;else if(l===null){var M=d.stateNode,q=d.memoizedProps;M.props=q;var Z=M.context,be=m.contextType;typeof be=="object"&&be!==null?be=Ei(be):(be=Hr(m)?Pa:mr.current,be=Kl(d,be));var Le=m.getDerivedStateFromProps,Me=typeof Le=="function"||typeof M.getSnapshotBeforeUpdate=="function";Me||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(q!==x||Z!==be)&&w2(d,M,x,be),Lo=!1;var Ne=d.memoizedState;M.state=Ne,Gh(d,x,M,S),Z=d.memoizedState,q!==x||Ne!==Z||Ur.current||Lo?(typeof Le=="function"&&(Lg(d,m,Le,x),Z=d.memoizedState),(q=Lo||v2(d,m,q,x,Ne,Z,be))?(Me||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(d.flags|=4194308)):(typeof M.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=x,d.memoizedState=Z),M.props=x,M.state=Z,M.context=be,x=q):(typeof M.componentDidMount=="function"&&(d.flags|=4194308),x=!1)}else{M=d.stateNode,Kv(l,d),q=d.memoizedProps,be=d.type===d.elementType?q:Xi(d.type,q),M.props=be,Me=d.pendingProps,Ne=M.context,Z=m.contextType,typeof Z=="object"&&Z!==null?Z=Ei(Z):(Z=Hr(m)?Pa:mr.current,Z=Kl(d,Z));var Xe=m.getDerivedStateFromProps;(Le=typeof Xe=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(q!==Me||Ne!==Z)&&w2(d,M,x,Z),Lo=!1,Ne=d.memoizedState,M.state=Ne,Gh(d,x,M,S);var nt=d.memoizedState;q!==Me||Ne!==nt||Ur.current||Lo?(typeof Xe=="function"&&(Lg(d,m,Xe,x),nt=d.memoizedState),(be=Lo||v2(d,m,be,x,Ne,nt,Z)||!1)?(Le||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(x,nt,Z),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(x,nt,Z)),typeof M.componentDidUpdate=="function"&&(d.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof M.componentDidUpdate!="function"||q===l.memoizedProps&&Ne===l.memoizedState||(d.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||q===l.memoizedProps&&Ne===l.memoizedState||(d.flags|=1024),d.memoizedProps=x,d.memoizedState=nt),M.props=x,M.state=nt,M.context=Z,x=be):(typeof M.componentDidUpdate!="function"||q===l.memoizedProps&&Ne===l.memoizedState||(d.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||q===l.memoizedProps&&Ne===l.memoizedState||(d.flags|=1024),x=!1)}return Dg(l,d,m,x,j,S)}function Dg(l,d,m,x,S,j){O2(l,d);var M=(d.flags&128)!==0;if(!x&&!M)return S&&Dv(d,m,!1),Ks(l,d,j);x=d.stateNode,p9.current=d;var q=M&&typeof m.getDerivedStateFromError!="function"?null:x.render();return d.flags|=1,l!==null&&M?(d.child=Jl(d,l.child,null,j),d.child=Jl(d,null,q,j)):Or(l,d,q,j),d.memoizedState=x.state,S&&Dv(d,m,!0),d.child}function A2(l){var d=l.stateNode;d.pendingContext?Rv(l,d.pendingContext,d.pendingContext!==d.context):d.context&&Rv(l,d.context,!1),bg(l,d.containerInfo)}function M2(l,d,m,x,S){return Xl(),fg(S),d.flags|=256,Or(l,d,m,x),d.child}var Fg={dehydrated:null,treeContext:null,retryLane:0};function Bg(l){return{baseLanes:l,cachePool:null,transitions:null}}function R2(l,d,m){var x=d.pendingProps,S=_n.current,j=!1,M=(d.flags&128)!==0,q;if((q=M)||(q=l!==null&&l.memoizedState===null?!1:(S&2)!==0),q?(j=!0,d.flags&=-129):(l===null||l.memoizedState!==null)&&(S|=1),rn(_n,S&1),l===null)return hg(d),l=d.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((d.mode&1)===0?d.lanes=1:l.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(M=x.children,l=x.fallback,j?(x=d.mode,j=d.child,M={mode:"hidden",children:M},(x&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=M):j=yf(M,x,0,null),l=za(l,x,m,null),j.return=d,l.return=d,j.sibling=l,d.child=j,d.child.memoizedState=Bg(m),d.memoizedState=Fg,l):zg(d,M));if(S=l.memoizedState,S!==null&&(q=S.dehydrated,q!==null))return m9(l,d,M,x,q,S,m);if(j){j=x.fallback,M=d.mode,S=l.child,q=S.sibling;var Z={mode:"hidden",children:x.children};return(M&1)===0&&d.child!==S?(x=d.child,x.childLanes=0,x.pendingProps=Z,d.deletions=null):(x=Bo(S,Z),x.subtreeFlags=S.subtreeFlags&14680064),q!==null?j=Bo(q,j):(j=za(j,M,m,null),j.flags|=2),j.return=d,x.return=d,x.sibling=j,d.child=x,x=j,j=d.child,M=l.child.memoizedState,M=M===null?Bg(m):{baseLanes:M.baseLanes|m,cachePool:null,transitions:M.transitions},j.memoizedState=M,j.childLanes=l.childLanes&~m,d.memoizedState=Fg,x}return j=l.child,l=j.sibling,x=Bo(j,{mode:"visible",children:x.children}),(d.mode&1)===0&&(x.lanes=m),x.return=d,x.sibling=null,l!==null&&(m=d.deletions,m===null?(d.deletions=[l],d.flags|=16):m.push(l)),d.child=x,d.memoizedState=null,x}function zg(l,d){return d=yf({mode:"visible",children:d},l.mode,0,null),d.return=l,l.child=d}function rf(l,d,m,x){return x!==null&&fg(x),Jl(d,l.child,null,m),l=zg(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function m9(l,d,m,x,S,j,M){if(m)return d.flags&256?(d.flags&=-257,x=Mg(Error(n(422))),rf(l,d,M,x)):d.memoizedState!==null?(d.child=l.child,d.flags|=128,null):(j=x.fallback,S=d.mode,x=yf({mode:"visible",children:x.children},S,0,null),j=za(j,S,M,null),j.flags|=2,x.return=d,j.return=d,x.sibling=j,d.child=x,(d.mode&1)!==0&&Jl(d,l.child,null,M),d.child.memoizedState=Bg(M),d.memoizedState=Fg,j);if((d.mode&1)===0)return rf(l,d,M,null);if(S.data==="$!"){if(x=S.nextSibling&&S.nextSibling.dataset,x)var q=x.dgst;return x=q,j=Error(n(419)),x=Mg(j,x,void 0),rf(l,d,M,x)}if(q=(M&l.childLanes)!==0,Qr||q){if(x=er,x!==null){switch(M&-M){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(x.suspendedLanes|M))!==0?0:S,S!==0&&S!==j.retryLane&&(j.retryLane=S,qs(l,S),es(x,l,S,-1))}return n0(),x=Mg(Error(n(421))),rf(l,d,M,x)}return S.data==="$?"?(d.flags|=128,d.child=l.child,d=T9.bind(null,l),S._reactRetry=d,null):(l=j.treeContext,di=To(S.nextSibling),ci=d,xn=!0,Yi=null,l!==null&&(ki[ji++]=Qs,ki[ji++]=Vs,ki[ji++]=Oa,Qs=l.id,Vs=l.overflow,Oa=d),d=zg(d,x.children),d.flags|=4096,d)}function I2(l,d,m){l.lanes|=d;var x=l.alternate;x!==null&&(x.lanes|=d),yg(l.return,d,m)}function $g(l,d,m,x,S){var j=l.memoizedState;j===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:S}:(j.isBackwards=d,j.rendering=null,j.renderingStartTime=0,j.last=x,j.tail=m,j.tailMode=S)}function D2(l,d,m){var x=d.pendingProps,S=x.revealOrder,j=x.tail;if(Or(l,d,x.children,m),x=_n.current,(x&2)!==0)x=x&1|2,d.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&I2(l,m,d);else if(l.tag===19)I2(l,m,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}x&=1}if(rn(_n,x),(d.mode&1)===0)d.memoizedState=null;else switch(S){case"forwards":for(m=d.child,S=null;m!==null;)l=m.alternate,l!==null&&Yh(l)===null&&(S=m),m=m.sibling;m=S,m===null?(S=d.child,d.child=null):(S=m.sibling,m.sibling=null),$g(d,!1,S,m,j);break;case"backwards":for(m=null,S=d.child,d.child=null;S!==null;){if(l=S.alternate,l!==null&&Yh(l)===null){d.child=S;break}l=S.sibling,S.sibling=m,m=S,S=l}$g(d,!0,m,null,j);break;case"together":$g(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function sf(l,d){(d.mode&1)===0&&l!==null&&(l.alternate=null,d.alternate=null,d.flags|=2)}function Ks(l,d,m){if(l!==null&&(d.dependencies=l.dependencies),Ia|=d.lanes,(m&d.childLanes)===0)return null;if(l!==null&&d.child!==l.child)throw Error(n(153));if(d.child!==null){for(l=d.child,m=Bo(l,l.pendingProps),d.child=m,m.return=d;l.sibling!==null;)l=l.sibling,m=m.sibling=Bo(l,l.pendingProps),m.return=d;m.sibling=null}return d.child}function g9(l,d,m){switch(d.tag){case 3:A2(d),Xl();break;case 5:Xv(d);break;case 1:Hr(d.type)&&zh(d);break;case 4:bg(d,d.stateNode.containerInfo);break;case 10:var x=d.type._context,S=d.memoizedProps.value;rn(qh,x._currentValue),x._currentValue=S;break;case 13:if(x=d.memoizedState,x!==null)return x.dehydrated!==null?(rn(_n,_n.current&1),d.flags|=128,null):(m&d.child.childLanes)!==0?R2(l,d,m):(rn(_n,_n.current&1),l=Ks(l,d,m),l!==null?l.sibling:null);rn(_n,_n.current&1);break;case 19:if(x=(m&d.childLanes)!==0,(l.flags&128)!==0){if(x)return D2(l,d,m);d.flags|=128}if(S=d.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),rn(_n,_n.current),x)break;return null;case 22:case 23:return d.lanes=0,P2(l,d,m)}return Ks(l,d,m)}var F2,Ug,B2,z2;F2=function(l,d){for(var m=d.child;m!==null;){if(m.tag===5||m.tag===6)l.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Ug=function(){},B2=function(l,d,m,x){var S=l.memoizedProps;if(S!==x){l=d.stateNode,Ma(xs.current);var j=null;switch(m){case"input":S=cn(l,S),x=cn(l,x),j=[];break;case"select":S=I({},S,{value:void 0}),x=I({},x,{value:void 0}),j=[];break;case"textarea":S=cr(l,S),x=cr(l,x),j=[];break;default:typeof S.onClick!="function"&&typeof x.onClick=="function"&&(l.onclick=Dh)}Ve(m,x);var M;m=null;for(be in S)if(!x.hasOwnProperty(be)&&S.hasOwnProperty(be)&&S[be]!=null)if(be==="style"){var q=S[be];for(M in q)q.hasOwnProperty(M)&&(m||(m={}),m[M]="")}else be!=="dangerouslySetInnerHTML"&&be!=="children"&&be!=="suppressContentEditableWarning"&&be!=="suppressHydrationWarning"&&be!=="autoFocus"&&(i.hasOwnProperty(be)?j||(j=[]):(j=j||[]).push(be,null));for(be in x){var Z=x[be];if(q=S?.[be],x.hasOwnProperty(be)&&Z!==q&&(Z!=null||q!=null))if(be==="style")if(q){for(M in q)!q.hasOwnProperty(M)||Z&&Z.hasOwnProperty(M)||(m||(m={}),m[M]="");for(M in Z)Z.hasOwnProperty(M)&&q[M]!==Z[M]&&(m||(m={}),m[M]=Z[M])}else m||(j||(j=[]),j.push(be,m)),m=Z;else be==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,q=q?q.__html:void 0,Z!=null&&q!==Z&&(j=j||[]).push(be,Z)):be==="children"?typeof Z!="string"&&typeof Z!="number"||(j=j||[]).push(be,""+Z):be!=="suppressContentEditableWarning"&&be!=="suppressHydrationWarning"&&(i.hasOwnProperty(be)?(Z!=null&&be==="onScroll"&&dn("scroll",l),j||q===Z||(j=[])):(j=j||[]).push(be,Z))}m&&(j=j||[]).push("style",m);var be=j;(d.updateQueue=be)&&(d.flags|=4)}},z2=function(l,d,m,x){m!==x&&(d.flags|=4)};function Ic(l,d){if(!xn)switch(l.tailMode){case"hidden":d=l.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:x.sibling=null}}function yr(l){var d=l.alternate!==null&&l.alternate.child===l.child,m=0,x=0;if(d)for(var S=l.child;S!==null;)m|=S.lanes|S.childLanes,x|=S.subtreeFlags&14680064,x|=S.flags&14680064,S.return=l,S=S.sibling;else for(S=l.child;S!==null;)m|=S.lanes|S.childLanes,x|=S.subtreeFlags,x|=S.flags,S.return=l,S=S.sibling;return l.subtreeFlags|=x,l.childLanes=m,d}function y9(l,d,m){var x=d.pendingProps;switch(cg(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yr(d),null;case 1:return Hr(d.type)&&Bh(),yr(d),null;case 3:return x=d.stateNode,tu(),hn(Ur),hn(mr),Sg(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(l===null||l.child===null)&&(Qh(d)?d.flags|=4:l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Yi!==null&&(Zg(Yi),Yi=null))),Ug(l,d),yr(d),null;case 5:wg(d);var S=Ma(Oc.current);if(m=d.type,l!==null&&d.stateNode!=null)B2(l,d,m,x,S),l.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!x){if(d.stateNode===null)throw Error(n(166));return yr(d),null}if(l=Ma(xs.current),Qh(d)){x=d.stateNode,m=d.type;var j=d.memoizedProps;switch(x[ys]=d,x[jc]=j,l=(d.mode&1)!==0,m){case"dialog":dn("cancel",x),dn("close",x);break;case"iframe":case"object":case"embed":dn("load",x);break;case"video":case"audio":for(S=0;S<Sc.length;S++)dn(Sc[S],x);break;case"source":dn("error",x);break;case"img":case"image":case"link":dn("error",x),dn("load",x);break;case"details":dn("toggle",x);break;case"input":Tn(x,j),dn("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!j.multiple},dn("invalid",x);break;case"textarea":dr(x,j),dn("invalid",x)}Ve(m,j),S=null;for(var M in j)if(j.hasOwnProperty(M)){var q=j[M];M==="children"?typeof q=="string"?x.textContent!==q&&(j.suppressHydrationWarning!==!0&&Ih(x.textContent,q,l),S=["children",q]):typeof q=="number"&&x.textContent!==""+q&&(j.suppressHydrationWarning!==!0&&Ih(x.textContent,q,l),S=["children",""+q]):i.hasOwnProperty(M)&&q!=null&&M==="onScroll"&&dn("scroll",x)}switch(m){case"input":un(x),go(x,j,!0);break;case"textarea":un(x),Br(x);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(x.onclick=Dh)}x=S,d.updateQueue=x,x!==null&&(d.flags|=4)}else{M=S.nodeType===9?S:S.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=Ce(m)),l==="http://www.w3.org/1999/xhtml"?m==="script"?(l=M.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof x.is=="string"?l=M.createElement(m,{is:x.is}):(l=M.createElement(m),m==="select"&&(M=l,x.multiple?M.multiple=!0:x.size&&(M.size=x.size))):l=M.createElementNS(l,m),l[ys]=d,l[jc]=x,F2(l,d,!1,!1),d.stateNode=l;e:{switch(M=Pn(m,x),m){case"dialog":dn("cancel",l),dn("close",l),S=x;break;case"iframe":case"object":case"embed":dn("load",l),S=x;break;case"video":case"audio":for(S=0;S<Sc.length;S++)dn(Sc[S],l);S=x;break;case"source":dn("error",l),S=x;break;case"img":case"image":case"link":dn("error",l),dn("load",l),S=x;break;case"details":dn("toggle",l),S=x;break;case"input":Tn(l,x),S=cn(l,x),dn("invalid",l);break;case"option":S=x;break;case"select":l._wrapperState={wasMultiple:!!x.multiple},S=I({},x,{value:void 0}),dn("invalid",l);break;case"textarea":dr(l,x),S=cr(l,x),dn("invalid",l);break;default:S=x}Ve(m,S),q=S;for(j in q)if(q.hasOwnProperty(j)){var Z=q[j];j==="style"?Er(l,Z):j==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&pt(l,Z)):j==="children"?typeof Z=="string"?(m!=="textarea"||Z!=="")&&Nt(l,Z):typeof Z=="number"&&Nt(l,""+Z):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(i.hasOwnProperty(j)?Z!=null&&j==="onScroll"&&dn("scroll",l):Z!=null&&A(l,j,Z,M))}switch(m){case"input":un(l),go(l,x,!1);break;case"textarea":un(l),Br(l);break;case"option":x.value!=null&&l.setAttribute("value",""+Ke(x.value));break;case"select":l.multiple=!!x.multiple,j=x.value,j!=null?Nn(l,!!x.multiple,j,!1):x.defaultValue!=null&&Nn(l,!!x.multiple,x.defaultValue,!0);break;default:typeof S.onClick=="function"&&(l.onclick=Dh)}switch(m){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return yr(d),null;case 6:if(l&&d.stateNode!=null)z2(l,d,l.memoizedProps,x);else{if(typeof x!="string"&&d.stateNode===null)throw Error(n(166));if(m=Ma(Oc.current),Ma(xs.current),Qh(d)){if(x=d.stateNode,m=d.memoizedProps,x[ys]=d,(j=x.nodeValue!==m)&&(l=ci,l!==null))switch(l.tag){case 3:Ih(x.nodeValue,m,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&Ih(x.nodeValue,m,(l.mode&1)!==0)}j&&(d.flags|=4)}else x=(m.nodeType===9?m:m.ownerDocument).createTextNode(x),x[ys]=d,d.stateNode=x}return yr(d),null;case 13:if(hn(_n),x=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(xn&&di!==null&&(d.mode&1)!==0&&(d.flags&128)===0)Hv(),Xl(),d.flags|=98560,j=!1;else if(j=Qh(d),x!==null&&x.dehydrated!==null){if(l===null){if(!j)throw Error(n(318));if(j=d.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(n(317));j[ys]=d}else Xl(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;yr(d),j=!1}else Yi!==null&&(Zg(Yi),Yi=null),j=!0;if(!j)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=m,d):(x=x!==null,x!==(l!==null&&l.memoizedState!==null)&&x&&(d.child.flags|=8192,(d.mode&1)!==0&&(l===null||(_n.current&1)!==0?Vn===0&&(Vn=3):n0())),d.updateQueue!==null&&(d.flags|=4),yr(d),null);case 4:return tu(),Ug(l,d),l===null&&Cc(d.stateNode.containerInfo),yr(d),null;case 10:return gg(d.type._context),yr(d),null;case 17:return Hr(d.type)&&Bh(),yr(d),null;case 19:if(hn(_n),j=d.memoizedState,j===null)return yr(d),null;if(x=(d.flags&128)!==0,M=j.rendering,M===null)if(x)Ic(j,!1);else{if(Vn!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if(M=Yh(l),M!==null){for(d.flags|=128,Ic(j,!1),x=M.updateQueue,x!==null&&(d.updateQueue=x,d.flags|=4),d.subtreeFlags=0,x=m,m=d.child;m!==null;)j=m,l=x,j.flags&=14680066,M=j.alternate,M===null?(j.childLanes=0,j.lanes=l,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=M.childLanes,j.lanes=M.lanes,j.child=M.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=M.memoizedProps,j.memoizedState=M.memoizedState,j.updateQueue=M.updateQueue,j.type=M.type,l=M.dependencies,j.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),m=m.sibling;return rn(_n,_n.current&1|2),d.child}l=l.sibling}j.tail!==null&&Lt()>su&&(d.flags|=128,x=!0,Ic(j,!1),d.lanes=4194304)}else{if(!x)if(l=Yh(M),l!==null){if(d.flags|=128,x=!0,m=l.updateQueue,m!==null&&(d.updateQueue=m,d.flags|=4),Ic(j,!0),j.tail===null&&j.tailMode==="hidden"&&!M.alternate&&!xn)return yr(d),null}else 2*Lt()-j.renderingStartTime>su&&m!==1073741824&&(d.flags|=128,x=!0,Ic(j,!1),d.lanes=4194304);j.isBackwards?(M.sibling=d.child,d.child=M):(m=j.last,m!==null?m.sibling=M:d.child=M,j.last=M)}return j.tail!==null?(d=j.tail,j.rendering=d,j.tail=d.sibling,j.renderingStartTime=Lt(),d.sibling=null,m=_n.current,rn(_n,x?m&1|2:m&1),d):(yr(d),null);case 22:case 23:return t0(),x=d.memoizedState!==null,l!==null&&l.memoizedState!==null!==x&&(d.flags|=8192),x&&(d.mode&1)!==0?(hi&1073741824)!==0&&(yr(d),d.subtreeFlags&6&&(d.flags|=8192)):yr(d),null;case 24:return null;case 25:return null}throw Error(n(156,d.tag))}function x9(l,d){switch(cg(d),d.tag){case 1:return Hr(d.type)&&Bh(),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return tu(),hn(Ur),hn(mr),Sg(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 5:return wg(d),null;case 13:if(hn(_n),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(n(340));Xl()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return hn(_n),null;case 4:return tu(),null;case 10:return gg(d.type._context),null;case 22:case 23:return t0(),null;case 24:return null;default:return null}}var of=!1,xr=!1,v9=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function ru(l,d){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(x){kn(l,d,x)}else m.current=null}function Hg(l,d,m){try{m()}catch(x){kn(l,d,x)}}var $2=!1;function b9(l,d){if(tg=ps,l=ae(),xe(l)){if("selectionStart"in l)var m={start:l.selectionStart,end:l.selectionEnd};else e:{m=(m=l.ownerDocument)&&m.defaultView||window;var x=m.getSelection&&m.getSelection();if(x&&x.rangeCount!==0){m=x.anchorNode;var S=x.anchorOffset,j=x.focusNode;x=x.focusOffset;try{m.nodeType,j.nodeType}catch{m=null;break e}var M=0,q=-1,Z=-1,be=0,Le=0,Me=l,Ne=null;t:for(;;){for(var Xe;Me!==m||S!==0&&Me.nodeType!==3||(q=M+S),Me!==j||x!==0&&Me.nodeType!==3||(Z=M+x),Me.nodeType===3&&(M+=Me.nodeValue.length),(Xe=Me.firstChild)!==null;)Ne=Me,Me=Xe;for(;;){if(Me===l)break t;if(Ne===m&&++be===S&&(q=M),Ne===j&&++Le===x&&(Z=M),(Xe=Me.nextSibling)!==null)break;Me=Ne,Ne=Me.parentNode}Me=Xe}m=q===-1||Z===-1?null:{start:q,end:Z}}else m=null}m=m||{start:0,end:0}}else m=null;for(ng={focusedElem:l,selectionRange:m},ps=!1,Ze=d;Ze!==null;)if(d=Ze,l=d.child,(d.subtreeFlags&1028)!==0&&l!==null)l.return=d,Ze=l;else for(;Ze!==null;){d=Ze;try{var nt=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(nt!==null){var it=nt.memoizedProps,Ln=nt.memoizedState,ge=d.stateNode,se=ge.getSnapshotBeforeUpdate(d.elementType===d.type?it:Xi(d.type,it),Ln);ge.__reactInternalSnapshotBeforeUpdate=se}break;case 3:var ve=d.stateNode.containerInfo;ve.nodeType===1?ve.textContent="":ve.nodeType===9&&ve.documentElement&&ve.removeChild(ve.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch($e){kn(d,d.return,$e)}if(l=d.sibling,l!==null){l.return=d.return,Ze=l;break}Ze=d.return}return nt=$2,$2=!1,nt}function Dc(l,d,m){var x=d.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var S=x=x.next;do{if((S.tag&l)===l){var j=S.destroy;S.destroy=void 0,j!==void 0&&Hg(d,m,j)}S=S.next}while(S!==x)}}function af(l,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&l)===l){var x=m.create;m.destroy=x()}m=m.next}while(m!==d)}}function Qg(l){var d=l.ref;if(d!==null){var m=l.stateNode;switch(l.tag){case 5:l=m;break;default:l=m}typeof d=="function"?d(l):d.current=l}}function U2(l){var d=l.alternate;d!==null&&(l.alternate=null,U2(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&(delete d[ys],delete d[jc],delete d[og],delete d[n9],delete d[r9])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function H2(l){return l.tag===5||l.tag===3||l.tag===4}function Q2(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||H2(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Vg(l,d,m){var x=l.tag;if(x===5||x===6)l=l.stateNode,d?m.nodeType===8?m.parentNode.insertBefore(l,d):m.insertBefore(l,d):(m.nodeType===8?(d=m.parentNode,d.insertBefore(l,m)):(d=m,d.appendChild(l)),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=Dh));else if(x!==4&&(l=l.child,l!==null))for(Vg(l,d,m),l=l.sibling;l!==null;)Vg(l,d,m),l=l.sibling}function qg(l,d,m){var x=l.tag;if(x===5||x===6)l=l.stateNode,d?m.insertBefore(l,d):m.appendChild(l);else if(x!==4&&(l=l.child,l!==null))for(qg(l,d,m),l=l.sibling;l!==null;)qg(l,d,m),l=l.sibling}var or=null,Ji=!1;function Mo(l,d,m){for(m=m.child;m!==null;)V2(l,d,m),m=m.sibling}function V2(l,d,m){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(oi,m)}catch{}switch(m.tag){case 5:xr||ru(m,d);case 6:var x=or,S=Ji;or=null,Mo(l,d,m),or=x,Ji=S,or!==null&&(Ji?(l=or,m=m.stateNode,l.nodeType===8?l.parentNode.removeChild(m):l.removeChild(m)):or.removeChild(m.stateNode));break;case 18:or!==null&&(Ji?(l=or,m=m.stateNode,l.nodeType===8?sg(l.parentNode,m):l.nodeType===1&&sg(l,m),wo(l)):sg(or,m.stateNode));break;case 4:x=or,S=Ji,or=m.stateNode.containerInfo,Ji=!0,Mo(l,d,m),or=x,Ji=S;break;case 0:case 11:case 14:case 15:if(!xr&&(x=m.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){S=x=x.next;do{var j=S,M=j.destroy;j=j.tag,M!==void 0&&((j&2)!==0||(j&4)!==0)&&Hg(m,d,M),S=S.next}while(S!==x)}Mo(l,d,m);break;case 1:if(!xr&&(ru(m,d),x=m.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=m.memoizedProps,x.state=m.memoizedState,x.componentWillUnmount()}catch(q){kn(m,d,q)}Mo(l,d,m);break;case 21:Mo(l,d,m);break;case 22:m.mode&1?(xr=(x=xr)||m.memoizedState!==null,Mo(l,d,m),xr=x):Mo(l,d,m);break;default:Mo(l,d,m)}}function q2(l){var d=l.updateQueue;if(d!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new v9),d.forEach(function(x){var S=N9.bind(null,l,x);m.has(x)||(m.add(x),x.then(S,S))})}}function Zi(l,d){var m=d.deletions;if(m!==null)for(var x=0;x<m.length;x++){var S=m[x];try{var j=l,M=d,q=M;e:for(;q!==null;){switch(q.tag){case 5:or=q.stateNode,Ji=!1;break e;case 3:or=q.stateNode.containerInfo,Ji=!0;break e;case 4:or=q.stateNode.containerInfo,Ji=!0;break e}q=q.return}if(or===null)throw Error(n(160));V2(j,M,S),or=null,Ji=!1;var Z=S.alternate;Z!==null&&(Z.return=null),S.return=null}catch(be){kn(S,d,be)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)W2(d,l),d=d.sibling}function W2(l,d){var m=l.alternate,x=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Zi(d,l),bs(l),x&4){try{Dc(3,l,l.return),af(3,l)}catch(it){kn(l,l.return,it)}try{Dc(5,l,l.return)}catch(it){kn(l,l.return,it)}}break;case 1:Zi(d,l),bs(l),x&512&&m!==null&&ru(m,m.return);break;case 5:if(Zi(d,l),bs(l),x&512&&m!==null&&ru(m,m.return),l.flags&32){var S=l.stateNode;try{Nt(S,"")}catch(it){kn(l,l.return,it)}}if(x&4&&(S=l.stateNode,S!=null)){var j=l.memoizedProps,M=m!==null?m.memoizedProps:j,q=l.type,Z=l.updateQueue;if(l.updateQueue=null,Z!==null)try{q==="input"&&j.type==="radio"&&j.name!=null&&Os(S,j),Pn(q,M);var be=Pn(q,j);for(M=0;M<Z.length;M+=2){var Le=Z[M],Me=Z[M+1];Le==="style"?Er(S,Me):Le==="dangerouslySetInnerHTML"?pt(S,Me):Le==="children"?Nt(S,Me):A(S,Le,Me,be)}switch(q){case"input":Bi(S,j);break;case"textarea":ds(S,j);break;case"select":var Ne=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!j.multiple;var Xe=j.value;Xe!=null?Nn(S,!!j.multiple,Xe,!1):Ne!==!!j.multiple&&(j.defaultValue!=null?Nn(S,!!j.multiple,j.defaultValue,!0):Nn(S,!!j.multiple,j.multiple?[]:"",!1))}S[jc]=j}catch(it){kn(l,l.return,it)}}break;case 6:if(Zi(d,l),bs(l),x&4){if(l.stateNode===null)throw Error(n(162));S=l.stateNode,j=l.memoizedProps;try{S.nodeValue=j}catch(it){kn(l,l.return,it)}}break;case 3:if(Zi(d,l),bs(l),x&4&&m!==null&&m.memoizedState.isDehydrated)try{wo(d.containerInfo)}catch(it){kn(l,l.return,it)}break;case 4:Zi(d,l),bs(l);break;case 13:Zi(d,l),bs(l),S=l.child,S.flags&8192&&(j=S.memoizedState!==null,S.stateNode.isHidden=j,!j||S.alternate!==null&&S.alternate.memoizedState!==null||(Gg=Lt())),x&4&&q2(l);break;case 22:if(Le=m!==null&&m.memoizedState!==null,l.mode&1?(xr=(be=xr)||Le,Zi(d,l),xr=be):Zi(d,l),bs(l),x&8192){if(be=l.memoizedState!==null,(l.stateNode.isHidden=be)&&!Le&&(l.mode&1)!==0)for(Ze=l,Le=l.child;Le!==null;){for(Me=Ze=Le;Ze!==null;){switch(Ne=Ze,Xe=Ne.child,Ne.tag){case 0:case 11:case 14:case 15:Dc(4,Ne,Ne.return);break;case 1:ru(Ne,Ne.return);var nt=Ne.stateNode;if(typeof nt.componentWillUnmount=="function"){x=Ne,m=Ne.return;try{d=x,nt.props=d.memoizedProps,nt.state=d.memoizedState,nt.componentWillUnmount()}catch(it){kn(x,m,it)}}break;case 5:ru(Ne,Ne.return);break;case 22:if(Ne.memoizedState!==null){Y2(Me);continue}}Xe!==null?(Xe.return=Ne,Ze=Xe):Y2(Me)}Le=Le.sibling}e:for(Le=null,Me=l;;){if(Me.tag===5){if(Le===null){Le=Me;try{S=Me.stateNode,be?(j=S.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(q=Me.stateNode,Z=Me.memoizedProps.style,M=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,q.style.display=Rn("display",M))}catch(it){kn(l,l.return,it)}}}else if(Me.tag===6){if(Le===null)try{Me.stateNode.nodeValue=be?"":Me.memoizedProps}catch(it){kn(l,l.return,it)}}else if((Me.tag!==22&&Me.tag!==23||Me.memoizedState===null||Me===l)&&Me.child!==null){Me.child.return=Me,Me=Me.child;continue}if(Me===l)break e;for(;Me.sibling===null;){if(Me.return===null||Me.return===l)break e;Le===Me&&(Le=null),Me=Me.return}Le===Me&&(Le=null),Me.sibling.return=Me.return,Me=Me.sibling}}break;case 19:Zi(d,l),bs(l),x&4&&q2(l);break;case 21:break;default:Zi(d,l),bs(l)}}function bs(l){var d=l.flags;if(d&2){try{e:{for(var m=l.return;m!==null;){if(H2(m)){var x=m;break e}m=m.return}throw Error(n(160))}switch(x.tag){case 5:var S=x.stateNode;x.flags&32&&(Nt(S,""),x.flags&=-33);var j=Q2(l);qg(l,j,S);break;case 3:case 4:var M=x.stateNode.containerInfo,q=Q2(l);Vg(l,q,M);break;default:throw Error(n(161))}}catch(Z){kn(l,l.return,Z)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function w9(l,d,m){Ze=l,K2(l)}function K2(l,d,m){for(var x=(l.mode&1)!==0;Ze!==null;){var S=Ze,j=S.child;if(S.tag===22&&x){var M=S.memoizedState!==null||of;if(!M){var q=S.alternate,Z=q!==null&&q.memoizedState!==null||xr;q=of;var be=xr;if(of=M,(xr=Z)&&!be)for(Ze=S;Ze!==null;)M=Ze,Z=M.child,M.tag===22&&M.memoizedState!==null?X2(S):Z!==null?(Z.return=M,Ze=Z):X2(S);for(;j!==null;)Ze=j,K2(j),j=j.sibling;Ze=S,of=q,xr=be}G2(l)}else(S.subtreeFlags&8772)!==0&&j!==null?(j.return=S,Ze=j):G2(l)}}function G2(l){for(;Ze!==null;){var d=Ze;if((d.flags&8772)!==0){var m=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:xr||af(5,d);break;case 1:var x=d.stateNode;if(d.flags&4&&!xr)if(m===null)x.componentDidMount();else{var S=d.elementType===d.type?m.memoizedProps:Xi(d.type,m.memoizedProps);x.componentDidUpdate(S,m.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var j=d.updateQueue;j!==null&&Yv(d,j,x);break;case 3:var M=d.updateQueue;if(M!==null){if(m=null,d.child!==null)switch(d.child.tag){case 5:m=d.child.stateNode;break;case 1:m=d.child.stateNode}Yv(d,M,m)}break;case 5:var q=d.stateNode;if(m===null&&d.flags&4){m=q;var Z=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&m.focus();break;case"img":Z.src&&(m.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var be=d.alternate;if(be!==null){var Le=be.memoizedState;if(Le!==null){var Me=Le.dehydrated;Me!==null&&wo(Me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}xr||d.flags&512&&Qg(d)}catch(Ne){kn(d,d.return,Ne)}}if(d===l){Ze=null;break}if(m=d.sibling,m!==null){m.return=d.return,Ze=m;break}Ze=d.return}}function Y2(l){for(;Ze!==null;){var d=Ze;if(d===l){Ze=null;break}var m=d.sibling;if(m!==null){m.return=d.return,Ze=m;break}Ze=d.return}}function X2(l){for(;Ze!==null;){var d=Ze;try{switch(d.tag){case 0:case 11:case 15:var m=d.return;try{af(4,d)}catch(Z){kn(d,m,Z)}break;case 1:var x=d.stateNode;if(typeof x.componentDidMount=="function"){var S=d.return;try{x.componentDidMount()}catch(Z){kn(d,S,Z)}}var j=d.return;try{Qg(d)}catch(Z){kn(d,j,Z)}break;case 5:var M=d.return;try{Qg(d)}catch(Z){kn(d,M,Z)}}}catch(Z){kn(d,d.return,Z)}if(d===l){Ze=null;break}var q=d.sibling;if(q!==null){q.return=d.return,Ze=q;break}Ze=d.return}}var _9=Math.ceil,lf=B.ReactCurrentDispatcher,Wg=B.ReactCurrentOwner,Ni=B.ReactCurrentBatchConfig,Qt=0,er=null,Dn=null,ar=0,hi=0,iu=No(0),Vn=0,Fc=null,Ia=0,uf=0,Kg=0,Bc=null,Vr=null,Gg=0,su=1/0,Gs=null,cf=!1,Yg=null,Ro=null,df=!1,Io=null,hf=0,zc=0,Xg=null,ff=-1,pf=0;function Lr(){return(Qt&6)!==0?Lt():ff!==-1?ff:ff=Lt()}function Do(l){return(l.mode&1)===0?1:(Qt&2)!==0&&ar!==0?ar&-ar:s9.transition!==null?(pf===0&&(pf=hc()),pf):(l=Yt,l!==0||(l=window.event,l=l===void 0?16:wh(l.type)),l)}function es(l,d,m,x){if(50<zc)throw zc=0,Xg=null,Error(n(185));vo(l,m,x),((Qt&2)===0||l!==er)&&(l===er&&((Qt&2)===0&&(uf|=m),Vn===4&&Fo(l,ar)),qr(l,x),m===1&&Qt===0&&(d.mode&1)===0&&(su=Lt()+500,$h&&Oo()))}function qr(l,d){var m=l.callbackNode;dc(l,d);var x=Qi(l,l===er?ar:0);if(x===0)m!==null&&Tr(m),l.callbackNode=null,l.callbackPriority=0;else if(d=x&-x,l.callbackPriority!==d){if(m!=null&&Tr(m),d===1)l.tag===0?i9(Z2.bind(null,l)):Fv(Z2.bind(null,l)),e9(function(){(Qt&6)===0&&Oo()}),m=null;else{switch(zt(x)){case 1:m=Nr;break;case 4:m=_i;break;case 16:m=At;break;case 536870912:m=Pr;break;default:m=At}m=ab(m,J2.bind(null,l))}l.callbackPriority=d,l.callbackNode=m}}function J2(l,d){if(ff=-1,pf=0,(Qt&6)!==0)throw Error(n(327));var m=l.callbackNode;if(ou()&&l.callbackNode!==m)return null;var x=Qi(l,l===er?ar:0);if(x===0)return null;if((x&30)!==0||(x&l.expiredLanes)!==0||d)d=mf(l,x);else{d=x;var S=Qt;Qt|=2;var j=tb();(er!==l||ar!==d)&&(Gs=null,su=Lt()+500,Fa(l,d));do try{k9();break}catch(q){eb(l,q)}while(!0);mg(),lf.current=j,Qt=S,Dn!==null?d=0:(er=null,ar=0,d=Vn)}if(d!==0){if(d===2&&(S=yo(l),S!==0&&(x=S,d=Jg(l,S))),d===1)throw m=Fc,Fa(l,0),Fo(l,x),qr(l,Lt()),m;if(d===6)Fo(l,x);else{if(S=l.current.alternate,(x&30)===0&&!S9(S)&&(d=mf(l,x),d===2&&(j=yo(l),j!==0&&(x=j,d=Jg(l,j))),d===1))throw m=Fc,Fa(l,0),Fo(l,x),qr(l,Lt()),m;switch(l.finishedWork=S,l.finishedLanes=x,d){case 0:case 1:throw Error(n(345));case 2:Ba(l,Vr,Gs);break;case 3:if(Fo(l,x),(x&130023424)===x&&(d=Gg+500-Lt(),10<d)){if(Qi(l,0)!==0)break;if(S=l.suspendedLanes,(S&x)!==x){Lr(),l.pingedLanes|=l.suspendedLanes&S;break}l.timeoutHandle=ig(Ba.bind(null,l,Vr,Gs),d);break}Ba(l,Vr,Gs);break;case 4:if(Fo(l,x),(x&4194240)===x)break;for(d=l.eventTimes,S=-1;0<x;){var M=31-ft(x);j=1<<M,M=d[M],M>S&&(S=M),x&=~j}if(x=S,x=Lt()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*_9(x/1960))-x,10<x){l.timeoutHandle=ig(Ba.bind(null,l,Vr,Gs),x);break}Ba(l,Vr,Gs);break;case 5:Ba(l,Vr,Gs);break;default:throw Error(n(329))}}}return qr(l,Lt()),l.callbackNode===m?J2.bind(null,l):null}function Jg(l,d){var m=Bc;return l.current.memoizedState.isDehydrated&&(Fa(l,d).flags|=256),l=mf(l,d),l!==2&&(d=Vr,Vr=m,d!==null&&Zg(d)),l}function Zg(l){Vr===null?Vr=l:Vr.push.apply(Vr,l)}function S9(l){for(var d=l;;){if(d.flags&16384){var m=d.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var x=0;x<m.length;x++){var S=m[x],j=S.getSnapshot;S=S.value;try{if(!Y(j(),S))return!1}catch{return!1}}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Fo(l,d){for(d&=~Kg,d&=~uf,l.suspendedLanes|=d,l.pingedLanes&=~d,l=l.expirationTimes;0<d;){var m=31-ft(d),x=1<<m;l[m]=-1,d&=~x}}function Z2(l){if((Qt&6)!==0)throw Error(n(327));ou();var d=Qi(l,0);if((d&1)===0)return qr(l,Lt()),null;var m=mf(l,d);if(l.tag!==0&&m===2){var x=yo(l);x!==0&&(d=x,m=Jg(l,x))}if(m===1)throw m=Fc,Fa(l,0),Fo(l,d),qr(l,Lt()),m;if(m===6)throw Error(n(345));return l.finishedWork=l.current.alternate,l.finishedLanes=d,Ba(l,Vr,Gs),qr(l,Lt()),null}function e0(l,d){var m=Qt;Qt|=1;try{return l(d)}finally{Qt=m,Qt===0&&(su=Lt()+500,$h&&Oo())}}function Da(l){Io!==null&&Io.tag===0&&(Qt&6)===0&&ou();var d=Qt;Qt|=1;var m=Ni.transition,x=Yt;try{if(Ni.transition=null,Yt=1,l)return l()}finally{Yt=x,Ni.transition=m,Qt=d,(Qt&6)===0&&Oo()}}function t0(){hi=iu.current,hn(iu)}function Fa(l,d){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==-1&&(l.timeoutHandle=-1,ZS(m)),Dn!==null)for(m=Dn.return;m!==null;){var x=m;switch(cg(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&Bh();break;case 3:tu(),hn(Ur),hn(mr),Sg();break;case 5:wg(x);break;case 4:tu();break;case 13:hn(_n);break;case 19:hn(_n);break;case 10:gg(x.type._context);break;case 22:case 23:t0()}m=m.return}if(er=l,Dn=l=Bo(l.current,null),ar=hi=d,Vn=0,Fc=null,Kg=uf=Ia=0,Vr=Bc=null,Aa!==null){for(d=0;d<Aa.length;d++)if(m=Aa[d],x=m.interleaved,x!==null){m.interleaved=null;var S=x.next,j=m.pending;if(j!==null){var M=j.next;j.next=S,x.next=M}m.pending=x}Aa=null}return l}function eb(l,d){do{var m=Dn;try{if(mg(),Xh.current=tf,Jh){for(var x=Sn.memoizedState;x!==null;){var S=x.queue;S!==null&&(S.pending=null),x=x.next}Jh=!1}if(Ra=0,Zn=Qn=Sn=null,Lc=!1,Ac=0,Wg.current=null,m===null||m.return===null){Vn=1,Fc=d,Dn=null;break}e:{var j=l,M=m.return,q=m,Z=d;if(d=ar,q.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var be=Z,Le=q,Me=Le.tag;if((Le.mode&1)===0&&(Me===0||Me===11||Me===15)){var Ne=Le.alternate;Ne?(Le.updateQueue=Ne.updateQueue,Le.memoizedState=Ne.memoizedState,Le.lanes=Ne.lanes):(Le.updateQueue=null,Le.memoizedState=null)}var Xe=k2(M);if(Xe!==null){Xe.flags&=-257,j2(Xe,M,q,j,d),Xe.mode&1&&C2(j,be,d),d=Xe,Z=be;var nt=d.updateQueue;if(nt===null){var it=new Set;it.add(Z),d.updateQueue=it}else nt.add(Z);break e}else{if((d&1)===0){C2(j,be,d),n0();break e}Z=Error(n(426))}}else if(xn&&q.mode&1){var Ln=k2(M);if(Ln!==null){(Ln.flags&65536)===0&&(Ln.flags|=256),j2(Ln,M,q,j,d),fg(nu(Z,q));break e}}j=Z=nu(Z,q),Vn!==4&&(Vn=2),Bc===null?Bc=[j]:Bc.push(j),j=M;do{switch(j.tag){case 3:j.flags|=65536,d&=-d,j.lanes|=d;var ge=_2(j,Z,d);Gv(j,ge);break e;case 1:q=Z;var se=j.type,ve=j.stateNode;if((j.flags&128)===0&&(typeof se.getDerivedStateFromError=="function"||ve!==null&&typeof ve.componentDidCatch=="function"&&(Ro===null||!Ro.has(ve)))){j.flags|=65536,d&=-d,j.lanes|=d;var $e=S2(j,q,d);Gv(j,$e);break e}}j=j.return}while(j!==null)}rb(m)}catch(st){d=st,Dn===m&&m!==null&&(Dn=m=m.return);continue}break}while(!0)}function tb(){var l=lf.current;return lf.current=tf,l===null?tf:l}function n0(){(Vn===0||Vn===3||Vn===2)&&(Vn=4),er===null||(Ia&268435455)===0&&(uf&268435455)===0||Fo(er,ar)}function mf(l,d){var m=Qt;Qt|=2;var x=tb();(er!==l||ar!==d)&&(Gs=null,Fa(l,d));do try{C9();break}catch(S){eb(l,S)}while(!0);if(mg(),Qt=m,lf.current=x,Dn!==null)throw Error(n(261));return er=null,ar=0,Vn}function C9(){for(;Dn!==null;)nb(Dn)}function k9(){for(;Dn!==null&&!$t();)nb(Dn)}function nb(l){var d=ob(l.alternate,l,hi);l.memoizedProps=l.pendingProps,d===null?rb(l):Dn=d,Wg.current=null}function rb(l){var d=l;do{var m=d.alternate;if(l=d.return,(d.flags&32768)===0){if(m=y9(m,d,hi),m!==null){Dn=m;return}}else{if(m=x9(m,d),m!==null){m.flags&=32767,Dn=m;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{Vn=6,Dn=null;return}}if(d=d.sibling,d!==null){Dn=d;return}Dn=d=l}while(d!==null);Vn===0&&(Vn=5)}function Ba(l,d,m){var x=Yt,S=Ni.transition;try{Ni.transition=null,Yt=1,j9(l,d,m,x)}finally{Ni.transition=S,Yt=x}return null}function j9(l,d,m,x){do ou();while(Io!==null);if((Qt&6)!==0)throw Error(n(327));m=l.finishedWork;var S=l.finishedLanes;if(m===null)return null;if(l.finishedWork=null,l.finishedLanes=0,m===l.current)throw Error(n(177));l.callbackNode=null,l.callbackPriority=0;var j=m.lanes|m.childLanes;if(pa(l,j),l===er&&(Dn=er=null,ar=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||df||(df=!0,ab(At,function(){return ou(),null})),j=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||j){j=Ni.transition,Ni.transition=null;var M=Yt;Yt=1;var q=Qt;Qt|=4,Wg.current=null,b9(l,m),W2(m,l),we(ng),ps=!!tg,ng=tg=null,l.current=m,w9(m),si(),Qt=q,Yt=M,Ni.transition=j}else l.current=m;if(df&&(df=!1,Io=l,hf=S),j=l.pendingLanes,j===0&&(Ro=null),As(m.stateNode),qr(l,Lt()),d!==null)for(x=l.onRecoverableError,m=0;m<d.length;m++)S=d[m],x(S.value,{componentStack:S.stack,digest:S.digest});if(cf)throw cf=!1,l=Yg,Yg=null,l;return(hf&1)!==0&&l.tag!==0&&ou(),j=l.pendingLanes,(j&1)!==0?l===Xg?zc++:(zc=0,Xg=l):zc=0,Oo(),null}function ou(){if(Io!==null){var l=zt(hf),d=Ni.transition,m=Yt;try{if(Ni.transition=null,Yt=16>l?16:l,Io===null)var x=!1;else{if(l=Io,Io=null,hf=0,(Qt&6)!==0)throw Error(n(331));var S=Qt;for(Qt|=4,Ze=l.current;Ze!==null;){var j=Ze,M=j.child;if((Ze.flags&16)!==0){var q=j.deletions;if(q!==null){for(var Z=0;Z<q.length;Z++){var be=q[Z];for(Ze=be;Ze!==null;){var Le=Ze;switch(Le.tag){case 0:case 11:case 15:Dc(8,Le,j)}var Me=Le.child;if(Me!==null)Me.return=Le,Ze=Me;else for(;Ze!==null;){Le=Ze;var Ne=Le.sibling,Xe=Le.return;if(U2(Le),Le===be){Ze=null;break}if(Ne!==null){Ne.return=Xe,Ze=Ne;break}Ze=Xe}}}var nt=j.alternate;if(nt!==null){var it=nt.child;if(it!==null){nt.child=null;do{var Ln=it.sibling;it.sibling=null,it=Ln}while(it!==null)}}Ze=j}}if((j.subtreeFlags&2064)!==0&&M!==null)M.return=j,Ze=M;else e:for(;Ze!==null;){if(j=Ze,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:Dc(9,j,j.return)}var ge=j.sibling;if(ge!==null){ge.return=j.return,Ze=ge;break e}Ze=j.return}}var se=l.current;for(Ze=se;Ze!==null;){M=Ze;var ve=M.child;if((M.subtreeFlags&2064)!==0&&ve!==null)ve.return=M,Ze=ve;else e:for(M=se;Ze!==null;){if(q=Ze,(q.flags&2048)!==0)try{switch(q.tag){case 0:case 11:case 15:af(9,q)}}catch(st){kn(q,q.return,st)}if(q===M){Ze=null;break e}var $e=q.sibling;if($e!==null){$e.return=q.return,Ze=$e;break e}Ze=q.return}}if(Qt=S,Oo(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(oi,l)}catch{}x=!0}return x}finally{Yt=m,Ni.transition=d}}return!1}function ib(l,d,m){d=nu(m,d),d=_2(l,d,1),l=Ao(l,d,1),d=Lr(),l!==null&&(vo(l,1,d),qr(l,d))}function kn(l,d,m){if(l.tag===3)ib(l,l,m);else for(;d!==null;){if(d.tag===3){ib(d,l,m);break}else if(d.tag===1){var x=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Ro===null||!Ro.has(x))){l=nu(m,l),l=S2(d,l,1),d=Ao(d,l,1),l=Lr(),d!==null&&(vo(d,1,l),qr(d,l));break}}d=d.return}}function E9(l,d,m){var x=l.pingCache;x!==null&&x.delete(d),d=Lr(),l.pingedLanes|=l.suspendedLanes&m,er===l&&(ar&m)===m&&(Vn===4||Vn===3&&(ar&130023424)===ar&&500>Lt()-Gg?Fa(l,0):Kg|=m),qr(l,d)}function sb(l,d){d===0&&((l.mode&1)===0?d=1:(d=fs,fs<<=1,(fs&130023424)===0&&(fs=4194304)));var m=Lr();l=qs(l,d),l!==null&&(vo(l,d,m),qr(l,m))}function T9(l){var d=l.memoizedState,m=0;d!==null&&(m=d.retryLane),sb(l,m)}function N9(l,d){var m=0;switch(l.tag){case 13:var x=l.stateNode,S=l.memoizedState;S!==null&&(m=S.retryLane);break;case 19:x=l.stateNode;break;default:throw Error(n(314))}x!==null&&x.delete(d),sb(l,m)}var ob;ob=function(l,d,m){if(l!==null)if(l.memoizedProps!==d.pendingProps||Ur.current)Qr=!0;else{if((l.lanes&m)===0&&(d.flags&128)===0)return Qr=!1,g9(l,d,m);Qr=(l.flags&131072)!==0}else Qr=!1,xn&&(d.flags&1048576)!==0&&Bv(d,Hh,d.index);switch(d.lanes=0,d.tag){case 2:var x=d.type;sf(l,d),l=d.pendingProps;var S=Kl(d,mr.current);eu(d,m),S=jg(null,d,x,l,S,m);var j=Eg();return d.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Hr(x)?(j=!0,zh(d)):j=!1,d.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,vg(d),S.updater=nf,d.stateNode=S,S._reactInternals=d,Ag(d,x,l,m),d=Dg(null,d,x,!0,j,m)):(d.tag=0,xn&&j&&ug(d),Or(null,d,S,m),d=d.child),d;case 16:x=d.elementType;e:{switch(sf(l,d),l=d.pendingProps,S=x._init,x=S(x._payload),d.type=x,S=d.tag=O9(x),l=Xi(x,l),S){case 0:d=Ig(null,d,x,l,m);break e;case 1:d=L2(null,d,x,l,m);break e;case 11:d=E2(null,d,x,l,m);break e;case 14:d=T2(null,d,x,Xi(x.type,l),m);break e}throw Error(n(306,x,""))}return d;case 0:return x=d.type,S=d.pendingProps,S=d.elementType===x?S:Xi(x,S),Ig(l,d,x,S,m);case 1:return x=d.type,S=d.pendingProps,S=d.elementType===x?S:Xi(x,S),L2(l,d,x,S,m);case 3:e:{if(A2(d),l===null)throw Error(n(387));x=d.pendingProps,j=d.memoizedState,S=j.element,Kv(l,d),Gh(d,x,null,m);var M=d.memoizedState;if(x=M.element,j.isDehydrated)if(j={element:x,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},d.updateQueue.baseState=j,d.memoizedState=j,d.flags&256){S=nu(Error(n(423)),d),d=M2(l,d,x,m,S);break e}else if(x!==S){S=nu(Error(n(424)),d),d=M2(l,d,x,m,S);break e}else for(di=To(d.stateNode.containerInfo.firstChild),ci=d,xn=!0,Yi=null,m=qv(d,null,x,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(Xl(),x===S){d=Ks(l,d,m);break e}Or(l,d,x,m)}d=d.child}return d;case 5:return Xv(d),l===null&&hg(d),x=d.type,S=d.pendingProps,j=l!==null?l.memoizedProps:null,M=S.children,rg(x,S)?M=null:j!==null&&rg(x,j)&&(d.flags|=32),O2(l,d),Or(l,d,M,m),d.child;case 6:return l===null&&hg(d),null;case 13:return R2(l,d,m);case 4:return bg(d,d.stateNode.containerInfo),x=d.pendingProps,l===null?d.child=Jl(d,null,x,m):Or(l,d,x,m),d.child;case 11:return x=d.type,S=d.pendingProps,S=d.elementType===x?S:Xi(x,S),E2(l,d,x,S,m);case 7:return Or(l,d,d.pendingProps,m),d.child;case 8:return Or(l,d,d.pendingProps.children,m),d.child;case 12:return Or(l,d,d.pendingProps.children,m),d.child;case 10:e:{if(x=d.type._context,S=d.pendingProps,j=d.memoizedProps,M=S.value,rn(qh,x._currentValue),x._currentValue=M,j!==null)if(Y(j.value,M)){if(j.children===S.children&&!Ur.current){d=Ks(l,d,m);break e}}else for(j=d.child,j!==null&&(j.return=d);j!==null;){var q=j.dependencies;if(q!==null){M=j.child;for(var Z=q.firstContext;Z!==null;){if(Z.context===x){if(j.tag===1){Z=Ws(-1,m&-m),Z.tag=2;var be=j.updateQueue;if(be!==null){be=be.shared;var Le=be.pending;Le===null?Z.next=Z:(Z.next=Le.next,Le.next=Z),be.pending=Z}}j.lanes|=m,Z=j.alternate,Z!==null&&(Z.lanes|=m),yg(j.return,m,d),q.lanes|=m;break}Z=Z.next}}else if(j.tag===10)M=j.type===d.type?null:j.child;else if(j.tag===18){if(M=j.return,M===null)throw Error(n(341));M.lanes|=m,q=M.alternate,q!==null&&(q.lanes|=m),yg(M,m,d),M=j.sibling}else M=j.child;if(M!==null)M.return=j;else for(M=j;M!==null;){if(M===d){M=null;break}if(j=M.sibling,j!==null){j.return=M.return,M=j;break}M=M.return}j=M}Or(l,d,S.children,m),d=d.child}return d;case 9:return S=d.type,x=d.pendingProps.children,eu(d,m),S=Ei(S),x=x(S),d.flags|=1,Or(l,d,x,m),d.child;case 14:return x=d.type,S=Xi(x,d.pendingProps),S=Xi(x.type,S),T2(l,d,x,S,m);case 15:return N2(l,d,d.type,d.pendingProps,m);case 17:return x=d.type,S=d.pendingProps,S=d.elementType===x?S:Xi(x,S),sf(l,d),d.tag=1,Hr(x)?(l=!0,zh(d)):l=!1,eu(d,m),b2(d,x,S),Ag(d,x,S,m),Dg(null,d,x,!0,l,m);case 19:return D2(l,d,m);case 22:return P2(l,d,m)}throw Error(n(156,d.tag))};function ab(l,d){return Ui(l,d)}function P9(l,d,m,x){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pi(l,d,m,x){return new P9(l,d,m,x)}function r0(l){return l=l.prototype,!(!l||!l.isReactComponent)}function O9(l){if(typeof l=="function")return r0(l)?1:0;if(l!=null){if(l=l.$$typeof,l===le)return 11;if(l===V)return 14}return 2}function Bo(l,d){var m=l.alternate;return m===null?(m=Pi(l.tag,d,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=d,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&14680064,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,d=l.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function gf(l,d,m,x,S,j){var M=2;if(x=l,typeof l=="function")r0(l)&&(M=1);else if(typeof l=="string")M=5;else e:switch(l){case D:return za(m.children,S,j,d);case z:M=8,S|=8;break;case Q:return l=Pi(12,m,d,S|2),l.elementType=Q,l.lanes=j,l;case ue:return l=Pi(13,m,d,S),l.elementType=ue,l.lanes=j,l;case W:return l=Pi(19,m,d,S),l.elementType=W,l.lanes=j,l;case te:return yf(m,S,j,d);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case F:M=10;break e;case oe:M=9;break e;case le:M=11;break e;case V:M=14;break e;case J:M=16,x=null;break e}throw Error(n(130,l==null?l:typeof l,""))}return d=Pi(M,m,d,S),d.elementType=l,d.type=x,d.lanes=j,d}function za(l,d,m,x){return l=Pi(7,l,x,d),l.lanes=m,l}function yf(l,d,m,x){return l=Pi(22,l,x,d),l.elementType=te,l.lanes=m,l.stateNode={isHidden:!1},l}function i0(l,d,m){return l=Pi(6,l,null,d),l.lanes=m,l}function s0(l,d,m){return d=Pi(4,l.children!==null?l.children:[],l.key,d),d.lanes=m,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}function L9(l,d,m,x,S){this.tag=d,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xo(0),this.expirationTimes=xo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xo(0),this.identifierPrefix=x,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function o0(l,d,m,x,S,j,M,q,Z){return l=new L9(l,d,m,q,Z),d===1?(d=1,j===!0&&(d|=8)):d=0,j=Pi(3,null,null,d),l.current=j,j.stateNode=l,j.memoizedState={element:x,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},vg(j),l}function A9(l,d,m){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:x==null?null:""+x,children:l,containerInfo:d,implementation:m}}function lb(l){if(!l)return Po;l=l._reactInternals;e:{if(Pt(l)!==l||l.tag!==1)throw Error(n(170));var d=l;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Hr(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(n(171))}if(l.tag===1){var m=l.type;if(Hr(m))return Iv(l,m,d)}return d}function ub(l,d,m,x,S,j,M,q,Z){return l=o0(m,x,!0,l,S,j,M,q,Z),l.context=lb(null),m=l.current,x=Lr(),S=Do(m),j=Ws(x,S),j.callback=d??null,Ao(m,j,S),l.current.lanes=S,vo(l,S,x),qr(l,x),l}function xf(l,d,m,x){var S=d.current,j=Lr(),M=Do(S);return m=lb(m),d.context===null?d.context=m:d.pendingContext=m,d=Ws(j,M),d.payload={element:l},x=x===void 0?null:x,x!==null&&(d.callback=x),l=Ao(S,d,M),l!==null&&(es(l,S,M,j),Kh(l,S,M)),M}function vf(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function cb(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<d?m:d}}function a0(l,d){cb(l,d),(l=l.alternate)&&cb(l,d)}function M9(){return null}var db=typeof reportError=="function"?reportError:function(l){console.error(l)};function l0(l){this._internalRoot=l}bf.prototype.render=l0.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(n(409));xf(l,d,null,null)},bf.prototype.unmount=l0.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;Da(function(){xf(null,l,null,null)}),d[Us]=null}};function bf(l){this._internalRoot=l}bf.prototype.unstable_scheduleHydration=function(l){if(l){var d=hr();l={blockedOn:null,target:l,priority:d};for(var m=0;m<zr.length&&d!==0&&d<zr[m].priority;m++);zr.splice(m,0,l),m===0&&Ll(l)}};function u0(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function wf(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function hb(){}function R9(l,d,m,x,S){if(S){if(typeof x=="function"){var j=x;x=function(){var be=vf(M);j.call(be)}}var M=ub(d,x,l,0,null,!1,!1,"",hb);return l._reactRootContainer=M,l[Us]=M.current,Cc(l.nodeType===8?l.parentNode:l),Da(),M}for(;S=l.lastChild;)l.removeChild(S);if(typeof x=="function"){var q=x;x=function(){var be=vf(Z);q.call(be)}}var Z=o0(l,0,!1,null,null,!1,!1,"",hb);return l._reactRootContainer=Z,l[Us]=Z.current,Cc(l.nodeType===8?l.parentNode:l),Da(function(){xf(d,Z,m,x)}),Z}function _f(l,d,m,x,S){var j=m._reactRootContainer;if(j){var M=j;if(typeof S=="function"){var q=S;S=function(){var Z=vf(M);q.call(Z)}}xf(d,M,l,S)}else M=R9(m,d,l,S,x);return vf(M)}Ol=function(l){switch(l.tag){case 3:var d=l.stateNode;if(d.current.memoizedState.isDehydrated){var m=Hi(d.pendingLanes);m!==0&&(Pl(d,m|1),qr(d,Lt()),(Qt&6)===0&&(su=Lt()+500,Oo()))}break;case 13:Da(function(){var x=qs(l,1);if(x!==null){var S=Lr();es(x,l,1,S)}}),a0(l,1)}},fc=function(l){if(l.tag===13){var d=qs(l,134217728);if(d!==null){var m=Lr();es(d,l,134217728,m)}a0(l,134217728)}},bh=function(l){if(l.tag===13){var d=Do(l),m=qs(l,d);if(m!==null){var x=Lr();es(m,l,d,x)}a0(l,d)}},hr=function(){return Yt},Ms=function(l,d){var m=Yt;try{return Yt=l,d()}finally{Yt=m}},qe=function(l,d,m){switch(d){case"input":if(Bi(l,m),d=m.name,m.type==="radio"&&d!=null){for(m=l;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<m.length;d++){var x=m[d];if(x!==l&&x.form===l.form){var S=Fh(x);if(!S)throw Error(n(90));Tt(x),Bi(x,S)}}}break;case"textarea":ds(l,m);break;case"select":d=m.value,d!=null&&Nn(l,!!m.multiple,d,!1)}},El=e0,Tl=Da;var I9={usingClientEntryPoint:!1,Events:[Ec,ql,Fh,hs,$i,e0]},$c={findFiberByHostInstance:Na,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},D9={bundleType:$c.bundleType,version:$c.version,rendererPackageName:$c.rendererPackageName,rendererConfig:$c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=Gt(l),l===null?null:l.stateNode},findFiberByHostInstance:$c.findFiberByHostInstance||M9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sf.isDisabled&&Sf.supportsFiber)try{oi=Sf.inject(D9),Bt=Sf}catch{}}return Wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I9,Wr.createPortal=function(l,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u0(d))throw Error(n(200));return A9(l,d,null,m)},Wr.createRoot=function(l,d){if(!u0(l))throw Error(n(299));var m=!1,x="",S=db;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onRecoverableError!==void 0&&(S=d.onRecoverableError)),d=o0(l,1,!1,null,null,m,!1,x,S),l[Us]=d.current,Cc(l.nodeType===8?l.parentNode:l),new l0(d)},Wr.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=Gt(d),l=l===null?null:l.stateNode,l},Wr.flushSync=function(l){return Da(l)},Wr.hydrate=function(l,d,m){if(!wf(d))throw Error(n(200));return _f(null,l,d,!0,m)},Wr.hydrateRoot=function(l,d,m){if(!u0(l))throw Error(n(405));var x=m!=null&&m.hydratedSources||null,S=!1,j="",M=db;if(m!=null&&(m.unstable_strictMode===!0&&(S=!0),m.identifierPrefix!==void 0&&(j=m.identifierPrefix),m.onRecoverableError!==void 0&&(M=m.onRecoverableError)),d=ub(d,null,l,1,m??null,S,!1,j,M),l[Us]=d.current,Cc(l),x)for(l=0;l<x.length;l++)m=x[l],S=m._getVersion,S=S(m._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[m,S]:d.mutableSourceEagerHydrationData.push(m,S);return new bf(d)},Wr.render=function(l,d,m){if(!wf(d))throw Error(n(200));return _f(null,l,d,!1,m)},Wr.unmountComponentAtNode=function(l){if(!wf(l))throw Error(n(40));return l._reactRootContainer?(Da(function(){_f(null,null,l,!1,function(){l._reactRootContainer=null,l[Us]=null})}),!0):!1},Wr.unstable_batchedUpdates=e0,Wr.unstable_renderSubtreeIntoContainer=function(l,d,m,x){if(!wf(m))throw Error(n(200));if(l==null||l._reactInternals===void 0)throw Error(n(38));return _f(l,d,m,!1,x)},Wr.version="18.3.1-next-f1338f8080-20240426",Wr}var wb;function f6(){if(wb)return h0.exports;wb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),h0.exports=W9(),h0.exports}var _b;function K9(){if(_b)return Cf;_b=1;var e=f6();return Cf.createRoot=e.createRoot,Cf.hydrateRoot=e.hydrateRoot,Cf}var G9=K9();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var p6=e=>{throw TypeError(e)},Y9=(e,t,n)=>t.has(e)||p6("Cannot "+n),m0=(e,t,n)=>(Y9(e,t,"read from private field"),n?n.call(e):t.get(e)),X9=(e,t,n)=>t.has(e)?p6("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Sb="popstate";function J9(e={}){function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return Nd("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ea(i)}return eC(t,n,null,e)}function Rt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $n(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Z9(){return Math.random().toString(36).substring(2,10)}function Cb(e,t){return{usr:e.state,key:e.key,idx:t}}function Nd(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?oa(t):t,state:n,key:t&&t.key||r||Z9()}}function ea({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function oa(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function eC(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",u=null,c=f();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function f(){return(o.state||{idx:null}).idx}function p(){a="POP";let C=f(),E=C==null?null:C-c;c=C,u&&u({action:a,location:_.location,delta:E})}function g(C,E){a="PUSH";let L=Nd(_.location,C,E);c=f()+1;let A=Cb(L,c),B=_.createHref(L);try{o.pushState(A,"",B)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(B)}s&&u&&u({action:a,location:_.location,delta:1})}function v(C,E){a="REPLACE";let L=Nd(_.location,C,E);c=f();let A=Cb(L,c),B=_.createHref(L);o.replaceState(A,"",B),s&&u&&u({action:a,location:_.location,delta:0})}function w(C){return m6(C)}let _={get action(){return a},get location(){return e(i,o)},listen(C){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Sb,p),u=C,()=>{i.removeEventListener(Sb,p),u=null}},createHref(C){return t(i,C)},createURL:w,encodeLocation(C){let E=w(C);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:g,replace:v,go(C){return o.go(C)}};return _}function m6(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Rt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:ea(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var ud,kb=class{constructor(e){if(X9(this,ud,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(m0(this,ud).has(e))return m0(this,ud).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){m0(this,ud).set(e,t)}};ud=new WeakMap;var tC=new Set(["lazy","caseSensitive","path","id","index","children"]);function nC(e){return tC.has(e)}var rC=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function iC(e){return rC.has(e)}function sC(e){return e.index===!0}function Pd(e,t,n=[],r={},i=!1){return e.map((s,o)=>{let a=[...n,String(o)],u=typeof s.id=="string"?s.id:a.join("-");if(Rt(s.index!==!0||!s.children,"Cannot specify children on an index route"),Rt(i||!r[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),sC(s)){let c={...s,...t(s),id:u};return r[u]=c,c}else{let c={...s,...t(s),id:u,children:void 0};return r[u]=c,s.children&&(c.children=Pd(s.children,t,a,r,i)),c}})}function Vo(e,t,n="/"){return mp(e,t,n,!1)}function mp(e,t,n,r){let i=typeof t=="string"?oa(t):t,s=Ii(i.pathname||"/",n);if(s==null)return null;let o=g6(e);aC(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=xC(s);a=gC(o[u],c,r)}return a}function oC(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function g6(e,t=[],n=[],r=""){let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Rt(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let c=Cs([r,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(Rt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),g6(s.children,t,f,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:pC(c,s.index),routesMeta:f})};return e.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))i(s,o);else for(let a of y6(s.path))i(s,o,a)}),t}function y6(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=y6(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function aC(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:mC(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var lC=/^:[\w-]+$/,uC=3,cC=2,dC=1,hC=10,fC=-2,jb=e=>e==="*";function pC(e,t){let n=e.split("/"),r=n.length;return n.some(jb)&&(r+=fC),t&&(r+=cC),n.filter(i=>!jb(i)).reduce((i,s)=>i+(lC.test(s)?uC:s===""?dC:hC),r)}function mC(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function gC(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,f=s==="/"?t:t.slice(s.length)||"/",p=Ep({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),g=u.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=Ep({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Cs([s,p.pathname]),pathnameBase:_C(Cs([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=Cs([s,p.pathnameBase]))}return o}function Ep(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=yC(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:f,isOptional:p},g)=>{if(f==="*"){let w=a[g]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const v=a[g];return p&&!v?c[f]=void 0:c[f]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:e}}function yC(e,t=!1,n=!0){$n(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function xC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $n(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ii(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function vC({basename:e,pathname:t}){return t==="/"?e:Cs([e,t])}function bC(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?oa(e):e;return{pathname:n?n.startsWith("/")?n:wC(n,t):t,search:SC(r),hash:CC(i)}}function wC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function g0(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function x6(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Uy(e){let t=x6(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Hy(e,t,n,r=!1){let i;typeof e=="string"?i=oa(e):(i={...e},Rt(!i.pathname||!i.pathname.includes("?"),g0("?","pathname","search",i)),Rt(!i.pathname||!i.pathname.includes("#"),g0("#","pathname","hash",i)),Rt(!i.search||!i.search.includes("#"),g0("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}a=p>=0?t[p]:"/"}let u=bC(i,a),c=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}var Cs=e=>e.join("/").replace(/\/\/+/g,"/"),_C=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),SC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,CC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Tp=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Od(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var v6=["POST","PUT","PATCH","DELETE"],kC=new Set(v6),jC=["GET",...v6],EC=new Set(jC),TC=new Set([301,302,303,307,308]),NC=new Set([307,308]),y0={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},PC={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Hc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},OC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qy=e=>OC.test(e),LC=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),b6="remix-router-transitions",w6=Symbol("ResetLoaderData");function AC(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Rt(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=e.hydrationRouteProperties||[],i=e.mapRouteProperties||LC,s={},o=Pd(e.routes,i,void 0,s),a,u=e.basename||"/",c=e.dataStrategy||FC,f={unstable_middleware:!1,...e.future},p=null,g=new Set,v=null,w=null,_=null,C=e.hydrationData!=null,E=Vo(o,e.history.location,u),L=!1,A=null,B;if(E==null&&!e.patchRoutesOnNavigation){let X=Li(404,{pathname:e.history.location.pathname}),{matches:pe,route:_e}=Fb(o);B=!0,E=pe,A={[_e.id]:X}}else if(E&&!e.hydrationData&&hs(E,o,e.history.location.pathname).active&&(E=null),E)if(E.some(X=>X.route.lazy))B=!1;else if(!E.some(X=>X.route.loader))B=!0;else{let X=e.hydrationData?e.hydrationData.loaderData:null,pe=e.hydrationData?e.hydrationData.errors:null;if(pe){let _e=E.findIndex(Ae=>pe[Ae.route.id]!==void 0);B=E.slice(0,_e+1).every(Ae=>!A1(Ae.route,X,pe))}else B=E.every(_e=>!A1(_e.route,X,pe))}else{B=!1,E=[];let X=hs(null,o,e.history.location.pathname);X.active&&X.matches&&(L=!0,E=X.matches)}let U,P={historyAction:e.history.action,location:e.history.location,matches:E,initialized:B,navigation:y0,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||A,fetchers:new Map,blockers:new Map},D="POP",z=!1,Q,F=!1,oe=new Map,le=null,ue=!1,W=!1,V=new Set,J=new Map,te=0,ne=-1,me=new Map,I=new Set,G=new Map,ye=new Map,$=new Set,De=new Map,je,Ee=null;function Ye(){if(p=e.history.listen(({action:X,location:pe,delta:_e})=>{if(je){je(),je=void 0;return}$n(De.size===0||_e!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ae=mn({currentLocation:P.location,nextLocation:pe,historyAction:X});if(Ae&&_e!=null){let Te=new Promise(We=>{je=We});e.history.go(_e*-1),Pn(Ae,{state:"blocked",location:pe,proceed(){Pn(Ae,{state:"proceeding",proceed:void 0,reset:void 0,location:pe}),Te.then(()=>e.history.go(_e))},reset(){let We=new Map(P.blockers);We.set(Ae,Hc),ht({blockers:We})}});return}return cn(X,pe)}),n){GC(t,oe);let X=()=>YC(t,oe);t.addEventListener("pagehide",X),le=()=>t.removeEventListener("pagehide",X)}return P.initialized||cn("POP",P.location,{initialHydration:!0}),U}function Ke(){p&&p(),le&&le(),g.clear(),Q&&Q.abort(),P.fetchers.forEach((X,pe)=>pt(pe)),P.blockers.forEach((X,pe)=>Ve(pe))}function Pe(X){return g.add(X),()=>g.delete(X)}function ht(X,pe={}){X.matches&&(X.matches=X.matches.map(Te=>{let We=s[Te.route.id],rt=Te.route;return rt.element!==We.element||rt.errorElement!==We.errorElement||rt.hydrateFallbackElement!==We.hydrateFallbackElement?{...Te,route:We}:Te})),P={...P,...X};let _e=[],Ae=[];P.fetchers.forEach((Te,We)=>{Te.state==="idle"&&($.has(We)?_e.push(We):Ae.push(We))}),$.forEach(Te=>{!P.fetchers.has(Te)&&!J.has(Te)&&_e.push(Te)}),[...g].forEach(Te=>Te(P,{deletedFetchers:_e,viewTransitionOpts:pe.viewTransitionOpts,flushSync:pe.flushSync===!0})),_e.forEach(Te=>pt(Te)),Ae.forEach(Te=>P.fetchers.delete(Te))}function un(X,pe,{flushSync:_e}={}){let Ae=P.actionData!=null&&P.navigation.formMethod!=null&&Jr(P.navigation.formMethod)&&P.navigation.state==="loading"&&X.state?._isRedirect!==!0,Te;pe.actionData?Object.keys(pe.actionData).length>0?Te=pe.actionData:Te=null:Ae?Te=P.actionData:Te=null;let We=pe.loaderData?Ib(P.loaderData,pe.loaderData,pe.matches||[],pe.errors):P.loaderData,rt=P.blockers;rt.size>0&&(rt=new Map(rt),rt.forEach((ot,et)=>rt.set(et,Hc)));let Je=ue?!1:Ls(X,pe.matches||P.matches),tt=z===!0||P.navigation.formMethod!=null&&Jr(P.navigation.formMethod)&&X.state?._isRedirect!==!0;a&&(o=a,a=void 0),ue||D==="POP"||(D==="PUSH"?e.history.push(X,X.state):D==="REPLACE"&&e.history.replace(X,X.state));let at;if(D==="POP"){let ot=oe.get(P.location.pathname);ot&&ot.has(X.pathname)?at={currentLocation:P.location,nextLocation:X}:oe.has(X.pathname)&&(at={currentLocation:X,nextLocation:P.location})}else if(F){let ot=oe.get(P.location.pathname);ot?ot.add(X.pathname):(ot=new Set([X.pathname]),oe.set(P.location.pathname,ot)),at={currentLocation:P.location,nextLocation:X}}ht({...pe,actionData:Te,loaderData:We,historyAction:D,location:X,initialized:!0,navigation:y0,revalidation:"idle",restoreScrollPosition:Je,preventScrollReset:tt,blockers:rt},{viewTransitionOpts:at,flushSync:_e===!0}),D="POP",z=!1,F=!1,ue=!1,W=!1,Ee?.resolve(),Ee=null}async function Tt(X,pe){if(typeof X=="number"){e.history.go(X);return}let _e=L1(P.location,P.matches,u,X,pe?.fromRouteId,pe?.relative),{path:Ae,submission:Te,error:We}=Eb(!1,_e,pe),rt=P.location,Je=Nd(P.location,Ae,pe&&pe.state);Je={...Je,...e.history.encodeLocation(Je)};let tt=pe&&pe.replace!=null?pe.replace:void 0,at="PUSH";tt===!0?at="REPLACE":tt===!1||Te!=null&&Jr(Te.formMethod)&&Te.formAction===P.location.pathname+P.location.search&&(at="REPLACE");let ot=pe&&"preventScrollReset"in pe?pe.preventScrollReset===!0:void 0,et=(pe&&pe.flushSync)===!0,_t=mn({currentLocation:rt,nextLocation:Je,historyAction:at});if(_t){Pn(_t,{state:"blocked",location:Je,proceed(){Pn(_t,{state:"proceeding",proceed:void 0,reset:void 0,location:Je}),Tt(X,pe)},reset(){let Pt=new Map(P.blockers);Pt.set(_t,Hc),ht({blockers:Pt})}});return}await cn(at,Je,{submission:Te,pendingError:We,preventScrollReset:ot,replace:pe&&pe.replace,enableViewTransition:pe&&pe.viewTransition,flushSync:et})}function pn(){Ee||(Ee=XC()),Br(),ht({revalidation:"loading"});let X=Ee.promise;return P.navigation.state==="submitting"?X:P.navigation.state==="idle"?(cn(P.historyAction,P.location,{startUninterruptedRevalidation:!0}),X):(cn(D||P.historyAction,P.navigation.location,{overrideNavigation:P.navigation,enableViewTransition:F===!0}),X)}async function cn(X,pe,_e){Q&&Q.abort(),Q=null,D=X,ue=(_e&&_e.startUninterruptedRevalidation)===!0,zi(P.location,P.matches),z=(_e&&_e.preventScrollReset)===!0,F=(_e&&_e.enableViewTransition)===!0;let Ae=a||o,Te=_e&&_e.overrideNavigation,We=_e?.initialHydration&&P.matches&&P.matches.length>0&&!L?P.matches:Vo(Ae,pe,u),rt=(_e&&_e.flushSync)===!0;if(We&&P.initialized&&!W&&QC(P.location,pe)&&!(_e&&_e.submission&&Jr(_e.submission.formMethod))){un(pe,{matches:We},{flushSync:rt});return}let Je=hs(We,Ae,pe.pathname);if(Je.active&&Je.matches&&(We=Je.matches),!We){let{error:In,notFoundMatches:Ht,route:Gt}=bi(pe.pathname);un(pe,{matches:Ht,loaderData:{},errors:{[Gt.id]:In}},{flushSync:rt});return}Q=new AbortController;let tt=Tu(e.history,pe,Q.signal,_e&&_e.submission),at=new kb(e.unstable_getContext?await e.unstable_getContext():void 0),ot;if(_e&&_e.pendingError)ot=[Za(We).route.id,{type:"error",error:_e.pendingError}];else if(_e&&_e.submission&&Jr(_e.submission.formMethod)){let In=await Tn(tt,pe,_e.submission,We,at,Je.active,_e&&_e.initialHydration===!0,{replace:_e.replace,flushSync:rt});if(In.shortCircuited)return;if(In.pendingActionResult){let[Ht,Gt]=In.pendingActionResult;if(mi(Gt)&&Od(Gt.error)&&Gt.error.status===404){Q=null,un(pe,{matches:In.matches,loaderData:{},errors:{[Ht]:Gt.error}});return}}We=In.matches||We,ot=In.pendingActionResult,Te=x0(pe,_e.submission),rt=!1,Je.active=!1,tt=Tu(e.history,tt.url,tt.signal)}let{shortCircuited:et,matches:_t,loaderData:Pt,errors:gn}=await Os(tt,pe,We,at,Je.active,Te,_e&&_e.submission,_e&&_e.fetcherSubmission,_e&&_e.replace,_e&&_e.initialHydration===!0,rt,ot);et||(Q=null,un(pe,{matches:_t||We,...Db(ot),loaderData:Pt,errors:gn}))}async function Tn(X,pe,_e,Ae,Te,We,rt,Je={}){Br();let tt=WC(pe,_e);if(ht({navigation:tt},{flushSync:Je.flushSync===!0}),We){let et=await $i(Ae,pe.pathname,X.signal);if(et.type==="aborted")return{shortCircuited:!0};if(et.type==="error"){let _t=Za(et.partialMatches).route.id;return{matches:et.partialMatches,pendingActionResult:[_t,{type:"error",error:et.error}]}}else if(et.matches)Ae=et.matches;else{let{notFoundMatches:_t,error:Pt,route:gn}=bi(pe.pathname);return{matches:_t,pendingActionResult:[gn.id,{type:"error",error:Pt}]}}}let at,ot=gp(Ae,pe);if(!ot.route.action&&!ot.route.lazy)at={type:"error",error:Li(405,{method:X.method,pathname:pe.pathname,routeId:ot.route.id})};else{let et=Ru(i,s,X,Ae,ot,rt?[]:r,Te),_t=await dr(X,et,Te,null);if(at=_t[ot.route.id],!at){for(let Pt of Ae)if(_t[Pt.route.id]){at=_t[Pt.route.id];break}}if(X.signal.aborted)return{shortCircuited:!0}}if(nl(at)){let et;return Je&&Je.replace!=null?et=Je.replace:et=Ab(at.response.headers.get("Location"),new URL(X.url),u)===P.location.pathname+P.location.search,await cr(X,at,!0,{submission:_e,replace:et}),{shortCircuited:!0}}if(mi(at)){let et=Za(Ae,ot.route.id);return(Je&&Je.replace)!==!0&&(D="PUSH"),{matches:Ae,pendingActionResult:[et.route.id,at,ot.route.id]}}return{matches:Ae,pendingActionResult:[ot.route.id,at]}}async function Os(X,pe,_e,Ae,Te,We,rt,Je,tt,at,ot,et){let _t=We||x0(pe,rt),Pt=rt||Je||zb(_t),gn=!ue&&!at;if(Te){if(gn){let Cn=Bi(et);ht({navigation:_t,...Cn!==void 0?{actionData:Cn}:{}},{flushSync:ot})}let At=await $i(_e,pe.pathname,X.signal);if(At.type==="aborted")return{shortCircuited:!0};if(At.type==="error"){let Cn=Za(At.partialMatches).route.id;return{matches:At.partialMatches,loaderData:{},errors:{[Cn]:At.error}}}else if(At.matches)_e=At.matches;else{let{error:Cn,notFoundMatches:Pr,route:oi}=bi(pe.pathname);return{matches:Pr,loaderData:{},errors:{[oi.id]:Cn}}}}let In=a||o,{dsMatches:Ht,revalidatingFetchers:Gt}=Tb(X,Ae,i,s,e.history,P,_e,Pt,pe,at?[]:r,at===!0,W,V,$,G,I,In,u,e.patchRoutesOnNavigation!=null,et);if(ne=++te,!e.dataStrategy&&!Ht.some(At=>At.shouldLoad)&&Gt.length===0){let At=Rn();return un(pe,{matches:_e,loaderData:{},errors:et&&mi(et[1])?{[et[0]]:et[1].error}:null,...Db(et),...At?{fetchers:new Map(P.fetchers)}:{}},{flushSync:ot}),{shortCircuited:!0}}if(gn){let At={};if(!Te){At.navigation=_t;let Cn=Bi(et);Cn!==void 0&&(At.actionData=Cn)}Gt.length>0&&(At.fetchers=go(Gt)),ht(At,{flushSync:ot})}Gt.forEach(At=>{Kt(At.key),At.controller&&J.set(At.key,At.controller)});let Xn=()=>Gt.forEach(At=>Kt(At.key));Q&&Q.signal.addEventListener("abort",Xn);let{loaderResults:Ui,fetcherResults:Tr}=await ds(Ht,Gt,X,Ae);if(X.signal.aborted)return{shortCircuited:!0};Q&&Q.signal.removeEventListener("abort",Xn),Gt.forEach(At=>J.delete(At.key));let $t=kf(Ui);if($t)return await cr(X,$t.result,!0,{replace:tt}),{shortCircuited:!0};if($t=kf(Tr),$t)return I.add($t.key),await cr(X,$t.result,!0,{replace:tt}),{shortCircuited:!0};let{loaderData:si,errors:Lt}=Rb(P,_e,Ui,et,Gt,Tr);at&&P.errors&&(Lt={...P.errors,...Lt});let wi=Rn(),Nr=Er(ne),_i=wi||Nr||Gt.length>0;return{matches:_e,loaderData:si,errors:Lt,..._i?{fetchers:new Map(P.fetchers)}:{}}}function Bi(X){if(X&&!mi(X[1]))return{[X[0]]:X[1].data};if(P.actionData)return Object.keys(P.actionData).length===0?null:P.actionData}function go(X){return X.forEach(pe=>{let _e=P.fetchers.get(pe.key),Ae=Qc(void 0,_e?_e.data:void 0);P.fetchers.set(pe.key,Ae)}),new Map(P.fetchers)}async function cs(X,pe,_e,Ae){Kt(X);let Te=(Ae&&Ae.flushSync)===!0,We=a||o,rt=L1(P.location,P.matches,u,_e,pe,Ae?.relative),Je=Vo(We,rt,u),tt=hs(Je,We,rt);if(tt.active&&tt.matches&&(Je=tt.matches),!Je){Oe(X,pe,Li(404,{pathname:rt}),{flushSync:Te});return}let{path:at,submission:ot,error:et}=Eb(!0,rt,Ae);if(et){Oe(X,pe,et,{flushSync:Te});return}let _t=new kb(e.unstable_getContext?await e.unstable_getContext():void 0),Pt=(Ae&&Ae.preventScrollReset)===!0;if(ot&&Jr(ot.formMethod)){await Fr(X,pe,at,Je,_t,tt.active,Te,Pt,ot);return}G.set(X,{routeId:pe,path:at}),await Nn(X,pe,at,Je,_t,tt.active,Te,Pt,ot)}async function Fr(X,pe,_e,Ae,Te,We,rt,Je,tt){Br(),G.delete(X);let at=P.fetchers.get(X);Ce(X,KC(tt,at),{flushSync:rt});let ot=new AbortController,et=Tu(e.history,_e,ot.signal,tt);if(We){let Bt=await $i(Ae,new URL(et.url).pathname,et.signal,X);if(Bt.type==="aborted")return;if(Bt.type==="error"){Oe(X,pe,Bt.error,{flushSync:rt});return}else if(Bt.matches)Ae=Bt.matches;else{Oe(X,pe,Li(404,{pathname:_e}),{flushSync:rt});return}}let _t=gp(Ae,_e);if(!_t.route.action&&!_t.route.lazy){let Bt=Li(405,{method:tt.formMethod,pathname:_e,routeId:pe});Oe(X,pe,Bt,{flushSync:rt});return}J.set(X,ot);let Pt=te,gn=Ru(i,s,et,Ae,_t,r,Te),Ht=(await dr(et,gn,Te,X))[_t.route.id];if(et.signal.aborted){J.get(X)===ot&&J.delete(X);return}if($.has(X)){if(nl(Ht)||mi(Ht)){Ce(X,Ho(void 0));return}}else{if(nl(Ht))if(J.delete(X),ne>Pt){Ce(X,Ho(void 0));return}else return I.add(X),Ce(X,Qc(tt)),cr(et,Ht,!1,{fetcherSubmission:tt,preventScrollReset:Je});if(mi(Ht)){Oe(X,pe,Ht.error);return}}let Gt=P.navigation.location||P.location,Xn=Tu(e.history,Gt,ot.signal),Ui=a||o,Tr=P.navigation.state!=="idle"?Vo(Ui,P.navigation.location,u):P.matches;Rt(Tr,"Didn't find any matches after fetcher action");let $t=++te;me.set(X,$t);let si=Qc(tt,Ht.data);P.fetchers.set(X,si);let{dsMatches:Lt,revalidatingFetchers:wi}=Tb(Xn,Te,i,s,e.history,P,Tr,tt,Gt,r,!1,W,V,$,G,I,Ui,u,e.patchRoutesOnNavigation!=null,[_t.route.id,Ht]);wi.filter(Bt=>Bt.key!==X).forEach(Bt=>{let As=Bt.key,ft=P.fetchers.get(As),Nl=Qc(void 0,ft?ft.data:void 0);P.fetchers.set(As,Nl),Kt(As),Bt.controller&&J.set(As,Bt.controller)}),ht({fetchers:new Map(P.fetchers)});let Nr=()=>wi.forEach(Bt=>Kt(Bt.key));ot.signal.addEventListener("abort",Nr);let{loaderResults:_i,fetcherResults:At}=await ds(Lt,wi,Xn,Te);if(ot.signal.aborted)return;if(ot.signal.removeEventListener("abort",Nr),me.delete(X),J.delete(X),wi.forEach(Bt=>J.delete(Bt.key)),P.fetchers.has(X)){let Bt=Ho(Ht.data);P.fetchers.set(X,Bt)}let Cn=kf(_i);if(Cn)return cr(Xn,Cn.result,!1,{preventScrollReset:Je});if(Cn=kf(At),Cn)return I.add(Cn.key),cr(Xn,Cn.result,!1,{preventScrollReset:Je});let{loaderData:Pr,errors:oi}=Rb(P,Tr,_i,void 0,wi,At);Er($t),P.navigation.state==="loading"&&$t>ne?(Rt(D,"Expected pending action"),Q&&Q.abort(),un(P.navigation.location,{matches:Tr,loaderData:Pr,errors:oi,fetchers:new Map(P.fetchers)})):(ht({errors:oi,loaderData:Ib(P.loaderData,Pr,Tr,oi),fetchers:new Map(P.fetchers)}),W=!1)}async function Nn(X,pe,_e,Ae,Te,We,rt,Je,tt){let at=P.fetchers.get(X);Ce(X,Qc(tt,at?at.data:void 0),{flushSync:rt});let ot=new AbortController,et=Tu(e.history,_e,ot.signal);if(We){let Gt=await $i(Ae,new URL(et.url).pathname,et.signal,X);if(Gt.type==="aborted")return;if(Gt.type==="error"){Oe(X,pe,Gt.error,{flushSync:rt});return}else if(Gt.matches)Ae=Gt.matches;else{Oe(X,pe,Li(404,{pathname:_e}),{flushSync:rt});return}}let _t=gp(Ae,_e);J.set(X,ot);let Pt=te,gn=Ru(i,s,et,Ae,_t,r,Te),Ht=(await dr(et,gn,Te,X))[_t.route.id];if(J.get(X)===ot&&J.delete(X),!et.signal.aborted){if($.has(X)){Ce(X,Ho(void 0));return}if(nl(Ht))if(ne>Pt){Ce(X,Ho(void 0));return}else{I.add(X),await cr(et,Ht,!1,{preventScrollReset:Je});return}if(mi(Ht)){Oe(X,pe,Ht.error);return}Ce(X,Ho(Ht.data))}}async function cr(X,pe,_e,{submission:Ae,fetcherSubmission:Te,preventScrollReset:We,replace:rt}={}){pe.response.headers.has("X-Remix-Revalidate")&&(W=!0);let Je=pe.response.headers.get("Location");Rt(Je,"Expected a Location header on the redirect Response"),Je=Ab(Je,new URL(X.url),u);let tt=Nd(P.location,Je,{_isRedirect:!0});if(n){let gn=!1;if(pe.response.headers.has("X-Remix-Reload-Document"))gn=!0;else if(Qy(Je)){const In=m6(Je,!0);gn=In.origin!==t.location.origin||Ii(In.pathname,u)==null}if(gn){rt?t.location.replace(Je):t.location.assign(Je);return}}Q=null;let at=rt===!0||pe.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ot,formAction:et,formEncType:_t}=P.navigation;!Ae&&!Te&&ot&&et&&_t&&(Ae=zb(P.navigation));let Pt=Ae||Te;if(NC.has(pe.response.status)&&Pt&&Jr(Pt.formMethod))await cn(at,tt,{submission:{...Pt,formAction:Je},preventScrollReset:We||z,enableViewTransition:_e?F:void 0});else{let gn=x0(tt,Ae);await cn(at,tt,{overrideNavigation:gn,fetcherSubmission:Te,preventScrollReset:We||z,enableViewTransition:_e?F:void 0})}}async function dr(X,pe,_e,Ae){let Te,We={};try{Te=await BC(c,X,pe,Ae,_e,!1)}catch(rt){return pe.filter(Je=>Je.shouldLoad).forEach(Je=>{We[Je.route.id]={type:"error",error:rt}}),We}if(X.signal.aborted)return We;for(let[rt,Je]of Object.entries(Te))if(VC(Je)){let tt=Je.result;We[rt]={type:"redirect",response:UC(tt,X,rt,pe,u)}}else We[rt]=await $C(Je);return We}async function ds(X,pe,_e,Ae){let Te=dr(_e,X,Ae,null),We=Promise.all(pe.map(async tt=>{if(tt.matches&&tt.match&&tt.request&&tt.controller){let ot=(await dr(tt.request,tt.matches,Ae,tt.key))[tt.match.route.id];return{[tt.key]:ot}}else return Promise.resolve({[tt.key]:{type:"error",error:Li(404,{pathname:tt.path})}})})),rt=await Te,Je=(await We).reduce((tt,at)=>Object.assign(tt,at),{});return{loaderResults:rt,fetcherResults:Je}}function Br(){W=!0,G.forEach((X,pe)=>{J.has(pe)&&V.add(pe),Kt(pe)})}function Ce(X,pe,_e={}){P.fetchers.set(X,pe),ht({fetchers:new Map(P.fetchers)},{flushSync:(_e&&_e.flushSync)===!0})}function Oe(X,pe,_e,Ae={}){let Te=Za(P.matches,pe);pt(X),ht({errors:{[Te.route.id]:_e},fetchers:new Map(P.fetchers)},{flushSync:(Ae&&Ae.flushSync)===!0})}function lt(X){return ye.set(X,(ye.get(X)||0)+1),$.has(X)&&$.delete(X),P.fetchers.get(X)||PC}function pt(X){let pe=P.fetchers.get(X);J.has(X)&&!(pe&&pe.state==="loading"&&me.has(X))&&Kt(X),G.delete(X),me.delete(X),I.delete(X),$.delete(X),V.delete(X),P.fetchers.delete(X)}function Nt(X){let pe=(ye.get(X)||0)-1;pe<=0?(ye.delete(X),$.add(X)):ye.set(X,pe),ht({fetchers:new Map(P.fetchers)})}function Kt(X){let pe=J.get(X);pe&&(pe.abort(),J.delete(X))}function Mn(X){for(let pe of X){let _e=lt(pe),Ae=Ho(_e.data);P.fetchers.set(pe,Ae)}}function Rn(){let X=[],pe=!1;for(let _e of I){let Ae=P.fetchers.get(_e);Rt(Ae,`Expected fetcher: ${_e}`),Ae.state==="loading"&&(I.delete(_e),X.push(_e),pe=!0)}return Mn(X),pe}function Er(X){let pe=[];for(let[_e,Ae]of me)if(Ae<X){let Te=P.fetchers.get(_e);Rt(Te,`Expected fetcher: ${_e}`),Te.state==="loading"&&(Kt(_e),me.delete(_e),pe.push(_e))}return Mn(pe),pe.length>0}function Yn(X,pe){let _e=P.blockers.get(X)||Hc;return De.get(X)!==pe&&De.set(X,pe),_e}function Ve(X){P.blockers.delete(X),De.delete(X)}function Pn(X,pe){let _e=P.blockers.get(X)||Hc;Rt(_e.state==="unblocked"&&pe.state==="blocked"||_e.state==="blocked"&&pe.state==="blocked"||_e.state==="blocked"&&pe.state==="proceeding"||_e.state==="blocked"&&pe.state==="unblocked"||_e.state==="proceeding"&&pe.state==="unblocked",`Invalid blocker state transition: ${_e.state} -> ${pe.state}`);let Ae=new Map(P.blockers);Ae.set(X,pe),ht({blockers:Ae})}function mn({currentLocation:X,nextLocation:pe,historyAction:_e}){if(De.size===0)return;De.size>1&&$n(!1,"A router only supports one blocker at a time");let Ae=Array.from(De.entries()),[Te,We]=Ae[Ae.length-1],rt=P.blockers.get(Te);if(!(rt&&rt.state==="proceeding")&&We({currentLocation:X,nextLocation:pe,historyAction:_e}))return Te}function bi(X){let pe=Li(404,{pathname:X}),_e=a||o,{matches:Ae,route:Te}=Fb(_e);return{notFoundMatches:Ae,route:Te,error:pe}}function qe(X,pe,_e){if(v=X,_=pe,w=_e||null,!C&&P.navigation===y0){C=!0;let Ae=Ls(P.location,P.matches);Ae!=null&&ht({restoreScrollPosition:Ae})}return()=>{v=null,_=null,w=null}}function ii(X,pe){return w&&w(X,pe.map(Ae=>oC(Ae,P.loaderData)))||X.key}function zi(X,pe){if(v&&_){let _e=ii(X,pe);v[_e]=_()}}function Ls(X,pe){if(v){let _e=ii(X,pe),Ae=v[_e];if(typeof Ae=="number")return Ae}return null}function hs(X,pe,_e){if(e.patchRoutesOnNavigation)if(X){if(Object.keys(X[0].params).length>0)return{active:!0,matches:mp(pe,_e,u,!0)}}else return{active:!0,matches:mp(pe,_e,u,!0)||[]};return{active:!1,matches:null}}async function $i(X,pe,_e,Ae){if(!e.patchRoutesOnNavigation)return{type:"success",matches:X};let Te=X;for(;;){let We=a==null,rt=a||o,Je=s;try{await e.patchRoutesOnNavigation({signal:_e,path:pe,matches:Te,fetcherKey:Ae,patch:(ot,et)=>{_e.aborted||Nb(ot,et,rt,Je,i,!1)}})}catch(ot){return{type:"error",error:ot,partialMatches:Te}}finally{We&&!_e.aborted&&(o=[...o])}if(_e.aborted)return{type:"aborted"};let tt=Vo(rt,pe,u);if(tt)return{type:"success",matches:tt};let at=mp(rt,pe,u,!0);if(!at||Te.length===at.length&&Te.every((ot,et)=>ot.route.id===at[et].route.id))return{type:"success",matches:null};Te=at}}function El(X){s={},a=Pd(X,i,void 0,s)}function Tl(X,pe,_e=!1){let Ae=a==null;Nb(X,pe,a||o,s,i,_e),Ae&&(o=[...o],ht({}))}return U={get basename(){return u},get future(){return f},get state(){return P},get routes(){return o},get window(){return t},initialize:Ye,subscribe:Pe,enableScrollRestoration:qe,navigate:Tt,fetch:cs,revalidate:pn,createHref:X=>e.history.createHref(X),encodeLocation:X=>e.history.encodeLocation(X),getFetcher:lt,deleteFetcher:Nt,dispose:Ke,getBlocker:Yn,deleteBlocker:Ve,patchRoutes:Tl,_internalFetchControllers:J,_internalSetRoutes:El,_internalSetStateDoNotUseOrYouWillBreakYourApp(X){ht(X)}},U}function MC(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function L1(e,t,n,r,i,s){let o,a;if(i){o=[];for(let c of t)if(o.push(c),c.route.id===i){a=c;break}}else o=t,a=t[t.length-1];let u=Hy(r||".",Uy(o),Ii(e.pathname,n)||e.pathname,s==="path");if(r==null&&(u.search=e.search,u.hash=e.hash),(r==null||r===""||r===".")&&a){let c=Vy(u.search);if(a.route.index&&!c)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!a.route.index&&c){let f=new URLSearchParams(u.search),p=f.getAll("index");f.delete("index"),p.filter(v=>v).forEach(v=>f.append("index",v));let g=f.toString();u.search=g?`?${g}`:""}}return n!=="/"&&(u.pathname=vC({basename:n,pathname:u.pathname})),ea(u)}function Eb(e,t,n){if(!n||!MC(n))return{path:t};if(n.formMethod&&!qC(n.formMethod))return{path:t,error:Li(405,{method:n.formMethod})};let r=()=>({path:t,error:Li(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),o=E6(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Jr(s))return r();let p=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((g,[v,w])=>`${g}${v}=${w}
`,""):String(n.body);return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:p}}}else if(n.formEncType==="application/json"){if(!Jr(s))return r();try{let p=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:p,text:void 0}}}catch{return r()}}}Rt(typeof FormData=="function","FormData is not available in this environment");let a,u;if(n.formData)a=R1(n.formData),u=n.formData;else if(n.body instanceof FormData)a=R1(n.body),u=n.body;else if(n.body instanceof URLSearchParams)a=n.body,u=Mb(a);else if(n.body==null)a=new URLSearchParams,u=new FormData;else try{a=new URLSearchParams(n.body),u=Mb(a)}catch{return r()}let c={formMethod:s,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Jr(c.formMethod))return{path:t,submission:c};let f=oa(t);return e&&f.search&&Vy(f.search)&&a.append("index",""),f.search=`?${a}`,{path:ea(f),submission:c}}function Tb(e,t,n,r,i,s,o,a,u,c,f,p,g,v,w,_,C,E,L,A){let B=A?mi(A[1])?A[1].error:A[1].data:void 0,U=i.createURL(s.location),P=i.createURL(u),D;if(f&&s.errors){let ue=Object.keys(s.errors)[0];D=o.findIndex(W=>W.route.id===ue)}else if(A&&mi(A[1])){let ue=A[0];D=o.findIndex(W=>W.route.id===ue)-1}let z=A?A[1].statusCode:void 0,Q=z&&z>=400,F={currentUrl:U,currentParams:s.matches[0]?.params||{},nextUrl:P,nextParams:o[0].params,...a,actionResult:B,actionStatus:z},oe=o.map((ue,W)=>{let{route:V}=ue,J=null;if(D!=null&&W>D?J=!1:V.lazy?J=!0:V.loader==null?J=!1:f?J=A1(V,s.loaderData,s.errors):RC(s.loaderData,s.matches[W],ue)&&(J=!0),J!==null)return M1(n,r,e,ue,c,t,J);let te=Q?!1:p||U.pathname+U.search===P.pathname+P.search||U.search!==P.search||IC(s.matches[W],ue),ne={...F,defaultShouldRevalidate:te},me=Np(ue,ne);return M1(n,r,e,ue,c,t,me,ne)}),le=[];return w.forEach((ue,W)=>{if(f||!o.some(ye=>ye.route.id===ue.routeId)||v.has(W))return;let V=s.fetchers.get(W),J=V&&V.state!=="idle"&&V.data===void 0,te=Vo(C,ue.path,E);if(!te){if(L&&J)return;le.push({key:W,routeId:ue.routeId,path:ue.path,matches:null,match:null,request:null,controller:null});return}if(_.has(W))return;let ne=gp(te,ue.path),me=new AbortController,I=Tu(i,ue.path,me.signal),G=null;if(g.has(W))g.delete(W),G=Ru(n,r,I,te,ne,c,t);else if(J)p&&(G=Ru(n,r,I,te,ne,c,t));else{let ye={...F,defaultShouldRevalidate:Q?!1:p};Np(ne,ye)&&(G=Ru(n,r,I,te,ne,c,t,ye))}G&&le.push({key:W,routeId:ue.routeId,path:ue.path,matches:G,match:ne,request:I,controller:me})}),{dsMatches:oe,revalidatingFetchers:le}}function A1(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&e.id in t,i=n!=null&&n[e.id]!==void 0;return!r&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!i}function RC(e,t,n){let r=!t||n.route.id!==t.route.id,i=!e.hasOwnProperty(n.route.id);return r||i}function IC(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Np(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function Nb(e,t,n,r,i,s){let o;if(e){let c=r[e];Rt(c,`No route found to patch children into: routeId = ${e}`),c.children||(c.children=[]),o=c.children}else o=n;let a=[],u=[];if(t.forEach(c=>{let f=o.find(p=>_6(c,p));f?u.push({existingRoute:f,newRoute:c}):a.push(c)}),a.length>0){let c=Pd(a,i,[e||"_","patch",String(o?.length||"0")],r);o.push(...c)}if(s&&u.length>0)for(let c=0;c<u.length;c++){let{existingRoute:f,newRoute:p}=u[c],g=f,[v]=Pd([p],i,[],{},!0);Object.assign(g,{element:v.element?v.element:g.element,errorElement:v.errorElement?v.errorElement:g.errorElement,hydrateFallbackElement:v.hydrateFallbackElement?v.hydrateFallbackElement:g.hydrateFallbackElement})}}function _6(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>t.children?.some(i=>_6(n,i))):!1}var Pb=new WeakMap,S6=({key:e,route:t,manifest:n,mapRouteProperties:r})=>{let i=n[t.id];if(Rt(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[e];if(!s)return;let o=Pb.get(i);o||(o={},Pb.set(i,o));let a=o[e];if(a)return a;let u=(async()=>{let c=nC(e),p=i[e]!==void 0&&e!=="hasErrorBoundary";if(c)$n(!c,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),o[e]=Promise.resolve();else if(p)$n(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let g=await s();g!=null&&(Object.assign(i,{[e]:g}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(g=>g===void 0)&&(i.lazy=void 0))})();return o[e]=u,u},Ob=new WeakMap;function DC(e,t,n,r,i){let s=n[e.id];if(Rt(s,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let f=Ob.get(s);if(f)return{lazyRoutePromise:f,lazyHandlerPromise:f};let p=(async()=>{Rt(typeof e.lazy=="function","No lazy route function found");let g=await e.lazy(),v={};for(let w in g){let _=g[w];if(_===void 0)continue;let C=iC(w),L=s[w]!==void 0&&w!=="hasErrorBoundary";C?$n(!C,"Route property "+w+" is not a supported property to be returned from a lazy route function. This property will be ignored."):L?$n(!L,`Route "${s.id}" has a static property "${w}" defined but its lazy function is also returning a value for this property. The lazy route property "${w}" will be ignored.`):v[w]=_}Object.assign(s,v),Object.assign(s,{...r(s),lazy:void 0})})();return Ob.set(s,p),p.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:p}}let o=Object.keys(e.lazy),a=[],u;for(let f of o){if(i&&i.includes(f))continue;let p=S6({key:f,route:e,manifest:n,mapRouteProperties:r});p&&(a.push(p),f===t&&(u=p))}let c=a.length>0?Promise.all(a).then(()=>{}):void 0;return c?.catch(()=>{}),u?.catch(()=>{}),{lazyRoutePromise:c,lazyHandlerPromise:u}}async function Lb(e){let t=e.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(t.map(i=>i.resolve()))).forEach((i,s)=>{n[t[s].route.id]=i}),n}async function FC(e){return e.matches.some(t=>t.route.unstable_middleware)?C6(e,!1,()=>Lb(e),(t,n)=>({[n]:{type:"error",result:t}})):Lb(e)}async function C6(e,t,n,r){let{matches:i,request:s,params:o,context:a}=e,u={handlerResult:void 0};try{let c=i.flatMap(p=>p.route.unstable_middleware?p.route.unstable_middleware.map(g=>[p.route.id,g]):[]),f=await k6({request:s,params:o,context:a},c,t,u,n);return t?f:u.handlerResult}catch(c){if(!u.middlewareError)throw c;let f=await r(u.middlewareError.error,u.middlewareError.routeId);return u.handlerResult?Object.assign(u.handlerResult,f):f}}async function k6(e,t,n,r,i,s=0){let{request:o}=e;if(o.signal.aborted)throw o.signal.reason?o.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${o.method} ${o.url}`);let a=t[s];if(!a)return r.handlerResult=await i(),r.handlerResult;let[u,c]=a,f=!1,p,g=async()=>{if(f)throw new Error("You may only call `next()` once per middleware");f=!0,await k6(e,t,n,r,i,s+1)};try{let v=await c({request:e.request,params:e.params,context:e.context},g);return f?v===void 0?p:v:g()}catch(v){throw r.middlewareError?r.middlewareError.error!==v&&(r.middlewareError={routeId:u,error:v}):r.middlewareError={routeId:u,error:v},v}}function j6(e,t,n,r,i){let s=S6({key:"unstable_middleware",route:r.route,manifest:t,mapRouteProperties:e}),o=DC(r.route,Jr(n.method)?"action":"loader",t,e,i);return{middleware:s,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function M1(e,t,n,r,i,s,o,a=null){let u=!1,c=j6(e,t,n,r,i);return{...r,_lazyPromises:c,shouldLoad:o,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler(f){return u=!0,a?typeof f=="boolean"?Np(r,{...a,defaultShouldRevalidate:f}):Np(r,a):o},resolve(f){return u||o||f&&!Jr(n.method)&&(r.route.lazy||r.route.loader)?zC({request:n,match:r,lazyHandlerPromise:c?.handler,lazyRoutePromise:c?.route,handlerOverride:f,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function Ru(e,t,n,r,i,s,o,a=null){return r.map(u=>u.route.id!==i.route.id?{...u,shouldLoad:!1,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler:()=>!1,_lazyPromises:j6(e,t,n,u,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:M1(e,t,n,u,s,o,!0,a))}async function BC(e,t,n,r,i,s){n.some(c=>c._lazyPromises?.middleware)&&await Promise.all(n.map(c=>c._lazyPromises?.middleware));let o={request:t,params:n[0].params,context:i,matches:n},u=await e({...o,fetcherKey:r,unstable_runClientMiddleware:c=>{let f=o;return C6(f,!1,()=>c({...f,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(p,g)=>({[g]:{type:"error",result:p}}))}});try{await Promise.all(n.flatMap(c=>[c._lazyPromises?.handler,c._lazyPromises?.route]))}catch{}return u}async function zC({request:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:s}){let o,a,u=Jr(e.method),c=u?"action":"loader",f=p=>{let g,v=new Promise((C,E)=>g=E);a=()=>g(),e.signal.addEventListener("abort",a);let w=C=>typeof p!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${c}" [routeId: ${t.route.id}]`)):p({request:e,params:t.params,context:s},...C!==void 0?[C]:[]),_=(async()=>{try{return{type:"data",result:await(i?i(E=>w(E)):w())}}catch(C){return{type:"error",result:C}}})();return Promise.race([_,v])};try{let p=u?t.route.action:t.route.loader;if(n||r)if(p){let g,[v]=await Promise.all([f(p).catch(w=>{g=w}),n,r]);if(g!==void 0)throw g;o=v}else{await n;let g=u?t.route.action:t.route.loader;if(g)[o]=await Promise.all([f(g),r]);else if(c==="action"){let v=new URL(e.url),w=v.pathname+v.search;throw Li(405,{method:e.method,pathname:w,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(p)o=await f(p);else{let g=new URL(e.url),v=g.pathname+g.search;throw Li(404,{pathname:v})}}catch(p){return{type:"error",result:p}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function $C(e){let{result:t,type:n}=e;if(T6(t)){let r;try{let i=t.headers.get("Content-Type");i&&/\bapplication\/json\b/.test(i)?t.body==null?r=null:r=await t.json():r=await t.text()}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new Tp(t.status,t.statusText,r),statusCode:t.status,headers:t.headers}:{type:"data",data:r,statusCode:t.status,headers:t.headers}}return n==="error"?Bb(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Tp(t.init?.status||500,void 0,t.data),statusCode:Od(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Od(t)?t.status:void 0}:Bb(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function UC(e,t,n,r,i){let s=e.headers.get("Location");if(Rt(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!Qy(s)){let o=r.slice(0,r.findIndex(a=>a.route.id===n)+1);s=L1(new URL(t.url),o,i,s),e.headers.set("Location",s)}return e}function Ab(e,t,n){if(Qy(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),s=Ii(i.pathname,n)!=null;if(i.origin===t.origin&&s)return i.pathname+i.search+i.hash}return e}function Tu(e,t,n,r){let i=e.createURL(E6(t)).toString(),s={signal:n};if(r&&Jr(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=R1(r.formData):s.body=r.formData}return new Request(i,s)}function R1(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function Mb(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function HC(e,t,n,r=!1,i=!1){let s={},o=null,a,u=!1,c={},f=n&&mi(n[1])?n[1].error:void 0;return e.forEach(p=>{if(!(p.route.id in t))return;let g=p.route.id,v=t[g];if(Rt(!nl(v),"Cannot handle redirect results in processLoaderData"),mi(v)){let w=v.error;if(f!==void 0&&(w=f,f=void 0),o=o||{},i)o[g]=w;else{let _=Za(e,g);o[_.route.id]==null&&(o[_.route.id]=w)}r||(s[g]=w6),u||(u=!0,a=Od(v.error)?v.error.status:500),v.headers&&(c[g]=v.headers)}else s[g]=v.data,v.statusCode&&v.statusCode!==200&&!u&&(a=v.statusCode),v.headers&&(c[g]=v.headers)}),f!==void 0&&n&&(o={[n[0]]:f},n[2]&&(s[n[2]]=void 0)),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function Rb(e,t,n,r,i,s){let{loaderData:o,errors:a}=HC(t,n,r);return i.filter(u=>!u.matches||u.matches.some(c=>c.shouldLoad)).forEach(u=>{let{key:c,match:f,controller:p}=u,g=s[c];if(Rt(g,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(mi(g)){let v=Za(e.matches,f?.route.id);a&&a[v.route.id]||(a={...a,[v.route.id]:g.error}),e.fetchers.delete(c)}else if(nl(g))Rt(!1,"Unhandled fetcher revalidation redirect");else{let v=Ho(g.data);e.fetchers.set(c,v)}}),{loaderData:o,errors:a}}function Ib(e,t,n,r){let i=Object.entries(t).filter(([,s])=>s!==w6).reduce((s,[o,a])=>(s[o]=a,s),{});for(let s of n){let o=s.route.id;if(!t.hasOwnProperty(o)&&e.hasOwnProperty(o)&&s.route.loader&&(i[o]=e[o]),r&&r.hasOwnProperty(o))break}return i}function Db(e){return e?mi(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Za(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function Fb(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Li(e,{pathname:t,routeId:n,method:r,type:i,message:s}={}){let o="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(o="Bad Request",r&&t&&n?a=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(a="Unable to encode submission body")):e===403?(o="Forbidden",a=`Route "${n}" does not match URL "${t}"`):e===404?(o="Not Found",a=`No route matches URL "${t}"`):e===405&&(o="Method Not Allowed",r&&t&&n?a=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(a=`Invalid request method "${r.toUpperCase()}"`)),new Tp(e||500,o,new Error(a),!0)}function kf(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,i]=t[n];if(nl(i))return{key:r,result:i}}}function E6(e){let t=typeof e=="string"?oa(e):e;return ea({...t,hash:""})}function QC(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function VC(e){return T6(e.result)&&TC.has(e.result.status)}function mi(e){return e.type==="error"}function nl(e){return(e&&e.type)==="redirect"}function Bb(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function T6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function qC(e){return EC.has(e.toUpperCase())}function Jr(e){return kC.has(e.toUpperCase())}function Vy(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function gp(e,t){let n=typeof t=="string"?oa(t).search:t.search;if(e[e.length-1].route.index&&Vy(n||""))return e[e.length-1];let r=x6(e);return r[r.length-1]}function zb(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:o}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function x0(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function WC(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Qc(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function KC(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Ho(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function GC(e,t){try{let n=e.sessionStorage.getItem(b6);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&t.set(i,new Set(s||[]))}}catch{}}function YC(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(b6,JSON.stringify(n))}catch(r){$n(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function XC(){let e,t,n=new Promise((r,i)=>{e=async s=>{r(s);try{await n}catch{}},t=async s=>{i(s);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var yl=N.createContext(null);yl.displayName="DataRouter";var Yd=N.createContext(null);Yd.displayName="DataRouterState";N.createContext(!1);var qy=N.createContext({isTransitioning:!1});qy.displayName="ViewTransition";var N6=N.createContext(new Map);N6.displayName="Fetchers";var JC=N.createContext(null);JC.displayName="Await";var Ts=N.createContext(null);Ts.displayName="Navigation";var im=N.createContext(null);im.displayName="Location";var ls=N.createContext({outlet:null,matches:[],isDataRoute:!1});ls.displayName="Route";var Wy=N.createContext(null);Wy.displayName="RouteError";function ZC(e,{relative:t}={}){Rt(Xd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=N.useContext(Ts),{hash:i,pathname:s,search:o}=Jd(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:Cs([n,s])),r.createHref({pathname:a,search:o,hash:i})}function Xd(){return N.useContext(im)!=null}function Ns(){return Rt(Xd(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(im).location}var P6="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function O6(e){N.useContext(Ts).static||N.useLayoutEffect(e)}function sm(){let{isDataRoute:e}=N.useContext(ls);return e?fk():ek()}function ek(){Rt(Xd(),"useNavigate() may be used only in the context of a <Router> component.");let e=N.useContext(yl),{basename:t,navigator:n}=N.useContext(Ts),{matches:r}=N.useContext(ls),{pathname:i}=Ns(),s=JSON.stringify(Uy(r)),o=N.useRef(!1);return O6(()=>{o.current=!0}),N.useCallback((u,c={})=>{if($n(o.current,P6),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=Hy(u,JSON.parse(s),i,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Cs([t,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[t,n,s,i,e])}var tk=N.createContext(null);function nk(e){let t=N.useContext(ls).outlet;return t&&N.createElement(tk.Provider,{value:e},t)}function L6(){let{matches:e}=N.useContext(ls),t=e[e.length-1];return t?t.params:{}}function Jd(e,{relative:t}={}){let{matches:n}=N.useContext(ls),{pathname:r}=Ns(),i=JSON.stringify(Uy(n));return N.useMemo(()=>Hy(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function rk(e,t,n,r){Rt(Xd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=N.useContext(Ts),{matches:s}=N.useContext(ls),o=s[s.length-1],a=o?o.params:{},u=o?o.pathname:"/",c=o?o.pathnameBase:"/",f=o&&o.route;{let E=f&&f.path||"";A6(u,!f||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let p=Ns(),g;g=p;let v=g.pathname||"/",w=v;if(c!=="/"){let E=c.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(E.length).join("/")}let _=Vo(e,{pathname:w});return $n(f||_!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),$n(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),lk(_&&_.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:Cs([c,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?c:Cs([c,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r)}function ik(){let e=Yy(),t=Od(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:s},"ErrorBoundary")," or"," ",N.createElement("code",{style:s},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),n?N.createElement("pre",{style:i},n):null,o)}var sk=N.createElement(ik,null),ok=class extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?N.createElement(ls.Provider,{value:this.props.routeContext},N.createElement(Wy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ak({routeContext:e,match:t,children:n}){let r=N.useContext(yl);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(ls.Provider,{value:e},n)}function lk(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,s=n?.errors;if(s!=null){let u=i.findIndex(c=>c.route.id&&s?.[c.route.id]!==void 0);Rt(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let o=!1,a=-1;if(n)for(let u=0;u<i.length;u++){let c=i[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=u),c.route.id){let{loaderData:f,errors:p}=n,g=c.route.loader&&!f.hasOwnProperty(c.route.id)&&(!p||p[c.route.id]===void 0);if(c.route.lazy||g){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((u,c,f)=>{let p,g=!1,v=null,w=null;n&&(p=s&&c.route.id?s[c.route.id]:void 0,v=c.route.errorElement||sk,o&&(a<0&&f===0?(A6("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,w=null):a===f&&(g=!0,w=c.route.hydrateFallbackElement||null)));let _=t.concat(i.slice(0,f+1)),C=()=>{let E;return p?E=v:g?E=w:c.route.Component?E=N.createElement(c.route.Component,null):c.route.element?E=c.route.element:E=u,N.createElement(ak,{match:c,routeContext:{outlet:u,matches:_,isDataRoute:n!=null},children:E})};return n&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?N.createElement(ok,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:C(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):C()},null)}function Ky(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uk(e){let t=N.useContext(yl);return Rt(t,Ky(e)),t}function ck(e){let t=N.useContext(Yd);return Rt(t,Ky(e)),t}function dk(e){let t=N.useContext(ls);return Rt(t,Ky(e)),t}function Gy(e){let t=dk(e),n=t.matches[t.matches.length-1];return Rt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function hk(){return Gy("useRouteId")}function Yy(){let e=N.useContext(Wy),t=ck("useRouteError"),n=Gy("useRouteError");return e!==void 0?e:t.errors?.[n]}function fk(){let{router:e}=uk("useNavigate"),t=Gy("useNavigate"),n=N.useRef(!1);return O6(()=>{n.current=!0}),N.useCallback(async(i,s={})=>{$n(n.current,P6),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var $b={};function A6(e,t,n){!t&&!$b[e]&&($b[e]=!0,$n(!1,n))}var Ub={};function Hb(e,t){!e&&!Ub[t]&&(Ub[t]=!0,console.warn(t))}function pk(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&$n(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:N.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&$n(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:N.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&$n(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:N.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var mk=["HydrateFallback","hydrateFallbackElement"],gk=class{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function yk({router:e,flushSync:t}){let[n,r]=N.useState(e.state),[i,s]=N.useState(),[o,a]=N.useState({isTransitioning:!1}),[u,c]=N.useState(),[f,p]=N.useState(),[g,v]=N.useState(),w=N.useRef(new Map),_=N.useCallback((A,{deletedFetchers:B,flushSync:U,viewTransitionOpts:P})=>{A.fetchers.forEach((z,Q)=>{z.data!==void 0&&w.current.set(Q,z.data)}),B.forEach(z=>w.current.delete(z)),Hb(U===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let D=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(Hb(P==null||D,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!P||!D){t&&U?t(()=>r(A)):N.startTransition(()=>r(A));return}if(t&&U){t(()=>{f&&(u&&u.resolve(),f.skipTransition()),a({isTransitioning:!0,flushSync:!0,currentLocation:P.currentLocation,nextLocation:P.nextLocation})});let z=e.window.document.startViewTransition(()=>{t(()=>r(A))});z.finished.finally(()=>{t(()=>{c(void 0),p(void 0),s(void 0),a({isTransitioning:!1})})}),t(()=>p(z));return}f?(u&&u.resolve(),f.skipTransition(),v({state:A,currentLocation:P.currentLocation,nextLocation:P.nextLocation})):(s(A),a({isTransitioning:!0,flushSync:!1,currentLocation:P.currentLocation,nextLocation:P.nextLocation}))},[e.window,t,f,u]);N.useLayoutEffect(()=>e.subscribe(_),[e,_]),N.useEffect(()=>{o.isTransitioning&&!o.flushSync&&c(new gk)},[o]),N.useEffect(()=>{if(u&&i&&e.window){let A=i,B=u.promise,U=e.window.document.startViewTransition(async()=>{N.startTransition(()=>r(A)),await B});U.finished.finally(()=>{c(void 0),p(void 0),s(void 0),a({isTransitioning:!1})}),p(U)}},[i,u,e.window]),N.useEffect(()=>{u&&i&&n.location.key===i.location.key&&u.resolve()},[u,f,n.location,i]),N.useEffect(()=>{!o.isTransitioning&&g&&(s(g.state),a({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),v(void 0))},[o.isTransitioning,g]);let C=N.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:A=>e.navigate(A),push:(A,B,U)=>e.navigate(A,{state:B,preventScrollReset:U?.preventScrollReset}),replace:(A,B,U)=>e.navigate(A,{replace:!0,state:B,preventScrollReset:U?.preventScrollReset})}),[e]),E=e.basename||"/",L=N.useMemo(()=>({router:e,navigator:C,static:!1,basename:E}),[e,C,E]);return N.createElement(N.Fragment,null,N.createElement(yl.Provider,{value:L},N.createElement(Yd.Provider,{value:n},N.createElement(N6.Provider,{value:w.current},N.createElement(qy.Provider,{value:o},N.createElement(bk,{basename:E,location:n.location,navigationType:n.historyAction,navigator:C},N.createElement(xk,{routes:e.routes,future:e.future,state:n})))))),null)}var xk=N.memo(vk);function vk({routes:e,future:t,state:n}){return rk(e,void 0,n,t)}function Xy(e){return nk(e.context)}function bk({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Rt(!Xd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=N.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=oa(n));let{pathname:u="/",search:c="",hash:f="",state:p=null,key:g="default"}=n,v=N.useMemo(()=>{let w=Ii(u,o);return w==null?null:{location:{pathname:w,search:c,hash:f,state:p,key:g},navigationType:r}},[o,u,c,f,p,g,r]);return $n(v!=null,`<Router basename="${o}"> is not able to match the URL "${u}${c}${f}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:N.createElement(Ts.Provider,{value:a},N.createElement(im.Provider,{children:t,value:v}))}var yp="get",xp="application/x-www-form-urlencoded";function om(e){return e!=null&&typeof e.tagName=="string"}function wk(e){return om(e)&&e.tagName.toLowerCase()==="button"}function _k(e){return om(e)&&e.tagName.toLowerCase()==="form"}function Sk(e){return om(e)&&e.tagName.toLowerCase()==="input"}function Ck(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function kk(e,t){return e.button===0&&(!t||t==="_self")&&!Ck(e)}var jf=null;function jk(){if(jf===null)try{new FormData(document.createElement("form"),0),jf=!1}catch{jf=!0}return jf}var Ek=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function v0(e){return e!=null&&!Ek.has(e)?($n(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xp}"`),null):e}function Tk(e,t){let n,r,i,s,o;if(_k(e)){let a=e.getAttribute("action");r=a?Ii(a,t):null,n=e.getAttribute("method")||yp,i=v0(e.getAttribute("enctype"))||xp,s=new FormData(e)}else if(wk(e)||Sk(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||a.getAttribute("action");if(r=u?Ii(u,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||yp,i=v0(e.getAttribute("formenctype"))||v0(a.getAttribute("enctype"))||xp,s=new FormData(a,e),!jk()){let{name:c,type:f,value:p}=e;if(f==="image"){let g=c?`${c}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else c&&s.append(c,p)}}else{if(om(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=yp,r=null,i=xp,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Jy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Nk(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Ii(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Pk(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ok(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Lk(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await Pk(s,n);return o.links?o.links():[]}return[]}));return Ik(r.flat(1).filter(Ok).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Qb(e,t,n,r,i,s){let o=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,a=(u,c)=>n[c].pathname!==u.pathname||n[c].route.path?.endsWith("*")&&n[c].params["*"]!==u.params["*"];return s==="assets"?t.filter((u,c)=>o(u,c)||a(u,c)):s==="data"?t.filter((u,c)=>{let f=r.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(o(u,c)||a(u,c))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function Ak(e,t,{includeHydrateFallback:n}={}){return Mk(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Mk(e){return[...new Set(e)]}function Rk(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Ik(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(Rk(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function M6(){let e=N.useContext(yl);return Jy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Dk(){let e=N.useContext(Yd);return Jy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Zy=N.createContext(void 0);Zy.displayName="FrameworkContext";function R6(){let e=N.useContext(Zy);return Jy(e,"You must render this element inside a <HydratedRouter> element"),e}function Fk(e,t){let n=N.useContext(Zy),[r,i]=N.useState(!1),[s,o]=N.useState(!1),{onFocus:a,onBlur:u,onMouseEnter:c,onMouseLeave:f,onTouchStart:p}=t,g=N.useRef(null);N.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let _=E=>{E.forEach(L=>{o(L.isIntersecting)})},C=new IntersectionObserver(_,{threshold:.5});return g.current&&C.observe(g.current),()=>{C.disconnect()}}},[e]),N.useEffect(()=>{if(r){let _=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(_)}}},[r]);let v=()=>{i(!0)},w=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,g,{}]:[s,g,{onFocus:Vc(a,v),onBlur:Vc(u,w),onMouseEnter:Vc(c,v),onMouseLeave:Vc(f,w),onTouchStart:Vc(p,v)}]:[!1,g,{}]}function Vc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Bk({page:e,...t}){let{router:n}=M6(),r=N.useMemo(()=>Vo(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?N.createElement($k,{page:e,matches:r,...t}):null}function zk(e){let{manifest:t,routeModules:n}=R6(),[r,i]=N.useState([]);return N.useEffect(()=>{let s=!1;return Lk(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function $k({page:e,matches:t,...n}){let r=Ns(),{manifest:i,routeModules:s}=R6(),{basename:o}=M6(),{loaderData:a,matches:u}=Dk(),c=N.useMemo(()=>Qb(e,t,u,i,r,"data"),[e,t,u,i,r]),f=N.useMemo(()=>Qb(e,t,u,i,r,"assets"),[e,t,u,i,r]),p=N.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,_=!1;if(t.forEach(E=>{let L=i.routes[E.route.id];!L||!L.hasLoader||(!c.some(A=>A.route.id===E.route.id)&&E.route.id in a&&s[E.route.id]?.shouldRevalidate||L.hasClientLoader?_=!0:w.add(E.route.id))}),w.size===0)return[];let C=Nk(e,o,"data");return _&&w.size>0&&C.searchParams.set("_routes",t.filter(E=>w.has(E.route.id)).map(E=>E.route.id).join(",")),[C.pathname+C.search]},[o,a,r,i,c,t,e,s]),g=N.useMemo(()=>Ak(f,i),[f,i]),v=zk(f);return N.createElement(N.Fragment,null,p.map(w=>N.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),g.map(w=>N.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),v.map(({key:w,link:_})=>N.createElement("link",{key:w,..._})))}function Uk(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var I6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{I6&&(window.__reactRouterVersion="7.7.1")}catch{}function Hk(e,t){return AC({basename:t?.basename,unstable_getContext:t?.unstable_getContext,future:t?.future,history:J9({window:t?.window}),hydrationData:Qk(),routes:e,mapRouteProperties:pk,hydrationRouteProperties:mk,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window}).initialize()}function Qk(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:Vk(e.errors)}),e}function Vk(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new Tp(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}var D6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ir=N.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:f,viewTransition:p,...g},v){let{basename:w}=N.useContext(Ts),_=typeof c=="string"&&D6.test(c),C,E=!1;if(typeof c=="string"&&_&&(C=c,I6))try{let Q=new URL(window.location.href),F=c.startsWith("//")?new URL(Q.protocol+c):new URL(c),oe=Ii(F.pathname,w);F.origin===Q.origin&&oe!=null?c=oe+F.search+F.hash:E=!0}catch{$n(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=ZC(c,{relative:i}),[A,B,U]=Fk(r,g),P=Kk(c,{replace:o,state:a,target:u,preventScrollReset:f,relative:i,viewTransition:p});function D(Q){t&&t(Q),Q.defaultPrevented||P(Q)}let z=N.createElement("a",{...g,...U,href:C||L,onClick:E||s?t:D,ref:Uk(v,B),target:u,"data-discover":!_&&n==="render"?"true":void 0});return A&&!_?N.createElement(N.Fragment,null,z,N.createElement(Bk,{page:L})):z});Ir.displayName="Link";var xl=N.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:u,...c},f){let p=Jd(o,{relative:c.relative}),g=Ns(),v=N.useContext(Yd),{navigator:w,basename:_}=N.useContext(Ts),C=v!=null&&Zk(p)&&a===!0,E=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,L=g.pathname,A=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(L=L.toLowerCase(),A=A?A.toLowerCase():null,E=E.toLowerCase()),A&&_&&(A=Ii(A,_)||A);const B=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let U=L===E||!i&&L.startsWith(E)&&L.charAt(B)==="/",P=A!=null&&(A===E||!i&&A.startsWith(E)&&A.charAt(E.length)==="/"),D={isActive:U,isPending:P,isTransitioning:C},z=U?t:void 0,Q;typeof r=="function"?Q=r(D):Q=[r,U?"active":null,P?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let F=typeof s=="function"?s(D):s;return N.createElement(Ir,{...c,"aria-current":z,className:Q,ref:f,style:F,to:o,viewTransition:a},typeof u=="function"?u(D):u)});xl.displayName="NavLink";var qk=N.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=yp,action:a,onSubmit:u,relative:c,preventScrollReset:f,viewTransition:p,...g},v)=>{let w=Xk(),_=Jk(a,{relative:c}),C=o.toLowerCase()==="get"?"get":"post",E=typeof a=="string"&&D6.test(a),L=A=>{if(u&&u(A),A.defaultPrevented)return;A.preventDefault();let B=A.nativeEvent.submitter,U=B?.getAttribute("formmethod")||o;w(B||A.currentTarget,{fetcherKey:t,method:U,navigate:n,replace:i,state:s,relative:c,preventScrollReset:f,viewTransition:p})};return N.createElement("form",{ref:v,method:C,action:_,onSubmit:r?u:L,...g,"data-discover":!E&&e==="render"?"true":void 0})});qk.displayName="Form";function Wk(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function F6(e){let t=N.useContext(yl);return Rt(t,Wk(e)),t}function Kk(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=sm(),u=Ns(),c=Jd(e,{relative:s});return N.useCallback(f=>{if(kk(f,t)){f.preventDefault();let p=n!==void 0?n:ea(u)===ea(c);a(e,{replace:p,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[u,a,c,n,r,t,e,i,s,o])}var Gk=0,Yk=()=>`__${String(++Gk)}__`;function Xk(){let{router:e}=F6("useSubmit"),{basename:t}=N.useContext(Ts),n=hk();return N.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:u,body:c}=Tk(r,t);if(i.navigate===!1){let f=i.fetcherKey||Yk();await e.fetch(f,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function Jk(e,{relative:t}={}){let{basename:n}=N.useContext(Ts),r=N.useContext(ls);Rt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Jd(e||".",{relative:t})},o=Ns();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),u=a.getAll("index");if(u.some(f=>f==="")){a.delete("index"),u.filter(p=>p).forEach(p=>a.append("index",p));let f=a.toString();s.search=f?`?${f}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Cs([n,s.pathname])),ea(s)}function Zk(e,{relative:t}={}){let n=N.useContext(qy);Rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=F6("useViewTransitionState"),i=Jd(e,{relative:t});if(!n.isTransitioning)return!1;let s=Ii(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ii(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ep(i.pathname,o)!=null||Ep(i.pathname,s)!=null}var B6=f6();const Ef=xi(B6);function ej(e){return N.createElement(yk,{flushSync:B6.flushSync,...e})}var Gu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ul=typeof window>"u"||"Deno"in globalThis;function Ar(){}function tj(e,t){return typeof e=="function"?e(t):e}function I1(e){return typeof e=="number"&&e>=0&&e!==1/0}function z6(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Xo(e,t){return typeof e=="function"?e(t):e}function Mi(e,t){return typeof e=="function"?e(t):e}function Vb(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==ex(o,t.options))return!1}else if(!Ld(t.queryKey,o))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||i&&i!==t.state.fetchStatus||s&&!s(t))}function qb(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(cl(t.options.mutationKey)!==cl(s))return!1}else if(!Ld(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function ex(e,t){return(t?.queryKeyHashFn||cl)(e)}function cl(e){return JSON.stringify(e,(t,n)=>D1(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Ld(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Ld(e[n],t[n])):!1}function $6(e,t){if(e===t)return e;const n=Wb(e)&&Wb(t);if(n||D1(e)&&D1(t)){const r=n?e:Object.keys(e),i=r.length,s=n?t:Object.keys(t),o=s.length,a=n?[]:{},u=new Set(r);let c=0;for(let f=0;f<o;f++){const p=n?f:s[f];(!n&&u.has(p)||n)&&e[p]===void 0&&t[p]===void 0?(a[p]=void 0,c++):(a[p]=$6(e[p],t[p]),a[p]===e[p]&&e[p]!==void 0&&c++)}return i===o&&c===i?e:a}return t}function Pp(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Wb(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function D1(e){if(!Kb(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Kb(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Kb(e){return Object.prototype.toString.call(e)==="[object Object]"}function nj(e){return new Promise(t=>{setTimeout(t,e)})}function F1(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?$6(e,t):t}function rj(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function ij(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var tx=Symbol();function U6(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===tx?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function H6(e,t){return typeof e=="function"?e(...t):!!e}var sj=class extends Gu{#t;#e;#n;constructor(){super(),this.#n=e=>{if(!ul&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},nx=new sj,oj=class extends Gu{#t=!0;#e;#n;constructor(){super(),this.#n=e=>{if(!ul&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#t}},Op=new oj;function B1(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function aj(e){return Math.min(1e3*2**e,3e4)}function Q6(e){return(e??"online")==="online"?Op.isOnline():!0}var V6=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function b0(e){return e instanceof V6}function q6(e){let t=!1,n=0,r=!1,i;const s=B1(),o=_=>{r||(g(new V6(_)),e.abort?.())},a=()=>{t=!0},u=()=>{t=!1},c=()=>nx.isFocused()&&(e.networkMode==="always"||Op.isOnline())&&e.canRun(),f=()=>Q6(e.networkMode)&&e.canRun(),p=_=>{r||(r=!0,e.onSuccess?.(_),i?.(),s.resolve(_))},g=_=>{r||(r=!0,e.onError?.(_),i?.(),s.reject(_))},v=()=>new Promise(_=>{i=C=>{(r||c())&&_(C)},e.onPause?.()}).then(()=>{i=void 0,r||e.onContinue?.()}),w=()=>{if(r)return;let _;const C=n===0?e.initialPromise:void 0;try{_=C??e.fn()}catch(E){_=Promise.reject(E)}Promise.resolve(_).then(p).catch(E=>{if(r)return;const L=e.retry??(ul?0:3),A=e.retryDelay??aj,B=typeof A=="function"?A(n,E):A,U=L===!0||typeof L=="number"&&n<L||typeof L=="function"&&L(n,E);if(t||!U){g(E);return}n++,e.onFail?.(n,E),nj(B).then(()=>c()?void 0:v()).then(()=>{t?g(E):w()})})};return{promise:s,cancel:o,continue:()=>(i?.(),s),cancelRetry:a,continueRetry:u,canStart:f,start:()=>(f()?w():v().then(w),s)}}var lj=e=>setTimeout(e,0);function uj(){let e=[],t=0,n=a=>{a()},r=a=>{a()},i=lj;const s=a=>{t?e.push(a):i(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&i(()=>{r(()=>{a.forEach(u=>{n(u)})})})};return{batch:a=>{let u;t++;try{u=a()}finally{t--,t||o()}return u},batchCalls:a=>(...u)=>{s(()=>{a(...u)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Wn=uj(),W6=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),I1(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ul?1/0:300*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},cj=class extends W6{#t;#e;#n;#r;#i;#o;#a;constructor(e){super(),this.#a=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#n=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=dj(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=F1(this.state.data,e,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#i?.promise;return this.#i?.cancel(e),t?t.then(Ar).catch(Ar):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>Mi(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===tx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Xo(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!z6(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#i&&(this.#a?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){const u=this.observers.find(c=>c.options.queryFn);u&&this.setOptions(u.options)}const n=new AbortController,r=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},i=()=>{const u=U6(this.options,t),f=(()=>{const p={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(p),p})();return this.#a=!1,this.options.persister?this.options.persister(u,f,this):u(f)},o=(()=>{const u={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:i};return r(u),u})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#s({type:"fetch",meta:o.fetchOptions?.meta});const a=u=>{b0(u)&&u.silent||this.#s({type:"error",error:u}),b0(u)||(this.#n.config.onError?.(u,this),this.#n.config.onSettled?.(this.state.data,u,this)),this.scheduleGc()};return this.#i=q6({initialPromise:t?.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:u=>{if(u===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(c){a(c);return}this.#n.config.onSuccess?.(u,this),this.#n.config.onSettled?.(u,this.state.error,this),this.scheduleGc()},onError:a,onFail:(u,c)=>{this.#s({type:"failed",failureCount:u,error:c})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#i.start()}#s(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...K6(n.data,this.options),fetchMeta:e.meta??null};case"success":return this.#e=void 0,{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return b0(r)&&r.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),Wn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function K6(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Q6(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function dj(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var hj=class extends Gu{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,n){const r=t.queryKey,i=t.queryHash??ex(r,t);let s=this.get(i);return s||(s=new cj({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(s)),s}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Wn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Vb(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>Vb(e,n)):t}notify(e){Wn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Wn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Wn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},fj=class extends W6{#t;#e;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||G6(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})};this.#n=q6({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(i,s)=>{this.#r({type:"failed",failureCount:i,error:s})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const n=this.state.status==="pending",r=!this.#n.canStart();try{if(n)t();else{this.#r({type:"pending",variables:e,isPaused:r}),await this.#e.config.onMutate?.(e,this);const s=await this.options.onMutate?.(e);s!==this.state.context&&this.#r({type:"pending",context:s,variables:e,isPaused:r})}const i=await this.#n.start();return await this.#e.config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await this.#e.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#e.config.onError?.(i,e,this.state.context,this),await this.options.onError?.(i,e,this.state.context),await this.#e.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,e,this.state.context),i}finally{this.#r({type:"error",error:i})}}finally{this.#e.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Wn.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function G6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var pj=class extends Gu{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(e,t,n){const r=new fj({mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#t.add(e);const t=Tf(e);if(typeof t=="string"){const n=this.#e.get(t);n?n.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=Tf(e);if(typeof t=="string"){const n=this.#e.get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Tf(e);if(typeof t=="string"){const r=this.#e.get(t)?.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=Tf(e);return typeof t=="string"?this.#e.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Wn.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>qb(t,n))}findAll(e={}){return this.getAll().filter(t=>qb(e,t))}notify(e){Wn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Wn.batch(()=>Promise.all(e.map(t=>t.continue().catch(Ar))))}};function Tf(e){return e.options.scope?.id}function Gb(e){return{onFetch:(t,n)=>{const r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let a={pages:[],pageParams:[]},u=0;const c=async()=>{let f=!1;const p=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?f=!0:t.signal.addEventListener("abort",()=>{f=!0}),t.signal)})},g=U6(t.options,t.fetchOptions),v=async(w,_,C)=>{if(f)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const L=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:_,direction:C?"backward":"forward",meta:t.options.meta};return p(P),P})(),A=await g(L),{maxPages:B}=t.options,U=C?ij:rj;return{pages:U(w.pages,A,B),pageParams:U(w.pageParams,_,B)}};if(i&&s.length){const w=i==="backward",_=w?mj:Yb,C={pages:s,pageParams:o},E=_(r,C);a=await v(C,E,w)}else{const w=e??s.length;do{const _=u===0?o[0]??r.initialPageParam:Yb(r,a);if(u>0&&_==null)break;a=await v(a,_),u++}while(u<w)}return a};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=c}}}function Yb(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function mj(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var gj=class{#t;#e;#n;#r;#i;#o;#a;#s;constructor(e={}){this.#t=e.queryCache||new hj,this.#e=e.mutationCache||new pj,this.#n=e.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=nx.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#s=Op.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#t.build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Xo(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=this.#t.get(r.queryHash)?.state.data,o=tj(t,s);if(o!==void 0)return this.#t.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Wn.batch(()=>this.#t.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;Wn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#t;return Wn.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Wn.batch(()=>this.#t.findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Ar).catch(Ar)}invalidateQueries(e,t={}){return Wn.batch(()=>(this.#t.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Wn.batch(()=>this.#t.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Ar)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Ar)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#t.build(this,t);return n.isStaleByTime(Xo(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ar).catch(Ar)}fetchInfiniteQuery(e){return e.behavior=Gb(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ar).catch(Ar)}ensureInfiniteQueryData(e){return e.behavior=Gb(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Op.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#r.set(cl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(r=>{Ld(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){this.#i.set(cl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()],n={};return t.forEach(r=>{Ld(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ex(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===tx&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},yj=class extends Gu{constructor(e,t){super(),this.options=t,this.#t=e,this.#s=null,this.#a=B1(),this.options.experimental_prefetchInRender||this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#n=void 0;#r=void 0;#i;#o;#a;#s;#m;#h;#f;#u;#c;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),Xb(this.#e,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return z1(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return z1(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,n=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Mi(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#e.setOptions(this.options),t._defaulted&&!Pp(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&Jb(this.#e,n,this.options,t)&&this.#d(),this.updateResult(),r&&(this.#e!==n||Mi(this.options.enabled,this.#e)!==Mi(t.enabled,this.#e)||Xo(this.options.staleTime,this.#e)!==Xo(t.staleTime,this.#e))&&this.#g();const i=this.#y();r&&(this.#e!==n||Mi(this.options.enabled,this.#e)!==Mi(t.enabled,this.#e)||i!==this.#l)&&this.#x(i)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),n=this.createResult(t,e);return vj(this,n)&&(this.#r=n,this.#o=this.options,this.#i=this.#e.state),n}getCurrentResult(){return this.#r}trackResult(e,t){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),t?.(r),Reflect.get(n,r))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),n=this.#t.getQueryCache().build(this.#t,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(e){this.#_();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Ar)),t}#g(){this.#b();const e=Xo(this.options.staleTime,this.#e);if(ul||this.#r.isStale||!I1(e))return;const n=z6(this.#r.dataUpdatedAt,e)+1;this.#u=setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#x(e){this.#w(),this.#l=e,!(ul||Mi(this.options.enabled,this.#e)===!1||!I1(this.#l)||this.#l===0)&&(this.#c=setInterval(()=>{(this.options.refetchIntervalInBackground||nx.isFocused())&&this.#d()},this.#l))}#v(){this.#g(),this.#x(this.#y())}#b(){this.#u&&(clearTimeout(this.#u),this.#u=void 0)}#w(){this.#c&&(clearInterval(this.#c),this.#c=void 0)}createResult(e,t){const n=this.#e,r=this.options,i=this.#r,s=this.#i,o=this.#o,u=e!==n?e.state:this.#n,{state:c}=e;let f={...c},p=!1,g;if(t._optimisticResults){const z=this.hasListeners(),Q=!z&&Xb(e,t),F=z&&Jb(e,n,t,r);(Q||F)&&(f={...f,...K6(c.data,e.options)}),t._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:w,status:_}=f;g=f.data;let C=!1;if(t.placeholderData!==void 0&&g===void 0&&_==="pending"){let z;i?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(z=i.data,C=!0):z=typeof t.placeholderData=="function"?t.placeholderData(this.#f?.state.data,this.#f):t.placeholderData,z!==void 0&&(_="success",g=F1(i?.data,z,t),p=!0)}if(t.select&&g!==void 0&&!C)if(i&&g===s?.data&&t.select===this.#m)g=this.#h;else try{this.#m=t.select,g=t.select(g),g=F1(i?.data,g,t),this.#h=g,this.#s=null}catch(z){this.#s=z}this.#s&&(v=this.#s,g=this.#h,w=Date.now(),_="error");const E=f.fetchStatus==="fetching",L=_==="pending",A=_==="error",B=L&&E,U=g!==void 0,D={status:_,fetchStatus:f.fetchStatus,isPending:L,isSuccess:_==="success",isError:A,isInitialLoading:B,isLoading:B,data:g,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:w,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:E,isRefetching:E&&!L,isLoadingError:A&&!U,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:A&&U,isStale:rx(e,t),refetch:this.refetch,promise:this.#a,isEnabled:Mi(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const z=oe=>{D.status==="error"?oe.reject(D.error):D.data!==void 0&&oe.resolve(D.data)},Q=()=>{const oe=this.#a=D.promise=B1();z(oe)},F=this.#a;switch(F.status){case"pending":e.queryHash===n.queryHash&&z(F);break;case"fulfilled":(D.status==="error"||D.data!==F.value)&&Q();break;case"rejected":(D.status!=="error"||D.error!==F.reason)&&Q();break}}return D}updateResult(){const e=this.#r,t=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#o=this.options,this.#i.data!==void 0&&(this.#f=this.#e),Pp(t,e))return;this.#r=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#p.size)return!0;const s=new Set(i??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#r).some(o=>{const a=o;return this.#r[a]!==e[a]&&s.has(a)})};this.#S({listeners:n()})}#_(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#S(e){Wn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#r)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function xj(e,t){return Mi(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Xb(e,t){return xj(e,t)||e.state.data!==void 0&&z1(e,t,t.refetchOnMount)}function z1(e,t,n){if(Mi(t.enabled,e)!==!1&&Xo(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&rx(e,t)}return!1}function Jb(e,t,n,r){return(e!==t||Mi(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&rx(e,n)}function rx(e,t){return Mi(t.enabled,e)!==!1&&e.isStaleByTime(Xo(t.staleTime,e))}function vj(e,t){return!Pp(e.getCurrentResult(),t)}var bj=class extends Gu{#t;#e=void 0;#n;#r;constructor(t,n){super(),this.#t=t,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#t.defaultMutationOptions(t),Pp(this.options,n)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&cl(n.mutationKey)!==cl(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#o(t)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#o()}mutate(t,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(t)}#i(){const t=this.#n?.state??G6();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#o(t){Wn.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#e.variables,r=this.#e.context;t?.type==="success"?(this.#r.onSuccess?.(t.data,n,r),this.#r.onSettled?.(t.data,null,n,r)):t?.type==="error"&&(this.#r.onError?.(t.error,n,r),this.#r.onSettled?.(void 0,t.error,n,r))}this.listeners.forEach(n=>{n(this.#e)})})}},Y6=N.createContext(void 0),vi=e=>{const t=N.useContext(Y6);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},wj=({client:e,children:t})=>(N.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),h.jsx(Y6.Provider,{value:e,children:t})),X6=N.createContext(!1),_j=()=>N.useContext(X6);X6.Provider;function Sj(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Cj=N.createContext(Sj()),kj=()=>N.useContext(Cj),jj=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Ej=e=>{N.useEffect(()=>{e.clearReset()},[e])},Tj=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||H6(n,[e.error,r])),Nj=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Pj=(e,t)=>e.isLoading&&e.isFetching&&!t,Oj=(e,t)=>e?.suspense&&t.isPending,Zb=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Lj(e,t,n){const r=_j(),i=kj(),s=vi(),o=s.defaultQueryOptions(e);s.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=r?"isRestoring":"optimistic",Nj(o),jj(o,i),Ej(i);const a=!s.getQueryCache().get(o.queryHash),[u]=N.useState(()=>new t(s,o)),c=u.getOptimisticResult(o),f=!r&&e.subscribed!==!1;if(N.useSyncExternalStore(N.useCallback(p=>{const g=f?u.subscribe(Wn.batchCalls(p)):Ar;return u.updateResult(),g},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),N.useEffect(()=>{u.setOptions(o)},[o,u]),Oj(o,c))throw Zb(o,u,i);if(Tj({result:c,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(o,c),o.experimental_prefetchInRender&&!ul&&Pj(c,r)&&(a?Zb(o,u,i):s.getQueryCache().get(o.queryHash)?.promise)?.catch(Ar).finally(()=>{u.updateResult()}),o.notifyOnChangeProps?c:u.trackResult(c)}function us(e,t){return Lj(e,yj)}function aa(e,t){const n=vi(),[r]=N.useState(()=>new bj(n,e));N.useEffect(()=>{r.setOptions(e)},[r,e]);const i=N.useSyncExternalStore(N.useCallback(o=>r.subscribe(Wn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=N.useCallback((o,a)=>{r.mutate(o,a).catch(Ar)},[r]);if(i.error&&H6(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}var w0={},_0={},S0={},ew;function Aj(){return ew||(ew=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];if(typeof window<"u"){var a;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(a=window).gtag.apply(a,s)}},n=t;e.default=n}(S0)),S0}var C0={},tw;function Mj(){return tw||(tw=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function n(a){return a.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(u,c,f){return c>0&&c+u.length!==f.length&&u.search(t)>-1&&f.charAt(c-2)!==":"&&(f.charAt(c+u.length)!=="-"||f.charAt(c-1)==="-")&&f.charAt(c-1).search(/[^\s-]/)<0?u.toLowerCase():u.substr(1).search(/[A-Z]|\../)>-1?u:u.charAt(0).toUpperCase()+u.substr(1)})}function r(a){return typeof a=="string"&&a.indexOf("@")!==-1}var i="REDACTED (Potential Email Address)";function s(a){return r(a)?(console.warn("This arg looks like an email address, redacting."),i):a}function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,f=a||"";return u&&(f=n(a)),c&&(f=s(f)),f}}(C0)),C0}var nw;function Rj(){return nw||(nw=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.GA4=void 0;var t=o(Aj()),n=o(Mj()),r=["eventCategory","eventAction","eventLabel","eventValue","hitType"],i=["title","location"],s=["page","hitType"];function o(W){return W&&W.__esModule?W:{default:W}}function a(W,V){if(W==null)return{};var J=u(W,V),te,ne;if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(W);for(ne=0;ne<me.length;ne++)te=me[ne],!(V.indexOf(te)>=0)&&Object.prototype.propertyIsEnumerable.call(W,te)&&(J[te]=W[te])}return J}function u(W,V){if(W==null)return{};var J={},te=Object.keys(W),ne,me;for(me=0;me<te.length;me++)ne=te[me],!(V.indexOf(ne)>=0)&&(J[ne]=W[ne]);return J}function c(W){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},c(W)}function f(W){return v(W)||g(W)||L(W)||p()}function p(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g(W){if(typeof Symbol<"u"&&W[Symbol.iterator]!=null||W["@@iterator"]!=null)return Array.from(W)}function v(W){if(Array.isArray(W))return A(W)}function w(W,V){var J=Object.keys(W);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(W);V&&(te=te.filter(function(ne){return Object.getOwnPropertyDescriptor(W,ne).enumerable})),J.push.apply(J,te)}return J}function _(W){for(var V=1;V<arguments.length;V++){var J=arguments[V]!=null?arguments[V]:{};V%2?w(Object(J),!0).forEach(function(te){Q(W,te,J[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(J)):w(Object(J)).forEach(function(te){Object.defineProperty(W,te,Object.getOwnPropertyDescriptor(J,te))})}return W}function C(W,V){return U(W)||B(W,V)||L(W,V)||E()}function E(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L(W,V){if(W){if(typeof W=="string")return A(W,V);var J=Object.prototype.toString.call(W).slice(8,-1);if(J==="Object"&&W.constructor&&(J=W.constructor.name),J==="Map"||J==="Set")return Array.from(W);if(J==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(J))return A(W,V)}}function A(W,V){(V==null||V>W.length)&&(V=W.length);for(var J=0,te=new Array(V);J<V;J++)te[J]=W[J];return te}function B(W,V){var J=W==null?null:typeof Symbol<"u"&&W[Symbol.iterator]||W["@@iterator"];if(J!=null){var te,ne,me,I,G=[],ye=!0,$=!1;try{if(me=(J=J.call(W)).next,V!==0)for(;!(ye=(te=me.call(J)).done)&&(G.push(te.value),G.length!==V);ye=!0);}catch(De){$=!0,ne=De}finally{try{if(!ye&&J.return!=null&&(I=J.return(),Object(I)!==I))return}finally{if($)throw ne}}return G}}function U(W){if(Array.isArray(W))return W}function P(W,V){if(!(W instanceof V))throw new TypeError("Cannot call a class as a function")}function D(W,V){for(var J=0;J<V.length;J++){var te=V[J];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(W,F(te.key),te)}}function z(W,V,J){return V&&D(W.prototype,V),Object.defineProperty(W,"prototype",{writable:!1}),W}function Q(W,V,J){return V=F(V),V in W?Object.defineProperty(W,V,{value:J,enumerable:!0,configurable:!0,writable:!0}):W[V]=J,W}function F(W){var V=oe(W,"string");return c(V)==="symbol"?V:String(V)}function oe(W,V){if(c(W)!=="object"||W===null)return W;var J=W[Symbol.toPrimitive];if(J!==void 0){var te=J.call(W,V);if(c(te)!=="object")return te;throw new TypeError("@@toPrimitive must return a primitive value.")}return(V==="string"?String:Number)(W)}var le=function(){function W(){var V=this;P(this,W),Q(this,"reset",function(){V.isInitialized=!1,V._testMode=!1,V._currentMeasurementId,V._hasLoadedGA=!1,V._isQueuing=!1,V._queueGtag=[]}),Q(this,"_gtag",function(){for(var J=arguments.length,te=new Array(J),ne=0;ne<J;ne++)te[ne]=arguments[ne];V._testMode||V._isQueuing?V._queueGtag.push(te):t.default.apply(void 0,te)}),Q(this,"_loadGA",function(J,te){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!V._hasLoadedGA){var me=document.createElement("script");me.async=!0,me.src="".concat(ne,"?id=").concat(J),te&&me.setAttribute("nonce",te),document.body.appendChild(me),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},V._hasLoadedGA=!0}}),Q(this,"_toGtagOptions",function(J){if(J){var te={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},ne=Object.entries(J).reduce(function(me,I){var G=C(I,2),ye=G[0],$=G[1];return te[ye]?me[te[ye]]=$:me[ye]=$,me},{});return ne}}),Q(this,"initialize",function(J){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!J)throw new Error("Require GA_MEASUREMENT_ID");var ne=typeof J=="string"?[{trackingId:J}]:J;V._currentMeasurementId=ne[0].trackingId;var me=te.gaOptions,I=te.gtagOptions,G=te.nonce,ye=te.testMode,$=ye===void 0?!1:ye,De=te.gtagUrl;if(V._testMode=$,$||V._loadGA(V._currentMeasurementId,G,De),V.isInitialized||(V._gtag("js",new Date),ne.forEach(function(Ye){var Ke=_(_(_({},V._toGtagOptions(_(_({},me),Ye.gaOptions))),I),Ye.gtagOptions);Object.keys(Ke).length?V._gtag("config",Ye.trackingId,Ke):V._gtag("config",Ye.trackingId)})),V.isInitialized=!0,!$){var je=f(V._queueGtag);for(V._queueGtag=[],V._isQueuing=!1;je.length;){var Ee=je.shift();V._gtag.apply(V,f(Ee)),Ee[0]==="get"&&(V._isQueuing=!0)}}}),Q(this,"set",function(J){if(!J){console.warn("`fieldsObject` is required in .set()");return}if(c(J)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(J).length===0&&console.warn("empty `fieldsObject` given to .set()"),V._gaCommand("set",J)}),Q(this,"_gaCommandSendEvent",function(J,te,ne,me,I){V._gtag("event",te,_(_({event_category:J,event_label:ne,value:me},I&&{non_interaction:I.nonInteraction}),V._toGtagOptions(I)))}),Q(this,"_gaCommandSendEventParameters",function(){for(var J=arguments.length,te=new Array(J),ne=0;ne<J;ne++)te[ne]=arguments[ne];if(typeof te[0]=="string")V._gaCommandSendEvent.apply(V,f(te.slice(1)));else{var me=te[0],I=me.eventCategory,G=me.eventAction,ye=me.eventLabel,$=me.eventValue;me.hitType;var De=a(me,r);V._gaCommandSendEvent(I,G,ye,$,De)}}),Q(this,"_gaCommandSendTiming",function(J,te,ne,me){V._gtag("event","timing_complete",{name:te,value:ne,event_category:J,event_label:me})}),Q(this,"_gaCommandSendPageview",function(J,te){if(te&&Object.keys(te).length){var ne=V._toGtagOptions(te),me=ne.title,I=ne.location,G=a(ne,i);V._gtag("event","page_view",_(_(_(_({},J&&{page_path:J}),me&&{page_title:me}),I&&{page_location:I}),G))}else J?V._gtag("event","page_view",{page_path:J}):V._gtag("event","page_view")}),Q(this,"_gaCommandSendPageviewParameters",function(){for(var J=arguments.length,te=new Array(J),ne=0;ne<J;ne++)te[ne]=arguments[ne];if(typeof te[0]=="string")V._gaCommandSendPageview.apply(V,f(te.slice(1)));else{var me=te[0],I=me.page;me.hitType;var G=a(me,s);V._gaCommandSendPageview(I,G)}}),Q(this,"_gaCommandSend",function(){for(var J=arguments.length,te=new Array(J),ne=0;ne<J;ne++)te[ne]=arguments[ne];var me=typeof te[0]=="string"?te[0]:te[0].hitType;switch(me){case"event":V._gaCommandSendEventParameters.apply(V,te);break;case"pageview":V._gaCommandSendPageviewParameters.apply(V,te);break;case"timing":V._gaCommandSendTiming.apply(V,f(te.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(me));break;default:console.warn("Send command doesn't exist: ".concat(me))}}),Q(this,"_gaCommandSet",function(){for(var J=arguments.length,te=new Array(J),ne=0;ne<J;ne++)te[ne]=arguments[ne];typeof te[0]=="string"&&(te[0]=Q({},te[0],te[1])),V._gtag("set",V._toGtagOptions(te[0]))}),Q(this,"_gaCommand",function(J){for(var te=arguments.length,ne=new Array(te>1?te-1:0),me=1;me<te;me++)ne[me-1]=arguments[me];switch(J){case"send":V._gaCommandSend.apply(V,ne);break;case"set":V._gaCommandSet.apply(V,ne);break;default:console.warn("Command doesn't exist: ".concat(J))}}),Q(this,"ga",function(){for(var J=arguments.length,te=new Array(J),ne=0;ne<J;ne++)te[ne]=arguments[ne];if(typeof te[0]=="string")V._gaCommand.apply(V,te);else{var me=te[0];V._gtag("get",V._currentMeasurementId,"client_id",function(I){V._isQueuing=!1;var G=V._queueGtag;for(me({get:function(De){return De==="clientId"?I:De==="trackingId"?V._currentMeasurementId:De==="apiVersion"?"1":void 0}});G.length;){var ye=G.shift();V._gtag.apply(V,f(ye))}}),V._isQueuing=!0}return V.ga}),Q(this,"event",function(J,te){if(typeof J=="string")V._gtag("event",J,V._toGtagOptions(te));else{var ne=J.action,me=J.category,I=J.label,G=J.value,ye=J.nonInteraction,$=J.transport;if(!me||!ne){console.warn("args.category AND args.action are required in event()");return}var De={hitType:"event",eventCategory:(0,n.default)(me),eventAction:(0,n.default)(ne)};I&&(De.eventLabel=(0,n.default)(I)),typeof G<"u"&&(typeof G!="number"?console.warn("Expected `args.value` arg to be a Number."):De.eventValue=G),typeof ye<"u"&&(typeof ye!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):De.nonInteraction=ye),typeof $<"u"&&(typeof $!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf($)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),De.transport=$)),V._gaCommand("send",De)}}),Q(this,"send",function(J){V._gaCommand("send",J)}),this.reset()}return z(W,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),W}();e.GA4=le;var ue=new le;e.default=ue}(_0)),_0}var rw;function Ij(){return rw||(rw=1,function(e){function t(a){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},t(a)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ReactGAImplementation=void 0;var n=i(Rj());function r(a){if(typeof WeakMap!="function")return null;var u=new WeakMap,c=new WeakMap;return(r=function(p){return p?c:u})(a)}function i(a,u){if(a&&a.__esModule)return a;if(a===null||t(a)!=="object"&&typeof a!="function")return{default:a};var c=r(u);if(c&&c.has(a))return c.get(a);var f={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if(g!=="default"&&Object.prototype.hasOwnProperty.call(a,g)){var v=p?Object.getOwnPropertyDescriptor(a,g):null;v&&(v.get||v.set)?Object.defineProperty(f,g,v):f[g]=a[g]}return f.default=a,c&&c.set(a,f),f}var s=n.GA4;e.ReactGAImplementation=s;var o=n.default;e.default=o}(w0)),w0}Ij();const xd="8.55.0",lo=globalThis;function ix(e,t,n){const r=n||lo,i=r.__SENTRY__=r.__SENTRY__||{},s=i[xd]=i[xd]||{};return s[e]||(s[e]=t())}const J6=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Dj="Sentry Logger ",iw=["debug","info","warn","error","log","assert","trace"],sw={};function Fj(e){if(!("console"in lo))return e();const t=lo.console,n={},r=Object.keys(sw);r.forEach(i=>{const s=sw[i];n[i]=t[i],t[i]=s});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function Bj(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return J6?iw.forEach(n=>{t[n]=(...r)=>{e&&Fj(()=>{lo.console[n](`${Dj}[${n}]:`,...r)})}}):iw.forEach(n=>{t[n]=()=>{}}),t}const vp=ix("logger",Bj);function Z6(){return sx(lo),lo}function sx(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||xd,t[xd]=t[xd]||{}}const zj=Object.prototype.toString;function $j(e,t){return zj.call(e)===`[object ${t}]`}function Uj(e){return $j(e,"Object")}function Hj(e){return!!(e&&e.then&&typeof e.then=="function")}function Qj(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{J6&&vp.log(`Failed to add non-enumerable property "${t}" to object`,e)}}const e_=1e3;function t_(){return Date.now()/e_}function Vj(){const{performance:e}=lo;if(!e||!e.now)return t_;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/e_}const qj=Vj();(()=>{const{performance:e}=lo;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=i<t,o=e.timing&&e.timing.navigationStart,u=typeof o=="number"?Math.abs(o+n-r):t,c=u<t;return s||c?i<=u?e.timeOrigin:o:r})();function Iu(){const e=lo,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function Wj(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||qj(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Iu()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function ow(){return Iu()}function aw(){return Iu().substring(16)}function n_(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const r={...e};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=n_(r[i],t[i],n-1));return r}const $1="_sentrySpan";function lw(e,t){t?Qj(e,$1,t):delete e[$1]}function uw(e){return e[$1]}const Kj=100;class ox{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:ow(),spanId:aw()}}clone(){const t=new ox;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,lw(t,uw(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Wj(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,i]=n instanceof zu?[n.getScopeData(),n.getRequestSession()]:Uj(n)?[t,t.requestSession]:[],{tags:s,extra:o,user:a,contexts:u,level:c,fingerprint:f=[],propagationContext:p}=r||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...o},this._contexts={...this._contexts,...u},a&&Object.keys(a).length&&(this._user=a),c&&(this._level=c),f.length&&(this._fingerprint=f),p&&(this._propagationContext=p),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,lw(this,void 0),this._attachments=[],this.setPropagationContext({traceId:ow()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:Kj;if(r<=0)return this;const i={timestamp:t_(),...t};return this._breadcrumbs.push(i),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:uw(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=n_(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:aw(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:Iu();if(!this._client)return vp.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r&&r.event_id?r.event_id:Iu();if(!this._client)return vp.warn("No client configured on scope - will not capture message!"),i;const s=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i},this),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:Iu();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(vp.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const zu=ox;function Gj(){return ix("defaultCurrentScope",()=>new zu)}function Yj(){return ix("defaultIsolationScope",()=>new zu)}class Xj{constructor(t,n){let r;t?r=t:r=new zu;let i;n?i=n:i=new zu,this._stack=[{scope:r}],this._isolationScope=i}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(i){throw this._popScope(),i}return Hj(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function $u(){const e=Z6(),t=sx(e);return t.stack=t.stack||new Xj(Gj(),Yj())}function Jj(e){return $u().withScope(e)}function Zj(e,t){const n=$u();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function cw(e){return $u().withScope(()=>e($u().getIsolationScope()))}function eE(){return{withIsolationScope:cw,withScope:Jj,withSetScope:Zj,withSetIsolationScope:(e,t)=>cw(t),getCurrentScope:()=>$u().getScope(),getIsolationScope:()=>$u().getIsolationScope()}}function tE(e){const t=sx(e);return t.acs?t.acs:eE()}function nE(){const e=Z6();return tE(e).getCurrentScope()}function rE(e){if(e)return iE(e)?{captureContext:e}:oE(e)?{captureContext:e}:e}function iE(e){return e instanceof zu||typeof e=="function"}const sE=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function oE(e){return Object.keys(e).some(t=>sE.includes(t))}function aE(e,t){return nE().captureException(e,rE(t))}var k0={exports:{}},j0,dw;function lE(){if(dw)return j0;dw=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return j0=e,j0}var E0,hw;function uE(){if(hw)return E0;hw=1;var e=lE();function t(){}function n(){}return n.resetWarningCache=t,E0=function(){function r(o,a,u,c,f,p){if(p!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},E0}var fw;function cE(){return fw||(fw=1,k0.exports=uE()()),k0.exports}var dE=cE();const Et=xi(dE);var T0,pw;function hE(){if(pw)return T0;pw=1;function e(a){return a&&typeof a=="object"&&"default"in a?a.default:a}var t=rm(),n=e(t);function r(a,u,c){return u in a?Object.defineProperty(a,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[u]=c,a}function i(a,u){a.prototype=Object.create(u.prototype),a.prototype.constructor=a,a.__proto__=u}var s=!!(typeof window<"u"&&window.document&&window.document.createElement);function o(a,u,c){if(typeof a!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof u!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof c<"u"&&typeof c!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function f(p){return p.displayName||p.name||"Component"}return function(g){if(typeof g!="function")throw new Error("Expected WrappedComponent to be a React component.");var v=[],w;function _(){w=a(v.map(function(E){return E.props})),C.canUseDOM?u(w):c&&(w=c(w))}var C=function(E){i(L,E);function L(){return E.apply(this,arguments)||this}L.peek=function(){return w},L.rewind=function(){if(L.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var U=w;return w=void 0,v=[],U};var A=L.prototype;return A.UNSAFE_componentWillMount=function(){v.push(this),_()},A.componentDidUpdate=function(){_()},A.componentWillUnmount=function(){var U=v.indexOf(this);v.splice(U,1),_()},A.render=function(){return n.createElement(g,this.props)},L}(t.PureComponent);return r(C,"displayName","SideEffect("+f(g)+")"),r(C,"canUseDOM",s),C}}return T0=o,T0}var fE=hE();const pE=xi(fE);var N0,mw;function mE(){if(mw)return N0;mw=1;var e=typeof Element<"u",t=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(s,o){if(s===o)return!0;if(s&&o&&typeof s=="object"&&typeof o=="object"){if(s.constructor!==o.constructor)return!1;var a,u,c;if(Array.isArray(s)){if(a=s.length,a!=o.length)return!1;for(u=a;u--!==0;)if(!i(s[u],o[u]))return!1;return!0}var f;if(t&&s instanceof Map&&o instanceof Map){if(s.size!==o.size)return!1;for(f=s.entries();!(u=f.next()).done;)if(!o.has(u.value[0]))return!1;for(f=s.entries();!(u=f.next()).done;)if(!i(u.value[1],o.get(u.value[0])))return!1;return!0}if(n&&s instanceof Set&&o instanceof Set){if(s.size!==o.size)return!1;for(f=s.entries();!(u=f.next()).done;)if(!o.has(u.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(o)){if(a=s.length,a!=o.length)return!1;for(u=a;u--!==0;)if(s[u]!==o[u])return!1;return!0}if(s.constructor===RegExp)return s.source===o.source&&s.flags===o.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof o.valueOf=="function")return s.valueOf()===o.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof o.toString=="function")return s.toString()===o.toString();if(c=Object.keys(s),a=c.length,a!==Object.keys(o).length)return!1;for(u=a;u--!==0;)if(!Object.prototype.hasOwnProperty.call(o,c[u]))return!1;if(e&&s instanceof Element)return!1;for(u=a;u--!==0;)if(!((c[u]==="_owner"||c[u]==="__v"||c[u]==="__o")&&s.$$typeof)&&!i(s[c[u]],o[c[u]]))return!1;return!0}return s!==s&&o!==o}return N0=function(o,a){try{return i(o,a)}catch(u){if((u.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw u}},N0}var gE=mE();const yE=xi(gE);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var P0,gw;function xE(){if(gw)return P0;gw=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function i(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var o={},a=0;a<10;a++)o["_"+String.fromCharCode(a)]=a;var u=Object.getOwnPropertyNames(o).map(function(f){return o[f]});if(u.join("")!=="0123456789")return!1;var c={};return"abcdefghijklmnopqrst".split("").forEach(function(f){c[f]=f}),Object.keys(Object.assign({},c)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return P0=i()?Object.assign:function(s,o){for(var a,u=r(s),c,f=1;f<arguments.length;f++){a=Object(arguments[f]);for(var p in a)t.call(a,p)&&(u[p]=a[p]);if(e){c=e(a);for(var g=0;g<c.length;g++)n.call(a,c[g])&&(u[c[g]]=a[c[g]])}}return u},P0}var vE=xE();const bE=xi(vE);var sl={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},wt={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(wt).map(function(e){return wt[e]});var vn={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Lp={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Ad={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},wE=Object.keys(Lp).reduce(function(e,t){return e[Lp[t]]=t,e},{}),_E=[wt.NOSCRIPT,wt.SCRIPT,wt.STYLE],is="data-react-helmet",SE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CE=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},kE=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Yr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jE=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},yw=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},EE=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},U1=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},TE=function(t){var n=Du(t,wt.TITLE),r=Du(t,Ad.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=Du(t,Ad.DEFAULT_TITLE);return n||i||void 0},NE=function(t){return Du(t,Ad.ON_CHANGE_CLIENT_STATE)||function(){}},O0=function(t,n){return n.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,i){return Yr({},r,i)},{})},PE=function(t,n){return n.filter(function(r){return typeof r[wt.BASE]<"u"}).map(function(r){return r[wt.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),o=0;o<s.length;o++){var a=s[o],u=a.toLowerCase();if(t.indexOf(u)!==-1&&i[u])return r.concat(i)}return r},[])},qc=function(t,n,r){var i={};return r.filter(function(s){return Array.isArray(s[t])?!0:(typeof s[t]<"u"&&ME("Helmet: "+t+' should be of type "Array". Instead found type "'+SE(s[t])+'"'),!1)}).map(function(s){return s[t]}).reverse().reduce(function(s,o){var a={};o.filter(function(g){for(var v=void 0,w=Object.keys(g),_=0;_<w.length;_++){var C=w[_],E=C.toLowerCase();n.indexOf(E)!==-1&&!(v===vn.REL&&g[v].toLowerCase()==="canonical")&&!(E===vn.REL&&g[E].toLowerCase()==="stylesheet")&&(v=E),n.indexOf(C)!==-1&&(C===vn.INNER_HTML||C===vn.CSS_TEXT||C===vn.ITEM_PROP)&&(v=C)}if(!v||!g[v])return!1;var L=g[v].toLowerCase();return i[v]||(i[v]={}),a[v]||(a[v]={}),i[v][L]?!1:(a[v][L]=!0,!0)}).reverse().forEach(function(g){return s.push(g)});for(var u=Object.keys(a),c=0;c<u.length;c++){var f=u[c],p=bE({},i[f],a[f]);i[f]=p}return s},[]).reverse()},Du=function(t,n){for(var r=t.length-1;r>=0;r--){var i=t[r];if(i.hasOwnProperty(n))return i[n]}return null},OE=function(t){return{baseTag:PE([vn.HREF,vn.TARGET],t),bodyAttributes:O0(sl.BODY,t),defer:Du(t,Ad.DEFER),encode:Du(t,Ad.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:O0(sl.HTML,t),linkTags:qc(wt.LINK,[vn.REL,vn.HREF],t),metaTags:qc(wt.META,[vn.NAME,vn.CHARSET,vn.HTTPEQUIV,vn.PROPERTY,vn.ITEM_PROP],t),noscriptTags:qc(wt.NOSCRIPT,[vn.INNER_HTML],t),onChangeClientState:NE(t),scriptTags:qc(wt.SCRIPT,[vn.SRC,vn.INNER_HTML],t),styleTags:qc(wt.STYLE,[vn.CSS_TEXT],t),title:TE(t),titleAttributes:O0(sl.TITLE,t)}},H1=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){H1(t)},0)}}(),xw=function(t){return clearTimeout(t)},LE=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||H1:global.requestAnimationFrame||H1,AE=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||xw:global.cancelAnimationFrame||xw,ME=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},Wc=null,RE=function(t){Wc&&AE(Wc),t.defer?Wc=LE(function(){vw(t,function(){Wc=null})}):(vw(t),Wc=null)},vw=function(t,n){var r=t.baseTag,i=t.bodyAttributes,s=t.htmlAttributes,o=t.linkTags,a=t.metaTags,u=t.noscriptTags,c=t.onChangeClientState,f=t.scriptTags,p=t.styleTags,g=t.title,v=t.titleAttributes;Q1(wt.BODY,i),Q1(wt.HTML,s),IE(g,v);var w={baseTag:au(wt.BASE,r),linkTags:au(wt.LINK,o),metaTags:au(wt.META,a),noscriptTags:au(wt.NOSCRIPT,u),scriptTags:au(wt.SCRIPT,f),styleTags:au(wt.STYLE,p)},_={},C={};Object.keys(w).forEach(function(E){var L=w[E],A=L.newTags,B=L.oldTags;A.length&&(_[E]=A),B.length&&(C[E]=w[E].oldTags)}),n&&n(),c(t,_,C)},r_=function(t){return Array.isArray(t)?t.join(""):t},IE=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=r_(t)),Q1(wt.TITLE,n)},Q1=function(t,n){var r=document.getElementsByTagName(t)[0];if(r){for(var i=r.getAttribute(is),s=i?i.split(","):[],o=[].concat(s),a=Object.keys(n),u=0;u<a.length;u++){var c=a[u],f=n[c]||"";r.getAttribute(c)!==f&&r.setAttribute(c,f),s.indexOf(c)===-1&&s.push(c);var p=o.indexOf(c);p!==-1&&o.splice(p,1)}for(var g=o.length-1;g>=0;g--)r.removeAttribute(o[g]);s.length===o.length?r.removeAttribute(is):r.getAttribute(is)!==a.join(",")&&r.setAttribute(is,a.join(","))}},au=function(t,n){var r=document.head||document.querySelector(wt.HEAD),i=r.querySelectorAll(t+"["+is+"]"),s=Array.prototype.slice.call(i),o=[],a=void 0;return n&&n.length&&n.forEach(function(u){var c=document.createElement(t);for(var f in u)if(u.hasOwnProperty(f))if(f===vn.INNER_HTML)c.innerHTML=u.innerHTML;else if(f===vn.CSS_TEXT)c.styleSheet?c.styleSheet.cssText=u.cssText:c.appendChild(document.createTextNode(u.cssText));else{var p=typeof u[f]>"u"?"":u[f];c.setAttribute(f,p)}c.setAttribute(is,"true"),s.some(function(g,v){return a=v,c.isEqualNode(g)})?s.splice(a,1):o.push(c)}),s.forEach(function(u){return u.parentNode.removeChild(u)}),o.forEach(function(u){return r.appendChild(u)}),{oldTags:s,newTags:o}},i_=function(t){return Object.keys(t).reduce(function(n,r){var i=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return n?n+" "+i:i},"")},DE=function(t,n,r,i){var s=i_(r),o=r_(n);return s?"<"+t+" "+is+'="true" '+s+">"+U1(o,i)+"</"+t+">":"<"+t+" "+is+'="true">'+U1(o,i)+"</"+t+">"},FE=function(t,n,r){return n.reduce(function(i,s){var o=Object.keys(s).filter(function(c){return!(c===vn.INNER_HTML||c===vn.CSS_TEXT)}).reduce(function(c,f){var p=typeof s[f]>"u"?f:f+'="'+U1(s[f],r)+'"';return c?c+" "+p:p},""),a=s.innerHTML||s.cssText||"",u=_E.indexOf(t)===-1;return i+"<"+t+" "+is+'="true" '+o+(u?"/>":">"+a+"</"+t+">")},"")},s_=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[Lp[i]||i]=t[i],r},n)},BE=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[wE[i]||i]=t[i],r},n)},zE=function(t,n,r){var i,s=(i={key:n},i[is]=!0,i),o=s_(r,s);return[en.createElement(wt.TITLE,o,n)]},$E=function(t,n){return n.map(function(r,i){var s,o=(s={key:i},s[is]=!0,s);return Object.keys(r).forEach(function(a){var u=Lp[a]||a;if(u===vn.INNER_HTML||u===vn.CSS_TEXT){var c=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:c}}else o[u]=r[a]}),en.createElement(t,o)})},Ys=function(t,n,r){switch(t){case wt.TITLE:return{toComponent:function(){return zE(t,n.title,n.titleAttributes)},toString:function(){return DE(t,n.title,n.titleAttributes,r)}};case sl.BODY:case sl.HTML:return{toComponent:function(){return s_(n)},toString:function(){return i_(n)}};default:return{toComponent:function(){return $E(t,n)},toString:function(){return FE(t,n,r)}}}},o_=function(t){var n=t.baseTag,r=t.bodyAttributes,i=t.encode,s=t.htmlAttributes,o=t.linkTags,a=t.metaTags,u=t.noscriptTags,c=t.scriptTags,f=t.styleTags,p=t.title,g=p===void 0?"":p,v=t.titleAttributes;return{base:Ys(wt.BASE,n,i),bodyAttributes:Ys(sl.BODY,r,i),htmlAttributes:Ys(sl.HTML,s,i),link:Ys(wt.LINK,o,i),meta:Ys(wt.META,a,i),noscript:Ys(wt.NOSCRIPT,u,i),script:Ys(wt.SCRIPT,c,i),style:Ys(wt.STYLE,f,i),title:Ys(wt.TITLE,{title:g,titleAttributes:v},i)}},UE=function(t){var n,r;return r=n=function(i){jE(s,i);function s(){return CE(this,s),EE(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(a){return!yE(this.props,a)},s.prototype.mapNestedChildrenToProps=function(a,u){if(!u)return null;switch(a.type){case wt.SCRIPT:case wt.NOSCRIPT:return{innerHTML:u};case wt.STYLE:return{cssText:u}}throw new Error("<"+a.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(a){var u,c=a.child,f=a.arrayTypeChildren,p=a.newChildProps,g=a.nestedChildren;return Yr({},f,(u={},u[c.type]=[].concat(f[c.type]||[],[Yr({},p,this.mapNestedChildrenToProps(c,g))]),u))},s.prototype.mapObjectTypeChildren=function(a){var u,c,f=a.child,p=a.newProps,g=a.newChildProps,v=a.nestedChildren;switch(f.type){case wt.TITLE:return Yr({},p,(u={},u[f.type]=v,u.titleAttributes=Yr({},g),u));case wt.BODY:return Yr({},p,{bodyAttributes:Yr({},g)});case wt.HTML:return Yr({},p,{htmlAttributes:Yr({},g)})}return Yr({},p,(c={},c[f.type]=Yr({},g),c))},s.prototype.mapArrayTypeChildrenToProps=function(a,u){var c=Yr({},u);return Object.keys(a).forEach(function(f){var p;c=Yr({},c,(p={},p[f]=a[f],p))}),c},s.prototype.warnOnInvalidChildren=function(a,u){return!0},s.prototype.mapChildrenToProps=function(a,u){var c=this,f={};return en.Children.forEach(a,function(p){if(!(!p||!p.props)){var g=p.props,v=g.children,w=yw(g,["children"]),_=BE(w);switch(c.warnOnInvalidChildren(p,v),p.type){case wt.LINK:case wt.META:case wt.NOSCRIPT:case wt.SCRIPT:case wt.STYLE:f=c.flattenArrayTypeChildren({child:p,arrayTypeChildren:f,newChildProps:_,nestedChildren:v});break;default:u=c.mapObjectTypeChildren({child:p,newProps:u,newChildProps:_,nestedChildren:v});break}}}),u=this.mapArrayTypeChildrenToProps(f,u),u},s.prototype.render=function(){var a=this.props,u=a.children,c=yw(a,["children"]),f=Yr({},c);return u&&(f=this.mapChildrenToProps(u,f)),en.createElement(t,f)},kE(s,null,[{key:"canUseDOM",set:function(a){t.canUseDOM=a}}]),s}(en.Component),n.propTypes={base:Et.object,bodyAttributes:Et.object,children:Et.oneOfType([Et.arrayOf(Et.node),Et.node]),defaultTitle:Et.string,defer:Et.bool,encodeSpecialCharacters:Et.bool,htmlAttributes:Et.object,link:Et.arrayOf(Et.object),meta:Et.arrayOf(Et.object),noscript:Et.arrayOf(Et.object),onChangeClientState:Et.func,script:Et.arrayOf(Et.object),style:Et.arrayOf(Et.object),title:Et.string,titleAttributes:Et.object,titleTemplate:Et.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var i=t.rewind();return i||(i=o_({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},HE=function(){return null},QE=pE(OE,RE,o_)(HE),Gn=UE(QE);Gn.renderStatic=Gn.rewind;const a_=e=>N.createElement("svg",{width:240,height:240,viewBox:"0 0 240 240",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M35.0767 27.9936C36.2709 9.99373 56.1517 -0.303892 71.5425 9.10587L213.791 96.0756C231.278 106.768 228.18 133.047 208.685 139.378L169.934 151.963L186.77 185.839C193.06 198.497 187.616 213.848 174.755 219.712L148.361 231.747C136.289 237.252 122.02 232.368 115.853 220.621L96.5356 183.827L61.2319 205.402C44.6261 215.55 23.4817 202.753 24.77 183.334L35.0767 27.9936Z",fill:"#047CFE"}),N.createElement("ellipse",{cx:81.7143,cy:99.4285,rx:9.71429,ry:13.7143,fill:"white"}),N.createElement("path",{d:"M144 99.4285C144 107.003 139.651 113.143 134.286 113.143C128.921 113.143 124.571 107.003 124.571 99.4285C124.571 91.8543 128.921 85.7142 134.286 85.7142C139.651 85.7142 144 91.8543 144 99.4285Z",fill:"white"}),N.createElement("path",{d:"M86.7687 125.246C88.6759 123.021 92.0636 122.863 94.1695 124.901L99.9237 130.47C104.528 134.926 111.74 135.226 116.699 131.169L123.261 125.8C125.281 124.147 128.239 124.354 130.009 126.272V126.272C131.991 128.419 131.682 131.81 129.344 133.563L122.999 138.322C122.524 138.678 122.024 138.999 121.502 139.281L118.258 141.039C112.227 144.305 104.944 144.254 98.9601 140.903L95.3516 138.883C94.6427 138.486 93.973 138.022 93.3515 137.499L87.3544 132.449C85.1919 130.628 84.9288 127.393 86.7687 125.246V125.246Z",fill:"white"})),VE=e=>N.createElement("svg",{id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"100%",viewBox:"740 350 700 190",enableBackground:"new 0 0 1506 862",xmlSpace:"preserve",...e},N.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M766.615112,463.466736 C775.870483,435.054810 785.533081,407.176788 793.924072,378.921143 C799.456543,360.291321 821.375366,357.141083 832.881592,364.663513 C838.142395,368.102875 840.908264,372.891174 842.764648,378.570496 C853.528076,411.499817 864.314026,444.421814 875.109436,477.340668 C878.939270,489.019165 882.817444,500.681793 886.885071,512.991760 C873.401611,512.991760 860.604980,513.082825 847.814941,512.834106 C846.683838,512.812195 845.029419,510.751434 844.583618,509.333893 C842.385803,502.345581 840.389465,495.286346 838.588135,488.184601 C837.875916,485.376556 836.496521,484.498810 833.699890,484.534851 C823.536499,484.665802 813.369263,484.669006 803.205994,484.533264 C800.346008,484.495056 799.085388,485.557281 798.384705,488.289246 C796.564392,495.386353 794.554382,502.439484 792.396301,509.441223 C791.983948,510.779236 790.565674,512.800781 789.581299,512.818420 C776.821838,513.046875 764.056885,512.969788 750.549133,512.969788 C756.023682,496.088989 761.252869,479.964600 766.615112,463.466736 M816.931274,421.410614 C814.112549,431.575104 811.293823,441.739594 808.392944,452.200287 C815.599854,452.200287 821.902649,452.200287 828.658752,452.200287 C825.389221,440.483582 822.289490,429.375366 818.869080,417.118134 C817.911804,419.080017 817.519409,419.884216 816.931274,421.410614 z"}),N.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M897.499634,440.999878 C897.503479,420.519745 897.488831,400.539612 897.519775,380.559540 C897.531799,372.795044 900.376282,366.496521 907.660461,363.030640 C915.127136,359.477966 922.528442,359.846069 929.464539,364.563080 C935.259399,368.503876 937.055176,374.335907 937.048035,381.039062 C937.015198,411.841675 937.034424,442.644379 937.040466,473.447052 C937.041748,480.073792 937.052368,480.081238 943.492004,480.087067 C954.814026,480.097321 966.136658,480.028900 977.457947,480.122711 C987.208801,480.203491 993.256531,486.339630 993.423340,496.088531 C993.591736,505.931396 987.323730,512.874146 977.673828,512.951233 C959.526672,513.096191 941.377319,512.994263 923.229065,512.925903 C921.079651,512.917786 918.917908,512.564026 916.785522,512.222961 C904.801392,510.306244 898.913025,504.603821 898.202148,492.417206 C897.427734,479.139282 897.678284,465.801117 897.506409,452.488892 C897.459106,448.826477 897.499329,445.162903 897.499634,440.999878 z"}),N.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1040.002319,513.009888 C1032.386597,512.472046 1025.194824,512.401672 1018.174561,511.268555 C1010.726318,510.066406 1006.177002,504.925751 1004.404785,497.720428 C1003.459595,493.877228 1002.968811,489.824890 1002.956421,485.864838 C1002.846130,450.709564 1002.826050,415.553650 1002.916931,380.398285 C1002.954224,365.950378 1016.559753,356.896027 1030.130249,362.060669 C1038.365479,365.194824 1042.187012,370.979767 1042.201660,380.770782 C1042.247070,411.094543 1042.204346,441.418396 1042.235718,471.742188 C1042.245239,480.981537 1041.247803,480.051331 1050.482178,480.082153 C1061.312012,480.118286 1072.142578,480.025299 1082.971680,480.121033 C1092.570557,480.205902 1098.845581,486.620514 1098.907471,496.184052 C1098.970459,505.922485 1092.541992,512.866394 1082.988037,512.962402 C1068.827148,513.104797 1054.663940,513.006042 1040.002319,513.009888 z"}),N.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1105.599854,424.091034 C1105.678223,419.273590 1105.675537,414.939514 1105.848022,410.612366 C1106.679688,389.750092 1118.775146,372.818024 1138.406616,365.732941 C1156.549072,359.185303 1175.012329,358.583527 1193.188843,365.323273 C1198.110229,367.148071 1202.772949,370.721100 1206.466431,374.543121 C1211.164673,379.404846 1211.106934,386.678192 1207.716797,392.221375 C1204.392090,397.657684 1197.251099,400.903137 1190.883667,399.580627 C1188.301636,399.044403 1185.815430,397.977692 1183.339355,397.013916 C1175.530396,393.974335 1167.541260,392.816956 1159.379639,395.154175 C1150.777954,397.617371 1145.223511,403.980804 1145.017212,412.911163 C1144.628296,429.729340 1144.585449,446.570526 1145.007446,463.386902 C1145.269531,473.829987 1153.125732,481.281250 1163.625244,482.137146 C1171.722046,482.797241 1179.477173,481.553802 1186.986572,478.140991 C1190.366577,476.604889 1194.360962,475.323792 1197.962524,475.572998 C1209.802612,476.392456 1216.308594,490.454346 1208.927490,499.752319 C1205.559448,503.994965 1200.648315,507.757538 1195.646484,509.828613 C1174.556763,518.560974 1153.221802,518.122009 1132.727783,508.061493 C1115.403931,499.557190 1106.508057,484.852997 1105.894775,465.561035 C1105.460938,451.910522 1105.674927,438.239471 1105.599854,424.091034 z"}),N.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1320.434326,500.172791 C1317.639038,509.503052 1313.229980,512.955139 1304.061890,512.987305 C1286.908081,513.047424 1269.753784,513.003906 1252.599731,512.992737 C1251.268433,512.991882 1249.933105,512.956604 1248.606323,512.853210 C1231.926514,511.553131 1225.143188,504.528259 1225.061279,487.516205 C1224.887939,451.543427 1224.944946,415.569183 1225.023804,379.595795 C1225.048584,368.329468 1233.036743,360.816620 1244.539917,360.809937 C1256.112671,360.803192 1264.062378,368.157135 1264.114258,379.536163 C1264.256104,410.679382 1264.172607,441.823578 1264.180786,472.967407 C1264.182617,480.081787 1264.187012,480.085663 1271.141602,480.088776 C1281.967041,480.093628 1292.792480,480.061768 1303.617798,480.102203 C1315.913452,480.148132 1322.019409,487.278107 1320.434326,500.172791 z"}),N.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1378.000000,513.014893 C1368.192139,512.765503 1358.816406,513.130859 1349.593384,512.112854 C1337.746338,510.805237 1332.660767,505.204010 1330.947388,493.507568 C1330.538574,490.717987 1330.280029,487.878601 1330.276367,485.061737 C1330.230103,450.432434 1330.286133,415.802979 1330.212158,381.173767 C1330.194580,372.958893 1332.967651,366.428131 1340.685059,362.882050 C1348.394409,359.339600 1355.924683,359.980255 1362.863892,365.047699 C1368.391602,369.084473 1369.760742,374.936981 1369.757690,381.368835 C1369.743286,412.002502 1369.751465,442.636139 1369.756226,473.269806 C1369.757324,480.076080 1369.766113,480.079834 1376.503418,480.083557 C1387.658081,480.089752 1398.813110,480.033844 1409.967285,480.110382 C1420.152832,480.180267 1426.172729,486.207733 1426.218872,496.197205 C1426.266479,506.515289 1420.200684,512.875610 1409.966064,512.983093 C1399.478394,513.093262 1388.988770,513.012207 1378.000000,513.014893 z"})),qE=e=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M4 11.5L3.515 11.621C3.08232 11.7292 2.69821 11.9788 2.4237 12.3303C2.1492 12.6818 2.00007 13.115 2 13.561V15.438C2.00007 15.884 2.1492 16.3172 2.4237 16.6687C2.69821 17.0202 3.08232 17.2698 3.515 17.378L5.255 17.813C5.34342 17.835 5.43569 17.8366 5.52481 17.8177C5.61393 17.7987 5.69757 17.7597 5.76937 17.7036C5.84118 17.6475 5.89926 17.5758 5.93922 17.4939C5.97918 17.412 5.99997 17.3221 6 17.231V11.768C6.00001 11.6768 5.97921 11.5868 5.93919 11.5048C5.89918 11.4228 5.84099 11.351 5.76907 11.2949C5.69714 11.2388 5.61337 11.1998 5.52412 11.1809C5.43486 11.1621 5.34248 11.1638 5.254 11.186L4 11.5ZM4 11.5V11C4 8.87827 4.84285 6.84344 6.34315 5.34315C7.84344 3.84285 9.87827 3 12 3C14.1217 3 16.1566 3.84285 17.6569 5.34315C19.1571 6.84344 20 8.87827 20 11V11.5M20 11.5L20.485 11.621C20.9177 11.7292 21.3018 11.9788 21.5763 12.3303C21.8508 12.6818 21.9999 13.115 22 13.561V15.438C21.9999 15.884 21.8508 16.3172 21.5763 16.6687C21.3018 17.0202 20.9177 17.2698 20.485 17.378L20 17.5M20 11.5L18.745 11.186C18.6566 11.164 18.5643 11.1624 18.4752 11.1813C18.3861 11.2003 18.3024 11.2393 18.2306 11.2954C18.1588 11.3515 18.1007 11.4232 18.0608 11.5051C18.0208 11.587 18 11.6769 18 11.768V17.231C18 17.3221 18.0208 17.412 18.0608 17.4939C18.1007 17.5758 18.1588 17.6475 18.2306 17.7036C18.3024 17.7597 18.3861 17.7987 18.4752 17.8177C18.5643 17.8366 18.6566 17.835 18.745 17.813L20 17.5M20 17.5V18.5C20 19.0304 19.7893 19.5391 19.4142 19.9142C19.0391 20.2893 18.5304 20.5 18 20.5H15M15 20.5C15 20.1022 14.842 19.7206 14.5607 19.4393C14.2794 19.158 13.8978 19 13.5 19H10.5C10.1022 19 9.72064 19.158 9.43934 19.4393C9.15804 19.7206 9 20.1022 9 20.5C9 20.8978 9.15804 21.2794 9.43934 21.5607C9.72064 21.842 10.1022 22 10.5 22H13.5C13.8978 22 14.2794 21.842 14.5607 21.5607C14.842 21.2794 15 20.8978 15 20.5Z",stroke:"#6B7280",strokeWidth:1.5})),WE=e=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M12 3C9.61306 3 7.32388 3.94821 5.63605 5.63604C3.94822 7.32387 3.00001 9.61305 3.00001 12C3.00001 14.397 3.93501 16.573 5.46301 18.186L5.96701 18.718L4.70001 21H12C13.1819 21 14.3522 20.7672 15.4442 20.3149C16.5361 19.8626 17.5282 19.1997 18.364 18.364C19.1997 17.5282 19.8626 16.5361 20.3149 15.4442C20.7672 14.3522 21 13.1819 21 12C21 10.8181 20.7672 9.64778 20.3149 8.55585C19.8626 7.46392 19.1997 6.47177 18.364 5.63604C17.5282 4.80031 16.5361 4.13738 15.4442 3.68508C14.3522 3.23279 13.1819 3 12 3ZM1.00001 12C1.00001 5.925 5.92501 1 12 1C18.075 1 23 5.925 23 12C23 18.075 18.075 23 12 23H1.30001L3.52001 19.006C1.88821 17.0363 0.996743 14.5578 1.00001 12ZM12 7.5C11.5864 7.4999 11.1829 7.62803 10.8452 7.86676C10.5074 8.10549 10.2519 8.44307 10.114 8.833L9.78001 9.776L7.89501 9.11L8.22801 8.167C8.43446 7.58155 8.77432 7.05216 9.22069 6.62073C9.66706 6.1893 10.2077 5.86765 10.7998 5.68124C11.392 5.49483 12.0194 5.44876 12.6324 5.54668C13.2454 5.64461 13.8272 5.88383 14.3318 6.24544C14.8364 6.60704 15.25 7.08111 15.5397 7.63013C15.8295 8.17915 15.9875 8.78806 16.0013 9.4087C16.0151 10.0293 15.8843 10.6447 15.6192 11.206C15.3541 11.7674 14.962 12.2593 14.474 12.643C14.043 12.983 13.657 13.309 13.378 13.652C13.104 13.99 13 14.262 13 14.5V15.75H11V14.5C11 13.633 11.39 12.927 11.826 12.39C12.258 11.86 12.8 11.416 13.236 11.072C13.5628 10.8149 13.8014 10.4624 13.9185 10.0634C14.0357 9.66449 14.0256 9.23894 13.8896 8.846C13.7536 8.45305 13.4986 8.11226 13.1599 7.87102C12.8212 7.62978 12.4158 7.50009 12 7.5ZM11 16.75H13.004V18.754H11V16.75Z",fill:"#6B7280"})),l_=[{title:"",path:"/timetable",end:!1},{title:"",path:"/wishes",end:!0},{title:"",path:"/simulation",end:!1},{title:"",path:"/live",end:!1}],KE=[{icon:h.jsx(qE,{className:"w-4 h-4"}),title:"  ",path:"https://forms.gle/bCDTVujEHunnvHe88"},{icon:h.jsx(WE,{className:"w-4 h-4"}),title:" ",path:"https://open.kakao.com/o/g3MztXfh"}];function ax(){return h.jsx("header",{className:"bg-white shadow-sm z-50 sticky top-0",children:h.jsxs("div",{className:"container flex items-center justify-between mx-auto max-w-7xl px-4 md:px-16",children:[h.jsxs("div",{className:"flex items-center space-x-4 py-4",children:[h.jsxs(Ir,{to:"/",className:"flex items-center gap-1 space-x-2","aria-label":" ",children:[h.jsx("h1",{className:"hidden",children:"ALLCLL"}),h.jsx(a_,{className:"w-6 h-6 m-0"}),h.jsx(VE,{className:"h-5 hidden sm:inline-block"})]}),h.jsx("ul",{className:"flex space-x-4 text-sm sm:text-base",children:l_.map(({title:e,path:t,end:n})=>h.jsx("li",{className:"font-bold",children:h.jsx(xl,{to:t,end:n,className:({isActive:r})=>r?"text-blue-500 font-semibold":"text-gray-500",children:e})},t))})]}),h.jsx("div",{className:"items-center space-x-2 hidden sm:flex",children:KE.map(({icon:e,title:t,path:n})=>h.jsx("a",{className:"p-2 rounded-md hover:bg-gray-100",target:"_blank",href:n,"aria-label":t,title:t,children:e},n))})]})})}const lx=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,72)"},N.createElement("g",null,N.createElement("path",{d:"M18,36Q22.9219,36.0703125,27,38.39062Q31.0781,40.78125,33.6094,45Q36,49.2891,36,54Q36,58.710899999999995,33.6094,63Q31.0781,67.2188,27,69.6094Q22.9219,71.9297,18,72Q13.0781,71.9297,9,69.6094Q4.92188,67.2188,2.39062,63Q0,58.710899999999995,0,54Q0,49.2891,2.39062,45Q4.92188,40.78125,9,38.39062Q13.0781,36.0703125,18,36ZM18,63Q19.5469,62.8594,19.6875,61.3125L19.6875,53.4375Q19.5469,51.8906,18,51.75Q16.4531,51.8906,16.3125,53.4375L16.3125,61.3125Q16.4531,62.8594,18,63ZM15.75,47.25Q15.75,48.2344,16.3828,48.8672Q17.0156,49.5,18,49.5Q18.9844,49.5,19.6172,48.8672Q20.25,48.2344,20.25,47.25Q20.25,46.2656,19.6172,45.63281Q18.9844,45,18,45Q17.0156,45,16.3828,45.63281Q15.75,46.2656,15.75,47.25Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})))),ux=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:10,height:10,viewBox:"0. 0. 11 11",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,20)"},N.createElement("path",{d:"M9.71875,18.28125Q10,18.59375,10,19Q10,19.40625,9.71875,19.71875Q9.40625,20,9,20Q8.59375,20,8.28125,19.71875L5,16.40625L1.71875,19.71875Q1.40625,20,1,20Q0.59375,20,0.28125,19.71875Q0,19.40625,0,19Q0,18.59375,0.28125,18.28125L3.59375,15L0.28125,11.71875Q0,11.40625,0,11Q0,10.59375,0.28125,10.28125Q0.59375,10,1,10Q1.40625,10,1.71875,10.28125L5,13.59375L8.28125,10.28125Q8.59375,10,9,10Q9.40625,10,9.71875,10.28125Q10,10.59375,10,11Q10,11.40625,9.71875,11.71875L6.40625,15L9.71875,18.28125Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),bw=e=>{let t;const n=new Set,r=(c,f)=>{const p=typeof c=="function"?c(t):c;if(!Object.is(p,t)){const g=t;t=f??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(v=>v(t,g))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c))},u=t=e(r,i,a);return a},GE=e=>e?bw(e):bw,YE=e=>e;function XE(e,t=YE){const n=en.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return en.useDebugValue(n),n}const ww=e=>{const t=GE(e),n=r=>XE(t,r);return Object.assign(n,t),n},ur=e=>e?ww(e):ww,Ap=ur(e=>({banner:null,onClose:void 0,setBanner:(t,n)=>e({banner:t,onClose:n}),closeBanner:()=>e({banner:null})}));function u_(){const e=Ap(n=>n.banner),t=Ap(n=>n.closeBanner);return h.jsx("div",{children:e&&h.jsx(JE,{deleteBanner:t,children:e})})}function JE({children:e,deleteBanner:t}){return h.jsxs("div",{className:"flex items-center justify-between bg-blue-100 px-4 py-2 gap-2",children:[h.jsx(lx,{className:"w-4 h-4"}),h.jsx("div",{className:"flex-auto text-xs",children:e}),h.jsx("button",{className:"p-1 rounded-full hover:bg-blue-200",onClick:t,"aria-label":" ",children:h.jsx(ux,{className:""})})]})}function Mp(){return Mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mp.apply(null,arguments)}function cx(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function V1(e,t){return V1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},V1(e,t)}function dx(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,V1(e,t)}function ZE(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function eT(e,t){e.classList?e.classList.add(t):ZE(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function _w(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function tT(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=_w(e.className,t):e.setAttribute("class",_w(e.className&&e.className.baseVal||"",t))}const Sw={disabled:!1},Rp=en.createContext(null);var c_=function(t){return t.scrollTop},cd="unmounted",Ka="exited",Ga="entering",Nu="entered",q1="exiting",uo=function(e){dx(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,u;return s.appearStatus=null,r.in?a?(u=Ka,s.appearStatus=Ga):u=Nu:r.unmountOnExit||r.mountOnEnter?u=cd:u=Ka,s.state={status:u},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===cd?{status:Ka}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Ga&&o!==Nu&&(s=Ga):(o===Ga||o===Nu)&&(s=q1)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Ga){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Ef.findDOMNode(this);o&&c_(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ka&&this.setState({status:cd})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,u=this.props.nodeRef?[a]:[Ef.findDOMNode(this),a],c=u[0],f=u[1],p=this.getTimeouts(),g=a?p.appear:p.enter;if(!i&&!o||Sw.disabled){this.safeSetState({status:Nu},function(){s.props.onEntered(c)});return}this.props.onEnter(c,f),this.safeSetState({status:Ga},function(){s.props.onEntering(c,f),s.onTransitionEnd(g,function(){s.safeSetState({status:Nu},function(){s.props.onEntered(c,f)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Ef.findDOMNode(this);if(!s||Sw.disabled){this.safeSetState({status:Ka},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:q1},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Ka},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Ef.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=u[0],f=u[1];this.props.addEndListener(c,f)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===cd)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=cx(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return en.createElement(Rp.Provider,{value:null},typeof o=="function"?o(i,a):en.cloneElement(en.Children.only(o),a))},t}(en.Component);uo.contextType=Rp;uo.propTypes={};function lu(){}uo.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:lu,onEntering:lu,onEntered:lu,onExit:lu,onExiting:lu,onExited:lu};uo.UNMOUNTED=cd;uo.EXITED=Ka;uo.ENTERING=Ga;uo.ENTERED=Nu;uo.EXITING=q1;var nT=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return eT(t,r)})},L0=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return tT(t,r)})},Zd=function(e){dx(t,e);function t(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(a,u){var c=r.resolveArguments(a,u),f=c[0],p=c[1];r.removeClasses(f,"exit"),r.addClass(f,p?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(a,u)},r.onEntering=function(a,u){var c=r.resolveArguments(a,u),f=c[0],p=c[1],g=p?"appear":"enter";r.addClass(f,g,"active"),r.props.onEntering&&r.props.onEntering(a,u)},r.onEntered=function(a,u){var c=r.resolveArguments(a,u),f=c[0],p=c[1],g=p?"appear":"enter";r.removeClasses(f,g),r.addClass(f,g,"done"),r.props.onEntered&&r.props.onEntered(a,u)},r.onExit=function(a){var u=r.resolveArguments(a),c=u[0];r.removeClasses(c,"appear"),r.removeClasses(c,"enter"),r.addClass(c,"exit","base"),r.props.onExit&&r.props.onExit(a)},r.onExiting=function(a){var u=r.resolveArguments(a),c=u[0];r.addClass(c,"exit","active"),r.props.onExiting&&r.props.onExiting(a)},r.onExited=function(a){var u=r.resolveArguments(a),c=u[0];r.removeClasses(c,"exit"),r.addClass(c,"exit","done"),r.props.onExited&&r.props.onExited(a)},r.resolveArguments=function(a,u){return r.props.nodeRef?[r.props.nodeRef.current,a]:[a,u]},r.getClassNames=function(a){var u=r.props.classNames,c=typeof u=="string",f=c&&u?u+"-":"",p=c?""+f+a:u[a],g=c?p+"-active":u[a+"Active"],v=c?p+"-done":u[a+"Done"];return{baseClassName:p,activeClassName:g,doneClassName:v}},r}var n=t.prototype;return n.addClass=function(i,s,o){var a=this.getClassNames(s)[o+"ClassName"],u=this.getClassNames("enter"),c=u.doneClassName;s==="appear"&&o==="done"&&c&&(a+=" "+c),o==="active"&&i&&c_(i),a&&(this.appliedClasses[s][o]=a,nT(i,a))},n.removeClasses=function(i,s){var o=this.appliedClasses[s],a=o.base,u=o.active,c=o.done;this.appliedClasses[s]={},a&&L0(i,a),u&&L0(i,u),c&&L0(i,c)},n.render=function(){var i=this.props;i.classNames;var s=cx(i,["classNames"]);return en.createElement(uo,Mp({},s,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(en.Component);Zd.defaultProps={classNames:""};Zd.propTypes={};function rT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hx(e,t){var n=function(s){return t&&N.isValidElement(s)?t(s):s},r=Object.create(null);return e&&N.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function iT(e,t){e=e||{},t=t||{};function n(f){return f in t?t[f]:e[f]}var r=Object.create(null),i=[];for(var s in e)s in t?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var u in t){if(r[u])for(o=0;o<r[u].length;o++){var c=r[u][o];a[r[u][o]]=n(c)}a[u]=n(u)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function rl(e,t,n){return n[t]!=null?n[t]:e.props[t]}function sT(e,t){return hx(e.children,function(n){return N.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:rl(n,"appear",e),enter:rl(n,"enter",e),exit:rl(n,"exit",e)})})}function oT(e,t,n){var r=hx(e.children),i=iT(t,r);return Object.keys(i).forEach(function(s){var o=i[s];if(N.isValidElement(o)){var a=s in t,u=s in r,c=t[s],f=N.isValidElement(c)&&!c.props.in;u&&(!a||f)?i[s]=N.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:rl(o,"exit",e),enter:rl(o,"enter",e)}):!u&&a&&!f?i[s]=N.cloneElement(o,{in:!1}):u&&a&&N.isValidElement(c)&&(i[s]=N.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:rl(o,"exit",e),enter:rl(o,"enter",e)}))}}),i}var aT=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},lT={component:"div",childFactory:function(t){return t}},am=function(e){dx(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=s.handleExited.bind(rT(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,u=s.firstRender;return{children:u?sT(i,a):oT(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=hx(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var u=Mp({},a.children);return delete u[i.key],{children:u}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=cx(i,["component","childFactory"]),u=this.state.contextValue,c=aT(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?en.createElement(Rp.Provider,{value:u},c):en.createElement(Rp.Provider,{value:u},en.createElement(s,a,c))},t}(en.Component);am.propTypes={};am.defaultProps=lT;const Ip=ur(e=>({isActivated:!1,messages:[],addToast:(t,n)=>e(r=>({messages:[...r.messages,{message:t,tag:n}]})),clearToast:t=>e(n=>(typeof t=="number"?n.messages=[...n.messages.slice(0,t),...n.messages.slice(t+1)]:n.messages=n.messages.filter(r=>r.tag!==t),{messages:n.messages}))})),Dp=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17,height:17,viewBox:"-0.1 -1.2 11.985078811645508 17",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,27.999998092651367)"},N.createElement("path",{d:"M5.99254,27.999999046325684Q5.61809,27.999999046325684,5.37737,27.753899046325685Q5.13664,27.507799046325683,5.13664,27.124999046325684L5.13664,26.605499046325683Q3.63883,26.277299046325684,2.70269,25.10159904632568Q1.73981,23.925779046325683,1.71306,22.312499046325684L1.71306,21.792969046325684Q1.68632,19.824219046325684,0.429221,18.320309046325683L0.215247,18.074219046325684Q-0.13246,17.664059046325683,0.0815138,17.144529046325683Q0.322234,16.652339046325682,0.857169,16.624999046325684L11.1279,16.624999046325684Q11.6628,16.652339046325682,11.9036,17.144529046325683Q12.1175,17.664059046325683,11.7698,18.074219046325684L11.5826,18.320309046325683Q10.2988,19.796869046325682,10.272,21.792969046325684L10.272,22.312499046325684Q10.2453,23.925779046325683,9.28239,25.10159904632568Q8.34625,26.277299046325684,6.84843,26.605499046325683L6.84843,27.124999046325684Q6.84843,27.507799046325683,6.60771,27.753899046325685Q6.36699,27.999999046325684,5.99254,27.999999046325684ZM7.19614,14.519530046325684Q7.70433,15.039059046325683,7.70433,15.749999046325684L5.99254,15.749999046325684L4.28075,15.749999046325684Q4.28075,15.039059046325683,4.78894,14.519530046325684Q5.29713,13.999999046325684,5.99254,13.999999046325684Q6.68796,13.999999046325684,7.19614,14.519530046325684Z",fill:"currentColor",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function fx(){const e=Ip(n=>n.messages),t=Ip(n=>n.clearToast);return h.jsx("div",{className:"fixed top-2 right-2 z-100 max-w-screen",children:h.jsx(am,{className:"flex gap-2 flex-col-reverse",children:e.slice(-3).map((n,r)=>h.jsx(Zd,{timeout:300,classNames:"toast",children:h.jsx(uT,{toast:n,closeToast:()=>t(r)})},`${r} : ${n}`))})})}function uT({toast:e,closeToast:t}){return h.jsxs("div",{className:"flex justify-between items-center gap-2 p-4 ml-2 bg-white text-black rounded-lg shadow-md",children:[h.jsx(Dp,{className:"w-4 h-4 text-blue-500"}),h.jsx("span",{className:"flex-1 text-sm font-bold truncate max-w-72",children:e.message}),h.jsx("button",{"aria-label":"",onClick:t,className:"p-2 rounded-full hover:bg-blue-100",children:h.jsx(ux,{})})]})}const cT=e=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("g",{clipPath:"url(#clip0_3195_1180)"},N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3.66667C7.3975 3.66667 3.66667 7.3975 3.66667 12C3.66667 16.6025 7.3975 20.3333 12 20.3333C16.6025 20.3333 20.3333 16.6025 20.3333 12C20.3333 7.3975 16.6025 3.66667 12 3.66667ZM2 12C2 6.47708 6.47708 2 12 2C17.5229 2 22 6.47708 22 12C22 17.5229 17.5229 22 12 22C6.47708 22 2 17.5229 2 12Z",fill:"#9CA3AF"}),N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.9929 20.9465C9.91235 20.8424 9.91235 19.9154 9.9929 18.1657C9.12985 18.1957 8.58443 18.1359 8.35665 17.9861C8.0154 17.7615 7.67332 17.0695 7.3704 16.5815C7.06749 16.0936 6.39415 16.0165 6.12249 15.9074C5.85082 15.7986 5.78249 15.354 6.87124 15.6899C7.95999 16.0261 8.0129 16.942 8.35665 17.1557C8.7004 17.3699 9.52165 17.2765 9.89374 17.1049C10.2658 16.9332 10.2383 16.2949 10.305 16.042C10.3887 15.8057 10.0929 15.7532 10.0867 15.7515C9.7229 15.7515 7.81415 15.3361 7.28957 13.4878C6.7654 11.639 7.44082 10.4307 7.80124 9.91155C8.04124 9.56488 8.01999 8.82682 7.73749 7.69738C8.76415 7.56571 9.55624 7.88877 10.1137 8.66655C10.1146 8.67071 10.8454 8.23196 12 8.23196C13.1546 8.23196 13.5646 8.58946 13.8808 8.66655C14.1971 8.74363 14.45 7.30571 16.4029 7.69738C15.995 8.49863 15.6537 9.49988 15.9142 9.91155C16.175 10.3228 17.1975 11.6311 16.5696 13.4878C16.1504 14.7253 15.3269 15.4799 14.0992 15.7515C13.9586 15.7965 13.8883 15.869 13.8883 15.969C13.8883 16.119 14.0783 16.1353 14.3525 16.8382C14.5358 17.3065 14.5492 18.6447 14.3925 20.8528C13.9961 20.9536 13.6878 21.0214 13.4675 21.0561C13.0771 21.1174 12.6529 21.152 12.2362 21.1649C11.8196 21.1782 11.675 21.177 11.0987 21.1232C10.7266 21.0892 10.3571 21.0302 9.9929 20.9465Z",fill:"#9CA3AF"}))),dT=e=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M7.8 2H16.2C19.4 2 22 4.6 22 7.8V16.2C22 17.7383 21.3889 19.2135 20.3012 20.3012C19.2135 21.3889 17.7383 22 16.2 22H7.8C4.6 22 2 19.4 2 16.2V7.8C2 6.26174 2.61107 4.78649 3.69878 3.69878C4.78649 2.61107 6.26174 2 7.8 2ZM7.6 4C6.64522 4 5.72955 4.37928 5.05442 5.05442C4.37928 5.72955 4 6.64522 4 7.6V16.4C4 18.39 5.61 20 7.6 20H16.4C17.3548 20 18.2705 19.6207 18.9456 18.9456C19.6207 18.2705 20 17.3548 20 16.4V7.6C20 5.61 18.39 4 16.4 4H7.6ZM17.25 5.5C17.5815 5.5 17.8995 5.6317 18.1339 5.86612C18.3683 6.10054 18.5 6.41848 18.5 6.75C18.5 7.08152 18.3683 7.39946 18.1339 7.63388C17.8995 7.8683 17.5815 8 17.25 8C16.9185 8 16.6005 7.8683 16.3661 7.63388C16.1317 7.39946 16 7.08152 16 6.75C16 6.41848 16.1317 6.10054 16.3661 5.86612C16.6005 5.6317 16.9185 5.5 17.25 5.5ZM12 7C13.3261 7 14.5979 7.52678 15.5355 8.46447C16.4732 9.40215 17 10.6739 17 12C17 13.3261 16.4732 14.5979 15.5355 15.5355C14.5979 16.4732 13.3261 17 12 17C10.6739 17 9.40215 16.4732 8.46447 15.5355C7.52678 14.5979 7 13.3261 7 12C7 10.6739 7.52678 9.40215 8.46447 8.46447C9.40215 7.52678 10.6739 7 12 7ZM12 9C11.2044 9 10.4413 9.31607 9.87868 9.87868C9.31607 10.4413 9 11.2044 9 12C9 12.7956 9.31607 13.5587 9.87868 14.1213C10.4413 14.6839 11.2044 15 12 15C12.7956 15 13.5587 14.6839 14.1213 14.1213C14.6839 13.5587 15 12.7956 15 12C15 11.2044 14.6839 10.4413 14.1213 9.87868C13.5587 9.31607 12.7956 9 12 9Z",fill:"#9CA3AF"})),hT=e=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M5.679 18.123C3.093 16.566 1.5 14.112 1.5 11.405C1.501 6.701 6.249 3 12.001 3C17.753 3 22.501 6.701 22.501 11.405C22.501 16.109 17.753 19.81 12.001 19.81C11.559 19.81 11.1197 19.7883 10.683 19.745L6.918 22.203C6.303 22.529 5.961 22.628 5.433 22.269C4.813 21.845 4.837 21.377 5.051 20.709L5.679 18.123ZM3.5 11.405C3.5 13.537 4.918 15.528 7.281 16.725L7.987 17.084L7.801 17.854L7.4 19.502L10.2 17.672L10.565 17.718C11.039 17.7793 11.5173 17.81 12 17.81C16.741 17.81 20.5 14.88 20.5 11.405C20.5 7.93 16.742 5 12.001 5C7.26 5 3.5 7.93 3.5 11.405ZM17.908 11.059L19.422 13.214C19.4577 13.2648 19.483 13.322 19.4965 13.3826C19.51 13.4431 19.5115 13.5057 19.5008 13.5668C19.4901 13.6279 19.4675 13.6863 19.4342 13.7387C19.401 13.791 19.3578 13.8363 19.307 13.872C19.2562 13.9077 19.199 13.933 19.1384 13.9465C19.0779 13.96 19.0153 13.9615 18.9542 13.9508C18.8931 13.9401 18.8347 13.9175 18.7823 13.8842C18.73 13.851 18.6847 13.8078 18.649 13.757L17.221 11.724L16.794 12.137V13.5C16.794 13.6252 16.7443 13.7452 16.6558 13.8338C16.5672 13.9223 16.4472 13.972 16.322 13.972C16.1968 13.972 16.0768 13.9223 15.9882 13.8338C15.8997 13.7452 15.85 13.6252 15.85 13.5V12.061C15.8334 11.9879 15.8334 11.9121 15.85 11.839V9.282C15.85 9.15682 15.8997 9.03676 15.9882 8.94825C16.0768 8.85973 16.1968 8.81 16.322 8.81C16.4472 8.81 16.5672 8.85973 16.6558 8.94825C16.7443 9.03676 16.794 9.15682 16.794 9.282V10.824L18.722 8.958C18.8128 8.87613 18.9319 8.83271 19.0541 8.83689C19.1763 8.84107 19.2922 8.89252 19.3772 8.98041C19.4622 9.06829 19.5098 9.18575 19.51 9.30804C19.5101 9.43033 19.4628 9.54791 19.378 9.636L17.908 11.059ZM14.95 12.984C15.0752 12.984 15.1952 13.0337 15.2838 13.1222C15.3723 13.2108 15.422 13.3308 15.422 13.456C15.422 13.5812 15.3723 13.7012 15.2838 13.7898C15.1952 13.8783 15.0752 13.928 14.95 13.928H13.018C12.956 13.9281 12.8946 13.916 12.8374 13.8923C12.7801 13.8686 12.7281 13.8339 12.6843 13.79C12.6405 13.7461 12.6059 13.694 12.5823 13.6367C12.5587 13.5794 12.5467 13.518 12.547 13.456V9.297C12.5441 9.23325 12.5541 9.16958 12.5765 9.10981C12.5988 9.05005 12.6331 8.99544 12.6772 8.9493C12.7212 8.90315 12.7742 8.86641 12.8329 8.84132C12.8915 8.81622 12.9547 8.80328 13.0185 8.80328C13.0823 8.80328 13.1455 8.81622 13.2041 8.84132C13.2628 8.86641 13.3158 8.90315 13.3598 8.9493C13.4039 8.99544 13.4382 9.05005 13.4605 9.10981C13.4829 9.16958 13.4929 9.23325 13.49 9.297V12.984H14.95ZM9.093 11.893H10.427L9.789 10.185L9.093 11.893ZM11.616 12.38L11.961 13.305C11.9848 13.3635 11.9967 13.4262 11.9958 13.4893C11.995 13.5525 11.9815 13.6148 11.9561 13.6727C11.9308 13.7305 11.8941 13.7827 11.8482 13.8261C11.8023 13.8694 11.7481 13.9032 11.689 13.9253C11.6298 13.9474 11.5668 13.9574 11.5037 13.9546C11.4406 13.9519 11.3787 13.9366 11.3216 13.9095C11.2645 13.8825 11.2135 13.8442 11.1715 13.7971C11.1295 13.7499 11.0973 13.6948 11.077 13.635L10.779 12.836H8.709L8.377 13.649C8.35356 13.7064 8.31904 13.7586 8.27543 13.8026C8.23181 13.8467 8.17994 13.8817 8.12279 13.9057C8.06563 13.9297 8.00431 13.9422 7.94232 13.9425C7.88033 13.9428 7.81889 13.9309 7.7615 13.9075C7.70411 13.8841 7.6519 13.8495 7.60785 13.8059C7.56381 13.7623 7.52878 13.7104 7.50478 13.6533C7.48077 13.5961 7.46826 13.5348 7.46796 13.4728C7.46765 13.4108 7.47956 13.3494 7.503 13.292L9.165 9.217C9.21605 9.08531 9.30573 8.97215 9.42227 8.89237C9.53882 8.81259 9.67677 8.76994 9.818 8.77C9.95833 8.7758 10.0936 8.8243 10.2056 8.90899C10.3176 8.99369 10.4012 9.11057 10.445 9.244L11.491 12.044C11.5723 12.1308 11.6177 12.2451 11.618 12.364L11.616 12.38ZM8.294 9.302C8.294 9.562 8.084 9.774 7.823 9.774H6.683V13.51C6.683 13.6353 6.63322 13.7555 6.54461 13.8441C6.456 13.9327 6.33581 13.9825 6.2105 13.9825C6.08518 13.9825 5.965 13.9327 5.87639 13.8441C5.78778 13.7555 5.738 13.6353 5.738 13.51V9.774H4.578C4.45282 9.774 4.33276 9.72427 4.24425 9.63575C4.15573 9.54724 4.106 9.42718 4.106 9.302C4.106 9.17682 4.15573 9.05676 4.24425 8.96825C4.33276 8.87973 4.45282 8.83 4.578 8.83H7.823C8.083 8.83 8.294 9.041 8.294 9.302Z",fill:"#9CA3AF"})),fT=[{title:"",children:[{title:"ALLCLL ",href:"/about"},{title:"  ",href:"/faq"},{title:"  ",href:"https://forms.gle/bCDTVujEHunnvHe88"},{title:"allcllclla@google.com"}]}],pT=[{icon:h.jsx(cT,{className:"w-8 h-8 m-2"}),title:" github",href:"https://github.com/allcll"},{icon:h.jsx(hT,{className:"w-8 h-8 m-2"}),title:" ",href:"https://open.kakao.com/o/g3MztXfh"},{icon:h.jsx(dT,{className:"w-8 h-8 m-2"}),title:" instagram",href:"https://www.instagram.com/sejong_allcll"}];function px(){return h.jsxs("footer",{className:"bg-white text-center text-sm text-gray-500",children:[h.jsxs("div",{className:"mx-auto max-w-7xl px-4 md:px-16 py-12 grid md:grid-cols-3 gap-6 text-center md:text-left",children:[h.jsxs("div",{className:"mx-auto md:mx-0",children:[h.jsxs("div",{className:"flex items-center mb-2 h-fit justify-center md:justify-start",children:[h.jsx("img",{src:"/ci.svg",className:"w-6 h-6 mr-2",alt:"ci"}),h.jsx("img",{src:"/logo-name.svg",alt:"logo",className:"h-5"})]}),h.jsx("ul",{className:"flex items-center",children:pT.map(({icon:e,title:t,href:n})=>h.jsx("li",{children:h.jsx("a",{href:n,className:"h-fit rounded-md hover:bg-gray-200","aria-label":t,title:t,children:e})},t))})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold mb-4",children:""}),h.jsx("ul",{children:l_.map(({title:e,path:t,end:n})=>h.jsx("li",{className:"mb-1",children:h.jsx(xl,{to:t,end:n,className:"hover:text-blue-500 hover:underline hover:font-bold",children:e})},e))})]}),fT.map((e,t)=>h.jsxs("div",{className:"mb-4",children:[h.jsx("h3",{className:"font-bold mb-4",children:e.title}),h.jsx("ul",{children:e.children.map((n,r)=>h.jsx("li",{className:"mb-1",children:n.href?n.href.startsWith("http")?h.jsx("a",{className:"hover:text-blue-500 hover:underline hover:font-bold",href:n.href,target:"_blank",children:n.title}):h.jsx(Ir,{to:n.href,className:"hover:text-blue-500 hover:underline hover:font-bold",children:n.title}):h.jsx("p",{children:n.title})},r))})]},t))]}),h.jsx("p",{className:"pb-12",children:" 2025 ALLCLL. All rights reserved."})]})}const mT=1.5*1e3,d_=5,Mr=ur(e=>({needCount:0,alwaysReload:!1,forceReloadNumber:0,errorCount:0,isError:!1,isPending:!0,addNeedCount:()=>e(t=>({needCount:t.needCount+1})),deleteNeedCount:()=>e(t=>({needCount:Math.max(0,t.needCount-1)})),setAlwaysReload:t=>e({alwaysReload:t}),setForceReload:()=>e(t=>({forceReloadNumber:t.forceReloadNumber+1,errorCount:0,isError:!1})),setError:()=>e(({errorCount:t,isPending:n})=>({errorCount:t+1,isError:t+1>=d_,isPending:n||t>1})),resetError:()=>e({errorCount:0,isError:!1,isPending:!1})}));function gT(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var s;const o=u=>u===null?null:JSON.parse(u,void 0),a=(s=n.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const W1=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return W1(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return W1(r)(n)}}}},yT=(e,t)=>(n,r,i)=>{let s={storage:gT(()=>localStorage),partialize:_=>_,version:0,merge:(_,C)=>({...C,..._}),...t},o=!1;const a=new Set,u=new Set;let c=s.storage;if(!c)return e((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(..._)},r,i);const f=()=>{const _=s.partialize({...r()});return c.setItem(s.name,{state:_,version:s.version})},p=i.setState;i.setState=(_,C)=>{p(_,C),f()};const g=e((..._)=>{n(..._),f()},r,i);i.getInitialState=()=>g;let v;const w=()=>{var _,C;if(!c)return;o=!1,a.forEach(L=>{var A;return L((A=r())!=null?A:g)});const E=((C=s.onRehydrateStorage)==null?void 0:C.call(s,(_=r())!=null?_:g))||void 0;return W1(c.getItem.bind(c))(s.name).then(L=>{if(L)if(typeof L.version=="number"&&L.version!==s.version){if(s.migrate){const A=s.migrate(L.state,L.version);return A instanceof Promise?A.then(B=>[!0,B]):[!0,A]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,L.state];return[!1,void 0]}).then(L=>{var A;const[B,U]=L;if(v=s.merge(U,(A=r())!=null?A:g),n(v,!0),B)return f()}).then(()=>{E?.(v,void 0),v=r(),o=!0,u.forEach(L=>L(v))}).catch(L=>{E?.(void 0,L)})};return i.persist={setOptions:_=>{s={...s,..._},_.storage&&(c=_.storage)},clearStorage:()=>{c?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:_=>(a.add(_),()=>{a.delete(_)}),onFinishHydration:_=>(u.add(_),()=>{u.delete(_)})},s.skipHydration||w(),v||g},h_=yT,xT=()=>{if(!(typeof window>"u"||typeof navigator>"u"))return navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate},Kc=xT(),mx={canNotify(){return!!Kc},isGranted(){return this.canNotify()},requestPermission(e){this.isGranted()?e?.("granted"):e?.("denied")},getDeniedMessage(){return this.canNotify()?[]:["     ."]},show(e,t){const n=Md(Wo.VIBRATE);Kc&&n&&Kc.call(navigator,[200])},close(e){Kc&&Kc.call(navigator,0)}};var ti=(e=>(e[e.NONE=0]="NONE",e[e.BROWSER=1]="BROWSER",e[e.TOAST=2]="TOAST",e[e.BOTH=3]="BOTH",e))(ti||{}),Wo=(e=>(e[e.NONE=0]="NONE",e[e.VIBRATE=1]="VIBRATE",e[e.SOUND=2]="SOUND",e[e.ALL=3]="ALL",e))(Wo||{});const vT=()=>/Mobi|Android/i.test(navigator.userAgent),Cw=()=>{const e="Notification"in window,t=vT();return 1*Number(e)+2*Number(t)},kw=()=>{const e=mx.canNotify();return 1*Number(e)+2},ks=ur()(h_(e=>({alarmType:Cw(),subAlarmType:kw(),saveSettings:t=>e(n=>({...n,...t})),resetSettings:()=>e(()=>({alarmType:Cw(),subAlarmType:kw()}))}),{name:"AlarmSettings",partialize:e=>({alarmType:e.alarmType,subAlarmType:e.subAlarmType})}));function K1(e){return!!(ks.getState().alarmType&e)}function Md(e){return!!(ks.getState().subAlarmType&e)}const ta=ur(e=>({isOpen:!1,isPermitted:!1,open:()=>e({isOpen:!0}),close:()=>e({isOpen:!1}),setPermitted:t=>e({isPermitted:t})}));function bT(){return h.jsxs(h.Fragment,{children:["  ? ",h.jsx(Ir,{to:"/faq#0",className:"text-blue-500 underline hover:text-blue-600",children:" "})]})}const Nf=()=>Notification??window.Notification,Ai={canNotify(){return"Notification"in window||!!Nf()},isGranted(){return Ai.canNotify()&&Nf().permission==="granted"},requestPermission(e){const t=Nf();if(!Ai.canNotify()){alert("      .   ");return}if(!Ai.isGranted()){t.requestPermission().then(n=>{e&&e(n),ta.getState().setPermitted(n==="granted")});return}e&&e(t.permission)},getDeniedMessage(){return Ai.canNotify()?Ai.isGranted()?[]:["   .    "]:["     "]},show(e,t){const n=Ai.canNotify(),r=K1(ti.BROWSER),i=Ap.getState().setBanner,s=Nf();n&&r&&s.permission==="granted"&&(_T(i),navigator.serviceWorker.ready.then(function(o){o.showNotification(e,{badge:"/ci.svg",tag:t}).then()}))},close(e){!Ai.canNotify()||!Ai.isGranted()||navigator.serviceWorker.ready.then(function(t){t.getNotifications({tag:e}).then(function(n){n.forEach(function(r){r.close()})})})}},wT=1e3*60*60*24;function _T(e){const t="alarm-check",n=localStorage.getItem(t);n&&Date.now()-Number(n)<100*wT||setTimeout(()=>{e(bT(),()=>{localStorage.setItem(t,Date.now().toString())})},5e3)}const G1={canNotify(){return!0},isGranted(){return!0},requestPermission(e){},getDeniedMessage(){return[]},show(e,t){const n=Ip.getState().addToast;n&&n(e,t)},close(e){const t=Ip.getState().clearToast;t(e)}},ST="/notification.mp3";let rs=null;const CT=()=>{typeof Audio<"u"&&!rs&&(rs=new Audio(ST),rs.preload="auto",rs.volume=1,rs.load())};CT();const kT={canNotify(){return typeof Audio<"u"},isGranted(){return this.canNotify()},requestPermission(e){this.isGranted()?e?.("granted"):e?.("denied")},getDeniedMessage(){return this.canNotify()?[]:["     ."]},show(e,t){this.canNotify()&&rs&&(rs.currentTime=0,rs.play().catch(n=>{console.warn("Failed to play notification sound:",n)}))},close(e){rs&&(rs.pause(),rs.currentTime=0)}},lm="https://dev.allcll.kr";async function um(e,t){return await fetch(lm+e,{credentials:"include",...t})}async function co(e,t){const n=await fetch(lm+e,{credentials:"include",...t,headers:{"Content-Type":"application/json",...t?.headers}});if(!n.ok)throw new Error(await n.text());return await n.json()}async function jT(e,t,n){const r=await fetch(lm+e,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"},body:t?JSON.stringify(t):void 0,...n});if(!r.ok)throw new Error(await r.text());return r.status===204?null:await r.json()}function ET(e,t){return new EventSource(lm+e,{withCredentials:!0,...t})}async function gx(e,t){const n=await fetch(e,{credentials:"include",...t});if(!n.ok)throw new Error(await n.text());return await n.json()}const cm={subjectId:-1,subjectName:"",subjectCode:"",classCode:"",professorName:"",deptCd:"",manageDeptNm:"",studentYear:"",lesnTime:"",lesnRoom:"",tmNum:"",remark:null,curiTypeCdNm:"",curiLangNm:null,isDeleted:!0},TT=async()=>await co("/api/subjects");function Fi(){return us({queryKey:["subjects"],queryFn:TT,staleTime:1/0,select:e=>e.subjectResponses})}function NT(e){return e.getQueryData(["subjects"])?.subjectResponses??[]}let jw=!1;function uu(){const e=[],t=K1(ti.BROWSER),n=K1(ti.TOAST),r=Md(Wo.VIBRATE),i=Md(Wo.SOUND);return t&&e.push(Ai),n&&e.push(G1),r&&e.push(mx),i&&e.push(kT),e}const gi={canNotify(){return uu().every(e=>e.canNotify())},isGranted(){const e=uu().every(t=>t.isGranted());return ta.getState().setPermitted(e),e},requestPermission(e){gi.isGranted()||(uu().forEach(t=>t.requestPermission(e)),ta.getState().open())},getDeniedMessage(){return uu().flatMap(e=>e.getDeniedMessage())},show(e,t){ks.getState().alarmType!==ti.NONE&&uu().forEach(r=>r.show(e,t))},close(e){uu().forEach(t=>t.close(e))}};function PT(e,t,n){const{alwaysReload:r}=Mr.getState();if(!(!e||!t||!r)){for(const i of t)if(e.some(o=>o.subjectId===i.subjectId&&o.seatCount===0&&i.seatCount>0)){const o=OT(n,i.subjectId);if(!o){gi.show("unknown subject  ");return}gi.show(`${o.subjectCode}-${o.classCode} ${o.subjectName}  `)}}}function OT(e,t){return NT(e).find(r=>r.subjectId===t)}let Pf=null,Ew=1;function Tw(e){const t="global-notification_"+Ew,n="global-notification_"+ ++Ew;Pf&&(clearTimeout(Pf),gi.close(t),Pf=null),gi.show(e,n),Pf=setTimeout(()=>gi.close(n),3e3)}function LT(){const e=Mr(i=>i.alwaysReload),t=Mr(i=>i.setAlwaysReload),n=e;return N.useEffect(()=>{jw||(gi.isGranted()&&(Tw("  .     "),t(!0)),jw=!0)},[]),{isAlarm:n,changeAlarm:()=>{if(!n){if(ks.getState().alarmType===ti.NONE){if(!confirm("   ?"))return;ks.getState().resetSettings()}gi.requestPermission()}const i=n?"  ":"  ";t(!n),Tw(i)}}}var yx=(e=>(e.IDLE="idle",e.LIVE="live",e))(yx||{});const AT=3e3;let Of=null;const Mu=ur(e=>({lastUpdate:new Date,sseState:"live",updated:()=>{e({lastUpdate:new Date,sseState:"live"}),Of&&clearInterval(Of),Of=setTimeout(()=>{e({sseState:"idle"}),Of=null},AT)}}));var dm=(e=>(e.NON_MAJOR="nonMajorSeats",e.MAJOR="majorSeats",e.PINNED="pinSeats",e))(dm||{});let Lf=!1;const MT=()=>{const e=vi(),t=Mr(u=>u.needCount),n=Mr(u=>u.alwaysReload),r=Mr(u=>u.forceReloadNumber),i=Mr(u=>u.errorCount),s=Mr(u=>u.setError),o=Mr(u=>u.resetError),a=Mr(u=>u.isError);N.useEffect(()=>{const u=n||t>0;Lf||!u||i>=d_||(Lf=!0,RT(e,o).then(()=>{o(),Lf=!1}).catch(()=>{Lf=!1,i===0?s():setTimeout(s,mT)}))},[n,t,e,s,r,o,i]),N.useEffect(()=>{a&&gi.show(" .  .")},[a])},RT=(e,t)=>new Promise((n,r)=>{const i=ET("/api/connect");return i.addEventListener("nonMajorSeats",s=>{const o=JSON.parse(s.data);if(!o)return;const a=o.seatResponses??[];e.setQueryData(["nonMajorSeats"],(u=[])=>Nw(u,a)),Mu.getState().updated()}),i.addEventListener("majorSeats",s=>{const o=JSON.parse(s.data);if(!o)return;const a=o.seatResponses??[];e.setQueryData(["majorSeats"],(u=[])=>Nw(u,a)),Mu.getState().updated()}),i.addEventListener("pinSeats",s=>{const o=JSON.parse(s.data);if(!o)return;const a=o.seatResponses??[];e.setQueryData(["pinSeats"],(u=[])=>{const c=IT(u,a);return PT(u,c,e),c}),Mu.getState().updated()}),i.onopen=()=>{t(),Mu.getState().updated()},i.onerror=s=>{i.close(),r(new Error("SSE connection error: "+(s.type??"Unknown error")))},()=>{i.close(),n("SSE connection closed")}}),xx=e=>{const t=vi(),n=Mr(u=>u.addNeedCount),r=Mr(u=>u.deleteNeedCount),i=Mr(u=>u.isPending),s=Mr(u=>u.isError),o=Mr(u=>u.setForceReload);return N.useEffect(()=>{const u=()=>{document.visibilityState==="visible"?n():r()};return n(),document.addEventListener("visibilitychange",u),()=>{r(),document.removeEventListener("visibilitychange",u)}},[n,r]),{...us({queryKey:[e],queryFn:()=>Promise.resolve(t.getQueryData([e])??[])}),isPending:i,isError:s,refetch:o}};function Nw(e,t){const n=[];for(const r of t){const i=e.find(o=>o.subjectId===r.subjectId);!i||i.seatCount!==r.seatCount||i.queryTime!==r.queryTime?n.push(r):n.push(i)}return n}function IT(e,t){const n=new Set;[...e,...t].forEach(i=>{n.add(i.subjectId)});const r=[];return n.forEach(i=>{const s=e.find(u=>u.subjectId===i),o=t.find(u=>u.subjectId===i);o&&(!s||s.queryTime!==o.queryTime||s.seatCount!==o.seatCount)?r.push(o):s&&r.push(s)}),r}const Pw={idx:-1,key:""};function vx(){const e=Ns(),t=N.useRef(Pw);N.useEffect(()=>{const n=window.history.state;(!n||n.idx>=t.current.idx)&&window.scrollTo(0,0),t.current=n??Pw},[e.pathname]),MT()}function Ow(){return vx(),h.jsxs(h.Fragment,{children:[h.jsx(Gn,{children:h.jsx("title",{children:"ALLCLL"})}),h.jsx(fx,{}),h.jsx(ax,{}),h.jsx(u_,{}),h.jsx(Xy,{}),h.jsx(px,{})]})}function DT(e){const t=us({queryKey:["serviceSemester"],queryFn:FT,staleTime:1/0,select:r=>r?{...r,services:r.services.map(BT)}:null});if(!e||!t.data)return t;const n=t.data.services.find(r=>r.id===e);return{...t,data:{code:t.data.code,semester:t.data.semester,service:n}}}const FT=async()=>zT,BT=e=>{const t=new Date,n=new Date(e.startDate),r=new Date(e.endDate);n.setHours(0,0,0,0),r.setHours(23,59,59,999);const i=n<=t&&t<=r;return{id:e.id,startDate:n,endDate:r,withinPeriod:i,startDateStr:e.startDate,endDateStr:e.endDate,message:e.message}},zT={code:"WINTER-2025",semester:"2025-WINTER",services:[{id:"timetable",startDate:"2025-07-18",endDate:"2099-12-31",message:null},{id:"baskets",startDate:"2025-07-18",endDate:"2099-12-31",message:null},{id:"simulation",startDate:"2025-07-18",endDate:"2099-12-31",message:null},{id:"live",startDate:"2025-11-29",endDate:"2025-12-03",message:null},{id:"preSeat",startDate:"2025-08-16",endDate:"2025-09-30",message:null}]},$T=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17.971202850341797,height:16.003124237060547,viewBox:"0 0 17.971202850341797 16.003124237060547",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,32.006248474121094)"},N.createElement("path",{d:"M17.9688,24.003124237060547Q17.9376,23.596874237060547,17.6568,23.315624237060547Q17.3761,23.034374237060547,16.9705,23.003124237060547L15.9723,23.003124237060547L16.0035,18.003124237060547Q15.9723,17.878124237060547,15.9723,17.753124237060547L15.9723,17.253124237060547Q15.9723,16.721874237060547,15.5979,16.378124237060547Q15.2548,16.003124237060547,14.7244,16.003124237060547L14.2253,16.003124237060547Q14.1629,16.003124237060547,14.1317,16.003124237060547Q14.0693,16.003124237060547,14.0069,16.003124237060547L12.9775,16.003124237060547L12.2288,16.003124237060547Q11.6984,16.003124237060547,11.3553,16.378124237060547Q10.9809,16.721874237060547,10.9809,17.253124237060547L10.9809,18.003124237060547L10.9809,20.003124237060547Q10.9809,20.440624237060547,10.7002,20.721874237060547Q10.4194,21.003124237060547,9.98267,21.003124237060547L7.98614,21.003124237060547Q7.54939,21.003124237060547,7.26863,20.721874237060547Q6.98787,20.440624237060547,6.98787,20.003124237060547L6.98787,18.003124237060547L6.98787,17.253124237060547Q6.98787,16.721874237060547,6.61352,16.378124237060547Q6.27036,16.003124237060547,5.74003,16.003124237060547L4.99133,16.003124237060547L3.99307,16.003124237060547Q3.96187,16.003124237060547,3.93068,16.003124237060547Q3.89948,16.003124237060547,3.86828,16.003124237060547Q3.80589,16.003124237060547,3.7435,16.003124237060547L3.24437,16.003124237060547Q2.71404,16.003124237060547,2.37088,16.378124237060547Q1.99653,16.721874237060547,1.99653,17.253124237060547L1.99653,20.753124237060547Q1.99653,20.784374237060547,1.99653,20.846874237060547L1.99653,23.003124237060547L0.998267,23.003124237060547Q0.561525,23.034374237060547,0.280763,23.315624237060547Q0,23.596874237060547,0,24.034374237060547Q0,24.440624237060547,0.311958,24.784374237060547L8.29809,31.753124237060547Q8.64125,32.034324237060545,8.9844,32.00312423706055Q9.35875,32.00312423706055,9.63952,31.78442423706055L17.6257,24.753124237060547Q18,24.440624237060547,17.9688,24.003124237060547Z",fill:"#FFFFFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function UT({data:e}){const t=e.service?.endDate&&e.service.endDate<new Date;return h.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 px-4",children:h.jsxs("main",{className:"text-center",children:[h.jsx("h1",{className:"text-3xl mb-4 font-bold text-gray-900",children:t?"  ":" "}),h.jsxs("p",{className:"text-gray-600 mt-2",children:["    ",h.jsx("br",{}),"      ."]}),h.jsxs("div",{className:"mt-6 bg-white shadow-lg rounded-lg p-6 w-full max-w-md",children:[t?h.jsxs(h.Fragment,{children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[e.semester,"  "]}),h.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"     "}),h.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"    "})]}):h.jsxs(h.Fragment,{children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"   "}),h.jsxs("p",{className:"text-gray-600 mt-1",children:[e.semester," "]}),h.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[e.service?.startDateStr," ~ ",e.service?.endDateStr]})]}),h.jsx("hr",{className:"my-4 border-gray-200"}),h.jsx("h3",{className:"text-md font-semibold text-gray-900",children:""}),h.jsx("p",{className:"text-gray-600 flex items-center justify-center gap-2 mt-2",children:"allcllclla@google.com"}),h.jsx("a",{className:"text-gray-600 flex items-center justify-center gap-2 mt-1 hover:text-blue-500 hover:underline",href:"https://forms.gle/bCDTVujEHunnvHe88",target:"_blank",children:"  "}),h.jsx("a",{className:"text-gray-600 flex items-center justify-center gap-2 mt-1 hover:text-blue-500 hover:underline",href:"https://open.kakao.com/o/g3MztXfh",target:"_blank",children:" "})]}),h.jsx("div",{className:"flex flex-col items-center justify-center",children:h.jsxs(Ir,{to:"/",className:"flex items-center gap-2 mt-6 px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 cursor-pointer",children:[h.jsx($T,{className:"w-4 h-4"}),"  "]})})]})})}function f_({serviceId:e,children:t}){const{data:n,error:r}=DT(e);return r&&console.error("Semester service error:",r),!n||!("service"in n)||!n.service||n.service.withinPeriod?t:h.jsx(UT,{data:n})}function Lw({serviceId:e}){return vx(),h.jsxs(h.Fragment,{children:[h.jsx(fx,{}),h.jsx(ax,{}),h.jsxs(f_,{serviceId:e,children:[h.jsx(u_,{}),h.jsx(Xy,{})]}),h.jsx(px,{})]})}const HT=[{name:"  ",children:[{name:"  ",children:[{name:"",path:"/simulation"},{name:" ",path:"/simulation/logs"},{name:" ",path:"/simulation/admin"},{name:" ",path:"#"},{name:"/ ",path:"#"},{name:"/",path:"#"},{name:"(,)",path:"#"}]}]}];function QT(){const[e,t]=N.useState(!0),[n]=N.useState(/Android|iPhone/i.test(navigator.userAgent)),r=()=>{t(i=>!i)};return h.jsx("aside",{className:(e?"relative z-10":"relative bg-blue-50 z-10")+(!e||n?" w-[20px] min-w-[20px] h-[calc(100vh-60px)]":" w-[230px] min-w-[230px]"),children:e?h.jsxs("div",{className:n?"absolute w-[300px] min-w-[300px] h-full bg-white shadow-gray-800 shadow-md":"bg-white",children:[h.jsxs("div",{className:"h-12 bg-blue-500 text-white text-lg font-semibold flex items-center justify-between px-4",children:[h.jsx("span",{children:""}),h.jsx("button",{className:"text-white hover:text-gray-200 cursor-pointer",onClick:r,children:"<"})]}),h.jsx("ul",{className:"flex flex-col text-sm",children:HT.map((i,s)=>h.jsx(VT,{menu:i},s))})]}):h.jsx("div",{children:h.jsx("button",{className:"w-full h-12 bg-blue-500 text-white text-lg font-semibold text-center cursor-pointer hover:text-gray-200",onClick:r,children:">"})})})}const p_=!0;function VT({menu:e}){const[t,n]=N.useState(p_);return h.jsxs("li",{children:[h.jsxs("button",{className:"px-4 py-2 h-12 flex items-center justify-between w-full border-b border-neutral-300 cursor-pointer hover:bg-gray-100 "+(t?"font-semibold":"font-normal"),onClick:()=>n(r=>!r),children:[e.name,e.children&&h.jsx("span",{className:"ml-auto text-gray-500",children:t?"":""})]}),t&&e.children&&h.jsx("ul",{className:"",children:e.children.map((r,i)=>h.jsx(qT,{menu:r},i))})]})}function qT({menu:e}){const[t,n]=N.useState(p_);return h.jsxs("li",{className:"",children:[h.jsxs("button",{className:"px-4 py-2 h-10 flex items-center gap-4 w-full border-b border-neutral-300 cursor-pointer hover:bg-gray-100 "+(t?"font-semibold":"font-normal"),onClick:()=>n(r=>!r),children:[h.jsx("span",{children:t?"-":"+"}),h.jsx("span",{children:e.name})]}),t&&e.children&&h.jsx("ul",{className:"ml-1 pl-4 bg-neutral-100 font-semibold",children:e.children.map((r,i)=>h.jsx(WT,{menu:r},i))})]})}function WT({menu:e}){return h.jsx("li",{children:e.path==="#"?h.jsx("div",{className:"block px-2 py-2 text-xs text-gray-400 cursor-not-allowed",children:e.name}):h.jsx(xl,{to:e.path??"#",className:({isActive:t})=>`block px-2 py-2 text-xs cursor-pointer hover:bg-blue-500 hover:text-white ${t?"bg-blue-500 text-white":""}`,end:!0,children:e.name})})}const Fp=ur(e=>({tabs:[],setTab:t=>{e(({tabs:n})=>{const r=n.findIndex(i=>i.urlPath===t.urlPath);return r!==-1?n[r]=t:n.push(t),{tabs:[...n]}})},deleteTab:(t,n)=>{e(({tabs:r})=>{const i=r.filter(u=>u.urlPath!==t&&u.realUrl!==t),s=i.length?[...i]:[KT],o=window.location.pathname.replace(/\d+/,""),a=t===o?s[s.length-1]:null;return a&&n(a.realUrl,{replace:!0}),{tabs:s}})}})),Y1=[{title:"",urlPath:"/simulation"},{title:" ",urlPath:"/simulation/logs"},{title:" ",urlPath:"/simulation/logs/"},{title:" ",urlPath:"/simulation/interest"},{title:" ",urlPath:"/simulation/admin"}],KT={...Y1[0],realUrl:Y1[0].urlPath};function GT(){const e=sm(),t=Ns(),n=Fp(i=>i.tabs),r=Fp(i=>i.setTab);N.useEffect(()=>{if(n.length===0){const i=Aw(t);r(i),e(i.realUrl)}},[n]),N.useEffect(()=>{r(Aw(t))},[t.pathname])}function Aw(e){const t=e.pathname.replace(/\d+/,"");return{title:Y1.find(n=>n.urlPath===t)?.title||"   ",urlPath:t,realUrl:e.pathname}}function YT(){const e=Fp(r=>r.tabs),t=Fp(r=>r.deleteTab),n=sm();return GT(),h.jsx("div",{className:"flex border-b border-neutral-300 bg-gray-100 text-sm h-12",children:e.map(r=>h.jsxs(xl,{to:r.realUrl,className:({isActive:i})=>"px-2.5 flex items-center gap-2.5 w-1/4 sm:w-1/8 border-r-1 border-r-neutral-300 cursor-pointer"+(i?" mb-[-1px] bg-white border-b-2 border-b-white border-t-4 border-t-blue-500 font-semibold text-blue-500":" text-gray-500 hover:bg-white"),end:!0,children:[h.jsx("span",{className:"flex-1 text-center overflow-hidden text-ellipsis text-nowrap",children:r.title}),h.jsx("button",{className:"w-4 text-gray-700 cursor-pointer",onClick:i=>{i.preventDefault(),i.stopPropagation(),t(r.urlPath,n)},children:"x"})]},r.urlPath))})}function XT(){return vx(),h.jsxs(h.Fragment,{children:[h.jsx(fx,{}),h.jsx(ax,{}),h.jsx(f_,{serviceId:"simulation",children:h.jsx("div",{className:"w-full bg-white text-sm text-gray-800 font-sans",children:h.jsxs("div",{className:"flex",children:[h.jsx(QT,{}),h.jsxs("div",{className:"flex-auto min-w-0",children:[h.jsx(YT,{}),h.jsx("main",{className:"flex-1 p-4 space-y-4 mx-auto max-w-screen-2xl overflow-x-hidden",children:h.jsx(Xy,{})})]})]})})}),h.jsx(px,{})]})}function vl({bgColor:e,className:t,children:n}){const r=e??"even:bg-white ",i=t?` ${t}`:"";return h.jsx("section",{className:r,children:h.jsx("div",{className:`mx-auto max-w-7xl px-4 md:px-8 py-10 ${i}`,children:n})})}const m_=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:15.75,height:18,viewBox:"0 0 15.75 18",...e},N.createElement("defs",null,N.createElement("clipPath",{id:"master_svg0_85_3269"},N.createElement("rect",{x:0,y:0,width:15.75,height:18,rx:0}))),N.createElement("g",{clipPath:"url(#master_svg0_85_3269)"},N.createElement("g",{transform:"matrix(1,0,0,-1,0,32.2734375)"},N.createElement("g",null,N.createElement("path",{d:"M15.4336,22.07812875Q15.75,22.42968875,15.75,22.88671875Q15.75,23.34374875,15.4336,23.69530875L9.80859,29.32031875Q9.45703,29.63671875,9,29.63671875Q8.54297,29.63671875,8.19141,29.32031875Q7.875,28.96871875,7.875,28.51171875Q7.875,28.05471875,8.19141,27.70311875L11.918,24.01171875L1.125,24.01171875Q0.632812,24.01171875,0.316406,23.69530875Q0,23.37890875,0,22.88671875Q0,22.39452875,0.316406,22.07812875Q0.632812,21.76171875,1.125,21.76171875L11.918,21.76171875L8.19141,18.07030875Q7.875,17.71874875,7.875,17.26171875Q7.875,16.80468775,8.19141,16.45312475Q8.54297,16.13671875,9,16.13671875Q9.45703,16.13671875,9.80859,16.45312475L15.4336,22.07812875Z",fill:"#FFFFFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))))),JT=e=>N.createElement("svg",{width:16,height:15,viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M15.4336 8.19531C15.6445 7.96094 15.75 7.69141 15.75 7.38672C15.75 7.08203 15.6445 6.8125 15.4336 6.57812L9.80859 0.953125C9.57422 0.742191 9.30469 0.636719 9 0.636719C8.69531 0.636719 8.42578 0.742191 8.19141 0.953125C7.98047 1.18752 7.875 1.45705 7.875 1.76172C7.875 2.06639 7.98047 2.33591 8.19141 2.57031L11.918 6.26172H1.125C0.796875 6.26172 0.527344 6.36719 0.316406 6.57812C0.105469 6.78906 0 7.05859 0 7.38672C0 7.71485 0.105469 7.98438 0.316406 8.19531C0.527344 8.40625 0.796875 8.51172 1.125 8.51172H11.918L8.19141 12.2031C7.98047 12.4375 7.875 12.707 7.875 13.0117C7.875 13.3164 7.98047 13.5859 8.19141 13.8203C8.42578 14.0312 8.69531 14.1367 9 14.1367C9.30469 14.1367 9.57422 14.0312 9.80859 13.8203L15.4336 8.19531Z",fill:"#007AFF"})),Mw="",Rw="2025",ZT="12 1()",eN="12 3()";function tN(){return h.jsxs(vl,{className:"flex flex-col md:flex-row items-center justify-between",bgColor:"bg-banner-skysoft",children:[h.jsxs("div",{className:"max-w-xl",children:[h.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[h.jsx("img",{src:"/calendar.png",alt:"calendar",className:"w-10 h-10"}),h.jsxs("span",{className:"italic text-xs text-stone-500 ",children:[Rw," ",Mw,"    ",h.jsx("br",{})," ",ZT," ~ ",eN]})]}),h.jsxs("h2",{className:"text-xl mt-10 sm:text-2xl md:text-4xl leading-snug font-bold mb-3 ",children:[Rw," ",Mw," ,"]}),h.jsxs("div",{className:"flex flex-row justify-start items-center text-xl sm:text-2xl md:text-4xl leading-snug font-bold mb-3",children:[h.jsx("img",{src:"/logo-name.svg",alt:"logo-name",className:"w-20 sm:w-32 md:w-40 lg:w-48 mr-2 animate-updown"})," !"]}),h.jsx("p",{className:"text-gray-400 mt-4",children:"    ,    ALLCLL  "}),h.jsxs("div",{className:"flex flex-col md:flex-row gap-4 ",children:[h.jsxs(Ir,{to:"/live",className:"bg-blue-500 hover:bg-blue-600 text-white rounded-md px-6 py-3 mt-6 flex items-center gap-2 w-fit",children:["  ",h.jsx(m_,{className:"w-4 h-4"})]}),h.jsxs(Ir,{to:"/simulation",className:"bg-white hover:bg-gray-100 text-blue-500 rounded-md px-6 py-3 mt-6 flex items-center gap-2 w-fit",children:["  ",h.jsx(JT,{className:"w-4 h-4"})]})]})]}),h.jsx("img",{src:"/summer-banner.png",alt:"summer-banner",className:"w-90 hidden sm:block  mt-8 md:mt-4"})]})}const nN=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:15,height:15,viewBox:"0 0 15 15",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,30)"},N.createElement("path",{d:"M10.3125,30Q9.69727,29.9707,9.43359,29.414099999999998Q9.22852,28.8574,9.63867,28.3887L10.8691,27.1875L5.88867,22.23633Q5.625,21.94336,5.625,21.5625Q5.625,21.18164,5.88867,20.88867Q6.18164,20.625,6.5625,20.625Q6.94336,20.625,7.23633,20.88867L12.1875,25.8691L13.3887,24.638669999999998Q13.8574,24.22852,14.4141,24.433590000000002Q14.9707,24.69727,15,25.3125L15,29.0625Q15,29.4727,14.7363,29.7363Q14.4727,30,14.0625,30L10.3125,30ZM2.34375,29.0625Q1.34766,29.0332,0.673828,28.3887Q0.0292969,27.7148,0,26.7188L0,17.34375Q0.0292969,16.34766,0.673828,15.673828Q1.34766,15.0292969,2.34375,15L11.7188,15Q12.7148,15.0292969,13.3887,15.673828Q14.0332,16.34766,14.0625,17.34375L14.0625,20.625Q14.0625,21.03516,13.7988,21.29883Q13.5352,21.5625,13.125,21.5625Q12.7148,21.5625,12.4512,21.29883Q12.1875,21.03516,12.1875,20.625L12.1875,17.34375Q12.1582,16.9043,11.7188,16.875L2.34375,16.875Q1.9043,16.9043,1.875,17.34375L1.875,26.7188Q1.9043,27.1582,2.34375,27.1875L5.625,27.1875Q6.03516,27.1875,6.29883,27.4512Q6.5625,27.7148,6.5625,28.125Q6.5625,28.5352,6.29883,28.7988Q6.03516,29.0625,5.625,29.0625L2.34375,29.0625Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function hm({title:e,subtitle:t,href:n,disabled:r=!1}){const i=!!n&&!r;return h.jsxs(h.Fragment,{children:[i?h.jsxs(Ir,{to:n,className:"flex items-center gap-2 hover:underline focus:underline",children:[h.jsx("h2",{className:"text-2xl font-semibold",children:e}),h.jsx(nN,{className:"w-4 h-4"})]}):h.jsx("h2",{className:"text-2xl font-semibold",children:e}),t&&h.jsx("h3",{className:"text-gray-500",children:t})]})}function Bp({children:e,className:t,...n}){return h.jsx("div",{className:"bg-white p-3 rounded-md text-sm shadow-md shadow-gray-300 "+t,...n,children:e})}function g_(e,t){const n=xt(c=>c.options),[r,i]=N.useState({dragging:!1,startX:0,startY:0}),s=N.useCallback(c=>{c.stopPropagation();const{x:f,y:p}=Af(c,n);e&&e(f,p,f,p),i({startX:f,startY:p,dragging:!0})},[e]),o=c=>{c.stopPropagation();const{x:f,y:p}=Af(c,n);t&&t(r.startX,r.startY,f,p),i(g=>({...g,dragging:!1}))},a=c=>{c.stopPropagation();const{x:f,y:p}=Af(c,n);e&&e(r.startX,r.startY,f,p)},u=c=>{c.stopPropagation();const f=c.touches[0],{x:p,y:g}=Af(f,n);e&&e(r.startX,r.startY,p,g)};return N.useEffect(()=>{if(r.dragging)return document.addEventListener("mouseup",o),document.addEventListener("touchmove",u),document.addEventListener("mousemove",a),()=>{document.removeEventListener("mouseup",o),document.removeEventListener("touchmove",u),document.removeEventListener("mousemove",a)}},[r,e,t]),{dragging:r.dragging,onMouseDown:s}}const Iw=6;function Af(e,t){const{tableX:n,tableY:r,width:i,height:s,cols:o,rows:a}=t,{pageX:u,pageY:c}=e,f=i/o||1,p=s/a||1,g=Math.floor((u-n)/f),v=Math.floor((c-r)/p*Iw)/Iw,w=Math.max(0,Math.min(o-1,g)),_=Math.max(0,Math.min(a,v));return{x:w,y:_}}function rN(e){return new Promise(t=>setTimeout(t,e))}function y_(e,t=9){const n=t*60,r=new Date,i=new Date(e);return i.setMonth(i.getMonth()-n-r.getTimezoneOffset()),i}class cu{time;constructor(t){switch(typeof t){case"string":const[r,i]=t.split(":").map(Number);this.time=r*60+i;break;case"object":const{hours:s,minutes:o}=t;this.time=s*60+o;break;case"number":this.time=t;break}if(isNaN(this.time)||this.time<0||this.time>=1440)throw this.time=0,new Error("Invalid time value")}toObject(){const t=Math.floor(this.time/60),n=this.time%60;return{hours:t,minutes:n}}toString(){const{hours:t,minutes:n}=this.toObject(),r=t.toString().padStart(2,"0"),i=n.toString().padStart(2,"0");return`${r}:${i}`}compare(t){const n=this.time-t.time;return n===0?0:n>0?1:-1}}const bx={timeTableId:-1,timeTableName:" ",semester:"",schedules:[]},iN=async()=>await co("/api/timetables"),x_=()=>{const e=xt(r=>r.pickTimetable),t=xt(r=>r.currentTimetable);return us({queryKey:["timetableList"],queryFn:iN,select:r=>{const{timeTables:i}=r;if(!i.some(o=>o.timeTableId===t?.timeTableId)){e(i[i.length-1]);return}if(i.length<=0&&t.timeTableId!==-1){e({timeTableId:-1,timeTableName:" ",semester:""});return}return i},staleTime:1e3*60*5})};function fm(e){const{data:t}=Fi();return us({queryKey:["timetableData",e],queryFn:async()=>!e||e<=0?{timetableId:-1,timetableName:" ",semester:"",schedules:[]}:await co(`/api/timetables/${e}/schedules`),select:r=>uN(r,t),refetchOnWindowFocus:!1,staleTime:1e3*60*5})}function sN(){const e=vi(),{currentTimetable:t,pickTimetable:n}=xt.getState();return aa({mutationFn:async({timeTableId:r,timeTableName:i})=>await co(`/api/timetables/${r}`,{method:"PATCH",body:JSON.stringify({timeTableName:i})}),onMutate:async({timeTableId:r})=>(await e.cancelQueries({queryKey:["timetableList",r]}),{timeTableId:r}),onSuccess:async(r,i,s)=>{const o=s?.timeTableId;t?.timeTableId===o&&n({timeTableId:r.timeTableId,timeTableName:r.timeTableName,semester:r.semester}),await e.invalidateQueries({queryKey:["timetableList"]}),await e.invalidateQueries({queryKey:["timetableList",o]})},onError:async(r,i,s)=>{console.error(`   (id: ${s?.timeTableId})`,r),await e.invalidateQueries({queryKey:["timetableList"]}),await e.invalidateQueries({queryKey:["timetableList",s?.timeTableId]})}})}function v_(){const e=vi(),t=xt(n=>n.pickTimetable);return aa({mutationFn:async n=>await um(`/api/timetables/${n}`,{method:"DELETE"}),onMutate:async n=>(await e.cancelQueries({queryKey:["timetableList"]}),await e.cancelQueries({queryKey:["timetableData",n]}),{timeTableId:n}),onError:async(n,r,i)=>{console.error(`   (id: ${i?.timeTableId})`,n),await e.invalidateQueries({queryKey:["timetableList",i?.timeTableId]}),await e.invalidateQueries({queryKey:["timetableList"]})},onSuccess:async(n,r,i)=>{const{timeTables:s}=e.getQueryData(["timetableList"]);if(s&&s.length>1&&i?.timeTableId){const o=s.filter(u=>u.timeTableId!==i.timeTableId),a=o[o.length-1];t({timeTableId:a.timeTableId,timeTableName:a.timeTableName,semester:a.semester})}else t({timeTableId:-1,timeTableName:" ",semester:""});await e.invalidateQueries({queryKey:["timetableList"]}),await e.invalidateQueries({queryKey:["timetableData",i?.timeTableId]})}})}function b_(){const e=vi();return aa({mutationFn:async({timeTableName:t,semester:n})=>await co("/api/timetables",{method:"POST",body:JSON.stringify({timeTableName:t,semester:n})}),onMutate:async({timeTableName:t,semester:n})=>{await e.cancelQueries({queryKey:["timetableList"]});const{timeTables:r}=e.getQueryData(["timetableList"])??{},i={timeTableId:-1,timeTableName:t,semester:n};if(r){const s=[...r,i];e.setQueryData(["timetableList"],{timeTables:s}),r.push(i)}return{previousTimetables:r}},onSuccess:async t=>{const{pickTimetable:n}=xt.getState();n({timeTableId:t.timeTableId,timeTableName:t.timeTableName,semester:t.semester}),await e.invalidateQueries({queryKey:["timetableList"]})},onError:async t=>{try{const n=JSON.parse(t.message);alert(n.message)}catch{alert("Error adding Timetable")}await e.invalidateQueries({queryKey:["timetableList"]})}})}function oN(e){const t=vi(),n=xt(i=>i.changeScheduleData),{mutateAsync:r}=b_();return aa({mutationFn:async({schedule:i})=>{let s=e;if(!e||e<=0){const a=await r({timeTableName:" ",semester:"2025-2"});s=a.timeTableId,t.setQueryData(["timetableData",s],{timetableId:s,timetableName:a.timeTableName,semester:a.semester,schedules:[i]}),await rN(300)}return{schedule:await co(`/api/timetables/${s}/schedules`,{method:"POST",body:JSON.stringify(i)}),targetTimetableId:s}},onMutate:async i=>{const s=t.getQueryData(["timetableData",e])??{...bx};return e&&e>0&&(await t.cancelQueries({queryKey:["timetableData",e]}),t.setQueryData(["timetableData",e],{...s,schedules:[...s.schedules,i.schedule]}),n(new Dr().toUiData(),qn.NONE)),{...i,prevTimetableSchedules:s}},onError:(i,s,o)=>{t.setQueryData(["timetableData",e],o?.prevTimetableSchedules),console.error(i)},onSuccess:async({schedule:i,targetTimetableId:s},o,a)=>{const u=t.getQueryData(["timetableData",s]);n(new Dr().toUiData(),qn.NONE),t.setQueryData(["timetableData",s],{...u,schedules:u?.schedules.map(c=>c.scheduleId===a.schedule.scheduleId?i:c)})}})}function aN(e){const t=vi();return aa({mutationFn:async({schedule:n})=>await co(`/api/timetables/${e}/schedules/${n.scheduleId}`,{method:"PATCH",body:JSON.stringify(n)}),onMutate:async n=>{const r=t.getQueryData(["timetableData",e])??{...bx};return await t.cancelQueries({queryKey:["timetableData",e]}),{...n,prevTimetableSchedules:r}},onError:(n,r,i)=>{t.setQueryData(["timetableData",e],i?.prevTimetableSchedules),console.error(n)},onSuccess:async(n,r,i)=>{if(!i?.prevTimetableSchedules){await t.invalidateQueries({queryKey:["timetableList"]}),await t.invalidateQueries({queryKey:["timetableData",e]});return}t.setQueryData(["timetableData",e],{...i.prevTimetableSchedules,schedules:i.prevTimetableSchedules.schedules.map(s=>s.scheduleId===n.scheduleId?{...s,...n}:s)})}})}function lN(e){const t=vi();return aa({mutationFn:async({schedule:n})=>await jT(`/api/timetables/${e}/schedules/${n.scheduleId}`,{scheduleType:n.scheduleType}),onMutate:async n=>{const r=t.getQueryData(["timetableData",e])??{...bx};return await t.cancelQueries({queryKey:["timetableData",e]}),{...n,prevTimetableSchedules:r}},onError:(n,r,i)=>{t.setQueryData(["timetableData",e],i?.prevTimetableSchedules),console.error(n)},onSuccess:async(n,{schedule:r},i)=>{if(console.log("  ! timetableId:",e),!i?.prevTimetableSchedules){await t.invalidateQueries({queryKey:["timetableList"]}),await t.invalidateQueries({queryKey:["timetableData",e]});return}console.log("  !   . timetableId:",e,i.prevTimetableSchedules),t.setQueryData(["timetableData",e],{...i.prevTimetableSchedules,schedules:i.prevTimetableSchedules.schedules.filter(s=>s.scheduleId!==r.scheduleId)}),await t.invalidateQueries({queryKey:["timetableData",e]})}})}function uN(e,t){if(!e||!t)return[];const{schedules:n}=e;return n.map(r=>new Dr(r,t).toUiData())}function w_(e,t=9){const n=xt(a=>a.schedule),r=xt(a=>a.mode),i=["rose","amber","green","emerald","blue","violet"],s={};if(!e)return;let o=e;return(r===qn.EDIT||r===qn.VIEW)&&(o=e.map(a=>a.scheduleId===n.scheduleId?n:a)),o.forEach((a,u)=>{const c=a.isDeleted?"gray":i[u%i.length],{subjectName:f,professorName:p,location:g}=a;new Yu(a.timeSlots).toUiData(t).forEach(w=>{s[w.dayOfWeek]||(s[w.dayOfWeek]=[]),s[w.dayOfWeek].push({title:f,professor:p,location:g,schedule:a,color:c,...w})})}),Object.keys(s).forEach(a=>{s[a]=cN(s[a])}),s}function cN(e){const n=xt.getState().options.isMobile?8:16,r=o=>parseFloat(o.replace("px",""));return e.sort((o,a)=>{const u=r(o.height);return r(a.height)-u}).reduce((o,a)=>{const u=r(a.top),c=u+r(a.height),p=o.reduce((g,v)=>{const w=r(v.top),_=w+r(v.height);return w<=u&&u<_||w<c&&c<=_?Math.max(g,v.depth):g},-1)+1;return[...o,{...a,depth:p}]},[]).map(o=>{const a=n*o.depth;return{...o,left:`${a}px`,right:"0px",height:o.height,top:o.top}})}function dN(e){const t=xt(i=>i.schedule),n=xt(i=>i.mode);if(!e)return[];const r=e.filter(i=>i.timeSlots===null||i.timeSlots.length===0);return n===qn.NONE||t.timeSlots.length>0?r.map(i=>({...i,selected:!1})):t.scheduleId<=0?[...r.map(i=>({...i,selected:!1})),{...t,selected:!0}]:r.map(i=>({...i,selected:i.scheduleId===t.scheduleId}))}const js=ur((e,t)=>({type:null,openBottomSheet:(n,r)=>{e({type:n,props:r})},closeBottomSheet:n=>{const r=t().type;(!n||r===n)&&e({type:null,props:void 0})},resetBottomSheet:()=>{e({type:null})}})),A0=()=>new Dr().toUiData();let M0;function kr(){const e=vi(),t=xt(C=>C.changeScheduleData),r=xt(C=>C.currentTimetable)?.timeTableId??-1,i=js(C=>C.openBottomSheet),s=js(C=>C.closeBottomSheet),[,o]=N.useTransition(),{mutate:a}=oN(r),{mutate:u}=aN(r),{mutate:c}=lN(r);return{setOptimisticSchedule:C=>{o(()=>t(C,qn.NONE))},openScheduleModal:C=>{M0=e.getQueryData(["timetableData",r]);let E;!C.scheduleId||C.scheduleId<=0?(E=qn.CREATE,C.scheduleType!=="official"&&i("edit")):C.scheduleType==="official"?(E=qn.VIEW,console.log(M0),i("Info")):(E=qn.EDIT,i("edit")),t(C,E)},editSchedule:C=>{const E=xt.getState().schedule;let L=C instanceof Function?C(E):C;t(L)},saveSchedule:(C,E=!0)=>{const L=xt.getState().schedule,A=xt.getState().mode;if(C&&C.preventDefault(),!new Yu(L.timeSlots).validate()){alert("       .");return}const U=L.timeSlots.length!==0;if(L.scheduleType==="custom"&&!U){alert(" !.");return}const D=new Dr(L).toApiData();A===qn.CREATE?(D.scheduleId=fN(M0?.schedules??[]),a({schedule:D})):A===qn.EDIT&&(u({schedule:D}),t({...A0()},qn.NONE)),E&&s("edit")},deleteSchedule:C=>{const E=xt.getState().schedule;C&&C.preventDefault();const L=new Dr(E).toApiData();c({schedule:L}),t({...A0()},qn.NONE),s()},cancelSchedule:(C,E=!0)=>{C&&C.preventDefault(),t({...A0()},qn.NONE),E&&s()}}}function eh(){const e=xt(n=>n.mode),t=xt(n=>n.schedule);return{modalActionType:e,schedule:t}}function hN(){const{minTime:e}=xt(n=>n.options);return{getTimeslot:(n,r,i)=>{n>r&&([n,r]=[r,n]),i!==void 0&&r-n<i&&(r=n+i);const s=Dw(e,n),o=Dw(e,r);return{startTime:s,endTime:o}}}}function Dw(e,t){const n=e+Math.floor(t),r=Math.floor((t-Math.floor(t))*60);return n<0?"00:00":n>23?"23:50":`${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}function fN(e){let t=-Math.floor(Math.random()*1e6);for(;e.some(n=>n.scheduleId===t);)t=-Math.floor(Math.random()*1e6);return t}function __({title:e,professor:t,location:n,color:r="blue",schedule:i,selected:s=!1,timeslotIndex:o,fixed:a=!1,...u}){const{text:c,bgLight:f,bg:p}=pN(r),g=N.useRef(null),{openScheduleModal:v}=kr(),w=xt(U=>U.schedule),_=s||w.scheduleId===i.scheduleId,C=(U,P,D,z)=>{if(!g.current||a)return;const Q=D-U,F=(z-P)*Rd;g.current.style.setProperty("transform",`translate(calc(100% * ${Q}), ${F}px)`)},E=(U,P,D,z)=>{if(!g.current||a)return;i.scheduleType==="official"&&g.current.style.setProperty("transform","");const Q={...i,timeSlots:i.timeSlots.map((F,oe)=>oe!==o?F:TN(F,D-U,z-P))};v(Q),g.current.style.setProperty("transform","")},L=U=>{(U.key==="Enter"||U.key===" ")&&(U.preventDefault(),U.stopPropagation(),E(0,0,0,0))},{dragging:A,onMouseDown:B}=g_(C,E);return h.jsxs("div",{ref:g,className:`flex absolute ${f} rounded-l-xs cursor-pointer hover:z-20 focus:z-20 `+u.className,onMouseDown:B,onKeyDown:L,tabIndex:0,...u,children:[h.jsx("div",{className:`w-[2px] h-full sm:w-1 sm:rounded-xs  ${p}`}),h.jsxs("div",{className:"flex-auto sm:p-2 p-[1px] "+(_?"animate-pulse":"")+(A?"opacity-50":""),children:[h.jsx("h3",{className:`${c} font-semibold text-[9px] sm:text-sm`,children:e}),h.jsxs("p",{className:"sm:text-xs text-[7px] text-gray-500",children:[t," ",n]})]})]})}function pN(e){switch(e){case"rose":return{text:"text-rose-500",bgLight:"bg-rose-50",bg:"bg-rose-500"};case"amber":return{text:"text-amber-500",bgLight:"bg-amber-50",bg:"bg-amber-500"};case"green":return{text:"text-green-500",bgLight:"bg-green-50",bg:"bg-green-500"};case"emerald":return{text:"text-emerald-500",bgLight:"bg-emerald-50",bg:"bg-emerald-500"};case"blue":return{text:"text-blue-500",bgLight:"bg-blue-50",bg:"bg-blue-500"};case"violet":return{text:"text-violet-500",bgLight:"bg-violet-50",bg:"bg-violet-500"};default:return{text:"text-gray-500",bgLight:"bg-gray-50",bg:"bg-gray-500"}}}function mN({dayOfWeeks:e}){const t=xt(p=>p.schedule),n=xt(p=>p.options),{data:r}=Fi();if(!r||t.scheduleId>0||!t.timeSlots||t.timeSlots.length<=0)return null;let i=parseInt(n.rowNames[0].replace("",""));Number.isNaN(i)&&(i=9);const s=new Dr(t,r).toUiData(),a=new Yu(s.timeSlots).toUiData(i).filter(({dayOfWeek:p})=>p===e);if(!a)return null;const{subjectName:u,professorName:c,location:f}=s;return a.map(({height:p,top:g,left:v,right:w},_)=>h.jsx(gN,{timeslotIndex:_,title:u??"",professor:c??"",location:f??"",schedule:t,style:{height:p,top:g,left:v,right:w}},`wire-schedule-${e}-${_}`))}function gN({title:e,professor:t,location:n,...r}){const{timeslotIndex:i,...s}=r;return h.jsx("div",{className:`flex absolute rounded-md z-20 
      border-violet-500 border-2 md:border-4
      ${r.className}`,style:{...r.style},...s,children:h.jsxs("div",{className:"flex-auto p-2 bg-violet-50  rounded-md animate-pulse",children:[h.jsx("h3",{className:"text-violet-500 font-semibold  text-[10px] sm:text-sm",children:e}),h.jsxs("p",{className:" sm:text-xs text-[8px]  text-gray-500",children:[t," ",n]})]})})}const R0=()=>new Dr().toUiData(),yN=({dayOfWeeks:e,scheduleTimes:t})=>{const n=t,{setOptimisticSchedule:r,openScheduleModal:i}=kr(),{getTimeslot:s}=hN(),o=(f,p,g,v)=>{const{startTime:w,endTime:_}=s(p,v,1);r({...R0(),timeSlots:[{dayOfWeeks:e,startTime:w,endTime:_}]})},a=(f,p,g,v)=>{const{startTime:w,endTime:_}=s(p,v,1);i({...R0(),timeSlots:[{dayOfWeeks:e,startTime:w,endTime:_}]})},u=f=>{(f.key==="Enter"||f.key===" ")&&i({...R0()})},{onMouseDown:c}=g_(o,a);return h.jsxs("div",{className:"relative flex-auto px-[2px]",tabIndex:0,onMouseDown:c,onKeyDown:u,children:[h.jsx(mN,{dayOfWeeks:e}),n.map(({title:f,professor:p,location:g,color:v,height:w,top:_,left:C,right:E,schedule:L},A)=>h.jsx(__,{timeslotIndex:A,title:f,professor:p??"",location:g??"",schedule:L,color:v,style:{height:w,top:_,left:C,right:E}},"schedule-"+A))]})};function xN(){const e=xt(r=>r.currentTimetable?.timeTableId),{data:t}=fm(e),n=t?.reduce((r,i)=>{if(i.scheduleType!=="official"||!i.tmNum)return r;const s=i.tmNum.split("/").map(o=>{const a=Number(o);return isNaN(a)?0:a});return r.map((o,a)=>o+(s[a]??0))},[0,0,0])??[0,0,0];return h.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 bg-blue-50 rounded-md p-2 mt-3",children:[h.jsxs("span",{children:[" : ",n[0]??0]}),h.jsxs("span",{children:[": ",n[1]??0]}),h.jsxs("span",{children:[": ",n[2]??0]})]})}const th=e=>N.createElement("svg",{width:23,height:23,viewBox:"0 0 23 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M10.3669 11.3356L7.94579 9.04443C7.8086 8.9146 7.73766 8.75936 7.733 8.57871C7.72833 8.39807 7.79059 8.23915 7.9198 8.10198C8.049 7.9648 8.20424 7.89386 8.38551 7.88918C8.56678 7.88449 8.7257 7.94676 8.86225 8.07598L11.2834 10.3671L13.5745 7.94599C13.7043 7.80879 13.8596 7.73786 14.0402 7.73319C14.2209 7.72852 14.3798 7.79079 14.517 7.91999C14.6541 8.04919 14.7252 8.20458 14.7302 8.38616C14.7352 8.56774 14.6728 8.7265 14.5429 8.86244L12.2518 11.2836L14.6729 13.5747C14.8101 13.7045 14.8812 13.8599 14.8862 14.0409C14.8912 14.2218 14.8288 14.3806 14.6989 14.5171C14.5691 14.6537 14.4137 14.7248 14.2328 14.7304C14.0518 14.736 13.8931 14.6736 13.7565 14.5431L11.3354 12.252L9.04423 14.6731C8.9144 14.8103 8.75901 14.8814 8.57806 14.8864C8.39711 14.8914 8.23835 14.829 8.10178 14.6991C7.96521 14.5693 7.89428 14.414 7.88898 14.2334C7.88369 14.0528 7.94595 13.8939 8.07578 13.7567L10.3669 11.3356Z",fill:"#6B7280"}));function vN(){const e=xt(r=>r.currentTimetable),{data:t}=fm(e?.timeTableId),n=dN(t);return h.jsx("div",{className:"flex flex-col gap-2 mt-3",children:n.map(r=>h.jsx(bN,{schedule:r,selected:r.selected},r.scheduleId))})}function bN({schedule:e,selected:t}){const{openScheduleModal:n}=kr(),r=()=>{n(e)};return h.jsxs("div",{className:"h-10 w-full p-4 flex justify-between items-center rounded border "+(t?"bg-blue-100 border-blue-500":"border-gray-200"),children:[h.jsxs("div",{className:"flex gap-5",children:[h.jsx("p",{children:e.subjectName}),h.jsx("p",{className:"text-stone-400",children:e.professorName})]}),h.jsx("button",{type:"button",onClick:r,className:"cursor-pointer",children:h.jsx(th,{className:"w-5 h-5"})})]},e.scheduleId)}const pm=["","","","","","",""];function wN(e){const t=xt(a=>a.schedule),n=xt(a=>a.setOptions),r=[...e??[],t],i=r.reduce((a,u)=>{let c=a;return u.timeSlots?(u.timeSlots.some(f=>f.dayOfWeeks==="")&&(c=Math.max(c,6)),u.timeSlots.some(f=>f.dayOfWeeks==="")&&(c=Math.max(c,7)),c):a},5),{minTime:s,maxTime:o}=r.reduce((a,u)=>(u.timeSlots.forEach(c=>{const f=parseInt(c.startTime.split(":")[0]),p=parseInt(c.endTime.split(":")[0]);isNaN(f)||isNaN(p)||(a.minTime=Math.min(a.minTime,f),a.maxTime=Math.max(a.maxTime,p))}),a),{minTime:9,maxTime:20});return N.useEffect(()=>{n({rowNames:Array.from({length:o-s+1},(a,u)=>`${s+u}`),minTime:s,maxTime:o,rows:o-s+1})},[s,o]),N.useEffect(()=>{n({colNames:pm.slice(0,i),cols:i})},[i]),{}}let I0=null;const _N=e=>{const t=xt(r=>r.setOptions),n=()=>{if(!e.current)return;const r=e.current.getBoundingClientRect();t({width:r.width,height:r.height,tableX:r.left+window.pageXOffset,tableY:r.top+window.pageYOffset}),I0=null};N.useEffect(()=>{if(!e.current)return;const r=()=>{I0||(I0=setTimeout(n,300),t({isMobile:window.innerWidth<768}))};return r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[e])};function SN(e){const t=N.useRef(!1),n=Ap(r=>r.setBanner);N.useEffect(()=>{e?.some(i=>i.isDeleted)&&!t.current&&(t.current=!0,n("  !    "))},[e])}const Rd=40;function CN(){const e=N.useRef(null),t=xt(n=>n.setOptions);return N.useEffect(()=>{t({containerRef:e?.current??null})},[e]),h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"bg-white",ref:e,children:[h.jsx(EN,{children:h.jsx(jN,{})}),h.jsx(vN,{})]}),h.jsx(xN,{})]})}const kN=pm.reduce((e,t)=>(e[t]=[],e),{});function jN(){const e=xt(s=>s.currentTimetable),{colNames:t,minTime:n}=xt(s=>s.options),{data:r}=fm(e?.timeTableId),i=w_(r,n)??kN;return SN(r),wN(r),t.map(s=>h.jsx(yN,{scheduleTimes:i[s]??[],dayOfWeeks:s},"day-schedule-"+s))}function EN({rowHeight:e=Rd,children:t}){const{colNames:n,rowNames:r}=xt(i=>i.options);return h.jsx(S_,{colNames:n,rowNames:r,rowHeight:e,children:t})}class Dr{data;constructor(t,n){if(!t){this.data=this.#t();return}if(t.scheduleType==="official"&&!t.subjectName){this.data=this.#e(t,n);return}this.data=t,this.data.timeSlots||(this.data.timeSlots=[])}#t(){return{scheduleId:-1,scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"",tmNum:"",isDeleted:!1,timeSlots:[]}}#e(t,n){if(!n)throw new TypeError("Subjects must be provided for API to UI conversion");const r=n instanceof Array?n.find(i=>i.subjectId===t.subjectId):n;return{scheduleId:t.scheduleId,scheduleType:t.scheduleType,subjectId:t.subjectId,subjectName:r?.subjectName??"",professorName:r?.professorName??"",location:r?.lesnRoom??"",tmNum:r?.tmNum??"",isDeleted:r?.isDeleted??!1,timeSlots:new Yu(r?.lesnTime).toApiData()}}toApiData(){const t=this.data;return t.scheduleType==="official"?{scheduleId:t.scheduleId,scheduleType:"official",subjectId:t.subjectId??0,subjectName:null,professorName:null,location:null,timeSlots:[]}:{...t,scheduleType:"custom",subjectId:null}}toUiData(){return this.data}}class Yu{data;constructor(t){if(!t){this.data=[];return}if(typeof t=="string"){this.data=this.#e(t);return}if(Array.isArray(t)){this.data=t.map(n=>this.#t(n));return}this.data=[this.#t(t)]}#t(t){const[n,r]=t.startTime.split(":"),[i,s]=t.endTime.split(":");return{dayOfWeeks:t.dayOfWeeks,startHour:parseInt(n),startMinute:parseInt(r),endHour:parseInt(i),endMinute:parseInt(s)}}#e(t){const n=/([]+)(\d{1,2}:\d{2})-(\d{1,2}:\d{2})/g,r=[];let i;for(;(i=n.exec(t))!==null;){const s=i[1],o=i[2],a=i[3],u=s.split("");for(const c of u)r.push(this.#t({dayOfWeeks:c,startTime:o,endTime:a}))}return r}validate(){return this.data.every(t=>{const{startHour:n,startMinute:r,endHour:i,endMinute:s}=t;return n<i||n===i&&r<s})}toApiData(){const t=n=>n.toString().padStart(2,"0");return this.data.map(n=>({dayOfWeeks:n.dayOfWeeks,startTime:`${t(n.startHour)}:${t(n.startMinute)}`,endTime:`${t(n.endHour)}:${t(n.endMinute)}`}))}toUiData(t){return this.data.map(({startHour:n,startMinute:r,endHour:i,endMinute:s,dayOfWeeks:o})=>{const a=(n*60+r)/60,u=(i*60+s)/60;return{dayOfWeek:o,depth:0,left:"0px",right:"0px",height:`${(u-a)*Rd}px`,top:`${(a-t)*Rd}px`}})}}function TN(e,t,n){const{dayOfWeeks:r,startTime:i,endTime:s}=e,[o,a]=i.split(":").map(Number),[u,c]=s.split(":").map(Number),f=Math.min(24,o+a/60+n),p=Math.min(24,u+c/60+n),g=Math.floor(f),v=Math.round((f-g)*60),w=Math.floor(p),_=Math.round((p-w)*60),C=["","","","","","",""],L=(C.indexOf(r)+t+C.length)%C.length;return{dayOfWeeks:C[L],startTime:`${g.toString().padStart(2,"0")}:${v.toString().padStart(2,"0")}`,endTime:`${w.toString().padStart(2,"0")}:${_.toString().padStart(2,"0")}`}}var qn=(e=>(e.NONE="none",e.CREATE="create",e.EDIT="edit",e.VIEW="view",e))(qn||{});const xt=ur(e=>({currentTimetable:{timeTableId:-1,timeTableName:" ",semester:""},options:{containerRef:null,timetableRef:null,colNames:pm.slice(0,5),rowNames:Array.from({length:12},(t,n)=>`${n+9}`),minTime:9,maxTime:20,tableX:0,tableY:0,width:0,height:0,cols:5,rows:11,isMobile:!1},mode:"none",schedule:new Dr().toUiData(),pickTimetable:t=>{e(n=>({...n,currentTimetable:t}))},setOptions:t=>{e(n=>({...n,options:{...n.options,...t}}))},changeScheduleData:(t,n)=>{e(r=>({...r,mode:n??r.mode,schedule:{...r.schedule,...t}}))}}));function S_({rowHeight:e=Rd,colNames:t,rowNames:n,children:r}){const i=N.useRef(null),{isMobile:s}=xt(u=>u.options);_N(i);const{headerWidth:o,headerHeight:a}=s?{headerWidth:20,headerHeight:20}:{headerWidth:60,headerHeight:40};return h.jsxs("div",{className:"relative w-full bg-white",children:[h.jsxs("div",{className:"flex bg-gray-50 rounded-t-md",style:{height:`${a}px`},children:[h.jsx("div",{className:"flex items-center justify-center font-semibold text-gray-700",style:{width:`${o}px`}}),t.map((u,c)=>h.jsx("div",{className:"flex flex-auto items-center justify-center font-semibold text-gray-400 text-[10px] md:text-sm",children:u},"timetable-grid-header-"+c))]}),h.jsx("div",{className:"flex absolute inset-0",style:{top:`${a}px`,left:`${o}px`},children:t.map((u,c)=>h.jsx("div",{className:"flex-auto border-l border-gray-200 h-full"},"timetable-grid-col-"+c))}),n.map((u,c)=>h.jsx("div",{className:"border-b border-gray-200",style:{height:`${e}px`},children:h.jsx("span",{className:"flex items-center justify-center h-full text-gray-400 w-[20px] md:w-[60px] text-[10px] md:text-sm",children:u})},"timetable-grid-row-"+c)),h.jsx("div",{id:"timetable",ref:i,className:"absolute inset-0 flex z-10",style:{top:`${a}px`,left:`${o}px`},children:r})]})}const Fw=["","","","",""],NN=Array.from({length:5},(e,t)=>`${t+9}`),PN=[{scheduleId:"1",scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"B209",tmNum:"3/1/0",isDeleted:!1,timeSlots:[{dayOfWeeks:"",startTime:"09:00",endTime:"10:30"},{dayOfWeeks:"",startTime:"09:00",endTime:"10:30"}]},{scheduleId:"2",scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"B209",tmNum:"3/1/0",isDeleted:!1,timeSlots:[{dayOfWeeks:"",startTime:"11:00",endTime:"12:30"},{dayOfWeeks:"",startTime:"11:00",endTime:"12:30"}]},{scheduleId:3,scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"B209",tmNum:"3/1/0",isDeleted:!1,timeSlots:[{dayOfWeeks:"",startTime:"12:00",endTime:"13:30"},{dayOfWeeks:"",startTime:"12:00",endTime:"13:30"}]}];function ON(){const e=w_(PN,9);return h.jsxs(vl,{children:[h.jsx(hm,{title:"",subtitle:"     ",href:"/timetable"}),h.jsx(Bp,{className:"mt-6",children:h.jsx(S_,{colNames:Fw,rowNames:NN,children:Fw.map(t=>h.jsx(LN,{data:e?e[t]:[]},t))})})]})}function LN({data:e}){return e?h.jsx("div",{className:"relative flex-auto px-[2px]",children:e.map(({title:t,professor:n,location:r,color:i,height:s,top:o,left:a,right:u,schedule:c},f)=>h.jsx(__,{timeslotIndex:f,title:t,professor:n??"",location:r??"",schedule:c,color:i,style:{height:s,top:o,left:a,right:u},selected:!1,fixed:!0},"schedule-"+f))}):h.jsx("div",{className:"relative flex-auto px-[2px]"})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function nh(e){return e+.5|0}const Ko=(e,t,n)=>Math.max(Math.min(e,n),t);function dd(e){return Ko(nh(e*2.55),0,255)}function Jo(e){return Ko(nh(e*255),0,255)}function ro(e){return Ko(nh(e/2.55)/100,0,1)}function Bw(e){return Ko(nh(e*100),0,100)}const Oi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},X1=[..."0123456789ABCDEF"],AN=e=>X1[e&15],MN=e=>X1[(e&240)>>4]+X1[e&15],Mf=e=>(e&240)>>4===(e&15),RN=e=>Mf(e.r)&&Mf(e.g)&&Mf(e.b)&&Mf(e.a);function IN(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&Oi[e[1]]*17,g:255&Oi[e[2]]*17,b:255&Oi[e[3]]*17,a:t===5?Oi[e[4]]*17:255}:(t===7||t===9)&&(n={r:Oi[e[1]]<<4|Oi[e[2]],g:Oi[e[3]]<<4|Oi[e[4]],b:Oi[e[5]]<<4|Oi[e[6]],a:t===9?Oi[e[7]]<<4|Oi[e[8]]:255})),n}const DN=(e,t)=>e<255?t(e):"";function FN(e){var t=RN(e)?AN:MN;return e?"#"+t(e.r)+t(e.g)+t(e.b)+DN(e.a,t):void 0}const BN=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function C_(e,t,n){const r=t*Math.min(n,1-n),i=(s,o=(s+e/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function zN(e,t,n){const r=(i,s=(i+e/60)%6)=>n-n*t*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function $N(e,t,n){const r=C_(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function UN(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}function wx(e){const n=e.r/255,r=e.g/255,i=e.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let u,c,f;return s!==o&&(f=s-o,c=a>.5?f/(2-s-o):f/(s+o),u=UN(n,r,i,f,s),u=u*60+.5),[u|0,c||0,a]}function _x(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(Jo)}function Sx(e,t,n){return _x(C_,e,t,n)}function HN(e,t,n){return _x($N,e,t,n)}function QN(e,t,n){return _x(zN,e,t,n)}function k_(e){return(e%360+360)%360}function VN(e){const t=BN.exec(e);let n=255,r;if(!t)return;t[5]!==r&&(n=t[6]?dd(+t[5]):Jo(+t[5]));const i=k_(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?r=HN(i,s,o):t[1]==="hsv"?r=QN(i,s,o):r=Sx(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function qN(e,t){var n=wx(e);n[0]=k_(n[0]+t),n=Sx(n),e.r=n[0],e.g=n[1],e.b=n[2]}function WN(e){if(!e)return;const t=wx(e),n=t[0],r=Bw(t[1]),i=Bw(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${i}%, ${ro(e.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const zw={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},$w={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function KN(){const e={},t=Object.keys($w),n=Object.keys(zw);let r,i,s,o,a;for(r=0;r<t.length;r++){for(o=a=t[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,zw[s]);s=parseInt($w[o],16),e[a]=[s>>16&255,s>>8&255,s&255]}return e}let Rf;function GN(e){Rf||(Rf=KN(),Rf.transparent=[0,0,0,0]);const t=Rf[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const YN=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function XN(e){const t=YN.exec(e);let n=255,r,i,s;if(t){if(t[7]!==r){const o=+t[7];n=t[8]?dd(o):Ko(o*255,0,255)}return r=+t[1],i=+t[3],s=+t[5],r=255&(t[2]?dd(r):Ko(r,0,255)),i=255&(t[4]?dd(i):Ko(i,0,255)),s=255&(t[6]?dd(s):Ko(s,0,255)),{r,g:i,b:s,a:n}}}function JN(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${ro(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const D0=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,du=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function ZN(e,t,n){const r=du(ro(e.r)),i=du(ro(e.g)),s=du(ro(e.b));return{r:Jo(D0(r+n*(du(ro(t.r))-r))),g:Jo(D0(i+n*(du(ro(t.g))-i))),b:Jo(D0(s+n*(du(ro(t.b))-s))),a:e.a+n*(t.a-e.a)}}function If(e,t,n){if(e){let r=wx(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,t===0?360:1)),r=Sx(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function j_(e,t){return e&&Object.assign(t||{},e)}function Uw(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Jo(e[3]))):(t=j_(e,{r:0,g:0,b:0,a:1}),t.a=Jo(t.a)),t}function eP(e){return e.charAt(0)==="r"?XN(e):VN(e)}class Id{constructor(t){if(t instanceof Id)return t;const n=typeof t;let r;n==="object"?r=Uw(t):n==="string"&&(r=IN(t)||GN(t)||eP(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=j_(this._rgb);return t&&(t.a=ro(t.a)),t}set rgb(t){this._rgb=Uw(t)}rgbString(){return this._valid?JN(this._rgb):void 0}hexString(){return this._valid?FN(this._rgb):void 0}hslString(){return this._valid?WN(this._rgb):void 0}mix(t,n){if(t){const r=this.rgb,i=t.rgb;let s;const o=n===s?.5:n,a=2*o-1,u=r.a-i.a,c=((a*u===-1?a:(a+u)/(1+a*u))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(t,n){return t&&(this._rgb=ZN(this._rgb,t._rgb,n)),this}clone(){return new Id(this.rgb)}alpha(t){return this._rgb.a=Jo(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=nh(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return If(this._rgb,2,t),this}darken(t){return If(this._rgb,2,-t),this}saturate(t){return If(this._rgb,1,t),this}desaturate(t){return If(this._rgb,1,-t),this}rotate(t){return qN(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Xs(){}const tP=(()=>{let e=0;return()=>e++})();function Dt(e){return e==null}function bn(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Ft(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function En(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function pi(e,t){return En(e)?e:t}function vt(e,t){return typeof e>"u"?t:e}const nP=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,E_=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function an(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function Jt(e,t,n,r){let i,s,o;if(bn(e))for(s=e.length,i=0;i<s;i++)t.call(n,e[i],i);else if(Ft(e))for(o=Object.keys(e),s=o.length,i=0;i<s;i++)t.call(n,e[o[i]],o[i])}function zp(e,t){let n,r,i,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],s=t[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function $p(e){if(bn(e))return e.map($p);if(Ft(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=$p(e[n[i]]);return t}return e}function T_(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function rP(e,t,n,r){if(!T_(e))return;const i=t[e],s=n[e];Ft(i)&&Ft(s)?Dd(i,s,r):t[e]=$p(s)}function Dd(e,t,n){const r=bn(t)?t:[t],i=r.length;if(!Ft(e))return e;n=n||{};const s=n.merger||rP;let o;for(let a=0;a<i;++a){if(o=r[a],!Ft(o))continue;const u=Object.keys(o);for(let c=0,f=u.length;c<f;++c)s(u[c],e,o,n)}return e}function vd(e,t){return Dd(e,t,{merger:iP})}function iP(e,t,n){if(!T_(e))return;const r=t[e],i=n[e];Ft(r)&&Ft(i)?vd(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=$p(i))}const Hw={"":e=>e,x:e=>e.x,y:e=>e.y};function sP(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function oP(e){const t=sP(e);return n=>{for(const r of t){if(r==="")break;n=n&&n[r]}return n}}function na(e,t){return(Hw[t]||(Hw[t]=oP(t)))(e)}function Cx(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Fd=e=>typeof e<"u",ra=e=>typeof e=="function",Qw=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function aP(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Wt=Math.PI,fn=2*Wt,lP=fn+Wt,Up=Number.POSITIVE_INFINITY,uP=Wt/180,An=Wt/2,$a=Wt/4,Vw=Wt*2/3,Go=Math.log10,Es=Math.sign;function bd(e,t,n){return Math.abs(e-t)<n}function qw(e){const t=Math.round(e);e=bd(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Go(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function cP(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(n|0)&&t.push(n),t.sort((i,s)=>i-s).pop(),t}function dP(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function dl(e){return!dP(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function hP(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function N_(e,t,n){let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function ss(e){return e*(Wt/180)}function kx(e){return e*(180/Wt)}function Ww(e){if(!En(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function P_(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*Wt&&(s+=fn),{angle:s,distance:i}}function J1(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function fP(e,t){return(e-t+lP)%fn-Wt}function wr(e){return(e%fn+fn)%fn}function Bd(e,t,n,r){const i=wr(e),s=wr(t),o=wr(n),a=wr(s-i),u=wr(o-i),c=wr(i-s),f=wr(i-o);return i===s||i===o||r&&s===o||a>u&&c<f}function ir(e,t,n){return Math.max(t,Math.min(n,e))}function pP(e){return ir(e,-32768,32767)}function so(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function jx(e,t,n){n=n||(o=>e[o]<t);let r=e.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const oo=(e,t,n,r)=>jx(e,n,r?i=>{const s=e[i][t];return s<n||s===n&&e[i+1][t]===n}:i=>e[i][t]<n),mP=(e,t,n)=>jx(e,n,r=>e[r][t]>=n);function gP(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}const O_=["push","pop","shift","splice","unshift"];function yP(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),O_.forEach(n=>{const r="_onData"+Cx(n),i=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return e._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function Kw(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);i!==-1&&r.splice(i,1),!(r.length>0)&&(O_.forEach(s=>{delete e[s]}),delete e._chartjs)}function L_(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const A_=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function M_(e,t){let n=[],r=!1;return function(...i){n=i,r||(r=!0,A_.call(window,()=>{r=!1,e.apply(t,n)}))}}function xP(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const Ex=e=>e==="start"?"left":e==="end"?"right":"center",br=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,vP=(e,t,n,r)=>e===(r?"left":"right")?n:e==="center"?(t+n)/2:t;function R_(e,t,n){const r=t.length;let i=0,s=r;if(e._sorted){const{iScale:o,vScale:a,_parsed:u}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,f=o.axis,{min:p,max:g,minDefined:v,maxDefined:w}=o.getUserBounds();if(v){if(i=Math.min(oo(u,f,p).lo,n?r:oo(t,f,o.getPixelForValue(p)).lo),c){const _=u.slice(0,i+1).reverse().findIndex(C=>!Dt(C[a.axis]));i-=Math.max(0,_)}i=ir(i,0,r-1)}if(w){let _=Math.max(oo(u,o.axis,g,!0).hi+1,n?0:oo(t,f,o.getPixelForValue(g),!0).hi+1);if(c){const C=u.slice(_-1).findIndex(E=>!Dt(E[a.axis]));_+=Math.max(0,C)}s=ir(_,i,r)-i}else s=r-i}return{start:i,count:s}}function I_(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const s=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const Df=e=>e===0||e===1,Gw=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*fn/n)),Yw=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*fn/n)+1,wd={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*An)+1,easeOutSine:e=>Math.sin(e*An),easeInOutSine:e=>-.5*(Math.cos(Wt*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Df(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Df(e)?e:Gw(e,.075,.3),easeOutElastic:e=>Df(e)?e:Yw(e,.075,.3),easeInOutElastic(e){return Df(e)?e:e<.5?.5*Gw(e*2,.1125,.45):.5+.5*Yw(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-wd.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?wd.easeInBounce(e*2)*.5:wd.easeOutBounce(e*2-1)*.5+.5};function Tx(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Xw(e){return Tx(e)?e:new Id(e)}function F0(e){return Tx(e)?e:new Id(e).saturate(.5).darken(.1).hexString()}const bP=["x","y","borderWidth","radius","tension"],wP=["color","borderColor","backgroundColor"];function _P(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:wP},numbers:{type:"number",properties:bP}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function SP(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Jw=new Map;function CP(e,t){t=t||{};const n=e+JSON.stringify(t);let r=Jw.get(n);return r||(r=new Intl.NumberFormat(e,t),Jw.set(n,r)),r}function rh(e,t,n){return CP(t,n).format(e)}const D_={values(e){return bn(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const r=this.chart.options.locale;let i,s=e;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=kP(e,n)}const o=Go(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),u={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(u,this.options.ticks.format),rh(e,r,u)},logarithmic(e,t,n){if(e===0)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(Go(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?D_.numeric.call(this,e,t,n):""}};function kP(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var mm={formatters:D_};function jP(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:mm.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const hl=Object.create(null),Z1=Object.create(null);function _d(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];e=e[s]||(e[s]=Object.create(null))}return e}function B0(e,t,n){return typeof t=="string"?Dd(_d(e,t),n):Dd(_d(e,""),t)}class EP{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>F0(i.backgroundColor),this.hoverBorderColor=(r,i)=>F0(i.borderColor),this.hoverColor=(r,i)=>F0(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return B0(this,t,n)}get(t){return _d(this,t)}describe(t,n){return B0(Z1,t,n)}override(t,n){return B0(hl,t,n)}route(t,n,r,i){const s=_d(this,t),o=_d(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[a],c=o[i];return Ft(u)?Object.assign({},c,u):vt(u,c)},set(u){this[a]=u}}})}apply(t){t.forEach(n=>n(this))}}var wn=new EP({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[_P,SP,jP]);function TP(e){return!e||Dt(e.size)||Dt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Hp(e,t,n,r,i){let s=t[i];return s||(s=t[i]=e.measureText(i).width,n.push(i)),s>r&&(r=s),r}function NP(e,t,n,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},s=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let o=0;const a=n.length;let u,c,f,p,g;for(u=0;u<a;u++)if(p=n[u],p!=null&&!bn(p))o=Hp(e,i,s,o,p);else if(bn(p))for(c=0,f=p.length;c<f;c++)g=p[c],g!=null&&!bn(g)&&(o=Hp(e,i,s,o,g));e.restore();const v=s.length/2;if(v>n.length){for(u=0;u<v;u++)delete i[s[u]];s.splice(0,v)}return o}function Ua(e,t,n){const r=e.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function Zw(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function ey(e,t,n,r){F_(e,t,n,r,null)}function F_(e,t,n,r,i){let s,o,a,u,c,f,p,g;const v=t.pointStyle,w=t.rotation,_=t.radius;let C=(w||0)*uP;if(v&&typeof v=="object"&&(s=v.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){e.save(),e.translate(n,r),e.rotate(C),e.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),e.restore();return}if(!(isNaN(_)||_<=0)){switch(e.beginPath(),v){default:i?e.ellipse(n,r,i/2,_,0,0,fn):e.arc(n,r,_,0,fn),e.closePath();break;case"triangle":f=i?i/2:_,e.moveTo(n+Math.sin(C)*f,r-Math.cos(C)*_),C+=Vw,e.lineTo(n+Math.sin(C)*f,r-Math.cos(C)*_),C+=Vw,e.lineTo(n+Math.sin(C)*f,r-Math.cos(C)*_),e.closePath();break;case"rectRounded":c=_*.516,u=_-c,o=Math.cos(C+$a)*u,p=Math.cos(C+$a)*(i?i/2-c:u),a=Math.sin(C+$a)*u,g=Math.sin(C+$a)*(i?i/2-c:u),e.arc(n-p,r-a,c,C-Wt,C-An),e.arc(n+g,r-o,c,C-An,C),e.arc(n+p,r+a,c,C,C+An),e.arc(n-g,r+o,c,C+An,C+Wt),e.closePath();break;case"rect":if(!w){u=Math.SQRT1_2*_,f=i?i/2:u,e.rect(n-f,r-u,2*f,2*u);break}C+=$a;case"rectRot":p=Math.cos(C)*(i?i/2:_),o=Math.cos(C)*_,a=Math.sin(C)*_,g=Math.sin(C)*(i?i/2:_),e.moveTo(n-p,r-a),e.lineTo(n+g,r-o),e.lineTo(n+p,r+a),e.lineTo(n-g,r+o),e.closePath();break;case"crossRot":C+=$a;case"cross":p=Math.cos(C)*(i?i/2:_),o=Math.cos(C)*_,a=Math.sin(C)*_,g=Math.sin(C)*(i?i/2:_),e.moveTo(n-p,r-a),e.lineTo(n+p,r+a),e.moveTo(n+g,r-o),e.lineTo(n-g,r+o);break;case"star":p=Math.cos(C)*(i?i/2:_),o=Math.cos(C)*_,a=Math.sin(C)*_,g=Math.sin(C)*(i?i/2:_),e.moveTo(n-p,r-a),e.lineTo(n+p,r+a),e.moveTo(n+g,r-o),e.lineTo(n-g,r+o),C+=$a,p=Math.cos(C)*(i?i/2:_),o=Math.cos(C)*_,a=Math.sin(C)*_,g=Math.sin(C)*(i?i/2:_),e.moveTo(n-p,r-a),e.lineTo(n+p,r+a),e.moveTo(n+g,r-o),e.lineTo(n-g,r+o);break;case"line":o=i?i/2:Math.cos(C)*_,a=Math.sin(C)*_,e.moveTo(n-o,r-a),e.lineTo(n+o,r+a);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(C)*(i?i/2:_),r+Math.sin(C)*_);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function ao(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function gm(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function ym(e){e.restore()}function PP(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if(i==="middle"){const s=(t.x+n.x)/2;e.lineTo(s,t.y),e.lineTo(s,n.y)}else i==="after"!=!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function OP(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function LP(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Dt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function AP(e,t,n,r,i){if(i.strikethrough||i.underline){const s=e.measureText(r),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,u=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,f=i.strikethrough?(u+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,f),e.lineTo(a,f),e.stroke()}}function MP(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function fl(e,t,n,r,i,s={}){const o=bn(t)?t:[t],a=s.strokeWidth>0&&s.strokeColor!=="";let u,c;for(e.save(),e.font=i.string,LP(e,s),u=0;u<o.length;++u)c=o[u],s.backdrop&&MP(e,s.backdrop),a&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),Dt(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(c,n,r,s.maxWidth)),e.fillText(c,n,r,s.maxWidth),AP(e,n,r,c,s),r+=Number(i.lineHeight);e.restore()}function zd(e,t){const{x:n,y:r,w:i,h:s,radius:o}=t;e.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*Wt,Wt,!0),e.lineTo(n,r+s-o.bottomLeft),e.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,Wt,An,!0),e.lineTo(n+i-o.bottomRight,r+s),e.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,An,0,!0),e.lineTo(n+i,r+o.topRight),e.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-An,!0),e.lineTo(n+o.topLeft,r)}const RP=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,IP=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function DP(e,t){const n=(""+e).match(RP);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const FP=e=>+e||0;function Nx(e,t){const n={},r=Ft(t),i=r?Object.keys(t):t,s=Ft(e)?r?o=>vt(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of i)n[o]=FP(s(o));return n}function B_(e){return Nx(e,{top:"y",right:"x",bottom:"y",left:"x"})}function ol(e){return Nx(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Cr(e){const t=B_(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Kn(e,t){e=e||{},t=t||wn.font;let n=vt(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let r=vt(e.style,t.style);r&&!(""+r).match(IP)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:vt(e.family,t.family),lineHeight:DP(vt(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:vt(e.weight,t.weight),string:""};return i.string=TP(i),i}function hd(e,t,n,r){let i,s,o;for(i=0,s=e.length;i<s;++i)if(o=e[i],o!==void 0&&o!==void 0)return o}function BP(e,t,n){const{min:r,max:i}=e,s=E_(t,(i-r)/2),o=(a,u)=>n&&a===0?0:a+u;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function la(e,t){return Object.assign(Object.create(e),t)}function Px(e,t=[""],n,r,i=()=>e[0]){const s=n||e;typeof r>"u"&&(r=H_("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>Px([a,...e],t,s,r)};return new Proxy(o,{deleteProperty(a,u){return delete a[u],delete a._keys,delete e[0][u],!0},get(a,u){return $_(a,u,()=>WP(u,t,e,a))},getOwnPropertyDescriptor(a,u){return Reflect.getOwnPropertyDescriptor(a._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,u){return t3(a).includes(u)},ownKeys(a){return t3(a)},set(a,u,c){const f=a._storage||(a._storage=i());return a[u]=f[u]=c,delete a._keys,!0}})}function Uu(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:z_(e,r),setContext:s=>Uu(e,s,n,r),override:s=>Uu(e.override(s),t,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete e[o],!0},get(s,o,a){return $_(s,o,()=>$P(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(s,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(s,o,a){return e[o]=a,delete s[o],!0}})}function z_(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:ra(n)?n:()=>n,isIndexable:ra(r)?r:()=>r}}const zP=(e,t)=>e?e+Cx(t):t,Ox=(e,t)=>Ft(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function $_(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=n();return e[t]=r,r}function $P(e,t,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=e;let a=r[t];return ra(a)&&o.isScriptable(t)&&(a=UP(t,a,e,n)),bn(a)&&a.length&&(a=HP(t,a,e,o.isIndexable)),Ox(t,a)&&(a=Uu(a,i,s&&s[t],o)),a}function UP(e,t,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let u=t(s,o||r);return a.delete(e),Ox(e,u)&&(u=Lx(i._scopes,i,e,u)),u}function HP(e,t,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(e))return t[s.index%t.length];if(Ft(t[0])){const u=t,c=i._scopes.filter(f=>f!==u);t=[];for(const f of u){const p=Lx(c,i,e,f);t.push(Uu(p,s,o&&o[e],a))}}return t}function U_(e,t,n){return ra(e)?e(t,n):e}const QP=(e,t)=>e===!0?t:typeof e=="string"?na(t,e):void 0;function VP(e,t,n,r,i){for(const s of t){const o=QP(n,s);if(o){e.add(o);const a=U_(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function Lx(e,t,n,r){const i=t._rootScopes,s=U_(t._fallback,n,r),o=[...e,...i],a=new Set;a.add(r);let u=e3(a,o,n,s||n,r);return u===null||typeof s<"u"&&s!==n&&(u=e3(a,o,s,u,r),u===null)?!1:Px(Array.from(a),[""],i,s,()=>qP(t,n,r))}function e3(e,t,n,r,i){for(;n;)n=VP(e,t,n,r,i);return n}function qP(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];return bn(i)&&Ft(n)?n:i||{}}function WP(e,t,n,r){let i;for(const s of t)if(i=H_(zP(s,e),n),typeof i<"u")return Ox(e,i)?Lx(n,r,e,i):i}function H_(e,t){for(const n of t){if(!n)continue;const r=n[e];if(typeof r<"u")return r}}function t3(e){let t=e._keys;return t||(t=e._keys=KP(e._scopes)),t}function KP(e){const t=new Set;for(const n of e)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))t.add(r);return Array.from(t)}function Q_(e,t,n,r){const{iScale:i}=e,{key:s="r"}=this._parsing,o=new Array(r);let a,u,c,f;for(a=0,u=r;a<u;++a)c=a+n,f=t[c],o[a]={r:i.parse(na(f,s),c)};return o}const GP=Number.EPSILON||1e-14,Hu=(e,t)=>t<e.length&&!e[t].skip&&e[t],V_=e=>e==="x"?"y":"x";function YP(e,t,n,r){const i=e.skip?t:e,s=t,o=n.skip?t:n,a=J1(s,i),u=J1(o,s);let c=a/(a+u),f=u/(a+u);c=isNaN(c)?0:c,f=isNaN(f)?0:f;const p=r*c,g=r*f;return{previous:{x:s.x-p*(o.x-i.x),y:s.y-p*(o.y-i.y)},next:{x:s.x+g*(o.x-i.x),y:s.y+g*(o.y-i.y)}}}function XP(e,t,n){const r=e.length;let i,s,o,a,u,c=Hu(e,0);for(let f=0;f<r-1;++f)if(u=c,c=Hu(e,f+1),!(!u||!c)){if(bd(t[f],0,GP)){n[f]=n[f+1]=0;continue}i=n[f]/t[f],s=n[f+1]/t[f],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[f]=i*o*t[f],n[f+1]=s*o*t[f])}}function JP(e,t,n="x"){const r=V_(n),i=e.length;let s,o,a,u=Hu(e,0);for(let c=0;c<i;++c){if(o=a,a=u,u=Hu(e,c+1),!a)continue;const f=a[n],p=a[r];o&&(s=(f-o[n])/3,a[`cp1${n}`]=f-s,a[`cp1${r}`]=p-s*t[c]),u&&(s=(u[n]-f)/3,a[`cp2${n}`]=f+s,a[`cp2${r}`]=p+s*t[c])}}function ZP(e,t="x"){const n=V_(t),r=e.length,i=Array(r).fill(0),s=Array(r);let o,a,u,c=Hu(e,0);for(o=0;o<r;++o)if(a=u,u=c,c=Hu(e,o+1),!!u){if(c){const f=c[t]-u[t];i[o]=f!==0?(c[n]-u[n])/f:0}s[o]=a?c?Es(i[o-1])!==Es(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}XP(e,i,s),JP(e,s,t)}function Ff(e,t,n){return Math.max(Math.min(e,n),t)}function eO(e,t){let n,r,i,s,o,a=ao(e[0],t);for(n=0,r=e.length;n<r;++n)o=s,s=a,a=n<r-1&&ao(e[n+1],t),s&&(i=e[n],o&&(i.cp1x=Ff(i.cp1x,t.left,t.right),i.cp1y=Ff(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=Ff(i.cp2x,t.left,t.right),i.cp2y=Ff(i.cp2y,t.top,t.bottom)))}function tO(e,t,n,r,i){let s,o,a,u;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")ZP(e,i);else{let c=r?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)a=e[s],u=YP(c,a,e[Math.min(s+1,o-(r?0:1))%o],t.tension),a.cp1x=u.previous.x,a.cp1y=u.previous.y,a.cp2x=u.next.x,a.cp2y=u.next.y,c=a}t.capBezierPoints&&eO(e,n)}function Ax(){return typeof window<"u"&&typeof document<"u"}function Mx(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Qp(e,t,n){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}const xm=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function nO(e,t){return xm(e).getPropertyValue(t)}const rO=["top","right","bottom","left"];function al(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=rO[i];r[s]=parseFloat(e[t+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const iO=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function sO(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:s}=r;let o=!1,a,u;if(iO(i,s,e.target))a=i,u=s;else{const c=t.getBoundingClientRect();a=r.clientX-c.left,u=r.clientY-c.top,o=!0}return{x:a,y:u,box:o}}function Ya(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=xm(n),s=i.boxSizing==="border-box",o=al(i,"padding"),a=al(i,"border","width"),{x:u,y:c,box:f}=sO(e,n),p=o.left+(f&&a.left),g=o.top+(f&&a.top);let{width:v,height:w}=t;return s&&(v-=o.width+a.width,w-=o.height+a.height),{x:Math.round((u-p)/v*n.width/r),y:Math.round((c-g)/w*n.height/r)}}function oO(e,t,n){let r,i;if(t===void 0||n===void 0){const s=e&&Mx(e);if(!s)t=e.clientWidth,n=e.clientHeight;else{const o=s.getBoundingClientRect(),a=xm(s),u=al(a,"border","width"),c=al(a,"padding");t=o.width-c.width-u.width,n=o.height-c.height-u.height,r=Qp(a.maxWidth,s,"clientWidth"),i=Qp(a.maxHeight,s,"clientHeight")}}return{width:t,height:n,maxWidth:r||Up,maxHeight:i||Up}}const Bf=e=>Math.round(e*10)/10;function aO(e,t,n,r){const i=xm(e),s=al(i,"margin"),o=Qp(i.maxWidth,e,"clientWidth")||Up,a=Qp(i.maxHeight,e,"clientHeight")||Up,u=oO(e,t,n);let{width:c,height:f}=u;if(i.boxSizing==="content-box"){const g=al(i,"border","width"),v=al(i,"padding");c-=v.width+g.width,f-=v.height+g.height}return c=Math.max(0,c-s.width),f=Math.max(0,r?c/r:f-s.height),c=Bf(Math.min(c,o,u.maxWidth)),f=Bf(Math.min(f,a,u.maxHeight)),c&&!f&&(f=Bf(c/2)),(t!==void 0||n!==void 0)&&r&&u.height&&f>u.height&&(f=u.height,c=Bf(Math.floor(f*r))),{width:c,height:f}}function n3(e,t,n){const r=t||1,i=Math.floor(e.height*r),s=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(e.currentDevicePixelRatio=r,o.height=i,o.width=s,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const lO=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Ax()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function r3(e,t){const n=nO(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Xa(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function uO(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:r==="middle"?n<.5?e.y:t.y:r==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function cO(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},o=Xa(e,i,n),a=Xa(i,s,n),u=Xa(s,t,n),c=Xa(o,a,n),f=Xa(a,u,n);return Xa(c,f,n)}const dO=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},hO=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Fu(e,t,n){return e?dO(t,n):hO()}function q_(e,t){let n,r;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function W_(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function K_(e){return e==="angle"?{between:Bd,compare:fP,normalize:wr}:{between:so,compare:(t,n)=>t-n,normalize:t=>t}}function i3({start:e,end:t,count:n,loop:r,style:i}){return{start:e%n,end:t%n,loop:r&&(t-e+1)%n===0,style:i}}function fO(e,t,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=K_(r),u=t.length;let{start:c,end:f,loop:p}=e,g,v;if(p){for(c+=u,f+=u,g=0,v=u;g<v&&o(a(t[c%u][r]),i,s);++g)c--,f--;c%=u,f%=u}return f<c&&(f+=u),{start:c,end:f,loop:p,style:e.style}}function G_(e,t,n){if(!n)return[e];const{property:r,start:i,end:s}=n,o=t.length,{compare:a,between:u,normalize:c}=K_(r),{start:f,end:p,loop:g,style:v}=fO(e,t,n),w=[];let _=!1,C=null,E,L,A;const B=()=>u(i,A,E)&&a(i,A)!==0,U=()=>a(s,E)===0||u(s,A,E),P=()=>_||B(),D=()=>!_||U();for(let z=f,Q=f;z<=p;++z)L=t[z%o],!L.skip&&(E=c(L[r]),E!==A&&(_=u(E,i,s),C===null&&P()&&(C=a(E,i)===0?z:Q),C!==null&&D()&&(w.push(i3({start:C,end:z,loop:g,count:o,style:v})),C=null),Q=z,A=E));return C!==null&&w.push(i3({start:C,end:p,loop:g,count:o,style:v})),w}function Y_(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const s=G_(r[i],e.points,t);s.length&&n.push(...s)}return n}function pO(e,t,n,r){let i=0,s=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(s+=i);s>i&&e[s%t].skip;)s--;return s%=t,{start:i,end:s}}function mO(e,t,n,r){const i=e.length,s=[];let o=t,a=e[t],u;for(u=t+1;u<=n;++u){const c=e[u%i];c.skip||c.stop?a.skip||(r=!1,s.push({start:t%i,end:(u-1)%i,loop:r}),t=o=c.stop?u:null):(o=u,a.skip&&(t=u)),a=c}return o!==null&&s.push({start:t%i,end:o%i,loop:r}),s}function gO(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const s=!!e._loop,{start:o,end:a}=pO(n,i,s,r);if(r===!0)return s3(e,[{start:o,end:a,loop:s}],n,t);const u=a<o?a+i:a,c=!!e._fullLoop&&o===0&&a===i-1;return s3(e,mO(n,o,u,c),n,t)}function s3(e,t,n,r){return!r||!r.setContext||!n?t:yO(e,t,n,r)}function yO(e,t,n,r){const i=e._chart.getContext(),s=o3(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,u=n.length,c=[];let f=s,p=t[0].start,g=p;function v(w,_,C,E){const L=a?-1:1;if(w!==_){for(w+=u;n[w%u].skip;)w-=L;for(;n[_%u].skip;)_+=L;w%u!==_%u&&(c.push({start:w%u,end:_%u,loop:C,style:E}),f=E,p=_%u)}}for(const w of t){p=a?p:w.start;let _=n[p%u],C;for(g=p+1;g<=w.end;g++){const E=n[g%u];C=o3(r.setContext(la(i,{type:"segment",p0:_,p1:E,p0DataIndex:(g-1)%u,p1DataIndex:g%u,datasetIndex:o}))),xO(C,f)&&v(p,g-1,w.loop,f),_=E,f=C}p<g-1&&v(p,g-1,w.loop,f)}return c}function o3(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function xO(e,t){if(!t)return!1;const n=[],r=function(i,s){return Tx(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function zf(e,t,n){return e.options.clip?e[n]:t[n]}function vO(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:zf(n,t,"left"),right:zf(n,t,"right"),top:zf(r,t,"top"),bottom:zf(r,t,"bottom")}:t}function X_(e,t){const n=t._clip;if(n.disabled)return!1;const r=vO(t,e.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class bO{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=A_.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,u;for(;o>=0;--o)u=s[o],u._active?(u._total>r.duration&&(r.duration=u._total),u.tick(t),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,t,"progress")),s.length||(r.running=!1,this._notify(i,r,t,"complete"),r.initial=!1),n+=s.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let r=n.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,r)),r}listen(t,n,r){this._getAnims(t).listeners[n].push(r)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Js=new bO;const a3="transparent",wO={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const r=Xw(e||a3),i=r.valid&&Xw(t||a3);return i&&i.valid?i.mix(r,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class _O{constructor(t,n,r,i){const s=n[r];i=hd([t.to,i,s,t.from]);const o=hd([t.from,s,i]);this._active=!0,this._fn=t.fn||wO[t.type||typeof o],this._easing=wd[t.easing]||wd.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=hd([t.to,n,i,t.from]),this._from=hd([t.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let u;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}u=n/r%2,u=o&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[i]=this._fn(s,a,u)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,r)=>{t.push({res:n,rej:r})})}_notify(t){const n=t?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class J_{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Ft(t))return;const n=Object.keys(wn.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const s=t[i];if(!Ft(s))return;const o={};for(const a of n)o[a]=s[a];(bn(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(t,n){const r=n.options,i=CO(t,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&SO(t.options.$animations,r).then(()=>{t.options=r},()=>{}),s}_createAnimations(t,n){const r=this._properties,i=[],s=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let u;for(u=o.length-1;u>=0;--u){const c=o[u];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(t,n));continue}const f=n[c];let p=s[c];const g=r.get(c);if(p)if(g&&p.active()){p.update(g,f,a);continue}else p.cancel();if(!g||!g.duration){t[c]=f;continue}s[c]=p=new _O(g,t,c,f),i.push(p)}return i}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const r=this._createAnimations(t,n);if(r.length)return Js.add(this._chart,r),!0}}function SO(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const s=e[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function CO(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function l3(e,t){const n=e&&e.options||{},r=n.reverse,i=n.min===void 0?t:0,s=n.max===void 0?t:0;return{start:r?s:i,end:r?i:s}}function kO(e,t,n){if(n===!1)return!1;const r=l3(e,n),i=l3(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function jO(e){let t,n,r,i;return Ft(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:e===!1}}function Z_(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function u3(e,t,n,r={}){const i=e.keys,s=r.mode==="single";let o,a,u,c;if(t===null)return;let f=!1;for(o=0,a=i.length;o<a;++o){if(u=+i[o],u===n){if(f=!0,r.all)continue;break}c=e.values[u],En(c)&&(s||t===0||Es(t)===Es(c))&&(t+=c)}return!f&&!r.all?0:t}function EO(e,t){const{iScale:n,vScale:r}=t,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(e),a=new Array(o.length);let u,c,f;for(u=0,c=o.length;u<c;++u)f=o[u],a[u]={[i]:f,[s]:e[f]};return a}function z0(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function TO(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function NO(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function PO(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function c3(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const s=e[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function d3(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,u=s.axis,c=o.axis,f=TO(s,o,r),p=t.length;let g;for(let v=0;v<p;++v){const w=t[v],{[u]:_,[c]:C}=w,E=w._stacks||(w._stacks={});g=E[c]=PO(i,f,_),g[a]=C,g._top=c3(g,o,!0,r.type),g._bottom=c3(g,o,!1,r.type);const L=g._visualValues||(g._visualValues={});L[a]=C}}function $0(e,t){const n=e.scales;return Object.keys(n).filter(r=>n[r].axis===t).shift()}function OO(e,t){return la(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function LO(e,t,n){return la(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Gc(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const i of t){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const U0=e=>e==="reset"||e==="none",h3=(e,t)=>t?e:Object.assign({},e),AO=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:Z_(n,!0),values:null};class ua{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=z0(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Gc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(p,g,v,w)=>p==="x"?g:p==="r"?w:v,s=n.xAxisID=vt(r.xAxisID,$0(t,"x")),o=n.yAxisID=vt(r.yAxisID,$0(t,"y")),a=n.rAxisID=vt(r.rAxisID,$0(t,"r")),u=n.indexAxis,c=n.iAxisID=i(u,s,o,a),f=n.vAxisID=i(u,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Kw(this._data,this),t._stacked&&Gc(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(Ft(n)){const i=this._cachedMeta;this._data=EO(n,i)}else if(r!==n){if(r){Kw(r,this);const i=this._cachedMeta;Gc(i),i._parsed=[]}n&&Object.isExtensible(n)&&yP(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=z0(n.vScale,n),n.stack!==r.stack&&(i=!0,Gc(n),n.stack=r.stack),this._resyncElements(t),(i||s!==n._stacked)&&(d3(this,n._parsed),n._stacked=z0(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let u=t===0&&n===i.length?!0:r._sorted,c=t>0&&r._parsed[t-1],f,p,g;if(this._parsing===!1)r._parsed=i,r._sorted=!0,g=i;else{bn(i[t])?g=this.parseArrayData(r,i,t,n):Ft(i[t])?g=this.parseObjectData(r,i,t,n):g=this.parsePrimitiveData(r,i,t,n);const v=()=>p[a]===null||c&&p[a]<c[a];for(f=0;f<n;++f)r._parsed[f+t]=p=g[f],u&&(v()&&(u=!1),c=p);r._sorted=u}o&&d3(this,g)}parsePrimitiveData(t,n,r,i){const{iScale:s,vScale:o}=t,a=s.axis,u=o.axis,c=s.getLabels(),f=s===o,p=new Array(i);let g,v,w;for(g=0,v=i;g<v;++g)w=g+r,p[g]={[a]:f||s.parse(c[w],w),[u]:o.parse(n[w],w)};return p}parseArrayData(t,n,r,i){const{xScale:s,yScale:o}=t,a=new Array(i);let u,c,f,p;for(u=0,c=i;u<c;++u)f=u+r,p=n[f],a[u]={x:s.parse(p[0],f),y:o.parse(p[1],f)};return a}parseObjectData(t,n,r,i){const{xScale:s,yScale:o}=t,{xAxisKey:a="x",yAxisKey:u="y"}=this._parsing,c=new Array(i);let f,p,g,v;for(f=0,p=i;f<p;++f)g=f+r,v=n[g],c[f]={x:s.parse(na(v,a),g),y:o.parse(na(v,u),g)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const i=this.chart,s=this._cachedMeta,o=n[t.axis],a={keys:Z_(i,!0),values:n._stacks[t.axis]._visualValues};return u3(a,o,s.index,{mode:r})}updateRangeFromParsed(t,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=u3(i,s,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&t===r.iScale,o=i.length,a=this._getOtherScale(t),u=AO(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:p}=NO(a);let g,v;function w(){v=i[g];const _=v[a.axis];return!En(v[t.axis])||f>_||p<_}for(g=0;g<o&&!(!w()&&(this.updateRangeFromParsed(c,t,v,u),s));++g);if(s){for(g=o-1;g>=0;--g)if(!w()){this.updateRangeFromParsed(c,t,v,u);break}}return c}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][t.axis],En(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(t);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=jO(vt(this.options.clip,kO(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,u=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let f;for(r.dataset&&r.dataset.draw(t,s,a,u),f=a;f<a+u;++f){const p=i[f];p.hidden||(p.active&&c?o.push(p):p.draw(t,s))}for(f=0;f<o.length;++f)o[f].draw(t,s)}getStyle(t,n){const r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const i=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];s=o.$context||(o.$context=LO(this.getContext(),t,o)),s.parsed=this.getParsed(t),s.raw=i.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=OO(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=t+"-"+n,a=s[o],u=this.enableOptionSharing&&Fd(r);if(a)return h3(a,u);const c=this.chart.config,f=c.datasetElementScopeKeys(this._type,t),p=i?[`${t}Hover`,"hover",t,""]:[t,""],g=c.getOptionScopes(this.getDataset(),f),v=Object.keys(wn.elements[t]),w=()=>this.getContext(r,i,n),_=c.resolveNamedOptions(g,v,w,p);return _.$shared&&(_.$shared=u,s[o]=Object.freeze(h3(_,u))),_}_resolveAnimations(t,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let u;if(i.options.animation!==!1){const f=this.chart.config,p=f.datasetAnimationScopeKeys(this._type,n),g=f.getOptionScopes(this.getDataset(),p);u=f.createResolver(g,this.getContext(t,r,n))}const c=new J_(i,u&&u.animations);return u&&u._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||U0(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(t,n,r,i){U0(i)?Object.assign(t,r):this._resolveAnimations(n,i).update(t,r)}updateSharedOptions(t,n,r){t&&!U0(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,i){t.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(t,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[a,u,c]of this._syncList)this[a](u,c);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,t):s<i&&this._removeElements(s,i-s)}_insertElements(t,n,r=!0){const i=this._cachedMeta,s=i.data,o=t+n;let a;const u=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(u(s),a=t;a<o;++a)s[a]=new this.dataElementType;this._parsing&&u(i._parsed),this.parse(t,n),r&&this.updateElements(s,t,n,"reset")}updateElements(t,n,r,i){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(t,n);r._stacked&&Gc(r,i)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,i]=t;this[n](r,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function MO(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(e));e._cache.$bar=L_(r.sort((i,s)=>i-s))}return e._cache.$bar}function RO(e){const t=e.iScale,n=MO(t,e.type);let r=t._length,i,s,o,a;const u=()=>{o===32767||o===-32768||(Fd(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=n.length;i<s;++i)o=t.getPixelForValue(n[i]),u();for(a=void 0,i=0,s=t.ticks.length;i<s;++i)o=t.getPixelForTick(i),u();return r}function IO(e,t,n,r){const i=n.barThickness;let s,o;return Dt(i)?(s=t.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:t.pixels[e]-s/2}}function DO(e,t,n,r){const i=t.pixels,s=i[e];let o=e>0?i[e-1]:null,a=e<i.length-1?i[e+1]:null;const u=n.categoryPercentage;o===null&&(o=s-(a===null?t.end-t.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*u;return{chunk:Math.abs(a-o)/2*u/r,ratio:n.barPercentage,start:c}}function FO(e,t,n,r){const i=n.parse(e[0],r),s=n.parse(e[1],r),o=Math.min(i,s),a=Math.max(i,s);let u=o,c=a;Math.abs(o)>Math.abs(a)&&(u=a,c=o),t[n.axis]=c,t._custom={barStart:u,barEnd:c,start:i,end:s,min:o,max:a}}function e7(e,t,n,r){return bn(e)?FO(e,t,n,r):t[n.axis]=n.parse(e,r),t}function f3(e,t,n,r){const i=e.iScale,s=e.vScale,o=i.getLabels(),a=i===s,u=[];let c,f,p,g;for(c=n,f=n+r;c<f;++c)g=t[c],p={},p[i.axis]=a||i.parse(o[c],c),u.push(e7(g,p,s,c));return u}function H0(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function BO(e,t,n){return e!==0?Es(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function zO(e){let t,n,r,i,s;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:t,top:i,bottom:s}}function $O(e,t,n,r){let i=t.borderSkipped;const s={};if(!i){e.borderSkipped=s;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:u,top:c,bottom:f}=zO(e);i==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=f:(s[p3(f,o,a,u)]=!0,i=c)),s[p3(i,o,a,u)]=!0,e.borderSkipped=s}function p3(e,t,n,r){return r?(e=UO(e,t,n),e=m3(e,n,t)):e=m3(e,t,n),e}function UO(e,t,n){return e===t?n:e===n?t:e}function m3(e,t,n){return e==="start"?t:e==="end"?n:e}function HO(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class t7 extends ua{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,n,r,i){return f3(t,n,r,i)}parseArrayData(t,n,r,i){return f3(t,n,r,i)}parseObjectData(t,n,r,i){const{iScale:s,vScale:o}=t,{xAxisKey:a="x",yAxisKey:u="y"}=this._parsing,c=s.axis==="x"?a:u,f=o.axis==="x"?a:u,p=[];let g,v,w,_;for(g=r,v=r+i;g<v;++g)_=n[g],w={},w[s.axis]=s.parse(na(_,c),g),p.push(e7(na(_,f),w,o,g));return p}updateRangeFromParsed(t,n,r,i){super.updateRangeFromParsed(t,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(t),o=s._custom,a=H0(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,r,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,u=a.getBasePixel(),c=a.isHorizontal(),f=this._getRuler(),{sharedOptions:p,includeOptions:g}=this._getSharedOptions(n,i);for(let v=n;v<n+r;v++){const w=this.getParsed(v),_=s||Dt(w[a.axis])?{base:u,head:u}:this._calculateBarValuePixels(v),C=this._calculateBarIndexPixels(v,f),E=(w._stacks||{})[a.axis],L={horizontal:c,base:_.base,enableBorderRadius:!E||H0(w._custom)||o===E._top||o===E._bottom,x:c?_.head:C.center,y:c?C.center:_.head,height:c?C.size:Math.abs(_.size),width:c?Math.abs(_.size):C.size};g&&(L.options=p||this.resolveDataElementOptions(v,t[v].active?"active":i));const A=L.options||t[v].options;$O(L,A,E,o),HO(L,A,f.ratio),this.updateElement(t[v],v,L,i)}}_getStacks(t,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),s=r.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),u=a&&a[r.axis],c=f=>{const p=f._parsed.find(v=>v[r.axis]===u),g=p&&p[f.vScale.axis];if(Dt(g)||isNaN(g))return!0};for(const f of i)if(!(n!==void 0&&c(f))&&((s===!1||o.indexOf(f.stack)===-1||s===void 0&&f.stack===void 0)&&o.push(f.stack),f.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(r=>t[r].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)t[vt(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,r){const i=this._getStacks(t,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const t=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,o;for(s=0,o=n.data.length;s<o;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const a=t.barThickness;return{min:a||RO(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:s,minBarLength:o}}=this,a=s||0,u=this.getParsed(t),c=u._custom,f=H0(c);let p=u[n.axis],g=0,v=r?this.applyStack(n,u,r):p,w,_;v!==p&&(g=v-p,v=p),f&&(p=c.barStart,v=c.barEnd-c.barStart,p!==0&&Es(p)!==Es(c.barEnd)&&(g=0),g+=p);const C=!Dt(s)&&!f?s:g;let E=n.getPixelForValue(C);if(this.chart.getDataVisibility(t)?w=n.getPixelForValue(g+v):w=E,_=w-E,Math.abs(_)<o){_=BO(_,n,a)*o,p===a&&(E-=_/2);const L=n.getPixelForDecimal(0),A=n.getPixelForDecimal(1),B=Math.min(L,A),U=Math.max(L,A);E=Math.max(Math.min(E,U),B),w=E+_,r&&!f&&(u._stacks[n.axis]._visualValues[i]=n.getValueForPixel(w)-n.getValueForPixel(E))}if(E===n.getPixelForValue(a)){const L=Es(_)*n.getLineWidthForValue(a)/2;E+=L,_-=L}return{size:_,base:E,head:w,center:w+_/2}}_calculateBarIndexPixels(t,n){const r=n.scale,i=this.options,s=i.skipNull,o=vt(i.maxBarThickness,1/0);let a,u;const c=this._getAxisCount();if(n.grouped){const f=s?this._getStackCount(t):n.stackCount,p=i.barThickness==="flex"?DO(t,n,i,f*c):IO(t,n,i,f*c),g=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,v=this._getAxis().indexOf(vt(g,this.getFirstScaleIdForIndexAxis())),w=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0)+v;a=p.start+p.chunk*w+p.chunk/2,u=Math.min(o,p.chunk*p.ratio)}else a=r.getPixelForValue(this.getParsed(t)[r.axis],t),u=Math.min(o,n.min*n.ratio);return{base:a-u/2,head:a+u/2,center:a,size:u}}draw(){const t=this._cachedMeta,n=t.vScale,r=t.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}class QO extends ua{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,r,i){const s=super.parsePrimitiveData(t,n,r,i);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+r).radius;return s}parseArrayData(t,n,r,i){const s=super.parseArrayData(t,n,r,i);for(let o=0;o<s.length;o++){const a=n[r+o];s[o]._custom=vt(a[2],this.resolveDataElementOptions(o+r).radius)}return s}parseObjectData(t,n,r,i){const s=super.parseObjectData(t,n,r,i);for(let o=0;o<s.length;o++){const a=n[r+o];s[o]._custom=vt(a&&a.r&&+a.r,this.resolveDataElementOptions(o+r).radius)}return s}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let r=t.length-1;r>=0;--r)n=Math.max(n,t[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,o=this.getParsed(t),a=i.getLabelForValue(o.x),u=s.getLabelForValue(o.y),c=o._custom;return{label:r[t]||"",value:"("+a+", "+u+(c?", "+c:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,r,i){const s=i==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:u,includeOptions:c}=this._getSharedOptions(n,i),f=o.axis,p=a.axis;for(let g=n;g<n+r;g++){const v=t[g],w=!s&&this.getParsed(g),_={},C=_[f]=s?o.getPixelForDecimal(.5):o.getPixelForValue(w[f]),E=_[p]=s?a.getBasePixel():a.getPixelForValue(w[p]);_.skip=isNaN(C)||isNaN(E),c&&(_.options=u||this.resolveDataElementOptions(g,v.active?"active":i),s&&(_.options.radius=0)),this.updateElement(v,g,_,i)}}resolveDataElementOptions(t,n){const r=this.getParsed(t);let i=super.resolveDataElementOptions(t,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const s=i.radius;return n!=="active"&&(i.radius=0),i.radius+=vt(r&&r._custom,s),i}}function VO(e,t,n){let r=1,i=1,s=0,o=0;if(t<fn){const a=e,u=a+t,c=Math.cos(a),f=Math.sin(a),p=Math.cos(u),g=Math.sin(u),v=(A,B,U)=>Bd(A,a,u,!0)?1:Math.max(B,B*n,U,U*n),w=(A,B,U)=>Bd(A,a,u,!0)?-1:Math.min(B,B*n,U,U*n),_=v(0,c,p),C=v(An,f,g),E=w(Wt,c,p),L=w(Wt+An,f,g);r=(_-E)/2,i=(C-L)/2,s=-(_+E)/2,o=-(C+L)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class vm extends ua{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=t.legend.options;return n.labels.map((s,o)=>{const u=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:i,lineWidth:u.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=u=>+r[u];if(Ft(r[t])){const{key:u="value"}=this._parsing;s=c=>+na(r[c],u)}let o,a;for(o=t,a=t+n;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return ss(this.options.rotation-90)}_getCircumference(){return ss(this.options.circumference)}_getRotationExtents(){let t=fn,n=-fn;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();t=Math.min(t,s),n=Math.max(n,s+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),u=Math.min(nP(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:f,rotation:p}=this._getRotationExtents(),{ratioX:g,ratioY:v,offsetX:w,offsetY:_}=VO(p,f,u),C=(r.width-o)/g,E=(r.height-o)/v,L=Math.max(Math.min(C,E)/2,0),A=E_(this.options.radius,L),B=Math.max(A*u,0),U=(A-B)/this._getVisibleDatasetWeightTotal();this.offsetX=w*A,this.offsetY=_*A,i.total=this.calculateTotal(),this.outerRadius=A-U*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-U*c,0),this.updateElements(s,0,s.length,t)}_circumference(t,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*s/fn)}updateElements(t,n,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,f=(a.left+a.right)/2,p=(a.top+a.bottom)/2,g=s&&c.animateScale,v=g?0:this.innerRadius,w=g?0:this.outerRadius,{sharedOptions:_,includeOptions:C}=this._getSharedOptions(n,i);let E=this._getRotation(),L;for(L=0;L<n;++L)E+=this._circumference(L,s);for(L=n;L<n+r;++L){const A=this._circumference(L,s),B=t[L],U={x:f+this.offsetX,y:p+this.offsetY,startAngle:E,endAngle:E+A,circumference:A,outerRadius:w,innerRadius:v};C&&(U.options=_||this.resolveDataElementOptions(L,B.active?"active":i)),E+=A,this.updateElement(B,L,U,i)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let r=0,i;for(i=0;i<n.length;i++){const s=t._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?fn*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=rh(n._parsed[t],r.options.locale);return{label:i[t]||"",value:s}}getMaxBorderWidth(t){let n=0;const r=this.chart;let i,s,o,a,u;if(!t){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),t=o.data,a=o.controller;break}}if(!t)return 0;for(i=0,s=t.length;i<s;++i)u=a.resolveDataElementOptions(i),u.borderAlign!=="inner"&&(n=Math.max(n,u.borderWidth||0,u.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let r=0,i=t.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(t){return Math.max(vt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class qO extends ua{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:u}=R_(n,i,o);this._drawStart=a,this._drawCount=u,I_(n)&&(a=0,u=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},t),this.updateElements(i,a,u,t)}updateElements(t,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:u,_dataset:c}=this._cachedMeta,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(n,i),g=o.axis,v=a.axis,{spanGaps:w,segment:_}=this.options,C=dl(w)?w:Number.POSITIVE_INFINITY,E=this.chart._animationsDisabled||s||i==="none",L=n+r,A=t.length;let B=n>0&&this.getParsed(n-1);for(let U=0;U<A;++U){const P=t[U],D=E?P:{};if(U<n||U>=L){D.skip=!0;continue}const z=this.getParsed(U),Q=Dt(z[v]),F=D[g]=o.getPixelForValue(z[g],U),oe=D[v]=s||Q?a.getBasePixel():a.getPixelForValue(u?this.applyStack(a,z,u):z[v],U);D.skip=isNaN(F)||isNaN(oe)||Q,D.stop=U>0&&Math.abs(z[g]-B[g])>C,_&&(D.parsed=z,D.raw=c.data[U]),p&&(D.options=f||this.resolveDataElementOptions(U,P.active?"active":i)),E||this.updateElement(P,U,D,i),B=z}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,r=n.options&&n.options.borderWidth||0,i=t.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class n7 extends ua{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=t.legend.options;return n.labels.map((s,o)=>{const u=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:i,lineWidth:u.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=rh(n._parsed[t].r,r.options.locale);return{label:i[t]||"",value:s}}parseObjectData(t,n,r,i){return Q_.bind(this)(t,n,r,i)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((r,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,r=t.options,i=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(i/2,0),o=Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0),a=(s-o)/t.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,n,r,i){const s=i==="reset",o=this.chart,u=o.options.animation,c=this._cachedMeta.rScale,f=c.xCenter,p=c.yCenter,g=c.getIndexAngle(0)-.5*Wt;let v=g,w;const _=360/this.countVisibleElements();for(w=0;w<n;++w)v+=this._computeAngle(w,i,_);for(w=n;w<n+r;w++){const C=t[w];let E=v,L=v+this._computeAngle(w,i,_),A=o.getDataVisibility(w)?c.getDistanceFromCenterForValue(this.getParsed(w).r):0;v=L,s&&(u.animateScale&&(A=0),u.animateRotate&&(E=L=g));const B={x:f,y:p,innerRadius:0,outerRadius:A,startAngle:E,endAngle:L,options:this.resolveDataElementOptions(w,C.active?"active":i)};this.updateElement(C,w,B,i)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((r,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(t,n,r){return this.chart.getDataVisibility(t)?ss(this.resolveDataElementOptions(t,n).angle||r):0}}class WO extends vm{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class r7 extends ua{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const n=this._cachedMeta.vScale,r=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(t,n,r,i){return Q_.bind(this)(t,n,r,i)}update(t){const n=this._cachedMeta,r=n.dataset,i=n.data||[],s=n.iScale.getLabels();if(r.points=i,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===i.length,options:o};this.updateElement(r,void 0,a,t)}this.updateElements(i,0,i.length,t)}updateElements(t,n,r,i){const s=this._cachedMeta.rScale,o=i==="reset";for(let a=n;a<n+r;a++){const u=t[a],c=this.resolveDataElementOptions(a,u.active?"active":i),f=s.getPointPositionForValue(a,this.getParsed(a).r),p=o?s.xCenter:f.x,g=o?s.yCenter:f.y,v={x:p,y:g,angle:f.angle,skip:isNaN(p)||isNaN(g),options:c};this.updateElement(u,a,v,i)}}}class KO extends ua{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,o=this.getParsed(t),a=i.getLabelForValue(o.x),u=s.getLabelForValue(o.y);return{label:r[t]||"",value:"("+a+", "+u+")"}}update(t){const n=this._cachedMeta,{data:r=[]}=n,i=this.chart._animationsDisabled;let{start:s,count:o}=R_(n,r,i);if(this._drawStart=s,this._drawCount=o,I_(n)&&(s=0,o=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:u}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!u._decimated,a.points=r;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,s,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:u,_dataset:c}=this._cachedMeta,f=this.resolveDataElementOptions(n,i),p=this.getSharedOptions(f),g=this.includeOptions(i,p),v=o.axis,w=a.axis,{spanGaps:_,segment:C}=this.options,E=dl(_)?_:Number.POSITIVE_INFINITY,L=this.chart._animationsDisabled||s||i==="none";let A=n>0&&this.getParsed(n-1);for(let B=n;B<n+r;++B){const U=t[B],P=this.getParsed(B),D=L?U:{},z=Dt(P[w]),Q=D[v]=o.getPixelForValue(P[v],B),F=D[w]=s||z?a.getBasePixel():a.getPixelForValue(u?this.applyStack(a,P,u):P[w],B);D.skip=isNaN(Q)||isNaN(F)||z,D.stop=B>0&&Math.abs(P[v]-A[v])>E,C&&(D.parsed=P,D.raw=c.data[B]),g&&(D.options=p||this.resolveDataElementOptions(B,U.active?"active":i)),L||this.updateElement(U,B,D,i),A=P}this.updateSharedOptions(p,i,f)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let a=0;for(let u=n.length-1;u>=0;--u)a=Math.max(a,n[u].size(this.resolveDataElementOptions(u))/2);return a>0&&a}const r=t.dataset,i=r.options&&r.options.borderWidth||0;if(!n.length)return i;const s=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,s,o)/2}}var GO=Object.freeze({__proto__:null,BarController:t7,BubbleController:QO,DoughnutController:vm,LineController:qO,PieController:WO,PolarAreaController:n7,RadarController:r7,ScatterController:KO});function Ha(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Rx{static override(t){Object.assign(Rx.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Ha()}parse(){return Ha()}format(){return Ha()}add(){return Ha()}diff(){return Ha()}startOf(){return Ha()}endOf(){return Ha()}}var YO={_date:Rx};function XO(e,t,n,r){const{controller:i,data:s,_sorted:o}=e,a=i._cachedMeta.iScale,u=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&s.length){const c=a._reversePixels?mP:oo;if(r){if(i._sharedOptions){const f=s[0],p=typeof f.getRange=="function"&&f.getRange(t);if(p){const g=c(s,t,n-p),v=c(s,t,n+p);return{lo:g.lo,hi:v.hi}}}}else{const f=c(s,t,n);if(u){const{vScale:p}=i._cachedMeta,{_parsed:g}=e,v=g.slice(0,f.lo+1).reverse().findIndex(_=>!Dt(_[p.axis]));f.lo-=Math.max(0,v);const w=g.slice(f.hi).findIndex(_=>!Dt(_[p.axis]));f.hi+=Math.max(0,w)}return f}}return{lo:0,hi:s.length-1}}function bm(e,t,n,r,i){const s=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,u=s.length;a<u;++a){const{index:c,data:f}=s[a],{lo:p,hi:g}=XO(s[a],t,o,i);for(let v=p;v<=g;++v){const w=f[v];w.skip||r(w,c,v)}}}function JO(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(r,i){const s=t?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Q0(e,t,n,r,i){const s=[];return!i&&!e.isPointInArea(t)||bm(e,n,t,function(a,u,c){!i&&!ao(a,e.chartArea,0)||a.inRange(t.x,t.y,r)&&s.push({element:a,datasetIndex:u,index:c})},!0),s}function ZO(e,t,n,r){let i=[];function s(o,a,u){const{startAngle:c,endAngle:f}=o.getProps(["startAngle","endAngle"],r),{angle:p}=P_(o,{x:t.x,y:t.y});Bd(p,c,f)&&i.push({element:o,datasetIndex:a,index:u})}return bm(e,n,t,s),i}function eL(e,t,n,r,i,s){let o=[];const a=JO(n);let u=Number.POSITIVE_INFINITY;function c(f,p,g){const v=f.inRange(t.x,t.y,i);if(r&&!v)return;const w=f.getCenterPoint(i);if(!(!!s||e.isPointInArea(w))&&!v)return;const C=a(t,w);C<u?(o=[{element:f,datasetIndex:p,index:g}],u=C):C===u&&o.push({element:f,datasetIndex:p,index:g})}return bm(e,n,t,c),o}function V0(e,t,n,r,i,s){return!s&&!e.isPointInArea(t)?[]:n==="r"&&!r?ZO(e,t,n,i):eL(e,t,n,r,i,s)}function g3(e,t,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return bm(e,n,t,(u,c,f)=>{u[o]&&u[o](t[n],i)&&(s.push({element:u,datasetIndex:c,index:f}),a=a||u.inRange(t.x,t.y,i))}),r&&!a?[]:s}var tL={modes:{index(e,t,n,r){const i=Ya(t,e),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Q0(e,i,s,r,o):V0(e,i,s,!1,r,o),u=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const f=a[0].index,p=c.data[f];p&&!p.skip&&u.push({element:p,datasetIndex:c.index,index:f})}),u):[]},dataset(e,t,n,r){const i=Ya(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Q0(e,i,s,r,o):V0(e,i,s,!1,r,o);if(a.length>0){const u=a[0].datasetIndex,c=e.getDatasetMeta(u).data;a=[];for(let f=0;f<c.length;++f)a.push({element:c[f],datasetIndex:u,index:f})}return a},point(e,t,n,r){const i=Ya(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return Q0(e,i,s,r,o)},nearest(e,t,n,r){const i=Ya(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return V0(e,i,s,n.intersect,r,o)},x(e,t,n,r){const i=Ya(t,e);return g3(e,i,"x",n.intersect,r)},y(e,t,n,r){const i=Ya(t,e);return g3(e,i,"y",n.intersect,r)}}};const i7=["left","top","right","bottom"];function Yc(e,t){return e.filter(n=>n.pos===t)}function y3(e,t){return e.filter(n=>i7.indexOf(n.pos)===-1&&n.box.axis===t)}function Xc(e,t){return e.sort((n,r)=>{const i=t?r:n,s=t?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function nL(e){const t=[];let n,r,i,s,o,a;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,t.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return t}function rL(e){const t={};for(const n of e){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!i7.includes(i))continue;const o=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function iL(e,t){const n=rL(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let s,o,a;for(s=0,o=e.length;s<o;++s){a=e[s];const{fullSize:u}=a.box,c=n[a.stack],f=c&&a.stackWeight/c.weight;a.horizontal?(a.width=f?f*r:u&&t.availableWidth,a.height=i):(a.width=r,a.height=f?f*i:u&&t.availableHeight)}return n}function sL(e){const t=nL(e),n=Xc(t.filter(c=>c.box.fullSize),!0),r=Xc(Yc(t,"left"),!0),i=Xc(Yc(t,"right")),s=Xc(Yc(t,"top"),!0),o=Xc(Yc(t,"bottom")),a=y3(t,"x"),u=y3(t,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(u).concat(o).concat(a),chartArea:Yc(t,"chartArea"),vertical:r.concat(i).concat(u),horizontal:s.concat(o).concat(a)}}function x3(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function s7(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function oL(e,t,n,r){const{pos:i,box:s}=n,o=e.maxPadding;if(!Ft(i)){n.size&&(e[i]-=n.size);const p=r[n.stack]||{size:0,count:1};p.size=Math.max(p.size,n.horizontal?s.height:s.width),n.size=p.size/p.count,e[i]+=n.size}s.getPadding&&s7(o,s.getPadding());const a=Math.max(0,t.outerWidth-x3(o,e,"left","right")),u=Math.max(0,t.outerHeight-x3(o,e,"top","bottom")),c=a!==e.w,f=u!==e.h;return e.w=a,e.h=u,n.horizontal?{same:c,other:f}:{same:f,other:c}}function aL(e){const t=e.maxPadding;function n(r){const i=Math.max(t[r]-e[r],0);return e[r]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function lL(e,t){const n=t.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(t[o],n[o])}),s}return r(e?["left","right"]:["top","bottom"])}function fd(e,t,n,r){const i=[];let s,o,a,u,c,f;for(s=0,o=e.length,c=0;s<o;++s){a=e[s],u=a.box,u.update(a.width||t.w,a.height||t.h,lL(a.horizontal,t));const{same:p,other:g}=oL(t,n,a,r);c|=p&&i.length,f=f||g,u.fullSize||i.push(a)}return c&&fd(i,t,n,r)||f}function $f(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function v3(e,t,n,r){const i=n.padding;let{x:s,y:o}=t;for(const a of e){const u=a.box,c=r[a.stack]||{placed:0,weight:1},f=a.stackWeight/c.weight||1;if(a.horizontal){const p=t.w*f,g=c.size||u.height;Fd(c.start)&&(o=c.start),u.fullSize?$f(u,i.left,o,n.outerWidth-i.right-i.left,g):$f(u,t.left+c.placed,o,p,g),c.start=o,c.placed+=p,o=u.bottom}else{const p=t.h*f,g=c.size||u.width;Fd(c.start)&&(s=c.start),u.fullSize?$f(u,s,i.top,g,n.outerHeight-i.bottom-i.top):$f(u,s,t.top+c.placed,g,p),c.start=s,c.placed+=p,s=u.right}}t.x=s,t.y=o}var _r={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=Cr(e.options.layout.padding),s=Math.max(t-i.width,0),o=Math.max(n-i.height,0),a=sL(e.boxes),u=a.vertical,c=a.horizontal;Jt(e.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const f=u.reduce((_,C)=>C.box.options&&C.box.options.display===!1?_:_+1,0)||1,p=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/f,hBoxMaxHeight:o/2}),g=Object.assign({},i);s7(g,Cr(r));const v=Object.assign({maxPadding:g,w:s,h:o,x:i.left,y:i.top},i),w=iL(u.concat(c),p);fd(a.fullSize,v,p,w),fd(u,v,p,w),fd(c,v,p,w)&&fd(u,v,p,w),aL(v),v3(a.leftAndTop,v,p,w),v.x+=v.w,v.y+=v.h,v3(a.rightAndBottom,v,p,w),e.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},Jt(a.chartArea,_=>{const C=_.box;Object.assign(C,e.chartArea),C.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class o7{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,r){}removeEventListener(t,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,r,i){return n=Math.max(0,n||t.width),r=r||t.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(t){return!0}updateConfig(t){}}class uL extends o7{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const bp="$chartjs",cL={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},b3=e=>e===null||e==="";function dL(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[bp]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",b3(i)){const s=r3(e,"width");s!==void 0&&(e.width=s)}if(b3(r))if(e.style.height==="")e.height=e.width/(t||2);else{const s=r3(e,"height");s!==void 0&&(e.height=s)}return e}const a7=lO?{passive:!0}:!1;function hL(e,t,n){e&&e.addEventListener(t,n,a7)}function fL(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,a7)}function pL(e,t){const n=cL[e.type]||e.type,{x:r,y:i}=Ya(e,t);return{type:n,chart:t,native:e,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Vp(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function mL(e,t,n){const r=e.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Vp(a.addedNodes,r),o=o&&!Vp(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function gL(e,t,n){const r=e.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Vp(a.removedNodes,r),o=o&&!Vp(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const $d=new Map;let w3=0;function l7(){const e=window.devicePixelRatio;e!==w3&&(w3=e,$d.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function yL(e,t){$d.size||window.addEventListener("resize",l7),$d.set(e,t)}function xL(e){$d.delete(e),$d.size||window.removeEventListener("resize",l7)}function vL(e,t,n){const r=e.canvas,i=r&&Mx(r);if(!i)return;const s=M_((a,u)=>{const c=i.clientWidth;n(a,u),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const u=a[0],c=u.contentRect.width,f=u.contentRect.height;c===0&&f===0||s(c,f)});return o.observe(i),yL(e,s),o}function q0(e,t,n){n&&n.disconnect(),t==="resize"&&xL(e)}function bL(e,t,n){const r=e.canvas,i=M_(s=>{e.ctx!==null&&n(pL(s,e))},e);return hL(r,t,i),i}class wL extends o7{acquireContext(t,n){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(dL(t,n),r):null}releaseContext(t){const n=t.canvas;if(!n[bp])return!1;const r=n[bp].initial;["height","width"].forEach(s=>{const o=r[s];Dt(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[bp],!0}addEventListener(t,n,r){this.removeEventListener(t,n);const i=t.$proxies||(t.$proxies={}),o={attach:mL,detach:gL,resize:vL}[n]||bL;i[n]=o(t,n,r)}removeEventListener(t,n){const r=t.$proxies||(t.$proxies={}),i=r[n];if(!i)return;({attach:q0,detach:q0,resize:q0}[n]||fL)(t,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,r,i){return aO(t,n,r,i)}isAttached(t){const n=t&&Mx(t);return!!(n&&n.isConnected)}}function _L(e){return!Ax()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?uL:wL}let ho=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}hasValue(){return dl(this.x)&&dl(this.y)}getProps(t,n){const r=this.$animations;if(!n||!r)return this;const i={};return t.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}};function SL(e,t){const n=e.options.ticks,r=CL(e),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?jL(t):[],o=s.length,a=s[0],u=s[o-1],c=[];if(o>i)return EL(t,c,s,o/i),c;const f=kL(s,t,i);if(o>0){let p,g;const v=o>1?Math.round((u-a)/(o-1)):null;for(Uf(t,c,f,Dt(v)?0:a-v,a),p=0,g=o-1;p<g;p++)Uf(t,c,f,s[p],s[p+1]);return Uf(t,c,f,u,Dt(v)?t.length:u+v),c}return Uf(t,c,f),c}function CL(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}function kL(e,t,n){const r=TL(e),i=t.length/n;if(!r)return Math.max(i,1);const s=cP(r);for(let o=0,a=s.length-1;o<a;o++){const u=s[o];if(u>i)return u}return Math.max(i,1)}function jL(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}function EL(e,t,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<e.length;o++)o===s&&(t.push(e[o]),i++,s=n[i*r])}function Uf(e,t,n,r,i){const s=vt(r,0),o=Math.min(vt(i,e.length),e.length);let a=0,u,c,f;for(n=Math.ceil(n),i&&(u=i-r,n=u/Math.floor(u/n)),f=s;f<0;)a++,f=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===f&&(t.push(e[c]),a++,f=Math.round(s+a*n))}function TL(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}const NL=e=>e==="left"?"right":e==="right"?"left":e,_3=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,S3=(e,t)=>Math.min(t||e,e);function C3(e,t){const n=[],r=e.length/t,i=e.length;let s=0;for(;s<i;s+=r)n.push(e[Math.floor(s)]);return n}function PL(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),s=e._startPixel,o=e._endPixel,a=1e-6;let u=e.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(u-s,o-u):t===0?c=(e.getPixelForTick(1)-u)/2:c=(u-e.getPixelForTick(i-1))/2,u+=i<t?c:-c,u<s-a||u>o+a)))return u}function OL(e,t){Jt(e,n=>{const r=n.gc,i=r.length/2;let s;if(i>t){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function Jc(e){return e.drawTicks?e.tickLength:0}function k3(e,t){if(!e.display)return 0;const n=Kn(e.font,t),r=Cr(e.padding);return(bn(e.text)?e.text.length:1)*n.lineHeight+r.height}function LL(e,t){return la(e,{scale:t,type:"scale"})}function AL(e,t,n){return la(e,{tick:n,index:t,type:"tick"})}function ML(e,t,n){let r=Ex(e);return(n&&t!=="right"||!n&&t==="right")&&(r=NL(r)),r}function RL(e,t,n,r){const{top:i,left:s,bottom:o,right:a,chart:u}=e,{chartArea:c,scales:f}=u;let p=0,g,v,w;const _=o-i,C=a-s;if(e.isHorizontal()){if(v=br(r,s,a),Ft(n)){const E=Object.keys(n)[0],L=n[E];w=f[E].getPixelForValue(L)+_-t}else n==="center"?w=(c.bottom+c.top)/2+_-t:w=_3(e,n,t);g=a-s}else{if(Ft(n)){const E=Object.keys(n)[0],L=n[E];v=f[E].getPixelForValue(L)-C+t}else n==="center"?v=(c.left+c.right)/2-C+t:v=_3(e,n,t);w=br(r,o,i),p=n==="left"?-An:An}return{titleX:v,titleY:w,maxWidth:g,rotation:p}}class bl extends ho{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return t=pi(t,Number.POSITIVE_INFINITY),n=pi(n,Number.NEGATIVE_INFINITY),r=pi(r,Number.POSITIVE_INFINITY),i=pi(i,Number.NEGATIVE_INFINITY),{min:pi(t,r),max:pi(n,i),minDefined:En(t),maxDefined:En(n)}}getMinMax(t){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let u=0,c=a.length;u<c;++u)o=a[u].controller.getMinMax(this,t),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:pi(n,pi(r,n)),max:pi(r,pi(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){an(this.options.beforeUpdate,[this])}update(t,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=BP(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=a<this.ticks.length;this._convertTicksToLabels(u?C3(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=SL(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,t=!t),this._startPixel=n,this._endPixel=r,this._reversePixels=t,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){an(this.options.afterUpdate,[this])}beforeSetDimensions(){an(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){an(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),an(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){an(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r],s.label=an(n.callback,[s.value,r,t],this)}afterTickToLabelConversion(){an(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){an(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,r=S3(this.ticks.length,t.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,u,c;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const f=this._getLabelSizes(),p=f.widest.width,g=f.highest.height,v=ir(this.chart.width-p,0,this.maxWidth);a=t.offset?this.maxWidth/r:v/(r-1),p+6>a&&(a=v/(r-(t.offset?.5:1)),u=this.maxHeight-Jc(t.grid)-n.padding-k3(t.title,this.chart.options.font),c=Math.sqrt(p*p+g*g),o=kx(Math.min(Math.asin(ir((f.highest.height+6)/a,-1,1)),Math.asin(ir(u/c,-1,1))-Math.asin(ir(g/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){an(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){an(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const u=k3(i,n.options.font);if(a?(t.width=this.maxWidth,t.height=Jc(s)+u):(t.height=this.maxHeight,t.width=Jc(s)+u),r.display&&this.ticks.length){const{first:c,last:f,widest:p,highest:g}=this._getLabelSizes(),v=r.padding*2,w=ss(this.labelRotation),_=Math.cos(w),C=Math.sin(w);if(a){const E=r.mirror?0:C*p.width+_*g.height;t.height=Math.min(this.maxHeight,t.height+E+v)}else{const E=r.mirror?0:_*p.width+C*g.height;t.width=Math.min(this.maxWidth,t.width+E+v)}this._calculatePadding(c,f,C,_)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,u=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,v=0;u?c?(g=i*t.width,v=r*n.height):(g=r*t.height,v=i*n.width):s==="start"?v=n.width:s==="end"?g=t.width:s!=="inner"&&(g=t.width/2,v=n.width/2),this.paddingLeft=Math.max((g-f+o)*this.width/(this.width-f),0),this.paddingRight=Math.max((v-p+o)*this.width/(this.width-p),0)}else{let f=n.height/2,p=t.height/2;s==="start"?(f=0,p=t.height):s==="end"&&(f=n.height,p=0),this.paddingTop=f+o,this.paddingBottom=p+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){an(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,r;for(n=0,r=t.length;n<r;n++)Dt(t[n].label)&&(t.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=C3(r,n)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],u=Math.floor(n/S3(n,r));let c=0,f=0,p,g,v,w,_,C,E,L,A,B,U;for(p=0;p<n;p+=u){if(w=t[p].label,_=this._resolveTickFontOptions(p),i.font=C=_.string,E=s[C]=s[C]||{data:{},gc:[]},L=_.lineHeight,A=B=0,!Dt(w)&&!bn(w))A=Hp(i,E.data,E.gc,A,w),B=L;else if(bn(w))for(g=0,v=w.length;g<v;++g)U=w[g],!Dt(U)&&!bn(U)&&(A=Hp(i,E.data,E.gc,A,U),B+=L);o.push(A),a.push(B),c=Math.max(A,c),f=Math.max(B,f)}OL(s,n);const P=o.indexOf(c),D=a.indexOf(f),z=Q=>({width:o[Q]||0,height:a[Q]||0});return{first:z(0),last:z(n-1),widest:z(P),highest:z(D),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return pP(this._alignToPixels?Ua(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const r=n[t];return r.$context||(r.$context=AL(this.getContext(),t,r))}return this.$context||(this.$context=LL(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=ss(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,a=s?s.widest.width+o:0,u=s?s.highest.height+o:0;return this.isHorizontal()?u*r>a*i?a/r:u/i:u*i<a*r?u/r:a/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,u=s.offset,c=this.isHorizontal(),p=this.ticks.length+(u?1:0),g=Jc(s),v=[],w=a.setContext(this.getContext()),_=w.display?w.width:0,C=_/2,E=function(J){return Ua(r,J,_)};let L,A,B,U,P,D,z,Q,F,oe,le,ue;if(o==="top")L=E(this.bottom),D=this.bottom-g,Q=L-C,oe=E(t.top)+C,ue=t.bottom;else if(o==="bottom")L=E(this.top),oe=t.top,ue=E(t.bottom)-C,D=L+C,Q=this.top+g;else if(o==="left")L=E(this.right),P=this.right-g,z=L-C,F=E(t.left)+C,le=t.right;else if(o==="right")L=E(this.left),F=t.left,le=E(t.right)-C,P=L+C,z=this.left+g;else if(n==="x"){if(o==="center")L=E((t.top+t.bottom)/2+.5);else if(Ft(o)){const J=Object.keys(o)[0],te=o[J];L=E(this.chart.scales[J].getPixelForValue(te))}oe=t.top,ue=t.bottom,D=L+C,Q=D+g}else if(n==="y"){if(o==="center")L=E((t.left+t.right)/2);else if(Ft(o)){const J=Object.keys(o)[0],te=o[J];L=E(this.chart.scales[J].getPixelForValue(te))}P=L-C,z=P-g,F=t.left,le=t.right}const W=vt(i.ticks.maxTicksLimit,p),V=Math.max(1,Math.ceil(p/W));for(A=0;A<p;A+=V){const J=this.getContext(A),te=s.setContext(J),ne=a.setContext(J),me=te.lineWidth,I=te.color,G=ne.dash||[],ye=ne.dashOffset,$=te.tickWidth,De=te.tickColor,je=te.tickBorderDash||[],Ee=te.tickBorderDashOffset;B=PL(this,A,u),B!==void 0&&(U=Ua(r,B,me),c?P=z=F=le=U:D=Q=oe=ue=U,v.push({tx1:P,ty1:D,tx2:z,ty2:Q,x1:F,y1:oe,x2:le,y2:ue,width:me,color:I,borderDash:G,borderDashOffset:ye,tickWidth:$,tickColor:De,tickBorderDash:je,tickBorderDashOffset:Ee}))}return this._ticksLength=p,this._borderValue=L,v}_computeLabelItems(t){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:u,crossAlign:c,padding:f,mirror:p}=s,g=Jc(r.grid),v=g+f,w=p?-f:v,_=-ss(this.labelRotation),C=[];let E,L,A,B,U,P,D,z,Q,F,oe,le,ue="middle";if(i==="top")P=this.bottom-w,D=this._getXAxisLabelAlignment();else if(i==="bottom")P=this.top+w,D=this._getXAxisLabelAlignment();else if(i==="left"){const V=this._getYAxisLabelAlignment(g);D=V.textAlign,U=V.x}else if(i==="right"){const V=this._getYAxisLabelAlignment(g);D=V.textAlign,U=V.x}else if(n==="x"){if(i==="center")P=(t.top+t.bottom)/2+v;else if(Ft(i)){const V=Object.keys(i)[0],J=i[V];P=this.chart.scales[V].getPixelForValue(J)+v}D=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")U=(t.left+t.right)/2-v;else if(Ft(i)){const V=Object.keys(i)[0],J=i[V];U=this.chart.scales[V].getPixelForValue(J)}D=this._getYAxisLabelAlignment(g).textAlign}n==="y"&&(u==="start"?ue="top":u==="end"&&(ue="bottom"));const W=this._getLabelSizes();for(E=0,L=a.length;E<L;++E){A=a[E],B=A.label;const V=s.setContext(this.getContext(E));z=this.getPixelForTick(E)+s.labelOffset,Q=this._resolveTickFontOptions(E),F=Q.lineHeight,oe=bn(B)?B.length:1;const J=oe/2,te=V.color,ne=V.textStrokeColor,me=V.textStrokeWidth;let I=D;o?(U=z,D==="inner"&&(E===L-1?I=this.options.reverse?"left":"right":E===0?I=this.options.reverse?"right":"left":I="center"),i==="top"?c==="near"||_!==0?le=-oe*F+F/2:c==="center"?le=-W.highest.height/2-J*F+F:le=-W.highest.height+F/2:c==="near"||_!==0?le=F/2:c==="center"?le=W.highest.height/2-J*F:le=W.highest.height-oe*F,p&&(le*=-1),_!==0&&!V.showLabelBackdrop&&(U+=F/2*Math.sin(_))):(P=z,le=(1-oe)*F/2);let G;if(V.showLabelBackdrop){const ye=Cr(V.backdropPadding),$=W.heights[E],De=W.widths[E];let je=le-ye.top,Ee=0-ye.left;switch(ue){case"middle":je-=$/2;break;case"bottom":je-=$;break}switch(D){case"center":Ee-=De/2;break;case"right":Ee-=De;break;case"inner":E===L-1?Ee-=De:E>0&&(Ee-=De/2);break}G={left:Ee,top:je,width:De+ye.width,height:$+ye.height,color:V.backdropColor}}C.push({label:B,font:Q,textOffset:le,options:{rotation:_,color:te,strokeColor:ne,strokeWidth:me,textAlign:I,textBaseline:ue,translation:[U,P],backdrop:G}})}return C}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-ss(this.labelRotation))return t==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=t+s,u=o.widest.width;let c,f;return n==="left"?i?(f=this.right+s,r==="near"?c="left":r==="center"?(c="center",f+=u/2):(c="right",f+=u)):(f=this.right-a,r==="near"?c="right":r==="center"?(c="center",f-=u/2):(c="left",f=this.left)):n==="right"?i?(f=this.left+s,r==="near"?c="right":r==="center"?(c="center",f-=u/2):(c="left",f-=u)):(f=this.left+a,r==="near"?c="left":r==="center"?(c="center",f+=u/2):(c="right",f=this.right)):c="right",{textAlign:c,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(r,i,s,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===t);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,o;const a=(u,c,f)=>{!f.width||!f.color||(r.save(),r.lineWidth=f.width,r.strokeStyle=f.color,r.setLineDash(f.borderDash||[]),r.lineDashOffset=f.borderDashOffset,r.beginPath(),r.moveTo(u.x,u.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const u=i[s];n.drawOnChartArea&&a({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&a({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let c,f,p,g;this.isHorizontal()?(c=Ua(t,this.left,o)-o/2,f=Ua(t,this.right,a)+a/2,p=g=u):(p=Ua(t,this.top,o)-o/2,g=Ua(t,this.bottom,a)+a/2,c=f=u),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,p),n.lineTo(f,g),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&gm(r,i);const s=this.getLabelItems(t);for(const o of s){const a=o.options,u=o.font,c=o.label,f=o.textOffset;fl(r,c,0,f,u,a)}i&&ym(r)}drawTitle(){const{ctx:t,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=Kn(r.font),o=Cr(r.padding),a=r.align;let u=s.lineHeight/2;n==="bottom"||n==="center"||Ft(n)?(u+=o.bottom,bn(r.text)&&(u+=s.lineHeight*(r.text.length-1))):u+=o.top;const{titleX:c,titleY:f,maxWidth:p,rotation:g}=RL(this,u,n,a);fl(t,r.text,0,0,s,{color:r.color,maxWidth:p,rotation:g,textAlign:ML(a,n,i),textBaseline:"middle",translation:[c,f]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,r=vt(t.grid&&t.grid.z,-1),i=vt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==bl.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!t||a.type===t)&&i.push(a)}return i}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Kn(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Hf{constructor(t,n,r){this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let r;FL(n)&&(r=this.register(n));const i=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in i||(i[s]=t,IL(t,o,r),this.override&&wn.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,r=t.id,i=this.scope;r in n&&delete n[r],i&&r in wn[i]&&(delete wn[i][r],this.override&&delete hl[r])}}function IL(e,t,n){const r=Dd(Object.create(null),[n?wn.get(n):{},wn.get(t),e.defaults]);wn.set(t,r),e.defaultRoutes&&DL(t,e.defaultRoutes),e.descriptors&&wn.describe(t,e.descriptors)}function DL(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),i=r.pop(),s=[e].concat(r).join("."),o=t[n].split("."),a=o.pop(),u=o.join(".");wn.route(s,i,u,a)})}function FL(e){return"id"in e&&"defaults"in e}class BL{constructor(){this.controllers=new Hf(ua,"datasets",!0),this.elements=new Hf(ho,"elements"),this.plugins=new Hf(Object,"plugins"),this.scales=new Hf(bl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(t,s,i):Jt(i,o=>{const a=r||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,r){const i=Cx(t);an(r["before"+i],[],r),n[t](r),an(r["after"+i],[],r)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(t))return r}return this.plugins}_get(t,n,r){const i=n.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return i}}var _s=new BL;class zL{constructor(){this._init=[]}notify(t,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(s,t,n,r);return n==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,r,i){i=i||{};for(const s of t){const o=s.plugin,a=o[r],u=[n,i,s.options];if(an(a,u,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Dt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const r=t&&t.config,i=vt(r.options&&r.options.plugins,{}),s=$L(r);return i===!1&&!n?[]:HL(t,s,i,n)}_notifyStateChanges(t){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(u=>a.plugin.id===u.plugin.id));this._notify(i(n,r),t,"stop"),this._notify(i(r,n),t,"start")}}function $L(e){const t={},n=[],r=Object.keys(_s.plugins.items);for(let s=0;s<r.length;s++)n.push(_s.getPlugin(r[s]));const i=e.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function UL(e,t){return!t&&e===!1?null:e===!0?{}:e}function HL(e,{plugins:t,localIds:n},r,i){const s=[],o=e.getContext();for(const a of t){const u=a.id,c=UL(r[u],i);c!==null&&s.push({plugin:a,options:QL(e.config,{plugin:a,local:n[u]},c,o)})}return s}function QL(e,{plugin:t,local:n},r,i){const s=e.pluginScopeKeys(t),o=e.getOptionScopes(r,s);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ty(e,t){const n=wn.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function VL(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function qL(e,t){return e===t?"_index_":"_value_"}function j3(e){if(e==="x"||e==="y"||e==="r")return e}function WL(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function ny(e,...t){if(j3(e))return e;for(const n of t){const r=n.axis||WL(n.position)||e.length>1&&j3(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function E3(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function KL(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(n.length)return E3(e,"x",n[0])||E3(e,"y",n[0])}return{}}function GL(e,t){const n=hl[e.type]||{scales:{}},r=t.scales||{},i=ty(e.type,t),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!Ft(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const u=ny(o,a,KL(o,e),wn.scales[a.type]),c=qL(u,i),f=n.scales||{};s[o]=vd(Object.create(null),[{axis:u},a,f[u],f[c]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,u=o.indexAxis||ty(a,t),f=(hl[a]||{}).scales||{};Object.keys(f).forEach(p=>{const g=VL(p,u),v=o[g+"AxisID"]||g;s[v]=s[v]||Object.create(null),vd(s[v],[{axis:g},r[v],f[p]])})}),Object.keys(s).forEach(o=>{const a=s[o];vd(a,[wn.scales[a.type],wn.scale])}),s}function u7(e){const t=e.options||(e.options={});t.plugins=vt(t.plugins,{}),t.scales=GL(e,t)}function c7(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function YL(e){return e=e||{},e.data=c7(e.data),u7(e),e}const T3=new Map,d7=new Set;function Qf(e,t){let n=T3.get(e);return n||(n=t(),T3.set(e,n),d7.add(n)),n}const Zc=(e,t,n)=>{const r=na(t,n);r!==void 0&&e.add(r)};class XL{constructor(t){this._config=YL(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=c7(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),u7(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Qf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Qf(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Qf(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,r=this.type;return Qf(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const r=this._scopeCache;let i=r.get(t);return(!i||n)&&(i=new Map,r.set(t,i)),i}getOptionScopes(t,n,r){const{options:i,type:s}=this,o=this._cachedScopes(t,r),a=o.get(n);if(a)return a;const u=new Set;n.forEach(f=>{t&&(u.add(t),f.forEach(p=>Zc(u,t,p))),f.forEach(p=>Zc(u,i,p)),f.forEach(p=>Zc(u,hl[s]||{},p)),f.forEach(p=>Zc(u,wn,p)),f.forEach(p=>Zc(u,Z1,p))});const c=Array.from(u);return c.length===0&&c.push(Object.create(null)),d7.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:t,type:n}=this;return[t,hl[n]||{},wn.datasets[n]||{},{type:n},wn,Z1]}resolveNamedOptions(t,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=N3(this._resolverCache,t,i);let u=o;if(ZL(o,n)){s.$shared=!1,r=ra(r)?r():r;const c=this.createResolver(t,r,a);u=Uu(o,r,c)}for(const c of n)s[c]=u[c];return s}createResolver(t,n,r=[""],i){const{resolver:s}=N3(this._resolverCache,t,r);return Ft(n)?Uu(s,n,void 0,i):s}}function N3(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let s=r.get(i);return s||(s={resolver:Px(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const JL=e=>Ft(e)&&Object.getOwnPropertyNames(e).some(t=>ra(e[t]));function ZL(e,t){const{isScriptable:n,isIndexable:r}=z_(e);for(const i of t){const s=n(i),o=r(i),a=(o||s)&&e[i];if(s&&(ra(a)||JL(a))||o&&bn(a))return!0}return!1}var eA="4.5.0";const tA=["top","bottom","left","right","chartArea"];function P3(e,t){return e==="top"||e==="bottom"||tA.indexOf(e)===-1&&t==="x"}function O3(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function L3(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),an(n&&n.onComplete,[e],t)}function nA(e){const t=e.chart,n=t.options.animation;an(n&&n.onProgress,[e],t)}function h7(e){return Ax()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const wp={},A3=e=>{const t=h7(e);return Object.values(wp).filter(n=>n.canvas===t).pop()};function rA(e,t,n){const r=Object.keys(e);for(const i of r){const s=+i;if(s>=t){const o=e[i];delete e[i],(n>0||s>t)&&(e[s+n]=o)}}}function iA(e,t,n,r){return!n||e.type==="mouseout"?null:r?t:e}let fo=class{static defaults=wn;static instances=wp;static overrides=hl;static registry=_s;static version=eA;static getChart=A3;static register(...t){_s.add(...t),M3()}static unregister(...t){_s.remove(...t),M3()}constructor(t,n){const r=this.config=new XL(n),i=h7(t),s=A3(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||_L(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),u=a&&a.canvas,c=u&&u.height,f=u&&u.width;if(this.id=tP(),this.ctx=a,this.canvas=u,this.width=f,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new zL,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=xP(p=>this.update(p),o.resizeDelay||0),this._dataChanges=[],wp[this.id]=this,!a||!u){console.error("Failed to create chart: can't acquire context from the given item");return}Js.listen(this,"complete",L3),Js.listen(this,"progress",nA),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return Dt(t)?n&&s?s:i?r/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return _s}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():n3(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Zw(this.canvas,this.ctx),this}stop(){return Js.stop(this),this}resize(t,n){Js.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,n3(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),an(r.onResize,[this,o],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Jt(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],u=ny(o,a),c=u==="r",f=u==="x";return{options:a,dposition:c?"chartArea":f?"bottom":"left",dtype:c?"radialLinear":f?"category":"linear"}}))),Jt(s,o=>{const a=o.options,u=a.id,c=ny(u,a),f=vt(a.type,o.dtype);(a.position===void 0||P3(a.position,c)!==P3(o.dposition))&&(a.position=o.dposition),i[u]=!0;let p=null;if(u in r&&r[u].type===f)p=r[u];else{const g=_s.getScale(f);p=new g({id:u,type:f,ctx:this.ctx,chart:this}),r[p.id]=p}p.init(a,t)}),Jt(i,(o,a)=>{o||delete r[a]}),Jt(r,o=>{_r.configure(this,o,o.options),_r.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(O3("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||ty(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const u=_s.getController(a),{datasetElementType:c,dataElementType:f}=wn.datasets[a];Object.assign(u,{dataElementType:_s.getElement(f),datasetElementType:c&&_s.getElement(c)}),o.controller=new u(this,r),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){Jt(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,f=this.data.datasets.length;c<f;c++){const{controller:p}=this.getDatasetMeta(c),g=!i&&s.indexOf(p)===-1;p.buildOrUpdateElements(g),o=Math.max(+p.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||Jt(s,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(O3("z","_idx"));const{_active:a,_lastEvent:u}=this;u?this._eventHandler(u,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Jt(this.scales,t=>{_r.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!Qw(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;rA(t,i,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(t.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!Qw(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;_r.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Jt(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,ra(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),i={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Js.has(this)?this.attached&&!Js.running(this)&&Js.start(this):(this.draw(),L3({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!t||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r={meta:t,index:t.index,cancelable:!0},i=X_(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&gm(n,i),t.controller.draw(),i&&ym(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return ao(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,i){const s=tL.modes[n];return typeof s=="function"?s(this,t,r,i):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=la(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){const r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(t),o=s.controller._resolveAnimations(void 0,i);Fd(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===t?i:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Js.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Zw(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete wp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),t[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};Jt(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(u,c)=>{n.addEventListener(this,u,c),t[u]=c},i=(u,c)=>{t[u]&&(n.removeEventListener(this,u,c),delete t[u])},s=(u,c)=>{this.canvas&&this.resize(u,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Jt(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Jt(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const i=r?"set":"remove";let s,o,a,u;for(n==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,u=t.length;a<u;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!zp(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,r){const i=this.options.hover,s=(u,c)=>u.filter(f=>!c.some(p=>f.datasetIndex===p.datasetIndex&&f.index===p.index)),o=s(n,t),a=r?t:s(t,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},i=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(t,i,r,o),u=aP(t),c=iA(t,this._lastEvent,r,u);r&&(this._lastEvent=null,an(s.onHover,[t,a,this],this),u&&an(s.onClick,[t,a,this],this));const f=!zp(a,i);return(f||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,f}_getActiveElements(t,n,r,i){if(t.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,i)}};function M3(){return Jt(fo.instances,e=>e._plugins.invalidate())}function sA(e,t,n){const{startAngle:r,x:i,y:s,outerRadius:o,innerRadius:a,options:u}=t,{borderWidth:c,borderJoinStyle:f}=u,p=Math.min(c/o,wr(r-n));if(e.beginPath(),e.arc(i,s,o-c/2,r+p/2,n-p/2),a>0){const g=Math.min(c/a,wr(r-n));e.arc(i,s,a+c/2,n-g/2,r+g/2,!0)}else{const g=Math.min(c/2,o*wr(r-n));if(f==="round")e.arc(i,s,g,n-Wt/2,r+Wt/2,!0);else if(f==="bevel"){const v=2*g*g,w=-v*Math.cos(n+Wt/2)+i,_=-v*Math.sin(n+Wt/2)+s,C=v*Math.cos(r+Wt/2)+i,E=v*Math.sin(r+Wt/2)+s;e.lineTo(w,_),e.lineTo(C,E)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function oA(e,t,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:u}=t;let c=i/a;e.beginPath(),e.arc(s,o,a,r-c,n+c),u>i?(c=i/u,e.arc(s,o,u,n+c,r-c,!0)):e.arc(s,o,i,n+An,r-An),e.closePath(),e.clip()}function aA(e){return Nx(e,["outerStart","outerEnd","innerStart","innerEnd"])}function lA(e,t,n,r){const i=aA(e.options.borderRadius),s=(n-t)/2,o=Math.min(s,r*t/2),a=u=>{const c=(n-Math.min(s,u))*r/2;return ir(u,0,Math.min(s,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:ir(i.innerStart,0,o),innerEnd:ir(i.innerEnd,0,o)}}function hu(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function qp(e,t,n,r,i,s){const{x:o,y:a,startAngle:u,pixelMargin:c,innerRadius:f}=t,p=Math.max(t.outerRadius+r+n-c,0),g=f>0?f+r+n+c:0;let v=0;const w=i-u;if(r){const V=f>0?f-r:0,J=p>0?p-r:0,te=(V+J)/2,ne=te!==0?w*te/(te+r):w;v=(w-ne)/2}const _=Math.max(.001,w*p-n/Wt)/p,C=(w-_)/2,E=u+C+v,L=i-C-v,{outerStart:A,outerEnd:B,innerStart:U,innerEnd:P}=lA(t,g,p,L-E),D=p-A,z=p-B,Q=E+A/D,F=L-B/z,oe=g+U,le=g+P,ue=E+U/oe,W=L-P/le;if(e.beginPath(),s){const V=(Q+F)/2;if(e.arc(o,a,p,Q,V),e.arc(o,a,p,V,F),B>0){const me=hu(z,F,o,a);e.arc(me.x,me.y,B,F,L+An)}const J=hu(le,L,o,a);if(e.lineTo(J.x,J.y),P>0){const me=hu(le,W,o,a);e.arc(me.x,me.y,P,L+An,W+Math.PI)}const te=(L-P/g+(E+U/g))/2;if(e.arc(o,a,g,L-P/g,te,!0),e.arc(o,a,g,te,E+U/g,!0),U>0){const me=hu(oe,ue,o,a);e.arc(me.x,me.y,U,ue+Math.PI,E-An)}const ne=hu(D,E,o,a);if(e.lineTo(ne.x,ne.y),A>0){const me=hu(D,Q,o,a);e.arc(me.x,me.y,A,E-An,Q)}}else{e.moveTo(o,a);const V=Math.cos(Q)*p+o,J=Math.sin(Q)*p+a;e.lineTo(V,J);const te=Math.cos(F)*p+o,ne=Math.sin(F)*p+a;e.lineTo(te,ne)}e.closePath()}function uA(e,t,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=t;let u=t.endAngle;if(s){qp(e,t,n,r,u,i);for(let c=0;c<s;++c)e.fill();isNaN(a)||(u=o+(a%fn||fn))}return qp(e,t,n,r,u,i),e.fill(),u}function cA(e,t,n,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:u}=t,{borderWidth:c,borderJoinStyle:f,borderDash:p,borderDashOffset:g,borderRadius:v}=u,w=u.borderAlign==="inner";if(!c)return;e.setLineDash(p||[]),e.lineDashOffset=g,w?(e.lineWidth=c*2,e.lineJoin=f||"round"):(e.lineWidth=c,e.lineJoin=f||"bevel");let _=t.endAngle;if(s){qp(e,t,n,r,_,i);for(let C=0;C<s;++C)e.stroke();isNaN(a)||(_=o+(a%fn||fn))}w&&oA(e,t,_),u.selfJoin&&_-o>=Wt&&v===0&&f!=="miter"&&sA(e,t,_),s||(qp(e,t,n,r,_,i),e.stroke())}class Ix extends ho{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,r){const i=this.getProps(["x","y"],r),{angle:s,distance:o}=P_(i,{x:t,y:n}),{startAngle:a,endAngle:u,innerRadius:c,outerRadius:f,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),g=(this.options.spacing+this.options.borderWidth)/2,v=vt(p,u-a),w=Bd(s,a,u)&&a!==u,_=v>=fn||w,C=so(o,c+g,f+g);return _&&C}getCenterPoint(t){const{x:n,y:r,startAngle:i,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:u,spacing:c}=this.options,f=(i+s)/2,p=(o+a+c+u)/2;return{x:n+Math.cos(f)*p,y:r+Math.sin(f)*p}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:r}=this,i=(n.offset||0)/4,s=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>fn?Math.floor(r/fn):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*i,Math.sin(a)*i);const u=1-Math.sin(Math.min(Wt,r||0)),c=i*u;t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,uA(t,this,c,s,o),cA(t,this,c,s,o),t.restore()}}function f7(e,t,n=t){e.lineCap=vt(n.borderCapStyle,t.borderCapStyle),e.setLineDash(vt(n.borderDash,t.borderDash)),e.lineDashOffset=vt(n.borderDashOffset,t.borderDashOffset),e.lineJoin=vt(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=vt(n.borderWidth,t.borderWidth),e.strokeStyle=vt(n.borderColor,t.borderColor)}function dA(e,t,n){e.lineTo(n.x,n.y)}function hA(e){return e.stepped?PP:e.tension||e.cubicInterpolationMode==="monotone"?OP:dA}function p7(e,t,n={}){const r=e.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=t,u=Math.max(i,o),c=Math.min(s,a),f=i<o&&s<o||i>a&&s>a;return{count:r,start:u,loop:t.loop,ilen:c<u&&!f?r+c-u:c-u}}function fA(e,t,n,r){const{points:i,options:s}=t,{count:o,start:a,loop:u,ilen:c}=p7(i,n,r),f=hA(s);let{move:p=!0,reverse:g}=r||{},v,w,_;for(v=0;v<=c;++v)w=i[(a+(g?c-v:v))%o],!w.skip&&(p?(e.moveTo(w.x,w.y),p=!1):f(e,_,w,g,s.stepped),_=w);return u&&(w=i[(a+(g?c:0))%o],f(e,_,w,g,s.stepped)),!!u}function pA(e,t,n,r){const i=t.points,{count:s,start:o,ilen:a}=p7(i,n,r),{move:u=!0,reverse:c}=r||{};let f=0,p=0,g,v,w,_,C,E;const L=B=>(o+(c?a-B:B))%s,A=()=>{_!==C&&(e.lineTo(f,C),e.lineTo(f,_),e.lineTo(f,E))};for(u&&(v=i[L(0)],e.moveTo(v.x,v.y)),g=0;g<=a;++g){if(v=i[L(g)],v.skip)continue;const B=v.x,U=v.y,P=B|0;P===w?(U<_?_=U:U>C&&(C=U),f=(p*f+B)/++p):(A(),e.lineTo(B,U),w=P,p=0,_=C=U),E=U}A()}function ry(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?pA:fA}function mA(e){return e.stepped?uO:e.tension||e.cubicInterpolationMode==="monotone"?cO:Xa}function gA(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),f7(e,t.options),e.stroke(i)}function yA(e,t,n,r){const{segments:i,options:s}=t,o=ry(t);for(const a of i)f7(e,s,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}const xA=typeof Path2D=="function";function vA(e,t,n,r){xA&&!t.options.segment?gA(e,t,n,r):yA(e,t,n,r)}class Xu extends ho{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;tO(this._points,r,t,i,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=gO(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,r=t.length;return r&&n[t[r-1].end]}interpolate(t,n){const r=this.options,i=t[n],s=this.points,o=Y_(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],u=mA(r);let c,f;for(c=0,f=o.length;c<f;++c){const{start:p,end:g}=o[c],v=s[p],w=s[g];if(v===w){a.push(v);continue}const _=Math.abs((i-v[n])/(w[n]-v[n])),C=u(v,w,_,r.stepped);C[n]=t[n],a.push(C)}return a.length===1?a[0]:a}pathSegment(t,n,r){return ry(this)(t,this,n,r)}path(t,n,r){const i=this.segments,s=ry(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)o&=s(t,this,a,{start:n,end:n+r-1});return!!o}draw(t,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),vA(t,this,r,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function R3(e,t,n,r){const i=e.options,{[n]:s}=e.getProps([n],r);return Math.abs(t-s)<i.radius+i.hitRadius}class Dx extends ho{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,r){const i=this.options,{x:s,y:o}=this.getProps(["x","y"],r);return Math.pow(t-s,2)+Math.pow(n-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,n){return R3(this,t,"x",n)}inYRange(t,n){return R3(this,t,"y",n)}getCenterPoint(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const r=n&&t.borderWidth||0;return(n+r)*2}draw(t,n){const r=this.options;this.skip||r.radius<.1||!ao(this,n,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,ey(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function m7(e,t){const{x:n,y:r,base:i,width:s,height:o}=e.getProps(["x","y","base","width","height"],t);let a,u,c,f,p;return e.horizontal?(p=o/2,a=Math.min(n,i),u=Math.max(n,i),c=r-p,f=r+p):(p=s/2,a=n-p,u=n+p,c=Math.min(r,i),f=Math.max(r,i)),{left:a,top:c,right:u,bottom:f}}function Yo(e,t,n,r){return e?0:ir(t,n,r)}function bA(e,t,n){const r=e.options.borderWidth,i=e.borderSkipped,s=B_(r);return{t:Yo(i.top,s.top,0,n),r:Yo(i.right,s.right,0,t),b:Yo(i.bottom,s.bottom,0,n),l:Yo(i.left,s.left,0,t)}}function wA(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,s=ol(i),o=Math.min(t,n),a=e.borderSkipped,u=r||Ft(i);return{topLeft:Yo(!u||a.top||a.left,s.topLeft,0,o),topRight:Yo(!u||a.top||a.right,s.topRight,0,o),bottomLeft:Yo(!u||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Yo(!u||a.bottom||a.right,s.bottomRight,0,o)}}function _A(e){const t=m7(e),n=t.right-t.left,r=t.bottom-t.top,i=bA(e,n/2,r/2),s=wA(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:s},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function W0(e,t,n,r){const i=t===null,s=n===null,a=e&&!(i&&s)&&m7(e,r);return a&&(i||so(t,a.left,a.right))&&(s||so(n,a.top,a.bottom))}function SA(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function CA(e,t){e.rect(t.x,t.y,t.w,t.h)}function K0(e,t,n={}){const r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,s=(e.x+e.w!==n.x+n.w?t:0)-r,o=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+s,h:e.h+o,radius:e.radius}}class ih extends ho{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=_A(this),a=SA(o.radius)?zd:CA;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),a(t,K0(o,n,s)),t.clip(),a(t,K0(s,-n,o)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),a(t,K0(s,n)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,n,r){return W0(this,t,n,r)}inXRange(t,n){return W0(this,t,null,n)}inYRange(t,n){return W0(this,null,t,n)}getCenterPoint(t){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}var kA=Object.freeze({__proto__:null,ArcElement:Ix,BarElement:ih,LineElement:Xu,PointElement:Dx});const iy=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],I3=iy.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function g7(e){return iy[e%iy.length]}function y7(e){return I3[e%I3.length]}function jA(e,t){return e.borderColor=g7(t),e.backgroundColor=y7(t),++t}function EA(e,t){return e.backgroundColor=e.data.map(()=>g7(t++)),t}function TA(e,t){return e.backgroundColor=e.data.map(()=>y7(t++)),t}function NA(e){let t=0;return(n,r)=>{const i=e.getDatasetMeta(r).controller;i instanceof vm?t=EA(n,t):i instanceof n7?t=TA(n,t):i&&(t=jA(n,t))}}function D3(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function PA(e){return e&&(e.borderColor||e.backgroundColor)}function OA(){return wn.borderColor!=="rgba(0,0,0,0.1)"||wn.backgroundColor!=="rgba(0,0,0,0.1)"}var LA={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:r},options:i}=e.config,{elements:s}=i,o=D3(r)||PA(i)||s&&D3(s)||OA();if(!n.forceOverride&&o)return;const a=NA(e);r.forEach(a)}};function AA(e,t,n,r,i){const s=i.samples||r;if(s>=n)return e.slice(t,t+n);const o=[],a=(n-2)/(s-2);let u=0;const c=t+n-1;let f=t,p,g,v,w,_;for(o[u++]=e[f],p=0;p<s-2;p++){let C=0,E=0,L;const A=Math.floor((p+1)*a)+1+t,B=Math.min(Math.floor((p+2)*a)+1,n)+t,U=B-A;for(L=A;L<B;L++)C+=e[L].x,E+=e[L].y;C/=U,E/=U;const P=Math.floor(p*a)+1+t,D=Math.min(Math.floor((p+1)*a)+1,n)+t,{x:z,y:Q}=e[f];for(v=w=-1,L=P;L<D;L++)w=.5*Math.abs((z-C)*(e[L].y-Q)-(z-e[L].x)*(E-Q)),w>v&&(v=w,g=e[L],_=L);o[u++]=g,f=_}return o[u++]=e[c],o}function MA(e,t,n,r){let i=0,s=0,o,a,u,c,f,p,g,v,w,_;const C=[],E=t+n-1,L=e[t].x,B=e[E].x-L;for(o=t;o<t+n;++o){a=e[o],u=(a.x-L)/B*r,c=a.y;const U=u|0;if(U===f)c<w?(w=c,p=o):c>_&&(_=c,g=o),i=(s*i+a.x)/++s;else{const P=o-1;if(!Dt(p)&&!Dt(g)){const D=Math.min(p,g),z=Math.max(p,g);D!==v&&D!==P&&C.push({...e[D],x:i}),z!==v&&z!==P&&C.push({...e[z],x:i})}o>0&&P!==v&&C.push(e[P]),C.push(a),f=U,s=0,w=_=c,p=g=v=o}}return C}function x7(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function F3(e){e.data.datasets.forEach(t=>{x7(t)})}function RA(e,t){const n=t.length;let r=0,i;const{iScale:s}=e,{min:o,max:a,minDefined:u,maxDefined:c}=s.getUserBounds();return u&&(r=ir(oo(t,s.axis,o).lo,0,n-1)),c?i=ir(oo(t,s.axis,a).hi+1,r,n)-r:i=n-r,{start:r,count:i}}var IA={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){F3(e);return}const r=e.width;e.data.datasets.forEach((i,s)=>{const{_data:o,indexAxis:a}=i,u=e.getDatasetMeta(s),c=o||i.data;if(hd([a,e.options.indexAxis])==="y"||!u.controller.supportsDecimation)return;const f=e.scales[u.xAxisID];if(f.type!=="linear"&&f.type!=="time"||e.options.parsing)return;let{start:p,count:g}=RA(u,c);const v=n.threshold||4*r;if(g<=v){x7(i);return}Dt(o)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(_){this._data=_}}));let w;switch(n.algorithm){case"lttb":w=AA(c,p,g,r,n);break;case"min-max":w=MA(c,p,g,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}i._decimated=w})},destroy(e){F3(e)}};function DA(e,t,n){const r=e.segments,i=e.points,s=t.points,o=[];for(const a of r){let{start:u,end:c}=a;c=wm(u,c,i);const f=sy(n,i[u],i[c],a.loop);if(!t.segments){o.push({source:a,target:f,start:i[u],end:i[c]});continue}const p=Y_(t,f);for(const g of p){const v=sy(n,s[g.start],s[g.end],g.loop),w=G_(a,i,v);for(const _ of w)o.push({source:_,target:g,start:{[n]:B3(f,v,"start",Math.max)},end:{[n]:B3(f,v,"end",Math.min)}})}}return o}function sy(e,t,n,r){if(r)return;let i=t[e],s=n[e];return e==="angle"&&(i=wr(i),s=wr(s)),{property:e,start:i,end:s}}function FA(e,t){const{x:n=null,y:r=null}=e||{},i=t.points,s=[];return t.segments.forEach(({start:o,end:a})=>{a=wm(o,a,i);const u=i[o],c=i[a];r!==null?(s.push({x:u.x,y:r}),s.push({x:c.x,y:r})):n!==null&&(s.push({x:n,y:u.y}),s.push({x:n,y:c.y}))}),s}function wm(e,t,n){for(;t>e;t--){const r=n[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function B3(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function v7(e,t){let n=[],r=!1;return bn(e)?(r=!0,n=e):n=FA(e,t),n.length?new Xu({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function z3(e){return e&&e.fill!==!1}function BA(e,t,n){let i=e[t].fill;const s=[t];let o;if(!n)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!En(i))return i;if(o=e[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function zA(e,t,n){const r=QA(e);if(Ft(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return En(i)&&Math.floor(i)===i?$A(r[0],t,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function $A(e,t,n,r){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=r?!1:n}function UA(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:Ft(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function HA(e,t,n){let r;return e==="start"?r=n:e==="end"?r=t.options.reverse?t.min:t.max:Ft(e)?r=e.value:r=t.getBaseValue(),r}function QA(e){const t=e.options,n=t.fill;let r=vt(n&&n.target,n);return r===void 0&&(r=!!t.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function VA(e){const{scale:t,index:n,line:r}=e,i=[],s=r.segments,o=r.points,a=qA(t,n);a.push(v7({x:null,y:t.bottom},r));for(let u=0;u<s.length;u++){const c=s[u];for(let f=c.start;f<=c.end;f++)WA(i,o[f],a)}return new Xu({points:i,options:{}})}function qA(e,t){const n=[],r=e.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===t)break;s.hidden||n.unshift(s.dataset)}return n}function WA(e,t,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:o,last:a,point:u}=KA(s,t,"x");if(!(!u||o&&a)){if(o)r.unshift(u);else if(e.push(u),!a)break}}e.push(...r)}function KA(e,t,n){const r=e.interpolate(t,n);if(!r)return{};const i=r[n],s=e.segments,o=e.points;let a=!1,u=!1;for(let c=0;c<s.length;c++){const f=s[c],p=o[f.start][n],g=o[f.end][n];if(so(i,p,g)){a=i===p,u=i===g;break}}return{first:a,last:u,point:r}}class b7{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,r){const{x:i,y:s,radius:o}=this;return n=n||{start:0,end:fn},t.arc(i,s,o,n.end,n.start,!0),!r.bounds}interpolate(t){const{x:n,y:r,radius:i}=this,s=t.angle;return{x:n+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function GA(e){const{chart:t,fill:n,line:r}=e;if(En(n))return YA(t,n);if(n==="stack")return VA(e);if(n==="shape")return!0;const i=XA(e);return i instanceof b7?i:v7(i,r)}function YA(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function XA(e){return(e.scale||{}).getPointPositionForValue?ZA(e):JA(e)}function JA(e){const{scale:t={},fill:n}=e,r=UA(n,t);if(En(r)){const i=t.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function ZA(e){const{scale:t,fill:n}=e,r=t.options,i=t.getLabels().length,s=r.reverse?t.max:t.min,o=HA(n,t,s),a=[];if(r.grid.circular){const u=t.getPointPositionForValue(0,s);return new b7({x:u.x,y:u.y,radius:t.getDistanceFromCenterForValue(o)})}for(let u=0;u<i;++u)a.push(t.getPointPositionForValue(u,o));return a}function G0(e,t,n){const r=GA(t),{chart:i,index:s,line:o,scale:a,axis:u}=t,c=o.options,f=c.fill,p=c.backgroundColor,{above:g=p,below:v=p}=f||{},w=i.getDatasetMeta(s),_=X_(i,w);r&&o.points.length&&(gm(e,n),eM(e,{line:o,target:r,above:g,below:v,area:n,scale:a,axis:u,clip:_}),ym(e))}function eM(e,t){const{line:n,target:r,above:i,below:s,area:o,scale:a,clip:u}=t,c=n._loop?"angle":t.axis;e.save();let f=s;s!==i&&(c==="x"?($3(e,r,o.top),Y0(e,{line:n,target:r,color:i,scale:a,property:c,clip:u}),e.restore(),e.save(),$3(e,r,o.bottom)):c==="y"&&(U3(e,r,o.left),Y0(e,{line:n,target:r,color:s,scale:a,property:c,clip:u}),e.restore(),e.save(),U3(e,r,o.right),f=i)),Y0(e,{line:n,target:r,color:f,scale:a,property:c,clip:u}),e.restore()}function $3(e,t,n){const{segments:r,points:i}=t;let s=!0,o=!1;e.beginPath();for(const a of r){const{start:u,end:c}=a,f=i[u],p=i[wm(u,c,i)];s?(e.moveTo(f.x,f.y),s=!1):(e.lineTo(f.x,n),e.lineTo(f.x,f.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(p.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function U3(e,t,n){const{segments:r,points:i}=t;let s=!0,o=!1;e.beginPath();for(const a of r){const{start:u,end:c}=a,f=i[u],p=i[wm(u,c,i)];s?(e.moveTo(f.x,f.y),s=!1):(e.lineTo(n,f.y),e.lineTo(f.x,f.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(n,p.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function Y0(e,t){const{line:n,target:r,property:i,color:s,scale:o,clip:a}=t,u=DA(n,r,i);for(const{source:c,target:f,start:p,end:g}of u){const{style:{backgroundColor:v=s}={}}=c,w=r!==!0;e.save(),e.fillStyle=v,tM(e,o,a,w&&sy(i,p,g)),e.beginPath();const _=!!n.pathSegment(e,c);let C;if(w){_?e.closePath():H3(e,r,g,i);const E=!!r.pathSegment(e,f,{move:_,reverse:!0});C=_&&E,C||H3(e,r,p,i)}e.closePath(),e.fill(C?"evenodd":"nonzero"),e.restore()}}function tM(e,t,n,r){const i=t.chart.chartArea,{property:s,start:o,end:a}=r||{};if(s==="x"||s==="y"){let u,c,f,p;s==="x"?(u=o,c=i.top,f=a,p=i.bottom):(u=i.left,c=o,f=i.right,p=a),e.beginPath(),n&&(u=Math.max(u,n.left),f=Math.min(f,n.right),c=Math.max(c,n.top),p=Math.min(p,n.bottom)),e.rect(u,c,f-u,p-c),e.clip()}}function H3(e,t,n,r){const i=t.interpolate(n,r);i&&e.lineTo(i.x,i.y)}var w7={id:"filler",afterDatasetsUpdate(e,t,n){const r=(e.data.datasets||[]).length,i=[];let s,o,a,u;for(o=0;o<r;++o)s=e.getDatasetMeta(o),a=s.dataset,u=null,a&&a.options&&a instanceof Xu&&(u={visible:e.isDatasetVisible(o),index:o,fill:zA(a,o,r),chart:e,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=u,i.push(u);for(o=0;o<r;++o)u=i[o],!(!u||u.fill===!1)&&(u.fill=BA(i,o,n.propagate))},beforeDraw(e,t,n){const r=n.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),s=e.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),r&&a.fill&&G0(e.ctx,a,s))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=e.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;z3(s)&&G0(e.ctx,s,e.chartArea)}},beforeDatasetDraw(e,t,n){const r=t.meta.$filler;!z3(r)||n.drawTime!=="beforeDatasetDraw"||G0(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Q3=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}},nM=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class V3 extends ho{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,r){this.maxWidth=t,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=an(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(r=>t.filter(r,this.chart.data))),t.sort&&(n=n.sort((r,i)=>t.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,i=Kn(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:u}=Q3(r,s);let c,f;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,f=this._fitRows(o,s,a,u)+10):(f=this.maxHeight,c=this._fitCols(o,i,a,u)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(f,t.maxHeight||this.maxHeight)}_fitRows(t,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,u=this.legendHitBoxes=[],c=this.lineWidths=[0],f=i+a;let p=t;s.textAlign="left",s.textBaseline="middle";let g=-1,v=-f;return this.legendItems.forEach((w,_)=>{const C=r+n/2+s.measureText(w.text).width;(_===0||c[c.length-1]+C+2*a>o)&&(p+=f,c[c.length-(_>0?0:1)]=0,v+=f,g++),u[_]={left:0,top:v,row:g,width:C,height:i},c[c.length-1]+=C+a}),p}_fitCols(t,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,u=this.legendHitBoxes=[],c=this.columnSizes=[],f=o-t;let p=a,g=0,v=0,w=0,_=0;return this.legendItems.forEach((C,E)=>{const{itemWidth:L,itemHeight:A}=rM(r,n,s,C,i);E>0&&v+A+2*a>f&&(p+=g+a,c.push({width:g,height:v}),w+=g+a,_++,g=v=0),u[E]={left:w,top:v,col:_,width:L,height:A},g=Math.max(g,L),v+=A+a}),p+=g,c.push({width:g,height:v}),p}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=Fu(s,this.left,this.width);if(this.isHorizontal()){let a=0,u=br(r,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,u=br(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+t+i,c.left=o.leftForLtr(o.x(u),c.width),u+=c.width+i}else{let a=0,u=br(r,this.top+t+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,u=br(r,this.top+t+i,this.bottom-this.columnSizes[a].height)),c.top=u,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),u+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;gm(t,this),this._draw(),ym(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=t,a=wn.color,u=Fu(t.rtl,this.left,this.width),c=Kn(o.font),{padding:f}=o,p=c.size,g=p/2;let v;this.drawTitle(),i.textAlign=u.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:w,boxHeight:_,itemHeight:C}=Q3(o,p),E=function(P,D,z){if(isNaN(w)||w<=0||isNaN(_)||_<0)return;i.save();const Q=vt(z.lineWidth,1);if(i.fillStyle=vt(z.fillStyle,a),i.lineCap=vt(z.lineCap,"butt"),i.lineDashOffset=vt(z.lineDashOffset,0),i.lineJoin=vt(z.lineJoin,"miter"),i.lineWidth=Q,i.strokeStyle=vt(z.strokeStyle,a),i.setLineDash(vt(z.lineDash,[])),o.usePointStyle){const F={radius:_*Math.SQRT2/2,pointStyle:z.pointStyle,rotation:z.rotation,borderWidth:Q},oe=u.xPlus(P,w/2),le=D+g;F_(i,F,oe,le,o.pointStyleWidth&&w)}else{const F=D+Math.max((p-_)/2,0),oe=u.leftForLtr(P,w),le=ol(z.borderRadius);i.beginPath(),Object.values(le).some(ue=>ue!==0)?zd(i,{x:oe,y:F,w,h:_,radius:le}):i.rect(oe,F,w,_),i.fill(),Q!==0&&i.stroke()}i.restore()},L=function(P,D,z){fl(i,z.text,P,D+C/2,c,{strikethrough:z.hidden,textAlign:u.textAlign(z.textAlign)})},A=this.isHorizontal(),B=this._computeTitleHeight();A?v={x:br(s,this.left+f,this.right-r[0]),y:this.top+f+B,line:0}:v={x:this.left+f,y:br(s,this.top+B+f,this.bottom-n[0].height),line:0},q_(this.ctx,t.textDirection);const U=C+f;this.legendItems.forEach((P,D)=>{i.strokeStyle=P.fontColor,i.fillStyle=P.fontColor;const z=i.measureText(P.text).width,Q=u.textAlign(P.textAlign||(P.textAlign=o.textAlign)),F=w+g+z;let oe=v.x,le=v.y;u.setWidth(this.width),A?D>0&&oe+F+f>this.right&&(le=v.y+=U,v.line++,oe=v.x=br(s,this.left+f,this.right-r[v.line])):D>0&&le+U>this.bottom&&(oe=v.x=oe+n[v.line].width+f,v.line++,le=v.y=br(s,this.top+B+f,this.bottom-n[v.line].height));const ue=u.x(oe);if(E(ue,le,P),oe=vP(Q,oe+w+g,A?oe+F:this.right,t.rtl),L(u.x(oe),le,P),A)v.x+=F+f;else if(typeof P.text!="string"){const W=c.lineHeight;v.y+=_7(P,W)+f}else v.y+=U}),W_(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,r=Kn(n.font),i=Cr(n.padding);if(!n.display)return;const s=Fu(t.rtl,this.left,this.width),o=this.ctx,a=n.position,u=r.size/2,c=i.top+u;let f,p=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),f=this.top+c,p=br(t.align,p,this.right-g);else{const w=this.columnSizes.reduce((_,C)=>Math.max(_,C.height),0);f=c+br(t.align,this.top,this.bottom-w-t.labels.padding-this._computeTitleHeight())}const v=br(a,p,p+g);o.textAlign=s.textAlign(Ex(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,fl(o,n.text,v,f,r)}_computeTitleHeight(){const t=this.options.title,n=Kn(t.font),r=Cr(t.padding);return t.display?n.lineHeight+r.height:0}_getLegendItemAt(t,n){let r,i,s;if(so(t,this.left,this.right)&&so(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],so(t,i.left,i.left+i.width)&&so(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(t){const n=this.options;if(!oM(t.type,n))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,s=nM(i,r);i&&!s&&an(n.onLeave,[t,i,this],this),this._hoveredItem=r,r&&!s&&an(n.onHover,[t,r,this],this)}else r&&an(n.onClick,[t,r,this],this)}}function rM(e,t,n,r,i){const s=iM(r,e,t,n),o=sM(i,r,t.lineHeight);return{itemWidth:s,itemHeight:o}}function iM(e,t,n,r){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),t+n.size/2+r.measureText(i).width}function sM(e,t,n){let r=e;return typeof t.text!="string"&&(r=_7(t,n)),r}function _7(e,t){const n=e.text?e.text.length:0;return t*n}function oM(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var Ju={id:"legend",_element:V3,start(e,t,n){const r=e.legend=new V3({ctx:e.ctx,options:n,chart:e});_r.configure(e,r,n),_r.addBox(e,r)},stop(e){_r.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;_r.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(u=>{const c=u.controller.getStyle(n?0:void 0),f=Cr(c.borderWidth);return{text:t[u.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!u.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:u.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Fx extends ho{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const i=bn(r.text)?r.text.length:1;this._padding=Cr(r.padding);const s=i*Kn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let u=0,c,f,p;return this.isHorizontal()?(f=br(a,r,s),p=n+t,c=s-r):(o.position==="left"?(f=r+t,p=br(a,i,n),u=Wt*-.5):(f=s-t,p=br(a,n,i),u=Wt*.5),c=i-n),{titleX:f,titleY:p,maxWidth:c,rotation:u}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const r=Kn(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:u,rotation:c}=this._drawArgs(s);fl(t,n.text,0,0,r,{color:n.color,maxWidth:u,rotation:c,textAlign:Ex(n.align),textBaseline:"middle",translation:[o,a]})}}function aM(e,t){const n=new Fx({ctx:e.ctx,options:t,chart:e});_r.configure(e,n,t),_r.addBox(e,n),e.titleBlock=n}var S7={id:"title",_element:Fx,start(e,t,n){aM(e,n)},stop(e){const t=e.titleBlock;_r.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;_r.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Vf=new WeakMap;var lM={id:"subtitle",start(e,t,n){const r=new Fx({ctx:e.ctx,options:n,chart:e});_r.configure(e,r,n),_r.addBox(e,r),Vf.set(e,r)},stop(e){_r.removeBox(e,Vf.get(e)),Vf.delete(e)},beforeUpdate(e,t,n){const r=Vf.get(e);_r.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const pd={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,s=0;for(t=0,n=e.length;t<n;++t){const a=e[t].element;if(a&&a.hasValue()){const u=a.tooltipPosition();r.add(u.x),i+=u.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,u)=>a+u)/r.size,y:i/s}},nearest(e,t){if(!e.length)return!1;let n=t.x,r=t.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=e.length;s<o;++s){const u=e[s].element;if(u&&u.hasValue()){const c=u.getCenterPoint(),f=J1(t,c);f<i&&(i=f,a=u)}}if(a){const u=a.tooltipPosition();n=u.x,r=u.y}return{x:n,y:r}}};function ws(e,t){return t&&(bn(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Zs(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function uM(e,t){const{element:n,datasetIndex:r,index:i}=t,s=e.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:e,label:o,parsed:s.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function q3(e,t){const n=e.chart.ctx,{body:r,footer:i,title:s}=e,{boxWidth:o,boxHeight:a}=t,u=Kn(t.bodyFont),c=Kn(t.titleFont),f=Kn(t.footerFont),p=s.length,g=i.length,v=r.length,w=Cr(t.padding);let _=w.height,C=0,E=r.reduce((B,U)=>B+U.before.length+U.lines.length+U.after.length,0);if(E+=e.beforeBody.length+e.afterBody.length,p&&(_+=p*c.lineHeight+(p-1)*t.titleSpacing+t.titleMarginBottom),E){const B=t.displayColors?Math.max(a,u.lineHeight):u.lineHeight;_+=v*B+(E-v)*u.lineHeight+(E-1)*t.bodySpacing}g&&(_+=t.footerMarginTop+g*f.lineHeight+(g-1)*t.footerSpacing);let L=0;const A=function(B){C=Math.max(C,n.measureText(B).width+L)};return n.save(),n.font=c.string,Jt(e.title,A),n.font=u.string,Jt(e.beforeBody.concat(e.afterBody),A),L=t.displayColors?o+2+t.boxPadding:0,Jt(r,B=>{Jt(B.before,A),Jt(B.lines,A),Jt(B.after,A)}),L=0,n.font=f.string,Jt(e.footer,A),n.restore(),C+=w.width,{width:C,height:_}}function cM(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}function dM(e,t,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(e==="left"&&i+s+o>t.width||e==="right"&&i-s-o<0)return!0}function hM(e,t,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:u}}=e;let c="center";return r==="center"?c=i<=(a+u)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),dM(c,e,t,n)&&(c="center"),c}function W3(e,t,n){const r=n.yAlign||t.yAlign||cM(e,n);return{xAlign:n.xAlign||t.xAlign||hM(e,t,n,r),yAlign:r}}function fM(e,t){let{x:n,width:r}=e;return t==="right"?n-=r:t==="center"&&(n-=r/2),n}function pM(e,t,n){let{y:r,height:i}=e;return t==="top"?r+=n:t==="bottom"?r-=i+n:r-=i/2,r}function K3(e,t,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=e,{xAlign:a,yAlign:u}=n,c=i+s,{topLeft:f,topRight:p,bottomLeft:g,bottomRight:v}=ol(o);let w=fM(t,a);const _=pM(t,u,c);return u==="center"?a==="left"?w+=c:a==="right"&&(w-=c):a==="left"?w-=Math.max(f,g)+i:a==="right"&&(w+=Math.max(p,v)+i),{x:ir(w,0,r.width-t.width),y:ir(_,0,r.height-t.height)}}function qf(e,t,n){const r=Cr(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function G3(e){return ws([],Zs(e))}function mM(e,t,n){return la(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function Y3(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const C7={beforeTitle:Xs,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:Xs,beforeBody:Xs,beforeLabel:Xs,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Dt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Xs,afterBody:Xs,beforeFooter:Xs,footer:Xs,afterFooter:Xs};function Kr(e,t,n,r){const i=e[t].call(n,r);return typeof i>"u"?C7[t].call(n,r):i}let X3=class extends ho{static positioners=pd;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new J_(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=mM(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,i=Kr(r,"beforeTitle",this,t),s=Kr(r,"title",this,t),o=Kr(r,"afterTitle",this,t);let a=[];return a=ws(a,Zs(i)),a=ws(a,Zs(s)),a=ws(a,Zs(o)),a}getBeforeBody(t,n){return G3(Kr(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:r}=n,i=[];return Jt(t,s=>{const o={before:[],lines:[],after:[]},a=Y3(r,s);ws(o.before,Zs(Kr(a,"beforeLabel",this,s))),ws(o.lines,Kr(a,"label",this,s)),ws(o.after,Zs(Kr(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(t,n){return G3(Kr(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:r}=n,i=Kr(r,"beforeFooter",this,t),s=Kr(r,"footer",this,t),o=Kr(r,"afterFooter",this,t);let a=[];return a=ws(a,Zs(i)),a=ws(a,Zs(s)),a=ws(a,Zs(o)),a}_createItems(t){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],u,c;for(u=0,c=n.length;u<c;++u)a.push(uM(this.chart,n[u]));return t.filter&&(a=a.filter((f,p,g)=>t.filter(f,p,g,r))),t.itemSort&&(a=a.sort((f,p)=>t.itemSort(f,p,r))),Jt(a,f=>{const p=Y3(t.callbacks,f);i.push(Kr(p,"labelColor",this,f)),s.push(Kr(p,"labelPointStyle",this,f)),o.push(Kr(p,"labelTextColor",this,f))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=pd[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const u=this._size=q3(this,r),c=Object.assign({},a,u),f=W3(this.chart,r,c),p=K3(r,c,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,s={opacity:1,x:p.x,y:p.y,width:u.width,height:u.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,i){const s=this.getCaretPosition(t,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(t,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:u,topRight:c,bottomLeft:f,bottomRight:p}=ol(a),{x:g,y:v}=t,{width:w,height:_}=n;let C,E,L,A,B,U;return s==="center"?(B=v+_/2,i==="left"?(C=g,E=C-o,A=B+o,U=B-o):(C=g+w,E=C+o,A=B-o,U=B+o),L=C):(i==="left"?E=g+Math.max(u,f)+o:i==="right"?E=g+w-Math.max(c,p)-o:E=this.caretX,s==="top"?(A=v,B=A-o,C=E-o,L=E+o):(A=v+_,B=A+o,C=E+o,L=E-o),U=A),{x1:C,x2:E,x3:L,y1:A,y2:B,y3:U}}drawTitle(t,n,r){const i=this.title,s=i.length;let o,a,u;if(s){const c=Fu(r.rtl,this.x,this.width);for(t.x=qf(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=Kn(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,u=0;u<s;++u)n.fillText(i[u],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,u+1===s&&(t.y+=r.titleMarginBottom-a)}}_drawColorBox(t,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:u,boxWidth:c}=s,f=Kn(s.bodyFont),p=qf(this,"left",s),g=i.x(p),v=u<f.lineHeight?(f.lineHeight-u)/2:0,w=n.y+v;if(s.usePointStyle){const _={radius:Math.min(c,u)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},C=i.leftForLtr(g,c)+c/2,E=w+u/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,ey(t,_,C,E),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,ey(t,_,C,E)}else{t.lineWidth=Ft(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const _=i.leftForLtr(g,c),C=i.leftForLtr(i.xPlus(g,1),c-2),E=ol(o.borderRadius);Object.values(E).some(L=>L!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,zd(t,{x:_,y:w,w:c,h:u,radius:E}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),zd(t,{x:C,y:w+1,w:c-2,h:u-2,radius:E}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(_,w,c,u),t.strokeRect(_,w,c,u),t.fillStyle=o.backgroundColor,t.fillRect(C,w+1,c-2,u-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:u,boxWidth:c,boxPadding:f}=r,p=Kn(r.bodyFont);let g=p.lineHeight,v=0;const w=Fu(r.rtl,this.x,this.width),_=function(z){n.fillText(z,w.x(t.x+v),t.y+g/2),t.y+=g+s},C=w.textAlign(o);let E,L,A,B,U,P,D;for(n.textAlign=o,n.textBaseline="middle",n.font=p.string,t.x=qf(this,C,r),n.fillStyle=r.bodyColor,Jt(this.beforeBody,_),v=a&&C!=="right"?o==="center"?c/2+f:c+2+f:0,B=0,P=i.length;B<P;++B){for(E=i[B],L=this.labelTextColors[B],n.fillStyle=L,Jt(E.before,_),A=E.lines,a&&A.length&&(this._drawColorBox(n,t,B,w,r),g=Math.max(p.lineHeight,u)),U=0,D=A.length;U<D;++U)_(A[U]),g=p.lineHeight;Jt(E.after,_)}v=0,g=p.lineHeight,Jt(this.afterBody,_),t.y-=s}drawFooter(t,n,r){const i=this.footer,s=i.length;let o,a;if(s){const u=Fu(r.rtl,this.x,this.width);for(t.x=qf(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=u.textAlign(r.footerAlign),n.textBaseline="middle",o=Kn(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],u.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+r.footerSpacing}}drawBackground(t,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:u}=t,{width:c,height:f}=r,{topLeft:p,topRight:g,bottomLeft:v,bottomRight:w}=ol(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+p,u),o==="top"&&this.drawCaret(t,n,r,i),n.lineTo(a+c-g,u),n.quadraticCurveTo(a+c,u,a+c,u+g),o==="center"&&s==="right"&&this.drawCaret(t,n,r,i),n.lineTo(a+c,u+f-w),n.quadraticCurveTo(a+c,u+f,a+c-w,u+f),o==="bottom"&&this.drawCaret(t,n,r,i),n.lineTo(a+v,u+f),n.quadraticCurveTo(a,u+f,a,u+f-v),o==="center"&&s==="left"&&this.drawCaret(t,n,r,i),n.lineTo(a,u+p),n.quadraticCurveTo(a,u,a+p,u),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=pd[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=q3(this,t),u=Object.assign({},o,this._size),c=W3(n,t,u),f=K3(t,u,c,n);(i._to!==f.x||s._to!==f.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Cr(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=r,this.drawBackground(s,t,i,n),q_(t,n.textDirection),s.y+=o.top,this.drawTitle(s,t,n),this.drawBody(s,t,n),this.drawFooter(s,t,n),W_(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,i=t.map(({datasetIndex:a,index:u})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[u],index:u}}),s=!zp(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(t,s,n,r),a=this._positionChanged(o,t),u=n||!zp(o,s)||a;return u&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),u}_getActiveElements(t,n,r,i){const s=this.options;if(t.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:r,caretY:i,options:s}=this,o=pd[s.position].call(this,t,n);return o!==!1&&(r!==o.x||i!==o.y)}};var Zu={id:"tooltip",_element:X3,positioners:pd,afterInit(e,t,n){n&&(e.tooltip=new X3({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:C7},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},gM=Object.freeze({__proto__:null,Colors:LA,Decimation:IA,Filler:w7,Legend:Ju,SubTitle:lM,Title:S7,Tooltip:Zu});const yM=(e,t,n,r)=>(typeof t=="string"?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function xM(e,t,n,r){const i=e.indexOf(t);if(i===-1)return yM(e,t,n,r);const s=e.lastIndexOf(t);return i!==s?n:i}const vM=(e,t)=>e===null?null:ir(Math.round(e),0,t);function J3(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class sh extends bl{static id="category";static defaults={ticks:{callback:J3}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Dt(t))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===t?n:xM(r,t,vt(n,t),this._addedLabels),vM(n,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const t=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=t===0&&n===s.length-1?s:s.slice(t,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=t;o<=n;o++)i.push({value:o});return i}getLabelForValue(t){return J3.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function bM(e,t){const n=[],{bounds:i,step:s,min:o,max:a,precision:u,count:c,maxTicks:f,maxDigits:p,includeBounds:g}=e,v=s||1,w=f-1,{min:_,max:C}=t,E=!Dt(o),L=!Dt(a),A=!Dt(c),B=(C-_)/(p+1);let U=qw((C-_)/w/v)*v,P,D,z,Q;if(U<1e-14&&!E&&!L)return[{value:_},{value:C}];Q=Math.ceil(C/U)-Math.floor(_/U),Q>w&&(U=qw(Q*U/w/v)*v),Dt(u)||(P=Math.pow(10,u),U=Math.ceil(U*P)/P),i==="ticks"?(D=Math.floor(_/U)*U,z=Math.ceil(C/U)*U):(D=_,z=C),E&&L&&s&&hP((a-o)/s,U/1e3)?(Q=Math.round(Math.min((a-o)/U,f)),U=(a-o)/Q,D=o,z=a):A?(D=E?o:D,z=L?a:z,Q=c-1,U=(z-D)/Q):(Q=(z-D)/U,bd(Q,Math.round(Q),U/1e3)?Q=Math.round(Q):Q=Math.ceil(Q));const F=Math.max(Ww(U),Ww(D));P=Math.pow(10,Dt(u)?F:u),D=Math.round(D*P)/P,z=Math.round(z*P)/P;let oe=0;for(E&&(g&&D!==o?(n.push({value:o}),D<o&&oe++,bd(Math.round((D+oe*U)*P)/P,o,Z3(o,B,e))&&oe++):D<o&&oe++);oe<Q;++oe){const le=Math.round((D+oe*U)*P)/P;if(L&&le>a)break;n.push({value:le})}return L&&g&&z!==a?n.length&&bd(n[n.length-1].value,a,Z3(a,B,e))?n[n.length-1].value=a:n.push({value:a}):(!L||z===a)&&n.push({value:z}),n}function Z3(e,t,{horizontal:n,minRotation:r}){const i=ss(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+e).length;return Math.min(t/s,o)}class Wp extends bl{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Dt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=u=>i=n?i:u,a=u=>s=r?s:u;if(t){const u=Es(i),c=Es(s);u<0&&c<0?a(0):u>0&&c>0&&o(0)}if(i===s){let u=s===0?1:Math.abs(s*.05);a(s+u),t||o(i-u)}this.min=i,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=t,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=bM(i,s);return t.bounds==="ticks"&&N_(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const i=(r-n)/Math.max(t.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(t){return rh(t,this.chart.options.locale,this.options.ticks.format)}}class oh extends Wp{static id="linear";static defaults={ticks:{callback:mm.formatters.numeric}};determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=En(t)?t:0,this.max=En(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,r=ss(this.options.ticks.minRotation),i=(t?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Ud=e=>Math.floor(Go(e)),Qa=(e,t)=>Math.pow(10,Ud(e)+t);function e5(e){return e/Math.pow(10,Ud(e))===1}function t5(e,t,n){const r=Math.pow(10,n),i=Math.floor(e/r);return Math.ceil(t/r)-i}function wM(e,t){const n=t-e;let r=Ud(n);for(;t5(e,t,r)>10;)r++;for(;t5(e,t,r)<10;)r--;return Math.min(r,Ud(e))}function _M(e,{min:t,max:n}){t=pi(e.min,t);const r=[],i=Ud(t);let s=wM(t,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),u=i>s?Math.pow(10,i):0,c=Math.round((t-u)*o)/o,f=Math.floor((t-u)/a/10)*a*10;let p=Math.floor((c-f)/Math.pow(10,s)),g=pi(e.min,Math.round((u+f+p*Math.pow(10,s))*o)/o);for(;g<n;)r.push({value:g,major:e5(g),significand:p}),p>=10?p=p<15?15:20:p++,p>=20&&(s++,p=2,o=s>=0?1:o),g=Math.round((u+f+p*Math.pow(10,s))*o)/o;const v=pi(e.max,g);return r.push({value:v,major:e5(v),significand:p}),r}class SM extends bl{static id="logarithmic";static defaults={ticks:{callback:mm.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const r=Wp.prototype.parse.apply(this,[t,n]);if(r===0){this._zero=!0;return}return En(r)&&r>0?r:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=En(t)?Math.max(0,t):null,this.max=En(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!En(this._userMin)&&(this.min=t===Qa(this.min,0)?Qa(this.min,-1):Qa(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let r=this.min,i=this.max;const s=a=>r=t?r:a,o=a=>i=n?i:a;r===i&&(r<=0?(s(1),o(10)):(s(Qa(r,-1)),o(Qa(i,1)))),r<=0&&s(Qa(i,-1)),i<=0&&o(Qa(r,1)),this.min=r,this.max=i}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},r=_M(n,this);return t.bounds==="ticks"&&N_(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(t){return t===void 0?"0":rh(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Go(t),this._valueRange=Go(this.max)-Go(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Go(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}function oy(e){const t=e.ticks;if(t.display&&e.display){const n=Cr(t.backdropPadding);return vt(t.font&&t.font.size,wn.font.size)+n.height}return 0}function CM(e,t,n){return n=bn(n)?n:[n],{w:NP(e,t.string,n),h:n.length*t.lineHeight}}function n5(e,t,n,r,i){return e===r||e===i?{start:t-n/2,end:t+n/2}:e<r||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function kM(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),r=[],i=[],s=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?Wt/s:0;for(let u=0;u<s;u++){const c=o.setContext(e.getPointLabelContext(u));i[u]=c.padding;const f=e.getPointPosition(u,e.drawingArea+i[u],a),p=Kn(c.font),g=CM(e.ctx,p,e._pointLabels[u]);r[u]=g;const v=wr(e.getIndexAngle(u)+a),w=Math.round(kx(v)),_=n5(w,f.x,g.w,0,180),C=n5(w,f.y,g.h,90,270);jM(n,t,v,_,C)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=NM(e,r,i)}function jM(e,t,n,r,i){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,u=0;r.start<t.l?(a=(t.l-r.start)/s,e.l=Math.min(e.l,t.l-a)):r.end>t.r&&(a=(r.end-t.r)/s,e.r=Math.max(e.r,t.r+a)),i.start<t.t?(u=(t.t-i.start)/o,e.t=Math.min(e.t,t.t-u)):i.end>t.b&&(u=(i.end-t.b)/o,e.b=Math.max(e.b,t.b+u))}function EM(e,t,n){const r=e.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=n,u=e.getPointPosition(t,r+i+o,s),c=Math.round(kx(wr(u.angle+An))),f=LM(u.y,a.h,c),p=PM(c),g=OM(u.x,a.w,p);return{visible:!0,x:u.x,y:f,textAlign:p,left:g,top:f,right:g+a.w,bottom:f+a.h}}function TM(e,t){if(!t)return!0;const{left:n,top:r,right:i,bottom:s}=e;return!(ao({x:n,y:r},t)||ao({x:n,y:s},t)||ao({x:i,y:r},t)||ao({x:i,y:s},t))}function NM(e,t,n){const r=[],i=e._pointLabels.length,s=e.options,{centerPointLabels:o,display:a}=s.pointLabels,u={extra:oy(s)/2,additionalAngle:o?Wt/i:0};let c;for(let f=0;f<i;f++){u.padding=n[f],u.size=t[f];const p=EM(e,f,u);r.push(p),a==="auto"&&(p.visible=TM(p,c),p.visible&&(c=p))}return r}function PM(e){return e===0||e===180?"center":e<180?"left":"right"}function OM(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function LM(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function AM(e,t,n){const{left:r,top:i,right:s,bottom:o}=n,{backdropColor:a}=t;if(!Dt(a)){const u=ol(t.borderRadius),c=Cr(t.backdropPadding);e.fillStyle=a;const f=r-c.left,p=i-c.top,g=s-r+c.width,v=o-i+c.height;Object.values(u).some(w=>w!==0)?(e.beginPath(),zd(e,{x:f,y:p,w:g,h:v,radius:u}),e.fill()):e.fillRect(f,p,g,v)}}function MM(e,t){const{ctx:n,options:{pointLabels:r}}=e;for(let i=t-1;i>=0;i--){const s=e._pointLabelItems[i];if(!s.visible)continue;const o=r.setContext(e.getPointLabelContext(i));AM(n,o,s);const a=Kn(o.font),{x:u,y:c,textAlign:f}=s;fl(n,e._pointLabels[i],u,c+a.lineHeight/2,a,{color:o.color,textAlign:f,textBaseline:"middle"})}}function k7(e,t,n,r){const{ctx:i}=e;if(n)i.arc(e.xCenter,e.yCenter,t,0,fn);else{let s=e.getPointPosition(0,t);i.moveTo(s.x,s.y);for(let o=1;o<r;o++)s=e.getPointPosition(o,t),i.lineTo(s.x,s.y)}}function RM(e,t,n,r,i){const s=e.ctx,o=t.circular,{color:a,lineWidth:u}=t;!o&&!r||!a||!u||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=u,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),k7(e,n,o,r),s.closePath(),s.stroke(),s.restore())}function IM(e,t,n){return la(e,{label:n,index:t,type:"pointLabel"})}class j7 extends Wp{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:mm.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Cr(oy(this.options)/2),n=this.width=this.maxWidth-t.width,r=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+r/2+t.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=En(t)&&!isNaN(t)?t:0,this.max=En(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/oy(this.options))}generateTickLabels(t){Wp.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,r)=>{const i=an(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const t=this.options;t.display&&t.pointLabels.display?kM(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,r,i){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,r,i))}getIndexAngle(t){const n=fn/(this._pointLabels.length||1),r=this.options.startAngle||0;return wr(t*n+ss(r))}getDistanceFromCenterForValue(t){if(Dt(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(Dt(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const r=n[t];return IM(this.getContext(),t,r)}}getPointPosition(t,n,r=0){const i=this.getIndexAngle(t)-An+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:r,right:i,bottom:s}=this._pointLabelItems[t];return{left:n,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const r=this.ctx;r.save(),r.beginPath(),k7(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=t,r.fill(),r.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:r,grid:i,border:s}=n,o=this._pointLabels.length;let a,u,c;if(n.pointLabels.display&&MM(this,o),i.display&&this.ticks.forEach((f,p)=>{if(p!==0||p===0&&this.min<0){u=this.getDistanceFromCenterForValue(f.value);const g=this.getContext(p),v=i.setContext(g),w=s.setContext(g);RM(this,v,u,o,w)}}),r.display){for(t.save(),a=o-1;a>=0;a--){const f=r.setContext(this.getPointLabelContext(a)),{color:p,lineWidth:g}=f;!g||!p||(t.lineWidth=g,t.strokeStyle=p,t.setLineDash(f.borderDash),t.lineDashOffset=f.borderDashOffset,u=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(a,u),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,u)=>{if(u===0&&this.min>=0&&!n.reverse)return;const c=r.setContext(this.getContext(u)),f=Kn(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[u].value),c.showLabelBackdrop){t.font=f.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const p=Cr(c.backdropPadding);t.fillRect(-o/2-p.left,-s-f.size/2-p.top,o+p.width,f.size+p.height)}fl(t,a.label,0,-s,f,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}const _m={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Zr=Object.keys(_m);function r5(e,t){return e-t}function i5(e,t){if(Dt(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:s}=e._parseOpts;let o=t;return typeof r=="function"&&(o=r(o)),En(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(dl(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function s5(e,t,n,r){const i=Zr.length;for(let s=Zr.indexOf(e);s<i-1;++s){const o=_m[Zr[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=r)return Zr[s]}return Zr[i-1]}function DM(e,t,n,r,i){for(let s=Zr.length-1;s>=Zr.indexOf(n);s--){const o=Zr[s];if(_m[o].common&&e._adapter.diff(i,r,o)>=t-1)return o}return Zr[n?Zr.indexOf(n):0]}function FM(e){for(let t=Zr.indexOf(e)+1,n=Zr.length;t<n;++t)if(_m[Zr[t]].common)return Zr[t]}function o5(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:r,hi:i}=jx(n,t),s=n[r]>=t?n[r]:n[i];e[s]=!0}}function BM(e,t,n,r){const i=e._adapter,s=+i.startOf(t[0].value,r),o=t[t.length-1].value;let a,u;for(a=s;a<=o;a=+i.add(a,1,r))u=n[a],u>=0&&(t[u].major=!0);return t}function a5(e,t,n){const r=[],i={},s=t.length;let o,a;for(o=0;o<s;++o)a=t[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:BM(e,r,i,n)}class ay extends bl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),i=this._adapter=new YO._date(t.adapters.date);i.init(n),vd(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:i5(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function u(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(u(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&u(this.getMinMax(!1))),i=En(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=En(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=gP(i,s,o);return this._unit=n.unit||(r.autoSkip?s5(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):DM(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:FM(this._unit),this.initOffsets(i),t.reverse&&a.reverse(),a5(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,r=0,i,s;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?n=1-i:n=(this.getDecimalForValue(t[1])-i)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?r=s:r=(s-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=ir(n,0,o),r=ir(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||s5(s.minUnit,n,r,this._getLabelCapacity(n)),a=vt(i.ticks.stepSize,1),u=o==="week"?s.isoWeekday:!1,c=dl(u)||u===!0,f={};let p=n,g,v;if(c&&(p=+t.startOf(p,"isoWeek",u)),p=+t.startOf(p,c?"day":o),t.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const w=i.ticks.source==="data"&&this.getDataTimestamps();for(g=p,v=0;g<r;g=+t.add(g,a,o),v++)o5(f,g,w);return(g===r||i.bounds==="ticks"||v===1)&&o5(f,g,w),Object.keys(f).sort(r5).map(_=>+_)}getLabelForValue(t){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}format(t,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(t,o)}_tickFormatFunction(t,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return an(o,[t,n,r],this);const a=s.time.displayFormats,u=this._unit,c=this._majorUnit,f=u&&a[u],p=c&&a[c],g=r[n],v=c&&p&&g&&g.major;return this._adapter.format(t,i||(v?p:f))}generateTickLabels(t){let n,r,i;for(n=0,r=t.length;n<r;++n)i=t[n],i.label=this._tickFormatFunction(i.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,i=ss(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(t,0,a5(this,[t],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)t=t.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)t.push(i5(this,i[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return L_(t.sort(r5))}}function Wf(e,t,n){let r=0,i=e.length-1,s,o,a,u;n?(t>=e[r].pos&&t<=e[i].pos&&({lo:r,hi:i}=oo(e,"pos",t)),{pos:s,time:a}=e[r],{pos:o,time:u}=e[i]):(t>=e[r].time&&t<=e[i].time&&({lo:r,hi:i}=oo(e,"time",t)),{time:s,pos:a}=e[r],{time:o,pos:u}=e[i]);const c=o-s;return c?a+(u-a)*(t-s)/c:a}class zM extends ay{static id="timeseries";static defaults=ay.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Wf(n,this.min),this._tableRange=Wf(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:r}=this,i=[],s=[];let o,a,u,c,f;for(o=0,a=t.length;o<a;++o)c=t[o],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)f=i[o+1],u=i[o-1],c=i[o],Math.round((f+u)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const t=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?t=this.normalize(n.concat(r)):t=n.length?n:r,t=this._cache.all=t,t}getDecimalForValue(t){return(Wf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return Wf(this._table,r*this._tableRange+this._minPos,!0)}}var $M=Object.freeze({__proto__:null,CategoryScale:sh,LinearScale:oh,LogarithmicScale:SM,RadialLinearScale:j7,TimeScale:ay,TimeSeriesScale:zM});const UM=[GO,kA,gM,$M];fo.register(...UM);const E7="label";function l5(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function HM(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function T7(e,t){e.labels=t}function N7(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:E7;const r=[];e.datasets=t.map(i=>{const s=e.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function QM(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:E7;const n={labels:[],datasets:[]};return T7(n,e.labels),N7(n,e.datasets,t),n}function VM(e,t){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:u,plugins:c=[],fallbackContent:f,updateMode:p,...g}=e,v=N.useRef(null),w=N.useRef(null),_=()=>{v.current&&(w.current=new fo(v.current,{type:o,data:QM(a,s),options:u&&{...u},plugins:c}),l5(t,w.current))},C=()=>{l5(t,null),w.current&&(w.current.destroy(),w.current=null)};return N.useEffect(()=>{!i&&w.current&&u&&HM(w.current,u)},[i,u]),N.useEffect(()=>{!i&&w.current&&T7(w.current.config.data,a.labels)},[i,a.labels]),N.useEffect(()=>{!i&&w.current&&a.datasets&&N7(w.current.config.data,a.datasets,s)},[i,a.datasets]),N.useEffect(()=>{w.current&&(i?(C(),setTimeout(_)):w.current.update(p))},[i,u,a.labels,a.datasets,p]),N.useEffect(()=>{w.current&&(C(),setTimeout(_))},[o]),N.useEffect(()=>(_(),()=>C()),[]),en.createElement("canvas",{ref:v,role:"img",height:n,width:r,...g},f)}const P7=N.forwardRef(VM);function Bx(e,t){return fo.register(t),N.forwardRef((n,r)=>en.createElement(P7,{...n,ref:r,type:e}))}const qM=Bx("bar",t7),WM=Bx("radar",r7),O7=Bx("doughnut",vm),Qu={searchBtnSpeed:{mu:1.457,sigma:.7362},captchaSpeed:{mu:3.6415,sigma:.4057},totalSpeed:{mu:8.6367,sigma:.5422}};function L7(e,t,n){if(e<=0)return 0;const r=(Math.log(e)-Math.log(t))/n,i=1/(1+.2316419*Math.abs(r)),o=.3989423*Math.exp(-r*r/2)*i*(.3193815+i*(-.3565638+i*(1.781478+i*(-1.821256+i*1.330274))));return r>0?1-o:o}function Sm(e,t=7.5,n=.3){const s=e>3e3?e/1e3:e,a=1-L7(s,t,n);return Math.max(Math.min(a*100,100),0)}function KM(e){const n=Math.min(Math.max(e,0),100)/100,i=-L7(n,.4,.1);return Math.round(i*5)}function GM(e,t){const n=(e-2*t)/(e-t);return Math.max(0,Math.round(n*100))}function YM(e){return Sm(e,Qu.searchBtnSpeed.mu,Qu.searchBtnSpeed.sigma)}function XM(e){return Sm(e,Qu.captchaSpeed.mu,Qu.captchaSpeed.sigma)}function JM(e){return Math.max(0,Math.min(e,100))}function ZM(e){return Sm(e,Qu.totalSpeed.mu,Qu.totalSpeed.sigma)}fo.register(j7,Dx,Xu,w7,Zu,Ju);const eR={responsive:!0,scales:{r:{angleLines:{display:!0},suggestedMin:0,suggestedMax:100,ticks:{display:!1},pointLabels:{font:{size:14},color:"#4B5563"},grid:{color:"#E5E7EB"}}},plugins:{legend:{display:!1},tooltip:{enabled:!0}}};function tR(e){const{user_ability:t}=e,{searchBtnSpeed:n,totalSpeed:r,accuracy:i,captchaSpeed:s}=t,o=["   "," ","","  "],a=[n,r,i,s];return{labels:o,datasets:[{label:"",data:u5([1.776296,9.30268,93.58,3.843947]),backgroundColor:"rgba(5, 223, 114, 0.2)",borderColor:"rgba(5, 223, 114, 1)",borderWidth:2,pointBackgroundColor:"rgba(5, 223, 114, 1)"},{label:" ",data:u5(a),backgroundColor:"rgb(0, 122, 255, 0.2)",borderColor:"rgba(0, 122, 255, 1)",borderWidth:2,pointBackgroundColor:"rgba(0, 122, 255, 1)"}]}}function u5(e){return[YM(e[0]),ZM(e[1]),JM(e[2]),XM(e[3])]}function zx({result:e}){const t=tR(e),{searchBtnSpeed:n,totalSpeed:r,accuracy:i,captchaSpeed:s}=e.user_ability;return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"h-90",children:h.jsx(WM,{data:t,className:"mx-auto",options:eR})}),h.jsxs("div",{className:"absolute bottom-6 right-6 bg-white shadow-lg rounded-lg px-4 py-3 text-xs text-gray-800",children:[h.jsx("div",{className:"font-bold text-sm mb-1",children:" "}),h.jsxs("ul",{className:"space-y-1",children:[h.jsxs("li",{className:"flex justify-between",children:[h.jsx("span",{children:"    "})," ",h.jsxs("span",{children:[n.toFixed(2)," sec"]})]}),h.jsxs("li",{className:"flex justify-between",children:[h.jsx("span",{children:"   "})," ",h.jsxs("span",{children:[r.toFixed(2)," sec"]})]}),h.jsxs("li",{className:"flex justify-between",children:[h.jsx("span",{children:" "})," ",h.jsxs("span",{children:[i.toFixed(2)," %"]})]}),h.jsxs("li",{className:"flex justify-between",children:[h.jsx("span",{children:"     "})," ",h.jsxs("span",{children:[s.toFixed(2)," sec"]})]})]})]})]})}function ly(e,t){const n=e.getContext("2d");if(!n)return;n.clearRect(0,0,e.width,e.height);const r=n.createLinearGradient(0,0,e.width,0);r.addColorStop(0,"#4a4a4a"),r.addColorStop(1,"#bcbcbc"),n.fillStyle=r,n.fillRect(0,0,e.width,e.height),n.font="bold 32px Arial Black, Impact, sans-serif",n.fillStyle="black",n.textAlign="center",n.textBaseline="middle",n.fillText(t,e.width/2,e.height/2)}function A7({className:e,essential:t,disabled:n,children:r}){const s=(t?"relative inline-block w-autobefore:content-[''] before:absolute before:top-0 before:left-0 before:w-0 before:h-0 "+(n?"before:border-t-[8px] before:border-t-gray-500 before:border-r-[8px] before:border-r-transparent ":"before:border-t-[8px] before:border-t-red-500 before:border-r-[8px] before:border-r-transparent "):"")+e;return h.jsx("div",{className:s,children:r})}function nR({type:e="text",className:t="",essential:n=!1,disabled:r=!1,...i}){return h.jsx(A7,{className:t,essential:n,disabled:r,children:h.jsx("input",{type:e,className:"relative border-1 border-gray-300 px-2 text-xs w-max h-6 focus:outline-none focus:rounded focus:ring focus:border-gray-800 disabled:bg-gray-100 disabled:cursor-not-allowed ",disabled:r,...i})})}function rR({variant:e="primary",className:t="",children:n,...r}){const i="px-3 py-2 flex flex-row gap-1 cursor-pointer rounded",s=iR(e),o=`${i} ${s} ${t}`.trim();return h.jsx("button",{className:o,...r,children:n})}function iR(e){switch(e){case"primary":return"bg-blue-500 text-white hover:bg-blue-600";case"secondary":return"bg-gray-500 text-white hover:bg-gray-600";case"cancel":return"bg-white border border-gray-700 hover:bg-gray-100";case"danger":return"bg-red-500 text-white hover:bg-red-600";default:return""}}function sR({className:e="",essential:t=!1,children:n,...r}){const i="px-2 h-6 text-gray-400 text-xs border border-gray-300 disabled:bg-gray-100 disabled:cursor-not-allowed "+e;return h.jsx(A7,{className:e,essential:t,disabled:r.disabled??!1,children:h.jsx("select",{className:i,...r,children:n})})}function oR({children:e,onClose:t,preventAutoFocus:n}){const r=N.useRef(null);N.useEffect(()=>(document.body.style.overflow="hidden",n||r.current?.focus(),()=>{document.body.style.overflow=""}),[n]);const i=s=>{s.stopPropagation(),t()};return h.jsxs("div",{className:"flex items-center justify-center fixed inset-0 w-full h-full z-100",role:"none",ref:r,tabIndex:-1,onClick:i,children:[h.jsx("div",{className:"fixed inset-0 justify-center opacity-30 bg-gray-300 border-b-2 border-gray-400"}),h.jsx("div",{className:"fixed inset-x-0 top-16 bottom-0 flex items-center justify-center",tabIndex:-1,children:h.jsx("div",{className:"w-[95%] sm:w-fit z-50 bg-white max-h-[90%] border border-gray-200 overflow-y-auto",role:"dialog",tabIndex:-1,onClick:s=>s.stopPropagation(),children:e})})]})}const aR=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e},N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px",d:"M4 20L20 4M4 4l16 16"}));function lR({title:e,onClose:t}){return h.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 ",children:[h.jsx("h2",{className:"font-semibold sm:text-lg text-sm text-gray-900",children:e}),h.jsx("button",{className:"w-5 h-5 text-gray-500 hover:text-gray-700 cursor-pointer",onClick:t,title:"",tabIndex:-1,children:h.jsx(aR,{className:"w-full h-full"})})]})}function uR({variant:e="primary",className:t="",children:n,...r}){const i="px-4 h-6 text-xs flex items-center gap-1 rounded-xs cursor-pointer",s=cR(e),o=`${i} ${s} ${t}`.trim();return h.jsx("button",{className:o,...r,children:n})}function cR(e){switch(e){case"primary":return"bg-blue-500 text-white hover:bg-blue-600";case"secondary":return"bg-gray-500 text-white hover:bg-gray-600";case"cancel":return"bg-white border border-gray-700 hover:bg-blue-50 hover:border-blue-500";case"danger":return"bg-red-500 text-white hover:bg-red-600";default:return""}}function dR({children:e,className:t="",...n}){const r="flex justify-end gap-4 w-full "+t;return h.jsx("div",{className:r,...n,children:e})}const Cm=oR;Cm.Header=lR;Cm.Button=uR;Cm.ButtonContainer=dR;const zn={Input:nR,Button:rR,Select:sR,Modal:Cm},hR={user_ability:{searchBtnSpeed:1.076296,totalSpeed:6.70268,accuracy:98.58,captchaSpeed:4.843947}};function fR(){const[e,t]=N.useState(hR);return h.jsxs(vl,{children:[h.jsx(hm,{title:"   ()",subtitle:"   ,    ",href:"/simulation"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[h.jsxs(Bp,{children:[h.jsx("h3",{className:"text-lg font-semibold",children:"  "}),h.jsx("p",{className:"text-gray-600 mb-4",children:" ,    !"}),h.jsx(mR,{setRadarData:t})]}),h.jsxs(Bp,{className:"relative",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"  "}),h.jsx("p",{className:"text-gray-600 mb-4",children:"      ."}),h.jsx(zx,{result:e})]})]})]})}function c5(){return Math.floor(1e3+Math.random()*9e3).toString()}const pR=4;function mR({setRadarData:e}){const t=N.useRef(null),[n,r]=N.useState(),[i,s]=N.useState({message:"",color:"red"}),o=N.useRef(""),a=yR(e);function u(){o.current=c5(),r(""),s({message:"",color:"red"}),a.resetResult(),t.current&&ly(t.current,o.current)}function c(){setTimeout(u,200)}function f(g){let v=g.target.value;if(a.updateResult(),/\D/.test(v)){s({message:"0~9  ",color:"red"}),r(v.replace(/\D/g,""));return}if(v.length>pR){s({message:"4  ",color:"red"});return}r(v),s({message:"",color:"red"})}N.useEffect(()=>{setTimeout(()=>{o.current=c5(),a.initResult(),t.current&&ly(t.current,o.current)},100)},[]);function p(){n?.toString()===o.current?(s({message:"  .",color:"green"}),a.endResult(!0),setTimeout(u,700)):(s({message:"  .",color:"red"}),a.endResult(!1),setTimeout(u,700))}return h.jsxs("div",{className:"flex flex-col justify-center h-4/5",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 p-4",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsxs("div",{className:"text-sm font-semibold flex flex-row items-center gap-2",children:[h.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "})," ",h.jsx(gR,{onClick:c,children:""})]}),h.jsx("div",{className:"flex items-center mt-1",children:h.jsx("canvas",{id:"captcha",width:"105",height:"50",ref:t})})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"text-sm font-semibold  flex flex-row items-center",children:[h.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "}),"  "]}),h.jsx(zn.Input,{value:n,className:"mt-2 w-full",onChange:g=>f(g),placeholder:" ",essential:!0}),h.jsx("span",{className:"pl-1 text-xs "+(i.color==="green"?"text-green-500":"text-red-500"),children:i.message})]})]}),h.jsx("div",{className:"flex justify-end p-4",children:h.jsx("button",{onClick:p,className:"px-4 py-2 bg-white hover:bg-blue-50 rounded-xs border cursor-pointer",children:""})})]})}function gR({className:e,children:t,...n}){return h.jsx("button",{className:"px-2 py-1 bg-blue-500 text-white text-sm rounded-xs cursor-pointer hover:bg-blue-600 "+e,...n,children:t})}function yR(e){const t=N.useRef({tryCount:0,successCount:0,avgTime:0,startTime:-1});function n(){t.current.startTime=-1}function r(){t.current.startTime=Date.now()}function i(){t.current.startTime===-1&&(t.current.startTime=Date.now())}function s(o){const a=Date.now(),u=t.current.startTime===-1?4.843947:1+(a-t.current.startTime)/1e3;t.current.startTime=-1,t.current.tryCount+=1,t.current.avgTime=1+(u-t.current.avgTime)/t.current.tryCount,t.current.successCount+=o?1:0,e&&e(c=>({user_ability:{...c.user_ability,captchaSpeed:t.current.avgTime,accuracy:100*(t.current.successCount/t.current.tryCount)}}))}return{initResult:n,resetResult:r,updateResult:i,endResult:s}}function wl(){return us({queryKey:["departments"],queryFn:xR,staleTime:1/0,select:e=>e.departments.sort((t,n)=>t.departmentName.localeCompare(n.departmentName))})}const xR=async()=>await co("/api/departments"),vR=e=>{if(!e)return{universityDict:{},collegeDict:{}};const t={},n={};return e.forEach(r=>{const[i,s,o]=r.departmentName.split(" "),a=i.trim(),u=s?.trim(),c=o?.trim();u&&(t[a]||(t[a]=[]),t[a]=[...t[a],u],c||(n[u]=[u])),c&&(t[a]||(t[a]=[]),t[a]=[...t[a],c],n[u]||(n[u]=[]),n[u]=[...n[u],c])}),{universityDict:t,collegeDict:n}},bR=(e,t)=>{const n=e.split(" ").map(r=>r.trim());for(const r in t)if(n.some(i=>t[r].includes(i)))return r;return console.error("No university found",e),""},wR=(e,t)=>{const n=e.split(" ").map(r=>r.trim());for(const r in t)if(n.some(i=>r.includes(i)))return r;return console.error("No college found",e),""},km={labels:["","","",""],datasets:[{data:[40,25,20,15]}]},ah=["#f97316","#3b82f6","#facc15","#22c55e","#60b6d4"];function d5(e){if(!e)return km;const t={};return e.forEach(n=>{t[n.registerDepartment??""]||(t[n.registerDepartment??""]=0),t[n.registerDepartment??""]+=Number(n.eachCount)}),{labels:Object.keys(t).map(n=>n||""),datasets:[{data:Object.values(t),backgroundColor:ah}]}}function _R(e,t){if(!t)return km;const n={major:0,"non-major":0},r=e.split(" ").map(o=>o.trim()),i=o=>o.split(" ").map(u=>u.trim()).some(u=>r.includes(u));t.forEach(o=>{const a=i(o.registerDepartment??"")?"major":"non-major";n[a]+=Number(o.eachCount)});const s={major:"","non-major":""};return{labels:Object.keys(n).map(o=>s[o]),datasets:[{data:Object.values(n),backgroundColor:ah}]}}function SR(e,t){if(!e||!t)return km;const n={};return e.forEach(r=>{const i=bR(r.registerDepartment??"",t);n[i]||(n[i]=0),n[i]+=Number(r.eachCount)}),{labels:Object.keys(n).map(r=>r||""),datasets:[{data:Object.values(n),backgroundColor:ah}]}}function CR(e,t){if(!e||!t)return km;const n={};return e.forEach(r=>{const i=wR(r.registerDepartment??"",t);n[i]||(n[i]=0),n[i]+=Number(r.eachCount)}),{labels:Object.keys(n).map(r=>r||""),datasets:[{data:Object.values(n),backgroundColor:ah}]}}function kR(e){return e?e.reduce((t,n)=>t+Number(n.eachCount),0):-1}fo.register(ih,sh,oh,Zu,Ju);const jR={labels:["","","",""],datasets:[{data:[40,25,20,15],backgroundColor:ah}]};function ER(){return h.jsxs(vl,{children:[h.jsx(hm,{title:" ",href:"/wishes"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[h.jsx("h2",{className:"text-lg font-semibold mb-2",children:" "}),h.jsx("div",{className:"flex aligh-center justify-center max-h-96",children:h.jsx(O7,{data:jR})})]}),h.jsxs("div",{className:"bg-white p-6 shadow-md rounded-md",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"  "}),[{name:"",dept:" ",status:"30"},{name:"",dept:"",status:"14"}].map((e,t)=>h.jsxs("div",{className:"mt-4 flex justify-between p-2 rounded-md border border-gray-200",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold",children:e.name}),h.jsx("p",{className:"text-sm text-gray-500",children:e.dept})]}),h.jsx("span",{className:"text-yellow-500",children:e.status})]},"recommend-course-"+t))]})]})]})}const ec=({className:e,disabled:t=!1})=>{const n=t?"text-gray-400 ":"text-blue-500 ";return h.jsx(Dp,{className:n+e})};var _p={exports:{}},TR=_p.exports,h5;function NR(){return h5||(h5=1,function(e,t){(function(n,r){e.exports=r()})(TR,function(){var n=function(y,b){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,T){k.__proto__=T}||function(k,T){for(var O in T)Object.prototype.hasOwnProperty.call(T,O)&&(k[O]=T[O])})(y,b)},r=function(){return(r=Object.assign||function(y){for(var b,k=1,T=arguments.length;k<T;k++)for(var O in b=arguments[k])Object.prototype.hasOwnProperty.call(b,O)&&(y[O]=b[O]);return y}).apply(this,arguments)};function i(y,b,k){for(var T,O=0,R=b.length;O<R;O++)!T&&O in b||((T=T||Array.prototype.slice.call(b,0,O))[O]=b[O]);return y.concat(T||Array.prototype.slice.call(b))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:ld,o=Object.keys,a=Array.isArray;function u(y,b){return typeof b!="object"||o(b).forEach(function(k){y[k]=b[k]}),y}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var c=Object.getPrototypeOf,f={}.hasOwnProperty;function p(y,b){return f.call(y,b)}function g(y,b){typeof b=="function"&&(b=b(c(y))),(typeof Reflect>"u"?o:Reflect.ownKeys)(b).forEach(function(k){w(y,k,b[k])})}var v=Object.defineProperty;function w(y,b,k,T){v(y,b,u(k&&p(k,"get")&&typeof k.get=="function"?{get:k.get,set:k.set,configurable:!0}:{value:k,configurable:!0,writable:!0},T))}function _(y){return{from:function(b){return y.prototype=Object.create(b.prototype),w(y.prototype,"constructor",y),{extend:g.bind(null,y.prototype)}}}}var C=Object.getOwnPropertyDescriptor,E=[].slice;function L(y,b,k){return E.call(y,b,k)}function A(y,b){return b(y)}function B(y){if(!y)throw new Error("Assertion Failed")}function U(y){s.setImmediate?setImmediate(y):setTimeout(y,0)}function P(y,b){if(typeof b=="string"&&p(y,b))return y[b];if(!b)return y;if(typeof b!="string"){for(var k=[],T=0,O=b.length;T<O;++T){var R=P(y,b[T]);k.push(R)}return k}var H=b.indexOf(".");if(H!==-1){var K=y[b.substr(0,H)];return K==null?void 0:P(K,b.substr(H+1))}}function D(y,b,k){if(y&&b!==void 0&&!("isFrozen"in Object&&Object.isFrozen(y)))if(typeof b!="string"&&"length"in b){B(typeof k!="string"&&"length"in k);for(var T=0,O=b.length;T<O;++T)D(y,b[T],k[T])}else{var R,H,K=b.indexOf(".");K!==-1?(R=b.substr(0,K),(H=b.substr(K+1))===""?k===void 0?a(y)&&!isNaN(parseInt(R))?y.splice(R,1):delete y[R]:y[R]=k:D(K=!(K=y[R])||!p(y,R)?y[R]={}:K,H,k)):k===void 0?a(y)&&!isNaN(parseInt(b))?y.splice(b,1):delete y[b]:y[b]=k}}function z(y){var b,k={};for(b in y)p(y,b)&&(k[b]=y[b]);return k}var Q=[].concat;function F(y){return Q.apply([],y)}var Ce="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(F([8,16,32,64].map(function(y){return["Int","Uint","Float"].map(function(b){return b+y+"Array"})}))).filter(function(y){return s[y]}),oe=new Set(Ce.map(function(y){return s[y]})),le=null;function ue(y){return le=new WeakMap,y=function b(k){if(!k||typeof k!="object")return k;var T=le.get(k);if(T)return T;if(a(k)){T=[],le.set(k,T);for(var O=0,R=k.length;O<R;++O)T.push(b(k[O]))}else if(oe.has(k.constructor))T=k;else{var H,K=c(k);for(H in T=K===Object.prototype?{}:Object.create(K),le.set(k,T),k)p(k,H)&&(T[H]=b(k[H]))}return T}(y),le=null,y}var W={}.toString;function V(y){return W.call(y).slice(8,-1)}var J=typeof Symbol<"u"?Symbol.iterator:"@@iterator",te=typeof J=="symbol"?function(y){var b;return y!=null&&(b=y[J])&&b.apply(y)}:function(){return null};function ne(y,b){return b=y.indexOf(b),0<=b&&y.splice(b,1),0<=b}var me={};function I(y){var b,k,T,O;if(arguments.length===1){if(a(y))return y.slice();if(this===me&&typeof y=="string")return[y];if(O=te(y)){for(k=[];!(T=O.next()).done;)k.push(T.value);return k}if(y==null)return[y];if(typeof(b=y.length)!="number")return[y];for(k=new Array(b);b--;)k[b]=y[b];return k}for(b=arguments.length,k=new Array(b);b--;)k[b]=arguments[b];return k}var G=typeof Symbol<"u"?function(y){return y[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Br=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],$r=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Br),ye={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function $(y,b){this.name=y,this.message=b}function De(y,b){return y+". Errors: "+Object.keys(b).map(function(k){return b[k].toString()}).filter(function(k,T,O){return O.indexOf(k)===T}).join(`
`)}function je(y,b,k,T){this.failures=b,this.failedKeys=T,this.successCount=k,this.message=De(y,b)}function Ee(y,b){this.name="BulkError",this.failures=Object.keys(b).map(function(k){return b[k]}),this.failuresByPos=b,this.message=De(y,this.failures)}_($).from(Error).extend({toString:function(){return this.name+": "+this.message}}),_(je).from($),_(Ee).from($);var Ye=$r.reduce(function(y,b){return y[b]=b+"Error",y},{}),Ke=$,Pe=$r.reduce(function(y,b){var k=b+"Error";function T(O,R){this.name=k,O?typeof O=="string"?(this.message="".concat(O).concat(R?`
 `+R:""),this.inner=R||null):typeof O=="object"&&(this.message="".concat(O.name," ").concat(O.message),this.inner=O):(this.message=ye[b]||k,this.inner=null)}return _(T).from(Ke),y[b]=T,y},{});Pe.Syntax=SyntaxError,Pe.Type=TypeError,Pe.Range=RangeError;var ht=Br.reduce(function(y,b){return y[b+"Error"]=Pe[b],y},{}),un=$r.reduce(function(y,b){return["Syntax","Type","Range"].indexOf(b)===-1&&(y[b+"Error"]=Pe[b]),y},{});function Tt(){}function pn(y){return y}function cn(y,b){return y==null||y===pn?b:function(k){return b(y(k))}}function Tn(y,b){return function(){y.apply(this,arguments),b.apply(this,arguments)}}function Os(y,b){return y===Tt?b:function(){var k=y.apply(this,arguments);k!==void 0&&(arguments[0]=k);var T=this.onsuccess,O=this.onerror;this.onsuccess=null,this.onerror=null;var R=b.apply(this,arguments);return T&&(this.onsuccess=this.onsuccess?Tn(T,this.onsuccess):T),O&&(this.onerror=this.onerror?Tn(O,this.onerror):O),R!==void 0?R:k}}function Bi(y,b){return y===Tt?b:function(){y.apply(this,arguments);var k=this.onsuccess,T=this.onerror;this.onsuccess=this.onerror=null,b.apply(this,arguments),k&&(this.onsuccess=this.onsuccess?Tn(k,this.onsuccess):k),T&&(this.onerror=this.onerror?Tn(T,this.onerror):T)}}function go(y,b){return y===Tt?b:function(k){var T=y.apply(this,arguments);u(k,T);var O=this.onsuccess,R=this.onerror;return this.onsuccess=null,this.onerror=null,k=b.apply(this,arguments),O&&(this.onsuccess=this.onsuccess?Tn(O,this.onsuccess):O),R&&(this.onerror=this.onerror?Tn(R,this.onerror):R),T===void 0?k===void 0?void 0:k:u(T,k)}}function cs(y,b){return y===Tt?b:function(){return b.apply(this,arguments)!==!1&&y.apply(this,arguments)}}function Fr(y,b){return y===Tt?b:function(){var k=y.apply(this,arguments);if(k&&typeof k.then=="function"){for(var T=this,O=arguments.length,R=new Array(O);O--;)R[O]=arguments[O];return k.then(function(){return b.apply(T,R)})}return b.apply(this,arguments)}}un.ModifyError=je,un.DexieError=$,un.BulkError=Ee;var Nn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function cr(y){Nn=y}var dr={},ds=100,Ce=typeof Promise>"u"?[]:function(){var y=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[y,c(y),y];var b=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[b,c(b),y]}(),Br=Ce[0],$r=Ce[1],Ce=Ce[2],$r=$r&&$r.then,Oe=Br&&Br.constructor,lt=!!Ce,pt=function(y,b){Pn.push([y,b]),Kt&&(queueMicrotask(Tl),Kt=!1)},Nt=!0,Kt=!0,Mn=[],Rn=[],Er=pn,Yn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Tt,pgp:!1,env:{},finalize:Tt},Ve=Yn,Pn=[],mn=0,bi=[];function qe(y){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var b=this._PSD=Ve;if(typeof y!="function"){if(y!==dr)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Ls(this,this._value))}this._state=null,this._value=null,++b.ref,function k(T,O){try{O(function(R){if(T._state===null){if(R===T)throw new TypeError("A promise cannot be resolved with itself.");var H=T._lib&&X();R&&typeof R.then=="function"?k(T,function(K,ee){R instanceof qe?R._then(K,ee):R.then(K,ee)}):(T._state=!0,T._value=R,hs(T)),H&&pe()}},Ls.bind(null,T))}catch(R){Ls(T,R)}}(this,y)}var ii={get:function(){var y=Ve,b=at;function k(T,O){var R=this,H=!y.global&&(y!==Ve||b!==at),K=H&&!Pt(),ee=new qe(function(ie,de){$i(R,new zi(Ui(T,y,H,K),Ui(O,y,H,K),ie,de,y))});return this._consoleTask&&(ee._consoleTask=this._consoleTask),ee}return k.prototype=dr,k},set:function(y){w(this,"then",y&&y.prototype===dr?ii:{get:function(){return y},set:ii.set})}};function zi(y,b,k,T,O){this.onFulfilled=typeof y=="function"?y:null,this.onRejected=typeof b=="function"?b:null,this.resolve=k,this.reject=T,this.psd=O}function Ls(y,b){var k,T;Rn.push(b),y._state===null&&(k=y._lib&&X(),b=Er(b),y._state=!1,y._value=b,T=y,Mn.some(function(O){return O._value===T._value})||Mn.push(T),hs(y),k&&pe())}function hs(y){var b=y._listeners;y._listeners=[];for(var k=0,T=b.length;k<T;++k)$i(y,b[k]);var O=y._PSD;--O.ref||O.finalize(),mn===0&&(++mn,pt(function(){--mn==0&&_e()},[]))}function $i(y,b){if(y._state!==null){var k=y._state?b.onFulfilled:b.onRejected;if(k===null)return(y._state?b.resolve:b.reject)(y._value);++b.psd.ref,++mn,pt(El,[k,y,b])}else y._listeners.push(b)}function El(y,b,k){try{var T,O=b._value;!b._state&&Rn.length&&(Rn=[]),T=Nn&&b._consoleTask?b._consoleTask.run(function(){return y(O)}):y(O),b._state||Rn.indexOf(O)!==-1||function(R){for(var H=Mn.length;H;)if(Mn[--H]._value===R._value)return Mn.splice(H,1)}(b),k.resolve(T)}catch(R){k.reject(R)}finally{--mn==0&&_e(),--k.psd.ref||k.psd.finalize()}}function Tl(){Xn(Yn,function(){X()&&pe()})}function X(){var y=Nt;return Kt=Nt=!1,y}function pe(){var y,b,k;do for(;0<Pn.length;)for(y=Pn,Pn=[],k=y.length,b=0;b<k;++b){var T=y[b];T[0].apply(null,T[1])}while(0<Pn.length);Kt=Nt=!0}function _e(){var y=Mn;Mn=[],y.forEach(function(T){T._PSD.onunhandled.call(null,T._value,T)});for(var b=bi.slice(0),k=b.length;k;)b[--k]()}function Ae(y){return new qe(dr,!1,y)}function Te(y,b){var k=Ve;return function(){var T=X(),O=Ve;try{return Ht(k,!0),y.apply(this,arguments)}catch(R){b&&b(R)}finally{Ht(O,!1),T&&pe()}}}g(qe.prototype,{then:ii,_then:function(y,b){$i(this,new zi(null,null,y,b,Ve))},catch:function(y){if(arguments.length===1)return this.then(null,y);var b=y,k=arguments[1];return typeof b=="function"?this.then(null,function(T){return(T instanceof b?k:Ae)(T)}):this.then(null,function(T){return(T&&T.name===b?k:Ae)(T)})},finally:function(y){return this.then(function(b){return qe.resolve(y()).then(function(){return b})},function(b){return qe.resolve(y()).then(function(){return Ae(b)})})},timeout:function(y,b){var k=this;return y<1/0?new qe(function(T,O){var R=setTimeout(function(){return O(new Pe.Timeout(b))},y);k.then(T,O).finally(clearTimeout.bind(null,R))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&w(qe.prototype,Symbol.toStringTag,"Dexie.Promise"),Yn.env=Gt(),g(qe,{all:function(){var y=I.apply(null,arguments).map(gn);return new qe(function(b,k){y.length===0&&b([]);var T=y.length;y.forEach(function(O,R){return qe.resolve(O).then(function(H){y[R]=H,--T||b(y)},k)})})},resolve:function(y){return y instanceof qe?y:y&&typeof y.then=="function"?new qe(function(b,k){y.then(b,k)}):new qe(dr,!0,y)},reject:Ae,race:function(){var y=I.apply(null,arguments).map(gn);return new qe(function(b,k){y.map(function(T){return qe.resolve(T).then(b,k)})})},PSD:{get:function(){return Ve},set:function(y){return Ve=y}},totalEchoes:{get:function(){return at}},newPSD:et,usePSD:Xn,scheduler:{get:function(){return pt},set:function(y){pt=y}},rejectionMapper:{get:function(){return Er},set:function(y){Er=y}},follow:function(y,b){return new qe(function(k,T){return et(function(O,R){var H=Ve;H.unhandleds=[],H.onunhandled=R,H.finalize=Tn(function(){var K,ee=this;K=function(){ee.unhandleds.length===0?O():R(ee.unhandleds[0])},bi.push(function ie(){K(),bi.splice(bi.indexOf(ie),1)}),++mn,pt(function(){--mn==0&&_e()},[])},H.finalize),y()},b,k,T)})}}),Oe&&(Oe.allSettled&&w(qe,"allSettled",function(){var y=I.apply(null,arguments).map(gn);return new qe(function(b){y.length===0&&b([]);var k=y.length,T=new Array(k);y.forEach(function(O,R){return qe.resolve(O).then(function(H){return T[R]={status:"fulfilled",value:H}},function(H){return T[R]={status:"rejected",reason:H}}).then(function(){return--k||b(T)})})})}),Oe.any&&typeof AggregateError<"u"&&w(qe,"any",function(){var y=I.apply(null,arguments).map(gn);return new qe(function(b,k){y.length===0&&k(new AggregateError([]));var T=y.length,O=new Array(T);y.forEach(function(R,H){return qe.resolve(R).then(function(K){return b(K)},function(K){O[H]=K,--T||k(new AggregateError(O))})})})}),Oe.withResolvers&&(qe.withResolvers=Oe.withResolvers));var We={awaits:0,echoes:0,id:0},rt=0,Je=[],tt=0,at=0,ot=0;function et(y,b,k,T){var O=Ve,R=Object.create(O);return R.parent=O,R.ref=0,R.global=!1,R.id=++ot,Yn.env,R.env=lt?{Promise:qe,PromiseProp:{value:qe,configurable:!0,writable:!0},all:qe.all,race:qe.race,allSettled:qe.allSettled,any:qe.any,resolve:qe.resolve,reject:qe.reject}:{},b&&u(R,b),++O.ref,R.finalize=function(){--this.parent.ref||this.parent.finalize()},T=Xn(R,y,k,T),R.ref===0&&R.finalize(),T}function _t(){return We.id||(We.id=++rt),++We.awaits,We.echoes+=ds,We.id}function Pt(){return!!We.awaits&&(--We.awaits==0&&(We.id=0),We.echoes=We.awaits*ds,!0)}function gn(y){return We.echoes&&y&&y.constructor===Oe?(_t(),y.then(function(b){return Pt(),b},function(b){return Pt(),$t(b)})):y}function In(){var y=Je[Je.length-1];Je.pop(),Ht(y,!1)}function Ht(y,b){var k,T=Ve;(b?!We.echoes||tt++&&y===Ve:!tt||--tt&&y===Ve)||queueMicrotask(b?(function(O){++at,We.echoes&&--We.echoes!=0||(We.echoes=We.awaits=We.id=0),Je.push(Ve),Ht(O,!0)}).bind(null,y):In),y!==Ve&&(Ve=y,T===Yn&&(Yn.env=Gt()),lt&&(k=Yn.env.Promise,b=y.env,(T.global||y.global)&&(Object.defineProperty(s,"Promise",b.PromiseProp),k.all=b.all,k.race=b.race,k.resolve=b.resolve,k.reject=b.reject,b.allSettled&&(k.allSettled=b.allSettled),b.any&&(k.any=b.any))))}function Gt(){var y=s.Promise;return lt?{Promise:y,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:y.all,race:y.race,allSettled:y.allSettled,any:y.any,resolve:y.resolve,reject:y.reject}:{}}function Xn(y,b,k,T,O){var R=Ve;try{return Ht(y,!0),b(k,T,O)}finally{Ht(R,!1)}}function Ui(y,b,k,T){return typeof y!="function"?y:function(){var O=Ve;k&&_t(),Ht(b,!0);try{return y.apply(this,arguments)}finally{Ht(O,!1),T&&queueMicrotask(Pt)}}}function Tr(y){Promise===Oe&&We.echoes===0?tt===0?y():enqueueNativeMicroTask(y):setTimeout(y,0)}(""+$r).indexOf("[native code]")===-1&&(_t=Pt=Tt);var $t=qe.reject,si="",Lt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",wi="String expected.",Nr=[],_i="__dbnames",At="readonly",Cn="readwrite";function Pr(y,b){return y?b?function(){return y.apply(this,arguments)&&b.apply(this,arguments)}:y:b}var oi={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Bt(y){return typeof y!="string"||/\./.test(y)?function(b){return b}:function(b){return b[y]===void 0&&y in b&&delete(b=ue(b))[y],b}}function As(){throw Pe.Type()}function ft(y,b){try{var k=Nl(y),T=Nl(b);if(k!==T)return k==="Array"?1:T==="Array"?-1:k==="binary"?1:T==="binary"?-1:k==="string"?1:T==="string"?-1:k==="Date"?1:T!=="Date"?NaN:-1;switch(k){case"number":case"Date":case"string":return b<y?1:y<b?-1:0;case"binary":return function(O,R){for(var H=O.length,K=R.length,ee=H<K?H:K,ie=0;ie<ee;++ie)if(O[ie]!==R[ie])return O[ie]<R[ie]?-1:1;return H===K?0:H<K?-1:1}(xh(y),xh(b));case"Array":return function(O,R){for(var H=O.length,K=R.length,ee=H<K?H:K,ie=0;ie<ee;++ie){var de=ft(O[ie],R[ie]);if(de!==0)return de}return H===K?0:H<K?-1:1}(y,b)}}catch{}return NaN}function Nl(y){var b=typeof y;return b!="object"?b:ArrayBuffer.isView(y)?"binary":(y=V(y),y==="ArrayBuffer"?"binary":y)}function xh(y){return y instanceof Uint8Array?y:ArrayBuffer.isView(y)?new Uint8Array(y.buffer,y.byteOffset,y.byteLength):new Uint8Array(y)}var vh=(Xt.prototype._trans=function(y,b,k){var T=this._tx||Ve.trans,O=this.name,R=Nn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(y==="readonly"?"read":"write"," ").concat(this.name));function H(ie,de,Y){if(!Y.schema[O])throw new Pe.NotFound("Table "+O+" not part of transaction");return b(Y.idbtrans,Y)}var K=X();try{var ee=T&&T.db._novip===this.db._novip?T===Ve.trans?T._promise(y,H,k):et(function(){return T._promise(y,H,k)},{trans:T,transless:Ve.transless||Ve}):function ie(de,Y,he,re){if(de.idbdb&&(de._state.openComplete||Ve.letThrough||de._vip)){var ce=de._createTransaction(Y,he,de._dbSchema);try{ce.create(),de._state.PR1398_maxLoop=3}catch(fe){return fe.name===Ye.InvalidState&&de.isOpen()&&0<--de._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),de.close({disableAutoOpen:!1}),de.open().then(function(){return ie(de,Y,he,re)})):$t(fe)}return ce._promise(Y,function(fe,ae){return et(function(){return Ve.trans=ce,re(fe,ae,ce)})}).then(function(fe){if(Y==="readwrite")try{ce.idbtrans.commit()}catch{}return Y==="readonly"?fe:ce._completion.then(function(){return fe})})}if(de._state.openComplete)return $t(new Pe.DatabaseClosed(de._state.dbOpenError));if(!de._state.isBeingOpened){if(!de._state.autoOpen)return $t(new Pe.DatabaseClosed);de.open().catch(Tt)}return de._state.dbReadyPromise.then(function(){return ie(de,Y,he,re)})}(this.db,y,[this.name],H);return R&&(ee._consoleTask=R,ee=ee.catch(function(ie){return console.trace(ie),$t(ie)})),ee}finally{K&&pe()}},Xt.prototype.get=function(y,b){var k=this;return y&&y.constructor===Object?this.where(y).first(b):y==null?$t(new Pe.Type("Invalid argument to Table.get()")):this._trans("readonly",function(T){return k.core.get({trans:T,key:y}).then(function(O){return k.hook.reading.fire(O)})}).then(b)},Xt.prototype.where=function(y){if(typeof y=="string")return new this.db.WhereClause(this,y);if(a(y))return new this.db.WhereClause(this,"[".concat(y.join("+"),"]"));var b=o(y);if(b.length===1)return this.where(b[0]).equals(y[b[0]]);var k=this.schema.indexes.concat(this.schema.primKey).filter(function(K){if(K.compound&&b.every(function(ie){return 0<=K.keyPath.indexOf(ie)})){for(var ee=0;ee<b.length;++ee)if(b.indexOf(K.keyPath[ee])===-1)return!1;return!0}return!1}).sort(function(K,ee){return K.keyPath.length-ee.keyPath.length})[0];if(k&&this.db._maxKey!==si){var R=k.keyPath.slice(0,b.length);return this.where(R).equals(R.map(function(ee){return y[ee]}))}!k&&Nn&&console.warn("The query ".concat(JSON.stringify(y)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(b.join("+"),"]"));var T=this.schema.idxByName;function O(K,ee){return ft(K,ee)===0}var H=b.reduce(function(Y,ee){var ie=Y[0],de=Y[1],Y=T[ee],he=y[ee];return[ie||Y,ie||!Y?Pr(de,Y&&Y.multi?function(re){return re=P(re,ee),a(re)&&re.some(function(ce){return O(he,ce)})}:function(re){return O(he,P(re,ee))}):de]},[null,null]),R=H[0],H=H[1];return R?this.where(R.name).equals(y[R.keyPath]).filter(H):k?this.filter(H):this.where(b).equals("")},Xt.prototype.filter=function(y){return this.toCollection().and(y)},Xt.prototype.count=function(y){return this.toCollection().count(y)},Xt.prototype.offset=function(y){return this.toCollection().offset(y)},Xt.prototype.limit=function(y){return this.toCollection().limit(y)},Xt.prototype.each=function(y){return this.toCollection().each(y)},Xt.prototype.toArray=function(y){return this.toCollection().toArray(y)},Xt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Xt.prototype.orderBy=function(y){return new this.db.Collection(new this.db.WhereClause(this,a(y)?"[".concat(y.join("+"),"]"):y))},Xt.prototype.reverse=function(){return this.toCollection().reverse()},Xt.prototype.mapToClass=function(y){var b,k=this.db,T=this.name;function O(){return b!==null&&b.apply(this,arguments)||this}(this.schema.mappedClass=y).prototype instanceof As&&(function(ee,ie){if(typeof ie!="function"&&ie!==null)throw new TypeError("Class extends value "+String(ie)+" is not a constructor or null");function de(){this.constructor=ee}n(ee,ie),ee.prototype=ie===null?Object.create(ie):(de.prototype=ie.prototype,new de)}(O,b=y),Object.defineProperty(O.prototype,"db",{get:function(){return k},enumerable:!1,configurable:!0}),O.prototype.table=function(){return T},y=O);for(var R=new Set,H=y.prototype;H;H=c(H))Object.getOwnPropertyNames(H).forEach(function(ee){return R.add(ee)});function K(ee){if(!ee)return ee;var ie,de=Object.create(y.prototype);for(ie in ee)if(!R.has(ie))try{de[ie]=ee[ie]}catch{}return de}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=K,this.hook("reading",K),y},Xt.prototype.defineClass=function(){return this.mapToClass(function(y){u(this,y)})},Xt.prototype.add=function(y,b){var k=this,T=this.schema.primKey,O=T.auto,R=T.keyPath,H=y;return R&&O&&(H=Bt(R)(y)),this._trans("readwrite",function(K){return k.core.mutate({trans:K,type:"add",keys:b!=null?[b]:null,values:[H]})}).then(function(K){return K.numFailures?qe.reject(K.failures[0]):K.lastResult}).then(function(K){if(R)try{D(y,R,K)}catch{}return K})},Xt.prototype.update=function(y,b){return typeof y!="object"||a(y)?this.where(":id").equals(y).modify(b):(y=P(y,this.schema.primKey.keyPath),y===void 0?$t(new Pe.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(y).modify(b))},Xt.prototype.put=function(y,b){var k=this,T=this.schema.primKey,O=T.auto,R=T.keyPath,H=y;return R&&O&&(H=Bt(R)(y)),this._trans("readwrite",function(K){return k.core.mutate({trans:K,type:"put",values:[H],keys:b!=null?[b]:null})}).then(function(K){return K.numFailures?qe.reject(K.failures[0]):K.lastResult}).then(function(K){if(R)try{D(y,R,K)}catch{}return K})},Xt.prototype.delete=function(y){var b=this;return this._trans("readwrite",function(k){return b.core.mutate({trans:k,type:"delete",keys:[y]})}).then(function(k){return k.numFailures?qe.reject(k.failures[0]):void 0})},Xt.prototype.clear=function(){var y=this;return this._trans("readwrite",function(b){return y.core.mutate({trans:b,type:"deleteRange",range:oi})}).then(function(b){return b.numFailures?qe.reject(b.failures[0]):void 0})},Xt.prototype.bulkGet=function(y){var b=this;return this._trans("readonly",function(k){return b.core.getMany({keys:y,trans:k}).then(function(T){return T.map(function(O){return b.hook.reading.fire(O)})})})},Xt.prototype.bulkAdd=function(y,b,k){var T=this,O=Array.isArray(b)?b:void 0,R=(k=k||(O?void 0:b))?k.allKeys:void 0;return this._trans("readwrite",function(H){var ie=T.schema.primKey,K=ie.auto,ie=ie.keyPath;if(ie&&O)throw new Pe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(O&&O.length!==y.length)throw new Pe.InvalidArgument("Arguments objects and keys must have the same length");var ee=y.length,ie=ie&&K?y.map(Bt(ie)):y;return T.core.mutate({trans:H,type:"add",keys:O,values:ie,wantResults:R}).then(function(ce){var Y=ce.numFailures,he=ce.results,re=ce.lastResult,ce=ce.failures;if(Y===0)return R?he:re;throw new Ee("".concat(T.name,".bulkAdd(): ").concat(Y," of ").concat(ee," operations failed"),ce)})})},Xt.prototype.bulkPut=function(y,b,k){var T=this,O=Array.isArray(b)?b:void 0,R=(k=k||(O?void 0:b))?k.allKeys:void 0;return this._trans("readwrite",function(H){var ie=T.schema.primKey,K=ie.auto,ie=ie.keyPath;if(ie&&O)throw new Pe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(O&&O.length!==y.length)throw new Pe.InvalidArgument("Arguments objects and keys must have the same length");var ee=y.length,ie=ie&&K?y.map(Bt(ie)):y;return T.core.mutate({trans:H,type:"put",keys:O,values:ie,wantResults:R}).then(function(ce){var Y=ce.numFailures,he=ce.results,re=ce.lastResult,ce=ce.failures;if(Y===0)return R?he:re;throw new Ee("".concat(T.name,".bulkPut(): ").concat(Y," of ").concat(ee," operations failed"),ce)})})},Xt.prototype.bulkUpdate=function(y){var b=this,k=this.core,T=y.map(function(H){return H.key}),O=y.map(function(H){return H.changes}),R=[];return this._trans("readwrite",function(H){return k.getMany({trans:H,keys:T,cache:"clone"}).then(function(K){var ee=[],ie=[];y.forEach(function(Y,he){var re=Y.key,ce=Y.changes,fe=K[he];if(fe){for(var ae=0,xe=Object.keys(ce);ae<xe.length;ae++){var we=xe[ae],Se=ce[we];if(we===b.schema.primKey.keyPath){if(ft(Se,re)!==0)throw new Pe.Constraint("Cannot update primary key in bulkUpdate()")}else D(fe,we,Se)}R.push(he),ee.push(re),ie.push(fe)}});var de=ee.length;return k.mutate({trans:H,type:"put",keys:ee,values:ie,updates:{keys:T,changeSpecs:O}}).then(function(Y){var he=Y.numFailures,re=Y.failures;if(he===0)return de;for(var ce=0,fe=Object.keys(re);ce<fe.length;ce++){var ae,xe=fe[ce],we=R[Number(xe)];we!=null&&(ae=re[xe],delete re[xe],re[we]=ae)}throw new Ee("".concat(b.name,".bulkUpdate(): ").concat(he," of ").concat(de," operations failed"),re)})})})},Xt.prototype.bulkDelete=function(y){var b=this,k=y.length;return this._trans("readwrite",function(T){return b.core.mutate({trans:T,type:"delete",keys:y})}).then(function(H){var O=H.numFailures,R=H.lastResult,H=H.failures;if(O===0)return R;throw new Ee("".concat(b.name,".bulkDelete(): ").concat(O," of ").concat(k," operations failed"),H)})},Xt);function Xt(){}function fs(y){function b(H,K){if(K){for(var ee=arguments.length,ie=new Array(ee-1);--ee;)ie[ee-1]=arguments[ee];return k[H].subscribe.apply(null,ie),y}if(typeof H=="string")return k[H]}var k={};b.addEventType=R;for(var T=1,O=arguments.length;T<O;++T)R(arguments[T]);return b;function R(H,K,ee){if(typeof H!="object"){var ie;K=K||cs;var de={subscribers:[],fire:ee=ee||Tt,subscribe:function(Y){de.subscribers.indexOf(Y)===-1&&(de.subscribers.push(Y),de.fire=K(de.fire,Y))},unsubscribe:function(Y){de.subscribers=de.subscribers.filter(function(he){return he!==Y}),de.fire=de.subscribers.reduce(K,ee)}};return k[H]=b[H]=de}o(ie=H).forEach(function(Y){var he=ie[Y];if(a(he))R(Y,ie[Y][0],ie[Y][1]);else{if(he!=="asap")throw new Pe.InvalidArgument("Invalid event config");var re=R(Y,pn,function(){for(var ce=arguments.length,fe=new Array(ce);ce--;)fe[ce]=arguments[ce];re.subscribers.forEach(function(ae){U(function(){ae.apply(null,fe)})})})}})}}function Hi(y,b){return _(b).from({prototype:y}),b}function Qi(y,b){return!(y.filter||y.algorithm||y.or)&&(b?y.justLimit:!y.replayFilter)}function cc(y,b){y.filter=Pr(y.filter,b)}function dc(y,b,k){var T=y.replayFilter;y.replayFilter=T?function(){return Pr(T(),b())}:b,y.justLimit=k&&!T}function yo(y,b){if(y.isPrimKey)return b.primaryKey;var k=b.getIndexByKeyPath(y.index);if(!k)throw new Pe.Schema("KeyPath "+y.index+" on object store "+b.name+" is not indexed");return k}function hc(y,b,k){var T=yo(y,b.schema);return b.openCursor({trans:k,values:!y.keysOnly,reverse:y.dir==="prev",unique:!!y.unique,query:{index:T,range:y.range}})}function xo(y,b,k,T){var O=y.replayFilter?Pr(y.filter,y.replayFilter()):y.filter;if(y.or){var R={},H=function(K,ee,ie){var de,Y;O&&!O(ee,ie,function(he){return ee.stop(he)},function(he){return ee.fail(he)})||((Y=""+(de=ee.primaryKey))=="[object ArrayBuffer]"&&(Y=""+new Uint8Array(de)),p(R,Y)||(R[Y]=!0,b(K,ee,ie)))};return Promise.all([y.or._iterate(H,k),vo(hc(y,T,k),y.algorithm,H,!y.keysOnly&&y.valueMapper)])}return vo(hc(y,T,k),Pr(y.algorithm,O),b,!y.keysOnly&&y.valueMapper)}function vo(y,b,k,T){var O=Te(T?function(R,H,K){return k(T(R),H,K)}:k);return y.then(function(R){if(R)return R.start(function(){var H=function(){return R.continue()};b&&!b(R,function(K){return H=K},function(K){R.stop(K),H=Tt},function(K){R.fail(K),H=Tt})||O(R.value,R,function(K){return H=K}),H()})})}var pa=(Pl.prototype.execute=function(y){var b=this["@@propmod"];if(b.add!==void 0){var k=b.add;if(a(k))return i(i([],a(y)?y:[],!0),k).sort();if(typeof k=="number")return(Number(y)||0)+k;if(typeof k=="bigint")try{return BigInt(y)+k}catch{return BigInt(0)+k}throw new TypeError("Invalid term ".concat(k))}if(b.remove!==void 0){var T=b.remove;if(a(T))return a(y)?y.filter(function(O){return!T.includes(O)}).sort():[];if(typeof T=="number")return Number(y)-T;if(typeof T=="bigint")try{return BigInt(y)-T}catch{return BigInt(0)-T}throw new TypeError("Invalid subtrahend ".concat(T))}return k=(k=b.replacePrefix)===null||k===void 0?void 0:k[0],k&&typeof y=="string"&&y.startsWith(k)?b.replacePrefix[1]+y.substring(k.length):y},Pl);function Pl(y){this["@@propmod"]=y}var Yt=(zt.prototype._read=function(y,b){var k=this._ctx;return k.error?k.table._trans(null,$t.bind(null,k.error)):k.table._trans("readonly",y).then(b)},zt.prototype._write=function(y){var b=this._ctx;return b.error?b.table._trans(null,$t.bind(null,b.error)):b.table._trans("readwrite",y,"locked")},zt.prototype._addAlgorithm=function(y){var b=this._ctx;b.algorithm=Pr(b.algorithm,y)},zt.prototype._iterate=function(y,b){return xo(this._ctx,y,b,this._ctx.table.core)},zt.prototype.clone=function(y){var b=Object.create(this.constructor.prototype),k=Object.create(this._ctx);return y&&u(k,y),b._ctx=k,b},zt.prototype.raw=function(){return this._ctx.valueMapper=null,this},zt.prototype.each=function(y){var b=this._ctx;return this._read(function(k){return xo(b,y,k,b.table.core)})},zt.prototype.count=function(y){var b=this;return this._read(function(k){var T=b._ctx,O=T.table.core;if(Qi(T,!0))return O.count({trans:k,query:{index:yo(T,O.schema),range:T.range}}).then(function(H){return Math.min(H,T.limit)});var R=0;return xo(T,function(){return++R,!1},k,O).then(function(){return R})}).then(y)},zt.prototype.sortBy=function(y,b){var k=y.split(".").reverse(),T=k[0],O=k.length-1;function R(ee,ie){return ie?R(ee[k[ie]],ie-1):ee[T]}var H=this._ctx.dir==="next"?1:-1;function K(ee,ie){return ft(R(ee,O),R(ie,O))*H}return this.toArray(function(ee){return ee.sort(K)}).then(b)},zt.prototype.toArray=function(y){var b=this;return this._read(function(k){var T=b._ctx;if(T.dir==="next"&&Qi(T,!0)&&0<T.limit){var O=T.valueMapper,R=yo(T,T.table.core.schema);return T.table.core.query({trans:k,limit:T.limit,values:!0,query:{index:R,range:T.range}}).then(function(K){return K=K.result,O?K.map(O):K})}var H=[];return xo(T,function(K){return H.push(K)},k,T.table.core).then(function(){return H})},y)},zt.prototype.offset=function(y){var b=this._ctx;return y<=0||(b.offset+=y,Qi(b)?dc(b,function(){var k=y;return function(T,O){return k===0||(k===1?--k:O(function(){T.advance(k),k=0}),!1)}}):dc(b,function(){var k=y;return function(){return--k<0}})),this},zt.prototype.limit=function(y){return this._ctx.limit=Math.min(this._ctx.limit,y),dc(this._ctx,function(){var b=y;return function(k,T,O){return--b<=0&&T(O),0<=b}},!0),this},zt.prototype.until=function(y,b){return cc(this._ctx,function(k,T,O){return!y(k.value)||(T(O),b)}),this},zt.prototype.first=function(y){return this.limit(1).toArray(function(b){return b[0]}).then(y)},zt.prototype.last=function(y){return this.reverse().first(y)},zt.prototype.filter=function(y){var b;return cc(this._ctx,function(k){return y(k.value)}),(b=this._ctx).isMatch=Pr(b.isMatch,y),this},zt.prototype.and=function(y){return this.filter(y)},zt.prototype.or=function(y){return new this.db.WhereClause(this._ctx.table,y,this)},zt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},zt.prototype.desc=function(){return this.reverse()},zt.prototype.eachKey=function(y){var b=this._ctx;return b.keysOnly=!b.isMatch,this.each(function(k,T){y(T.key,T)})},zt.prototype.eachUniqueKey=function(y){return this._ctx.unique="unique",this.eachKey(y)},zt.prototype.eachPrimaryKey=function(y){var b=this._ctx;return b.keysOnly=!b.isMatch,this.each(function(k,T){y(T.primaryKey,T)})},zt.prototype.keys=function(y){var b=this._ctx;b.keysOnly=!b.isMatch;var k=[];return this.each(function(T,O){k.push(O.key)}).then(function(){return k}).then(y)},zt.prototype.primaryKeys=function(y){var b=this._ctx;if(b.dir==="next"&&Qi(b,!0)&&0<b.limit)return this._read(function(T){var O=yo(b,b.table.core.schema);return b.table.core.query({trans:T,values:!1,limit:b.limit,query:{index:O,range:b.range}})}).then(function(T){return T.result}).then(y);b.keysOnly=!b.isMatch;var k=[];return this.each(function(T,O){k.push(O.primaryKey)}).then(function(){return k}).then(y)},zt.prototype.uniqueKeys=function(y){return this._ctx.unique="unique",this.keys(y)},zt.prototype.firstKey=function(y){return this.limit(1).keys(function(b){return b[0]}).then(y)},zt.prototype.lastKey=function(y){return this.reverse().firstKey(y)},zt.prototype.distinct=function(){var y=this._ctx,y=y.index&&y.table.schema.idxByName[y.index];if(!y||!y.multi)return this;var b={};return cc(this._ctx,function(O){var T=O.primaryKey.toString(),O=p(b,T);return b[T]=!0,!O}),this},zt.prototype.modify=function(y){var b=this,k=this._ctx;return this._write(function(T){var O,R,H;H=typeof y=="function"?y:(O=o(y),R=O.length,function(ae){for(var xe=!1,we=0;we<R;++we){var Se=O[we],ke=y[Se],Re=P(ae,Se);ke instanceof pa?(D(ae,Se,ke.execute(Re)),xe=!0):Re!==ke&&(D(ae,Se,ke),xe=!0)}return xe});var K=k.table.core,Y=K.schema.primaryKey,ee=Y.outbound,ie=Y.extractKey,de=200,Y=b.db._options.modifyChunkSize;Y&&(de=typeof Y=="object"?Y[K.name]||Y["*"]||200:Y);function he(ae,Se){var we=Se.failures,Se=Se.numFailures;ce+=ae-Se;for(var ke=0,Re=o(we);ke<Re.length;ke++){var Ue=Re[ke];re.push(we[Ue])}}var re=[],ce=0,fe=[];return b.clone().primaryKeys().then(function(ae){function xe(Se){var ke=Math.min(de,ae.length-Se);return K.getMany({trans:T,keys:ae.slice(Se,Se+ke),cache:"immutable"}).then(function(Re){for(var Ue=[],Ie=[],Be=ee?[]:null,Qe=[],ze=0;ze<ke;++ze){var Ge=Re[ze],yt={value:ue(Ge),primKey:ae[Se+ze]};H.call(yt,yt.value,yt)!==!1&&(yt.value==null?Qe.push(ae[Se+ze]):ee||ft(ie(Ge),ie(yt.value))===0?(Ie.push(yt.value),ee&&Be.push(ae[Se+ze])):(Qe.push(ae[Se+ze]),Ue.push(yt.value)))}return Promise.resolve(0<Ue.length&&K.mutate({trans:T,type:"add",values:Ue}).then(function(bt){for(var kt in bt.failures)Qe.splice(parseInt(kt),1);he(Ue.length,bt)})).then(function(){return(0<Ie.length||we&&typeof y=="object")&&K.mutate({trans:T,type:"put",keys:Be,values:Ie,criteria:we,changeSpec:typeof y!="function"&&y,isAdditionalChunk:0<Se}).then(function(bt){return he(Ie.length,bt)})}).then(function(){return(0<Qe.length||we&&y===Ol)&&K.mutate({trans:T,type:"delete",keys:Qe,criteria:we,isAdditionalChunk:0<Se}).then(function(bt){return he(Qe.length,bt)})}).then(function(){return ae.length>Se+ke&&xe(Se+de)})})}var we=Qi(k)&&k.limit===1/0&&(typeof y!="function"||y===Ol)&&{index:k.index,range:k.range};return xe(0).then(function(){if(0<re.length)throw new je("Error modifying one or more objects",re,ce,fe);return ae.length})})})},zt.prototype.delete=function(){var y=this._ctx,b=y.range;return Qi(y)&&(y.isPrimKey||b.type===3)?this._write(function(k){var T=y.table.core.schema.primaryKey,O=b;return y.table.core.count({trans:k,query:{index:T,range:O}}).then(function(R){return y.table.core.mutate({trans:k,type:"deleteRange",range:O}).then(function(H){var K=H.failures;if(H.lastResult,H.results,H=H.numFailures,H)throw new je("Could not delete some values",Object.keys(K).map(function(ee){return K[ee]}),R-H);return R-H})})}):this.modify(Ol)},zt);function zt(){}var Ol=function(y,b){return b.value=null};function fc(y,b){return y<b?-1:y===b?0:1}function bh(y,b){return b<y?-1:y===b?0:1}function hr(y,b,k){return y=y instanceof qi?new y.Collection(y):y,y._ctx.error=new(k||TypeError)(b),y}function Ms(y){return new y.Collection(y,function(){return Vi("")}).limit(0)}function bo(y,b,k,T){var O,R,H,K,ee,ie,de,Y=k.length;if(!k.every(function(ce){return typeof ce=="string"}))return hr(y,wi);function he(ce){O=ce==="next"?function(ae){return ae.toUpperCase()}:function(ae){return ae.toLowerCase()},R=ce==="next"?function(ae){return ae.toLowerCase()}:function(ae){return ae.toUpperCase()},H=ce==="next"?fc:bh;var fe=k.map(function(ae){return{lower:R(ae),upper:O(ae)}}).sort(function(ae,xe){return H(ae.lower,xe.lower)});K=fe.map(function(ae){return ae.upper}),ee=fe.map(function(ae){return ae.lower}),de=(ie=ce)==="next"?"":T}he("next"),y=new y.Collection(y,function(){return ai(K[0],ee[Y-1]+T)}),y._ondirectionchange=function(ce){he(ce)};var re=0;return y._addAlgorithm(function(ce,fe,ae){var xe=ce.key;if(typeof xe!="string")return!1;var we=R(xe);if(b(we,ee,re))return!0;for(var Se=null,ke=re;ke<Y;++ke){var Re=function(Ue,Ie,Be,Qe,ze,Ge){for(var yt=Math.min(Ue.length,Qe.length),bt=-1,kt=0;kt<yt;++kt){var pr=Ie[kt];if(pr!==Qe[kt])return ze(Ue[kt],Be[kt])<0?Ue.substr(0,kt)+Be[kt]+Be.substr(kt+1):ze(Ue[kt],Qe[kt])<0?Ue.substr(0,kt)+Qe[kt]+Be.substr(kt+1):0<=bt?Ue.substr(0,bt)+Ie[bt]+Be.substr(bt+1):null;ze(Ue[kt],pr)<0&&(bt=kt)}return yt<Qe.length&&Ge==="next"?Ue+Be.substr(Ue.length):yt<Ue.length&&Ge==="prev"?Ue.substr(0,Be.length):bt<0?null:Ue.substr(0,bt)+Qe[bt]+Be.substr(bt+1)}(xe,we,K[ke],ee[ke],H,ie);Re===null&&Se===null?re=ke+1:(Se===null||0<H(Se,Re))&&(Se=Re)}return fe(Se!==null?function(){ce.continue(Se+de)}:ae),!1}),y}function ai(y,b,k,T){return{type:2,lower:y,upper:b,lowerOpen:k,upperOpen:T}}function Vi(y){return{type:1,lower:y,upper:y}}var qi=(Object.defineProperty(tn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),tn.prototype.between=function(y,b,k,T){k=k!==!1,T=T===!0;try{return 0<this._cmp(y,b)||this._cmp(y,b)===0&&(k||T)&&(!k||!T)?Ms(this):new this.Collection(this,function(){return ai(y,b,!k,!T)})}catch{return hr(this,Lt)}},tn.prototype.equals=function(y){return y==null?hr(this,Lt):new this.Collection(this,function(){return Vi(y)})},tn.prototype.above=function(y){return y==null?hr(this,Lt):new this.Collection(this,function(){return ai(y,void 0,!0)})},tn.prototype.aboveOrEqual=function(y){return y==null?hr(this,Lt):new this.Collection(this,function(){return ai(y,void 0,!1)})},tn.prototype.below=function(y){return y==null?hr(this,Lt):new this.Collection(this,function(){return ai(void 0,y,!1,!0)})},tn.prototype.belowOrEqual=function(y){return y==null?hr(this,Lt):new this.Collection(this,function(){return ai(void 0,y)})},tn.prototype.startsWith=function(y){return typeof y!="string"?hr(this,wi):this.between(y,y+si,!0,!0)},tn.prototype.startsWithIgnoreCase=function(y){return y===""?this.startsWith(y):bo(this,function(b,k){return b.indexOf(k[0])===0},[y],si)},tn.prototype.equalsIgnoreCase=function(y){return bo(this,function(b,k){return b===k[0]},[y],"")},tn.prototype.anyOfIgnoreCase=function(){var y=I.apply(me,arguments);return y.length===0?Ms(this):bo(this,function(b,k){return k.indexOf(b)!==-1},y,"")},tn.prototype.startsWithAnyOfIgnoreCase=function(){var y=I.apply(me,arguments);return y.length===0?Ms(this):bo(this,function(b,k){return k.some(function(T){return b.indexOf(T)===0})},y,si)},tn.prototype.anyOf=function(){var y=this,b=I.apply(me,arguments),k=this._cmp;try{b.sort(k)}catch{return hr(this,Lt)}if(b.length===0)return Ms(this);var T=new this.Collection(this,function(){return ai(b[0],b[b.length-1])});T._ondirectionchange=function(R){k=R==="next"?y._ascending:y._descending,b.sort(k)};var O=0;return T._addAlgorithm(function(R,H,K){for(var ee=R.key;0<k(ee,b[O]);)if(++O===b.length)return H(K),!1;return k(ee,b[O])===0||(H(function(){R.continue(b[O])}),!1)}),T},tn.prototype.notEqual=function(y){return this.inAnyRange([[-1/0,y],[y,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},tn.prototype.noneOf=function(){var y=I.apply(me,arguments);if(y.length===0)return new this.Collection(this);try{y.sort(this._ascending)}catch{return hr(this,Lt)}var b=y.reduce(function(k,T){return k?k.concat([[k[k.length-1][1],T]]):[[-1/0,T]]},null);return b.push([y[y.length-1],this.db._maxKey]),this.inAnyRange(b,{includeLowers:!1,includeUppers:!1})},tn.prototype.inAnyRange=function(xe,b){var k=this,T=this._cmp,O=this._ascending,R=this._descending,H=this._min,K=this._max;if(xe.length===0)return Ms(this);if(!xe.every(function(we){return we[0]!==void 0&&we[1]!==void 0&&O(we[0],we[1])<=0}))return hr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Pe.InvalidArgument);var ee=!b||b.includeLowers!==!1,ie=b&&b.includeUppers===!0,de,Y=O;function he(we,Se){return Y(we[0],Se[0])}try{(de=xe.reduce(function(we,Se){for(var ke=0,Re=we.length;ke<Re;++ke){var Ue=we[ke];if(T(Se[0],Ue[1])<0&&0<T(Se[1],Ue[0])){Ue[0]=H(Ue[0],Se[0]),Ue[1]=K(Ue[1],Se[1]);break}}return ke===Re&&we.push(Se),we},[])).sort(he)}catch{return hr(this,Lt)}var re=0,ce=ie?function(we){return 0<O(we,de[re][1])}:function(we){return 0<=O(we,de[re][1])},fe=ee?function(we){return 0<R(we,de[re][0])}:function(we){return 0<=R(we,de[re][0])},ae=ce,xe=new this.Collection(this,function(){return ai(de[0][0],de[de.length-1][1],!ee,!ie)});return xe._ondirectionchange=function(we){Y=we==="next"?(ae=ce,O):(ae=fe,R),de.sort(he)},xe._addAlgorithm(function(we,Se,ke){for(var Re,Ue=we.key;ae(Ue);)if(++re===de.length)return Se(ke),!1;return!ce(Re=Ue)&&!fe(Re)||(k._cmp(Ue,de[re][1])===0||k._cmp(Ue,de[re][0])===0||Se(function(){Y===O?we.continue(de[re][0]):we.continue(de[re][1])}),!1)}),xe},tn.prototype.startsWithAnyOf=function(){var y=I.apply(me,arguments);return y.every(function(b){return typeof b=="string"})?y.length===0?Ms(this):this.inAnyRange(y.map(function(b){return[b,b+si]})):hr(this,"startsWithAnyOf() only works with strings")},tn);function tn(){}function fr(y){return Te(function(b){return Wi(b),y(b.target.error),!1})}function Wi(y){y.stopPropagation&&y.stopPropagation(),y.preventDefault&&y.preventDefault()}var zr="storagemutated",pc="x-storagemutated-1",Ki=fs(null,zr),ma=(Si.prototype._lock=function(){return B(!Ve.global),++this._reculock,this._reculock!==1||Ve.global||(Ve.lockOwnerFor=this),this},Si.prototype._unlock=function(){if(B(!Ve.global),--this._reculock==0)for(Ve.global||(Ve.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var y=this._blockedFuncs.shift();try{Xn(y[1],y[0])}catch{}}return this},Si.prototype._locked=function(){return this._reculock&&Ve.lockOwnerFor!==this},Si.prototype.create=function(y){var b=this;if(!this.mode)return this;var k=this.db.idbdb,T=this.db._state.dbOpenError;if(B(!this.idbtrans),!y&&!k)switch(T&&T.name){case"DatabaseClosedError":throw new Pe.DatabaseClosed(T);case"MissingAPIError":throw new Pe.MissingAPI(T.message,T);default:throw new Pe.OpenFailed(T)}if(!this.active)throw new Pe.TransactionInactive;return B(this._completion._state===null),(y=this.idbtrans=y||(this.db.core||k).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Te(function(O){Wi(O),b._reject(y.error)}),y.onabort=Te(function(O){Wi(O),b.active&&b._reject(new Pe.Abort(y.error)),b.active=!1,b.on("abort").fire(O)}),y.oncomplete=Te(function(){b.active=!1,b._resolve(),"mutatedParts"in y&&Ki.storagemutated.fire(y.mutatedParts)}),this},Si.prototype._promise=function(y,b,k){var T=this;if(y==="readwrite"&&this.mode!=="readwrite")return $t(new Pe.ReadOnly("Transaction is readonly"));if(!this.active)return $t(new Pe.TransactionInactive);if(this._locked())return new qe(function(R,H){T._blockedFuncs.push([function(){T._promise(y,b,k).then(R,H)},Ve])});if(k)return et(function(){var R=new qe(function(H,K){T._lock();var ee=b(H,K,T);ee&&ee.then&&ee.then(H,K)});return R.finally(function(){return T._unlock()}),R._lib=!0,R});var O=new qe(function(R,H){var K=b(R,H,T);K&&K.then&&K.then(R,H)});return O._lib=!0,O},Si.prototype._root=function(){return this.parent?this.parent._root():this},Si.prototype.waitFor=function(y){var b,k=this._root(),T=qe.resolve(y);k._waitingFor?k._waitingFor=k._waitingFor.then(function(){return T}):(k._waitingFor=T,k._waitingQueue=[],b=k.idbtrans.objectStore(k.storeNames[0]),function R(){for(++k._spinCount;k._waitingQueue.length;)k._waitingQueue.shift()();k._waitingFor&&(b.get(-1/0).onsuccess=R)}());var O=k._waitingFor;return new qe(function(R,H){T.then(function(K){return k._waitingQueue.push(Te(R.bind(null,K)))},function(K){return k._waitingQueue.push(Te(H.bind(null,K)))}).finally(function(){k._waitingFor===O&&(k._waitingFor=null)})})},Si.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Pe.Abort))},Si.prototype.table=function(y){var b=this._memoizedTables||(this._memoizedTables={});if(p(b,y))return b[y];var k=this.schema[y];if(!k)throw new Pe.NotFound("Table "+y+" not part of transaction");return k=new this.db.Table(y,k,this),k.core=this.db.core.table(y),b[y]=k},Si);function Si(){}function Ll(y,b,k,T,O,R,H){return{name:y,keyPath:b,unique:k,multi:T,auto:O,compound:R,src:(k&&!H?"&":"")+(T?"*":"")+(O?"++":"")+ga(b)}}function ga(y){return typeof y=="string"?y:y?"["+[].join.call(y,"+")+"]":""}function Al(y,b,k){return{name:y,primKey:b,indexes:k,mappedClass:null,idxByName:(T=function(O){return[O.name,O]},k.reduce(function(O,R,H){return H=T(R,H),H&&(O[H[0]]=H[1]),O},{}))};var T}var ya=function(y){try{return y.only([[]]),ya=function(){return[[]]},[[]]}catch{return ya=function(){return si},si}};function Rs(y){return y==null?function(){}:typeof y=="string"?(b=y).split(".").length===1?function(k){return k[b]}:function(k){return P(k,b)}:function(k){return P(k,y)};var b}function wo(y){return[].slice.call(y)}var _o=0;function ps(y){return y==null?":id":typeof y=="string"?y:"[".concat(y.join("+"),"]")}function Vm(y,b,ee){function T(ae){if(ae.type===3)return null;if(ae.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var re=ae.lower,ce=ae.upper,fe=ae.lowerOpen,ae=ae.upperOpen;return re===void 0?ce===void 0?null:b.upperBound(ce,!!ae):ce===void 0?b.lowerBound(re,!!fe):b.bound(re,ce,!!fe,!!ae)}function O(he){var re,ce=he.name;return{name:ce,schema:he,mutate:function(fe){var ae=fe.trans,xe=fe.type,we=fe.keys,Se=fe.values,ke=fe.range;return new Promise(function(Re,Ue){Re=Te(Re);var Ie=ae.objectStore(ce),Be=Ie.keyPath==null,Qe=xe==="put"||xe==="add";if(!Qe&&xe!=="delete"&&xe!=="deleteRange")throw new Error("Invalid operation type: "+xe);var ze,Ge=(we||Se||{length:1}).length;if(we&&Se&&we.length!==Se.length)throw new Error("Given keys array must have same length as given values array.");if(Ge===0)return Re({numFailures:0,failures:{},results:[],lastResult:void 0});function yt(yn){++pr,Wi(yn)}var bt=[],kt=[],pr=0;if(xe==="deleteRange"){if(ke.type===4)return Re({numFailures:pr,failures:kt,results:[],lastResult:void 0});ke.type===3?bt.push(ze=Ie.clear()):bt.push(ze=Ie.delete(T(ke)))}else{var Be=Qe?Be?[Se,we]:[Se,null]:[we,null],gt=Be[0],Un=Be[1];if(Qe)for(var Hn=0;Hn<Ge;++Hn)bt.push(ze=Un&&Un[Hn]!==void 0?Ie[xe](gt[Hn],Un[Hn]):Ie[xe](gt[Hn])),ze.onerror=yt;else for(Hn=0;Hn<Ge;++Hn)bt.push(ze=Ie[xe](gt[Hn])),ze.onerror=yt}function Ea(yn){yn=yn.target.result,bt.forEach(function(Gi,Ta){return Gi.error!=null&&(kt[Ta]=Gi.error)}),Re({numFailures:pr,failures:kt,results:xe==="delete"?we:bt.map(function(Gi){return Gi.result}),lastResult:yn})}ze.onerror=function(yn){yt(yn),Ea(yn)},ze.onsuccess=Ea})},getMany:function(fe){var ae=fe.trans,xe=fe.keys;return new Promise(function(we,Se){we=Te(we);for(var ke,Re=ae.objectStore(ce),Ue=xe.length,Ie=new Array(Ue),Be=0,Qe=0,ze=function(bt){bt=bt.target,Ie[bt._pos]=bt.result,++Qe===Be&&we(Ie)},Ge=fr(Se),yt=0;yt<Ue;++yt)xe[yt]!=null&&((ke=Re.get(xe[yt]))._pos=yt,ke.onsuccess=ze,ke.onerror=Ge,++Be);Be===0&&we(Ie)})},get:function(fe){var ae=fe.trans,xe=fe.key;return new Promise(function(we,Se){we=Te(we);var ke=ae.objectStore(ce).get(xe);ke.onsuccess=function(Re){return we(Re.target.result)},ke.onerror=fr(Se)})},query:(re=ie,function(fe){return new Promise(function(ae,xe){ae=Te(ae);var we,Se,ke,Be=fe.trans,Re=fe.values,Ue=fe.limit,ze=fe.query,Ie=Ue===1/0?void 0:Ue,Qe=ze.index,ze=ze.range,Be=Be.objectStore(ce),Qe=Qe.isPrimaryKey?Be:Be.index(Qe.name),ze=T(ze);if(Ue===0)return ae({result:[]});re?((Ie=Re?Qe.getAll(ze,Ie):Qe.getAllKeys(ze,Ie)).onsuccess=function(Ge){return ae({result:Ge.target.result})},Ie.onerror=fr(xe)):(we=0,Se=!Re&&"openKeyCursor"in Qe?Qe.openKeyCursor(ze):Qe.openCursor(ze),ke=[],Se.onsuccess=function(Ge){var yt=Se.result;return yt?(ke.push(Re?yt.value:yt.primaryKey),++we===Ue?ae({result:ke}):void yt.continue()):ae({result:ke})},Se.onerror=fr(xe))})}),openCursor:function(fe){var ae=fe.trans,xe=fe.values,we=fe.query,Se=fe.reverse,ke=fe.unique;return new Promise(function(Re,Ue){Re=Te(Re);var Qe=we.index,Ie=we.range,Be=ae.objectStore(ce),Be=Qe.isPrimaryKey?Be:Be.index(Qe.name),Qe=Se?ke?"prevunique":"prev":ke?"nextunique":"next",ze=!xe&&"openKeyCursor"in Be?Be.openKeyCursor(T(Ie),Qe):Be.openCursor(T(Ie),Qe);ze.onerror=fr(Ue),ze.onsuccess=Te(function(Ge){var yt,bt,kt,pr,gt=ze.result;gt?(gt.___id=++_o,gt.done=!1,yt=gt.continue.bind(gt),bt=(bt=gt.continuePrimaryKey)&&bt.bind(gt),kt=gt.advance.bind(gt),pr=function(){throw new Error("Cursor not stopped")},gt.trans=ae,gt.stop=gt.continue=gt.continuePrimaryKey=gt.advance=function(){throw new Error("Cursor not started")},gt.fail=Te(Ue),gt.next=function(){var Un=this,Hn=1;return this.start(function(){return Hn--?Un.continue():Un.stop()}).then(function(){return Un})},gt.start=function(Un){function Hn(){if(ze.result)try{Un()}catch(yn){gt.fail(yn)}else gt.done=!0,gt.start=function(){throw new Error("Cursor behind last entry")},gt.stop()}var Ea=new Promise(function(yn,Gi){yn=Te(yn),ze.onerror=fr(Gi),gt.fail=Gi,gt.stop=function(Ta){gt.stop=gt.continue=gt.continuePrimaryKey=gt.advance=pr,yn(Ta)}});return ze.onsuccess=Te(function(yn){ze.onsuccess=Hn,Hn()}),gt.continue=yt,gt.continuePrimaryKey=bt,gt.advance=kt,Hn(),Ea},Re(gt)):Re(null)},Ue)})},count:function(fe){var ae=fe.query,xe=fe.trans,we=ae.index,Se=ae.range;return new Promise(function(ke,Re){var Ue=xe.objectStore(ce),Ie=we.isPrimaryKey?Ue:Ue.index(we.name),Ue=T(Se),Ie=Ue?Ie.count(Ue):Ie.count();Ie.onsuccess=Te(function(Be){return ke(Be.target.result)}),Ie.onerror=fr(Re)})}}}var R,H,K,de=(H=ee,K=wo((R=y).objectStoreNames),{schema:{name:R.name,tables:K.map(function(he){return H.objectStore(he)}).map(function(he){var re=he.keyPath,ae=he.autoIncrement,ce=a(re),fe={},ae={name:he.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:re==null,compound:ce,keyPath:re,autoIncrement:ae,unique:!0,extractKey:Rs(re)},indexes:wo(he.indexNames).map(function(xe){return he.index(xe)}).map(function(ke){var we=ke.name,Se=ke.unique,Re=ke.multiEntry,ke=ke.keyPath,Re={name:we,compound:a(ke),keyPath:ke,unique:Se,multiEntry:Re,extractKey:Rs(ke)};return fe[ps(ke)]=Re}),getIndexByKeyPath:function(xe){return fe[ps(xe)]}};return fe[":id"]=ae.primaryKey,re!=null&&(fe[ps(re)]=ae.primaryKey),ae})},hasGetAll:0<K.length&&"getAll"in H.objectStore(K[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),ee=de.schema,ie=de.hasGetAll,de=ee.tables.map(O),Y={};return de.forEach(function(he){return Y[he.name]=he}),{stack:"dbcore",transaction:y.transaction.bind(y),table:function(he){if(!Y[he])throw new Error("Table '".concat(he,"' not found"));return Y[he]},MIN_KEY:-1/0,MAX_KEY:ya(b),schema:ee}}function qm(y,b,k,T){var O=k.IDBKeyRange;return k.indexedDB,{dbcore:(T=Vm(b,O,T),y.dbcore.reduce(function(R,H){return H=H.create,r(r({},R),H(R))},T))}}function So(y,T){var k=T.db,T=qm(y._middlewares,k,y._deps,T);y.core=T.dbcore,y.tables.forEach(function(O){var R=O.name;y.core.schema.tables.some(function(H){return H.name===R})&&(O.core=y.core.table(R),y[R]instanceof y.Table&&(y[R].core=O.core))})}function Is(y,b,k,T){k.forEach(function(O){var R=T[O];b.forEach(function(H){var K=function ee(ie,de){return C(ie,de)||(ie=c(ie))&&ee(ie,de)}(H,O);(!K||"value"in K&&K.value===void 0)&&(H===y.Transaction.prototype||H instanceof y.Transaction?w(H,O,{get:function(){return this.table(O)},set:function(ee){v(this,O,{value:ee,writable:!0,configurable:!0,enumerable:!0})}}):H[O]=new y.Table(O,R))})})}function xa(y,b){b.forEach(function(k){for(var T in k)k[T]instanceof y.Table&&delete k[T]})}function wh(y,b){return y._cfg.version-b._cfg.version}function ms(y,b,k,T){var O=y._dbSchema;k.objectStoreNames.contains("$meta")&&!O.$meta&&(O.$meta=Al("$meta",Fs("")[0],[]),y._storeNames.push("$meta"));var R=y._createTransaction("readwrite",y._storeNames,O);R.create(k),R._completion.catch(T);var H=R._reject.bind(R),K=Ve.transless||Ve;et(function(){return Ve.trans=R,Ve.transless=K,b!==0?(So(y,k),ie=b,((ee=R).storeNames.includes("$meta")?ee.table("$meta").get("version").then(function(de){return de??ie}):qe.resolve(ie)).then(function(de){return he=de,re=R,ce=k,fe=[],de=(Y=y)._versions,ae=Y._dbSchema=ba(0,Y.idbdb,ce),(de=de.filter(function(xe){return xe._cfg.version>=he})).length!==0?(de.forEach(function(xe){fe.push(function(){var we=ae,Se=xe._cfg.dbschema;Jn(Y,we,ce),Jn(Y,Se,ce),ae=Y._dbSchema=Se;var ke=Co(we,Se);ke.add.forEach(function(Qe){Ml(ce,Qe[0],Qe[1].primKey,Qe[1].indexes)}),ke.change.forEach(function(Qe){if(Qe.recreate)throw new Pe.Upgrade("Not yet support for changing primary key");var ze=ce.objectStore(Qe.name);Qe.add.forEach(function(Ge){return Ds(ze,Ge)}),Qe.change.forEach(function(Ge){ze.deleteIndex(Ge.name),Ds(ze,Ge)}),Qe.del.forEach(function(Ge){return ze.deleteIndex(Ge)})});var Re=xe._cfg.contentUpgrade;if(Re&&xe._cfg.version>he){So(Y,ce),re._memoizedTables={};var Ue=z(Se);ke.del.forEach(function(Qe){Ue[Qe]=we[Qe]}),xa(Y,[Y.Transaction.prototype]),Is(Y,[Y.Transaction.prototype],o(Ue),Ue),re.schema=Ue;var Ie,Be=G(Re);return Be&&_t(),ke=qe.follow(function(){var Qe;(Ie=Re(re))&&Be&&(Qe=Pt.bind(null,null),Ie.then(Qe,Qe))}),Ie&&typeof Ie.then=="function"?qe.resolve(Ie):ke.then(function(){return Ie})}}),fe.push(function(we){var Se,ke,Re=xe._cfg.dbschema;Se=Re,ke=we,[].slice.call(ke.db.objectStoreNames).forEach(function(Ue){return Se[Ue]==null&&ke.db.deleteObjectStore(Ue)}),xa(Y,[Y.Transaction.prototype]),Is(Y,[Y.Transaction.prototype],Y._storeNames,Y._dbSchema),re.schema=Y._dbSchema}),fe.push(function(we){Y.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(Y.idbdb.version/10)===xe._cfg.version?(Y.idbdb.deleteObjectStore("$meta"),delete Y._dbSchema.$meta,Y._storeNames=Y._storeNames.filter(function(Se){return Se!=="$meta"})):we.objectStore("$meta").put(xe._cfg.version,"version"))})}),function xe(){return fe.length?qe.resolve(fe.shift()(re.idbtrans)).then(xe):qe.resolve()}().then(function(){va(ae,ce)})):qe.resolve();var Y,he,re,ce,fe,ae}).catch(H)):(o(O).forEach(function(de){Ml(k,de,O[de].primKey,O[de].indexes)}),So(y,k),void qe.follow(function(){return y.on.populate.fire(R)}).catch(H));var ee,ie})}function mc(y,b){va(y._dbSchema,b),b.db.version%10!=0||b.objectStoreNames.contains("$meta")||b.db.createObjectStore("$meta").add(Math.ceil(b.db.version/10-1),"version");var k=ba(0,y.idbdb,b);Jn(y,y._dbSchema,b);for(var T=0,O=Co(k,y._dbSchema).change;T<O.length;T++){var R=function(H){if(H.change.length||H.recreate)return console.warn("Unable to patch indexes of table ".concat(H.name," because it has changes on the type of index or primary key.")),{value:void 0};var K=b.objectStore(H.name);H.add.forEach(function(ee){Nn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(H.name,".").concat(ee.src)),Ds(K,ee)})}(O[T]);if(typeof R=="object")return R.value}}function Co(y,b){var k,T={del:[],add:[],change:[]};for(k in y)b[k]||T.del.push(k);for(k in b){var O=y[k],R=b[k];if(O){var H={name:k,def:R,recreate:!1,del:[],add:[],change:[]};if(""+(O.primKey.keyPath||"")!=""+(R.primKey.keyPath||"")||O.primKey.auto!==R.primKey.auto)H.recreate=!0,T.change.push(H);else{var K=O.idxByName,ee=R.idxByName,ie=void 0;for(ie in K)ee[ie]||H.del.push(ie);for(ie in ee){var de=K[ie],Y=ee[ie];de?de.src!==Y.src&&H.change.push(Y):H.add.push(Y)}(0<H.del.length||0<H.add.length||0<H.change.length)&&T.change.push(H)}}else T.add.push([k,R])}return T}function Ml(y,b,k,T){var O=y.db.createObjectStore(b,k.keyPath?{keyPath:k.keyPath,autoIncrement:k.auto}:{autoIncrement:k.auto});return T.forEach(function(R){return Ds(O,R)}),O}function va(y,b){o(y).forEach(function(k){b.db.objectStoreNames.contains(k)||(Nn&&console.debug("Dexie: Creating missing table",k),Ml(b,k,y[k].primKey,y[k].indexes))})}function Ds(y,b){y.createIndex(b.name,b.keyPath,{unique:b.unique,multiEntry:b.multi})}function ba(y,b,k){var T={};return L(b.objectStoreNames,0).forEach(function(O){for(var R=k.objectStore(O),H=Ll(ga(ie=R.keyPath),ie||"",!0,!1,!!R.autoIncrement,ie&&typeof ie!="string",!0),K=[],ee=0;ee<R.indexNames.length;++ee){var de=R.index(R.indexNames[ee]),ie=de.keyPath,de=Ll(de.name,ie,!!de.unique,!!de.multiEntry,!1,ie&&typeof ie!="string",!1);K.push(de)}T[O]=Al(O,H,K)}),T}function Jn(y,b,k){for(var T=k.db.objectStoreNames,O=0;O<T.length;++O){var R=T[O],H=k.objectStore(R);y._hasGetAll="getAll"in H;for(var K=0;K<H.indexNames.length;++K){var ee=H.indexNames[K],ie=H.index(ee).keyPath,de=typeof ie=="string"?ie:"["+L(ie).join("+")+"]";!b[R]||(ie=b[R].idxByName[de])&&(ie.name=ee,delete b[R].idxByName[de],b[R].idxByName[ee]=ie)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(y._hasGetAll=!1)}function Fs(y){return y.split(",").map(function(b,k){var T=(b=b.trim()).replace(/([&*]|\+\+)/g,""),O=/^\[/.test(T)?T.match(/^\[(.*)\]$/)[1].split("+"):T;return Ll(T,O||null,/\&/.test(b),/\*/.test(b),/\+\+/.test(b),a(O),k===0)})}var gc=(gs.prototype._parseStoresSpec=function(y,b){o(y).forEach(function(k){if(y[k]!==null){var T=Fs(y[k]),O=T.shift();if(O.unique=!0,O.multi)throw new Pe.Schema("Primary key cannot be multi-valued");T.forEach(function(R){if(R.auto)throw new Pe.Schema("Only primary key can be marked as autoIncrement (++)");if(!R.keyPath)throw new Pe.Schema("Index must have a name and cannot be an empty string")}),b[k]=Al(k,O,T)}})},gs.prototype.stores=function(k){var b=this.db;this._cfg.storesSource=this._cfg.storesSource?u(this._cfg.storesSource,k):k;var k=b._versions,T={},O={};return k.forEach(function(R){u(T,R._cfg.storesSource),O=R._cfg.dbschema={},R._parseStoresSpec(T,O)}),b._dbSchema=O,xa(b,[b._allTables,b,b.Transaction.prototype]),Is(b,[b._allTables,b,b.Transaction.prototype,this._cfg.tables],o(O),O),b._storeNames=o(O),this},gs.prototype.upgrade=function(y){return this._cfg.contentUpgrade=Fr(this._cfg.contentUpgrade||Tt,y),this},gs);function gs(){}function yc(y,b){var k=y._dbNamesDB;return k||(k=y._dbNamesDB=new Ci(_i,{addons:[],indexedDB:y,IDBKeyRange:b})).version(1).stores({dbnames:"name"}),k.table("dbnames")}function wa(y){return y&&typeof y.databases=="function"}function _a(y){return et(function(){return Ve.letThrough=!0,y()})}function Bs(y){return!("from"in y)}var On=function(y,b){if(!this){var k=new On;return y&&"d"in y&&u(k,y),k}u(this,arguments.length?{d:1,from:y,to:1<arguments.length?b:y}:{d:0})};function ko(y,b,k){var T=ft(b,k);if(!isNaN(T)){if(0<T)throw RangeError();if(Bs(y))return u(y,{from:b,to:k,d:1});var O=y.l,T=y.r;if(ft(k,y.from)<0)return O?ko(O,b,k):y.l={from:b,to:k,d:1,l:null,r:null},Il(y);if(0<ft(b,y.to))return T?ko(T,b,k):y.r={from:b,to:k,d:1,l:null,r:null},Il(y);ft(b,y.from)<0&&(y.from=b,y.l=null,y.d=T?T.d+1:1),0<ft(k,y.to)&&(y.to=k,y.r=null,y.d=y.l?y.l.d+1:1),k=!y.r,O&&!y.l&&Sa(y,O),T&&k&&Sa(y,T)}}function Sa(y,b){Bs(b)||function k(T,ee){var R=ee.from,H=ee.to,K=ee.l,ee=ee.r;ko(T,R,H),K&&k(T,K),ee&&k(T,ee)}(y,b)}function _h(y,b){var k=Rl(b),T=k.next();if(T.done)return!1;for(var O=T.value,R=Rl(y),H=R.next(O.from),K=H.value;!T.done&&!H.done;){if(ft(K.from,O.to)<=0&&0<=ft(K.to,O.from))return!0;ft(O.from,K.from)<0?O=(T=k.next(K.from)).value:K=(H=R.next(O.from)).value}return!1}function Rl(y){var b=Bs(y)?null:{s:0,n:y};return{next:function(k){for(var T=0<arguments.length;b;)switch(b.s){case 0:if(b.s=1,T)for(;b.n.l&&ft(k,b.n.from)<0;)b={up:b,n:b.n.l,s:1};else for(;b.n.l;)b={up:b,n:b.n.l,s:1};case 1:if(b.s=2,!T||ft(k,b.n.to)<=0)return{value:b.n,done:!1};case 2:if(b.n.r){b.s=3,b={up:b,n:b.n.r,s:0};continue}case 3:b=b.up}return{done:!0}}}}function Il(y){var b,k,T=(((b=y.r)===null||b===void 0?void 0:b.d)||0)-(((k=y.l)===null||k===void 0?void 0:k.d)||0),O=1<T?"r":T<-1?"l":"";O&&(b=O=="r"?"l":"r",k=r({},y),T=y[O],y.from=T.from,y.to=T.to,y[O]=T[O],k[O]=T[b],(y[b]=k).d=Sh(k)),y.d=Sh(y)}function Sh(k){var b=k.r,k=k.l;return(b?k?Math.max(b.d,k.d):b.d:k?k.d:0)+1}function Dl(y,b){return o(b).forEach(function(k){y[k]?Sa(y[k],b[k]):y[k]=function T(O){var R,H,K={};for(R in O)p(O,R)&&(H=O[R],K[R]=!H||typeof H!="object"||oe.has(H.constructor)?H:T(H));return K}(b[k])}),y}function xc(y,b){return y.all||b.all||Object.keys(y).some(function(k){return b[k]&&_h(b[k],y[k])})}g(On.prototype,(($r={add:function(y){return Sa(this,y),this},addKey:function(y){return ko(this,y,y),this},addKeys:function(y){var b=this;return y.forEach(function(k){return ko(b,k,k)}),this},hasKey:function(y){var b=Rl(this).next(y).value;return b&&ft(b.from,y)<=0&&0<=ft(b.to,y)}})[J]=function(){return Rl(this)},$r));var zs={},vc={},Fl=!1;function Bl(y){Dl(vc,y),Fl||(Fl=!0,setTimeout(function(){Fl=!1,bc(vc,!(vc={}))},0))}function bc(y,b){b===void 0&&(b=!1);var k=new Set;if(y.all)for(var T=0,O=Object.values(zs);T<O.length;T++)Ch(H=O[T],y,k,b);else for(var R in y){var H,K=/^idb\:\/\/(.*)\/(.*)\//.exec(R);K&&(R=K[1],K=K[2],(H=zs["idb://".concat(R,"/").concat(K)])&&Ch(H,y,k,b))}k.forEach(function(ee){return ee()})}function Ch(y,b,k,T){for(var O=[],R=0,H=Object.entries(y.queries.query);R<H.length;R++){for(var K=H[R],ee=K[0],ie=[],de=0,Y=K[1];de<Y.length;de++){var he=Y[de];xc(b,he.obsSet)?he.subscribers.forEach(function(ae){return k.add(ae)}):T&&ie.push(he)}T&&O.push([ee,ie])}if(T)for(var re=0,ce=O;re<ce.length;re++){var fe=ce[re],ee=fe[0],ie=fe[1];y.queries.query[ee]=ie}}function Wm(y){var b=y._state,k=y._deps.indexedDB;if(b.isBeingOpened||y.idbdb)return b.dbReadyPromise.then(function(){return b.dbOpenError?$t(b.dbOpenError):y});b.isBeingOpened=!0,b.dbOpenError=null,b.openComplete=!1;var T=b.openCanceller,O=Math.round(10*y.verno),R=!1;function H(){if(b.openCanceller!==T)throw new Pe.DatabaseClosed("db.open() was cancelled")}function K(){return new qe(function(he,re){if(H(),!k)throw new Pe.MissingAPI;var ce=y.name,fe=b.autoSchema||!O?k.open(ce):k.open(ce,O);if(!fe)throw new Pe.MissingAPI;fe.onerror=fr(re),fe.onblocked=Te(y._fireOnBlocked),fe.onupgradeneeded=Te(function(ae){var xe;de=fe.transaction,b.autoSchema&&!y._options.allowEmptyDB?(fe.onerror=Wi,de.abort(),fe.result.close(),(xe=k.deleteDatabase(ce)).onsuccess=xe.onerror=Te(function(){re(new Pe.NoSuchDatabase("Database ".concat(ce," doesnt exist")))})):(de.onerror=fr(re),ae=ae.oldVersion>Math.pow(2,62)?0:ae.oldVersion,Y=ae<1,y.idbdb=fe.result,R&&mc(y,de),ms(y,ae/10,de,re))},re),fe.onsuccess=Te(function(){de=null;var ae,xe,we,Se,ke,Re=y.idbdb=fe.result,Ue=L(Re.objectStoreNames);if(0<Ue.length)try{var Ie=Re.transaction((Se=Ue).length===1?Se[0]:Se,"readonly");if(b.autoSchema)xe=Re,we=Ie,(ae=y).verno=xe.version/10,we=ae._dbSchema=ba(0,xe,we),ae._storeNames=L(xe.objectStoreNames,0),Is(ae,[ae._allTables],o(we),we);else if(Jn(y,y._dbSchema,Ie),((ke=Co(ba(0,(ke=y).idbdb,Ie),ke._dbSchema)).add.length||ke.change.some(function(Be){return Be.add.length||Be.change.length}))&&!R)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Re.close(),O=Re.version+1,R=!0,he(K());So(y,Ie)}catch{}Nr.push(y),Re.onversionchange=Te(function(Be){b.vcFired=!0,y.on("versionchange").fire(Be)}),Re.onclose=Te(function(Be){y.on("close").fire(Be)}),Y&&(ke=y._deps,Ie=ce,Re=ke.indexedDB,ke=ke.IDBKeyRange,wa(Re)||Ie===_i||yc(Re,ke).put({name:Ie}).catch(Tt)),he()},re)}).catch(function(he){switch(he?.name){case"UnknownError":if(0<b.PR1398_maxLoop)return b.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),K();break;case"VersionError":if(0<O)return O=0,K()}return qe.reject(he)})}var ee,ie=b.dbReadyResolve,de=null,Y=!1;return qe.race([T,(typeof navigator>"u"?qe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(he){function re(){return indexedDB.databases().finally(he)}ee=setInterval(re,100),re()}).finally(function(){return clearInterval(ee)}):Promise.resolve()).then(K)]).then(function(){return H(),b.onReadyBeingFired=[],qe.resolve(_a(function(){return y.on.ready.fire(y.vip)})).then(function he(){if(0<b.onReadyBeingFired.length){var re=b.onReadyBeingFired.reduce(Fr,Tt);return b.onReadyBeingFired=[],qe.resolve(_a(function(){return re(y.vip)})).then(he)}})}).finally(function(){b.openCanceller===T&&(b.onReadyBeingFired=null,b.isBeingOpened=!1)}).catch(function(he){b.dbOpenError=he;try{de&&de.abort()}catch{}return T===b.openCanceller&&y._close(),$t(he)}).finally(function(){b.openComplete=!0,ie()}).then(function(){var he;return Y&&(he={},y.tables.forEach(function(re){re.schema.indexes.forEach(function(ce){ce.name&&(he["idb://".concat(y.name,"/").concat(re.name,"/").concat(ce.name)]=new On(-1/0,[[[]]]))}),he["idb://".concat(y.name,"/").concat(re.name,"/")]=he["idb://".concat(y.name,"/").concat(re.name,"/:dels")]=new On(-1/0,[[[]]])}),Ki(zr).fire(he),bc(he,!0)),y})}function Ca(y){function b(R){return y.next(R)}var k=O(b),T=O(function(R){return y.throw(R)});function O(R){return function(ee){var K=R(ee),ee=K.value;return K.done?ee:ee&&typeof ee.then=="function"?ee.then(k,T):a(ee)?Promise.all(ee).then(k,T):k(ee)}}return O(b)()}function zl(y,b,k){for(var T=a(y)?y.slice():[y],O=0;O<k;++O)T.push(b);return T}var Km={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(y){return r(r({},y),{table:function(b){var k=y.table(b),T=k.schema,O={},R=[];function H(Y,he,re){var ce=ps(Y),fe=O[ce]=O[ce]||[],ae=Y==null?0:typeof Y=="string"?1:Y.length,xe=0<he,xe=r(r({},re),{name:xe?"".concat(ce,"(virtual-from:").concat(re.name,")"):re.name,lowLevelIndex:re,isVirtual:xe,keyTail:he,keyLength:ae,extractKey:Rs(Y),unique:!xe&&re.unique});return fe.push(xe),xe.isPrimaryKey||R.push(xe),1<ae&&H(ae===2?Y[0]:Y.slice(0,ae-1),he+1,re),fe.sort(function(we,Se){return we.keyTail-Se.keyTail}),xe}b=H(T.primaryKey.keyPath,0,T.primaryKey),O[":id"]=[b];for(var K=0,ee=T.indexes;K<ee.length;K++){var ie=ee[K];H(ie.keyPath,0,ie)}function de(Y){var he,re=Y.query.index;return re.isVirtual?r(r({},Y),{query:{index:re.lowLevelIndex,range:(he=Y.query.range,re=re.keyTail,{type:he.type===1?2:he.type,lower:zl(he.lower,he.lowerOpen?y.MAX_KEY:y.MIN_KEY,re),lowerOpen:!0,upper:zl(he.upper,he.upperOpen?y.MIN_KEY:y.MAX_KEY,re),upperOpen:!0})}}):Y}return r(r({},k),{schema:r(r({},T),{primaryKey:b,indexes:R,getIndexByKeyPath:function(Y){return(Y=O[ps(Y)])&&Y[0]}}),count:function(Y){return k.count(de(Y))},query:function(Y){return k.query(de(Y))},openCursor:function(Y){var he=Y.query.index,re=he.keyTail,ce=he.isVirtual,fe=he.keyLength;return ce?k.openCursor(de(Y)).then(function(xe){return xe&&ae(xe)}):k.openCursor(Y);function ae(xe){return Object.create(xe,{continue:{value:function(we){we!=null?xe.continue(zl(we,Y.reverse?y.MAX_KEY:y.MIN_KEY,re)):Y.unique?xe.continue(xe.key.slice(0,fe).concat(Y.reverse?y.MIN_KEY:y.MAX_KEY,re)):xe.continue()}},continuePrimaryKey:{value:function(we,Se){xe.continuePrimaryKey(zl(we,y.MAX_KEY,re),Se)}},primaryKey:{get:function(){return xe.primaryKey}},key:{get:function(){var we=xe.key;return fe===1?we[0]:we.slice(0,fe)}},value:{get:function(){return xe.value}}})}}})}})}};function wc(y,b,k,T){return k=k||{},T=T||"",o(y).forEach(function(O){var R,H,K;p(b,O)?(R=y[O],H=b[O],typeof R=="object"&&typeof H=="object"&&R&&H?(K=V(R))!==V(H)?k[T+O]=b[O]:K==="Object"?wc(R,H,k,T+O+"."):R!==H&&(k[T+O]=b[O]):R!==H&&(k[T+O]=b[O])):k[T+O]=void 0}),o(b).forEach(function(O){p(y,O)||(k[T+O]=b[O])}),k}function $l(y,b){return b.type==="delete"?b.keys:b.keys||b.values.map(y.extractKey)}var Gm={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(y){return r(r({},y),{table:function(b){var k=y.table(b),T=k.schema.primaryKey;return r(r({},k),{mutate:function(O){var R=Ve.trans,H=R.table(b).hook,K=H.deleting,ee=H.creating,ie=H.updating;switch(O.type){case"add":if(ee.fire===Tt)break;return R._promise("readwrite",function(){return de(O)},!0);case"put":if(ee.fire===Tt&&ie.fire===Tt)break;return R._promise("readwrite",function(){return de(O)},!0);case"delete":if(K.fire===Tt)break;return R._promise("readwrite",function(){return de(O)},!0);case"deleteRange":if(K.fire===Tt)break;return R._promise("readwrite",function(){return function Y(he,re,ce){return k.query({trans:he,values:!1,query:{index:T,range:re},limit:ce}).then(function(fe){var ae=fe.result;return de({type:"delete",keys:ae,trans:he}).then(function(xe){return 0<xe.numFailures?Promise.reject(xe.failures[0]):ae.length<ce?{failures:[],numFailures:0,lastResult:void 0}:Y(he,r(r({},re),{lower:ae[ae.length-1],lowerOpen:!0}),ce)})})}(O.trans,O.range,1e4)},!0)}return k.mutate(O);function de(Y){var he,re,ce,fe=Ve.trans,ae=Y.keys||$l(T,Y);if(!ae)throw new Error("Keys missing");return(Y=Y.type==="add"||Y.type==="put"?r(r({},Y),{keys:ae}):r({},Y)).type!=="delete"&&(Y.values=i([],Y.values)),Y.keys&&(Y.keys=i([],Y.keys)),he=k,ce=ae,((re=Y).type==="add"?Promise.resolve([]):he.getMany({trans:re.trans,keys:ce,cache:"immutable"})).then(function(xe){var we=ae.map(function(Se,ke){var Re,Ue,Ie,Be=xe[ke],Qe={onerror:null,onsuccess:null};return Y.type==="delete"?K.fire.call(Qe,Se,Be,fe):Y.type==="add"||Be===void 0?(Re=ee.fire.call(Qe,Se,Y.values[ke],fe),Se==null&&Re!=null&&(Y.keys[ke]=Se=Re,T.outbound||D(Y.values[ke],T.keyPath,Se))):(Re=wc(Be,Y.values[ke]),(Ue=ie.fire.call(Qe,Re,Se,Be,fe))&&(Ie=Y.values[ke],Object.keys(Ue).forEach(function(ze){p(Ie,ze)?Ie[ze]=Ue[ze]:D(Ie,ze,Ue[ze])}))),Qe});return k.mutate(Y).then(function(Se){for(var ke=Se.failures,Re=Se.results,Ue=Se.numFailures,Se=Se.lastResult,Ie=0;Ie<ae.length;++Ie){var Be=(Re||ae)[Ie],Qe=we[Ie];Be==null?Qe.onerror&&Qe.onerror(ke[Ie]):Qe.onsuccess&&Qe.onsuccess(Y.type==="put"&&xe[Ie]?Y.values[Ie]:Be)}return{failures:ke,results:Re,numFailures:Ue,lastResult:Se}}).catch(function(Se){return we.forEach(function(ke){return ke.onerror&&ke.onerror(Se)}),Promise.reject(Se)})})}}})}})}};function kh(y,b,k){try{if(!b||b.keys.length<y.length)return null;for(var T=[],O=0,R=0;O<b.keys.length&&R<y.length;++O)ft(b.keys[O],y[R])===0&&(T.push(k?ue(b.values[O]):b.values[O]),++R);return T.length===y.length?T:null}catch{return null}}var Ym={stack:"dbcore",level:-1,create:function(y){return{table:function(b){var k=y.table(b);return r(r({},k),{getMany:function(T){if(!T.cache)return k.getMany(T);var O=kh(T.keys,T.trans._cache,T.cache==="clone");return O?qe.resolve(O):k.getMany(T).then(function(R){return T.trans._cache={keys:T.keys,values:T.cache==="clone"?ue(R):R},R})},mutate:function(T){return T.type!=="add"&&(T.trans._cache=null),k.mutate(T)}})}}}};function jh(y,b){return y.trans.mode==="readonly"&&!!y.subscr&&!y.trans.explicit&&y.trans.db._options.cache!=="disabled"&&!b.schema.primaryKey.outbound}function Eh(y,b){switch(y){case"query":return b.values&&!b.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Xm={stack:"dbcore",level:0,name:"Observability",create:function(y){var b=y.schema.name,k=new On(y.MIN_KEY,y.MAX_KEY);return r(r({},y),{transaction:function(T,O,R){if(Ve.subscr&&O!=="readonly")throw new Pe.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ve.querier));return y.transaction(T,O,R)},table:function(T){var O=y.table(T),R=O.schema,H=R.primaryKey,Y=R.indexes,K=H.extractKey,ee=H.outbound,ie=H.autoIncrement&&Y.filter(function(re){return re.compound&&re.keyPath.includes(H.keyPath)}),de=r(r({},O),{mutate:function(re){function ce(ze){return ze="idb://".concat(b,"/").concat(T,"/").concat(ze),Se[ze]||(Se[ze]=new On)}var fe,ae,xe,we=re.trans,Se=re.mutatedParts||(re.mutatedParts={}),ke=ce(""),Re=ce(":dels"),Ue=re.type,Qe=re.type==="deleteRange"?[re.range]:re.type==="delete"?[re.keys]:re.values.length<50?[$l(H,re).filter(function(ze){return ze}),re.values]:[],Ie=Qe[0],Be=Qe[1],Qe=re.trans._cache;return a(Ie)?(ke.addKeys(Ie),(Qe=Ue==="delete"||Ie.length===Be.length?kh(Ie,Qe):null)||Re.addKeys(Ie),(Qe||Be)&&(fe=ce,ae=Qe,xe=Be,R.indexes.forEach(function(ze){var Ge=fe(ze.name||"");function yt(kt){return kt!=null?ze.extractKey(kt):null}function bt(kt){return ze.multiEntry&&a(kt)?kt.forEach(function(pr){return Ge.addKey(pr)}):Ge.addKey(kt)}(ae||xe).forEach(function(kt,Un){var gt=ae&&yt(ae[Un]),Un=xe&&yt(xe[Un]);ft(gt,Un)!==0&&(gt!=null&&bt(gt),Un!=null&&bt(Un))})}))):Ie?(Be={from:(Be=Ie.lower)!==null&&Be!==void 0?Be:y.MIN_KEY,to:(Be=Ie.upper)!==null&&Be!==void 0?Be:y.MAX_KEY},Re.add(Be),ke.add(Be)):(ke.add(k),Re.add(k),R.indexes.forEach(function(ze){return ce(ze.name).add(k)})),O.mutate(re).then(function(ze){return!Ie||re.type!=="add"&&re.type!=="put"||(ke.addKeys(ze.results),ie&&ie.forEach(function(Ge){for(var yt=re.values.map(function(gt){return Ge.extractKey(gt)}),bt=Ge.keyPath.findIndex(function(gt){return gt===H.keyPath}),kt=0,pr=ze.results.length;kt<pr;++kt)yt[kt][bt]=ze.results[kt];ce(Ge.name).addKeys(yt)})),we.mutatedParts=Dl(we.mutatedParts||{},Se),ze})}}),Y=function(ce){var fe=ce.query,ce=fe.index,fe=fe.range;return[ce,new On((ce=fe.lower)!==null&&ce!==void 0?ce:y.MIN_KEY,(fe=fe.upper)!==null&&fe!==void 0?fe:y.MAX_KEY)]},he={get:function(re){return[H,new On(re.key)]},getMany:function(re){return[H,new On().addKeys(re.keys)]},count:Y,query:Y,openCursor:Y};return o(he).forEach(function(re){de[re]=function(ce){var fe=Ve.subscr,ae=!!fe,xe=jh(Ve,O)&&Eh(re,ce)?ce.obsSet={}:fe;if(ae){var we=function(Be){return Be="idb://".concat(b,"/").concat(T,"/").concat(Be),xe[Be]||(xe[Be]=new On)},Se=we(""),ke=we(":dels"),fe=he[re](ce),ae=fe[0],fe=fe[1];if((re==="query"&&ae.isPrimaryKey&&!ce.values?ke:we(ae.name||"")).add(fe),!ae.isPrimaryKey){if(re!=="count"){var Re=re==="query"&&ee&&ce.values&&O.query(r(r({},ce),{values:!1}));return O[re].apply(this,arguments).then(function(Be){if(re==="query"){if(ee&&ce.values)return Re.then(function(yt){return yt=yt.result,Se.addKeys(yt),Be});var Qe=ce.values?Be.result.map(K):Be.result;(ce.values?Se:ke).addKeys(Qe)}else if(re==="openCursor"){var ze=Be,Ge=ce.values;return ze&&Object.create(ze,{key:{get:function(){return ke.addKey(ze.primaryKey),ze.key}},primaryKey:{get:function(){var yt=ze.primaryKey;return ke.addKey(yt),yt}},value:{get:function(){return Ge&&Se.addKey(ze.primaryKey),ze.value}}})}return Be})}ke.add(k)}}return O[re].apply(this,arguments)}}),de}})}};function Th(y,b,k){if(k.numFailures===0)return b;if(b.type==="deleteRange")return null;var T=b.keys?b.keys.length:"values"in b&&b.values?b.values.length:1;return k.numFailures===T?null:(b=r({},b),a(b.keys)&&(b.keys=b.keys.filter(function(O,R){return!(R in k.failures)})),"values"in b&&a(b.values)&&(b.values=b.values.filter(function(O,R){return!(R in k.failures)})),b)}function ka(y,b){return k=y,((T=b).lower===void 0||(T.lowerOpen?0<ft(k,T.lower):0<=ft(k,T.lower)))&&(y=y,(b=b).upper===void 0||(b.upperOpen?ft(y,b.upper)<0:ft(y,b.upper)<=0));var k,T}function jo(y,b,he,T,O,R){if(!he||he.length===0)return y;var H=b.query.index,K=H.multiEntry,ee=b.query.range,ie=T.schema.primaryKey.extractKey,de=H.extractKey,Y=(H.lowLevelIndex||H).extractKey,he=he.reduce(function(re,ce){var fe=re,ae=[];if(ce.type==="add"||ce.type==="put")for(var xe=new On,we=ce.values.length-1;0<=we;--we){var Se,ke=ce.values[we],Re=ie(ke);xe.hasKey(Re)||(Se=de(ke),(K&&a(Se)?Se.some(function(ze){return ka(ze,ee)}):ka(Se,ee))&&(xe.addKey(Re),ae.push(ke)))}switch(ce.type){case"add":var Ue=new On().addKeys(b.values?re.map(function(Ge){return ie(Ge)}):re),fe=re.concat(b.values?ae.filter(function(Ge){return Ge=ie(Ge),!Ue.hasKey(Ge)&&(Ue.addKey(Ge),!0)}):ae.map(function(Ge){return ie(Ge)}).filter(function(Ge){return!Ue.hasKey(Ge)&&(Ue.addKey(Ge),!0)}));break;case"put":var Ie=new On().addKeys(ce.values.map(function(Ge){return ie(Ge)}));fe=re.filter(function(Ge){return!Ie.hasKey(b.values?ie(Ge):Ge)}).concat(b.values?ae:ae.map(function(Ge){return ie(Ge)}));break;case"delete":var Be=new On().addKeys(ce.keys);fe=re.filter(function(Ge){return!Be.hasKey(b.values?ie(Ge):Ge)});break;case"deleteRange":var Qe=ce.range;fe=re.filter(function(Ge){return!ka(ie(Ge),Qe)})}return fe},y);return he===y?y:(he.sort(function(re,ce){return ft(Y(re),Y(ce))||ft(ie(re),ie(ce))}),b.limit&&b.limit<1/0&&(he.length>b.limit?he.length=b.limit:y.length===b.limit&&he.length<b.limit&&(O.dirty=!0)),R?Object.freeze(he):he)}function Nh(y,b){return ft(y.lower,b.lower)===0&&ft(y.upper,b.upper)===0&&!!y.lowerOpen==!!b.lowerOpen&&!!y.upperOpen==!!b.upperOpen}function Ph(y,b){return function(k,T,O,R){if(k===void 0)return T!==void 0?-1:0;if(T===void 0)return 1;if((T=ft(k,T))===0){if(O&&R)return 0;if(O)return 1;if(R)return-1}return T}(y.lower,b.lower,y.lowerOpen,b.lowerOpen)<=0&&0<=function(k,T,O,R){if(k===void 0)return T!==void 0?1:0;if(T===void 0)return-1;if((T=ft(k,T))===0){if(O&&R)return 0;if(O)return-1;if(R)return 1}return T}(y.upper,b.upper,y.upperOpen,b.upperOpen)}function Oh(y,b,k,T){y.subscribers.add(k),T.addEventListener("abort",function(){var O,R;y.subscribers.delete(k),y.subscribers.size===0&&(O=y,R=b,setTimeout(function(){O.subscribers.size===0&&ne(R,O)},3e3))})}var Lh={stack:"dbcore",level:0,name:"Cache",create:function(y){var b=y.schema.name;return r(r({},y),{transaction:function(k,T,O){var R,H,K=y.transaction(k,T,O);return T==="readwrite"&&(H=(R=new AbortController).signal,O=function(ee){return function(){if(R.abort(),T==="readwrite"){for(var ie=new Set,de=0,Y=k;de<Y.length;de++){var he=Y[de],re=zs["idb://".concat(b,"/").concat(he)];if(re){var ce=y.table(he),fe=re.optimisticOps.filter(function(Ge){return Ge.trans===K});if(K._explicit&&ee&&K.mutatedParts)for(var ae=0,xe=Object.values(re.queries.query);ae<xe.length;ae++)for(var we=0,Se=(Ue=xe[ae]).slice();we<Se.length;we++)xc((Ie=Se[we]).obsSet,K.mutatedParts)&&(ne(Ue,Ie),Ie.subscribers.forEach(function(Ge){return ie.add(Ge)}));else if(0<fe.length){re.optimisticOps=re.optimisticOps.filter(function(Ge){return Ge.trans!==K});for(var ke=0,Re=Object.values(re.queries.query);ke<Re.length;ke++)for(var Ue,Ie,Be,Qe=0,ze=(Ue=Re[ke]).slice();Qe<ze.length;Qe++)(Ie=ze[Qe]).res!=null&&K.mutatedParts&&(ee&&!Ie.dirty?(Be=Object.isFrozen(Ie.res),Be=jo(Ie.res,Ie.req,fe,ce,Ie,Be),Ie.dirty?(ne(Ue,Ie),Ie.subscribers.forEach(function(Ge){return ie.add(Ge)})):Be!==Ie.res&&(Ie.res=Be,Ie.promise=qe.resolve({result:Be}))):(Ie.dirty&&ne(Ue,Ie),Ie.subscribers.forEach(function(Ge){return ie.add(Ge)})))}}}ie.forEach(function(Ge){return Ge()})}}},K.addEventListener("abort",O(!1),{signal:H}),K.addEventListener("error",O(!1),{signal:H}),K.addEventListener("complete",O(!0),{signal:H})),K},table:function(k){var T=y.table(k),O=T.schema.primaryKey;return r(r({},T),{mutate:function(R){var H=Ve.trans;if(O.outbound||H.db._options.cache==="disabled"||H.explicit||H.idbtrans.mode!=="readwrite")return T.mutate(R);var K=zs["idb://".concat(b,"/").concat(k)];return K?(H=T.mutate(R),R.type!=="add"&&R.type!=="put"||!(50<=R.values.length||$l(O,R).some(function(ee){return ee==null}))?(K.optimisticOps.push(R),R.mutatedParts&&Bl(R.mutatedParts),H.then(function(ee){0<ee.numFailures&&(ne(K.optimisticOps,R),(ee=Th(0,R,ee))&&K.optimisticOps.push(ee),R.mutatedParts&&Bl(R.mutatedParts))}),H.catch(function(){ne(K.optimisticOps,R),R.mutatedParts&&Bl(R.mutatedParts)})):H.then(function(ee){var ie=Th(0,r(r({},R),{values:R.values.map(function(de,Y){var he;return ee.failures[Y]?de:(de=(he=O.keyPath)!==null&&he!==void 0&&he.includes(".")?ue(de):r({},de),D(de,O.keyPath,ee.results[Y]),de)})}),ee);K.optimisticOps.push(ie),queueMicrotask(function(){return R.mutatedParts&&Bl(R.mutatedParts)})}),H):T.mutate(R)},query:function(R){if(!jh(Ve,T)||!Eh("query",R))return T.query(R);var H=((ie=Ve.trans)===null||ie===void 0?void 0:ie.db._options.cache)==="immutable",Y=Ve,K=Y.requery,ee=Y.signal,ie=function(ce,fe,ae,xe){var we=zs["idb://".concat(ce,"/").concat(fe)];if(!we)return[];if(!(fe=we.queries[ae]))return[null,!1,we,null];var Se=fe[(xe.query?xe.query.index.name:null)||""];if(!Se)return[null,!1,we,null];switch(ae){case"query":var ke=Se.find(function(Re){return Re.req.limit===xe.limit&&Re.req.values===xe.values&&Nh(Re.req.query.range,xe.query.range)});return ke?[ke,!0,we,Se]:[Se.find(function(Re){return("limit"in Re.req?Re.req.limit:1/0)>=xe.limit&&(!xe.values||Re.req.values)&&Ph(Re.req.query.range,xe.query.range)}),!1,we,Se];case"count":return ke=Se.find(function(Re){return Nh(Re.req.query.range,xe.query.range)}),[ke,!!ke,we,Se]}}(b,k,"query",R),de=ie[0],Y=ie[1],he=ie[2],re=ie[3];return de&&Y?de.obsSet=R.obsSet:(Y=T.query(R).then(function(ce){var fe=ce.result;if(de&&(de.res=fe),H){for(var ae=0,xe=fe.length;ae<xe;++ae)Object.freeze(fe[ae]);Object.freeze(fe)}else ce.result=ue(fe);return ce}).catch(function(ce){return re&&de&&ne(re,de),Promise.reject(ce)}),de={obsSet:R.obsSet,promise:Y,subscribers:new Set,type:"query",req:R,dirty:!1},re?re.push(de):(re=[de],(he=he||(zs["idb://".concat(b,"/").concat(k)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[R.query.index.name||""]=re)),Oh(de,re,K,ee),de.promise.then(function(ce){return{result:jo(ce.result,R,he?.optimisticOps,T,de,H)}})}})}})}};function ja(y,b){return new Proxy(y,{get:function(k,T,O){return T==="db"?b:Reflect.get(k,T,O)}})}var Ci=(Zt.prototype.version=function(y){if(isNaN(y)||y<.1)throw new Pe.Type("Given version is not a positive number");if(y=Math.round(10*y)/10,this.idbdb||this._state.isBeingOpened)throw new Pe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,y);var b=this._versions,k=b.filter(function(T){return T._cfg.version===y})[0];return k||(k=new this.Version(y),b.push(k),b.sort(wh),k.stores({}),this._state.autoSchema=!1,k)},Zt.prototype._whenReady=function(y){var b=this;return this.idbdb&&(this._state.openComplete||Ve.letThrough||this._vip)?y():new qe(function(k,T){if(b._state.openComplete)return T(new Pe.DatabaseClosed(b._state.dbOpenError));if(!b._state.isBeingOpened){if(!b._state.autoOpen)return void T(new Pe.DatabaseClosed);b.open().catch(Tt)}b._state.dbReadyPromise.then(k,T)}).then(y)},Zt.prototype.use=function(y){var b=y.stack,k=y.create,T=y.level,O=y.name;return O&&this.unuse({stack:b,name:O}),y=this._middlewares[b]||(this._middlewares[b]=[]),y.push({stack:b,create:k,level:T??10,name:O}),y.sort(function(R,H){return R.level-H.level}),this},Zt.prototype.unuse=function(y){var b=y.stack,k=y.name,T=y.create;return b&&this._middlewares[b]&&(this._middlewares[b]=this._middlewares[b].filter(function(O){return T?O.create!==T:!!k&&O.name!==k})),this},Zt.prototype.open=function(){var y=this;return Xn(Yn,function(){return Wm(y)})},Zt.prototype._close=function(){var y=this._state,b=Nr.indexOf(this);if(0<=b&&Nr.splice(b,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}y.isBeingOpened||(y.dbReadyPromise=new qe(function(k){y.dbReadyResolve=k}),y.openCanceller=new qe(function(k,T){y.cancelOpen=T}))},Zt.prototype.close=function(k){var b=(k===void 0?{disableAutoOpen:!0}:k).disableAutoOpen,k=this._state;b?(k.isBeingOpened&&k.cancelOpen(new Pe.DatabaseClosed),this._close(),k.autoOpen=!1,k.dbOpenError=new Pe.DatabaseClosed):(this._close(),k.autoOpen=this._options.autoOpen||k.isBeingOpened,k.openComplete=!1,k.dbOpenError=null)},Zt.prototype.delete=function(y){var b=this;y===void 0&&(y={disableAutoOpen:!0});var k=0<arguments.length&&typeof arguments[0]!="object",T=this._state;return new qe(function(O,R){function H(){b.close(y);var K=b._deps.indexedDB.deleteDatabase(b.name);K.onsuccess=Te(function(){var ee,ie,de;ee=b._deps,ie=b.name,de=ee.indexedDB,ee=ee.IDBKeyRange,wa(de)||ie===_i||yc(de,ee).delete(ie).catch(Tt),O()}),K.onerror=fr(R),K.onblocked=b._fireOnBlocked}if(k)throw new Pe.InvalidArgument("Invalid closeOptions argument to db.delete()");T.isBeingOpened?T.dbReadyPromise.then(H):H()})},Zt.prototype.backendDB=function(){return this.idbdb},Zt.prototype.isOpen=function(){return this.idbdb!==null},Zt.prototype.hasBeenClosed=function(){var y=this._state.dbOpenError;return y&&y.name==="DatabaseClosed"},Zt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Zt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Zt.prototype,"tables",{get:function(){var y=this;return o(this._allTables).map(function(b){return y._allTables[b]})},enumerable:!1,configurable:!0}),Zt.prototype.transaction=function(){var y=(function(b,k,T){var O=arguments.length;if(O<2)throw new Pe.InvalidArgument("Too few arguments");for(var R=new Array(O-1);--O;)R[O-1]=arguments[O];return T=R.pop(),[b,F(R),T]}).apply(this,arguments);return this._transaction.apply(this,y)},Zt.prototype._transaction=function(y,b,k){var T=this,O=Ve.trans;O&&O.db===this&&y.indexOf("!")===-1||(O=null);var R,H,K=y.indexOf("?")!==-1;y=y.replace("!","").replace("?","");try{if(H=b.map(function(ie){if(ie=ie instanceof T.Table?ie.name:ie,typeof ie!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return ie}),y=="r"||y===At)R=At;else{if(y!="rw"&&y!=Cn)throw new Pe.InvalidArgument("Invalid transaction mode: "+y);R=Cn}if(O){if(O.mode===At&&R===Cn){if(!K)throw new Pe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");O=null}O&&H.forEach(function(ie){if(O&&O.storeNames.indexOf(ie)===-1){if(!K)throw new Pe.SubTransaction("Table "+ie+" not included in parent transaction.");O=null}}),K&&O&&!O.active&&(O=null)}}catch(ie){return O?O._promise(null,function(de,Y){Y(ie)}):$t(ie)}var ee=(function ie(de,Y,he,re,ce){return qe.resolve().then(function(){var fe=Ve.transless||Ve,ae=de._createTransaction(Y,he,de._dbSchema,re);if(ae.explicit=!0,fe={trans:ae,transless:fe},re)ae.idbtrans=re.idbtrans;else try{ae.create(),ae.idbtrans._explicit=!0,de._state.PR1398_maxLoop=3}catch(Se){return Se.name===Ye.InvalidState&&de.isOpen()&&0<--de._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),de.close({disableAutoOpen:!1}),de.open().then(function(){return ie(de,Y,he,null,ce)})):$t(Se)}var xe,we=G(ce);return we&&_t(),fe=qe.follow(function(){var Se;(xe=ce.call(ae,ae))&&(we?(Se=Pt.bind(null,null),xe.then(Se,Se)):typeof xe.next=="function"&&typeof xe.throw=="function"&&(xe=Ca(xe)))},fe),(xe&&typeof xe.then=="function"?qe.resolve(xe).then(function(Se){return ae.active?Se:$t(new Pe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):fe.then(function(){return xe})).then(function(Se){return re&&ae._resolve(),ae._completion.then(function(){return Se})}).catch(function(Se){return ae._reject(Se),$t(Se)})})}).bind(null,this,R,H,O,k);return O?O._promise(R,ee,"lock"):Ve.trans?Xn(Ve.transless,function(){return T._whenReady(ee)}):this._whenReady(ee)},Zt.prototype.table=function(y){if(!p(this._allTables,y))throw new Pe.InvalidTable("Table ".concat(y," does not exist"));return this._allTables[y]},Zt);function Zt(y,b){var k=this;this._middlewares={},this.verno=0;var T=Zt.dependencies;this._options=b=r({addons:Zt.addons,autoOpen:!0,indexedDB:T.indexedDB,IDBKeyRange:T.IDBKeyRange,cache:"cloned"},b),this._deps={indexedDB:b.indexedDB,IDBKeyRange:b.IDBKeyRange},T=b.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var O,R,H,K,ee,ie={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Tt,dbReadyPromise:null,cancelOpen:Tt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:b.autoOpen};ie.dbReadyPromise=new qe(function(Y){ie.dbReadyResolve=Y}),ie.openCanceller=new qe(function(Y,he){ie.cancelOpen=he}),this._state=ie,this.name=y,this.on=fs(this,"populate","blocked","versionchange","close",{ready:[Fr,Tt]}),this.on.ready.subscribe=A(this.on.ready.subscribe,function(Y){return function(he,re){Zt.vip(function(){var ce,fe=k._state;fe.openComplete?(fe.dbOpenError||qe.resolve().then(he),re&&Y(he)):fe.onReadyBeingFired?(fe.onReadyBeingFired.push(he),re&&Y(he)):(Y(he),ce=k,re||Y(function ae(){ce.on.ready.unsubscribe(he),ce.on.ready.unsubscribe(ae)}))})}}),this.Collection=(O=this,Hi(Yt.prototype,function(xe,ae){this.db=O;var re=oi,ce=null;if(ae)try{re=ae()}catch(we){ce=we}var fe=xe._ctx,ae=fe.table,xe=ae.hook.reading.fire;this._ctx={table:ae,index:fe.index,isPrimKey:!fe.index||ae.schema.primKey.keyPath&&fe.index===ae.schema.primKey.name,range:re,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:ce,or:fe.or,valueMapper:xe!==pn?xe:null}})),this.Table=(R=this,Hi(vh.prototype,function(Y,he,re){this.db=R,this._tx=re,this.name=Y,this.schema=he,this.hook=R._allTables[Y]?R._allTables[Y].hook:fs(null,{creating:[Os,Tt],reading:[cn,pn],updating:[go,Tt],deleting:[Bi,Tt]})})),this.Transaction=(H=this,Hi(ma.prototype,function(Y,he,re,ce,fe){var ae=this;this.db=H,this.mode=Y,this.storeNames=he,this.schema=re,this.chromeTransactionDurability=ce,this.idbtrans=null,this.on=fs(this,"complete","error","abort"),this.parent=fe||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new qe(function(xe,we){ae._resolve=xe,ae._reject=we}),this._completion.then(function(){ae.active=!1,ae.on.complete.fire()},function(xe){var we=ae.active;return ae.active=!1,ae.on.error.fire(xe),ae.parent?ae.parent._reject(xe):we&&ae.idbtrans&&ae.idbtrans.abort(),$t(xe)})})),this.Version=(K=this,Hi(gc.prototype,function(Y){this.db=K,this._cfg={version:Y,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(ee=this,Hi(qi.prototype,function(Y,he,re){if(this.db=ee,this._ctx={table:Y,index:he===":id"?null:he,or:re},this._cmp=this._ascending=ft,this._descending=function(ce,fe){return ft(fe,ce)},this._max=function(ce,fe){return 0<ft(ce,fe)?ce:fe},this._min=function(ce,fe){return ft(ce,fe)<0?ce:fe},this._IDBKeyRange=ee._deps.IDBKeyRange,!this._IDBKeyRange)throw new Pe.MissingAPI})),this.on("versionchange",function(Y){0<Y.newVersion?console.warn("Another connection wants to upgrade database '".concat(k.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(k.name,"'. Closing db now to resume the delete request.")),k.close({disableAutoOpen:!1})}),this.on("blocked",function(Y){!Y.newVersion||Y.newVersion<Y.oldVersion?console.warn("Dexie.delete('".concat(k.name,"') was blocked")):console.warn("Upgrade '".concat(k.name,"' blocked by other connection holding version ").concat(Y.oldVersion/10))}),this._maxKey=ya(b.IDBKeyRange),this._createTransaction=function(Y,he,re,ce){return new k.Transaction(Y,he,re,k._options.chromeTransactionDurability,ce)},this._fireOnBlocked=function(Y){k.on("blocked").fire(Y),Nr.filter(function(he){return he.name===k.name&&he!==k&&!he._state.vcFired}).map(function(he){return he.on("versionchange").fire(Y)})},this.use(Ym),this.use(Lh),this.use(Xm),this.use(Km),this.use(Gm);var de=new Proxy(this,{get:function(Y,he,re){if(he==="_vip")return!0;if(he==="table")return function(fe){return ja(k.table(fe),de)};var ce=Reflect.get(Y,he,re);return ce instanceof vh?ja(ce,de):he==="tables"?ce.map(function(fe){return ja(fe,de)}):he==="_createTransaction"?function(){return ja(ce.apply(this,arguments),de)}:ce}});this.vip=de,T.forEach(function(Y){return Y(k)})}var Ul,$r=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Jm=(Hl.prototype.subscribe=function(y,b,k){return this._subscribe(y&&typeof y!="function"?y:{next:y,error:b,complete:k})},Hl.prototype[$r]=function(){return this},Hl);function Hl(y){this._subscribe=y}try{Ul={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{Ul={indexedDB:null,IDBKeyRange:null}}function _c(y){var b,k=!1,T=new Jm(function(O){var R=G(y),H,K=!1,ee={},ie={},de={get closed(){return K},unsubscribe:function(){K||(K=!0,H&&H.abort(),Y&&Ki.storagemutated.unsubscribe(re))}};O.start&&O.start(de);var Y=!1,he=function(){return Tr(ce)},re=function(fe){Dl(ee,fe),xc(ie,ee)&&he()},ce=function(){var fe,ae,xe;!K&&Ul.indexedDB&&(ee={},fe={},H&&H.abort(),H=new AbortController,xe=function(we){var Se=X();try{R&&_t();var ke=et(y,we);return ke=R?ke.finally(Pt):ke}finally{Se&&pe()}}(ae={subscr:fe,signal:H.signal,requery:he,querier:y,trans:null}),Promise.resolve(xe).then(function(we){k=!0,b=we,K||ae.signal.aborted||(ee={},function(Se){for(var ke in Se)if(p(Se,ke))return;return 1}(ie=fe)||Y||(Ki(zr,re),Y=!0),Tr(function(){return!K&&O.next&&O.next(we)}))},function(we){k=!1,["DatabaseClosedError","AbortError"].includes(we?.name)||K||Tr(function(){K||O.error&&O.error(we)})}))};return setTimeout(he,0),de});return T.hasValue=function(){return k},T.getValue=function(){return b},T}var li=Ci;function $s(y){var b=ui;try{ui=!0,Ki.storagemutated.fire(y),bc(y,!0)}finally{ui=b}}g(li,r(r({},un),{delete:function(y){return new li(y,{addons:[]}).delete()},exists:function(y){return new li(y,{addons:[]}).open().then(function(b){return b.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(y){try{return b=li.dependencies,k=b.indexedDB,b=b.IDBKeyRange,(wa(k)?Promise.resolve(k.databases()).then(function(T){return T.map(function(O){return O.name}).filter(function(O){return O!==_i})}):yc(k,b).toCollection().primaryKeys()).then(y)}catch{return $t(new Pe.MissingAPI)}var b,k},defineClass:function(){return function(y){u(this,y)}},ignoreTransaction:function(y){return Ve.trans?Xn(Ve.transless,y):y()},vip:_a,async:function(y){return function(){try{var b=Ca(y.apply(this,arguments));return b&&typeof b.then=="function"?b:qe.resolve(b)}catch(k){return $t(k)}}},spawn:function(y,b,k){try{var T=Ca(y.apply(k,b||[]));return T&&typeof T.then=="function"?T:qe.resolve(T)}catch(O){return $t(O)}},currentTransaction:{get:function(){return Ve.trans||null}},waitFor:function(y,b){return b=qe.resolve(typeof y=="function"?li.ignoreTransaction(y):y).timeout(b||6e4),Ve.trans?Ve.trans.waitFor(b):b},Promise:qe,debug:{get:function(){return Nn},set:function(y){cr(y)}},derive:_,extend:u,props:g,override:A,Events:fs,on:Ki,liveQuery:_c,extendObservabilitySet:Dl,getByKeyPath:P,setByKeyPath:D,delByKeyPath:function(y,b){typeof b=="string"?D(y,b,void 0):"length"in b&&[].map.call(b,function(k){D(y,k,void 0)})},shallowClone:z,deepClone:ue,getObjectDiff:wc,cmp:ft,asap:U,minKey:-1/0,addons:[],connections:Nr,errnames:Ye,dependencies:Ul,cache:zs,semVer:"4.0.11",version:"4.0.11".split(".").map(function(y){return parseInt(y)}).reduce(function(y,b,k){return y+b/Math.pow(10,2*k)})})),li.maxKey=ya(li.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Ki(zr,function(y){ui||(y=new CustomEvent(pc,{detail:y}),ui=!0,dispatchEvent(y),ui=!1)}),addEventListener(pc,function(y){y=y.detail,ui||$s(y)}));var Eo,ui=!1,Ah=function(){};return typeof BroadcastChannel<"u"&&((Ah=function(){(Eo=new BroadcastChannel(pc)).onmessage=function(y){return y.data&&$s(y.data)}})(),typeof Eo.unref=="function"&&Eo.unref(),Ki(zr,function(y){ui||Eo.postMessage(y)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(y){if(!Ci.disableBfCache&&y.persisted){Nn&&console.debug("Dexie: handling persisted pagehide"),Eo?.close();for(var b=0,k=Nr;b<k.length;b++)k[b].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(y){!Ci.disableBfCache&&y.persisted&&(Nn&&console.debug("Dexie: handling persisted pageshow"),Ah(),$s({all:new On(-1/0,[[]])}))})),qe.rejectionMapper=function(y,b){return!y||y instanceof $||y instanceof TypeError||y instanceof SyntaxError||!y.name||!ht[y.name]?y:(b=new ht[y.name](b||y.message,y),"stack"in y&&w(b,"stack",{get:function(){return this.inner.stack}}),b)},cr(Nn),r(Ci,Object.freeze({__proto__:null,Dexie:Ci,liveQuery:_c,Entity:As,cmp:ft,PropModification:pa,replacePrefix:function(y,b){return new pa({replacePrefix:[y,b]})},add:function(y){return new pa({add:y})},remove:function(y){return new pa({remove:y})},default:Ci,RangeSet:On,mergeRanges:Sa,rangesOverlap:_h}),{default:Ci}),Ci})}(_p)),_p.exports}var PR=NR();const uy=xi(PR),f5=Symbol.for("Dexie"),Kp=globalThis[f5]||(globalThis[f5]=uy);if(uy.semVer!==Kp.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${uy.semVer} and ${Kp.semVer}`);const{liveQuery:OR,mergeRanges:DG,rangesOverlap:FG,RangeSet:BG,cmp:zG,Entity:$G,PropModification:UG,replacePrefix:HG,add:QG,remove:VG}=Kp;class LR extends Kp{interested_snapshot;interested_subject;simulation_run;simulation_run_selections;simulation_run_events;constructor(){super("ALLCLL_Simulation"),this.version(1).stores({interested_snapshot:"++snapshot_id,user_id,created_at,simulated",interested_subject:"++interested_id,snapshot_id,subject_id",simulation_run:"++simulation_run_id,snapshot_id,user_id,department_name,success_subject_count,subject_count,accuracy,score,total_elapsed,started_at,ended_at",simulation_run_selections:"++run_selections_id,simulation_run_id,interested_id,selected_index,status,started_at,ended_at",simulation_run_events:"++event_id,simulation_section_id,event_type,timestamp"})}}const He=new LR;async function M7(){const e=await He.interested_snapshot.orderBy("created_at").last();if(!e)return null;const t=await He.interested_subject.where("snapshot_id").equals(e.snapshot_id).toArray();return{...e,subjects:t}}async function R7(e){const t=await He.interested_snapshot.get(e);if(!t)return null;const n=await He.interested_subject.where("snapshot_id").equals(e).toArray();return{...t,subjects:n}}async function AR(e){const t=await He.interested_snapshot.orderBy("created_at").last(),n=t&&!t.simulated?t.snapshot_id:await He.interested_snapshot.add({user_id:"Todo: user_id",created_at:Date.now(),simulated:!1});t&&!t.simulated&&(await He.interested_snapshot.update(t.snapshot_id,{created_at:Date.now()}),await He.interested_subject.where("snapshot_id").equals(t.snapshot_id).delete()),await He.interested_subject.bulkAdd(e.map(r=>({snapshot_id:n,subject_id:r})))}async function p5(e,t){const n=await He.interested_subject.where("snapshot_id").equals(e).filter(r=>r.subject_id===t).first();return n?n.interested_id:-1}async function MR(){const e=await Hd();if("errMsg"in e)throw new Error(e.errMsg);return e}const RR=["","","1","","","","","","","","","","","","","","","English Listening","English Reading"],IR=(e,t,n)=>{const r=e.find(s=>s.subjectId===t);let i=40;return r?.departmentName===""&&(RR.includes(r.subjectName)?i=4.6*3:i=4.6*4),console.log(n,i),n<i},jm=ur(e=>({currentSubjectId:0,isCaptchaFailed:!1,subjectStatusMap:{},setCurrentSubjectId:t=>e({currentSubjectId:t}),setSubjectStatus:(t,n)=>e(r=>({subjectStatusMap:{...r.subjectStatusMap,[t]:n}})),setCaptchaFailed:t=>e({isCaptchaFailed:t})}));var Bn=(e=>(e[e.SEARCH=0]="SEARCH",e[e.APPLY=1]="APPLY",e[e.CAPTCHA=2]="CAPTCHA",e[e.CANCEL_SUBMIT=3]="CANCEL_SUBMIT",e[e.SUBJECT_SUBMIT=4]="SUBJECT_SUBMIT",e[e.REFRESH=5]="REFRESH",e[e.SKIP_REFRESH=6]="SKIP_REFRESH",e))(Bn||{}),qt=(e=>(e[e.PROGRESS=0]="PROGRESS",e[e.SUCCESS=1]="SUCCESS",e[e.FAILED=2]="FAILED",e[e.DOUBLED=3]="DOUBLED",e[e.CAPTCHA_FAILED=4]="CAPTCHA_FAILED",e[e.NOT_ELIGIBLE=5]="NOT_ELIGIBLE",e[e.CANCELED=6]="CANCELED",e))(qt||{}),I7=(e=>(e.SNAPSHOT_NOT_EXIST="SNAPSHOT_NOT_EXIST",e.ONGOING_SIMULATION_NOT_FOUND="ONGOING_SIMULATION_NOT_FOUND",e.SELECTION_NOT_FOUND="SELECTION_NOT_FOUND",e.SIMULATION_NOT_FOUND="SIMULATION_NOT_FOUND",e.MULTIPLE_SIMULATION_FOUND="MULTIPLE_SIMULATION_FOUND",e.SIMULATION_IS_NOT_FINISHED="SIMULATION_IS_NOT_FINISHED",e.MULTIPLE_SIMULATION_RUNNING="MULTIPLE_SIMULATION_RUNNING",e.UNKNOWN_ERROR="UNKNOWN_ERROR",e))(I7||{});const $x=300,DR=$x*1e3;function ia(e){return{errMsg:e}}function D7(e){return e instanceof Error?ia(e.message):ia("UNKNOWN_ERROR")}async function Hd(){try{const e=await Em();if(!e)return{simulationId:-1};const t=await He.simulation_run_selections.filter(a=>Tm(a,e.simulation_run_id)).toArray(),n=await He.interested_subject.where("snapshot_id").equals(e.snapshot_id).toArray();if(!n)return ia("SNAPSHOT_NOT_EXIST");const r=t.filter(a=>a.status===1),i=n.filter(a=>r.some(u=>u.interested_id===a.interested_id)).map(a=>({subjectId:a.subject_id})),s=n.filter(a=>!r.some(u=>u.interested_id===a.interested_id)).map(a=>({subjectId:a.subject_id})),o=t.map(a=>{const u=n.find(c=>c.interested_id===a.interested_id);return u?{subjectId:u.subject_id,status:a.status}:{subjectId:-1,status:2}});return{simulationId:e.simulation_run_id,userStatus:{userPK:e.user_id,departmentCode:e.department_code,departmentName:e.department_name},searchEventAt:e.search_event_at,startedAt:e.started_at,nonRegisteredSubjects:s,registeredSubjects:i,subjectStatus:o}}catch(e){return D7(e)}}async function Em(){const e=await He.simulation_run.filter(t=>t.ended_at===-1).toArray();if(e&&e.length>1)throw new Error("MULTIPLE_SIMULATION_RUNNING");return e[0]??null}async function FR(e){const t=await He.simulation_run.where("simulation_run_id").equals(e).filter(n=>n.ended_at!==-1).toArray();if(!t.length)throw new Error("SIMULATION_NOT_FOUND");if(t.length>1)throw new Error("MULTIPLE_SIMULATION_FOUND");return t[0]}async function BR(e,t,n){const r=await Hd();if(r&&"errMsg"in r)return r;if(r.simulationId!==-1)return{simulationId:r.simulationId,isRunning:!0};const i=await M7();if(!i)return ia("SNAPSHOT_NOT_EXIST");await He.interested_snapshot.update(i.snapshot_id,{simulated:!0});const s=i.subjects;return{simulationId:await He.simulation_run.add({snapshot_id:i.snapshot_id,user_id:e,department_code:t,department_name:n,success_subject_count:0,subject_count:s.length,accuracy:-1,score:-1,total_elapsed:-1,search_event_at:-1,started_at:Date.now(),ended_at:-1}),started_at:Date.now(),isRunning:!0}}async function io(e,t){const{eventType:n}=e;console.log("BUTTON EVENT",e);let r;try{if(r=await Em(),!r)throw new Error("ONGOING_SIMULATION_NOT_FOUND")}catch(c){return D7(c)}const i=r.simulation_run_id;if(n===0){const c=Date.now();return await He.simulation_run.update(i,{search_event_at:c}),{elapsed_time:c-r.started_at}}const{subjectId:s}=e;if(n===1){const c=await He.simulation_run_selections.filter(p=>p.simulation_run_id===r.simulation_run_id&&p.ended_at>=0).count(),f=await He.simulation_run_selections.add({simulation_run_id:r.simulation_run_id,interested_id:await p5(r.snapshot_id,s),selected_index:c+1,status:0,started_at:Date.now(),ended_at:-1});return await He.simulation_run_events.add({simulation_section_id:f,event_type:n,timestamp:Date.now()}),{}}const o=await He.simulation_run_selections.filter(c=>c.simulation_run_id===i).toArray(),a=o.filter(c=>c.ended_at===-1).sort((c,f)=>f.started_at-c.started_at)[0];if(!a)return ia("SELECTION_NOT_FOUND");const u=Date.now();if(await He.simulation_run_events.add({simulation_section_id:a.run_selections_id,event_type:n,timestamp:u}),n===4){const c=await p5(r.snapshot_id,s);if(!await He.simulation_run_selections.filter(E=>E.simulation_run_id===i&&E.interested_id===c).last())return ia("SELECTION_NOT_FOUND");const p=async E=>(await He.simulation_run_selections.update(a.run_selections_id,{status:E}),console.log("saved section",a.run_selections_id,E),{status:E});if(jm.getState().isCaptchaFailed)return await p(4);if(o.some(E=>E.interested_id===c&&E.status===2))return await p(3),{status:2};if(o.some(E=>E.interested_id===c&&E.ended_at>=0&&Tm(E,i)))return await p(3);const _=Math.floor(u-r.started_at)/1e3;return IR(t,s,_)?await p(1):await p(2)}if(n===3&&await He.simulation_run_selections.update(a.run_selections_id,{status:6,ended_at:Date.now()}),n===5||n===6){await He.simulation_run_selections.update(a.run_selections_id,{ended_at:Date.now()});const c=await $R();return c&&await F7(),{finished:c}}return{}}async function ll(){await F7()}async function F7(){const e=await He.simulation_run.filter(u=>u.ended_at<=-1).last();if(!e)return;const t=await He.simulation_run_selections.filter(u=>u.simulation_run_id===e.simulation_run_id).toArray(),n=t.filter(u=>Tm(u,e.simulation_run_id)).length,i=t.filter(u=>HR(u,e.simulation_run_id)).reduce((u,c)=>c.ended_at===-1?u+4600:u+(c.ended_at-c.started_at),0),s=Date.now()-e.started_at,o=GM(s/1e3,i/1e3),a=Sm(s/1e3/n)+KM(o);await He.simulation_run.update(e.simulation_run_id,{ended_at:Date.now(),accuracy:o,score:Math.min(100,Math.max(0,a)),total_elapsed:s}),await UR(e)}async function zR({simulationId:e}){const t=await He.simulation_run.get(e);return t?t.ended_at===-1?ia("SIMULATION_IS_NOT_FINISHED"):{accuracy:t.accuracy,score:t.score,total_elapsed:t.total_elapsed}:ia("SIMULATION_NOT_FOUND")}async function $R(){let e;try{e=await Em()}catch{return!0}if(!e)return!0;const t=await He.simulation_run_selections.filter(n=>Tm(n,e.simulation_run_id)).toArray();return e.subject_count<=t.length}async function UR(e){const t=e.simulation_run_id;return e.search_event_at<0?(await He.simulation_run_selections.where("simulation_run_id").equals(t).delete(),await He.simulation_run.delete(t),!0):(e.started_at+DR<Date.now()&&await He.simulation_run.update(t,{ended_at:Date.now()}),!1)}const B7=(e,t)=>e.simulation_run_id===t,Tm=(e,t)=>B7(e,t)&&[1,2].includes(e.status),HR=(e,t)=>B7(e,t)&&![1,2].includes(e.status);function _l(e){return e>5?"text-green-500 bg-green-100":e>0?"text-yellow-500 bg-yellow-100":e==0?"text-red-500 bg-red-100":"text-gray-500 bg-gray-100"}function z7(e){return e>=100?"text-red-500 bg-red-100":e>=50?"text-yellow-500 bg-yellow-100":e>=0?"text-green-500 bg-green-100":"text-gray-500 bg-gray-100"}function QR(e){return VR(cy(e))}function cy(e){switch(e){case qt.SUCCESS:return"green";case qt.FAILED:return"red";case qt.CAPTCHA_FAILED:return"orange";case qt.PROGRESS:return"yellow";default:return"gray"}}function VR(e){switch(e){case"green":return"bg-green-100 text-green-500";case"red":return"bg-red-100 text-red-500";case"orange":return"bg-orange-100 text-orange-500";case"yellow":return"bg-yellow-100 text-yellow-500";default:return"bg-gray-100 text-gray-500"}}function qR(){return h.jsxs(vl,{children:[h.jsx(hm,{title:"   ",subtitle:"    ,  ",href:"/live"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[h.jsx("h2",{className:"text-lg font-semibold mb-2",children:"  "}),h.jsxs("p",{className:"text-gray-500",children:["   ,   ",h.jsx("span",{className:"text-blue-500 font-bold",children:""})," "]}),h.jsx("div",{className:"flex flex-col gap-4 mt-4",children:[{name:"",prof:"003281 | "},{name:"",prof:"004310 | LEE KANGWON"}].map(({name:e,prof:t})=>h.jsxs("div",{className:"bg-gray-50 shadow-sm rounded-lg p-4 w-full",children:[h.jsxs("div",{className:"flex justify-between mb-2",children:[h.jsx("h3",{className:"font-bold",children:e}),h.jsx(ec,{})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("p",{className:"text-sm text-gray-500",children:t}),h.jsx("p",{className:"text-sm text-red-500 font-bold",children:": 0"})]})]},t))})]}),h.jsxs("div",{className:"bg-white p-6 shadow-md rounded-md",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"  TOP 10"}),h.jsx("p",{className:"text-gray-500 mb-4",children:"    !"}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full bg-white rounded-lg text-sm",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"bg-gray-50 z-10 text-nowrap",children:[h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""})]})}),h.jsx("tbody",{children:[{id:"004310-004",name:"",prof:"",seats:22},{id:"003281-001",name:"",prof:"",seats:15},{id:"004118-007",name:"",prof:"Rajendra Dhakal",seats:6},{id:"009912-006",name:"C",prof:"",seats:5},{id:"007330-001",name:"",prof:"",seats:4}].map(({id:e,name:t,prof:n,seats:r},i)=>h.jsxs("tr",{className:"border-t border-gray-200 text-black",children:[h.jsx("td",{className:"px-4 py-2 text-center",children:e}),h.jsx("td",{className:"px-4 py-2 text-center",children:t}),h.jsx("td",{className:"px-4 py-2 text-center",children:n}),h.jsx("td",{className:"px-4 py-2 text-center font-bold",children:h.jsx("p",{className:`px-3 py-1 rounded-full text-xs font-bold ${_l(r)}`,children:r})})]},"live-non-major-"+i))})]})})]})]})]})}const WR=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,72)"},N.createElement("path",{d:"M18,72Q22.9219,71.9297,27,69.6094Q31.0781,67.2188,33.6094,63Q36,58.710899999999995,36,54Q36,49.2891,33.6094,45Q31.0781,40.78125,27,38.39062Q22.9219,36.0703125,18,36Q13.0781,36.0703125,9,38.39062Q4.92188,40.78125,2.39062,45Q0,49.2891,0,54Q0,58.710899999999995,2.39062,63Q4.92188,67.2188,9,69.6094Q13.0781,71.9297,18,72ZM16.3125,63.5625L16.3125,54L16.3125,63.5625L16.3125,54Q16.3125,53.085899999999995,17.0859,52.5938L23.8359,48.0938Q25.1719,47.3203,26.1562,48.5859Q26.9297,49.9219,25.6641,50.9062L19.6875,54.914100000000005L19.6875,63.5625Q19.5469,65.1094,18,65.25Q16.4531,65.1094,16.3125,63.5625Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),KR=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,72)"},N.createElement("path",{d:"M25.8047,42.96094L7.03125,61.8047L25.8047,42.96094L7.03125,61.8047Q4.57031,58.4297,4.5,54Q4.64062,48.2344,8.4375,44.4375Q12.2344,40.64062,18,40.5Q22.4297,40.57031,25.8047,42.96094ZM29.0391,46.1953Q31.4297,49.5703,31.5,54Q31.3594,59.7656,27.5625,63.5625Q23.7656,67.3594,18,67.5Q13.5703,67.4297,10.1953,64.9688L29.0391,46.1953ZM0,54Q0.0703125,58.9219,2.39062,63Q4.78125,67.0781,9,69.6094Q13.2891,72,18,72Q22.7109,72,27,69.6094Q31.2188,67.0781,33.6094,63Q35.9297,58.9219,36,54Q35.9297,49.0781,33.6094,45Q32.4141,42.96094,30.7617,41.30859Q29.1094,39.65625,27,38.39062Q22.7109,36,18,36Q13.2891,36,9,38.39062Q4.78125,40.92188,2.39062,45Q0.0703125,49.0781,0,54Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),$7=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:33.75,height:36,viewBox:"0 0 33.75 36",...e},N.createElement("defs",null,N.createElement("clipPath",{id:"master_svg0_85_3284"},N.createElement("rect",{x:0,y:0,width:33.75,height:36,rx:0}))),N.createElement("g",{clipPath:"url(#master_svg0_85_3284)"},N.createElement("g",{transform:"matrix(1,0,0,-1,0,69.046875)"},N.createElement("g",null,N.createElement("path",{d:"M6.25781,54.000037500000005Q7.10156,56.3906375,8.92969,58.2187375Q12.375,61.5234375,16.875,61.5234375Q21.375,61.5234375,24.8203,58.2187375L26.0156,57.0234375L23.625,57.0234375Q22.6406,57.0234375,22.0078,56.3906375Q21.375,55.7578375,21.375,54.7734375Q21.375,53.7890375,22.0078,53.1562375Q22.6406,52.5234375,23.625,52.5234375L31.5,52.5234375Q32.4844,52.5234375,33.1172,53.1562375Q33.75,53.7890375,33.75,54.7734375L33.75,62.6484375Q33.75,63.6328375,33.1172,64.2656375Q32.4844,64.8984375,31.5,64.8984375Q30.5156,64.8984375,29.8828,64.2656375Q29.25,63.6328375,29.25,62.6484375L29.25,60.187537500000005L27.9844,61.3828375Q24.8906,64.4765375,20.8828,65.5312375Q16.875,66.5156375,12.8672,65.5312375Q8.85938,64.4765375,5.76562,61.3828375Q3.16406,58.7812375,2.03906,55.546837499999995Q1.75781,54.6328375,2.10938,53.7890375Q2.53125,53.0156375,3.375,52.6640375Q4.28906,52.3828375,5.13281,52.734337499999995Q5.90625,53.1562375,6.25781,54.000037500000005ZM1.61719,47.9531375Q1.05469,47.7422375,0.632812,47.3203375Q0.210938,46.8984375,0.0703125,46.3359375Q0.0703125,46.2656375,0,46.1250375Q0,45.9140375,0,45.7734375L0,37.8984375Q0,36.9140575,0.632812,36.2812475Q1.26562,35.6484375,2.25,35.6484375Q3.23438,35.6484375,3.86719,36.2812475Q4.5,36.9140575,4.5,37.8984375L4.5,40.3593775L5.76562,39.1640575Q8.85938,36.0703175,12.8672,35.0156255Q16.875,34.0312495,20.8828,35.0156255Q24.8906,36.0703175,27.9844,39.1640575Q30.5859,41.7656275,31.7109,45.0000375Q31.9922,45.9140375,31.6406,46.7578375Q31.2188,47.5312375,30.375,47.8828375Q29.4609,48.1640375,28.6172,47.8125375Q27.8438,47.3906375,27.4922,46.5468375Q26.6484,44.2265575,24.8203,42.3281275Q21.375,39.0234375,16.875,39.0234375Q12.375,39.0234375,8.92969,42.3281275L7.73438,43.5234375L10.125,43.5234375Q11.1094,43.5234375,11.7422,44.1562475Q12.375,44.7890375,12.375,45.7734375Q12.375,46.7578375,11.7422,47.3906375Q11.1094,48.0234375,10.125,48.0234375L2.25,48.0234375Q2.10938,48.0234375,1.96875,48.0234375Q1.75781,47.9531375,1.61719,47.9531375Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})))));function GR(){return h.jsxs(vl,{className:"text-center",children:[h.jsx("h2",{className:"text-2xl font-semibold",children:"  "}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[{icon:h.jsx(WR,{className:"w-6 h-6"}),title:"6     ...",text:"       "},{icon:h.jsx(KR,{className:"w-6 h-6"}),title:"   ...",text:"  ,      "},{icon:h.jsx($7,{className:"w-6 h-6"}),title:"      ...",text:"   ,     "}].map(({icon:e,title:t,text:n},r)=>h.jsxs("div",{className:"flex flex-col gap-4 p-6 rounded-md bg-gray-50 text-left",children:[e,h.jsx("h3",{className:"font-extrabold",children:t}),h.jsx("p",{className:"text-xs text-gray-500",children:n})]},"pain-point-"+r))}),h.jsxs("div",{className:"text-gray-900 mt-16",children:[h.jsx("p",{children:"   ."}),h.jsx("p",{children:"   ,      . "})]})]})}const YR=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:24,height:24,viewBox:"0 0 24 24",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,48)"},N.createElement("path",{d:"M18.7031,30Q17.9062,31.35938,16.5469,32.15625Q15.1875,33,13.5,33L10.5,33Q8.8125,33,7.45312,32.15625Q6.09375,31.35938,5.29688,30Q6.5625,28.59375,8.25,27.79688Q9.98438,27,12,27Q14.0156,27,15.75,27.79688Q17.4375,28.59375,18.7031,30ZM0,36Q0.046875,39.2812,1.59375,42Q3.1875,44.7188,6,46.4062Q8.85938,48,12,48Q15.1406,48,18,46.4062Q20.8125,44.7188,22.4062,42Q23.9531,39.2812,24,36Q23.9531,32.71875,22.4062,30Q20.8125,27.28125,18,25.59375Q15.1406,24,12,24Q8.85938,24,6,25.59375Q3.1875,27.28125,1.59375,30Q0.046875,32.71875,0,36ZM12,35.25Q13.9219,35.2969,14.9062,36.9375Q15.8438,38.625,14.9062,40.3125Q13.9219,41.9531,12,42Q10.0781,41.9531,9.09375,40.3125Q8.15625,38.625,9.09375,36.9375Q10.0781,35.2969,12,35.25Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function XR(){return h.jsxs(vl,{className:"text-center",children:[h.jsx("h2",{className:"text-2xl font-semibold",children:"   !"}),h.jsxs("div",{className:"overflow-hidden mt-6 relative",children:[h.jsx("div",{className:"absolute top-0 left-0 w-12 h-full bg-gradient-to-r from-gray-50 to-transparent z-10"}),h.jsxs("div",{className:"animate-marquee flex gap-6 flex-nowrap w-fit",children:[m5.map((e,t)=>h.jsx(g5,{...e},"feedback-left-"+t)),m5.map((e,t)=>h.jsx(g5,{...e},"feedback-right-"+t))]}),h.jsx("div",{className:"absolute top-0 right-0 w-12 h-full bg-gradient-to-l from-gray-50 to-transparent z-10"})]})]})}const m5=[{name:"O",department:" 2",review:"        !"},{name:"O",department:" 4",review:"         !"},{name:"O",department:" 3",review:"     !"}];function g5({name:e,department:t,review:n}){return h.jsxs("div",{className:"w-screen md:w-xs flex flex-col gap-4 p-6 rounded-md bg-white text-left text-sm",children:[h.jsxs("div",{className:"flex gap-4 items-center",children:[h.jsx(YR,{className:"w-6 h-6"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-bold",children:e}),h.jsx("p",{className:"text-xs text-gray-500",children:t})]})]}),h.jsxs("p",{className:"text-gray-950",children:['"',n,'"']})]})}function JR(){return h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx(tN,{}),h.jsx(ON,{}),h.jsx(ER,{}),h.jsx(fR,{}),h.jsx(qR,{}),h.jsx(GR,{}),h.jsx(XR,{})]})}function tc({children:e}){return h.jsx("div",{className:"bg-white shadow-sm rounded-lg p-4 mb-4",children:e})}function Nm({col:e,row:t}){return h.jsx(h.Fragment,{children:Array.from({length:t}).map((n,r)=>h.jsx("tr",{className:"animate-pulse border-t border-gray-200 h-10",children:Array.from({length:e}).map((i,s)=>h.jsx("td",{className:"bg-gray-300",colSpan:-1},`skeleton-td-${s}-${r}`))},"skeleton-row-"+r))})}function Pm({icon:e,title:t,description:n,children:r}){return h.jsx("div",{className:"flex flex-col items-center justify-center w-full bg-gray-50 rounded-md",children:h.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 p-12",children:[h.jsx("div",{children:e}),h.jsx("div",{className:"text-gray-600",children:t}),h.jsx("div",{className:"text-xs text-gray-500",children:n}),r]})})}const ZR=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:12.68359375,height:12.25,viewBox:"0 0 12.68359375 12.25",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,24.5)"},N.createElement("g",null,N.createElement("path",{d:"M9.67675,21L8.30998,21L9.67675,21L8.30998,21Q7.92728,21,7.68126,20.753909999999998Q7.43524,20.50781,7.43524,20.125Q7.43524,19.74219,7.68126,19.49609Q7.92728,19.25,8.30998,19.25L11.8089,19.25Q12.1916,19.25,12.4376,19.49609Q12.6837,19.74219,12.6837,20.125L12.6837,23.625Q12.6837,24.0078,12.4376,24.2539Q12.1916,24.5,11.8089,24.5Q11.4262,24.5,11.1802,24.2539Q10.9342,24.0078,10.9342,23.625L10.9342,22.23047L10.4421,22.6953Q9.23938,23.898400000000002,7.68126,24.3086Q6.12314,24.6914,4.56502,24.3086Q3.0069,23.898400000000002,1.80414,22.6953Q0.60138,21.49219,0.191348,19.93359Q-0.191348,18.375,0.191348,16.81641Q0.60138,15.25781,1.80414,14.05469Q3.0069,12.851562,4.56502,12.441406Q6.12314,12.058594,7.68126,12.441406Q9.23938,12.851562,10.4421,14.05469Q10.7155,14.30078,10.7155,14.65625Q10.7155,15.01172,10.4421,15.28516Q10.1961,15.53125,9.84076,15.53125Q9.4854,15.53125,9.21205,15.28516Q7.87261,14,6.12314,14Q4.37367,14,3.03424,15.28516Q1.74947,16.625,1.74947,18.375Q1.74947,20.125,3.03424,21.464840000000002Q4.37367,22.75,6.12314,22.75Q7.87261,22.75,9.21205,21.464840000000002L9.67675,21Z",fill:"#FFFFFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))));function U7({onReload:e}){return h.jsx(Pm,{title:"    ",description:"  ",icon:h.jsx(lx,{className:"w-7 h-7"}),children:h.jsxs("button",{className:"mt-4 flex items-center gap-2 bg-blue-500 text-white px-4 py-2 rounded cursor-pointer hover:bg-blue-600",onClick:e,children:[h.jsx(ZR,{className:"w-3 h-3"}),""]})})}const Ux=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},N.createElement("defs",null,N.createElement("clipPath",{id:"master_svg0_106_2202"},N.createElement("rect",{x:0,y:0,width:36,height:36,rx:0}))),N.createElement("g",{clipPath:"url(#master_svg0_106_2202)"},N.createElement("g",{transform:"matrix(1,0,0,-1,0,69.046875)"},N.createElement("g",null,N.createElement("path",{d:"M2.25,66.0234375Q3.23438,66.0234375,3.86719,65.3906375Q4.5,64.7578375,4.5,63.7734375L4.5,40.1484375Q4.57031,39.0937475,5.625,39.0234375L33.75,39.0234375Q34.7344,39.0234375,35.3672,38.3906275Q36,37.7578175,36,36.7734375Q36,35.7890575,35.3672,35.1562495Q34.7344,34.5234375,33.75,34.5234375L5.625,34.5234375Q3.23438,34.59375,1.61719,36.1406275Q0.0703125,37.7578175,0,40.1484375L0,63.7734375Q0,64.7578375,0.632812,65.3906375Q1.26562,66.0234375,2.25,66.0234375ZM9,59.2734375Q9,60.2578375,9.63281,60.8906375Q10.2656,61.5234375,11.25,61.5234375L24.75,61.5234375Q25.7344,61.5234375,26.3672,60.8906375Q27,60.2578375,27,59.2734375Q27,58.2890375,26.3672,57.6562375Q25.7344,57.0234375,24.75,57.0234375L11.25,57.0234375Q10.2656,57.0234375,9.63281,57.6562375Q9,58.2890375,9,59.2734375ZM11.25,54.7734375L20.25,54.7734375L11.25,54.7734375L20.25,54.7734375Q21.2344,54.7734375,21.8672,54.1406375Q22.5,53.5078375,22.5,52.5234375Q22.5,51.5390375,21.8672,50.9062375Q21.2344,50.2734375,20.25,50.2734375L11.25,50.2734375Q10.2656,50.2734375,9.63281,50.9062375Q9,51.5390375,9,52.5234375Q9,53.5078375,9.63281,54.1406375Q10.2656,54.7734375,11.25,54.7734375ZM11.25,48.0234375L29.25,48.0234375L11.25,48.0234375L29.25,48.0234375Q30.2344,48.0234375,30.8672,47.3906375Q31.5,46.7578375,31.5,45.7734375Q31.5,44.7890375,30.8672,44.1562475Q30.2344,43.5234375,29.25,43.5234375L11.25,43.5234375Q10.2656,43.5234375,9.63281,44.1562475Q9,44.7890375,9,45.7734375Q9,46.7578375,9.63281,47.3906375Q10.2656,48.0234375,11.25,48.0234375Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})))));function eI(){return h.jsx(Pm,{title:"   TOP 10  ",description:"   ",icon:h.jsx(Ux,{className:"w-7 h-7"})})}const tI=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17,height:17,viewBox:"-0.1 -1.2 11.985078811645508 17",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,27.999998092651367)"},N.createElement("path",{d:"M5.99254,27.999999046325684Q5.61809,27.999999046325684,5.37737,27.753899046325685Q5.13664,27.507799046325683,5.13664,27.124999046325684L5.13664,26.605499046325683Q3.63883,26.277299046325684,2.70269,25.10159904632568Q1.73981,23.925779046325683,1.71306,22.312499046325684L1.71306,21.792969046325684Q1.68632,19.824219046325684,0.429221,18.320309046325683L0.215247,18.074219046325684Q-0.13246,17.664059046325683,0.0815138,17.144529046325683Q0.322234,16.652339046325682,0.857169,16.624999046325684L11.1279,16.624999046325684Q11.6628,16.652339046325682,11.9036,17.144529046325683Q12.1175,17.664059046325683,11.7698,18.074219046325684L11.5826,18.320309046325683Q10.2988,19.796869046325682,10.272,21.792969046325684L10.272,22.312499046325684Q10.2453,23.925779046325683,9.28239,25.10159904632568Q8.34625,26.277299046325684,6.84843,26.605499046325683L6.84843,27.124999046325684Q6.84843,27.507799046325683,6.60771,27.753899046325685Q6.36699,27.999999046325684,5.99254,27.999999046325684ZM7.19614,14.519530046325684Q7.70433,15.039059046325683,7.70433,15.749999046325684L5.99254,15.749999046325684L4.28075,15.749999046325684Q4.28075,15.039059046325683,4.78894,14.519530046325684Q5.29713,13.999999046325684,5.99254,13.999999046325684Q6.68796,13.999999046325684,7.19614,14.519530046325684Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function nI(){return h.jsx(Pm,{title:"   ",description:"   .   .",icon:h.jsx(tI,{className:"w-7 h-7"}),children:h.jsx("div",{className:"flex justify-center",children:h.jsx("a",{className:"bg-gray-50 rounded-full px-4 py-2 text-sm border border-gray-200 hover:shadow-md cursor-pointer",href:"https://open.kakao.com/o/g3MztXfh",children:"  "})})})}let ed=null,fu=0;const X0=ur(e=>{const t=()=>{ed||(ed=setInterval(()=>{e(r=>({tick:r.tick+1}))},1e3))},n=()=>{ed&&clearInterval(ed),ed=null};return{tick:0,addRefCount:()=>{fu===0&&t(),fu=fu+1},removeRefCount:()=>{fu<=1&&n(),fu=Math.max(0,fu-1)}}}),H7=e=>{const t=X0(i=>i.tick),n=X0(i=>i.addRefCount),r=X0(i=>i.removeRefCount);N.useEffect(()=>(n(),()=>{r()}),[]),N.useEffect(()=>{},[t])};function rI(e){const{data:t}=Fi(),{data:n,...r}=xx(e);return{data:n?.map(s=>{const{subjectId:o,seatCount:a,queryTime:u}=s,c=t?.find(w=>w.subjectId===o)||cm,{subjectName:f,subjectCode:p,classCode:g,professorName:v}=c;return{...c,code:`${p}-${g}`,name:f,professor:v,seat:a,queryTime:u}}),...r}}function Hx(e){if(!e)return" ";const t=new Date,n=new Date(e),r=t.getTime()-n.getTime(),i=Math.floor(r/1e3),s=Math.floor(i/60),o=Math.floor(s/60),a=Math.floor(o/24),u=Math.floor(a/30),c=Math.floor(u/12);return c>0?`${c} `:u>0?`${u} `:a>0?`${a} `:o>0?`${o} `:s>0?`${s} `:i>0?`${i} `:" "}function Qx(){return h.jsxs("div",{className:"flex justify-end items-center mt-2 text-xs text-gray-500",children:[h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"block w-4 h-4 rounded bg-green-100 ml-1","aria-label":" "}),"  "]}),h.jsxs("span",{className:"flex items-center gap-2 ml-4",children:[h.jsx("span",{className:"block w-4 h-4 rounded bg-gray-100 ml-1","aria-label":" "})," "]})]})}function ca({children:e,onClose:t,preventAutoFocus:n}){const r=N.useRef(null);N.useEffect(()=>(document.body.style.overflow="hidden",n||r.current?.focus(),()=>{document.body.style.overflow=""}),[n]);const i=s=>{s.stopPropagation(),t()};return h.jsxs("div",{className:"flex items-center justify-center fixed inset-0 w-full h-full z-100",role:"none",ref:r,tabIndex:-1,onClick:i,children:[h.jsx("div",{className:"fixed inset-0 justify-center opacity-30 bg-gray-300 border-b-2 border-gray-400"}),h.jsx("div",{className:"flex items-center justify-center",tabIndex:-1,children:h.jsx("div",{className:"rounded-lg z-50 bg-white max-h-[90vh] border border-gray-200 overflow-y-auto",role:"dialog",tabIndex:-1,onClick:s=>s.stopPropagation(),children:e})})]})}const iI=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e},N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})),sI=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e},N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.477 0-8.268-2.943-9.542-7a9.957 9.957 0 012.043-3.36m3.237-2.347A9.956 9.956 0 0112 5c4.478 0 8.268 2.943 9.542 7a9.954 9.954 0 01-4.043 5.132M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3l18 18"}));function Q7({initialItems:e,onChange:t}){const[n,r]=N.useState(e),i=N.useRef(null),s=N.useRef([]),[o,a]=N.useState(null),u=N.useRef(null),[c,f]=N.useState(null),[p,g]=N.useState(null);N.useEffect(()=>{t?.(n)},[n,t]),N.useEffect(()=>{if(o){const P=n.findIndex(D=>D.title===o);P!==-1&&s.current[P]?.focus(),a(null)}},[n,o]),N.useEffect(()=>{const P=()=>requestAnimationFrame(_),D=new ResizeObserver(P);return i.current&&D.observe(i.current),window.addEventListener("scroll",P,!0),window.addEventListener("resize",P),P(),()=>{D.disconnect(),window.removeEventListener("scroll",P,!0),window.removeEventListener("resize",P)}},[]);function v(P){r(D=>{const z=[...D];return z[P]={...z[P],visible:!z[P].visible},z})}const w=N.useRef([]);function _(){const P=i.current;if(!P)return;const D=Array.from(P.children);w.current=D.map(z=>{const Q=z.getBoundingClientRect();return Q.top+Q.height/2})}function C(P,D){if(P.key==="ArrowUp"||P.key==="ArrowDown"){P.preventDefault(),P.stopPropagation();const z=D;let Q;if(P.key==="ArrowUp"){if(z===0)return;Q=z-1}else{if(z===n.length-1)return;Q=z+1}const F=n[z].title;r(oe=>{const le=[...oe],[ue]=le.splice(z,1);return le.splice(Q,0,ue),le}),a(F)}}function E(P,D){if(!i.current)return;const z=P.target.closest(".draggable-item");if(!z)return;P.target.setPointerCapture(P.pointerId);const Q=z.getBoundingClientRect(),F=i.current.getBoundingClientRect();u.current={currentIndex:D,height:Q.height,offsetY:P.clientY-Q.top,containerRect:F},f({item:n[D],initialIndex:D}),g({width:Q.width,left:Q.left,top:Q.top,position:"fixed",zIndex:50,pointerEvents:"none",transition:"none"}),window.addEventListener("pointermove",L),window.addEventListener("pointerup",A,{once:!0})}function L(P){if(u.current===null)return;const{height:D,offsetY:z,containerRect:Q}=u.current;let F=P.clientY-z;F=Math.max(Q.top,F),F=Math.min(Q.bottom-D,F),g(J=>({...J||{},top:F})),_();const oe=P.clientY;let ue=w.current.findIndex(J=>oe<J);ue===-1&&(ue=n.length);const W=u.current.currentIndex;let V=Math.max(0,Math.min(n.length-1,ue>W?ue-1:ue));V!==W&&(u.current.currentIndex=V,r(J=>{const te=[...J],[ne]=te.splice(W,1);return te.splice(V,0,ne),te}))}function A(){window.removeEventListener("pointermove",L),u.current=null,f(null),g(null)}const B=N.useMemo(()=>c?n.findIndex(P=>P.title===c.item.title):-1,[n,c]);function U(P){if(!c||!u.current||B===-1)return"";const D=B,z=u.current.currentIndex,Q=u.current.height;if(P===D)return"";if(D<z){if(P>D&&P<=z)return`translateY(-${Q}px)`}else if(P>=z&&P<D)return`translateY(${Q}px)`;return""}return h.jsxs(h.Fragment,{children:[h.jsx("ul",{ref:i,className:"bg-white divide-y divide-gray-100 relative",children:n.map((P,D)=>h.jsxs("li",{ref:z=>{s.current[D]=z},className:"draggable-item flex items-center gap-2 rounded-md px-2 transition-transform duration-1000",tabIndex:0,onKeyDown:z=>C(z,D),style:{transform:U(D),opacity:B===D?.4:1},children:[h.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700 cursor-grab",onPointerDown:z=>E(z,D),"aria-label":`Drag ${P.title}`,title:" ",children:""}),h.jsxs("div",{className:"flex items-center justify-between flex-auto",children:[h.jsx("span",{className:"font-medium",children:P.title}),h.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700 cursor-pointer","aria-label":P.visible?"":"",title:P.visible?"":"",onClick:()=>v(D),children:P.visible?h.jsx(iI,{className:"w-4 h-4"}):h.jsx(sI,{className:"w-4 h-4"})})]})]},P.title))}),p&&c&&h.jsx("div",{style:p,className:"bg-blue-50 rounded-md shadow-lg w-full max-w-lg m-auto px-2",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"p-1 text-gray-700",children:""}),h.jsx("span",{className:"font-medium",children:c.item.title})]})}),h.jsx("div",{className:"mt-4 text-sm text-gray-500",children:"Tip:    /    ."})]})}const Vx=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e},N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4px",d:"M4 20L20 4M4 4l16 16"}));function nc({title:e,onClose:t}){return h.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 ",children:[h.jsx("h2",{className:"font-semibold sm:text-lg text-sm text-gray-900",children:e}),h.jsx("button",{className:"w-5 h-5 text-gray-500 hover:text-gray-700 cursor-pointer",onClick:t,title:"",tabIndex:-1,children:h.jsx(Vx,{className:"w-full h-full"})})]})}function qx({enabled:e=!0,onClose:t}){N.useEffect(()=>{if(!e)return;const n=i=>{i.key==="Escape"&&t&&t()},r=i=>{i.preventDefault(),t&&t()};return window.addEventListener("keydown",n),window.addEventListener("popstate",r),()=>{window.removeEventListener("keydown",n),window.removeEventListener("popstate",r)}},[])}const V7=(e,t)=>ur()(h_(n=>({tableTitles:t,setTableTitles:r=>n({tableTitles:r}),resetTableTitles:()=>n({tableTitles:t})}),{name:`${e}-table-head-store`})),oI=[{title:"",visible:!0,key:"code"},{title:"",visible:!0,key:"name"},{title:"",visible:!0,key:"professor"},{title:"",visible:!0,key:"seat"},{title:"",visible:!0,key:"queryTime"},{title:"",visible:!1,key:"manageDeptNm"},{title:"",visible:!1,key:"studentYear"},{title:"",visible:!1,key:"lesnTime"},{title:"",visible:!1,key:"lesnRoom"},{title:"",visible:!1,key:"tmNum"},{title:"",visible:!1,key:"remark"},{title:"",visible:!1,key:"curiTypeCdNm"},{title:"",visible:!1,key:"curiLangNm"}],y5=V7("live",oI),aI=[{title:"",visible:!0,key:"subjectCode"},{title:"",visible:!0,key:"classCode"},{title:" ",visible:!0,key:"departmentName"},{title:"",visible:!0,key:"subjectName"},{title:"",visible:!0,key:"professorName"},{title:"",visible:!0,key:"totalCount"},{title:"",visible:!0,key:"seat"},{title:"",visible:!1,key:"studentYear"},{title:"",visible:!1,key:"lesnTime"},{title:"",visible:!1,key:"lesnRoom"},{title:"",visible:!1,key:"tmNum"},{title:"",visible:!1,key:"remark"},{title:"",visible:!1,key:"curiTypeCdNm"},{title:"",visible:!1,key:"curiLangNm"}],dy=V7("wishes",aI),lI=({title:e=""})=>{const[t,n]=N.useState(!1),r=y5(s=>s.setTableTitles),i=y5(s=>s.tableTitles);return h.jsxs(tc,{children:[t&&h.jsx(hI,{initialItems:i,onChange:r,onClose:()=>n(!1)}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("div",{className:"flex items-center gap-2 mb-4",children:h.jsxs("h2",{className:"font-bold text-lg",children:[e," "]})}),h.jsx("button",{className:"p-3 rounded-full hover:bg-blue-100","aria-label":" ",onClick:()=>n(!0),children:h.jsx(Ux,{className:"w-4 h-4 text-gray-600 hover:text-blue-500 transition-colors"})})]}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full bg-white rounded-lg text-sm",children:[h.jsx("thead",{children:h.jsx("tr",{className:"bg-gray-50 sticky top-0 z-10 text-nowrap",children:i.filter(s=>s.visible).map(({title:s})=>h.jsx("th",{className:"px-4 py-2",children:s},s))})}),h.jsx("tbody",{children:h.jsx(uI,{tableTitles:i})})]})}),h.jsx(Qx,{})]})};function uI({tableTitles:e}){const{data:t,isError:n,isPending:r,refetch:i}=rI(dm.NON_MAJOR),s=e.filter(u=>u.visible),o=new Date>y_("2025-09-05T17:00:00"),a=Mu(u=>u.sseState);return n?h.jsx("tr",{children:h.jsx("td",{colSpan:s.length,children:h.jsx(U7,{onReload:i})})}):r||!t?h.jsx(Nm,{row:5,col:s.length}):a===yx.IDLE&&o?h.jsx("tr",{children:h.jsx("td",{colSpan:s.length,className:"text-center",children:h.jsx(nI,{})})}):t.length?h.jsx(am,{component:null,children:t.map(u=>h.jsx(Zd,{timeout:500,classNames:"row-change",children:h.jsx(cI,{subject:u,HeadTitles:s},u.code)},u.code))}):h.jsx("tr",{children:h.jsx("td",{colSpan:s.length,className:"text-center",children:h.jsx(eI,{})})})}function cI({subject:e,HeadTitles:t}){const n=N.useRef(e.seat),[r,i]=N.useState(!1),s=e.isDeleted,o=e.curiLangNm==="",a=r?"bg-blue-50":s?"bg-gray-100":o?"bg-green-50":"";return N.useEffect(()=>{if(n.current!==e.seat){i(!0);const u=setTimeout(()=>i(!1),1e3);return n.current=e.seat,()=>clearTimeout(u)}},[e.seat]),h.jsx("tr",{className:`border-t border-gray-200 text-black transition-colors duration-500 text-nowrap ${a}`,children:t.map(({key:u})=>{switch(u){case"seat":return h.jsx("td",{className:"px-4 py-2 text-center",children:h.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold "+_l(e.seat??-1),children:e[u]})},u);case"queryTime":return h.jsx(dI,{queryTime:e.queryTime},u);default:return h.jsx("td",{className:"px-4 py-2 text-center",children:e[u]},u)}})})}function dI({queryTime:e}){return H7(),h.jsx("td",{className:"w-18 px-4 py-2 text-center text-xs",children:h.jsx("span",{className:"text-gray-500",children:Hx(e)})})}function hI({initialItems:e,onChange:t,onClose:n}){return qx({enabled:!0,onClose:n}),h.jsxs(ca,{onClose:n,children:[h.jsx(nc,{title:" ",onClose:n}),h.jsx("div",{className:"p-4",children:h.jsx(Q7,{initialItems:e,onChange:t})})]})}const fI=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16,height:16,viewBox:"0 0 16 16",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,32)"},N.createElement("path",{d:"M8,16Q10.1875,16.03125,12,17.0625Q13.8125,18.125,14.9375,20Q16,21.90625,16,24Q16,26.0938,14.9375,28Q13.8125,29.875,12,30.9375Q10.1875,31.9688,8,32Q5.8125,31.9688,4,30.9375Q2.1875,29.875,1.0625,28Q0,26.0938,0,24Q0,21.90625,1.0625,20Q2.1875,18.125,4,17.0625Q5.8125,16.03125,8,16ZM5.3125,26.8438Q5.5,27.375,5.9375,27.6875Q6.375,28,6.96875,28L8.78125,28Q9.625,27.9688,10.1875,27.4062Q10.7188,26.875,10.75,26.0312Q10.7188,24.90625,9.75,24.3125L8.75,23.75Q8.6875,23.0625,8,23Q7.3125,23.0625,7.25,23.75L7.25,24.15625Q7.25,24.59375,7.625,24.8125L9,25.625Q9.25,25.75,9.25,26.0312Q9.21875,26.4688,8.78125,26.5L6.96875,26.5Q6.78125,26.5,6.71875,26.3438L6.71875,26.2812Q6.40625,25.65625,5.75,25.84375Q5.125,26.125,5.28125,26.7812L5.3125,26.8438ZM7,21Q7,21.4375,7.28125,21.71875Q7.5625,22,8,22Q8.4375,22,8.71875,21.71875Q9,21.4375,9,21Q9,20.5625,8.71875,20.28125Q8.4375,20,8,20Q7.5625,20,7.28125,20.28125Q7,20.5625,7,21Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function pI({children:e}){return h.jsx("div",{className:"relative inline-block",children:h.jsxs("span",{className:"group inline-block",children:[h.jsx(fI,{className:"w-4 h-4"}),h.jsx("span",{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-gray-900 text-white p-3 rounded w-64 text-center pointer-events-none",children:e})]})})}function mI(e){return e==="primary"?"bg-blue-500 text-white hover:bg-blue-600 focus:outline-blue-400":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-600"}function pl({children:e,variants:t,className:n="",...r}){return h.jsx("button",{type:r.type,onClick:r.onClick,className:`px-4 py-2 cursor-pointer rounded-lg ${mI(t)} ${n}`,disabled:r.disabled,children:e})}function x5({children:e,checked:t,onChange:n,...r}){return h.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[h.jsx("input",{type:"checkbox",className:"sr-only peer",checked:t,onChange:n,...r}),h.jsx("div",{className:"w-12 h-6 rounded-full transition-colors duration-150 bg-gray-300 peer-checked:bg-blue-500 peer-disabled:bg-gray-200"}),h.jsx("div",{className:"absolute top-1 left-1 w-4 h-4 bg-white rounded-full shadow-md transform transition-transform duration-150 peer-checked:translate-x-6"}),e]})}const gI=[{title:" ",value:ti.NONE,disabled:()=>!1},{title:" ",value:ti.BROWSER,disabled:()=>!Ai.canNotify()},{title:" ",value:ti.TOAST,disabled:()=>!G1.canNotify()},{title:" +  ",value:ti.BOTH,disabled:()=>!Ai.canNotify()||!G1.canNotify()}];function yI({isOpen:e,close:t}){const n=ta(s=>s.isPermitted),r=()=>{gi.show("  ","test-alarm")},i=()=>{gi.requestPermission(),t()};return qx({enabled:e,onClose:i}),e?h.jsxs(ca,{onClose:i,children:[h.jsx(nc,{title:"",onClose:i}),h.jsxs("div",{className:"p-4 w-md max-w-full",children:[h.jsx(xI,{}),h.jsx(vI,{}),h.jsx("div",{className:"mt-4 flex justify-end",children:h.jsx(pl,{variants:"secondary",onClick:r,disabled:!n,children:""})})]})]}):null}function xI(){const e=ks(s=>s.alarmType),t=ks(s=>s.saveSettings),n=ta(s=>s.isPermitted),r=Ai.canNotify(),i=s=>{t({alarmType:Number(s.target.value)})};return h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block mb-2 font-bold text-md",htmlFor:"alarm-type-select",children:" "}),h.jsx("select",{id:"alarm-type-select",className:"w-full mb-2 p-2 border border-gray-300 rounded",value:e,onChange:i,children:gI.map(s=>h.jsx("option",{className:"disabled:text-gray-500",value:s.value,disabled:s.disabled(),children:s.title},s.value))}),(e===ti.BROWSER||e===ti.BOTH)&&!n&&h.jsx("p",{className:"pl-2 pb-2 text-sm text-red-600",children:"  ."}),e===ti.TOAST&&h.jsx("p",{className:"pl-2 pb-2 text-sm text-red-600",children:"      ."}),!r&&h.jsx("p",{className:"pl-2 pb-2 text-xs text-gray-600",children:"     ."})]})}function vI(){const t=ks(f=>f.alarmType)===ti.NONE,n=Md(Wo.SOUND),r=Md(Wo.VIBRATE),i=mx.canNotify(),s=ks(f=>f.subAlarmType),o=ks(f=>f.saveSettings),a=t,u=t||!i,c=f=>{const p=f.target.id==="select-sound"?Wo.SOUND:Wo.VIBRATE,g=f.target.checked?s|p:s&~p;o({subAlarmType:g})};return h.jsxs("div",{children:[h.jsx("h3",{className:"block mb-2 font-bold text-md",children:"  "}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("label",{className:"my-1 flex items-center justify-between",htmlFor:"select-sound",children:[h.jsx("span",{className:a?"text-gray-300":"",children:""}),h.jsx(x5,{id:"select-sound",name:"sound",checked:n,onChange:c,disabled:a})]}),h.jsxs("label",{className:"my-1 flex items-center justify-between",htmlFor:"select-vibrate",children:[h.jsx("span",{className:u?"text-gray-300":"",children:""}),h.jsx(x5,{id:"select-vibrate",name:"vibrate",checked:r,onChange:c,disabled:u})]}),!i&&h.jsx("p",{className:"pl-2 pb-2 text-sm text-red-600",children:"     ."})]})]})}const v5=5;function Om(){return us({queryKey:["pinnedSubjects"],queryFn:bI,select:e=>e.subjects})}const q7=()=>{const e=vi();return aa({mutationFn:wI,onMutate:async t=>{await e.cancelQueries({queryKey:["pinnedSubjects"]});const n=e.getQueryData(["pinnedSubjects"])?.subjects??[];if(n&&n.length>=v5)throw new Error(JSON.stringify({message:`   ${v5} .`}));if(n){const r={...n[0],subjectId:t};e.setQueryData(["pinnedSubjects"],{subjects:[...n,r]}),n.push(r)}return{previousUsers:n}},onSuccess:()=>{e.invalidateQueries({queryKey:["pinnedSubjects"]}).then()},onError:t=>{try{const n=JSON.parse(t.message);alert(n.message)}catch{alert("Error adding pinned subject")}}})},Wx=()=>{const e=vi();return aa({mutationFn:_I,onMutate:async t=>{await e.cancelQueries({queryKey:["pinnedSubjects"]});const n=e.getQueryData(["pinnedSubjects"]);if(n){const r=n.subjects.filter(i=>i.subjectId!==t);e.setQueryData(["pinnedSubjects"],{subjects:r})}return{previousData:n}},onSettled:()=>{console.log("pin removed onSettled"),e.invalidateQueries({queryKey:["pinnedSubjects"]}).then()},onError:t=>{console.error("Error removing pinned subject:",t)}})},bI=async()=>await co("/api/pins"),wI=async e=>{const t=await um(`/api/pin?subjectId=${e}`,{method:"POST"});if(!t.ok)throw new Error(await t.text())},_I=async e=>{const t=await um(`/api/pin/${e}`,{method:"DELETE"});if(!t.ok)throw new Error(await t.text())};function SI({subject:e,seats:t,queryTime:n,disableSeat:r=!1}){const{mutate:i}=Wx(),s=()=>{i(e.subjectId)};return h.jsxs("div",{className:"bg-gray-50 shadow-sm rounded-lg p-4 border border-gray-200 hover:shadow-md",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("h3",{className:"font-bold",children:e.subjectName}),h.jsx("button",{className:"p-2 rounded-full hover:bg-blue-100","aria-label":"  ",onClick:s,children:h.jsx(Vx,{className:"text-gray-400 w-3 h-3"})})]}),h.jsxs("div",{className:"mb-2 text-xs text-gray-500",children:[h.jsx("p",{children:e.departmentName}),h.jsxs("p",{children:[e.subjectCode,"-",e.classCode," | ",e.professorName]})]}),!r&&h.jsxs("div",{className:"flex justify-between items-baseline",children:[h.jsxs("p",{className:`px-2 py-1 rounded-full text-xs font-bold ${_l(t)}`,children:[": ",t<0?"???":t]}),h.jsx(CI,{queryTime:n})]})]})}function CI({queryTime:e}){return H7(),h.jsx("p",{className:"text-xs text-gray-500",children:Hx(e)})}const Qd=ur(e=>({isSearchOpen:!1,setIsSearchOpen:t=>e(()=>({isSearchOpen:t}))}));function W7(){const e=Qd(t=>t.setIsSearchOpen);return h.jsx("div",{className:"p-2 rounded-full flex items-center justify-center",children:h.jsx("button",{className:"bg-gray-50 rounded-full px-4 py-2 text-sm border border-gray-200 hover:shadow-md cursor-pointer","aria-label":"   ",title:"   ",onClick:()=>e(!0),children:"+   "})})}function kI(){return h.jsx(Pm,{title:"   ",description:"    .     .",icon:h.jsx(ec,{className:"w-7 h-7",disabled:!0}),children:h.jsx(W7,{})})}const jI=e=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 3C7.88696 2.99977 8.74883 3.29435 9.4501 3.83741C10.1514 4.38047 10.6523 5.14121 10.874 6H19V8H10.874C10.6283 8.94049 10.0486 9.75939 9.24333 10.3038C8.43802 10.8482 7.46209 11.0809 6.49778 10.9584C5.53346 10.836 4.64669 10.3667 4.00303 9.63828C3.35937 8.90985 3.00284 7.97206 3 7C3 5.93913 3.42143 4.92172 4.17157 4.17157C4.92172 3.42143 5.93913 3 7 3ZM7 9C7.53043 9 8.03914 8.78929 8.41421 8.41421C8.78929 8.03914 9 7.53043 9 7C9 6.46957 8.78929 5.96086 8.41421 5.58579C8.03914 5.21071 7.53043 5 7 5C6.46957 5 5.96086 5.21071 5.58579 5.58579C5.21071 5.96086 5 6.46957 5 7C5 7.53043 5.21071 8.03914 5.58579 8.41421C5.96086 8.78929 6.46957 9 7 9ZM17 20C16.113 20.0002 15.2512 19.7056 14.5499 19.1626C13.8486 18.6195 13.3477 17.8588 13.126 17H5V15H13.126C13.3717 14.0595 13.9514 13.2406 14.7567 12.6962C15.562 12.1518 16.5379 11.9191 17.5022 12.0416C18.4665 12.164 19.3533 12.6333 19.997 13.3617C20.6406 14.0901 20.9972 15.0279 21 16C21 17.0609 20.5786 18.0783 19.8284 18.8284C19.0783 19.5786 18.0609 20 17 20ZM17 18C17.5304 18 18.0391 17.7893 18.4142 17.4142C18.7893 17.0391 19 16.5304 19 16C19 15.4696 18.7893 14.9609 18.4142 14.5858C18.0391 14.2107 17.5304 14 17 14C16.4696 14 15.9609 14.2107 15.5858 14.5858C15.2107 14.9609 15 15.4696 15 16C15 16.5304 15.2107 17.0391 15.5858 17.4142C15.9609 17.7893 16.4696 18 17 18Z",fill:"currentColor"})),EI=()=>{if(typeof navigator>"u")return"chrome";const e=navigator.userAgent.toLowerCase();return e.includes("firefox")?"firefox":e.includes("edg")?"edge":e.includes("safari")&&!e.includes("chrome")?"safari":"chrome"},TI=()=>{if(typeof navigator>"u")return"macos";const e=navigator.platform.toLowerCase(),t=navigator.userAgent.toLowerCase();return e.startsWith("mac")||t.includes("mac os x")?"macos":e.startsWith("win")?"windows":/android|iphone|ipad|ipod/.test(t)?"mobile":"macos"};function NI(){const e=ta(s=>s.isOpen),t=ta(s=>s.close),[n,r]=N.useState(0),i=1;return N.useEffect(()=>{e||r(0)},[e]),e?h.jsxs(ca,{onClose:t,children:[h.jsx(nc,{title:"  ",onClose:t}),h.jsxs("div",{className:"p-4 text-sm text-gray-700 w-lg max-w-full",children:[n===0&&h.jsx(PI,{}),n===1&&h.jsx(OI,{}),h.jsxs("div",{className:"flex justify-between items-center mt-6",children:[h.jsxs("span",{className:"text-xs text-gray-500",children:[n+1," / ",i+1]}),h.jsxs("div",{className:"flex justify-end gap-2",children:[n>0&&h.jsx("button",{className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",onClick:()=>r(n-1),children:""}),n<i&&h.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>r(n+1),children:""}),n===i&&h.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:t,children:""})]})]})]})]}):null}function PI(){const[e,t]=N.useState(EI());return h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-base text-gray-800",children:"1:    "}),h.jsx("p",{className:"mt-1",children:" 'ALLCLL'    ."})]}),h.jsxs("div",{className:"flex border-b border-gray-500",children:[h.jsx(il,{name:"Chrome",id:"chrome",selected:e,onClick:t}),h.jsx(il,{name:"Firefox",id:"firefox",selected:e,onClick:t}),h.jsx(il,{name:"Safari",id:"safari",selected:e,onClick:t}),h.jsx(il,{name:"Edge",id:"edge",selected:e,onClick:t})]}),h.jsxs("div",{className:"p-2 bg-gray-50 rounded-md h-64 overflow-y-auto",children:[e==="chrome"&&h.jsx(LI,{}),e==="firefox"&&h.jsx(MI,{}),e==="safari"&&h.jsx(RI,{}),e==="edge"&&h.jsx(AI,{})]})]})}function OI(){const[e,t]=N.useState(TI());return h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-base text-gray-800",children:"2: OS    "}),h.jsx("p",{className:"mt-1",children:"  OS   ."})]}),h.jsxs("div",{className:"flex border-b border-gray-500",children:[h.jsx(il,{name:"macOS",id:"macos",selected:e,onClick:t}),h.jsx(il,{name:"Windows",id:"windows",selected:e,onClick:t}),h.jsx(il,{name:"",id:"mobile",selected:e,onClick:t})]}),h.jsxs("div",{className:"p-2 bg-gray-50 rounded-md h-64 overflow-y-auto",children:[e==="macos"&&h.jsx(II,{}),e==="windows"&&h.jsx(DI,{}),e==="mobile"&&h.jsx(FI,{})]})]})}const il=({name:e,id:t,selected:n,onClick:r})=>h.jsx("button",{className:`px-4 py-2 text-sm ${n===t?"border-b-2 border-blue-500 text-blue-600 font-semibold":"text-gray-500 font-medium"}`,onClick:()=>r(t),children:e}),ml=({title:e,children:t})=>h.jsxs("div",{className:"space-y-1",children:[h.jsx("h4",{className:"font-semibold text-gray-800",children:e}),h.jsx("div",{className:"pl-2 space-y-1 text-gray-600",children:t})]}),LI=()=>h.jsxs("div",{className:"space-y-3",children:[h.jsx(ml,{title:" 1:   ()",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsxs("li",{children:["    (",h.jsx(jI,{className:"inline-block w-4 h-4"}),")  ."]}),h.jsx("li",{children:"  ''    '' ."})]})}),h.jsx(ml,{title:" 2:   ",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"   3()  > '' ."}),h.jsx("li",{children:"'  ' > ' ' > '' ."}),h.jsx("li",{children:"'  '  ''   'allcll.com' ."})]})})]}),AI=()=>h.jsxs("div",{className:"space-y-3",children:[h.jsx(ml,{title:" 1:   ()",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"  ()  ."}),h.jsx("li",{children:"'   '  '' '' ."})]})}),h.jsx(ml,{title:" 2:   ",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"   3()  > '' ."}),h.jsx("li",{children:"'   ' > '' ."}),h.jsx("li",{children:"''  ''   'allcll.com' ."})]})})]}),MI=()=>h.jsxs("div",{className:"space-y-3",children:[h.jsx(ml,{title:" 1:   ()",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"  ()  ."}),h.jsx("li",{children:"' '  '' ."})]})}),h.jsx(ml,{title:" 2:   ",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"   3()  > '' ."}),h.jsx("li",{children:"'  '  ''  ."}),h.jsx("li",{children:"''  '...'  ."}),h.jsx("li",{children:"'allcll.com'   ''  '  ' ."})]})})]}),RI=()=>h.jsx("div",{className:"space-y-3",children:h.jsx(ml,{title:"Safari  ",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"    'Safari' > '...' ( '...') ."}),h.jsx("li",{children:"''  ."}),h.jsx("li",{children:"  '' ."}),h.jsx("li",{children:" 'allcll.com'   '' ."})]})})}),II=()=>h.jsx("div",{className:"space-y-2",children:h.jsxs("ol",{className:"list-decimal list-inside pl-2 mt-2 space-y-1",children:[h.jsx("li",{children:"    ()   ' ' ."}),h.jsx("li",{children:"  '' ."}),h.jsx("li",{children:"    (Chrome, Safari )  ."}),h.jsx("li",{children:"' '  ."})]})}),DI=()=>h.jsx("div",{className:"space-y-2",children:h.jsxs("ol",{className:"list-decimal list-inside pl-2 mt-2 space-y-1",children:[h.jsx("li",{children:"''  '' ."}),h.jsx("li",{children:"''   ''  ."}),h.jsx("li",{children:"'     '   ."}),h.jsx("li",{children:"        ."})]})}),FI=()=>h.jsxs("div",{className:"pl-2 mt-2 space-y-2",children:[h.jsx("p",{children:"  PC        .  iOS Safari     ."}),h.jsx("p",{className:"font-medium",children:"       ' '   ."})]}),BI=1e3,zI=60*BI,$I={subjectId:-1,seat:-1};function UI(){return us({queryKey:["preRealSeats"],queryFn:HI,staleTime:10*zI,select:e=>e?.preSeats??null})}async function HI(){return await gx("/pre-seats.json?date=20250904")}function K7(e,t,n,r){if(!e||!t)return e||t;const i=e.sort((c,f)=>c.subjectId-f.subjectId),s=t.sort((c,f)=>c.subjectId-f.subjectId),o=[];let a=0,u=0;for(;a<i.length&&u<s.length;)i[a].subjectId===s[u].subjectId?o.push({...i[a++],...s[u++]}):i[a].subjectId<s[u].subjectId?o.push({...r,...i[a++]}):o.push({...n,...s[u++]});for(;a<i.length;)o.push({...r,...i[a++]});for(;u<s.length;)o.push({...n,...s[u++]});return o}function Lm(e,t){const{data:n}=UI();return N.useMemo(()=>!e||!n?.length?e:K7(e,n,t??cm,$I),[e,n,t])}const rc={...cm,departmentCode:"",departmentName:"",totalCount:-1},QI=async()=>await gx("/baskets.json");function po(){const{data:e,isPending:t,isLoading:n}=Fi(),r=us({queryKey:["wishlist"],queryFn:QI,staleTime:1/0,select:i=>VI(i,e)});return{...r,isPending:r.isPending||t,isLoading:r.isLoading||n}}const VI=(e,t)=>t?!e||e.baskets?.length?t:K7(t,e.baskets,cm,rc).map(r=>({...r,departmentCode:r.deptCd,departmentName:r.manageDeptNm})):[];function qI(e){const{data:t}=po();return t?.filter(n=>e.includes(n.subjectId))??[]}const WI=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17,height:17,viewBox:"0 0 17 14.5",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,28.015625)"},N.createElement("path",{d:"M1.0474,27.8750125Q0.538991,28.2031125,0.137615,27.7656125Q-0.183486,27.246112500000002,0.244648,26.8359125L16.0856,14.1484375Q16.594,13.8203125,16.9954,14.2578125Q17.3165,14.7773435,16.8884,15.1875025L14.4801,17.1289025Q14.4801,17.1562525,14.4801,17.1562525Q14.6942,17.6757825,14.3463,18.0859325L14.159,18.3320325Q12.8746,19.8085925,12.8479,21.8046925L12.8479,22.324222499999998Q12.8211,23.9375025,11.8578,25.1133125Q10.9213,26.2890125,9.42278,26.6172125L9.42278,27.1367125Q9.42278,27.519512499999998,9.18196,27.7656125Q8.94113,28.0117125,8.56651,28.0117125Q8.1919,28.0117125,7.95107,27.7656125Q7.71025,27.519512499999998,7.71025,27.1367125L7.71025,26.6172125Q5.94419,26.207012499999998,4.98089,24.7031125L1.0474,27.8750125ZM10.8677,16.6367225L4.28517,21.9414025L10.8677,16.6367225L4.28517,21.9414025L4.28517,21.8046925Q4.25841,19.8085925,3.00077,18.3046925L2.7867,18.0859325Q2.43884,17.6757825,2.65291,17.1562525Q2.89373,16.6640625,3.4289,16.6367225L10.8677,16.6367225ZM9.77064,14.5312505Q10.2791,15.0507825,10.2791,15.7617225L8.56651,15.7617225L6.85398,15.7617225Q6.85398,15.0507825,7.36239,14.5312505Q7.8708,14.01171884,8.56651,14.01171884Q9.26223,14.01171884,9.77064,14.5312505Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),KI=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:13.836064338684082,height:14,viewBox:"-1 -1 15.5 16.5",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,28)"},N.createElement("path",{d:"M13.8033,23.433590000000002Q13.918,23.05078,13.6311,22.777340000000002L12.3689,21.68359Q12.4262,21.35547,12.4262,21Q12.4262,20.64453,12.3689,20.31641L13.6311,19.22266Q13.918,18.94922,13.8033,18.56641Q13.6025,18.07422,13.3443,17.60938L13.2008,17.39062Q12.9139,16.95312,12.5697,16.54297Q12.2828,16.24219,11.8811,16.35156L10.2746,16.84375Q9.70082,16.40625,9.01229,16.16016L8.66803,14.574219Q8.55328,14.191406,8.12295,14.109375Q7.54918,14,6.91803,14Q6.28688,14,5.68443,14.109375Q5.28279,14.191406,5.16803,14.574219L4.82377,16.16016Q4.13525,16.40625,3.56148,16.84375L1.95492,16.35156Q1.55328,16.24219,1.26639,16.54297Q0.893443,16.95312,0.635246,17.39062L0.491803,17.60938Q0.233607,18.07422,0.0327869,18.53906Q-0.0819672,18.94922,0.204918,19.22266L1.46721,20.28906Q1.40984,20.64453,1.40984,21Q1.40984,21.35547,1.46721,21.68359L0.204918,22.777340000000002Q-0.0819672,23.05078,0.0327869,23.433590000000002Q0.233607,23.92578,0.491803,24.3906L0.635246,24.6094Q0.893443,25.0469,1.26639,25.457Q1.55328,25.7578,1.95492,25.648400000000002L3.56148,25.1562Q4.13525,25.5937,4.82377,25.8672L5.16803,27.425800000000002Q5.28279,27.8086,5.71311,27.8906Q6.28688,28,6.91803,28Q7.54918,28,8.15164,27.8906Q8.55328,27.8086,8.66803,27.425800000000002L9.01229,25.8672Q9.70082,25.5937,10.2746,25.1562L11.8811,25.648400000000002Q12.2828,25.7578,12.5697,25.457Q12.9426,25.0469,13.2295,24.6094L13.3443,24.3906Q13.6025,23.92578,13.8033,23.433590000000002ZM6.91803,18.8125Q8.20902,18.83984,8.89754,19.90625Q9.52869,21,8.89754,22.09375Q8.20902,23.160159999999998,6.91803,23.1875Q5.62705,23.160159999999998,4.93852,22.09375Q4.30738,21,4.93852,19.90625Q5.62705,18.83984,6.91803,18.8125Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),GI=()=>{const[e,t]=N.useState(!1),{isAlarm:n,changeAlarm:r}=LT(),{isError:i,refetch:s}=xx(dm.PINNED);return h.jsxs(h.Fragment,{children:[h.jsx(yI,{isOpen:e,close:()=>t(!1)}),h.jsx(NI,{}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between align-top",children:[h.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[h.jsx("h2",{className:"font-bold text-lg",children:"  "}),h.jsx(pI,{children:h.jsxs("p",{className:"text-sm",children:["    ",h.jsx("br",{}),h.jsx("span",{className:"text-red-500",children:"*     "})]})})]}),h.jsxs("div",{className:"flex gap-1 items-center",children:[i&&h.jsx("button",{className:"p-2 rounded-full hover:bg-blue-100","aria-label":" ",title:" ",onClick:s,children:h.jsx($7,{className:"w-5 h-5"})}),h.jsx("button",{className:"p-2 rounded-full hover:bg-blue-100","aria-label":" ",title:" ",onClick:()=>t(!0),children:h.jsx(KI,{className:"w-5 h-5"})}),h.jsx("button",{className:"group relative p-2 rounded-full hover:bg-blue-100","aria-label":n?" ":" ",title:n?" ":" ",onClick:r,children:h.jsx(YI,{isAlarm:n})})]})]}),h.jsx(XI,{})]})]})};function YI({isAlarm:e}){const t=Mu(s=>s.sseState),n=ta(s=>s.isPermitted),r=t===yx.LIVE,i=r?gi.getDeniedMessage():[...gi.getDeniedMessage(),"  "];return e?n&&r?h.jsx(Dp,{className:"w-5 h-5 text-blue-500"}):h.jsxs(h.Fragment,{children:[h.jsx(Dp,{className:"w-5 h-5 text-red-500 animate-pulse"}),i.length>0&&h.jsx("span",{className:"absolute left-full -bottom-2 transform -translate-x-full translate-y-full opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-gray-900 text-white text-sm p-2 rounded w-64 h-fit text-center pointer-events-none",children:i.map((s,o)=>h.jsx("p",{className:"pt-1 first:pt-0",children:s},"tooltip-line-"+o))})]}):h.jsx(WI,{className:"w-5 h-5"})}function XI(){const{data:e,isPending:t,isError:n,refetch:r}=Om(),{data:i}=xx(dm.PINNED),s=qI(e?.map(u=>u.subjectId)??[]),o=u=>i?.find(f=>f.subjectId===u)?.seatCount??-1,a=u=>i?.find(f=>f.subjectId===u)?.queryTime??"";return t?h.jsx("div",{className:"animate-pulse grid grid-cols-1 md:grid-cols-3 gap-4",children:[0,0,0].map((u,c)=>h.jsx("div",{className:"bg-gray-300 shadow-sm rounded-lg p-4 h-24"},"skeleton-card-"+c))}):n?h.jsx(U7,{onReload:r}):!s||s.length===0?h.jsx(kI,{}):h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.map(u=>h.jsx(SI,{subject:u,seats:o(u.subjectId),queryTime:a(u.subjectId)},`${u.subjectId}_${u.subjectCode}_${u.professorName}`)),s.length<5?h.jsx(W7,{}):h.jsx(JI,{})]})}function JI(){return h.jsx("div",{className:"p-2 rounded-full flex items-center justify-center",children:h.jsx("p",{className:"bg-gray-50 rounded-full px-4 py-2 text-sm border border-gray-200",children:"   5   ."})})}const lh=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16,height:16,viewBox:"0 0 16 16",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,32)"},N.createElement("path",{d:"M13,25.5Q12.9688,23.3125,11.75,21.65625L15.7188,17.71875Q16,17.40625,16,17Q16,16.59375,15.7188,16.28125Q15.4062,16,15,16Q14.5938,16,14.2812,16.28125L10.3438,20.25Q8.6875,19.03125,6.5,19Q3.75,19.0625,1.90625,20.90625Q0.0625,22.75,0,25.5Q0.0625,28.25,1.90625,30.0938Q3.75,31.9375,6.5,32Q9.25,31.9375,11.0938,30.0938Q12.9375,28.25,13,25.5ZM6.5,21Q7.71875,21,8.75,21.59375Q9.78125,22.1875,10.4062,23.25Q11,24.3125,11,25.5Q11,26.6875,10.4062,27.75Q9.78125,28.8125,8.75,29.4062Q7.71875,30,6.5,30Q5.28125,30,4.25,29.4062Q3.21875,28.8125,2.59375,27.75Q2,26.6875,2,25.5Q2,24.3125,2.59375,23.25Q3.21875,22.1875,4.25,21.59375Q5.28125,21,6.5,21Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function Sl({onDelete:e,...t}){const n=N.useRef(null);return h.jsxs("div",{className:"relative flex items-center w-full",children:[h.jsx(lh,{onClick:r=>{r.preventDefault(),n.current?.focus()},className:"absolute left-3 top-3 text-gray-500"}),h.jsx("input",{ref:n,type:"text",className:"pl-10 pr-6 py-2 rounded-md w-full bg-white border border-gray-400 "+(t.className??""),...t}),h.jsx("button",{className:"absolute right-2 top-0 bottom-0 cursor-pointer","aria-label":"  ",onClick:r=>{r.preventDefault(),e&&e(),n.current?.focus()},children:h.jsx(ux,{className:"w-3 h-3"})})]})}function Am({id:e,className:t,value:n,defaultValue:r="",...i}){const{data:s}=wl(),o=[{departmentName:r,departmentCode:""},...s??[]],a=e??"department-filter";return h.jsxs(h.Fragment,{children:[h.jsx("label",{htmlFor:a,className:"hidden",children:""}),h.jsx("select",{id:a,className:"w-full p-2 rounded-md bg-white border border-gray-400 "+t,value:n,...i,children:o.map(({departmentName:u,departmentCode:c})=>h.jsx("option",{value:c,children:u},c))})]})}let ei;function G7(){return ei||(ei=JSON.parse(localStorage.getItem("departmentRank")??"{}"),ei)}function ZI(){ei&&localStorage.setItem("departmentRank",JSON.stringify(ei))}function Mm(e){ei||(ei=G7()),ei[e]===void 0?ei[e]=0:ei[e]+=1,ZI()}function Y7(){return ei||(ei=G7()),Object.entries(ei).sort(([,e],[,t])=>t-e)}function uh(e){const t=N.useMemo(()=>{const r=Y7();return new Map(r.map(([i,s],o)=>[i,o]))},[]),n=N.useMemo(()=>{if(e)return eD(e)},[e]);return N.useMemo(()=>{if(!n)return;const r=o=>{const a=t.get(o);return a===void 0?5:a};return n.map(o=>{const u=(5-r(o.departmentCode??o.deptCd))*250+o.rank*100-Number(o.classCode);return{...o,searchScore:u}}).sort((o,a)=>a.searchScore-o.searchScore).map(({searchScore:o,...a})=>a)},[t,n])}function eD(e){const t=new Map;for(const n of e){const r=`${n.subjectCode}-${n.departmentCode}`,i=t.get(r);i?(i.sum+=n.totalCount??0,i.count+=1):t.set(r,{sum:n.totalCount??0,count:1})}return e.map(n=>{const r=`${n.subjectCode}-${n.departmentCode}`,i=t.get(r),s=i.sum/i.count;return{...n,rank:s}})}const tD=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Gd(async()=>{const{default:r}=await Promise.resolve().then(()=>ic);return{default:r}},[]).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Kx extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class nD extends Kx{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class b5 extends Kx{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class w5 extends Kx{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var hy;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(hy||(hy={}));var rD=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(p){o(p)}}function u(f){try{c(r.throw(f))}catch(p){o(p)}}function c(f){f.done?s(f.value):i(f.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};class iD{constructor(t,{headers:n={},customFetch:r,region:i=hy.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=tD(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return rD(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let a={},{region:u}=n;u||(u=this.region);const c=new URL(`${this.url}/${t}`);u&&u!=="any"&&(a["x-region"]=u,c.searchParams.set("forceFunctionRegion",u));let f;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",f=o):typeof o=="string"?(a["Content-Type"]="text/plain",f=o):typeof FormData<"u"&&o instanceof FormData?f=o:(a["Content-Type"]="application/json",f=JSON.stringify(o)));const p=yield this.fetch(c.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:f}).catch(_=>{throw new nD(_)}),g=p.headers.get("x-relay-error");if(g&&g==="true")throw new b5(p);if(!p.ok)throw new w5(p);let v=((r=p.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return v==="application/json"?w=yield p.json():v==="application/octet-stream"?w=yield p.blob():v==="text/event-stream"?w=p:v==="multipart/form-data"?w=yield p.formData():w=yield p.text(),{data:w,error:null,response:p}}catch(i){return{data:null,error:i,response:i instanceof w5||i instanceof b5?i.context:void 0}}})}}var nr={},pu={},mu={},gu={},yu={},xu={},sD=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Vu=sD();const oD=Vu.fetch,X7=Vu.fetch.bind(Vu),J7=Vu.Headers,aD=Vu.Request,lD=Vu.Response,ic=Object.freeze(Object.defineProperty({__proto__:null,Headers:J7,Request:aD,Response:lD,default:X7,fetch:oD},Symbol.toStringTag,{value:"Module"})),uD=$9(ic);var Kf={},_5;function Z7(){if(_5)return Kf;_5=1,Object.defineProperty(Kf,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Kf.default=e,Kf}var S5;function e8(){if(S5)return xu;S5=1;var e=xu&&xu.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(xu,"__esModule",{value:!0});const t=e(uD),n=e(Z7());class r{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=Object.assign({},this.headers),this.headers[s]=o,this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let u=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var f,p,g;let v=null,w=null,_=null,C=c.status,E=c.statusText;if(c.ok){if(this.method!=="HEAD"){const U=await c.text();U===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?w=U:w=JSON.parse(U))}const A=(f=this.headers.Prefer)===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),B=(p=c.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");A&&B&&B.length>1&&(_=parseInt(B[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(v={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,_=null,C=406,E="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const A=await c.text();try{v=JSON.parse(A),Array.isArray(v)&&c.status===404&&(w=[],v=null,C=200,E="OK")}catch{c.status===404&&A===""?(C=204,E="No Content"):v={message:A}}if(v&&this.isMaybeSingle&&(!((g=v?.details)===null||g===void 0)&&g.includes("0 rows"))&&(v=null,C=200,E="OK"),v&&this.shouldThrowOnError)throw new n.default(v)}return{error:v,data:w,count:_,status:C,statusText:E}});return this.shouldThrowOnError||(u=u.catch(c=>{var f,p,g;return{error:{message:`${(f=c?.name)!==null&&f!==void 0?f:"FetchError"}: ${c?.message}`,details:`${(p=c?.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(g=c?.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),u.then(s,o)}returns(){return this}overrideTypes(){return this}}return xu.default=r,xu}var C5;function t8(){if(C5)return yu;C5=1;var e=yu&&yu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(yu,"__esModule",{value:!0});const t=e(e8());class n extends t.default{select(i){let s=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:a,referencedTable:u=a}={}){const c=u?`${u}.order`:"order",f=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${f?`${f},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:a=o}={}){const u=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(c,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:a=!1,wal:u=!1,format:c="text"}={}){var f;const p=[i?"analyze":null,s?"verbose":null,o?"settings":null,a?"buffers":null,u?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.Accept)!==null&&f!==void 0?f:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${g}"; options=${p};`,c==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return yu.default=n,yu}var k5;function Gx(){if(k5)return gu;k5=1;var e=gu&&gu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(gu,"__esModule",{value:!0});const t=e(t8());class n extends t.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const o=Array.from(new Set(s)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:o,type:a}={}){let u="";a==="plain"?u="pl":a==="phrase"?u="ph":a==="websearch"&&(u="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${u}fts${c}.${s}`),this}match(i){return Object.entries(i).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(i,s,o){return this.url.searchParams.append(i,`not.${s}.${o}`),this}or(i,{foreignTable:s,referencedTable:o=s}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${i})`),this}filter(i,s,o){return this.url.searchParams.append(i,`${s}.${o}`),this}}return gu.default=n,gu}var j5;function n8(){if(j5)return mu;j5=1;var e=mu&&mu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(mu,"__esModule",{value:!0});const t=e(Gx());class n{constructor(i,{headers:s={},schema:o,fetch:a}){this.url=i,this.headers=s,this.schema=o,this.fetch=a}select(i,{head:s=!1,count:o}={}){const a=s?"HEAD":"GET";let u=!1;const c=(i??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",c),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:s,defaultToNull:o=!0}={}){const a="POST",u=[];if(this.headers.Prefer&&u.push(this.headers.Prefer),s&&u.push(`count=${s}`),o||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(i)){const c=i.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(c.length>0){const f=[...new Set(c)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:a,defaultToNull:u=!0}={}){const c="POST",f=[`resolution=${o?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&f.push(this.headers.Prefer),a&&f.push(`count=${a}`),u||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(i)){const p=i.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(p.length>0){const g=[...new Set(p)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:s}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),this.headers.Prefer=a.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const s="DELETE",o=[];return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return mu.default=n,mu}var td={},nd={},E5;function cD(){return E5||(E5=1,Object.defineProperty(nd,"__esModule",{value:!0}),nd.version=void 0,nd.version="0.0.0-automated"),nd}var T5;function dD(){if(T5)return td;T5=1,Object.defineProperty(td,"__esModule",{value:!0}),td.DEFAULT_HEADERS=void 0;const e=cD();return td.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},td}var N5;function hD(){if(N5)return pu;N5=1;var e=pu&&pu.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(pu,"__esModule",{value:!0});const t=e(n8()),n=e(Gx()),r=dD();class i{constructor(o,{headers:a={},schema:u,fetch:c}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=u,this.fetch=c}from(o){const a=new URL(`${this.url}/${o}`);return new t.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:u=!1,get:c=!1,count:f}={}){let p;const g=new URL(`${this.url}/rpc/${o}`);let v;u||c?(p=u?"HEAD":"GET",Object.entries(a).filter(([_,C])=>C!==void 0).map(([_,C])=>[_,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([_,C])=>{g.searchParams.append(_,C)})):(p="POST",v=a);const w=Object.assign({},this.headers);return f&&(w.Prefer=`count=${f}`),new n.default({method:p,url:g,headers:w,schema:this.schemaName,body:v,fetch:this.fetch,allowEmpty:!1})}}return pu.default=i,pu}var P5;function fD(){if(P5)return nr;P5=1;var e=nr&&nr.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(nr,"__esModule",{value:!0}),nr.PostgrestError=nr.PostgrestBuilder=nr.PostgrestTransformBuilder=nr.PostgrestFilterBuilder=nr.PostgrestQueryBuilder=nr.PostgrestClient=void 0;const t=e(hD());nr.PostgrestClient=t.default;const n=e(n8());nr.PostgrestQueryBuilder=n.default;const r=e(Gx());nr.PostgrestFilterBuilder=r.default;const i=e(t8());nr.PostgrestTransformBuilder=i.default;const s=e(e8());nr.PostgrestBuilder=s.default;const o=e(Z7());return nr.PostgrestError=o.default,nr.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:o.default},nr}var pD=fD();const mD=xi(pD),{PostgrestClient:gD,PostgrestQueryBuilder:qG,PostgrestFilterBuilder:WG,PostgrestTransformBuilder:KG,PostgrestBuilder:GG,PostgrestError:YG}=mD;function yD(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const xD=yD(),vD="2.11.15",bD=`realtime-js/${vD}`,wD="1.0.0",r8=1e4,_D=1e3;var Sd;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Sd||(Sd={}));var vr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(vr||(vr={}));var ns;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ns||(ns={}));var fy;(function(e){e.websocket="websocket"})(fy||(fy={}));var el;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(el||(el={}));class SD{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+i));o=o+i;const u=r.decode(t.slice(o,o+s));o=o+s;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:u,payload:c}}}class i8{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var sn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(sn||(sn={}));const O5=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,o)=>(s[o]=CD(o,e,t,i),s),{})},CD=(e,t,n,r)=>{const i=t.find(a=>a.name===e),s=i?.type,o=n[e];return s&&!r.includes(s)?s8(s,o):py(o)},s8=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return TD(t,n)}switch(e){case sn.bool:return kD(t);case sn.float4:case sn.float8:case sn.int2:case sn.int4:case sn.int8:case sn.numeric:case sn.oid:return jD(t);case sn.json:case sn.jsonb:return ED(t);case sn.timestamp:return ND(t);case sn.abstime:case sn.date:case sn.daterange:case sn.int4range:case sn.int8range:case sn.money:case sn.reltime:case sn.text:case sn.time:case sn.timestamptz:case sn.timetz:case sn.tsrange:case sn.tstzrange:return py(t);default:return py(t)}},py=e=>e,kD=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},jD=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ED=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},TD=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const o=e.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>s8(t,a))}return e},ND=e=>typeof e=="string"?e.replace(" ","T"):e,o8=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class J0{constructor(t,n,r={},i=r8){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var L5;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(L5||(L5={}));class Cd{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Cd.syncState(this.state,i,s,o),this.pendingDiffs.forEach(u=>{this.state=Cd.syncDiff(this.state,u,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Cd.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),o=this.transformState(n),a={},u={};return this.map(s,(c,f)=>{o[c]||(u[c]=f)}),this.map(o,(c,f)=>{const p=s[c];if(p){const g=f.map(C=>C.presence_ref),v=p.map(C=>C.presence_ref),w=f.filter(C=>v.indexOf(C.presence_ref)<0),_=p.filter(C=>g.indexOf(C.presence_ref)<0);w.length>0&&(a[c]=w),_.length>0&&(u[c]=_)}else a[c]=f}),this.syncDiff(s,{joins:a,leaves:u},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,u)=>{var c;const f=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(u),f.length>0){const p=t[a].map(v=>v.presence_ref),g=f.filter(v=>p.indexOf(v.presence_ref)<0);t[a].unshift(...g)}r(a,f,u)}),this.map(o,(a,u)=>{let c=t[a];if(!c)return;const f=u.map(p=>p.presence_ref);c=c.filter(p=>f.indexOf(p.presence_ref)<0),t[a]=c,i(a,c,u),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var A5;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(A5||(A5={}));var M5;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(M5||(M5={}));var to;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(to||(to={}));class Yx{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=vr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new J0(this,ns.join,this.params,this.timeout),this.rejoinTimer=new i8(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=vr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=vr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=vr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=vr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ns.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Cd(this),this.broadcastEndpointURL=o8(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==vr.closed){const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(f=>t?.(to.CHANNEL_ERROR,f)),this._onClose(()=>t?.(to.CLOSED));const u={},c={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},u)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket.setAuth(),f===void 0){t?.(to.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(p=g?.length)!==null&&p!==void 0?p:0,w=[];for(let _=0;_<v;_++){const C=g[_],{filter:{event:E,schema:L,table:A,filter:B}}=C,U=f&&f[_];if(U&&U.event===E&&U.schema===L&&U.table===A&&U.filter===B)w.push(Object.assign(Object.assign({},C),{id:U.id}));else{this.unsubscribe(),this.state=vr.errored,t?.(to.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(to.SUBSCRIBED);return}}).receive("error",f=>{this.state=vr.errored,t?.(to.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(to.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,u;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=vr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ns.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new J0(this,ns.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new J0(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const o=t.toLocaleLowerCase(),{close:a,error:u,leave:c,join:f}=ns;if(r&&[a,u,c,f].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var w,_,C;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((C=(_=v.filter)===null||_===void 0?void 0:_.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===o}).map(v=>v.callback(g,r)):(s=this.bindings[o])===null||s===void 0||s.filter(v=>{var w,_,C,E,L,A;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const B=v.id,U=(w=v.filter)===null||w===void 0?void 0:w.event;return B&&((_=n.ids)===null||_===void 0?void 0:_.includes(B))&&(U==="*"||U?.toLocaleLowerCase()===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const B=(L=(E=v?.filter)===null||E===void 0?void 0:E.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return B==="*"||B===((A=n?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof g=="object"&&"ids"in g){const w=g.data,{schema:_,table:C,commit_timestamp:E,type:L,errors:A}=w;g=Object.assign(Object.assign({},{schema:_,table:C,commit_timestamp:E,eventType:L,new:{},old:{},errors:A}),this._getPayloadRecords(w))}v.callback(g,r)})}_isClosed(){return this.state===vr.closed}_isJoined(){return this.state===vr.joined}_isJoining(){return this.state===vr.joining}_isLeaving(){return this.state===vr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Yx.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ns.close,{},t)}_onError(t){this._on(ns.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=vr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=O5(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=O5(t.columns,t.old_record)),n}}const R5=()=>{},PD=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class OD{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=r8,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=R5,this.ref=0,this.logger=R5,this.conn=null,this.sendBuffer=[],this.serializer=new SD,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>Gd(async()=>{const{default:u}=await Promise.resolve().then(()=>ic);return{default:u}},void 0).then(({default:u})=>u(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${fy.websocket}`,this.httpEndpoint=o8(t),n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n?.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new i8(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch),n?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=n?.worker||!1,this.workerUrl=n?.workerUrl}this.accessToken=n?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=xD),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:wD}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Sd.connecting:return el.Connecting;case Sd.open:return el.Open;case Sd.closing:return el.Closing;default:return el.Closed}}isConnected(){return this.connectionState()===el.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new Yx(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,o=()=>{this.encode(t,a=>{var u;(u=this.conn)===null||u===void 0||u.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:bD};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(ns.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(_D,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ns.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([PD],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Xx extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function rr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class LD extends Xx{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class my extends Xx{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var AD=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(p){o(p)}}function u(f){try{c(r.throw(f))}catch(p){o(p)}}function c(f){f.done?s(f.value):i(f.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};const a8=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Gd(async()=>{const{default:r}=await Promise.resolve().then(()=>ic);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},MD=()=>AD(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Gd(()=>Promise.resolve().then(()=>ic),void 0)).Response:Response}),gy=e=>{if(Array.isArray(e))return e.map(n=>gy(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=gy(r)}),t},RD=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Cl=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(p){o(p)}}function u(f){try{c(r.throw(f))}catch(p){o(p)}}function c(f){f.done?s(f.value):i(f.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};const Z0=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ID=(e,t,n)=>Cl(void 0,void 0,void 0,function*(){const r=yield MD();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{const s=e.status||500,o=i?.statusCode||s+"";t(new LD(Z0(i),s,o))}).catch(i=>{t(new my(Z0(i),i))}):t(new my(Z0(e),e))}),DD=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(RD(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n))};function ch(e,t,n,r,i,s){return Cl(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,DD(t,r,i,s)).then(u=>{if(!u.ok)throw u;return r?.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>ID(u,a,r))})})}function Gp(e,t,n,r){return Cl(this,void 0,void 0,function*(){return ch(e,"GET",t,n,r)})}function no(e,t,n,r,i){return Cl(this,void 0,void 0,function*(){return ch(e,"POST",t,r,i,n)})}function yy(e,t,n,r,i){return Cl(this,void 0,void 0,function*(){return ch(e,"PUT",t,r,i,n)})}function FD(e,t,n,r){return Cl(this,void 0,void 0,function*(){return ch(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function l8(e,t,n,r,i){return Cl(this,void 0,void 0,function*(){return ch(e,"DELETE",t,r,i,n)})}var Gr=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(p){o(p)}}function u(f){try{c(r.throw(f))}catch(p){o(p)}}function c(f){f.done?s(f.value):i(f.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};const BD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},I5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class zD{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=a8(i)}uploadOrUpdate(t,n,r,i){return Gr(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},I5),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),u&&s.append("metadata",this.encodeMetadata(u)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),u&&s.append("metadata",this.encodeMetadata(u))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,u&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),f=this._getFinalPath(c),p=yield(t=="PUT"?yy:no)(this.fetch,`${this.url}/object/${f}`,s,Object.assign({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:p.Id,fullPath:p.Key},error:null}}catch(s){if(rr(s))return{data:null,error:s};throw s}})}upload(t,n,r){return Gr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Gr(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let u;const c=Object.assign({upsert:I5.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",c.cacheControl)):(u=r,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType);const p=yield yy(this.fetch,a.toString(),u,{headers:f});return{data:{path:s,fullPath:p.Key},error:null}}catch(u){if(rr(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,n){return Gr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const s=yield no(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new Xx("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(rr(r))return{data:null,error:r};throw r}})}update(t,n,r){return Gr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Gr(this,void 0,void 0,function*(){try{return{data:yield no(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(rr(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Gr(this,void 0,void 0,function*(){try{return{data:{path:(yield no(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(rr(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Gr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield no(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(rr(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Gr(this,void 0,void 0,function*(){try{const i=yield no(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(rr(i))return{data:null,error:i};throw i}})}download(t,n){return Gr(this,void 0,void 0,function*(){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(n?.transform||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Gp(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(rr(a))return{data:null,error:a};throw a}})}info(t){return Gr(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Gp(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:gy(r),error:null}}catch(r){if(rr(r))return{data:null,error:r};throw r}})}exists(t){return Gr(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield FD(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(rr(r)&&r instanceof my){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n?.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof n?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(n?.transform||{});u!==""&&i.push(u);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return Gr(this,void 0,void 0,function*(){try{return{data:yield l8(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(rr(n))return{data:null,error:n};throw n}})}list(t,n,r){return Gr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},BD),n),{prefix:t||""});return{data:yield no(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(rr(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const $D="2.10.4",UD={"X-Client-Info":`storage-js/${$D}`};var vu=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(p){o(p)}}function u(f){try{c(r.throw(f))}catch(p){o(p)}}function c(f){f.done?s(f.value):i(f.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};class HD{constructor(t,n={},r,i){const s=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},UD),n),this.fetch=a8(r)}listBuckets(){return vu(this,void 0,void 0,function*(){try{return{data:yield Gp(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(rr(t))return{data:null,error:t};throw t}})}getBucket(t){return vu(this,void 0,void 0,function*(){try{return{data:yield Gp(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(rr(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return vu(this,void 0,void 0,function*(){try{return{data:yield no(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(rr(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return vu(this,void 0,void 0,function*(){try{return{data:yield yy(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(rr(r))return{data:null,error:r};throw r}})}emptyBucket(t){return vu(this,void 0,void 0,function*(){try{return{data:yield no(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(rr(n))return{data:null,error:n};throw n}})}deleteBucket(t){return vu(this,void 0,void 0,function*(){try{return{data:yield l8(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(rr(n))return{data:null,error:n};throw n}})}}class QD extends HD{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new zD(this.url,this.headers,t,this.fetch)}}const VD="2.53.0";let md="";typeof Deno<"u"?md="deno":typeof document<"u"?md="web":typeof navigator<"u"&&navigator.product==="ReactNative"?md="react-native":md="node";const qD={"X-Client-Info":`supabase-js-${md}/${VD}`},WD={headers:qD},KD={schema:"public"},GD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},YD={};var XD=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(p){o(p)}}function u(f){try{c(r.throw(f))}catch(p){o(p)}}function c(f){f.done?s(f.value):i(f.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};const JD=e=>{let t;return e?t=e:typeof fetch>"u"?t=X7:t=fetch,(...n)=>t(...n)},ZD=()=>typeof Headers>"u"?J7:Headers,eF=(e,t,n)=>{const r=JD(n),i=ZD();return(s,o)=>XD(void 0,void 0,void 0,function*(){var a;const u=(a=yield t())!==null&&a!==void 0?a:e;let c=new i(o?.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),r(s,Object.assign(Object.assign({},o),{headers:c}))})};var tF=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(p){o(p)}}function u(f){try{c(r.throw(f))}catch(p){o(p)}}function c(f){f.done?s(f.value):i(f.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};function nF(e){return e.endsWith("/")?e:e+"/"}function rF(e,t){var n,r;const{db:i,auth:s,realtime:o,global:a}=e,{db:u,auth:c,realtime:f,global:p}=t,g={db:Object.assign(Object.assign({},u),i),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},f),o),storage:{},global:Object.assign(Object.assign(Object.assign({},p),a),{headers:Object.assign(Object.assign({},(n=p?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>tF(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const u8="2.71.1",Pu=30*1e3,xy=3,e1=xy*Pu,iF="http://localhost:9999",sF="supabase.auth.token",oF={"X-Client-Info":`gotrue-js/${u8}`},vy="X-Supabase-Api-Version",c8={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},aF=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,lF=600*1e3;class Jx extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ct(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class uF extends Jx{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function cF(e){return Ct(e)&&e.name==="AuthApiError"}class d8 extends Jx{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class da extends Jx{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Qo extends da{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function dF(e){return Ct(e)&&e.name==="AuthSessionMissingError"}class Gf extends da{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Yf extends da{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Xf extends da{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function hF(e){return Ct(e)&&e.name==="AuthImplicitGrantRedirectError"}class D5 extends da{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class by extends da{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function t1(e){return Ct(e)&&e.name==="AuthRetryableFetchError"}class F5 extends da{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class wy extends da{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Yp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),B5=` 	
\r=`.split(""),fF=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<B5.length;t+=1)e[B5[t].charCodeAt(0)]=-2;for(let t=0;t<Yp.length;t+=1)e[Yp[t].charCodeAt(0)]=t;return e})();function z5(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Yp[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Yp[r]),t.queuedBits-=6}}function h8(e,t,n){const r=fF[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function $5(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{gF(o,r,n)};for(let o=0;o<e.length;o+=1)h8(e.charCodeAt(o),i,s);return t.join("")}function pF(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function mF(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}pF(r,t)}}function gF(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function yF(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)h8(e.charCodeAt(i),n,r);return new Uint8Array(t)}function xF(e){const t=[];return mF(e,n=>t.push(n)),new Uint8Array(t)}function vF(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>z5(i,n,r)),z5(null,n,r),t.join("")}function bF(e){return Math.round(Date.now()/1e3)+e}function wF(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ts=()=>typeof window<"u"&&typeof document<"u",Va={tested:!1,writable:!1},f8=()=>{if(!ts())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Va.tested)return Va.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Va.tested=!0,Va.writable=!0}catch{Va.tested=!0,Va.writable=!1}return Va.writable};function _F(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const p8=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Gd(async()=>{const{default:r}=await Promise.resolve().then(()=>ic);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},SF=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ou=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},qa=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},$o=async(e,t)=>{await e.removeItem(t)};class Rm{constructor(){this.promise=new Rm.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Rm.promiseConstructor=Promise;function n1(e){const t=e.split(".");if(t.length!==3)throw new wy("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!aF.test(t[r]))throw new wy("JWT not in base64url format");return{header:JSON.parse($5(t[0])),payload:JSON.parse($5(t[1])),signature:yF(t[2]),raw:{header:t[0],payload:t[1]}}}async function CF(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function kF(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){r(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function jF(e){return("0"+e.toString(16)).substr(-2)}function EF(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,jF).join("")}async function TF(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function NF(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await TF(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bu(e,t,n=!1){const r=EF();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Ou(e,`${t}-code-verifier`,i);const s=await NF(r);return[s,r===s?"plain":"s256"]}const PF=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function OF(e){const t=e.headers.get(vy);if(!t||!t.match(PF))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function LF(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function AF(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const MF=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function wu(e){if(!MF.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function r1(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function U5(e){return JSON.parse(JSON.stringify(e))}var RF=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Ja=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),IF=[502,503,504];async function H5(e){var t;if(!SF(e))throw new by(Ja(e),0);if(IF.includes(e.status))throw new by(Ja(e),e.status);let n;try{n=await e.json()}catch(s){throw new d8(Ja(s),s)}let r;const i=OF(e);if(i&&i.getTime()>=c8["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new F5(Ja(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Qo}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new F5(Ja(n),e.status,n.weak_password.reasons);throw new uF(Ja(n),e.status||500,r)}const DF=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Mt(e,t,n,r){var i;const s=Object.assign({},r?.headers);s[vy]||(s[vy]=c8["2024-01-01"].name),r?.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await FF(e,t,n+a,{headers:s,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}}async function FF(e,t,n,r,i,s){const o=DF(t,r,i,s);let a;try{a=await e(n,Object.assign({},o))}catch(u){throw console.error(u),new by(Ja(u),0)}if(a.ok||await H5(a),r?.noResolveJson)return a;try{return await a.json()}catch(u){await H5(u)}}function eo(e){var t;let n=null;UF(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=bF(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Q5(e){const t=eo(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function qo(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function BF(e){return{data:e,error:null}}function zF(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,o=RF(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},u=Object.assign({},o);return{data:{properties:a,user:u},error:null}}function $F(e){return e}function UF(e){return e.access_token&&e.refresh_token&&e.expires_in}const i1=["global","local","others"];var HF=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class QF{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=p8(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=i1[0]){if(i1.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${i1.join(", ")}`);try{return await Mt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Mt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:qo})}catch(r){if(Ct(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=HF(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await Mt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:zF,redirectTo:n?.redirectTo})}catch(n){if(Ct(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Mt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:qo})}catch(n){if(Ct(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,o,a,u;try{const c={nextPage:null,lastPage:0,total:0},f=await Mt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:$F});if(f.error)throw f.error;const p=await f.json(),g=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(u=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(w=>{const _=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(w.split(";")[1].split("=")[1]);c[`${C}Page`]=_}),c.total=parseInt(g)),{data:Object.assign(Object.assign({},p),c),error:null}}catch(c){if(Ct(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){wu(t);try{return await Mt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:qo})}catch(n){if(Ct(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){wu(t);try{return await Mt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:qo})}catch(r){if(Ct(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){wu(t);try{return await Mt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:qo})}catch(r){if(Ct(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){wu(t.userId);try{const{data:n,error:r}=await Mt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ct(n))return{data:null,error:n};throw n}}async _deleteFactor(t){wu(t.userId),wu(t.id);try{return{data:await Mt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ct(n))return{data:null,error:n};throw n}}}function V5(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function VF(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const _u={debug:!!(globalThis&&f8()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class m8 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class qF extends m8{}async function WF(e,t,n){_u.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),_u.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){_u.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{_u.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw _u.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new qF(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(_u.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}VF();const KF={url:iF,storageKey:sF,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:oF,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function q5(e,t,n){return await n()}const Su={};class Vd{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Vd.nextInstanceID,Vd.nextInstanceID+=1,this.instanceID>0&&ts()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},KF),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new QF({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=p8(i.fetch),this.lock=i.lock||q5,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ts()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=WF:this.lock=q5,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:f8()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=V5(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=V5(this.memoryStorage)),ts()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Su[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Su[this.storageKey]=Object.assign(Object.assign({},Su[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Su[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Su[this.storageKey]=Object.assign(Object.assign({},Su[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${u8}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=_F(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ts()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),hF(s)){const u=(t=s.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ct(n)?{error:n}:{error:new d8("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await Mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:eo}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(Ct(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:f,password:p,options:g}=t;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await bu(this.storage,this.storageKey)),s=await Mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:f,password:p,data:(n=g?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:v,code_challenge_method:w},xform:eo})}else if("phone"in t){const{phone:f,password:p,options:g}=t;s=await Mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:p,data:(r=g?.data)!==null&&r!==void 0?r:{},channel:(i=g?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:eo})}else throw new Yf("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(Ct(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:o,options:a}=t;n=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Q5})}else if("phone"in t){const{phone:s,password:o,options:a}=t;n=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Q5})}else throw new Yf("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Gf}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ct(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,i,s,o,a,u,c,f,p,g,v;let w,_;if("message"in t)w=t.message,_=t.signature;else{const{chain:C,wallet:E,statement:L,options:A}=t;let B;if(ts())if(typeof E=="object")B=E;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))B=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=E}const U=new URL((n=A?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in B&&B.signIn){const P=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:U.host,uri:U.href}),L?{statement:L}:null));let D;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")D=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)D=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)w=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),_=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${U.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${U.href}`,`Issued At: ${(i=(r=A?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=A?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((o=A?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((a=A?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((u=A?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((c=A?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((p=(f=A?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||p===void 0)&&p.length?["Resources",...A.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const P=await B.signMessage(new TextEncoder().encode(w),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=P}}try{const{data:C,error:E}=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:vF(_)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:eo});if(E)throw E;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new Gf}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:E})}catch(C){if(Ct(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(t){const n=await qa(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:eo});if(await $o(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Gf}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(Ct(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=t,a=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:eo}),{data:u,error:c}=a;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Gf}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(n){if(Ct(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,o;try{if("email"in t){const{email:a,options:u}=t;let c=null,f=null;this.flowType==="pkce"&&([c,f]=await bu(this.storage,this.storageKey));const{error:p}=await Mt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(r=u?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:c,code_challenge_method:f},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:a,options:u}=t,{data:c,error:f}=await Mt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(o=u?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c?.message_id},error:f}}throw new Yf("You must provide either an email or phone number.")}catch(a){if(Ct(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await Mt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:eo});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,c=o.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(Ct(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await bu(this.storage,this.storageKey)),await Mt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:BF})}catch(s){if(Ct(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Qo;const{error:i}=await Mt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Ct(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:o}=await Mt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:o,error:a}=await Mt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:a}}throw new Yf("You must provide either an email or phone number and a type")}catch(n){if(Ct(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await qa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<e1:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await qa(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=r1()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,c,f)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,f))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Mt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:qo}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qo}:await Mt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:qo})})}catch(n){if(Ct(n))return dF(n)&&(await this._removeSession(),await $o(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Qo;const o=i.session;let a=null,u=null;this.flowType==="pkce"&&t.email!=null&&([a,u]=await bu(this.storage,this.storageKey));const{data:c,error:f}=await Mt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:u}),jwt:o.access_token,xform:qo});if(f)throw f;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Ct(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Qo;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=n1(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:a,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:u}=await this._getUser(t.access_token);if(u)throw u;s={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(Ct(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new Qo;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ct(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!ts())throw new Xf("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Xf(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new D5("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xf("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new D5("No code detected.");const{data:L,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:u,token_type:c}=t;if(!s||!a||!o||!c)throw new Xf("No session defined in URL");const f=Math.round(Date.now()/1e3),p=parseInt(a);let g=f+p;u&&(g=parseInt(u));const v=g-f;v*1e3<=Pu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${p}s`);const w=g-p;f-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,g,f):f-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,g,f);const{data:_,error:C}=await this._getUser(s);if(C)throw C;const E={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:g,refresh_token:o,token_type:c,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:t.type},error:null}}catch(r){if(Ct(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await qa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(cF(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await $o(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=wF(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await bu(this.storage,this.storageKey,!0));try{return await Mt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(Ct(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Ct(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,u,c,f;const{data:p,error:g}=s;if(g)throw g;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Mt(this.fetch,"GET",v,{headers:this.headers,jwt:(f=(c=p.session)===null||c===void 0?void 0:c.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return ts()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:t.provider,url:r?.url},error:null}}catch(r){if(Ct(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await Mt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ct(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await kF(async i=>(i>0&&await CF(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Mt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:eo})),(i,s)=>{const o=200*Math.pow(2,i);return s&&t1(s)&&Date.now()+o-r<Pu})}catch(r){if(this._debug(n,"error",r),Ct(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),ts()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await qa(this.storage,this.storageKey);if(i&&this.userStorage){let o=await qa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Ou(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:r1()}else if(i&&!i.user&&!i.user){const o=await qa(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await $o(this.storage,this.storageKey+"-user"),await Ou(this.storage,this.storageKey,i)):i.user=r1()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<e1;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${e1}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),t1(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Qo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Rm;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new Qo;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),Ct(s)){const o={session:null,error:s};return t1(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(u){s.push(u)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Ou(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=U5(i);await Ou(this.storage,this.storageKey,s)}else{const i=U5(n);await Ou(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await $o(this.storage,this.storageKey),await $o(this.storage,this.storageKey+"-code-verifier"),await $o(this.storage,this.storageKey+"-user"),this.userStorage&&await $o(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ts()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Pu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Pu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Pu}ms, refresh threshold is ${xy} ticks`),i<=xy&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof m8)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ts()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await bu(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r?.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Mt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ct(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:u,error:c}=await Mt(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(n){if(Ct(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:a}=await Mt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(Ct(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Mt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ct(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=t?.factors||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=n1(i.access_token);let a=null;o.aal&&(a=o.aal);let u=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const f=o.amr||[];return{data:{currentLevel:a,nextLevel:u,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+lF>i)return r;const{data:s,error:o}=await Mt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:v,error:w}=await this.getSession();if(w||!v.session)return{data:null,error:w};r=v.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:u}}=n1(r);n?.allowExpired||LF(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!c){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:s,header:i,signature:o},error:null}}const f=AF(i.alg),p=await crypto.subtle.importKey("jwk",c,f,!0,["verify"]);if(!await crypto.subtle.verify(f,p,o,xF(`${a}.${u}`)))throw new wy("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}}}Vd.nextInstanceID=0;const GF=Vd;class YF extends GF{constructor(t){super(t)}}var XF=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(p){o(p)}}function u(f){try{c(r.throw(f))}catch(p){o(p)}}function c(f){f.done?s(f.value):i(f.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};class JF{constructor(t,n,r){var i,s,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=nF(t),u=new URL(a);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:KD,realtime:YD,auth:Object.assign(Object.assign({},GD),{storageKey:c}),global:WD},p=rF(r??{},f);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=p.global.headers)!==null&&s!==void 0?s:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=p.auth)!==null&&o!==void 0?o:{},this.headers,p.global.fetch),this.fetch=eF(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new gD(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new QD(this.storageUrl.href,this.headers,this.fetch,r?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new iD(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return XF(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:a,debug:u},c,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new YF({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),c),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:a,debug:u,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new OD(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ZF=(e,t,n)=>new JF(e,t,n);function eB(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}eB()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");function W5(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Cu=[..."".normalize("NFD")].map(e=>e.charCodeAt(0)),K5=44032,tB=55203,s1=28,G5=21,_y={"":"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Sy={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},nB=["","","","","","","","","","","","","","","","","","",""],rB=Object.values(Sy),iB=["","","","","","","","","","","","","","","","","","","","","","","","","","","",""].map(e=>_y[e]);function sB(e){const t=e.charCodeAt(0);if(!(K5<=t&&t<=tB))return;const r=t-K5,i=r%s1,s=(r-i)/s1%G5,o=Math.floor((r-i)/s1/G5);return{choseong:nB[o],jungseong:rB[s],jongseong:iB[i]}}function oB(e){const t=[];for(const n of e){const r=sB(n);if(r!=null){t.push([...r.choseong,...r.jungseong,...r.jongseong]);continue}if(W5(_y,n)){const i=_y[n];t.push([...i]);continue}if(W5(Sy,n)){const i=Sy[n];t.push([...i]);continue}t.push([n])}return t}function qu(e){return oB(e).reduce((t,n)=>`${t}${n.join("")}`,"")}var Xp={START_CHOSEONG:Cu[0],START_JUNGSEONG:Cu[1],START_JONGSEONG:Cu[2],END_CHOSEONG:Cu[3],END_JUNGSEONG:Cu[4],END_JONGSEONG:Cu[5]};new RegExp(`[^\\u${Xp.START_CHOSEONG.toString(16)}-\\u${Xp.END_CHOSEONG.toString(16)}-\\s]+`,"ug");new RegExp(`[\\u${Xp.START_CHOSEONG.toString(16)}-\\u${Xp.END_CHOSEONG.toString(16)}]`,"g");const aB=ZF("https://jvbtsubxzytnjnzxmtbg.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp2YnRzdWJ4enl0bmpuenhtdGJnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQyMzMyMzgsImV4cCI6MjA2OTgwOTIzOH0.uUpg4kO7-uLmswUo8Dp_-WZwKw_xKqxRrpGmM2tN02I"),lB=30*1e3,uB=10*1e3,cB=60*1e3,dB=5,Jf="searchLoggingData",hB="searches_dev",St={timer:null,commitDelay:lB,data:[],loadLoggingData(){if(St.data.length>0)return St.data;const e=localStorage.getItem(Jf);return e&&(St.data=JSON.parse(e)),St.data},updateLoggingData(e,t,n){const r=!t||isNaN(Number(t))?-1:Number(t),s={search:e===void 0&&St.data.length>0?St.data[St.data.length-1].search:e??"",dprt_cd:r,target:n,created_at:Date.now()};if((a=>{if(St.data.length===0)return!1;const u=St.data[St.data.length-1];return u.target<0&&(o1(u.search,a.search)||o1(a.search,u.search))})(s)){const a=St.data[St.data.length-1];a.target=n,a.created_at=Date.now(),o1(s.search,a.search)&&(a.search=s.search),s.dprt_cd>=0&&(a.dprt_cd=s.dprt_cd)}else St.data.push(s);localStorage.setItem(Jf,JSON.stringify(St.data)),St.submitDelayCommit()},reconcileLoggingData(){St.data=St.data.filter(e=>!(e.search&&e.dprt_cd<0&&e.target<0)),St.data=St.data.filter((e,t)=>!(t>0&&e.search===St.data[t-1].search&&e.dprt_cd===St.data[t-1].dprt_cd&&e.target===-1)),localStorage.setItem(Jf,JSON.stringify(St.data))},submitDelayCommit(){if(St.timer&&(clearTimeout(St.timer),St.timer=null),St.data.length>dB){const e=St.data.map(r=>r.created_at),t=e.slice(1).map((r,i)=>r-e[i]),n=t.reduce((r,i)=>r+i,0)/t.length;St.commitDelay=Math.min(cB,Math.max(uB,n+10*1e3))}St.timer=setTimeout(()=>{St.timer=null,St.commitLoggingData()},St.commitDelay)},commitLoggingData(){St.reconcileLoggingData();const e=St.data.length;if(e===0)return;const t=St.data.map(({search:n,dprt_cd:r,target:i})=>({search:n,dprt_cd:r,target:i}));aB.from(hB).insert(t).then(({error:n})=>{n?console.error("Error committing search logging data:",n):(St.data=St.data.slice(e),localStorage.setItem(Jf,JSON.stringify(St.data)))})}};function o1(e,t){const n=qu(e).toLowerCase(),r=qu(t).toLowerCase();return n.includes(r)}function dh(){N.useEffect(()=>{St.loadLoggingData()},[]);function e(r,i){St.updateLoggingData(r,i,-1)}function t(r,i,s){St.updateLoggingData(r,i,s)}function n(r){St.updateLoggingData(void 0,void 0,r)}return{onSearchChange:e,selectTarget:t,selectTargetOnly:n}}function g8({subject:e,className:t,onClick:n,...r}){const{data:i}=Om(),{mutate:s}=Wx(),{mutate:o}=q7(),{selectTargetOnly:a}=dh(),u=i?.some(p=>p.subjectId===e.subjectId),c=u?"  ":"  ",f=p=>{if(a(e.subjectId),Mm(e.deptCd),n&&n(p),!u){o(e.subjectId);return}s(e.subjectId)};return h.jsx("button",{className:"cursor-pointer "+(t??""),title:c,"aria-label":c,onClick:f,...r,children:h.jsx(ec,{disabled:!u})})}function fB({subject:e,seats:t,queryTime:n,disableSeat:r=!1,className:i,isLive:s=!1}){const o=e.isDeleted,a=e.curiLangNm==="",u=typeof e.tmNum=="string"&&Number(e.tmNum.split("/")[0])||0;return h.jsxs("div",{className:"bg-gray-50 shadow-sm rounded-lg p-4 "+i,children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("h3",{className:"font-bold",children:e.subjectName}),h.jsx(g8,{subject:e})]}),h.jsxs("div",{className:"mb-2 text-xs text-gray-500",children:[h.jsx("p",{children:e.departmentName}),h.jsxs("p",{children:[e.subjectCode,"-",e.classCode," | ",e.professorName]})]}),h.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:[e.studentYear," ",e.curiTypeCdNm," | ",u," | ",e.lesnTime]}),!r&&h.jsxs("div",{className:"flex justify-between items-baseline",children:[h.jsxs("p",{className:`text-sm px-2 py-1 rounded-full font-bold ${_l(t)}`,children:[": ",t<0?"???":t]}),!s&&h.jsx("p",{className:"text-xs text-gray-500",children:Hx(n)}),o&&h.jsx("p",{className:"text-xs text-gray-500",children:""}),a&&h.jsx("p",{className:"text-xs text-gray-500",children:""})]})]})}const a1=45;function Im(e,t="ref",n=".load-more-trigger"){const[r,i]=N.useState(a1),s=N.useRef(null),o=N.useRef(null);return N.useEffect(()=>{i(a1)},[e]),N.useEffect(()=>{const a=new IntersectionObserver(u=>{u.forEach(c=>{c.isIntersecting&&i(f=>f+a1)})},{root:null,rootMargin:"0px",threshold:.5});return o.current=a,t==="ref"&&s.current?a.observe(s.current):t==="selector"&&document.querySelectorAll(n).forEach(c=>a.observe(c)),()=>{a.disconnect()}},[e,t,n]),{visibleRows:r,...t==="ref"?{loadMoreRef:s}:{}}}function Zx({subjects:e,isPending:t=!1,className:n="",isLive:r=!1}){return h.jsx("div",{className:"flex flex-col gap-2 "+n,children:h.jsx(pB,{subjects:e,isPending:t,isLive:r})})}function pB({subjects:e,isPending:t=!1,isLive:n=!1}){const{visibleRows:r,loadMoreRef:i}=Im(e),s=e?e.slice(0,r):[];return t||!e?h.jsx("div",{className:"animate-pulse grid grid-cols-1 md:grid-cols-3 gap-4",children:[0,0,0].map((o,a)=>h.jsx("div",{className:"bg-gray-300 shadow-sm rounded-lg p-4 h-24"},"skeleton-card-"+a))}):e.length?h.jsxs(h.Fragment,{children:[s.map(o=>h.jsx(fB,{subject:o,seats:"seat"in o?o.seat??-1:-1,disableSeat:!("seat"in o),className:"bg-white",isLive:n},o.subjectId)),h.jsx("div",{ref:i,className:"load-more-trigger opacity-0",children:" "})]}):h.jsx("div",{className:"text-center py-4",children:h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx(lh,{className:"w-12 h-12"}),h.jsx("p",{className:"text-gray-500 font-bold mt-4",children:"  ."}),h.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"   ."})]})})}const ln={grades:[1,2,3,4],credits:[1,2,3],days:["","","","",""],remark:["","SHP",""],classRoom:["","","","","AI","()","","","","","","","","","","","","","","","",""],wishRange:[{min:10},{min:50},{min:100},{min:200}],seatRange:[{min:1},{max:2},{max:5},{max:10}]},mB={classRoom:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"AI",value:""},{label:"()",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]};function hh(e){return gB(e.map(n=>n.curiTypeCdNm)).filter(n=>!!n)}function gB(e){return Array.from(new Set(e))}const ni={keywords:"",department:"",grades:"",credits:"",classroom:"",seatRange:"",wishRange:" ",time:"",days:"",categories:" ",note:"",language:"",alarmOnly:"",favoriteOnly:""};function yB(e,t){if(!Array.isArray(t)||t.length===0)return ni[e];const n=t[0];return t.length===1?Zo()[e]?.(n)??ni[e]:`${Zo()[e]?.(n)??ni[e]}  ${t.length-1}`}function xB(e,t){if(t==null)return ni[e];const n=t;return e==="seatRange"?` ${Zo()[e]?.(n)??ni[e]}`:e==="wishRange"?`  ${Zo()[e]?.(n)??ni[e]}`:Zo()[e]?.(n)??ni[e]}function Y5(e,t,n){if(t==null)return"";const r=t,i=Zo(n)[e]?.(r);return i?e==="seatRange"?` ${i}`:e==="wishRange"?` ${i}`:i:""}function Zo(e){const t=n=>e?e.find(i=>i.departmentCode===n)?.departmentName||n:"";return{keywords:n=>typeof n=="string"?n:"",department:n=>t(n),grades:n=>J5(n,ni.grades),credits:n=>J5(n,ni.credits),classroom:vB,seatRange:X5,wishRange:X5,time:bB,days:wB,categories:n=>n,note:n=>n,language:n=>n,alarmOnly:()=>ni.alarmOnly,favoriteOnly:()=>ni.favoriteOnly}}const vB=e=>!e||typeof e!="string"?"":mB.classRoom.find(t=>t.value===e)?.label||e,X5=e=>{if(!e)return"";const{min:t,max:n}=e;return t!==void 0&&n!==void 0?`${t}  ~ ${n} `:t!==void 0?`${t} `:n!==void 0?`${n} `:""},bB=e=>`${e.day}${ni.time} ${e.start}~${e.end}`,wB=e=>e+"",J5=(e,t)=>e+t,sa={keywords:"",department:"",grades:[],credits:[],categories:[],seatRange:null,wishRange:null,time:[],days:[],classroom:[],note:[],language:[],alarmOnly:!1,favoriteOnly:!1};function y8(e,t){return e==="time"&&Array.isArray(t)?t.length===0||t.length===1&&t[0].day==="":Array.isArray(sa[e])&&Array.isArray(t)?t.length===0:!t}function Z5(e){return Array.isArray(e)?e.length>0:e!=null&&e!==""&&e!==!1}function ev(e,t){const n=[];for(const r in e){const i=e[r];if(r==="time"){const{day:s,type:o}=i;if(!s||!o)continue}r==="keywords"||r==="favoriteOnly"||r==="alarmOnly"||(Array.isArray(i)&&i.length>0&&i.forEach(s=>{Z5(s)&&n.push({filterKey:r,values:s,label:Y5(r,s,t)})}),!Array.isArray(i)&&Z5(i)&&n.push({filterKey:r,values:i,label:i!==null?Y5(r,i,t):""}))}return n}const tv=()=>ur(e=>({filters:{...sa},setFilter:(t,n)=>e(r=>({filters:{...r.filters,[t]:n}})),resetFilters:()=>e({filters:sa})})),os=tv(),Lu=tv(),gd=tv(),Cy=ur((e,t)=>({favorites:JSON.parse(localStorage.getItem("favorites")??"[]"),toggleFavorite:n=>{const r=t().favorites.includes(n);e(i=>{const s=r?i.favorites.filter(o=>o!==n):[...i.favorites,n];return localStorage.setItem("favorites",JSON.stringify(s)),{favorites:s}})},isFavorite:n=>t().favorites.includes(n)}));function _B(e){const{data:t}=Om(),n=Cy(o=>o.isFavorite),r=SB(e,t,n),s=Object.keys(e).filter(o=>!y8(o,e[o]));return(o,a)=>s.every(u=>{const c=r[u];return c?c(o,a[u]):!0})}function SB(e,t,n){const r=o=>t?.some(({subjectId:a})=>a===o)??!0,i=v8(e.keywords),s=e.keywords.replace(/[-\s]/g,"").toLowerCase();return{keywords:o=>PB(o,i,s),department:NB,grades:kB,credits:jB,categories:MB,seatRange:EB,wishRange:TB,time:AB,days:CB,classroom:OB,note:LB,language:RB,alarmOnly:o=>n(o.subjectId),favoriteOnly:o=>r(o.subjectId)}}function x8(e,t){if(!t)return!0;const{min:n,max:r}=t;return(n===void 0||e>=n)&&(r===void 0||e<=r)}function nv(e,t){return!t.length||t.includes(e)}function v8(e){const t=e.replace(/[^\w---]/g,"");return qu(t).toLowerCase()}function CB(e,t){if(!e.lesnTime||!t||t.length===0)return!0;const n=RegExp(/^([-]+)/).exec(e.lesnTime);if(!n)return!0;const r=n[1].split("");return t.some(i=>r.includes(i))}function kB(e,t){const n=Number(e.studentYear);return!n||t.includes("")||t.length===0?!0:t.includes(n)}function jB(e,t){const n=Number(e.tmNum.split("/")[0]);return!n||isNaN(n)?!0:nv(n,t)}function EB(e,t){const n=e;return"seat"in n?x8(n.seat??0,t):!0}function TB(e,t){return"totalCount"in e?x8(e.totalCount??0,t):!0}function NB(e,t){return!t||t===""||t===e.deptCd}function PB(e,t,n){if(!t)return!0;const r=e.professorName?qu(e.professorName).toLowerCase():"",i=v8(e.subjectName),o=(e.subjectCode+e.classCode).toLowerCase().includes(n);return r.includes(t)||i.includes(t)||o}function OB(e,t){return t.length?e.lesnRoom?t.some(n=>new RegExp(`^${n}[\\w]`,"i").test(e.lesnRoom)):!1:!0}function LB(e,t){return!t||t.length===0?!0:t.some(n=>{switch(n){case"":return e.remark?.includes("")??!1;case"SHP":return["SHP","Honor"].some(r=>e.remark?.includes(r)??!1);case"":return!e.remark||!["","SHP","Honor"].some(r=>e.remark?.includes(r)??!1)}})}function AB(e,t){if(!t||t.length===0||!e.lesnTime)return!0;const r=new Yu(e.lesnTime).toApiData().map(i=>({day:i.dayOfWeeks,start:new cu(i.startTime),end:new cu(i.endTime)}));return t.some(i=>{if(i.day==="")return!0;const s=r.filter(o=>o.day===i.day);if(i.type==="all"||!s.length)return!!s.length;if(i.type==="before"&&i.start){const o=new cu(i.start);return s.some(a=>a.end.compare(o)<=0)}if(i.type==="after"&&i.start){const o=new cu(i.start);return s.some(a=>o.compare(a.start)<=0)}if(i.type==="between"&&i.start&&i.end){const o=new cu(i.start),a=new cu(i.end);return s.some(u=>o.compare(u.start)<=0&&u.end.compare(a)<=0)}})}function MB(e,t){return nv(e.curiTypeCdNm,t)}function RB(e,t){return nv(e.curiLangNm??"",t)}function sc(e,t){const n=_B(t),{onSearchChange:r}=dh(),{keywords:i,department:s}=t;return!e||e.length===0?[]:(r(i,s),e.filter(o=>n(o,t)))}const IB={enter:"sidebar-transition-enter",enterActive:"sidebar-transition-enter-active",exit:"sidebar-transition-exit",exitActive:"sidebar-transition-exit-active"},DB=({isOpen:e,onClose:t})=>{const[n,r]=N.useState(""),[i,s]=N.useState(""),{data:o,isPending:a}=po(),u=uh(o),c=N.useDeferredValue(sc(u??[],{...sa,keywords:n,department:i}));return h.jsx(h.Fragment,{children:h.jsx(Zd,{in:e,timeout:100,classNames:IB,unmountOnExit:!0,children:h.jsxs("div",{className:"flex flex-col w-92 flex-auto bg-gray-50 shadow-lg z-10",children:[h.jsxs("div",{className:"flex justify-between items-center py-2 pl-4 pr-2 bg-white border-b border-gray-200",children:[h.jsx("h2",{className:"text-md font-bold",children:" "}),h.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 p-2 rounded-full transition-colors",children:h.jsx(Vx,{className:"w-3 h-3"})})]}),h.jsxs("div",{className:"flex-1 p-4",children:[h.jsxs("div",{className:"flex flex-col gap-2 mb-4",children:[h.jsx(Sl,{placeholder:"  ",value:n,onChange:f=>r(f.target.value),onDelete:()=>r("")}),h.jsx(Am,{className:"flex-auto",value:i,onChange:f=>s(f.target.value)})]}),h.jsx(Zx,{className:"flex flex-full overflow-auto max-h-screen",subjects:c,isPending:a})]})]})})})};function FB(){const e=N.useRef(null),t=N.useRef(null),n=N.useRef({touchStart:{sheetY:0,touchY:0},touchMove:{prevTouchY:0,movingDirection:"none"},isContentAreaTouched:!1});N.useEffect(()=>{const s=()=>{const{touchMove:c,isContentAreaTouched:f}=n.current,p=e.current?.getBoundingClientRect().y;if(!p)return!1;if(!f||p!==tl)return!0;const g=t.current,v=g.scrollTop<=0,w=g.scrollTop+g.clientHeight>=g.scrollHeight;return c.movingDirection==="down"&&v||c.movingDirection==="up"&&w,!1},o=c=>{const{touchStart:f}=n.current;f.sheetY=e.current.getBoundingClientRect().y,f.touchY=c.touches[0].clientY},a=c=>{const{touchStart:f,touchMove:p}=n.current,g=c.touches[0];if(p.prevTouchY===void 0&&(p.prevTouchY=f.touchY),p.prevTouchY===0&&(p.prevTouchY=f.touchY),p.prevTouchY<g.clientY&&(p.movingDirection="down"),p.prevTouchY>g.clientY&&(p.movingDirection="up"),s()){c.stopPropagation();const v=g.clientY-f.touchY;let w=f.sheetY+v;w<=tl&&(w=tl),w>=Zf&&(w=Zf),e.current.style.setProperty("transform",`translateY(${w}px)`)}else document.body.style.overflowY="hidden"},u=()=>{const{touchMove:c}=n.current;(e.current?.getBoundingClientRect().y??0)!==tl&&(c.movingDirection==="down"&&e.current.style.setProperty("transform",`translateY(${Zf}px)`),c.movingDirection==="up"&&e.current.style.setProperty("transform",`translateY(${tl}px)`)),n.current={touchStart:{sheetY:0,touchY:0},touchMove:{prevTouchY:0,movingDirection:"none"},isContentAreaTouched:!1}};return e.current.addEventListener("touchstart",o),e.current.addEventListener("touchmove",a),e.current.addEventListener("touchend",u),()=>{e.current?.removeEventListener("touchstart",o),e.current?.removeEventListener("touchmove",a),e.current?.removeEventListener("touchend",u)}},[]);const r=()=>{e.current&&e.current.style.setProperty("transform","translateY(400px)")},i=()=>{e.current&&e.current.style.setProperty("transform",`translateY(${Zf}px)`)};return N.useEffect(()=>{const s=()=>{n.current.isContentAreaTouched=!0};t.current.addEventListener("touchstart",s);const o=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=o}},[]),{sheet:e,content:t,expandToMax:r,collapseToMin:i}}function BB(){const{cancelSchedule:e}=kr(),t=sm(),n=()=>{t("/timetable"),e()};N.useEffect(()=>(window.addEventListener("popstate",n),()=>{window.removeEventListener("popstate",n)}),[])}const tl=0,Zf=window.innerHeight-300,zB=window.innerHeight-tl;function fh({children:e}){const{sheet:t,content:n,expandToMax:r,collapseToMin:i}=FB(),{type:s,resetBottomSheet:o}=js(),{cancelSchedule:a}=kr();function u(){a(),o()}return BB(),h.jsxs("div",{className:"fixed inset-0 z-[200]",children:[s&&h.jsx("div",{className:"absolute inset-0 bg-black/5 bg-opacity-80",role:"presentation",onClick:u}),h.jsxs("div",{ref:t,className:"fixed rounded-t-xl bottom-0 left-0 w-full transition-transform bg-white duration-300 z-200",style:{height:`${zB}px`,transform:`translateY(${tl}px)`},children:[h.jsx("div",{className:"w-full flex justify-center py-2 h-7 shrink-0",children:h.jsx("button",{className:"w-20 h-2 cursor-pointer bg-gray-300 rounded-full","aria-label":"",onClick:a})}),h.jsx("div",{ref:n,className:"flex-1 overflow-y-auto ",children:typeof e=="function"?e({expandToMax:r,collapseToMin:i}):e})]})]})}const b8=e=>N.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M7.33335 8.66659H4.00001C3.81112 8.66659 3.6529 8.60259 3.52535 8.47459C3.39779 8.34659 3.33379 8.18837 3.33335 7.99992C3.3329 7.81148 3.3969 7.65325 3.52535 7.52525C3.65379 7.39725 3.81201 7.33325 4.00001 7.33325H7.33335V3.99992C7.33335 3.81103 7.39735 3.65281 7.52535 3.52525C7.65335 3.3977 7.81157 3.3337 8.00001 3.33325C8.18846 3.33281 8.3469 3.39681 8.47535 3.52525C8.60379 3.6537 8.66757 3.81192 8.66668 3.99992V7.33325H12C12.1889 7.33325 12.3473 7.39725 12.4753 7.52525C12.6033 7.65325 12.6671 7.81148 12.6667 7.99992C12.6662 8.18837 12.6022 8.34681 12.4747 8.47525C12.3471 8.6037 12.1889 8.66748 12 8.66659H8.66668V11.9999C8.66668 12.1888 8.60268 12.3473 8.47468 12.4753C8.34668 12.6033 8.18846 12.667 8.00001 12.6666C7.81157 12.6661 7.65335 12.6021 7.52535 12.4746C7.39735 12.347 7.33335 12.1888 7.33335 11.9999V8.66659Z",fill:"#9CA3AF"}));function ph({title:e,headerType:t,onClose:n,onClick:r}){return h.jsx("header",{className:"w-full px-5 flex items-center justify-between mb-2",children:t==="add"?h.jsxs("div",{className:"w-full h-8 flex items-center  justify-between ",children:[h.jsx(l1,{headerType:"add",onClick:r}),e&&h.jsx("h3",{className:"text-sm font-semibold",children:e}),h.jsx(l1,{headerType:"close",onClick:n})]}):h.jsx(h.Fragment,{children:h.jsxs("div",{className:"relative w-full flex items-center justify-center h-6",children:[h.jsx("h3",{className:"text-sm font-semibold",children:e}),h.jsx("div",{className:"absolute right-0",children:h.jsx(l1,{headerType:"close",onClick:n})})]})})})}function l1({headerType:e,onClick:t}){const n=e==="close"?th:b8;return h.jsx("button",{className:"w-6 h-6 cursor-pointer flex items-center justify-center bg-gray-100 rounded-full",onClick:t,children:h.jsx(n,{})})}function $B({onCloseSearch:e}){const[t,n]=N.useState(""),[r,i]=N.useState(""),s=js(g=>g.openBottomSheet),o=js(g=>g.closeBottomSheet),a=Qd(g=>g.isSearchOpen),{data:u,isPending:c}=po(),f=uh(u),p=N.useDeferredValue(sc(f??[],{...sa,keywords:t,department:r}));return N.useEffect(()=>{a?s("search"):o()},[a]),h.jsx(fh,{children:({expandToMax:g})=>h.jsxs(h.Fragment,{children:[h.jsx(ph,{title:"",headerType:"close",onClose:()=>e(),onClick:g}),h.jsxs("div",{className:"sticky py-3 px-2 top-0 bg-white z-10 flex flex-col gap-2 mb-4 flex-auto",children:[h.jsx(Sl,{placeholder:"  ",onChange:v=>n(v.target.value),onDelete:()=>n("")}),h.jsx(Am,{className:"flex-auto",value:r,onChange:v=>i(v.target.value)})]}),h.jsx("div",{className:"max-h-[70vh] min-h-0 px-2 overflow-y-auto touch-auto flex flex-col",children:h.jsx(Zx,{className:"flex flex-full overflow-auto max-h-screen",subjects:p,isPending:c})})]})})}function ha(){const[e,t]=N.useState(!1);return N.useEffect(()=>{const n=()=>{t(window.innerWidth<=768)};return n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[]),e}const w8="2025-09-05";function Dm(e){const{hasSeats:t}=e??{},n=new Date>y_(`${w8}T10:00:00`);return{isPreSeatAvailable:!n}}const UB=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16.508930206298828,height:16.008333206176758,viewBox:"0 0 16.508930206298828 16.008333206176758",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,32.016666412353516)"},N.createElement("path",{d:"M8.25446,32.016633206176756Q8.72321,31.985433206176758,8.94196,31.579133206176756L11.067,27.172933206176758L15.8482,26.485433206176758Q16.317,26.391633206176756,16.4732,25.95416320617676Q16.5982,25.51666320617676,16.2857,25.20416320617676L12.817,21.76666320617676L13.6295,16.891666206176758Q13.692,16.454166206176758,13.317,16.141666206176758Q12.942,15.891666206176758,12.5357,16.110416206176758L8.25446,18.39166320617676L3.97321,16.110416206176758Q3.56696,15.891666206176758,3.19196,16.172916206176758Q2.81696,16.454166206176758,2.87946,16.891666206176758L3.69196,21.76666320617676L0.223214,25.20416320617676Q-0.0892857,25.51666320617676,0.0357143,25.95416320617676Q0.191964,26.391633206176756,0.660714,26.485433206176758L5.44196,27.172933206176758L7.56696,31.579133206176756Q7.78571,31.985433206176758,8.25446,32.016633206176756ZM8.25446,29.547933206176758L6.59821,26.172933206176758L8.25446,29.547933206176758L6.59821,26.172933206176758Q6.44196,25.82916320617676,6.03571,25.73541320617676L2.34821,25.20416320617676L5.03571,22.54791320617676Q5.28571,22.26666320617676,5.25446,21.89166320617676L4.59821,18.14166320617676L7.91071,19.89166320617676Q8.25446,20.07916320617676,8.59821,19.89166320617676L11.8795,18.14166320617676L11.2545,21.89166320617676Q11.192,22.26666320617676,11.4732,22.54791320617676L14.1607,25.20416320617676L10.4732,25.73541320617676Q10.067,25.82916320617676,9.91071,26.172933206176758L8.25446,29.547933206176758Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),HB=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16.505903244018555,height:16.001562118530273,viewBox:"0 0 16.505903244018555 16.001562118530273",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,32.00312423706055)"},N.createElement("path",{d:"M9.15,31.440662118530273Q8.86875,31.971862118530275,8.24375,32.00316211853027Q7.65,31.971862118530275,7.3375,31.440662118530273L5.3375,27.315662118530273L0.8375,26.628162118530273Q0.24375,26.534362118530275,0.05625,25.97187211853027Q-0.13125,25.37812211853027,0.30625,24.94062211853027L3.55625,21.72187211853027L2.775,17.159372118530275Q2.7125,16.565625118530274,3.18125,16.190625118530274Q3.68125,15.846875118530274,4.24375,16.128125118530274L8.24375,18.253122118530275L12.275,16.128125118530274Q12.8062,15.846875118530274,13.3062,16.190625118530274Q13.8062,16.565625118530274,13.7125,17.159372118530275L12.9625,21.72187211853027L16.2125,24.94062211853027Q16.6187,25.37812211853027,16.4625,25.97187211853027Q16.2437,26.534362118530275,15.65,26.628162118530273L11.15,27.315662118530273L9.15,31.440662118530273Z",fill:"#FACC15",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function _8({disabled:e}){return e?h.jsx(UB,{className:"w-4 h-4"}):h.jsx(HB,{className:"w-4 h-4"})}function S8({subject:e,className:t,onClick:n,...r}){const i=Cy(u=>u.isFavorite(e.subjectId)),s=Cy(u=>u.toggleFavorite),o=i?" ":" ",a=u=>{s(e.subjectId),n&&n(u)};return h.jsx("button",{className:"cursor-pointer "+(t??""),onClick:a,title:o,"aria-label":o,...r,children:h.jsx(_8,{disabled:!i})})}function QB(e){const t=dy(o=>o.tableTitles),n=!!(e&&e[0]&&"seat"in e[0]),r=e&&e[0]&&"totalCount"in e[0],{isPreSeatAvailable:i}=Dm({hasSeats:n});let s=[{title:"",visible:!0,key:""},...t.filter(o=>o.visible)];return r||(s=s.filter(o=>o.key!=="totalCount")),i||(s=s.filter(o=>o.key!=="seat")),s}function C8({data:e,isPending:t=!1}){const n=QB(e);return h.jsxs("table",{className:"w-full bg-white rounded-lg relative text-sm",children:[h.jsx("thead",{children:h.jsx("tr",{className:"bg-gray-50 sticky top-0 z-10 text-nowrap",children:n.map(({title:r})=>h.jsx("th",{className:"px-4 py-2",children:r},"table-header-name-"+r))})}),h.jsx("tbody",{children:h.jsx(VB,{headers:n,data:e,isPending:t})})]})}function VB({headers:e,data:t,isPending:n=!1}){const{visibleRows:r}=Im(t??[],"selector"),i=t?t.slice(0,r):[];return n||!t?h.jsx(Nm,{row:5,col:e.length}):t.length?h.jsxs(h.Fragment,{children:[i.map(s=>h.jsx(qB,{data:s,tableHeaders:e},`${s.subjectCode} ${s.subjectId} ${s.professorName}`)),h.jsx("tr",{className:"load-more-trigger"})]}):h.jsx(k8,{col:e.length})}function k8({col:e}){return h.jsx("tr",{children:h.jsx("td",{colSpan:e,className:"text-center py-4",children:h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx(lh,{className:"w-12 h-12"}),h.jsx("p",{className:"text-gray-500 font-bold mt-4",children:"  ."}),h.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"   ."})]})})})}const qB=({data:e,tableHeaders:t})=>{const n=e.curiLangNm==="",i=e.isDeleted?"bg-gray-100 hover:bg-gray-200":n?"bg-green-50 hover:bg-green-100":"bg-white hover:bg-gray-100";return h.jsxs("tr",{className:`border-t border-gray-200 text-black ${i}`,children:[h.jsx("td",{className:"px-4 py-2",children:h.jsx("div",{className:"flex items-center gap-2",children:h.jsx(S8,{subject:e})})}),h.jsx(KB,{data:e,tableHeaders:t})]})},WB=(e,t)=>e.data.subjectId===t.data.subjectId&&"seat"in e=="seat"in t&&e.tableHeaders===t.tableHeaders,KB=N.memo(({data:e,tableHeaders:t})=>{const{selectTargetOnly:n}=dh();function r(){n(e.subjectId),Mm(e.departmentCode??e.deptCd)}return t.slice(1,20).map(({key:i})=>h.jsx("td",{className:"px-4 py-2 text-center",children:h.jsx(Ir,{to:`/wishes/${e.subjectId}`,onClick:r,children:h.jsx(GB,{data:e,headerType:i})})},i))},WB);function GB({data:e,headerType:t}){switch(t){case"":return h.jsx(h.Fragment,{children:""});case"totalCount":return h.jsx(YB,{wishCount:e.totalCount??-1});case"seat":return h.jsx(XB,{seat:e.seat});default:return e[t]?.toString()}}function YB({wishCount:e}){const t=z7(e);return e>=0?h.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${t}`,children:e}):h.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-gray-300",children:"-"})}function XB({seat:e}){return e>=0?h.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${_l(e)}`,children:e}):h.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-gray-300",children:"-"})}function JB({titles:e,subjects:t,isPending:n=!1}){return h.jsxs("table",{className:"w-full bg-white rounded-lg relative text-sm",children:[h.jsx("thead",{children:h.jsx("tr",{className:"bg-gray-50 text-nowrap",children:e.map(({title:r})=>h.jsx("th",{className:"px-4 py-2",children:r},r))})}),h.jsx("tbody",{children:h.jsx(ZB,{titles:e,subjects:t,isPending:n})})]})}function ZB({titles:e,subjects:t,isPending:n=!1}){const{visibleRows:r}=Im(t??[],"selector"),i=(t??[]).filter(o=>!o.isDeleted),s=i?i.slice(0,r):[];return n||!i?h.jsx(Nm,{row:5,col:e.length}):i.length?h.jsxs(h.Fragment,{children:[s.map(o=>h.jsx(ez,{subject:o},`${o.subjectCode} ${o.subjectId} ${o.professorName}`)),h.jsx("tr",{className:"load-more-trigger"})]}):h.jsx(k8,{col:e.length})}function ez({subject:e}){const t=e.curiLangNm==="",r=e.isDeleted?"bg-gray-100 hover:bg-gray-200":t?"bg-green-50 hover:bg-green-100":"bg-white hover:bg-gray-100",{data:i}=Om(),{mutate:s}=Wx(),{mutate:o}=q7(),{selectTargetOnly:a}=dh(),u=i?.some(f=>f.subjectId===e.subjectId),c=()=>{if(!u){o(e.subjectId);return}s(e.subjectId),a(e.subjectId),Mm(e.deptCd)};return h.jsxs("tr",{className:`border-t border-gray-200 text-black ${r}`,children:[h.jsx("td",{className:"px-4 py-2 text-center",children:h.jsx("button",{className:"cursor-pointer","aria-label":u?"  ":"  ",onClick:c,children:h.jsx(ec,{disabled:!u})})}),h.jsxs("td",{className:"px-2 py-2 text-center",children:[e.subjectCode,"-",e.classCode]}),h.jsx("td",{className:"px-2 py-2 text-center",children:e.departmentName}),h.jsx("td",{className:"px-2 py-2 text-center",children:e.subjectName}),h.jsx("td",{className:"px-2 py-2 text-center",children:e.professorName}),e.seat!==void 0?h.jsx("td",{className:"px-2 py-2 text-center",children:e.seat>=0?h.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${_l(e.seat)}`,children:e.seat}):h.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-gray-300",children:"-"})}):null]})}function j8(e){const{data:t,isPending:n}=po(),r=Lm(t,rc),i=r&&r[0]&&"seat"in r[0],s=N.useMemo(()=>i?[...e,{title:"",key:"seat"}]:e,[r,e]);return{data:r,titles:s,isPending:n,hasRealSeats:i}}function tz(e=200){const[t,n]=N.useState(!1);return N.useEffect(()=>{const i=()=>n(window.scrollY>e);return i(),window.addEventListener("scroll",i,{passive:!0}),()=>window.removeEventListener("scroll",i)},[e]),{isVisible:t,scrollToTop:()=>{window.scrollTo({top:0,behavior:"smooth"})}}}function E8({right:e="right-2 sm:right-10",bottom:t="bottom-4"}){const{isVisible:n,scrollToTop:r}=tz(200);return h.jsx("button",{"aria-label":"  ",className:`fixed ${t} ${e} z-50 w-12 h-12 rounded-full bg-blue-500 text-white shadow-lg 
                  flex justify-center items-center cursor-pointer transition-opacity duration-200
                  ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:r,children:h.jsx(m_,{className:"w-6 h-6 -rotate-90"})})}const nz=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:14,height:16,viewBox:"0 0 14 16",...e},N.createElement("defs",null,N.createElement("clipPath",{id:"master_svg0_137_3346"},N.createElement("rect",{x:0,y:0,width:14,height:16,rx:0}))),N.createElement("g",{clipPath:"url(#master_svg0_137_3346)"},N.createElement("g",{transform:"matrix(1,0,0,-1,0,26.6875)"},N.createElement("g",null,N.createElement("path",{d:"M6.28125,13.625Q6.59375,13.34375,7,13.34375Q7.40625,13.34375,7.71875,13.625L13.7188,19.625Q14,19.9375,14,20.34375Q14,20.75,13.7188,21.0625Q13.4062,21.34375,13,21.34375Q12.5938,21.34375,12.2812,21.0625L7,15.75L1.71875,21.0625Q1.40625,21.34375,1,21.34375Q0.59375,21.34375,0.28125,21.0625Q0,20.75,0,20.34375Q0,19.9375,0.28125,19.625L6.28125,13.625Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))))),rz=e=>N.createElement("svg",{width:10,height:6,viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M8.25973 0.605623C8.55264 0.312924 9.02745 0.312795 9.32028 0.605623C9.61297 0.898463 9.61293 1.37331 9.32028 1.66617L5.54098 5.44449C5.24809 5.73737 4.77332 5.73738 4.48043 5.44449L0.702114 1.66617C0.409291 1.37328 0.409254 0.898495 0.702114 0.605623C0.994986 0.312752 1.46976 0.312796 1.76266 0.605623L5.01071 3.85367L8.25973 0.605623Z",fill:"#047CFE"})),iz=({className:e,selected:t=!1})=>t?h.jsx(rz,{className:e}):h.jsx(nz,{className:e}),sz=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:10,height:10,viewBox:"0. 0. 11 11",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,20)"},N.createElement("path",{d:"M9.71875,18.28125Q10,18.59375,10,19Q10,19.40625,9.71875,19.71875Q9.40625,20,9,20Q8.59375,20,8.28125,19.71875L5,16.40625L1.71875,19.71875Q1.40625,20,1,20Q0.59375,20,0.28125,19.71875Q0,19.40625,0,19Q0,18.59375,0.28125,18.28125L3.59375,15L0.28125,11.71875Q0,11.40625,0,11Q0,10.59375,0.28125,10.28125Q0.59375,10,1,10Q1.40625,10,1.71875,10.28125L5,13.59375L8.28125,10.28125Q8.59375,10,9,10Q9.40625,10,9.71875,10.28125Q10,10.59375,10,11Q10,11.40625,9.71875,11.71875L6.40625,15L9.71875,18.28125Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),oz=e=>N.createElement("svg",{width:12,height:13,viewBox:"0 0 12 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M9.25946 2.20234C9.55235 1.90944 10.0271 1.90944 10.32 2.20234C10.6129 2.49523 10.6129 2.97 10.32 3.26288L7.07196 6.51093L10.32 9.75898C10.6129 10.0519 10.6129 10.5276 10.32 10.8205C10.0272 11.113 9.55228 11.1131 9.25946 10.8205L6.01044 7.57148L2.76337 10.8205C2.47049 11.1134 1.99474 11.1134 1.70184 10.8205C1.40895 10.5276 1.40896 10.0519 1.70184 9.75898L4.94989 6.51093L1.70184 3.26288C1.40922 2.97007 1.4093 2.4952 1.70184 2.20234C1.99474 1.90944 2.47047 1.90944 2.76337 2.20234L6.01044 5.44941L9.25946 2.20234Z",fill:"#047CFE"})),az=({className:e,selected:t=!1})=>t?h.jsx(oz,{className:e}):h.jsx(sz,{className:e});function lz(e){return e?"bg-blue-100 text-blue-500 focus:outline-blue-500 hover:bg-blue-200":"bg-gray-100 text-gray-700 focus:outline-gray-400 hover:bg-gray-200"}function sr({label:e="Chip",selected:t,chipType:n,containerRef:r,onClick:i,isChipOpen:s,...o}){return h.jsxs("button",{type:"button",ref:r,className:`items-center justify-center px-3 rounded-full cursor-pointer md:text-sm gap-4 flex flex-row ${lz(t)} ${n==="cancel"?"rounded-full text-xs py-1":"rounded-lg text-sm py-2"}
      `,"aria-pressed":t,onClick:i,...o,children:[h.jsx("span",{className:"text-xs sm:text-sm truncate",children:e}),n==="select"&&h.jsx(iz,{selected:t,className:`w-4 h-4 pointer-events-none transition-transform duration-200
    ${s?"rotate-180":"rotate-0"}
  `}),n==="cancel"&&h.jsx(az,{selected:t,className:"pointer-events-none"})]})}const uz=({elem:e,tabRefs:t,initialState:n})=>{const[r,i]=N.useState(n);return N.useEffect(()=>{const s=o=>{(Array.isArray(t)?t:[t]).some(c=>c.current&&c.current.contains(o.target))?i(!0):e.current&&!e.current.contains(o.target)&&i(!1)};return r?window.addEventListener("click",s):window.removeEventListener("click",s),()=>{window.removeEventListener("click",s)}},[r,e,t]),[r,i]};function cz({children:e,contentRef:t,className:n="",isChipOpen:r}){return r?h.jsx("div",{ref:t,className:`
        absolute left-0 top-full mt-2 z-20
        flex flex-col gap-1 rounded-lg border border-gray-200 bg-white shadow-lg
        overflow-hidden p-4
        min-w-[150px]
        transform origin-top
        transition-all duration-300 [cubic-bezier(0.22,1,0.36,1)]
        opacity-100 scale-y-100
        ${n}
      `,role:"listbox",children:e}):null}function oc({label:e,selected:t,children:n,className:r=""}){const i=N.useRef(null),s=N.useRef(null),[o,a]=uz({elem:s,tabRefs:i,initialState:!1}),u=()=>{a(!o)};return h.jsxs("div",{className:`relative inline-block ${r}`,children:[h.jsx(sr,{isChipOpen:o,label:e,containerRef:i,chipType:"select",selected:t,onClick:u}),h.jsx(cz,{isChipOpen:o,contentRef:s,className:r,children:n})]})}const T8=e=>N.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M9 14C10.1867 14 11.3467 13.6481 12.3334 12.9888C13.3201 12.3295 14.0892 11.3925 14.5433 10.2961C14.9974 9.19975 15.1162 7.99335 14.8847 6.82946C14.6532 5.66558 14.0818 4.59648 13.2426 3.75736C12.4035 2.91825 11.3344 2.3468 10.1705 2.11529C9.00666 1.88378 7.80026 2.0026 6.7039 2.45673C5.60754 2.91085 4.67047 3.67989 4.01118 4.66658C3.35189 5.65328 3 6.81331 3 8V11.1L1.2 9.3L0.5 10L3.5 13L6.5 10L5.8 9.3L4 11.1V8C4 7.0111 4.29324 6.0444 4.84265 5.22215C5.39206 4.39991 6.17295 3.75904 7.08658 3.38061C8.00021 3.00217 9.00555 2.90315 9.97545 3.09608C10.9454 3.289 11.8363 3.76521 12.5355 4.46447C13.2348 5.16373 13.711 6.05465 13.9039 7.02455C14.0969 7.99446 13.9978 8.99979 13.6194 9.91342C13.241 10.8271 12.6001 11.6079 11.7779 12.1574C10.9556 12.7068 9.98891 13 9 13V14Z",fill:"#047CFE"}));function Sp({selectedValues:e,filterKey:t,setFilter:n,options:r,ItemComponent:i,className:s}){const o=Zo(),a=c=>{console.log("optionValue",c);const p=e?.includes(c)?e?.filter(g=>g!==c):[...e??[],c];n(t,p??null)},u=()=>{n(t,null)};return h.jsxs("div",{className:"relative inline-block ",children:[h.jsx("label",{className:"text-xs text-gray-500 sm:text-gray-600 sm:text-base",children:ni[t]}),h.jsx("div",{className:`
        gap-2 grid [grid-template-columns:repeat(auto-fit,minmax(80px,1fr))]
        ${r.length>6?"grid grid-cols-2":"flex flex-col"} pt-2
        ${s??""}
    `,children:r.map(c=>h.jsx(i,{label:o[t]?.(c)??String(c),selected:e?.includes(c)??!1,onClick:()=>a(c)},String(c)))}),h.jsx("div",{className:"flex justify-end w-full mt-2",children:h.jsxs("button",{onClick:()=>u(),className:"text-gray-500 hover:text-blue-500 cursor-pointer sm:text-sm text-xs px-1 py-0.5",children:[h.jsx(T8,{className:"inline w-4 h-4 mr-1 mb-0.5",stroke:"currentColor"}),""]})})]})}const dz=e=>N.createElement("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M4.50007 8.08504L2.76507 6.35004C2.67158 6.25655 2.54479 6.20403 2.41257 6.20403C2.28036 6.20403 2.15356 6.25655 2.06007 6.35004C1.96658 6.44353 1.91406 6.57033 1.91406 6.70254C1.91406 6.768 1.92696 6.83283 1.95201 6.89331C1.97706 6.95379 2.01378 7.00875 2.06007 7.05504L4.15007 9.14504C4.34507 9.34004 4.66007 9.34004 4.85507 9.14504L10.1451 3.85504C10.2386 3.76155 10.2911 3.63475 10.2911 3.50254C10.2911 3.37033 10.2386 3.24353 10.1451 3.15004C10.0516 3.05655 9.92479 3.00403 9.79257 3.00403C9.66036 3.00403 9.53356 3.05655 9.44007 3.15004L4.50007 8.08504Z",fill:"#047CFE"}));function rv({label:e="checkbox",...t}){return h.jsxs("label",{htmlFor:"checkbox-"+e,className:"flex flex-row items-center gap-3 text-md ",children:[h.jsxs("div",{className:"relative w-5 h-5",children:[h.jsx("input",{id:"checkbox-"+e,type:"checkbox",className:`
            appearance-none w-5 h-5 rounded-sm border cursor-pointer transition-colors hover:bg-gray-50
            ${t.checked?"bg-blue-50 border-blue-500":"bg-white border-gray-400"}
          `,...t}),t.checked&&h.jsx(dz,{className:"absolute inset-0 m-auto w-4 h-4 pointer-events-none text-white"})]}),h.jsx("span",{className:`${t.checked?"text-blue-500":"text-gray-600"} cursor-pointer hover:text-gray-400`,children:e})]})}function kd({label:e,selected:t,onClick:n}){return h.jsx(rv,{label:e,checked:t,onChange:n})}function jn({filterKey:e,selectedValues:t,options:n,setFilter:r,ItemComponent:i,className:s}){const o=ha(),a=yB(e,t),u=o?sr:kd,c=h.jsx(Sp,{filterKey:e,selectedValues:t,setFilter:(f,p)=>r(f,p??[]),options:n,ItemComponent:i||u});return o?c:h.jsx(oc,{label:a,selected:(t??[]).length>0,className:s,children:c})}function hz({selectedValue:e,filterKey:t,setFilter:n}){const[r,i]=N.useState({min:e?.min??0,max:e?.max??0}),s=(o,a)=>{const u={...r,[o]:a};i(u),n(t,u)};return h.jsxs("div",{className:"relative inline-block w-full space-y-2",children:[h.jsx("label",{className:" text-gray-600",children:" "}),h.jsxs("div",{className:"flex gap-2 sm:gap-4 pt-2",children:[h.jsx("input",{type:"text",value:r.min,onChange:o=>{const a=o.target.value.replace(/[^\d]/g,"");s("min",a)},placeholder:"",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"}),h.jsx("span",{className:"flex items-center text-gray-400",children:"~"}),h.jsx("input",{type:"text",value:r.max,onChange:o=>{const a=o.target.value.replace(/[^\d]/g,"");s("max",a)},placeholder:"",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]})]})}function fz({selectedValue:e,filterKey:t,setFilter:n,options:r,ItemComponent:i,className:s,isMinMax:o=!1}){const a=f=>{n(t,e===f?null:f)},u=()=>{n(t,null)},c=Zo();return h.jsxs("div",{className:"relative inline-block",children:[h.jsx("label",{className:"text-xs text-gray-500 sm:text-gray-600 sm:text-base",children:ni[t]}),h.jsx("div",{className:`
        gap-2 grid [grid-template-columns:repeat(auto-fit,minmax(80px,1fr))]
        grid grid-cols-2 pt-2
        min-w-max
        ${s??""}
    `,children:r.map(f=>h.jsx(i,{label:c[t]?.(f)??String(f),selected:e===f,onClick:()=>a(f)},String(f)))}),o&&h.jsx("div",{className:"mt-2",children:h.jsx(hz,{selectedValue:e,filterKey:t,setFilter:(f,p)=>n(f,p),options:r})}),h.jsx("div",{className:"flex justify-end w-full mt-2",children:h.jsxs("button",{onClick:()=>u(),className:"text-gray-500 hover:text-blue-500 cursor-pointer sm:text-sm text-xs px-1 py-0.5",children:[h.jsx(T8,{className:"inline w-4 h-4 mr-1 mb-0.5",stroke:"currentColor"}),""]})})]})}function Wu({filterKey:e,options:t,ItemComponent:n,selectedValue:r,setFilter:i,className:s,isMinMax:o}){const a=ha(),u=xB(e,r)??"",c=h.jsx(fz,{selectedValue:r,filterKey:e,setFilter:(f,p)=>i(f,p),options:t,ItemComponent:n,isMinMax:o});return a?c:h.jsx(oc,{label:u,selected:!!r,className:s,children:c})}function e4({className:e,onChange:t,...n}){return h.jsx("input",{type:"time",className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:outline-blue-500 "+e,placeholder:"HH:MM",step:600,onChange:r=>{r.target.value=pz(r.target.value),console.log("Time changed:",r.target.value),t&&t(r)},...n})}function pz(e){const[t,n]=e.split(":").map(Number);if(isNaN(t)||isNaN(n))return"00:00";const r=Math.round(n/10)%6*10,i=String(t).padStart(2,"0"),s=String(r).padStart(2,"0");return`${i}:${s}`}function ky({items:e,onChange:t}){N.useEffect(()=>{if(e.length===0){t([{day:"",type:"all"}]);return}const i=gz(e);i&&t(i)},[e]);const n=i=>s=>{const{name:o,value:a}=s.target,u=[...e];u[i]={...u[i],[o]:a},t(u)},r=i=>()=>{const s=e.filter((o,a)=>a!==i);t(s)};return h.jsxs(h.Fragment,{children:[h.jsx("label",{className:"text-xs text-gray-500 sm:text-gray-600 sm:text-base",children:""}),e.map((i,s)=>h.jsx(mz,{item:i,onChange:n(s),onDelete:r(s)},`${i.day}-${i.type}-${i.start}-${i.end}`)),h.jsx("button",{onClick:()=>t([...e,{day:"",type:"all"}]),className:"mt-2 text-blue-500 hover:text-blue-700",children:""})]})}function mz({item:e,onChange:t,onDelete:n}){const r=!!e.day,i=e.type!="all",s=e.type==="between";return h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("select",{name:"day",value:e.day,onChange:t,className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:[h.jsx("option",{value:"",children:""}),["","","","","","",""].map(o=>h.jsx("option",{value:o,children:o},o))]}),r&&h.jsxs("select",{name:"type",value:e.type,onChange:t,className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:[h.jsx("option",{value:"all",children:""}),h.jsx("option",{value:"before",children:""}),h.jsx("option",{value:"after",children:""}),h.jsx("option",{value:"between",children:""})]}),i&&h.jsx(e4,{name:"start",value:e.start||"00:00",onChange:t}),s&&h.jsx(e4,{name:"end",value:e.end||"00:00",onChange:t}),h.jsx("button",{onClick:n,className:"text-red-500 hover:text-red-700",children:""})]})}function gz(e){return e.some(n=>n.day===""?n.type!=="all"||n.start||n.end:n.type==="all"?n.start||n.end:n.type==="before"||n.type==="after"?!n.start||n.end:n.type==="between"?!n.start||!n.end:!1)?e.map(n=>n.day===""?{day:"",type:"all"}:n.type==="all"?{day:n.day,type:"all"}:n.type==="before"||n.type==="after"?{day:n.day,type:n.type,start:n.start||"00:00"}:n.type==="between"?{day:n.day,type:n.type,start:n.start||"00:00",end:n.end||"00:00"}:n):e}function N8({times:e,setFilter:t}){const n=(o,a)=>{t("time",a)},r=ha(),s=e.length===1&&e[0].type==="all"&&e[0].day===""?"":e.length===1?` ${e[0].day}`:e.length>1?` ${e[0].day}  ${e.length-1}`:"";return r?h.jsx(ky,{items:e,onChange:o=>n("time",o)}):h.jsxs(oc,{label:s,selected:e.length>0&&e[0].day!=="",className:"min-w-max",children:[h.jsx("label",{className:"text-gray-600 font-medium sm:text-gray-600",children:" "}),h.jsx(ky,{items:e,onChange:o=>n("time",o)})]})}function iv({onCloseFiltering:e,filters:t,setFilter:n,resetFilter:r}){const i=()=>{e()},{data:s}=Fi(),o=wl(),a=hh(s??[]).sort((f,p)=>f.localeCompare(p)).map(f=>f),u=ev(t,o.data),c=(f,p)=>{const g=t[f];Array.isArray(g)?n(f,g.filter(v=>v!==p)):n(f,sa[f])};return h.jsxs(fh,{children:[h.jsx(ph,{headerType:"close",title:"",onClose:()=>{e()}}),h.jsxs("div",{className:"w-full flex px-4 flex-col h-[85vh] gap-5 overflow-y-auto overscroll-contain",children:[h.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(f=>h.jsx(sr,{chipType:"cancel",label:f.label,selected:!0,onClick:()=>c(f.filterKey,f.values)},`${f.filterKey}-${f.values}`))}),h.jsxs("div",{className:"w-full h-15 flex gap-2 flex-col justify-center mt-2",children:[h.jsx("label",{className:"text-xs text-gray-500",children:""}),h.jsx(Am,{className:"cursor-pointer border-gray-100 rounded-sm py-1 text-sm",value:t.department,onChange:f=>n("department",f.target.value)})]}),h.jsx(Wu,{filterKey:"wishRange",options:ln.wishRange,selectedValue:t.wishRange??null,setFilter:n,ItemComponent:sr}),h.jsx(Wu,{filterKey:"seatRange",options:ln.seatRange,selectedValue:t.seatRange??null,setFilter:n,ItemComponent:sr}),h.jsxs("div",{className:"w-full h-15 flex gap-2 flex-col justify-center mt-2",children:[h.jsx("label",{className:"text-xs text-gray-500",children:""}),h.jsx(N8,{times:t.time,setFilter:n})]}),h.jsx(jn,{filterKey:"credits",options:ln.credits,selectedValues:t.credits??[],setFilter:n}),h.jsx(jn,{filterKey:"grades",options:ln.grades,selectedValues:t.grades??[],setFilter:n}),h.jsx(jn,{filterKey:"classroom",options:ln.classRoom,selectedValues:t.classroom??[],setFilter:n}),h.jsx(jn,{filterKey:"note",options:ln.remark,selectedValues:t.note??[],setFilter:n}),h.jsx(jn,{filterKey:"categories",options:a,selectedValues:t.categories??[],setFilter:n}),h.jsxs("div",{className:"sticky bottom-0 pb-14 pt-5 bg-white flex justify-end items-center gap-2 border-gray-200",children:[h.jsx(pl,{className:"text-sm text-blue-500 hover:text-blue-600 hover:underline cursor-pointer",onClick:r,children:" "}),h.jsx(pl,{onClick:i,type:"submit",variants:"primary",children:""})]})]})]})}const P8=e=>N.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M7.18066 10.5625C7.88416 10.5629 8.47281 11.0824 8.63086 11.7812H14.625C14.8321 11.7812 15 11.9491 15 12.1562C15 12.3634 14.8321 12.5312 14.625 12.5312H8.63086C8.47281 13.2301 7.88416 13.7496 7.18066 13.75C6.47688 13.75 5.88776 13.2303 5.72949 12.5312H1.375C1.16789 12.5312 1 12.3634 1 12.1562C1 11.9491 1.16789 11.7812 1.375 11.7812H5.72949C5.88776 11.0822 6.47688 10.5625 7.18066 10.5625ZM7.18066 11.2812C6.72774 11.2812 6.36035 11.673 6.36035 12.1562C6.36035 12.6395 6.72774 13.0312 7.18066 13.0312C7.63324 13.0308 8 12.6392 8 12.1562C8 11.6733 7.63324 11.2817 7.18066 11.2812ZM11.7197 6.40625C12.4233 6.40647 13.0117 6.92611 13.1699 7.625H14.625C14.8321 7.625 15 7.79289 15 8C15 8.20711 14.8321 8.375 14.625 8.375H13.1699C13.0117 9.0739 12.4233 9.59353 11.7197 9.59375C11.0161 9.59356 10.4277 9.07393 10.2695 8.375H1.375C1.16789 8.375 1 8.20711 1 8C1 7.79289 1.16789 7.625 1.375 7.625H10.2695C10.4277 6.92608 11.0161 6.40644 11.7197 6.40625ZM11.7197 7.125C11.267 7.12523 10.9004 7.51689 10.9004 8C10.9004 8.48311 11.267 8.87477 11.7197 8.875C12.1724 8.87474 12.54 8.48309 12.54 8C12.54 7.51691 12.1724 7.12526 11.7197 7.125ZM5.07129 2.25C5.77489 2.2502 6.36337 2.76981 6.52148 3.46875H14.625C14.8321 3.46875 15 3.63664 15 3.84375C15 4.05086 14.8321 4.21875 14.625 4.21875H6.52148C6.36337 4.91769 5.77489 5.43729 5.07129 5.4375C4.36758 5.43737 3.77832 4.9178 3.62012 4.21875H1.375C1.16789 4.21875 1 4.05086 1 3.84375C1 3.63664 1.16789 3.46875 1.375 3.46875H3.62012C3.77832 2.7697 4.36758 2.25013 5.07129 2.25ZM5.07129 2.96875C4.61849 2.9689 4.25098 3.36059 4.25098 3.84375C4.25098 4.32691 4.61849 4.7186 5.07129 4.71875C5.52402 4.71852 5.89062 4.32686 5.89062 3.84375C5.89062 3.36064 5.52402 2.96898 5.07129 2.96875Z",fill:"#9CA3AF"}));function sv({handleOpenFilter:e}){return h.jsx("button",{className:"p-2 rounded-md flex gap-2 text-sm items-center border border-gray-400 bg-white hover:bg-gray-100","aria-label":" ",title:" ",onClick:e,children:h.jsx(P8,{className:"w-4 h-4 text-gray-600 hover:text-blue-500 transition-colors"})})}function yz({alarmOnly:e,setFilter:t}){return h.jsxs("button",{className:"px-4 py-2 rounded-md flex gap-2 items-center text-nowrap border border-gray-400 hover:bg-white cursor-pointer",onClick:()=>t("alarmOnly",!e),children:[h.jsx(ec,{disabled:!e}),""]})}function ov({department:e,setFilter:t}){const{data:n}=wl(),[r,i]=N.useState(""),[s,o]=N.useState(""),a=N.useMemo(()=>[{departmentName:"",departmentCode:""},...n??[]],[n]),[u,c]=N.useState(a);function f(p){const g=a.find(v=>v.departmentCode===p)?.departmentName;return g||" ."}return N.useEffect(()=>{const p=a.filter(g=>s===""?g.departmentCode==="9005":s===""?g.departmentCode!=="9005":!0).filter(g=>{const v=r?.replace(/[^\w\s---]/g,""),w=qu(v).toLowerCase(),_=g.departmentName.replace(/[^\w\s---]/g,"");return qu(_).toLowerCase().includes(w)});c(p)},[n,r,s]),h.jsxs(oc,{label:f(e),selected:!!e,children:[h.jsxs("div",{className:"flex flex-col h-80 max-h-80 w-[300px] overflow-y-auto",children:[h.jsxs("div",{className:"shrink-0 gap-2 flex py-2 bg-white",children:[h.jsxs("select",{value:s,className:"border border-gray-300 rounded-md py-1 text-sm text-gray-700 bg-white",onChange:p=>{const g=p.target.value;o(g),t("department","")},children:[h.jsx("option",{value:"",children:""}),h.jsx("option",{value:"",children:""})]}),h.jsx(Sl,{type:"text",placeholder:" ",onDelete:()=>{i("")},value:r,onChange:p=>{i(p.target.value)}})]}),h.jsx("div",{className:"overflow-y-auto flex-1 px-2 py-2 border-t border-gray-200",children:(s===""||s==="")&&h.jsx(xz,{departments:u,setFilter:t})})]}),h.jsx("div",{className:"flex justify-end w-full pt-1 border-t border-gray-200",children:h.jsx(pl,{variants:"primary",onClick:()=>t("department",""),children:" "})})]})}function xz({departments:e,setFilter:t}){const n="",r=i=>{t("department",i||"")};return h.jsx(h.Fragment,{children:e?.map(i=>h.jsx("div",{role:"option","aria-selected":n===i.departmentName,className:`flex items-center gap-1 px-2 py-2 rounded cursor-pointer text-sm ${n===i.departmentName?"bg-blue-50 text-blue-500 font-medium":"hover:bg-gray-50 text-gray-700"}`,onClick:()=>r(i.departmentCode),children:i.departmentName},i.departmentCode))})}const vz=e=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M3 4H17L12 10.5V20L8 16V10.5L3 4Z",stroke:"#047CFE",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),N.createElement("path",{d:"M16 15L22 21",stroke:"#047CFE",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),N.createElement("path",{d:"M16 21L22 15",stroke:"#047CFE",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function av({filters:e,resetFilter:t}){return Object.keys(e).some(i=>!y8(i,e[i]))?h.jsx(sr,{label:h.jsx(vz,{className:"w-4 h-4"}),selected:!0,onClick:t}):null}function lv({filterStore:e,onClose:t}){const{classroom:n,note:r,categories:i,time:s}=e(w=>w.filters),o=wl(),a=e(w=>w.filters),u=e(w=>w.setFilter),c=e(w=>w.resetFilters),f=ev(a,o.data),{data:p}=Fi(),g=hh(p??[]).sort((w,_)=>w.localeCompare(_)).map(w=>w),v=(w,_)=>{const C=a[w];Array.isArray(C)?u(w,C.filter(E=>E!==_)):u(w,sa[w])};return h.jsxs(ca,{onClose:t,children:[h.jsx(nc,{title:" ",onClose:t}),h.jsxs("div",{className:"flex flex-col gap-2 p-4 w-130 max-h-[500px] overflow-y-auto",children:[h.jsx("div",{className:"flex flex-wrap gap-2 w-fit",children:f.map(w=>h.jsx(sr,{chipType:"cancel",label:w.label,selected:!0,onClick:()=>v(w.filterKey,w.values)},`${w.filterKey}-${w.values}`))}),h.jsx(Sp,{selectedValues:i,options:g,filterKey:"categories",setFilter:u,ItemComponent:kd,className:"md:overflow-y-visible"}),h.jsx(ky,{items:s,onChange:w=>u("time",w)}),h.jsx(Sp,{selectedValues:r,options:ln.remark,filterKey:"note",setFilter:u,ItemComponent:kd,className:"md:overflow-y-visible"}),h.jsx(Sp,{selectedValues:n,options:ln.classRoom,filterKey:"classroom",setFilter:u,ItemComponent:kd,className:"md:overflow-y-visible"})]}),h.jsx("div",{className:"flex justify-end bg-white p-2 border-t border-gray-200",children:h.jsx(pl,{variants:"primary",onClick:c,children:" "})})]})}function bz(){const[e,t]=N.useState(!1),[n,r]=N.useState(!1),i=Lu(_=>_.setFilter),{department:s,keywords:o,alarmOnly:a,time:u}=Lu(_=>_.filters),c=Lu(_=>_.filters),f=Lu(_=>_.resetFilters),p=ha(),{data:g}=Fi(),v=hh(g??[]).sort((_,C)=>_.localeCompare(C)).map(_=>_),w=()=>{p?r(!0):t(!0)};return h.jsxs("div",{className:"flex flex-wrap gap-2 mt-4 text-sm lg:flex-wrap lg:flex-row lg:items-center lg:gap-y-0 lg:gap-x-2",children:[h.jsx("label",{className:"hidden",htmlFor:"searchOption",children:" "}),h.jsx(Sl,{type:"text",placeholder:",      ",value:o,className:"pl-10 pr-6 py-2 rounded-md w-full bg-white border border-gray-400 text-[16px] placeholder:text-sm",onDelete:()=>i("keywords",""),onChange:_=>i("keywords",_.target.value)}),e&&h.jsx(lv,{filterStore:Lu,onClose:()=>t(!1)}),n&&h.jsx(iv,{onCloseFiltering:()=>r(!1),filters:c,setFilter:i,resetFilter:f}),h.jsxs("div",{className:"flex items-center flex-wrap mt-2 gap-2",children:[h.jsx(ov,{department:s,setFilter:i}),h.jsx(N8,{times:u,setFilter:i}),h.jsx(jn,{filterKey:"credits",options:ln.credits,selectedValues:c.credits??[],setFilter:i}),h.jsx(jn,{filterKey:"grades",options:ln.grades,selectedValues:c.grades??[],setFilter:i}),c.classroom.length>0&&h.jsx(jn,{filterKey:"classroom",options:ln.classRoom,selectedValues:c.classroom??[],setFilter:i,className:"min-w-max"}),h.jsx(jn,{filterKey:"note",options:ln.remark,selectedValues:c.note??[],setFilter:i}),c.categories.length>0&&h.jsx(jn,{filterKey:"categories",options:v,selectedValues:c.categories??[],setFilter:i,className:"min-w-max"}),h.jsx(Wu,{filterKey:"wishRange",options:ln.wishRange,selectedValue:c.wishRange??null,setFilter:i,ItemComponent:sr}),h.jsx(Wu,{filterKey:"seatRange",options:ln.seatRange,selectedValue:c.seatRange??null,setFilter:i,ItemComponent:sr}),h.jsx(av,{filters:c,resetFilter:f}),h.jsx(sv,{handleOpenFilter:w}),h.jsx(yz,{alarmOnly:a,setFilter:i})]})]})}const wz=[{title:"",key:"pin"},{title:"",key:"code"},{title:"",key:"departmentName"},{title:"",key:"name"},{title:"",key:"professor"}],_z=({isMobile:e,filters:t})=>{const{data:n,titles:r,isPending:i}=j8(wz),s=uh(n),o=N.useDeferredValue(sc(s??[],t));return h.jsx(tc,{children:e?h.jsx(Zx,{subjects:o,isPending:i,isLive:!0}):h.jsx(JB,{titles:r,subjects:o,isPending:i})})},Sz=()=>{const e=ha(),t=Lu(n=>n.filters);return h.jsxs(h.Fragment,{children:[h.jsx(Gn,{children:h.jsx("title",{children:"ALLCLL |  "})}),h.jsxs("div",{className:"container mx-auto",children:[h.jsx("h2",{className:"font-bold text-lg",children:" "}),h.jsx("p",{className:"text-xs font-bold text-gray-500",children:"   ,    ."}),h.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["  ",w8,", 11:00  ."]}),h.jsx("div",{className:"pb-2",children:h.jsxs(tc,{children:[h.jsx(bz,{}),h.jsx(Qx,{})]})}),h.jsx(_z,{isMobile:e,filters:t}),h.jsx(E8,{right:"right-2 sm:right-10"})]})]})};function Cz(){const e=Qd(i=>i.isSearchOpen),t=Qd(i=>i.setIsSearchOpen),n=ha(),{isPreSeatAvailable:r}=Dm();return h.jsxs(h.Fragment,{children:[h.jsx(Gn,{children:h.jsx("title",{children:"ALLCLL |   "})}),h.jsxs("div",{className:"flex justify-between overflow-hidden min-h-screen",children:[h.jsx("div",{className:"max-w-screen-xl mx-auto p-4 mb-8 container",children:h.jsxs(h.Fragment,{children:[h.jsxs("p",{className:"text-xs font-bold text-gray-500 mb-4",children:["     .   ",h.jsx("a",{href:"https://forms.gle/bCDTVujEHunnvHe88",target:"_blank",className:"text-blue-500 underline hover:text-blue-600",children:""})," ."]}),!r&&h.jsx(tc,{children:h.jsx(GI,{})}),h.jsx("div",{className:"grid grid-cols-1 gap-x-4 mb-4",children:r?h.jsx(Sz,{}):h.jsx(lI,{title:""})})]})}),!n&&h.jsx(DB,{isOpen:e,onClose:()=>t(!1)})]}),n&&e&&h.jsx($B,{onCloseSearch:()=>t(!1)})]})}function kz(){const[e,t]=N.useState(!1);return h.jsxs(h.Fragment,{children:[h.jsx(Gn,{children:h.jsx("title",{children:"ALLCLL | "})}),h.jsxs("div",{className:"mx-auto flex flex-col justify-center bg-blue-100 h-max",children:[h.jsx("iframe",{src:"https://resilient-may-c73.notion.site/ebd/1f2acf7c316280939afed2657259c817",width:"100%",height:e?"1000":"0",onLoad:()=>t(!0),children:" "}),!e&&h.jsx("div",{className:"w-4xl mx-auto h-screen flex justify-center items-center text-3xl",children:" ..."})]})]})}function jz(){const[e,t]=N.useState(!1);return h.jsxs(h.Fragment,{children:[h.jsx(Gn,{children:h.jsx("title",{children:"ALLCLL |   "})}),h.jsxs("div",{className:"mx-auto flex justify-center bg-blue-100 pt-4",children:[h.jsx("iframe",{src:"https://docs.google.com/forms/d/e/1FAIpQLSdk7MxNYVyzPyJLecQdJU5wGSgdE7rUWtRfcrPBY2ioKbtW2Q/viewform?embedded=true",width:"640",height:e?"1100":"0",onLoad:()=>t(!0),children:" "}),!e&&h.jsx("div",{className:"w-4xl h-screen flex items-center text-3xl",children:" ..."})]})]})}function t4(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}const Rr=fa(/[A-Za-z]/),Sr=fa(/[\dA-Za-z]/),Ez=fa(/[#-'*+\--9=?A-Z^-~]/);function Jp(e){return e!==null&&(e<32||e===127)}const jy=fa(/\d/),Tz=fa(/[\dA-Fa-f]/),Nz=fa(/[!-/:-@[-`{-~]/);function dt(e){return e!==null&&e<-2}function nn(e){return e!==null&&(e<0||e===32)}function It(e){return e===-2||e===-1||e===32}const Fm=fa(new RegExp("\\p{P}|\\p{S}","u")),gl=fa(/\s/);function fa(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Pz(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const Bm=function(e){if(e==null)return Mz;if(typeof e=="function")return zm(e);if(typeof e=="object")return Array.isArray(e)?Oz(e):Lz(e);if(typeof e=="string")return Az(e);throw new Error("Expected function, string, or object as test")};function Oz(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Bm(e[n]);return zm(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function Lz(e){const t=e;return zm(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function Az(e){return zm(t);function t(n){return n&&n.type===e}}function zm(e){return t;function t(n,r,i){return!!(Rz(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Mz(){return!0}function Rz(e){return e!==null&&typeof e=="object"&&"type"in e}const O8=[],Iz=!0,Ey=!1,Dz="skip";function L8(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=Bm(i),o=r?-1:1;a(e,void 0,[])();function a(u,c,f){const p=u&&typeof u=="object"?u:{};if(typeof p.type=="string"){const v=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(u.type+(v?"<"+v+">":""))+")"})}return g;function g(){let v=O8,w,_,C;if((!t||s(u,c,f[f.length-1]||void 0))&&(v=Fz(n(u,f)),v[0]===Ey))return v;if("children"in u&&u.children){const E=u;if(E.children&&v[0]!==Dz)for(_=(r?E.children.length:-1)+o,C=f.concat(E);_>-1&&_<E.children.length;){const L=E.children[_];if(w=a(L,_,C)(),w[0]===Ey)return w;_=typeof w[1]=="number"?w[1]:_+o}}return v}}}function Fz(e){return Array.isArray(e)?e:typeof e=="number"?[Iz,e]:e==null?O8:[e]}function Bz(e,t,n){const i=Bm((n||{}).ignore||[]),s=zz(t);let o=-1;for(;++o<s.length;)L8(e,"text",a);function a(c,f){let p=-1,g;for(;++p<f.length;){const v=f[p],w=g?g.children:void 0;if(i(v,w?w.indexOf(v):void 0,g))return;g=v}if(g)return u(c,f)}function u(c,f){const p=f[f.length-1],g=s[o][0],v=s[o][1];let w=0;const C=p.children.indexOf(c);let E=!1,L=[];g.lastIndex=0;let A=g.exec(c.value);for(;A;){const B=A.index,U={index:A.index,input:A.input,stack:[...f,c]};let P=v(...A,U);if(typeof P=="string"&&(P=P.length>0?{type:"text",value:P}:void 0),P===!1?g.lastIndex=B+1:(w!==B&&L.push({type:"text",value:c.value.slice(w,B)}),Array.isArray(P)?L.push(...P):P&&L.push(P),w=B+A[0].length,E=!0),!g.global)break;A=g.exec(c.value)}return E?(w<c.value.length&&L.push({type:"text",value:c.value.slice(w)}),p.children.splice(C,1,...L)):L=[c],C+L.length}}function zz(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([$z(i[0]),Uz(i[1])])}return t}function $z(e){return typeof e=="string"?new RegExp(Pz(e),"g"):e}function Uz(e){return typeof e=="function"?e:function(){return e}}const u1="phrasing",c1=["autolink","link","image","label"];function Hz(){return{transforms:[Yz],enter:{literalAutolink:Vz,literalAutolinkEmail:d1,literalAutolinkHttp:d1,literalAutolinkWww:d1},exit:{literalAutolink:Gz,literalAutolinkEmail:Kz,literalAutolinkHttp:qz,literalAutolinkWww:Wz}}}function Qz(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:u1,notInConstruct:c1},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:u1,notInConstruct:c1},{character:":",before:"[ps]",after:"\\/",inConstruct:u1,notInConstruct:c1}]}}function Vz(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function d1(e){this.config.enter.autolinkProtocol.call(this,e)}function qz(e){this.config.exit.autolinkProtocol.call(this,e)}function Wz(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Kz(e){this.config.exit.autolinkEmail.call(this,e)}function Gz(e){this.exit(e)}function Yz(e){Bz(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Xz],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Jz]],{ignore:["link","linkReference"]})}function Xz(e,t,n,r,i){let s="";if(!A8(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!Zz(n)))return!1;const o=e$(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function Jz(e,t,n,r){return!A8(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function Zz(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function e$(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=t4(e,"(");let s=t4(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function A8(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||gl(n)||Fm(n))&&(!t||n!==47)}function as(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}M8.peek=u$;function t$(){this.buffer()}function n$(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function r$(){this.buffer()}function i$(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function s$(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=as(this.sliceSerialize(e)).toLowerCase(),n.label=t}function o$(e){this.exit(e)}function a$(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=as(this.sliceSerialize(e)).toLowerCase(),n.label=t}function l$(e){this.exit(e)}function u$(){return"["}function M8(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(n.safe(n.associationId(e),{after:"]",before:s})),a(),o(),s+=i.move("]"),s}function c$(){return{enter:{gfmFootnoteCallString:t$,gfmFootnoteCall:n$,gfmFootnoteDefinitionLabelString:r$,gfmFootnoteDefinition:i$},exit:{gfmFootnoteCallString:s$,gfmFootnoteCall:o$,gfmFootnoteDefinitionLabelString:a$,gfmFootnoteDefinition:l$}}}function d$(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:M8},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,o){const a=s.createTracker(o);let u=a.move("[^");const c=s.enter("footnoteDefinition"),f=s.enter("label");return u+=a.move(s.safe(s.associationId(r),{before:u,after:"]"})),f(),u+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),u+=a.move((t?`
`:" ")+s.indentLines(s.containerFlow(r,a.current()),t?R8:h$))),c(),u}}function h$(e,t,n){return t===0?e:R8(e,t,n)}function R8(e,t,n){return(n?"":"    ")+e}const f$=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];I8.peek=x$;function p$(){return{canContainEols:["delete"],enter:{strikethrough:g$},exit:{strikethrough:y$}}}function m$(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:f$}],handlers:{delete:I8}}}function g$(e){this.enter({type:"delete",children:[]},e)}function y$(e){this.exit(e)}function I8(e,t,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function x$(){return"~"}function v$(e){return e.length}function b$(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||v$,s=[],o=[],a=[],u=[];let c=0,f=-1;for(;++f<e.length;){const _=[],C=[];let E=-1;for(e[f].length>c&&(c=e[f].length);++E<e[f].length;){const L=w$(e[f][E]);if(n.alignDelimiters!==!1){const A=i(L);C[E]=A,(u[E]===void 0||A>u[E])&&(u[E]=A)}_.push(L)}o[f]=_,a[f]=C}let p=-1;if(typeof r=="object"&&"length"in r)for(;++p<c;)s[p]=n4(r[p]);else{const _=n4(r);for(;++p<c;)s[p]=_}p=-1;const g=[],v=[];for(;++p<c;){const _=s[p];let C="",E="";_===99?(C=":",E=":"):_===108?C=":":_===114&&(E=":");let L=n.alignDelimiters===!1?1:Math.max(1,u[p]-C.length-E.length);const A=C+"-".repeat(L)+E;n.alignDelimiters!==!1&&(L=C.length+L+E.length,L>u[p]&&(u[p]=L),v[p]=L),g[p]=A}o.splice(1,0,g),a.splice(1,0,v),f=-1;const w=[];for(;++f<o.length;){const _=o[f],C=a[f];p=-1;const E=[];for(;++p<c;){const L=_[p]||"";let A="",B="";if(n.alignDelimiters!==!1){const U=u[p]-(C[p]||0),P=s[p];P===114?A=" ".repeat(U):P===99?U%2?(A=" ".repeat(U/2+.5),B=" ".repeat(U/2-.5)):(A=" ".repeat(U/2),B=A):B=" ".repeat(U)}n.delimiterStart!==!1&&!p&&E.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&L==="")&&(n.delimiterStart!==!1||p)&&E.push(" "),n.alignDelimiters!==!1&&E.push(A),E.push(L),n.alignDelimiters!==!1&&E.push(B),n.padding!==!1&&E.push(" "),(n.delimiterEnd!==!1||p!==c-1)&&E.push("|")}w.push(n.delimiterEnd===!1?E.join("").replace(/ +$/,""):E.join(""))}return w.join(`
`)}function w$(e){return e==null?"":String(e)}function n4(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function _$(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(e,s.current()),S$);return i(),o}function S$(e,t,n){return">"+(n?"":" ")+e}function C$(e,t){return r4(e,t.inConstruct,!0)&&!r4(e,t.notInConstruct,!1)}function r4(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function i4(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&C$(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function k$(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+t.length,r=n.indexOf(t,i);return o}function j$(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function E$(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function T$(e,t,n,r){const i=E$(n),s=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(j$(e,n)){const p=n.enter("codeIndented"),g=n.indentLines(s,N$);return p(),g}const a=n.createTracker(r),u=i.repeat(Math.max(k$(s,i)+1,3)),c=n.enter("codeFenced");let f=a.move(u);if(e.lang){const p=n.enter(`codeFencedLang${o}`);f+=a.move(n.safe(e.lang,{before:f,after:" ",encode:["`"],...a.current()})),p()}if(e.lang&&e.meta){const p=n.enter(`codeFencedMeta${o}`);f+=a.move(" "),f+=a.move(n.safe(e.meta,{before:f,after:`
`,encode:["`"],...a.current()})),p()}return f+=a.move(`
`),s&&(f+=a.move(s+`
`)),f+=a.move(u),c(),f}function N$(e,t,n){return(n?"":"    ")+e}function uv(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function P$(e,t,n,r){const i=uv(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const u=n.createTracker(r);let c=u.move("[");return c+=u.move(n.safe(n.associationId(e),{before:c,after:"]",...u.current()})),c+=u.move("]: "),a(),!e.url||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(n.safe(e.url,{before:c,after:">",...u.current()})),c+=u.move(">")):(a=n.enter("destinationRaw"),c+=u.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...u.current()}))),a(),e.title&&(a=n.enter(`title${s}`),c+=u.move(" "+i),c+=u.move(n.safe(e.title,{before:c,after:i,...u.current()})),c+=u.move(i),a()),o(),c}function O$(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function qd(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Ku(e){if(e===null||nn(e)||gl(e))return 1;if(Fm(e))return 2}function Zp(e,t,n){const r=Ku(e),i=Ku(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}D8.peek=L$;function D8(e,t,n,r){const i=O$(n),s=n.enter("emphasis"),o=n.createTracker(r),a=o.move(i);let u=o.move(n.containerPhrasing(e,{after:i,before:a,...o.current()}));const c=u.charCodeAt(0),f=Zp(r.before.charCodeAt(r.before.length-1),c,i);f.inside&&(u=qd(c)+u.slice(1));const p=u.charCodeAt(u.length-1),g=Zp(r.after.charCodeAt(0),p,i);g.inside&&(u=u.slice(0,-1)+qd(p));const v=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:g.outside,before:f.outside},a+u+v}function L$(e,t,n){return n.options.emphasis||"*"}function cv(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),L8(e,s,a,i);function a(u,c){const f=c[c.length-1],p=f?f.children.indexOf(u):void 0;return o(u,p,f)}}const A$={};function dv(e,t){const n=A$,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return F8(e,r,i)}function F8(e,t,n){if(M$(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return s4(e.children,t,n)}return Array.isArray(e)?s4(e,t,n):""}function s4(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=F8(e[i],t,n);return r.join("")}function M$(e){return!!(e&&typeof e=="object")}function R$(e,t){let n=!1;return cv(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Ey}),!!((!e.depth||e.depth<3)&&dv(e)&&(t.options.setext||n))}function I$(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(R$(e,n)){const f=n.enter("headingSetext"),p=n.enter("phrasing"),g=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return p(),f(),g+`
`+(i===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),u=n.enter("phrasing");s.move(o+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c=qd(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),u(),a(),c}B8.peek=D$;function B8(e){return e.value||""}function D$(){return"<"}z8.peek=F$;function z8(e,t,n,r){const i=uv(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const u=n.createTracker(r);let c=u.move("![");return c+=u.move(n.safe(e.alt,{before:c,after:"]",...u.current()})),c+=u.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(n.safe(e.url,{before:c,after:">",...u.current()})),c+=u.move(">")):(a=n.enter("destinationRaw"),c+=u.move(n.safe(e.url,{before:c,after:e.title?" ":")",...u.current()}))),a(),e.title&&(a=n.enter(`title${s}`),c+=u.move(" "+i),c+=u.move(n.safe(e.title,{before:c,after:i,...u.current()})),c+=u.move(i),a()),c+=u.move(")"),o(),c}function F$(){return"!"}$8.peek=B$;function $8(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let u=a.move("![");const c=n.safe(e.alt,{before:u,after:"]",...a.current()});u+=a.move(c+"]["),o();const f=n.stack;n.stack=[],o=n.enter("reference");const p=n.safe(n.associationId(e),{before:u,after:"]",...a.current()});return o(),n.stack=f,s(),i==="full"||!c||c!==p?u+=a.move(p+"]"):i==="shortcut"?u=u.slice(0,-1):u+=a.move("]"),u}function B$(){return"!"}U8.peek=z$;function U8(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let u;if(o.atBreak)for(;u=a.exec(r);){let c=u.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(u.index+1)}}return i+r+i}function z$(){return"`"}function H8(e,t){const n=dv(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}Q8.peek=$$;function Q8(e,t,n,r){const i=uv(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,u;if(H8(e,n)){const f=n.stack;n.stack=[],a=n.enter("autolink");let p=o.move("<");return p+=o.move(n.containerPhrasing(e,{before:p,after:">",...o.current()})),p+=o.move(">"),a(),n.stack=f,p}a=n.enter("link"),u=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(e,{before:c,after:"](",...o.current()})),c+=o.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(e.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(u=n.enter("destinationRaw"),c+=o.move(n.safe(e.url,{before:c,after:e.title?" ":")",...o.current()}))),u(),e.title&&(u=n.enter(`title${s}`),c+=o.move(" "+i),c+=o.move(n.safe(e.title,{before:c,after:i,...o.current()})),c+=o.move(i),u()),c+=o.move(")"),a(),c}function $$(e,t,n){return H8(e,n)?"<":"["}V8.peek=U$;function V8(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let u=a.move("[");const c=n.containerPhrasing(e,{before:u,after:"]",...a.current()});u+=a.move(c+"]["),o();const f=n.stack;n.stack=[],o=n.enter("reference");const p=n.safe(n.associationId(e),{before:u,after:"]",...a.current()});return o(),n.stack=f,s(),i==="full"||!c||c!==p?u+=a.move(p+"]"):i==="shortcut"?u=u.slice(0,-1):u+=a.move("]"),u}function U$(){return"["}function hv(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function H$(e){const t=hv(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Q$(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function q8(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function V$(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=e.ordered?Q$(n):hv(n);const a=e.ordered?o==="."?")":".":H$(n);let u=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const f=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&f&&(!f.children||!f.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(u=!0),q8(n)===o&&f){let p=-1;for(;++p<e.children.length;){const g=e.children[p];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(o=a),n.bulletCurrent=o;const c=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),c}function q$(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function W$(e,t,n,r){const i=q$(n);let s=n.bulletCurrent||hv(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const u=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,a.current()),f);return u(),c;function f(p,g,v){return g?(v?"":" ".repeat(o))+p:(v?s:s+" ".repeat(o-s.length))+p}}function K$(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(e,r);return s(),i(),o}const G$=Bm(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Y$(e,t,n,r){return(e.children.some(function(o){return G$(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function X$(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}W8.peek=J$;function W8(e,t,n,r){const i=X$(n),s=n.enter("strong"),o=n.createTracker(r),a=o.move(i+i);let u=o.move(n.containerPhrasing(e,{after:i,before:a,...o.current()}));const c=u.charCodeAt(0),f=Zp(r.before.charCodeAt(r.before.length-1),c,i);f.inside&&(u=qd(c)+u.slice(1));const p=u.charCodeAt(u.length-1),g=Zp(r.after.charCodeAt(0),p,i);g.inside&&(u=u.slice(0,-1)+qd(p));const v=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:g.outside,before:f.outside},a+u+v}function J$(e,t,n){return n.options.strong||"*"}function Z$(e,t,n,r){return n.safe(e.value,r)}function eU(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function tU(e,t,n){const r=(q8(n)+(n.options.ruleSpaces?" ":"")).repeat(eU(n));return n.options.ruleSpaces?r.slice(0,-1):r}const K8={blockquote:_$,break:i4,code:T$,definition:P$,emphasis:D8,hardBreak:i4,heading:I$,html:B8,image:z8,imageReference:$8,inlineCode:U8,link:Q8,linkReference:V8,list:V$,listItem:W$,paragraph:K$,root:Y$,strong:W8,text:Z$,thematicBreak:tU},o4=document.createElement("i");function fv(e){const t="&"+e+";";o4.innerHTML=t;const n=o4.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function G8(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}const nU=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function rU(e){return e.replace(nU,iU)}function iU(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return G8(n.slice(s?2:1),s?16:10)}return fv(n)||e}function sU(){return{enter:{table:oU,tableData:a4,tableHeader:a4,tableRow:lU},exit:{codeText:uU,table:aU,tableData:h1,tableHeader:h1,tableRow:h1}}}function oU(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function aU(e){this.exit(e),this.data.inTable=void 0}function lU(e){this.enter({type:"tableRow",children:[]},e)}function h1(e){this.exit(e)}function a4(e){this.enter({type:"tableCell",children:[]},e)}function uU(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,cU));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function cU(e,t){return t==="|"?t:e}function dU(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:g,table:o,tableCell:u,tableRow:a}};function o(v,w,_,C){return c(f(v,_,C),v.align)}function a(v,w,_,C){const E=p(v,_,C),L=c([E]);return L.slice(0,L.indexOf(`
`))}function u(v,w,_,C){const E=_.enter("tableCell"),L=_.enter("phrasing"),A=_.containerPhrasing(v,{...C,before:s,after:s});return L(),E(),A}function c(v,w){return b$(v,{align:w,alignDelimiters:r,padding:n,stringLength:i})}function f(v,w,_){const C=v.children;let E=-1;const L=[],A=w.enter("table");for(;++E<C.length;)L[E]=p(C[E],w,_);return A(),L}function p(v,w,_){const C=v.children;let E=-1;const L=[],A=w.enter("tableRow");for(;++E<C.length;)L[E]=u(C[E],v,w,_);return A(),L}function g(v,w,_){let C=K8.inlineCode(v,w,_);return _.stack.includes("tableCell")&&(C=C.replace(/\|/g,"\\$&")),C}}function hU(){return{exit:{taskListCheckValueChecked:l4,taskListCheckValueUnchecked:l4,paragraph:pU}}}function fU(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:mU}}}function l4(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function pU(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function mU(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",a=n.createTracker(r);s&&a.move(o);let u=K8.listItem(e,t,n,{...r,...a.current()});return s&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),u;function c(f){return f+o}}function gU(){return[Hz(),c$(),p$(),sU(),hU()]}function yU(e){return{extensions:[Qz(),d$(e),m$(),dU(e),fU()]}}function yi(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function Ri(e,t){return e.length>0?(yi(e,e.length,0,t),e):t}const u4={}.hasOwnProperty;function Y8(e){const t={};let n=-1;for(;++n<e.length;)xU(t,e[n]);return t}function xU(e,t){let n;for(n in t){const i=(u4.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){u4.call(i,o)||(i[o]=[]);const a=s[o];vU(i[o],Array.isArray(a)?a:a?[a]:[])}}}function vU(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);yi(e,0,0,r)}const bU={tokenize:jU,partial:!0},X8={tokenize:EU,partial:!0},J8={tokenize:TU,partial:!0},Z8={tokenize:NU,partial:!0},wU={tokenize:PU,partial:!0},eS={name:"wwwAutolink",tokenize:CU,previous:nS},tS={name:"protocolAutolink",tokenize:kU,previous:rS},mo={name:"emailAutolink",tokenize:SU,previous:iS},Ps={};function _U(){return{text:Ps}}let Wa=48;for(;Wa<123;)Ps[Wa]=mo,Wa++,Wa===58?Wa=65:Wa===91&&(Wa=97);Ps[43]=mo;Ps[45]=mo;Ps[46]=mo;Ps[95]=mo;Ps[72]=[mo,tS];Ps[104]=[mo,tS];Ps[87]=[mo,eS];Ps[119]=[mo,eS];function SU(e,t,n){const r=this;let i,s;return o;function o(p){return!Ty(p)||!iS.call(r,r.previous)||pv(r.events)?n(p):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(p))}function a(p){return Ty(p)?(e.consume(p),a):p===64?(e.consume(p),u):n(p)}function u(p){return p===46?e.check(wU,f,c)(p):p===45||p===95||Sr(p)?(s=!0,e.consume(p),u):f(p)}function c(p){return e.consume(p),i=!0,u}function f(p){return s&&i&&Rr(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(p)):n(p)}}function CU(e,t,n){const r=this;return i;function i(o){return o!==87&&o!==119||!nS.call(r,r.previous)||pv(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(bU,e.attempt(X8,e.attempt(J8,s),n),n)(o))}function s(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function kU(e,t,n){const r=this;let i="",s=!1;return o;function o(p){return(p===72||p===104)&&rS.call(r,r.previous)&&!pv(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(p),e.consume(p),a):n(p)}function a(p){if(Rr(p)&&i.length<5)return i+=String.fromCodePoint(p),e.consume(p),a;if(p===58){const g=i.toLowerCase();if(g==="http"||g==="https")return e.consume(p),u}return n(p)}function u(p){return p===47?(e.consume(p),s?c:(s=!0,u)):n(p)}function c(p){return p===null||Jp(p)||nn(p)||gl(p)||Fm(p)?n(p):e.attempt(X8,e.attempt(J8,f),n)(p)}function f(p){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(p)}}function jU(e,t,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),i):o===46&&r===3?(e.consume(o),s):n(o)}function s(o){return o===null?n(o):t(o)}}function EU(e,t,n){let r,i,s;return o;function o(c){return c===46||c===95?e.check(Z8,u,a)(c):c===null||nn(c)||gl(c)||c!==45&&Fm(c)?u(c):(s=!0,e.consume(c),o)}function a(c){return c===95?r=!0:(i=r,r=void 0),e.consume(c),o}function u(c){return i||r||!s?n(c):t(c)}}function TU(e,t){let n=0,r=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(Z8,t,s)(o):o===null||nn(o)||gl(o)?t(o):(e.consume(o),i)}function s(o){return o===41&&r++,e.consume(o),i}}function NU(e,t,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(e.consume(a),r):a===38?(e.consume(a),s):a===93?(e.consume(a),i):a===60||a===null||nn(a)||gl(a)?t(a):n(a)}function i(a){return a===null||a===40||a===91||nn(a)||gl(a)?t(a):r(a)}function s(a){return Rr(a)?o(a):n(a)}function o(a){return a===59?(e.consume(a),r):Rr(a)?(e.consume(a),o):n(a)}}function PU(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return Sr(s)?n(s):t(s)}}function nS(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||nn(e)}function rS(e){return!Rr(e)}function iS(e){return!(e===47||Ty(e))}function Ty(e){return e===43||e===45||e===46||e===95||Sr(e)}function pv(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}function ac(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&Sr(e.charCodeAt(n+1))&&Sr(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function $m(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const Ny={name:"attention",resolveAll:OU,tokenize:LU};function OU(e,t){let n=-1,r,i,s,o,a,u,c,f;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p={...e[r][1].end},g={...e[n][1].start};c4(p,-u),c4(g,u),o={type:u>1?"strongSequence":"emphasisSequence",start:p,end:{...e[r][1].end}},a={type:u>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:g},s={type:u>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:u>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},e[r][1].end={...o.start},e[n][1].start={...a.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=Ri(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=Ri(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),c=Ri(c,$m(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=Ri(c,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(f=2,c=Ri(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):f=0,yi(e,r-1,n-r+3,c),n=r+c.length-f-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function LU(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Ku(r);let s;return o;function o(u){return s=u,e.enter("attentionSequence"),a(u)}function a(u){if(u===s)return e.consume(u),a;const c=e.exit("attentionSequence"),f=Ku(u),p=!f||f===2&&i||n.includes(u),g=!i||i===2&&f||n.includes(r);return c._open=!!(s===42?p:p&&(i||!g)),c._close=!!(s===42?g:g&&(f||!p)),t(u)}}function c4(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const AU={name:"autolink",tokenize:MU};function MU(e,t,n){let r=0;return i;function i(v){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(v){return Rr(v)?(e.consume(v),o):v===64?n(v):c(v)}function o(v){return v===43||v===45||v===46||Sr(v)?(r=1,a(v)):c(v)}function a(v){return v===58?(e.consume(v),r=0,u):(v===43||v===45||v===46||Sr(v))&&r++<32?(e.consume(v),a):(r=0,c(v))}function u(v){return v===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.exit("autolink"),t):v===null||v===32||v===60||Jp(v)?n(v):(e.consume(v),u)}function c(v){return v===64?(e.consume(v),f):Ez(v)?(e.consume(v),c):n(v)}function f(v){return Sr(v)?p(v):n(v)}function p(v){return v===46?(e.consume(v),r=0,f):v===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.exit("autolink"),t):g(v)}function g(v){if((v===45||Sr(v))&&r++<63){const w=v===45?g:p;return e.consume(v),w}return n(v)}}function Ut(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(u){return It(u)?(e.enter(n),a(u)):t(u)}function a(u){return It(u)&&s++<i?(e.consume(u),a):(e.exit(n),t(u))}}const mh={partial:!0,tokenize:RU};function RU(e,t,n){return r;function r(s){return It(s)?Ut(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||dt(s)?t(s):n(s)}}const sS={continuation:{tokenize:DU},exit:FU,name:"blockQuote",tokenize:IU};function IU(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return It(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function DU(e,t,n){const r=this;return i;function i(o){return It(o)?Ut(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(sS,t,n)(o)}}function FU(e){e.exit("blockQuote")}const oS={name:"characterEscape",tokenize:BU};function BU(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return Nz(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const aS={name:"characterReference",tokenize:zU};function zU(e,t,n){const r=this;let i=0,s,o;return a;function a(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),u}function u(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),s=31,o=Sr,f(p))}function c(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=Tz,f):(e.enter("characterReferenceValue"),s=7,o=jy,f(p))}function f(p){if(p===59&&i){const g=e.exit("characterReferenceValue");return o===Sr&&!fv(r.sliceSerialize(g))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(p)&&i++<s?(e.consume(p),f):n(p)}}const d4={partial:!0,tokenize:UU},h4={concrete:!0,name:"codeFenced",tokenize:$U};function $U(e,t,n){const r=this,i={partial:!0,tokenize:U};let s=0,o=0,a;return u;function u(P){return c(P)}function c(P){const D=r.events[r.events.length-1];return s=D&&D[1].type==="linePrefix"?D[2].sliceSerialize(D[1],!0).length:0,a=P,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),f(P)}function f(P){return P===a?(o++,e.consume(P),f):o<3?n(P):(e.exit("codeFencedFenceSequence"),It(P)?Ut(e,p,"whitespace")(P):p(P))}function p(P){return P===null||dt(P)?(e.exit("codeFencedFence"),r.interrupt?t(P):e.check(d4,_,B)(P)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(P))}function g(P){return P===null||dt(P)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(P)):It(P)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ut(e,v,"whitespace")(P)):P===96&&P===a?n(P):(e.consume(P),g)}function v(P){return P===null||dt(P)?p(P):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),w(P))}function w(P){return P===null||dt(P)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(P)):P===96&&P===a?n(P):(e.consume(P),w)}function _(P){return e.attempt(i,B,C)(P)}function C(P){return e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),E}function E(P){return s>0&&It(P)?Ut(e,L,"linePrefix",s+1)(P):L(P)}function L(P){return P===null||dt(P)?e.check(d4,_,B)(P):(e.enter("codeFlowValue"),A(P))}function A(P){return P===null||dt(P)?(e.exit("codeFlowValue"),L(P)):(e.consume(P),A)}function B(P){return e.exit("codeFenced"),t(P)}function U(P,D,z){let Q=0;return F;function F(V){return P.enter("lineEnding"),P.consume(V),P.exit("lineEnding"),oe}function oe(V){return P.enter("codeFencedFence"),It(V)?Ut(P,le,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(V):le(V)}function le(V){return V===a?(P.enter("codeFencedFenceSequence"),ue(V)):z(V)}function ue(V){return V===a?(Q++,P.consume(V),ue):Q>=o?(P.exit("codeFencedFenceSequence"),It(V)?Ut(P,W,"whitespace")(V):W(V)):z(V)}function W(V){return V===null||dt(V)?(P.exit("codeFencedFence"),D(V)):z(V)}}}function UU(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const f1={name:"codeIndented",tokenize:QU},HU={partial:!0,tokenize:VU};function QU(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),Ut(e,s,"linePrefix",5)(c)}function s(c){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?u(c):dt(c)?e.attempt(HU,o,u)(c):(e.enter("codeFlowValue"),a(c))}function a(c){return c===null||dt(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),a)}function u(c){return e.exit("codeIndented"),t(c)}}function VU(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):dt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):Ut(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):dt(o)?i(o):n(o)}}const qU={name:"codeText",previous:KU,resolve:WU,tokenize:GU};function WU(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function KU(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function GU(e,t,n){let r=0,i,s;return o;function o(p){return e.enter("codeText"),e.enter("codeTextSequence"),a(p)}function a(p){return p===96?(e.consume(p),r++,a):(e.exit("codeTextSequence"),u(p))}function u(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),u):p===96?(s=e.enter("codeTextSequence"),i=0,f(p)):dt(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),u):(e.enter("codeTextData"),c(p))}function c(p){return p===null||p===32||p===96||dt(p)?(e.exit("codeTextData"),u(p)):(e.consume(p),c)}function f(p){return p===96?(e.consume(p),i++,f):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(s.type="codeTextData",c(p))}}class YU{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&rd(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),rd(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),rd(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);rd(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);rd(this.left,n.reverse())}}}function rd(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function lS(e){const t={};let n=-1,r,i,s,o,a,u,c;const f=new YU(e);for(;++n<f.length;){for(;n in t;)n=t[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,XU(f,n)),n=t[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=f.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...f.get(i)[1].start},a=f.slice(i,n),a.unshift(r),f.splice(i,n-i+1,a))}}return yi(e,0,Number.POSITIVE_INFINITY,f.slice(0)),!c}function XU(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,u=[],c={};let f,p,g=-1,v=n,w=0,_=0;const C=[_];for(;v;){for(;e.get(++i)[1]!==v;);s.push(i),v._tokenizer||(f=r.sliceStream(v),v.next||f.push(null),p&&o.defineSkip(v.start),v._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(f),v._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),p=v,v=v.next}for(v=n;++g<a.length;)a[g][0]==="exit"&&a[g-1][0]==="enter"&&a[g][1].type===a[g-1][1].type&&a[g][1].start.line!==a[g][1].end.line&&(_=g+1,C.push(_),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(o.events=[],v?(v._tokenizer=void 0,v.previous=void 0):C.pop(),g=C.length;g--;){const E=a.slice(C[g],C[g+1]),L=s.pop();u.push([L,L+E.length-1]),e.splice(L,2,E)}for(u.reverse(),g=-1;++g<u.length;)c[w+u[g][0]]=w+u[g][1],w+=u[g][1]-u[g][0]-1;return c}const JU={resolve:eH,tokenize:tH},ZU={partial:!0,tokenize:nH};function eH(e){return lS(e),e}function tH(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):dt(a)?e.check(ZU,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function nH(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Ut(e,s,"linePrefix")}function s(o){if(o===null||dt(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function uS(e,t,n,r,i,s,o,a,u){const c=u||Number.POSITIVE_INFINITY;let f=0;return p;function p(E){return E===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(E),e.exit(s),g):E===null||E===32||E===41||Jp(E)?n(E):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),_(E))}function g(E){return E===62?(e.enter(s),e.consume(E),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),v(E))}function v(E){return E===62?(e.exit("chunkString"),e.exit(a),g(E)):E===null||E===60||dt(E)?n(E):(e.consume(E),E===92?w:v)}function w(E){return E===60||E===62||E===92?(e.consume(E),v):v(E)}function _(E){return!f&&(E===null||E===41||nn(E))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(E)):f<c&&E===40?(e.consume(E),f++,_):E===41?(e.consume(E),f--,_):E===null||E===32||E===40||Jp(E)?n(E):(e.consume(E),E===92?C:_)}function C(E){return E===40||E===41||E===92?(e.consume(E),_):_(E)}}function cS(e,t,n,r,i,s){const o=this;let a=0,u;return c;function c(v){return e.enter(r),e.enter(i),e.consume(v),e.exit(i),e.enter(s),f}function f(v){return a>999||v===null||v===91||v===93&&!u||v===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(v):v===93?(e.exit(s),e.enter(i),e.consume(v),e.exit(i),e.exit(r),t):dt(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),f):(e.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===null||v===91||v===93||dt(v)||a++>999?(e.exit("chunkString"),f(v)):(e.consume(v),u||(u=!It(v)),v===92?g:p)}function g(v){return v===91||v===92||v===93?(e.consume(v),a++,p):p(v)}}function dS(e,t,n,r,i,s){let o;return a;function a(g){return g===34||g===39||g===40?(e.enter(r),e.enter(i),e.consume(g),e.exit(i),o=g===40?41:g,u):n(g)}function u(g){return g===o?(e.enter(i),e.consume(g),e.exit(i),e.exit(r),t):(e.enter(s),c(g))}function c(g){return g===o?(e.exit(s),u(o)):g===null?n(g):dt(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),Ut(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),f(g))}function f(g){return g===o||g===null||dt(g)?(e.exit("chunkString"),c(g)):(e.consume(g),g===92?p:f)}function p(g){return g===o||g===92?(e.consume(g),f):f(g)}}function jd(e,t){let n;return r;function r(i){return dt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):It(i)?Ut(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const rH={name:"definition",tokenize:sH},iH={partial:!0,tokenize:oH};function sH(e,t,n){const r=this;let i;return s;function s(v){return e.enter("definition"),o(v)}function o(v){return cS.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function a(v){return i=as(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),v===58?(e.enter("definitionMarker"),e.consume(v),e.exit("definitionMarker"),u):n(v)}function u(v){return nn(v)?jd(e,c)(v):c(v)}function c(v){return uS(e,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function f(v){return e.attempt(iH,p,p)(v)}function p(v){return It(v)?Ut(e,g,"whitespace")(v):g(v)}function g(v){return v===null||dt(v)?(e.exit("definition"),r.parser.defined.push(i),t(v)):n(v)}}function oH(e,t,n){return r;function r(a){return nn(a)?jd(e,i)(a):n(a)}function i(a){return dS(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return It(a)?Ut(e,o,"whitespace")(a):o(a)}function o(a){return a===null||dt(a)?t(a):n(a)}}const aH={name:"hardBreakEscape",tokenize:lH};function lH(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return dt(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const uH={name:"headingAtx",resolve:cH,tokenize:dH};function cH(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},yi(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function dH(e,t,n){let r=0;return i;function i(f){return e.enter("atxHeading"),s(f)}function s(f){return e.enter("atxHeadingSequence"),o(f)}function o(f){return f===35&&r++<6?(e.consume(f),o):f===null||nn(f)?(e.exit("atxHeadingSequence"),a(f)):n(f)}function a(f){return f===35?(e.enter("atxHeadingSequence"),u(f)):f===null||dt(f)?(e.exit("atxHeading"),t(f)):It(f)?Ut(e,a,"whitespace")(f):(e.enter("atxHeadingText"),c(f))}function u(f){return f===35?(e.consume(f),u):(e.exit("atxHeadingSequence"),a(f))}function c(f){return f===null||f===35||nn(f)?(e.exit("atxHeadingText"),a(f)):(e.consume(f),c)}}const hH=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],f4=["pre","script","style","textarea"],fH={concrete:!0,name:"htmlFlow",resolveTo:gH,tokenize:yH},pH={partial:!0,tokenize:vH},mH={partial:!0,tokenize:xH};function gH(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function yH(e,t,n){const r=this;let i,s,o,a,u;return c;function c($){return f($)}function f($){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume($),p}function p($){return $===33?(e.consume($),g):$===47?(e.consume($),s=!0,_):$===63?(e.consume($),i=3,r.interrupt?t:I):Rr($)?(e.consume($),o=String.fromCharCode($),C):n($)}function g($){return $===45?(e.consume($),i=2,v):$===91?(e.consume($),i=5,a=0,w):Rr($)?(e.consume($),i=4,r.interrupt?t:I):n($)}function v($){return $===45?(e.consume($),r.interrupt?t:I):n($)}function w($){const De="CDATA[";return $===De.charCodeAt(a++)?(e.consume($),a===De.length?r.interrupt?t:le:w):n($)}function _($){return Rr($)?(e.consume($),o=String.fromCharCode($),C):n($)}function C($){if($===null||$===47||$===62||nn($)){const De=$===47,je=o.toLowerCase();return!De&&!s&&f4.includes(je)?(i=1,r.interrupt?t($):le($)):hH.includes(o.toLowerCase())?(i=6,De?(e.consume($),E):r.interrupt?t($):le($)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n($):s?L($):A($))}return $===45||Sr($)?(e.consume($),o+=String.fromCharCode($),C):n($)}function E($){return $===62?(e.consume($),r.interrupt?t:le):n($)}function L($){return It($)?(e.consume($),L):F($)}function A($){return $===47?(e.consume($),F):$===58||$===95||Rr($)?(e.consume($),B):It($)?(e.consume($),A):F($)}function B($){return $===45||$===46||$===58||$===95||Sr($)?(e.consume($),B):U($)}function U($){return $===61?(e.consume($),P):It($)?(e.consume($),U):A($)}function P($){return $===null||$===60||$===61||$===62||$===96?n($):$===34||$===39?(e.consume($),u=$,D):It($)?(e.consume($),P):z($)}function D($){return $===u?(e.consume($),u=null,Q):$===null||dt($)?n($):(e.consume($),D)}function z($){return $===null||$===34||$===39||$===47||$===60||$===61||$===62||$===96||nn($)?U($):(e.consume($),z)}function Q($){return $===47||$===62||It($)?A($):n($)}function F($){return $===62?(e.consume($),oe):n($)}function oe($){return $===null||dt($)?le($):It($)?(e.consume($),oe):n($)}function le($){return $===45&&i===2?(e.consume($),J):$===60&&i===1?(e.consume($),te):$===62&&i===4?(e.consume($),G):$===63&&i===3?(e.consume($),I):$===93&&i===5?(e.consume($),me):dt($)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(pH,ye,ue)($)):$===null||dt($)?(e.exit("htmlFlowData"),ue($)):(e.consume($),le)}function ue($){return e.check(mH,W,ye)($)}function W($){return e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),V}function V($){return $===null||dt($)?ue($):(e.enter("htmlFlowData"),le($))}function J($){return $===45?(e.consume($),I):le($)}function te($){return $===47?(e.consume($),o="",ne):le($)}function ne($){if($===62){const De=o.toLowerCase();return f4.includes(De)?(e.consume($),G):le($)}return Rr($)&&o.length<8?(e.consume($),o+=String.fromCharCode($),ne):le($)}function me($){return $===93?(e.consume($),I):le($)}function I($){return $===62?(e.consume($),G):$===45&&i===2?(e.consume($),I):le($)}function G($){return $===null||dt($)?(e.exit("htmlFlowData"),ye($)):(e.consume($),G)}function ye($){return e.exit("htmlFlow"),t($)}}function xH(e,t,n){const r=this;return i;function i(o){return dt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function vH(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(mh,t,n)}}const bH={name:"htmlText",tokenize:wH};function wH(e,t,n){const r=this;let i,s,o;return a;function a(I){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(I),u}function u(I){return I===33?(e.consume(I),c):I===47?(e.consume(I),U):I===63?(e.consume(I),A):Rr(I)?(e.consume(I),z):n(I)}function c(I){return I===45?(e.consume(I),f):I===91?(e.consume(I),s=0,w):Rr(I)?(e.consume(I),L):n(I)}function f(I){return I===45?(e.consume(I),v):n(I)}function p(I){return I===null?n(I):I===45?(e.consume(I),g):dt(I)?(o=p,te(I)):(e.consume(I),p)}function g(I){return I===45?(e.consume(I),v):p(I)}function v(I){return I===62?J(I):I===45?g(I):p(I)}function w(I){const G="CDATA[";return I===G.charCodeAt(s++)?(e.consume(I),s===G.length?_:w):n(I)}function _(I){return I===null?n(I):I===93?(e.consume(I),C):dt(I)?(o=_,te(I)):(e.consume(I),_)}function C(I){return I===93?(e.consume(I),E):_(I)}function E(I){return I===62?J(I):I===93?(e.consume(I),E):_(I)}function L(I){return I===null||I===62?J(I):dt(I)?(o=L,te(I)):(e.consume(I),L)}function A(I){return I===null?n(I):I===63?(e.consume(I),B):dt(I)?(o=A,te(I)):(e.consume(I),A)}function B(I){return I===62?J(I):A(I)}function U(I){return Rr(I)?(e.consume(I),P):n(I)}function P(I){return I===45||Sr(I)?(e.consume(I),P):D(I)}function D(I){return dt(I)?(o=D,te(I)):It(I)?(e.consume(I),D):J(I)}function z(I){return I===45||Sr(I)?(e.consume(I),z):I===47||I===62||nn(I)?Q(I):n(I)}function Q(I){return I===47?(e.consume(I),J):I===58||I===95||Rr(I)?(e.consume(I),F):dt(I)?(o=Q,te(I)):It(I)?(e.consume(I),Q):J(I)}function F(I){return I===45||I===46||I===58||I===95||Sr(I)?(e.consume(I),F):oe(I)}function oe(I){return I===61?(e.consume(I),le):dt(I)?(o=oe,te(I)):It(I)?(e.consume(I),oe):Q(I)}function le(I){return I===null||I===60||I===61||I===62||I===96?n(I):I===34||I===39?(e.consume(I),i=I,ue):dt(I)?(o=le,te(I)):It(I)?(e.consume(I),le):(e.consume(I),W)}function ue(I){return I===i?(e.consume(I),i=void 0,V):I===null?n(I):dt(I)?(o=ue,te(I)):(e.consume(I),ue)}function W(I){return I===null||I===34||I===39||I===60||I===61||I===96?n(I):I===47||I===62||nn(I)?Q(I):(e.consume(I),W)}function V(I){return I===47||I===62||nn(I)?Q(I):n(I)}function J(I){return I===62?(e.consume(I),e.exit("htmlTextData"),e.exit("htmlText"),t):n(I)}function te(I){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),ne}function ne(I){return It(I)?Ut(e,me,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):me(I)}function me(I){return e.enter("htmlTextData"),o(I)}}const mv={name:"labelEnd",resolveAll:kH,resolveTo:jH,tokenize:EH},_H={tokenize:TH},SH={tokenize:NH},CH={tokenize:PH};function kH(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&yi(e,0,e.length,n),e}function jH(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const u={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[s][1].start},end:{...e[o][1].end}},f={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[o-2][1].start}};return a=[["enter",u,t],["enter",c,t]],a=Ri(a,e.slice(s+1,s+r+3)),a=Ri(a,[["enter",f,t]]),a=Ri(a,$m(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=Ri(a,[["exit",f,t],e[o-2],e[o-1],["exit",c,t]]),a=Ri(a,e.slice(o+1)),a=Ri(a,[["exit",u,t]]),yi(e,s,e.length,a),e}function EH(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(g){return s?s._inactive?p(g):(o=r.parser.defined.includes(as(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),u):n(g)}function u(g){return g===40?e.attempt(_H,f,o?f:p)(g):g===91?e.attempt(SH,f,o?c:p)(g):o?f(g):p(g)}function c(g){return e.attempt(CH,f,p)(g)}function f(g){return t(g)}function p(g){return s._balanced=!0,n(g)}}function TH(e,t,n){return r;function r(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),i}function i(p){return nn(p)?jd(e,s)(p):s(p)}function s(p){return p===41?f(p):uS(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function o(p){return nn(p)?jd(e,u)(p):f(p)}function a(p){return n(p)}function u(p){return p===34||p===39||p===40?dS(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):f(p)}function c(p){return nn(p)?jd(e,f)(p):f(p)}function f(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function NH(e,t,n){const r=this;return i;function i(a){return cS.call(r,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(as(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function PH(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const OH={name:"labelStartImage",resolveAll:mv.resolveAll,tokenize:LH};function LH(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const AH={name:"labelStartLink",resolveAll:mv.resolveAll,tokenize:MH};function MH(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const p1={name:"lineEnding",tokenize:RH};function RH(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Ut(e,t,"linePrefix")}}const Cp={name:"thematicBreak",tokenize:IH};function IH(e,t,n){let r=0,i;return s;function s(c){return e.enter("thematicBreak"),o(c)}function o(c){return i=c,a(c)}function a(c){return c===i?(e.enter("thematicBreakSequence"),u(c)):r>=3&&(c===null||dt(c))?(e.exit("thematicBreak"),t(c)):n(c)}function u(c){return c===i?(e.consume(c),r++,u):(e.exit("thematicBreakSequence"),It(c)?Ut(e,a,"whitespace")(c):a(c))}}const Xr={continuation:{tokenize:zH},exit:UH,name:"list",tokenize:BH},DH={partial:!0,tokenize:HH},FH={partial:!0,tokenize:$H};function BH(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(v){const w=r.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!r.containerState.marker||v===r.containerState.marker:jy(v)){if(r.containerState.type||(r.containerState.type=w,e.enter(w,{_container:!0})),w==="listUnordered")return e.enter("listItemPrefix"),v===42||v===45?e.check(Cp,n,c)(v):c(v);if(!r.interrupt||v===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(v)}return n(v)}function u(v){return jy(v)&&++o<10?(e.consume(v),u):(!r.interrupt||o<2)&&(r.containerState.marker?v===r.containerState.marker:v===41||v===46)?(e.exit("listItemValue"),c(v)):n(v)}function c(v){return e.enter("listItemMarker"),e.consume(v),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||v,e.check(mh,r.interrupt?n:f,e.attempt(DH,g,p))}function f(v){return r.containerState.initialBlankLine=!0,s++,g(v)}function p(v){return It(v)?(e.enter("listItemPrefixWhitespace"),e.consume(v),e.exit("listItemPrefixWhitespace"),g):n(v)}function g(v){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(v)}}function zH(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(mh,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ut(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!It(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(FH,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ut(e,e.attempt(Xr,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function $H(e,t,n){const r=this;return Ut(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function UH(e){e.exit(this.containerState.type)}function HH(e,t,n){const r=this;return Ut(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!It(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const p4={name:"setextUnderline",resolveTo:QH,tokenize:VH};function QH(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function VH(e,t,n){const r=this;let i;return s;function s(c){let f=r.events.length,p;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){p=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(e.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(e.consume(c),a):(e.exit("setextHeadingLineSequence"),It(c)?Ut(e,u,"lineSuffix")(c):u(c))}function u(c){return c===null||dt(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const qH={tokenize:eQ,partial:!0};function WH(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:XH,continuation:{tokenize:JH},exit:ZH}},text:{91:{name:"gfmFootnoteCall",tokenize:YH},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:KH,resolveTo:GH}}}}function KH(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const u=r.events[i][1];if(u.type==="labelImage"){o=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return a;function a(u){if(!o||!o._balanced)return n(u);const c=as(r.sliceSerialize({start:o.end,end:r.now()}));return c.codePointAt(0)!==94||!s.includes(c.slice(1))?n(u):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),t(u))}}function GH(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...a),e}function YH(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(p){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),u}function u(p){return p!==94?n(p):(e.enter("gfmFootnoteCallMarker"),e.consume(p),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(p){if(s>999||p===93&&!o||p===null||p===91||nn(p))return n(p);if(p===93){e.exit("chunkString");const g=e.exit("gfmFootnoteCallString");return i.includes(as(r.sliceSerialize(g)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(p)}return nn(p)||(o=!0),s++,e.consume(p),p===92?f:c}function f(p){return p===91||p===92||p===93?(e.consume(p),s++,c):c(p)}}function XH(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return u;function u(w){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(w){return w===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",f):n(w)}function f(w){if(o>999||w===93&&!a||w===null||w===91||nn(w))return n(w);if(w===93){e.exit("chunkString");const _=e.exit("gfmFootnoteDefinitionLabelString");return s=as(r.sliceSerialize(_)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),g}return nn(w)||(a=!0),o++,e.consume(w),w===92?p:f}function p(w){return w===91||w===92||w===93?(e.consume(w),o++,f):f(w)}function g(w){return w===58?(e.enter("definitionMarker"),e.consume(w),e.exit("definitionMarker"),i.includes(s)||i.push(s),Ut(e,v,"gfmFootnoteDefinitionWhitespace")):n(w)}function v(w){return t(w)}}function JH(e,t,n){return e.check(mh,t,e.attempt(qH,t,n))}function ZH(e){e.exit("gfmFootnoteDefinition")}function eQ(e,t,n){const r=this;return Ut(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(s):n(s)}}function tQ(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let u=-1;for(;++u<o.length;)if(o[u][0]==="enter"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._close){let c=u;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[u][1].end.offset-o[u][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[u][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[u][1].end)},p={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[u][1].start)},g=[["enter",f,a],["enter",o[c][1],a],["exit",o[c][1],a],["enter",p,a]],v=a.parser.constructs.insideSpan.null;v&&yi(g,g.length,0,$m(v,o.slice(c+1,u),a)),yi(g,g.length,0,[["exit",p,a],["enter",o[u][1],a],["exit",o[u][1],a],["exit",f,a]]),yi(o,c-1,u-c+3,g),u=c+g.length-2;break}}for(u=-1;++u<o.length;)o[u][1].type==="strikethroughSequenceTemporary"&&(o[u][1].type="data");return o}function s(o,a,u){const c=this.previous,f=this.events;let p=0;return g;function g(w){return c===126&&f[f.length-1][1].type!=="characterEscape"?u(w):(o.enter("strikethroughSequenceTemporary"),v(w))}function v(w){const _=Ku(c);if(w===126)return p>1?u(w):(o.consume(w),p++,v);if(p<2&&!n)return u(w);const C=o.exit("strikethroughSequenceTemporary"),E=Ku(w);return C._open=!E||E===2&&!!_,C._close=!_||_===2&&!!E,a(w)}}}class nQ{constructor(){this.map=[]}add(t,n,r){rQ(this,t,n,r)}consume(t){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const s of i)t.push(s);i=r.pop()}this.map.length=0}}function rQ(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function iQ(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function sQ(){return{flow:{null:{name:"table",tokenize:oQ,resolveAll:aQ}}}}function oQ(e,t,n){const r=this;let i=0,s=0,o;return a;function a(F){let oe=r.events.length-1;for(;oe>-1;){const W=r.events[oe][1].type;if(W==="lineEnding"||W==="linePrefix")oe--;else break}const le=oe>-1?r.events[oe][1].type:null,ue=le==="tableHead"||le==="tableRow"?P:u;return ue===P&&r.parser.lazy[r.now().line]?n(F):ue(F)}function u(F){return e.enter("tableHead"),e.enter("tableRow"),c(F)}function c(F){return F===124||(o=!0,s+=1),f(F)}function f(F){return F===null?n(F):dt(F)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),v):n(F):It(F)?Ut(e,f,"whitespace")(F):(s+=1,o&&(o=!1,i+=1),F===124?(e.enter("tableCellDivider"),e.consume(F),e.exit("tableCellDivider"),o=!0,f):(e.enter("data"),p(F)))}function p(F){return F===null||F===124||nn(F)?(e.exit("data"),f(F)):(e.consume(F),F===92?g:p)}function g(F){return F===92||F===124?(e.consume(F),p):p(F)}function v(F){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(F):(e.enter("tableDelimiterRow"),o=!1,It(F)?Ut(e,w,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):w(F))}function w(F){return F===45||F===58?C(F):F===124?(o=!0,e.enter("tableCellDivider"),e.consume(F),e.exit("tableCellDivider"),_):U(F)}function _(F){return It(F)?Ut(e,C,"whitespace")(F):C(F)}function C(F){return F===58?(s+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(F),e.exit("tableDelimiterMarker"),E):F===45?(s+=1,E(F)):F===null||dt(F)?B(F):U(F)}function E(F){return F===45?(e.enter("tableDelimiterFiller"),L(F)):U(F)}function L(F){return F===45?(e.consume(F),L):F===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(F),e.exit("tableDelimiterMarker"),A):(e.exit("tableDelimiterFiller"),A(F))}function A(F){return It(F)?Ut(e,B,"whitespace")(F):B(F)}function B(F){return F===124?w(F):F===null||dt(F)?!o||i!==s?U(F):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(F)):U(F)}function U(F){return n(F)}function P(F){return e.enter("tableRow"),D(F)}function D(F){return F===124?(e.enter("tableCellDivider"),e.consume(F),e.exit("tableCellDivider"),D):F===null||dt(F)?(e.exit("tableRow"),t(F)):It(F)?Ut(e,D,"whitespace")(F):(e.enter("data"),z(F))}function z(F){return F===null||F===124||nn(F)?(e.exit("data"),D(F)):(e.consume(F),F===92?Q:z)}function Q(F){return F===92||F===124?(e.consume(F),z):z(F)}}function aQ(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,u=0,c,f,p;const g=new nQ;for(;++n<e.length;){const v=e[n],w=v[1];v[0]==="enter"?w.type==="tableHead"?(a=!1,u!==0&&(m4(g,t,u,c,f),f=void 0,u=0),c={type:"table",start:Object.assign({},w.start),end:Object.assign({},w.end)},g.add(n,0,[["enter",c,t]])):w.type==="tableRow"||w.type==="tableDelimiterRow"?(r=!0,p=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,f={type:"tableBody",start:Object.assign({},w.start),end:Object.assign({},w.end)},g.add(n,0,[["enter",f,t]])),i=w.type==="tableDelimiterRow"?2:f?3:1):i&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],p=ep(g,t,s,i,void 0,p),s=[0,0,0,0]),o[2]=n)):w.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],p=ep(g,t,s,i,void 0,p)),s=o,o=[s[1],n,0,0])):w.type==="tableHead"?(a=!0,u=n):w.type==="tableRow"||w.type==="tableDelimiterRow"?(u=n,s[1]!==0?(o[0]=o[1],p=ep(g,t,s,i,n,p)):o[1]!==0&&(p=ep(g,t,o,i,n,p)),i=0):i&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")&&(o[3]=n)}for(u!==0&&m4(g,t,u,c,f),g.consume(t.events),n=-1;++n<t.events.length;){const v=t.events[n];v[0]==="enter"&&v[1].type==="table"&&(v[1]._align=iQ(t.events,n))}return e}function ep(e,t,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},Au(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const u=Au(t.events,n[1]);if(s={type:o,start:Object.assign({},u),end:Object.assign({},u)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const c=Au(t.events,n[2]),f=Au(t.events,n[3]),p={type:a,start:Object.assign({},c),end:Object.assign({},f)};if(e.add(n[2],0,[["enter",p,t]]),r!==2){const g=t.events[n[2]],v=t.events[n[3]];if(g[1].end=Object.assign({},v[1].end),g[1].type="chunkText",g[1].contentType="text",n[3]>n[2]+1){const w=n[2]+1,_=n[3]-n[2]-1;e.add(w,_,[])}}e.add(n[3]+1,0,[["exit",p,t]])}return i!==void 0&&(s.end=Object.assign({},Au(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function m4(e,t,n,r,i){const s=[],o=Au(t.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,t])),r.end=Object.assign({},o),s.push(["exit",r,t]),e.add(n+1,0,s)}function Au(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const lQ={name:"tasklistCheck",tokenize:cQ};function uQ(){return{text:{91:lQ}}}function cQ(e,t,n){const r=this;return i;function i(u){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(u):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),s)}function s(u){return nn(u)?(e.enter("taskListCheckValueUnchecked"),e.consume(u),e.exit("taskListCheckValueUnchecked"),o):u===88||u===120?(e.enter("taskListCheckValueChecked"),e.consume(u),e.exit("taskListCheckValueChecked"),o):n(u)}function o(u){return u===93?(e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(u)}function a(u){return dt(u)?t(u):It(u)?e.check({tokenize:dQ},t,n)(u):n(u)}}function dQ(e,t,n){return Ut(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function hQ(e){return Y8([_U(),WH(),tQ(e),sQ(),uQ()])}const fQ={};function pQ(e){const t=this,n=e||fQ,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(hQ(n)),s.push(gU()),o.push(yU(n))}function mQ(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const gQ=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,yQ=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,xQ={};function g4(e,t){return(xQ.jsx?yQ:gQ).test(e)}const vQ=/[ \t\n\f\r]/g;function bQ(e){return typeof e=="object"?e.type==="text"?y4(e.value):!1:y4(e)}function y4(e){return e.replace(vQ,"")===""}class gh{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}gh.prototype.normal={};gh.prototype.property={};gh.prototype.space=void 0;function hS(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new gh(n,r,t)}function Py(e){return e.toLowerCase()}class ri{constructor(t,n){this.attribute=n,this.property=t}}ri.prototype.attribute="";ri.prototype.booleanish=!1;ri.prototype.boolean=!1;ri.prototype.commaOrSpaceSeparated=!1;ri.prototype.commaSeparated=!1;ri.prototype.defined=!1;ri.prototype.mustUseProperty=!1;ri.prototype.number=!1;ri.prototype.overloadedBoolean=!1;ri.prototype.property="";ri.prototype.spaceSeparated=!1;ri.prototype.space=void 0;let wQ=0;const jt=kl(),Fn=kl(),Oy=kl(),Fe=kl(),on=kl(),Bu=kl(),fi=kl();function kl(){return 2**++wQ}const Ly=Object.freeze(Object.defineProperty({__proto__:null,boolean:jt,booleanish:Fn,commaOrSpaceSeparated:fi,commaSeparated:Bu,number:Fe,overloadedBoolean:Oy,spaceSeparated:on},Symbol.toStringTag,{value:"Module"})),m1=Object.keys(Ly);class gv extends ri{constructor(t,n,r,i){let s=-1;if(super(t,n),x4(this,"space",i),typeof r=="number")for(;++s<m1.length;){const o=m1[s];x4(this,m1[s],(r&Ly[o])===Ly[o])}}}gv.prototype.defined=!0;function x4(e,t,n){n&&(e[t]=n)}function lc(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new gv(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Py(r)]=r,n[Py(s.attribute)]=r}return new gh(t,n,e.space)}const fS=lc({properties:{ariaActiveDescendant:null,ariaAtomic:Fn,ariaAutoComplete:null,ariaBusy:Fn,ariaChecked:Fn,ariaColCount:Fe,ariaColIndex:Fe,ariaColSpan:Fe,ariaControls:on,ariaCurrent:null,ariaDescribedBy:on,ariaDetails:null,ariaDisabled:Fn,ariaDropEffect:on,ariaErrorMessage:null,ariaExpanded:Fn,ariaFlowTo:on,ariaGrabbed:Fn,ariaHasPopup:null,ariaHidden:Fn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:on,ariaLevel:Fe,ariaLive:null,ariaModal:Fn,ariaMultiLine:Fn,ariaMultiSelectable:Fn,ariaOrientation:null,ariaOwns:on,ariaPlaceholder:null,ariaPosInSet:Fe,ariaPressed:Fn,ariaReadOnly:Fn,ariaRelevant:null,ariaRequired:Fn,ariaRoleDescription:on,ariaRowCount:Fe,ariaRowIndex:Fe,ariaRowSpan:Fe,ariaSelected:Fn,ariaSetSize:Fe,ariaSort:null,ariaValueMax:Fe,ariaValueMin:Fe,ariaValueNow:Fe,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function pS(e,t){return t in e?e[t]:t}function mS(e,t){return pS(e,t.toLowerCase())}const _Q=lc({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Bu,acceptCharset:on,accessKey:on,action:null,allow:null,allowFullScreen:jt,allowPaymentRequest:jt,allowUserMedia:jt,alt:null,as:null,async:jt,autoCapitalize:null,autoComplete:on,autoFocus:jt,autoPlay:jt,blocking:on,capture:null,charSet:null,checked:jt,cite:null,className:on,cols:Fe,colSpan:null,content:null,contentEditable:Fn,controls:jt,controlsList:on,coords:Fe|Bu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:jt,defer:jt,dir:null,dirName:null,disabled:jt,download:Oy,draggable:Fn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:jt,formTarget:null,headers:on,height:Fe,hidden:Oy,high:Fe,href:null,hrefLang:null,htmlFor:on,httpEquiv:on,id:null,imageSizes:null,imageSrcSet:null,inert:jt,inputMode:null,integrity:null,is:null,isMap:jt,itemId:null,itemProp:on,itemRef:on,itemScope:jt,itemType:on,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:jt,low:Fe,manifest:null,max:null,maxLength:Fe,media:null,method:null,min:null,minLength:Fe,multiple:jt,muted:jt,name:null,nonce:null,noModule:jt,noValidate:jt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:jt,optimum:Fe,pattern:null,ping:on,placeholder:null,playsInline:jt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:jt,referrerPolicy:null,rel:on,required:jt,reversed:jt,rows:Fe,rowSpan:Fe,sandbox:on,scope:null,scoped:jt,seamless:jt,selected:jt,shadowRootClonable:jt,shadowRootDelegatesFocus:jt,shadowRootMode:null,shape:null,size:Fe,sizes:null,slot:null,span:Fe,spellCheck:Fn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Fe,step:null,style:null,tabIndex:Fe,target:null,title:null,translate:null,type:null,typeMustMatch:jt,useMap:null,value:Fn,width:Fe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:on,axis:null,background:null,bgColor:null,border:Fe,borderColor:null,bottomMargin:Fe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:jt,declare:jt,event:null,face:null,frame:null,frameBorder:null,hSpace:Fe,leftMargin:Fe,link:null,longDesc:null,lowSrc:null,marginHeight:Fe,marginWidth:Fe,noResize:jt,noHref:jt,noShade:jt,noWrap:jt,object:null,profile:null,prompt:null,rev:null,rightMargin:Fe,rules:null,scheme:null,scrolling:Fn,standby:null,summary:null,text:null,topMargin:Fe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Fe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:jt,disableRemotePlayback:jt,prefix:null,property:null,results:Fe,security:null,unselectable:null},space:"html",transform:mS}),SQ=lc({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:fi,accentHeight:Fe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Fe,amplitude:Fe,arabicForm:null,ascent:Fe,attributeName:null,attributeType:null,azimuth:Fe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Fe,by:null,calcMode:null,capHeight:Fe,className:on,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Fe,diffuseConstant:Fe,direction:null,display:null,dur:null,divisor:Fe,dominantBaseline:null,download:jt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Fe,enableBackground:null,end:null,event:null,exponent:Fe,externalResourcesRequired:null,fill:null,fillOpacity:Fe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Bu,g2:Bu,glyphName:Bu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Fe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Fe,horizOriginX:Fe,horizOriginY:Fe,id:null,ideographic:Fe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Fe,k:Fe,k1:Fe,k2:Fe,k3:Fe,k4:Fe,kernelMatrix:fi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Fe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Fe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Fe,overlineThickness:Fe,paintOrder:null,panose1:null,path:null,pathLength:Fe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:on,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Fe,pointsAtY:Fe,pointsAtZ:Fe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:fi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:fi,rev:fi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:fi,requiredFeatures:fi,requiredFonts:fi,requiredFormats:fi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Fe,specularExponent:Fe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Fe,strikethroughThickness:Fe,string:null,stroke:null,strokeDashArray:fi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Fe,strokeOpacity:Fe,strokeWidth:null,style:null,surfaceScale:Fe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:fi,tabIndex:Fe,tableValues:null,target:null,targetX:Fe,targetY:Fe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:fi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Fe,underlineThickness:Fe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Fe,values:null,vAlphabetic:Fe,vMathematical:Fe,vectorEffect:null,vHanging:Fe,vIdeographic:Fe,version:null,vertAdvY:Fe,vertOriginX:Fe,vertOriginY:Fe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Fe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:pS}),gS=lc({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),yS=lc({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:mS}),xS=lc({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),CQ={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},kQ=/[A-Z]/g,v4=/-[a-z]/g,jQ=/^data[-\w.:]+$/i;function EQ(e,t){const n=Py(t);let r=t,i=ri;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&jQ.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(v4,NQ);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!v4.test(s)){let o=s.replace(kQ,TQ);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=gv}return new i(r,t)}function TQ(e){return"-"+e.toLowerCase()}function NQ(e){return e.charAt(1).toUpperCase()}const PQ=hS([fS,_Q,gS,yS,xS],"html"),yv=hS([fS,SQ,gS,yS,xS],"svg");function OQ(e){return e.join(" ").trim()}var ku={},g1,b4;function LQ(){if(b4)return g1;b4=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,a=/^\s+|\s+$/g,u=`
`,c="/",f="*",p="",g="comment",v="declaration";g1=function(_,C){if(typeof _!="string")throw new TypeError("First argument must be a string");if(!_)return[];C=C||{};var E=1,L=1;function A(ue){var W=ue.match(t);W&&(E+=W.length);var V=ue.lastIndexOf(u);L=~V?ue.length-V:L+ue.length}function B(){var ue={line:E,column:L};return function(W){return W.position=new U(ue),z(),W}}function U(ue){this.start=ue,this.end={line:E,column:L},this.source=C.source}U.prototype.content=_;function P(ue){var W=new Error(C.source+":"+E+":"+L+": "+ue);if(W.reason=ue,W.filename=C.source,W.line=E,W.column=L,W.source=_,!C.silent)throw W}function D(ue){var W=ue.exec(_);if(W){var V=W[0];return A(V),_=_.slice(V.length),W}}function z(){D(n)}function Q(ue){var W;for(ue=ue||[];W=F();)W!==!1&&ue.push(W);return ue}function F(){var ue=B();if(!(c!=_.charAt(0)||f!=_.charAt(1))){for(var W=2;p!=_.charAt(W)&&(f!=_.charAt(W)||c!=_.charAt(W+1));)++W;if(W+=2,p===_.charAt(W-1))return P("End of comment missing");var V=_.slice(2,W-2);return L+=2,A(V),_=_.slice(W),L+=2,ue({type:g,comment:V})}}function oe(){var ue=B(),W=D(r);if(W){if(F(),!D(i))return P("property missing ':'");var V=D(s),J=ue({type:v,property:w(W[0].replace(e,p)),value:V?w(V[0].replace(e,p)):p});return D(o),J}}function le(){var ue=[];Q(ue);for(var W;W=oe();)W!==!1&&(ue.push(W),Q(ue));return ue}return z(),le()};function w(_){return _?_.replace(a,p):p}return g1}var w4;function AQ(){if(w4)return ku;w4=1;var e=ku&&ku.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ku,"__esModule",{value:!0}),ku.default=n;var t=e(LQ());function n(r,i){var s=null;if(!r||typeof r!="string")return s;var o=(0,t.default)(r),a=typeof i=="function";return o.forEach(function(u){if(u.type==="declaration"){var c=u.property,f=u.value;a?i(c,f,u):f&&(s=s||{},s[c]=f)}}),s}return ku}var id={},_4;function MQ(){if(_4)return id;_4=1,Object.defineProperty(id,"__esModule",{value:!0}),id.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(c){return!c||n.test(c)||e.test(c)},o=function(c,f){return f.toUpperCase()},a=function(c,f){return"".concat(f,"-")},u=function(c,f){return f===void 0&&(f={}),s(c)?c:(c=c.toLowerCase(),f.reactCompat?c=c.replace(i,a):c=c.replace(r,a),c.replace(t,o))};return id.camelCase=u,id}var sd,S4;function RQ(){if(S4)return sd;S4=1;var e=sd&&sd.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(AQ()),n=MQ();function r(i,s){var o={};return!i||typeof i!="string"||(0,t.default)(i,function(a,u){a&&u&&(o[(0,n.camelCase)(a,s)]=u)}),o}return r.default=r,sd=r,sd}var IQ=RQ();const DQ=xi(IQ),vS=bS("end"),xv=bS("start");function bS(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function FQ(e){const t=xv(e),n=vS(e);if(t&&n)return{start:t,end:n}}function Ed(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?C4(e.position):"start"in e||"end"in e?C4(e):"line"in e||"column"in e?Ay(e):""}function Ay(e){return k4(e&&e.line)+":"+k4(e&&e.column)}function C4(e){return Ay(e&&e.start)+"-"+Ay(e&&e.end)}function k4(e){return e&&typeof e=="number"?e:1}class jr extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(o=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?s.ruleId=r:(s.source=r.slice(0,u),s.ruleId=r.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){const u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=Ed(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}jr.prototype.file="";jr.prototype.name="";jr.prototype.reason="";jr.prototype.message="";jr.prototype.stack="";jr.prototype.column=void 0;jr.prototype.line=void 0;jr.prototype.ancestors=void 0;jr.prototype.cause=void 0;jr.prototype.fatal=void 0;jr.prototype.place=void 0;jr.prototype.ruleId=void 0;jr.prototype.source=void 0;const vv={}.hasOwnProperty,BQ=new Map,zQ=/[A-Z]/g,$Q=new Set(["table","tbody","thead","tfoot","tr"]),UQ=new Set(["td","th"]),wS="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function HQ(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=XQ(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=YQ(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?yv:PQ,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=_S(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function _S(e,t,n){if(t.type==="element")return QQ(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return VQ(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return WQ(e,t,n);if(t.type==="mdxjsEsm")return qQ(e,t);if(t.type==="root")return KQ(e,t,n);if(t.type==="text")return GQ(e,t)}function QQ(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=yv,e.schema=i),e.ancestors.push(t);const s=CS(e,t.tagName,!1),o=JQ(e,t);let a=wv(e,t);return $Q.has(t.tagName)&&(a=a.filter(function(u){return typeof u=="string"?!bQ(u):!0})),SS(e,o,s,t),bv(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function VQ(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Wd(e,t.position)}function qQ(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Wd(e,t.position)}function WQ(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=yv,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:CS(e,t.name,!0),o=ZQ(e,t),a=wv(e,t);return SS(e,o,s,t),bv(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function KQ(e,t,n){const r={};return bv(r,wv(e,t)),e.create(t,e.Fragment,r,n)}function GQ(e,t){return t.value}function SS(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function bv(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function YQ(e,t,n){return r;function r(i,s,o,a){const c=Array.isArray(o.children)?n:t;return a?c(s,o,a):c(s,o)}}function XQ(e,t){return n;function n(r,i,s,o){const a=Array.isArray(s.children),u=xv(r);return t(i,s,o,a,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function JQ(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&vv.call(t.properties,i)){const s=eV(e,i,t.properties[i]);if(s){const[o,a]=s;e.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&UQ.has(t.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function ZQ(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else Wd(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,s=e.evaluater.evaluateExpression(a.expression)}else Wd(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function wv(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:BQ;for(;++r<t.children.length;){const s=t.children[r];let o;if(e.passKeys){const u=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(u){const c=i.get(u)||0;o=u+"-"+c,i.set(u,c+1)}}const a=_S(e,s,o);a!==void 0&&n.push(a)}return n}function eV(e,t,n){const r=EQ(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?mQ(n):OQ(n)),r.property==="style"){let i=typeof n=="object"?n:tV(e,String(n));return e.stylePropertyNameCase==="css"&&(i=nV(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?CQ[r.property]||r.property:r.attribute,n]}}function tV(e,t){try{return DQ(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new jr("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=wS+"#cannot-parse-style-attribute",i}}function CS(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,o;for(;++s<i.length;){const a=g4(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=g4(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return vv.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Wd(e)}function Wd(e,t){const n=new jr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=wS+"#cannot-handle-mdx-estrees-without-createevaluater",n}function nV(e){const t={};let n;for(n in e)vv.call(e,n)&&(t[rV(n)]=e[n]);return t}function rV(e){let t=e.replace(zQ,iV);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function iV(e){return"-"+e.toLowerCase()}const y1={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},sV={tokenize:oV};function oV(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Ut(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return dt(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const aV={tokenize:lV},j4={tokenize:uV};function lV(e){const t=this,n=[];let r=0,i,s,o;return a;function a(A){if(r<n.length){const B=n[r];return t.containerState=B[1],e.attempt(B[0].continuation,u,c)(A)}return c(A)}function u(A){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&L();const B=t.events.length;let U=B,P;for(;U--;)if(t.events[U][0]==="exit"&&t.events[U][1].type==="chunkFlow"){P=t.events[U][1].end;break}E(r);let D=B;for(;D<t.events.length;)t.events[D][1].end={...P},D++;return yi(t.events,U+1,0,t.events.slice(B)),t.events.length=D,c(A)}return a(A)}function c(A){if(r===n.length){if(!i)return g(A);if(i.currentConstruct&&i.currentConstruct.concrete)return w(A);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(j4,f,p)(A)}function f(A){return i&&L(),E(r),g(A)}function p(A){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,w(A)}function g(A){return t.containerState={},e.attempt(j4,v,w)(A)}function v(A){return r++,n.push([t.currentConstruct,t.containerState]),g(A)}function w(A){if(A===null){i&&L(),E(0),e.consume(A);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),_(A)}function _(A){if(A===null){C(e.exit("chunkFlow"),!0),E(0),e.consume(A);return}return dt(A)?(e.consume(A),C(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(A),_)}function C(A,B){const U=t.sliceStream(A);if(B&&U.push(null),A.previous=s,s&&(s.next=A),s=A,i.defineSkip(A.start),i.write(U),t.parser.lazy[A.start.line]){let P=i.events.length;for(;P--;)if(i.events[P][1].start.offset<o&&(!i.events[P][1].end||i.events[P][1].end.offset>o))return;const D=t.events.length;let z=D,Q,F;for(;z--;)if(t.events[z][0]==="exit"&&t.events[z][1].type==="chunkFlow"){if(Q){F=t.events[z][1].end;break}Q=!0}for(E(r),P=D;P<t.events.length;)t.events[P][1].end={...F},P++;yi(t.events,z+1,0,t.events.slice(D)),t.events.length=P}}function E(A){let B=n.length;for(;B-- >A;){const U=n[B];t.containerState=U[1],U[0].exit.call(t,e)}n.length=A}function L(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function uV(e,t,n){return Ut(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}const cV={tokenize:dV};function dV(e){const t=this,n=e.attempt(mh,r,e.attempt(this.parser.constructs.flowInitial,i,Ut(e,e.attempt(this.parser.constructs.flow,i,e.attempt(JU,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const hV={resolveAll:jS()},fV=kS("string"),pV=kS("text");function kS(e){return{resolveAll:jS(e==="text"?mV:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(f){return c(f)?s(f):a(f)}function a(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),u}function u(f){return c(f)?(n.exit("data"),s(f)):(n.consume(f),u)}function c(f){if(f===null)return!0;const p=i[f];let g=-1;if(p)for(;++g<p.length;){const v=p[g];if(!v.previous||v.previous.call(r,r.previous))return!0}return!1}}}function jS(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function mV(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,u;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)u=!0,a++;else if(c!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const c={type:n===e.length||u||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const gV={42:Xr,43:Xr,45:Xr,48:Xr,49:Xr,50:Xr,51:Xr,52:Xr,53:Xr,54:Xr,55:Xr,56:Xr,57:Xr,62:sS},yV={91:rH},xV={[-2]:f1,[-1]:f1,32:f1},vV={35:uH,42:Cp,45:[p4,Cp],60:fH,61:p4,95:Cp,96:h4,126:h4},bV={38:aS,92:oS},wV={[-5]:p1,[-4]:p1,[-3]:p1,33:OH,38:aS,42:Ny,60:[AU,bH],91:AH,92:[aH,oS],93:mv,95:Ny,96:qU},_V={null:[Ny,hV]},SV={null:[42,95]},CV={null:[]},kV=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:SV,contentInitial:yV,disable:CV,document:gV,flow:vV,flowInitial:xV,insideSpan:_V,string:bV,text:wV},Symbol.toStringTag,{value:"Module"}));function jV(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const u={attempt:D(U),check:D(P),consume:L,enter:A,exit:B,interrupt:D(P,{interrupt:!0})},c={code:null,containerState:{},defineSkip:_,events:[],now:w,parser:e,previous:null,sliceSerialize:g,sliceStream:v,write:p};let f=t.tokenize.call(c,u);return t.resolveAll&&s.push(t),c;function p(oe){return o=Ri(o,oe),C(),o[o.length-1]!==null?[]:(z(t,0),c.events=$m(s,c.events,c),c.events)}function g(oe,le){return TV(v(oe),le)}function v(oe){return EV(o,oe)}function w(){const{_bufferIndex:oe,_index:le,line:ue,column:W,offset:V}=r;return{_bufferIndex:oe,_index:le,line:ue,column:W,offset:V}}function _(oe){i[oe.line]=oe.column,F()}function C(){let oe;for(;r._index<o.length;){const le=o[r._index];if(typeof le=="string")for(oe=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===oe&&r._bufferIndex<le.length;)E(le.charCodeAt(r._bufferIndex));else E(le)}}function E(oe){f=f(oe)}function L(oe){dt(oe)?(r.line++,r.column=1,r.offset+=oe===-3?2:1,F()):oe!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=oe}function A(oe,le){const ue=le||{};return ue.type=oe,ue.start=w(),c.events.push(["enter",ue,c]),a.push(ue),ue}function B(oe){const le=a.pop();return le.end=w(),c.events.push(["exit",le,c]),le}function U(oe,le){z(oe,le.from)}function P(oe,le){le.restore()}function D(oe,le){return ue;function ue(W,V,J){let te,ne,me,I;return Array.isArray(W)?ye(W):"tokenize"in W?ye([W]):G(W);function G(Ee){return Ye;function Ye(Ke){const Pe=Ke!==null&&Ee[Ke],ht=Ke!==null&&Ee.null,un=[...Array.isArray(Pe)?Pe:Pe?[Pe]:[],...Array.isArray(ht)?ht:ht?[ht]:[]];return ye(un)(Ke)}}function ye(Ee){return te=Ee,ne=0,Ee.length===0?J:$(Ee[ne])}function $(Ee){return Ye;function Ye(Ke){return I=Q(),me=Ee,Ee.partial||(c.currentConstruct=Ee),Ee.name&&c.parser.constructs.disable.null.includes(Ee.name)?je():Ee.tokenize.call(le?Object.assign(Object.create(c),le):c,u,De,je)(Ke)}}function De(Ee){return oe(me,I),V}function je(Ee){return I.restore(),++ne<te.length?$(te[ne]):J}}}function z(oe,le){oe.resolveAll&&!s.includes(oe)&&s.push(oe),oe.resolve&&yi(c.events,le,c.events.length-le,oe.resolve(c.events.slice(le),c)),oe.resolveTo&&(c.events=oe.resolveTo(c.events,c))}function Q(){const oe=w(),le=c.previous,ue=c.currentConstruct,W=c.events.length,V=Array.from(a);return{from:W,restore:J};function J(){r=oe,c.previous=le,c.currentConstruct=ue,c.events.length=W,a=V,F()}}function F(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function EV(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function TV(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function NV(e){const r={constructs:Y8([kV,...(e||{}).extensions||[]]),content:i(sV),defined:[],document:i(aV),flow:i(cV),lazy:{},string:i(fV),text:i(pV)};return r;function i(s){return o;function o(a){return jV(r,s,a)}}}function PV(e){for(;!lS(e););return e}const E4=/[\0\t\n\r]/g;function OV(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const u=[];let c,f,p,g,v;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),p=0,t="",n&&(s.charCodeAt(0)===65279&&p++,n=void 0);p<s.length;){if(E4.lastIndex=p,c=E4.exec(s),g=c&&c.index!==void 0?c.index:s.length,v=s.charCodeAt(g),!c){t=s.slice(p);break}if(v===10&&p===g&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),p<g&&(u.push(s.slice(p,g)),e+=g-p),v){case 0:{u.push(65533),e++;break}case 9:{for(f=Math.ceil(e/4)*4,u.push(-2);e++<f;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}p=g+1}return a&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}const ES={}.hasOwnProperty;function LV(e,t,n){return typeof t!="string"&&(n=t,t=void 0),AV(n)(PV(NV(n).document().write(OV()(e,t,!0))))}function AV(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(cs),autolinkProtocol:Q,autolinkEmail:Q,atxHeading:s(Tn),blockQuote:s(ht),characterEscape:Q,characterReference:Q,codeFenced:s(un),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(un,o),codeText:s(Tt,o),codeTextData:Q,data:Q,codeFlowValue:Q,definition:s(pn),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(cn),hardBreakEscape:s(Os),hardBreakTrailing:s(Os),htmlFlow:s(Bi,o),htmlFlowData:Q,htmlText:s(Bi,o),htmlTextData:Q,image:s(go),label:o,link:s(cs),listItem:s(Nn),listItemValue:g,listOrdered:s(Fr,p),listUnordered:s(Fr),paragraph:s(cr),reference:$,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(Tn),strong:s(dr),thematicBreak:s(Br)},exit:{atxHeading:u(),atxHeadingSequence:U,autolink:u(),autolinkEmail:Pe,autolinkProtocol:Ke,blockQuote:u(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:je,characterReferenceMarkerNumeric:je,characterReferenceValue:Ee,characterReference:Ye,codeFenced:u(C),codeFencedFence:_,codeFencedFenceInfo:v,codeFencedFenceMeta:w,codeFlowValue:F,codeIndented:u(E),codeText:u(V),codeTextData:F,data:F,definition:u(),definitionDestinationString:B,definitionLabelString:L,definitionTitleString:A,emphasis:u(),hardBreakEscape:u(le),hardBreakTrailing:u(le),htmlFlow:u(ue),htmlFlowData:F,htmlText:u(W),htmlTextData:F,image:u(te),label:me,labelText:ne,lineEnding:oe,link:u(J),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:De,resourceDestinationString:I,resourceTitleString:G,resource:ye,setextHeading:u(z),setextHeadingLineSequence:D,setextHeadingText:P,strong:u(),thematicBreak:u()}};TS(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Ce){let Oe={type:"root",children:[]};const lt={stack:[Oe],tokenStack:[],config:t,enter:a,exit:c,buffer:o,resume:f,data:n},pt=[];let Nt=-1;for(;++Nt<Ce.length;)if(Ce[Nt][1].type==="listOrdered"||Ce[Nt][1].type==="listUnordered")if(Ce[Nt][0]==="enter")pt.push(Nt);else{const Kt=pt.pop();Nt=i(Ce,Kt,Nt)}for(Nt=-1;++Nt<Ce.length;){const Kt=t[Ce[Nt][0]];ES.call(Kt,Ce[Nt][1].type)&&Kt[Ce[Nt][1].type].call(Object.assign({sliceSerialize:Ce[Nt][2].sliceSerialize},lt),Ce[Nt][1])}if(lt.tokenStack.length>0){const Kt=lt.tokenStack[lt.tokenStack.length-1];(Kt[1]||T4).call(lt,void 0,Kt[0])}for(Oe.position={start:Uo(Ce.length>0?Ce[0][1].start:{line:1,column:1,offset:0}),end:Uo(Ce.length>0?Ce[Ce.length-2][1].end:{line:1,column:1,offset:0})},Nt=-1;++Nt<t.transforms.length;)Oe=t.transforms[Nt](Oe)||Oe;return Oe}function i(Ce,Oe,lt){let pt=Oe-1,Nt=-1,Kt=!1,Mn,Rn,Er,Yn;for(;++pt<=lt;){const Ve=Ce[pt];switch(Ve[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ve[0]==="enter"?Nt++:Nt--,Yn=void 0;break}case"lineEndingBlank":{Ve[0]==="enter"&&(Mn&&!Yn&&!Nt&&!Er&&(Er=pt),Yn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Yn=void 0}if(!Nt&&Ve[0]==="enter"&&Ve[1].type==="listItemPrefix"||Nt===-1&&Ve[0]==="exit"&&(Ve[1].type==="listUnordered"||Ve[1].type==="listOrdered")){if(Mn){let Pn=pt;for(Rn=void 0;Pn--;){const mn=Ce[Pn];if(mn[1].type==="lineEnding"||mn[1].type==="lineEndingBlank"){if(mn[0]==="exit")continue;Rn&&(Ce[Rn][1].type="lineEndingBlank",Kt=!0),mn[1].type="lineEnding",Rn=Pn}else if(!(mn[1].type==="linePrefix"||mn[1].type==="blockQuotePrefix"||mn[1].type==="blockQuotePrefixWhitespace"||mn[1].type==="blockQuoteMarker"||mn[1].type==="listItemIndent"))break}Er&&(!Rn||Er<Rn)&&(Mn._spread=!0),Mn.end=Object.assign({},Rn?Ce[Rn][1].start:Ve[1].end),Ce.splice(Rn||pt,0,["exit",Mn,Ve[2]]),pt++,lt++}if(Ve[1].type==="listItemPrefix"){const Pn={type:"listItem",_spread:!1,start:Object.assign({},Ve[1].start),end:void 0};Mn=Pn,Ce.splice(pt,0,["enter",Pn,Ve[2]]),pt++,lt++,Er=void 0,Yn=!0}}}return Ce[Oe][1]._spread=Kt,lt}function s(Ce,Oe){return lt;function lt(pt){a.call(this,Ce(pt),pt),Oe&&Oe.call(this,pt)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(Ce,Oe,lt){this.stack[this.stack.length-1].children.push(Ce),this.stack.push(Ce),this.tokenStack.push([Oe,lt||void 0]),Ce.position={start:Uo(Oe.start),end:void 0}}function u(Ce){return Oe;function Oe(lt){Ce&&Ce.call(this,lt),c.call(this,lt)}}function c(Ce,Oe){const lt=this.stack.pop(),pt=this.tokenStack.pop();if(pt)pt[0].type!==Ce.type&&(Oe?Oe.call(this,Ce,pt[0]):(pt[1]||T4).call(this,Ce,pt[0]));else throw new Error("Cannot close `"+Ce.type+"` ("+Ed({start:Ce.start,end:Ce.end})+"): its not open");lt.position.end=Uo(Ce.end)}function f(){return dv(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function g(Ce){if(this.data.expectingFirstListItemValue){const Oe=this.stack[this.stack.length-2];Oe.start=Number.parseInt(this.sliceSerialize(Ce),10),this.data.expectingFirstListItemValue=void 0}}function v(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.lang=Ce}function w(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.meta=Ce}function _(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function C(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=Ce.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function E(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=Ce.replace(/(\r?\n|\r)$/g,"")}function L(Ce){const Oe=this.resume(),lt=this.stack[this.stack.length-1];lt.label=Oe,lt.identifier=as(this.sliceSerialize(Ce)).toLowerCase()}function A(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.title=Ce}function B(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.url=Ce}function U(Ce){const Oe=this.stack[this.stack.length-1];if(!Oe.depth){const lt=this.sliceSerialize(Ce).length;Oe.depth=lt}}function P(){this.data.setextHeadingSlurpLineEnding=!0}function D(Ce){const Oe=this.stack[this.stack.length-1];Oe.depth=this.sliceSerialize(Ce).codePointAt(0)===61?1:2}function z(){this.data.setextHeadingSlurpLineEnding=void 0}function Q(Ce){const lt=this.stack[this.stack.length-1].children;let pt=lt[lt.length-1];(!pt||pt.type!=="text")&&(pt=ds(),pt.position={start:Uo(Ce.start),end:void 0},lt.push(pt)),this.stack.push(pt)}function F(Ce){const Oe=this.stack.pop();Oe.value+=this.sliceSerialize(Ce),Oe.position.end=Uo(Ce.end)}function oe(Ce){const Oe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const lt=Oe.children[Oe.children.length-1];lt.position.end=Uo(Ce.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Oe.type)&&(Q.call(this,Ce),F.call(this,Ce))}function le(){this.data.atHardBreak=!0}function ue(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=Ce}function W(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=Ce}function V(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=Ce}function J(){const Ce=this.stack[this.stack.length-1];if(this.data.inReference){const Oe=this.data.referenceType||"shortcut";Ce.type+="Reference",Ce.referenceType=Oe,delete Ce.url,delete Ce.title}else delete Ce.identifier,delete Ce.label;this.data.referenceType=void 0}function te(){const Ce=this.stack[this.stack.length-1];if(this.data.inReference){const Oe=this.data.referenceType||"shortcut";Ce.type+="Reference",Ce.referenceType=Oe,delete Ce.url,delete Ce.title}else delete Ce.identifier,delete Ce.label;this.data.referenceType=void 0}function ne(Ce){const Oe=this.sliceSerialize(Ce),lt=this.stack[this.stack.length-2];lt.label=rU(Oe),lt.identifier=as(Oe).toLowerCase()}function me(){const Ce=this.stack[this.stack.length-1],Oe=this.resume(),lt=this.stack[this.stack.length-1];if(this.data.inReference=!0,lt.type==="link"){const pt=Ce.children;lt.children=pt}else lt.alt=Oe}function I(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.url=Ce}function G(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.title=Ce}function ye(){this.data.inReference=void 0}function $(){this.data.referenceType="collapsed"}function De(Ce){const Oe=this.resume(),lt=this.stack[this.stack.length-1];lt.label=Oe,lt.identifier=as(this.sliceSerialize(Ce)).toLowerCase(),this.data.referenceType="full"}function je(Ce){this.data.characterReferenceType=Ce.type}function Ee(Ce){const Oe=this.sliceSerialize(Ce),lt=this.data.characterReferenceType;let pt;lt?(pt=G8(Oe,lt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):pt=fv(Oe);const Nt=this.stack[this.stack.length-1];Nt.value+=pt}function Ye(Ce){const Oe=this.stack.pop();Oe.position.end=Uo(Ce.end)}function Ke(Ce){F.call(this,Ce);const Oe=this.stack[this.stack.length-1];Oe.url=this.sliceSerialize(Ce)}function Pe(Ce){F.call(this,Ce);const Oe=this.stack[this.stack.length-1];Oe.url="mailto:"+this.sliceSerialize(Ce)}function ht(){return{type:"blockquote",children:[]}}function un(){return{type:"code",lang:null,meta:null,value:""}}function Tt(){return{type:"inlineCode",value:""}}function pn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function cn(){return{type:"emphasis",children:[]}}function Tn(){return{type:"heading",depth:0,children:[]}}function Os(){return{type:"break"}}function Bi(){return{type:"html",value:""}}function go(){return{type:"image",title:null,url:"",alt:null}}function cs(){return{type:"link",title:null,url:"",children:[]}}function Fr(Ce){return{type:"list",ordered:Ce.type==="listOrdered",start:null,spread:Ce._spread,children:[]}}function Nn(Ce){return{type:"listItem",spread:Ce._spread,checked:null,children:[]}}function cr(){return{type:"paragraph",children:[]}}function dr(){return{type:"strong",children:[]}}function ds(){return{type:"text",value:""}}function Br(){return{type:"thematicBreak"}}}function Uo(e){return{line:e.line,column:e.column,offset:e.offset}}function TS(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?TS(e,r):MV(e,r)}}function MV(e,t){let n;for(n in t)if(ES.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function T4(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ed({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ed({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ed({start:t.start,end:t.end})+") is still open")}function RV(e){const t=this;t.parser=n;function n(r){return LV(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function IV(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function DV(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function FV(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function BV(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function zV(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function $V(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=ac(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,a+=1,e.footnoteCounts.set(r,a);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,u);const c={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,c),e.applyData(t,c)}function UV(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function HV(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function NS(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function QV(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return NS(e,t);const i={src:ac(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function VV(e,t){const n={src:ac(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function qV(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function WV(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return NS(e,t);const i={href:ac(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function KV(e,t){const n={href:ac(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function GV(e,t,n){const r=e.all(t),i=n?YV(n):PS(t),s={},o=[];if(typeof t.checked=="boolean"){const f=r[0];let p;f&&f.type==="element"&&f.tagName==="p"?p=f:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const f=r[a];(i||a!==0||f.type!=="element"||f.tagName!=="p")&&o.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?o.push(...f.children):o.push(f)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,c),e.applyData(t,c)}function YV(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=PS(n[r])}return t}function PS(e){const t=e.spread;return t??e.children.length>1}function XV(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function JV(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ZV(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function eq(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function tq(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=xv(t.children[1]),u=vS(t.children[t.children.length-1]);a&&u&&(o.position={start:a,end:u}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function nq(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let u=-1;const c=[];for(;++u<a;){const p=t.children[u],g={},v=o?o[u]:void 0;v&&(g.align=v);let w={type:"element",tagName:s,properties:g,children:[]};p&&(w.children=e.all(p),e.patch(p,w),w=e.applyData(p,w)),c.push(w)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,f),e.applyData(t,f)}function rq(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const N4=9,P4=32;function iq(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(O4(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(O4(t.slice(i),i>0,!1)),s.join("")}function O4(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===N4||s===P4;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===N4||s===P4;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function sq(e,t){const n={type:"text",value:iq(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function oq(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const aq={blockquote:IV,break:DV,code:FV,delete:BV,emphasis:zV,footnoteReference:$V,heading:UV,html:HV,imageReference:QV,image:VV,inlineCode:qV,linkReference:WV,link:KV,listItem:GV,list:XV,paragraph:JV,root:ZV,strong:eq,table:tq,tableCell:rq,tableRow:nq,text:sq,thematicBreak:oq,toml:tp,yaml:tp,definition:tp,footnoteDefinition:tp};function tp(){}const OS=-1,Um=0,Td=1,em=2,_v=3,Sv=4,Cv=5,kv=6,LS=7,AS=8,L4=typeof self=="object"?self:globalThis,lq=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case Um:case OS:return n(o,i);case Td:{const a=n([],i);for(const u of o)a.push(r(u));return a}case em:{const a=n({},i);for(const[u,c]of o)a[r(u)]=r(c);return a}case _v:return n(new Date(o),i);case Sv:{const{source:a,flags:u}=o;return n(new RegExp(a,u),i)}case Cv:{const a=n(new Map,i);for(const[u,c]of o)a.set(r(u),r(c));return a}case kv:{const a=n(new Set,i);for(const u of o)a.add(r(u));return a}case LS:{const{name:a,message:u}=o;return n(new L4[a](u),i)}case AS:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new L4[s](o),i)};return r},A4=e=>lq(new Map,e)(0),ju="",{toString:uq}={},{keys:cq}=Object,od=e=>{const t=typeof e;if(t!=="object"||!e)return[Um,t];const n=uq.call(e).slice(8,-1);switch(n){case"Array":return[Td,ju];case"Object":return[em,ju];case"Date":return[_v,ju];case"RegExp":return[Sv,ju];case"Map":return[Cv,ju];case"Set":return[kv,ju];case"DataView":return[Td,n]}return n.includes("Array")?[Td,n]:n.includes("Error")?[LS,n]:[em,n]},np=([e,t])=>e===Um&&(t==="function"||t==="symbol"),dq=(e,t,n,r)=>{const i=(o,a)=>{const u=r.push(o)-1;return n.set(a,u),u},s=o=>{if(n.has(o))return n.get(o);let[a,u]=od(o);switch(a){case Um:{let f=o;switch(u){case"bigint":a=AS,f=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);f=null;break;case"undefined":return i([OS],o)}return i([a,f],o)}case Td:{if(u){let g=o;return u==="DataView"?g=new Uint8Array(o.buffer):u==="ArrayBuffer"&&(g=new Uint8Array(o)),i([u,[...g]],o)}const f=[],p=i([a,f],o);for(const g of o)f.push(s(g));return p}case em:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const f=[],p=i([a,f],o);for(const g of cq(o))(e||!np(od(o[g])))&&f.push([s(g),s(o[g])]);return p}case _v:return i([a,o.toISOString()],o);case Sv:{const{source:f,flags:p}=o;return i([a,{source:f,flags:p}],o)}case Cv:{const f=[],p=i([a,f],o);for(const[g,v]of o)(e||!(np(od(g))||np(od(v))))&&f.push([s(g),s(v)]);return p}case kv:{const f=[],p=i([a,f],o);for(const g of o)(e||!np(od(g)))&&f.push(s(g));return p}}const{message:c}=o;return i([a,{name:u,message:c}],o)};return s},M4=(e,{json:t,lossy:n}={})=>{const r=[];return dq(!(t||n),!!t,new Map,r)(e),r},tm=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?A4(M4(e,t)):structuredClone(e):(e,t)=>A4(M4(e,t));function hq(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function fq(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function pq(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||hq,r=e.options.footnoteBackLabel||fq,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let u=-1;for(;++u<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[u]);if(!c)continue;const f=e.all(c),p=String(c.identifier).toUpperCase(),g=ac(p.toLowerCase());let v=0;const w=[],_=e.footnoteCounts.get(p);for(;_!==void 0&&++v<=_;){w.length>0&&w.push({type:"text",value:" "});let L=typeof n=="string"?n:n(u,v);typeof L=="string"&&(L={type:"text",value:L}),w.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,v),className:["data-footnote-backref"]},children:Array.isArray(L)?L:[L]})}const C=f[f.length-1];if(C&&C.type==="element"&&C.tagName==="p"){const L=C.children[C.children.length-1];L&&L.type==="text"?L.value+=" ":C.children.push({type:"text",value:" "}),C.children.push(...w)}else f.push(...w);const E={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(f,!0)};e.patch(c,E),a.push(E)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...tm(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const My={}.hasOwnProperty,mq={};function gq(e,t){const n=t||mq,r=new Map,i=new Map,s=new Map,o={...aq,...n.handlers},a={all:c,applyData:xq,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:u,options:n,patch:yq,wrap:bq};return cv(e,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const p=f.type==="definition"?r:i,g=String(f.identifier).toUpperCase();p.has(g)||p.set(g,f)}}),a;function u(f,p){const g=f.type,v=a.handlers[g];if(My.call(a.handlers,g)&&v)return v(a,f,p);if(a.options.passThrough&&a.options.passThrough.includes(g)){if("children"in f){const{children:_,...C}=f,E=tm(C);return E.children=a.all(f),E}return tm(f)}return(a.options.unknownHandler||vq)(a,f,p)}function c(f){const p=[];if("children"in f){const g=f.children;let v=-1;for(;++v<g.length;){const w=a.one(g[v],f);if(w){if(v&&g[v-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=R4(w.value)),!Array.isArray(w)&&w.type==="element")){const _=w.children[0];_&&_.type==="text"&&(_.value=R4(_.value))}Array.isArray(w)?p.push(...w):p.push(w)}}}return p}}function yq(e,t){e.position&&(t.position=FQ(e))}function xq(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,tm(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function vq(e,t){const n=t.data||{},r="value"in t&&!(My.call(n,"hProperties")||My.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function bq(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function R4(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function I4(e,t){const n=gq(e,t),r=n.one(e,void 0),i=pq(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function wq(e,t){return e&&"run"in e?async function(n,r){const i=I4(n,{file:r,...t});await e.run(i,r)}:function(n,r){return I4(n,{file:r,...e||t})}}function D4(e){if(e)throw e}var x1,F4;function _q(){if(F4)return x1;F4=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):t.call(c)==="[object Array]"},s=function(c){if(!c||t.call(c)!=="[object Object]")return!1;var f=e.call(c,"constructor"),p=c.constructor&&c.constructor.prototype&&e.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!f&&!p)return!1;var g;for(g in c);return typeof g>"u"||e.call(c,g)},o=function(c,f){n&&f.name==="__proto__"?n(c,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):c[f.name]=f.newValue},a=function(c,f){if(f==="__proto__")if(e.call(c,f)){if(r)return r(c,f).value}else return;return c[f]};return x1=function u(){var c,f,p,g,v,w,_=arguments[0],C=1,E=arguments.length,L=!1;for(typeof _=="boolean"&&(L=_,_=arguments[1]||{},C=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});C<E;++C)if(c=arguments[C],c!=null)for(f in c)p=a(_,f),g=a(c,f),_!==g&&(L&&g&&(s(g)||(v=i(g)))?(v?(v=!1,w=p&&i(p)?p:[]):w=p&&s(p)?p:{},o(_,{name:f,newValue:u(L,w,g)})):typeof g<"u"&&o(_,{name:f,newValue:g}));return _},x1}var Sq=_q();const v1=xi(Sq);function Ry(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Cq(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(u,...c){const f=e[++s];let p=-1;if(u){o(u);return}for(;++p<i.length;)(c[p]===null||c[p]===void 0)&&(c[p]=i[p]);i=c,f?kq(f,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function kq(e,t){let n;return r;function r(...o){const a=e.length>o.length;let u;a&&o.push(i);try{u=e.apply(this,o)}catch(c){const f=c;if(a&&n)throw f;return i(f)}a||(u&&u.then&&typeof u.then=="function"?u.then(s,i):u instanceof Error?i(u):s(u))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}const Ss={basename:jq,dirname:Eq,extname:Tq,join:Nq,sep:"/"};function jq(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');yh(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function Eq(e){if(yh(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Tq(e){yh(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.codePointAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function Nq(...e){let t=-1,n;for(;++t<e.length;)yh(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Pq(n)}function Pq(e){yh(e);const t=e.codePointAt(0)===47;let n=Oq(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Oq(e,t){let n="",r=0,i=-1,s=0,o=-1,a,u;for(;++o<=e.length;){if(o<e.length)a=e.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function yh(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Lq={cwd:Aq};function Aq(){return"/"}function Iy(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Mq(e){if(typeof e=="string")e=new URL(e);else if(!Iy(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Rq(e)}function Rq(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const b1=["history","path","basename","stem","extname","dirname"];class MS{constructor(t){let n;t?Iy(t)?n={path:t}:typeof t=="string"||Iq(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Lq.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<b1.length;){const s=b1[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)b1.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Ss.basename(this.path):void 0}set basename(t){_1(t,"basename"),w1(t,"basename"),this.path=Ss.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Ss.dirname(this.path):void 0}set dirname(t){B4(this.basename,"dirname"),this.path=Ss.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Ss.extname(this.path):void 0}set extname(t){if(w1(t,"extname"),B4(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ss.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Iy(t)&&(t=Mq(t)),_1(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Ss.basename(this.path,this.extname):void 0}set stem(t){_1(t,"stem"),w1(t,"stem"),this.path=Ss.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new jr(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function w1(e,t){if(e&&e.includes(Ss.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Ss.sep+"`")}function _1(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function B4(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Iq(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Dq=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},Fq={}.hasOwnProperty;class jv extends Dq{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Cq()}copy(){const t=new jv;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(v1(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(k1("data",this.frozen),this.namespace[t]=n,this):Fq.call(this.namespace,t)&&this.namespace[t]||void 0:t?(k1("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=rp(t),r=this.parser||this.Parser;return S1("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),S1("process",this.parser||this.Parser),C1("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=rp(t),u=r.parse(a);r.run(u,a,function(f,p,g){if(f||!p||!g)return c(f);const v=p,w=r.stringify(v,g);$q(w)?g.value=w:g.result=w,c(f,g)});function c(f,p){f||!p?o(f):s?s(p):n(void 0,p)}}}processSync(t){let n=!1,r;return this.freeze(),S1("processSync",this.parser||this.Parser),C1("processSync",this.compiler||this.Compiler),this.process(t,i),$4("processSync","process",n),r;function i(s,o){n=!0,D4(s),r=o}}run(t,n,r){z4(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const u=rp(n);i.run(t,u,c);function c(f,p,g){const v=p||t;f?a(f):o?o(v):r(void 0,v,g)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),$4("runSync","run",r),i;function s(o,a){D4(o),i=a,r=!0}}stringify(t,n){this.freeze();const r=rp(n),i=this.compiler||this.Compiler;return C1("stringify",i),z4(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(k1("use",this.frozen),t!=null)if(typeof t=="function")u(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(c){if(typeof c=="function")u(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[f,...p]=c;u(f,p)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=v1(!0,i.settings,c.settings))}function a(c){let f=-1;if(c!=null)if(Array.isArray(c))for(;++f<c.length;){const p=c[f];s(p)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function u(c,f){let p=-1,g=-1;for(;++p<r.length;)if(r[p][0]===c){g=p;break}if(g===-1)r.push([c,...f]);else if(f.length>0){let[v,...w]=f;const _=r[g][1];Ry(_)&&Ry(v)&&(v=v1(!0,_,v)),r[g]=[c,v,...w]}}}}const Bq=new jv().freeze();function S1(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function C1(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function k1(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function z4(e){if(!Ry(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function $4(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function rp(e){return zq(e)?e:new MS(e)}function zq(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function $q(e){return typeof e=="string"||Uq(e)}function Uq(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Hq="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",U4=[],H4={allowDangerousHtml:!0},Qq=/^(https?|ircs?|mailto|xmpp)$/i,Vq=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function qq(e){const t=Wq(e),n=Kq(e);return Gq(t.runSync(t.parse(n),n),e)}function Wq(e){const t=e.rehypePlugins||U4,n=e.remarkPlugins||U4,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...H4}:H4;return Bq().use(RV).use(n).use(wq,r).use(t)}function Kq(e){const t=e.children||"",n=new MS;return typeof t=="string"&&(n.value=t),n}function Gq(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,o=t.skipHtml,a=t.unwrapDisallowed,u=t.urlTransform||Yq;for(const f of Vq)Object.hasOwn(t,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+Hq+f.id,void 0);return cv(e,c),HQ(e,{Fragment:h.Fragment,components:i,ignoreInvalidStyle:!0,jsx:h.jsx,jsxs:h.jsxs,passKeys:!0,passNode:!0});function c(f,p,g){if(f.type==="raw"&&g&&typeof p=="number")return o?g.children.splice(p,1):g.children[p]={type:"text",value:f.value},p;if(f.type==="element"){let v;for(v in y1)if(Object.hasOwn(y1,v)&&Object.hasOwn(f.properties,v)){const w=f.properties[v],_=y1[v];(_===null||_.includes(f.tagName))&&(f.properties[v]=u(String(w||""),v,f))}}if(f.type==="element"){let v=n?!n.includes(f.tagName):s?s.includes(f.tagName):!1;if(!v&&r&&typeof p=="number"&&(v=!r(f,p,g)),v&&g&&typeof p=="number")return a&&f.children?g.children.splice(p,1,...f.children):g.children.splice(p,1),p}}}function Yq(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||Qq.test(e.slice(0,t))?e:""}function Xq(){return us({queryKey:["faq"],queryFn:Jq,staleTime:1/0,select:e=>e.faq.map((t,n)=>({...t,id:n}))})}const Jq=async()=>await gx("/faq.json"),Dy=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:14,height:16,viewBox:"0 0 14 16",...e},N.createElement("defs",null,N.createElement("clipPath",{id:"master_svg0_137_3346"},N.createElement("rect",{x:0,y:0,width:14,height:16,rx:0}))),N.createElement("g",{clipPath:"url(#master_svg0_137_3346)"},N.createElement("g",{transform:"matrix(1,0,0,-1,0,26.6875)"},N.createElement("g",null,N.createElement("path",{d:"M6.28125,13.625Q6.59375,13.34375,7,13.34375Q7.40625,13.34375,7.71875,13.625L13.7188,19.625Q14,19.9375,14,20.34375Q14,20.75,13.7188,21.0625Q13.4062,21.34375,13,21.34375Q12.5938,21.34375,12.2812,21.0625L7,15.75L1.71875,21.0625Q1.40625,21.34375,1,21.34375Q0.59375,21.34375,0.28125,21.0625Q0,20.75,0,20.34375Q0,19.9375,0.28125,19.625L6.28125,13.625Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))))),Zq={h2:e=>h.jsx("h2",{...e,className:"text-lg font-bold my-4"}),h3:e=>h.jsx("h3",{...e,className:"text-base font-bold my-4"}),a:e=>h.jsx("a",{...e,className:"text-blue-500 underline"})},eW={all:"",timetable:"",wishes:"",simulation:"",live:""};function tW(e){return Array.from(new Set(e))}function nW(){const e=Ns(),t=e.hash,n=t?parseInt(t.replace("#","")):null,[r,i]=N.useState(n),{data:s}=Xq(),[o,a]=N.useState(null),u=tW(s?.map(g=>g.tag)??[]),c=o?s?.filter(g=>g.tag===o):s,f=g=>{i(r===g?null:g)};N.useEffect(()=>{if(e.hash){const g=parseInt(e.hash.replace("#",""));setTimeout(()=>{const v=document.getElementById("faq-container-"+g);v&&(v.scrollIntoView({behavior:"smooth"}),i(g))},300)}},[e.hash]);const p=g=>{a(v=>v===g?null:g)};return h.jsxs(h.Fragment,{children:[h.jsx(Gn,{children:h.jsx("title",{children:"ALLCLL |   "})}),h.jsxs("div",{className:"mx-auto max-w-7xl px-4 md:px-16 py-24",children:[h.jsx("h1",{className:"text-3xl font-bold mb-6",children:"  "}),h.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:u.length>0&&u.map((g,v)=>h.jsx(sr,{label:eW[g]||g,onClick:()=>p(g),selected:o===g},"faq-chip-"+v))}),c&&c.map(g=>h.jsx(rW,{item:g,index:g.id,isOpen:r===g.id,toggleAnswer:f},g.id))]})]})}function rW({item:e,index:t,isOpen:n,toggleAnswer:r}){return h.jsxs("div",{id:"faq-container-"+t,className:"mb-4 rounded-md bg-white shadow-sm",children:[h.jsxs("button",{onClick:()=>r(t),className:"flex items-center justify-between rounded-md w-full text-left font-semibold text-md p-4 hover:bg-blue-50 focus:outline-none cursor-pointer "+(n?"text-blue-600 font-bold":""),children:[e.question,h.jsx(Dy,{className:"w-4 h-4 transform transition-transform duration-150 "+(n?"rotate-180":"")})]}),n&&h.jsx("div",{className:"p-4 border-t border-gray-200 text-sm",children:h.jsx(qq,{remarkPlugins:[pQ],components:Zq,children:e.answer})})]},t)}function iW(){const[e,t]=N.useState(!1),[n,r]=N.useState(!1),i=gd(z=>z.filters),s=gd(z=>z.setFilter),o=gd(z=>z.resetFilters),{keywords:a,department:u,favoriteOnly:c}=i,f=dy(z=>z.tableTitles),p=dy(z=>z.setTableTitles),g=ha(),[v,w]=N.useState(!1),{data:_}=j8([]),C=hh(_??[]).sort((z,Q)=>z.localeCompare(Q)).map(z=>z),E=ev(i),L=_&&"seat"in _,{isPreSeatAvailable:A}=Dm({hasSeats:L}),B=_&&"totalCount"in _,U=()=>s("favoriteOnly",!c),P=()=>{g?w(!0):r(!0)},D=(z,Q)=>{const F=i[z];Array.isArray(F)?s(z,F.filter(oe=>oe!==Q)):s(z,sa[z])};return h.jsxs("div",{className:"flex flex-wrap gap-2 mt-4 lg:flex-wrap lg:flex-row lg:items-center lg:gap-y-0 lg:gap-x-2",children:[e&&h.jsx(sW,{initialItems:f,onChange:p,onClose:()=>t(!1)}),n&&h.jsx(lv,{filterStore:gd,onClose:()=>r(!1)}),v&&h.jsx(iv,{onCloseFiltering:()=>w(!1),filters:i,setFilter:s,resetFilter:o}),h.jsx(Sl,{type:"text",className:"pl-10 pr-6 py-2 rounded-md w-full bg-white border border-gray-400 text-[16px] placeholder:text-sm",placeholder:",      ",value:a,onDelete:()=>s("keywords",""),onChange:z=>s("keywords",z.target.value)}),h.jsxs("div",{className:"flex items-center flex-wrap mt-2 gap-2",children:[h.jsxs("div",{className:"hidden md:flex flex-wrap gap-2",children:[h.jsx(ov,{department:u,setFilter:s}),B&&h.jsx(Wu,{filterKey:"wishRange",options:ln.wishRange,selectedValue:i.wishRange??null,setFilter:s,ItemComponent:sr,isMinMax:!0}),A&&h.jsx(Wu,{filterKey:"seatRange",options:ln.seatRange,selectedValue:i.seatRange??null,setFilter:s,ItemComponent:sr,isMinMax:!0}),h.jsx(jn,{filterKey:"days",options:ln.days,selectedValues:i.days??[],setFilter:s}),h.jsx(jn,{filterKey:"credits",options:ln.credits,selectedValues:i.credits??[],setFilter:s}),h.jsx(jn,{filterKey:"grades",options:ln.grades,selectedValues:i.grades??[],setFilter:s}),i.classroom.length>0&&h.jsx(jn,{filterKey:"classroom",options:ln.classRoom,selectedValues:i.classroom??[],setFilter:s,className:"min-w-max"}),i.note.length>0&&h.jsx(jn,{filterKey:"note",options:ln.remark,selectedValues:i.note??[],setFilter:s}),i.categories.length>0&&h.jsx(jn,{filterKey:"categories",options:C,selectedValues:i.categories??[],setFilter:s,className:"min-w-max"})]}),h.jsx(av,{filters:i,resetFilter:o}),h.jsx(sv,{handleOpenFilter:P}),h.jsx("button",{className:"p-2 rounded-md flex gap-2 items-center border border-gray-400 bg-white hover:bg-gray-100",onClick:U,"aria-label":c?"  ":"  ",title:c?"  ":"  ",children:h.jsx(_8,{disabled:!c})}),h.jsx("button",{className:"p-2 rounded-md flex gap-2 items-center border border-gray-400 bg-white hover:bg-gray-100","aria-label":" ",title:" ",onClick:()=>t(!0),children:h.jsx(Ux,{className:"w-4 h-4 text-gray-600 hover:text-blue-500 transition-colors"})}),h.jsx("div",{className:"flex flex-wrap gap-2 w-fit md:hidden",children:E.map(z=>h.jsx(sr,{chipType:"cancel",label:z.label,selected:!0,onClick:()=>D(z.filterKey,z.values)},`${z.filterKey}-${z.values}`))})]})]})}function sW({initialItems:e,onChange:t,onClose:n}){return qx({enabled:!0,onClose:n}),h.jsxs(ca,{onClose:n,children:[h.jsx(nc,{title:" ",onClose:n}),h.jsx("div",{className:"p-4",children:h.jsx(Q7,{initialItems:e,onChange:t})})]})}function oW(){const e=Qd(t=>t.setIsSearchOpen);return h.jsxs(h.Fragment,{children:[h.jsx(Gn,{children:h.jsx("title",{children:"ALLCLL |  "})}),h.jsx("div",{className:"mx-auto max-w-7xl px-4 md:px-16 mb-8 min-h-screen",children:h.jsxs("div",{className:"py-5 px-2",children:[h.jsx("h1",{className:"text-xl font-bold",children:" "}),h.jsxs("p",{className:"text-xs font-bold text-gray-500 mb-4",children:["  ",h.jsx("span",{className:"text-blue-500 font-bold",children:" "})," .   ."]}),h.jsxs(tc,{children:[h.jsxs(xl,{to:"/live",onClick:()=>e(!0),state:{openSearch:!0},className:"inline-flex items-center gap-2 rounded-md border border-blue-500 px-3 py-2 text-sm font-medium text-blue-500 hover:bg-blue-50",children:[h.jsx(ec,{}),""]}),h.jsx(iW,{}),h.jsx(Qx,{})]}),h.jsx(aW,{}),h.jsx(E8,{right:"right-2 sm:right-20"})]})})]})}function aW(){const{data:e,isPending:t}=po(),n=uh(Lm(e,rc)),r=gd(s=>s.filters),i=N.useDeferredValue(sc(n??[],r));return h.jsx("div",{className:"bg-white mt-6 shadow-md rounded-lg overflow-x-auto",children:h.jsx(C8,{data:i,isPending:t})})}function lW({children:e}){return h.jsxs("div",{className:"relative max-h-screen overflow-hidden",children:[h.jsx("div",{style:{filter:"blur(4px"},children:e}),h.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex justify-center items-center",children:h.jsx("p",{className:"text-xl font-bold text-gray-700",children:"  "})})]})}fo.register(Ix,Zu,Ju,ih,sh,oh);var RS=(e=>(e.MAJOR="/",e.UNIVERSITY="",e.DEPARTMENT="",e.COLLEGE="",e))(RS||{});function uW({data:e,majorName:t}){const[n,r]=N.useState("/"),{data:i}=wl(),s=vR(i),{doughnutData:o,totalCount:a}=cW(e,s,t,n);return h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h2",{className:"text-lg font-semibold",children:" "}),h.jsx("label",{className:"hidden",htmlFor:"doughnut-select",children:""}),h.jsx("select",{className:"border px-3 py-1 rounded-md",id:"doughnut-select",value:n,onChange:u=>r(u.target.value),children:Object.values(RS).map(u=>h.jsx("option",{value:u,children:u},u))})]}),a?h.jsx(O7,{data:o}):h.jsx("div",{className:"flex justify-center items-center h-48",children:h.jsx("p",{className:"text-center text-gray-500 font-semibold",children:"   ."})})]})}function cW(e,t,n,r){let i;const{universityDict:s,collegeDict:o}=t;switch(r){case"/":i=_R(n,e);break;case"":i=SR(e,s);break;case"":i=CR(e,o);break;case"":i=d5(e);break;default:i=d5(e);break}const a=kR(e);return{doughnutData:i,totalCount:a}}function dW(e){const{data:t}=po(),n=Lm(t,rc);if(!n)return{isPending:!0};const r=n?.find(i=>i.subjectId===Number(e));return{isPending:!1,data:r,isLastSemesterWish:!r}}function hW(e,t=[]){const{data:n}=po(),r=Lm(n,rc);return r?{isPending:!1,data:r.filter(s=>s.subjectCode===e&&!t.includes(s.subjectId))}:{isPending:!0}}class Ev extends RangeError{constructor(t){super(t),this.name="ParamsInvalidError"}}class fW extends Error{constructor(t){super(t),this.name="NotFoundError"}}function pW(e){return us({queryKey:["detail-registers",e],queryFn:()=>mW(e),staleTime:1/0,retry:gW})}const mW=async e=>{const t=await um(`/api/baskets/${e}`);if(!t.ok){const n=await t.text(),r=yW(n);throw r?.status==="400 BAD_REQUEST"?new Ev(r.code):new Error(await t.text())}return t.json()},gW=(e,t)=>e>=3?!1:!(t instanceof Ev),yW=e=>{try{return JSON.parse(e)}catch{return null}};fo.register(Ix,Zu,Ju,ih,sh,oh);const xW={labels:["4","3","2","1"],datasets:[{data:[50,40,25,20],backgroundColor:"#60a5fa"}]};function vW(){const e=L6(),{data:t,isPending:n,isLastSemesterWish:r}=dW(e.id??"-1"),{data:i,error:s}=pW(e.id??"-1"),{data:o}=hW(t?.subjectCode??"",t?.subjectId?[t.subjectId]:[]),a=t&&"seat"in t,{isPreSeatAvailable:u}=Dm({hasSeats:a}),c=t&&"totalCount"in t,f=a?t.seat:-1,p=t??rc,g=t?.curiLangNm==="",v=t?.isDeleted??!1;if(n||!p)return h.jsxs(h.Fragment,{children:[h.jsx(Gn,{children:h.jsx("title",{children:"ALLCLL |   "})}),h.jsx("div",{className:"min-h-screen bg-gray-50 flex justify-center items-center",children:h.jsx("h1",{className:"text-2xl font-bold",children:"Loading..."})})]});if(s)throw s;return h.jsxs(h.Fragment,{children:[h.jsx(Gn,{children:h.jsx("title",{children:"ALLCLL |   "})}),r&&h.jsx("p",{className:"bg-red-100 text-red-500 py-2 px-4 font-bold",children:"   .   ."}),h.jsx("div",{className:"min-h-screen bg-gray-50",children:h.jsx("div",{className:"p-6 max-w-5xl mx-auto",children:h.jsxs(tc,{children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h1",{className:"text-2xl font-bold",children:p.subjectName}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(S8,{subject:p,className:"p-2 border rounded border-gray-300 hover:bg-gray-100"}),h.jsx(g8,{subject:p,className:"p-2 border rounded border-gray-300 hover:bg-gray-100"})]})]}),h.jsxs("p",{className:"text-gray-600",children:[p.subjectCode,"-",p.classCode," | ",p.departmentName," | ",p.professorName]}),h.jsxs("div",{className:"flex items-center gap-2 flex-wrap text-gray-600",children:[h.jsxs("span",{children:[p.studentYear,""]}),h.jsx("span",{children:p.curiTypeCdNm}),h.jsxs("span",{children:[Number(p.tmNum.split("/")[0].trim()),""]}),h.jsxs("span",{children:[" ","| ",p.lesnRoom," | ",p.lesnTime]}),u&&h.jsxs("p",{className:`text-sm px-2 py-1 rounded-full font-bold ${_l(f)}`,children:[": ",f<0?"???":f]}),g&&h.jsx("span",{className:"bg-green-100 rounded px-2 py-1 text-green-500 text-xs font-semibold",children:""}),v&&h.jsx("span",{className:"bg-red-100 rounded px-2 py-1 text-red-500 text-xs font-semibold",children:""})]}),h.jsx("p",{className:"text-sm text-gray-500",children:p.remark}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[h.jsx(uW,{data:i?.eachDepartmentRegisters??[],majorName:p.departmentName??p.manageDeptNm}),h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h2",{className:"text-lg font-semibold",children:"  "}),c&&h.jsxs("p",{className:`${z7(p.totalCount??-1)} font-bold text-xl`,children:[" ",p.totalCount,""]})]}),h.jsxs(lW,{children:[h.jsx("p",{className:"text-sm text-gray-500",children:"   20%      "}),h.jsx("div",{className:"mt-4",children:h.jsx(qM,{data:xW})})]})]})]}),h.jsxs("div",{className:"mt-6 bg-white p-6 rounded-lg shadow-md",children:[h.jsx("h2",{className:"text-lg font-semibold",children:" "}),h.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"   "}),h.jsx("div",{className:"overflow-x-auto",children:h.jsx(C8,{data:o??[]})})]})]})})})]})}const yd=()=>{const e=Yy();return N.useEffect(()=>{aE(e,{extra:{url:window.location.href,userAgent:navigator.userAgent}})},[e]),h.jsxs(h.Fragment,{children:[h.jsx(Gn,{children:h.jsx("title",{children:"ALLCLL |  "})}),h.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[h.jsx("h1",{className:"text-4xl font-bold mb-4",children:" "}),h.jsx("p",{className:"text-lg mb-4",children:" .    "}),h.jsx(Ir,{to:"/",className:"text-blue-500",children:" "}),h.jsx("a",{href:"https://forms.gle/bCDTVujEHunnvHe88",target:"_blank",className:"text-blue-500",children:""})]})]})},IS=()=>h.jsxs(h.Fragment,{children:[h.jsx(Gn,{children:h.jsx("title",{children:"ALLCLL |    "})}),h.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[h.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404 -    "}),h.jsx("p",{className:"text-lg mb-4",children:"   "}),h.jsx(Ir,{to:"/",className:"text-blue-500",children:" "})]})]}),bW=()=>{const e=Yy();return e instanceof Ev||e instanceof fW?h.jsx(IS,{}):h.jsx(yd,{})},lr=ur((e,t)=>({type:null,props:void 0,openModal:(n,r)=>{e({type:n,props:r})},closeModal:n=>{const r=t().type;(!n||r===n)&&e({type:null,props:void 0})}}));function jl(){const{data:e,isLoading:t}=Fi(),{data:n,isLoading:r}=wl(),i=t||r;return i||!e||!n?{data:[],isLoading:i}:{data:wW(e,n),isLoading:!1}}function wW(e,t){return e.map(n=>{const r=t.find(s=>s.departmentCode===n.deptCd)?.departmentName||"",i=r?r.split(" ").reverse()[0]:"";return{subjectId:n.subjectId??-1,subjectCode:n.subjectCode??"",classCode:n.classCode??"",departmentName:i,subjectName:n.subjectName??"",language:n.curiLangNm??"",subjectType:n.curiTypeCdNm??"",semester_at:n.studentYear?Number(n.studentYear):-1,lesn_time:n.lesnTime??"",professorName:n.professorName??"",lesn_room:n.lesnRoom??"",tm_num:n.tmNum??""}})}function _W(){return Math.floor(1e3+Math.random()*9e3).toString()}const SW=4;function CW(){const e=N.useRef(null),[t,n]=N.useState(),[r,i]=N.useState(""),s=N.useRef(""),{data:o}=jl(),a=lr(C=>C.openModal),u=lr(C=>C.closeModal),{currentSubjectId:c,setSubjectStatus:f,setCaptchaFailed:p}=jm();function g(){const C=_W();s.current=C,setTimeout(()=>{e.current&&ly(e.current,C)},100)}function v(C){let E=C.target.value;if(/[^0-9]/.test(E)){i("0~9  "),n(E.replace(/[^0-9]/g,""));return}E.length<=SW?(n(E),i("")):i("4  ")}N.useEffect(()=>{setTimeout(()=>{g()},100)},[]);function w(){io({eventType:Bn.CAPTCHA,subjectId:c},o).then(()=>{t?.toString()===s.current?(f(c,qt.PROGRESS),p(!1)):(f(c,qt.PROGRESS),p(!0))}).then(()=>{u(),a("simulation")})}function _(){io({eventType:Bn.CANCEL_SUBMIT,subjectId:c},o).then(()=>{u("captcha"),p(!1),f(c,qt.PROGRESS)})}return h.jsx(zn.Modal,{onClose:()=>{},preventAutoFocus:!0,children:h.jsxs("div",{className:"sm:w-[500px] bg-white rounded shadow",children:[h.jsx(zn.Modal.Header,{title:"  (Arti-marco code input)",onClose:_}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 p-4",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsxs("div",{className:"text-sm font-semibold flex flex-row items-center",children:[h.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "})," ",h.jsx("button",{onClick:g,className:"ml-2 px-2 py-1 bg-blue-500 text-white text-sm rounded-xs cursor-pointer hover:bg-blue-600",children:""})]}),h.jsx("div",{className:"flex items-center mt-1",children:h.jsx("canvas",{id:"captcha",width:"105",height:"50",ref:e})})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"text-sm font-semibold flex flex-row items-center",children:[h.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "}),"  "]}),h.jsx(zn.Input,{value:t,onChange:C=>v(C),className:"mt-2 w-full",placeholder:" ",essential:!0}),h.jsx("span",{className:"pl-1 text-xs text-red-500 ",children:r})]})]}),h.jsx("p",{className:"text-sm text-gray-800 mt-10 p-4",children:"               ."}),h.jsxs(zn.Modal.ButtonContainer,{className:"border-t px-6 py-4 bg-gray-100",children:[h.jsx(zn.Modal.Button,{variant:"cancel",onClick:w,children:""}),h.jsx(zn.Modal.Button,{variant:"cancel",onClick:_,children:""})]})]})})}const kW=e=>N.createElement("svg",{width:50,height:50,viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("circle",{cx:25,cy:25,r:25,fill:"#7890CE"}),N.createElement("path",{d:"M20.2339 29.5078L35.0317 17.4276C35.3809 17.1425 35.7883 17 36.2539 17C36.7196 17 37.127 17.1425 37.4762 17.4276C37.8254 17.7127 38 18.0515 38 18.4439C38 18.8364 37.8254 19.1747 37.4762 19.4588L21.4562 32.5724C21.107 32.8575 20.6995 33 20.2339 33C19.7683 33 19.3609 32.8575 19.0117 32.5724L11.5037 26.4432C11.1545 26.1581 10.9868 25.8198 11.0008 25.4283C11.0148 25.0368 11.1969 24.6981 11.5473 24.412C11.8977 24.126 12.3127 23.9835 12.7923 23.9844C13.2718 23.9854 13.6862 24.1279 14.0354 24.412L20.2339 29.5078Z",fill:"white"})),Q4={simulationId:-1,registeredSubjects:[],nonRegisteredSubjects:[],simulationStatus:"before",clickedTime:0},Di=ur(e=>({currentSimulation:Q4,setCurrentSimulation:t=>e(n=>({currentSimulation:{...n.currentSimulation,...t}})),resetSimulation:()=>e({currentSimulation:Q4})})),jW=[{status:qt.PROGRESS,topMessage:"   ?",description:"(CourseTitle):"},{status:qt.SUCCESS,topMessage:"  .   ?",description:"    []  .         []      . []     ."},{status:qt.FAILED,topMessage:"  !"},{status:qt.DOUBLED,topMessage:"   !"},{status:qt.CAPTCHA_FAILED,topMessage:"   "},{status:qt.NOT_ELIGIBLE,topMessage:"   "}],EW=[qt.PROGRESS,qt.SUCCESS,qt.FAILED,qt.CAPTCHA_FAILED];function TW({reloadSimulationStatus:e}){const t=lr(P=>P.openModal),n=lr(P=>P.closeModal),{currentSubjectId:r,setSubjectStatus:i,subjectStatusMap:s}=jm(),o=Di(P=>P.setCurrentSimulation),{data:a}=jl(),u=s[r],c=jW.find(P=>P.status===u),f=c?.status??qt.PROGRESS,p=[qt.FAILED,qt.DOUBLED,qt.CAPTCHA_FAILED].includes(f),g=EW.includes(f),v=N.useRef(null);if(!c)return null;v.current?.focus();const w=(P,D=!1)=>{if("errMsg"in P)throw alert(P.errMsg),D&&ll().then(()=>{t("result")}),new Error(P.errMsg)},_=P=>{console.error(" :",P),alert(" :"+P.toString())},C=async P=>{const D=await io({eventType:Bn.SUBJECT_SUBMIT,subjectId:P},a);w(D),i(P,D.status),t("simulation")},E=async P=>{const D=await io({eventType:Bn.REFRESH,subjectId:P},a);w(D),e(),D.finished&&(o({simulationStatus:"finish"}),console.log(" "),t("result"))},L=async P=>{try{const D=await io({eventType:Bn.SKIP_REFRESH,subjectId:P},a);"errMsg"in D?(alert(D.errMsg),await ll(),o({simulationStatus:"finish"}),t("result")):D.finished&&(o({simulationStatus:"finish"}),t("result"))}catch(D){console.error(D)}finally{n("simulation")}},A=async()=>{try{c.status===qt.PROGRESS?await C(r):c?.status===qt.SUCCESS?await E(r):p&&await L(r)}catch(P){_(P)}},B=async()=>{try{if(c?.status===qt.SUCCESS){const P=await io({eventType:Bn.SKIP_REFRESH,subjectId:r},a);"errMsg"in P?(alert(P.errMsg),await ll(),o({simulationStatus:"finish"}),t("result")):P.finished?(o({simulationStatus:"finish"}),t("result")):n("simulation")}else if(c?.status===qt.PROGRESS){const P=await io({eventType:Bn.CANCEL_SUBMIT,subjectId:r},a);w(P,!0)}}catch(P){_(P)}},U=()=>{g||n("simulation")};return h.jsx(zn.Modal,{onClose:()=>{},children:h.jsxs("div",{className:"flex sm:w-[450px] border-1 border-gray-800 flex-col justify-between overflow-hidden",children:[h.jsx(zn.Modal.Header,{title:"",onClose:U}),h.jsxs("div",{className:"px-6 pb-6 text-center ",children:[h.jsx("div",{className:"flex justify-center mb-4 py-5",children:h.jsx("div",{className:"w-10 h-10",children:h.jsx(kW,{})})}),h.jsx("p",{className:"text-gray-700 text-base mb-4",children:c.topMessage}),c.description&&h.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:c.description})]}),h.jsxs(zn.Modal.ButtonContainer,{className:"px-6 py-4 bg-gray-100",children:[c.status===qt.PROGRESS||c.status===qt.SUCCESS&&h.jsx(zn.Modal.Button,{variant:"cancel",onClick:B,children:""}),h.jsx(zn.Modal.Button,{variant:"primary",onClick:A,children:""})]})]})})}function NW(e,t,n){var r,i;typeof e=="function"?(r=t||[],i=n):(r=[],i=t);var s=en.useRef({hasResult:!1,result:i,error:null}),o=en.useReducer(function(c){return c+1},0);o[0];var a=o[1],u=en.useMemo(function(){var c=typeof e=="function"?e():e;if(!c||typeof c.subscribe!="function")throw e===c?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!s.current.hasResult&&typeof window<"u"&&(typeof c.hasValue!="function"||c.hasValue()))if(typeof c.getValue=="function")s.current.result=c.getValue(),s.current.hasResult=!0;else{var f=c.subscribe(function(p){s.current.result=p,s.current.hasResult=!0});typeof f=="function"?f():f.unsubscribe()}return c},r);if(en.useDebugValue(s.current.result),en.useEffect(function(){var c=u.subscribe(function(f){var p=s.current;(p.error!==null||p.result!==f)&&(p.error=null,p.result=f,p.hasResult=!0,a())},function(f){var p=s.current;p.error!==f&&(p.error=f,a())});return typeof c=="function"?c:c.unsubscribe.bind(c)},r),s.current.error)throw s.current.error;return s.current.result}function uc(e,t,n){return NW(function(){return OR(e)},[],n)}function V4(){const e=lr(t=>t.closeModal);return h.jsx(zn.Modal,{onClose:()=>e(),children:h.jsxs("div",{className:"p-6 w-80 bg-white rounded shadow",children:[h.jsx("p",{className:"text-sm text-gray-800 mb-4",children:"  ."}),h.jsx("div",{className:"w-full h-4 bg-gray-200 rounded overflow-hidden",children:h.jsx("div",{className:"h-full bg-blue-400 bg-gradient-to-r from-blue-400 to-blue-600 animate-stripes"})})]})})}const ad=1/1e3;async function PW(){return{snapshots:(await He.simulation_run.filter(n=>n.ended_at!==-1).toArray()).sort((n,r)=>r.simulation_run_id-n.simulation_run_id)}}async function OW(e){const t=await FR(e),n=await R7(t.snapshot_id);if(!t||!n)return null;const r=await He.simulation_run_selections.where("simulation_run_id").equals(t.simulation_run_id).toArray(),i=r.map(c=>c.run_selections_id),s=c=>{const f=n.subjects.find(p=>p.interested_id===c);return f?f.subject_id:-1},o=await He.simulation_run_events.filter(c=>i.includes(c.simulation_section_id)).toArray(),a=o.filter(c=>c.event_type===Bn.CAPTCHA),u=r.reduce((c,f)=>{const p=a.find(g=>g.simulation_section_id===f.run_selections_id);return p?.timestamp?c+p.timestamp-f.started_at:c},0)/r.length;return{started_at:t.started_at,ended_at:t.ended_at,user_ability:{searchBtnSpeed:(t.search_event_at-t.started_at)/1e3,totalSpeed:t.total_elapsed/t.subject_count/1e3,accuracy:t.accuracy,captchaSpeed:u/1e3},timeline:r.map(c=>({interested_id:c.interested_id,subject_id:s(c.interested_id),started_at:c.started_at,ended_at:c.ended_at,status:c.status,events:o.filter(f=>f.simulation_section_id===c.run_selections_id).sort((f,p)=>f.timestamp-p.timestamp).map(f=>({event:f.event_type,timestamp:f.timestamp}))})),subject_results:r.sort((c,f)=>f.started_at-c.started_at).reduce((c,f)=>c.some(p=>p.interested_id===f.interested_id)?c:[...c,f],[]).map(c=>({interested_id:c.interested_id,subject_id:s(c.interested_id),selected_index:c.selected_index,ended_at:c.ended_at,status:c.status}))}}async function DS(){const e=await He.simulation_run.filter(C=>C.ended_at!==-1).toArray(),t=e.length;if(t===0)throw new Error("    .");const n=await He.simulation_run_selections.toArray(),r=await Promise.all(e.map(async C=>{const E=await He.simulation_run_selections.filter(D=>D.simulation_run_id===C.simulation_run_id).toArray(),L=E.map(D=>D.run_selections_id),A=await He.simulation_run_events.filter(D=>D.event_type===Bn.CAPTCHA&&L.includes(D.simulation_section_id)).toArray(),B=(C.search_event_at-C.started_at)*ad,U=A.reduce((D,z)=>{const Q=E.find(F=>F.run_selections_id===z.simulation_section_id);return Q?D+(z.timestamp-Q.started_at):D},0)*ad,P=E.reduce((D,z)=>z.ended_at>=0?D+(z.ended_at-z.started_at):D,0)*ad;return{simulationRunId:C.simulation_run_id,accuracy:C.accuracy,subjectCount:C.subject_count,searchBtnTime:B,captchaTime:U+B,subjectTime:P+B,totalTime:C.total_elapsed*ad}})),i=await He.interested_snapshot.filter(C=>C.simulated).last();if(!i)throw new Error("   .");const o=(await He.interested_subject.filter(C=>C.snapshot_id===i.snapshot_id).toArray()).map(C=>{const E=n.filter(Q=>Q.interested_id===C.interested_id),L=E.filter(Q=>Q.status===qt.SUCCESS).length,A=E.filter(Q=>Q.status===qt.FAILED).length,B=E.filter(Q=>Q.status===qt.DOUBLED).length,U=E.length,P=E.reduce((Q,F)=>Q+F.selected_index,0)/U||0,D=E.filter(Q=>Q.ended_at>=0&&Q.started_at>=0).map(Q=>(Q.ended_at-Q.started_at)*ad),z=LW(D);return{subjectId:C.subject_id,successCount:L,failedCount:A,doubledCount:B,totalCount:U,avgCompletionTime:z,avgIndex:P}}),a=new Map;for(const C of n){const E=C.simulation_run_id,L=e.find(D=>D.simulation_run_id===E);if(!L)continue;const A=await R7(L.snapshot_id);if(!A)continue;const B=A.subjects.find(D=>D.interested_id===C.interested_id);if(!B)continue;const U=B.subject_id;a.has(U)||a.set(U,{subject_id:U,success_count:0,total_count:0,completion_time_sum:0});const P=a.get(U);P.total_count++,C.status===1&&(P.success_count++,P.completion_time_sum+=C.ended_at-C.started_at)}const u=Array.from(a.values()).map(C=>({subject_id:C.subject_id,success_count:C.success_count,total_count:C.total_count,success_rate:C.success_count/C.total_count,avg_completion_time:C.success_count>0?C.completion_time_sum/C.success_count/1e3:0})),c=n.reduce((C,E)=>(C[E.status]=(C[E.status]||0)+1,C),{}),f=n.length,p=Object.entries(c).map(([C,E])=>({status:Number(C),count:E,percentage:E/f})),g=e.map(C=>C.simulation_run_id),v=n.filter(C=>g.includes(C.simulation_run_id)).map(C=>C.run_selections_id),w=await He.simulation_run_events.filter(C=>v.includes(C.simulation_section_id)&&C.event_type===Bn.CAPTCHA).toArray();let _=0;for(const C of w){const E=n.find(L=>L.run_selections_id===C.simulation_section_id);E&&(_+=C.timestamp-E.started_at)}return{total_users:t,avg_started_at:e.reduce((C,E)=>C+E.started_at,0)/t,avg_ended_at:e.reduce((C,E)=>C+E.ended_at,0)/t,avg_elapsed_time:e.reduce((C,E)=>C+(E.ended_at-E.started_at),0)/t/1e3,subject_success_rate:u,status_distribution:p,simulations:r,subjects:o}}function LW(e){return e.length===0?0:e.reduce((t,n)=>t+n,0)/e.length}function AW({simulationId:e}){const t=lr(_=>_.openModal),n=lr(_=>_.closeModal),[r,i]=N.useState(null),[s,o]=N.useState(),a=uc(async()=>{try{return await DS()}catch(_){return{error:_.message}}});if(a&&"error"in a)return h.jsx("div",{className:"flex flex-col w-full items-center justify-center h-120 gap-3"});const{simulations:u}=a||{simulations:[]},c=a?{user_ability:{searchBtnSpeed:u.reduce((_,C)=>_+C.searchBtnTime,0)/u.length||0,totalSpeed:u.reduce((_,C)=>_+C.totalTime/C.subjectCount,0)/u.length||0,accuracy:u.reduce((_,C)=>_+C.accuracy,0)/u.length||0,captchaSpeed:u.reduce((_,C)=>_+(C.captchaTime-C.searchBtnTime)/C.subjectCount,0)/u.length||0}}:void 0;if(N.useEffect(()=>{async function _(){zR({simulationId:e}).then(C=>{"errMsg"in C?C.errMsg===I7.SIMULATION_NOT_FOUND?n():alert(C.errMsg):(i(C),o(e))})}_().then()},[]),!r)return h.jsx(V4,{});const{accuracy:f,score:p,total_elapsed:g}=r,v=p>=70,w=c?.user_ability?.searchBtnSpeed??0;return!c||!a?h.jsx(V4,{}):h.jsxs(ca,{onClose:()=>n(),children:[h.jsxs("div",{className:"w-full max-w-md bg-white rounded-xl shadow-xl p-6 relative overflow-hidden",children:[v&&h.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[h.jsx("div",{className:"animate-float1 absolute top-6 left-6 w-3 h-3 bg-red-400 rounded-full"}),h.jsx("div",{className:"animate-float2 absolute top-16 right-10 w-2 h-2 bg-yellow-400 rounded-full"}),h.jsx("div",{className:"animate-float3 absolute bottom-20 left-12 w-2.5 h-2.5 bg-blue-400 rounded-full"}),h.jsx("div",{className:"animate-float4 absolute bottom-10 right-6 w-3 h-3 bg-pink-400 rounded-full"}),h.jsx("div",{className:"animate-float5 absolute top-1/2 left-1/2 w-2 h-2 bg-purple-400 rounded-full"})]}),h.jsxs("div",{className:"relative z-10 text-center",children:[h.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[" ",h.jsx("span",{className:v?"text-blue-600":"text-red-500",children:v?" !":" "})]}),h.jsxs("span",{className:"text-sm text-gray-700 mt-1",children:[" ",v?" ":" ",""]}),h.jsxs("div",{className:"flex flex-col justify-center items-center",children:[h.jsx("div",{className:"m-2 flex justify-center",children:v?h.jsx("img",{src:"/ci.svg",alt:" ",className:"w-20 h-20"}):h.jsx("span",{className:"text-[50px]",children:""})}),h.jsxs("div",{className:"flex flex-row justify-center gap-6 mt-6",children:[h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("p",{className:"text-sm text-gray-800 mb-1",children:""}),h.jsxs("p",{className:"text-xl text-blue-500 font-bold whitespace-nowrap",children:[p.toFixed(1),h.jsx("span",{className:"text-gray-600",children:""})]})]}),h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("p",{className:"text-sm text-gray-800 mb-1",children:" "}),h.jsxs("p",{className:"text-xl text-gray-600 font-bold whitespace-nowrap",children:[(g/1e3).toFixed(0),""]})]})]}),h.jsxs("div",{className:"flex flex-row justify-center gap-6 mt-6",children:[h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("p",{className:"text-sm text-gray-800 mb-1",children:"    "}),h.jsxs("p",{className:"text-xl text-blue-500 font-bold whitespace-nowrap",children:[c?.user_ability.captchaSpeed.toFixed(2),h.jsx("span",{className:"text-gray-600",children:""})]})]}),h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("p",{className:"text-sm text-gray-800 mb-1",children:"    "}),h.jsxs("p",{className:"text-xl text-blue-500 font-bold whitespace-nowrap",children:[w<=0?0:w.toFixed(2),h.jsx("span",{className:"text-gray-600",children:""})]})]})]})]}),h.jsx("div",{className:"text-left text-sm text-gray-800 mt-4 mb-1",children:""}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-full h-3 bg-gray-200 rounded-full overflow-hidden",children:h.jsx("div",{className:"h-3 bg-indigo-400 rounded-full transition-all duration-300",style:{width:`${f}%`}})}),h.jsxs("p",{className:"text-xl text-gray-600 font-bold whitespace-nowrap",children:[f,"%"]})]}),h.jsxs("div",{className:"flex justify-center gap-3 mt-6",children:[h.jsx("button",{className:"px-4 py-2 border border-gray-400 text-gray-800 rounded-md hover:bg-gray-100 text-sm",onClick:()=>{n(),t("wish")},children:" "}),h.jsx(xl,{to:`/simulation/logs/${s}`,end:!1,className:"px-4 py-2  bg-blue-500 text-white rounded-md hover:bg-blue-600 text-sm",onClick:()=>{n()},children:"   "})]})]})]}),h.jsx("style",{children:`
        @keyframes float1 {
          0% { transform: translateY(0); }
          50% { transform: translateY(-8px); }
          100% { transform: translateY(0); }
        }
        @keyframes float2 {
          0% { transform: translateY(0); }
          50% { transform: translateY(6px); }
          100% { transform: translateY(0); }
        }
        @keyframes float3 {
          0% { transform: translateY(0); }
          50% { transform: translateY(-6px); }
          100% { transform: translateY(0); }
        }
        @keyframes float4 {
          0% { transform: translateY(0); }
          50% { transform: translateY(4px); }
          100% { transform: translateY(0); }
        }
        @keyframes float5 {
          0% { transform: translateY(0); }
          50% { transform: translateY(-5px); }
          100% { transform: translateY(0); }
        }

        .animate-float1 { animation: float1 3s ease-in-out infinite; }
        .animate-float2 { animation: float2 4s ease-in-out infinite; }
        .animate-float3 { animation: float3 2.5s ease-in-out infinite; }
        .animate-float4 { animation: float4 3.5s ease-in-out infinite; }
        .animate-float5 { animation: float5 3s ease-in-out infinite; }
      `})]})}const MW=e=>N.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M8 16.3438C9.45833 16.3229 10.7917 15.9688 12 15.2812C13.2083 14.5729 14.1875 13.5938 14.9375 12.3438C15.6458 11.0729 16 9.73958 16 8.34375C16 6.94788 15.6458 5.61455 14.9375 4.34375C14.1875 3.09375 13.2083 2.11458 12 1.40625C10.7917 0.718717 9.45833 0.36455 8 0.34375C6.54167 0.36455 5.20833 0.718717 4 1.40625C2.79167 2.11458 1.8125 3.09375 1.0625 4.34375C0.354167 5.61455 0 6.94788 0 8.34375C0 9.73958 0.354167 11.0729 1.0625 12.3438C1.8125 13.5938 2.79167 14.5729 4 15.2812C5.20833 15.9688 6.54167 16.3229 8 16.3438ZM11.5312 6.875L7.53125 10.875C7.17708 11.1667 6.82292 11.1667 6.46875 10.875L4.46875 8.875C4.17708 8.52083 4.17708 8.16667 4.46875 7.8125C4.82292 7.52083 5.17708 7.52083 5.53125 7.8125L7 9.28125L10.4688 5.81256C10.8229 5.52083 11.1771 5.52083 11.5312 5.81256C11.8229 6.16669 11.8229 6.52083 11.5312 6.875Z",fill:"#22C55E"}));function RW(){return h.jsxs("div",{className:"mt-6 text-sm text-gray-800 space-y-2",children:[h.jsxs("h2",{className:"text-left font-semibold mb-4",children:[" ",h.jsx("span",{className:"text-blue-500",children:"Tip!"})]}),["      .","    .","       !","    ."].map((e,t)=>h.jsxs("div",{className:"flex items-center sm:text-sm text-xs ",children:[h.jsx("span",{className:"text-blue-500 mr-2",children:h.jsx(MW,{})}),h.jsx("span",{className:t===0?"font-semibold text-blue-500 animate-bounce":"",children:e})]},t))]})}function IW({department:e,setDepartment:t}){const{data:n}=wl();function r(i){const s=i.target.value,o=n?.find(a=>a.departmentCode===s)?.departmentName??"";t({departmentName:o,departmentCode:s})}return N.useEffect(()=>{if(!n)return;const s=Y7().filter(([u])=>u!=="9005");if(s.length<=0)return;const o=s[0][0],a=n.find(u=>u.departmentCode===o)?.departmentName??"";t({departmentName:a,departmentCode:o})},[n]),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("h2",{className:"text-left font-semibold text-sm sm:text-md",children:" "}),h.jsx(Am,{className:"cursor-pointer rounded-sm px-2 py-1 w-50 sm:w-120 bg-white mb-4",value:e.departmentCode,onChange:r})]})}function DW({selectedTimetable:e,onSelect:t,timetables:n}){const r=N.useRef(null),i=n.map(s=>({value:s.timeTableId,label:s.timeTableName}));return h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("h2",{className:"text-left font-semibold text-sm sm:text-md",children:" ."}),h.jsxs("div",{className:"relative inline-block max-w-sm",ref:r,children:[h.jsx(oc,{label:e.timeTableName,selected:e.timeTableId!==null,className:"min-w-max",children:i.map(s=>h.jsx(kd,{label:s.label,selected:e.timeTableId===s.value,onClick:()=>t(s.value)},s.value))}),h.jsx(Ir,{to:"/timetable",className:"px-6 py-2 hover:text-blue-500 text-gray-500 rounded-md",children:"  "})]})]})}const FW=5;function Fy(e,t){const n=new Set,r=[];for(const i of[...e].sort(()=>Math.random()-.5)){if(n.size>=t)break;n.has(i.subjectCode)||(n.add(i.subjectCode),r.push(i))}return r}function FS(e){const t=e.split(" ");return t.findIndex(r=>r.includes(""))!==-1?t.slice(1).join(" ").trim():e}function BS(e,t){const n=r=>r.replace(/(||)$/,"");return n(e)===n(t)}function BW(e){return FW-e+1}const zW=(e,t)=>{if(t==="")return zS(e);const n=FS(t),r=e.filter(f=>BS(f.departmentName,n)),i=e.filter(f=>f.departmentName===""),s=r.filter(f=>f.professorName!==null&&f.lesn_time!==null),o=Fy(s,3),a=i.filter(f=>f.professorName!==null&&f.lesn_time!==null),u=Fy(a,BW(o.length+1)),c=[...o,...u];for(let f=c.length-1;f>0;f--){const p=Math.floor(Math.random()*(f+1));[c[f],c[p]]=[c[p],c[f]]}return c},By=(e,t)=>e.find(n=>t===n.subjectId),zS=e=>Fy(e,5),$W=(e,t)=>{const n=FS(t);if(n==="")return zS(e);const r=e.filter(c=>BS(c.departmentName,n)),i=e.filter(c=>c.departmentName===""),s=c=>{const f=new Set;return c.filter(p=>f.has(p.subjectCode)?!1:(f.add(p.subjectCode),!0))},o=s(r).slice(0,3),a=5-o.length,u=s(i).slice(0,a);return[...o,...u]},UW=e=>{let t=0;const n=[];for(const r of e){const i=Number(r.tm_num.split("/")[0])||0;if(t+i>24)break;t+=i,n.push(r)}return n},HW=e=>N.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M3.578 6.48696C4.55072 4.80817 6.1004 3.5401 7.93848 2.91885C9.77657 2.29761 11.7778 2.36554 13.5695 3.10999C15.3613 3.85444 16.8214 5.22467 17.678 6.96555C18.5347 8.70644 18.7294 10.6993 18.2261 12.5731C17.7227 14.4469 16.5556 16.0739 14.9419 17.1512C13.3282 18.2285 11.378 18.6826 9.45441 18.4291C7.53082 18.1755 5.76494 17.2315 4.48557 15.7728C3.20621 14.3141 2.50055 12.4402 2.5 10.5",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"}),N.createElement("path",{d:"M7.5 6.5H3.5V2.5",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"}));function QW({subjects:e,handleRemakeSubjects:t,isLoadingLectures:n}){const r=e?.reduce((i,s)=>{if(!s.tm_num)return i;const o=s?.tm_num.split("/")[0]??"0",a=Number(o)||0;return i+a},0);return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex flex-row justify-between items-center mb-4 w-full overflow-auto h-10",children:[h.jsx("h2",{className:"text-left font-semibold",children:" "}),t&&h.jsxs("button",{onClick:t,className:"flex hover:font-bold hover:text-blue-500 items-center gap-2 cursor-pointer",children:[" ",h.jsx(HW,{})]}),h.jsxs("p",{children:["  : ",h.jsx("span",{className:"text-blue-500",children:r}),""]})]}),h.jsx("div",{className:"max-h-[250px] max-w-[350px] overflow-x-auto overflow-y-auto sm:max-w-full",children:h.jsxs("table",{className:"min-w-full sm:text-sm text-xs text-left whitespace-nowrap border-t border-b border-gray-200",children:[h.jsx("thead",{className:"bg-gray-100 text-gray-700",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""})]})}),h.jsx("tbody",{children:n?h.jsx(Nm,{col:5,row:8}):e?.map((i,s)=>h.jsxs("tr",{className:"border border-gray-200",children:[h.jsx("td",{className:"px-4 py-2",children:i?.subjectCode??""}),h.jsx("td",{className:"px-4 py-2",children:i?.classCode??""}),h.jsx("td",{className:"px-4 py-2",children:i?.departmentName??""}),h.jsx("td",{className:"px-4 py-2",children:i?.subjectName??""}),h.jsx("td",{className:"px-4 py-2",children:i?.professorName??""})]},i?.subjectId??s))})]})})]})}const VW=({simulationSubjects:e,handleStartGame:t,setToggleTip:n})=>h.jsxs("div",{className:"flex justify-end gap-2 px-2 pb-2 sm:px-6 sm:pb-6",children:[h.jsx(pl,{variants:"primary",onClick:()=>n(!0),className:"font-semibold disabled:bg-gray-300 disabled:cursor-not-allowed",children:" "}),h.jsx(pl,{variants:"primary",onClick:t,disabled:e.length===0,className:"font-semibold disabled:bg-gray-300 disabled:cursor-not-allowed",children:""})]}),qW={departmentCode:"",departmentName:""};function WW({timetables:e,setIsModalOpen:t}){const n=Di(F=>F.setCurrentSimulation),r=lr(F=>F.closeModal),{data:i,isLoading:s}=jl(),o=xt(F=>F.currentTimetable),a=xt(F=>F.pickTimetable),[u,c]=N.useState([]),[f,p]=N.useState({...qW}),[g,v]=N.useState(o??{timeTableId:-1,timeTableName:"  ",semester:"2025-2"}),[w,_]=N.useState("timetable"),[C,E]=N.useState(!1),{data:L,isLoading:A}=fm(g?.timeTableId),B=uc(M7),U=()=>{c(zW(i,f.departmentName))},P=async()=>{if(u.length===0){alert("  .    .");return}try{r(),w!=="previous"&&await AR(u.map(le=>le.subjectId));const F=await BR("",f.departmentCode,f.departmentName);if("simulationId"in F&&"isRunning"in F&&F.simulationId!==-1&&F.isRunning!==void 0){const{simulationId:le,isRunning:ue}=F;n({simulationId:le,simulationStatus:ue?"start":"before"})}else console.error("    ",F)}catch(F){console.error("    :",F)}},D=F=>{const oe=e.find(le=>le.timeTableId===F)??{timeTableId:-1,timeTableName:"  ",semester:"2025-2"};if(!oe){console.error("    :",F);return}v(oe),a(oe)},z=F=>{c([]),_(F)},Q=F=>i.find(oe=>oe.subjectId===F);return N.useEffect(()=>{if(A||w!=="timetable"||!L||L.length===0)return;const oe=L.filter(ue=>ue.scheduleType!=="custom").map(ue=>Q(ue.subjectId??0)).filter(ue=>!!ue),le=UW(oe);c(le)},[w,L,A,g]),N.useEffect(()=>{w==="random"&&c($W(i,f.departmentName))},[w,f]),N.useEffect(()=>{if(w!=="previous"||!B||B.snapshot_id<0||s)return;const oe=B.subjects.map(le=>le.subject_id).map(le=>Q(le)).filter(le=>!!le);c(oe)},[w,B,s]),N.useEffect(()=>{B&&B.snapshot_id>=0?_("previous"):e.length>0?_("timetable"):_("random")},[B,e]),h.jsx(ca,{onClose:()=>t(!1),children:h.jsxs("div",{className:"flex flex-col w-full overflow-y-auto max-h-[90vh] max-w-[900px] sm:min-w-[600px]",children:[h.jsx(zn.Modal.Header,{title:"   ?",onClose:()=>t(!1)}),h.jsxs("div",{className:"flex flex-col gap-2 p-2 sm:p-6",children:[h.jsx("h2",{className:"text-left font-semibold text-sm sm:text-md",children:"  ?"}),h.jsxs("div",{className:"flex gap-2 py-2",children:[B&&h.jsx(sr,{label:" ",selected:w==="previous",onClick:()=>z("previous")}),h.jsx(sr,{label:" ",selected:w==="timetable",onClick:()=>z("timetable")}),h.jsx(sr,{label:" ",selected:w==="random",onClick:()=>z("random")})]}),w==="timetable"&&h.jsx(DW,{timetables:e,selectedTimetable:g,onSelect:D}),w==="random"&&h.jsx(IW,{department:f,setDepartment:p}),h.jsx(QW,{isLoadingLectures:s,subjects:u,handleRemakeSubjects:w==="random"?U:void 0}),C&&h.jsx(RW,{})]}),h.jsx(VW,{simulationSubjects:u,handleStartGame:P,setToggleTip:E})]})})}function KW(e,t,n,r,i,s){const o=Math.floor((e+t)/n);let a=r,u=0;for(let c=0;c<=o;c++){const f=c*n;let p=i,g=s;f>4&&(p=48,g=33),a+=p,u+=g}return Math.max(Math.round(a-u),0)}function GW(){const[e,t]=N.useState(0),[n,r]=N.useState(0),[i,s]=N.useState(1),[o,a]=N.useState(0),u=N.useRef(null),c=lr(C=>C.closeModal),f=Di(C=>C.currentSimulation),p=Di(C=>C.setCurrentSimulation),g=.2,v=98,w=79;N.useEffect(()=>{let C=Math.floor(f.clickedTime/.2)*100+124;const E=C/w*g;for(let L=0;L<=Math.floor(f.clickedTime/g);L++)C+=L*v;r(C),t(Math.ceil(E))},[]),N.useEffect(()=>(u.current=setInterval(()=>{a(E=>{const L=E+1,A=KW(L,f.clickedTime,g,i,v,w);return s(A),L});const C=Math.floor((e+f.clickedTime)/.2)*w;n<0?r(0):r(E=>E-C),t(E=>{const L=Math.max(E-1,0);return L===0&&u.current&&(clearInterval(u.current),c()),L})},1e3),()=>{u.current&&clearInterval(u.current)}),[e]);const _=()=>{p({simulationStatus:"before"}),c()};return h.jsx(zn.Modal,{onClose:()=>{},children:h.jsxs("div",{className:"sm:w-full max-w-md bg-white rounded-sm shadow-xl p-6 text-center space-y-6",children:[h.jsxs("h2",{className:"text-lg md:text-xl font-semibold text-gray-800",children:[" ",h.jsx("span",{className:"text-blue-600 font-bold",children:" "}),"."]}),h.jsxs("div",{className:"text-sm md:text-base text-gray-600",children:[": ",h.jsx("span",{className:"text-blue-600 font-bold text-xl",children:e}),""]}),h.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:h.jsx("div",{className:"h-full bg-blue-500 transition-all duration-300",style:{width:`${o/(e+o)*100}%`}})}),h.jsxs("div",{className:"text-gray-700 text-sm md:text-base leading-relaxed",children:["  ",h.jsx("span",{className:"text-green-600 font-bold text-xl",children:n<0?0:n}),",  ",h.jsx("span",{className:"text-green-600 font-bold text-xl",children:i}),"  . ",h.jsx("br",{}),"     ,      ."]}),h.jsxs("button",{className:"inline-flex items-center justify-center border-2 border-gray-400 text-gray-800 px-2 py-1 hover:bg-gray-100",onClick:_,children:[h.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),""]}),h.jsx("p",{className:"text-xs md:text-sm text-gray-500",children:"    ."})]})})}function nm(){return h.jsx("tbody",{children:h.jsx("tr",{children:h.jsx("td",{colSpan:13,className:"text-gray-500 py-4",children:h.jsx("div",{className:"min-h-[160px] flex items-center justify-center ",children:h.jsx("p",{className:"bg-stone-100 px-15 py-1 border",children:"  ."})})})})})}const YW=({index:e,subject:t,isRegisteredTable:n,onClickSubject:r})=>h.jsxs("tr",{className:"hover:bg-gray-50 text-nowrap",children:[h.jsx("td",{className:"border bg-blue-100 px-2 py-1 border-gray-200",children:e+1}),h.jsx("td",{className:"border py-1 border-gray-200",children:h.jsx("button",{className:"bg-blue-500 cursor-pointer text-white text-xs px-3 py-0.5 rounded-xs",disabled:!!n,onClick:()=>r(t.subjectId),children:n?"":""})}),h.jsx("td",{className:"border px-2 py-1 border-gray-200",children:t.subjectCode}),h.jsx("td",{className:"border px-2 py-1 border-gray-200",children:t.classCode}),h.jsx("td",{className:"border px-2 py-1 border-gray-200 text-left",children:t.departmentName}),h.jsx("td",{className:"border px-2 py-1 border-gray-200 text-left",children:t.subjectName}),h.jsx("td",{className:"border px-2 py-1 border-gray-200",children:h.jsx("button",{className:"bg-gray-700 text-xs text-white rounded-xs px-2 py-0.5",children:""})}),h.jsx("td",{className:"border py-1 border-gray-200",children:t.language||"-"}),h.jsx("td",{className:"border  py-1 border-gray-200",children:t.tm_num?t.tm_num.split("/").map((i,s)=>s===0?parseFloat(i).toFixed(1):i).join("/"):"-"}),h.jsx("td",{className:"border px-2 py-1 border-gray-200",children:t.subjectType}),h.jsx("td",{className:"border px-2 py-1 border-gray-200",children:t.semester_at===-1?"":t.semester_at}),h.jsx("td",{className:"border px-2 py-1 border-gray-200",children:t.lesn_time||"-"}),h.jsx("td",{className:"border py-1 border-gray-200",children:h.jsx("button",{className:"bg-gray-700 text-white text-xs px-2 py-0.5 rounded-xs",children:""})})]}),q4=({isRegisteredTable:e})=>{const t=Di(a=>a.currentSimulation),n=lr(a=>a.openModal),r=jm(a=>a.setCurrentSubjectId),{data:i}=jl(),s=a=>{io({eventType:Bn.APPLY,subjectId:a},i).then(u=>{"errMsg"in u&&alert(u.errMsg)}).catch(u=>{console.error(" :",u)}),r(a),n("captcha")},o=e?t.registeredSubjects:t.nonRegisteredSubjects;return o.length>0?o.map((a,u)=>h.jsx("tbody",{className:"min-h-[300px] border-gray-100",children:h.jsx(YW,{index:u,subject:a,isRegisteredTable:e,onClickSubject:s})},a.subjectId)):h.jsx(nm,{})};function $S(){const e=Di(o=>o.setCurrentSimulation),t=Di(o=>o.currentSimulation),n=lr(o=>o.openModal),{data:r}=jl(),i=(o,a,u)=>{const c=o.map(f=>By(r,f.subjectId)).filter(f=>f!==void 0);e({simulationId:u,[a]:c}),t.simulationStatus==="progress"&&n("waiting")};return{reloadSimulationStatus:()=>{MR().then(o=>{!o||o.simulationId===-1||(e({simulationId:o.simulationId}),o?.nonRegisteredSubjects&&i(o.nonRegisteredSubjects,"nonRegisteredSubjects",o.simulationId),o?.registeredSubjects&&i(o.registeredSubjects,"registeredSubjects",o.simulationId))}).catch(o=>{console.log(o)})}}}const XW=e=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M9.5 16C7.68333 16 6.146 15.3707 4.888 14.112C3.63 12.8533 3.00067 11.316 3 9.5C2.99933 7.684 3.62867 6.14667 4.888 4.888C6.14733 3.62933 7.68467 3 9.5 3C11.3153 3 12.853 3.62933 14.113 4.888C15.373 6.14667 16.002 7.684 16 9.5C16 10.2333 15.8833 10.925 15.65 11.575C15.4167 12.225 15.1 12.8 14.7 13.3L20.3 18.9C20.4833 19.0833 20.575 19.3167 20.575 19.6C20.575 19.8833 20.4833 20.1167 20.3 20.3C20.1167 20.4833 19.8833 20.575 19.6 20.575C19.3167 20.575 19.0833 20.4833 18.9 20.3L13.3 14.7C12.8 15.1 12.225 15.4167 11.575 15.65C10.925 15.8833 10.2333 16 9.5 16ZM9.5 14C10.75 14 11.8127 13.5627 12.688 12.688C13.5633 11.8133 14.0007 10.7507 14 9.5C13.9993 8.24933 13.562 7.187 12.688 6.313C11.814 5.439 10.7513 5.00133 9.5 5C8.24867 4.99867 7.18633 5.43633 6.313 6.313C5.43967 7.18967 5.002 8.252 5 9.5C4.998 10.748 5.43567 11.8107 6.313 12.688C7.19033 13.5653 8.25267 14.0027 9.5 14Z",fill:"white"}));function JW(){const{setCurrentSimulation:e,currentSimulation:t,resetSimulation:n}=Di(),r=lr(w=>w.openModal),i=uc(Hd),{reloadSimulationStatus:s}=$S(),{data:o}=jl(),u=(i&&"simulationId"in i?i.simulationId:-1)!==-1,c=i&&"userStatus"in i?i.userStatus?.departmentName:-1,f=()=>{e({simulationStatus:"before"}),r("tutorial"),n()},p=()=>{Hd().then(w=>{w&&"simulationId"in w&&w.simulationId!==-1&&s()})},g=async()=>{p(),io({eventType:Bn.SEARCH},o).then(w=>{if("errMsg"in w)alert("  .    !");else{const _=w.elapsed_time/1e3;e({simulationStatus:"progress",clickedTime:_>10?5:_}),r("waiting")}}).catch(w=>{console.error(" :",w)})},v=async()=>{try{await ll(),e({simulationStatus:"finish"}),r("result")}catch(w){console.error(w),alert("  .")}};return h.jsx("section",{className:"border p-2 text-xs",children:h.jsxs("div",{className:"flex flex-col gap-1 sm:gap-2",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 sm:gap-8",children:[h.jsx("div",{className:"flex justify-end items-center sm:justify-start gap-2",children:h.jsx(Eu,{id:"organization-type",label:" ",className:"w-48",disabled:!0,children:h.jsx("option",{})})}),h.jsx("div",{className:"flex justify-end items-center sm:justify-start gap-2",children:h.jsx(Eu,{id:"semester-type",label:"/",className:"w-48",disabled:!0,children:h.jsx("option",{})})})]}),h.jsx("div",{className:"flex flex-col justify-between sm:flex-row gap-1 sm:gap-8",children:h.jsxs("div",{className:"flex flex-col sm:items-end sm:flex-row gap-2 ",children:[h.jsx("div",{className:"flex items-center justify-end sm:justify-start gap-2",children:h.jsx(Eu,{id:"my-major-department",label:"()",className:"w-48",disabled:!0,children:h.jsx("option",{children:""})})}),h.jsx("div",{className:"flex items-center justify-end sm:justify-start gap-2",children:h.jsx(Eu,{id:"my-sub-department",label:"()",className:"w-48",disabled:!0,children:h.jsx("option",{children:""})})})]})}),h.jsxs("div",{className:"flex flex-col sm:flex-col md:flex-row justify-between gap-2",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[h.jsx("div",{className:"flex justify-end items-center sm:justify-start gap-2",children:h.jsx(Eu,{id:"search-division",label:"",className:"w-48",disabled:!0,children:h.jsx("option",{children:""})})}),h.jsxs("div",{className:"flex justify-end items-center sm:justify-start gap-1",children:[h.jsx("label",{htmlFor:"search-major",className:"font-bold",children:""}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-1",children:[h.jsx(zn.Select,{id:"search-major",className:"w-48 sm:w-30",disabled:!0,children:h.jsx("option",{children:""})}),h.jsx(Eu,{id:"search-department",label:" ",className:"w-40 lg:w-90",value:c,disabled:!0,hideLabel:!0})]})]})]}),h.jsxs("div",{className:"flex flex-row justify-between gap-2",children:[h.jsx("div",{className:"flex flex-row ",children:u?h.jsx(zn.Button,{variant:"cancel",onClick:v,children:" "}):h.jsx(zn.Button,{variant:"primary",onClick:f,children:""})}),h.jsxs("button",{onClick:g,className:`relative px-3 py-2 rounded flex flex-row items-center gap-1 text-white ${u?"bg-gradient-animation cursor-pointer":"bg-gray-400 cursor-not-allowed"}`,disabled:!u,children:[t.simulationStatus==="start"&&h.jsx(a_,{className:"absolute -top-20 right-8 w-15 h-15 animate-bounce rotate-170"}),h.jsx(XW,{className:"w-5 h-4"}),""]})]})]})]})})}function Eu({label:e,hideLabel:t=!1,children:n,id:r,className:i,...s}){const o=r||"muted-select-"+e;return h.jsxs(h.Fragment,{children:[h.jsx("label",{htmlFor:o,className:t?"hidden":"font-bold",children:e}),h.jsx(zn.Select,{id:o,...s,className:i,children:n})]})}function ZW(){const[e,t]=N.useState("00:00"),n=lr(u=>u.openModal),r=Di(u=>u.currentSimulation),i=Di(u=>u.setCurrentSimulation),s=N.useRef(null),o=u=>{const c=Math.floor(u%3600/60),f=u%60;t(`${c.toString().padStart(2,"0")}:${f.toString().padStart(2,"0")}`)},a=async()=>{try{await ll(),i({simulationStatus:"finish"}),n("result")}catch(u){console.error(u),alert("   .")}};return N.useEffect(()=>((async()=>{if(r.simulationStatus==="finish"){t("00:00");return}try{const c=await Em();if(!(c?.started_at&&c.simulation_run_id===r.simulationId))return;const p=c.started_at;s.current=setInterval(()=>{const g=Date.now(),v=Math.floor((g-p)/1e3);if(v>=$x){clearInterval(s.current),alert("5    ."),a().then();return}o(v),r.simulationStatus==="finish"&&(clearInterval(s.current),t("00:00"))},1e3)}catch(c){console.error(c)}})().then(),()=>{s.current&&(clearInterval(s.current),s.current=null)}),[r.simulationStatus,r.simulationId]),h.jsx("p",{className:"font-semibold text-xl text-blue-500",children:e})}var j1,W4;function eK(){return W4||(W4=1,j1=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}),j1}var tK=eK();const nK=xi(tK);var ip={exports:{}},E1,K4;function rK(){if(K4)return E1;K4=1;var e;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/return e=function(){var t={},n={};return t.on=function(r,i){var s={name:r,handler:i};return n[r]=n[r]||[],n[r].unshift(s),s},t.off=function(r){var i=n[r.name].indexOf(r);i!==-1&&n[r.name].splice(i,1)},t.trigger=function(r,i){var s=n[r],o;if(s)for(o=s.length;o--;)s[o].handler(i)},t},E1=e,E1}var sp={exports:{}},T1,G4;function iK(){if(G4)return T1;G4=1,T1=function(i,s,o){var a=document.head||document.getElementsByTagName("head")[0],u=document.createElement("script");typeof s=="function"&&(o=s,s={}),s=s||{},o=o||function(){},u.type=s.type||"text/javascript",u.charset=s.charset||"utf8",u.async="async"in s?!!s.async:!0,u.src=i,s.attrs&&e(u,s.attrs),s.text&&(u.text=""+s.text);var c="onload"in u?t:n;c(u,o),u.onload||t(u,o),a.appendChild(u)};function e(r,i){for(var s in i)r.setAttribute(s,i[s])}function t(r,i){r.onload=function(){this.onerror=this.onload=null,i(null,r)},r.onerror=function(){this.onerror=this.onload=null,i(new Error("Failed to load "+this.src),r)}}function n(r,i){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,i(null,r))}}return T1}var Y4;function sK(){return Y4||(Y4=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=iK(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default=function(s){var o=new Promise(function(a){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){a(window.YT);return}else{var u=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(u+"//www.youtube.com/iframe_api",function(f){f&&s.trigger("error",f)})}var c=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){c&&c(),a(window.YT)}});return o},e.exports=t.default}(sp,sp.exports)),sp.exports}var op={exports:{}},ap={exports:{}},lp={exports:{}},N1,X4;function oK(){if(X4)return N1;X4=1;var e=1e3,t=e*60,n=t*60,r=n*24,i=r*365.25;N1=function(c,f){f=f||{};var p=typeof c;if(p==="string"&&c.length>0)return s(c);if(p==="number"&&isNaN(c)===!1)return f.long?a(c):o(c);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))};function s(c){if(c=String(c),!(c.length>100)){var f=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(c);if(f){var p=parseFloat(f[1]),g=(f[2]||"ms").toLowerCase();switch(g){case"years":case"year":case"yrs":case"yr":case"y":return p*i;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function o(c){return c>=r?Math.round(c/r)+"d":c>=n?Math.round(c/n)+"h":c>=t?Math.round(c/t)+"m":c>=e?Math.round(c/e)+"s":c+"ms"}function a(c){return u(c,r,"day")||u(c,n,"hour")||u(c,t,"minute")||u(c,e,"second")||c+" ms"}function u(c,f,p){if(!(c<f))return c<f*1.5?Math.floor(c/f)+" "+p:Math.ceil(c/f)+" "+p+"s"}return N1}var J4;function aK(){return J4||(J4=1,function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=u,t.disable=o,t.enable=s,t.enabled=a,t.humanize=oK(),t.names=[],t.skips=[],t.formatters={};var n;function r(c){var f=0,p;for(p in c)f=(f<<5)-f+c.charCodeAt(p),f|=0;return t.colors[Math.abs(f)%t.colors.length]}function i(c){function f(){if(f.enabled){var p=f,g=+new Date,v=g-(n||g);p.diff=v,p.prev=n,p.curr=g,n=g;for(var w=new Array(arguments.length),_=0;_<w.length;_++)w[_]=arguments[_];w[0]=t.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");var C=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,function(L,A){if(L==="%%")return L;C++;var B=t.formatters[A];if(typeof B=="function"){var U=w[C];L=B.call(p,U),w.splice(C,1),C--}return L}),t.formatArgs.call(p,w);var E=f.log||t.log||console.log.bind(console);E.apply(p,w)}}return f.namespace=c,f.enabled=t.enabled(c),f.useColors=t.useColors(),f.color=r(c),typeof t.init=="function"&&t.init(f),f}function s(c){t.save(c),t.names=[],t.skips=[];for(var f=(typeof c=="string"?c:"").split(/[\s,]+/),p=f.length,g=0;g<p;g++)f[g]&&(c=f[g].replace(/\*/g,".*?"),c[0]==="-"?t.skips.push(new RegExp("^"+c.substr(1)+"$")):t.names.push(new RegExp("^"+c+"$")))}function o(){t.enable("")}function a(c){var f,p;for(f=0,p=t.skips.length;f<p;f++)if(t.skips[f].test(c))return!1;for(f=0,p=t.names.length;f<p;f++)if(t.names[f].test(c))return!0;return!1}function u(c){return c instanceof Error?c.stack||c.message:c}}(lp,lp.exports)),lp.exports}var Z4;function lK(){return Z4||(Z4=1,function(e,t){var n={};t=e.exports=aK(),t.log=s,t.formatArgs=i,t.save=o,t.load=a,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:u(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(c){try{return JSON.stringify(c)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}};function i(c){var f=this.useColors;if(c[0]=(f?"%c":"")+this.namespace+(f?" %c":" ")+c[0]+(f?"%c ":" ")+"+"+t.humanize(this.diff),!!f){var p="color: "+this.color;c.splice(1,0,p,"color: inherit");var g=0,v=0;c[0].replace(/%[a-zA-Z%]/g,function(w){w!=="%%"&&(g++,w==="%c"&&(v=g))}),c.splice(v,0,p)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(c){try{c==null?t.storage.removeItem("debug"):t.storage.debug=c}catch{}}function a(){var c;try{c=t.storage.debug}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}t.enable(a());function u(){try{return window.localStorage}catch{}}}(ap,ap.exports)),ap.exports}var up={exports:{}},e6;function uK(){return e6||(e6=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default}(up,up.exports)),up.exports}var cp={exports:{}},t6;function cK(){return t6||(t6=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default}(cp,cp.exports)),cp.exports}var dp={exports:{}},hp={exports:{}},n6;function dK(){return n6||(n6=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default}(hp,hp.exports)),hp.exports}var r6;function hK(){return r6||(r6=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=dK(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default}(dp,dp.exports)),dp.exports}var i6;function fK(){return i6||(i6=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=lK(),r=f(n),i=uK(),s=f(i),o=cK(),a=f(o),u=hK(),c=f(u);function f(v){return v&&v.__esModule?v:{default:v}}var p=(0,r.default)("youtube-player"),g={};g.proxyEvents=function(v){var w={},_=function(D){var z="on"+D.slice(0,1).toUpperCase()+D.slice(1);w[z]=function(Q){p('event "%s"',z,Q),v.trigger(D,Q)}},C=!0,E=!1,L=void 0;try{for(var A=a.default[Symbol.iterator](),B;!(C=(B=A.next()).done);C=!0){var U=B.value;_(U)}}catch(P){E=!0,L=P}finally{try{!C&&A.return&&A.return()}finally{if(E)throw L}}return w},g.promisifyPlayer=function(v){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_={},C=function(z){w&&c.default[z]?_[z]=function(){for(var Q=arguments.length,F=Array(Q),oe=0;oe<Q;oe++)F[oe]=arguments[oe];return v.then(function(le){var ue=c.default[z],W=le.getPlayerState(),V=le[z].apply(le,F);return ue.stateChangeRequired||Array.isArray(ue.acceptableStates)&&ue.acceptableStates.indexOf(W)===-1?new Promise(function(J){var te=function ne(){var me=le.getPlayerState(),I=void 0;typeof ue.timeout=="number"&&(I=setTimeout(function(){le.removeEventListener("onStateChange",ne),J()},ue.timeout)),Array.isArray(ue.acceptableStates)&&ue.acceptableStates.indexOf(me)!==-1&&(le.removeEventListener("onStateChange",ne),clearTimeout(I),J())};le.addEventListener("onStateChange",te)}).then(function(){return V}):V})}:_[z]=function(){for(var Q=arguments.length,F=Array(Q),oe=0;oe<Q;oe++)F[oe]=arguments[oe];return v.then(function(le){return le[z].apply(le,F)})}},E=!0,L=!1,A=void 0;try{for(var B=s.default[Symbol.iterator](),U;!(E=(U=B.next()).done);E=!0){var P=U.value;C(P)}}catch(D){L=!0,A=D}finally{try{!E&&B.return&&B.return()}finally{if(L)throw A}}return _},t.default=g,e.exports=t.default}(op,op.exports)),op.exports}var s6;function pK(){return s6||(s6=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},r=rK(),i=c(r),s=sK(),o=c(s),a=fK(),u=c(a);function c(p){return p&&p.__esModule?p:{default:p}}var f=void 0;t.default=function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,w=(0,i.default)();if(f||(f=(0,o.default)(w)),g.events)throw new Error("Event handlers cannot be overwritten.");if(typeof p=="string"&&!document.getElementById(p))throw new Error('Element "'+p+'" does not exist.');g.events=u.default.proxyEvents(w);var _=new Promise(function(E){if((typeof p>"u"?"undefined":n(p))==="object"&&p.playVideo instanceof Function){var L=p;E(L)}else f.then(function(A){var B=new A.Player(p,g);return w.on("ready",function(){E(B)}),null})}),C=u.default.promisifyPlayer(_,v);return C.on=w.on,C.off=w.off,C},e.exports=t.default}(ip,ip.exports)),ip.exports}var mK=pK();const gK=xi(mK);var yK=Object.defineProperty,xK=Object.defineProperties,vK=Object.getOwnPropertyDescriptors,o6=Object.getOwnPropertySymbols,bK=Object.prototype.hasOwnProperty,wK=Object.prototype.propertyIsEnumerable,a6=(e,t,n)=>t in e?yK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zy=(e,t)=>{for(var n in t||(t={}))bK.call(t,n)&&a6(e,n,t[n]);if(o6)for(var n of o6(t))wK.call(t,n)&&a6(e,n,t[n]);return e},$y=(e,t)=>xK(e,vK(t)),_K=(e,t,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(c){i(c)}},o=u=>{try{a(n.throw(u))}catch(c){i(c)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(e,t)).next())});function SK(e,t){var n,r;if(e.videoId!==t.videoId)return!0;const i=((n=e.opts)==null?void 0:n.playerVars)||{},s=((r=t.opts)==null?void 0:r.playerVars)||{};return i.start!==s.start||i.end!==s.end}function l6(e={}){return $y(zy({},e),{height:0,width:0,playerVars:$y(zy({},e.playerVars),{autoplay:0,start:0,end:0})})}function CK(e,t){return e.videoId!==t.videoId||!nK(l6(e.opts),l6(t.opts))}function kK(e,t){var n,r,i,s;return e.id!==t.id||e.className!==t.className||((n=e.opts)==null?void 0:n.width)!==((r=t.opts)==null?void 0:r.width)||((i=e.opts)==null?void 0:i.height)!==((s=t.opts)==null?void 0:s.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title}var jK={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},EK={videoId:Et.string,id:Et.string,className:Et.string,iframeClassName:Et.string,style:Et.object,title:Et.string,loading:Et.oneOf(["lazy","eager"]),opts:Et.objectOf(Et.any),onReady:Et.func,onError:Et.func,onPlay:Et.func,onPause:Et.func,onEnd:Et.func,onStateChange:Et.func,onPlaybackRateChange:Et.func,onPlaybackQualityChange:Et.func},kp=class extends en.Component{constructor(e){super(e),this.destroyPlayerPromise=void 0,this.onPlayerReady=t=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,t)},this.onPlayerError=t=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,t)},this.onPlayerStateChange=t=>{var n,r,i,s,o,a,u,c;switch((r=(n=this.props).onStateChange)==null||r.call(n,t),t.data){case kp.PlayerState.ENDED:(s=(i=this.props).onEnd)==null||s.call(i,t);break;case kp.PlayerState.PLAYING:(a=(o=this.props).onPlay)==null||a.call(o,t);break;case kp.PlayerState.PAUSED:(c=(u=this.props).onPause)==null||c.call(u,t);break}},this.onPlayerPlaybackRateChange=t=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,t)},this.onPlayerPlaybackQualityChange=t=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,t)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const t=$y(zy({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=gK(this.container,t),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var t;(t=this.internalPlayer)==null||t.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var t,n,r,i;if(typeof this.props.videoId>"u"||this.props.videoId===null){(t=this.internalPlayer)==null||t.stopVideo();return}let s=!1;const o={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(s=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(o.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(o.endSeconds=this.props.opts.playerVars.end)),s){(r=this.internalPlayer)==null||r.loadVideoById(o);return}(i=this.internalPlayer)==null||i.cueVideoById(o)},this.refContainer=t=>{this.container=t},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(e){return _K(this,null,function*(){kK(e,this.props)&&this.updatePlayer(),CK(e,this.props)&&(yield this.resetPlayer()),SK(e,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return en.createElement("div",{className:this.props.className,style:this.props.style},en.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},Hm=kp;Hm.propTypes=EK;Hm.defaultProps=jK;Hm.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var TK=Hm;const P1=[{id:1,videoId:"BTNgos01s1o",title:"1:   "},{id:2,videoId:"yYq-sXZmS9I",title:"2:   "},{id:3,videoId:"mEi-n2kEs94",title:"3:  "},{id:4,videoId:"xmD5YuZtJv4",title:"4:    "}];function US(){const e=localStorage.getItem("visitedTutorial");if(!e)return!0;const t=new Date,n=new Date(e);return(t.getTime()-n.getTime())/(1e3*60*60*24)>=7}function NK(){const[e,t]=N.useState(0),[n,r]=N.useState(!1),i=lr(_=>_.openModal),s=lr(_=>_.closeModal),a=ha()?{width:"250",height:"141"}:{width:"600",height:"338"},u=US();u||i("wish");const c=()=>{t(_=>_===0?P1.length-1:_-1)},f=()=>{t(_=>_===P1.length-1?0:_+1)},p=()=>{if(!n)return;const _=new Date().toISOString();localStorage.setItem("visitedTutorial",_),r(!0)},g=P1[e],v=()=>{s(),p()},w=()=>{p(),s(),i("wish")};return u&&h.jsxs(ca,{onClose:s,children:[h.jsx(nc,{title:" ",onClose:v}),h.jsxs("div",{className:"w-full flex flex-col p-4",children:[h.jsx("div",{className:"mx-auto",style:{width:a.width+"px",height:a.height+"px"},children:h.jsx(TK,{videoId:g.videoId,opts:{width:a.width,height:a.height,playerVars:{autoplay:1,mute:1,playlist:g.videoId}},onEnd:f})}),h.jsxs("div",{className:"mt-4 flex flex-col justify-center items-center gap-2",children:[h.jsxs("div",{className:"flex justify-center items-center gap-5",children:[h.jsx("button",{className:"cursor-pointer w-5 h-5","aria-label":" ",onClick:c,children:e!==0&&h.jsx(Dy,{className:"w-5 h-5 transform rotate-90"})}),h.jsx("h2",{className:"text-gray-700 text-xl font-semibold",children:g.title}),h.jsx("button",{className:"cursor-pointer","aria-label":" ",onClick:f,children:e<3&&h.jsx(Dy,{className:"w-5 h-5 transform -rotate-90"})})]}),h.jsx("p",{className:"text-gray-500 text-sm",children:"        ."}),h.jsx("p",{className:"text-gray-500 text-sm",children:"     ,   ,         ."}),h.jsxs(zn.Modal.ButtonContainer,{className:"mt-4",children:[h.jsx(rv,{label:"   ",checked:n,onChange:()=>r(!n)}),h.jsx("button",{onClick:w,className:"px-4 cursor-pointer text-white py-2 bg-blue-500 hover:bg-blue-600 rounded-md",children:" "})]})]})]})]})}const PK=["","","","","","","","","//","","","",""];function u6(){return h.jsx("thead",{className:"bg-gray-100",children:h.jsx("tr",{className:"text-nowrap",children:PK.map(e=>h.jsx("th",{className:"border border-gray-300 px-2 py-1",children:e},e))})})}function OK(){const{type:e,openModal:t,closeModal:n}=lr(),r=Di(w=>w.currentSimulation),i=Di(w=>w.setCurrentSimulation),{reloadSimulationStatus:s}=$S(),{data:o=[]}=x_(),a=US(),u=lr(w=>w.type),c=async()=>{try{await ll(),i({simulationStatus:"finish"}),alert("5    ."),t("result")}catch(w){console.error(w),alert("   .")}},f=()=>{Hd().then(w=>{if(w&&"simulationId"in w&&w.simulationId!==-1){const _=w.startedAt;if(!_)return;const C=Date.now();Math.floor((C-_)/1e3)>$x?c().then():s()}else r.simulationStatus==="before"&&t("tutorial")})};N.useEffect(()=>{f()},[r.simulationStatus]);const p=r.registeredSubjects.reduce((w,_)=>{const C=_.tm_num.split("/")[0];return w+parseInt(C,10)},0),g=()=>{switch(e){case"tutorial":return h.jsx(NK,{});case"waiting":return h.jsx(GW,{});case"captcha":return h.jsx(CW,{});case"wish":return h.jsx(WW,{timetables:o,setIsModalOpen:()=>n()});case"simulation":return h.jsx(TW,{reloadSimulationStatus:s});case"result":return h.jsx(AW,{simulationId:r.simulationId});default:return null}},v=()=>{localStorage.removeItem("visitedTutorial")};return h.jsxs(h.Fragment,{children:[h.jsx(Gn,{children:h.jsx("title",{children:"ALLCLL |  -   "})}),g(),h.jsxs("div",{className:"flex justify-between gap-5",children:[h.jsxs("div",{className:"flex gap-5",children:[h.jsx("h1",{className:"font-bold text-lg",children:" "}),h.jsx(ZW,{})]}),!a&&h.jsx("button",{className:"text-gray-600 hover:text-blue-500 cursor-pointer",onClick:v,children:" "})]}),h.jsx(JW,{}),h.jsxs("section",{className:"mt-4 ",children:[h.jsx("div",{className:"font-semibold pl-2 mb-2 border-l-4 border-blue-500",children:"  "}),h.jsx("div",{className:"overflow-x-auto min-h-[300px] border-gray-300",children:h.jsxs("table",{className:"w-full border border-gray-300 border-t-3 text-xs border-t-black text-center",children:[h.jsx(u6,{}),r.simulationStatus==="progress"&&u!=="waiting"?h.jsx(q4,{isRegisteredTable:!1}):h.jsx(nm,{})]})})]}),h.jsxs("section",{className:"mt-4",children:[h.jsxs("div",{className:"w-full flex flex-col sm:flex-row sm:items-center justify-start gap-2 mb-2",children:[h.jsx("div",{className:"flex flex-col sm:flex-row items-baseline gap-2",children:h.jsx("span",{className:"font-semibold pl-2 border-l-4 border-blue-500",children:"  "})}),h.jsxs("div",{className:"flex flex-row gap-2",children:[h.jsx("button",{className:"text-xs w-14 bg-blue-500 text-white px-2 py-0.5 rounded-xs cursor-pointer",onClick:s,children:""}),h.jsxs("div",{className:"text-xs font-bold text-black",children:["  : 18 /",h.jsxs("span",{className:"text-blue-500",children:[" : ",r.registeredSubjects.length," /  : ",p]})]})]})]}),h.jsx("div",{className:"overflow-x-auto min-h-[300px] border-gray-300",children:h.jsxs("table",{className:"w-full border border-gray-300 border-t-3 text-xs border-t-black text-center",children:[h.jsx(u6,{}),r.simulationStatus==="progress"&&u!=="waiting"?h.jsx(q4,{isRegisteredTable:!0}):h.jsx(nm,{})]})})]})]})}fo.register(sh,oh,ih,Dx,Xu,S7,Zu,Ju);function LK({result:e}){const[t,n]=N.useState(!0),r=t?e.simulations.filter(g=>g.totalTime<=80&&g.searchBtnTime>0):e.simulations,i=r.map((g,v)=>` ${v+1}`),s=r.map(g=>g.searchBtnTime),o=r.map(g=>g.captchaTime-g.searchBtnTime),a=r.map(g=>g.subjectTime-g.captchaTime),u=r.map(g=>g.totalTime-g.subjectTime),c=r&&r.length<50?16:8,f={labels:i,datasets:[{type:"bar",label:"  ",data:s,barThickness:c,backgroundColor:"rgba(75, 192, 192, 0.7)",stack:"Stack 0"},{type:"bar",label:"   ",data:o,barThickness:c,backgroundColor:"rgba(255, 99, 132, 0.7)",stack:"Stack 0"},{type:"bar",label:"  ",data:a,barThickness:c,backgroundColor:"rgba(54, 162, 235, 0.7)",stack:"Stack 0"},{type:"bar",label:" ",data:u,barThickness:c,backgroundColor:"rgba(153, 102, 255, 0.7)",stack:"Stack 0"},{type:"line",label:" ",data:s,borderColor:"rgba(75, 192, 192, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(75, 192, 192, 1)",fill:!1,tension:.1},{type:"line",label:" ",data:o,borderColor:"rgba(255, 99, 132, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(255, 99, 132, 1)",fill:!1,tension:.1},{type:"line",label:"  ",data:a,borderColor:"rgba(54, 162, 235, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(54, 162, 235, 1)",fill:!1,tension:.1},{type:"line",label:"  ",data:u,borderColor:"rgba(153, 102, 255, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(153, 102, 255, 1)",fill:!1,tension:.1}]},p={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(g){const v=g.dataset.label||"",w=g.parsed.y;return`${v}: ${w.toFixed(2)}`}}}},scales:{x:{title:{display:!0,text:""}},y:{stacked:!0,title:{display:!0,text:" ()"},ticks:{callback:function(g){return(dl(g)?g.toFixed(1):g)+""}}}}};return h.jsxs("div",{className:"w-full h-96 p-4 box-border",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("div",{}),h.jsxs("div",{className:"text-lg font-semibold",children:[h.jsx("input",{id:"normal-data",type:"checkbox",className:"cursor-pointer",onChange:g=>n(g.target.checked),checked:t}),h.jsx("label",{htmlFor:"normal-data",className:"text-sm pl-2 cursor-pointer",children:" "})]})]}),h.jsx("div",{className:"h-full pb-6 overflow-x-auto",children:h.jsx(P7,{type:"bar",data:f,options:p})})]})}function AK({result:e}){const{data:t}=po(),n=N.useMemo(()=>MK(t,e.subjects),[t,e]);return h.jsxs("table",{className:"min-w-full text-sm text-center text-nowrap",children:[h.jsx("thead",{className:"bg-gray-100 text-gray-600",children:h.jsxs("tr",{children:[h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:"/"})]})}),h.jsx("tbody",{className:"text-gray-700",children:n.map(r=>h.jsxs("tr",{className:"border-t border-gray-200",children:[h.jsx("td",{className:"py-2 px-1",children:r.subjectCode+"-"+r.classCode}),h.jsx("td",{className:"py-2 px-1",children:r.subjectName}),h.jsx("td",{className:"py-2 px-1",children:r.professorName}),h.jsx("td",{className:"py-2 px-1",children:r.avgIndex.toFixed(2)}),h.jsx("td",{className:"py-2 px-1",children:r.avgCompletionTime.toFixed(2)+" sec"}),h.jsxs("td",{className:"py-2 px-2",children:[h.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-green-500",children:r.successCount}),"/",h.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-red-500",children:r.failedCount}),"/",h.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-gray-500",children:r.doubledCount}),"/",h.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-black",children:r.totalCount})]})]},r.subjectId))})]})}function MK(e,t){if(!t||!e)return[];const n=r=>e.find(i=>i.subjectId===r);return t.map(r=>{const i=n(r.subjectId);return{...r,subjectName:i?.subjectName||"",departmentName:i?.departmentName||"",departmentCode:i?.departmentCode||"",subjectCode:i?.subjectCode||"",classCode:i?.classCode||"",professorName:i?.professorName||null}})}function RK(){const e=uc(async()=>{try{return await DS()}catch(r){return{error:r.message}}});if(e&&"error"in e)return h.jsxs("div",{className:"flex flex-col w-full items-center justify-center h-120 gap-3",children:[h.jsx(lx,{className:"h-12 w-12"}),h.jsx("div",{className:"text-center text-gray-500",children:e.error}),h.jsx(Ir,{to:"/simulation",className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 cursor-pointer",children:"  "})]});const{simulations:t}=e||{simulations:[]},n=e?{user_ability:{searchBtnSpeed:t.reduce((r,i)=>r+i.searchBtnTime,0)/t.length||0,totalSpeed:t.reduce((r,i)=>r+i.totalTime/i.subjectCount,0)/t.length||0,accuracy:t.reduce((r,i)=>r+i.accuracy,0)/t.length||0,captchaSpeed:t.reduce((r,i)=>r+(i.captchaTime-i.searchBtnTime)/i.subjectCount,0)/t.length||0}}:void 0;return!n||!e?h.jsxs("div",{className:"flex flex-col w-full items-center justify-center h-120",children:[h.jsx("div",{className:"animate-spin h-16 w-16 mx-auto my-10",children:h.jsxs("svg",{className:"h-16 w-16 fill-transparent",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25 stroke-blue-500",cx:"12",cy:"12",r:"10",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75 fill-blue-500",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2.93 6.243A8.001 8.001 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3.93-1.695z"})]})}),h.jsxs("div",{className:"text-center text-gray-500 my-10",children:["    ... ",h.jsx("br",{})," "]})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex gap-3 flex-wrap",children:[h.jsx("div",{className:"relative flex-1 min-w-[240px]",children:h.jsx(zx,{result:n})}),h.jsx("div",{className:"flex-1 min-w-[240px] overflow-x-auto",children:h.jsx(AK,{result:e})})]}),h.jsx("div",{children:h.jsx(LK,{result:e})})]})}const IK=e=>N.createElement("svg",{width:26,height:26,viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M5.54964 1.99315C5.50209 1.17248 6.41035 0.64822 7.09733 1.0996L20.3806 9.83538C21.12 10.3219 20.9092 11.4586 20.0444 11.6476L15.7086 12.5948L21.1016 21.9358C21.3775 22.4141 21.2138 23.0258 20.7356 23.3019L17.8077 24.9923C17.3295 25.2684 16.7179 25.1043 16.4417 24.6263L11.0764 15.3334L8.21097 18.4797C7.61486 19.134 6.52521 18.7482 6.47343 17.8647L5.54964 1.99315Z",fill:"#0756FF"}));function DK(){return h.jsxs(h.Fragment,{children:[h.jsx("h1",{className:"text-2xl font-bold mb-2",children:"   "}),h.jsx("p",{className:"text-gray-500 mb-4",children:"    ."}),h.jsx(FK,{})]})}function FK(){const e=uc(PW),t=e?e.snapshots:[],n=e===void 0,r=e===null;return n?h.jsx("div",{className:"flex justify-center items-center h-64",children:h.jsx("span",{className:"text-gray-500",children:" ..."})}):r?h.jsx("div",{className:"flex justify-center items-center h-64",children:h.jsx("span",{className:"text-red-500",children:" "})}):t.length?t.map(i=>h.jsxs(Ir,{to:`/simulation/logs/${i.simulation_run_id}`,className:"flex items-center justify-between bg-white p-3 rounded-md text-sm shadow-md shadow-gray-300 mb-2 hover:bg-gray-100",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("p",{className:"hidden",children:"id"}),h.jsx("span",{className:"font-bold",children:i.simulation_run_id}),h.jsx("p",{className:"hidden",children:""}),h.jsx("span",{children:i.department_name?i.department_name.split(" ")[i.department_name.split(" ").length-1]:"  "})]}),h.jsxs("div",{className:"flex items-center text-center",children:[h.jsxs("div",{className:"",children:[h.jsx("p",{className:"text-xs",children:" "}),h.jsxs("span",{className:"text-sm font-bold",children:[i.accuracy,"%"]})]}),h.jsxs("div",{className:"flex items-center justify-end gap-1 w-20",children:[h.jsx("p",{className:"hidden",children:""}),h.jsx(IK,{className:"w-4 h-4"}),h.jsx("span",{className:"font-bold",children:i.score.toFixed(3)})]})]})]},"simulation-log-"+i.simulation_run_id)):h.jsx("div",{className:"flex justify-center items-center",children:h.jsx("span",{className:"text-gray-500",children:" "})})}function BK(){return h.jsxs(h.Fragment,{children:[h.jsx(Gn,{children:h.jsx("title",{children:"ALLCLL |  -  "})}),h.jsxs("section",{className:"max-w-7xl mx-auto",children:[h.jsx("h1",{className:"text-2xl font-bold mb-2",children:" "}),h.jsx("p",{className:"text-gray-500 mb-4",children:"   ,    ."}),h.jsx("div",{className:"bg-white p-3 rounded-md text-sm shadow-md shadow-gray-300",children:h.jsx(RK,{})})]}),h.jsx("section",{className:"max-w-3xl mx-auto mt-12",children:h.jsx(DK,{})})]})}const Kd=32,c6=200;function zK({result:e}){const t=KK(e),n=(e.ended_at-e.started_at)/1e3,r=Array.from({length:Math.floor(n)+5},(i,s)=>s+1);return h.jsxs("div",{className:"relative",children:[h.jsxs("div",{className:"relative overflow-x-auto overflow-y-hidden",children:[h.jsx("div",{className:"absolute top-0 flex h-full",style:{left:`${c6}px`},children:r.map(i=>h.jsx("div",{className:"border-r border-gray-200 relative",style:{width:`${Kd}px`},children:h.jsx("span",{className:"absolute text-xs text-gray-400 bg-white bottom-0 right-0 translate-x-1/2",children:i})},i))}),t.map((i,s)=>h.jsxs("div",{className:"flex items-center",style:{width:`${Kd*r.length}px`},children:[h.jsxs("div",{className:"py-2 text-sm md:sticky left-0 right-0 z-10 bg-white",style:{width:`${c6}px`},children:[h.jsx("div",{className:`font-semibold ${qK(i.color)}`,children:i.name}),h.jsx("span",{className:`text-xs ${VK(i.color)}`,children:i.code})]}),h.jsx("div",{className:"flex-1 relative h-8",children:h.jsx($K,{timelines:i.timelines})})]},"timeline-row-"+s))]}),h.jsx("div",{className:"pointer-events-none absolute inset-y-4 left-0 md:left-[200px] w-3 bg-gradient-to-r from-white to-transparent"}),h.jsx("div",{className:"pointer-events-none absolute inset-y-4 right-0 w-3 bg-gradient-to-l from-white to-transparent"})]})}function $K({timelines:e}){return e.map((t,n)=>{const r=t.start*Kd-12,i=t.duration*Kd+24;return h.jsx("div",{className:`absolute top-1 h-6 rounded-full px-3 ${HK(t.color)}`,style:{left:`${r}px`,width:`${i}px`},children:t.events.map((s,o)=>h.jsx(UK,{event:s,startAt:t.start,color:t.color,isTop:t.isTop},"timeline-dot-"+o))},"timeline-bar-"+n)})}function UK({event:e,startAt:t,color:n,isTop:r}){const i=(e.start-t)*Kd+6,s=WK(e.event),o=e.start,a=r?"top-4":"bottom-4";return h.jsxs("div",{className:"absolute top-1.5",style:{left:`${i}px`},children:[h.jsx("div",{className:`w-3 h-3 peer bg-white border-2 rounded-full hover:shadow cursor-pointer ${QK(n)}`}),h.jsxs("div",{className:`absolute z-10 ${a} left-1/2 -translate-x-1/2 px-2 py-1 rounded bg-black text-white text-nowrap text-xs text-center opacity-0 peer-hover:opacity-100 transition-opacity duration-200`,children:[s,h.jsx("br",{}),o.toFixed(2)," sec"]})]})}function HK(e){switch(e){case"green":return"bg-green-100 border-green-500 text-green-700";case"red":return"bg-red-100 border-red-500 text-red-700";case"orange":return"bg-orange-100 border-orange-500 text-orange-700";case"yellow":return"bg-yellow-100 border-yellow-500 text-yellow-700";default:return"bg-gray-100 border-gray-500 text-gray-700"}}function QK(e){switch(e){case"green":return"border-green-500 text-green-500 shadow-green-500";case"red":return"border-red-500 text-red-500 shadow-red-500";case"orange":return"border-orange-500 text-orange-500 shadow-orange-500";case"yellow":return"border-yellow-500 text-yellow-500 shadow-yellow-500";default:return"border-gray-500 text-gray-500 shadow-gray-500"}}function VK(e){switch(e){case"green":return"text-green-500";case"red":return"text-red-500";case"orange":return"text-orange-500";case"yellow":return"text-yellow-500";default:return"text-gray-500"}}function qK(e){switch(e){case"green":return"text-green-600";case"red":return"text-red-600";case"orange":return"text-orange-600";case"yellow":return"text-yellow-600";default:return"text-gray-600"}}function WK(e){switch(e){case Bn.SEARCH:return"  ";case Bn.APPLY:return"  ";case Bn.CAPTCHA:return"   ";case Bn.SUBJECT_SUBMIT:return"   ";case Bn.SKIP_REFRESH:return" ";case Bn.REFRESH:return"  ";case Bn.CANCEL_SUBMIT:return"  "}}function KK(e){const{timeline:t,started_at:n,subject_results:r}=e;return r.map(i=>({name:i.subjectInfo?.subjectName,code:i.subjectInfo?.subjectCode+"-"+i.subjectInfo?.classCode,color:cy(i.status),timelines:t.filter(s=>s.subject_id===i.subject_id).map(s=>({color:cy(s.status),start:(s.started_at-n)/1e3,duration:(s.ended_at-s.started_at)/1e3,isTop:r[0].subject_id===s.subject_id,events:s.events.reduce((o,a,u)=>[...o,{event:a.event,duration:u==0?0:(a.timestamp-s.events[u-1].timestamp)/1e3,start:(a.timestamp-n)/1e3}],[])}))}))}function GK({result:e}){const{subject_results:t,started_at:n}=e;return h.jsxs("table",{className:"min-w-full text-sm text-center text-nowrap",children:[h.jsx("thead",{className:"bg-gray-100 text-gray-600",children:h.jsxs("tr",{children:[h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:"/"})]})}),h.jsx("tbody",{className:"text-gray-700",children:t.map(r=>h.jsxs("tr",{className:"border-t border-gray-200",children:[h.jsx("td",{className:"py-2 px-1",children:r.subjectInfo?.subjectCode+"-"+r.subjectInfo?.classCode}),h.jsx("td",{className:"py-2 px-1",children:r.subjectInfo?.subjectName}),h.jsx("td",{className:"py-2 px-1",children:r.subjectInfo?.professorName}),h.jsx("td",{className:"py-2 px-1",children:r.selected_index}),h.jsx("td",{className:"py-2 px-1",children:((r.ended_at-n)/1e3).toFixed(2)+" sec"}),h.jsx("td",{className:"py-2 px-2",children:h.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${QR(r.status)}`,children:r.status===qt.SUCCESS?"":""})})]},"subject-detail-row-"+r.subject_id))})]})}function YK(){const{runId:e}=L6(),{data:t}=jl(),n=uc(()=>OW(Number(e))),r=N.useMemo(()=>XK(t,n),[t,n]);return h.jsxs(h.Fragment,{children:[h.jsx(Gn,{children:h.jsx("title",{children:"ALLCLL |  -   "})}),h.jsx("h1",{className:"text-2xl font-bold mb-6",children:"   "}),h.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"relative bg-white p-6 rounded-2xl shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"  "}),r?h.jsx(zx,{result:r}):h.jsx("div",{className:"text-center text-gray-500",children:"  ..."})]}),h.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm overflow-x-auto",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4 min-w-[240px] overflow-x-auto",children:"  "}),r?h.jsx(GK,{result:r}):h.jsx("div",{className:"text-center text-gray-500",children:"  ..."})]})]}),h.jsxs("section",{className:"bg-white p-6 rounded-2xl shadow-sm",children:[h.jsx("div",{className:"flex items-start justify-between mb-4",children:h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"     TimeLine"})}),r?h.jsx(zK,{result:r}):h.jsx("div",{className:"text-center text-gray-500",children:"  ..."})]})]})}function XK(e,t){if(!(!t||!e))return{...t,timeline:t.timeline.map(n=>({...n,subjectInfo:By(e,n.subject_id)})),subject_results:t.subject_results.map(n=>({...n,subjectInfo:By(e,n.subject_id)}))}}const JK=["interested_snapshot","interested_subject","simulation_run","simulation_run_selections","simulation_run_events"];async function ZK(){Qm();const e={interested_snapshot:await He.interested_snapshot.toArray(),interested_subject:await He.interested_subject.toArray(),simulation_run:await He.simulation_run.toArray(),simulation_run_selections:await He.simulation_run_selections.toArray(),simulation_run_events:await He.simulation_run_events.toArray()},t=new Blob([JSON.stringify(e)],{type:"application/json"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="db-backup.json",r.click(),URL.revokeObjectURL(n)}async function eG(){Qm();const e=await He.simulation_run.filter(f=>f.ended_at===-1).last();if(!e)throw new Error("  .");const t=await He.simulation_run_selections.where("simulation_run_id").equals(e.simulation_run_id).toArray(),n=t.map(f=>f.run_selections_id),r=await He.simulation_run_events.filter(f=>n.includes(f.simulation_section_id)).toArray(),i=await He.interested_snapshot.where("snapshot_id").equals(e.snapshot_id).toArray(),s=await He.interested_subject.where("snapshot_id").equals(e.snapshot_id).toArray(),o={simulation_run:[e],simulation_run_selections:t,simulation_run_events:r,interested_snapshot:i,interested_subject:s},a=new Blob([JSON.stringify(o)],{type:"application/json"}),u=URL.createObjectURL(a),c=document.createElement("a");c.href=u,c.download="ongoing-simulation.json",c.click(),URL.revokeObjectURL(u)}async function tG(e){Qm();const t=await e.text(),n=JSON.parse(t);await He.transaction("rw",He.interested_snapshot,He.interested_subject,async()=>{await He.interested_snapshot.clear(),await He.interested_subject.clear(),await He.interested_snapshot.bulkAdd(n.interested_snapshot||[]),await He.interested_subject.bulkAdd(n.interested_subject||[])}),await He.transaction("rw",He.simulation_run,He.simulation_run_selections,He.simulation_run_events,async()=>{await He.simulation_run.clear(),await He.simulation_run_selections.clear(),await He.simulation_run_events.clear(),await He.simulation_run.bulkAdd(n.simulation_run||[]),await He.simulation_run_selections.bulkAdd(n.simulation_run_selections||[]),await He.simulation_run_events.bulkAdd(n.simulation_run_events||[])})}async function nG(){Qm(),await He.transaction("rw",He.interested_snapshot,He.interested_subject,async()=>{await He.interested_snapshot.clear(),await He.interested_subject.clear()}),await He.transaction("rw",He.simulation_run,He.simulation_run_selections,He.simulation_run_events,async()=>{await He.simulation_run.clear(),await He.simulation_run_selections.clear(),await He.simulation_run_events.clear()})}function Qm(){const e=He.tables.map(n=>n.name).sort(),t=[...JK].sort();if(JSON.stringify(e)!==JSON.stringify(t))throw new Error(`DB   : ${e.join(", ")}`)}const rG=()=>{const[e,t]=N.useState(null),n=u=>{u.target.files&&t(u.target.files[0])},r=async()=>{try{await ZK(),alert("Backup completed successfully.")}catch(u){console.error(u),alert("Failed to backup the database.")}},i=async()=>{try{await eG(),alert("Backup completed successfully.")}catch(u){console.error(u),alert(u)}},s=async()=>{if(e)try{await tG(e),alert("Restore completed successfully.")}catch(u){console.error(u),alert("Failed to restore the database.")}else alert("Please select a file to restore.")},o=async()=>{try{await nG(),alert("Database cleared successfully."),window.location.href="/simulation"}catch(u){console.error(u),alert("Failed to delete the database.")}},a=async()=>{try{await ll(),window.location.href="/simulation"}catch(u){console.error(u),alert("Failed to delete the database.")}};return h.jsxs(h.Fragment,{children:[h.jsx(Gn,{children:h.jsx("title",{children:"ALLCLL |  -   "})}),h.jsxs("div",{className:"max-w-4xl min-h-screen mx-auto p-8 space-y-6",children:[h.jsx("h2",{className:"text-2xl font-semibold text-center text-gray-900",children:" "}),h.jsxs("div",{className:"flex justify-center gap-5",children:[h.jsx("button",{onClick:i,className:"bg-slate-200 cursor-pointer text-gray-800 px-6 py-3 rounded-md shadow-md hover:bg-slate-400 hover:text-white transition-colors",children:"  "}),h.jsx("button",{onClick:a,className:"w-full md:w-auto bg-blue-600 cursor-pointer text-white px-6 py-3 rounded-md shadow-md hover:bg-blue-700 transition-colors",children:" "})]}),h.jsxs("div",{className:"flex justify-center gap-5",children:[h.jsx("button",{onClick:r,className:"bg-gray-100 cursor-pointer text-gray-800 px-6 py-3 rounded-md shadow-md hover:bg-gray-400 hover:text-white transition-colors",children:"  "}),h.jsx("button",{onClick:o,className:"bg-red-600  cursor-pointer text-white px-6 py-3 rounded-md shadow-md hover:bg-red-700 hover:text-white transition-colors",children:" "})]}),h.jsxs("div",{className:"flex items-center space-x-4 justify-center",children:[h.jsx("input",{type:"file",accept:".json",onChange:n,className:"block w-full md:w-80 cursor-pointer text-sm text-gray-700 py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500"}),h.jsx("button",{onClick:s,className:"bg-white cursor-pointer text-gray-800 px-6 py-3 rounded-md shadow-md hover:bg-gray-400 hover:text-white transition-colors",children:" "})]})]})]})},iG=()=>h.jsxs(h.Fragment,{children:[h.jsx(Gn,{children:h.jsx("title",{children:"ALLCLL |  -  "})}),h.jsx("section",{className:"border p-2 text-xs",children:h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsx("div",{className:"flex gap-8 h-10"}),h.jsxs("div",{className:"flex justify-between",children:[h.jsxs("div",{className:"flex gap-4",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"font-bold",children:""}),h.jsx("select",{className:"border-gray-300 border px-2 py-1 w-48 disabled:bg-gray-100",disabled:!0,children:h.jsx("option",{children:""})})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"font-bold",children:""}),h.jsx("select",{className:"border-gray-300 border px-2 py-1 w-48 disabled:bg-gray-100",disabled:!0,children:h.jsx("option",{children:""})}),h.jsx("select",{className:"cursor-pointer border px-2 py-1 w-120 border-gray-300 bg-white",onChange:()=>{},children:h.jsx("option",{value:"none",children:" "})})]})]}),h.jsx("button",{className:"px-4 py-2 rounded text-white bg-gray-700 hover:bg-gray-800 cursor-pointer",children:""})]})]})}),h.jsxs("section",{className:"grid grid-cols-2 gap-5 ",children:[h.jsxs("div",{children:[h.jsx("div",{className:"font-semibold pl-2 mb-2 border-l-4 border-blue-500",children:"  "}),h.jsx("div",{className:"overflow-x-scroll min-h-[1000px] border-gray-300",children:h.jsxs("table",{className:"min-w-[1200px] text-center border border-gray-300 border-t-3 border-t-black text-xs",children:[h.jsx("thead",{className:"bg-gray-100",children:h.jsx("tr",{children:["","","","","","","","","//","","","",""].map((e,t)=>h.jsx("th",{className:"border border-gray-300 px-2 py-1 ",children:e},t))})}),h.jsx("tbody",{children:h.jsx(nm,{})})]})})]}),h.jsx("div",{children:h.jsxs("div",{className:"overflow-x-auto min-h-[1000px] border-gray-300",children:[h.jsxs("div",{className:"flex flex-row gap-3 items-center pl-2 mb-2 border-l-4 border-blue-500",children:[h.jsx("p",{className:"font-semibold",children:" "}),h.jsx("button",{className:"text-xs bg-blue-500 text-white px-2 py-0.5 rounded-xs cursor-pointer",children:""}),h.jsx("button",{className:"text-xs bg-gray-700 text-white px-2 py-0.5 rounded-xs cursor-pointer",children:" "}),h.jsx("button",{className:"text-xs bg-gray-700 text-white px-2 py-0.5 rounded-xs cursor-pointer",children:""})]}),h.jsxs("div",{className:"flex gap-4 w-full mb-2",children:[h.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[h.jsx("span",{className:"font-semibold whitespace-nowrap",children:"  "}),h.jsx("input",{type:"text",disabled:!0,value:"24",className:"w-full px-4 py-1 border border-gray-300 rounded bg-white-100 text-center"})]}),h.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[h.jsx("span",{className:"font-semibold whitespace-nowrap",children:":"}),h.jsx("input",{type:"text",disabled:!0,value:"",className:"w-full px-4 py-1 border border-gray-300 rounded bg-white-100 text-center"})]}),h.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[h.jsx("span",{className:"font-semibold whitespace-nowrap",children:":"}),h.jsx("input",{type:"text",disabled:!0,value:"",className:"w-full px-4 py-1 border border-gray-300 rounded bg-white-100 text-center"})]})]}),h.jsxs("table",{className:"min-w-[1200px] text-center border border-gray-300 border-t-3 border-t-black text-xs",children:[h.jsx("thead",{className:"bg-gray-100",children:h.jsx("tr",{children:["","","","","","","","","","","//","","","",""].map((e,t)=>h.jsx("th",{className:"border border-gray-300 px-2 py-1",children:e},t))})}),h.jsx("tbody",{children:h.jsx("tr",{children:h.jsx("td",{colSpan:13,className:"text-gray-400 py-4",children:h.jsx("div",{className:"min-h-[500px] flex items-center justify-center ",children:h.jsx("p",{className:"bg-stone-100 px-4 py-1 border",children:"  ."})})})})})]})]})})]})]}),sG=({timetables:e,onSelect:t,onEdit:n,onDelete:r,openCreateModal:i})=>{const s=N.useRef(null),o=xt(p=>p.currentTimetable),a=xt(p=>p.pickTimetable),u=p=>{a(p),t(p.timeTableId)},c=p=>{n&&n("",p)},f=p=>{r&&r(p)};return h.jsx("div",{className:"relative inline-block w-full max-w-sm",ref:s,children:h.jsxs(oc,{label:o?.timeTableName??" ",selected:o?.timeTableId>-1,className:"min-w-max",children:[e.length===0&&h.jsx("div",{children:"   ."}),e.length!==0&&e.map(p=>h.jsxs("div",{className:"flex gap-5",children:[h.jsx(rv,{label:p.timeTableName,checked:o.timeTableId===p.timeTableId,onChange:()=>u(p)},p.timeTableId),o.timeTableId===p.timeTableId&&h.jsxs("div",{className:"flex gap-4 text-sm",children:[h.jsx("button",{className:"text-stone-500 text-sm hover:text-stone-600 font-medium cursor-pointer",onClick:()=>c(p.timeTableId),children:""}),h.jsx("button",{className:"text-red-500  text-sm  hover:text-red-600 font-medium cursor-pointer",onClick:()=>f(p.timeTableId),children:""})]})]},p.timeTableName+p.timeTableId)),h.jsx("button",{className:"flex justify-center text-gray-500 text-sm hover:font-bold",onClick:i,children:"+  "})]})})};function oG(){const{openScheduleModal:e}=kr(),t=new Dr().toUiData();return h.jsxs("div",{className:"flex flex-col gap-2 pt-5 w-full items-center justify-center",children:[h.jsx(lh,{className:"w-7 h-7"}),h.jsx("p",{className:"text-md text-gray-500",children:"  ."}),h.jsx("span",{className:"text-xs text-gray-400",children:"  ?   ."}),h.jsx("button",{className:"bg-blue-500 text-white text-sm px-4 py-1 rounded-lg  hover:bg-blue-500 cursor-pointer justify-center items-center",onClick:()=>e(t),children:""})]})}function HS({subjects:e,expandToMax:t,isPending:n=!1}){const{visibleRows:r,loadMoreRef:i}=Im(e,"ref"),s=N.useRef(null),o=xt(f=>f.schedule.subjectId),{openScheduleModal:a,cancelSchedule:u}=kr();if(n||!e)return h.jsx("div",{className:"w-full h-10"});if(!e.length)return h.jsx(oG,{});const c=f=>{if(o===f.subjectId){u(void 0,!1);return}const p=new Dr({...new Dr().toApiData(),scheduleType:"official",subjectId:f.subjectId??-1},f);a(p.toUiData()),console.log("official",o);const w=new Yu(f.lesnTime).toUiData(9)[0]?.top;t&&(t(),setTimeout(()=>{if(w){const _=parseFloat(w);window.scrollTo({top:_,behavior:"smooth"})}},400))};return h.jsxs("div",{className:"flex flex-col gap-2",children:[e.slice(0,r).map(f=>{const p=o===f.subjectId;return h.jsx(aG,{subject:f,isActive:p,onClick:()=>c(f),forwardedRef:p?s:void 0},f.subjectId)}),r<e.length&&h.jsx("div",{ref:i,className:"load-more-trigger w-full h-10"})]})}function aG({isActive:e,subject:t,onClick:n,forwardedRef:r}){const i=e?"text-blue-500 bg-blue-50":"text-gray-700 bg-white hover:bg-gray-50",{saveSchedule:s}=kr(),{selectTargetOnly:o}=dh(),a=u=>{s(u,!1),o(t.subjectId),Mm(t.deptCd)};return h.jsxs("div",{className:`border border-gray-200 rounded-lg p-3 sm:p-4 gap-2 sm:gap-3 flex flex-col cursor-pointer ${i}`,onClick:n,ref:r,children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h3",{className:"text-sm sm:text-lg font-semibold",children:t.subjectName}),h.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:t.professorName})]}),h.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:t.lesnTime}),h.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:t.lesnRoom}),h.jsxs("span",{className:"text-xs sm:text-sm text-gray-500",children:[t.studentYear,"/",t.manageDeptNm]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{className:`w-fit rounded-xl flex items-center text-xs sm:text-sm text-gray-500 ${e?"":"bg-gray-100 px-2 py-0.5 sm:px-2.5 sm:py-0.5"}`,children:[t.tmNum[0],""]}),e&&h.jsx("button",{onClick:a,className:"bg-blue-500 border-none cursor-pointer rounded-xl px-2 py-0.5 sm:px-2.5 sm:py-1 text-white text-xs sm:text-sm hover:bg-blue-600",children:""})]})]})}function lG({onCloseSearch:e}){const{data:t=[],isPending:n}=Fi(),{openScheduleModal:r,cancelSchedule:i}=kr(),s=os(f=>f.filters),o=os(f=>f.setFilter),{keywords:a}=s,u=N.useDeferredValue(sc(t,s)),c=new Dr().toUiData();return h.jsx(fh,{children:({expandToMax:f})=>h.jsxs(h.Fragment,{children:[h.jsx(ph,{title:"",headerType:"add",onClose:i,onClick:()=>r(c)}),h.jsxs("div",{className:"sticky px-2 top-0 bg-white z-10 flex items-center gap-2 py-3",children:[h.jsx(Sl,{type:"text",placeholder:"   ",value:a,onChange:p=>o("keywords",p.target.value),onDelete:()=>o("keywords",""),className:"pl-10 pr-6 py-2 rounded-md w-full bg-white border border-gray-400 text-[16px]"}),h.jsx("button",{className:"w-20 justify-center flex cursor-pointer",onClick:()=>e("filter"),children:h.jsx(P8,{className:"w-6 h-6"})})]}),h.jsx("div",{className:"max-h-[70vh] min-h-0 px-2 overflow-y-auto touch-auto flex flex-col",children:h.jsx(HS,{expandToMax:f,subjects:u,isPending:n})})]})})}function QS({label:e,required:t,id:n,...r}){return h.jsxs("div",{className:"h-12 w-full flex flex-col",children:[e&&h.jsx("label",{htmlFor:n,className:`text-xs  text-gray-400 after:ml-0.5 ${t?'after:content-["*"] after:text-red-500':""}`,children:e}),h.jsx("input",{id:n,required:t,...r,className:"text-[16px] placeholder:text-gray-400 placeholder:text-sm w-full m-2 bg-transparent focus:outline-none border-b border-gray-200 focus:border-blue-500 focus:border-b-2"})]})}const fp=Array.from({length:24},(e,t)=>`${t}`),pp=["00","10","20","30","40","50"];function uG({timeRange:e,onChange:t,day:n}){const r=(i,s)=>{if(n){t(i,s,n);return}t(i,s)};return h.jsx("div",{className:" w-full h-3 flex gap-2 flex-col justify-center",children:h.jsxs("div",{className:"relative w-full flex gap-2 flex-wrap",children:[h.jsx("select",{name:"startHour",value:e.startHour??fp[8],onChange:i=>r("startHour",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:fp.map(i=>h.jsx("option",{value:i,children:i},i))}),h.jsx("select",{name:"startMinute",value:e.startMinute??pp[0],onChange:i=>r("startMinute",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:pp.map(i=>h.jsx("option",{value:i,children:i},i))}),h.jsx("span",{className:"text-gray-400 text-sm mx-1",children:"~"}),h.jsx("select",{name:"endHour",value:e.endHour??fp[9],onChange:i=>r("endHour",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:fp.map(i=>h.jsx("option",{value:i,children:i},i))}),h.jsx("select",{name:"endMinute",value:e.endMinute??pp[0],onChange:i=>r("endMinute",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:pp.map(i=>h.jsx("option",{value:i,children:i},i))})]})})}function VS(){const{schedule:e,modalActionType:t}=eh(),{editSchedule:n,saveSchedule:r,deleteSchedule:i,cancelSchedule:s}=kr(),o=js(_=>_.openBottomSheet),a=xt(_=>_.options.isMobile),u=[{id:"subjectName",name:"",value:e?.subjectName??""},{id:"professorName",name:"",value:e?.professorName??""},{id:"location",name:"",value:e?.location??""}],c=(_,C)=>{const[E,L]=_.split(":"),[A,B]=C.split(":");return{startHour:E,startMinute:L,endHour:A,endMinute:B}},f=_=>{const C=e.timeSlots.find(E=>E.dayOfWeeks===_);n(C?E=>({...E,timeSlots:E.timeSlots.filter(L=>L.dayOfWeeks!==_)}):E=>({...E,timeSlots:[...E.timeSlots,{dayOfWeeks:_,startTime:"",endTime:""}]}))},p=(_,C,E)=>{const L=B=>{let[U,P]=B.split(":").map(Number);return isNaN(U)&&(U=9),isNaN(P)&&(P=0),[U.toString(),P.toString().padStart(2,"0")]},A=B=>{const[U,P]=L(B);return`${U}:${P}`};n(B=>{const U=B.timeSlots.map(P=>{if(console.log(P),P.dayOfWeeks!==E)return P;const[D,z]=L(P.startTime),[Q,F]=L(P.endTime);let oe=P.startTime,le=P.endTime;return _==="startHour"&&(oe=`${C}:${z}`),_==="startMinute"&&(oe=`${D}:${C}`),_==="endHour"&&(le=`${C}:${F}`),_==="endMinute"&&(le=`${Q}:${C}`),{...P,startTime:A(oe),endTime:A(le)}});return{...B,timeSlots:U}})},g=_=>{r(_)},v=_=>{i(_)},w=()=>{s(),o("search")};return h.jsxs("form",{onSubmit:g,className:"flex flex-col gap-5",children:[u.map(({id:_,name:C,value:E})=>h.jsx("div",{className:"flex gap-6",children:h.jsx(QS,{id:_,placeholder:`${C} `,value:E,label:C,onChange:L=>n(A=>({...A,[_]:L.target.value})),required:!0})},"text-field"+_)),h.jsx("div",{className:"flex gap-2 flex-row",children:h.jsxs("div",{className:"flex gap-2 items-center",children:[h.jsx("p",{className:"text-gray-400 text-xs",children:""}),pm.map(_=>h.jsx(sr,{label:_,selected:e.timeSlots.some(C=>C.dayOfWeeks===_),onClick:()=>f(_)},_))]})}),e.timeSlots.map(_=>h.jsxs("div",{className:"flex gap-2 ",children:[h.jsx("p",{className:"text-xs text-gray-400",children:_.dayOfWeeks}),h.jsx(uG,{day:_.dayOfWeeks,timeRange:c(_.startTime,_.endTime),onChange:p})]},_.dayOfWeeks)),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("div",{children:a&&h.jsx("button",{type:"button",className:"text-xs text-blue-500 hover:text-blue-600 hover:underline cursor-pointer",onClick:w,children:"+   "})}),h.jsxs("div",{className:"flex justify-end gap-3",children:[(t===qn.EDIT||t===qn.VIEW)&&h.jsx("button",{type:"button",onClick:v,className:"text-xs text-white bg-red-500 hover:bg-red-600 w-15 rounded-lg px-4 py-2 cursor-pointer ",children:""}),h.jsx("button",{type:"submit",className:"text-xs text-white bg-blue-500 hover:bg-blue-600 w-15 rounded-lg px-4 py-2 cursor-pointer ",children:""})]})]})]})}function cG(){const{modalActionType:e}=eh(),{cancelSchedule:t}=kr(),n=i=>{t(i)},r=e===qn.CREATE?"":"";return h.jsxs(fh,{children:[h.jsx(ph,{title:`  ${r}`,headerType:"close",onClose:n}),h.jsx("div",{className:"flex flex-col py-5 px-5 gap-5 overflow-y-auto max-h-[70vh]",children:h.jsx(VS,{})})]})}function dG(){const{modalActionType:e}=eh(),{cancelSchedule:t}=kr(),n=e===qn.CREATE?"":"",r=i=>{i.key==="Escape"&&t(i)};return N.useEffect(()=>(document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}),[]),h.jsx("div",{className:"fixed inset-0 z-50  hidden md:flex items-center justify-center  bg-black/10",onClick:t,children:h.jsxs("div",{className:"bg-white flex border border-gray-200 rounded-xl flex-col gap-2 w-[90%] max-w-md p-8 shadow-xl relative",onClick:i=>i.stopPropagation(),role:"dialog","aria-modal":"true",children:[h.jsxs("div",{className:"flex w-full justify-between",children:[h.jsxs("h3",{className:"font-semibold",children:["  ",n]}),h.jsx("button",{className:"w-6 h-6 cursor-pointer flex items-center justify-center bg-gray-100 rounded-full",onClick:t,children:h.jsx(th,{})})]}),h.jsx(VS,{})]})})}function hG(){const[e,t]=N.useState(!1),n=os(a=>a.filters),r=os(a=>a.setFilter),i=os(a=>a.resetFilters),{data:s}=Fi(),o=hh(s??[]).sort((a,u)=>a.localeCompare(u)).map(a=>a);return h.jsxs("div",{className:"flex items-center flex-wrap gap-2 mr-20",children:[h.jsx(sv,{handleOpenFilter:()=>t(!0)}),h.jsx(ov,{department:n.department,setFilter:r}),h.jsx(jn,{filterKey:"days",options:ln.days,selectedValues:n.days??[],setFilter:r}),h.jsx(jn,{filterKey:"credits",options:ln.credits,selectedValues:n.credits??[],setFilter:r}),h.jsx(jn,{filterKey:"grades",options:ln.grades,selectedValues:n.grades??[],setFilter:r}),n.note.length>0&&h.jsx(jn,{filterKey:"note",options:ln.remark,selectedValues:n.note??[],setFilter:r}),n.categories.length>0&&h.jsx(jn,{filterKey:"categories",options:o,selectedValues:n.categories??[],setFilter:r}),n.classroom.length>0&&h.jsx(jn,{filterKey:"classroom",options:ln.classRoom,selectedValues:n.classroom??[],setFilter:r}),h.jsx(av,{filters:n,resetFilter:i}),e&&h.jsx(lv,{filterStore:os,onClose:()=>t(!1)})]})}const fG=new Dr().toUiData();function pG(){const{openScheduleModal:e}=kr(),{data:t,isPending:n}=po(),r=uh(t)??[],i=os(a=>a.filters),s=os(a=>a.setFilter),o=N.useDeferredValue(sc(r,i));return h.jsxs("div",{className:"w-full h-screen md:basis-1/3 p-4 md:border-t-0 flex flex-col gap-3 bg-white shadow-md rounded-lg",children:[h.jsx(Sl,{type:"text",value:i.keywords,placeholder:" ",onDelete:()=>s("keywords",""),onChange:a=>s("keywords",a.target.value)}),h.jsx(hG,{}),h.jsx("button",{type:"button",className:"text-blue-500 cursor-pointer text-sm",onClick:()=>e(fG),children:"+   "}),h.jsx("div",{className:"flex flex-col h-full overflow-hidden",children:h.jsx("div",{className:"overflow-y-auto flex-grow",children:h.jsx(HS,{subjects:o,isPending:n})})})]})}function mG({onClose:e,type:t}){const[n,r]=N.useState(""),i=xt(p=>p.currentTimetable),{mutate:s}=sN(),{mutate:o}=v_(),{mutate:a}=b_(),u=()=>{t==="edit"&&i&&(o(i.timeTableId),e())},c=p=>{if(p.preventDefault(),i&&t==="edit"){s({timeTableId:i.timeTableId,timeTableName:n}),e();return}t==="create"&&(a({timeTableName:n,semester:"2025-2"}),e())},f=p=>{p.key==="Escape"&&e()};return N.useEffect(()=>(window.addEventListener("keydown",f),()=>{window.removeEventListener("keydown",f)}),[]),h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/10",onClick:e,children:h.jsxs("div",{className:"bg-white flex border border-gray-200 rounded-xl flex-col gap-2 w-[90%] max-w-md p-8 shadow-xl relative",onClick:p=>p.stopPropagation(),children:[h.jsxs("div",{className:"flex w-full justify-between",children:[h.jsxs("h3",{className:"font-semibold",children:[" ",t==="create"?"":""]}),h.jsx("button",{className:"w-6 h-6 cursor-pointer flex items-center justify-center bg-gray-100 rounded-full",onClick:e,children:h.jsx(th,{})})]}),h.jsxs("form",{onSubmit:c,className:"flex flex-col gap-3",children:[h.jsx(sr,{label:"2025-2",selected:!1}),h.jsx(QS,{id:"timetableName",required:!0,placeholder:"  .",value:n,onChange:p=>r(p.target.value)},"timetableName"),h.jsxs("div",{className:"flex  justify-end gap-3",children:[h.jsx("button",{type:"submit",className:"text-blue-500 text-sm w-15 rounded px-4 py-2 cursor-pointer",children:""}),i&&t==="edit"&&h.jsx("button",{type:"button",onClick:u,className:"text-red-500 text-sm w-15 rounded px-3 py-2 cursor-pointer",children:""})]})]})]})})}const qS=e=>N.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M8.5 4.6665C8.5 4.5339 8.44732 4.40672 8.35355 4.31295C8.25979 4.21918 8.13261 4.1665 8 4.1665C7.86739 4.1665 7.74022 4.21918 7.64645 4.31295C7.55268 4.40672 7.5 4.5339 7.5 4.6665V7.99984C7.49996 8.08461 7.52148 8.168 7.56253 8.24217C7.60358 8.31634 7.66282 8.37885 7.73467 8.42384L9.73467 9.67384C9.84712 9.74421 9.98292 9.76703 10.1122 9.73727C10.1762 9.72254 10.2367 9.69534 10.2902 9.65723C10.3437 9.61912 10.3892 9.57085 10.424 9.51517C10.4588 9.45949 10.4824 9.39749 10.4933 9.33272C10.5041 9.26794 10.5022 9.20165 10.4874 9.13764C10.4727 9.07363 10.4455 9.01315 10.4074 8.95965C10.3693 8.90615 10.321 8.86068 10.2653 8.82584L8.5 7.7225V4.6665Z",fill:"#D1D5DB"}),N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.99996 2.1665C6.45286 2.1665 4.96913 2.78109 3.87517 3.87505C2.78121 4.96901 2.16663 6.45274 2.16663 7.99984C2.16663 9.54693 2.78121 11.0307 3.87517 12.1246C4.96913 13.2186 6.45286 13.8332 7.99996 13.8332C9.54706 13.8332 11.0308 13.2186 12.1248 12.1246C13.2187 11.0307 13.8333 9.54693 13.8333 7.99984C13.8333 6.45274 13.2187 4.96901 12.1248 3.87505C11.0308 2.78109 9.54706 2.1665 7.99996 2.1665ZM3.16663 7.99984C3.16663 7.36512 3.29164 6.73661 3.53454 6.1502C3.77744 5.56379 4.13346 5.03097 4.58228 4.58215C5.03109 4.13334 5.56392 3.77732 6.15032 3.53442C6.73673 3.29152 7.36524 3.1665 7.99996 3.1665C8.63468 3.1665 9.26319 3.29152 9.8496 3.53442C10.436 3.77732 10.9688 4.13334 11.4176 4.58215C11.8665 5.03097 12.2225 5.56379 12.4654 6.1502C12.7083 6.73661 12.8333 7.36512 12.8333 7.99984C12.8333 9.28172 12.3241 10.5111 11.4176 11.4175C10.5112 12.3239 9.28184 12.8332 7.99996 12.8332C6.71808 12.8332 5.4887 12.3239 4.58228 11.4175C3.67585 10.5111 3.16663 9.28172 3.16663 7.99984Z",fill:"#D1D5DB"})),WS=e=>N.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M13.7069 6.79266L8.70688 1.79266C8.51936 1.60527 8.26511 1.5 8.00001 1.5C7.7349 1.5 7.48065 1.60527 7.29313 1.79266L2.29313 6.79266C2.19982 6.88528 2.12586 6.99552 2.07553 7.11698C2.02521 7.23844 1.99954 7.36869 2.00001 7.50016V13.5002C2.00001 13.6328 2.05268 13.7599 2.14645 13.8537C2.24022 13.9475 2.3674 14.0002 2.50001 14.0002H6.50001C6.63261 14.0002 6.75979 13.9475 6.85356 13.8537C6.94733 13.7599 7.00001 13.6328 7.00001 13.5002V10.0002H9.00001V13.5002C9.00001 13.6328 9.05268 13.7599 9.14645 13.8537C9.24022 13.9475 9.3674 14.0002 9.50001 14.0002H13.5C13.6326 14.0002 13.7598 13.9475 13.8536 13.8537C13.9473 13.7599 14 13.6328 14 13.5002V7.50016C14.0005 7.36869 13.9748 7.23844 13.9245 7.11698C13.8742 6.99552 13.8002 6.88528 13.7069 6.79266ZM13 13.0002H10V9.50016C10 9.36755 9.94733 9.24038 9.85356 9.14661C9.75979 9.05284 9.63261 9.00016 9.50001 9.00016H6.50001C6.3674 9.00016 6.24022 9.05284 6.14645 9.14661C6.05268 9.24038 6.00001 9.36755 6.00001 9.50016V13.0002H3.00001V7.50016L8.00001 2.50016L13 7.50016V13.0002Z",fill:"#D1D5DB"}));function gG(){const{schedule:e}=eh(),{deleteSchedule:t,cancelSchedule:n}=kr(),{data:r}=Fi(),i=a=>{confirm("  ?")&&t(a)},s=a=>{a.key==="Escape"&&n(a)};N.useEffect(()=>(window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s)}),[]);const o=r?.find(a=>a.subjectId===e.subjectId);return h.jsx("div",{className:"fixed inset-0 z-50  hidden md:flex items-center justify-center  bg-black/10",children:h.jsxs("div",{className:"bg-white flex flex-col border border-gray-200 rounded-xl gap-2 w-[90%] max-w-md p-8 shadow-xl relative",onClick:a=>a.stopPropagation(),role:"dialog","aria-modal":"true",children:[h.jsxs("div",{className:"flex w-full justify-between",children:[h.jsx("h3",{className:"font-semibold text-lg",children:e.subjectName}),h.jsx("button",{className:"w-6 h-6 cursor-pointer flex items-center justify-center bg-gray-100 rounded-full",onClick:n,children:h.jsx(th,{})})]}),h.jsxs("div",{className:"flex flex-col gap-1 px-2 py-3 text-gray-500 text-sm",children:[h.jsx("p",{className:"text-sm text-gray-500",children:e.professorName??"  "}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(qS,{className:"w-4 h-4 text-gray-400"}),h.jsx("span",{className:"text-gray-500 text-sm",children:o?.lesnTime})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(WS,{className:"w-4 h-4 text-gray-400"}),h.jsx("span",{className:"text-gray-500 text-sm",children:o?.lesnRoom??"  "})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("span",{className:"text-gray-500 text-sm",children:o?.manageDeptNm}),h.jsxs("span",{className:"text-gray-500 text-sm",children:[" ",o?.studentYear+""]}),h.jsx("span",{className:"text-blue-500 text-sm",children:o?.tmNum[0]+""})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsxs("span",{className:"text-gray-500 text-sm font-bold",children:[o?.curiTypeCdNm," "]}),h.jsx("span",{className:"text-gray-500 text-sm",children:o?.remark??""})]})]}),h.jsx("div",{className:"px-4 py-4",children:h.jsx("button",{onClick:i,className:"text-sm text-red-500 cursor-pointer font-medium ml-auto block",children:""})})]})})}function yG(){const{schedule:e}=eh(),{deleteSchedule:t,cancelSchedule:n}=kr(),{data:r}=Fi(),i=o=>{confirm("  ?")&&t(o)},s=r?.find(o=>o.subjectId===e.subjectId);return h.jsxs(fh,{children:[h.jsx(ph,{headerType:"close",onClose:n}),h.jsx("div",{className:"w-full flex items-center gap-2 border-b border-gray-200 p-2 h-12",children:h.jsx("h3",{className:"font-semibold text-md",children:e.subjectName})}),h.jsxs("div",{className:"flex flex-col gap-1 px-2 py-3 text-gray-500 text-sm",children:[h.jsx("p",{className:"text-sm text-gray-500",children:e.professorName??"  "}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(qS,{className:"w-4 h-4 text-gray-400"}),h.jsx("span",{className:"text-gray-500 text-sm",children:s?.lesnTime})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(WS,{className:"w-4 h-4 text-gray-400"}),h.jsx("span",{className:"text-gray-500 text-sm",children:s?.lesnRoom??"  "})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("span",{className:"text-gray-500 text-sm",children:s?.manageDeptNm}),h.jsxs("span",{className:"text-gray-500 text-sm",children:[" ",s?.studentYear+""]}),h.jsx("span",{className:"text-blue-500 text-sm",children:s?.tmNum[0]+""})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsxs("span",{className:"text-gray-500 text-sm font-bold",children:[s?.curiTypeCdNm??""," "]}),h.jsx("span",{className:"text-gray-500 text-sm",children:s?.remark??""})]})]}),h.jsx("div",{className:"px-4 py-4",children:h.jsx("button",{onClick:i,className:"text-sm text-red-500 cursor-pointer font-medium ml-auto block",children:""})})]})}var O1={exports:{}},d6;function xG(){return d6||(d6=1,function(e){(function(t){var n=A(),r=B(),i=U(),s=P(),o={imagePlaceholder:void 0,cacheBust:!1},a={toSvg:u,toPng:f,toJpeg:p,toBlob:g,toPixelData:c,impl:{fontFaces:i,images:s,util:n,inliner:r,options:{}}};e.exports=a;function u(D,z){return z=z||{},v(z),Promise.resolve(D).then(function(F){return _(F,z.filter,!0)}).then(C).then(E).then(Q).then(function(F){return L(F,z.width||n.width(D),z.height||n.height(D))});function Q(F){return z.bgcolor&&(F.style.backgroundColor=z.bgcolor),z.width&&(F.style.width=z.width+"px"),z.height&&(F.style.height=z.height+"px"),z.style&&Object.keys(z.style).forEach(function(oe){F.style[oe]=z.style[oe]}),F}}function c(D,z){return w(D,z||{}).then(function(Q){return Q.getContext("2d").getImageData(0,0,n.width(D),n.height(D)).data})}function f(D,z){return w(D,z||{}).then(function(Q){return Q.toDataURL()})}function p(D,z){return z=z||{},w(D,z).then(function(Q){return Q.toDataURL("image/jpeg",z.quality||1)})}function g(D,z){return w(D,z||{}).then(n.canvasToBlob)}function v(D){typeof D.imagePlaceholder>"u"?a.impl.options.imagePlaceholder=o.imagePlaceholder:a.impl.options.imagePlaceholder=D.imagePlaceholder,typeof D.cacheBust>"u"?a.impl.options.cacheBust=o.cacheBust:a.impl.options.cacheBust=D.cacheBust}function w(D,z){return u(D,z).then(n.makeImage).then(n.delay(100)).then(function(F){var oe=Q(D);return oe.getContext("2d").drawImage(F,0,0),oe});function Q(F){var oe=document.createElement("canvas");if(oe.width=z.width||n.width(F),oe.height=z.height||n.height(F),z.bgcolor){var le=oe.getContext("2d");le.fillStyle=z.bgcolor,le.fillRect(0,0,oe.width,oe.height)}return oe}}function _(D,z,Q){if(!Q&&z&&!z(D))return Promise.resolve();return Promise.resolve(D).then(F).then(function(ue){return oe(D,ue,z)}).then(function(ue){return le(D,ue)});function F(ue){return ue instanceof HTMLCanvasElement?n.makeImage(ue.toDataURL()):ue.cloneNode(!1)}function oe(ue,W,V){var J=ue.childNodes;if(J.length===0)return Promise.resolve(W);return te(W,n.asArray(J),V).then(function(){return W});function te(ne,me,I){var G=Promise.resolve();return me.forEach(function(ye){G=G.then(function(){return _(ye,I)}).then(function($){$&&ne.appendChild($)})}),G}}function le(ue,W){if(!(W instanceof Element))return W;return Promise.resolve().then(V).then(J).then(te).then(ne).then(function(){return W});function V(){me(window.getComputedStyle(ue),W.style);function me(I,G){I.cssText?G.cssText=I.cssText:ye(I,G);function ye($,De){n.asArray($).forEach(function(je){De.setProperty(je,$.getPropertyValue(je),$.getPropertyPriority(je))})}}}function J(){[":before",":after"].forEach(function(I){me(I)});function me(I){var G=window.getComputedStyle(ue,I),ye=G.getPropertyValue("content");if(ye===""||ye==="none")return;var $=n.uid();W.className=W.className+" "+$;var De=document.createElement("style");De.appendChild(je($,I,G)),W.appendChild(De);function je(Ee,Ye,Ke){var Pe="."+Ee+":"+Ye,ht=Ke.cssText?un(Ke):Tt(Ke);return document.createTextNode(Pe+"{"+ht+"}");function un(pn){var cn=pn.getPropertyValue("content");return pn.cssText+" content: "+cn+";"}function Tt(pn){return n.asArray(pn).map(cn).join("; ")+";";function cn(Tn){return Tn+": "+pn.getPropertyValue(Tn)+(pn.getPropertyPriority(Tn)?" !important":"")}}}}}function te(){ue instanceof HTMLTextAreaElement&&(W.innerHTML=ue.value),ue instanceof HTMLInputElement&&W.setAttribute("value",ue.value)}function ne(){W instanceof SVGElement&&(W.setAttribute("xmlns","http://www.w3.org/2000/svg"),W instanceof SVGRectElement&&["width","height"].forEach(function(me){var I=W.getAttribute(me);I&&W.style.setProperty(me,I)}))}}}function C(D){return i.resolveAll().then(function(z){var Q=document.createElement("style");return D.appendChild(Q),Q.appendChild(document.createTextNode(z)),D})}function E(D){return s.inlineAll(D).then(function(){return D})}function L(D,z,Q){return Promise.resolve(D).then(function(F){return F.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(F)}).then(n.escapeXhtml).then(function(F){return'<foreignObject x="0" y="0" width="100%" height="100%">'+F+"</foreignObject>"}).then(function(F){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+z+'" height="'+Q+'">'+F+"</svg>"}).then(function(F){return"data:image/svg+xml;charset=utf-8,"+F})}function A(){return{escape:ne,parseExtension:z,mimeType:Q,dataAsUrl:te,isDataUrl:F,canvasToBlob:le,resolveUrl:ue,getAndEncode:J,uid:W(),delay:me,asArray:I,escapeXhtml:G,makeImage:V,width:ye,height:$};function D(){var je="application/font-woff",Ee="image/jpeg";return{woff:je,woff2:je,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Ee,jpeg:Ee,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function z(je){var Ee=/\.([^\.\/]*?)$/g.exec(je);return Ee?Ee[1]:""}function Q(je){var Ee=z(je).toLowerCase();return D()[Ee]||""}function F(je){return je.search(/^(data:)/)!==-1}function oe(je){return new Promise(function(Ee){for(var Ye=window.atob(je.toDataURL().split(",")[1]),Ke=Ye.length,Pe=new Uint8Array(Ke),ht=0;ht<Ke;ht++)Pe[ht]=Ye.charCodeAt(ht);Ee(new Blob([Pe],{type:"image/png"}))})}function le(je){return je.toBlob?new Promise(function(Ee){je.toBlob(Ee)}):oe(je)}function ue(je,Ee){var Ye=document.implementation.createHTMLDocument(),Ke=Ye.createElement("base");Ye.head.appendChild(Ke);var Pe=Ye.createElement("a");return Ye.body.appendChild(Pe),Ke.href=Ee,Pe.href=je,Pe.href}function W(){var je=0;return function(){return"u"+Ee()+je++;function Ee(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function V(je){return new Promise(function(Ee,Ye){var Ke=new Image;Ke.onload=function(){Ee(Ke)},Ke.onerror=Ye,Ke.src=je})}function J(je){var Ee=3e4;return a.impl.options.cacheBust&&(je+=(/\?/.test(je)?"&":"?")+new Date().getTime()),new Promise(function(Ye){var Ke=new XMLHttpRequest;Ke.onreadystatechange=un,Ke.ontimeout=Tt,Ke.responseType="blob",Ke.timeout=Ee,Ke.open("GET",je,!0),Ke.send();var Pe;if(a.impl.options.imagePlaceholder){var ht=a.impl.options.imagePlaceholder.split(/,/);ht&&ht[1]&&(Pe=ht[1])}function un(){if(Ke.readyState===4){if(Ke.status!==200){Pe?Ye(Pe):pn("cannot fetch resource: "+je+", status: "+Ke.status);return}var cn=new FileReader;cn.onloadend=function(){var Tn=cn.result.split(/,/)[1];Ye(Tn)},cn.readAsDataURL(Ke.response)}}function Tt(){Pe?Ye(Pe):pn("timeout of "+Ee+"ms occured while fetching resource: "+je)}function pn(cn){console.error(cn),Ye("")}})}function te(je,Ee){return"data:"+Ee+";base64,"+je}function ne(je){return je.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function me(je){return function(Ee){return new Promise(function(Ye){setTimeout(function(){Ye(Ee)},je)})}}function I(je){for(var Ee=[],Ye=je.length,Ke=0;Ke<Ye;Ke++)Ee.push(je[Ke]);return Ee}function G(je){return je.replace(/#/g,"%23").replace(/\n/g,"%0A")}function ye(je){var Ee=De(je,"border-left-width"),Ye=De(je,"border-right-width");return je.scrollWidth+Ee+Ye}function $(je){var Ee=De(je,"border-top-width"),Ye=De(je,"border-bottom-width");return je.scrollHeight+Ee+Ye}function De(je,Ee){var Ye=window.getComputedStyle(je).getPropertyValue(Ee);return parseFloat(Ye.replace("px",""))}}function B(){var D=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:oe,shouldProcess:z,impl:{readUrls:Q,inline:F}};function z(le){return le.search(D)!==-1}function Q(le){for(var ue=[],W;(W=D.exec(le))!==null;)ue.push(W[1]);return ue.filter(function(V){return!n.isDataUrl(V)})}function F(le,ue,W,V){return Promise.resolve(ue).then(function(te){return W?n.resolveUrl(te,W):te}).then(V||n.getAndEncode).then(function(te){return n.dataAsUrl(te,n.mimeType(ue))}).then(function(te){return le.replace(J(ue),"$1"+te+"$3")});function J(te){return new RegExp(`(url\\(['"]?)(`+n.escape(te)+`)(['"]?\\))`,"g")}}function oe(le,ue,W){if(V())return Promise.resolve(le);return Promise.resolve(le).then(Q).then(function(J){var te=Promise.resolve(le);return J.forEach(function(ne){te=te.then(function(me){return F(me,ne,ue,W)})}),te});function V(){return!z(le)}}}function U(){return{resolveAll:D,impl:{readAll:z}};function D(){return z().then(function(Q){return Promise.all(Q.map(function(F){return F.resolve()}))}).then(function(Q){return Q.join(`
`)})}function z(){return Promise.resolve(n.asArray(document.styleSheets)).then(F).then(Q).then(function(le){return le.map(oe)});function Q(le){return le.filter(function(ue){return ue.type===CSSRule.FONT_FACE_RULE}).filter(function(ue){return r.shouldProcess(ue.style.getPropertyValue("src"))})}function F(le){var ue=[];return le.forEach(function(W){try{n.asArray(W.cssRules||[]).forEach(ue.push.bind(ue))}catch(V){console.log("Error while reading CSS rules from "+W.href,V.toString())}}),ue}function oe(le){return{resolve:function(){var W=(le.parentStyleSheet||{}).href;return r.inlineAll(le.cssText,W)},src:function(){return le.style.getPropertyValue("src")}}}}}function P(){return{inlineAll:z,impl:{newImage:D}};function D(Q){return{inline:F};function F(oe){return n.isDataUrl(Q.src)?Promise.resolve():Promise.resolve(Q.src).then(oe||n.getAndEncode).then(function(le){return n.dataAsUrl(le,n.mimeType(Q.src))}).then(function(le){return new Promise(function(ue,W){Q.onload=ue,Q.onerror=W,Q.src=le})})}}function z(Q){if(!(Q instanceof Element))return Promise.resolve(Q);return F(Q).then(function(){return Q instanceof HTMLImageElement?D(Q).inline():Promise.all(n.asArray(Q.childNodes).map(function(oe){return z(oe)}))});function F(oe){var le=oe.style.getPropertyValue("background");return le?r.inlineAll(le).then(function(ue){oe.style.setProperty("background",ue,oe.style.getPropertyPriority("background"))}).then(function(){return oe}):Promise.resolve(oe)}}}})()}(O1)),O1.exports}var vG=xG();const bG=xi(vG);var jp={exports:{}},wG=jp.exports,h6;function _G(){return h6||(h6=1,function(e,t){(function(n,r){r()})(wG,function(){function n(c,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function r(c,f,p){var g=new XMLHttpRequest;g.open("GET",c),g.responseType="blob",g.onload=function(){u(g.response,f,p)},g.onerror=function(){console.error("could not download file")},g.send()}function i(c){var f=new XMLHttpRequest;f.open("HEAD",c,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function s(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(f)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof ld=="object"&&ld.global===ld?ld:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(c,f,p){var g=o.URL||o.webkitURL,v=document.createElement("a");f=f||c.name||"download",v.download=f,v.rel="noopener",typeof c=="string"?(v.href=c,v.origin===location.origin?s(v):i(v.href)?r(c,f,p):s(v,v.target="_blank")):(v.href=g.createObjectURL(c),setTimeout(function(){g.revokeObjectURL(v.href)},4e4),setTimeout(function(){s(v)},0))}:"msSaveOrOpenBlob"in navigator?function(c,f,p){if(f=f||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(n(c,p),f);else if(i(c))r(c,f,p);else{var g=document.createElement("a");g.href=c,g.target="_blank",setTimeout(function(){s(g)})}}:function(c,f,p,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof c=="string")return r(c,f,p);var v=c.type==="application/octet-stream",w=/constructor/i.test(o.HTMLElement)||o.safari,_=/CriOS\/[\d]+/.test(navigator.userAgent);if((_||v&&w||a)&&typeof FileReader<"u"){var C=new FileReader;C.onloadend=function(){var A=C.result;A=_?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=A:location=A,g=null},C.readAsDataURL(c)}else{var E=o.URL||o.webkitURL,L=E.createObjectURL(c);g?g.location=L:location.href=L,g=null,setTimeout(function(){E.revokeObjectURL(L)},4e4)}});o.saveAs=u.saveAs=u,e.exports=u})}(jp)),jp.exports}var SG=_G();function CG(e,t="image.png"){if(!e){console.error("Image reference is not set");return}bG.toBlob(e).then(n=>SG.saveAs(n,t)).catch(n=>{console.error("Error saving image:",n)})}const kG=e=>N.createElement("svg",{width:31,height:31,viewBox:"0 0 31 31",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M14.2084 16.7918H7.75005C7.38407 16.7918 7.07752 16.6678 6.83038 16.4198C6.58324 16.1718 6.45924 15.8653 6.45838 15.5002C6.45752 15.1351 6.58152 14.8285 6.83038 14.5805C7.07924 14.3325 7.3858 14.2085 7.75005 14.2085H14.2084V7.75017C14.2084 7.38419 14.3324 7.07764 14.5804 6.8305C14.8284 6.58336 15.1349 6.45936 15.5 6.4585C15.8652 6.45764 16.1721 6.58164 16.421 6.8305C16.6699 7.07936 16.7934 7.38592 16.7917 7.75017V14.2085H23.25C23.616 14.2085 23.923 14.3325 24.171 14.5805C24.419 14.8285 24.5426 15.1351 24.5417 15.5002C24.5409 15.8653 24.4169 16.1723 24.1697 16.4211C23.9226 16.67 23.616 16.7936 23.25 16.7918H16.7917V23.2502C16.7917 23.6161 16.6677 23.9231 16.4197 24.1711C16.1717 24.4191 15.8652 24.5427 15.5 24.5418C15.1349 24.541 14.8284 24.417 14.5804 24.1698C14.3324 23.9227 14.2084 23.6161 14.2084 23.2502V16.7918Z",fill:"white"})),jG=e=>N.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M10 12.9791C9.8889 12.9791 9.78473 12.9619 9.68751 12.9274C9.59029 12.893 9.50001 12.8338 9.41668 12.7499L6.41668 9.74992C6.25001 9.58325 6.17001 9.38881 6.17668 9.16659C6.18334 8.94437 6.26334 8.74992 6.41668 8.58325C6.58334 8.41659 6.7814 8.32992 7.01084 8.32325C7.24029 8.31659 7.43807 8.39631 7.60418 8.56242L9.16668 10.1249V4.16659C9.16668 3.93048 9.24668 3.7327 9.40668 3.57325C9.56668 3.41381 9.76445 3.33381 10 3.33325C10.2356 3.3327 10.4336 3.4127 10.5942 3.57325C10.7547 3.73381 10.8345 3.93159 10.8333 4.16659V10.1249L12.3958 8.56242C12.5625 8.39575 12.7606 8.31575 12.99 8.32242C13.2195 8.32909 13.4172 8.41603 13.5833 8.58325C13.7361 8.74992 13.8161 8.94437 13.8233 9.16659C13.8306 9.38881 13.7506 9.58325 13.5833 9.74992L10.5833 12.7499C10.5 12.8333 10.4097 12.8924 10.3125 12.9274C10.2153 12.9624 10.1111 12.9796 10 12.9791ZM5.00001 16.6666C4.54168 16.6666 4.14945 16.5035 3.82334 16.1774C3.49723 15.8513 3.3339 15.4588 3.33334 14.9999V13.3333C3.33334 13.0971 3.41334 12.8994 3.57334 12.7399C3.73334 12.5805 3.93112 12.5005 4.16668 12.4999C4.40223 12.4994 4.60029 12.5794 4.76084 12.7399C4.9214 12.9005 5.00112 13.0983 5.00001 13.3333V14.9999H15V13.3333C15 13.0971 15.08 12.8994 15.24 12.7399C15.4 12.5805 15.5978 12.5005 15.8333 12.4999C16.0689 12.4994 16.267 12.5794 16.4275 12.7399C16.5881 12.9005 16.6678 13.0983 16.6667 13.3333V14.9999C16.6667 15.4583 16.5036 15.8508 16.1775 16.1774C15.8514 16.5041 15.4589 16.6671 15 16.6666H5.00001Z",fill:"#9CA3AF"}));function EG(){const[e,t]=N.useState(null),n=js(f=>f.type),r=js(f=>f.closeBottomSheet),i=js(f=>f.openBottomSheet),s=os(f=>f.filters),o=os(f=>f.setFilter),a=os(f=>f.resetFilters),u=f=>{r("search"),i(f)},c=()=>{r("filter"),i("search")};return h.jsxs("div",{className:"w-full p-4 ",children:[h.jsx(Gn,{children:h.jsx("title",{children:"ALLCLL | "})}),h.jsxs("div",{className:"grid md:grid-cols-5 gap-4",children:[h.jsx("div",{className:"md:col-span-3 w-full h-full",children:h.jsxs(Bp,{className:"px-2 relative overflow-hidden",children:[h.jsx(TG,{setIsOpenModal:t}),h.jsx(CN,{})]})}),h.jsxs("div",{className:"md:col-span-2 w-full",children:[h.jsx("div",{className:"hidden md:block",children:h.jsx(pG,{})}),h.jsxs("div",{className:"md:hidden",children:[n==="search"&&h.jsx(lG,{onCloseSearch:u}),n==="filter"&&h.jsx(iv,{onCloseFiltering:c,filters:s,setFilter:o,resetFilter:a}),n==="edit"&&h.jsx(cG,{}),n==="Info"&&h.jsx(yG,{})]})]}),n==="edit"&&h.jsx(dG,{}),n==="Info"&&h.jsx(gG,{})]}),e&&h.jsx(mG,{type:e,onClose:()=>t(null)}),n===null&&h.jsx("button",{className:"fixed bottom-4 right-4 z-50 w-15 h-15 rounded-full bg-blue-500 flex justify-center items-center shadow-lg md:hidden",onClick:()=>i("search"),children:h.jsx(kG,{className:"w-10 h-10 cursor-pointer"})})]})}function TG({setIsOpenModal:e}){const{mutate:t}=v_(),{data:n=[]}=x_(),r=xt(v=>v.options.isMobile),i=xt(v=>v.pickTimetable),s=js(v=>v.openBottomSheet),{openScheduleModal:o}=kr(),a=v=>{const w=n.find(_=>_.timeTableId===v);w&&i(w)},u=()=>{e("edit")},c=v=>{t(v)},f=()=>{const v=xt.getState()?.currentTimetable?.timeTableName,w=xt.getState().options.containerRef;CG(w,v?v+".png":".png")},p=()=>{e("create")},g=()=>{o(new Dr().toUiData())};return h.jsxs("header",{className:"flex pb-2 justify-between items-center",children:[h.jsx(sG,{timetables:n,onSelect:a,onEdit:u,onDelete:c,openCreateModal:p}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("button",{className:"rounded-md hover:bg-gray-100 p-1 h-fit cursor-pointer",onClick:f,title:"  ",children:h.jsx(jG,{className:"w-5 h-5"})}),h.jsx("button",{className:"rounded-md hover:bg-gray-100 p-1 h-fit cursor-pointer",onClick:g,title:"  ",children:h.jsx(b8,{className:"w-5 h-5"})}),r&&h.jsx("button",{className:"rounded-md hover:bg-gray-100 p-2 h-fit cursor-pointer",onClick:()=>s("search"),title:" ",children:h.jsx(lh,{className:"w-3 h-3"})})]})]})}const NG=Hk([{path:"/",element:h.jsx(Ow,{}),errorElement:h.jsx(yd,{}),children:[{path:"/",element:h.jsx(JR,{})},{path:"survey",element:h.jsx(jz,{})},{path:"about",element:h.jsx(kz,{})},{path:"faq",element:h.jsx(nW,{})}]},{path:"wishes",element:h.jsx(Lw,{serviceId:"baskets"}),errorElement:h.jsx(bW,{}),children:[{path:"",element:h.jsx(oW,{})},{path:":id",element:h.jsx(vW,{})}]},{path:"live",element:h.jsx(Lw,{serviceId:"live"}),errorElement:h.jsx(yd,{}),children:[{path:"",element:h.jsx(Cz,{})}]},{path:"simulation",element:h.jsx(XT,{}),errorElement:h.jsx(yd,{}),children:[{path:"",element:h.jsx(OK,{})},{path:"logs",element:h.jsx(BK,{})},{path:"logs/:runId",element:h.jsx(YK,{})},{path:"admin",element:h.jsx(rG,{})},{path:"wishlist",element:h.jsx(iG,{})}]},{path:"timetable",element:h.jsx(Ow,{}),errorElement:h.jsx(yd,{}),children:[{path:"",element:h.jsx(EG,{})}]},{path:"*",element:h.jsx(IS,{})}]),PG=new gj;OG();function OG(){G9.createRoot(document.getElementById("root")).render(h.jsx(N.StrictMode,{children:h.jsx(wj,{client:PG,children:h.jsx(ej,{router:NG})})})),"serviceWorker"in navigator&&navigator.serviceWorker.register("/serviceWorker.js").then(function(e){console.log("Service Worker registered with scope:",e.scope)}).catch(function(e){console.log("Service Worker registration failed:",e)})}
//# sourceMappingURL=index-CLYcZ6Rr.js.map
