try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="297f61af-3064-49fb-93e4-18999ecf2d52",e._sentryDebugIdIdentifier="sentry-dbid-297f61af-3064-49fb-93e4-18999ecf2d52")}catch{}{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"38f3c2d271605da51f70e65d7eba1e78403742ca"}}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const r9="modulepreload",i9=function(e){return"/"+e},V2={},Md=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let c=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};var o=c;document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=a?.nonce||a?.getAttribute("nonce");i=c(n.map(h=>{if(h=i9(h),h in V2)return;V2[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const x=document.createElement("link");if(x.rel=p?"stylesheet":r9,p||(x.as="script"),x.crossOrigin="",x.href=h,u&&x.setAttribute("nonce",u),document.head.appendChild(x),p)return new Promise((w,S)=>{x.addEventListener("load",w),x.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return i.then(a=>{for(const u of a||[])u.status==="rejected"&&s(u.reason);return t().catch(s)})};var Zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function s9(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Jg={exports:{}},Oc={},Zg={exports:{}},Ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W2;function o9(){if(W2)return Ot;W2=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function g(G){return G===null||typeof G!="object"?null:(G=p&&G[p]||G["@@iterator"],typeof G=="function"?G:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function C(G,ye,z){this.props=G,this.context=ye,this.refs=S,this.updater=z||x}C.prototype.isReactComponent={},C.prototype.setState=function(G,ye){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ye,"setState")},C.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function E(){}E.prototype=C.prototype;function L(G,ye,z){this.props=G,this.context=ye,this.refs=S,this.updater=z||x}var A=L.prototype=new E;A.constructor=L,w(A,C.prototype),A.isPureReactComponent=!0;var B=Array.isArray,$=Object.prototype.hasOwnProperty,P={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function H(G,ye,z){var Me,je={},Ee=null,Ye=null;if(ye!=null)for(Me in ye.ref!==void 0&&(Ye=ye.ref),ye.key!==void 0&&(Ee=""+ye.key),ye)$.call(ye,Me)&&!M.hasOwnProperty(Me)&&(je[Me]=ye[Me]);var Ke=arguments.length-2;if(Ke===1)je.children=z;else if(1<Ke){for(var Pe=Array(Ke),ht=0;ht<Ke;ht++)Pe[ht]=arguments[ht+2];je.children=Pe}if(G&&G.defaultProps)for(Me in Ke=G.defaultProps,Ke)je[Me]===void 0&&(je[Me]=Ke[Me]);return{$$typeof:e,type:G,key:Ee,ref:Ye,props:je,_owner:P.current}}function Q(G,ye){return{$$typeof:e,type:G.type,key:ye,ref:G.ref,props:G.props,_owner:G._owner}}function F(G){return typeof G=="object"&&G!==null&&G.$$typeof===e}function ae(G){var ye={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(z){return ye[z]})}var le=/\/+/g;function ue(G,ye){return typeof G=="object"&&G!==null&&G.key!=null?ae(""+G.key):ye.toString(36)}function q(G,ye,z,Me,je){var Ee=typeof G;(Ee==="undefined"||Ee==="boolean")&&(G=null);var Ye=!1;if(G===null)Ye=!0;else switch(Ee){case"string":case"number":Ye=!0;break;case"object":switch(G.$$typeof){case e:case t:Ye=!0}}if(Ye)return Ye=G,je=je(Ye),G=Me===""?"."+ue(Ye,0):Me,B(je)?(z="",G!=null&&(z=G.replace(le,"$&/")+"/"),q(je,ye,z,"",function(ht){return ht})):je!=null&&(F(je)&&(je=Q(je,z+(!je.key||Ye&&Ye.key===je.key?"":(""+je.key).replace(le,"$&/")+"/")+G)),ye.push(je)),1;if(Ye=0,Me=Me===""?".":Me+":",B(G))for(var Ke=0;Ke<G.length;Ke++){Ee=G[Ke];var Pe=Me+ue(Ee,Ke);Ye+=q(Ee,ye,z,Pe,je)}else if(Pe=g(G),typeof Pe=="function")for(G=Pe.call(G),Ke=0;!(Ee=G.next()).done;)Ee=Ee.value,Pe=Me+ue(Ee,Ke++),Ye+=q(Ee,ye,z,Pe,je);else if(Ee==="object")throw ye=String(G),Error("Objects are not valid as a React child (found: "+(ye==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ye)+"). If you meant to render a collection of children, use an array instead.");return Ye}function V(G,ye,z){if(G==null)return G;var Me=[],je=0;return q(G,Me,"","",function(Ee){return ye.call(z,Ee,je++)}),Me}function J(G){if(G._status===-1){var ye=G._result;ye=ye(),ye.then(function(z){(G._status===0||G._status===-1)&&(G._status=1,G._result=z)},function(z){(G._status===0||G._status===-1)&&(G._status=2,G._result=z)}),G._status===-1&&(G._status=0,G._result=ye)}if(G._status===1)return G._result.default;throw G._result}var te={current:null},ne={transition:null},me={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:ne,ReactCurrentOwner:P};function R(){throw Error("act(...) is not supported in production builds of React.")}return Ot.Children={map:V,forEach:function(G,ye,z){V(G,function(){ye.apply(this,arguments)},z)},count:function(G){var ye=0;return V(G,function(){ye++}),ye},toArray:function(G){return V(G,function(ye){return ye})||[]},only:function(G){if(!F(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Ot.Component=C,Ot.Fragment=n,Ot.Profiler=i,Ot.PureComponent=L,Ot.StrictMode=r,Ot.Suspense=u,Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Ot.act=R,Ot.cloneElement=function(G,ye,z){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var Me=w({},G.props),je=G.key,Ee=G.ref,Ye=G._owner;if(ye!=null){if(ye.ref!==void 0&&(Ee=ye.ref,Ye=P.current),ye.key!==void 0&&(je=""+ye.key),G.type&&G.type.defaultProps)var Ke=G.type.defaultProps;for(Pe in ye)$.call(ye,Pe)&&!M.hasOwnProperty(Pe)&&(Me[Pe]=ye[Pe]===void 0&&Ke!==void 0?Ke[Pe]:ye[Pe])}var Pe=arguments.length-2;if(Pe===1)Me.children=z;else if(1<Pe){Ke=Array(Pe);for(var ht=0;ht<Pe;ht++)Ke[ht]=arguments[ht+2];Me.children=Ke}return{$$typeof:e,type:G.type,key:je,ref:Ee,props:Me,_owner:Ye}},Ot.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:s,_context:G},G.Consumer=G},Ot.createElement=H,Ot.createFactory=function(G){var ye=H.bind(null,G);return ye.type=G,ye},Ot.createRef=function(){return{current:null}},Ot.forwardRef=function(G){return{$$typeof:a,render:G}},Ot.isValidElement=F,Ot.lazy=function(G){return{$$typeof:h,_payload:{_status:-1,_result:G},_init:J}},Ot.memo=function(G,ye){return{$$typeof:c,type:G,compare:ye===void 0?null:ye}},Ot.startTransition=function(G){var ye=ne.transition;ne.transition={};try{G()}finally{ne.transition=ye}},Ot.unstable_act=R,Ot.useCallback=function(G,ye){return te.current.useCallback(G,ye)},Ot.useContext=function(G){return te.current.useContext(G)},Ot.useDebugValue=function(){},Ot.useDeferredValue=function(G){return te.current.useDeferredValue(G)},Ot.useEffect=function(G,ye){return te.current.useEffect(G,ye)},Ot.useId=function(){return te.current.useId()},Ot.useImperativeHandle=function(G,ye,z){return te.current.useImperativeHandle(G,ye,z)},Ot.useInsertionEffect=function(G,ye){return te.current.useInsertionEffect(G,ye)},Ot.useLayoutEffect=function(G,ye){return te.current.useLayoutEffect(G,ye)},Ot.useMemo=function(G,ye){return te.current.useMemo(G,ye)},Ot.useReducer=function(G,ye,z){return te.current.useReducer(G,ye,z)},Ot.useRef=function(G){return te.current.useRef(G)},Ot.useState=function(G){return te.current.useState(G)},Ot.useSyncExternalStore=function(G,ye,z){return te.current.useSyncExternalStore(G,ye,z)},Ot.useTransition=function(){return te.current.useTransition()},Ot.version="18.3.1",Ot}var q2;function qp(){return q2||(q2=1,Zg.exports=o9()),Zg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K2;function a9(){if(K2)return Oc;K2=1;var e=qp(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,u,c){var h,p={},g=null,x=null;c!==void 0&&(g=""+c),u.key!==void 0&&(g=""+u.key),u.ref!==void 0&&(x=u.ref);for(h in u)r.call(u,h)&&!s.hasOwnProperty(h)&&(p[h]=u[h]);if(a&&a.defaultProps)for(h in u=a.defaultProps,u)p[h]===void 0&&(p[h]=u[h]);return{$$typeof:t,type:a,key:g,ref:x,props:p,_owner:i.current}}return Oc.Fragment=n,Oc.jsx=o,Oc.jsxs=o,Oc}var G2;function l9(){return G2||(G2=1,Jg.exports=a9()),Jg.exports}var f=l9(),N=qp();const en=fi(N);var pf={},e0={exports:{}},Ur={},t0={exports:{}},n0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y2;function u9(){return Y2||(Y2=1,function(e){function t(ne,me){var R=ne.length;ne.push(me);e:for(;0<R;){var G=R-1>>>1,ye=ne[G];if(0<i(ye,me))ne[G]=me,ne[R]=ye,R=G;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var me=ne[0],R=ne.pop();if(R!==me){ne[0]=R;e:for(var G=0,ye=ne.length,z=ye>>>1;G<z;){var Me=2*(G+1)-1,je=ne[Me],Ee=Me+1,Ye=ne[Ee];if(0>i(je,R))Ee<ye&&0>i(Ye,je)?(ne[G]=Ye,ne[Ee]=R,G=Ee):(ne[G]=je,ne[Me]=R,G=Me);else if(Ee<ye&&0>i(Ye,R))ne[G]=Ye,ne[Ee]=R,G=Ee;else break e}}return me}function i(ne,me){var R=ne.sortIndex-me.sortIndex;return R!==0?R:ne.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],c=[],h=1,p=null,g=3,x=!1,w=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(ne){for(var me=n(c);me!==null;){if(me.callback===null)r(c);else if(me.startTime<=ne)r(c),me.sortIndex=me.expirationTime,t(u,me);else break;me=n(c)}}function B(ne){if(S=!1,A(ne),!w)if(n(u)!==null)w=!0,J($);else{var me=n(c);me!==null&&te(B,me.startTime-ne)}}function $(ne,me){w=!1,S&&(S=!1,E(H),H=-1),x=!0;var R=g;try{for(A(me),p=n(u);p!==null&&(!(p.expirationTime>me)||ne&&!ae());){var G=p.callback;if(typeof G=="function"){p.callback=null,g=p.priorityLevel;var ye=G(p.expirationTime<=me);me=e.unstable_now(),typeof ye=="function"?p.callback=ye:p===n(u)&&r(u),A(me)}else r(u);p=n(u)}if(p!==null)var z=!0;else{var Me=n(c);Me!==null&&te(B,Me.startTime-me),z=!1}return z}finally{p=null,g=R,x=!1}}var P=!1,M=null,H=-1,Q=5,F=-1;function ae(){return!(e.unstable_now()-F<Q)}function le(){if(M!==null){var ne=e.unstable_now();F=ne;var me=!0;try{me=M(!0,ne)}finally{me?ue():(P=!1,M=null)}}else P=!1}var ue;if(typeof L=="function")ue=function(){L(le)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,V=q.port2;q.port1.onmessage=le,ue=function(){V.postMessage(null)}}else ue=function(){C(le,0)};function J(ne){M=ne,P||(P=!0,ue())}function te(ne,me){H=C(function(){ne(e.unstable_now())},me)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ne){ne.callback=null},e.unstable_continueExecution=function(){w||x||(w=!0,J($))},e.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<ne?Math.floor(1e3/ne):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(ne){switch(g){case 1:case 2:case 3:var me=3;break;default:me=g}var R=g;g=me;try{return ne()}finally{g=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ne,me){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var R=g;g=ne;try{return me()}finally{g=R}},e.unstable_scheduleCallback=function(ne,me,R){var G=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?G+R:G):R=G,ne){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=R+ye,ne={id:h++,callback:me,priorityLevel:ne,startTime:R,expirationTime:ye,sortIndex:-1},R>G?(ne.sortIndex=R,t(c,ne),n(u)===null&&ne===n(c)&&(S?(E(H),H=-1):S=!0,te(B,R-G))):(ne.sortIndex=ye,t(u,ne),w||x||(w=!0,J($))),ne},e.unstable_shouldYield=ae,e.unstable_wrapCallback=function(ne){var me=g;return function(){var R=g;g=me;try{return ne.apply(this,arguments)}finally{g=R}}}}(n0)),n0}var X2;function c9(){return X2||(X2=1,t0.exports=u9()),t0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J2;function d9(){if(J2)return Ur;J2=1;var e=qp(),t=c9();function n(l){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(l,d){o(l,d),o(l+"Capture",d)}function o(l,d){for(i[l]=d,l=0;l<d.length;l++)r.add(d[l])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function g(l){return u.call(p,l)?!0:u.call(h,l)?!1:c.test(l)?p[l]=!0:(h[l]=!0,!1)}function x(l,d,m,v){if(m!==null&&m.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return v?!1:m!==null?!m.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function w(l,d,m,v){if(d===null||typeof d>"u"||x(l,d,m,v))return!0;if(v)return!1;if(m!==null)switch(m.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function S(l,d,m,v,_,j,D){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=v,this.attributeNamespace=_,this.mustUseProperty=m,this.propertyName=l,this.type=d,this.sanitizeURL=j,this.removeEmptyString=D}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){C[l]=new S(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var d=l[0];C[d]=new S(d,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){C[l]=new S(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){C[l]=new S(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){C[l]=new S(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){C[l]=new S(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){C[l]=new S(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){C[l]=new S(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){C[l]=new S(l,5,!1,l.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function L(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var d=l.replace(E,L);C[d]=new S(d,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var d=l.replace(E,L);C[d]=new S(d,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var d=l.replace(E,L);C[d]=new S(d,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){C[l]=new S(l,1,!1,l.toLowerCase(),null,!1,!1)}),C.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){C[l]=new S(l,1,!1,l.toLowerCase(),null,!0,!0)});function A(l,d,m,v){var _=C.hasOwnProperty(d)?C[d]:null;(_!==null?_.type!==0:v||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(w(d,m,_,v)&&(m=null),v||_===null?g(d)&&(m===null?l.removeAttribute(d):l.setAttribute(d,""+m)):_.mustUseProperty?l[_.propertyName]=m===null?_.type===3?!1:"":m:(d=_.attributeName,v=_.attributeNamespace,m===null?l.removeAttribute(d):(_=_.type,m=_===3||_===4&&m===!0?"":""+m,v?l.setAttributeNS(v,d,m):l.setAttribute(d,m))))}var B=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),P=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),ae=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),ne=Symbol.iterator;function me(l){return l===null||typeof l!="object"?null:(l=ne&&l[ne]||l["@@iterator"],typeof l=="function"?l:null)}var R=Object.assign,G;function ye(l){if(G===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);G=d&&d[1]||""}return`
`+G+l}var z=!1;function Me(l,d){if(!l||z)return"";z=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(be){var v=be}Reflect.construct(l,[],d)}else{try{d.call()}catch(be){v=be}l.call(d.prototype)}else{try{throw Error()}catch(be){v=be}l()}}catch(be){if(be&&v&&typeof be.stack=="string"){for(var _=be.stack.split(`
`),j=v.stack.split(`
`),D=_.length-1,W=j.length-1;1<=D&&0<=W&&_[D]!==j[W];)W--;for(;1<=D&&0<=W;D--,W--)if(_[D]!==j[W]){if(D!==1||W!==1)do if(D--,W--,0>W||_[D]!==j[W]){var Z=`
`+_[D].replace(" at new "," at ");return l.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",l.displayName)),Z}while(1<=D&&0<=W);break}}}finally{z=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?ye(l):""}function je(l){switch(l.tag){case 5:return ye(l.type);case 16:return ye("Lazy");case 13:return ye("Suspense");case 19:return ye("SuspenseList");case 0:case 2:case 15:return l=Me(l.type,!1),l;case 11:return l=Me(l.type.render,!1),l;case 1:return l=Me(l.type,!0),l;default:return""}}function Ee(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case M:return"Fragment";case P:return"Portal";case Q:return"Profiler";case H:return"StrictMode";case ue:return"Suspense";case q:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case ae:return(l.displayName||"Context")+".Consumer";case F:return(l._context.displayName||"Context")+".Provider";case le:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case V:return d=l.displayName||null,d!==null?d:Ee(l.type)||"Memo";case J:d=l._payload,l=l._init;try{return Ee(l(d))}catch{}}return null}function Ye(l){var d=l.type;switch(l.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=d.render,l=l.displayName||l.name||"",d.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ee(d);case 8:return d===H?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function Ke(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Pe(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function ht(l){var d=Pe(l)?"checked":"value",m=Object.getOwnPropertyDescriptor(l.constructor.prototype,d),v=""+l[d];if(!l.hasOwnProperty(d)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var _=m.get,j=m.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return _.call(this)},set:function(D){v=""+D,j.call(this,D)}}),Object.defineProperty(l,d,{enumerable:m.enumerable}),{getValue:function(){return v},setValue:function(D){v=""+D},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function ln(l){l._valueTracker||(l._valueTracker=ht(l))}function Tt(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var m=d.getValue(),v="";return l&&(v=Pe(l)?l.checked?"true":"false":l.value),l=v,l!==m?(d.setValue(l),!0):!1}function fn(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function un(l,d){var m=d.checked;return R({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??l._wrapperState.initialChecked})}function jn(l,d){var m=d.defaultValue==null?"":d.defaultValue,v=d.checked!=null?d.checked:d.defaultChecked;m=Ke(d.value!=null?d.value:m),l._wrapperState={initialChecked:v,initialValue:m,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function js(l,d){d=d.checked,d!=null&&A(l,"checked",d,!1)}function Ai(l,d){js(l,d);var m=Ke(d.value),v=d.type;if(m!=null)v==="number"?(m===0&&l.value===""||l.value!=m)&&(l.value=""+m):l.value!==""+m&&(l.value=""+m);else if(v==="submit"||v==="reset"){l.removeAttribute("value");return}d.hasOwnProperty("value")?is(l,d.type,m):d.hasOwnProperty("defaultValue")&&is(l,d.type,Ke(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(l.defaultChecked=!!d.defaultChecked)}function fo(l,d,m){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var v=d.type;if(!(v!=="submit"&&v!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+l._wrapperState.initialValue,m||d===l.value||(l.value=d),l.defaultValue=d}m=l.name,m!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,m!==""&&(l.name=m)}function is(l,d,m){(d!=="number"||fn(l.ownerDocument)!==l)&&(m==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+m&&(l.defaultValue=""+m))}var Ar=Array.isArray;function En(l,d,m,v){if(l=l.options,d){d={};for(var _=0;_<m.length;_++)d["$"+m[_]]=!0;for(m=0;m<l.length;m++)_=d.hasOwnProperty("$"+l[m].value),l[m].selected!==_&&(l[m].selected=_),_&&v&&(l[m].defaultSelected=!0)}else{for(m=""+Ke(m),d=null,_=0;_<l.length;_++){if(l[_].value===m){l[_].selected=!0,v&&(l[_].defaultSelected=!0);return}d!==null||l[_].disabled||(d=l[_])}d!==null&&(d.selected=!0)}}function sr(l,d){if(d.dangerouslySetInnerHTML!=null)throw Error(n(91));return R({},d,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function or(l,d){var m=d.value;if(m==null){if(m=d.children,d=d.defaultValue,m!=null){if(d!=null)throw Error(n(92));if(Ar(m)){if(1<m.length)throw Error(n(93));m=m[0]}d=m}d==null&&(d=""),m=d}l._wrapperState={initialValue:Ke(m)}}function ss(l,d){var m=Ke(d.value),v=Ke(d.defaultValue);m!=null&&(m=""+m,m!==l.value&&(l.value=m),d.defaultValue==null&&l.defaultValue!==m&&(l.defaultValue=m)),v!=null&&(l.defaultValue=""+v)}function Dr(l){var d=l.textContent;d===l._wrapperState.initialValue&&d!==""&&d!==null&&(l.value=d)}function Ce(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oe(l,d){return l==null||l==="http://www.w3.org/1999/xhtml"?Ce(d):l==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var lt,pt=function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,m,v,_){MSApp.execUnsafeLocalFunction(function(){return l(d,m,v,_)})}:l}(function(l,d){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=d;else{for(lt=lt||document.createElement("div"),lt.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=lt.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;d.firstChild;)l.appendChild(d.firstChild)}});function Nt(l,d){if(d){var m=l.firstChild;if(m&&m===l.lastChild&&m.nodeType===3){m.nodeValue=d;return}}l.textContent=d}var Kt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ln=["Webkit","ms","Moz","O"];Object.keys(Kt).forEach(function(l){Ln.forEach(function(d){d=d+l.charAt(0).toUpperCase()+l.substring(1),Kt[d]=Kt[l]})});function An(l,d,m){return d==null||typeof d=="boolean"||d===""?"":m||typeof d!="number"||d===0||Kt.hasOwnProperty(l)&&Kt[l]?(""+d).trim():d+"px"}function _r(l,d){l=l.style;for(var m in d)if(d.hasOwnProperty(m)){var v=m.indexOf("--")===0,_=An(m,d[m],v);m==="float"&&(m="cssFloat"),v?l.setProperty(m,_):l[m]=_}}var qn=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ve(l,d){if(d){if(qn[l]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(n(137,l));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(n(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(n(61))}if(d.style!=null&&typeof d.style!="object")throw Error(n(62))}}function Tn(l,d){if(l.indexOf("-")===-1)return typeof d.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pn=null;function mi(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var We=null,Jr=null,Di=null;function Es(l){if(l=gc(l)){if(typeof We!="function")throw Error(n(280));var d=l.stateNode;d&&(d=Th(d),We(l.stateNode,l.type,d))}}function os(l){Jr?Di?Di.push(l):Di=[l]:Jr=l}function Ii(){if(Jr){var l=Jr,d=Di;if(Di=Jr=null,Es(l),d)for(l=0;l<d.length;l++)Es(d[l])}}function _l(l,d){return l(d)}function Sl(){}var X=!1;function pe(l,d,m){if(X)return l(d,m);X=!0;try{return _l(l,d,m)}finally{X=!1,(Jr!==null||Di!==null)&&(Sl(),Ii())}}function _e(l,d){var m=l.stateNode;if(m===null)return null;var v=Th(m);if(v===null)return null;m=v[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(l=l.type,v=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!v;break e;default:l=!1}if(l)return null;if(m&&typeof m!="function")throw Error(n(231,d,typeof m));return m}var Ae=!1;if(a)try{var Te={};Object.defineProperty(Te,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Te,Te),window.removeEventListener("test",Te,Te)}catch{Ae=!1}function qe(l,d,m,v,_,j,D,W,Z){var be=Array.prototype.slice.call(arguments,3);try{d.apply(m,be)}catch(Le){this.onError(Le)}}var rt=!1,Je=null,tt=!1,at=null,ot={onError:function(l){rt=!0,Je=l}};function et(l,d,m,v,_,j,D,W,Z){rt=!1,Je=null,qe.apply(ot,arguments)}function _t(l,d,m,v,_,j,D,W,Z){if(et.apply(this,arguments),rt){if(rt){var be=Je;rt=!1,Je=null}else throw Error(n(198));tt||(tt=!0,at=be)}}function Pt(l){var d=l,m=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(m=d.return),l=d.return;while(l)}return d.tag===3?m:null}function mn(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function Dn(l){if(Pt(l)!==l)throw Error(n(188))}function Ht(l){var d=l.alternate;if(!d){if(d=Pt(l),d===null)throw Error(n(188));return d!==l?null:l}for(var m=l,v=d;;){var _=m.return;if(_===null)break;var j=_.alternate;if(j===null){if(v=_.return,v!==null){m=v;continue}break}if(_.child===j.child){for(j=_.child;j;){if(j===m)return Dn(_),l;if(j===v)return Dn(_),d;j=j.sibling}throw Error(n(188))}if(m.return!==v.return)m=_,v=j;else{for(var D=!1,W=_.child;W;){if(W===m){D=!0,m=_,v=j;break}if(W===v){D=!0,v=_,m=j;break}W=W.sibling}if(!D){for(W=j.child;W;){if(W===m){D=!0,m=j,v=_;break}if(W===v){D=!0,v=j,m=_;break}W=W.sibling}if(!D)throw Error(n(189))}}if(m.alternate!==v)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?l:d}function Gt(l){return l=Ht(l),l!==null?Kn(l):null}function Kn(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var d=Kn(l);if(d!==null)return d;l=l.sibling}return null}var Ri=t.unstable_scheduleCallback,Sr=t.unstable_cancelCallback,$t=t.unstable_shouldYield,Zr=t.unstable_requestPaint,Lt=t.unstable_now,gi=t.unstable_getCurrentPriorityLevel,Cr=t.unstable_ImmediatePriority,yi=t.unstable_UserBlockingPriority,At=t.unstable_NormalPriority,Sn=t.unstable_LowPriority,kr=t.unstable_IdlePriority,ei=null,Bt=null;function Ts(l){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(ei,l,void 0,(l.current.flags&128)===128)}catch{}}var ft=Math.clz32?Math.clz32:uh,Cl=Math.log,lh=Math.LN2;function uh(l){return l>>>=0,l===0?32:31-(Cl(l)/lh|0)|0}var Xt=64,as=4194304;function Mi(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Fi(l,d){var m=l.pendingLanes;if(m===0)return 0;var v=0,_=l.suspendedLanes,j=l.pingedLanes,D=m&268435455;if(D!==0){var W=D&~_;W!==0?v=Mi(W):(j&=D,j!==0&&(v=Mi(j)))}else D=m&~_,D!==0?v=Mi(D):j!==0&&(v=Mi(j));if(v===0)return 0;if(d!==0&&d!==v&&(d&_)===0&&(_=v&-v,j=d&-d,_>=j||_===16&&(j&4194240)!==0))return d;if((v&4)!==0&&(v|=m&16),d=l.entangledLanes,d!==0)for(l=l.entanglements,d&=v;0<d;)m=31-ft(d),_=1<<m,v|=l[m],d&=~_;return v}function Zu(l,d){switch(l){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ec(l,d){for(var m=l.suspendedLanes,v=l.pingedLanes,_=l.expirationTimes,j=l.pendingLanes;0<j;){var D=31-ft(j),W=1<<D,Z=_[D];Z===-1?((W&m)===0||(W&v)!==0)&&(_[D]=Zu(W,d)):Z<=d&&(l.expiredLanes|=W),j&=~W}}function po(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function tc(){var l=Xt;return Xt<<=1,(Xt&4194240)===0&&(Xt=64),l}function mo(l){for(var d=[],m=0;31>m;m++)d.push(l);return d}function go(l,d,m){l.pendingLanes|=d,d!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,d=31-ft(d),l[d]=m}function la(l,d){var m=l.pendingLanes&~d;l.pendingLanes=d,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=d,l.mutableReadLanes&=d,l.entangledLanes&=d,d=l.entanglements;var v=l.eventTimes;for(l=l.expirationTimes;0<m;){var _=31-ft(m),j=1<<_;d[_]=0,v[_]=-1,l[_]=-1,m&=~j}}function kl(l,d){var m=l.entangledLanes|=d;for(l=l.entanglements;m;){var v=31-ft(m),_=1<<v;_&d|l[v]&d&&(l[v]|=d),m&=~_}}var Yt=0;function zt(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var jl,nc,ch,ar,Ns,yo=!1,ti=[],Bi=null,zi=null,tn=null,lr=new Map,$i=new Map,Ir=[],rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ui(l,d){switch(l){case"focusin":case"focusout":Bi=null;break;case"dragenter":case"dragleave":zi=null;break;case"mouseover":case"mouseout":tn=null;break;case"pointerover":case"pointerout":lr.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":$i.delete(d.pointerId)}}function ua(l,d,m,v,_,j){return l===null||l.nativeEvent!==j?(l={blockedOn:d,domEventName:m,eventSystemFlags:v,nativeEvent:j,targetContainers:[_]},d!==null&&(d=gc(d),d!==null&&nc(d)),l):(l.eventSystemFlags|=v,d=l.targetContainers,_!==null&&d.indexOf(_)===-1&&d.push(_),l)}function vi(l,d,m,v,_){switch(d){case"focusin":return Bi=ua(Bi,l,d,m,v,_),!0;case"dragenter":return zi=ua(zi,l,d,m,v,_),!0;case"mouseover":return tn=ua(tn,l,d,m,v,_),!0;case"pointerover":var j=_.pointerId;return lr.set(j,ua(lr.get(j)||null,l,d,m,v,_)),!0;case"gotpointercapture":return j=_.pointerId,$i.set(j,ua($i.get(j)||null,l,d,m,v,_)),!0}return!1}function El(l){var d=Sa(l.target);if(d!==null){var m=Pt(d);if(m!==null){if(d=m.tag,d===13){if(d=mn(m),d!==null){l.blockedOn=d,Ns(l.priority,function(){ch(m)});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){l.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}l.blockedOn=null}function ca(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var m=ha(l.domEventName,l.eventSystemFlags,d[0],l.nativeEvent);if(m===null){m=l.nativeEvent;var v=new m.constructor(m.type,m);pn=v,m.target.dispatchEvent(v),pn=null}else return d=gc(m),d!==null&&nc(d),l.blockedOn=m,!1;d.shift()}return!0}function Tl(l,d,m){ca(l)&&m.delete(d)}function da(){yo=!1,Bi!==null&&ca(Bi)&&(Bi=null),zi!==null&&ca(zi)&&(zi=null),tn!==null&&ca(tn)&&(tn=null),lr.forEach(Tl),$i.forEach(Tl)}function Ps(l,d){l.blockedOn===d&&(l.blockedOn=null,yo||(yo=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,da)))}function vo(l){function d(_){return Ps(_,l)}if(0<ti.length){Ps(ti[0],l);for(var m=1;m<ti.length;m++){var v=ti[m];v.blockedOn===l&&(v.blockedOn=null)}}for(Bi!==null&&Ps(Bi,l),zi!==null&&Ps(zi,l),tn!==null&&Ps(tn,l),lr.forEach(d),$i.forEach(d),m=0;m<Ir.length;m++)v=Ir[m],v.blockedOn===l&&(v.blockedOn=null);for(;0<Ir.length&&(m=Ir[0],m.blockedOn===null);)El(m),m.blockedOn===null&&Ir.shift()}var xo=B.ReactCurrentBatchConfig,ls=!0;function Am(l,d,m,v){var _=Yt,j=xo.transition;xo.transition=null;try{Yt=1,bo(l,d,m,v)}finally{Yt=_,xo.transition=j}}function Dm(l,d,m,v){var _=Yt,j=xo.transition;xo.transition=null;try{Yt=4,bo(l,d,m,v)}finally{Yt=_,xo.transition=j}}function bo(l,d,m,v){if(ls){var _=ha(l,d,m,v);if(_===null)Um(l,d,v,Os,m),Ui(l,v);else if(vi(_,l,d,m,v))v.stopPropagation();else if(Ui(l,v),d&4&&-1<rc.indexOf(l)){for(;_!==null;){var j=gc(_);if(j!==null&&jl(j),j=ha(l,d,m,v),j===null&&Um(l,d,v,Os,m),j===_)break;_=j}_!==null&&v.stopPropagation()}else Um(l,d,v,null,m)}}var Os=null;function ha(l,d,m,v){if(Os=null,l=mi(v),l=Sa(l),l!==null)if(d=Pt(l),d===null)l=null;else if(m=d.tag,m===13){if(l=mn(d),l!==null)return l;l=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null);return Os=l,null}function dh(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gi()){case Cr:return 1;case yi:return 4;case At:case Sn:return 16;case kr:return 536870912;default:return 16}default:return 16}}var us=null,ic=null,wo=null;function Nl(){if(wo)return wo;var l,d=ic,m=d.length,v,_="value"in us?us.value:us.textContent,j=_.length;for(l=0;l<m&&d[l]===_[l];l++);var D=m-l;for(v=1;v<=D&&d[m-v]===_[j-v];v++);return wo=_.slice(l,1<v?1-v:void 0)}function fa(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function Ls(){return!0}function pa(){return!1}function Gn(l){function d(m,v,_,j,D){this._reactName=m,this._targetInst=_,this.type=v,this.nativeEvent=j,this.target=D,this.currentTarget=null;for(var W in l)l.hasOwnProperty(W)&&(m=l[W],this[W]=m?m(j):j[W]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Ls:pa,this.isPropagationStopped=pa,this}return R(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Ls)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Ls)},persist:function(){},isPersistent:Ls}),d}var As={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sc=Gn(As),cs=R({},As,{view:0,detail:0}),oc=Gn(cs),ma,ga,Ds,Nn=R({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:va,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Ds&&(Ds&&l.type==="mousemove"?(ma=l.screenX-Ds.screenX,ga=l.screenY-Ds.screenY):ga=ma=0,Ds=l),ma)},movementY:function(l){return"movementY"in l?l.movementY:ga}}),_o=Gn(Nn),ya=R({},Nn,{dataTransfer:0}),hh=Gn(ya),Pl=R({},cs,{relatedTarget:0}),Ol=Gn(Pl),fh=R({},As,{animationName:0,elapsedTime:0,pseudoElement:0}),Ll=Gn(fh),ac=R({},As,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Is=Gn(ac),lc=R({},As,{data:0}),Al=Gn(lc),Dl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ph={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Im(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=ph[l])?!!d[l]:!1}function va(){return Im}var Il=R({},cs,{key:function(l){if(l.key){var d=Dl[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=fa(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?uc[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:va,charCode:function(l){return l.type==="keypress"?fa(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?fa(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Rm=Gn(Il),cc=R({},Nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rl=Gn(cc),Mm=R({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:va}),mh=Gn(Mm),Fm=R({},As,{propertyName:0,elapsedTime:0,pseudoElement:0}),gh=Gn(Fm),yh=R({},Nn,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Bm=Gn(yh),vh=[9,13,27,32],xa=a&&"CompositionEvent"in window,So=null;a&&"documentMode"in document&&(So=document.documentMode);var xh=a&&"TextEvent"in window&&!So,bh=a&&(!xa||So&&8<So&&11>=So),wh=" ",_h=!1;function ba(l,d){switch(l){case"keyup":return vh.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xi(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Zt=!1;function Ml(l,d){switch(l){case"compositionend":return xi(d);case"keypress":return d.which!==32?null:(_h=!0,wh);case"textInput":return l=d.data,l===wh&&_h?null:l;default:return null}}function Rr(l,d){if(Zt)return l==="compositionend"||!xa&&ba(l,d)?(l=Nl(),wo=ic=us=null,Zt=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return bh&&d.locale!=="ko"?null:d.data;default:return null}}var zm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fl(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!zm[l.type]:d==="textarea"}function dc(l,d,m,v){os(v),d=kh(d,"onChange"),0<d.length&&(m=new sc("onChange","change",null,m,v),l.push({event:m,listeners:d}))}var ni=null,Rs=null;function Co(l){ax(l,0)}function ri(l){var d=$l(l);if(Tt(d))return l}function Sh(l,d){if(l==="change")return d}var y=!1;if(a){var b;if(a){var k="oninput"in document;if(!k){var T=document.createElement("div");T.setAttribute("oninput","return;"),k=typeof T.oninput=="function"}b=k}else b=!1;y=b&&(!document.documentMode||9<document.documentMode)}function O(){ni&&(ni.detachEvent("onpropertychange",I),Rs=ni=null)}function I(l){if(l.propertyName==="value"&&ri(Rs)){var d=[];dc(d,Rs,l,mi(l)),pe(Co,d)}}function U(l,d,m){l==="focusin"?(O(),ni=d,Rs=m,ni.attachEvent("onpropertychange",I)):l==="focusout"&&O()}function K(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return ri(Rs)}function ee(l,d){if(l==="click")return ri(d)}function ie(l,d){if(l==="input"||l==="change")return ri(d)}function de(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var Y=typeof Object.is=="function"?Object.is:de;function he(l,d){if(Y(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var m=Object.keys(l),v=Object.keys(d);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var _=m[v];if(!u.call(d,_)||!Y(l[_],d[_]))return!1}return!0}function re(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function ce(l,d){var m=re(l);l=0;for(var v;m;){if(m.nodeType===3){if(v=l+m.textContent.length,l<=d&&v>=d)return{node:m,offset:d-l};l=v}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=re(m)}}function fe(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?fe(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function oe(){for(var l=window,d=fn();d instanceof l.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch{m=!1}if(m)l=d.contentWindow;else break;d=fn(l.document)}return d}function ve(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}function we(l){var d=oe(),m=l.focusedElem,v=l.selectionRange;if(d!==m&&m&&m.ownerDocument&&fe(m.ownerDocument.documentElement,m)){if(v!==null&&ve(m)){if(d=v.start,l=v.end,l===void 0&&(l=d),"selectionStart"in m)m.selectionStart=d,m.selectionEnd=Math.min(l,m.value.length);else if(l=(d=m.ownerDocument||document)&&d.defaultView||window,l.getSelection){l=l.getSelection();var _=m.textContent.length,j=Math.min(v.start,_);v=v.end===void 0?j:Math.min(v.end,_),!l.extend&&j>v&&(_=v,v=j,j=_),_=ce(m,j);var D=ce(m,v);_&&D&&(l.rangeCount!==1||l.anchorNode!==_.node||l.anchorOffset!==_.offset||l.focusNode!==D.node||l.focusOffset!==D.offset)&&(d=d.createRange(),d.setStart(_.node,_.offset),l.removeAllRanges(),j>v?(l.addRange(d),l.extend(D.node,D.offset)):(d.setEnd(D.node,D.offset),l.addRange(d)))}}for(d=[],l=m;l=l.parentNode;)l.nodeType===1&&d.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<d.length;m++)l=d[m],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var Se=a&&"documentMode"in document&&11>=document.documentMode,ke=null,Ie=null,Ue=null,Re=!1;function Be(l,d,m){var v=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Re||ke==null||ke!==fn(v)||(v=ke,"selectionStart"in v&&ve(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Ue&&he(Ue,v)||(Ue=v,v=kh(Ie,"onSelect"),0<v.length&&(d=new sc("onSelect","select",null,d,m),l.push({event:d,listeners:v}),d.target=ke)))}function Qe(l,d){var m={};return m[l.toLowerCase()]=d.toLowerCase(),m["Webkit"+l]="webkit"+d,m["Moz"+l]="moz"+d,m}var ze={animationend:Qe("Animation","AnimationEnd"),animationiteration:Qe("Animation","AnimationIteration"),animationstart:Qe("Animation","AnimationStart"),transitionend:Qe("Transition","TransitionEnd")},Ge={},yt={};a&&(yt=document.createElement("div").style,"AnimationEvent"in window||(delete ze.animationend.animation,delete ze.animationiteration.animation,delete ze.animationstart.animation),"TransitionEvent"in window||delete ze.transitionend.transition);function bt(l){if(Ge[l])return Ge[l];if(!ze[l])return l;var d=ze[l],m;for(m in d)if(d.hasOwnProperty(m)&&m in yt)return Ge[l]=d[m];return l}var kt=bt("animationend"),ur=bt("animationiteration"),gt=bt("animationstart"),Bn=bt("transitionend"),zn=new Map,wa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gn(l,d){zn.set(l,d),s(d,[l])}for(var Hi=0;Hi<wa.length;Hi++){var _a=wa[Hi],h8=_a.toLowerCase(),f8=_a[0].toUpperCase()+_a.slice(1);gn(h8,"on"+f8)}gn(kt,"onAnimationEnd"),gn(ur,"onAnimationIteration"),gn(gt,"onAnimationStart"),gn("dblclick","onDoubleClick"),gn("focusin","onFocus"),gn("focusout","onBlur"),gn(Bn,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p8=new Set("cancel close invalid load scroll toggle".split(" ").concat(hc));function ox(l,d,m){var v=l.type||"unknown-event";l.currentTarget=m,_t(v,d,void 0,l),l.currentTarget=null}function ax(l,d){d=(d&4)!==0;for(var m=0;m<l.length;m++){var v=l[m],_=v.event;v=v.listeners;e:{var j=void 0;if(d)for(var D=v.length-1;0<=D;D--){var W=v[D],Z=W.instance,be=W.currentTarget;if(W=W.listener,Z!==j&&_.isPropagationStopped())break e;ox(_,W,be),j=Z}else for(D=0;D<v.length;D++){if(W=v[D],Z=W.instance,be=W.currentTarget,W=W.listener,Z!==j&&_.isPropagationStopped())break e;ox(_,W,be),j=Z}}}if(tt)throw l=at,tt=!1,at=null,l}function cn(l,d){var m=d[Km];m===void 0&&(m=d[Km]=new Set);var v=l+"__bubble";m.has(v)||(lx(d,l,2,!1),m.add(v))}function $m(l,d,m){var v=0;d&&(v|=4),lx(m,l,v,d)}var Ch="_reactListening"+Math.random().toString(36).slice(2);function fc(l){if(!l[Ch]){l[Ch]=!0,r.forEach(function(m){m!=="selectionchange"&&(p8.has(m)||$m(m,!1,l),$m(m,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[Ch]||(d[Ch]=!0,$m("selectionchange",!1,d))}}function lx(l,d,m,v){switch(dh(d)){case 1:var _=Am;break;case 4:_=Dm;break;default:_=bo}m=_.bind(null,d,m,l),_=void 0,!Ae||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(_=!0),v?_!==void 0?l.addEventListener(d,m,{capture:!0,passive:_}):l.addEventListener(d,m,!0):_!==void 0?l.addEventListener(d,m,{passive:_}):l.addEventListener(d,m,!1)}function Um(l,d,m,v,_){var j=v;if((d&1)===0&&(d&2)===0&&v!==null)e:for(;;){if(v===null)return;var D=v.tag;if(D===3||D===4){var W=v.stateNode.containerInfo;if(W===_||W.nodeType===8&&W.parentNode===_)break;if(D===4)for(D=v.return;D!==null;){var Z=D.tag;if((Z===3||Z===4)&&(Z=D.stateNode.containerInfo,Z===_||Z.nodeType===8&&Z.parentNode===_))return;D=D.return}for(;W!==null;){if(D=Sa(W),D===null)return;if(Z=D.tag,Z===5||Z===6){v=j=D;continue e}W=W.parentNode}}v=v.return}pe(function(){var be=j,Le=mi(m),De=[];e:{var Ne=zn.get(l);if(Ne!==void 0){var Xe=sc,nt=l;switch(l){case"keypress":if(fa(m)===0)break e;case"keydown":case"keyup":Xe=Rm;break;case"focusin":nt="focus",Xe=Ol;break;case"focusout":nt="blur",Xe=Ol;break;case"beforeblur":case"afterblur":Xe=Ol;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Xe=_o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Xe=hh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Xe=mh;break;case kt:case ur:case gt:Xe=Ll;break;case Bn:Xe=gh;break;case"scroll":Xe=oc;break;case"wheel":Xe=Bm;break;case"copy":case"cut":case"paste":Xe=Is;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Xe=Rl}var it=(d&4)!==0,Pn=!it&&l==="scroll",ge=it?Ne!==null?Ne+"Capture":null:Ne;it=[];for(var se=be,xe;se!==null;){xe=se;var $e=xe.stateNode;if(xe.tag===5&&$e!==null&&(xe=$e,ge!==null&&($e=_e(se,ge),$e!=null&&it.push(pc(se,$e,xe)))),Pn)break;se=se.return}0<it.length&&(Ne=new Xe(Ne,nt,null,m,Le),De.push({event:Ne,listeners:it}))}}if((d&7)===0){e:{if(Ne=l==="mouseover"||l==="pointerover",Xe=l==="mouseout"||l==="pointerout",Ne&&m!==pn&&(nt=m.relatedTarget||m.fromElement)&&(Sa(nt)||nt[Ms]))break e;if((Xe||Ne)&&(Ne=Le.window===Le?Le:(Ne=Le.ownerDocument)?Ne.defaultView||Ne.parentWindow:window,Xe?(nt=m.relatedTarget||m.toElement,Xe=be,nt=nt?Sa(nt):null,nt!==null&&(Pn=Pt(nt),nt!==Pn||nt.tag!==5&&nt.tag!==6)&&(nt=null)):(Xe=null,nt=be),Xe!==nt)){if(it=_o,$e="onMouseLeave",ge="onMouseEnter",se="mouse",(l==="pointerout"||l==="pointerover")&&(it=Rl,$e="onPointerLeave",ge="onPointerEnter",se="pointer"),Pn=Xe==null?Ne:$l(Xe),xe=nt==null?Ne:$l(nt),Ne=new it($e,se+"leave",Xe,m,Le),Ne.target=Pn,Ne.relatedTarget=xe,$e=null,Sa(Le)===be&&(it=new it(ge,se+"enter",nt,m,Le),it.target=xe,it.relatedTarget=Pn,$e=it),Pn=$e,Xe&&nt)t:{for(it=Xe,ge=nt,se=0,xe=it;xe;xe=Bl(xe))se++;for(xe=0,$e=ge;$e;$e=Bl($e))xe++;for(;0<se-xe;)it=Bl(it),se--;for(;0<xe-se;)ge=Bl(ge),xe--;for(;se--;){if(it===ge||ge!==null&&it===ge.alternate)break t;it=Bl(it),ge=Bl(ge)}it=null}else it=null;Xe!==null&&ux(De,Ne,Xe,it,!1),nt!==null&&Pn!==null&&ux(De,Pn,nt,it,!0)}}e:{if(Ne=be?$l(be):window,Xe=Ne.nodeName&&Ne.nodeName.toLowerCase(),Xe==="select"||Xe==="input"&&Ne.type==="file")var st=Sh;else if(Fl(Ne))if(y)st=ie;else{st=K;var ut=U}else(Xe=Ne.nodeName)&&Xe.toLowerCase()==="input"&&(Ne.type==="checkbox"||Ne.type==="radio")&&(st=ee);if(st&&(st=st(l,be))){dc(De,st,m,Le);break e}ut&&ut(l,Ne,be),l==="focusout"&&(ut=Ne._wrapperState)&&ut.controlled&&Ne.type==="number"&&is(Ne,"number",Ne.value)}switch(ut=be?$l(be):window,l){case"focusin":(Fl(ut)||ut.contentEditable==="true")&&(ke=ut,Ie=be,Ue=null);break;case"focusout":Ue=Ie=ke=null;break;case"mousedown":Re=!0;break;case"contextmenu":case"mouseup":case"dragend":Re=!1,Be(De,m,Le);break;case"selectionchange":if(Se)break;case"keydown":case"keyup":Be(De,m,Le)}var ct;if(xa)e:{switch(l){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else Zt?ba(l,m)&&(mt="onCompositionEnd"):l==="keydown"&&m.keyCode===229&&(mt="onCompositionStart");mt&&(bh&&m.locale!=="ko"&&(Zt||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Zt&&(ct=Nl()):(us=Le,ic="value"in us?us.value:us.textContent,Zt=!0)),ut=kh(be,mt),0<ut.length&&(mt=new Al(mt,l,null,m,Le),De.push({event:mt,listeners:ut}),ct?mt.data=ct:(ct=xi(m),ct!==null&&(mt.data=ct)))),(ct=xh?Ml(l,m):Rr(l,m))&&(be=kh(be,"onBeforeInput"),0<be.length&&(Le=new Al("onBeforeInput","beforeinput",null,m,Le),De.push({event:Le,listeners:be}),Le.data=ct))}ax(De,d)})}function pc(l,d,m){return{instance:l,listener:d,currentTarget:m}}function kh(l,d){for(var m=d+"Capture",v=[];l!==null;){var _=l,j=_.stateNode;_.tag===5&&j!==null&&(_=j,j=_e(l,m),j!=null&&v.unshift(pc(l,j,_)),j=_e(l,d),j!=null&&v.push(pc(l,j,_))),l=l.return}return v}function Bl(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function ux(l,d,m,v,_){for(var j=d._reactName,D=[];m!==null&&m!==v;){var W=m,Z=W.alternate,be=W.stateNode;if(Z!==null&&Z===v)break;W.tag===5&&be!==null&&(W=be,_?(Z=_e(m,j),Z!=null&&D.unshift(pc(m,Z,W))):_||(Z=_e(m,j),Z!=null&&D.push(pc(m,Z,W)))),m=m.return}D.length!==0&&l.push({event:d,listeners:D})}var m8=/\r\n?/g,g8=/\u0000|\uFFFD/g;function cx(l){return(typeof l=="string"?l:""+l).replace(m8,`
`).replace(g8,"")}function jh(l,d,m){if(d=cx(d),cx(l)!==d&&m)throw Error(n(425))}function Eh(){}var Hm=null,Qm=null;function Vm(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Wm=typeof setTimeout=="function"?setTimeout:void 0,y8=typeof clearTimeout=="function"?clearTimeout:void 0,dx=typeof Promise=="function"?Promise:void 0,v8=typeof queueMicrotask=="function"?queueMicrotask:typeof dx<"u"?function(l){return dx.resolve(null).then(l).catch(x8)}:Wm;function x8(l){setTimeout(function(){throw l})}function qm(l,d){var m=d,v=0;do{var _=m.nextSibling;if(l.removeChild(m),_&&_.nodeType===8)if(m=_.data,m==="/$"){if(v===0){l.removeChild(_),vo(d);return}v--}else m!=="$"&&m!=="$?"&&m!=="$!"||v++;m=_}while(m);vo(d)}function ko(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return l}function hx(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var m=l.data;if(m==="$"||m==="$!"||m==="$?"){if(d===0)return l;d--}else m==="/$"&&d++}l=l.previousSibling}return null}var zl=Math.random().toString(36).slice(2),ds="__reactFiber$"+zl,mc="__reactProps$"+zl,Ms="__reactContainer$"+zl,Km="__reactEvents$"+zl,b8="__reactListeners$"+zl,w8="__reactHandles$"+zl;function Sa(l){var d=l[ds];if(d)return d;for(var m=l.parentNode;m;){if(d=m[Ms]||m[ds]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(l=hx(l);l!==null;){if(m=l[ds])return m;l=hx(l)}return d}l=m,m=l.parentNode}return null}function gc(l){return l=l[ds]||l[Ms],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function $l(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(n(33))}function Th(l){return l[mc]||null}var Gm=[],Ul=-1;function jo(l){return{current:l}}function dn(l){0>Ul||(l.current=Gm[Ul],Gm[Ul]=null,Ul--)}function rn(l,d){Ul++,Gm[Ul]=l.current,l.current=d}var Eo={},cr=jo(Eo),Mr=jo(!1),Ca=Eo;function Hl(l,d){var m=l.type.contextTypes;if(!m)return Eo;var v=l.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===d)return v.__reactInternalMemoizedMaskedChildContext;var _={},j;for(j in m)_[j]=d[j];return v&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=d,l.__reactInternalMemoizedMaskedChildContext=_),_}function Fr(l){return l=l.childContextTypes,l!=null}function Nh(){dn(Mr),dn(cr)}function fx(l,d,m){if(cr.current!==Eo)throw Error(n(168));rn(cr,d),rn(Mr,m)}function px(l,d,m){var v=l.stateNode;if(d=d.childContextTypes,typeof v.getChildContext!="function")return m;v=v.getChildContext();for(var _ in v)if(!(_ in d))throw Error(n(108,Ye(l)||"Unknown",_));return R({},m,v)}function Ph(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Eo,Ca=cr.current,rn(cr,l),rn(Mr,Mr.current),!0}function mx(l,d,m){var v=l.stateNode;if(!v)throw Error(n(169));m?(l=px(l,d,Ca),v.__reactInternalMemoizedMergedChildContext=l,dn(Mr),dn(cr),rn(cr,l)):dn(Mr),rn(Mr,m)}var Fs=null,Oh=!1,Ym=!1;function gx(l){Fs===null?Fs=[l]:Fs.push(l)}function _8(l){Oh=!0,gx(l)}function To(){if(!Ym&&Fs!==null){Ym=!0;var l=0,d=Yt;try{var m=Fs;for(Yt=1;l<m.length;l++){var v=m[l];do v=v(!0);while(v!==null)}Fs=null,Oh=!1}catch(_){throw Fs!==null&&(Fs=Fs.slice(l+1)),Ri(Cr,To),_}finally{Yt=d,Ym=!1}}return null}var Ql=[],Vl=0,Lh=null,Ah=0,bi=[],wi=0,ka=null,Bs=1,zs="";function ja(l,d){Ql[Vl++]=Ah,Ql[Vl++]=Lh,Lh=l,Ah=d}function yx(l,d,m){bi[wi++]=Bs,bi[wi++]=zs,bi[wi++]=ka,ka=l;var v=Bs;l=zs;var _=32-ft(v)-1;v&=~(1<<_),m+=1;var j=32-ft(d)+_;if(30<j){var D=_-_%5;j=(v&(1<<D)-1).toString(32),v>>=D,_-=D,Bs=1<<32-ft(d)+_|m<<_|v,zs=j+l}else Bs=1<<j|m<<_|v,zs=l}function Xm(l){l.return!==null&&(ja(l,1),yx(l,1,0))}function Jm(l){for(;l===Lh;)Lh=Ql[--Vl],Ql[Vl]=null,Ah=Ql[--Vl],Ql[Vl]=null;for(;l===ka;)ka=bi[--wi],bi[wi]=null,zs=bi[--wi],bi[wi]=null,Bs=bi[--wi],bi[wi]=null}var ii=null,si=null,yn=!1,Qi=null;function vx(l,d){var m=ki(5,null,null,0);m.elementType="DELETED",m.stateNode=d,m.return=l,d=l.deletions,d===null?(l.deletions=[m],l.flags|=16):d.push(m)}function xx(l,d){switch(l.tag){case 5:var m=l.type;return d=d.nodeType!==1||m.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(l.stateNode=d,ii=l,si=ko(d.firstChild),!0):!1;case 6:return d=l.pendingProps===""||d.nodeType!==3?null:d,d!==null?(l.stateNode=d,ii=l,si=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(m=ka!==null?{id:Bs,overflow:zs}:null,l.memoizedState={dehydrated:d,treeContext:m,retryLane:1073741824},m=ki(18,null,null,0),m.stateNode=d,m.return=l,l.child=m,ii=l,si=null,!0):!1;default:return!1}}function Zm(l){return(l.mode&1)!==0&&(l.flags&128)===0}function eg(l){if(yn){var d=si;if(d){var m=d;if(!xx(l,d)){if(Zm(l))throw Error(n(418));d=ko(m.nextSibling);var v=ii;d&&xx(l,d)?vx(v,m):(l.flags=l.flags&-4097|2,yn=!1,ii=l)}}else{if(Zm(l))throw Error(n(418));l.flags=l.flags&-4097|2,yn=!1,ii=l}}}function bx(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;ii=l}function Dh(l){if(l!==ii)return!1;if(!yn)return bx(l),yn=!0,!1;var d;if((d=l.tag!==3)&&!(d=l.tag!==5)&&(d=l.type,d=d!=="head"&&d!=="body"&&!Vm(l.type,l.memoizedProps)),d&&(d=si)){if(Zm(l))throw wx(),Error(n(418));for(;d;)vx(l,d),d=ko(d.nextSibling)}if(bx(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));e:{for(l=l.nextSibling,d=0;l;){if(l.nodeType===8){var m=l.data;if(m==="/$"){if(d===0){si=ko(l.nextSibling);break e}d--}else m!=="$"&&m!=="$!"&&m!=="$?"||d++}l=l.nextSibling}si=null}}else si=ii?ko(l.stateNode.nextSibling):null;return!0}function wx(){for(var l=si;l;)l=ko(l.nextSibling)}function Wl(){si=ii=null,yn=!1}function tg(l){Qi===null?Qi=[l]:Qi.push(l)}var S8=B.ReactCurrentBatchConfig;function yc(l,d,m){if(l=m.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var v=m.stateNode}if(!v)throw Error(n(147,l));var _=v,j=""+l;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===j?d.ref:(d=function(D){var W=_.refs;D===null?delete W[j]:W[j]=D},d._stringRef=j,d)}if(typeof l!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,l))}return l}function Ih(l,d){throw l=Object.prototype.toString.call(d),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l))}function _x(l){var d=l._init;return d(l._payload)}function Sx(l){function d(ge,se){if(l){var xe=ge.deletions;xe===null?(ge.deletions=[se],ge.flags|=16):xe.push(se)}}function m(ge,se){if(!l)return null;for(;se!==null;)d(ge,se),se=se.sibling;return null}function v(ge,se){for(ge=new Map;se!==null;)se.key!==null?ge.set(se.key,se):ge.set(se.index,se),se=se.sibling;return ge}function _(ge,se){return ge=Ro(ge,se),ge.index=0,ge.sibling=null,ge}function j(ge,se,xe){return ge.index=xe,l?(xe=ge.alternate,xe!==null?(xe=xe.index,xe<se?(ge.flags|=2,se):xe):(ge.flags|=2,se)):(ge.flags|=1048576,se)}function D(ge){return l&&ge.alternate===null&&(ge.flags|=2),ge}function W(ge,se,xe,$e){return se===null||se.tag!==6?(se=Wg(xe,ge.mode,$e),se.return=ge,se):(se=_(se,xe),se.return=ge,se)}function Z(ge,se,xe,$e){var st=xe.type;return st===M?Le(ge,se,xe.props.children,$e,xe.key):se!==null&&(se.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===J&&_x(st)===se.type)?($e=_(se,xe.props),$e.ref=yc(ge,se,xe),$e.return=ge,$e):($e=of(xe.type,xe.key,xe.props,null,ge.mode,$e),$e.ref=yc(ge,se,xe),$e.return=ge,$e)}function be(ge,se,xe,$e){return se===null||se.tag!==4||se.stateNode.containerInfo!==xe.containerInfo||se.stateNode.implementation!==xe.implementation?(se=qg(xe,ge.mode,$e),se.return=ge,se):(se=_(se,xe.children||[]),se.return=ge,se)}function Le(ge,se,xe,$e,st){return se===null||se.tag!==7?(se=Da(xe,ge.mode,$e,st),se.return=ge,se):(se=_(se,xe),se.return=ge,se)}function De(ge,se,xe){if(typeof se=="string"&&se!==""||typeof se=="number")return se=Wg(""+se,ge.mode,xe),se.return=ge,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case $:return xe=of(se.type,se.key,se.props,null,ge.mode,xe),xe.ref=yc(ge,null,se),xe.return=ge,xe;case P:return se=qg(se,ge.mode,xe),se.return=ge,se;case J:var $e=se._init;return De(ge,$e(se._payload),xe)}if(Ar(se)||me(se))return se=Da(se,ge.mode,xe,null),se.return=ge,se;Ih(ge,se)}return null}function Ne(ge,se,xe,$e){var st=se!==null?se.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number")return st!==null?null:W(ge,se,""+xe,$e);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case $:return xe.key===st?Z(ge,se,xe,$e):null;case P:return xe.key===st?be(ge,se,xe,$e):null;case J:return st=xe._init,Ne(ge,se,st(xe._payload),$e)}if(Ar(xe)||me(xe))return st!==null?null:Le(ge,se,xe,$e,null);Ih(ge,xe)}return null}function Xe(ge,se,xe,$e,st){if(typeof $e=="string"&&$e!==""||typeof $e=="number")return ge=ge.get(xe)||null,W(se,ge,""+$e,st);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case $:return ge=ge.get($e.key===null?xe:$e.key)||null,Z(se,ge,$e,st);case P:return ge=ge.get($e.key===null?xe:$e.key)||null,be(se,ge,$e,st);case J:var ut=$e._init;return Xe(ge,se,xe,ut($e._payload),st)}if(Ar($e)||me($e))return ge=ge.get(xe)||null,Le(se,ge,$e,st,null);Ih(se,$e)}return null}function nt(ge,se,xe,$e){for(var st=null,ut=null,ct=se,mt=se=0,Jn=null;ct!==null&&mt<xe.length;mt++){ct.index>mt?(Jn=ct,ct=null):Jn=ct.sibling;var Vt=Ne(ge,ct,xe[mt],$e);if(Vt===null){ct===null&&(ct=Jn);break}l&&ct&&Vt.alternate===null&&d(ge,ct),se=j(Vt,se,mt),ut===null?st=Vt:ut.sibling=Vt,ut=Vt,ct=Jn}if(mt===xe.length)return m(ge,ct),yn&&ja(ge,mt),st;if(ct===null){for(;mt<xe.length;mt++)ct=De(ge,xe[mt],$e),ct!==null&&(se=j(ct,se,mt),ut===null?st=ct:ut.sibling=ct,ut=ct);return yn&&ja(ge,mt),st}for(ct=v(ge,ct);mt<xe.length;mt++)Jn=Xe(ct,ge,mt,xe[mt],$e),Jn!==null&&(l&&Jn.alternate!==null&&ct.delete(Jn.key===null?mt:Jn.key),se=j(Jn,se,mt),ut===null?st=Jn:ut.sibling=Jn,ut=Jn);return l&&ct.forEach(function(Mo){return d(ge,Mo)}),yn&&ja(ge,mt),st}function it(ge,se,xe,$e){var st=me(xe);if(typeof st!="function")throw Error(n(150));if(xe=st.call(xe),xe==null)throw Error(n(151));for(var ut=st=null,ct=se,mt=se=0,Jn=null,Vt=xe.next();ct!==null&&!Vt.done;mt++,Vt=xe.next()){ct.index>mt?(Jn=ct,ct=null):Jn=ct.sibling;var Mo=Ne(ge,ct,Vt.value,$e);if(Mo===null){ct===null&&(ct=Jn);break}l&&ct&&Mo.alternate===null&&d(ge,ct),se=j(Mo,se,mt),ut===null?st=Mo:ut.sibling=Mo,ut=Mo,ct=Jn}if(Vt.done)return m(ge,ct),yn&&ja(ge,mt),st;if(ct===null){for(;!Vt.done;mt++,Vt=xe.next())Vt=De(ge,Vt.value,$e),Vt!==null&&(se=j(Vt,se,mt),ut===null?st=Vt:ut.sibling=Vt,ut=Vt);return yn&&ja(ge,mt),st}for(ct=v(ge,ct);!Vt.done;mt++,Vt=xe.next())Vt=Xe(ct,ge,mt,Vt.value,$e),Vt!==null&&(l&&Vt.alternate!==null&&ct.delete(Vt.key===null?mt:Vt.key),se=j(Vt,se,mt),ut===null?st=Vt:ut.sibling=Vt,ut=Vt);return l&&ct.forEach(function(n9){return d(ge,n9)}),yn&&ja(ge,mt),st}function Pn(ge,se,xe,$e){if(typeof xe=="object"&&xe!==null&&xe.type===M&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case $:e:{for(var st=xe.key,ut=se;ut!==null;){if(ut.key===st){if(st=xe.type,st===M){if(ut.tag===7){m(ge,ut.sibling),se=_(ut,xe.props.children),se.return=ge,ge=se;break e}}else if(ut.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===J&&_x(st)===ut.type){m(ge,ut.sibling),se=_(ut,xe.props),se.ref=yc(ge,ut,xe),se.return=ge,ge=se;break e}m(ge,ut);break}else d(ge,ut);ut=ut.sibling}xe.type===M?(se=Da(xe.props.children,ge.mode,$e,xe.key),se.return=ge,ge=se):($e=of(xe.type,xe.key,xe.props,null,ge.mode,$e),$e.ref=yc(ge,se,xe),$e.return=ge,ge=$e)}return D(ge);case P:e:{for(ut=xe.key;se!==null;){if(se.key===ut)if(se.tag===4&&se.stateNode.containerInfo===xe.containerInfo&&se.stateNode.implementation===xe.implementation){m(ge,se.sibling),se=_(se,xe.children||[]),se.return=ge,ge=se;break e}else{m(ge,se);break}else d(ge,se);se=se.sibling}se=qg(xe,ge.mode,$e),se.return=ge,ge=se}return D(ge);case J:return ut=xe._init,Pn(ge,se,ut(xe._payload),$e)}if(Ar(xe))return nt(ge,se,xe,$e);if(me(xe))return it(ge,se,xe,$e);Ih(ge,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"?(xe=""+xe,se!==null&&se.tag===6?(m(ge,se.sibling),se=_(se,xe),se.return=ge,ge=se):(m(ge,se),se=Wg(xe,ge.mode,$e),se.return=ge,ge=se),D(ge)):m(ge,se)}return Pn}var ql=Sx(!0),Cx=Sx(!1),Rh=jo(null),Mh=null,Kl=null,ng=null;function rg(){ng=Kl=Mh=null}function ig(l){var d=Rh.current;dn(Rh),l._currentValue=d}function sg(l,d,m){for(;l!==null;){var v=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,v!==null&&(v.childLanes|=d)):v!==null&&(v.childLanes&d)!==d&&(v.childLanes|=d),l===m)break;l=l.return}}function Gl(l,d){Mh=l,ng=Kl=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&d)!==0&&(Br=!0),l.firstContext=null)}function _i(l){var d=l._currentValue;if(ng!==l)if(l={context:l,memoizedValue:d,next:null},Kl===null){if(Mh===null)throw Error(n(308));Kl=l,Mh.dependencies={lanes:0,firstContext:l}}else Kl=Kl.next=l;return d}var Ea=null;function og(l){Ea===null?Ea=[l]:Ea.push(l)}function kx(l,d,m,v){var _=d.interleaved;return _===null?(m.next=m,og(d)):(m.next=_.next,_.next=m),d.interleaved=m,$s(l,v)}function $s(l,d){l.lanes|=d;var m=l.alternate;for(m!==null&&(m.lanes|=d),m=l,l=l.return;l!==null;)l.childLanes|=d,m=l.alternate,m!==null&&(m.childLanes|=d),m=l,l=l.return;return m.tag===3?m.stateNode:null}var No=!1;function ag(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jx(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Us(l,d){return{eventTime:l,lane:d,tag:0,payload:null,callback:null,next:null}}function Po(l,d,m){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(Qt&2)!==0){var _=v.pending;return _===null?d.next=d:(d.next=_.next,_.next=d),v.pending=d,$s(l,m)}return _=v.interleaved,_===null?(d.next=d,og(v)):(d.next=_.next,_.next=d),v.interleaved=d,$s(l,m)}function Fh(l,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194240)!==0)){var v=d.lanes;v&=l.pendingLanes,m|=v,d.lanes=m,kl(l,m)}}function Ex(l,d){var m=l.updateQueue,v=l.alternate;if(v!==null&&(v=v.updateQueue,m===v)){var _=null,j=null;if(m=m.firstBaseUpdate,m!==null){do{var D={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};j===null?_=j=D:j=j.next=D,m=m.next}while(m!==null);j===null?_=j=d:j=j.next=d}else _=j=d;m={baseState:v.baseState,firstBaseUpdate:_,lastBaseUpdate:j,shared:v.shared,effects:v.effects},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=d:l.next=d,m.lastBaseUpdate=d}function Bh(l,d,m,v){var _=l.updateQueue;No=!1;var j=_.firstBaseUpdate,D=_.lastBaseUpdate,W=_.shared.pending;if(W!==null){_.shared.pending=null;var Z=W,be=Z.next;Z.next=null,D===null?j=be:D.next=be,D=Z;var Le=l.alternate;Le!==null&&(Le=Le.updateQueue,W=Le.lastBaseUpdate,W!==D&&(W===null?Le.firstBaseUpdate=be:W.next=be,Le.lastBaseUpdate=Z))}if(j!==null){var De=_.baseState;D=0,Le=be=Z=null,W=j;do{var Ne=W.lane,Xe=W.eventTime;if((v&Ne)===Ne){Le!==null&&(Le=Le.next={eventTime:Xe,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var nt=l,it=W;switch(Ne=d,Xe=m,it.tag){case 1:if(nt=it.payload,typeof nt=="function"){De=nt.call(Xe,De,Ne);break e}De=nt;break e;case 3:nt.flags=nt.flags&-65537|128;case 0:if(nt=it.payload,Ne=typeof nt=="function"?nt.call(Xe,De,Ne):nt,Ne==null)break e;De=R({},De,Ne);break e;case 2:No=!0}}W.callback!==null&&W.lane!==0&&(l.flags|=64,Ne=_.effects,Ne===null?_.effects=[W]:Ne.push(W))}else Xe={eventTime:Xe,lane:Ne,tag:W.tag,payload:W.payload,callback:W.callback,next:null},Le===null?(be=Le=Xe,Z=De):Le=Le.next=Xe,D|=Ne;if(W=W.next,W===null){if(W=_.shared.pending,W===null)break;Ne=W,W=Ne.next,Ne.next=null,_.lastBaseUpdate=Ne,_.shared.pending=null}}while(!0);if(Le===null&&(Z=De),_.baseState=Z,_.firstBaseUpdate=be,_.lastBaseUpdate=Le,d=_.shared.interleaved,d!==null){_=d;do D|=_.lane,_=_.next;while(_!==d)}else j===null&&(_.shared.lanes=0);Pa|=D,l.lanes=D,l.memoizedState=De}}function Tx(l,d,m){if(l=d.effects,d.effects=null,l!==null)for(d=0;d<l.length;d++){var v=l[d],_=v.callback;if(_!==null){if(v.callback=null,v=m,typeof _!="function")throw Error(n(191,_));_.call(v)}}}var vc={},hs=jo(vc),xc=jo(vc),bc=jo(vc);function Ta(l){if(l===vc)throw Error(n(174));return l}function lg(l,d){switch(rn(bc,d),rn(xc,l),rn(hs,vc),l=d.nodeType,l){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:Oe(null,"");break;default:l=l===8?d.parentNode:d,d=l.namespaceURI||null,l=l.tagName,d=Oe(d,l)}dn(hs),rn(hs,d)}function Yl(){dn(hs),dn(xc),dn(bc)}function Nx(l){Ta(bc.current);var d=Ta(hs.current),m=Oe(d,l.type);d!==m&&(rn(xc,l),rn(hs,m))}function ug(l){xc.current===l&&(dn(hs),dn(xc))}var wn=jo(0);function zh(l){for(var d=l;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var cg=[];function dg(){for(var l=0;l<cg.length;l++)cg[l]._workInProgressVersionPrimary=null;cg.length=0}var $h=B.ReactCurrentDispatcher,hg=B.ReactCurrentBatchConfig,Na=0,_n=null,$n=null,Yn=null,Uh=!1,wc=!1,_c=0,C8=0;function dr(){throw Error(n(321))}function fg(l,d){if(d===null)return!1;for(var m=0;m<d.length&&m<l.length;m++)if(!Y(l[m],d[m]))return!1;return!0}function pg(l,d,m,v,_,j){if(Na=j,_n=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,$h.current=l===null||l.memoizedState===null?T8:N8,l=m(v,_),wc){j=0;do{if(wc=!1,_c=0,25<=j)throw Error(n(301));j+=1,Yn=$n=null,d.updateQueue=null,$h.current=P8,l=m(v,_)}while(wc)}if($h.current=Vh,d=$n!==null&&$n.next!==null,Na=0,Yn=$n=_n=null,Uh=!1,d)throw Error(n(300));return l}function mg(){var l=_c!==0;return _c=0,l}function fs(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yn===null?_n.memoizedState=Yn=l:Yn=Yn.next=l,Yn}function Si(){if($n===null){var l=_n.alternate;l=l!==null?l.memoizedState:null}else l=$n.next;var d=Yn===null?_n.memoizedState:Yn.next;if(d!==null)Yn=d,$n=l;else{if(l===null)throw Error(n(310));$n=l,l={memoizedState:$n.memoizedState,baseState:$n.baseState,baseQueue:$n.baseQueue,queue:$n.queue,next:null},Yn===null?_n.memoizedState=Yn=l:Yn=Yn.next=l}return Yn}function Sc(l,d){return typeof d=="function"?d(l):d}function gg(l){var d=Si(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=l;var v=$n,_=v.baseQueue,j=m.pending;if(j!==null){if(_!==null){var D=_.next;_.next=j.next,j.next=D}v.baseQueue=_=j,m.pending=null}if(_!==null){j=_.next,v=v.baseState;var W=D=null,Z=null,be=j;do{var Le=be.lane;if((Na&Le)===Le)Z!==null&&(Z=Z.next={lane:0,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null}),v=be.hasEagerState?be.eagerState:l(v,be.action);else{var De={lane:Le,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null};Z===null?(W=Z=De,D=v):Z=Z.next=De,_n.lanes|=Le,Pa|=Le}be=be.next}while(be!==null&&be!==j);Z===null?D=v:Z.next=W,Y(v,d.memoizedState)||(Br=!0),d.memoizedState=v,d.baseState=D,d.baseQueue=Z,m.lastRenderedState=v}if(l=m.interleaved,l!==null){_=l;do j=_.lane,_n.lanes|=j,Pa|=j,_=_.next;while(_!==l)}else _===null&&(m.lanes=0);return[d.memoizedState,m.dispatch]}function yg(l){var d=Si(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=l;var v=m.dispatch,_=m.pending,j=d.memoizedState;if(_!==null){m.pending=null;var D=_=_.next;do j=l(j,D.action),D=D.next;while(D!==_);Y(j,d.memoizedState)||(Br=!0),d.memoizedState=j,d.baseQueue===null&&(d.baseState=j),m.lastRenderedState=j}return[j,v]}function Px(){}function Ox(l,d){var m=_n,v=Si(),_=d(),j=!Y(v.memoizedState,_);if(j&&(v.memoizedState=_,Br=!0),v=v.queue,vg(Dx.bind(null,m,v,l),[l]),v.getSnapshot!==d||j||Yn!==null&&Yn.memoizedState.tag&1){if(m.flags|=2048,Cc(9,Ax.bind(null,m,v,_,d),void 0,null),Xn===null)throw Error(n(349));(Na&30)!==0||Lx(m,d,_)}return _}function Lx(l,d,m){l.flags|=16384,l={getSnapshot:d,value:m},d=_n.updateQueue,d===null?(d={lastEffect:null,stores:null},_n.updateQueue=d,d.stores=[l]):(m=d.stores,m===null?d.stores=[l]:m.push(l))}function Ax(l,d,m,v){d.value=m,d.getSnapshot=v,Ix(d)&&Rx(l)}function Dx(l,d,m){return m(function(){Ix(d)&&Rx(l)})}function Ix(l){var d=l.getSnapshot;l=l.value;try{var m=d();return!Y(l,m)}catch{return!0}}function Rx(l){var d=$s(l,1);d!==null&&Ki(d,l,1,-1)}function Mx(l){var d=fs();return typeof l=="function"&&(l=l()),d.memoizedState=d.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sc,lastRenderedState:l},d.queue=l,l=l.dispatch=E8.bind(null,_n,l),[d.memoizedState,l]}function Cc(l,d,m,v){return l={tag:l,create:d,destroy:m,deps:v,next:null},d=_n.updateQueue,d===null?(d={lastEffect:null,stores:null},_n.updateQueue=d,d.lastEffect=l.next=l):(m=d.lastEffect,m===null?d.lastEffect=l.next=l:(v=m.next,m.next=l,l.next=v,d.lastEffect=l)),l}function Fx(){return Si().memoizedState}function Hh(l,d,m,v){var _=fs();_n.flags|=l,_.memoizedState=Cc(1|d,m,void 0,v===void 0?null:v)}function Qh(l,d,m,v){var _=Si();v=v===void 0?null:v;var j=void 0;if($n!==null){var D=$n.memoizedState;if(j=D.destroy,v!==null&&fg(v,D.deps)){_.memoizedState=Cc(d,m,j,v);return}}_n.flags|=l,_.memoizedState=Cc(1|d,m,j,v)}function Bx(l,d){return Hh(8390656,8,l,d)}function vg(l,d){return Qh(2048,8,l,d)}function zx(l,d){return Qh(4,2,l,d)}function $x(l,d){return Qh(4,4,l,d)}function Ux(l,d){if(typeof d=="function")return l=l(),d(l),function(){d(null)};if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function Hx(l,d,m){return m=m!=null?m.concat([l]):null,Qh(4,4,Ux.bind(null,d,l),m)}function xg(){}function Qx(l,d){var m=Si();d=d===void 0?null:d;var v=m.memoizedState;return v!==null&&d!==null&&fg(d,v[1])?v[0]:(m.memoizedState=[l,d],l)}function Vx(l,d){var m=Si();d=d===void 0?null:d;var v=m.memoizedState;return v!==null&&d!==null&&fg(d,v[1])?v[0]:(l=l(),m.memoizedState=[l,d],l)}function Wx(l,d,m){return(Na&21)===0?(l.baseState&&(l.baseState=!1,Br=!0),l.memoizedState=m):(Y(m,d)||(m=tc(),_n.lanes|=m,Pa|=m,l.baseState=!0),d)}function k8(l,d){var m=Yt;Yt=m!==0&&4>m?m:4,l(!0);var v=hg.transition;hg.transition={};try{l(!1),d()}finally{Yt=m,hg.transition=v}}function qx(){return Si().memoizedState}function j8(l,d,m){var v=Do(l);if(m={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null},Kx(l))Gx(d,m);else if(m=kx(l,d,m,v),m!==null){var _=Er();Ki(m,l,v,_),Yx(m,d,v)}}function E8(l,d,m){var v=Do(l),_={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null};if(Kx(l))Gx(d,_);else{var j=l.alternate;if(l.lanes===0&&(j===null||j.lanes===0)&&(j=d.lastRenderedReducer,j!==null))try{var D=d.lastRenderedState,W=j(D,m);if(_.hasEagerState=!0,_.eagerState=W,Y(W,D)){var Z=d.interleaved;Z===null?(_.next=_,og(d)):(_.next=Z.next,Z.next=_),d.interleaved=_;return}}catch{}finally{}m=kx(l,d,_,v),m!==null&&(_=Er(),Ki(m,l,v,_),Yx(m,d,v))}}function Kx(l){var d=l.alternate;return l===_n||d!==null&&d===_n}function Gx(l,d){wc=Uh=!0;var m=l.pending;m===null?d.next=d:(d.next=m.next,m.next=d),l.pending=d}function Yx(l,d,m){if((m&4194240)!==0){var v=d.lanes;v&=l.pendingLanes,m|=v,d.lanes=m,kl(l,m)}}var Vh={readContext:_i,useCallback:dr,useContext:dr,useEffect:dr,useImperativeHandle:dr,useInsertionEffect:dr,useLayoutEffect:dr,useMemo:dr,useReducer:dr,useRef:dr,useState:dr,useDebugValue:dr,useDeferredValue:dr,useTransition:dr,useMutableSource:dr,useSyncExternalStore:dr,useId:dr,unstable_isNewReconciler:!1},T8={readContext:_i,useCallback:function(l,d){return fs().memoizedState=[l,d===void 0?null:d],l},useContext:_i,useEffect:Bx,useImperativeHandle:function(l,d,m){return m=m!=null?m.concat([l]):null,Hh(4194308,4,Ux.bind(null,d,l),m)},useLayoutEffect:function(l,d){return Hh(4194308,4,l,d)},useInsertionEffect:function(l,d){return Hh(4,2,l,d)},useMemo:function(l,d){var m=fs();return d=d===void 0?null:d,l=l(),m.memoizedState=[l,d],l},useReducer:function(l,d,m){var v=fs();return d=m!==void 0?m(d):d,v.memoizedState=v.baseState=d,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:d},v.queue=l,l=l.dispatch=j8.bind(null,_n,l),[v.memoizedState,l]},useRef:function(l){var d=fs();return l={current:l},d.memoizedState=l},useState:Mx,useDebugValue:xg,useDeferredValue:function(l){return fs().memoizedState=l},useTransition:function(){var l=Mx(!1),d=l[0];return l=k8.bind(null,l[1]),fs().memoizedState=l,[d,l]},useMutableSource:function(){},useSyncExternalStore:function(l,d,m){var v=_n,_=fs();if(yn){if(m===void 0)throw Error(n(407));m=m()}else{if(m=d(),Xn===null)throw Error(n(349));(Na&30)!==0||Lx(v,d,m)}_.memoizedState=m;var j={value:m,getSnapshot:d};return _.queue=j,Bx(Dx.bind(null,v,j,l),[l]),v.flags|=2048,Cc(9,Ax.bind(null,v,j,m,d),void 0,null),m},useId:function(){var l=fs(),d=Xn.identifierPrefix;if(yn){var m=zs,v=Bs;m=(v&~(1<<32-ft(v)-1)).toString(32)+m,d=":"+d+"R"+m,m=_c++,0<m&&(d+="H"+m.toString(32)),d+=":"}else m=C8++,d=":"+d+"r"+m.toString(32)+":";return l.memoizedState=d},unstable_isNewReconciler:!1},N8={readContext:_i,useCallback:Qx,useContext:_i,useEffect:vg,useImperativeHandle:Hx,useInsertionEffect:zx,useLayoutEffect:$x,useMemo:Vx,useReducer:gg,useRef:Fx,useState:function(){return gg(Sc)},useDebugValue:xg,useDeferredValue:function(l){var d=Si();return Wx(d,$n.memoizedState,l)},useTransition:function(){var l=gg(Sc)[0],d=Si().memoizedState;return[l,d]},useMutableSource:Px,useSyncExternalStore:Ox,useId:qx,unstable_isNewReconciler:!1},P8={readContext:_i,useCallback:Qx,useContext:_i,useEffect:vg,useImperativeHandle:Hx,useInsertionEffect:zx,useLayoutEffect:$x,useMemo:Vx,useReducer:yg,useRef:Fx,useState:function(){return yg(Sc)},useDebugValue:xg,useDeferredValue:function(l){var d=Si();return $n===null?d.memoizedState=l:Wx(d,$n.memoizedState,l)},useTransition:function(){var l=yg(Sc)[0],d=Si().memoizedState;return[l,d]},useMutableSource:Px,useSyncExternalStore:Ox,useId:qx,unstable_isNewReconciler:!1};function Vi(l,d){if(l&&l.defaultProps){d=R({},d),l=l.defaultProps;for(var m in l)d[m]===void 0&&(d[m]=l[m]);return d}return d}function bg(l,d,m,v){d=l.memoizedState,m=m(v,d),m=m==null?d:R({},d,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var Wh={isMounted:function(l){return(l=l._reactInternals)?Pt(l)===l:!1},enqueueSetState:function(l,d,m){l=l._reactInternals;var v=Er(),_=Do(l),j=Us(v,_);j.payload=d,m!=null&&(j.callback=m),d=Po(l,j,_),d!==null&&(Ki(d,l,_,v),Fh(d,l,_))},enqueueReplaceState:function(l,d,m){l=l._reactInternals;var v=Er(),_=Do(l),j=Us(v,_);j.tag=1,j.payload=d,m!=null&&(j.callback=m),d=Po(l,j,_),d!==null&&(Ki(d,l,_,v),Fh(d,l,_))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var m=Er(),v=Do(l),_=Us(m,v);_.tag=2,d!=null&&(_.callback=d),d=Po(l,_,v),d!==null&&(Ki(d,l,v,m),Fh(d,l,v))}};function Xx(l,d,m,v,_,j,D){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,j,D):d.prototype&&d.prototype.isPureReactComponent?!he(m,v)||!he(_,j):!0}function Jx(l,d,m){var v=!1,_=Eo,j=d.contextType;return typeof j=="object"&&j!==null?j=_i(j):(_=Fr(d)?Ca:cr.current,v=d.contextTypes,j=(v=v!=null)?Hl(l,_):Eo),d=new d(m,j),l.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Wh,l.stateNode=d,d._reactInternals=l,v&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=_,l.__reactInternalMemoizedMaskedChildContext=j),d}function Zx(l,d,m,v){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,v),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,v),d.state!==l&&Wh.enqueueReplaceState(d,d.state,null)}function wg(l,d,m,v){var _=l.stateNode;_.props=m,_.state=l.memoizedState,_.refs={},ag(l);var j=d.contextType;typeof j=="object"&&j!==null?_.context=_i(j):(j=Fr(d)?Ca:cr.current,_.context=Hl(l,j)),_.state=l.memoizedState,j=d.getDerivedStateFromProps,typeof j=="function"&&(bg(l,d,j,m),_.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(d=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),d!==_.state&&Wh.enqueueReplaceState(_,_.state,null),Bh(l,m,_,v),_.state=l.memoizedState),typeof _.componentDidMount=="function"&&(l.flags|=4194308)}function Xl(l,d){try{var m="",v=d;do m+=je(v),v=v.return;while(v);var _=m}catch(j){_=`
Error generating stack: `+j.message+`
`+j.stack}return{value:l,source:d,stack:_,digest:null}}function _g(l,d,m){return{value:l,source:null,stack:m??null,digest:d??null}}function Sg(l,d){try{console.error(d.value)}catch(m){setTimeout(function(){throw m})}}var O8=typeof WeakMap=="function"?WeakMap:Map;function e2(l,d,m){m=Us(-1,m),m.tag=3,m.payload={element:null};var v=d.value;return m.callback=function(){Zh||(Zh=!0,Fg=v),Sg(l,d)},m}function t2(l,d,m){m=Us(-1,m),m.tag=3;var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var _=d.value;m.payload=function(){return v(_)},m.callback=function(){Sg(l,d)}}var j=l.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(m.callback=function(){Sg(l,d),typeof v!="function"&&(Lo===null?Lo=new Set([this]):Lo.add(this));var D=d.stack;this.componentDidCatch(d.value,{componentStack:D!==null?D:""})}),m}function n2(l,d,m){var v=l.pingCache;if(v===null){v=l.pingCache=new O8;var _=new Set;v.set(d,_)}else _=v.get(d),_===void 0&&(_=new Set,v.set(d,_));_.has(m)||(_.add(m),l=V8.bind(null,l,d,m),d.then(l,l))}function r2(l){do{var d;if((d=l.tag===13)&&(d=l.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return l;l=l.return}while(l!==null);return null}function i2(l,d,m,v,_){return(l.mode&1)===0?(l===d?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(d=Us(-1,1),d.tag=2,Po(m,d,1))),m.lanes|=1),l):(l.flags|=65536,l.lanes=_,l)}var L8=B.ReactCurrentOwner,Br=!1;function jr(l,d,m,v){d.child=l===null?Cx(d,null,m,v):ql(d,l.child,m,v)}function s2(l,d,m,v,_){m=m.render;var j=d.ref;return Gl(d,_),v=pg(l,d,m,v,j,_),m=mg(),l!==null&&!Br?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~_,Hs(l,d,_)):(yn&&m&&Xm(d),d.flags|=1,jr(l,d,v,_),d.child)}function o2(l,d,m,v,_){if(l===null){var j=m.type;return typeof j=="function"&&!Vg(j)&&j.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(d.tag=15,d.type=j,a2(l,d,j,v,_)):(l=of(m.type,null,v,d,d.mode,_),l.ref=d.ref,l.return=d,d.child=l)}if(j=l.child,(l.lanes&_)===0){var D=j.memoizedProps;if(m=m.compare,m=m!==null?m:he,m(D,v)&&l.ref===d.ref)return Hs(l,d,_)}return d.flags|=1,l=Ro(j,v),l.ref=d.ref,l.return=d,d.child=l}function a2(l,d,m,v,_){if(l!==null){var j=l.memoizedProps;if(he(j,v)&&l.ref===d.ref)if(Br=!1,d.pendingProps=v=j,(l.lanes&_)!==0)(l.flags&131072)!==0&&(Br=!0);else return d.lanes=l.lanes,Hs(l,d,_)}return Cg(l,d,m,v,_)}function l2(l,d,m){var v=d.pendingProps,_=v.children,j=l!==null?l.memoizedState:null;if(v.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},rn(Zl,oi),oi|=m;else{if((m&1073741824)===0)return l=j!==null?j.baseLanes|m:m,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:l,cachePool:null,transitions:null},d.updateQueue=null,rn(Zl,oi),oi|=l,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=j!==null?j.baseLanes:m,rn(Zl,oi),oi|=v}else j!==null?(v=j.baseLanes|m,d.memoizedState=null):v=m,rn(Zl,oi),oi|=v;return jr(l,d,_,m),d.child}function u2(l,d){var m=d.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(d.flags|=512,d.flags|=2097152)}function Cg(l,d,m,v,_){var j=Fr(m)?Ca:cr.current;return j=Hl(d,j),Gl(d,_),m=pg(l,d,m,v,j,_),v=mg(),l!==null&&!Br?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~_,Hs(l,d,_)):(yn&&v&&Xm(d),d.flags|=1,jr(l,d,m,_),d.child)}function c2(l,d,m,v,_){if(Fr(m)){var j=!0;Ph(d)}else j=!1;if(Gl(d,_),d.stateNode===null)Kh(l,d),Jx(d,m,v),wg(d,m,v,_),v=!0;else if(l===null){var D=d.stateNode,W=d.memoizedProps;D.props=W;var Z=D.context,be=m.contextType;typeof be=="object"&&be!==null?be=_i(be):(be=Fr(m)?Ca:cr.current,be=Hl(d,be));var Le=m.getDerivedStateFromProps,De=typeof Le=="function"||typeof D.getSnapshotBeforeUpdate=="function";De||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(W!==v||Z!==be)&&Zx(d,D,v,be),No=!1;var Ne=d.memoizedState;D.state=Ne,Bh(d,v,D,_),Z=d.memoizedState,W!==v||Ne!==Z||Mr.current||No?(typeof Le=="function"&&(bg(d,m,Le,v),Z=d.memoizedState),(W=No||Xx(d,m,W,v,Ne,Z,be))?(De||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(d.flags|=4194308)):(typeof D.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=v,d.memoizedState=Z),D.props=v,D.state=Z,D.context=be,v=W):(typeof D.componentDidMount=="function"&&(d.flags|=4194308),v=!1)}else{D=d.stateNode,jx(l,d),W=d.memoizedProps,be=d.type===d.elementType?W:Vi(d.type,W),D.props=be,De=d.pendingProps,Ne=D.context,Z=m.contextType,typeof Z=="object"&&Z!==null?Z=_i(Z):(Z=Fr(m)?Ca:cr.current,Z=Hl(d,Z));var Xe=m.getDerivedStateFromProps;(Le=typeof Xe=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(W!==De||Ne!==Z)&&Zx(d,D,v,Z),No=!1,Ne=d.memoizedState,D.state=Ne,Bh(d,v,D,_);var nt=d.memoizedState;W!==De||Ne!==nt||Mr.current||No?(typeof Xe=="function"&&(bg(d,m,Xe,v),nt=d.memoizedState),(be=No||Xx(d,m,be,v,Ne,nt,Z)||!1)?(Le||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(v,nt,Z),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(v,nt,Z)),typeof D.componentDidUpdate=="function"&&(d.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof D.componentDidUpdate!="function"||W===l.memoizedProps&&Ne===l.memoizedState||(d.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||W===l.memoizedProps&&Ne===l.memoizedState||(d.flags|=1024),d.memoizedProps=v,d.memoizedState=nt),D.props=v,D.state=nt,D.context=Z,v=be):(typeof D.componentDidUpdate!="function"||W===l.memoizedProps&&Ne===l.memoizedState||(d.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||W===l.memoizedProps&&Ne===l.memoizedState||(d.flags|=1024),v=!1)}return kg(l,d,m,v,j,_)}function kg(l,d,m,v,_,j){u2(l,d);var D=(d.flags&128)!==0;if(!v&&!D)return _&&mx(d,m,!1),Hs(l,d,j);v=d.stateNode,L8.current=d;var W=D&&typeof m.getDerivedStateFromError!="function"?null:v.render();return d.flags|=1,l!==null&&D?(d.child=ql(d,l.child,null,j),d.child=ql(d,null,W,j)):jr(l,d,W,j),d.memoizedState=v.state,_&&mx(d,m,!0),d.child}function d2(l){var d=l.stateNode;d.pendingContext?fx(l,d.pendingContext,d.pendingContext!==d.context):d.context&&fx(l,d.context,!1),lg(l,d.containerInfo)}function h2(l,d,m,v,_){return Wl(),tg(_),d.flags|=256,jr(l,d,m,v),d.child}var jg={dehydrated:null,treeContext:null,retryLane:0};function Eg(l){return{baseLanes:l,cachePool:null,transitions:null}}function f2(l,d,m){var v=d.pendingProps,_=wn.current,j=!1,D=(d.flags&128)!==0,W;if((W=D)||(W=l!==null&&l.memoizedState===null?!1:(_&2)!==0),W?(j=!0,d.flags&=-129):(l===null||l.memoizedState!==null)&&(_|=1),rn(wn,_&1),l===null)return eg(d),l=d.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((d.mode&1)===0?d.lanes=1:l.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(D=v.children,l=v.fallback,j?(v=d.mode,j=d.child,D={mode:"hidden",children:D},(v&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=D):j=af(D,v,0,null),l=Da(l,v,m,null),j.return=d,l.return=d,j.sibling=l,d.child=j,d.child.memoizedState=Eg(m),d.memoizedState=jg,l):Tg(d,D));if(_=l.memoizedState,_!==null&&(W=_.dehydrated,W!==null))return A8(l,d,D,v,W,_,m);if(j){j=v.fallback,D=d.mode,_=l.child,W=_.sibling;var Z={mode:"hidden",children:v.children};return(D&1)===0&&d.child!==_?(v=d.child,v.childLanes=0,v.pendingProps=Z,d.deletions=null):(v=Ro(_,Z),v.subtreeFlags=_.subtreeFlags&14680064),W!==null?j=Ro(W,j):(j=Da(j,D,m,null),j.flags|=2),j.return=d,v.return=d,v.sibling=j,d.child=v,v=j,j=d.child,D=l.child.memoizedState,D=D===null?Eg(m):{baseLanes:D.baseLanes|m,cachePool:null,transitions:D.transitions},j.memoizedState=D,j.childLanes=l.childLanes&~m,d.memoizedState=jg,v}return j=l.child,l=j.sibling,v=Ro(j,{mode:"visible",children:v.children}),(d.mode&1)===0&&(v.lanes=m),v.return=d,v.sibling=null,l!==null&&(m=d.deletions,m===null?(d.deletions=[l],d.flags|=16):m.push(l)),d.child=v,d.memoizedState=null,v}function Tg(l,d){return d=af({mode:"visible",children:d},l.mode,0,null),d.return=l,l.child=d}function qh(l,d,m,v){return v!==null&&tg(v),ql(d,l.child,null,m),l=Tg(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function A8(l,d,m,v,_,j,D){if(m)return d.flags&256?(d.flags&=-257,v=_g(Error(n(422))),qh(l,d,D,v)):d.memoizedState!==null?(d.child=l.child,d.flags|=128,null):(j=v.fallback,_=d.mode,v=af({mode:"visible",children:v.children},_,0,null),j=Da(j,_,D,null),j.flags|=2,v.return=d,j.return=d,v.sibling=j,d.child=v,(d.mode&1)!==0&&ql(d,l.child,null,D),d.child.memoizedState=Eg(D),d.memoizedState=jg,j);if((d.mode&1)===0)return qh(l,d,D,null);if(_.data==="$!"){if(v=_.nextSibling&&_.nextSibling.dataset,v)var W=v.dgst;return v=W,j=Error(n(419)),v=_g(j,v,void 0),qh(l,d,D,v)}if(W=(D&l.childLanes)!==0,Br||W){if(v=Xn,v!==null){switch(D&-D){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(v.suspendedLanes|D))!==0?0:_,_!==0&&_!==j.retryLane&&(j.retryLane=_,$s(l,_),Ki(v,l,_,-1))}return Qg(),v=_g(Error(n(421))),qh(l,d,D,v)}return _.data==="$?"?(d.flags|=128,d.child=l.child,d=W8.bind(null,l),_._reactRetry=d,null):(l=j.treeContext,si=ko(_.nextSibling),ii=d,yn=!0,Qi=null,l!==null&&(bi[wi++]=Bs,bi[wi++]=zs,bi[wi++]=ka,Bs=l.id,zs=l.overflow,ka=d),d=Tg(d,v.children),d.flags|=4096,d)}function p2(l,d,m){l.lanes|=d;var v=l.alternate;v!==null&&(v.lanes|=d),sg(l.return,d,m)}function Ng(l,d,m,v,_){var j=l.memoizedState;j===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:_}:(j.isBackwards=d,j.rendering=null,j.renderingStartTime=0,j.last=v,j.tail=m,j.tailMode=_)}function m2(l,d,m){var v=d.pendingProps,_=v.revealOrder,j=v.tail;if(jr(l,d,v.children,m),v=wn.current,(v&2)!==0)v=v&1|2,d.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&p2(l,m,d);else if(l.tag===19)p2(l,m,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}v&=1}if(rn(wn,v),(d.mode&1)===0)d.memoizedState=null;else switch(_){case"forwards":for(m=d.child,_=null;m!==null;)l=m.alternate,l!==null&&zh(l)===null&&(_=m),m=m.sibling;m=_,m===null?(_=d.child,d.child=null):(_=m.sibling,m.sibling=null),Ng(d,!1,_,m,j);break;case"backwards":for(m=null,_=d.child,d.child=null;_!==null;){if(l=_.alternate,l!==null&&zh(l)===null){d.child=_;break}l=_.sibling,_.sibling=m,m=_,_=l}Ng(d,!0,m,null,j);break;case"together":Ng(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Kh(l,d){(d.mode&1)===0&&l!==null&&(l.alternate=null,d.alternate=null,d.flags|=2)}function Hs(l,d,m){if(l!==null&&(d.dependencies=l.dependencies),Pa|=d.lanes,(m&d.childLanes)===0)return null;if(l!==null&&d.child!==l.child)throw Error(n(153));if(d.child!==null){for(l=d.child,m=Ro(l,l.pendingProps),d.child=m,m.return=d;l.sibling!==null;)l=l.sibling,m=m.sibling=Ro(l,l.pendingProps),m.return=d;m.sibling=null}return d.child}function D8(l,d,m){switch(d.tag){case 3:d2(d),Wl();break;case 5:Nx(d);break;case 1:Fr(d.type)&&Ph(d);break;case 4:lg(d,d.stateNode.containerInfo);break;case 10:var v=d.type._context,_=d.memoizedProps.value;rn(Rh,v._currentValue),v._currentValue=_;break;case 13:if(v=d.memoizedState,v!==null)return v.dehydrated!==null?(rn(wn,wn.current&1),d.flags|=128,null):(m&d.child.childLanes)!==0?f2(l,d,m):(rn(wn,wn.current&1),l=Hs(l,d,m),l!==null?l.sibling:null);rn(wn,wn.current&1);break;case 19:if(v=(m&d.childLanes)!==0,(l.flags&128)!==0){if(v)return m2(l,d,m);d.flags|=128}if(_=d.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),rn(wn,wn.current),v)break;return null;case 22:case 23:return d.lanes=0,l2(l,d,m)}return Hs(l,d,m)}var g2,Pg,y2,v2;g2=function(l,d){for(var m=d.child;m!==null;){if(m.tag===5||m.tag===6)l.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Pg=function(){},y2=function(l,d,m,v){var _=l.memoizedProps;if(_!==v){l=d.stateNode,Ta(hs.current);var j=null;switch(m){case"input":_=un(l,_),v=un(l,v),j=[];break;case"select":_=R({},_,{value:void 0}),v=R({},v,{value:void 0}),j=[];break;case"textarea":_=sr(l,_),v=sr(l,v),j=[];break;default:typeof _.onClick!="function"&&typeof v.onClick=="function"&&(l.onclick=Eh)}Ve(m,v);var D;m=null;for(be in _)if(!v.hasOwnProperty(be)&&_.hasOwnProperty(be)&&_[be]!=null)if(be==="style"){var W=_[be];for(D in W)W.hasOwnProperty(D)&&(m||(m={}),m[D]="")}else be!=="dangerouslySetInnerHTML"&&be!=="children"&&be!=="suppressContentEditableWarning"&&be!=="suppressHydrationWarning"&&be!=="autoFocus"&&(i.hasOwnProperty(be)?j||(j=[]):(j=j||[]).push(be,null));for(be in v){var Z=v[be];if(W=_?.[be],v.hasOwnProperty(be)&&Z!==W&&(Z!=null||W!=null))if(be==="style")if(W){for(D in W)!W.hasOwnProperty(D)||Z&&Z.hasOwnProperty(D)||(m||(m={}),m[D]="");for(D in Z)Z.hasOwnProperty(D)&&W[D]!==Z[D]&&(m||(m={}),m[D]=Z[D])}else m||(j||(j=[]),j.push(be,m)),m=Z;else be==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,W=W?W.__html:void 0,Z!=null&&W!==Z&&(j=j||[]).push(be,Z)):be==="children"?typeof Z!="string"&&typeof Z!="number"||(j=j||[]).push(be,""+Z):be!=="suppressContentEditableWarning"&&be!=="suppressHydrationWarning"&&(i.hasOwnProperty(be)?(Z!=null&&be==="onScroll"&&cn("scroll",l),j||W===Z||(j=[])):(j=j||[]).push(be,Z))}m&&(j=j||[]).push("style",m);var be=j;(d.updateQueue=be)&&(d.flags|=4)}},v2=function(l,d,m,v){m!==v&&(d.flags|=4)};function kc(l,d){if(!yn)switch(l.tailMode){case"hidden":d=l.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function hr(l){var d=l.alternate!==null&&l.alternate.child===l.child,m=0,v=0;if(d)for(var _=l.child;_!==null;)m|=_.lanes|_.childLanes,v|=_.subtreeFlags&14680064,v|=_.flags&14680064,_.return=l,_=_.sibling;else for(_=l.child;_!==null;)m|=_.lanes|_.childLanes,v|=_.subtreeFlags,v|=_.flags,_.return=l,_=_.sibling;return l.subtreeFlags|=v,l.childLanes=m,d}function I8(l,d,m){var v=d.pendingProps;switch(Jm(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hr(d),null;case 1:return Fr(d.type)&&Nh(),hr(d),null;case 3:return v=d.stateNode,Yl(),dn(Mr),dn(cr),dg(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(l===null||l.child===null)&&(Dh(d)?d.flags|=4:l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Qi!==null&&($g(Qi),Qi=null))),Pg(l,d),hr(d),null;case 5:ug(d);var _=Ta(bc.current);if(m=d.type,l!==null&&d.stateNode!=null)y2(l,d,m,v,_),l.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!v){if(d.stateNode===null)throw Error(n(166));return hr(d),null}if(l=Ta(hs.current),Dh(d)){v=d.stateNode,m=d.type;var j=d.memoizedProps;switch(v[ds]=d,v[mc]=j,l=(d.mode&1)!==0,m){case"dialog":cn("cancel",v),cn("close",v);break;case"iframe":case"object":case"embed":cn("load",v);break;case"video":case"audio":for(_=0;_<hc.length;_++)cn(hc[_],v);break;case"source":cn("error",v);break;case"img":case"image":case"link":cn("error",v),cn("load",v);break;case"details":cn("toggle",v);break;case"input":jn(v,j),cn("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!j.multiple},cn("invalid",v);break;case"textarea":or(v,j),cn("invalid",v)}Ve(m,j),_=null;for(var D in j)if(j.hasOwnProperty(D)){var W=j[D];D==="children"?typeof W=="string"?v.textContent!==W&&(j.suppressHydrationWarning!==!0&&jh(v.textContent,W,l),_=["children",W]):typeof W=="number"&&v.textContent!==""+W&&(j.suppressHydrationWarning!==!0&&jh(v.textContent,W,l),_=["children",""+W]):i.hasOwnProperty(D)&&W!=null&&D==="onScroll"&&cn("scroll",v)}switch(m){case"input":ln(v),fo(v,j,!0);break;case"textarea":ln(v),Dr(v);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(v.onclick=Eh)}v=_,d.updateQueue=v,v!==null&&(d.flags|=4)}else{D=_.nodeType===9?_:_.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=Ce(m)),l==="http://www.w3.org/1999/xhtml"?m==="script"?(l=D.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof v.is=="string"?l=D.createElement(m,{is:v.is}):(l=D.createElement(m),m==="select"&&(D=l,v.multiple?D.multiple=!0:v.size&&(D.size=v.size))):l=D.createElementNS(l,m),l[ds]=d,l[mc]=v,g2(l,d,!1,!1),d.stateNode=l;e:{switch(D=Tn(m,v),m){case"dialog":cn("cancel",l),cn("close",l),_=v;break;case"iframe":case"object":case"embed":cn("load",l),_=v;break;case"video":case"audio":for(_=0;_<hc.length;_++)cn(hc[_],l);_=v;break;case"source":cn("error",l),_=v;break;case"img":case"image":case"link":cn("error",l),cn("load",l),_=v;break;case"details":cn("toggle",l),_=v;break;case"input":jn(l,v),_=un(l,v),cn("invalid",l);break;case"option":_=v;break;case"select":l._wrapperState={wasMultiple:!!v.multiple},_=R({},v,{value:void 0}),cn("invalid",l);break;case"textarea":or(l,v),_=sr(l,v),cn("invalid",l);break;default:_=v}Ve(m,_),W=_;for(j in W)if(W.hasOwnProperty(j)){var Z=W[j];j==="style"?_r(l,Z):j==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&pt(l,Z)):j==="children"?typeof Z=="string"?(m!=="textarea"||Z!=="")&&Nt(l,Z):typeof Z=="number"&&Nt(l,""+Z):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(i.hasOwnProperty(j)?Z!=null&&j==="onScroll"&&cn("scroll",l):Z!=null&&A(l,j,Z,D))}switch(m){case"input":ln(l),fo(l,v,!1);break;case"textarea":ln(l),Dr(l);break;case"option":v.value!=null&&l.setAttribute("value",""+Ke(v.value));break;case"select":l.multiple=!!v.multiple,j=v.value,j!=null?En(l,!!v.multiple,j,!1):v.defaultValue!=null&&En(l,!!v.multiple,v.defaultValue,!0);break;default:typeof _.onClick=="function"&&(l.onclick=Eh)}switch(m){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return hr(d),null;case 6:if(l&&d.stateNode!=null)v2(l,d,l.memoizedProps,v);else{if(typeof v!="string"&&d.stateNode===null)throw Error(n(166));if(m=Ta(bc.current),Ta(hs.current),Dh(d)){if(v=d.stateNode,m=d.memoizedProps,v[ds]=d,(j=v.nodeValue!==m)&&(l=ii,l!==null))switch(l.tag){case 3:jh(v.nodeValue,m,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&jh(v.nodeValue,m,(l.mode&1)!==0)}j&&(d.flags|=4)}else v=(m.nodeType===9?m:m.ownerDocument).createTextNode(v),v[ds]=d,d.stateNode=v}return hr(d),null;case 13:if(dn(wn),v=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(yn&&si!==null&&(d.mode&1)!==0&&(d.flags&128)===0)wx(),Wl(),d.flags|=98560,j=!1;else if(j=Dh(d),v!==null&&v.dehydrated!==null){if(l===null){if(!j)throw Error(n(318));if(j=d.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(n(317));j[ds]=d}else Wl(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;hr(d),j=!1}else Qi!==null&&($g(Qi),Qi=null),j=!0;if(!j)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=m,d):(v=v!==null,v!==(l!==null&&l.memoizedState!==null)&&v&&(d.child.flags|=8192,(d.mode&1)!==0&&(l===null||(wn.current&1)!==0?Un===0&&(Un=3):Qg())),d.updateQueue!==null&&(d.flags|=4),hr(d),null);case 4:return Yl(),Pg(l,d),l===null&&fc(d.stateNode.containerInfo),hr(d),null;case 10:return ig(d.type._context),hr(d),null;case 17:return Fr(d.type)&&Nh(),hr(d),null;case 19:if(dn(wn),j=d.memoizedState,j===null)return hr(d),null;if(v=(d.flags&128)!==0,D=j.rendering,D===null)if(v)kc(j,!1);else{if(Un!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if(D=zh(l),D!==null){for(d.flags|=128,kc(j,!1),v=D.updateQueue,v!==null&&(d.updateQueue=v,d.flags|=4),d.subtreeFlags=0,v=m,m=d.child;m!==null;)j=m,l=v,j.flags&=14680066,D=j.alternate,D===null?(j.childLanes=0,j.lanes=l,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=D.childLanes,j.lanes=D.lanes,j.child=D.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=D.memoizedProps,j.memoizedState=D.memoizedState,j.updateQueue=D.updateQueue,j.type=D.type,l=D.dependencies,j.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),m=m.sibling;return rn(wn,wn.current&1|2),d.child}l=l.sibling}j.tail!==null&&Lt()>eu&&(d.flags|=128,v=!0,kc(j,!1),d.lanes=4194304)}else{if(!v)if(l=zh(D),l!==null){if(d.flags|=128,v=!0,m=l.updateQueue,m!==null&&(d.updateQueue=m,d.flags|=4),kc(j,!0),j.tail===null&&j.tailMode==="hidden"&&!D.alternate&&!yn)return hr(d),null}else 2*Lt()-j.renderingStartTime>eu&&m!==1073741824&&(d.flags|=128,v=!0,kc(j,!1),d.lanes=4194304);j.isBackwards?(D.sibling=d.child,d.child=D):(m=j.last,m!==null?m.sibling=D:d.child=D,j.last=D)}return j.tail!==null?(d=j.tail,j.rendering=d,j.tail=d.sibling,j.renderingStartTime=Lt(),d.sibling=null,m=wn.current,rn(wn,v?m&1|2:m&1),d):(hr(d),null);case 22:case 23:return Hg(),v=d.memoizedState!==null,l!==null&&l.memoizedState!==null!==v&&(d.flags|=8192),v&&(d.mode&1)!==0?(oi&1073741824)!==0&&(hr(d),d.subtreeFlags&6&&(d.flags|=8192)):hr(d),null;case 24:return null;case 25:return null}throw Error(n(156,d.tag))}function R8(l,d){switch(Jm(d),d.tag){case 1:return Fr(d.type)&&Nh(),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return Yl(),dn(Mr),dn(cr),dg(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 5:return ug(d),null;case 13:if(dn(wn),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(n(340));Wl()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return dn(wn),null;case 4:return Yl(),null;case 10:return ig(d.type._context),null;case 22:case 23:return Hg(),null;case 24:return null;default:return null}}var Gh=!1,fr=!1,M8=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function Jl(l,d){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(v){Cn(l,d,v)}else m.current=null}function Og(l,d,m){try{m()}catch(v){Cn(l,d,v)}}var x2=!1;function F8(l,d){if(Hm=ls,l=oe(),ve(l)){if("selectionStart"in l)var m={start:l.selectionStart,end:l.selectionEnd};else e:{m=(m=l.ownerDocument)&&m.defaultView||window;var v=m.getSelection&&m.getSelection();if(v&&v.rangeCount!==0){m=v.anchorNode;var _=v.anchorOffset,j=v.focusNode;v=v.focusOffset;try{m.nodeType,j.nodeType}catch{m=null;break e}var D=0,W=-1,Z=-1,be=0,Le=0,De=l,Ne=null;t:for(;;){for(var Xe;De!==m||_!==0&&De.nodeType!==3||(W=D+_),De!==j||v!==0&&De.nodeType!==3||(Z=D+v),De.nodeType===3&&(D+=De.nodeValue.length),(Xe=De.firstChild)!==null;)Ne=De,De=Xe;for(;;){if(De===l)break t;if(Ne===m&&++be===_&&(W=D),Ne===j&&++Le===v&&(Z=D),(Xe=De.nextSibling)!==null)break;De=Ne,Ne=De.parentNode}De=Xe}m=W===-1||Z===-1?null:{start:W,end:Z}}else m=null}m=m||{start:0,end:0}}else m=null;for(Qm={focusedElem:l,selectionRange:m},ls=!1,Ze=d;Ze!==null;)if(d=Ze,l=d.child,(d.subtreeFlags&1028)!==0&&l!==null)l.return=d,Ze=l;else for(;Ze!==null;){d=Ze;try{var nt=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(nt!==null){var it=nt.memoizedProps,Pn=nt.memoizedState,ge=d.stateNode,se=ge.getSnapshotBeforeUpdate(d.elementType===d.type?it:Vi(d.type,it),Pn);ge.__reactInternalSnapshotBeforeUpdate=se}break;case 3:var xe=d.stateNode.containerInfo;xe.nodeType===1?xe.textContent="":xe.nodeType===9&&xe.documentElement&&xe.removeChild(xe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch($e){Cn(d,d.return,$e)}if(l=d.sibling,l!==null){l.return=d.return,Ze=l;break}Ze=d.return}return nt=x2,x2=!1,nt}function jc(l,d,m){var v=d.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var _=v=v.next;do{if((_.tag&l)===l){var j=_.destroy;_.destroy=void 0,j!==void 0&&Og(d,m,j)}_=_.next}while(_!==v)}}function Yh(l,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&l)===l){var v=m.create;m.destroy=v()}m=m.next}while(m!==d)}}function Lg(l){var d=l.ref;if(d!==null){var m=l.stateNode;switch(l.tag){case 5:l=m;break;default:l=m}typeof d=="function"?d(l):d.current=l}}function b2(l){var d=l.alternate;d!==null&&(l.alternate=null,b2(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&(delete d[ds],delete d[mc],delete d[Km],delete d[b8],delete d[w8])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function w2(l){return l.tag===5||l.tag===3||l.tag===4}function _2(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||w2(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Ag(l,d,m){var v=l.tag;if(v===5||v===6)l=l.stateNode,d?m.nodeType===8?m.parentNode.insertBefore(l,d):m.insertBefore(l,d):(m.nodeType===8?(d=m.parentNode,d.insertBefore(l,m)):(d=m,d.appendChild(l)),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=Eh));else if(v!==4&&(l=l.child,l!==null))for(Ag(l,d,m),l=l.sibling;l!==null;)Ag(l,d,m),l=l.sibling}function Dg(l,d,m){var v=l.tag;if(v===5||v===6)l=l.stateNode,d?m.insertBefore(l,d):m.appendChild(l);else if(v!==4&&(l=l.child,l!==null))for(Dg(l,d,m),l=l.sibling;l!==null;)Dg(l,d,m),l=l.sibling}var rr=null,Wi=!1;function Oo(l,d,m){for(m=m.child;m!==null;)S2(l,d,m),m=m.sibling}function S2(l,d,m){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(ei,m)}catch{}switch(m.tag){case 5:fr||Jl(m,d);case 6:var v=rr,_=Wi;rr=null,Oo(l,d,m),rr=v,Wi=_,rr!==null&&(Wi?(l=rr,m=m.stateNode,l.nodeType===8?l.parentNode.removeChild(m):l.removeChild(m)):rr.removeChild(m.stateNode));break;case 18:rr!==null&&(Wi?(l=rr,m=m.stateNode,l.nodeType===8?qm(l.parentNode,m):l.nodeType===1&&qm(l,m),vo(l)):qm(rr,m.stateNode));break;case 4:v=rr,_=Wi,rr=m.stateNode.containerInfo,Wi=!0,Oo(l,d,m),rr=v,Wi=_;break;case 0:case 11:case 14:case 15:if(!fr&&(v=m.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){_=v=v.next;do{var j=_,D=j.destroy;j=j.tag,D!==void 0&&((j&2)!==0||(j&4)!==0)&&Og(m,d,D),_=_.next}while(_!==v)}Oo(l,d,m);break;case 1:if(!fr&&(Jl(m,d),v=m.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=m.memoizedProps,v.state=m.memoizedState,v.componentWillUnmount()}catch(W){Cn(m,d,W)}Oo(l,d,m);break;case 21:Oo(l,d,m);break;case 22:m.mode&1?(fr=(v=fr)||m.memoizedState!==null,Oo(l,d,m),fr=v):Oo(l,d,m);break;default:Oo(l,d,m)}}function C2(l){var d=l.updateQueue;if(d!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new M8),d.forEach(function(v){var _=q8.bind(null,l,v);m.has(v)||(m.add(v),v.then(_,_))})}}function qi(l,d){var m=d.deletions;if(m!==null)for(var v=0;v<m.length;v++){var _=m[v];try{var j=l,D=d,W=D;e:for(;W!==null;){switch(W.tag){case 5:rr=W.stateNode,Wi=!1;break e;case 3:rr=W.stateNode.containerInfo,Wi=!0;break e;case 4:rr=W.stateNode.containerInfo,Wi=!0;break e}W=W.return}if(rr===null)throw Error(n(160));S2(j,D,_),rr=null,Wi=!1;var Z=_.alternate;Z!==null&&(Z.return=null),_.return=null}catch(be){Cn(_,d,be)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)k2(d,l),d=d.sibling}function k2(l,d){var m=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(qi(d,l),ps(l),v&4){try{jc(3,l,l.return),Yh(3,l)}catch(it){Cn(l,l.return,it)}try{jc(5,l,l.return)}catch(it){Cn(l,l.return,it)}}break;case 1:qi(d,l),ps(l),v&512&&m!==null&&Jl(m,m.return);break;case 5:if(qi(d,l),ps(l),v&512&&m!==null&&Jl(m,m.return),l.flags&32){var _=l.stateNode;try{Nt(_,"")}catch(it){Cn(l,l.return,it)}}if(v&4&&(_=l.stateNode,_!=null)){var j=l.memoizedProps,D=m!==null?m.memoizedProps:j,W=l.type,Z=l.updateQueue;if(l.updateQueue=null,Z!==null)try{W==="input"&&j.type==="radio"&&j.name!=null&&js(_,j),Tn(W,D);var be=Tn(W,j);for(D=0;D<Z.length;D+=2){var Le=Z[D],De=Z[D+1];Le==="style"?_r(_,De):Le==="dangerouslySetInnerHTML"?pt(_,De):Le==="children"?Nt(_,De):A(_,Le,De,be)}switch(W){case"input":Ai(_,j);break;case"textarea":ss(_,j);break;case"select":var Ne=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!j.multiple;var Xe=j.value;Xe!=null?En(_,!!j.multiple,Xe,!1):Ne!==!!j.multiple&&(j.defaultValue!=null?En(_,!!j.multiple,j.defaultValue,!0):En(_,!!j.multiple,j.multiple?[]:"",!1))}_[mc]=j}catch(it){Cn(l,l.return,it)}}break;case 6:if(qi(d,l),ps(l),v&4){if(l.stateNode===null)throw Error(n(162));_=l.stateNode,j=l.memoizedProps;try{_.nodeValue=j}catch(it){Cn(l,l.return,it)}}break;case 3:if(qi(d,l),ps(l),v&4&&m!==null&&m.memoizedState.isDehydrated)try{vo(d.containerInfo)}catch(it){Cn(l,l.return,it)}break;case 4:qi(d,l),ps(l);break;case 13:qi(d,l),ps(l),_=l.child,_.flags&8192&&(j=_.memoizedState!==null,_.stateNode.isHidden=j,!j||_.alternate!==null&&_.alternate.memoizedState!==null||(Mg=Lt())),v&4&&C2(l);break;case 22:if(Le=m!==null&&m.memoizedState!==null,l.mode&1?(fr=(be=fr)||Le,qi(d,l),fr=be):qi(d,l),ps(l),v&8192){if(be=l.memoizedState!==null,(l.stateNode.isHidden=be)&&!Le&&(l.mode&1)!==0)for(Ze=l,Le=l.child;Le!==null;){for(De=Ze=Le;Ze!==null;){switch(Ne=Ze,Xe=Ne.child,Ne.tag){case 0:case 11:case 14:case 15:jc(4,Ne,Ne.return);break;case 1:Jl(Ne,Ne.return);var nt=Ne.stateNode;if(typeof nt.componentWillUnmount=="function"){v=Ne,m=Ne.return;try{d=v,nt.props=d.memoizedProps,nt.state=d.memoizedState,nt.componentWillUnmount()}catch(it){Cn(v,m,it)}}break;case 5:Jl(Ne,Ne.return);break;case 22:if(Ne.memoizedState!==null){T2(De);continue}}Xe!==null?(Xe.return=Ne,Ze=Xe):T2(De)}Le=Le.sibling}e:for(Le=null,De=l;;){if(De.tag===5){if(Le===null){Le=De;try{_=De.stateNode,be?(j=_.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(W=De.stateNode,Z=De.memoizedProps.style,D=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,W.style.display=An("display",D))}catch(it){Cn(l,l.return,it)}}}else if(De.tag===6){if(Le===null)try{De.stateNode.nodeValue=be?"":De.memoizedProps}catch(it){Cn(l,l.return,it)}}else if((De.tag!==22&&De.tag!==23||De.memoizedState===null||De===l)&&De.child!==null){De.child.return=De,De=De.child;continue}if(De===l)break e;for(;De.sibling===null;){if(De.return===null||De.return===l)break e;Le===De&&(Le=null),De=De.return}Le===De&&(Le=null),De.sibling.return=De.return,De=De.sibling}}break;case 19:qi(d,l),ps(l),v&4&&C2(l);break;case 21:break;default:qi(d,l),ps(l)}}function ps(l){var d=l.flags;if(d&2){try{e:{for(var m=l.return;m!==null;){if(w2(m)){var v=m;break e}m=m.return}throw Error(n(160))}switch(v.tag){case 5:var _=v.stateNode;v.flags&32&&(Nt(_,""),v.flags&=-33);var j=_2(l);Dg(l,j,_);break;case 3:case 4:var D=v.stateNode.containerInfo,W=_2(l);Ag(l,W,D);break;default:throw Error(n(161))}}catch(Z){Cn(l,l.return,Z)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function B8(l,d,m){Ze=l,j2(l)}function j2(l,d,m){for(var v=(l.mode&1)!==0;Ze!==null;){var _=Ze,j=_.child;if(_.tag===22&&v){var D=_.memoizedState!==null||Gh;if(!D){var W=_.alternate,Z=W!==null&&W.memoizedState!==null||fr;W=Gh;var be=fr;if(Gh=D,(fr=Z)&&!be)for(Ze=_;Ze!==null;)D=Ze,Z=D.child,D.tag===22&&D.memoizedState!==null?N2(_):Z!==null?(Z.return=D,Ze=Z):N2(_);for(;j!==null;)Ze=j,j2(j),j=j.sibling;Ze=_,Gh=W,fr=be}E2(l)}else(_.subtreeFlags&8772)!==0&&j!==null?(j.return=_,Ze=j):E2(l)}}function E2(l){for(;Ze!==null;){var d=Ze;if((d.flags&8772)!==0){var m=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:fr||Yh(5,d);break;case 1:var v=d.stateNode;if(d.flags&4&&!fr)if(m===null)v.componentDidMount();else{var _=d.elementType===d.type?m.memoizedProps:Vi(d.type,m.memoizedProps);v.componentDidUpdate(_,m.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var j=d.updateQueue;j!==null&&Tx(d,j,v);break;case 3:var D=d.updateQueue;if(D!==null){if(m=null,d.child!==null)switch(d.child.tag){case 5:m=d.child.stateNode;break;case 1:m=d.child.stateNode}Tx(d,D,m)}break;case 5:var W=d.stateNode;if(m===null&&d.flags&4){m=W;var Z=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&m.focus();break;case"img":Z.src&&(m.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var be=d.alternate;if(be!==null){var Le=be.memoizedState;if(Le!==null){var De=Le.dehydrated;De!==null&&vo(De)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}fr||d.flags&512&&Lg(d)}catch(Ne){Cn(d,d.return,Ne)}}if(d===l){Ze=null;break}if(m=d.sibling,m!==null){m.return=d.return,Ze=m;break}Ze=d.return}}function T2(l){for(;Ze!==null;){var d=Ze;if(d===l){Ze=null;break}var m=d.sibling;if(m!==null){m.return=d.return,Ze=m;break}Ze=d.return}}function N2(l){for(;Ze!==null;){var d=Ze;try{switch(d.tag){case 0:case 11:case 15:var m=d.return;try{Yh(4,d)}catch(Z){Cn(d,m,Z)}break;case 1:var v=d.stateNode;if(typeof v.componentDidMount=="function"){var _=d.return;try{v.componentDidMount()}catch(Z){Cn(d,_,Z)}}var j=d.return;try{Lg(d)}catch(Z){Cn(d,j,Z)}break;case 5:var D=d.return;try{Lg(d)}catch(Z){Cn(d,D,Z)}}}catch(Z){Cn(d,d.return,Z)}if(d===l){Ze=null;break}var W=d.sibling;if(W!==null){W.return=d.return,Ze=W;break}Ze=d.return}}var z8=Math.ceil,Xh=B.ReactCurrentDispatcher,Ig=B.ReactCurrentOwner,Ci=B.ReactCurrentBatchConfig,Qt=0,Xn=null,In=null,ir=0,oi=0,Zl=jo(0),Un=0,Ec=null,Pa=0,Jh=0,Rg=0,Tc=null,zr=null,Mg=0,eu=1/0,Qs=null,Zh=!1,Fg=null,Lo=null,ef=!1,Ao=null,tf=0,Nc=0,Bg=null,nf=-1,rf=0;function Er(){return(Qt&6)!==0?Lt():nf!==-1?nf:nf=Lt()}function Do(l){return(l.mode&1)===0?1:(Qt&2)!==0&&ir!==0?ir&-ir:S8.transition!==null?(rf===0&&(rf=tc()),rf):(l=Yt,l!==0||(l=window.event,l=l===void 0?16:dh(l.type)),l)}function Ki(l,d,m,v){if(50<Nc)throw Nc=0,Bg=null,Error(n(185));go(l,m,v),((Qt&2)===0||l!==Xn)&&(l===Xn&&((Qt&2)===0&&(Jh|=m),Un===4&&Io(l,ir)),$r(l,v),m===1&&Qt===0&&(d.mode&1)===0&&(eu=Lt()+500,Oh&&To()))}function $r(l,d){var m=l.callbackNode;ec(l,d);var v=Fi(l,l===Xn?ir:0);if(v===0)m!==null&&Sr(m),l.callbackNode=null,l.callbackPriority=0;else if(d=v&-v,l.callbackPriority!==d){if(m!=null&&Sr(m),d===1)l.tag===0?_8(O2.bind(null,l)):gx(O2.bind(null,l)),v8(function(){(Qt&6)===0&&To()}),m=null;else{switch(zt(v)){case 1:m=Cr;break;case 4:m=yi;break;case 16:m=At;break;case 536870912:m=kr;break;default:m=At}m=B2(m,P2.bind(null,l))}l.callbackPriority=d,l.callbackNode=m}}function P2(l,d){if(nf=-1,rf=0,(Qt&6)!==0)throw Error(n(327));var m=l.callbackNode;if(tu()&&l.callbackNode!==m)return null;var v=Fi(l,l===Xn?ir:0);if(v===0)return null;if((v&30)!==0||(v&l.expiredLanes)!==0||d)d=sf(l,v);else{d=v;var _=Qt;Qt|=2;var j=A2();(Xn!==l||ir!==d)&&(Qs=null,eu=Lt()+500,La(l,d));do try{H8();break}catch(W){L2(l,W)}while(!0);rg(),Xh.current=j,Qt=_,In!==null?d=0:(Xn=null,ir=0,d=Un)}if(d!==0){if(d===2&&(_=po(l),_!==0&&(v=_,d=zg(l,_))),d===1)throw m=Ec,La(l,0),Io(l,v),$r(l,Lt()),m;if(d===6)Io(l,v);else{if(_=l.current.alternate,(v&30)===0&&!$8(_)&&(d=sf(l,v),d===2&&(j=po(l),j!==0&&(v=j,d=zg(l,j))),d===1))throw m=Ec,La(l,0),Io(l,v),$r(l,Lt()),m;switch(l.finishedWork=_,l.finishedLanes=v,d){case 0:case 1:throw Error(n(345));case 2:Aa(l,zr,Qs);break;case 3:if(Io(l,v),(v&130023424)===v&&(d=Mg+500-Lt(),10<d)){if(Fi(l,0)!==0)break;if(_=l.suspendedLanes,(_&v)!==v){Er(),l.pingedLanes|=l.suspendedLanes&_;break}l.timeoutHandle=Wm(Aa.bind(null,l,zr,Qs),d);break}Aa(l,zr,Qs);break;case 4:if(Io(l,v),(v&4194240)===v)break;for(d=l.eventTimes,_=-1;0<v;){var D=31-ft(v);j=1<<D,D=d[D],D>_&&(_=D),v&=~j}if(v=_,v=Lt()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*z8(v/1960))-v,10<v){l.timeoutHandle=Wm(Aa.bind(null,l,zr,Qs),v);break}Aa(l,zr,Qs);break;case 5:Aa(l,zr,Qs);break;default:throw Error(n(329))}}}return $r(l,Lt()),l.callbackNode===m?P2.bind(null,l):null}function zg(l,d){var m=Tc;return l.current.memoizedState.isDehydrated&&(La(l,d).flags|=256),l=sf(l,d),l!==2&&(d=zr,zr=m,d!==null&&$g(d)),l}function $g(l){zr===null?zr=l:zr.push.apply(zr,l)}function $8(l){for(var d=l;;){if(d.flags&16384){var m=d.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var v=0;v<m.length;v++){var _=m[v],j=_.getSnapshot;_=_.value;try{if(!Y(j(),_))return!1}catch{return!1}}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Io(l,d){for(d&=~Rg,d&=~Jh,l.suspendedLanes|=d,l.pingedLanes&=~d,l=l.expirationTimes;0<d;){var m=31-ft(d),v=1<<m;l[m]=-1,d&=~v}}function O2(l){if((Qt&6)!==0)throw Error(n(327));tu();var d=Fi(l,0);if((d&1)===0)return $r(l,Lt()),null;var m=sf(l,d);if(l.tag!==0&&m===2){var v=po(l);v!==0&&(d=v,m=zg(l,v))}if(m===1)throw m=Ec,La(l,0),Io(l,d),$r(l,Lt()),m;if(m===6)throw Error(n(345));return l.finishedWork=l.current.alternate,l.finishedLanes=d,Aa(l,zr,Qs),$r(l,Lt()),null}function Ug(l,d){var m=Qt;Qt|=1;try{return l(d)}finally{Qt=m,Qt===0&&(eu=Lt()+500,Oh&&To())}}function Oa(l){Ao!==null&&Ao.tag===0&&(Qt&6)===0&&tu();var d=Qt;Qt|=1;var m=Ci.transition,v=Yt;try{if(Ci.transition=null,Yt=1,l)return l()}finally{Yt=v,Ci.transition=m,Qt=d,(Qt&6)===0&&To()}}function Hg(){oi=Zl.current,dn(Zl)}function La(l,d){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==-1&&(l.timeoutHandle=-1,y8(m)),In!==null)for(m=In.return;m!==null;){var v=m;switch(Jm(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&Nh();break;case 3:Yl(),dn(Mr),dn(cr),dg();break;case 5:ug(v);break;case 4:Yl();break;case 13:dn(wn);break;case 19:dn(wn);break;case 10:ig(v.type._context);break;case 22:case 23:Hg()}m=m.return}if(Xn=l,In=l=Ro(l.current,null),ir=oi=d,Un=0,Ec=null,Rg=Jh=Pa=0,zr=Tc=null,Ea!==null){for(d=0;d<Ea.length;d++)if(m=Ea[d],v=m.interleaved,v!==null){m.interleaved=null;var _=v.next,j=m.pending;if(j!==null){var D=j.next;j.next=_,v.next=D}m.pending=v}Ea=null}return l}function L2(l,d){do{var m=In;try{if(rg(),$h.current=Vh,Uh){for(var v=_n.memoizedState;v!==null;){var _=v.queue;_!==null&&(_.pending=null),v=v.next}Uh=!1}if(Na=0,Yn=$n=_n=null,wc=!1,_c=0,Ig.current=null,m===null||m.return===null){Un=1,Ec=d,In=null;break}e:{var j=l,D=m.return,W=m,Z=d;if(d=ir,W.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var be=Z,Le=W,De=Le.tag;if((Le.mode&1)===0&&(De===0||De===11||De===15)){var Ne=Le.alternate;Ne?(Le.updateQueue=Ne.updateQueue,Le.memoizedState=Ne.memoizedState,Le.lanes=Ne.lanes):(Le.updateQueue=null,Le.memoizedState=null)}var Xe=r2(D);if(Xe!==null){Xe.flags&=-257,i2(Xe,D,W,j,d),Xe.mode&1&&n2(j,be,d),d=Xe,Z=be;var nt=d.updateQueue;if(nt===null){var it=new Set;it.add(Z),d.updateQueue=it}else nt.add(Z);break e}else{if((d&1)===0){n2(j,be,d),Qg();break e}Z=Error(n(426))}}else if(yn&&W.mode&1){var Pn=r2(D);if(Pn!==null){(Pn.flags&65536)===0&&(Pn.flags|=256),i2(Pn,D,W,j,d),tg(Xl(Z,W));break e}}j=Z=Xl(Z,W),Un!==4&&(Un=2),Tc===null?Tc=[j]:Tc.push(j),j=D;do{switch(j.tag){case 3:j.flags|=65536,d&=-d,j.lanes|=d;var ge=e2(j,Z,d);Ex(j,ge);break e;case 1:W=Z;var se=j.type,xe=j.stateNode;if((j.flags&128)===0&&(typeof se.getDerivedStateFromError=="function"||xe!==null&&typeof xe.componentDidCatch=="function"&&(Lo===null||!Lo.has(xe)))){j.flags|=65536,d&=-d,j.lanes|=d;var $e=t2(j,W,d);Ex(j,$e);break e}}j=j.return}while(j!==null)}I2(m)}catch(st){d=st,In===m&&m!==null&&(In=m=m.return);continue}break}while(!0)}function A2(){var l=Xh.current;return Xh.current=Vh,l===null?Vh:l}function Qg(){(Un===0||Un===3||Un===2)&&(Un=4),Xn===null||(Pa&268435455)===0&&(Jh&268435455)===0||Io(Xn,ir)}function sf(l,d){var m=Qt;Qt|=2;var v=A2();(Xn!==l||ir!==d)&&(Qs=null,La(l,d));do try{U8();break}catch(_){L2(l,_)}while(!0);if(rg(),Qt=m,Xh.current=v,In!==null)throw Error(n(261));return Xn=null,ir=0,Un}function U8(){for(;In!==null;)D2(In)}function H8(){for(;In!==null&&!$t();)D2(In)}function D2(l){var d=F2(l.alternate,l,oi);l.memoizedProps=l.pendingProps,d===null?I2(l):In=d,Ig.current=null}function I2(l){var d=l;do{var m=d.alternate;if(l=d.return,(d.flags&32768)===0){if(m=I8(m,d,oi),m!==null){In=m;return}}else{if(m=R8(m,d),m!==null){m.flags&=32767,In=m;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{Un=6,In=null;return}}if(d=d.sibling,d!==null){In=d;return}In=d=l}while(d!==null);Un===0&&(Un=5)}function Aa(l,d,m){var v=Yt,_=Ci.transition;try{Ci.transition=null,Yt=1,Q8(l,d,m,v)}finally{Ci.transition=_,Yt=v}return null}function Q8(l,d,m,v){do tu();while(Ao!==null);if((Qt&6)!==0)throw Error(n(327));m=l.finishedWork;var _=l.finishedLanes;if(m===null)return null;if(l.finishedWork=null,l.finishedLanes=0,m===l.current)throw Error(n(177));l.callbackNode=null,l.callbackPriority=0;var j=m.lanes|m.childLanes;if(la(l,j),l===Xn&&(In=Xn=null,ir=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||ef||(ef=!0,B2(At,function(){return tu(),null})),j=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||j){j=Ci.transition,Ci.transition=null;var D=Yt;Yt=1;var W=Qt;Qt|=4,Ig.current=null,F8(l,m),k2(m,l),we(Qm),ls=!!Hm,Qm=Hm=null,l.current=m,B8(m),Zr(),Qt=W,Yt=D,Ci.transition=j}else l.current=m;if(ef&&(ef=!1,Ao=l,tf=_),j=l.pendingLanes,j===0&&(Lo=null),Ts(m.stateNode),$r(l,Lt()),d!==null)for(v=l.onRecoverableError,m=0;m<d.length;m++)_=d[m],v(_.value,{componentStack:_.stack,digest:_.digest});if(Zh)throw Zh=!1,l=Fg,Fg=null,l;return(tf&1)!==0&&l.tag!==0&&tu(),j=l.pendingLanes,(j&1)!==0?l===Bg?Nc++:(Nc=0,Bg=l):Nc=0,To(),null}function tu(){if(Ao!==null){var l=zt(tf),d=Ci.transition,m=Yt;try{if(Ci.transition=null,Yt=16>l?16:l,Ao===null)var v=!1;else{if(l=Ao,Ao=null,tf=0,(Qt&6)!==0)throw Error(n(331));var _=Qt;for(Qt|=4,Ze=l.current;Ze!==null;){var j=Ze,D=j.child;if((Ze.flags&16)!==0){var W=j.deletions;if(W!==null){for(var Z=0;Z<W.length;Z++){var be=W[Z];for(Ze=be;Ze!==null;){var Le=Ze;switch(Le.tag){case 0:case 11:case 15:jc(8,Le,j)}var De=Le.child;if(De!==null)De.return=Le,Ze=De;else for(;Ze!==null;){Le=Ze;var Ne=Le.sibling,Xe=Le.return;if(b2(Le),Le===be){Ze=null;break}if(Ne!==null){Ne.return=Xe,Ze=Ne;break}Ze=Xe}}}var nt=j.alternate;if(nt!==null){var it=nt.child;if(it!==null){nt.child=null;do{var Pn=it.sibling;it.sibling=null,it=Pn}while(it!==null)}}Ze=j}}if((j.subtreeFlags&2064)!==0&&D!==null)D.return=j,Ze=D;else e:for(;Ze!==null;){if(j=Ze,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:jc(9,j,j.return)}var ge=j.sibling;if(ge!==null){ge.return=j.return,Ze=ge;break e}Ze=j.return}}var se=l.current;for(Ze=se;Ze!==null;){D=Ze;var xe=D.child;if((D.subtreeFlags&2064)!==0&&xe!==null)xe.return=D,Ze=xe;else e:for(D=se;Ze!==null;){if(W=Ze,(W.flags&2048)!==0)try{switch(W.tag){case 0:case 11:case 15:Yh(9,W)}}catch(st){Cn(W,W.return,st)}if(W===D){Ze=null;break e}var $e=W.sibling;if($e!==null){$e.return=W.return,Ze=$e;break e}Ze=W.return}}if(Qt=_,To(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(ei,l)}catch{}v=!0}return v}finally{Yt=m,Ci.transition=d}}return!1}function R2(l,d,m){d=Xl(m,d),d=e2(l,d,1),l=Po(l,d,1),d=Er(),l!==null&&(go(l,1,d),$r(l,d))}function Cn(l,d,m){if(l.tag===3)R2(l,l,m);else for(;d!==null;){if(d.tag===3){R2(d,l,m);break}else if(d.tag===1){var v=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Lo===null||!Lo.has(v))){l=Xl(m,l),l=t2(d,l,1),d=Po(d,l,1),l=Er(),d!==null&&(go(d,1,l),$r(d,l));break}}d=d.return}}function V8(l,d,m){var v=l.pingCache;v!==null&&v.delete(d),d=Er(),l.pingedLanes|=l.suspendedLanes&m,Xn===l&&(ir&m)===m&&(Un===4||Un===3&&(ir&130023424)===ir&&500>Lt()-Mg?La(l,0):Rg|=m),$r(l,d)}function M2(l,d){d===0&&((l.mode&1)===0?d=1:(d=as,as<<=1,(as&130023424)===0&&(as=4194304)));var m=Er();l=$s(l,d),l!==null&&(go(l,d,m),$r(l,m))}function W8(l){var d=l.memoizedState,m=0;d!==null&&(m=d.retryLane),M2(l,m)}function q8(l,d){var m=0;switch(l.tag){case 13:var v=l.stateNode,_=l.memoizedState;_!==null&&(m=_.retryLane);break;case 19:v=l.stateNode;break;default:throw Error(n(314))}v!==null&&v.delete(d),M2(l,m)}var F2;F2=function(l,d,m){if(l!==null)if(l.memoizedProps!==d.pendingProps||Mr.current)Br=!0;else{if((l.lanes&m)===0&&(d.flags&128)===0)return Br=!1,D8(l,d,m);Br=(l.flags&131072)!==0}else Br=!1,yn&&(d.flags&1048576)!==0&&yx(d,Ah,d.index);switch(d.lanes=0,d.tag){case 2:var v=d.type;Kh(l,d),l=d.pendingProps;var _=Hl(d,cr.current);Gl(d,m),_=pg(null,d,v,l,_,m);var j=mg();return d.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Fr(v)?(j=!0,Ph(d)):j=!1,d.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,ag(d),_.updater=Wh,d.stateNode=_,_._reactInternals=d,wg(d,v,l,m),d=kg(null,d,v,!0,j,m)):(d.tag=0,yn&&j&&Xm(d),jr(null,d,_,m),d=d.child),d;case 16:v=d.elementType;e:{switch(Kh(l,d),l=d.pendingProps,_=v._init,v=_(v._payload),d.type=v,_=d.tag=G8(v),l=Vi(v,l),_){case 0:d=Cg(null,d,v,l,m);break e;case 1:d=c2(null,d,v,l,m);break e;case 11:d=s2(null,d,v,l,m);break e;case 14:d=o2(null,d,v,Vi(v.type,l),m);break e}throw Error(n(306,v,""))}return d;case 0:return v=d.type,_=d.pendingProps,_=d.elementType===v?_:Vi(v,_),Cg(l,d,v,_,m);case 1:return v=d.type,_=d.pendingProps,_=d.elementType===v?_:Vi(v,_),c2(l,d,v,_,m);case 3:e:{if(d2(d),l===null)throw Error(n(387));v=d.pendingProps,j=d.memoizedState,_=j.element,jx(l,d),Bh(d,v,null,m);var D=d.memoizedState;if(v=D.element,j.isDehydrated)if(j={element:v,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},d.updateQueue.baseState=j,d.memoizedState=j,d.flags&256){_=Xl(Error(n(423)),d),d=h2(l,d,v,m,_);break e}else if(v!==_){_=Xl(Error(n(424)),d),d=h2(l,d,v,m,_);break e}else for(si=ko(d.stateNode.containerInfo.firstChild),ii=d,yn=!0,Qi=null,m=Cx(d,null,v,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(Wl(),v===_){d=Hs(l,d,m);break e}jr(l,d,v,m)}d=d.child}return d;case 5:return Nx(d),l===null&&eg(d),v=d.type,_=d.pendingProps,j=l!==null?l.memoizedProps:null,D=_.children,Vm(v,_)?D=null:j!==null&&Vm(v,j)&&(d.flags|=32),u2(l,d),jr(l,d,D,m),d.child;case 6:return l===null&&eg(d),null;case 13:return f2(l,d,m);case 4:return lg(d,d.stateNode.containerInfo),v=d.pendingProps,l===null?d.child=ql(d,null,v,m):jr(l,d,v,m),d.child;case 11:return v=d.type,_=d.pendingProps,_=d.elementType===v?_:Vi(v,_),s2(l,d,v,_,m);case 7:return jr(l,d,d.pendingProps,m),d.child;case 8:return jr(l,d,d.pendingProps.children,m),d.child;case 12:return jr(l,d,d.pendingProps.children,m),d.child;case 10:e:{if(v=d.type._context,_=d.pendingProps,j=d.memoizedProps,D=_.value,rn(Rh,v._currentValue),v._currentValue=D,j!==null)if(Y(j.value,D)){if(j.children===_.children&&!Mr.current){d=Hs(l,d,m);break e}}else for(j=d.child,j!==null&&(j.return=d);j!==null;){var W=j.dependencies;if(W!==null){D=j.child;for(var Z=W.firstContext;Z!==null;){if(Z.context===v){if(j.tag===1){Z=Us(-1,m&-m),Z.tag=2;var be=j.updateQueue;if(be!==null){be=be.shared;var Le=be.pending;Le===null?Z.next=Z:(Z.next=Le.next,Le.next=Z),be.pending=Z}}j.lanes|=m,Z=j.alternate,Z!==null&&(Z.lanes|=m),sg(j.return,m,d),W.lanes|=m;break}Z=Z.next}}else if(j.tag===10)D=j.type===d.type?null:j.child;else if(j.tag===18){if(D=j.return,D===null)throw Error(n(341));D.lanes|=m,W=D.alternate,W!==null&&(W.lanes|=m),sg(D,m,d),D=j.sibling}else D=j.child;if(D!==null)D.return=j;else for(D=j;D!==null;){if(D===d){D=null;break}if(j=D.sibling,j!==null){j.return=D.return,D=j;break}D=D.return}j=D}jr(l,d,_.children,m),d=d.child}return d;case 9:return _=d.type,v=d.pendingProps.children,Gl(d,m),_=_i(_),v=v(_),d.flags|=1,jr(l,d,v,m),d.child;case 14:return v=d.type,_=Vi(v,d.pendingProps),_=Vi(v.type,_),o2(l,d,v,_,m);case 15:return a2(l,d,d.type,d.pendingProps,m);case 17:return v=d.type,_=d.pendingProps,_=d.elementType===v?_:Vi(v,_),Kh(l,d),d.tag=1,Fr(v)?(l=!0,Ph(d)):l=!1,Gl(d,m),Jx(d,v,_),wg(d,v,_,m),kg(null,d,v,!0,l,m);case 19:return m2(l,d,m);case 22:return l2(l,d,m)}throw Error(n(156,d.tag))};function B2(l,d){return Ri(l,d)}function K8(l,d,m,v){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ki(l,d,m,v){return new K8(l,d,m,v)}function Vg(l){return l=l.prototype,!(!l||!l.isReactComponent)}function G8(l){if(typeof l=="function")return Vg(l)?1:0;if(l!=null){if(l=l.$$typeof,l===le)return 11;if(l===V)return 14}return 2}function Ro(l,d){var m=l.alternate;return m===null?(m=ki(l.tag,d,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=d,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&14680064,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,d=l.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function of(l,d,m,v,_,j){var D=2;if(v=l,typeof l=="function")Vg(l)&&(D=1);else if(typeof l=="string")D=5;else e:switch(l){case M:return Da(m.children,_,j,d);case H:D=8,_|=8;break;case Q:return l=ki(12,m,d,_|2),l.elementType=Q,l.lanes=j,l;case ue:return l=ki(13,m,d,_),l.elementType=ue,l.lanes=j,l;case q:return l=ki(19,m,d,_),l.elementType=q,l.lanes=j,l;case te:return af(m,_,j,d);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case F:D=10;break e;case ae:D=9;break e;case le:D=11;break e;case V:D=14;break e;case J:D=16,v=null;break e}throw Error(n(130,l==null?l:typeof l,""))}return d=ki(D,m,d,_),d.elementType=l,d.type=v,d.lanes=j,d}function Da(l,d,m,v){return l=ki(7,l,v,d),l.lanes=m,l}function af(l,d,m,v){return l=ki(22,l,v,d),l.elementType=te,l.lanes=m,l.stateNode={isHidden:!1},l}function Wg(l,d,m){return l=ki(6,l,null,d),l.lanes=m,l}function qg(l,d,m){return d=ki(4,l.children!==null?l.children:[],l.key,d),d.lanes=m,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}function Y8(l,d,m,v,_){this.tag=d,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mo(0),this.expirationTimes=mo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mo(0),this.identifierPrefix=v,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function Kg(l,d,m,v,_,j,D,W,Z){return l=new Y8(l,d,m,W,Z),d===1?(d=1,j===!0&&(d|=8)):d=0,j=ki(3,null,null,d),l.current=j,j.stateNode=l,j.memoizedState={element:v,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},ag(j),l}function X8(l,d,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:v==null?null:""+v,children:l,containerInfo:d,implementation:m}}function z2(l){if(!l)return Eo;l=l._reactInternals;e:{if(Pt(l)!==l||l.tag!==1)throw Error(n(170));var d=l;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Fr(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(n(171))}if(l.tag===1){var m=l.type;if(Fr(m))return px(l,m,d)}return d}function $2(l,d,m,v,_,j,D,W,Z){return l=Kg(m,v,!0,l,_,j,D,W,Z),l.context=z2(null),m=l.current,v=Er(),_=Do(m),j=Us(v,_),j.callback=d??null,Po(m,j,_),l.current.lanes=_,go(l,_,v),$r(l,v),l}function lf(l,d,m,v){var _=d.current,j=Er(),D=Do(_);return m=z2(m),d.context===null?d.context=m:d.pendingContext=m,d=Us(j,D),d.payload={element:l},v=v===void 0?null:v,v!==null&&(d.callback=v),l=Po(_,d,D),l!==null&&(Ki(l,_,D,j),Fh(l,_,D)),D}function uf(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function U2(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<d?m:d}}function Gg(l,d){U2(l,d),(l=l.alternate)&&U2(l,d)}function J8(){return null}var H2=typeof reportError=="function"?reportError:function(l){console.error(l)};function Yg(l){this._internalRoot=l}cf.prototype.render=Yg.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(n(409));lf(l,d,null,null)},cf.prototype.unmount=Yg.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;Oa(function(){lf(null,l,null,null)}),d[Ms]=null}};function cf(l){this._internalRoot=l}cf.prototype.unstable_scheduleHydration=function(l){if(l){var d=ar();l={blockedOn:null,target:l,priority:d};for(var m=0;m<Ir.length&&d!==0&&d<Ir[m].priority;m++);Ir.splice(m,0,l),m===0&&El(l)}};function Xg(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function df(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function Q2(){}function Z8(l,d,m,v,_){if(_){if(typeof v=="function"){var j=v;v=function(){var be=uf(D);j.call(be)}}var D=$2(d,v,l,0,null,!1,!1,"",Q2);return l._reactRootContainer=D,l[Ms]=D.current,fc(l.nodeType===8?l.parentNode:l),Oa(),D}for(;_=l.lastChild;)l.removeChild(_);if(typeof v=="function"){var W=v;v=function(){var be=uf(Z);W.call(be)}}var Z=Kg(l,0,!1,null,null,!1,!1,"",Q2);return l._reactRootContainer=Z,l[Ms]=Z.current,fc(l.nodeType===8?l.parentNode:l),Oa(function(){lf(d,Z,m,v)}),Z}function hf(l,d,m,v,_){var j=m._reactRootContainer;if(j){var D=j;if(typeof _=="function"){var W=_;_=function(){var Z=uf(D);W.call(Z)}}lf(d,D,l,_)}else D=Z8(m,d,l,_,v);return uf(D)}jl=function(l){switch(l.tag){case 3:var d=l.stateNode;if(d.current.memoizedState.isDehydrated){var m=Mi(d.pendingLanes);m!==0&&(kl(d,m|1),$r(d,Lt()),(Qt&6)===0&&(eu=Lt()+500,To()))}break;case 13:Oa(function(){var v=$s(l,1);if(v!==null){var _=Er();Ki(v,l,1,_)}}),Gg(l,1)}},nc=function(l){if(l.tag===13){var d=$s(l,134217728);if(d!==null){var m=Er();Ki(d,l,134217728,m)}Gg(l,134217728)}},ch=function(l){if(l.tag===13){var d=Do(l),m=$s(l,d);if(m!==null){var v=Er();Ki(m,l,d,v)}Gg(l,d)}},ar=function(){return Yt},Ns=function(l,d){var m=Yt;try{return Yt=l,d()}finally{Yt=m}},We=function(l,d,m){switch(d){case"input":if(Ai(l,m),d=m.name,m.type==="radio"&&d!=null){for(m=l;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<m.length;d++){var v=m[d];if(v!==l&&v.form===l.form){var _=Th(v);if(!_)throw Error(n(90));Tt(v),Ai(v,_)}}}break;case"textarea":ss(l,m);break;case"select":d=m.value,d!=null&&En(l,!!m.multiple,d,!1)}},_l=Ug,Sl=Oa;var e9={usingClientEntryPoint:!1,Events:[gc,$l,Th,os,Ii,Ug]},Pc={findFiberByHostInstance:Sa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},t9={bundleType:Pc.bundleType,version:Pc.version,rendererPackageName:Pc.rendererPackageName,rendererConfig:Pc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=Gt(l),l===null?null:l.stateNode},findFiberByHostInstance:Pc.findFiberByHostInstance||J8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ff=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ff.isDisabled&&ff.supportsFiber)try{ei=ff.inject(t9),Bt=ff}catch{}}return Ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e9,Ur.createPortal=function(l,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xg(d))throw Error(n(200));return X8(l,d,null,m)},Ur.createRoot=function(l,d){if(!Xg(l))throw Error(n(299));var m=!1,v="",_=H2;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(v=d.identifierPrefix),d.onRecoverableError!==void 0&&(_=d.onRecoverableError)),d=Kg(l,1,!1,null,null,m,!1,v,_),l[Ms]=d.current,fc(l.nodeType===8?l.parentNode:l),new Yg(d)},Ur.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=Gt(d),l=l===null?null:l.stateNode,l},Ur.flushSync=function(l){return Oa(l)},Ur.hydrate=function(l,d,m){if(!df(d))throw Error(n(200));return hf(null,l,d,!0,m)},Ur.hydrateRoot=function(l,d,m){if(!Xg(l))throw Error(n(405));var v=m!=null&&m.hydratedSources||null,_=!1,j="",D=H2;if(m!=null&&(m.unstable_strictMode===!0&&(_=!0),m.identifierPrefix!==void 0&&(j=m.identifierPrefix),m.onRecoverableError!==void 0&&(D=m.onRecoverableError)),d=$2(d,null,l,1,m??null,_,!1,j,D),l[Ms]=d.current,fc(l),v)for(l=0;l<v.length;l++)m=v[l],_=m._getVersion,_=_(m._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[m,_]:d.mutableSourceEagerHydrationData.push(m,_);return new cf(d)},Ur.render=function(l,d,m){if(!df(d))throw Error(n(200));return hf(null,l,d,!1,m)},Ur.unmountComponentAtNode=function(l){if(!df(l))throw Error(n(40));return l._reactRootContainer?(Oa(function(){hf(null,null,l,!1,function(){l._reactRootContainer=null,l[Ms]=null})}),!0):!1},Ur.unstable_batchedUpdates=Ug,Ur.unstable_renderSubtreeIntoContainer=function(l,d,m,v){if(!df(m))throw Error(n(200));if(l==null||l._reactInternals===void 0)throw Error(n(38));return hf(l,d,m,!1,v)},Ur.version="18.3.1-next-f1338f8080-20240426",Ur}var Z2;function z4(){if(Z2)return e0.exports;Z2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),e0.exports=d9(),e0.exports}var eb;function h9(){if(eb)return pf;eb=1;var e=z4();return pf.createRoot=e.createRoot,pf.hydrateRoot=e.hydrateRoot,pf}var f9=h9();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $4=e=>{throw TypeError(e)},p9=(e,t,n)=>t.has(e)||$4("Cannot "+n),r0=(e,t,n)=>(p9(e,t,"read from private field"),n?n.call(e):t.get(e)),m9=(e,t,n)=>t.has(e)?$4("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),tb="popstate";function g9(e={}){function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return vd("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Yo(i)}return v9(t,n,null,e)}function It(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Fn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function y9(){return Math.random().toString(36).substring(2,10)}function nb(e,t){return{usr:e.state,key:e.key,idx:t}}function vd(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ta(t):t,state:n,key:t&&t.key||r||y9()}}function Yo({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ta(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function v9(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",u=null,c=h();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function h(){return(o.state||{idx:null}).idx}function p(){a="POP";let C=h(),E=C==null?null:C-c;c=C,u&&u({action:a,location:S.location,delta:E})}function g(C,E){a="PUSH";let L=vd(S.location,C,E);c=h()+1;let A=nb(L,c),B=S.createHref(L);try{o.pushState(A,"",B)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(B)}s&&u&&u({action:a,location:S.location,delta:1})}function x(C,E){a="REPLACE";let L=vd(S.location,C,E);c=h();let A=nb(L,c),B=S.createHref(L);o.replaceState(A,"",B),s&&u&&u({action:a,location:S.location,delta:0})}function w(C){return U4(C)}let S={get action(){return a},get location(){return e(i,o)},listen(C){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(tb,p),u=C,()=>{i.removeEventListener(tb,p),u=null}},createHref(C){return t(i,C)},createURL:w,encodeLocation(C){let E=w(C);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:g,replace:x,go(C){return o.go(C)}};return S}function U4(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),It(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Yo(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var ed,rb=class{constructor(e){if(m9(this,ed,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(r0(this,ed).has(e))return r0(this,ed).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){r0(this,ed).set(e,t)}};ed=new WeakMap;var x9=new Set(["lazy","caseSensitive","path","id","index","children"]);function b9(e){return x9.has(e)}var w9=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function _9(e){return w9.has(e)}function S9(e){return e.index===!0}function xd(e,t,n=[],r={},i=!1){return e.map((s,o)=>{let a=[...n,String(o)],u=typeof s.id=="string"?s.id:a.join("-");if(It(s.index!==!0||!s.children,"Cannot specify children on an index route"),It(i||!r[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),S9(s)){let c={...s,...t(s),id:u};return r[u]=c,c}else{let c={...s,...t(s),id:u,children:void 0};return r[u]=c,s.children&&(c.children=xd(s.children,t,a,r,i)),c}})}function Uo(e,t,n="/"){return op(e,t,n,!1)}function op(e,t,n,r){let i=typeof t=="string"?ta(t):t,s=Li(i.pathname||"/",n);if(s==null)return null;let o=H4(e);k9(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=R9(s);a=D9(o[u],c,r)}return a}function C9(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function H4(e,t=[],n=[],r=""){let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(It(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let c=vs([r,u.relativePath]),h=n.concat(u);s.children&&s.children.length>0&&(It(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),H4(s.children,t,h,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:L9(c,s.index),routesMeta:h})};return e.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))i(s,o);else for(let a of Q4(s.path))i(s,o,a)}),t}function Q4(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Q4(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function k9(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:A9(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var j9=/^:[\w-]+$/,E9=3,T9=2,N9=1,P9=10,O9=-2,ib=e=>e==="*";function L9(e,t){let n=e.split("/"),r=n.length;return n.some(ib)&&(r+=O9),t&&(r+=T9),n.filter(i=>!ib(i)).reduce((i,s)=>i+(j9.test(s)?E9:s===""?N9:P9),r)}function A9(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function D9(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,h=s==="/"?t:t.slice(s.length)||"/",p=yp({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),g=u.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=yp({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:vs([s,p.pathname]),pathnameBase:z9(vs([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=vs([s,p.pathnameBase]))}return o}function yp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=I9(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:h,isOptional:p},g)=>{if(h==="*"){let w=a[g]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const x=a[g];return p&&!x?c[h]=void 0:c[h]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:e}}function I9(e,t=!1,n=!0){Fn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function R9(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Fn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Li(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function M9({basename:e,pathname:t}){return t==="/"?e:vs([e,t])}function F9(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ta(e):e;return{pathname:n?n.startsWith("/")?n:B9(n,t):t,search:$9(r),hash:U9(i)}}function B9(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function i0(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function V4(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ty(e){let t=V4(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Ny(e,t,n,r=!1){let i;typeof e=="string"?i=ta(e):(i={...e},It(!i.pathname||!i.pathname.includes("?"),i0("?","pathname","search",i)),It(!i.pathname||!i.pathname.includes("#"),i0("#","pathname","hash",i)),It(!i.search||!i.search.includes("#"),i0("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}a=p>=0?t[p]:"/"}let u=F9(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}var vs=e=>e.join("/").replace(/\/\/+/g,"/"),z9=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$9=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,U9=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,vp=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function bd(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var W4=["POST","PUT","PATCH","DELETE"],H9=new Set(W4),Q9=["GET",...W4],V9=new Set(Q9),W9=new Set([301,302,303,307,308]),q9=new Set([307,308]),s0={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},K9={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Lc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},G9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Py=e=>G9.test(e),Y9=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),q4="remix-router-transitions",K4=Symbol("ResetLoaderData");function X9(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";It(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=e.hydrationRouteProperties||[],i=e.mapRouteProperties||Y9,s={},o=xd(e.routes,i,void 0,s),a,u=e.basename||"/",c=e.dataStrategy||nC,h={unstable_middleware:!1,...e.future},p=null,g=new Set,x=null,w=null,S=null,C=e.hydrationData!=null,E=Uo(o,e.history.location,u),L=!1,A=null,B;if(E==null&&!e.patchRoutesOnNavigation){let X=Ei(404,{pathname:e.history.location.pathname}),{matches:pe,route:_e}=gb(o);B=!0,E=pe,A={[_e.id]:X}}else if(E&&!e.hydrationData&&os(E,o,e.history.location.pathname).active&&(E=null),E)if(E.some(X=>X.route.lazy))B=!1;else if(!E.some(X=>X.route.loader))B=!0;else{let X=e.hydrationData?e.hydrationData.loaderData:null,pe=e.hydrationData?e.hydrationData.errors:null;if(pe){let _e=E.findIndex(Ae=>pe[Ae.route.id]!==void 0);B=E.slice(0,_e+1).every(Ae=>!w1(Ae.route,X,pe))}else B=E.every(_e=>!w1(_e.route,X,pe))}else{B=!1,E=[];let X=os(null,o,e.history.location.pathname);X.active&&X.matches&&(L=!0,E=X.matches)}let $,P={historyAction:e.history.action,location:e.history.location,matches:E,initialized:B,navigation:s0,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||A,fetchers:new Map,blockers:new Map},M="POP",H=!1,Q,F=!1,ae=new Map,le=null,ue=!1,q=!1,V=new Set,J=new Map,te=0,ne=-1,me=new Map,R=new Set,G=new Map,ye=new Map,z=new Set,Me=new Map,je,Ee=null;function Ye(){if(p=e.history.listen(({action:X,location:pe,delta:_e})=>{if(je){je(),je=void 0;return}Fn(Me.size===0||_e!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ae=pn({currentLocation:P.location,nextLocation:pe,historyAction:X});if(Ae&&_e!=null){let Te=new Promise(qe=>{je=qe});e.history.go(_e*-1),Tn(Ae,{state:"blocked",location:pe,proceed(){Tn(Ae,{state:"proceeding",proceed:void 0,reset:void 0,location:pe}),Te.then(()=>e.history.go(_e))},reset(){let qe=new Map(P.blockers);qe.set(Ae,Lc),ht({blockers:qe})}});return}return un(X,pe)}),n){fC(t,ae);let X=()=>pC(t,ae);t.addEventListener("pagehide",X),le=()=>t.removeEventListener("pagehide",X)}return P.initialized||un("POP",P.location,{initialHydration:!0}),$}function Ke(){p&&p(),le&&le(),g.clear(),Q&&Q.abort(),P.fetchers.forEach((X,pe)=>pt(pe)),P.blockers.forEach((X,pe)=>Ve(pe))}function Pe(X){return g.add(X),()=>g.delete(X)}function ht(X,pe={}){X.matches&&(X.matches=X.matches.map(Te=>{let qe=s[Te.route.id],rt=Te.route;return rt.element!==qe.element||rt.errorElement!==qe.errorElement||rt.hydrateFallbackElement!==qe.hydrateFallbackElement?{...Te,route:qe}:Te})),P={...P,...X};let _e=[],Ae=[];P.fetchers.forEach((Te,qe)=>{Te.state==="idle"&&(z.has(qe)?_e.push(qe):Ae.push(qe))}),z.forEach(Te=>{!P.fetchers.has(Te)&&!J.has(Te)&&_e.push(Te)}),[...g].forEach(Te=>Te(P,{deletedFetchers:_e,viewTransitionOpts:pe.viewTransitionOpts,flushSync:pe.flushSync===!0})),_e.forEach(Te=>pt(Te)),Ae.forEach(Te=>P.fetchers.delete(Te))}function ln(X,pe,{flushSync:_e}={}){let Ae=P.actionData!=null&&P.navigation.formMethod!=null&&qr(P.navigation.formMethod)&&P.navigation.state==="loading"&&X.state?._isRedirect!==!0,Te;pe.actionData?Object.keys(pe.actionData).length>0?Te=pe.actionData:Te=null:Ae?Te=P.actionData:Te=null;let qe=pe.loaderData?pb(P.loaderData,pe.loaderData,pe.matches||[],pe.errors):P.loaderData,rt=P.blockers;rt.size>0&&(rt=new Map(rt),rt.forEach((ot,et)=>rt.set(et,Lc)));let Je=ue?!1:Es(X,pe.matches||P.matches),tt=H===!0||P.navigation.formMethod!=null&&qr(P.navigation.formMethod)&&X.state?._isRedirect!==!0;a&&(o=a,a=void 0),ue||M==="POP"||(M==="PUSH"?e.history.push(X,X.state):M==="REPLACE"&&e.history.replace(X,X.state));let at;if(M==="POP"){let ot=ae.get(P.location.pathname);ot&&ot.has(X.pathname)?at={currentLocation:P.location,nextLocation:X}:ae.has(X.pathname)&&(at={currentLocation:X,nextLocation:P.location})}else if(F){let ot=ae.get(P.location.pathname);ot?ot.add(X.pathname):(ot=new Set([X.pathname]),ae.set(P.location.pathname,ot)),at={currentLocation:P.location,nextLocation:X}}ht({...pe,actionData:Te,loaderData:qe,historyAction:M,location:X,initialized:!0,navigation:s0,revalidation:"idle",restoreScrollPosition:Je,preventScrollReset:tt,blockers:rt},{viewTransitionOpts:at,flushSync:_e===!0}),M="POP",H=!1,F=!1,ue=!1,q=!1,Ee?.resolve(),Ee=null}async function Tt(X,pe){if(typeof X=="number"){e.history.go(X);return}let _e=b1(P.location,P.matches,u,X,pe?.fromRouteId,pe?.relative),{path:Ae,submission:Te,error:qe}=sb(!1,_e,pe),rt=P.location,Je=vd(P.location,Ae,pe&&pe.state);Je={...Je,...e.history.encodeLocation(Je)};let tt=pe&&pe.replace!=null?pe.replace:void 0,at="PUSH";tt===!0?at="REPLACE":tt===!1||Te!=null&&qr(Te.formMethod)&&Te.formAction===P.location.pathname+P.location.search&&(at="REPLACE");let ot=pe&&"preventScrollReset"in pe?pe.preventScrollReset===!0:void 0,et=(pe&&pe.flushSync)===!0,_t=pn({currentLocation:rt,nextLocation:Je,historyAction:at});if(_t){Tn(_t,{state:"blocked",location:Je,proceed(){Tn(_t,{state:"proceeding",proceed:void 0,reset:void 0,location:Je}),Tt(X,pe)},reset(){let Pt=new Map(P.blockers);Pt.set(_t,Lc),ht({blockers:Pt})}});return}await un(at,Je,{submission:Te,pendingError:qe,preventScrollReset:ot,replace:pe&&pe.replace,enableViewTransition:pe&&pe.viewTransition,flushSync:et})}function fn(){Ee||(Ee=mC()),Dr(),ht({revalidation:"loading"});let X=Ee.promise;return P.navigation.state==="submitting"?X:P.navigation.state==="idle"?(un(P.historyAction,P.location,{startUninterruptedRevalidation:!0}),X):(un(M||P.historyAction,P.navigation.location,{overrideNavigation:P.navigation,enableViewTransition:F===!0}),X)}async function un(X,pe,_e){Q&&Q.abort(),Q=null,M=X,ue=(_e&&_e.startUninterruptedRevalidation)===!0,Di(P.location,P.matches),H=(_e&&_e.preventScrollReset)===!0,F=(_e&&_e.enableViewTransition)===!0;let Ae=a||o,Te=_e&&_e.overrideNavigation,qe=_e?.initialHydration&&P.matches&&P.matches.length>0&&!L?P.matches:Uo(Ae,pe,u),rt=(_e&&_e.flushSync)===!0;if(qe&&P.initialized&&!q&&lC(P.location,pe)&&!(_e&&_e.submission&&qr(_e.submission.formMethod))){ln(pe,{matches:qe},{flushSync:rt});return}let Je=os(qe,Ae,pe.pathname);if(Je.active&&Je.matches&&(qe=Je.matches),!qe){let{error:Dn,notFoundMatches:Ht,route:Gt}=mi(pe.pathname);ln(pe,{matches:Ht,loaderData:{},errors:{[Gt.id]:Dn}},{flushSync:rt});return}Q=new AbortController;let tt=_u(e.history,pe,Q.signal,_e&&_e.submission),at=new rb(e.unstable_getContext?await e.unstable_getContext():void 0),ot;if(_e&&_e.pendingError)ot=[Ka(qe).route.id,{type:"error",error:_e.pendingError}];else if(_e&&_e.submission&&qr(_e.submission.formMethod)){let Dn=await jn(tt,pe,_e.submission,qe,at,Je.active,_e&&_e.initialHydration===!0,{replace:_e.replace,flushSync:rt});if(Dn.shortCircuited)return;if(Dn.pendingActionResult){let[Ht,Gt]=Dn.pendingActionResult;if(ui(Gt)&&bd(Gt.error)&&Gt.error.status===404){Q=null,ln(pe,{matches:Dn.matches,loaderData:{},errors:{[Ht]:Gt.error}});return}}qe=Dn.matches||qe,ot=Dn.pendingActionResult,Te=o0(pe,_e.submission),rt=!1,Je.active=!1,tt=_u(e.history,tt.url,tt.signal)}let{shortCircuited:et,matches:_t,loaderData:Pt,errors:mn}=await js(tt,pe,qe,at,Je.active,Te,_e&&_e.submission,_e&&_e.fetcherSubmission,_e&&_e.replace,_e&&_e.initialHydration===!0,rt,ot);et||(Q=null,ln(pe,{matches:_t||qe,...mb(ot),loaderData:Pt,errors:mn}))}async function jn(X,pe,_e,Ae,Te,qe,rt,Je={}){Dr();let tt=dC(pe,_e);if(ht({navigation:tt},{flushSync:Je.flushSync===!0}),qe){let et=await Ii(Ae,pe.pathname,X.signal);if(et.type==="aborted")return{shortCircuited:!0};if(et.type==="error"){let _t=Ka(et.partialMatches).route.id;return{matches:et.partialMatches,pendingActionResult:[_t,{type:"error",error:et.error}]}}else if(et.matches)Ae=et.matches;else{let{notFoundMatches:_t,error:Pt,route:mn}=mi(pe.pathname);return{matches:_t,pendingActionResult:[mn.id,{type:"error",error:Pt}]}}}let at,ot=ap(Ae,pe);if(!ot.route.action&&!ot.route.lazy)at={type:"error",error:Ei(405,{method:X.method,pathname:pe.pathname,routeId:ot.route.id})};else{let et=Nu(i,s,X,Ae,ot,rt?[]:r,Te),_t=await or(X,et,Te,null);if(at=_t[ot.route.id],!at){for(let Pt of Ae)if(_t[Pt.route.id]){at=_t[Pt.route.id];break}}if(X.signal.aborted)return{shortCircuited:!0}}if(Xa(at)){let et;return Je&&Je.replace!=null?et=Je.replace:et=db(at.response.headers.get("Location"),new URL(X.url),u)===P.location.pathname+P.location.search,await sr(X,at,!0,{submission:_e,replace:et}),{shortCircuited:!0}}if(ui(at)){let et=Ka(Ae,ot.route.id);return(Je&&Je.replace)!==!0&&(M="PUSH"),{matches:Ae,pendingActionResult:[et.route.id,at,ot.route.id]}}return{matches:Ae,pendingActionResult:[ot.route.id,at]}}async function js(X,pe,_e,Ae,Te,qe,rt,Je,tt,at,ot,et){let _t=qe||o0(pe,rt),Pt=rt||Je||vb(_t),mn=!ue&&!at;if(Te){if(mn){let Sn=Ai(et);ht({navigation:_t,...Sn!==void 0?{actionData:Sn}:{}},{flushSync:ot})}let At=await Ii(_e,pe.pathname,X.signal);if(At.type==="aborted")return{shortCircuited:!0};if(At.type==="error"){let Sn=Ka(At.partialMatches).route.id;return{matches:At.partialMatches,loaderData:{},errors:{[Sn]:At.error}}}else if(At.matches)_e=At.matches;else{let{error:Sn,notFoundMatches:kr,route:ei}=mi(pe.pathname);return{matches:kr,loaderData:{},errors:{[ei.id]:Sn}}}}let Dn=a||o,{dsMatches:Ht,revalidatingFetchers:Gt}=ob(X,Ae,i,s,e.history,P,_e,Pt,pe,at?[]:r,at===!0,q,V,z,G,R,Dn,u,e.patchRoutesOnNavigation!=null,et);if(ne=++te,!e.dataStrategy&&!Ht.some(At=>At.shouldLoad)&&Gt.length===0){let At=An();return ln(pe,{matches:_e,loaderData:{},errors:et&&ui(et[1])?{[et[0]]:et[1].error}:null,...mb(et),...At?{fetchers:new Map(P.fetchers)}:{}},{flushSync:ot}),{shortCircuited:!0}}if(mn){let At={};if(!Te){At.navigation=_t;let Sn=Ai(et);Sn!==void 0&&(At.actionData=Sn)}Gt.length>0&&(At.fetchers=fo(Gt)),ht(At,{flushSync:ot})}Gt.forEach(At=>{Kt(At.key),At.controller&&J.set(At.key,At.controller)});let Kn=()=>Gt.forEach(At=>Kt(At.key));Q&&Q.signal.addEventListener("abort",Kn);let{loaderResults:Ri,fetcherResults:Sr}=await ss(Ht,Gt,X,Ae);if(X.signal.aborted)return{shortCircuited:!0};Q&&Q.signal.removeEventListener("abort",Kn),Gt.forEach(At=>J.delete(At.key));let $t=mf(Ri);if($t)return await sr(X,$t.result,!0,{replace:tt}),{shortCircuited:!0};if($t=mf(Sr),$t)return R.add($t.key),await sr(X,$t.result,!0,{replace:tt}),{shortCircuited:!0};let{loaderData:Zr,errors:Lt}=fb(P,_e,Ri,et,Gt,Sr);at&&P.errors&&(Lt={...P.errors,...Lt});let gi=An(),Cr=_r(ne),yi=gi||Cr||Gt.length>0;return{matches:_e,loaderData:Zr,errors:Lt,...yi?{fetchers:new Map(P.fetchers)}:{}}}function Ai(X){if(X&&!ui(X[1]))return{[X[0]]:X[1].data};if(P.actionData)return Object.keys(P.actionData).length===0?null:P.actionData}function fo(X){return X.forEach(pe=>{let _e=P.fetchers.get(pe.key),Ae=Ac(void 0,_e?_e.data:void 0);P.fetchers.set(pe.key,Ae)}),new Map(P.fetchers)}async function is(X,pe,_e,Ae){Kt(X);let Te=(Ae&&Ae.flushSync)===!0,qe=a||o,rt=b1(P.location,P.matches,u,_e,pe,Ae?.relative),Je=Uo(qe,rt,u),tt=os(Je,qe,rt);if(tt.active&&tt.matches&&(Je=tt.matches),!Je){Oe(X,pe,Ei(404,{pathname:rt}),{flushSync:Te});return}let{path:at,submission:ot,error:et}=sb(!0,rt,Ae);if(et){Oe(X,pe,et,{flushSync:Te});return}let _t=new rb(e.unstable_getContext?await e.unstable_getContext():void 0),Pt=(Ae&&Ae.preventScrollReset)===!0;if(ot&&qr(ot.formMethod)){await Ar(X,pe,at,Je,_t,tt.active,Te,Pt,ot);return}G.set(X,{routeId:pe,path:at}),await En(X,pe,at,Je,_t,tt.active,Te,Pt,ot)}async function Ar(X,pe,_e,Ae,Te,qe,rt,Je,tt){Dr(),G.delete(X);let at=P.fetchers.get(X);Ce(X,hC(tt,at),{flushSync:rt});let ot=new AbortController,et=_u(e.history,_e,ot.signal,tt);if(qe){let Bt=await Ii(Ae,new URL(et.url).pathname,et.signal,X);if(Bt.type==="aborted")return;if(Bt.type==="error"){Oe(X,pe,Bt.error,{flushSync:rt});return}else if(Bt.matches)Ae=Bt.matches;else{Oe(X,pe,Ei(404,{pathname:_e}),{flushSync:rt});return}}let _t=ap(Ae,_e);if(!_t.route.action&&!_t.route.lazy){let Bt=Ei(405,{method:tt.formMethod,pathname:_e,routeId:pe});Oe(X,pe,Bt,{flushSync:rt});return}J.set(X,ot);let Pt=te,mn=Nu(i,s,et,Ae,_t,r,Te),Ht=(await or(et,mn,Te,X))[_t.route.id];if(et.signal.aborted){J.get(X)===ot&&J.delete(X);return}if(z.has(X)){if(Xa(Ht)||ui(Ht)){Ce(X,zo(void 0));return}}else{if(Xa(Ht))if(J.delete(X),ne>Pt){Ce(X,zo(void 0));return}else return R.add(X),Ce(X,Ac(tt)),sr(et,Ht,!1,{fetcherSubmission:tt,preventScrollReset:Je});if(ui(Ht)){Oe(X,pe,Ht.error);return}}let Gt=P.navigation.location||P.location,Kn=_u(e.history,Gt,ot.signal),Ri=a||o,Sr=P.navigation.state!=="idle"?Uo(Ri,P.navigation.location,u):P.matches;It(Sr,"Didn't find any matches after fetcher action");let $t=++te;me.set(X,$t);let Zr=Ac(tt,Ht.data);P.fetchers.set(X,Zr);let{dsMatches:Lt,revalidatingFetchers:gi}=ob(Kn,Te,i,s,e.history,P,Sr,tt,Gt,r,!1,q,V,z,G,R,Ri,u,e.patchRoutesOnNavigation!=null,[_t.route.id,Ht]);gi.filter(Bt=>Bt.key!==X).forEach(Bt=>{let Ts=Bt.key,ft=P.fetchers.get(Ts),Cl=Ac(void 0,ft?ft.data:void 0);P.fetchers.set(Ts,Cl),Kt(Ts),Bt.controller&&J.set(Ts,Bt.controller)}),ht({fetchers:new Map(P.fetchers)});let Cr=()=>gi.forEach(Bt=>Kt(Bt.key));ot.signal.addEventListener("abort",Cr);let{loaderResults:yi,fetcherResults:At}=await ss(Lt,gi,Kn,Te);if(ot.signal.aborted)return;if(ot.signal.removeEventListener("abort",Cr),me.delete(X),J.delete(X),gi.forEach(Bt=>J.delete(Bt.key)),P.fetchers.has(X)){let Bt=zo(Ht.data);P.fetchers.set(X,Bt)}let Sn=mf(yi);if(Sn)return sr(Kn,Sn.result,!1,{preventScrollReset:Je});if(Sn=mf(At),Sn)return R.add(Sn.key),sr(Kn,Sn.result,!1,{preventScrollReset:Je});let{loaderData:kr,errors:ei}=fb(P,Sr,yi,void 0,gi,At);_r($t),P.navigation.state==="loading"&&$t>ne?(It(M,"Expected pending action"),Q&&Q.abort(),ln(P.navigation.location,{matches:Sr,loaderData:kr,errors:ei,fetchers:new Map(P.fetchers)})):(ht({errors:ei,loaderData:pb(P.loaderData,kr,Sr,ei),fetchers:new Map(P.fetchers)}),q=!1)}async function En(X,pe,_e,Ae,Te,qe,rt,Je,tt){let at=P.fetchers.get(X);Ce(X,Ac(tt,at?at.data:void 0),{flushSync:rt});let ot=new AbortController,et=_u(e.history,_e,ot.signal);if(qe){let Gt=await Ii(Ae,new URL(et.url).pathname,et.signal,X);if(Gt.type==="aborted")return;if(Gt.type==="error"){Oe(X,pe,Gt.error,{flushSync:rt});return}else if(Gt.matches)Ae=Gt.matches;else{Oe(X,pe,Ei(404,{pathname:_e}),{flushSync:rt});return}}let _t=ap(Ae,_e);J.set(X,ot);let Pt=te,mn=Nu(i,s,et,Ae,_t,r,Te),Ht=(await or(et,mn,Te,X))[_t.route.id];if(J.get(X)===ot&&J.delete(X),!et.signal.aborted){if(z.has(X)){Ce(X,zo(void 0));return}if(Xa(Ht))if(ne>Pt){Ce(X,zo(void 0));return}else{R.add(X),await sr(et,Ht,!1,{preventScrollReset:Je});return}if(ui(Ht)){Oe(X,pe,Ht.error);return}Ce(X,zo(Ht.data))}}async function sr(X,pe,_e,{submission:Ae,fetcherSubmission:Te,preventScrollReset:qe,replace:rt}={}){pe.response.headers.has("X-Remix-Revalidate")&&(q=!0);let Je=pe.response.headers.get("Location");It(Je,"Expected a Location header on the redirect Response"),Je=db(Je,new URL(X.url),u);let tt=vd(P.location,Je,{_isRedirect:!0});if(n){let mn=!1;if(pe.response.headers.has("X-Remix-Reload-Document"))mn=!0;else if(Py(Je)){const Dn=U4(Je,!0);mn=Dn.origin!==t.location.origin||Li(Dn.pathname,u)==null}if(mn){rt?t.location.replace(Je):t.location.assign(Je);return}}Q=null;let at=rt===!0||pe.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ot,formAction:et,formEncType:_t}=P.navigation;!Ae&&!Te&&ot&&et&&_t&&(Ae=vb(P.navigation));let Pt=Ae||Te;if(q9.has(pe.response.status)&&Pt&&qr(Pt.formMethod))await un(at,tt,{submission:{...Pt,formAction:Je},preventScrollReset:qe||H,enableViewTransition:_e?F:void 0});else{let mn=o0(tt,Ae);await un(at,tt,{overrideNavigation:mn,fetcherSubmission:Te,preventScrollReset:qe||H,enableViewTransition:_e?F:void 0})}}async function or(X,pe,_e,Ae){let Te,qe={};try{Te=await rC(c,X,pe,Ae,_e,!1)}catch(rt){return pe.filter(Je=>Je.shouldLoad).forEach(Je=>{qe[Je.route.id]={type:"error",error:rt}}),qe}if(X.signal.aborted)return qe;for(let[rt,Je]of Object.entries(Te))if(uC(Je)){let tt=Je.result;qe[rt]={type:"redirect",response:oC(tt,X,rt,pe,u)}}else qe[rt]=await sC(Je);return qe}async function ss(X,pe,_e,Ae){let Te=or(_e,X,Ae,null),qe=Promise.all(pe.map(async tt=>{if(tt.matches&&tt.match&&tt.request&&tt.controller){let ot=(await or(tt.request,tt.matches,Ae,tt.key))[tt.match.route.id];return{[tt.key]:ot}}else return Promise.resolve({[tt.key]:{type:"error",error:Ei(404,{pathname:tt.path})}})})),rt=await Te,Je=(await qe).reduce((tt,at)=>Object.assign(tt,at),{});return{loaderResults:rt,fetcherResults:Je}}function Dr(){q=!0,G.forEach((X,pe)=>{J.has(pe)&&V.add(pe),Kt(pe)})}function Ce(X,pe,_e={}){P.fetchers.set(X,pe),ht({fetchers:new Map(P.fetchers)},{flushSync:(_e&&_e.flushSync)===!0})}function Oe(X,pe,_e,Ae={}){let Te=Ka(P.matches,pe);pt(X),ht({errors:{[Te.route.id]:_e},fetchers:new Map(P.fetchers)},{flushSync:(Ae&&Ae.flushSync)===!0})}function lt(X){return ye.set(X,(ye.get(X)||0)+1),z.has(X)&&z.delete(X),P.fetchers.get(X)||K9}function pt(X){let pe=P.fetchers.get(X);J.has(X)&&!(pe&&pe.state==="loading"&&me.has(X))&&Kt(X),G.delete(X),me.delete(X),R.delete(X),z.delete(X),V.delete(X),P.fetchers.delete(X)}function Nt(X){let pe=(ye.get(X)||0)-1;pe<=0?(ye.delete(X),z.add(X)):ye.set(X,pe),ht({fetchers:new Map(P.fetchers)})}function Kt(X){let pe=J.get(X);pe&&(pe.abort(),J.delete(X))}function Ln(X){for(let pe of X){let _e=lt(pe),Ae=zo(_e.data);P.fetchers.set(pe,Ae)}}function An(){let X=[],pe=!1;for(let _e of R){let Ae=P.fetchers.get(_e);It(Ae,`Expected fetcher: ${_e}`),Ae.state==="loading"&&(R.delete(_e),X.push(_e),pe=!0)}return Ln(X),pe}function _r(X){let pe=[];for(let[_e,Ae]of me)if(Ae<X){let Te=P.fetchers.get(_e);It(Te,`Expected fetcher: ${_e}`),Te.state==="loading"&&(Kt(_e),me.delete(_e),pe.push(_e))}return Ln(pe),pe.length>0}function qn(X,pe){let _e=P.blockers.get(X)||Lc;return Me.get(X)!==pe&&Me.set(X,pe),_e}function Ve(X){P.blockers.delete(X),Me.delete(X)}function Tn(X,pe){let _e=P.blockers.get(X)||Lc;It(_e.state==="unblocked"&&pe.state==="blocked"||_e.state==="blocked"&&pe.state==="blocked"||_e.state==="blocked"&&pe.state==="proceeding"||_e.state==="blocked"&&pe.state==="unblocked"||_e.state==="proceeding"&&pe.state==="unblocked",`Invalid blocker state transition: ${_e.state} -> ${pe.state}`);let Ae=new Map(P.blockers);Ae.set(X,pe),ht({blockers:Ae})}function pn({currentLocation:X,nextLocation:pe,historyAction:_e}){if(Me.size===0)return;Me.size>1&&Fn(!1,"A router only supports one blocker at a time");let Ae=Array.from(Me.entries()),[Te,qe]=Ae[Ae.length-1],rt=P.blockers.get(Te);if(!(rt&&rt.state==="proceeding")&&qe({currentLocation:X,nextLocation:pe,historyAction:_e}))return Te}function mi(X){let pe=Ei(404,{pathname:X}),_e=a||o,{matches:Ae,route:Te}=gb(_e);return{notFoundMatches:Ae,route:Te,error:pe}}function We(X,pe,_e){if(x=X,S=pe,w=_e||null,!C&&P.navigation===s0){C=!0;let Ae=Es(P.location,P.matches);Ae!=null&&ht({restoreScrollPosition:Ae})}return()=>{x=null,S=null,w=null}}function Jr(X,pe){return w&&w(X,pe.map(Ae=>C9(Ae,P.loaderData)))||X.key}function Di(X,pe){if(x&&S){let _e=Jr(X,pe);x[_e]=S()}}function Es(X,pe){if(x){let _e=Jr(X,pe),Ae=x[_e];if(typeof Ae=="number")return Ae}return null}function os(X,pe,_e){if(e.patchRoutesOnNavigation)if(X){if(Object.keys(X[0].params).length>0)return{active:!0,matches:op(pe,_e,u,!0)}}else return{active:!0,matches:op(pe,_e,u,!0)||[]};return{active:!1,matches:null}}async function Ii(X,pe,_e,Ae){if(!e.patchRoutesOnNavigation)return{type:"success",matches:X};let Te=X;for(;;){let qe=a==null,rt=a||o,Je=s;try{await e.patchRoutesOnNavigation({signal:_e,path:pe,matches:Te,fetcherKey:Ae,patch:(ot,et)=>{_e.aborted||ab(ot,et,rt,Je,i,!1)}})}catch(ot){return{type:"error",error:ot,partialMatches:Te}}finally{qe&&!_e.aborted&&(o=[...o])}if(_e.aborted)return{type:"aborted"};let tt=Uo(rt,pe,u);if(tt)return{type:"success",matches:tt};let at=op(rt,pe,u,!0);if(!at||Te.length===at.length&&Te.every((ot,et)=>ot.route.id===at[et].route.id))return{type:"success",matches:null};Te=at}}function _l(X){s={},a=xd(X,i,void 0,s)}function Sl(X,pe,_e=!1){let Ae=a==null;ab(X,pe,a||o,s,i,_e),Ae&&(o=[...o],ht({}))}return $={get basename(){return u},get future(){return h},get state(){return P},get routes(){return o},get window(){return t},initialize:Ye,subscribe:Pe,enableScrollRestoration:We,navigate:Tt,fetch:is,revalidate:fn,createHref:X=>e.history.createHref(X),encodeLocation:X=>e.history.encodeLocation(X),getFetcher:lt,deleteFetcher:Nt,dispose:Ke,getBlocker:qn,deleteBlocker:Ve,patchRoutes:Sl,_internalFetchControllers:J,_internalSetRoutes:_l,_internalSetStateDoNotUseOrYouWillBreakYourApp(X){ht(X)}},$}function J9(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function b1(e,t,n,r,i,s){let o,a;if(i){o=[];for(let c of t)if(o.push(c),c.route.id===i){a=c;break}}else o=t,a=t[t.length-1];let u=Ny(r||".",Ty(o),Li(e.pathname,n)||e.pathname,s==="path");if(r==null&&(u.search=e.search,u.hash=e.hash),(r==null||r===""||r===".")&&a){let c=Oy(u.search);if(a.route.index&&!c)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!a.route.index&&c){let h=new URLSearchParams(u.search),p=h.getAll("index");h.delete("index"),p.filter(x=>x).forEach(x=>h.append("index",x));let g=h.toString();u.search=g?`?${g}`:""}}return n!=="/"&&(u.pathname=M9({basename:n,pathname:u.pathname})),Yo(u)}function sb(e,t,n){if(!n||!J9(n))return{path:t};if(n.formMethod&&!cC(n.formMethod))return{path:t,error:Ei(405,{method:n.formMethod})};let r=()=>({path:t,error:Ei(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),o=e_(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!qr(s))return r();let p=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((g,[x,w])=>`${g}${x}=${w}
`,""):String(n.body);return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:p}}}else if(n.formEncType==="application/json"){if(!qr(s))return r();try{let p=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:p,text:void 0}}}catch{return r()}}}It(typeof FormData=="function","FormData is not available in this environment");let a,u;if(n.formData)a=S1(n.formData),u=n.formData;else if(n.body instanceof FormData)a=S1(n.body),u=n.body;else if(n.body instanceof URLSearchParams)a=n.body,u=hb(a);else if(n.body==null)a=new URLSearchParams,u=new FormData;else try{a=new URLSearchParams(n.body),u=hb(a)}catch{return r()}let c={formMethod:s,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(qr(c.formMethod))return{path:t,submission:c};let h=ta(t);return e&&h.search&&Oy(h.search)&&a.append("index",""),h.search=`?${a}`,{path:Yo(h),submission:c}}function ob(e,t,n,r,i,s,o,a,u,c,h,p,g,x,w,S,C,E,L,A){let B=A?ui(A[1])?A[1].error:A[1].data:void 0,$=i.createURL(s.location),P=i.createURL(u),M;if(h&&s.errors){let ue=Object.keys(s.errors)[0];M=o.findIndex(q=>q.route.id===ue)}else if(A&&ui(A[1])){let ue=A[0];M=o.findIndex(q=>q.route.id===ue)-1}let H=A?A[1].statusCode:void 0,Q=H&&H>=400,F={currentUrl:$,currentParams:s.matches[0]?.params||{},nextUrl:P,nextParams:o[0].params,...a,actionResult:B,actionStatus:H},ae=o.map((ue,q)=>{let{route:V}=ue,J=null;if(M!=null&&q>M?J=!1:V.lazy?J=!0:V.loader==null?J=!1:h?J=w1(V,s.loaderData,s.errors):Z9(s.loaderData,s.matches[q],ue)&&(J=!0),J!==null)return _1(n,r,e,ue,c,t,J);let te=Q?!1:p||$.pathname+$.search===P.pathname+P.search||$.search!==P.search||eC(s.matches[q],ue),ne={...F,defaultShouldRevalidate:te},me=xp(ue,ne);return _1(n,r,e,ue,c,t,me,ne)}),le=[];return w.forEach((ue,q)=>{if(h||!o.some(ye=>ye.route.id===ue.routeId)||x.has(q))return;let V=s.fetchers.get(q),J=V&&V.state!=="idle"&&V.data===void 0,te=Uo(C,ue.path,E);if(!te){if(L&&J)return;le.push({key:q,routeId:ue.routeId,path:ue.path,matches:null,match:null,request:null,controller:null});return}if(S.has(q))return;let ne=ap(te,ue.path),me=new AbortController,R=_u(i,ue.path,me.signal),G=null;if(g.has(q))g.delete(q),G=Nu(n,r,R,te,ne,c,t);else if(J)p&&(G=Nu(n,r,R,te,ne,c,t));else{let ye={...F,defaultShouldRevalidate:Q?!1:p};xp(ne,ye)&&(G=Nu(n,r,R,te,ne,c,t,ye))}G&&le.push({key:q,routeId:ue.routeId,path:ue.path,matches:G,match:ne,request:R,controller:me})}),{dsMatches:ae,revalidatingFetchers:le}}function w1(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&e.id in t,i=n!=null&&n[e.id]!==void 0;return!r&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!i}function Z9(e,t,n){let r=!t||n.route.id!==t.route.id,i=!e.hasOwnProperty(n.route.id);return r||i}function eC(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function xp(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function ab(e,t,n,r,i,s){let o;if(e){let c=r[e];It(c,`No route found to patch children into: routeId = ${e}`),c.children||(c.children=[]),o=c.children}else o=n;let a=[],u=[];if(t.forEach(c=>{let h=o.find(p=>G4(c,p));h?u.push({existingRoute:h,newRoute:c}):a.push(c)}),a.length>0){let c=xd(a,i,[e||"_","patch",String(o?.length||"0")],r);o.push(...c)}if(s&&u.length>0)for(let c=0;c<u.length;c++){let{existingRoute:h,newRoute:p}=u[c],g=h,[x]=xd([p],i,[],{},!0);Object.assign(g,{element:x.element?x.element:g.element,errorElement:x.errorElement?x.errorElement:g.errorElement,hydrateFallbackElement:x.hydrateFallbackElement?x.hydrateFallbackElement:g.hydrateFallbackElement})}}function G4(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>t.children?.some(i=>G4(n,i))):!1}var lb=new WeakMap,Y4=({key:e,route:t,manifest:n,mapRouteProperties:r})=>{let i=n[t.id];if(It(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[e];if(!s)return;let o=lb.get(i);o||(o={},lb.set(i,o));let a=o[e];if(a)return a;let u=(async()=>{let c=b9(e),p=i[e]!==void 0&&e!=="hasErrorBoundary";if(c)Fn(!c,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),o[e]=Promise.resolve();else if(p)Fn(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let g=await s();g!=null&&(Object.assign(i,{[e]:g}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(g=>g===void 0)&&(i.lazy=void 0))})();return o[e]=u,u},ub=new WeakMap;function tC(e,t,n,r,i){let s=n[e.id];if(It(s,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let h=ub.get(s);if(h)return{lazyRoutePromise:h,lazyHandlerPromise:h};let p=(async()=>{It(typeof e.lazy=="function","No lazy route function found");let g=await e.lazy(),x={};for(let w in g){let S=g[w];if(S===void 0)continue;let C=_9(w),L=s[w]!==void 0&&w!=="hasErrorBoundary";C?Fn(!C,"Route property "+w+" is not a supported property to be returned from a lazy route function. This property will be ignored."):L?Fn(!L,`Route "${s.id}" has a static property "${w}" defined but its lazy function is also returning a value for this property. The lazy route property "${w}" will be ignored.`):x[w]=S}Object.assign(s,x),Object.assign(s,{...r(s),lazy:void 0})})();return ub.set(s,p),p.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:p}}let o=Object.keys(e.lazy),a=[],u;for(let h of o){if(i&&i.includes(h))continue;let p=Y4({key:h,route:e,manifest:n,mapRouteProperties:r});p&&(a.push(p),h===t&&(u=p))}let c=a.length>0?Promise.all(a).then(()=>{}):void 0;return c?.catch(()=>{}),u?.catch(()=>{}),{lazyRoutePromise:c,lazyHandlerPromise:u}}async function cb(e){let t=e.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(t.map(i=>i.resolve()))).forEach((i,s)=>{n[t[s].route.id]=i}),n}async function nC(e){return e.matches.some(t=>t.route.unstable_middleware)?X4(e,!1,()=>cb(e),(t,n)=>({[n]:{type:"error",result:t}})):cb(e)}async function X4(e,t,n,r){let{matches:i,request:s,params:o,context:a}=e,u={handlerResult:void 0};try{let c=i.flatMap(p=>p.route.unstable_middleware?p.route.unstable_middleware.map(g=>[p.route.id,g]):[]),h=await J4({request:s,params:o,context:a},c,t,u,n);return t?h:u.handlerResult}catch(c){if(!u.middlewareError)throw c;let h=await r(u.middlewareError.error,u.middlewareError.routeId);return u.handlerResult?Object.assign(u.handlerResult,h):h}}async function J4(e,t,n,r,i,s=0){let{request:o}=e;if(o.signal.aborted)throw o.signal.reason?o.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${o.method} ${o.url}`);let a=t[s];if(!a)return r.handlerResult=await i(),r.handlerResult;let[u,c]=a,h=!1,p,g=async()=>{if(h)throw new Error("You may only call `next()` once per middleware");h=!0,await J4(e,t,n,r,i,s+1)};try{let x=await c({request:e.request,params:e.params,context:e.context},g);return h?x===void 0?p:x:g()}catch(x){throw r.middlewareError?r.middlewareError.error!==x&&(r.middlewareError={routeId:u,error:x}):r.middlewareError={routeId:u,error:x},x}}function Z4(e,t,n,r,i){let s=Y4({key:"unstable_middleware",route:r.route,manifest:t,mapRouteProperties:e}),o=tC(r.route,qr(n.method)?"action":"loader",t,e,i);return{middleware:s,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function _1(e,t,n,r,i,s,o,a=null){let u=!1,c=Z4(e,t,n,r,i);return{...r,_lazyPromises:c,shouldLoad:o,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler(h){return u=!0,a?typeof h=="boolean"?xp(r,{...a,defaultShouldRevalidate:h}):xp(r,a):o},resolve(h){return u||o||h&&!qr(n.method)&&(r.route.lazy||r.route.loader)?iC({request:n,match:r,lazyHandlerPromise:c?.handler,lazyRoutePromise:c?.route,handlerOverride:h,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function Nu(e,t,n,r,i,s,o,a=null){return r.map(u=>u.route.id!==i.route.id?{...u,shouldLoad:!1,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler:()=>!1,_lazyPromises:Z4(e,t,n,u,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:_1(e,t,n,u,s,o,!0,a))}async function rC(e,t,n,r,i,s){n.some(c=>c._lazyPromises?.middleware)&&await Promise.all(n.map(c=>c._lazyPromises?.middleware));let o={request:t,params:n[0].params,context:i,matches:n},u=await e({...o,fetcherKey:r,unstable_runClientMiddleware:c=>{let h=o;return X4(h,!1,()=>c({...h,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(p,g)=>({[g]:{type:"error",result:p}}))}});try{await Promise.all(n.flatMap(c=>[c._lazyPromises?.handler,c._lazyPromises?.route]))}catch{}return u}async function iC({request:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:s}){let o,a,u=qr(e.method),c=u?"action":"loader",h=p=>{let g,x=new Promise((C,E)=>g=E);a=()=>g(),e.signal.addEventListener("abort",a);let w=C=>typeof p!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${c}" [routeId: ${t.route.id}]`)):p({request:e,params:t.params,context:s},...C!==void 0?[C]:[]),S=(async()=>{try{return{type:"data",result:await(i?i(E=>w(E)):w())}}catch(C){return{type:"error",result:C}}})();return Promise.race([S,x])};try{let p=u?t.route.action:t.route.loader;if(n||r)if(p){let g,[x]=await Promise.all([h(p).catch(w=>{g=w}),n,r]);if(g!==void 0)throw g;o=x}else{await n;let g=u?t.route.action:t.route.loader;if(g)[o]=await Promise.all([h(g),r]);else if(c==="action"){let x=new URL(e.url),w=x.pathname+x.search;throw Ei(405,{method:e.method,pathname:w,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(p)o=await h(p);else{let g=new URL(e.url),x=g.pathname+g.search;throw Ei(404,{pathname:x})}}catch(p){return{type:"error",result:p}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function sC(e){let{result:t,type:n}=e;if(t_(t)){let r;try{let i=t.headers.get("Content-Type");i&&/\bapplication\/json\b/.test(i)?t.body==null?r=null:r=await t.json():r=await t.text()}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new vp(t.status,t.statusText,r),statusCode:t.status,headers:t.headers}:{type:"data",data:r,statusCode:t.status,headers:t.headers}}return n==="error"?yb(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new vp(t.init?.status||500,void 0,t.data),statusCode:bd(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:bd(t)?t.status:void 0}:yb(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function oC(e,t,n,r,i){let s=e.headers.get("Location");if(It(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!Py(s)){let o=r.slice(0,r.findIndex(a=>a.route.id===n)+1);s=b1(new URL(t.url),o,i,s),e.headers.set("Location",s)}return e}function db(e,t,n){if(Py(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),s=Li(i.pathname,n)!=null;if(i.origin===t.origin&&s)return i.pathname+i.search+i.hash}return e}function _u(e,t,n,r){let i=e.createURL(e_(t)).toString(),s={signal:n};if(r&&qr(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=S1(r.formData):s.body=r.formData}return new Request(i,s)}function S1(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function hb(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function aC(e,t,n,r=!1,i=!1){let s={},o=null,a,u=!1,c={},h=n&&ui(n[1])?n[1].error:void 0;return e.forEach(p=>{if(!(p.route.id in t))return;let g=p.route.id,x=t[g];if(It(!Xa(x),"Cannot handle redirect results in processLoaderData"),ui(x)){let w=x.error;if(h!==void 0&&(w=h,h=void 0),o=o||{},i)o[g]=w;else{let S=Ka(e,g);o[S.route.id]==null&&(o[S.route.id]=w)}r||(s[g]=K4),u||(u=!0,a=bd(x.error)?x.error.status:500),x.headers&&(c[g]=x.headers)}else s[g]=x.data,x.statusCode&&x.statusCode!==200&&!u&&(a=x.statusCode),x.headers&&(c[g]=x.headers)}),h!==void 0&&n&&(o={[n[0]]:h},n[2]&&(s[n[2]]=void 0)),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function fb(e,t,n,r,i,s){let{loaderData:o,errors:a}=aC(t,n,r);return i.filter(u=>!u.matches||u.matches.some(c=>c.shouldLoad)).forEach(u=>{let{key:c,match:h,controller:p}=u,g=s[c];if(It(g,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(ui(g)){let x=Ka(e.matches,h?.route.id);a&&a[x.route.id]||(a={...a,[x.route.id]:g.error}),e.fetchers.delete(c)}else if(Xa(g))It(!1,"Unhandled fetcher revalidation redirect");else{let x=zo(g.data);e.fetchers.set(c,x)}}),{loaderData:o,errors:a}}function pb(e,t,n,r){let i=Object.entries(t).filter(([,s])=>s!==K4).reduce((s,[o,a])=>(s[o]=a,s),{});for(let s of n){let o=s.route.id;if(!t.hasOwnProperty(o)&&e.hasOwnProperty(o)&&s.route.loader&&(i[o]=e[o]),r&&r.hasOwnProperty(o))break}return i}function mb(e){return e?ui(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Ka(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function gb(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Ei(e,{pathname:t,routeId:n,method:r,type:i,message:s}={}){let o="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(o="Bad Request",r&&t&&n?a=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(a="Unable to encode submission body")):e===403?(o="Forbidden",a=`Route "${n}" does not match URL "${t}"`):e===404?(o="Not Found",a=`No route matches URL "${t}"`):e===405&&(o="Method Not Allowed",r&&t&&n?a=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(a=`Invalid request method "${r.toUpperCase()}"`)),new vp(e||500,o,new Error(a),!0)}function mf(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,i]=t[n];if(Xa(i))return{key:r,result:i}}}function e_(e){let t=typeof e=="string"?ta(e):e;return Yo({...t,hash:""})}function lC(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function uC(e){return t_(e.result)&&W9.has(e.result.status)}function ui(e){return e.type==="error"}function Xa(e){return(e&&e.type)==="redirect"}function yb(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function t_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function cC(e){return V9.has(e.toUpperCase())}function qr(e){return H9.has(e.toUpperCase())}function Oy(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function ap(e,t){let n=typeof t=="string"?ta(t).search:t.search;if(e[e.length-1].route.index&&Oy(n||""))return e[e.length-1];let r=V4(e);return r[r.length-1]}function vb(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:o}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function o0(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function dC(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Ac(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function hC(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function zo(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function fC(e,t){try{let n=e.sessionStorage.getItem(q4);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&t.set(i,new Set(s||[]))}}catch{}}function pC(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(q4,JSON.stringify(n))}catch(r){Fn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function mC(){let e,t,n=new Promise((r,i)=>{e=async s=>{r(s);try{await n}catch{}},t=async s=>{i(s);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var hl=N.createContext(null);hl.displayName="DataRouter";var Fd=N.createContext(null);Fd.displayName="DataRouterState";N.createContext(!1);var Ly=N.createContext({isTransitioning:!1});Ly.displayName="ViewTransition";var n_=N.createContext(new Map);n_.displayName="Fetchers";var gC=N.createContext(null);gC.displayName="Await";var _s=N.createContext(null);_s.displayName="Navigation";var Kp=N.createContext(null);Kp.displayName="Location";var ns=N.createContext({outlet:null,matches:[],isDataRoute:!1});ns.displayName="Route";var Ay=N.createContext(null);Ay.displayName="RouteError";function yC(e,{relative:t}={}){It(Bd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=N.useContext(_s),{hash:i,pathname:s,search:o}=zd(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:vs([n,s])),r.createHref({pathname:a,search:o,hash:i})}function Bd(){return N.useContext(Kp)!=null}function Ss(){return It(Bd(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Kp).location}var r_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function i_(e){N.useContext(_s).static||N.useLayoutEffect(e)}function Gp(){let{isDataRoute:e}=N.useContext(ns);return e?OC():vC()}function vC(){It(Bd(),"useNavigate() may be used only in the context of a <Router> component.");let e=N.useContext(hl),{basename:t,navigator:n}=N.useContext(_s),{matches:r}=N.useContext(ns),{pathname:i}=Ss(),s=JSON.stringify(Ty(r)),o=N.useRef(!1);return i_(()=>{o.current=!0}),N.useCallback((u,c={})=>{if(Fn(o.current,r_),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=Ny(u,JSON.parse(s),i,c.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:vs([t,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[t,n,s,i,e])}var xC=N.createContext(null);function bC(e){let t=N.useContext(ns).outlet;return t&&N.createElement(xC.Provider,{value:e},t)}function s_(){let{matches:e}=N.useContext(ns),t=e[e.length-1];return t?t.params:{}}function zd(e,{relative:t}={}){let{matches:n}=N.useContext(ns),{pathname:r}=Ss(),i=JSON.stringify(Ty(n));return N.useMemo(()=>Ny(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function wC(e,t,n,r){It(Bd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=N.useContext(_s),{matches:s}=N.useContext(ns),o=s[s.length-1],a=o?o.params:{},u=o?o.pathname:"/",c=o?o.pathnameBase:"/",h=o&&o.route;{let E=h&&h.path||"";o_(u,!h||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let p=Ss(),g;g=p;let x=g.pathname||"/",w=x;if(c!=="/"){let E=c.replace(/^\//,"").split("/");w="/"+x.replace(/^\//,"").split("/").slice(E.length).join("/")}let S=Uo(e,{pathname:w});return Fn(h||S!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Fn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),jC(S&&S.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:vs([c,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?c:vs([c,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r)}function _C(){let e=Ry(),t=bd(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:s},"ErrorBoundary")," or"," ",N.createElement("code",{style:s},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),n?N.createElement("pre",{style:i},n):null,o)}var SC=N.createElement(_C,null),CC=class extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?N.createElement(ns.Provider,{value:this.props.routeContext},N.createElement(Ay.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kC({routeContext:e,match:t,children:n}){let r=N.useContext(hl);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(ns.Provider,{value:e},n)}function jC(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,s=n?.errors;if(s!=null){let u=i.findIndex(c=>c.route.id&&s?.[c.route.id]!==void 0);It(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let o=!1,a=-1;if(n)for(let u=0;u<i.length;u++){let c=i[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=u),c.route.id){let{loaderData:h,errors:p}=n,g=c.route.loader&&!h.hasOwnProperty(c.route.id)&&(!p||p[c.route.id]===void 0);if(c.route.lazy||g){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((u,c,h)=>{let p,g=!1,x=null,w=null;n&&(p=s&&c.route.id?s[c.route.id]:void 0,x=c.route.errorElement||SC,o&&(a<0&&h===0?(o_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,w=null):a===h&&(g=!0,w=c.route.hydrateFallbackElement||null)));let S=t.concat(i.slice(0,h+1)),C=()=>{let E;return p?E=x:g?E=w:c.route.Component?E=N.createElement(c.route.Component,null):c.route.element?E=c.route.element:E=u,N.createElement(kC,{match:c,routeContext:{outlet:u,matches:S,isDataRoute:n!=null},children:E})};return n&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?N.createElement(CC,{location:n.location,revalidation:n.revalidation,component:x,error:p,children:C(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):C()},null)}function Dy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EC(e){let t=N.useContext(hl);return It(t,Dy(e)),t}function TC(e){let t=N.useContext(Fd);return It(t,Dy(e)),t}function NC(e){let t=N.useContext(ns);return It(t,Dy(e)),t}function Iy(e){let t=NC(e),n=t.matches[t.matches.length-1];return It(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function PC(){return Iy("useRouteId")}function Ry(){let e=N.useContext(Ay),t=TC("useRouteError"),n=Iy("useRouteError");return e!==void 0?e:t.errors?.[n]}function OC(){let{router:e}=EC("useNavigate"),t=Iy("useNavigate"),n=N.useRef(!1);return i_(()=>{n.current=!0}),N.useCallback(async(i,s={})=>{Fn(n.current,r_),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var xb={};function o_(e,t,n){!t&&!xb[e]&&(xb[e]=!0,Fn(!1,n))}var bb={};function wb(e,t){!e&&!bb[t]&&(bb[t]=!0,console.warn(t))}function LC(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Fn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:N.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Fn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:N.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Fn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:N.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var AC=["HydrateFallback","hydrateFallbackElement"],DC=class{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function IC({router:e,flushSync:t}){let[n,r]=N.useState(e.state),[i,s]=N.useState(),[o,a]=N.useState({isTransitioning:!1}),[u,c]=N.useState(),[h,p]=N.useState(),[g,x]=N.useState(),w=N.useRef(new Map),S=N.useCallback((A,{deletedFetchers:B,flushSync:$,viewTransitionOpts:P})=>{A.fetchers.forEach((H,Q)=>{H.data!==void 0&&w.current.set(Q,H.data)}),B.forEach(H=>w.current.delete(H)),wb($===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let M=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(wb(P==null||M,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!P||!M){t&&$?t(()=>r(A)):N.startTransition(()=>r(A));return}if(t&&$){t(()=>{h&&(u&&u.resolve(),h.skipTransition()),a({isTransitioning:!0,flushSync:!0,currentLocation:P.currentLocation,nextLocation:P.nextLocation})});let H=e.window.document.startViewTransition(()=>{t(()=>r(A))});H.finished.finally(()=>{t(()=>{c(void 0),p(void 0),s(void 0),a({isTransitioning:!1})})}),t(()=>p(H));return}h?(u&&u.resolve(),h.skipTransition(),x({state:A,currentLocation:P.currentLocation,nextLocation:P.nextLocation})):(s(A),a({isTransitioning:!0,flushSync:!1,currentLocation:P.currentLocation,nextLocation:P.nextLocation}))},[e.window,t,h,u]);N.useLayoutEffect(()=>e.subscribe(S),[e,S]),N.useEffect(()=>{o.isTransitioning&&!o.flushSync&&c(new DC)},[o]),N.useEffect(()=>{if(u&&i&&e.window){let A=i,B=u.promise,$=e.window.document.startViewTransition(async()=>{N.startTransition(()=>r(A)),await B});$.finished.finally(()=>{c(void 0),p(void 0),s(void 0),a({isTransitioning:!1})}),p($)}},[i,u,e.window]),N.useEffect(()=>{u&&i&&n.location.key===i.location.key&&u.resolve()},[u,h,n.location,i]),N.useEffect(()=>{!o.isTransitioning&&g&&(s(g.state),a({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),x(void 0))},[o.isTransitioning,g]);let C=N.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:A=>e.navigate(A),push:(A,B,$)=>e.navigate(A,{state:B,preventScrollReset:$?.preventScrollReset}),replace:(A,B,$)=>e.navigate(A,{replace:!0,state:B,preventScrollReset:$?.preventScrollReset})}),[e]),E=e.basename||"/",L=N.useMemo(()=>({router:e,navigator:C,static:!1,basename:E}),[e,C,E]);return N.createElement(N.Fragment,null,N.createElement(hl.Provider,{value:L},N.createElement(Fd.Provider,{value:n},N.createElement(n_.Provider,{value:w.current},N.createElement(Ly.Provider,{value:o},N.createElement(FC,{basename:E,location:n.location,navigationType:n.historyAction,navigator:C},N.createElement(RC,{routes:e.routes,future:e.future,state:n})))))),null)}var RC=N.memo(MC);function MC({routes:e,future:t,state:n}){return wC(e,void 0,n,t)}function My(e){return bC(e.context)}function FC({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){It(!Bd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=N.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=ta(n));let{pathname:u="/",search:c="",hash:h="",state:p=null,key:g="default"}=n,x=N.useMemo(()=>{let w=Li(u,o);return w==null?null:{location:{pathname:w,search:c,hash:h,state:p,key:g},navigationType:r}},[o,u,c,h,p,g,r]);return Fn(x!=null,`<Router basename="${o}"> is not able to match the URL "${u}${c}${h}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:N.createElement(_s.Provider,{value:a},N.createElement(Kp.Provider,{children:t,value:x}))}var lp="get",up="application/x-www-form-urlencoded";function Yp(e){return e!=null&&typeof e.tagName=="string"}function BC(e){return Yp(e)&&e.tagName.toLowerCase()==="button"}function zC(e){return Yp(e)&&e.tagName.toLowerCase()==="form"}function $C(e){return Yp(e)&&e.tagName.toLowerCase()==="input"}function UC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function HC(e,t){return e.button===0&&(!t||t==="_self")&&!UC(e)}var gf=null;function QC(){if(gf===null)try{new FormData(document.createElement("form"),0),gf=!1}catch{gf=!0}return gf}var VC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function a0(e){return e!=null&&!VC.has(e)?(Fn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${up}"`),null):e}function WC(e,t){let n,r,i,s,o;if(zC(e)){let a=e.getAttribute("action");r=a?Li(a,t):null,n=e.getAttribute("method")||lp,i=a0(e.getAttribute("enctype"))||up,s=new FormData(e)}else if(BC(e)||$C(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||a.getAttribute("action");if(r=u?Li(u,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||lp,i=a0(e.getAttribute("formenctype"))||a0(a.getAttribute("enctype"))||up,s=new FormData(a,e),!QC()){let{name:c,type:h,value:p}=e;if(h==="image"){let g=c?`${c}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else c&&s.append(c,p)}}else{if(Yp(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=lp,r=null,i=up,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Fy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qC(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Li(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function KC(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GC(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function YC(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await KC(s,n);return o.links?o.links():[]}return[]}));return ek(r.flat(1).filter(GC).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function _b(e,t,n,r,i,s){let o=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,a=(u,c)=>n[c].pathname!==u.pathname||n[c].route.path?.endsWith("*")&&n[c].params["*"]!==u.params["*"];return s==="assets"?t.filter((u,c)=>o(u,c)||a(u,c)):s==="data"?t.filter((u,c)=>{let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(o(u,c)||a(u,c))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function XC(e,t,{includeHydrateFallback:n}={}){return JC(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function JC(e){return[...new Set(e)]}function ZC(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function ek(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(ZC(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function a_(){let e=N.useContext(hl);return Fy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function tk(){let e=N.useContext(Fd);return Fy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var By=N.createContext(void 0);By.displayName="FrameworkContext";function l_(){let e=N.useContext(By);return Fy(e,"You must render this element inside a <HydratedRouter> element"),e}function nk(e,t){let n=N.useContext(By),[r,i]=N.useState(!1),[s,o]=N.useState(!1),{onFocus:a,onBlur:u,onMouseEnter:c,onMouseLeave:h,onTouchStart:p}=t,g=N.useRef(null);N.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let S=E=>{E.forEach(L=>{o(L.isIntersecting)})},C=new IntersectionObserver(S,{threshold:.5});return g.current&&C.observe(g.current),()=>{C.disconnect()}}},[e]),N.useEffect(()=>{if(r){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[r]);let x=()=>{i(!0)},w=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,g,{}]:[s,g,{onFocus:Dc(a,x),onBlur:Dc(u,w),onMouseEnter:Dc(c,x),onMouseLeave:Dc(h,w),onTouchStart:Dc(p,x)}]:[!1,g,{}]}function Dc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function rk({page:e,...t}){let{router:n}=a_(),r=N.useMemo(()=>Uo(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?N.createElement(sk,{page:e,matches:r,...t}):null}function ik(e){let{manifest:t,routeModules:n}=l_(),[r,i]=N.useState([]);return N.useEffect(()=>{let s=!1;return YC(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function sk({page:e,matches:t,...n}){let r=Ss(),{manifest:i,routeModules:s}=l_(),{basename:o}=a_(),{loaderData:a,matches:u}=tk(),c=N.useMemo(()=>_b(e,t,u,i,r,"data"),[e,t,u,i,r]),h=N.useMemo(()=>_b(e,t,u,i,r,"assets"),[e,t,u,i,r]),p=N.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,S=!1;if(t.forEach(E=>{let L=i.routes[E.route.id];!L||!L.hasLoader||(!c.some(A=>A.route.id===E.route.id)&&E.route.id in a&&s[E.route.id]?.shouldRevalidate||L.hasClientLoader?S=!0:w.add(E.route.id))}),w.size===0)return[];let C=qC(e,o,"data");return S&&w.size>0&&C.searchParams.set("_routes",t.filter(E=>w.has(E.route.id)).map(E=>E.route.id).join(",")),[C.pathname+C.search]},[o,a,r,i,c,t,e,s]),g=N.useMemo(()=>XC(h,i),[h,i]),x=ik(h);return N.createElement(N.Fragment,null,p.map(w=>N.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),g.map(w=>N.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),x.map(({key:w,link:S})=>N.createElement("link",{key:w,...S})))}function ok(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var u_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{u_&&(window.__reactRouterVersion="7.7.1")}catch{}function ak(e,t){return X9({basename:t?.basename,unstable_getContext:t?.unstable_getContext,future:t?.future,history:g9({window:t?.window}),hydrationData:lk(),routes:e,mapRouteProperties:LC,hydrationRouteProperties:AC,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window}).initialize()}function lk(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:uk(e.errors)}),e}function uk(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new vp(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}var c_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Or=N.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:h,viewTransition:p,...g},x){let{basename:w}=N.useContext(_s),S=typeof c=="string"&&c_.test(c),C,E=!1;if(typeof c=="string"&&S&&(C=c,u_))try{let Q=new URL(window.location.href),F=c.startsWith("//")?new URL(Q.protocol+c):new URL(c),ae=Li(F.pathname,w);F.origin===Q.origin&&ae!=null?c=ae+F.search+F.hash:E=!0}catch{Fn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=yC(c,{relative:i}),[A,B,$]=nk(r,g),P=hk(c,{replace:o,state:a,target:u,preventScrollReset:h,relative:i,viewTransition:p});function M(Q){t&&t(Q),Q.defaultPrevented||P(Q)}let H=N.createElement("a",{...g,...$,href:C||L,onClick:E||s?t:M,ref:ok(x,B),target:u,"data-discover":!S&&n==="render"?"true":void 0});return A&&!S?N.createElement(N.Fragment,null,H,N.createElement(rk,{page:L})):H});Or.displayName="Link";var fl=N.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:u,...c},h){let p=zd(o,{relative:c.relative}),g=Ss(),x=N.useContext(Fd),{navigator:w,basename:S}=N.useContext(_s),C=x!=null&&yk(p)&&a===!0,E=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,L=g.pathname,A=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(L=L.toLowerCase(),A=A?A.toLowerCase():null,E=E.toLowerCase()),A&&S&&(A=Li(A,S)||A);const B=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let $=L===E||!i&&L.startsWith(E)&&L.charAt(B)==="/",P=A!=null&&(A===E||!i&&A.startsWith(E)&&A.charAt(E.length)==="/"),M={isActive:$,isPending:P,isTransitioning:C},H=$?t:void 0,Q;typeof r=="function"?Q=r(M):Q=[r,$?"active":null,P?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let F=typeof s=="function"?s(M):s;return N.createElement(Or,{...c,"aria-current":H,className:Q,ref:h,style:F,to:o,viewTransition:a},typeof u=="function"?u(M):u)});fl.displayName="NavLink";var ck=N.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=lp,action:a,onSubmit:u,relative:c,preventScrollReset:h,viewTransition:p,...g},x)=>{let w=mk(),S=gk(a,{relative:c}),C=o.toLowerCase()==="get"?"get":"post",E=typeof a=="string"&&c_.test(a),L=A=>{if(u&&u(A),A.defaultPrevented)return;A.preventDefault();let B=A.nativeEvent.submitter,$=B?.getAttribute("formmethod")||o;w(B||A.currentTarget,{fetcherKey:t,method:$,navigate:n,replace:i,state:s,relative:c,preventScrollReset:h,viewTransition:p})};return N.createElement("form",{ref:x,method:C,action:S,onSubmit:r?u:L,...g,"data-discover":!E&&e==="render"?"true":void 0})});ck.displayName="Form";function dk(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function d_(e){let t=N.useContext(hl);return It(t,dk(e)),t}function hk(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=Gp(),u=Ss(),c=zd(e,{relative:s});return N.useCallback(h=>{if(HC(h,t)){h.preventDefault();let p=n!==void 0?n:Yo(u)===Yo(c);a(e,{replace:p,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[u,a,c,n,r,t,e,i,s,o])}var fk=0,pk=()=>`__${String(++fk)}__`;function mk(){let{router:e}=d_("useSubmit"),{basename:t}=N.useContext(_s),n=PC();return N.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:u,body:c}=WC(r,t);if(i.navigate===!1){let h=i.fetcherKey||pk();await e.fetch(h,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function gk(e,{relative:t}={}){let{basename:n}=N.useContext(_s),r=N.useContext(ns);It(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...zd(e||".",{relative:t})},o=Ss();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),u=a.getAll("index");if(u.some(h=>h==="")){a.delete("index"),u.filter(p=>p).forEach(p=>a.append("index",p));let h=a.toString();s.search=h?`?${h}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:vs([n,s.pathname])),Yo(s)}function yk(e,{relative:t}={}){let n=N.useContext(Ly);It(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=d_("useViewTransitionState"),i=zd(e,{relative:t});if(!n.isTransitioning)return!1;let s=Li(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Li(n.nextLocation.pathname,r)||n.nextLocation.pathname;return yp(i.pathname,o)!=null||yp(i.pathname,s)!=null}var h_=z4();const yf=fi(h_);function vk(e){return N.createElement(IC,{flushSync:h_.flushSync,...e})}var $u=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},il=typeof window>"u"||"Deno"in globalThis;function Tr(){}function xk(e,t){return typeof e=="function"?e(t):e}function C1(e){return typeof e=="number"&&e>=0&&e!==1/0}function f_(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ko(e,t){return typeof e=="function"?e(t):e}function Ti(e,t){return typeof e=="function"?e(t):e}function Sb(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==zy(o,t.options))return!1}else if(!wd(t.queryKey,o))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||i&&i!==t.state.fetchStatus||s&&!s(t))}function Cb(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(sl(t.options.mutationKey)!==sl(s))return!1}else if(!wd(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function zy(e,t){return(t?.queryKeyHashFn||sl)(e)}function sl(e){return JSON.stringify(e,(t,n)=>k1(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function wd(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>wd(e[n],t[n])):!1}function p_(e,t){if(e===t)return e;const n=kb(e)&&kb(t);if(n||k1(e)&&k1(t)){const r=n?e:Object.keys(e),i=r.length,s=n?t:Object.keys(t),o=s.length,a=n?[]:{},u=new Set(r);let c=0;for(let h=0;h<o;h++){const p=n?h:s[h];(!n&&u.has(p)||n)&&e[p]===void 0&&t[p]===void 0?(a[p]=void 0,c++):(a[p]=p_(e[p],t[p]),a[p]===e[p]&&e[p]!==void 0&&c++)}return i===o&&c===i?e:a}return t}function bp(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function kb(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function k1(e){if(!jb(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!jb(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function jb(e){return Object.prototype.toString.call(e)==="[object Object]"}function bk(e){return new Promise(t=>{setTimeout(t,e)})}function j1(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?p_(e,t):t}function wk(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function _k(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var $y=Symbol();function m_(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===$y?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function g_(e,t){return typeof e=="function"?e(...t):!!e}var Sk=class extends $u{#t;#e;#n;constructor(){super(),this.#n=e=>{if(!il&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},Uy=new Sk,Ck=class extends $u{#t=!0;#e;#n;constructor(){super(),this.#n=e=>{if(!il&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#t}},wp=new Ck;function E1(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function kk(e){return Math.min(1e3*2**e,3e4)}function y_(e){return(e??"online")==="online"?wp.isOnline():!0}var v_=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function l0(e){return e instanceof v_}function x_(e){let t=!1,n=0,r=!1,i;const s=E1(),o=S=>{r||(g(new v_(S)),e.abort?.())},a=()=>{t=!0},u=()=>{t=!1},c=()=>Uy.isFocused()&&(e.networkMode==="always"||wp.isOnline())&&e.canRun(),h=()=>y_(e.networkMode)&&e.canRun(),p=S=>{r||(r=!0,e.onSuccess?.(S),i?.(),s.resolve(S))},g=S=>{r||(r=!0,e.onError?.(S),i?.(),s.reject(S))},x=()=>new Promise(S=>{i=C=>{(r||c())&&S(C)},e.onPause?.()}).then(()=>{i=void 0,r||e.onContinue?.()}),w=()=>{if(r)return;let S;const C=n===0?e.initialPromise:void 0;try{S=C??e.fn()}catch(E){S=Promise.reject(E)}Promise.resolve(S).then(p).catch(E=>{if(r)return;const L=e.retry??(il?0:3),A=e.retryDelay??kk,B=typeof A=="function"?A(n,E):A,$=L===!0||typeof L=="number"&&n<L||typeof L=="function"&&L(n,E);if(t||!$){g(E);return}n++,e.onFail?.(n,E),bk(B).then(()=>c()?void 0:x()).then(()=>{t?g(E):w()})})};return{promise:s,cancel:o,continue:()=>(i?.(),s),cancelRetry:a,continueRetry:u,canStart:h,start:()=>(h()?w():x().then(w),s)}}var jk=e=>setTimeout(e,0);function Ek(){let e=[],t=0,n=a=>{a()},r=a=>{a()},i=jk;const s=a=>{t?e.push(a):i(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&i(()=>{r(()=>{a.forEach(u=>{n(u)})})})};return{batch:a=>{let u;t++;try{u=a()}finally{t--,t||o()}return u},batchCalls:a=>(...u)=>{s(()=>{a(...u)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Qn=Ek(),b_=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),C1(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(il?1/0:300*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},Tk=class extends b_{#t;#e;#n;#r;#i;#o;#a;constructor(e){super(),this.#a=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#n=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=Nk(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=j1(this.state.data,e,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#i?.promise;return this.#i?.cancel(e),t?t.then(Tr).catch(Tr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>Ti(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===$y||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ko(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!f_(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#i&&(this.#a?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){const u=this.observers.find(c=>c.options.queryFn);u&&this.setOptions(u.options)}const n=new AbortController,r=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},i=()=>{const u=m_(this.options,t),h=(()=>{const p={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(p),p})();return this.#a=!1,this.options.persister?this.options.persister(u,h,this):u(h)},o=(()=>{const u={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:i};return r(u),u})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#s({type:"fetch",meta:o.fetchOptions?.meta});const a=u=>{l0(u)&&u.silent||this.#s({type:"error",error:u}),l0(u)||(this.#n.config.onError?.(u,this),this.#n.config.onSettled?.(this.state.data,u,this)),this.scheduleGc()};return this.#i=x_({initialPromise:t?.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:u=>{if(u===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(c){a(c);return}this.#n.config.onSuccess?.(u,this),this.#n.config.onSettled?.(u,this.state.error,this),this.scheduleGc()},onError:a,onFail:(u,c)=>{this.#s({type:"failed",failureCount:u,error:c})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#i.start()}#s(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...w_(n.data,this.options),fetchMeta:e.meta??null};case"success":return this.#e=void 0,{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return l0(r)&&r.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),Qn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function w_(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:y_(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Nk(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Pk=class extends $u{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,n){const r=t.queryKey,i=t.queryHash??zy(r,t);let s=this.get(i);return s||(s=new Tk({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(s)),s}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Qn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Sb(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>Sb(e,n)):t}notify(e){Qn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Qn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Qn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ok=class extends b_{#t;#e;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||__(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})};this.#n=x_({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(i,s)=>{this.#r({type:"failed",failureCount:i,error:s})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const n=this.state.status==="pending",r=!this.#n.canStart();try{if(n)t();else{this.#r({type:"pending",variables:e,isPaused:r}),await this.#e.config.onMutate?.(e,this);const s=await this.options.onMutate?.(e);s!==this.state.context&&this.#r({type:"pending",context:s,variables:e,isPaused:r})}const i=await this.#n.start();return await this.#e.config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await this.#e.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#e.config.onError?.(i,e,this.state.context,this),await this.options.onError?.(i,e,this.state.context),await this.#e.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,e,this.state.context),i}finally{this.#r({type:"error",error:i})}}finally{this.#e.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Qn.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function __(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Lk=class extends $u{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(e,t,n){const r=new Ok({mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#t.add(e);const t=vf(e);if(typeof t=="string"){const n=this.#e.get(t);n?n.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=vf(e);if(typeof t=="string"){const n=this.#e.get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=vf(e);if(typeof t=="string"){const r=this.#e.get(t)?.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=vf(e);return typeof t=="string"?this.#e.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Qn.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Cb(t,n))}findAll(e={}){return this.getAll().filter(t=>Cb(e,t))}notify(e){Qn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Qn.batch(()=>Promise.all(e.map(t=>t.continue().catch(Tr))))}};function vf(e){return e.options.scope?.id}function Eb(e){return{onFetch:(t,n)=>{const r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let a={pages:[],pageParams:[]},u=0;const c=async()=>{let h=!1;const p=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?h=!0:t.signal.addEventListener("abort",()=>{h=!0}),t.signal)})},g=m_(t.options,t.fetchOptions),x=async(w,S,C)=>{if(h)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const L=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:S,direction:C?"backward":"forward",meta:t.options.meta};return p(P),P})(),A=await g(L),{maxPages:B}=t.options,$=C?_k:wk;return{pages:$(w.pages,A,B),pageParams:$(w.pageParams,S,B)}};if(i&&s.length){const w=i==="backward",S=w?Ak:Tb,C={pages:s,pageParams:o},E=S(r,C);a=await x(C,E,w)}else{const w=e??s.length;do{const S=u===0?o[0]??r.initialPageParam:Tb(r,a);if(u>0&&S==null)break;a=await x(a,S),u++}while(u<w)}return a};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=c}}}function Tb(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Ak(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var Dk=class{#t;#e;#n;#r;#i;#o;#a;#s;constructor(e={}){this.#t=e.queryCache||new Pk,this.#e=e.mutationCache||new Lk,this.#n=e.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=Uy.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#s=wp.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#t.build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Ko(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=this.#t.get(r.queryHash)?.state.data,o=xk(t,s);if(o!==void 0)return this.#t.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Qn.batch(()=>this.#t.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;Qn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#t;return Qn.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Qn.batch(()=>this.#t.findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Tr).catch(Tr)}invalidateQueries(e,t={}){return Qn.batch(()=>(this.#t.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Qn.batch(()=>this.#t.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Tr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Tr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#t.build(this,t);return n.isStaleByTime(Ko(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Tr).catch(Tr)}fetchInfiniteQuery(e){return e.behavior=Eb(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Tr).catch(Tr)}ensureInfiniteQueryData(e){return e.behavior=Eb(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return wp.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#r.set(sl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(r=>{wd(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){this.#i.set(sl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()],n={};return t.forEach(r=>{wd(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=zy(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===$y&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},Ik=class extends $u{constructor(e,t){super(),this.options=t,this.#t=e,this.#s=null,this.#a=E1(),this.options.experimental_prefetchInRender||this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#n=void 0;#r=void 0;#i;#o;#a;#s;#m;#h;#f;#u;#c;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),Nb(this.#e,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return T1(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return T1(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,n=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ti(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#e.setOptions(this.options),t._defaulted&&!bp(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&Pb(this.#e,n,this.options,t)&&this.#d(),this.updateResult(),r&&(this.#e!==n||Ti(this.options.enabled,this.#e)!==Ti(t.enabled,this.#e)||Ko(this.options.staleTime,this.#e)!==Ko(t.staleTime,this.#e))&&this.#g();const i=this.#y();r&&(this.#e!==n||Ti(this.options.enabled,this.#e)!==Ti(t.enabled,this.#e)||i!==this.#l)&&this.#v(i)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),n=this.createResult(t,e);return Mk(this,n)&&(this.#r=n,this.#o=this.options,this.#i=this.#e.state),n}getCurrentResult(){return this.#r}trackResult(e,t){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),t?.(r),Reflect.get(n,r))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),n=this.#t.getQueryCache().build(this.#t,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(e){this.#_();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Tr)),t}#g(){this.#b();const e=Ko(this.options.staleTime,this.#e);if(il||this.#r.isStale||!C1(e))return;const n=f_(this.#r.dataUpdatedAt,e)+1;this.#u=setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#l=e,!(il||Ti(this.options.enabled,this.#e)===!1||!C1(this.#l)||this.#l===0)&&(this.#c=setInterval(()=>{(this.options.refetchIntervalInBackground||Uy.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#v(this.#y())}#b(){this.#u&&(clearTimeout(this.#u),this.#u=void 0)}#w(){this.#c&&(clearInterval(this.#c),this.#c=void 0)}createResult(e,t){const n=this.#e,r=this.options,i=this.#r,s=this.#i,o=this.#o,u=e!==n?e.state:this.#n,{state:c}=e;let h={...c},p=!1,g;if(t._optimisticResults){const H=this.hasListeners(),Q=!H&&Nb(e,t),F=H&&Pb(e,n,t,r);(Q||F)&&(h={...h,...w_(c.data,e.options)}),t._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:x,errorUpdatedAt:w,status:S}=h;g=h.data;let C=!1;if(t.placeholderData!==void 0&&g===void 0&&S==="pending"){let H;i?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(H=i.data,C=!0):H=typeof t.placeholderData=="function"?t.placeholderData(this.#f?.state.data,this.#f):t.placeholderData,H!==void 0&&(S="success",g=j1(i?.data,H,t),p=!0)}if(t.select&&g!==void 0&&!C)if(i&&g===s?.data&&t.select===this.#m)g=this.#h;else try{this.#m=t.select,g=t.select(g),g=j1(i?.data,g,t),this.#h=g,this.#s=null}catch(H){this.#s=H}this.#s&&(x=this.#s,g=this.#h,w=Date.now(),S="error");const E=h.fetchStatus==="fetching",L=S==="pending",A=S==="error",B=L&&E,$=g!==void 0,M={status:S,fetchStatus:h.fetchStatus,isPending:L,isSuccess:S==="success",isError:A,isInitialLoading:B,isLoading:B,data:g,dataUpdatedAt:h.dataUpdatedAt,error:x,errorUpdatedAt:w,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:E,isRefetching:E&&!L,isLoadingError:A&&!$,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:A&&$,isStale:Hy(e,t),refetch:this.refetch,promise:this.#a,isEnabled:Ti(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const H=ae=>{M.status==="error"?ae.reject(M.error):M.data!==void 0&&ae.resolve(M.data)},Q=()=>{const ae=this.#a=M.promise=E1();H(ae)},F=this.#a;switch(F.status){case"pending":e.queryHash===n.queryHash&&H(F);break;case"fulfilled":(M.status==="error"||M.data!==F.value)&&Q();break;case"rejected":(M.status!=="error"||M.error!==F.reason)&&Q();break}}return M}updateResult(){const e=this.#r,t=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#o=this.options,this.#i.data!==void 0&&(this.#f=this.#e),bp(t,e))return;this.#r=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#p.size)return!0;const s=new Set(i??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#r).some(o=>{const a=o;return this.#r[a]!==e[a]&&s.has(a)})};this.#S({listeners:n()})}#_(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#S(e){Qn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#r)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function Rk(e,t){return Ti(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Nb(e,t){return Rk(e,t)||e.state.data!==void 0&&T1(e,t,t.refetchOnMount)}function T1(e,t,n){if(Ti(t.enabled,e)!==!1&&Ko(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Hy(e,t)}return!1}function Pb(e,t,n,r){return(e!==t||Ti(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Hy(e,n)}function Hy(e,t){return Ti(t.enabled,e)!==!1&&e.isStaleByTime(Ko(t.staleTime,e))}function Mk(e,t){return!bp(e.getCurrentResult(),t)}var Fk=class extends $u{#t;#e=void 0;#n;#r;constructor(t,n){super(),this.#t=t,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#t.defaultMutationOptions(t),bp(this.options,n)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&sl(n.mutationKey)!==sl(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#o(t)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#o()}mutate(t,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(t)}#i(){const t=this.#n?.state??__();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#o(t){Qn.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#e.variables,r=this.#e.context;t?.type==="success"?(this.#r.onSuccess?.(t.data,n,r),this.#r.onSettled?.(t.data,null,n,r)):t?.type==="error"&&(this.#r.onError?.(t.error,n,r),this.#r.onSettled?.(void 0,t.error,n,r))}this.listeners.forEach(n=>{n(this.#e)})})}},S_=N.createContext(void 0),pi=e=>{const t=N.useContext(S_);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Bk=({client:e,children:t})=>(N.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),f.jsx(S_.Provider,{value:e,children:t})),C_=N.createContext(!1),zk=()=>N.useContext(C_);C_.Provider;function $k(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Uk=N.createContext($k()),Hk=()=>N.useContext(Uk),Qk=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Vk=e=>{N.useEffect(()=>{e.clearReset()},[e])},Wk=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||g_(n,[e.error,r])),qk=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Kk=(e,t)=>e.isLoading&&e.isFetching&&!t,Gk=(e,t)=>e?.suspense&&t.isPending,Ob=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Yk(e,t,n){const r=zk(),i=Hk(),s=pi(),o=s.defaultQueryOptions(e);s.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=r?"isRestoring":"optimistic",qk(o),Qk(o,i),Vk(i);const a=!s.getQueryCache().get(o.queryHash),[u]=N.useState(()=>new t(s,o)),c=u.getOptimisticResult(o),h=!r&&e.subscribed!==!1;if(N.useSyncExternalStore(N.useCallback(p=>{const g=h?u.subscribe(Qn.batchCalls(p)):Tr;return u.updateResult(),g},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),N.useEffect(()=>{u.setOptions(o)},[o,u]),Gk(o,c))throw Ob(o,u,i);if(Wk({result:c,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(o,c),o.experimental_prefetchInRender&&!il&&Kk(c,r)&&(a?Ob(o,u,i):s.getQueryCache().get(o.queryHash)?.promise)?.catch(Tr).finally(()=>{u.updateResult()}),o.notifyOnChangeProps?c:u.trackResult(c)}function rs(e,t){return Yk(e,Ik)}function na(e,t){const n=pi(),[r]=N.useState(()=>new Fk(n,e));N.useEffect(()=>{r.setOptions(e)},[r,e]);const i=N.useSyncExternalStore(N.useCallback(o=>r.subscribe(Qn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=N.useCallback((o,a)=>{r.mutate(o,a).catch(Tr)},[r]);if(i.error&&g_(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}var u0={},c0={},d0={},Lb;function Xk(){return Lb||(Lb=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];if(typeof window<"u"){var a;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(a=window).gtag.apply(a,s)}},n=t;e.default=n}(d0)),d0}var h0={},Ab;function Jk(){return Ab||(Ab=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function n(a){return a.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(u,c,h){return c>0&&c+u.length!==h.length&&u.search(t)>-1&&h.charAt(c-2)!==":"&&(h.charAt(c+u.length)!=="-"||h.charAt(c-1)==="-")&&h.charAt(c-1).search(/[^\s-]/)<0?u.toLowerCase():u.substr(1).search(/[A-Z]|\../)>-1?u:u.charAt(0).toUpperCase()+u.substr(1)})}function r(a){return typeof a=="string"&&a.indexOf("@")!==-1}var i="REDACTED (Potential Email Address)";function s(a){return r(a)?(console.warn("This arg looks like an email address, redacting."),i):a}function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,h=a||"";return u&&(h=n(a)),c&&(h=s(h)),h}}(h0)),h0}var Db;function Zk(){return Db||(Db=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.GA4=void 0;var t=o(Xk()),n=o(Jk()),r=["eventCategory","eventAction","eventLabel","eventValue","hitType"],i=["title","location"],s=["page","hitType"];function o(q){return q&&q.__esModule?q:{default:q}}function a(q,V){if(q==null)return{};var J=u(q,V),te,ne;if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(q);for(ne=0;ne<me.length;ne++)te=me[ne],!(V.indexOf(te)>=0)&&Object.prototype.propertyIsEnumerable.call(q,te)&&(J[te]=q[te])}return J}function u(q,V){if(q==null)return{};var J={},te=Object.keys(q),ne,me;for(me=0;me<te.length;me++)ne=te[me],!(V.indexOf(ne)>=0)&&(J[ne]=q[ne]);return J}function c(q){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},c(q)}function h(q){return x(q)||g(q)||L(q)||p()}function p(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g(q){if(typeof Symbol<"u"&&q[Symbol.iterator]!=null||q["@@iterator"]!=null)return Array.from(q)}function x(q){if(Array.isArray(q))return A(q)}function w(q,V){var J=Object.keys(q);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(q);V&&(te=te.filter(function(ne){return Object.getOwnPropertyDescriptor(q,ne).enumerable})),J.push.apply(J,te)}return J}function S(q){for(var V=1;V<arguments.length;V++){var J=arguments[V]!=null?arguments[V]:{};V%2?w(Object(J),!0).forEach(function(te){Q(q,te,J[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(J)):w(Object(J)).forEach(function(te){Object.defineProperty(q,te,Object.getOwnPropertyDescriptor(J,te))})}return q}function C(q,V){return $(q)||B(q,V)||L(q,V)||E()}function E(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L(q,V){if(q){if(typeof q=="string")return A(q,V);var J=Object.prototype.toString.call(q).slice(8,-1);if(J==="Object"&&q.constructor&&(J=q.constructor.name),J==="Map"||J==="Set")return Array.from(q);if(J==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(J))return A(q,V)}}function A(q,V){(V==null||V>q.length)&&(V=q.length);for(var J=0,te=new Array(V);J<V;J++)te[J]=q[J];return te}function B(q,V){var J=q==null?null:typeof Symbol<"u"&&q[Symbol.iterator]||q["@@iterator"];if(J!=null){var te,ne,me,R,G=[],ye=!0,z=!1;try{if(me=(J=J.call(q)).next,V!==0)for(;!(ye=(te=me.call(J)).done)&&(G.push(te.value),G.length!==V);ye=!0);}catch(Me){z=!0,ne=Me}finally{try{if(!ye&&J.return!=null&&(R=J.return(),Object(R)!==R))return}finally{if(z)throw ne}}return G}}function $(q){if(Array.isArray(q))return q}function P(q,V){if(!(q instanceof V))throw new TypeError("Cannot call a class as a function")}function M(q,V){for(var J=0;J<V.length;J++){var te=V[J];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(q,F(te.key),te)}}function H(q,V,J){return V&&M(q.prototype,V),Object.defineProperty(q,"prototype",{writable:!1}),q}function Q(q,V,J){return V=F(V),V in q?Object.defineProperty(q,V,{value:J,enumerable:!0,configurable:!0,writable:!0}):q[V]=J,q}function F(q){var V=ae(q,"string");return c(V)==="symbol"?V:String(V)}function ae(q,V){if(c(q)!=="object"||q===null)return q;var J=q[Symbol.toPrimitive];if(J!==void 0){var te=J.call(q,V);if(c(te)!=="object")return te;throw new TypeError("@@toPrimitive must return a primitive value.")}return(V==="string"?String:Number)(q)}var le=function(){function q(){var V=this;P(this,q),Q(this,"reset",function(){V.isInitialized=!1,V._testMode=!1,V._currentMeasurementId,V._hasLoadedGA=!1,V._isQueuing=!1,V._queueGtag=[]}),Q(this,"_gtag",function(){for(var J=arguments.length,te=new Array(J),ne=0;ne<J;ne++)te[ne]=arguments[ne];V._testMode||V._isQueuing?V._queueGtag.push(te):t.default.apply(void 0,te)}),Q(this,"_loadGA",function(J,te){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!V._hasLoadedGA){var me=document.createElement("script");me.async=!0,me.src="".concat(ne,"?id=").concat(J),te&&me.setAttribute("nonce",te),document.body.appendChild(me),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},V._hasLoadedGA=!0}}),Q(this,"_toGtagOptions",function(J){if(J){var te={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},ne=Object.entries(J).reduce(function(me,R){var G=C(R,2),ye=G[0],z=G[1];return te[ye]?me[te[ye]]=z:me[ye]=z,me},{});return ne}}),Q(this,"initialize",function(J){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!J)throw new Error("Require GA_MEASUREMENT_ID");var ne=typeof J=="string"?[{trackingId:J}]:J;V._currentMeasurementId=ne[0].trackingId;var me=te.gaOptions,R=te.gtagOptions,G=te.nonce,ye=te.testMode,z=ye===void 0?!1:ye,Me=te.gtagUrl;if(V._testMode=z,z||V._loadGA(V._currentMeasurementId,G,Me),V.isInitialized||(V._gtag("js",new Date),ne.forEach(function(Ye){var Ke=S(S(S({},V._toGtagOptions(S(S({},me),Ye.gaOptions))),R),Ye.gtagOptions);Object.keys(Ke).length?V._gtag("config",Ye.trackingId,Ke):V._gtag("config",Ye.trackingId)})),V.isInitialized=!0,!z){var je=h(V._queueGtag);for(V._queueGtag=[],V._isQueuing=!1;je.length;){var Ee=je.shift();V._gtag.apply(V,h(Ee)),Ee[0]==="get"&&(V._isQueuing=!0)}}}),Q(this,"set",function(J){if(!J){console.warn("`fieldsObject` is required in .set()");return}if(c(J)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(J).length===0&&console.warn("empty `fieldsObject` given to .set()"),V._gaCommand("set",J)}),Q(this,"_gaCommandSendEvent",function(J,te,ne,me,R){V._gtag("event",te,S(S({event_category:J,event_label:ne,value:me},R&&{non_interaction:R.nonInteraction}),V._toGtagOptions(R)))}),Q(this,"_gaCommandSendEventParameters",function(){for(var J=arguments.length,te=new Array(J),ne=0;ne<J;ne++)te[ne]=arguments[ne];if(typeof te[0]=="string")V._gaCommandSendEvent.apply(V,h(te.slice(1)));else{var me=te[0],R=me.eventCategory,G=me.eventAction,ye=me.eventLabel,z=me.eventValue;me.hitType;var Me=a(me,r);V._gaCommandSendEvent(R,G,ye,z,Me)}}),Q(this,"_gaCommandSendTiming",function(J,te,ne,me){V._gtag("event","timing_complete",{name:te,value:ne,event_category:J,event_label:me})}),Q(this,"_gaCommandSendPageview",function(J,te){if(te&&Object.keys(te).length){var ne=V._toGtagOptions(te),me=ne.title,R=ne.location,G=a(ne,i);V._gtag("event","page_view",S(S(S(S({},J&&{page_path:J}),me&&{page_title:me}),R&&{page_location:R}),G))}else J?V._gtag("event","page_view",{page_path:J}):V._gtag("event","page_view")}),Q(this,"_gaCommandSendPageviewParameters",function(){for(var J=arguments.length,te=new Array(J),ne=0;ne<J;ne++)te[ne]=arguments[ne];if(typeof te[0]=="string")V._gaCommandSendPageview.apply(V,h(te.slice(1)));else{var me=te[0],R=me.page;me.hitType;var G=a(me,s);V._gaCommandSendPageview(R,G)}}),Q(this,"_gaCommandSend",function(){for(var J=arguments.length,te=new Array(J),ne=0;ne<J;ne++)te[ne]=arguments[ne];var me=typeof te[0]=="string"?te[0]:te[0].hitType;switch(me){case"event":V._gaCommandSendEventParameters.apply(V,te);break;case"pageview":V._gaCommandSendPageviewParameters.apply(V,te);break;case"timing":V._gaCommandSendTiming.apply(V,h(te.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(me));break;default:console.warn("Send command doesn't exist: ".concat(me))}}),Q(this,"_gaCommandSet",function(){for(var J=arguments.length,te=new Array(J),ne=0;ne<J;ne++)te[ne]=arguments[ne];typeof te[0]=="string"&&(te[0]=Q({},te[0],te[1])),V._gtag("set",V._toGtagOptions(te[0]))}),Q(this,"_gaCommand",function(J){for(var te=arguments.length,ne=new Array(te>1?te-1:0),me=1;me<te;me++)ne[me-1]=arguments[me];switch(J){case"send":V._gaCommandSend.apply(V,ne);break;case"set":V._gaCommandSet.apply(V,ne);break;default:console.warn("Command doesn't exist: ".concat(J))}}),Q(this,"ga",function(){for(var J=arguments.length,te=new Array(J),ne=0;ne<J;ne++)te[ne]=arguments[ne];if(typeof te[0]=="string")V._gaCommand.apply(V,te);else{var me=te[0];V._gtag("get",V._currentMeasurementId,"client_id",function(R){V._isQueuing=!1;var G=V._queueGtag;for(me({get:function(Me){return Me==="clientId"?R:Me==="trackingId"?V._currentMeasurementId:Me==="apiVersion"?"1":void 0}});G.length;){var ye=G.shift();V._gtag.apply(V,h(ye))}}),V._isQueuing=!0}return V.ga}),Q(this,"event",function(J,te){if(typeof J=="string")V._gtag("event",J,V._toGtagOptions(te));else{var ne=J.action,me=J.category,R=J.label,G=J.value,ye=J.nonInteraction,z=J.transport;if(!me||!ne){console.warn("args.category AND args.action are required in event()");return}var Me={hitType:"event",eventCategory:(0,n.default)(me),eventAction:(0,n.default)(ne)};R&&(Me.eventLabel=(0,n.default)(R)),typeof G<"u"&&(typeof G!="number"?console.warn("Expected `args.value` arg to be a Number."):Me.eventValue=G),typeof ye<"u"&&(typeof ye!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):Me.nonInteraction=ye),typeof z<"u"&&(typeof z!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(z)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),Me.transport=z)),V._gaCommand("send",Me)}}),Q(this,"send",function(J){V._gaCommand("send",J)}),this.reset()}return H(q,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),q}();e.GA4=le;var ue=new le;e.default=ue}(c0)),c0}var Ib;function ej(){return Ib||(Ib=1,function(e){function t(a){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},t(a)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ReactGAImplementation=void 0;var n=i(Zk());function r(a){if(typeof WeakMap!="function")return null;var u=new WeakMap,c=new WeakMap;return(r=function(p){return p?c:u})(a)}function i(a,u){if(a&&a.__esModule)return a;if(a===null||t(a)!=="object"&&typeof a!="function")return{default:a};var c=r(u);if(c&&c.has(a))return c.get(a);var h={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if(g!=="default"&&Object.prototype.hasOwnProperty.call(a,g)){var x=p?Object.getOwnPropertyDescriptor(a,g):null;x&&(x.get||x.set)?Object.defineProperty(h,g,x):h[g]=a[g]}return h.default=a,c&&c.set(a,h),h}var s=n.GA4;e.ReactGAImplementation=s;var o=n.default;e.default=o}(u0)),u0}ej();const ld="8.55.0",io=globalThis;function Qy(e,t,n){const r=n||io,i=r.__SENTRY__=r.__SENTRY__||{},s=i[ld]=i[ld]||{};return s[e]||(s[e]=t())}const k_=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,tj="Sentry Logger ",Rb=["debug","info","warn","error","log","assert","trace"],Mb={};function nj(e){if(!("console"in io))return e();const t=io.console,n={},r=Object.keys(Mb);r.forEach(i=>{const s=Mb[i];n[i]=t[i],t[i]=s});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function rj(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return k_?Rb.forEach(n=>{t[n]=(...r)=>{e&&nj(()=>{io.console[n](`${tj}[${n}]:`,...r)})}}):Rb.forEach(n=>{t[n]=()=>{}}),t}const cp=Qy("logger",rj);function j_(){return Vy(io),io}function Vy(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||ld,t[ld]=t[ld]||{}}const ij=Object.prototype.toString;function sj(e,t){return ij.call(e)===`[object ${t}]`}function oj(e){return sj(e,"Object")}function aj(e){return!!(e&&e.then&&typeof e.then=="function")}function lj(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{k_&&cp.log(`Failed to add non-enumerable property "${t}" to object`,e)}}const E_=1e3;function T_(){return Date.now()/E_}function uj(){const{performance:e}=io;if(!e||!e.now)return T_;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/E_}const cj=uj();(()=>{const{performance:e}=io;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=i<t,o=e.timing&&e.timing.navigationStart,u=typeof o=="number"?Math.abs(o+n-r):t,c=u<t;return s||c?i<=u?e.timeOrigin:o:r})();function Pu(){const e=io,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function dj(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||cj(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Pu()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Fb(){return Pu()}function Bb(){return Pu().substring(16)}function N_(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const r={...e};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=N_(r[i],t[i],n-1));return r}const N1="_sentrySpan";function zb(e,t){t?lj(e,N1,t):delete e[N1]}function $b(e){return e[N1]}const hj=100;class Wy{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Fb(),spanId:Bb()}}clone(){const t=new Wy;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,zb(t,$b(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&dj(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,i]=n instanceof Du?[n.getScopeData(),n.getRequestSession()]:oj(n)?[t,t.requestSession]:[],{tags:s,extra:o,user:a,contexts:u,level:c,fingerprint:h=[],propagationContext:p}=r||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...o},this._contexts={...this._contexts,...u},a&&Object.keys(a).length&&(this._user=a),c&&(this._level=c),h.length&&(this._fingerprint=h),p&&(this._propagationContext=p),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,zb(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Fb()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:hj;if(r<=0)return this;const i={timestamp:T_(),...t};return this._breadcrumbs.push(i),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:$b(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=N_(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:Bb(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:Pu();if(!this._client)return cp.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r&&r.event_id?r.event_id:Pu();if(!this._client)return cp.warn("No client configured on scope - will not capture message!"),i;const s=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i},this),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:Pu();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(cp.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const Du=Wy;function fj(){return Qy("defaultCurrentScope",()=>new Du)}function pj(){return Qy("defaultIsolationScope",()=>new Du)}class mj{constructor(t,n){let r;t?r=t:r=new Du;let i;n?i=n:i=new Du,this._stack=[{scope:r}],this._isolationScope=i}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(i){throw this._popScope(),i}return aj(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Iu(){const e=j_(),t=Vy(e);return t.stack=t.stack||new mj(fj(),pj())}function gj(e){return Iu().withScope(e)}function yj(e,t){const n=Iu();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function Ub(e){return Iu().withScope(()=>e(Iu().getIsolationScope()))}function vj(){return{withIsolationScope:Ub,withScope:gj,withSetScope:yj,withSetIsolationScope:(e,t)=>Ub(t),getCurrentScope:()=>Iu().getScope(),getIsolationScope:()=>Iu().getIsolationScope()}}function xj(e){const t=Vy(e);return t.acs?t.acs:vj()}function bj(){const e=j_();return xj(e).getCurrentScope()}function wj(e){if(e)return _j(e)?{captureContext:e}:Cj(e)?{captureContext:e}:e}function _j(e){return e instanceof Du||typeof e=="function"}const Sj=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function Cj(e){return Object.keys(e).some(t=>Sj.includes(t))}function kj(e,t){return bj().captureException(e,wj(t))}var f0={exports:{}},p0,Hb;function jj(){if(Hb)return p0;Hb=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return p0=e,p0}var m0,Qb;function Ej(){if(Qb)return m0;Qb=1;var e=jj();function t(){}function n(){}return n.resetWarningCache=t,m0=function(){function r(o,a,u,c,h,p){if(p!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},m0}var Vb;function Tj(){return Vb||(Vb=1,f0.exports=Ej()()),f0.exports}var Nj=Tj();const Et=fi(Nj);var g0,Wb;function Pj(){if(Wb)return g0;Wb=1;function e(a){return a&&typeof a=="object"&&"default"in a?a.default:a}var t=qp(),n=e(t);function r(a,u,c){return u in a?Object.defineProperty(a,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[u]=c,a}function i(a,u){a.prototype=Object.create(u.prototype),a.prototype.constructor=a,a.__proto__=u}var s=!!(typeof window<"u"&&window.document&&window.document.createElement);function o(a,u,c){if(typeof a!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof u!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof c<"u"&&typeof c!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function h(p){return p.displayName||p.name||"Component"}return function(g){if(typeof g!="function")throw new Error("Expected WrappedComponent to be a React component.");var x=[],w;function S(){w=a(x.map(function(E){return E.props})),C.canUseDOM?u(w):c&&(w=c(w))}var C=function(E){i(L,E);function L(){return E.apply(this,arguments)||this}L.peek=function(){return w},L.rewind=function(){if(L.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var $=w;return w=void 0,x=[],$};var A=L.prototype;return A.UNSAFE_componentWillMount=function(){x.push(this),S()},A.componentDidUpdate=function(){S()},A.componentWillUnmount=function(){var $=x.indexOf(this);x.splice($,1),S()},A.render=function(){return n.createElement(g,this.props)},L}(t.PureComponent);return r(C,"displayName","SideEffect("+h(g)+")"),r(C,"canUseDOM",s),C}}return g0=o,g0}var Oj=Pj();const Lj=fi(Oj);var y0,qb;function Aj(){if(qb)return y0;qb=1;var e=typeof Element<"u",t=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(s,o){if(s===o)return!0;if(s&&o&&typeof s=="object"&&typeof o=="object"){if(s.constructor!==o.constructor)return!1;var a,u,c;if(Array.isArray(s)){if(a=s.length,a!=o.length)return!1;for(u=a;u--!==0;)if(!i(s[u],o[u]))return!1;return!0}var h;if(t&&s instanceof Map&&o instanceof Map){if(s.size!==o.size)return!1;for(h=s.entries();!(u=h.next()).done;)if(!o.has(u.value[0]))return!1;for(h=s.entries();!(u=h.next()).done;)if(!i(u.value[1],o.get(u.value[0])))return!1;return!0}if(n&&s instanceof Set&&o instanceof Set){if(s.size!==o.size)return!1;for(h=s.entries();!(u=h.next()).done;)if(!o.has(u.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(o)){if(a=s.length,a!=o.length)return!1;for(u=a;u--!==0;)if(s[u]!==o[u])return!1;return!0}if(s.constructor===RegExp)return s.source===o.source&&s.flags===o.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof o.valueOf=="function")return s.valueOf()===o.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof o.toString=="function")return s.toString()===o.toString();if(c=Object.keys(s),a=c.length,a!==Object.keys(o).length)return!1;for(u=a;u--!==0;)if(!Object.prototype.hasOwnProperty.call(o,c[u]))return!1;if(e&&s instanceof Element)return!1;for(u=a;u--!==0;)if(!((c[u]==="_owner"||c[u]==="__v"||c[u]==="__o")&&s.$$typeof)&&!i(s[c[u]],o[c[u]]))return!1;return!0}return s!==s&&o!==o}return y0=function(o,a){try{return i(o,a)}catch(u){if((u.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw u}},y0}var Dj=Aj();const Ij=fi(Dj);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var v0,Kb;function Rj(){if(Kb)return v0;Kb=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function i(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var o={},a=0;a<10;a++)o["_"+String.fromCharCode(a)]=a;var u=Object.getOwnPropertyNames(o).map(function(h){return o[h]});if(u.join("")!=="0123456789")return!1;var c={};return"abcdefghijklmnopqrst".split("").forEach(function(h){c[h]=h}),Object.keys(Object.assign({},c)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return v0=i()?Object.assign:function(s,o){for(var a,u=r(s),c,h=1;h<arguments.length;h++){a=Object(arguments[h]);for(var p in a)t.call(a,p)&&(u[p]=a[p]);if(e){c=e(a);for(var g=0;g<c.length;g++)n.call(a,c[g])&&(u[c[g]]=a[c[g]])}}return u},v0}var Mj=Rj();const Fj=fi(Mj);var el={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},wt={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(wt).map(function(e){return wt[e]});var vn={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},_p={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},_d={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},Bj=Object.keys(_p).reduce(function(e,t){return e[_p[t]]=t,e},{}),zj=[wt.NOSCRIPT,wt.SCRIPT,wt.STYLE],Ji="data-react-helmet",$j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uj=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Hj=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Vr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qj=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Gb=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},Vj=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},P1=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Wj=function(t){var n=Ou(t,wt.TITLE),r=Ou(t,_d.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=Ou(t,_d.DEFAULT_TITLE);return n||i||void 0},qj=function(t){return Ou(t,_d.ON_CHANGE_CLIENT_STATE)||function(){}},x0=function(t,n){return n.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,i){return Vr({},r,i)},{})},Kj=function(t,n){return n.filter(function(r){return typeof r[wt.BASE]<"u"}).map(function(r){return r[wt.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),o=0;o<s.length;o++){var a=s[o],u=a.toLowerCase();if(t.indexOf(u)!==-1&&i[u])return r.concat(i)}return r},[])},Ic=function(t,n,r){var i={};return r.filter(function(s){return Array.isArray(s[t])?!0:(typeof s[t]<"u"&&Jj("Helmet: "+t+' should be of type "Array". Instead found type "'+$j(s[t])+'"'),!1)}).map(function(s){return s[t]}).reverse().reduce(function(s,o){var a={};o.filter(function(g){for(var x=void 0,w=Object.keys(g),S=0;S<w.length;S++){var C=w[S],E=C.toLowerCase();n.indexOf(E)!==-1&&!(x===vn.REL&&g[x].toLowerCase()==="canonical")&&!(E===vn.REL&&g[E].toLowerCase()==="stylesheet")&&(x=E),n.indexOf(C)!==-1&&(C===vn.INNER_HTML||C===vn.CSS_TEXT||C===vn.ITEM_PROP)&&(x=C)}if(!x||!g[x])return!1;var L=g[x].toLowerCase();return i[x]||(i[x]={}),a[x]||(a[x]={}),i[x][L]?!1:(a[x][L]=!0,!0)}).reverse().forEach(function(g){return s.push(g)});for(var u=Object.keys(a),c=0;c<u.length;c++){var h=u[c],p=Fj({},i[h],a[h]);i[h]=p}return s},[]).reverse()},Ou=function(t,n){for(var r=t.length-1;r>=0;r--){var i=t[r];if(i.hasOwnProperty(n))return i[n]}return null},Gj=function(t){return{baseTag:Kj([vn.HREF,vn.TARGET],t),bodyAttributes:x0(el.BODY,t),defer:Ou(t,_d.DEFER),encode:Ou(t,_d.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:x0(el.HTML,t),linkTags:Ic(wt.LINK,[vn.REL,vn.HREF],t),metaTags:Ic(wt.META,[vn.NAME,vn.CHARSET,vn.HTTPEQUIV,vn.PROPERTY,vn.ITEM_PROP],t),noscriptTags:Ic(wt.NOSCRIPT,[vn.INNER_HTML],t),onChangeClientState:qj(t),scriptTags:Ic(wt.SCRIPT,[vn.SRC,vn.INNER_HTML],t),styleTags:Ic(wt.STYLE,[vn.CSS_TEXT],t),title:Wj(t),titleAttributes:x0(el.TITLE,t)}},O1=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){O1(t)},0)}}(),Yb=function(t){return clearTimeout(t)},Yj=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||O1:global.requestAnimationFrame||O1,Xj=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||Yb:global.cancelAnimationFrame||Yb,Jj=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},Rc=null,Zj=function(t){Rc&&Xj(Rc),t.defer?Rc=Yj(function(){Xb(t,function(){Rc=null})}):(Xb(t),Rc=null)},Xb=function(t,n){var r=t.baseTag,i=t.bodyAttributes,s=t.htmlAttributes,o=t.linkTags,a=t.metaTags,u=t.noscriptTags,c=t.onChangeClientState,h=t.scriptTags,p=t.styleTags,g=t.title,x=t.titleAttributes;L1(wt.BODY,i),L1(wt.HTML,s),eE(g,x);var w={baseTag:nu(wt.BASE,r),linkTags:nu(wt.LINK,o),metaTags:nu(wt.META,a),noscriptTags:nu(wt.NOSCRIPT,u),scriptTags:nu(wt.SCRIPT,h),styleTags:nu(wt.STYLE,p)},S={},C={};Object.keys(w).forEach(function(E){var L=w[E],A=L.newTags,B=L.oldTags;A.length&&(S[E]=A),B.length&&(C[E]=w[E].oldTags)}),n&&n(),c(t,S,C)},P_=function(t){return Array.isArray(t)?t.join(""):t},eE=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=P_(t)),L1(wt.TITLE,n)},L1=function(t,n){var r=document.getElementsByTagName(t)[0];if(r){for(var i=r.getAttribute(Ji),s=i?i.split(","):[],o=[].concat(s),a=Object.keys(n),u=0;u<a.length;u++){var c=a[u],h=n[c]||"";r.getAttribute(c)!==h&&r.setAttribute(c,h),s.indexOf(c)===-1&&s.push(c);var p=o.indexOf(c);p!==-1&&o.splice(p,1)}for(var g=o.length-1;g>=0;g--)r.removeAttribute(o[g]);s.length===o.length?r.removeAttribute(Ji):r.getAttribute(Ji)!==a.join(",")&&r.setAttribute(Ji,a.join(","))}},nu=function(t,n){var r=document.head||document.querySelector(wt.HEAD),i=r.querySelectorAll(t+"["+Ji+"]"),s=Array.prototype.slice.call(i),o=[],a=void 0;return n&&n.length&&n.forEach(function(u){var c=document.createElement(t);for(var h in u)if(u.hasOwnProperty(h))if(h===vn.INNER_HTML)c.innerHTML=u.innerHTML;else if(h===vn.CSS_TEXT)c.styleSheet?c.styleSheet.cssText=u.cssText:c.appendChild(document.createTextNode(u.cssText));else{var p=typeof u[h]>"u"?"":u[h];c.setAttribute(h,p)}c.setAttribute(Ji,"true"),s.some(function(g,x){return a=x,c.isEqualNode(g)})?s.splice(a,1):o.push(c)}),s.forEach(function(u){return u.parentNode.removeChild(u)}),o.forEach(function(u){return r.appendChild(u)}),{oldTags:s,newTags:o}},O_=function(t){return Object.keys(t).reduce(function(n,r){var i=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return n?n+" "+i:i},"")},tE=function(t,n,r,i){var s=O_(r),o=P_(n);return s?"<"+t+" "+Ji+'="true" '+s+">"+P1(o,i)+"</"+t+">":"<"+t+" "+Ji+'="true">'+P1(o,i)+"</"+t+">"},nE=function(t,n,r){return n.reduce(function(i,s){var o=Object.keys(s).filter(function(c){return!(c===vn.INNER_HTML||c===vn.CSS_TEXT)}).reduce(function(c,h){var p=typeof s[h]>"u"?h:h+'="'+P1(s[h],r)+'"';return c?c+" "+p:p},""),a=s.innerHTML||s.cssText||"",u=zj.indexOf(t)===-1;return i+"<"+t+" "+Ji+'="true" '+o+(u?"/>":">"+a+"</"+t+">")},"")},L_=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[_p[i]||i]=t[i],r},n)},rE=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[Bj[i]||i]=t[i],r},n)},iE=function(t,n,r){var i,s=(i={key:n},i[Ji]=!0,i),o=L_(r,s);return[en.createElement(wt.TITLE,o,n)]},sE=function(t,n){return n.map(function(r,i){var s,o=(s={key:i},s[Ji]=!0,s);return Object.keys(r).forEach(function(a){var u=_p[a]||a;if(u===vn.INNER_HTML||u===vn.CSS_TEXT){var c=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:c}}else o[u]=r[a]}),en.createElement(t,o)})},Vs=function(t,n,r){switch(t){case wt.TITLE:return{toComponent:function(){return iE(t,n.title,n.titleAttributes)},toString:function(){return tE(t,n.title,n.titleAttributes,r)}};case el.BODY:case el.HTML:return{toComponent:function(){return L_(n)},toString:function(){return O_(n)}};default:return{toComponent:function(){return sE(t,n)},toString:function(){return nE(t,n,r)}}}},A_=function(t){var n=t.baseTag,r=t.bodyAttributes,i=t.encode,s=t.htmlAttributes,o=t.linkTags,a=t.metaTags,u=t.noscriptTags,c=t.scriptTags,h=t.styleTags,p=t.title,g=p===void 0?"":p,x=t.titleAttributes;return{base:Vs(wt.BASE,n,i),bodyAttributes:Vs(el.BODY,r,i),htmlAttributes:Vs(el.HTML,s,i),link:Vs(wt.LINK,o,i),meta:Vs(wt.META,a,i),noscript:Vs(wt.NOSCRIPT,u,i),script:Vs(wt.SCRIPT,c,i),style:Vs(wt.STYLE,h,i),title:Vs(wt.TITLE,{title:g,titleAttributes:x},i)}},oE=function(t){var n,r;return r=n=function(i){Qj(s,i);function s(){return Uj(this,s),Vj(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(a){return!Ij(this.props,a)},s.prototype.mapNestedChildrenToProps=function(a,u){if(!u)return null;switch(a.type){case wt.SCRIPT:case wt.NOSCRIPT:return{innerHTML:u};case wt.STYLE:return{cssText:u}}throw new Error("<"+a.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(a){var u,c=a.child,h=a.arrayTypeChildren,p=a.newChildProps,g=a.nestedChildren;return Vr({},h,(u={},u[c.type]=[].concat(h[c.type]||[],[Vr({},p,this.mapNestedChildrenToProps(c,g))]),u))},s.prototype.mapObjectTypeChildren=function(a){var u,c,h=a.child,p=a.newProps,g=a.newChildProps,x=a.nestedChildren;switch(h.type){case wt.TITLE:return Vr({},p,(u={},u[h.type]=x,u.titleAttributes=Vr({},g),u));case wt.BODY:return Vr({},p,{bodyAttributes:Vr({},g)});case wt.HTML:return Vr({},p,{htmlAttributes:Vr({},g)})}return Vr({},p,(c={},c[h.type]=Vr({},g),c))},s.prototype.mapArrayTypeChildrenToProps=function(a,u){var c=Vr({},u);return Object.keys(a).forEach(function(h){var p;c=Vr({},c,(p={},p[h]=a[h],p))}),c},s.prototype.warnOnInvalidChildren=function(a,u){return!0},s.prototype.mapChildrenToProps=function(a,u){var c=this,h={};return en.Children.forEach(a,function(p){if(!(!p||!p.props)){var g=p.props,x=g.children,w=Gb(g,["children"]),S=rE(w);switch(c.warnOnInvalidChildren(p,x),p.type){case wt.LINK:case wt.META:case wt.NOSCRIPT:case wt.SCRIPT:case wt.STYLE:h=c.flattenArrayTypeChildren({child:p,arrayTypeChildren:h,newChildProps:S,nestedChildren:x});break;default:u=c.mapObjectTypeChildren({child:p,newProps:u,newChildProps:S,nestedChildren:x});break}}}),u=this.mapArrayTypeChildrenToProps(h,u),u},s.prototype.render=function(){var a=this.props,u=a.children,c=Gb(a,["children"]),h=Vr({},c);return u&&(h=this.mapChildrenToProps(u,h)),en.createElement(t,h)},Hj(s,null,[{key:"canUseDOM",set:function(a){t.canUseDOM=a}}]),s}(en.Component),n.propTypes={base:Et.object,bodyAttributes:Et.object,children:Et.oneOfType([Et.arrayOf(Et.node),Et.node]),defaultTitle:Et.string,defer:Et.bool,encodeSpecialCharacters:Et.bool,htmlAttributes:Et.object,link:Et.arrayOf(Et.object),meta:Et.arrayOf(Et.object),noscript:Et.arrayOf(Et.object),onChangeClientState:Et.func,script:Et.arrayOf(Et.object),style:Et.arrayOf(Et.object),title:Et.string,titleAttributes:Et.object,titleTemplate:Et.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var i=t.rewind();return i||(i=A_({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},aE=function(){return null},lE=Lj(Gj,Zj,A_)(aE),Wn=oE(lE);Wn.renderStatic=Wn.rewind;const D_=e=>N.createElement("svg",{width:240,height:240,viewBox:"0 0 240 240",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M35.0767 27.9936C36.2709 9.99373 56.1517 -0.303892 71.5425 9.10587L213.791 96.0756C231.278 106.768 228.18 133.047 208.685 139.378L169.934 151.963L186.77 185.839C193.06 198.497 187.616 213.848 174.755 219.712L148.361 231.747C136.289 237.252 122.02 232.368 115.853 220.621L96.5356 183.827L61.2319 205.402C44.6261 215.55 23.4817 202.753 24.77 183.334L35.0767 27.9936Z",fill:"#047CFE"}),N.createElement("ellipse",{cx:81.7143,cy:99.4285,rx:9.71429,ry:13.7143,fill:"white"}),N.createElement("path",{d:"M144 99.4285C144 107.003 139.651 113.143 134.286 113.143C128.921 113.143 124.571 107.003 124.571 99.4285C124.571 91.8543 128.921 85.7142 134.286 85.7142C139.651 85.7142 144 91.8543 144 99.4285Z",fill:"white"}),N.createElement("path",{d:"M86.7687 125.246C88.6759 123.021 92.0636 122.863 94.1695 124.901L99.9237 130.47C104.528 134.926 111.74 135.226 116.699 131.169L123.261 125.8C125.281 124.147 128.239 124.354 130.009 126.272V126.272C131.991 128.419 131.682 131.81 129.344 133.563L122.999 138.322C122.524 138.678 122.024 138.999 121.502 139.281L118.258 141.039C112.227 144.305 104.944 144.254 98.9601 140.903L95.3516 138.883C94.6427 138.486 93.973 138.022 93.3515 137.499L87.3544 132.449C85.1919 130.628 84.9288 127.393 86.7687 125.246V125.246Z",fill:"white"})),uE=e=>N.createElement("svg",{id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"100%",viewBox:"740 350 700 190",enableBackground:"new 0 0 1506 862",xmlSpace:"preserve",...e},N.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M766.615112,463.466736 C775.870483,435.054810 785.533081,407.176788 793.924072,378.921143 C799.456543,360.291321 821.375366,357.141083 832.881592,364.663513 C838.142395,368.102875 840.908264,372.891174 842.764648,378.570496 C853.528076,411.499817 864.314026,444.421814 875.109436,477.340668 C878.939270,489.019165 882.817444,500.681793 886.885071,512.991760 C873.401611,512.991760 860.604980,513.082825 847.814941,512.834106 C846.683838,512.812195 845.029419,510.751434 844.583618,509.333893 C842.385803,502.345581 840.389465,495.286346 838.588135,488.184601 C837.875916,485.376556 836.496521,484.498810 833.699890,484.534851 C823.536499,484.665802 813.369263,484.669006 803.205994,484.533264 C800.346008,484.495056 799.085388,485.557281 798.384705,488.289246 C796.564392,495.386353 794.554382,502.439484 792.396301,509.441223 C791.983948,510.779236 790.565674,512.800781 789.581299,512.818420 C776.821838,513.046875 764.056885,512.969788 750.549133,512.969788 C756.023682,496.088989 761.252869,479.964600 766.615112,463.466736 M816.931274,421.410614 C814.112549,431.575104 811.293823,441.739594 808.392944,452.200287 C815.599854,452.200287 821.902649,452.200287 828.658752,452.200287 C825.389221,440.483582 822.289490,429.375366 818.869080,417.118134 C817.911804,419.080017 817.519409,419.884216 816.931274,421.410614 z"}),N.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M897.499634,440.999878 C897.503479,420.519745 897.488831,400.539612 897.519775,380.559540 C897.531799,372.795044 900.376282,366.496521 907.660461,363.030640 C915.127136,359.477966 922.528442,359.846069 929.464539,364.563080 C935.259399,368.503876 937.055176,374.335907 937.048035,381.039062 C937.015198,411.841675 937.034424,442.644379 937.040466,473.447052 C937.041748,480.073792 937.052368,480.081238 943.492004,480.087067 C954.814026,480.097321 966.136658,480.028900 977.457947,480.122711 C987.208801,480.203491 993.256531,486.339630 993.423340,496.088531 C993.591736,505.931396 987.323730,512.874146 977.673828,512.951233 C959.526672,513.096191 941.377319,512.994263 923.229065,512.925903 C921.079651,512.917786 918.917908,512.564026 916.785522,512.222961 C904.801392,510.306244 898.913025,504.603821 898.202148,492.417206 C897.427734,479.139282 897.678284,465.801117 897.506409,452.488892 C897.459106,448.826477 897.499329,445.162903 897.499634,440.999878 z"}),N.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1040.002319,513.009888 C1032.386597,512.472046 1025.194824,512.401672 1018.174561,511.268555 C1010.726318,510.066406 1006.177002,504.925751 1004.404785,497.720428 C1003.459595,493.877228 1002.968811,489.824890 1002.956421,485.864838 C1002.846130,450.709564 1002.826050,415.553650 1002.916931,380.398285 C1002.954224,365.950378 1016.559753,356.896027 1030.130249,362.060669 C1038.365479,365.194824 1042.187012,370.979767 1042.201660,380.770782 C1042.247070,411.094543 1042.204346,441.418396 1042.235718,471.742188 C1042.245239,480.981537 1041.247803,480.051331 1050.482178,480.082153 C1061.312012,480.118286 1072.142578,480.025299 1082.971680,480.121033 C1092.570557,480.205902 1098.845581,486.620514 1098.907471,496.184052 C1098.970459,505.922485 1092.541992,512.866394 1082.988037,512.962402 C1068.827148,513.104797 1054.663940,513.006042 1040.002319,513.009888 z"}),N.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1105.599854,424.091034 C1105.678223,419.273590 1105.675537,414.939514 1105.848022,410.612366 C1106.679688,389.750092 1118.775146,372.818024 1138.406616,365.732941 C1156.549072,359.185303 1175.012329,358.583527 1193.188843,365.323273 C1198.110229,367.148071 1202.772949,370.721100 1206.466431,374.543121 C1211.164673,379.404846 1211.106934,386.678192 1207.716797,392.221375 C1204.392090,397.657684 1197.251099,400.903137 1190.883667,399.580627 C1188.301636,399.044403 1185.815430,397.977692 1183.339355,397.013916 C1175.530396,393.974335 1167.541260,392.816956 1159.379639,395.154175 C1150.777954,397.617371 1145.223511,403.980804 1145.017212,412.911163 C1144.628296,429.729340 1144.585449,446.570526 1145.007446,463.386902 C1145.269531,473.829987 1153.125732,481.281250 1163.625244,482.137146 C1171.722046,482.797241 1179.477173,481.553802 1186.986572,478.140991 C1190.366577,476.604889 1194.360962,475.323792 1197.962524,475.572998 C1209.802612,476.392456 1216.308594,490.454346 1208.927490,499.752319 C1205.559448,503.994965 1200.648315,507.757538 1195.646484,509.828613 C1174.556763,518.560974 1153.221802,518.122009 1132.727783,508.061493 C1115.403931,499.557190 1106.508057,484.852997 1105.894775,465.561035 C1105.460938,451.910522 1105.674927,438.239471 1105.599854,424.091034 z"}),N.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1320.434326,500.172791 C1317.639038,509.503052 1313.229980,512.955139 1304.061890,512.987305 C1286.908081,513.047424 1269.753784,513.003906 1252.599731,512.992737 C1251.268433,512.991882 1249.933105,512.956604 1248.606323,512.853210 C1231.926514,511.553131 1225.143188,504.528259 1225.061279,487.516205 C1224.887939,451.543427 1224.944946,415.569183 1225.023804,379.595795 C1225.048584,368.329468 1233.036743,360.816620 1244.539917,360.809937 C1256.112671,360.803192 1264.062378,368.157135 1264.114258,379.536163 C1264.256104,410.679382 1264.172607,441.823578 1264.180786,472.967407 C1264.182617,480.081787 1264.187012,480.085663 1271.141602,480.088776 C1281.967041,480.093628 1292.792480,480.061768 1303.617798,480.102203 C1315.913452,480.148132 1322.019409,487.278107 1320.434326,500.172791 z"}),N.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1378.000000,513.014893 C1368.192139,512.765503 1358.816406,513.130859 1349.593384,512.112854 C1337.746338,510.805237 1332.660767,505.204010 1330.947388,493.507568 C1330.538574,490.717987 1330.280029,487.878601 1330.276367,485.061737 C1330.230103,450.432434 1330.286133,415.802979 1330.212158,381.173767 C1330.194580,372.958893 1332.967651,366.428131 1340.685059,362.882050 C1348.394409,359.339600 1355.924683,359.980255 1362.863892,365.047699 C1368.391602,369.084473 1369.760742,374.936981 1369.757690,381.368835 C1369.743286,412.002502 1369.751465,442.636139 1369.756226,473.269806 C1369.757324,480.076080 1369.766113,480.079834 1376.503418,480.083557 C1387.658081,480.089752 1398.813110,480.033844 1409.967285,480.110382 C1420.152832,480.180267 1426.172729,486.207733 1426.218872,496.197205 C1426.266479,506.515289 1420.200684,512.875610 1409.966064,512.983093 C1399.478394,513.093262 1388.988770,513.012207 1378.000000,513.014893 z"})),cE=e=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M4 11.5L3.515 11.621C3.08232 11.7292 2.69821 11.9788 2.4237 12.3303C2.1492 12.6818 2.00007 13.115 2 13.561V15.438C2.00007 15.884 2.1492 16.3172 2.4237 16.6687C2.69821 17.0202 3.08232 17.2698 3.515 17.378L5.255 17.813C5.34342 17.835 5.43569 17.8366 5.52481 17.8177C5.61393 17.7987 5.69757 17.7597 5.76937 17.7036C5.84118 17.6475 5.89926 17.5758 5.93922 17.4939C5.97918 17.412 5.99997 17.3221 6 17.231V11.768C6.00001 11.6768 5.97921 11.5868 5.93919 11.5048C5.89918 11.4228 5.84099 11.351 5.76907 11.2949C5.69714 11.2388 5.61337 11.1998 5.52412 11.1809C5.43486 11.1621 5.34248 11.1638 5.254 11.186L4 11.5ZM4 11.5V11C4 8.87827 4.84285 6.84344 6.34315 5.34315C7.84344 3.84285 9.87827 3 12 3C14.1217 3 16.1566 3.84285 17.6569 5.34315C19.1571 6.84344 20 8.87827 20 11V11.5M20 11.5L20.485 11.621C20.9177 11.7292 21.3018 11.9788 21.5763 12.3303C21.8508 12.6818 21.9999 13.115 22 13.561V15.438C21.9999 15.884 21.8508 16.3172 21.5763 16.6687C21.3018 17.0202 20.9177 17.2698 20.485 17.378L20 17.5M20 11.5L18.745 11.186C18.6566 11.164 18.5643 11.1624 18.4752 11.1813C18.3861 11.2003 18.3024 11.2393 18.2306 11.2954C18.1588 11.3515 18.1007 11.4232 18.0608 11.5051C18.0208 11.587 18 11.6769 18 11.768V17.231C18 17.3221 18.0208 17.412 18.0608 17.4939C18.1007 17.5758 18.1588 17.6475 18.2306 17.7036C18.3024 17.7597 18.3861 17.7987 18.4752 17.8177C18.5643 17.8366 18.6566 17.835 18.745 17.813L20 17.5M20 17.5V18.5C20 19.0304 19.7893 19.5391 19.4142 19.9142C19.0391 20.2893 18.5304 20.5 18 20.5H15M15 20.5C15 20.1022 14.842 19.7206 14.5607 19.4393C14.2794 19.158 13.8978 19 13.5 19H10.5C10.1022 19 9.72064 19.158 9.43934 19.4393C9.15804 19.7206 9 20.1022 9 20.5C9 20.8978 9.15804 21.2794 9.43934 21.5607C9.72064 21.842 10.1022 22 10.5 22H13.5C13.8978 22 14.2794 21.842 14.5607 21.5607C14.842 21.2794 15 20.8978 15 20.5Z",stroke:"#6B7280",strokeWidth:1.5})),dE=e=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M12 3C9.61306 3 7.32388 3.94821 5.63605 5.63604C3.94822 7.32387 3.00001 9.61305 3.00001 12C3.00001 14.397 3.93501 16.573 5.46301 18.186L5.96701 18.718L4.70001 21H12C13.1819 21 14.3522 20.7672 15.4442 20.3149C16.5361 19.8626 17.5282 19.1997 18.364 18.364C19.1997 17.5282 19.8626 16.5361 20.3149 15.4442C20.7672 14.3522 21 13.1819 21 12C21 10.8181 20.7672 9.64778 20.3149 8.55585C19.8626 7.46392 19.1997 6.47177 18.364 5.63604C17.5282 4.80031 16.5361 4.13738 15.4442 3.68508C14.3522 3.23279 13.1819 3 12 3ZM1.00001 12C1.00001 5.925 5.92501 1 12 1C18.075 1 23 5.925 23 12C23 18.075 18.075 23 12 23H1.30001L3.52001 19.006C1.88821 17.0363 0.996743 14.5578 1.00001 12ZM12 7.5C11.5864 7.4999 11.1829 7.62803 10.8452 7.86676C10.5074 8.10549 10.2519 8.44307 10.114 8.833L9.78001 9.776L7.89501 9.11L8.22801 8.167C8.43446 7.58155 8.77432 7.05216 9.22069 6.62073C9.66706 6.1893 10.2077 5.86765 10.7998 5.68124C11.392 5.49483 12.0194 5.44876 12.6324 5.54668C13.2454 5.64461 13.8272 5.88383 14.3318 6.24544C14.8364 6.60704 15.25 7.08111 15.5397 7.63013C15.8295 8.17915 15.9875 8.78806 16.0013 9.4087C16.0151 10.0293 15.8843 10.6447 15.6192 11.206C15.3541 11.7674 14.962 12.2593 14.474 12.643C14.043 12.983 13.657 13.309 13.378 13.652C13.104 13.99 13 14.262 13 14.5V15.75H11V14.5C11 13.633 11.39 12.927 11.826 12.39C12.258 11.86 12.8 11.416 13.236 11.072C13.5628 10.8149 13.8014 10.4624 13.9185 10.0634C14.0357 9.66449 14.0256 9.23894 13.8896 8.846C13.7536 8.45305 13.4986 8.11226 13.1599 7.87102C12.8212 7.62978 12.4158 7.50009 12 7.5ZM11 16.75H13.004V18.754H11V16.75Z",fill:"#6B7280"})),I_=[{title:"시간표",path:"/timetable",end:!1},{title:"관심과목",path:"/wishes",end:!0},{title:"올클연습",path:"/simulation",end:!1},{title:"실시간",path:"/live",end:!1}],hE=[{icon:f.jsx(cE,{className:"w-4 h-4"}),title:"오류 및 제안",path:"https://forms.gle/bCDTVujEHunnvHe88"},{icon:f.jsx(dE,{className:"w-4 h-4"}),title:"공지 채팅방",path:"https://open.kakao.com/o/g3MztXfh"}];function qy(){return f.jsx("header",{className:"bg-white shadow-sm z-50 sticky top-0",children:f.jsxs("div",{className:"container flex items-center justify-between mx-auto max-w-7xl px-4 md:px-16",children:[f.jsxs("div",{className:"flex items-center space-x-4 py-4",children:[f.jsxs(Or,{to:"/",className:"flex items-center gap-1 space-x-2","aria-label":"메인 페이지",children:[f.jsx("h1",{className:"hidden",children:"ALLCLL"}),f.jsx(D_,{className:"w-6 h-6 m-0"}),f.jsx(uE,{className:"h-5 hidden sm:inline-block"})]}),f.jsx("ul",{className:"flex space-x-4 text-sm sm:text-base",children:I_.map(({title:e,path:t,end:n})=>f.jsx("li",{className:"font-bold",children:f.jsx(fl,{to:t,end:n,className:({isActive:r})=>r?"text-blue-500 font-semibold":"text-gray-500",children:e})},t))})]}),f.jsx("div",{className:"items-center space-x-2 hidden sm:flex",children:hE.map(({icon:e,title:t,path:n})=>f.jsx("a",{className:"p-2 rounded-md hover:bg-gray-100",target:"_blank",href:n,"aria-label":t,title:t,children:e},n))})]})})}const Ky=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,72)"},N.createElement("g",null,N.createElement("path",{d:"M18,36Q22.9219,36.0703125,27,38.39062Q31.0781,40.78125,33.6094,45Q36,49.2891,36,54Q36,58.710899999999995,33.6094,63Q31.0781,67.2188,27,69.6094Q22.9219,71.9297,18,72Q13.0781,71.9297,9,69.6094Q4.92188,67.2188,2.39062,63Q0,58.710899999999995,0,54Q0,49.2891,2.39062,45Q4.92188,40.78125,9,38.39062Q13.0781,36.0703125,18,36ZM18,63Q19.5469,62.8594,19.6875,61.3125L19.6875,53.4375Q19.5469,51.8906,18,51.75Q16.4531,51.8906,16.3125,53.4375L16.3125,61.3125Q16.4531,62.8594,18,63ZM15.75,47.25Q15.75,48.2344,16.3828,48.8672Q17.0156,49.5,18,49.5Q18.9844,49.5,19.6172,48.8672Q20.25,48.2344,20.25,47.25Q20.25,46.2656,19.6172,45.63281Q18.9844,45,18,45Q17.0156,45,16.3828,45.63281Q15.75,46.2656,15.75,47.25Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})))),Gy=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:10,height:10,viewBox:"0. 0. 11 11",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,20)"},N.createElement("path",{d:"M9.71875,18.28125Q10,18.59375,10,19Q10,19.40625,9.71875,19.71875Q9.40625,20,9,20Q8.59375,20,8.28125,19.71875L5,16.40625L1.71875,19.71875Q1.40625,20,1,20Q0.59375,20,0.28125,19.71875Q0,19.40625,0,19Q0,18.59375,0.28125,18.28125L3.59375,15L0.28125,11.71875Q0,11.40625,0,11Q0,10.59375,0.28125,10.28125Q0.59375,10,1,10Q1.40625,10,1.71875,10.28125L5,13.59375L8.28125,10.28125Q8.59375,10,9,10Q9.40625,10,9.71875,10.28125Q10,10.59375,10,11Q10,11.40625,9.71875,11.71875L6.40625,15L9.71875,18.28125Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),Jb=e=>{let t;const n=new Set,r=(c,h)=>{const p=typeof c=="function"?c(t):c;if(!Object.is(p,t)){const g=t;t=h??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(x=>x(t,g))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c))},u=t=e(r,i,a);return a},fE=e=>e?Jb(e):Jb,pE=e=>e;function mE(e,t=pE){const n=en.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return en.useDebugValue(n),n}const Zb=e=>{const t=fE(e),n=r=>mE(t,r);return Object.assign(n,t),n},nr=e=>e?Zb(e):Zb,Sp=nr(e=>({banner:null,onClose:void 0,setBanner:(t,n)=>e({banner:t,onClose:n}),closeBanner:()=>e({banner:null})}));function R_(){const e=Sp(n=>n.banner),t=Sp(n=>n.closeBanner);return f.jsx("div",{children:e&&f.jsx(gE,{deleteBanner:t,children:e})})}function gE({children:e,deleteBanner:t}){return f.jsxs("div",{className:"flex items-center justify-between bg-blue-100 px-4 py-2 gap-2",children:[f.jsx(Ky,{className:"w-4 h-4"}),f.jsx("div",{className:"flex-auto text-xs",children:e}),f.jsx("button",{className:"p-1 rounded-full hover:bg-blue-200",onClick:t,"aria-label":"알림 닫기",children:f.jsx(Gy,{className:""})})]})}function Cp(){return Cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cp.apply(null,arguments)}function Yy(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function A1(e,t){return A1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},A1(e,t)}function Xy(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,A1(e,t)}function yE(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function vE(e,t){e.classList?e.classList.add(t):yE(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function ew(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function xE(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=ew(e.className,t):e.setAttribute("class",ew(e.className&&e.className.baseVal||"",t))}const tw={disabled:!1},kp=en.createContext(null);var M_=function(t){return t.scrollTop},td="unmounted",Ua="exited",Ha="entering",Su="entered",D1="exiting",oo=function(e){Xy(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,u;return s.appearStatus=null,r.in?a?(u=Ua,s.appearStatus=Ha):u=Su:r.unmountOnExit||r.mountOnEnter?u=td:u=Ua,s.state={status:u},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===td?{status:Ua}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Ha&&o!==Su&&(s=Ha):(o===Ha||o===Su)&&(s=D1)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Ha){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:yf.findDOMNode(this);o&&M_(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ua&&this.setState({status:td})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,u=this.props.nodeRef?[a]:[yf.findDOMNode(this),a],c=u[0],h=u[1],p=this.getTimeouts(),g=a?p.appear:p.enter;if(!i&&!o||tw.disabled){this.safeSetState({status:Su},function(){s.props.onEntered(c)});return}this.props.onEnter(c,h),this.safeSetState({status:Ha},function(){s.props.onEntering(c,h),s.onTransitionEnd(g,function(){s.safeSetState({status:Su},function(){s.props.onEntered(c,h)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:yf.findDOMNode(this);if(!s||tw.disabled){this.safeSetState({status:Ua},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:D1},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Ua},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:yf.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=u[0],h=u[1];this.props.addEndListener(c,h)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===td)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=Yy(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return en.createElement(kp.Provider,{value:null},typeof o=="function"?o(i,a):en.cloneElement(en.Children.only(o),a))},t}(en.Component);oo.contextType=kp;oo.propTypes={};function ru(){}oo.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ru,onEntering:ru,onEntered:ru,onExit:ru,onExiting:ru,onExited:ru};oo.UNMOUNTED=td;oo.EXITED=Ua;oo.ENTERING=Ha;oo.ENTERED=Su;oo.EXITING=D1;var bE=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return vE(t,r)})},b0=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return xE(t,r)})},$d=function(e){Xy(t,e);function t(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(a,u){var c=r.resolveArguments(a,u),h=c[0],p=c[1];r.removeClasses(h,"exit"),r.addClass(h,p?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(a,u)},r.onEntering=function(a,u){var c=r.resolveArguments(a,u),h=c[0],p=c[1],g=p?"appear":"enter";r.addClass(h,g,"active"),r.props.onEntering&&r.props.onEntering(a,u)},r.onEntered=function(a,u){var c=r.resolveArguments(a,u),h=c[0],p=c[1],g=p?"appear":"enter";r.removeClasses(h,g),r.addClass(h,g,"done"),r.props.onEntered&&r.props.onEntered(a,u)},r.onExit=function(a){var u=r.resolveArguments(a),c=u[0];r.removeClasses(c,"appear"),r.removeClasses(c,"enter"),r.addClass(c,"exit","base"),r.props.onExit&&r.props.onExit(a)},r.onExiting=function(a){var u=r.resolveArguments(a),c=u[0];r.addClass(c,"exit","active"),r.props.onExiting&&r.props.onExiting(a)},r.onExited=function(a){var u=r.resolveArguments(a),c=u[0];r.removeClasses(c,"exit"),r.addClass(c,"exit","done"),r.props.onExited&&r.props.onExited(a)},r.resolveArguments=function(a,u){return r.props.nodeRef?[r.props.nodeRef.current,a]:[a,u]},r.getClassNames=function(a){var u=r.props.classNames,c=typeof u=="string",h=c&&u?u+"-":"",p=c?""+h+a:u[a],g=c?p+"-active":u[a+"Active"],x=c?p+"-done":u[a+"Done"];return{baseClassName:p,activeClassName:g,doneClassName:x}},r}var n=t.prototype;return n.addClass=function(i,s,o){var a=this.getClassNames(s)[o+"ClassName"],u=this.getClassNames("enter"),c=u.doneClassName;s==="appear"&&o==="done"&&c&&(a+=" "+c),o==="active"&&i&&M_(i),a&&(this.appliedClasses[s][o]=a,bE(i,a))},n.removeClasses=function(i,s){var o=this.appliedClasses[s],a=o.base,u=o.active,c=o.done;this.appliedClasses[s]={},a&&b0(i,a),u&&b0(i,u),c&&b0(i,c)},n.render=function(){var i=this.props;i.classNames;var s=Yy(i,["classNames"]);return en.createElement(oo,Cp({},s,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(en.Component);$d.defaultProps={classNames:""};$d.propTypes={};function wE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jy(e,t){var n=function(s){return t&&N.isValidElement(s)?t(s):s},r=Object.create(null);return e&&N.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function _E(e,t){e=e||{},t=t||{};function n(h){return h in t?t[h]:e[h]}var r=Object.create(null),i=[];for(var s in e)s in t?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var u in t){if(r[u])for(o=0;o<r[u].length;o++){var c=r[u][o];a[r[u][o]]=n(c)}a[u]=n(u)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function Ja(e,t,n){return n[t]!=null?n[t]:e.props[t]}function SE(e,t){return Jy(e.children,function(n){return N.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Ja(n,"appear",e),enter:Ja(n,"enter",e),exit:Ja(n,"exit",e)})})}function CE(e,t,n){var r=Jy(e.children),i=_E(t,r);return Object.keys(i).forEach(function(s){var o=i[s];if(N.isValidElement(o)){var a=s in t,u=s in r,c=t[s],h=N.isValidElement(c)&&!c.props.in;u&&(!a||h)?i[s]=N.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Ja(o,"exit",e),enter:Ja(o,"enter",e)}):!u&&a&&!h?i[s]=N.cloneElement(o,{in:!1}):u&&a&&N.isValidElement(c)&&(i[s]=N.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:Ja(o,"exit",e),enter:Ja(o,"enter",e)}))}}),i}var kE=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},jE={component:"div",childFactory:function(t){return t}},Xp=function(e){Xy(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=s.handleExited.bind(wE(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,u=s.firstRender;return{children:u?SE(i,a):CE(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=Jy(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var u=Cp({},a.children);return delete u[i.key],{children:u}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=Yy(i,["component","childFactory"]),u=this.state.contextValue,c=kE(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?en.createElement(kp.Provider,{value:u},c):en.createElement(kp.Provider,{value:u},en.createElement(s,a,c))},t}(en.Component);Xp.propTypes={};Xp.defaultProps=jE;const jp=nr(e=>({isActivated:!1,messages:[],addToast:(t,n)=>e(r=>({messages:[...r.messages,{message:t,tag:n}]})),clearToast:t=>e(n=>(typeof t=="number"?n.messages=[...n.messages.slice(0,t),...n.messages.slice(t+1)]:n.messages=n.messages.filter(r=>r.tag!==t),{messages:n.messages}))})),Ep=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17,height:17,viewBox:"-0.1 -1.2 11.985078811645508 17",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,27.999998092651367)"},N.createElement("path",{d:"M5.99254,27.999999046325684Q5.61809,27.999999046325684,5.37737,27.753899046325685Q5.13664,27.507799046325683,5.13664,27.124999046325684L5.13664,26.605499046325683Q3.63883,26.277299046325684,2.70269,25.10159904632568Q1.73981,23.925779046325683,1.71306,22.312499046325684L1.71306,21.792969046325684Q1.68632,19.824219046325684,0.429221,18.320309046325683L0.215247,18.074219046325684Q-0.13246,17.664059046325683,0.0815138,17.144529046325683Q0.322234,16.652339046325682,0.857169,16.624999046325684L11.1279,16.624999046325684Q11.6628,16.652339046325682,11.9036,17.144529046325683Q12.1175,17.664059046325683,11.7698,18.074219046325684L11.5826,18.320309046325683Q10.2988,19.796869046325682,10.272,21.792969046325684L10.272,22.312499046325684Q10.2453,23.925779046325683,9.28239,25.10159904632568Q8.34625,26.277299046325684,6.84843,26.605499046325683L6.84843,27.124999046325684Q6.84843,27.507799046325683,6.60771,27.753899046325685Q6.36699,27.999999046325684,5.99254,27.999999046325684ZM7.19614,14.519530046325684Q7.70433,15.039059046325683,7.70433,15.749999046325684L5.99254,15.749999046325684L4.28075,15.749999046325684Q4.28075,15.039059046325683,4.78894,14.519530046325684Q5.29713,13.999999046325684,5.99254,13.999999046325684Q6.68796,13.999999046325684,7.19614,14.519530046325684Z",fill:"currentColor",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function Zy(){const e=jp(n=>n.messages),t=jp(n=>n.clearToast);return f.jsx("div",{className:"fixed top-2 right-2 z-100 max-w-screen",children:f.jsx(Xp,{className:"flex gap-2 flex-col-reverse",children:e.slice(-3).map((n,r)=>f.jsx($d,{timeout:300,classNames:"toast",children:f.jsx(EE,{toast:n,closeToast:()=>t(r)})},`${r} : ${n}`))})})}function EE({toast:e,closeToast:t}){return f.jsxs("div",{className:"flex justify-between items-center gap-2 p-4 ml-2 bg-white text-black rounded-lg shadow-md",children:[f.jsx(Ep,{className:"w-4 h-4 text-blue-500"}),f.jsx("span",{className:"flex-1 text-sm font-bold truncate max-w-72",children:e.message}),f.jsx("button",{"aria-label":"닫기",onClick:t,className:"p-2 rounded-full hover:bg-blue-100",children:f.jsx(Gy,{})})]})}const TE=e=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("g",{clipPath:"url(#clip0_3195_1180)"},N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3.66667C7.3975 3.66667 3.66667 7.3975 3.66667 12C3.66667 16.6025 7.3975 20.3333 12 20.3333C16.6025 20.3333 20.3333 16.6025 20.3333 12C20.3333 7.3975 16.6025 3.66667 12 3.66667ZM2 12C2 6.47708 6.47708 2 12 2C17.5229 2 22 6.47708 22 12C22 17.5229 17.5229 22 12 22C6.47708 22 2 17.5229 2 12Z",fill:"#9CA3AF"}),N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.9929 20.9465C9.91235 20.8424 9.91235 19.9154 9.9929 18.1657C9.12985 18.1957 8.58443 18.1359 8.35665 17.9861C8.0154 17.7615 7.67332 17.0695 7.3704 16.5815C7.06749 16.0936 6.39415 16.0165 6.12249 15.9074C5.85082 15.7986 5.78249 15.354 6.87124 15.6899C7.95999 16.0261 8.0129 16.942 8.35665 17.1557C8.7004 17.3699 9.52165 17.2765 9.89374 17.1049C10.2658 16.9332 10.2383 16.2949 10.305 16.042C10.3887 15.8057 10.0929 15.7532 10.0867 15.7515C9.7229 15.7515 7.81415 15.3361 7.28957 13.4878C6.7654 11.639 7.44082 10.4307 7.80124 9.91155C8.04124 9.56488 8.01999 8.82682 7.73749 7.69738C8.76415 7.56571 9.55624 7.88877 10.1137 8.66655C10.1146 8.67071 10.8454 8.23196 12 8.23196C13.1546 8.23196 13.5646 8.58946 13.8808 8.66655C14.1971 8.74363 14.45 7.30571 16.4029 7.69738C15.995 8.49863 15.6537 9.49988 15.9142 9.91155C16.175 10.3228 17.1975 11.6311 16.5696 13.4878C16.1504 14.7253 15.3269 15.4799 14.0992 15.7515C13.9586 15.7965 13.8883 15.869 13.8883 15.969C13.8883 16.119 14.0783 16.1353 14.3525 16.8382C14.5358 17.3065 14.5492 18.6447 14.3925 20.8528C13.9961 20.9536 13.6878 21.0214 13.4675 21.0561C13.0771 21.1174 12.6529 21.152 12.2362 21.1649C11.8196 21.1782 11.675 21.177 11.0987 21.1232C10.7266 21.0892 10.3571 21.0302 9.9929 20.9465Z",fill:"#9CA3AF"}))),NE=e=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M7.8 2H16.2C19.4 2 22 4.6 22 7.8V16.2C22 17.7383 21.3889 19.2135 20.3012 20.3012C19.2135 21.3889 17.7383 22 16.2 22H7.8C4.6 22 2 19.4 2 16.2V7.8C2 6.26174 2.61107 4.78649 3.69878 3.69878C4.78649 2.61107 6.26174 2 7.8 2ZM7.6 4C6.64522 4 5.72955 4.37928 5.05442 5.05442C4.37928 5.72955 4 6.64522 4 7.6V16.4C4 18.39 5.61 20 7.6 20H16.4C17.3548 20 18.2705 19.6207 18.9456 18.9456C19.6207 18.2705 20 17.3548 20 16.4V7.6C20 5.61 18.39 4 16.4 4H7.6ZM17.25 5.5C17.5815 5.5 17.8995 5.6317 18.1339 5.86612C18.3683 6.10054 18.5 6.41848 18.5 6.75C18.5 7.08152 18.3683 7.39946 18.1339 7.63388C17.8995 7.8683 17.5815 8 17.25 8C16.9185 8 16.6005 7.8683 16.3661 7.63388C16.1317 7.39946 16 7.08152 16 6.75C16 6.41848 16.1317 6.10054 16.3661 5.86612C16.6005 5.6317 16.9185 5.5 17.25 5.5ZM12 7C13.3261 7 14.5979 7.52678 15.5355 8.46447C16.4732 9.40215 17 10.6739 17 12C17 13.3261 16.4732 14.5979 15.5355 15.5355C14.5979 16.4732 13.3261 17 12 17C10.6739 17 9.40215 16.4732 8.46447 15.5355C7.52678 14.5979 7 13.3261 7 12C7 10.6739 7.52678 9.40215 8.46447 8.46447C9.40215 7.52678 10.6739 7 12 7ZM12 9C11.2044 9 10.4413 9.31607 9.87868 9.87868C9.31607 10.4413 9 11.2044 9 12C9 12.7956 9.31607 13.5587 9.87868 14.1213C10.4413 14.6839 11.2044 15 12 15C12.7956 15 13.5587 14.6839 14.1213 14.1213C14.6839 13.5587 15 12.7956 15 12C15 11.2044 14.6839 10.4413 14.1213 9.87868C13.5587 9.31607 12.7956 9 12 9Z",fill:"#9CA3AF"})),PE=e=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M5.679 18.123C3.093 16.566 1.5 14.112 1.5 11.405C1.501 6.701 6.249 3 12.001 3C17.753 3 22.501 6.701 22.501 11.405C22.501 16.109 17.753 19.81 12.001 19.81C11.559 19.81 11.1197 19.7883 10.683 19.745L6.918 22.203C6.303 22.529 5.961 22.628 5.433 22.269C4.813 21.845 4.837 21.377 5.051 20.709L5.679 18.123ZM3.5 11.405C3.5 13.537 4.918 15.528 7.281 16.725L7.987 17.084L7.801 17.854L7.4 19.502L10.2 17.672L10.565 17.718C11.039 17.7793 11.5173 17.81 12 17.81C16.741 17.81 20.5 14.88 20.5 11.405C20.5 7.93 16.742 5 12.001 5C7.26 5 3.5 7.93 3.5 11.405ZM17.908 11.059L19.422 13.214C19.4577 13.2648 19.483 13.322 19.4965 13.3826C19.51 13.4431 19.5115 13.5057 19.5008 13.5668C19.4901 13.6279 19.4675 13.6863 19.4342 13.7387C19.401 13.791 19.3578 13.8363 19.307 13.872C19.2562 13.9077 19.199 13.933 19.1384 13.9465C19.0779 13.96 19.0153 13.9615 18.9542 13.9508C18.8931 13.9401 18.8347 13.9175 18.7823 13.8842C18.73 13.851 18.6847 13.8078 18.649 13.757L17.221 11.724L16.794 12.137V13.5C16.794 13.6252 16.7443 13.7452 16.6558 13.8338C16.5672 13.9223 16.4472 13.972 16.322 13.972C16.1968 13.972 16.0768 13.9223 15.9882 13.8338C15.8997 13.7452 15.85 13.6252 15.85 13.5V12.061C15.8334 11.9879 15.8334 11.9121 15.85 11.839V9.282C15.85 9.15682 15.8997 9.03676 15.9882 8.94825C16.0768 8.85973 16.1968 8.81 16.322 8.81C16.4472 8.81 16.5672 8.85973 16.6558 8.94825C16.7443 9.03676 16.794 9.15682 16.794 9.282V10.824L18.722 8.958C18.8128 8.87613 18.9319 8.83271 19.0541 8.83689C19.1763 8.84107 19.2922 8.89252 19.3772 8.98041C19.4622 9.06829 19.5098 9.18575 19.51 9.30804C19.5101 9.43033 19.4628 9.54791 19.378 9.636L17.908 11.059ZM14.95 12.984C15.0752 12.984 15.1952 13.0337 15.2838 13.1222C15.3723 13.2108 15.422 13.3308 15.422 13.456C15.422 13.5812 15.3723 13.7012 15.2838 13.7898C15.1952 13.8783 15.0752 13.928 14.95 13.928H13.018C12.956 13.9281 12.8946 13.916 12.8374 13.8923C12.7801 13.8686 12.7281 13.8339 12.6843 13.79C12.6405 13.7461 12.6059 13.694 12.5823 13.6367C12.5587 13.5794 12.5467 13.518 12.547 13.456V9.297C12.5441 9.23325 12.5541 9.16958 12.5765 9.10981C12.5988 9.05005 12.6331 8.99544 12.6772 8.9493C12.7212 8.90315 12.7742 8.86641 12.8329 8.84132C12.8915 8.81622 12.9547 8.80328 13.0185 8.80328C13.0823 8.80328 13.1455 8.81622 13.2041 8.84132C13.2628 8.86641 13.3158 8.90315 13.3598 8.9493C13.4039 8.99544 13.4382 9.05005 13.4605 9.10981C13.4829 9.16958 13.4929 9.23325 13.49 9.297V12.984H14.95ZM9.093 11.893H10.427L9.789 10.185L9.093 11.893ZM11.616 12.38L11.961 13.305C11.9848 13.3635 11.9967 13.4262 11.9958 13.4893C11.995 13.5525 11.9815 13.6148 11.9561 13.6727C11.9308 13.7305 11.8941 13.7827 11.8482 13.8261C11.8023 13.8694 11.7481 13.9032 11.689 13.9253C11.6298 13.9474 11.5668 13.9574 11.5037 13.9546C11.4406 13.9519 11.3787 13.9366 11.3216 13.9095C11.2645 13.8825 11.2135 13.8442 11.1715 13.7971C11.1295 13.7499 11.0973 13.6948 11.077 13.635L10.779 12.836H8.709L8.377 13.649C8.35356 13.7064 8.31904 13.7586 8.27543 13.8026C8.23181 13.8467 8.17994 13.8817 8.12279 13.9057C8.06563 13.9297 8.00431 13.9422 7.94232 13.9425C7.88033 13.9428 7.81889 13.9309 7.7615 13.9075C7.70411 13.8841 7.6519 13.8495 7.60785 13.8059C7.56381 13.7623 7.52878 13.7104 7.50478 13.6533C7.48077 13.5961 7.46826 13.5348 7.46796 13.4728C7.46765 13.4108 7.47956 13.3494 7.503 13.292L9.165 9.217C9.21605 9.08531 9.30573 8.97215 9.42227 8.89237C9.53882 8.81259 9.67677 8.76994 9.818 8.77C9.95833 8.7758 10.0936 8.8243 10.2056 8.90899C10.3176 8.99369 10.4012 9.11057 10.445 9.244L11.491 12.044C11.5723 12.1308 11.6177 12.2451 11.618 12.364L11.616 12.38ZM8.294 9.302C8.294 9.562 8.084 9.774 7.823 9.774H6.683V13.51C6.683 13.6353 6.63322 13.7555 6.54461 13.8441C6.456 13.9327 6.33581 13.9825 6.2105 13.9825C6.08518 13.9825 5.965 13.9327 5.87639 13.8441C5.78778 13.7555 5.738 13.6353 5.738 13.51V9.774H4.578C4.45282 9.774 4.33276 9.72427 4.24425 9.63575C4.15573 9.54724 4.106 9.42718 4.106 9.302C4.106 9.17682 4.15573 9.05676 4.24425 8.96825C4.33276 8.87973 4.45282 8.83 4.578 8.83H7.823C8.083 8.83 8.294 9.041 8.294 9.302Z",fill:"#9CA3AF"})),OE=[{title:"고객지원",children:[{title:"ALLCLL 소개",href:"/about"},{title:"자주 묻는 질문",href:"/faq"},{title:"오류 및 제안",href:"https://forms.gle/bCDTVujEHunnvHe88"},{title:"allcllclla@google.com"}]}],LE=[{icon:f.jsx(TE,{className:"w-8 h-8 m-2"}),title:"올클 github",href:"https://github.com/allcll"},{icon:f.jsx(PE,{className:"w-8 h-8 m-2"}),title:"올클 오픈채팅",href:"https://open.kakao.com/o/g3MztXfh"},{icon:f.jsx(NE,{className:"w-8 h-8 m-2"}),title:"올클 instagram",href:"https://www.instagram.com/sejong_allcll"}];function ev(){return f.jsxs("footer",{className:"bg-white text-center text-sm text-gray-500",children:[f.jsxs("div",{className:"mx-auto max-w-7xl px-4 md:px-16 py-12 grid md:grid-cols-3 gap-6 text-center md:text-left",children:[f.jsxs("div",{className:"mx-auto md:mx-0",children:[f.jsxs("div",{className:"flex items-center mb-2 h-fit justify-center md:justify-start",children:[f.jsx("img",{src:"/ci.svg",className:"w-6 h-6 mr-2",alt:"ci"}),f.jsx("img",{src:"/logo-name.svg",alt:"logo",className:"h-5"})]}),f.jsx("ul",{className:"flex items-center",children:LE.map(({icon:e,title:t,href:n})=>f.jsx("li",{children:f.jsx("a",{href:n,className:"h-fit rounded-md hover:bg-gray-200","aria-label":t,title:t,children:e})},t))})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold mb-4",children:"서비스"}),f.jsx("ul",{children:I_.map(({title:e,path:t,end:n})=>f.jsx("li",{className:"mb-1",children:f.jsx(fl,{to:t,end:n,className:"hover:text-blue-500 hover:underline hover:font-bold",children:e})},e))})]}),OE.map((e,t)=>f.jsxs("div",{className:"mb-4",children:[f.jsx("h3",{className:"font-bold mb-4",children:e.title}),f.jsx("ul",{children:e.children.map((n,r)=>f.jsx("li",{className:"mb-1",children:n.href?n.href.startsWith("http")?f.jsx("a",{className:"hover:text-blue-500 hover:underline hover:font-bold",href:n.href,target:"_blank",children:n.title}):f.jsx(Or,{to:n.href,className:"hover:text-blue-500 hover:underline hover:font-bold",children:n.title}):f.jsx("p",{children:n.title})},r))})]},t))]}),f.jsx("p",{className:"pb-12",children:"© 2025 ALLCLL. All rights reserved."})]})}const AE=1.5*1e3,F_=5,Nr=nr(e=>({needCount:0,alwaysReload:!1,forceReloadNumber:0,errorCount:0,isError:!1,isPending:!0,addNeedCount:()=>e(t=>({needCount:t.needCount+1})),deleteNeedCount:()=>e(t=>({needCount:Math.max(0,t.needCount-1)})),setAlwaysReload:t=>e({alwaysReload:t}),setForceReload:()=>e(t=>({forceReloadNumber:t.forceReloadNumber+1,errorCount:0,isError:!1})),setError:()=>e(({errorCount:t,isPending:n})=>({errorCount:t+1,isError:t+1>=F_,isPending:n||t>1})),resetError:()=>e({errorCount:0,isError:!1,isPending:!1})}));function DE(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var s;const o=u=>u===null?null:JSON.parse(u,void 0),a=(s=n.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const I1=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return I1(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return I1(r)(n)}}}},IE=(e,t)=>(n,r,i)=>{let s={storage:DE(()=>localStorage),partialize:S=>S,version:0,merge:(S,C)=>({...C,...S}),...t},o=!1;const a=new Set,u=new Set;let c=s.storage;if(!c)return e((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...S)},r,i);const h=()=>{const S=s.partialize({...r()});return c.setItem(s.name,{state:S,version:s.version})},p=i.setState;i.setState=(S,C)=>{p(S,C),h()};const g=e((...S)=>{n(...S),h()},r,i);i.getInitialState=()=>g;let x;const w=()=>{var S,C;if(!c)return;o=!1,a.forEach(L=>{var A;return L((A=r())!=null?A:g)});const E=((C=s.onRehydrateStorage)==null?void 0:C.call(s,(S=r())!=null?S:g))||void 0;return I1(c.getItem.bind(c))(s.name).then(L=>{if(L)if(typeof L.version=="number"&&L.version!==s.version){if(s.migrate){const A=s.migrate(L.state,L.version);return A instanceof Promise?A.then(B=>[!0,B]):[!0,A]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,L.state];return[!1,void 0]}).then(L=>{var A;const[B,$]=L;if(x=s.merge($,(A=r())!=null?A:g),n(x,!0),B)return h()}).then(()=>{E?.(x,void 0),x=r(),o=!0,u.forEach(L=>L(x))}).catch(L=>{E?.(void 0,L)})};return i.persist={setOptions:S=>{s={...s,...S},S.storage&&(c=S.storage)},clearStorage:()=>{c?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:S=>(a.add(S),()=>{a.delete(S)}),onFinishHydration:S=>(u.add(S),()=>{u.delete(S)})},s.skipHydration||w(),x||g},B_=IE,RE=()=>{if(!(typeof window>"u"||typeof navigator>"u"))return navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate},Mc=RE(),tv={canNotify(){return!!Mc},isGranted(){return this.canNotify()},requestPermission(e){this.isGranted()?e?.("granted"):e?.("denied")},getDeniedMessage(){return this.canNotify()?[]:["이 브라우저는 진동 알림을 지원하지 않습니다."]},show(e,t){const n=Sd(Qo.VIBRATE);Mc&&n&&Mc.call(navigator,[200])},close(e){Mc&&Mc.call(navigator,0)}};var Yr=(e=>(e[e.NONE=0]="NONE",e[e.BROWSER=1]="BROWSER",e[e.TOAST=2]="TOAST",e[e.BOTH=3]="BOTH",e))(Yr||{}),Qo=(e=>(e[e.NONE=0]="NONE",e[e.VIBRATE=1]="VIBRATE",e[e.SOUND=2]="SOUND",e[e.ALL=3]="ALL",e))(Qo||{});const ME=()=>/Mobi|Android/i.test(navigator.userAgent),nw=()=>{const e="Notification"in window,t=ME();return 1*Number(e)+2*Number(t)},rw=()=>{const e=tv.canNotify();return 1*Number(e)+2},xs=nr()(B_(e=>({alarmType:nw(),subAlarmType:rw(),saveSettings:t=>e(n=>({...n,...t})),resetSettings:()=>e(()=>({alarmType:nw(),subAlarmType:rw()}))}),{name:"AlarmSettings",partialize:e=>({alarmType:e.alarmType,subAlarmType:e.subAlarmType})}));function R1(e){return!!(xs.getState().alarmType&e)}function Sd(e){return!!(xs.getState().subAlarmType&e)}const Xo=nr(e=>({isOpen:!1,isPermitted:!1,open:()=>e({isOpen:!0}),close:()=>e({isOpen:!1}),setPermitted:t=>e({isPermitted:t})}));function FE(){return f.jsxs(f.Fragment,{children:["알림이 울리지 않나요?  ",f.jsx(Or,{to:"/faq#0",className:"text-blue-500 underline hover:text-blue-600",children:"문제 해결하기"})]})}const Qa={canNotify(){return"Notification"in window},isGranted(){return Notification.permission==="granted"},requestPermission(e){if(!Qa.canNotify()){alert("해당 브라우저는 브라우저 알림을 받을 수 없습니다. 다른 브라우저를 이용해주세요");return}if(!Qa.isGranted()){Notification.requestPermission().then(t=>{e&&e(t),Xo.getState().setPermitted(t==="granted")});return}e&&e(Notification.permission)},getDeniedMessage(){return Qa.canNotify()?Qa.isGranted()?[]:["브라우저 알림이 차단되어 있습니다. 브라우저의 알림 권한을 허용해주세요"]:["해당 브라우저는 브라우저 알림을 지원하지 않습니다"]},show(e,t){const n=R1(Yr.BROWSER),r=Sp.getState().setBanner;n&&Notification.permission==="granted"&&(zE(r),navigator.serviceWorker.ready.then(function(i){i.showNotification(e,{badge:"/ci.svg",tag:t}).then()}))},close(e){!Qa.canNotify()||!Qa.isGranted()||navigator.serviceWorker.ready.then(function(t){t.getNotifications({tag:e}).then(function(n){n.forEach(function(r){r.close()})})})}},BE=1e3*60*60*24;function zE(e){const t="alarm-check",n=localStorage.getItem(t);n&&Date.now()-Number(n)<100*BE||setTimeout(()=>{e(FE(),()=>{localStorage.setItem(t,Date.now().toString())})},5e3)}const $E={canNotify(){return!0},isGranted(){return!0},requestPermission(e){},getDeniedMessage(){return[]},show(e,t){const n=jp.getState().addToast;n&&n(e,t)},close(e){const t=jp.getState().clearToast;t(e)}},UE="/notification.mp3";let Xi=null;const HE=()=>{typeof Audio<"u"&&!Xi&&(Xi=new Audio(UE),Xi.preload="auto",Xi.volume=1,Xi.load())};HE();const QE={canNotify(){return typeof Audio<"u"},isGranted(){return this.canNotify()},requestPermission(e){this.isGranted()?e?.("granted"):e?.("denied")},getDeniedMessage(){return this.canNotify()?[]:["이 브라우저는 소리 알림을 지원하지 않습니다."]},show(e,t){this.canNotify()&&Xi&&(Xi.currentTime=0,Xi.play().catch(n=>{console.warn("Failed to play notification sound:",n)}))},close(e){Xi&&(Xi.pause(),Xi.currentTime=0)}};let iw=!1;function iu(){const e=[],t=R1(Yr.BROWSER),n=R1(Yr.TOAST),r=Sd(Qo.VIBRATE),i=Sd(Qo.SOUND);return t&&e.push(Qa),n&&e.push($E),r&&e.push(tv),i&&e.push(QE),e}const ci={canNotify(){return iu().every(e=>e.canNotify())},isGranted(){const e=iu().every(t=>t.isGranted());return Xo.getState().setPermitted(e),e},requestPermission(e){ci.isGranted()||(iu().forEach(t=>t.requestPermission(e)),Xo.getState().open())},getDeniedMessage(){return iu().flatMap(e=>e.getDeniedMessage())},show(e,t){xs.getState().alarmType!==Yr.NONE&&iu().forEach(r=>r.show(e,t))},close(e){iu().forEach(t=>t.close(e))}};function VE(e,t,n){const{alwaysReload:r}=Nr.getState();if(!(!e||!t||!r)){for(const i of t)if(e.some(o=>o.subjectId===i.subjectId&&o.seatCount===0&&i.seatCount>0)){const o=WE(n,i.subjectId);if(!o){ci.show("unknown subject의 여석이 생겼습니다");return}ci.show(`${o.subjectCode}-${o.classCode} ${o.subjectName} 여석이 생겼습니다`)}}}function WE(e,t){return(e.getQueryData(["wishlist"])?.baskets??[]).find(r=>r.subjectId===t)}let xf=null,sw=1;function ow(e){const t="global-notification_"+sw,n="global-notification_"+ ++sw;xf&&(clearTimeout(xf),ci.close(t),xf=null),ci.show(e,n),xf=setTimeout(()=>ci.close(n),3e3)}function qE(){const e=Nr(i=>i.alwaysReload),t=Nr(i=>i.setAlwaysReload),n=e;return N.useEffect(()=>{iw||(ci.isGranted()&&(ow("알림 기능이 활성화되었습니다. 여석이 생기면 이렇게 알림을 보내드려요"),t(!0)),iw=!0)},[]),{isAlarm:n,changeAlarm:()=>{if(!n){if(xs.getState().alarmType===Yr.NONE){if(!confirm("알림 기능을 활성화 하시겠습니까?"))return;xs.getState().resetSettings()}ci.requestPermission()}const i=n?"알림 기능이 비활성화되었습니다":"알림 기능이 활성화되었습니다";t(!n),ow(i)}}}const Jp="https://dev.allcll.kr";async function Zp(e,t){return await fetch(Jp+e,{credentials:"include",...t})}async function ao(e,t){const n=await fetch(Jp+e,{credentials:"include",...t,headers:{"Content-Type":"application/json",...t?.headers}});if(!n.ok)throw new Error(await n.text());return await n.json()}async function KE(e,t,n){const r=await fetch(Jp+e,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"},body:t?JSON.stringify(t):void 0,...n});if(!r.ok)throw new Error(await r.text());return r.status===204?null:await r.json()}function GE(e,t){return new EventSource(Jp+e,{withCredentials:!0,...t})}async function nv(e,t){const n=await fetch(e,{credentials:"include",...t});if(!n.ok)throw new Error(await n.text());return await n.json()}var rv=(e=>(e.IDLE="idle",e.LIVE="live",e))(rv||{});const YE=3e3;let bf=null;const Eu=nr(e=>({lastUpdate:new Date,sseState:"live",updated:()=>{e({lastUpdate:new Date,sseState:"live"}),bf&&clearInterval(bf),bf=setTimeout(()=>{e({sseState:"idle"}),bf=null},YE)}}));var em=(e=>(e.NON_MAJOR="nonMajorSeats",e.MAJOR="majorSeats",e.PINNED="pinSeats",e))(em||{});let wf=!1;const XE=()=>{const e=pi(),t=Nr(u=>u.needCount),n=Nr(u=>u.alwaysReload),r=Nr(u=>u.forceReloadNumber),i=Nr(u=>u.errorCount),s=Nr(u=>u.setError),o=Nr(u=>u.resetError),a=Nr(u=>u.isError);N.useEffect(()=>{const u=n||t>0;wf||!u||i>=F_||(wf=!0,JE(e,o).then(()=>{o(),wf=!1}).catch(()=>{wf=!1,i===0?s():setTimeout(s,AE)}))},[n,t,e,s,r,o,i]),N.useEffect(()=>{a&&ci.show("알림이 중지되었습니다. 다시 연결해주세요.")},[a])},JE=(e,t)=>new Promise((n,r)=>{const i=GE("/api/connect");return i.addEventListener("nonMajorSeats",s=>{const o=JSON.parse(s.data);if(!o)return;const a=o.seatResponses??[];e.setQueryData(["nonMajorSeats"],(u=[])=>aw(u,a)),Eu.getState().updated()}),i.addEventListener("majorSeats",s=>{const o=JSON.parse(s.data);if(!o)return;const a=o.seatResponses??[];e.setQueryData(["majorSeats"],(u=[])=>aw(u,a)),Eu.getState().updated()}),i.addEventListener("pinSeats",s=>{const o=JSON.parse(s.data);if(!o)return;const a=o.seatResponses??[];e.setQueryData(["pinSeats"],(u=[])=>{const c=ZE(u,a);return VE(u,c,e),c}),Eu.getState().updated()}),i.onopen=()=>{t(),Eu.getState().updated()},i.onerror=s=>{i.close(),r(new Error("SSE connection error: "+(s.type??"Unknown error")))},()=>{i.close(),n("SSE connection closed")}}),iv=e=>{const t=pi(),n=Nr(u=>u.addNeedCount),r=Nr(u=>u.deleteNeedCount),i=Nr(u=>u.isPending),s=Nr(u=>u.isError),o=Nr(u=>u.setForceReload);return N.useEffect(()=>{const u=()=>{document.visibilityState==="visible"?n():r()};return n(),document.addEventListener("visibilitychange",u),()=>{r(),document.removeEventListener("visibilitychange",u)}},[n,r]),{...rs({queryKey:[e],queryFn:()=>Promise.resolve(t.getQueryData([e])??[])}),isPending:i,isError:s,refetch:o}};function aw(e,t){const n=[];for(const r of t){const i=e.find(o=>o.subjectId===r.subjectId);!i||i.seatCount!==r.seatCount||i.queryTime!==r.queryTime?n.push(r):n.push(i)}return n}function ZE(e,t){const n=new Set;[...e,...t].forEach(i=>{n.add(i.subjectId)});const r=[];return n.forEach(i=>{const s=e.find(u=>u.subjectId===i),o=t.find(u=>u.subjectId===i);o&&(!s||s.queryTime!==o.queryTime||s.seatCount!==o.seatCount)?r.push(o):s&&r.push(s)}),r}const lw={idx:-1,key:""};function sv(){const e=Ss(),t=N.useRef(lw);N.useEffect(()=>{const n=window.history.state;(!n||n.idx>=t.current.idx)&&window.scrollTo(0,0),t.current=n??lw},[e.pathname]),XE()}function uw(){return sv(),f.jsxs(f.Fragment,{children:[f.jsx(Wn,{children:f.jsx("title",{children:"ALLCLL"})}),f.jsx(Zy,{}),f.jsx(qy,{}),f.jsx(R_,{}),f.jsx(My,{}),f.jsx(ev,{})]})}function eT(e){const t=rs({queryKey:["serviceSemester"],queryFn:tT,staleTime:1/0,select:r=>r?{...r,services:r.services.map(nT)}:null});if(!e||!t.data)return t;const n=t.data.services.find(r=>r.id===e);return{...t,data:{code:t.data.code,semester:t.data.semester,service:n}}}const tT=async()=>rT,nT=e=>{const t=new Date,n=new Date(e.startDate),r=new Date(e.endDate);n.setHours(0,0,0,0),r.setHours(23,59,59,999);const i=n<=t&&t<=r;return{id:e.id,startDate:n,endDate:r,withinPeriod:i,startDateStr:e.startDate,endDateStr:e.endDate,message:e.message}},rT={code:"FALL_25",semester:"2025-2",services:[{id:"timetable",startDate:"2025-07-18",endDate:"2025-12-31",message:null},{id:"baskets",startDate:"2025-07-18",endDate:"2025-12-31",message:null},{id:"simulation",startDate:"2025-07-18",endDate:"2025-12-31",message:null},{id:"live",startDate:"2025-08-01",endDate:"2025-09-30",message:null},{id:"preSeat",startDate:"2025-08-16",endDate:"2025-09-30",message:null}]},iT=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17.971202850341797,height:16.003124237060547,viewBox:"0 0 17.971202850341797 16.003124237060547",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,32.006248474121094)"},N.createElement("path",{d:"M17.9688,24.003124237060547Q17.9376,23.596874237060547,17.6568,23.315624237060547Q17.3761,23.034374237060547,16.9705,23.003124237060547L15.9723,23.003124237060547L16.0035,18.003124237060547Q15.9723,17.878124237060547,15.9723,17.753124237060547L15.9723,17.253124237060547Q15.9723,16.721874237060547,15.5979,16.378124237060547Q15.2548,16.003124237060547,14.7244,16.003124237060547L14.2253,16.003124237060547Q14.1629,16.003124237060547,14.1317,16.003124237060547Q14.0693,16.003124237060547,14.0069,16.003124237060547L12.9775,16.003124237060547L12.2288,16.003124237060547Q11.6984,16.003124237060547,11.3553,16.378124237060547Q10.9809,16.721874237060547,10.9809,17.253124237060547L10.9809,18.003124237060547L10.9809,20.003124237060547Q10.9809,20.440624237060547,10.7002,20.721874237060547Q10.4194,21.003124237060547,9.98267,21.003124237060547L7.98614,21.003124237060547Q7.54939,21.003124237060547,7.26863,20.721874237060547Q6.98787,20.440624237060547,6.98787,20.003124237060547L6.98787,18.003124237060547L6.98787,17.253124237060547Q6.98787,16.721874237060547,6.61352,16.378124237060547Q6.27036,16.003124237060547,5.74003,16.003124237060547L4.99133,16.003124237060547L3.99307,16.003124237060547Q3.96187,16.003124237060547,3.93068,16.003124237060547Q3.89948,16.003124237060547,3.86828,16.003124237060547Q3.80589,16.003124237060547,3.7435,16.003124237060547L3.24437,16.003124237060547Q2.71404,16.003124237060547,2.37088,16.378124237060547Q1.99653,16.721874237060547,1.99653,17.253124237060547L1.99653,20.753124237060547Q1.99653,20.784374237060547,1.99653,20.846874237060547L1.99653,23.003124237060547L0.998267,23.003124237060547Q0.561525,23.034374237060547,0.280763,23.315624237060547Q0,23.596874237060547,0,24.034374237060547Q0,24.440624237060547,0.311958,24.784374237060547L8.29809,31.753124237060547Q8.64125,32.034324237060545,8.9844,32.00312423706055Q9.35875,32.00312423706055,9.63952,31.78442423706055L17.6257,24.753124237060547Q18,24.440624237060547,17.9688,24.003124237060547Z",fill:"#FFFFFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function sT({data:e}){const t=e.service?.endDate&&e.service.endDate<new Date;return f.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 px-4",children:f.jsxs("main",{className:"text-center",children:[f.jsx("h1",{className:"text-3xl mb-4 font-bold text-gray-900",children:t?"수강신청 고생 많으셨습니다":"서비스 준비중입니다"}),f.jsxs("p",{className:"text-gray-600 mt-2",children:["현재는 서비스를 이용할 수 없습니다",f.jsx("br",{}),"다음 수강신청 기간에 더 나은 서비스로 찾아뵙겠습니다."]}),f.jsxs("div",{className:"mt-6 bg-white shadow-lg rounded-lg p-6 w-full max-w-md",children:[t?f.jsxs(f.Fragment,{children:[f.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[e.semester," 수강신청이 종료되었습니다"]}),f.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"수강 신청 기간 동안 고생 많으셨습니다"}),f.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"자세한 일정은 추후 공지 예정입니다"})]}):f.jsxs(f.Fragment,{children:[f.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"다음 서비스 기간 안내"}),f.jsxs("p",{className:"text-gray-600 mt-1",children:[e.semester," 수강신청"]}),f.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[e.service?.startDateStr," ~ ",e.service?.endDateStr]})]}),f.jsx("hr",{className:"my-4 border-gray-200"}),f.jsx("h3",{className:"text-md font-semibold text-gray-900",children:"문의"}),f.jsx("p",{className:"text-gray-600 flex items-center justify-center gap-2 mt-2",children:"allcllclla@google.com"}),f.jsx("a",{className:"text-gray-600 flex items-center justify-center gap-2 mt-1 hover:text-blue-500 hover:underline",href:"https://forms.gle/bCDTVujEHunnvHe88",target:"_blank",children:"오류 및 제안"}),f.jsx("a",{className:"text-gray-600 flex items-center justify-center gap-2 mt-1 hover:text-blue-500 hover:underline",href:"https://open.kakao.com/o/g3MztXfh",target:"_blank",children:"오픈 채팅"})]}),f.jsx("div",{className:"flex flex-col items-center justify-center",children:f.jsxs(Or,{to:"/",className:"flex items-center gap-2 mt-6 px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 cursor-pointer",children:[f.jsx(iT,{className:"w-4 h-4"}),"메인 페이지로 이동"]})})]})})}function z_({serviceId:e,children:t}){const{data:n,error:r}=eT(e);return r&&console.error("Semester service error:",r),!n||!("service"in n)||!n.service||n.service.withinPeriod?t:f.jsx(sT,{data:n})}function cw({serviceId:e}){return sv(),f.jsxs(f.Fragment,{children:[f.jsx(Zy,{}),f.jsx(qy,{}),f.jsxs(z_,{serviceId:e,children:[f.jsx(R_,{}),f.jsx(My,{})]}),f.jsx(ev,{})]})}const oT=[{name:"수강 및 변동신청",children:[{name:"수강신청 및 기타",children:[{name:"수강신청",path:"/simulation"},{name:"수강신청 결과",path:"/simulation/logs"},{name:"수강신청 관리",path:"/simulation/admin"},{name:"관심과목 담기",path:"#"},{name:"강의시간표/수업계획서 조회",path:"#"},{name:"등록이력조회/고지서출력",path:"#"},{name:"학적변동신청(휴학,복학등)",path:"#"}]}]}];function aT(){const[e,t]=N.useState(!0),[n]=N.useState(/Android|iPhone/i.test(navigator.userAgent)),r=()=>{t(i=>!i)};return f.jsx("aside",{className:(e?"relative z-10":"relative bg-blue-50 z-10")+(!e||n?" w-[20px] min-w-[20px] h-[calc(100vh-60px)]":" w-[230px] min-w-[230px]"),children:e?f.jsxs("div",{className:n?"absolute w-[300px] min-w-[300px] h-full bg-white shadow-gray-800 shadow-md":"bg-white",children:[f.jsxs("div",{className:"h-12 bg-blue-500 text-white text-lg font-semibold flex items-center justify-between px-4",children:[f.jsx("span",{children:"학부생학사정보"}),f.jsx("button",{className:"text-white hover:text-gray-200 cursor-pointer",onClick:r,children:"<"})]}),f.jsx("ul",{className:"flex flex-col text-sm",children:oT.map((i,s)=>f.jsx(lT,{menu:i},s))})]}):f.jsx("div",{children:f.jsx("button",{className:"w-full h-12 bg-blue-500 text-white text-lg font-semibold text-center cursor-pointer hover:text-gray-200",onClick:r,children:">"})})})}const $_=!0;function lT({menu:e}){const[t,n]=N.useState($_);return f.jsxs("li",{children:[f.jsxs("button",{className:"px-4 py-2 h-12 flex items-center justify-between w-full border-b border-neutral-300 cursor-pointer hover:bg-gray-100 "+(t?"font-semibold":"font-normal"),onClick:()=>n(r=>!r),children:[e.name,e.children&&f.jsx("span",{className:"ml-auto text-gray-500",children:t?"▲":"▼"})]}),t&&e.children&&f.jsx("ul",{className:"",children:e.children.map((r,i)=>f.jsx(uT,{menu:r},i))})]})}function uT({menu:e}){const[t,n]=N.useState($_);return f.jsxs("li",{className:"",children:[f.jsxs("button",{className:"px-4 py-2 h-10 flex items-center gap-4 w-full border-b border-neutral-300 cursor-pointer hover:bg-gray-100 "+(t?"font-semibold":"font-normal"),onClick:()=>n(r=>!r),children:[f.jsx("span",{children:t?"-":"+"}),f.jsx("span",{children:e.name})]}),t&&e.children&&f.jsx("ul",{className:"ml-1 pl-4 bg-neutral-100 font-semibold",children:e.children.map((r,i)=>f.jsx(cT,{menu:r},i))})]})}function cT({menu:e}){return f.jsx("li",{children:e.path==="#"?f.jsx("div",{className:"block px-2 py-2 text-xs text-gray-400 cursor-not-allowed",children:e.name}):f.jsx(fl,{to:e.path??"#",className:({isActive:t})=>`block px-2 py-2 text-xs cursor-pointer hover:bg-blue-500 hover:text-white ${t?"bg-blue-500 text-white":""}`,end:!0,children:e.name})})}const Tp=nr(e=>({tabs:[],setTab:t=>{e(({tabs:n})=>{const r=n.findIndex(i=>i.urlPath===t.urlPath);return r!==-1?n[r]=t:n.push(t),{tabs:[...n]}})},deleteTab:(t,n)=>{e(({tabs:r})=>{const i=r.filter(u=>u.urlPath!==t&&u.realUrl!==t),s=i.length?[...i]:[dT],o=window.location.pathname.replace(/\d+/,""),a=t===o?s[s.length-1]:null;return a&&n(a.realUrl,{replace:!0}),{tabs:s}})}})),M1=[{title:"수강신청",urlPath:"/simulation"},{title:"수강신청 결과",urlPath:"/simulation/logs"},{title:"상세 결과",urlPath:"/simulation/logs/"},{title:"관심과목 담기",urlPath:"/simulation/interest"},{title:"수강신청 관리",urlPath:"/simulation/admin"}],dT={...M1[0],realUrl:M1[0].urlPath};function hT(){const e=Gp(),t=Ss(),n=Tp(i=>i.tabs),r=Tp(i=>i.setTab);N.useEffect(()=>{if(n.length===0){const i=dw(t);r(i),e(i.realUrl)}},[n]),N.useEffect(()=>{r(dw(t))},[t.pathname])}function dw(e){const t=e.pathname.replace(/\d+/,"");return{title:M1.find(n=>n.urlPath===t)?.title||"알 수 없는 탭",urlPath:t,realUrl:e.pathname}}function fT(){const e=Tp(r=>r.tabs),t=Tp(r=>r.deleteTab),n=Gp();return hT(),f.jsx("div",{className:"flex border-b border-neutral-300 bg-gray-100 text-sm h-12",children:e.map(r=>f.jsxs(fl,{to:r.realUrl,className:({isActive:i})=>"px-2.5 flex items-center gap-2.5 w-1/4 sm:w-1/8 border-r-1 border-r-neutral-300 cursor-pointer"+(i?" mb-[-1px] bg-white border-b-2 border-b-white border-t-4 border-t-blue-500 font-semibold text-blue-500":" text-gray-500 hover:bg-white"),end:!0,children:[f.jsx("span",{className:"flex-1 text-center overflow-hidden text-ellipsis text-nowrap",children:r.title}),f.jsx("button",{className:"w-4 text-gray-700 cursor-pointer",onClick:i=>{i.preventDefault(),i.stopPropagation(),t(r.urlPath,n)},children:"x"})]},r.urlPath))})}function pT(){return sv(),f.jsxs(f.Fragment,{children:[f.jsx(Zy,{}),f.jsx(qy,{}),f.jsx(z_,{serviceId:"simulation",children:f.jsx("div",{className:"w-full bg-white text-sm text-gray-800 font-sans",children:f.jsxs("div",{className:"flex",children:[f.jsx(aT,{}),f.jsxs("div",{className:"flex-auto min-w-0",children:[f.jsx(fT,{}),f.jsx("main",{className:"flex-1 p-4 space-y-4 mx-auto max-w-screen-2xl overflow-x-hidden",children:f.jsx(My,{})})]})]})})}),f.jsx(ev,{})]})}function pl({bgColor:e,className:t,children:n}){const r=e??"even:bg-white ",i=t?` ${t}`:"";return f.jsx("section",{className:r,children:f.jsx("div",{className:`mx-auto max-w-7xl px-4 md:px-8 py-10 ${i}`,children:n})})}const U_=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:15.75,height:18,viewBox:"0 0 15.75 18",...e},N.createElement("defs",null,N.createElement("clipPath",{id:"master_svg0_85_3269"},N.createElement("rect",{x:0,y:0,width:15.75,height:18,rx:0}))),N.createElement("g",{clipPath:"url(#master_svg0_85_3269)"},N.createElement("g",{transform:"matrix(1,0,0,-1,0,32.2734375)"},N.createElement("g",null,N.createElement("path",{d:"M15.4336,22.07812875Q15.75,22.42968875,15.75,22.88671875Q15.75,23.34374875,15.4336,23.69530875L9.80859,29.32031875Q9.45703,29.63671875,9,29.63671875Q8.54297,29.63671875,8.19141,29.32031875Q7.875,28.96871875,7.875,28.51171875Q7.875,28.05471875,8.19141,27.70311875L11.918,24.01171875L1.125,24.01171875Q0.632812,24.01171875,0.316406,23.69530875Q0,23.37890875,0,22.88671875Q0,22.39452875,0.316406,22.07812875Q0.632812,21.76171875,1.125,21.76171875L11.918,21.76171875L8.19141,18.07030875Q7.875,17.71874875,7.875,17.26171875Q7.875,16.80468775,8.19141,16.45312475Q8.54297,16.13671875,9,16.13671875Q9.45703,16.13671875,9.80859,16.45312475L15.4336,22.07812875Z",fill:"#FFFFFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))))),mT=e=>N.createElement("svg",{width:16,height:15,viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M15.4336 8.19531C15.6445 7.96094 15.75 7.69141 15.75 7.38672C15.75 7.08203 15.6445 6.8125 15.4336 6.57812L9.80859 0.953125C9.57422 0.742191 9.30469 0.636719 9 0.636719C8.69531 0.636719 8.42578 0.742191 8.19141 0.953125C7.98047 1.18752 7.875 1.45705 7.875 1.76172C7.875 2.06639 7.98047 2.33591 8.19141 2.57031L11.918 6.26172H1.125C0.796875 6.26172 0.527344 6.36719 0.316406 6.57812C0.105469 6.78906 0 7.05859 0 7.38672C0 7.71485 0.105469 7.98438 0.316406 8.19531C0.527344 8.40625 0.796875 8.51172 1.125 8.51172H11.918L8.19141 12.2031C7.98047 12.4375 7.875 12.707 7.875 13.0117C7.875 13.3164 7.98047 13.5859 8.19141 13.8203C8.42578 14.0312 8.69531 14.1367 9 14.1367C9.30469 14.1367 9.57422 14.0312 9.80859 13.8203L15.4336 8.19531Z",fill:"#007AFF"}));function gT(){return f.jsxs(pl,{className:"flex flex-col md:flex-row items-center justify-between",bgColor:"bg-banner-skysoft",children:[f.jsxs("div",{className:"max-w-xl",children:[f.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[f.jsx("img",{src:"/calendar.png",alt:"calendar",className:"w-10 h-10"}),f.jsxs("span",{className:"italic text-xs text-stone-500 ",children:["2025학년도 2학기 수강 신청 기간 ",f.jsx("br",{})," 8월 11일(월) ~ 8월 18일(월)"]})]}),f.jsx("h2",{className:"text-xl mt-10 sm:text-2xl md:text-4xl leading-snug font-bold mb-3 ",children:"2025학년도 2학기 수강신청,"}),f.jsxs("div",{className:"flex flex-row justify-start items-center text-xl sm:text-2xl md:text-4xl leading-snug font-bold mb-3",children:[f.jsx("img",{src:"/logo-name.svg",alt:"logo-name",className:"w-20 sm:w-32 md:w-40 lg:w-48 mr-2 animate-updown"}),"이 도와드립니다!"]}),f.jsx("p",{className:"text-gray-400 mt-4",children:"시간표 만들기부터 수강 신청 연습, 실시간 여석 확인까지 ALLCLL이 여러분과 함께합니다"}),f.jsxs("div",{className:"flex flex-col md:flex-row gap-4 ",children:[f.jsxs(Or,{to:"/live",className:"bg-blue-500 hover:bg-blue-600 text-white rounded-md px-6 py-3 mt-6 flex items-center gap-2 w-fit",children:["실시간 여석 확인하기",f.jsx(U_,{className:"w-4 h-4"})]}),f.jsxs(Or,{to:"/simulation",className:"bg-white hover:bg-gray-100 text-blue-500 rounded-md px-6 py-3 mt-6 flex items-center gap-2 w-fit",children:["수강 신청 연습하기",f.jsx(mT,{className:"w-4 h-4"})]})]})]}),f.jsx("img",{src:"/summer-banner.png",alt:"summer-banner",className:"w-90 hidden sm:block  mt-8 md:mt-4"})]})}const yT=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:15,height:15,viewBox:"0 0 15 15",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,30)"},N.createElement("path",{d:"M10.3125,30Q9.69727,29.9707,9.43359,29.414099999999998Q9.22852,28.8574,9.63867,28.3887L10.8691,27.1875L5.88867,22.23633Q5.625,21.94336,5.625,21.5625Q5.625,21.18164,5.88867,20.88867Q6.18164,20.625,6.5625,20.625Q6.94336,20.625,7.23633,20.88867L12.1875,25.8691L13.3887,24.638669999999998Q13.8574,24.22852,14.4141,24.433590000000002Q14.9707,24.69727,15,25.3125L15,29.0625Q15,29.4727,14.7363,29.7363Q14.4727,30,14.0625,30L10.3125,30ZM2.34375,29.0625Q1.34766,29.0332,0.673828,28.3887Q0.0292969,27.7148,0,26.7188L0,17.34375Q0.0292969,16.34766,0.673828,15.673828Q1.34766,15.0292969,2.34375,15L11.7188,15Q12.7148,15.0292969,13.3887,15.673828Q14.0332,16.34766,14.0625,17.34375L14.0625,20.625Q14.0625,21.03516,13.7988,21.29883Q13.5352,21.5625,13.125,21.5625Q12.7148,21.5625,12.4512,21.29883Q12.1875,21.03516,12.1875,20.625L12.1875,17.34375Q12.1582,16.9043,11.7188,16.875L2.34375,16.875Q1.9043,16.9043,1.875,17.34375L1.875,26.7188Q1.9043,27.1582,2.34375,27.1875L5.625,27.1875Q6.03516,27.1875,6.29883,27.4512Q6.5625,27.7148,6.5625,28.125Q6.5625,28.5352,6.29883,28.7988Q6.03516,29.0625,5.625,29.0625L2.34375,29.0625Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function tm({title:e,subtitle:t,href:n,disabled:r=!1}){const i=!!n&&!r;return f.jsxs(f.Fragment,{children:[i?f.jsxs(Or,{to:n,className:"flex items-center gap-2 hover:underline focus:underline",children:[f.jsx("h2",{className:"text-2xl font-semibold",children:e}),f.jsx(yT,{className:"w-4 h-4"})]}):f.jsx("h2",{className:"text-2xl font-semibold",children:e}),t&&f.jsx("h3",{className:"text-gray-500",children:t})]})}function Np({children:e,className:t,...n}){return f.jsx("div",{className:"bg-white p-3 rounded-md text-sm shadow-md shadow-gray-300 "+t,...n,children:e})}function H_(e,t){const n=vt(c=>c.options),[r,i]=N.useState({dragging:!1,startX:0,startY:0}),s=N.useCallback(c=>{c.stopPropagation();const{x:h,y:p}=_f(c,n);e&&e(h,p,h,p),i({startX:h,startY:p,dragging:!0})},[e]),o=c=>{c.stopPropagation();const{x:h,y:p}=_f(c,n);t&&t(r.startX,r.startY,h,p),i(g=>({...g,dragging:!1}))},a=c=>{c.stopPropagation();const{x:h,y:p}=_f(c,n);e&&e(r.startX,r.startY,h,p)},u=c=>{c.stopPropagation();const h=c.touches[0],{x:p,y:g}=_f(h,n);e&&e(r.startX,r.startY,p,g)};return N.useEffect(()=>{if(r.dragging)return document.addEventListener("mouseup",o),document.addEventListener("touchmove",u),document.addEventListener("mousemove",a),()=>{document.removeEventListener("mouseup",o),document.removeEventListener("touchmove",u),document.removeEventListener("mousemove",a)}},[r,e,t]),{dragging:r.dragging,onMouseDown:s}}const hw=6;function _f(e,t){const{tableX:n,tableY:r,width:i,height:s,cols:o,rows:a}=t,{pageX:u,pageY:c}=e,h=i/o||1,p=s/a||1,g=Math.floor((u-n)/h),x=Math.floor((c-r)/p*hw)/hw,w=Math.max(0,Math.min(o-1,g)),S=Math.max(0,Math.min(a,x));return{x:w,y:S}}const nm={subjectId:-1,subjectName:"",subjectCode:"",classCode:"",professorName:"",deptCd:"",manageDeptNm:"",studentYear:"",lesnTime:"",lesnRoom:"",tmNum:"",remark:null,curiTypeCdNm:"",curiLangNm:null,isDeleted:!0},vT=async()=>await ao("/api/subjects");function ra(){return rs({queryKey:["subjects"],queryFn:vT,staleTime:1/0,select:e=>e.subjectResponses})}function xT(e){return new Promise(t=>setTimeout(t,e))}function bT(e,t=9){const n=t*60,r=new Date,i=new Date(e);return i.setMonth(i.getMonth()-n-r.getTimezoneOffset()),i}const ov={timeTableId:-1,timeTableName:"새 시간표",semester:"",schedules:[]},wT=async()=>await ao("/api/timetables"),Q_=()=>{const e=vt(r=>r.pickTimetable),t=vt(r=>r.currentTimetable);return rs({queryKey:["timetableList"],queryFn:wT,select:r=>{const{timeTables:i}=r;if(!i.some(o=>o.timeTableId===t?.timeTableId)){e(i[i.length-1]);return}if(i.length<=0&&t.timeTableId!==-1){e({timeTableId:-1,timeTableName:"새 시간표",semester:""});return}return i},staleTime:1e3*60*5})};function rm(e){const{data:t}=ra();return rs({queryKey:["timetableData",e],queryFn:async()=>!e||e<=0?{timetableId:-1,timetableName:"새 시간표",semester:"",schedules:[]}:await ao(`/api/timetables/${e}/schedules`),select:r=>jT(r,t),refetchOnWindowFocus:!1,staleTime:1e3*60*5})}function _T(){const e=pi(),{currentTimetable:t,pickTimetable:n}=vt.getState();return na({mutationFn:async({timeTableId:r,timeTableName:i})=>await ao(`/api/timetables/${r}`,{method:"PATCH",body:JSON.stringify({timeTableName:i})}),onMutate:async({timeTableId:r})=>(await e.cancelQueries({queryKey:["timetableList",r]}),{timeTableId:r}),onSuccess:async(r,i,s)=>{const o=s?.timeTableId;t?.timeTableId===o&&n({timeTableId:r.timeTableId,timeTableName:r.timeTableName,semester:r.semester}),await e.invalidateQueries({queryKey:["timetableList"]}),await e.invalidateQueries({queryKey:["timetableList",o]})},onError:async(r,i,s)=>{console.error(`시간표 수정 실패 (id: ${s?.timeTableId})`,r),await e.invalidateQueries({queryKey:["timetableList"]}),await e.invalidateQueries({queryKey:["timetableList",s?.timeTableId]})}})}function V_(){const e=pi(),t=vt(n=>n.pickTimetable);return na({mutationFn:async n=>await Zp(`/api/timetables/${n}`,{method:"DELETE"}),onMutate:async n=>(await e.cancelQueries({queryKey:["timetableList"]}),await e.cancelQueries({queryKey:["timetableData",n]}),{timeTableId:n}),onError:async(n,r,i)=>{console.error(`시간표 삭제 실패 (id: ${i?.timeTableId})`,n),await e.invalidateQueries({queryKey:["timetableList",i?.timeTableId]}),await e.invalidateQueries({queryKey:["timetableList"]})},onSuccess:async(n,r,i)=>{const{timeTables:s}=e.getQueryData(["timetableList"]);if(s&&s.length>1&&i?.timeTableId){const o=s.filter(u=>u.timeTableId!==i.timeTableId),a=o[o.length-1];t({timeTableId:a.timeTableId,timeTableName:a.timeTableName,semester:a.semester})}else t({timeTableId:-1,timeTableName:"새 시간표",semester:""});await e.invalidateQueries({queryKey:["timetableList"]}),await e.invalidateQueries({queryKey:["timetableData",i?.timeTableId]})}})}function W_(){const e=pi();return na({mutationFn:async({timeTableName:t,semester:n})=>await ao("/api/timetables",{method:"POST",body:JSON.stringify({timeTableName:t,semester:n})}),onMutate:async({timeTableName:t,semester:n})=>{await e.cancelQueries({queryKey:["timetableList"]});const{timeTables:r}=e.getQueryData(["timetableList"])??{},i={timeTableId:-1,timeTableName:t,semester:n};if(r){const s=[...r,i];e.setQueryData(["timetableList"],{timeTables:s}),r.push(i)}return{previousTimetables:r}},onSuccess:async t=>{const{pickTimetable:n}=vt.getState();n({timeTableId:t.timeTableId,timeTableName:t.timeTableName,semester:t.semester}),await e.invalidateQueries({queryKey:["timetableList"]})},onError:async t=>{try{const n=JSON.parse(t.message);alert(n.message)}catch{alert("Error adding Timetable")}await e.invalidateQueries({queryKey:["timetableList"]})}})}function ST(e){const t=pi(),n=vt(i=>i.changeScheduleData),{mutateAsync:r}=W_();return na({mutationFn:async({schedule:i})=>{let s=e;if(!e||e<=0){const a=await r({timeTableName:"새 시간표",semester:"2025-2"});s=a.timeTableId,t.setQueryData(["timetableData",s],{timetableId:s,timetableName:a.timeTableName,semester:a.semester,schedules:[i]}),await xT(300)}return{schedule:await ao(`/api/timetables/${s}/schedules`,{method:"POST",body:JSON.stringify(i)}),targetTimetableId:s}},onMutate:async i=>{const s=t.getQueryData(["timetableData",e])??{...ov};return e&&e>0&&(await t.cancelQueries({queryKey:["timetableData",e]}),t.setQueryData(["timetableData",e],{...s,schedules:[...s.schedules,i.schedule]}),n(new Lr().toUiData(),Hn.NONE)),{...i,prevTimetableSchedules:s}},onError:(i,s,o)=>{t.setQueryData(["timetableData",e],o?.prevTimetableSchedules),console.error(i)},onSuccess:async({schedule:i,targetTimetableId:s},o,a)=>{const u=t.getQueryData(["timetableData",s]);n(new Lr().toUiData(),Hn.NONE),t.setQueryData(["timetableData",s],{...u,schedules:u?.schedules.map(c=>c.scheduleId===a.schedule.scheduleId?i:c)})}})}function CT(e){const t=pi();return na({mutationFn:async({schedule:n})=>await ao(`/api/timetables/${e}/schedules/${n.scheduleId}`,{method:"PATCH",body:JSON.stringify(n)}),onMutate:async n=>{const r=t.getQueryData(["timetableData",e])??{...ov};return await t.cancelQueries({queryKey:["timetableData",e]}),{...n,prevTimetableSchedules:r}},onError:(n,r,i)=>{t.setQueryData(["timetableData",e],i?.prevTimetableSchedules),console.error(n)},onSuccess:async(n,r,i)=>{if(!i?.prevTimetableSchedules){await t.invalidateQueries({queryKey:["timetableList"]}),await t.invalidateQueries({queryKey:["timetableData",e]});return}t.setQueryData(["timetableData",e],{...i.prevTimetableSchedules,schedules:i.prevTimetableSchedules.schedules.map(s=>s.scheduleId===n.scheduleId?{...s,...n}:s)})}})}function kT(e){const t=pi();return na({mutationFn:async({schedule:n})=>await KE(`/api/timetables/${e}/schedules/${n.scheduleId}`,{scheduleType:n.scheduleType}),onMutate:async n=>{const r=t.getQueryData(["timetableData",e])??{...ov};return await t.cancelQueries({queryKey:["timetableData",e]}),{...n,prevTimetableSchedules:r}},onError:(n,r,i)=>{t.setQueryData(["timetableData",e],i?.prevTimetableSchedules),console.error(n)},onSuccess:async(n,{schedule:r},i)=>{if(console.log("스케줄 삭제 성공! timetableId:",e),!i?.prevTimetableSchedules){await t.invalidateQueries({queryKey:["timetableList"]}),await t.invalidateQueries({queryKey:["timetableData",e]});return}console.log("스케줄 삭제 성공! 이전 데이터 있음. timetableId:",e,i.prevTimetableSchedules),t.setQueryData(["timetableData",e],{...i.prevTimetableSchedules,schedules:i.prevTimetableSchedules.schedules.filter(s=>s.scheduleId!==r.scheduleId)}),await t.invalidateQueries({queryKey:["timetableData",e]})}})}function jT(e,t){if(!e||!t)return[];const{schedules:n}=e;return n.map(r=>new Lr(r,t).toUiData())}function q_(e,t=9){const n=vt(a=>a.schedule),r=vt(a=>a.mode),i=["rose","amber","green","emerald","blue","violet"],s={};if(!e)return;let o=e;return(r===Hn.EDIT||r===Hn.VIEW)&&(o=e.map(a=>a.scheduleId===n.scheduleId?n:a)),o.forEach((a,u)=>{const c=a.isDeleted?"gray":i[u%i.length],{subjectName:h,professorName:p,location:g}=a;new Qd(a.timeSlots).toUiData(t).forEach(w=>{s[w.dayOfWeek]||(s[w.dayOfWeek]=[]),s[w.dayOfWeek].push({title:h,professor:p,location:g,schedule:a,color:c,...w})})}),Object.keys(s).forEach(a=>{s[a]=ET(s[a])}),s}function ET(e){const n=vt.getState().options.isMobile?8:16,r=o=>parseFloat(o.replace("px",""));return e.sort((o,a)=>{const u=r(o.height);return r(a.height)-u}).reduce((o,a)=>{const u=r(a.top),c=u+r(a.height),p=o.reduce((g,x)=>{const w=r(x.top),S=w+r(x.height);return w<=u&&u<S||w<c&&c<=S?Math.max(g,x.depth):g},-1)+1;return[...o,{...a,depth:p}]},[]).map(o=>{const a=n*o.depth;return{...o,left:`${a}px`,right:"0px",height:o.height,top:o.top}})}function TT(e){const t=vt(i=>i.schedule),n=vt(i=>i.mode);if(!e)return[];const r=e.filter(i=>i.timeSlots===null||i.timeSlots.length===0);return n===Hn.NONE||t.timeSlots.length>0?r.map(i=>({...i,selected:!1})):t.scheduleId<=0?[...r.map(i=>({...i,selected:!1})),{...t,selected:!0}]:r.map(i=>({...i,selected:i.scheduleId===t.scheduleId}))}const es=nr((e,t)=>({type:null,openBottomSheet:(n,r)=>{e({type:n,props:r})},closeBottomSheet:n=>{const r=t().type;(!n||r===n)&&e({type:null,props:void 0})},resetBottomSheet:()=>{e({type:null})}})),w0=()=>new Lr().toUiData();let _0;function br(){const e=pi(),t=vt(C=>C.changeScheduleData),r=vt(C=>C.currentTimetable)?.timeTableId??-1,i=es(C=>C.openBottomSheet),s=es(C=>C.closeBottomSheet),[,o]=N.useTransition(),{mutate:a}=ST(r),{mutate:u}=CT(r),{mutate:c}=kT(r);return{setOptimisticSchedule:C=>{o(()=>t(C,Hn.NONE))},openScheduleModal:C=>{_0=e.getQueryData(["timetableData",r]);let E;!C.scheduleId||C.scheduleId<=0?(E=Hn.CREATE,C.scheduleType!=="official"&&i("edit")):C.scheduleType==="official"?(E=Hn.VIEW,console.log(_0),i("Info")):(E=Hn.EDIT,i("edit")),t(C,E)},editSchedule:C=>{const E=vt.getState().schedule;let L=C instanceof Function?C(E):C;t(L)},saveSchedule:(C,E=!0)=>{const L=vt.getState().schedule,A=vt.getState().mode;if(C&&C.preventDefault(),!new Qd(L.timeSlots).validate()){alert("시작 시간이 종료 시간 보다 늦지 않아야 합니다.");return}const $=L.timeSlots.length!==0;if(L.scheduleType==="custom"&&!$){alert("요일을 선택해주세요!.");return}const M=new Lr(L).toApiData();A===Hn.CREATE?(M.scheduleId=PT(_0?.schedules??[]),a({schedule:M})):A===Hn.EDIT&&(u({schedule:M}),t({...w0()},Hn.NONE)),E&&s("edit")},deleteSchedule:C=>{const E=vt.getState().schedule;C&&C.preventDefault();const L=new Lr(E).toApiData();c({schedule:L}),t({...w0()},Hn.NONE),s()},cancelSchedule:(C,E=!0)=>{C&&C.preventDefault(),t({...w0()},Hn.NONE),E&&s()}}}function Ud(){const e=vt(n=>n.mode),t=vt(n=>n.schedule);return{modalActionType:e,schedule:t}}function NT(){const{minTime:e}=vt(n=>n.options);return{getTimeslot:(n,r,i)=>{n>r&&([n,r]=[r,n]),i!==void 0&&r-n<i&&(r=n+i);const s=fw(e,n),o=fw(e,r);return{startTime:s,endTime:o}}}}function fw(e,t){const n=e+Math.floor(t),r=Math.floor((t-Math.floor(t))*60);return n<0?"00:00":n>23?"23:50":`${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}function PT(e){let t=-Math.floor(Math.random()*1e6);for(;e.some(n=>n.scheduleId===t);)t=-Math.floor(Math.random()*1e6);return t}function K_({title:e,professor:t,location:n,color:r="blue",schedule:i,selected:s=!1,timeslotIndex:o,fixed:a=!1,...u}){const{text:c,bgLight:h,bg:p}=OT(r),g=N.useRef(null),{openScheduleModal:x}=br(),w=vt($=>$.schedule),S=s||w.scheduleId===i.scheduleId,C=($,P,M,H)=>{if(!g.current||a)return;const Q=M-$,F=(H-P)*Cd;g.current.style.setProperty("transform",`translate(calc(100% * ${Q}), ${F}px)`)},E=($,P,M,H)=>{if(!g.current||a)return;i.scheduleType==="official"&&g.current.style.setProperty("transform","");const Q={...i,timeSlots:i.timeSlots.map((F,ae)=>ae!==o?F:VT(F,M-$,H-P))};x(Q),g.current.style.setProperty("transform","")},L=$=>{($.key==="Enter"||$.key===" ")&&($.preventDefault(),$.stopPropagation(),E(0,0,0,0))},{dragging:A,onMouseDown:B}=H_(C,E);return f.jsxs("div",{ref:g,className:`flex absolute ${h} rounded-l-xs cursor-pointer hover:z-20 focus:z-20 `+u.className,onMouseDown:B,onKeyDown:L,tabIndex:0,...u,children:[f.jsx("div",{className:`w-[2px] h-full sm:w-1 sm:rounded-xs  ${p}`}),f.jsxs("div",{className:"flex-auto sm:p-2 p-[1px] "+(S?"animate-pulse":"")+(A?"opacity-50":""),children:[f.jsx("h3",{className:`${c} font-semibold text-[9px] sm:text-sm`,children:e}),f.jsxs("p",{className:"sm:text-xs text-[7px] text-gray-500",children:[t," ",n]})]})]})}function OT(e){switch(e){case"rose":return{text:"text-rose-500",bgLight:"bg-rose-50",bg:"bg-rose-500"};case"amber":return{text:"text-amber-500",bgLight:"bg-amber-50",bg:"bg-amber-500"};case"green":return{text:"text-green-500",bgLight:"bg-green-50",bg:"bg-green-500"};case"emerald":return{text:"text-emerald-500",bgLight:"bg-emerald-50",bg:"bg-emerald-500"};case"blue":return{text:"text-blue-500",bgLight:"bg-blue-50",bg:"bg-blue-500"};case"violet":return{text:"text-violet-500",bgLight:"bg-violet-50",bg:"bg-violet-500"};default:return{text:"text-gray-500",bgLight:"bg-gray-50",bg:"bg-gray-500"}}}function LT({dayOfWeeks:e}){const t=vt(p=>p.schedule),n=vt(p=>p.options),{data:r}=ra();if(!r||t.scheduleId>0||!t.timeSlots||t.timeSlots.length<=0)return null;let i=parseInt(n.rowNames[0].replace("시",""));Number.isNaN(i)&&(i=9);const s=new Lr(t,r).toUiData(),a=new Qd(s.timeSlots).toUiData(i).filter(({dayOfWeek:p})=>p===e);if(!a)return null;const{subjectName:u,professorName:c,location:h}=s;return a.map(({height:p,top:g,left:x,right:w},S)=>f.jsx(AT,{timeslotIndex:S,title:u??"",professor:c??"",location:h??"",schedule:t,style:{height:p,top:g,left:x,right:w}},`wire-schedule-${e}-${S}`))}function AT({title:e,professor:t,location:n,...r}){const{timeslotIndex:i,...s}=r;return f.jsx("div",{className:`flex absolute rounded-md z-20 
      border-violet-500 border-2 md:border-4
      ${r.className}`,style:{...r.style},...s,children:f.jsxs("div",{className:"flex-auto p-2 bg-violet-50  rounded-md animate-pulse",children:[f.jsx("h3",{className:"text-violet-500 font-semibold  text-[10px] sm:text-sm",children:e}),f.jsxs("p",{className:" sm:text-xs text-[8px]  text-gray-500",children:[t," ",n]})]})})}const S0=()=>new Lr().toUiData(),DT=({dayOfWeeks:e,scheduleTimes:t})=>{const n=t,{setOptimisticSchedule:r,openScheduleModal:i}=br(),{getTimeslot:s}=NT(),o=(h,p,g,x)=>{const{startTime:w,endTime:S}=s(p,x,1);r({...S0(),timeSlots:[{dayOfWeeks:e,startTime:w,endTime:S}]})},a=(h,p,g,x)=>{const{startTime:w,endTime:S}=s(p,x,1);i({...S0(),timeSlots:[{dayOfWeeks:e,startTime:w,endTime:S}]})},u=h=>{(h.key==="Enter"||h.key===" ")&&i({...S0()})},{onMouseDown:c}=H_(o,a);return f.jsxs("div",{className:"relative flex-auto px-[2px]",tabIndex:0,onMouseDown:c,onKeyDown:u,children:[f.jsx(LT,{dayOfWeeks:e}),n.map(({title:h,professor:p,location:g,color:x,height:w,top:S,left:C,right:E,schedule:L},A)=>f.jsx(K_,{timeslotIndex:A,title:h,professor:p??"",location:g??"",schedule:L,color:x,style:{height:w,top:S,left:C,right:E}},"schedule-"+A))]})};function IT(){const e=vt(r=>r.currentTimetable?.timeTableId),{data:t}=rm(e),n=t?.reduce((r,i)=>{if(i.scheduleType!=="official"||!i.tmNum)return r;const s=i.tmNum.split("/").map(o=>{const a=Number(o);return isNaN(a)?0:a});return r.map((o,a)=>o+(s[a]??0))},[0,0,0])??[0,0,0];return f.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 bg-blue-50 rounded-md p-2 mt-3",children:[f.jsxs("span",{children:["총 학점: ",n[0]??0]}),f.jsxs("span",{children:["이론: ",n[1]??0]}),f.jsxs("span",{children:["실습: ",n[2]??0]})]})}const Hd=e=>N.createElement("svg",{width:23,height:23,viewBox:"0 0 23 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M10.3669 11.3356L7.94579 9.04443C7.8086 8.9146 7.73766 8.75936 7.733 8.57871C7.72833 8.39807 7.79059 8.23915 7.9198 8.10198C8.049 7.9648 8.20424 7.89386 8.38551 7.88918C8.56678 7.88449 8.7257 7.94676 8.86225 8.07598L11.2834 10.3671L13.5745 7.94599C13.7043 7.80879 13.8596 7.73786 14.0402 7.73319C14.2209 7.72852 14.3798 7.79079 14.517 7.91999C14.6541 8.04919 14.7252 8.20458 14.7302 8.38616C14.7352 8.56774 14.6728 8.7265 14.5429 8.86244L12.2518 11.2836L14.6729 13.5747C14.8101 13.7045 14.8812 13.8599 14.8862 14.0409C14.8912 14.2218 14.8288 14.3806 14.6989 14.5171C14.5691 14.6537 14.4137 14.7248 14.2328 14.7304C14.0518 14.736 13.8931 14.6736 13.7565 14.5431L11.3354 12.252L9.04423 14.6731C8.9144 14.8103 8.75901 14.8814 8.57806 14.8864C8.39711 14.8914 8.23835 14.829 8.10178 14.6991C7.96521 14.5693 7.89428 14.414 7.88898 14.2334C7.88369 14.0528 7.94595 13.8939 8.07578 13.7567L10.3669 11.3356Z",fill:"#6B7280"}));function RT(){const e=vt(r=>r.currentTimetable),{data:t}=rm(e?.timeTableId),n=TT(t);return f.jsx("div",{className:"flex flex-col gap-2 mt-3",children:n.map(r=>f.jsx(MT,{schedule:r,selected:r.selected},r.scheduleId))})}function MT({schedule:e,selected:t}){const{openScheduleModal:n}=br(),r=()=>{n(e)};return f.jsxs("div",{className:"h-10 w-full p-4 flex justify-between items-center rounded border "+(t?"bg-blue-100 border-blue-500":"border-gray-200"),children:[f.jsxs("div",{className:"flex gap-5",children:[f.jsx("p",{children:e.subjectName}),f.jsx("p",{className:"text-stone-400",children:e.professorName})]}),f.jsx("button",{type:"button",onClick:r,className:"cursor-pointer",children:f.jsx(Hd,{className:"w-5 h-5"})})]},e.scheduleId)}const im=["월","화","수","목","금","토","일"];function FT(e){const t=vt(a=>a.schedule),n=vt(a=>a.setOptions),r=[...e??[],t],i=r.reduce((a,u)=>{let c=a;return u.timeSlots?(u.timeSlots.some(h=>h.dayOfWeeks==="토")&&(c=Math.max(c,6)),u.timeSlots.some(h=>h.dayOfWeeks==="일")&&(c=Math.max(c,7)),c):a},5),{minTime:s,maxTime:o}=r.reduce((a,u)=>(u.timeSlots.forEach(c=>{const h=parseInt(c.startTime.split(":")[0]),p=parseInt(c.endTime.split(":")[0]);isNaN(h)||isNaN(p)||(a.minTime=Math.min(a.minTime,h),a.maxTime=Math.max(a.maxTime,p))}),a),{minTime:9,maxTime:20});return N.useEffect(()=>{n({rowNames:Array.from({length:o-s+1},(a,u)=>`${s+u}`),minTime:s,maxTime:o,rows:o-s+1})},[s,o]),N.useEffect(()=>{n({colNames:im.slice(0,i),cols:i})},[i]),{}}let C0=null;const BT=e=>{const t=vt(r=>r.setOptions),n=()=>{if(!e.current)return;const r=e.current.getBoundingClientRect();t({width:r.width,height:r.height,tableX:r.left+window.pageXOffset,tableY:r.top+window.pageYOffset}),C0=null};N.useEffect(()=>{if(!e.current)return;const r=()=>{C0||(C0=setTimeout(n,300),t({isMobile:window.innerWidth<768}))};return r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[e])};function zT(e){const t=N.useRef(!1),n=Sp(r=>r.setBanner);N.useEffect(()=>{e?.some(i=>i.isDeleted)&&!t.current&&(t.current=!0,n("삭제된 과목이 있습니다! 삭제된 과목은 회색으로 표시됩니다"))},[e])}const Cd=40;function $T(){const e=N.useRef(null),t=vt(n=>n.setOptions);return N.useEffect(()=>{t({containerRef:e?.current??null})},[e]),f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"bg-white",ref:e,children:[f.jsx(QT,{children:f.jsx(HT,{})}),f.jsx(RT,{})]}),f.jsx(IT,{})]})}const UT=im.reduce((e,t)=>(e[t]=[],e),{});function HT(){const e=vt(s=>s.currentTimetable),{colNames:t,minTime:n}=vt(s=>s.options),{data:r}=rm(e?.timeTableId),i=q_(r,n)??UT;return zT(r),FT(r),t.map(s=>f.jsx(DT,{scheduleTimes:i[s]??[],dayOfWeeks:s},"day-schedule-"+s))}function QT({rowHeight:e=Cd,children:t}){const{colNames:n,rowNames:r}=vt(i=>i.options);return f.jsx(G_,{colNames:n,rowNames:r,rowHeight:e,children:t})}class Lr{data;constructor(t,n){if(!t){this.data=this.#t();return}if(t.scheduleType==="official"&&!t.subjectName){this.data=this.#e(t,n);return}this.data=t,this.data.timeSlots||(this.data.timeSlots=[])}#t(){return{scheduleId:-1,scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"",tmNum:"",isDeleted:!1,timeSlots:[]}}#e(t,n){if(!n)throw new TypeError("Subjects must be provided for API to UI conversion");const r=n instanceof Array?n.find(i=>i.subjectId===t.subjectId):n;return{scheduleId:t.scheduleId,scheduleType:t.scheduleType,subjectId:t.subjectId,subjectName:r?.subjectName??"",professorName:r?.professorName??"",location:r?.lesnRoom??"",tmNum:r?.tmNum??"",isDeleted:r?.isDeleted??!1,timeSlots:new Qd(r?.lesnTime).toApiData()}}toApiData(){const t=this.data;return t.scheduleType==="official"?{scheduleId:t.scheduleId,scheduleType:"official",subjectId:t.subjectId??0,subjectName:null,professorName:null,location:null,timeSlots:[]}:{...t,scheduleType:"custom",subjectId:null}}toUiData(){return this.data}}class Qd{data;constructor(t){if(!t){this.data=[];return}if(typeof t=="string"){this.data=this.#e(t);return}if(Array.isArray(t)){this.data=t.map(n=>this.#t(n));return}this.data=[this.#t(t)]}#t(t){const[n,r]=t.startTime.split(":"),[i,s]=t.endTime.split(":");return{dayOfWeeks:t.dayOfWeeks,startHour:parseInt(n),startMinute:parseInt(r),endHour:parseInt(i),endMinute:parseInt(s)}}#e(t){const n=/([월화수목금토일]+)(\d{1,2}:\d{2})-(\d{1,2}:\d{2})/g,r=[];let i;for(;(i=n.exec(t))!==null;){const s=i[1],o=i[2],a=i[3],u=s.split("");for(const c of u)r.push(this.#t({dayOfWeeks:c,startTime:o,endTime:a}))}return r}validate(){return this.data.every(t=>{const{startHour:n,startMinute:r,endHour:i,endMinute:s}=t;return n<i||n===i&&r<s})}toApiData(){const t=n=>n.toString().padStart(2,"0");return this.data.map(n=>({dayOfWeeks:n.dayOfWeeks,startTime:`${t(n.startHour)}:${t(n.startMinute)}`,endTime:`${t(n.endHour)}:${t(n.endMinute)}`}))}toUiData(t){return this.data.map(({startHour:n,startMinute:r,endHour:i,endMinute:s,dayOfWeeks:o})=>{const a=(n*60+r)/60,u=(i*60+s)/60;return{dayOfWeek:o,depth:0,left:"0px",right:"0px",height:`${(u-a)*Cd}px`,top:`${(a-t)*Cd}px`}})}}function VT(e,t,n){const{dayOfWeeks:r,startTime:i,endTime:s}=e,[o,a]=i.split(":").map(Number),[u,c]=s.split(":").map(Number),h=Math.min(24,o+a/60+n),p=Math.min(24,u+c/60+n),g=Math.floor(h),x=Math.round((h-g)*60),w=Math.floor(p),S=Math.round((p-w)*60),C=["월","화","수","목","금","토","일"],L=(C.indexOf(r)+t+C.length)%C.length;return{dayOfWeeks:C[L],startTime:`${g.toString().padStart(2,"0")}:${x.toString().padStart(2,"0")}`,endTime:`${w.toString().padStart(2,"0")}:${S.toString().padStart(2,"0")}`}}var Hn=(e=>(e.NONE="none",e.CREATE="create",e.EDIT="edit",e.VIEW="view",e))(Hn||{});const vt=nr(e=>({currentTimetable:{timeTableId:-1,timeTableName:"새 시간표",semester:""},options:{containerRef:null,timetableRef:null,colNames:im.slice(0,5),rowNames:Array.from({length:12},(t,n)=>`${n+9}`),minTime:9,maxTime:20,tableX:0,tableY:0,width:0,height:0,cols:5,rows:11,isMobile:!1},mode:"none",schedule:new Lr().toUiData(),pickTimetable:t=>{e(n=>({...n,currentTimetable:t}))},setOptions:t=>{e(n=>({...n,options:{...n.options,...t}}))},changeScheduleData:(t,n)=>{e(r=>({...r,mode:n??r.mode,schedule:{...r.schedule,...t}}))}}));function G_({rowHeight:e=Cd,colNames:t,rowNames:n,children:r}){const i=N.useRef(null),{isMobile:s}=vt(u=>u.options);BT(i);const{headerWidth:o,headerHeight:a}=s?{headerWidth:20,headerHeight:20}:{headerWidth:60,headerHeight:40};return f.jsxs("div",{className:"relative w-full bg-white",children:[f.jsxs("div",{className:"flex bg-gray-50 rounded-t-md",style:{height:`${a}px`},children:[f.jsx("div",{className:"flex items-center justify-center font-semibold text-gray-700",style:{width:`${o}px`}}),t.map((u,c)=>f.jsx("div",{className:"flex flex-auto items-center justify-center font-semibold text-gray-400 text-[10px] md:text-sm",children:u},"timetable-grid-header-"+c))]}),f.jsx("div",{className:"flex absolute inset-0",style:{top:`${a}px`,left:`${o}px`},children:t.map((u,c)=>f.jsx("div",{className:"flex-auto border-l border-gray-200 h-full"},"timetable-grid-col-"+c))}),n.map((u,c)=>f.jsx("div",{className:"border-b border-gray-200",style:{height:`${e}px`},children:f.jsx("span",{className:"flex items-center justify-center h-full text-gray-400 w-[20px] md:w-[60px] text-[10px] md:text-sm",children:u})},"timetable-grid-row-"+c)),f.jsx("div",{id:"timetable",ref:i,className:"absolute inset-0 flex z-10",style:{top:`${a}px`,left:`${o}px`},children:r})]})}const pw=["월","화","수","목","금"],WT=Array.from({length:5},(e,t)=>`${t+9}`),qT=[{scheduleId:"1",scheduleType:"custom",subjectId:null,subjectName:"컴퓨터공학개론",professorName:"김교수",location:"센B209",tmNum:"3/1/0",isDeleted:!1,timeSlots:[{dayOfWeeks:"월",startTime:"09:00",endTime:"10:30"},{dayOfWeeks:"수",startTime:"09:00",endTime:"10:30"}]},{scheduleId:"2",scheduleType:"custom",subjectId:null,subjectName:"자료구조",professorName:"김교수",location:"센B209",tmNum:"3/1/0",isDeleted:!1,timeSlots:[{dayOfWeeks:"화",startTime:"11:00",endTime:"12:30"},{dayOfWeeks:"목",startTime:"11:00",endTime:"12:30"}]},{scheduleId:3,scheduleType:"custom",subjectId:null,subjectName:"운영체제",professorName:"김교수",location:"센B209",tmNum:"3/1/0",isDeleted:!1,timeSlots:[{dayOfWeeks:"수",startTime:"12:00",endTime:"13:30"},{dayOfWeeks:"금",startTime:"12:00",endTime:"13:30"}]}];function KT(){const e=q_(qT,9);return f.jsxs(pl,{children:[f.jsx(tm,{title:"시간표",subtitle:"시간표 부터 전략적 세종대 수강신청 준비",href:"/timetable"}),f.jsx(Np,{className:"mt-6",children:f.jsx(G_,{colNames:pw,rowNames:WT,children:pw.map(t=>f.jsx(GT,{data:e?e[t]:[]},t))})})]})}function GT({data:e}){return e?f.jsx("div",{className:"relative flex-auto px-[2px]",children:e.map(({title:t,professor:n,location:r,color:i,height:s,top:o,left:a,right:u,schedule:c},h)=>f.jsx(K_,{timeslotIndex:h,title:t,professor:n??"",location:r??"",schedule:c,color:i,style:{height:s,top:o,left:a,right:u},selected:!1,fixed:!0},"schedule-"+h))}):f.jsx("div",{className:"relative flex-auto px-[2px]"})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Vd(e){return e+.5|0}const Vo=(e,t,n)=>Math.max(Math.min(e,n),t);function nd(e){return Vo(Vd(e*2.55),0,255)}function Go(e){return Vo(Vd(e*255),0,255)}function Zs(e){return Vo(Vd(e/2.55)/100,0,1)}function mw(e){return Vo(Vd(e*100),0,100)}const ji={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},F1=[..."0123456789ABCDEF"],YT=e=>F1[e&15],XT=e=>F1[(e&240)>>4]+F1[e&15],Sf=e=>(e&240)>>4===(e&15),JT=e=>Sf(e.r)&&Sf(e.g)&&Sf(e.b)&&Sf(e.a);function ZT(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&ji[e[1]]*17,g:255&ji[e[2]]*17,b:255&ji[e[3]]*17,a:t===5?ji[e[4]]*17:255}:(t===7||t===9)&&(n={r:ji[e[1]]<<4|ji[e[2]],g:ji[e[3]]<<4|ji[e[4]],b:ji[e[5]]<<4|ji[e[6]],a:t===9?ji[e[7]]<<4|ji[e[8]]:255})),n}const eN=(e,t)=>e<255?t(e):"";function tN(e){var t=JT(e)?YT:XT;return e?"#"+t(e.r)+t(e.g)+t(e.b)+eN(e.a,t):void 0}const nN=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Y_(e,t,n){const r=t*Math.min(n,1-n),i=(s,o=(s+e/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function rN(e,t,n){const r=(i,s=(i+e/60)%6)=>n-n*t*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function iN(e,t,n){const r=Y_(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function sN(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}function av(e){const n=e.r/255,r=e.g/255,i=e.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let u,c,h;return s!==o&&(h=s-o,c=a>.5?h/(2-s-o):h/(s+o),u=sN(n,r,i,h,s),u=u*60+.5),[u|0,c||0,a]}function lv(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(Go)}function uv(e,t,n){return lv(Y_,e,t,n)}function oN(e,t,n){return lv(iN,e,t,n)}function aN(e,t,n){return lv(rN,e,t,n)}function X_(e){return(e%360+360)%360}function lN(e){const t=nN.exec(e);let n=255,r;if(!t)return;t[5]!==r&&(n=t[6]?nd(+t[5]):Go(+t[5]));const i=X_(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?r=oN(i,s,o):t[1]==="hsv"?r=aN(i,s,o):r=uv(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function uN(e,t){var n=av(e);n[0]=X_(n[0]+t),n=uv(n),e.r=n[0],e.g=n[1],e.b=n[2]}function cN(e){if(!e)return;const t=av(e),n=t[0],r=mw(t[1]),i=mw(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${i}%, ${Zs(e.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const gw={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},yw={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function dN(){const e={},t=Object.keys(yw),n=Object.keys(gw);let r,i,s,o,a;for(r=0;r<t.length;r++){for(o=a=t[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,gw[s]);s=parseInt(yw[o],16),e[a]=[s>>16&255,s>>8&255,s&255]}return e}let Cf;function hN(e){Cf||(Cf=dN(),Cf.transparent=[0,0,0,0]);const t=Cf[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const fN=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function pN(e){const t=fN.exec(e);let n=255,r,i,s;if(t){if(t[7]!==r){const o=+t[7];n=t[8]?nd(o):Vo(o*255,0,255)}return r=+t[1],i=+t[3],s=+t[5],r=255&(t[2]?nd(r):Vo(r,0,255)),i=255&(t[4]?nd(i):Vo(i,0,255)),s=255&(t[6]?nd(s):Vo(s,0,255)),{r,g:i,b:s,a:n}}}function mN(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Zs(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const k0=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,su=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function gN(e,t,n){const r=su(Zs(e.r)),i=su(Zs(e.g)),s=su(Zs(e.b));return{r:Go(k0(r+n*(su(Zs(t.r))-r))),g:Go(k0(i+n*(su(Zs(t.g))-i))),b:Go(k0(s+n*(su(Zs(t.b))-s))),a:e.a+n*(t.a-e.a)}}function kf(e,t,n){if(e){let r=av(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,t===0?360:1)),r=uv(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function J_(e,t){return e&&Object.assign(t||{},e)}function vw(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Go(e[3]))):(t=J_(e,{r:0,g:0,b:0,a:1}),t.a=Go(t.a)),t}function yN(e){return e.charAt(0)==="r"?pN(e):lN(e)}class kd{constructor(t){if(t instanceof kd)return t;const n=typeof t;let r;n==="object"?r=vw(t):n==="string"&&(r=ZT(t)||hN(t)||yN(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=J_(this._rgb);return t&&(t.a=Zs(t.a)),t}set rgb(t){this._rgb=vw(t)}rgbString(){return this._valid?mN(this._rgb):void 0}hexString(){return this._valid?tN(this._rgb):void 0}hslString(){return this._valid?cN(this._rgb):void 0}mix(t,n){if(t){const r=this.rgb,i=t.rgb;let s;const o=n===s?.5:n,a=2*o-1,u=r.a-i.a,c=((a*u===-1?a:(a+u)/(1+a*u))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(t,n){return t&&(this._rgb=gN(this._rgb,t._rgb,n)),this}clone(){return new kd(this.rgb)}alpha(t){return this._rgb.a=Go(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Vd(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return kf(this._rgb,2,t),this}darken(t){return kf(this._rgb,2,-t),this}saturate(t){return kf(this._rgb,1,t),this}desaturate(t){return kf(this._rgb,1,-t),this}rotate(t){return uN(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ws(){}const vN=(()=>{let e=0;return()=>e++})();function Mt(e){return e==null}function xn(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Ft(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function kn(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function li(e,t){return kn(e)?e:t}function xt(e,t){return typeof e>"u"?t:e}const xN=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,Z_=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function an(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function Jt(e,t,n,r){let i,s,o;if(xn(e))for(s=e.length,i=0;i<s;i++)t.call(n,e[i],i);else if(Ft(e))for(o=Object.keys(e),s=o.length,i=0;i<s;i++)t.call(n,e[o[i]],o[i])}function Pp(e,t){let n,r,i,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],s=t[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Op(e){if(xn(e))return e.map(Op);if(Ft(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=Op(e[n[i]]);return t}return e}function e6(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function bN(e,t,n,r){if(!e6(e))return;const i=t[e],s=n[e];Ft(i)&&Ft(s)?jd(i,s,r):t[e]=Op(s)}function jd(e,t,n){const r=xn(t)?t:[t],i=r.length;if(!Ft(e))return e;n=n||{};const s=n.merger||bN;let o;for(let a=0;a<i;++a){if(o=r[a],!Ft(o))continue;const u=Object.keys(o);for(let c=0,h=u.length;c<h;++c)s(u[c],e,o,n)}return e}function ud(e,t){return jd(e,t,{merger:wN})}function wN(e,t,n){if(!e6(e))return;const r=t[e],i=n[e];Ft(r)&&Ft(i)?ud(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Op(i))}const xw={"":e=>e,x:e=>e.x,y:e=>e.y};function _N(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function SN(e){const t=_N(e);return n=>{for(const r of t){if(r==="")break;n=n&&n[r]}return n}}function Jo(e,t){return(xw[t]||(xw[t]=SN(t)))(e)}function cv(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Ed=e=>typeof e<"u",Zo=e=>typeof e=="function",bw=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function CN(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const qt=Math.PI,hn=2*qt,kN=hn+qt,Lp=Number.POSITIVE_INFINITY,jN=qt/180,On=qt/2,Ia=qt/4,ww=qt*2/3,Wo=Math.log10,bs=Math.sign;function cd(e,t,n){return Math.abs(e-t)<n}function _w(e){const t=Math.round(e);e=cd(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Wo(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function EN(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(n|0)&&t.push(n),t.sort((i,s)=>i-s).pop(),t}function TN(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function ol(e){return!TN(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function NN(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function t6(e,t,n){let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function Zi(e){return e*(qt/180)}function dv(e){return e*(180/qt)}function Sw(e){if(!kn(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function n6(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*qt&&(s+=hn),{angle:s,distance:i}}function B1(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function PN(e,t){return(e-t+kN)%hn-qt}function gr(e){return(e%hn+hn)%hn}function Td(e,t,n,r){const i=gr(e),s=gr(t),o=gr(n),a=gr(s-i),u=gr(o-i),c=gr(i-s),h=gr(i-o);return i===s||i===o||r&&s===o||a>u&&c<h}function tr(e,t,n){return Math.max(t,Math.min(n,e))}function ON(e){return tr(e,-32768,32767)}function to(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function hv(e,t,n){n=n||(o=>e[o]<t);let r=e.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const no=(e,t,n,r)=>hv(e,n,r?i=>{const s=e[i][t];return s<n||s===n&&e[i+1][t]===n}:i=>e[i][t]<n),LN=(e,t,n)=>hv(e,n,r=>e[r][t]>=n);function AN(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}const r6=["push","pop","shift","splice","unshift"];function DN(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),r6.forEach(n=>{const r="_onData"+cv(n),i=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return e._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function Cw(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);i!==-1&&r.splice(i,1),!(r.length>0)&&(r6.forEach(s=>{delete e[s]}),delete e._chartjs)}function i6(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const s6=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function o6(e,t){let n=[],r=!1;return function(...i){n=i,r||(r=!0,s6.call(window,()=>{r=!1,e.apply(t,n)}))}}function IN(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const fv=e=>e==="start"?"left":e==="end"?"right":"center",mr=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,RN=(e,t,n,r)=>e===(r?"left":"right")?n:e==="center"?(t+n)/2:t;function a6(e,t,n){const r=t.length;let i=0,s=r;if(e._sorted){const{iScale:o,vScale:a,_parsed:u}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,h=o.axis,{min:p,max:g,minDefined:x,maxDefined:w}=o.getUserBounds();if(x){if(i=Math.min(no(u,h,p).lo,n?r:no(t,h,o.getPixelForValue(p)).lo),c){const S=u.slice(0,i+1).reverse().findIndex(C=>!Mt(C[a.axis]));i-=Math.max(0,S)}i=tr(i,0,r-1)}if(w){let S=Math.max(no(u,o.axis,g,!0).hi+1,n?0:no(t,h,o.getPixelForValue(g),!0).hi+1);if(c){const C=u.slice(S-1).findIndex(E=>!Mt(E[a.axis]));S+=Math.max(0,C)}s=tr(S,i,r)-i}else s=r-i}return{start:i,count:s}}function l6(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const s=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const jf=e=>e===0||e===1,kw=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*hn/n)),jw=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*hn/n)+1,dd={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*On)+1,easeOutSine:e=>Math.sin(e*On),easeInOutSine:e=>-.5*(Math.cos(qt*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>jf(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>jf(e)?e:kw(e,.075,.3),easeOutElastic:e=>jf(e)?e:jw(e,.075,.3),easeInOutElastic(e){return jf(e)?e:e<.5?.5*kw(e*2,.1125,.45):.5+.5*jw(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-dd.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?dd.easeInBounce(e*2)*.5:dd.easeOutBounce(e*2-1)*.5+.5};function pv(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Ew(e){return pv(e)?e:new kd(e)}function j0(e){return pv(e)?e:new kd(e).saturate(.5).darken(.1).hexString()}const MN=["x","y","borderWidth","radius","tension"],FN=["color","borderColor","backgroundColor"];function BN(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:FN},numbers:{type:"number",properties:MN}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function zN(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Tw=new Map;function $N(e,t){t=t||{};const n=e+JSON.stringify(t);let r=Tw.get(n);return r||(r=new Intl.NumberFormat(e,t),Tw.set(n,r)),r}function Wd(e,t,n){return $N(t,n).format(e)}const u6={values(e){return xn(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const r=this.chart.options.locale;let i,s=e;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=UN(e,n)}const o=Wo(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),u={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(u,this.options.ticks.format),Wd(e,r,u)},logarithmic(e,t,n){if(e===0)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(Wo(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?u6.numeric.call(this,e,t,n):""}};function UN(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var sm={formatters:u6};function HN(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:sm.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const al=Object.create(null),z1=Object.create(null);function hd(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];e=e[s]||(e[s]=Object.create(null))}return e}function E0(e,t,n){return typeof t=="string"?jd(hd(e,t),n):jd(hd(e,""),t)}class QN{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>j0(i.backgroundColor),this.hoverBorderColor=(r,i)=>j0(i.borderColor),this.hoverColor=(r,i)=>j0(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return E0(this,t,n)}get(t){return hd(this,t)}describe(t,n){return E0(z1,t,n)}override(t,n){return E0(al,t,n)}route(t,n,r,i){const s=hd(this,t),o=hd(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[a],c=o[i];return Ft(u)?Object.assign({},c,u):xt(u,c)},set(u){this[a]=u}}})}apply(t){t.forEach(n=>n(this))}}var bn=new QN({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[BN,zN,HN]);function VN(e){return!e||Mt(e.size)||Mt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Ap(e,t,n,r,i){let s=t[i];return s||(s=t[i]=e.measureText(i).width,n.push(i)),s>r&&(r=s),r}function WN(e,t,n,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},s=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let o=0;const a=n.length;let u,c,h,p,g;for(u=0;u<a;u++)if(p=n[u],p!=null&&!xn(p))o=Ap(e,i,s,o,p);else if(xn(p))for(c=0,h=p.length;c<h;c++)g=p[c],g!=null&&!xn(g)&&(o=Ap(e,i,s,o,g));e.restore();const x=s.length/2;if(x>n.length){for(u=0;u<x;u++)delete i[s[u]];s.splice(0,x)}return o}function Ra(e,t,n){const r=e.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function Nw(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function $1(e,t,n,r){c6(e,t,n,r,null)}function c6(e,t,n,r,i){let s,o,a,u,c,h,p,g;const x=t.pointStyle,w=t.rotation,S=t.radius;let C=(w||0)*jN;if(x&&typeof x=="object"&&(s=x.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){e.save(),e.translate(n,r),e.rotate(C),e.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),e.restore();return}if(!(isNaN(S)||S<=0)){switch(e.beginPath(),x){default:i?e.ellipse(n,r,i/2,S,0,0,hn):e.arc(n,r,S,0,hn),e.closePath();break;case"triangle":h=i?i/2:S,e.moveTo(n+Math.sin(C)*h,r-Math.cos(C)*S),C+=ww,e.lineTo(n+Math.sin(C)*h,r-Math.cos(C)*S),C+=ww,e.lineTo(n+Math.sin(C)*h,r-Math.cos(C)*S),e.closePath();break;case"rectRounded":c=S*.516,u=S-c,o=Math.cos(C+Ia)*u,p=Math.cos(C+Ia)*(i?i/2-c:u),a=Math.sin(C+Ia)*u,g=Math.sin(C+Ia)*(i?i/2-c:u),e.arc(n-p,r-a,c,C-qt,C-On),e.arc(n+g,r-o,c,C-On,C),e.arc(n+p,r+a,c,C,C+On),e.arc(n-g,r+o,c,C+On,C+qt),e.closePath();break;case"rect":if(!w){u=Math.SQRT1_2*S,h=i?i/2:u,e.rect(n-h,r-u,2*h,2*u);break}C+=Ia;case"rectRot":p=Math.cos(C)*(i?i/2:S),o=Math.cos(C)*S,a=Math.sin(C)*S,g=Math.sin(C)*(i?i/2:S),e.moveTo(n-p,r-a),e.lineTo(n+g,r-o),e.lineTo(n+p,r+a),e.lineTo(n-g,r+o),e.closePath();break;case"crossRot":C+=Ia;case"cross":p=Math.cos(C)*(i?i/2:S),o=Math.cos(C)*S,a=Math.sin(C)*S,g=Math.sin(C)*(i?i/2:S),e.moveTo(n-p,r-a),e.lineTo(n+p,r+a),e.moveTo(n+g,r-o),e.lineTo(n-g,r+o);break;case"star":p=Math.cos(C)*(i?i/2:S),o=Math.cos(C)*S,a=Math.sin(C)*S,g=Math.sin(C)*(i?i/2:S),e.moveTo(n-p,r-a),e.lineTo(n+p,r+a),e.moveTo(n+g,r-o),e.lineTo(n-g,r+o),C+=Ia,p=Math.cos(C)*(i?i/2:S),o=Math.cos(C)*S,a=Math.sin(C)*S,g=Math.sin(C)*(i?i/2:S),e.moveTo(n-p,r-a),e.lineTo(n+p,r+a),e.moveTo(n+g,r-o),e.lineTo(n-g,r+o);break;case"line":o=i?i/2:Math.cos(C)*S,a=Math.sin(C)*S,e.moveTo(n-o,r-a),e.lineTo(n+o,r+a);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(C)*(i?i/2:S),r+Math.sin(C)*S);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function ro(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function om(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function am(e){e.restore()}function qN(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if(i==="middle"){const s=(t.x+n.x)/2;e.lineTo(s,t.y),e.lineTo(s,n.y)}else i==="after"!=!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function KN(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function GN(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Mt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function YN(e,t,n,r,i){if(i.strikethrough||i.underline){const s=e.measureText(r),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,u=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,h=i.strikethrough?(u+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,h),e.lineTo(a,h),e.stroke()}}function XN(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function ll(e,t,n,r,i,s={}){const o=xn(t)?t:[t],a=s.strokeWidth>0&&s.strokeColor!=="";let u,c;for(e.save(),e.font=i.string,GN(e,s),u=0;u<o.length;++u)c=o[u],s.backdrop&&XN(e,s.backdrop),a&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),Mt(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(c,n,r,s.maxWidth)),e.fillText(c,n,r,s.maxWidth),YN(e,n,r,c,s),r+=Number(i.lineHeight);e.restore()}function Nd(e,t){const{x:n,y:r,w:i,h:s,radius:o}=t;e.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*qt,qt,!0),e.lineTo(n,r+s-o.bottomLeft),e.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,qt,On,!0),e.lineTo(n+i-o.bottomRight,r+s),e.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,On,0,!0),e.lineTo(n+i,r+o.topRight),e.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-On,!0),e.lineTo(n+o.topLeft,r)}const JN=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ZN=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function eP(e,t){const n=(""+e).match(JN);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const tP=e=>+e||0;function mv(e,t){const n={},r=Ft(t),i=r?Object.keys(t):t,s=Ft(e)?r?o=>xt(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of i)n[o]=tP(s(o));return n}function d6(e){return mv(e,{top:"y",right:"x",bottom:"y",left:"x"})}function tl(e){return mv(e,["topLeft","topRight","bottomLeft","bottomRight"])}function xr(e){const t=d6(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Vn(e,t){e=e||{},t=t||bn.font;let n=xt(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let r=xt(e.style,t.style);r&&!(""+r).match(ZN)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:xt(e.family,t.family),lineHeight:eP(xt(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:xt(e.weight,t.weight),string:""};return i.string=VN(i),i}function rd(e,t,n,r){let i,s,o;for(i=0,s=e.length;i<s;++i)if(o=e[i],o!==void 0&&o!==void 0)return o}function nP(e,t,n){const{min:r,max:i}=e,s=Z_(t,(i-r)/2),o=(a,u)=>n&&a===0?0:a+u;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function ia(e,t){return Object.assign(Object.create(e),t)}function gv(e,t=[""],n,r,i=()=>e[0]){const s=n||e;typeof r>"u"&&(r=m6("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>gv([a,...e],t,s,r)};return new Proxy(o,{deleteProperty(a,u){return delete a[u],delete a._keys,delete e[0][u],!0},get(a,u){return f6(a,u,()=>cP(u,t,e,a))},getOwnPropertyDescriptor(a,u){return Reflect.getOwnPropertyDescriptor(a._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,u){return Ow(a).includes(u)},ownKeys(a){return Ow(a)},set(a,u,c){const h=a._storage||(a._storage=i());return a[u]=h[u]=c,delete a._keys,!0}})}function Ru(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:h6(e,r),setContext:s=>Ru(e,s,n,r),override:s=>Ru(e.override(s),t,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete e[o],!0},get(s,o,a){return f6(s,o,()=>iP(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(s,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(s,o,a){return e[o]=a,delete s[o],!0}})}function h6(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Zo(n)?n:()=>n,isIndexable:Zo(r)?r:()=>r}}const rP=(e,t)=>e?e+cv(t):t,yv=(e,t)=>Ft(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function f6(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=n();return e[t]=r,r}function iP(e,t,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=e;let a=r[t];return Zo(a)&&o.isScriptable(t)&&(a=sP(t,a,e,n)),xn(a)&&a.length&&(a=oP(t,a,e,o.isIndexable)),yv(t,a)&&(a=Ru(a,i,s&&s[t],o)),a}function sP(e,t,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let u=t(s,o||r);return a.delete(e),yv(e,u)&&(u=vv(i._scopes,i,e,u)),u}function oP(e,t,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(e))return t[s.index%t.length];if(Ft(t[0])){const u=t,c=i._scopes.filter(h=>h!==u);t=[];for(const h of u){const p=vv(c,i,e,h);t.push(Ru(p,s,o&&o[e],a))}}return t}function p6(e,t,n){return Zo(e)?e(t,n):e}const aP=(e,t)=>e===!0?t:typeof e=="string"?Jo(t,e):void 0;function lP(e,t,n,r,i){for(const s of t){const o=aP(n,s);if(o){e.add(o);const a=p6(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function vv(e,t,n,r){const i=t._rootScopes,s=p6(t._fallback,n,r),o=[...e,...i],a=new Set;a.add(r);let u=Pw(a,o,n,s||n,r);return u===null||typeof s<"u"&&s!==n&&(u=Pw(a,o,s,u,r),u===null)?!1:gv(Array.from(a),[""],i,s,()=>uP(t,n,r))}function Pw(e,t,n,r,i){for(;n;)n=lP(e,t,n,r,i);return n}function uP(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];return xn(i)&&Ft(n)?n:i||{}}function cP(e,t,n,r){let i;for(const s of t)if(i=m6(rP(s,e),n),typeof i<"u")return yv(e,i)?vv(n,r,e,i):i}function m6(e,t){for(const n of t){if(!n)continue;const r=n[e];if(typeof r<"u")return r}}function Ow(e){let t=e._keys;return t||(t=e._keys=dP(e._scopes)),t}function dP(e){const t=new Set;for(const n of e)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))t.add(r);return Array.from(t)}function g6(e,t,n,r){const{iScale:i}=e,{key:s="r"}=this._parsing,o=new Array(r);let a,u,c,h;for(a=0,u=r;a<u;++a)c=a+n,h=t[c],o[a]={r:i.parse(Jo(h,s),c)};return o}const hP=Number.EPSILON||1e-14,Mu=(e,t)=>t<e.length&&!e[t].skip&&e[t],y6=e=>e==="x"?"y":"x";function fP(e,t,n,r){const i=e.skip?t:e,s=t,o=n.skip?t:n,a=B1(s,i),u=B1(o,s);let c=a/(a+u),h=u/(a+u);c=isNaN(c)?0:c,h=isNaN(h)?0:h;const p=r*c,g=r*h;return{previous:{x:s.x-p*(o.x-i.x),y:s.y-p*(o.y-i.y)},next:{x:s.x+g*(o.x-i.x),y:s.y+g*(o.y-i.y)}}}function pP(e,t,n){const r=e.length;let i,s,o,a,u,c=Mu(e,0);for(let h=0;h<r-1;++h)if(u=c,c=Mu(e,h+1),!(!u||!c)){if(cd(t[h],0,hP)){n[h]=n[h+1]=0;continue}i=n[h]/t[h],s=n[h+1]/t[h],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[h]=i*o*t[h],n[h+1]=s*o*t[h])}}function mP(e,t,n="x"){const r=y6(n),i=e.length;let s,o,a,u=Mu(e,0);for(let c=0;c<i;++c){if(o=a,a=u,u=Mu(e,c+1),!a)continue;const h=a[n],p=a[r];o&&(s=(h-o[n])/3,a[`cp1${n}`]=h-s,a[`cp1${r}`]=p-s*t[c]),u&&(s=(u[n]-h)/3,a[`cp2${n}`]=h+s,a[`cp2${r}`]=p+s*t[c])}}function gP(e,t="x"){const n=y6(t),r=e.length,i=Array(r).fill(0),s=Array(r);let o,a,u,c=Mu(e,0);for(o=0;o<r;++o)if(a=u,u=c,c=Mu(e,o+1),!!u){if(c){const h=c[t]-u[t];i[o]=h!==0?(c[n]-u[n])/h:0}s[o]=a?c?bs(i[o-1])!==bs(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}pP(e,i,s),mP(e,s,t)}function Ef(e,t,n){return Math.max(Math.min(e,n),t)}function yP(e,t){let n,r,i,s,o,a=ro(e[0],t);for(n=0,r=e.length;n<r;++n)o=s,s=a,a=n<r-1&&ro(e[n+1],t),s&&(i=e[n],o&&(i.cp1x=Ef(i.cp1x,t.left,t.right),i.cp1y=Ef(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=Ef(i.cp2x,t.left,t.right),i.cp2y=Ef(i.cp2y,t.top,t.bottom)))}function vP(e,t,n,r,i){let s,o,a,u;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")gP(e,i);else{let c=r?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)a=e[s],u=fP(c,a,e[Math.min(s+1,o-(r?0:1))%o],t.tension),a.cp1x=u.previous.x,a.cp1y=u.previous.y,a.cp2x=u.next.x,a.cp2y=u.next.y,c=a}t.capBezierPoints&&yP(e,n)}function xv(){return typeof window<"u"&&typeof document<"u"}function bv(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Dp(e,t,n){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}const lm=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function xP(e,t){return lm(e).getPropertyValue(t)}const bP=["top","right","bottom","left"];function nl(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=bP[i];r[s]=parseFloat(e[t+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const wP=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function _P(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:s}=r;let o=!1,a,u;if(wP(i,s,e.target))a=i,u=s;else{const c=t.getBoundingClientRect();a=r.clientX-c.left,u=r.clientY-c.top,o=!0}return{x:a,y:u,box:o}}function Va(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=lm(n),s=i.boxSizing==="border-box",o=nl(i,"padding"),a=nl(i,"border","width"),{x:u,y:c,box:h}=_P(e,n),p=o.left+(h&&a.left),g=o.top+(h&&a.top);let{width:x,height:w}=t;return s&&(x-=o.width+a.width,w-=o.height+a.height),{x:Math.round((u-p)/x*n.width/r),y:Math.round((c-g)/w*n.height/r)}}function SP(e,t,n){let r,i;if(t===void 0||n===void 0){const s=e&&bv(e);if(!s)t=e.clientWidth,n=e.clientHeight;else{const o=s.getBoundingClientRect(),a=lm(s),u=nl(a,"border","width"),c=nl(a,"padding");t=o.width-c.width-u.width,n=o.height-c.height-u.height,r=Dp(a.maxWidth,s,"clientWidth"),i=Dp(a.maxHeight,s,"clientHeight")}}return{width:t,height:n,maxWidth:r||Lp,maxHeight:i||Lp}}const Tf=e=>Math.round(e*10)/10;function CP(e,t,n,r){const i=lm(e),s=nl(i,"margin"),o=Dp(i.maxWidth,e,"clientWidth")||Lp,a=Dp(i.maxHeight,e,"clientHeight")||Lp,u=SP(e,t,n);let{width:c,height:h}=u;if(i.boxSizing==="content-box"){const g=nl(i,"border","width"),x=nl(i,"padding");c-=x.width+g.width,h-=x.height+g.height}return c=Math.max(0,c-s.width),h=Math.max(0,r?c/r:h-s.height),c=Tf(Math.min(c,o,u.maxWidth)),h=Tf(Math.min(h,a,u.maxHeight)),c&&!h&&(h=Tf(c/2)),(t!==void 0||n!==void 0)&&r&&u.height&&h>u.height&&(h=u.height,c=Tf(Math.floor(h*r))),{width:c,height:h}}function Lw(e,t,n){const r=t||1,i=Math.floor(e.height*r),s=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(e.currentDevicePixelRatio=r,o.height=i,o.width=s,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const kP=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};xv()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function Aw(e,t){const n=xP(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Wa(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function jP(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:r==="middle"?n<.5?e.y:t.y:r==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function EP(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},o=Wa(e,i,n),a=Wa(i,s,n),u=Wa(s,t,n),c=Wa(o,a,n),h=Wa(a,u,n);return Wa(c,h,n)}const TP=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},NP=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Lu(e,t,n){return e?TP(t,n):NP()}function v6(e,t){let n,r;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function x6(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function b6(e){return e==="angle"?{between:Td,compare:PN,normalize:gr}:{between:to,compare:(t,n)=>t-n,normalize:t=>t}}function Dw({start:e,end:t,count:n,loop:r,style:i}){return{start:e%n,end:t%n,loop:r&&(t-e+1)%n===0,style:i}}function PP(e,t,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=b6(r),u=t.length;let{start:c,end:h,loop:p}=e,g,x;if(p){for(c+=u,h+=u,g=0,x=u;g<x&&o(a(t[c%u][r]),i,s);++g)c--,h--;c%=u,h%=u}return h<c&&(h+=u),{start:c,end:h,loop:p,style:e.style}}function w6(e,t,n){if(!n)return[e];const{property:r,start:i,end:s}=n,o=t.length,{compare:a,between:u,normalize:c}=b6(r),{start:h,end:p,loop:g,style:x}=PP(e,t,n),w=[];let S=!1,C=null,E,L,A;const B=()=>u(i,A,E)&&a(i,A)!==0,$=()=>a(s,E)===0||u(s,A,E),P=()=>S||B(),M=()=>!S||$();for(let H=h,Q=h;H<=p;++H)L=t[H%o],!L.skip&&(E=c(L[r]),E!==A&&(S=u(E,i,s),C===null&&P()&&(C=a(E,i)===0?H:Q),C!==null&&M()&&(w.push(Dw({start:C,end:H,loop:g,count:o,style:x})),C=null),Q=H,A=E));return C!==null&&w.push(Dw({start:C,end:p,loop:g,count:o,style:x})),w}function _6(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const s=w6(r[i],e.points,t);s.length&&n.push(...s)}return n}function OP(e,t,n,r){let i=0,s=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(s+=i);s>i&&e[s%t].skip;)s--;return s%=t,{start:i,end:s}}function LP(e,t,n,r){const i=e.length,s=[];let o=t,a=e[t],u;for(u=t+1;u<=n;++u){const c=e[u%i];c.skip||c.stop?a.skip||(r=!1,s.push({start:t%i,end:(u-1)%i,loop:r}),t=o=c.stop?u:null):(o=u,a.skip&&(t=u)),a=c}return o!==null&&s.push({start:t%i,end:o%i,loop:r}),s}function AP(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const s=!!e._loop,{start:o,end:a}=OP(n,i,s,r);if(r===!0)return Iw(e,[{start:o,end:a,loop:s}],n,t);const u=a<o?a+i:a,c=!!e._fullLoop&&o===0&&a===i-1;return Iw(e,LP(n,o,u,c),n,t)}function Iw(e,t,n,r){return!r||!r.setContext||!n?t:DP(e,t,n,r)}function DP(e,t,n,r){const i=e._chart.getContext(),s=Rw(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,u=n.length,c=[];let h=s,p=t[0].start,g=p;function x(w,S,C,E){const L=a?-1:1;if(w!==S){for(w+=u;n[w%u].skip;)w-=L;for(;n[S%u].skip;)S+=L;w%u!==S%u&&(c.push({start:w%u,end:S%u,loop:C,style:E}),h=E,p=S%u)}}for(const w of t){p=a?p:w.start;let S=n[p%u],C;for(g=p+1;g<=w.end;g++){const E=n[g%u];C=Rw(r.setContext(ia(i,{type:"segment",p0:S,p1:E,p0DataIndex:(g-1)%u,p1DataIndex:g%u,datasetIndex:o}))),IP(C,h)&&x(p,g-1,w.loop,h),S=E,h=C}p<g-1&&x(p,g-1,w.loop,h)}return c}function Rw(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function IP(e,t){if(!t)return!1;const n=[],r=function(i,s){return pv(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function Nf(e,t,n){return e.options.clip?e[n]:t[n]}function RP(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:Nf(n,t,"left"),right:Nf(n,t,"right"),top:Nf(r,t,"top"),bottom:Nf(r,t,"bottom")}:t}function S6(e,t){const n=t._clip;if(n.disabled)return!1;const r=RP(t,e.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class MP{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=s6.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,u;for(;o>=0;--o)u=s[o],u._active?(u._total>r.duration&&(r.duration=u._total),u.tick(t),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,t,"progress")),s.length||(r.running=!1,this._notify(i,r,t,"complete"),r.initial=!1),n+=s.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let r=n.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,r)),r}listen(t,n,r){this._getAnims(t).listeners[n].push(r)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var qs=new MP;const Mw="transparent",FP={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const r=Ew(e||Mw),i=r.valid&&Ew(t||Mw);return i&&i.valid?i.mix(r,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class BP{constructor(t,n,r,i){const s=n[r];i=rd([t.to,i,s,t.from]);const o=rd([t.from,s,i]);this._active=!0,this._fn=t.fn||FP[t.type||typeof o],this._easing=dd[t.easing]||dd.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=rd([t.to,n,i,t.from]),this._from=rd([t.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let u;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}u=n/r%2,u=o&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[i]=this._fn(s,a,u)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,r)=>{t.push({res:n,rej:r})})}_notify(t){const n=t?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class C6{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Ft(t))return;const n=Object.keys(bn.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const s=t[i];if(!Ft(s))return;const o={};for(const a of n)o[a]=s[a];(xn(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(t,n){const r=n.options,i=$P(t,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&zP(t.options.$animations,r).then(()=>{t.options=r},()=>{}),s}_createAnimations(t,n){const r=this._properties,i=[],s=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let u;for(u=o.length-1;u>=0;--u){const c=o[u];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(t,n));continue}const h=n[c];let p=s[c];const g=r.get(c);if(p)if(g&&p.active()){p.update(g,h,a);continue}else p.cancel();if(!g||!g.duration){t[c]=h;continue}s[c]=p=new BP(g,t,c,h),i.push(p)}return i}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const r=this._createAnimations(t,n);if(r.length)return qs.add(this._chart,r),!0}}function zP(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const s=e[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function $P(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Fw(e,t){const n=e&&e.options||{},r=n.reverse,i=n.min===void 0?t:0,s=n.max===void 0?t:0;return{start:r?s:i,end:r?i:s}}function UP(e,t,n){if(n===!1)return!1;const r=Fw(e,n),i=Fw(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function HP(e){let t,n,r,i;return Ft(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:e===!1}}function k6(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function Bw(e,t,n,r={}){const i=e.keys,s=r.mode==="single";let o,a,u,c;if(t===null)return;let h=!1;for(o=0,a=i.length;o<a;++o){if(u=+i[o],u===n){if(h=!0,r.all)continue;break}c=e.values[u],kn(c)&&(s||t===0||bs(t)===bs(c))&&(t+=c)}return!h&&!r.all?0:t}function QP(e,t){const{iScale:n,vScale:r}=t,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(e),a=new Array(o.length);let u,c,h;for(u=0,c=o.length;u<c;++u)h=o[u],a[u]={[i]:h,[s]:e[h]};return a}function T0(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function VP(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function WP(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function qP(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function zw(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const s=e[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function $w(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,u=s.axis,c=o.axis,h=VP(s,o,r),p=t.length;let g;for(let x=0;x<p;++x){const w=t[x],{[u]:S,[c]:C}=w,E=w._stacks||(w._stacks={});g=E[c]=qP(i,h,S),g[a]=C,g._top=zw(g,o,!0,r.type),g._bottom=zw(g,o,!1,r.type);const L=g._visualValues||(g._visualValues={});L[a]=C}}function N0(e,t){const n=e.scales;return Object.keys(n).filter(r=>n[r].axis===t).shift()}function KP(e,t){return ia(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function GP(e,t,n){return ia(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Fc(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const i of t){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const P0=e=>e==="reset"||e==="none",Uw=(e,t)=>t?e:Object.assign({},e),YP=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:k6(n,!0),values:null};class sa{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=T0(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Fc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(p,g,x,w)=>p==="x"?g:p==="r"?w:x,s=n.xAxisID=xt(r.xAxisID,N0(t,"x")),o=n.yAxisID=xt(r.yAxisID,N0(t,"y")),a=n.rAxisID=xt(r.rAxisID,N0(t,"r")),u=n.indexAxis,c=n.iAxisID=i(u,s,o,a),h=n.vAxisID=i(u,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Cw(this._data,this),t._stacked&&Fc(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(Ft(n)){const i=this._cachedMeta;this._data=QP(n,i)}else if(r!==n){if(r){Cw(r,this);const i=this._cachedMeta;Fc(i),i._parsed=[]}n&&Object.isExtensible(n)&&DN(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=T0(n.vScale,n),n.stack!==r.stack&&(i=!0,Fc(n),n.stack=r.stack),this._resyncElements(t),(i||s!==n._stacked)&&($w(this,n._parsed),n._stacked=T0(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let u=t===0&&n===i.length?!0:r._sorted,c=t>0&&r._parsed[t-1],h,p,g;if(this._parsing===!1)r._parsed=i,r._sorted=!0,g=i;else{xn(i[t])?g=this.parseArrayData(r,i,t,n):Ft(i[t])?g=this.parseObjectData(r,i,t,n):g=this.parsePrimitiveData(r,i,t,n);const x=()=>p[a]===null||c&&p[a]<c[a];for(h=0;h<n;++h)r._parsed[h+t]=p=g[h],u&&(x()&&(u=!1),c=p);r._sorted=u}o&&$w(this,g)}parsePrimitiveData(t,n,r,i){const{iScale:s,vScale:o}=t,a=s.axis,u=o.axis,c=s.getLabels(),h=s===o,p=new Array(i);let g,x,w;for(g=0,x=i;g<x;++g)w=g+r,p[g]={[a]:h||s.parse(c[w],w),[u]:o.parse(n[w],w)};return p}parseArrayData(t,n,r,i){const{xScale:s,yScale:o}=t,a=new Array(i);let u,c,h,p;for(u=0,c=i;u<c;++u)h=u+r,p=n[h],a[u]={x:s.parse(p[0],h),y:o.parse(p[1],h)};return a}parseObjectData(t,n,r,i){const{xScale:s,yScale:o}=t,{xAxisKey:a="x",yAxisKey:u="y"}=this._parsing,c=new Array(i);let h,p,g,x;for(h=0,p=i;h<p;++h)g=h+r,x=n[g],c[h]={x:s.parse(Jo(x,a),g),y:o.parse(Jo(x,u),g)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const i=this.chart,s=this._cachedMeta,o=n[t.axis],a={keys:k6(i,!0),values:n._stacks[t.axis]._visualValues};return Bw(a,o,s.index,{mode:r})}updateRangeFromParsed(t,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=Bw(i,s,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&t===r.iScale,o=i.length,a=this._getOtherScale(t),u=YP(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:p}=WP(a);let g,x;function w(){x=i[g];const S=x[a.axis];return!kn(x[t.axis])||h>S||p<S}for(g=0;g<o&&!(!w()&&(this.updateRangeFromParsed(c,t,x,u),s));++g);if(s){for(g=o-1;g>=0;--g)if(!w()){this.updateRangeFromParsed(c,t,x,u);break}}return c}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][t.axis],kn(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(t);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=HP(xt(this.options.clip,UP(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,u=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let h;for(r.dataset&&r.dataset.draw(t,s,a,u),h=a;h<a+u;++h){const p=i[h];p.hidden||(p.active&&c?o.push(p):p.draw(t,s))}for(h=0;h<o.length;++h)o[h].draw(t,s)}getStyle(t,n){const r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const i=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];s=o.$context||(o.$context=GP(this.getContext(),t,o)),s.parsed=this.getParsed(t),s.raw=i.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=KP(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=t+"-"+n,a=s[o],u=this.enableOptionSharing&&Ed(r);if(a)return Uw(a,u);const c=this.chart.config,h=c.datasetElementScopeKeys(this._type,t),p=i?[`${t}Hover`,"hover",t,""]:[t,""],g=c.getOptionScopes(this.getDataset(),h),x=Object.keys(bn.elements[t]),w=()=>this.getContext(r,i,n),S=c.resolveNamedOptions(g,x,w,p);return S.$shared&&(S.$shared=u,s[o]=Object.freeze(Uw(S,u))),S}_resolveAnimations(t,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let u;if(i.options.animation!==!1){const h=this.chart.config,p=h.datasetAnimationScopeKeys(this._type,n),g=h.getOptionScopes(this.getDataset(),p);u=h.createResolver(g,this.getContext(t,r,n))}const c=new C6(i,u&&u.animations);return u&&u._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||P0(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(t,n,r,i){P0(i)?Object.assign(t,r):this._resolveAnimations(n,i).update(t,r)}updateSharedOptions(t,n,r){t&&!P0(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,i){t.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(t,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[a,u,c]of this._syncList)this[a](u,c);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,t):s<i&&this._removeElements(s,i-s)}_insertElements(t,n,r=!0){const i=this._cachedMeta,s=i.data,o=t+n;let a;const u=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(u(s),a=t;a<o;++a)s[a]=new this.dataElementType;this._parsing&&u(i._parsed),this.parse(t,n),r&&this.updateElements(s,t,n,"reset")}updateElements(t,n,r,i){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(t,n);r._stacked&&Fc(r,i)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,i]=t;this[n](r,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function XP(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(e));e._cache.$bar=i6(r.sort((i,s)=>i-s))}return e._cache.$bar}function JP(e){const t=e.iScale,n=XP(t,e.type);let r=t._length,i,s,o,a;const u=()=>{o===32767||o===-32768||(Ed(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=n.length;i<s;++i)o=t.getPixelForValue(n[i]),u();for(a=void 0,i=0,s=t.ticks.length;i<s;++i)o=t.getPixelForTick(i),u();return r}function ZP(e,t,n,r){const i=n.barThickness;let s,o;return Mt(i)?(s=t.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:t.pixels[e]-s/2}}function eO(e,t,n,r){const i=t.pixels,s=i[e];let o=e>0?i[e-1]:null,a=e<i.length-1?i[e+1]:null;const u=n.categoryPercentage;o===null&&(o=s-(a===null?t.end-t.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*u;return{chunk:Math.abs(a-o)/2*u/r,ratio:n.barPercentage,start:c}}function tO(e,t,n,r){const i=n.parse(e[0],r),s=n.parse(e[1],r),o=Math.min(i,s),a=Math.max(i,s);let u=o,c=a;Math.abs(o)>Math.abs(a)&&(u=a,c=o),t[n.axis]=c,t._custom={barStart:u,barEnd:c,start:i,end:s,min:o,max:a}}function j6(e,t,n,r){return xn(e)?tO(e,t,n,r):t[n.axis]=n.parse(e,r),t}function Hw(e,t,n,r){const i=e.iScale,s=e.vScale,o=i.getLabels(),a=i===s,u=[];let c,h,p,g;for(c=n,h=n+r;c<h;++c)g=t[c],p={},p[i.axis]=a||i.parse(o[c],c),u.push(j6(g,p,s,c));return u}function O0(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function nO(e,t,n){return e!==0?bs(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function rO(e){let t,n,r,i,s;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:t,top:i,bottom:s}}function iO(e,t,n,r){let i=t.borderSkipped;const s={};if(!i){e.borderSkipped=s;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:u,top:c,bottom:h}=rO(e);i==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=h:(s[Qw(h,o,a,u)]=!0,i=c)),s[Qw(i,o,a,u)]=!0,e.borderSkipped=s}function Qw(e,t,n,r){return r?(e=sO(e,t,n),e=Vw(e,n,t)):e=Vw(e,t,n),e}function sO(e,t,n){return e===t?n:e===n?t:e}function Vw(e,t,n){return e==="start"?t:e==="end"?n:e}function oO(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class E6 extends sa{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,n,r,i){return Hw(t,n,r,i)}parseArrayData(t,n,r,i){return Hw(t,n,r,i)}parseObjectData(t,n,r,i){const{iScale:s,vScale:o}=t,{xAxisKey:a="x",yAxisKey:u="y"}=this._parsing,c=s.axis==="x"?a:u,h=o.axis==="x"?a:u,p=[];let g,x,w,S;for(g=r,x=r+i;g<x;++g)S=n[g],w={},w[s.axis]=s.parse(Jo(S,c),g),p.push(j6(Jo(S,h),w,o,g));return p}updateRangeFromParsed(t,n,r,i){super.updateRangeFromParsed(t,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(t),o=s._custom,a=O0(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,r,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,u=a.getBasePixel(),c=a.isHorizontal(),h=this._getRuler(),{sharedOptions:p,includeOptions:g}=this._getSharedOptions(n,i);for(let x=n;x<n+r;x++){const w=this.getParsed(x),S=s||Mt(w[a.axis])?{base:u,head:u}:this._calculateBarValuePixels(x),C=this._calculateBarIndexPixels(x,h),E=(w._stacks||{})[a.axis],L={horizontal:c,base:S.base,enableBorderRadius:!E||O0(w._custom)||o===E._top||o===E._bottom,x:c?S.head:C.center,y:c?C.center:S.head,height:c?C.size:Math.abs(S.size),width:c?Math.abs(S.size):C.size};g&&(L.options=p||this.resolveDataElementOptions(x,t[x].active?"active":i));const A=L.options||t[x].options;iO(L,A,E,o),oO(L,A,h.ratio),this.updateElement(t[x],x,L,i)}}_getStacks(t,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),s=r.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),u=a&&a[r.axis],c=h=>{const p=h._parsed.find(x=>x[r.axis]===u),g=p&&p[h.vScale.axis];if(Mt(g)||isNaN(g))return!0};for(const h of i)if(!(n!==void 0&&c(h))&&((s===!1||o.indexOf(h.stack)===-1||s===void 0&&h.stack===void 0)&&o.push(h.stack),h.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(r=>t[r].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)t[xt(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,r){const i=this._getStacks(t,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const t=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,o;for(s=0,o=n.data.length;s<o;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const a=t.barThickness;return{min:a||JP(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:s,minBarLength:o}}=this,a=s||0,u=this.getParsed(t),c=u._custom,h=O0(c);let p=u[n.axis],g=0,x=r?this.applyStack(n,u,r):p,w,S;x!==p&&(g=x-p,x=p),h&&(p=c.barStart,x=c.barEnd-c.barStart,p!==0&&bs(p)!==bs(c.barEnd)&&(g=0),g+=p);const C=!Mt(s)&&!h?s:g;let E=n.getPixelForValue(C);if(this.chart.getDataVisibility(t)?w=n.getPixelForValue(g+x):w=E,S=w-E,Math.abs(S)<o){S=nO(S,n,a)*o,p===a&&(E-=S/2);const L=n.getPixelForDecimal(0),A=n.getPixelForDecimal(1),B=Math.min(L,A),$=Math.max(L,A);E=Math.max(Math.min(E,$),B),w=E+S,r&&!h&&(u._stacks[n.axis]._visualValues[i]=n.getValueForPixel(w)-n.getValueForPixel(E))}if(E===n.getPixelForValue(a)){const L=bs(S)*n.getLineWidthForValue(a)/2;E+=L,S-=L}return{size:S,base:E,head:w,center:w+S/2}}_calculateBarIndexPixels(t,n){const r=n.scale,i=this.options,s=i.skipNull,o=xt(i.maxBarThickness,1/0);let a,u;const c=this._getAxisCount();if(n.grouped){const h=s?this._getStackCount(t):n.stackCount,p=i.barThickness==="flex"?eO(t,n,i,h*c):ZP(t,n,i,h*c),g=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,x=this._getAxis().indexOf(xt(g,this.getFirstScaleIdForIndexAxis())),w=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0)+x;a=p.start+p.chunk*w+p.chunk/2,u=Math.min(o,p.chunk*p.ratio)}else a=r.getPixelForValue(this.getParsed(t)[r.axis],t),u=Math.min(o,n.min*n.ratio);return{base:a-u/2,head:a+u/2,center:a,size:u}}draw(){const t=this._cachedMeta,n=t.vScale,r=t.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}class aO extends sa{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,r,i){const s=super.parsePrimitiveData(t,n,r,i);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+r).radius;return s}parseArrayData(t,n,r,i){const s=super.parseArrayData(t,n,r,i);for(let o=0;o<s.length;o++){const a=n[r+o];s[o]._custom=xt(a[2],this.resolveDataElementOptions(o+r).radius)}return s}parseObjectData(t,n,r,i){const s=super.parseObjectData(t,n,r,i);for(let o=0;o<s.length;o++){const a=n[r+o];s[o]._custom=xt(a&&a.r&&+a.r,this.resolveDataElementOptions(o+r).radius)}return s}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let r=t.length-1;r>=0;--r)n=Math.max(n,t[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,o=this.getParsed(t),a=i.getLabelForValue(o.x),u=s.getLabelForValue(o.y),c=o._custom;return{label:r[t]||"",value:"("+a+", "+u+(c?", "+c:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,r,i){const s=i==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:u,includeOptions:c}=this._getSharedOptions(n,i),h=o.axis,p=a.axis;for(let g=n;g<n+r;g++){const x=t[g],w=!s&&this.getParsed(g),S={},C=S[h]=s?o.getPixelForDecimal(.5):o.getPixelForValue(w[h]),E=S[p]=s?a.getBasePixel():a.getPixelForValue(w[p]);S.skip=isNaN(C)||isNaN(E),c&&(S.options=u||this.resolveDataElementOptions(g,x.active?"active":i),s&&(S.options.radius=0)),this.updateElement(x,g,S,i)}}resolveDataElementOptions(t,n){const r=this.getParsed(t);let i=super.resolveDataElementOptions(t,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const s=i.radius;return n!=="active"&&(i.radius=0),i.radius+=xt(r&&r._custom,s),i}}function lO(e,t,n){let r=1,i=1,s=0,o=0;if(t<hn){const a=e,u=a+t,c=Math.cos(a),h=Math.sin(a),p=Math.cos(u),g=Math.sin(u),x=(A,B,$)=>Td(A,a,u,!0)?1:Math.max(B,B*n,$,$*n),w=(A,B,$)=>Td(A,a,u,!0)?-1:Math.min(B,B*n,$,$*n),S=x(0,c,p),C=x(On,h,g),E=w(qt,c,p),L=w(qt+On,h,g);r=(S-E)/2,i=(C-L)/2,s=-(S+E)/2,o=-(C+L)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class um extends sa{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=t.legend.options;return n.labels.map((s,o)=>{const u=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:i,lineWidth:u.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=u=>+r[u];if(Ft(r[t])){const{key:u="value"}=this._parsing;s=c=>+Jo(r[c],u)}let o,a;for(o=t,a=t+n;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return Zi(this.options.rotation-90)}_getCircumference(){return Zi(this.options.circumference)}_getRotationExtents(){let t=hn,n=-hn;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();t=Math.min(t,s),n=Math.max(n,s+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),u=Math.min(xN(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:h,rotation:p}=this._getRotationExtents(),{ratioX:g,ratioY:x,offsetX:w,offsetY:S}=lO(p,h,u),C=(r.width-o)/g,E=(r.height-o)/x,L=Math.max(Math.min(C,E)/2,0),A=Z_(this.options.radius,L),B=Math.max(A*u,0),$=(A-B)/this._getVisibleDatasetWeightTotal();this.offsetX=w*A,this.offsetY=S*A,i.total=this.calculateTotal(),this.outerRadius=A-$*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-$*c,0),this.updateElements(s,0,s.length,t)}_circumference(t,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*s/hn)}updateElements(t,n,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,h=(a.left+a.right)/2,p=(a.top+a.bottom)/2,g=s&&c.animateScale,x=g?0:this.innerRadius,w=g?0:this.outerRadius,{sharedOptions:S,includeOptions:C}=this._getSharedOptions(n,i);let E=this._getRotation(),L;for(L=0;L<n;++L)E+=this._circumference(L,s);for(L=n;L<n+r;++L){const A=this._circumference(L,s),B=t[L],$={x:h+this.offsetX,y:p+this.offsetY,startAngle:E,endAngle:E+A,circumference:A,outerRadius:w,innerRadius:x};C&&($.options=S||this.resolveDataElementOptions(L,B.active?"active":i)),E+=A,this.updateElement(B,L,$,i)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let r=0,i;for(i=0;i<n.length;i++){const s=t._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?hn*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Wd(n._parsed[t],r.options.locale);return{label:i[t]||"",value:s}}getMaxBorderWidth(t){let n=0;const r=this.chart;let i,s,o,a,u;if(!t){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),t=o.data,a=o.controller;break}}if(!t)return 0;for(i=0,s=t.length;i<s;++i)u=a.resolveDataElementOptions(i),u.borderAlign!=="inner"&&(n=Math.max(n,u.borderWidth||0,u.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let r=0,i=t.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(t){return Math.max(xt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class uO extends sa{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:u}=a6(n,i,o);this._drawStart=a,this._drawCount=u,l6(n)&&(a=0,u=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},t),this.updateElements(i,a,u,t)}updateElements(t,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:u,_dataset:c}=this._cachedMeta,{sharedOptions:h,includeOptions:p}=this._getSharedOptions(n,i),g=o.axis,x=a.axis,{spanGaps:w,segment:S}=this.options,C=ol(w)?w:Number.POSITIVE_INFINITY,E=this.chart._animationsDisabled||s||i==="none",L=n+r,A=t.length;let B=n>0&&this.getParsed(n-1);for(let $=0;$<A;++$){const P=t[$],M=E?P:{};if($<n||$>=L){M.skip=!0;continue}const H=this.getParsed($),Q=Mt(H[x]),F=M[g]=o.getPixelForValue(H[g],$),ae=M[x]=s||Q?a.getBasePixel():a.getPixelForValue(u?this.applyStack(a,H,u):H[x],$);M.skip=isNaN(F)||isNaN(ae)||Q,M.stop=$>0&&Math.abs(H[g]-B[g])>C,S&&(M.parsed=H,M.raw=c.data[$]),p&&(M.options=h||this.resolveDataElementOptions($,P.active?"active":i)),E||this.updateElement(P,$,M,i),B=H}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,r=n.options&&n.options.borderWidth||0,i=t.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class T6 extends sa{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=t.legend.options;return n.labels.map((s,o)=>{const u=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:i,lineWidth:u.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Wd(n._parsed[t].r,r.options.locale);return{label:i[t]||"",value:s}}parseObjectData(t,n,r,i){return g6.bind(this)(t,n,r,i)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((r,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,r=t.options,i=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(i/2,0),o=Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0),a=(s-o)/t.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,n,r,i){const s=i==="reset",o=this.chart,u=o.options.animation,c=this._cachedMeta.rScale,h=c.xCenter,p=c.yCenter,g=c.getIndexAngle(0)-.5*qt;let x=g,w;const S=360/this.countVisibleElements();for(w=0;w<n;++w)x+=this._computeAngle(w,i,S);for(w=n;w<n+r;w++){const C=t[w];let E=x,L=x+this._computeAngle(w,i,S),A=o.getDataVisibility(w)?c.getDistanceFromCenterForValue(this.getParsed(w).r):0;x=L,s&&(u.animateScale&&(A=0),u.animateRotate&&(E=L=g));const B={x:h,y:p,innerRadius:0,outerRadius:A,startAngle:E,endAngle:L,options:this.resolveDataElementOptions(w,C.active?"active":i)};this.updateElement(C,w,B,i)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((r,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(t,n,r){return this.chart.getDataVisibility(t)?Zi(this.resolveDataElementOptions(t,n).angle||r):0}}class cO extends um{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class N6 extends sa{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const n=this._cachedMeta.vScale,r=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(t,n,r,i){return g6.bind(this)(t,n,r,i)}update(t){const n=this._cachedMeta,r=n.dataset,i=n.data||[],s=n.iScale.getLabels();if(r.points=i,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===i.length,options:o};this.updateElement(r,void 0,a,t)}this.updateElements(i,0,i.length,t)}updateElements(t,n,r,i){const s=this._cachedMeta.rScale,o=i==="reset";for(let a=n;a<n+r;a++){const u=t[a],c=this.resolveDataElementOptions(a,u.active?"active":i),h=s.getPointPositionForValue(a,this.getParsed(a).r),p=o?s.xCenter:h.x,g=o?s.yCenter:h.y,x={x:p,y:g,angle:h.angle,skip:isNaN(p)||isNaN(g),options:c};this.updateElement(u,a,x,i)}}}class dO extends sa{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,o=this.getParsed(t),a=i.getLabelForValue(o.x),u=s.getLabelForValue(o.y);return{label:r[t]||"",value:"("+a+", "+u+")"}}update(t){const n=this._cachedMeta,{data:r=[]}=n,i=this.chart._animationsDisabled;let{start:s,count:o}=a6(n,r,i);if(this._drawStart=s,this._drawCount=o,l6(n)&&(s=0,o=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:u}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!u._decimated,a.points=r;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,s,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:u,_dataset:c}=this._cachedMeta,h=this.resolveDataElementOptions(n,i),p=this.getSharedOptions(h),g=this.includeOptions(i,p),x=o.axis,w=a.axis,{spanGaps:S,segment:C}=this.options,E=ol(S)?S:Number.POSITIVE_INFINITY,L=this.chart._animationsDisabled||s||i==="none";let A=n>0&&this.getParsed(n-1);for(let B=n;B<n+r;++B){const $=t[B],P=this.getParsed(B),M=L?$:{},H=Mt(P[w]),Q=M[x]=o.getPixelForValue(P[x],B),F=M[w]=s||H?a.getBasePixel():a.getPixelForValue(u?this.applyStack(a,P,u):P[w],B);M.skip=isNaN(Q)||isNaN(F)||H,M.stop=B>0&&Math.abs(P[x]-A[x])>E,C&&(M.parsed=P,M.raw=c.data[B]),g&&(M.options=p||this.resolveDataElementOptions(B,$.active?"active":i)),L||this.updateElement($,B,M,i),A=P}this.updateSharedOptions(p,i,h)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let a=0;for(let u=n.length-1;u>=0;--u)a=Math.max(a,n[u].size(this.resolveDataElementOptions(u))/2);return a>0&&a}const r=t.dataset,i=r.options&&r.options.borderWidth||0;if(!n.length)return i;const s=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,s,o)/2}}var hO=Object.freeze({__proto__:null,BarController:E6,BubbleController:aO,DoughnutController:um,LineController:uO,PieController:cO,PolarAreaController:T6,RadarController:N6,ScatterController:dO});function Ma(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class wv{static override(t){Object.assign(wv.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Ma()}parse(){return Ma()}format(){return Ma()}add(){return Ma()}diff(){return Ma()}startOf(){return Ma()}endOf(){return Ma()}}var fO={_date:wv};function pO(e,t,n,r){const{controller:i,data:s,_sorted:o}=e,a=i._cachedMeta.iScale,u=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&s.length){const c=a._reversePixels?LN:no;if(r){if(i._sharedOptions){const h=s[0],p=typeof h.getRange=="function"&&h.getRange(t);if(p){const g=c(s,t,n-p),x=c(s,t,n+p);return{lo:g.lo,hi:x.hi}}}}else{const h=c(s,t,n);if(u){const{vScale:p}=i._cachedMeta,{_parsed:g}=e,x=g.slice(0,h.lo+1).reverse().findIndex(S=>!Mt(S[p.axis]));h.lo-=Math.max(0,x);const w=g.slice(h.hi).findIndex(S=>!Mt(S[p.axis]));h.hi+=Math.max(0,w)}return h}}return{lo:0,hi:s.length-1}}function cm(e,t,n,r,i){const s=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,u=s.length;a<u;++a){const{index:c,data:h}=s[a],{lo:p,hi:g}=pO(s[a],t,o,i);for(let x=p;x<=g;++x){const w=h[x];w.skip||r(w,c,x)}}}function mO(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(r,i){const s=t?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function L0(e,t,n,r,i){const s=[];return!i&&!e.isPointInArea(t)||cm(e,n,t,function(a,u,c){!i&&!ro(a,e.chartArea,0)||a.inRange(t.x,t.y,r)&&s.push({element:a,datasetIndex:u,index:c})},!0),s}function gO(e,t,n,r){let i=[];function s(o,a,u){const{startAngle:c,endAngle:h}=o.getProps(["startAngle","endAngle"],r),{angle:p}=n6(o,{x:t.x,y:t.y});Td(p,c,h)&&i.push({element:o,datasetIndex:a,index:u})}return cm(e,n,t,s),i}function yO(e,t,n,r,i,s){let o=[];const a=mO(n);let u=Number.POSITIVE_INFINITY;function c(h,p,g){const x=h.inRange(t.x,t.y,i);if(r&&!x)return;const w=h.getCenterPoint(i);if(!(!!s||e.isPointInArea(w))&&!x)return;const C=a(t,w);C<u?(o=[{element:h,datasetIndex:p,index:g}],u=C):C===u&&o.push({element:h,datasetIndex:p,index:g})}return cm(e,n,t,c),o}function A0(e,t,n,r,i,s){return!s&&!e.isPointInArea(t)?[]:n==="r"&&!r?gO(e,t,n,i):yO(e,t,n,r,i,s)}function Ww(e,t,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return cm(e,n,t,(u,c,h)=>{u[o]&&u[o](t[n],i)&&(s.push({element:u,datasetIndex:c,index:h}),a=a||u.inRange(t.x,t.y,i))}),r&&!a?[]:s}var vO={modes:{index(e,t,n,r){const i=Va(t,e),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?L0(e,i,s,r,o):A0(e,i,s,!1,r,o),u=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const h=a[0].index,p=c.data[h];p&&!p.skip&&u.push({element:p,datasetIndex:c.index,index:h})}),u):[]},dataset(e,t,n,r){const i=Va(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?L0(e,i,s,r,o):A0(e,i,s,!1,r,o);if(a.length>0){const u=a[0].datasetIndex,c=e.getDatasetMeta(u).data;a=[];for(let h=0;h<c.length;++h)a.push({element:c[h],datasetIndex:u,index:h})}return a},point(e,t,n,r){const i=Va(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return L0(e,i,s,r,o)},nearest(e,t,n,r){const i=Va(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return A0(e,i,s,n.intersect,r,o)},x(e,t,n,r){const i=Va(t,e);return Ww(e,i,"x",n.intersect,r)},y(e,t,n,r){const i=Va(t,e);return Ww(e,i,"y",n.intersect,r)}}};const P6=["left","top","right","bottom"];function Bc(e,t){return e.filter(n=>n.pos===t)}function qw(e,t){return e.filter(n=>P6.indexOf(n.pos)===-1&&n.box.axis===t)}function zc(e,t){return e.sort((n,r)=>{const i=t?r:n,s=t?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function xO(e){const t=[];let n,r,i,s,o,a;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,t.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return t}function bO(e){const t={};for(const n of e){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!P6.includes(i))continue;const o=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function wO(e,t){const n=bO(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let s,o,a;for(s=0,o=e.length;s<o;++s){a=e[s];const{fullSize:u}=a.box,c=n[a.stack],h=c&&a.stackWeight/c.weight;a.horizontal?(a.width=h?h*r:u&&t.availableWidth,a.height=i):(a.width=r,a.height=h?h*i:u&&t.availableHeight)}return n}function _O(e){const t=xO(e),n=zc(t.filter(c=>c.box.fullSize),!0),r=zc(Bc(t,"left"),!0),i=zc(Bc(t,"right")),s=zc(Bc(t,"top"),!0),o=zc(Bc(t,"bottom")),a=qw(t,"x"),u=qw(t,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(u).concat(o).concat(a),chartArea:Bc(t,"chartArea"),vertical:r.concat(i).concat(u),horizontal:s.concat(o).concat(a)}}function Kw(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function O6(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function SO(e,t,n,r){const{pos:i,box:s}=n,o=e.maxPadding;if(!Ft(i)){n.size&&(e[i]-=n.size);const p=r[n.stack]||{size:0,count:1};p.size=Math.max(p.size,n.horizontal?s.height:s.width),n.size=p.size/p.count,e[i]+=n.size}s.getPadding&&O6(o,s.getPadding());const a=Math.max(0,t.outerWidth-Kw(o,e,"left","right")),u=Math.max(0,t.outerHeight-Kw(o,e,"top","bottom")),c=a!==e.w,h=u!==e.h;return e.w=a,e.h=u,n.horizontal?{same:c,other:h}:{same:h,other:c}}function CO(e){const t=e.maxPadding;function n(r){const i=Math.max(t[r]-e[r],0);return e[r]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function kO(e,t){const n=t.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(t[o],n[o])}),s}return r(e?["left","right"]:["top","bottom"])}function id(e,t,n,r){const i=[];let s,o,a,u,c,h;for(s=0,o=e.length,c=0;s<o;++s){a=e[s],u=a.box,u.update(a.width||t.w,a.height||t.h,kO(a.horizontal,t));const{same:p,other:g}=SO(t,n,a,r);c|=p&&i.length,h=h||g,u.fullSize||i.push(a)}return c&&id(i,t,n,r)||h}function Pf(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function Gw(e,t,n,r){const i=n.padding;let{x:s,y:o}=t;for(const a of e){const u=a.box,c=r[a.stack]||{placed:0,weight:1},h=a.stackWeight/c.weight||1;if(a.horizontal){const p=t.w*h,g=c.size||u.height;Ed(c.start)&&(o=c.start),u.fullSize?Pf(u,i.left,o,n.outerWidth-i.right-i.left,g):Pf(u,t.left+c.placed,o,p,g),c.start=o,c.placed+=p,o=u.bottom}else{const p=t.h*h,g=c.size||u.width;Ed(c.start)&&(s=c.start),u.fullSize?Pf(u,s,i.top,g,n.outerHeight-i.bottom-i.top):Pf(u,s,t.top+c.placed,g,p),c.start=s,c.placed+=p,s=u.right}}t.x=s,t.y=o}var yr={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=xr(e.options.layout.padding),s=Math.max(t-i.width,0),o=Math.max(n-i.height,0),a=_O(e.boxes),u=a.vertical,c=a.horizontal;Jt(e.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const h=u.reduce((S,C)=>C.box.options&&C.box.options.display===!1?S:S+1,0)||1,p=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/h,hBoxMaxHeight:o/2}),g=Object.assign({},i);O6(g,xr(r));const x=Object.assign({maxPadding:g,w:s,h:o,x:i.left,y:i.top},i),w=wO(u.concat(c),p);id(a.fullSize,x,p,w),id(u,x,p,w),id(c,x,p,w)&&id(u,x,p,w),CO(x),Gw(a.leftAndTop,x,p,w),x.x+=x.w,x.y+=x.h,Gw(a.rightAndBottom,x,p,w),e.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},Jt(a.chartArea,S=>{const C=S.box;Object.assign(C,e.chartArea),C.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class L6{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,r){}removeEventListener(t,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,r,i){return n=Math.max(0,n||t.width),r=r||t.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(t){return!0}updateConfig(t){}}class jO extends L6{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const dp="$chartjs",EO={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Yw=e=>e===null||e==="";function TO(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[dp]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Yw(i)){const s=Aw(e,"width");s!==void 0&&(e.width=s)}if(Yw(r))if(e.style.height==="")e.height=e.width/(t||2);else{const s=Aw(e,"height");s!==void 0&&(e.height=s)}return e}const A6=kP?{passive:!0}:!1;function NO(e,t,n){e&&e.addEventListener(t,n,A6)}function PO(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,A6)}function OO(e,t){const n=EO[e.type]||e.type,{x:r,y:i}=Va(e,t);return{type:n,chart:t,native:e,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Ip(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function LO(e,t,n){const r=e.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Ip(a.addedNodes,r),o=o&&!Ip(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function AO(e,t,n){const r=e.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Ip(a.removedNodes,r),o=o&&!Ip(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Pd=new Map;let Xw=0;function D6(){const e=window.devicePixelRatio;e!==Xw&&(Xw=e,Pd.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function DO(e,t){Pd.size||window.addEventListener("resize",D6),Pd.set(e,t)}function IO(e){Pd.delete(e),Pd.size||window.removeEventListener("resize",D6)}function RO(e,t,n){const r=e.canvas,i=r&&bv(r);if(!i)return;const s=o6((a,u)=>{const c=i.clientWidth;n(a,u),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const u=a[0],c=u.contentRect.width,h=u.contentRect.height;c===0&&h===0||s(c,h)});return o.observe(i),DO(e,s),o}function D0(e,t,n){n&&n.disconnect(),t==="resize"&&IO(e)}function MO(e,t,n){const r=e.canvas,i=o6(s=>{e.ctx!==null&&n(OO(s,e))},e);return NO(r,t,i),i}class FO extends L6{acquireContext(t,n){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(TO(t,n),r):null}releaseContext(t){const n=t.canvas;if(!n[dp])return!1;const r=n[dp].initial;["height","width"].forEach(s=>{const o=r[s];Mt(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[dp],!0}addEventListener(t,n,r){this.removeEventListener(t,n);const i=t.$proxies||(t.$proxies={}),o={attach:LO,detach:AO,resize:RO}[n]||MO;i[n]=o(t,n,r)}removeEventListener(t,n){const r=t.$proxies||(t.$proxies={}),i=r[n];if(!i)return;({attach:D0,detach:D0,resize:D0}[n]||PO)(t,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,r,i){return CP(t,n,r,i)}isAttached(t){const n=t&&bv(t);return!!(n&&n.isConnected)}}function BO(e){return!xv()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?jO:FO}let lo=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}hasValue(){return ol(this.x)&&ol(this.y)}getProps(t,n){const r=this.$animations;if(!n||!r)return this;const i={};return t.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}};function zO(e,t){const n=e.options.ticks,r=$O(e),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?HO(t):[],o=s.length,a=s[0],u=s[o-1],c=[];if(o>i)return QO(t,c,s,o/i),c;const h=UO(s,t,i);if(o>0){let p,g;const x=o>1?Math.round((u-a)/(o-1)):null;for(Of(t,c,h,Mt(x)?0:a-x,a),p=0,g=o-1;p<g;p++)Of(t,c,h,s[p],s[p+1]);return Of(t,c,h,u,Mt(x)?t.length:u+x),c}return Of(t,c,h),c}function $O(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}function UO(e,t,n){const r=VO(e),i=t.length/n;if(!r)return Math.max(i,1);const s=EN(r);for(let o=0,a=s.length-1;o<a;o++){const u=s[o];if(u>i)return u}return Math.max(i,1)}function HO(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}function QO(e,t,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<e.length;o++)o===s&&(t.push(e[o]),i++,s=n[i*r])}function Of(e,t,n,r,i){const s=xt(r,0),o=Math.min(xt(i,e.length),e.length);let a=0,u,c,h;for(n=Math.ceil(n),i&&(u=i-r,n=u/Math.floor(u/n)),h=s;h<0;)a++,h=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===h&&(t.push(e[c]),a++,h=Math.round(s+a*n))}function VO(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}const WO=e=>e==="left"?"right":e==="right"?"left":e,Jw=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,Zw=(e,t)=>Math.min(t||e,e);function e3(e,t){const n=[],r=e.length/t,i=e.length;let s=0;for(;s<i;s+=r)n.push(e[Math.floor(s)]);return n}function qO(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),s=e._startPixel,o=e._endPixel,a=1e-6;let u=e.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(u-s,o-u):t===0?c=(e.getPixelForTick(1)-u)/2:c=(u-e.getPixelForTick(i-1))/2,u+=i<t?c:-c,u<s-a||u>o+a)))return u}function KO(e,t){Jt(e,n=>{const r=n.gc,i=r.length/2;let s;if(i>t){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function $c(e){return e.drawTicks?e.tickLength:0}function t3(e,t){if(!e.display)return 0;const n=Vn(e.font,t),r=xr(e.padding);return(xn(e.text)?e.text.length:1)*n.lineHeight+r.height}function GO(e,t){return ia(e,{scale:t,type:"scale"})}function YO(e,t,n){return ia(e,{tick:n,index:t,type:"tick"})}function XO(e,t,n){let r=fv(e);return(n&&t!=="right"||!n&&t==="right")&&(r=WO(r)),r}function JO(e,t,n,r){const{top:i,left:s,bottom:o,right:a,chart:u}=e,{chartArea:c,scales:h}=u;let p=0,g,x,w;const S=o-i,C=a-s;if(e.isHorizontal()){if(x=mr(r,s,a),Ft(n)){const E=Object.keys(n)[0],L=n[E];w=h[E].getPixelForValue(L)+S-t}else n==="center"?w=(c.bottom+c.top)/2+S-t:w=Jw(e,n,t);g=a-s}else{if(Ft(n)){const E=Object.keys(n)[0],L=n[E];x=h[E].getPixelForValue(L)-C+t}else n==="center"?x=(c.left+c.right)/2-C+t:x=Jw(e,n,t);w=mr(r,o,i),p=n==="left"?-On:On}return{titleX:x,titleY:w,maxWidth:g,rotation:p}}class ml extends lo{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return t=li(t,Number.POSITIVE_INFINITY),n=li(n,Number.NEGATIVE_INFINITY),r=li(r,Number.POSITIVE_INFINITY),i=li(i,Number.NEGATIVE_INFINITY),{min:li(t,r),max:li(n,i),minDefined:kn(t),maxDefined:kn(n)}}getMinMax(t){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let u=0,c=a.length;u<c;++u)o=a[u].controller.getMinMax(this,t),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:li(n,li(r,n)),max:li(r,li(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){an(this.options.beforeUpdate,[this])}update(t,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=nP(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=a<this.ticks.length;this._convertTicksToLabels(u?e3(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=zO(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,t=!t),this._startPixel=n,this._endPixel=r,this._reversePixels=t,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){an(this.options.afterUpdate,[this])}beforeSetDimensions(){an(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){an(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),an(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){an(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r],s.label=an(n.callback,[s.value,r,t],this)}afterTickToLabelConversion(){an(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){an(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,r=Zw(this.ticks.length,t.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,u,c;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const h=this._getLabelSizes(),p=h.widest.width,g=h.highest.height,x=tr(this.chart.width-p,0,this.maxWidth);a=t.offset?this.maxWidth/r:x/(r-1),p+6>a&&(a=x/(r-(t.offset?.5:1)),u=this.maxHeight-$c(t.grid)-n.padding-t3(t.title,this.chart.options.font),c=Math.sqrt(p*p+g*g),o=dv(Math.min(Math.asin(tr((h.highest.height+6)/a,-1,1)),Math.asin(tr(u/c,-1,1))-Math.asin(tr(g/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){an(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){an(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const u=t3(i,n.options.font);if(a?(t.width=this.maxWidth,t.height=$c(s)+u):(t.height=this.maxHeight,t.width=$c(s)+u),r.display&&this.ticks.length){const{first:c,last:h,widest:p,highest:g}=this._getLabelSizes(),x=r.padding*2,w=Zi(this.labelRotation),S=Math.cos(w),C=Math.sin(w);if(a){const E=r.mirror?0:C*p.width+S*g.height;t.height=Math.min(this.maxHeight,t.height+E+x)}else{const E=r.mirror?0:S*p.width+C*g.height;t.width=Math.min(this.maxWidth,t.width+E+x)}this._calculatePadding(c,h,C,S)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,u=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,x=0;u?c?(g=i*t.width,x=r*n.height):(g=r*t.height,x=i*n.width):s==="start"?x=n.width:s==="end"?g=t.width:s!=="inner"&&(g=t.width/2,x=n.width/2),this.paddingLeft=Math.max((g-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((x-p+o)*this.width/(this.width-p),0)}else{let h=n.height/2,p=t.height/2;s==="start"?(h=0,p=t.height):s==="end"&&(h=n.height,p=0),this.paddingTop=h+o,this.paddingBottom=p+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){an(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,r;for(n=0,r=t.length;n<r;n++)Mt(t[n].label)&&(t.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=e3(r,n)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],u=Math.floor(n/Zw(n,r));let c=0,h=0,p,g,x,w,S,C,E,L,A,B,$;for(p=0;p<n;p+=u){if(w=t[p].label,S=this._resolveTickFontOptions(p),i.font=C=S.string,E=s[C]=s[C]||{data:{},gc:[]},L=S.lineHeight,A=B=0,!Mt(w)&&!xn(w))A=Ap(i,E.data,E.gc,A,w),B=L;else if(xn(w))for(g=0,x=w.length;g<x;++g)$=w[g],!Mt($)&&!xn($)&&(A=Ap(i,E.data,E.gc,A,$),B+=L);o.push(A),a.push(B),c=Math.max(A,c),h=Math.max(B,h)}KO(s,n);const P=o.indexOf(c),M=a.indexOf(h),H=Q=>({width:o[Q]||0,height:a[Q]||0});return{first:H(0),last:H(n-1),widest:H(P),highest:H(M),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return ON(this._alignToPixels?Ra(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const r=n[t];return r.$context||(r.$context=YO(this.getContext(),t,r))}return this.$context||(this.$context=GO(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Zi(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,a=s?s.widest.width+o:0,u=s?s.highest.height+o:0;return this.isHorizontal()?u*r>a*i?a/r:u/i:u*i<a*r?u/r:a/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,u=s.offset,c=this.isHorizontal(),p=this.ticks.length+(u?1:0),g=$c(s),x=[],w=a.setContext(this.getContext()),S=w.display?w.width:0,C=S/2,E=function(J){return Ra(r,J,S)};let L,A,B,$,P,M,H,Q,F,ae,le,ue;if(o==="top")L=E(this.bottom),M=this.bottom-g,Q=L-C,ae=E(t.top)+C,ue=t.bottom;else if(o==="bottom")L=E(this.top),ae=t.top,ue=E(t.bottom)-C,M=L+C,Q=this.top+g;else if(o==="left")L=E(this.right),P=this.right-g,H=L-C,F=E(t.left)+C,le=t.right;else if(o==="right")L=E(this.left),F=t.left,le=E(t.right)-C,P=L+C,H=this.left+g;else if(n==="x"){if(o==="center")L=E((t.top+t.bottom)/2+.5);else if(Ft(o)){const J=Object.keys(o)[0],te=o[J];L=E(this.chart.scales[J].getPixelForValue(te))}ae=t.top,ue=t.bottom,M=L+C,Q=M+g}else if(n==="y"){if(o==="center")L=E((t.left+t.right)/2);else if(Ft(o)){const J=Object.keys(o)[0],te=o[J];L=E(this.chart.scales[J].getPixelForValue(te))}P=L-C,H=P-g,F=t.left,le=t.right}const q=xt(i.ticks.maxTicksLimit,p),V=Math.max(1,Math.ceil(p/q));for(A=0;A<p;A+=V){const J=this.getContext(A),te=s.setContext(J),ne=a.setContext(J),me=te.lineWidth,R=te.color,G=ne.dash||[],ye=ne.dashOffset,z=te.tickWidth,Me=te.tickColor,je=te.tickBorderDash||[],Ee=te.tickBorderDashOffset;B=qO(this,A,u),B!==void 0&&($=Ra(r,B,me),c?P=H=F=le=$:M=Q=ae=ue=$,x.push({tx1:P,ty1:M,tx2:H,ty2:Q,x1:F,y1:ae,x2:le,y2:ue,width:me,color:R,borderDash:G,borderDashOffset:ye,tickWidth:z,tickColor:Me,tickBorderDash:je,tickBorderDashOffset:Ee}))}return this._ticksLength=p,this._borderValue=L,x}_computeLabelItems(t){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:u,crossAlign:c,padding:h,mirror:p}=s,g=$c(r.grid),x=g+h,w=p?-h:x,S=-Zi(this.labelRotation),C=[];let E,L,A,B,$,P,M,H,Q,F,ae,le,ue="middle";if(i==="top")P=this.bottom-w,M=this._getXAxisLabelAlignment();else if(i==="bottom")P=this.top+w,M=this._getXAxisLabelAlignment();else if(i==="left"){const V=this._getYAxisLabelAlignment(g);M=V.textAlign,$=V.x}else if(i==="right"){const V=this._getYAxisLabelAlignment(g);M=V.textAlign,$=V.x}else if(n==="x"){if(i==="center")P=(t.top+t.bottom)/2+x;else if(Ft(i)){const V=Object.keys(i)[0],J=i[V];P=this.chart.scales[V].getPixelForValue(J)+x}M=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")$=(t.left+t.right)/2-x;else if(Ft(i)){const V=Object.keys(i)[0],J=i[V];$=this.chart.scales[V].getPixelForValue(J)}M=this._getYAxisLabelAlignment(g).textAlign}n==="y"&&(u==="start"?ue="top":u==="end"&&(ue="bottom"));const q=this._getLabelSizes();for(E=0,L=a.length;E<L;++E){A=a[E],B=A.label;const V=s.setContext(this.getContext(E));H=this.getPixelForTick(E)+s.labelOffset,Q=this._resolveTickFontOptions(E),F=Q.lineHeight,ae=xn(B)?B.length:1;const J=ae/2,te=V.color,ne=V.textStrokeColor,me=V.textStrokeWidth;let R=M;o?($=H,M==="inner"&&(E===L-1?R=this.options.reverse?"left":"right":E===0?R=this.options.reverse?"right":"left":R="center"),i==="top"?c==="near"||S!==0?le=-ae*F+F/2:c==="center"?le=-q.highest.height/2-J*F+F:le=-q.highest.height+F/2:c==="near"||S!==0?le=F/2:c==="center"?le=q.highest.height/2-J*F:le=q.highest.height-ae*F,p&&(le*=-1),S!==0&&!V.showLabelBackdrop&&($+=F/2*Math.sin(S))):(P=H,le=(1-ae)*F/2);let G;if(V.showLabelBackdrop){const ye=xr(V.backdropPadding),z=q.heights[E],Me=q.widths[E];let je=le-ye.top,Ee=0-ye.left;switch(ue){case"middle":je-=z/2;break;case"bottom":je-=z;break}switch(M){case"center":Ee-=Me/2;break;case"right":Ee-=Me;break;case"inner":E===L-1?Ee-=Me:E>0&&(Ee-=Me/2);break}G={left:Ee,top:je,width:Me+ye.width,height:z+ye.height,color:V.backdropColor}}C.push({label:B,font:Q,textOffset:le,options:{rotation:S,color:te,strokeColor:ne,strokeWidth:me,textAlign:R,textBaseline:ue,translation:[$,P],backdrop:G}})}return C}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Zi(this.labelRotation))return t==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=t+s,u=o.widest.width;let c,h;return n==="left"?i?(h=this.right+s,r==="near"?c="left":r==="center"?(c="center",h+=u/2):(c="right",h+=u)):(h=this.right-a,r==="near"?c="right":r==="center"?(c="center",h-=u/2):(c="left",h=this.left)):n==="right"?i?(h=this.left+s,r==="near"?c="right":r==="center"?(c="center",h-=u/2):(c="left",h-=u)):(h=this.left+a,r==="near"?c="left":r==="center"?(c="center",h+=u/2):(c="right",h=this.right)):c="right",{textAlign:c,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(r,i,s,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===t);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,o;const a=(u,c,h)=>{!h.width||!h.color||(r.save(),r.lineWidth=h.width,r.strokeStyle=h.color,r.setLineDash(h.borderDash||[]),r.lineDashOffset=h.borderDashOffset,r.beginPath(),r.moveTo(u.x,u.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const u=i[s];n.drawOnChartArea&&a({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&a({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let c,h,p,g;this.isHorizontal()?(c=Ra(t,this.left,o)-o/2,h=Ra(t,this.right,a)+a/2,p=g=u):(p=Ra(t,this.top,o)-o/2,g=Ra(t,this.bottom,a)+a/2,c=h=u),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,p),n.lineTo(h,g),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&om(r,i);const s=this.getLabelItems(t);for(const o of s){const a=o.options,u=o.font,c=o.label,h=o.textOffset;ll(r,c,0,h,u,a)}i&&am(r)}drawTitle(){const{ctx:t,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=Vn(r.font),o=xr(r.padding),a=r.align;let u=s.lineHeight/2;n==="bottom"||n==="center"||Ft(n)?(u+=o.bottom,xn(r.text)&&(u+=s.lineHeight*(r.text.length-1))):u+=o.top;const{titleX:c,titleY:h,maxWidth:p,rotation:g}=JO(this,u,n,a);ll(t,r.text,0,0,s,{color:r.color,maxWidth:p,rotation:g,textAlign:XO(a,n,i),textBaseline:"middle",translation:[c,h]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,r=xt(t.grid&&t.grid.z,-1),i=xt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==ml.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!t||a.type===t)&&i.push(a)}return i}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Vn(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Lf{constructor(t,n,r){this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let r;tL(n)&&(r=this.register(n));const i=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in i||(i[s]=t,ZO(t,o,r),this.override&&bn.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,r=t.id,i=this.scope;r in n&&delete n[r],i&&r in bn[i]&&(delete bn[i][r],this.override&&delete al[r])}}function ZO(e,t,n){const r=jd(Object.create(null),[n?bn.get(n):{},bn.get(t),e.defaults]);bn.set(t,r),e.defaultRoutes&&eL(t,e.defaultRoutes),e.descriptors&&bn.describe(t,e.descriptors)}function eL(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),i=r.pop(),s=[e].concat(r).join("."),o=t[n].split("."),a=o.pop(),u=o.join(".");bn.route(s,i,u,a)})}function tL(e){return"id"in e&&"defaults"in e}class nL{constructor(){this.controllers=new Lf(sa,"datasets",!0),this.elements=new Lf(lo,"elements"),this.plugins=new Lf(Object,"plugins"),this.scales=new Lf(ml,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(t,s,i):Jt(i,o=>{const a=r||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,r){const i=cv(t);an(r["before"+i],[],r),n[t](r),an(r["after"+i],[],r)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(t))return r}return this.plugins}_get(t,n,r){const i=n.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return i}}var gs=new nL;class rL{constructor(){this._init=[]}notify(t,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(s,t,n,r);return n==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,r,i){i=i||{};for(const s of t){const o=s.plugin,a=o[r],u=[n,i,s.options];if(an(a,u,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Mt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const r=t&&t.config,i=xt(r.options&&r.options.plugins,{}),s=iL(r);return i===!1&&!n?[]:oL(t,s,i,n)}_notifyStateChanges(t){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(u=>a.plugin.id===u.plugin.id));this._notify(i(n,r),t,"stop"),this._notify(i(r,n),t,"start")}}function iL(e){const t={},n=[],r=Object.keys(gs.plugins.items);for(let s=0;s<r.length;s++)n.push(gs.getPlugin(r[s]));const i=e.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function sL(e,t){return!t&&e===!1?null:e===!0?{}:e}function oL(e,{plugins:t,localIds:n},r,i){const s=[],o=e.getContext();for(const a of t){const u=a.id,c=sL(r[u],i);c!==null&&s.push({plugin:a,options:aL(e.config,{plugin:a,local:n[u]},c,o)})}return s}function aL(e,{plugin:t,local:n},r,i){const s=e.pluginScopeKeys(t),o=e.getOptionScopes(r,s);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function U1(e,t){const n=bn.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function lL(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function uL(e,t){return e===t?"_index_":"_value_"}function n3(e){if(e==="x"||e==="y"||e==="r")return e}function cL(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function H1(e,...t){if(n3(e))return e;for(const n of t){const r=n.axis||cL(n.position)||e.length>1&&n3(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function r3(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function dL(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(n.length)return r3(e,"x",n[0])||r3(e,"y",n[0])}return{}}function hL(e,t){const n=al[e.type]||{scales:{}},r=t.scales||{},i=U1(e.type,t),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!Ft(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const u=H1(o,a,dL(o,e),bn.scales[a.type]),c=uL(u,i),h=n.scales||{};s[o]=ud(Object.create(null),[{axis:u},a,h[u],h[c]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,u=o.indexAxis||U1(a,t),h=(al[a]||{}).scales||{};Object.keys(h).forEach(p=>{const g=lL(p,u),x=o[g+"AxisID"]||g;s[x]=s[x]||Object.create(null),ud(s[x],[{axis:g},r[x],h[p]])})}),Object.keys(s).forEach(o=>{const a=s[o];ud(a,[bn.scales[a.type],bn.scale])}),s}function I6(e){const t=e.options||(e.options={});t.plugins=xt(t.plugins,{}),t.scales=hL(e,t)}function R6(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function fL(e){return e=e||{},e.data=R6(e.data),I6(e),e}const i3=new Map,M6=new Set;function Af(e,t){let n=i3.get(e);return n||(n=t(),i3.set(e,n),M6.add(n)),n}const Uc=(e,t,n)=>{const r=Jo(t,n);r!==void 0&&e.add(r)};class pL{constructor(t){this._config=fL(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=R6(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),I6(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Af(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Af(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Af(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,r=this.type;return Af(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const r=this._scopeCache;let i=r.get(t);return(!i||n)&&(i=new Map,r.set(t,i)),i}getOptionScopes(t,n,r){const{options:i,type:s}=this,o=this._cachedScopes(t,r),a=o.get(n);if(a)return a;const u=new Set;n.forEach(h=>{t&&(u.add(t),h.forEach(p=>Uc(u,t,p))),h.forEach(p=>Uc(u,i,p)),h.forEach(p=>Uc(u,al[s]||{},p)),h.forEach(p=>Uc(u,bn,p)),h.forEach(p=>Uc(u,z1,p))});const c=Array.from(u);return c.length===0&&c.push(Object.create(null)),M6.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:t,type:n}=this;return[t,al[n]||{},bn.datasets[n]||{},{type:n},bn,z1]}resolveNamedOptions(t,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=s3(this._resolverCache,t,i);let u=o;if(gL(o,n)){s.$shared=!1,r=Zo(r)?r():r;const c=this.createResolver(t,r,a);u=Ru(o,r,c)}for(const c of n)s[c]=u[c];return s}createResolver(t,n,r=[""],i){const{resolver:s}=s3(this._resolverCache,t,r);return Ft(n)?Ru(s,n,void 0,i):s}}function s3(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let s=r.get(i);return s||(s={resolver:gv(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const mL=e=>Ft(e)&&Object.getOwnPropertyNames(e).some(t=>Zo(e[t]));function gL(e,t){const{isScriptable:n,isIndexable:r}=h6(e);for(const i of t){const s=n(i),o=r(i),a=(o||s)&&e[i];if(s&&(Zo(a)||mL(a))||o&&xn(a))return!0}return!1}var yL="4.5.0";const vL=["top","bottom","left","right","chartArea"];function o3(e,t){return e==="top"||e==="bottom"||vL.indexOf(e)===-1&&t==="x"}function a3(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function l3(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),an(n&&n.onComplete,[e],t)}function xL(e){const t=e.chart,n=t.options.animation;an(n&&n.onProgress,[e],t)}function F6(e){return xv()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const hp={},u3=e=>{const t=F6(e);return Object.values(hp).filter(n=>n.canvas===t).pop()};function bL(e,t,n){const r=Object.keys(e);for(const i of r){const s=+i;if(s>=t){const o=e[i];delete e[i],(n>0||s>t)&&(e[s+n]=o)}}}function wL(e,t,n,r){return!n||e.type==="mouseout"?null:r?t:e}let uo=class{static defaults=bn;static instances=hp;static overrides=al;static registry=gs;static version=yL;static getChart=u3;static register(...t){gs.add(...t),c3()}static unregister(...t){gs.remove(...t),c3()}constructor(t,n){const r=this.config=new pL(n),i=F6(t),s=u3(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||BO(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),u=a&&a.canvas,c=u&&u.height,h=u&&u.width;if(this.id=vN(),this.ctx=a,this.canvas=u,this.width=h,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new rL,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=IN(p=>this.update(p),o.resizeDelay||0),this._dataChanges=[],hp[this.id]=this,!a||!u){console.error("Failed to create chart: can't acquire context from the given item");return}qs.listen(this,"complete",l3),qs.listen(this,"progress",xL),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return Mt(t)?n&&s?s:i?r/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return gs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Lw(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Nw(this.canvas,this.ctx),this}stop(){return qs.stop(this),this}resize(t,n){qs.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Lw(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),an(r.onResize,[this,o],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Jt(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],u=H1(o,a),c=u==="r",h=u==="x";return{options:a,dposition:c?"chartArea":h?"bottom":"left",dtype:c?"radialLinear":h?"category":"linear"}}))),Jt(s,o=>{const a=o.options,u=a.id,c=H1(u,a),h=xt(a.type,o.dtype);(a.position===void 0||o3(a.position,c)!==o3(o.dposition))&&(a.position=o.dposition),i[u]=!0;let p=null;if(u in r&&r[u].type===h)p=r[u];else{const g=gs.getScale(h);p=new g({id:u,type:h,ctx:this.ctx,chart:this}),r[p.id]=p}p.init(a,t)}),Jt(i,(o,a)=>{o||delete r[a]}),Jt(r,o=>{yr.configure(this,o,o.options),yr.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(a3("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||U1(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const u=gs.getController(a),{datasetElementType:c,dataElementType:h}=bn.datasets[a];Object.assign(u,{dataElementType:gs.getElement(h),datasetElementType:c&&gs.getElement(c)}),o.controller=new u(this,r),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){Jt(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,h=this.data.datasets.length;c<h;c++){const{controller:p}=this.getDatasetMeta(c),g=!i&&s.indexOf(p)===-1;p.buildOrUpdateElements(g),o=Math.max(+p.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||Jt(s,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(a3("z","_idx"));const{_active:a,_lastEvent:u}=this;u?this._eventHandler(u,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Jt(this.scales,t=>{yr.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!bw(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;bL(t,i,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(t.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!bw(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;yr.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Jt(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Zo(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),i={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(qs.has(this)?this.attached&&!qs.running(this)&&qs.start(this):(this.draw(),l3({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!t||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r={meta:t,index:t.index,cancelable:!0},i=S6(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&om(n,i),t.controller.draw(),i&&am(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return ro(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,i){const s=vO.modes[n];return typeof s=="function"?s(this,t,r,i):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=ia(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){const r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(t),o=s.controller._resolveAnimations(void 0,i);Ed(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===t?i:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),qs.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Nw(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete hp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),t[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};Jt(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(u,c)=>{n.addEventListener(this,u,c),t[u]=c},i=(u,c)=>{t[u]&&(n.removeEventListener(this,u,c),delete t[u])},s=(u,c)=>{this.canvas&&this.resize(u,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Jt(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Jt(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const i=r?"set":"remove";let s,o,a,u;for(n==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,u=t.length;a<u;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!Pp(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,r){const i=this.options.hover,s=(u,c)=>u.filter(h=>!c.some(p=>h.datasetIndex===p.datasetIndex&&h.index===p.index)),o=s(n,t),a=r?t:s(t,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},i=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(t,i,r,o),u=CN(t),c=wL(t,this._lastEvent,r,u);r&&(this._lastEvent=null,an(s.onHover,[t,a,this],this),u&&an(s.onClick,[t,a,this],this));const h=!Pp(a,i);return(h||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,h}_getActiveElements(t,n,r,i){if(t.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,i)}};function c3(){return Jt(uo.instances,e=>e._plugins.invalidate())}function _L(e,t,n){const{startAngle:r,x:i,y:s,outerRadius:o,innerRadius:a,options:u}=t,{borderWidth:c,borderJoinStyle:h}=u,p=Math.min(c/o,gr(r-n));if(e.beginPath(),e.arc(i,s,o-c/2,r+p/2,n-p/2),a>0){const g=Math.min(c/a,gr(r-n));e.arc(i,s,a+c/2,n-g/2,r+g/2,!0)}else{const g=Math.min(c/2,o*gr(r-n));if(h==="round")e.arc(i,s,g,n-qt/2,r+qt/2,!0);else if(h==="bevel"){const x=2*g*g,w=-x*Math.cos(n+qt/2)+i,S=-x*Math.sin(n+qt/2)+s,C=x*Math.cos(r+qt/2)+i,E=x*Math.sin(r+qt/2)+s;e.lineTo(w,S),e.lineTo(C,E)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function SL(e,t,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:u}=t;let c=i/a;e.beginPath(),e.arc(s,o,a,r-c,n+c),u>i?(c=i/u,e.arc(s,o,u,n+c,r-c,!0)):e.arc(s,o,i,n+On,r-On),e.closePath(),e.clip()}function CL(e){return mv(e,["outerStart","outerEnd","innerStart","innerEnd"])}function kL(e,t,n,r){const i=CL(e.options.borderRadius),s=(n-t)/2,o=Math.min(s,r*t/2),a=u=>{const c=(n-Math.min(s,u))*r/2;return tr(u,0,Math.min(s,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:tr(i.innerStart,0,o),innerEnd:tr(i.innerEnd,0,o)}}function ou(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function Rp(e,t,n,r,i,s){const{x:o,y:a,startAngle:u,pixelMargin:c,innerRadius:h}=t,p=Math.max(t.outerRadius+r+n-c,0),g=h>0?h+r+n+c:0;let x=0;const w=i-u;if(r){const V=h>0?h-r:0,J=p>0?p-r:0,te=(V+J)/2,ne=te!==0?w*te/(te+r):w;x=(w-ne)/2}const S=Math.max(.001,w*p-n/qt)/p,C=(w-S)/2,E=u+C+x,L=i-C-x,{outerStart:A,outerEnd:B,innerStart:$,innerEnd:P}=kL(t,g,p,L-E),M=p-A,H=p-B,Q=E+A/M,F=L-B/H,ae=g+$,le=g+P,ue=E+$/ae,q=L-P/le;if(e.beginPath(),s){const V=(Q+F)/2;if(e.arc(o,a,p,Q,V),e.arc(o,a,p,V,F),B>0){const me=ou(H,F,o,a);e.arc(me.x,me.y,B,F,L+On)}const J=ou(le,L,o,a);if(e.lineTo(J.x,J.y),P>0){const me=ou(le,q,o,a);e.arc(me.x,me.y,P,L+On,q+Math.PI)}const te=(L-P/g+(E+$/g))/2;if(e.arc(o,a,g,L-P/g,te,!0),e.arc(o,a,g,te,E+$/g,!0),$>0){const me=ou(ae,ue,o,a);e.arc(me.x,me.y,$,ue+Math.PI,E-On)}const ne=ou(M,E,o,a);if(e.lineTo(ne.x,ne.y),A>0){const me=ou(M,Q,o,a);e.arc(me.x,me.y,A,E-On,Q)}}else{e.moveTo(o,a);const V=Math.cos(Q)*p+o,J=Math.sin(Q)*p+a;e.lineTo(V,J);const te=Math.cos(F)*p+o,ne=Math.sin(F)*p+a;e.lineTo(te,ne)}e.closePath()}function jL(e,t,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=t;let u=t.endAngle;if(s){Rp(e,t,n,r,u,i);for(let c=0;c<s;++c)e.fill();isNaN(a)||(u=o+(a%hn||hn))}return Rp(e,t,n,r,u,i),e.fill(),u}function EL(e,t,n,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:u}=t,{borderWidth:c,borderJoinStyle:h,borderDash:p,borderDashOffset:g,borderRadius:x}=u,w=u.borderAlign==="inner";if(!c)return;e.setLineDash(p||[]),e.lineDashOffset=g,w?(e.lineWidth=c*2,e.lineJoin=h||"round"):(e.lineWidth=c,e.lineJoin=h||"bevel");let S=t.endAngle;if(s){Rp(e,t,n,r,S,i);for(let C=0;C<s;++C)e.stroke();isNaN(a)||(S=o+(a%hn||hn))}w&&SL(e,t,S),u.selfJoin&&S-o>=qt&&x===0&&h!=="miter"&&_L(e,t,S),s||(Rp(e,t,n,r,S,i),e.stroke())}class _v extends lo{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,r){const i=this.getProps(["x","y"],r),{angle:s,distance:o}=n6(i,{x:t,y:n}),{startAngle:a,endAngle:u,innerRadius:c,outerRadius:h,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),g=(this.options.spacing+this.options.borderWidth)/2,x=xt(p,u-a),w=Td(s,a,u)&&a!==u,S=x>=hn||w,C=to(o,c+g,h+g);return S&&C}getCenterPoint(t){const{x:n,y:r,startAngle:i,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:u,spacing:c}=this.options,h=(i+s)/2,p=(o+a+c+u)/2;return{x:n+Math.cos(h)*p,y:r+Math.sin(h)*p}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:r}=this,i=(n.offset||0)/4,s=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>hn?Math.floor(r/hn):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*i,Math.sin(a)*i);const u=1-Math.sin(Math.min(qt,r||0)),c=i*u;t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,jL(t,this,c,s,o),EL(t,this,c,s,o),t.restore()}}function B6(e,t,n=t){e.lineCap=xt(n.borderCapStyle,t.borderCapStyle),e.setLineDash(xt(n.borderDash,t.borderDash)),e.lineDashOffset=xt(n.borderDashOffset,t.borderDashOffset),e.lineJoin=xt(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=xt(n.borderWidth,t.borderWidth),e.strokeStyle=xt(n.borderColor,t.borderColor)}function TL(e,t,n){e.lineTo(n.x,n.y)}function NL(e){return e.stepped?qN:e.tension||e.cubicInterpolationMode==="monotone"?KN:TL}function z6(e,t,n={}){const r=e.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=t,u=Math.max(i,o),c=Math.min(s,a),h=i<o&&s<o||i>a&&s>a;return{count:r,start:u,loop:t.loop,ilen:c<u&&!h?r+c-u:c-u}}function PL(e,t,n,r){const{points:i,options:s}=t,{count:o,start:a,loop:u,ilen:c}=z6(i,n,r),h=NL(s);let{move:p=!0,reverse:g}=r||{},x,w,S;for(x=0;x<=c;++x)w=i[(a+(g?c-x:x))%o],!w.skip&&(p?(e.moveTo(w.x,w.y),p=!1):h(e,S,w,g,s.stepped),S=w);return u&&(w=i[(a+(g?c:0))%o],h(e,S,w,g,s.stepped)),!!u}function OL(e,t,n,r){const i=t.points,{count:s,start:o,ilen:a}=z6(i,n,r),{move:u=!0,reverse:c}=r||{};let h=0,p=0,g,x,w,S,C,E;const L=B=>(o+(c?a-B:B))%s,A=()=>{S!==C&&(e.lineTo(h,C),e.lineTo(h,S),e.lineTo(h,E))};for(u&&(x=i[L(0)],e.moveTo(x.x,x.y)),g=0;g<=a;++g){if(x=i[L(g)],x.skip)continue;const B=x.x,$=x.y,P=B|0;P===w?($<S?S=$:$>C&&(C=$),h=(p*h+B)/++p):(A(),e.lineTo(B,$),w=P,p=0,S=C=$),E=$}A()}function Q1(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?OL:PL}function LL(e){return e.stepped?jP:e.tension||e.cubicInterpolationMode==="monotone"?EP:Wa}function AL(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),B6(e,t.options),e.stroke(i)}function DL(e,t,n,r){const{segments:i,options:s}=t,o=Q1(t);for(const a of i)B6(e,s,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}const IL=typeof Path2D=="function";function RL(e,t,n,r){IL&&!t.options.segment?AL(e,t,n,r):DL(e,t,n,r)}class Uu extends lo{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;vP(this._points,r,t,i,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=AP(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,r=t.length;return r&&n[t[r-1].end]}interpolate(t,n){const r=this.options,i=t[n],s=this.points,o=_6(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],u=LL(r);let c,h;for(c=0,h=o.length;c<h;++c){const{start:p,end:g}=o[c],x=s[p],w=s[g];if(x===w){a.push(x);continue}const S=Math.abs((i-x[n])/(w[n]-x[n])),C=u(x,w,S,r.stepped);C[n]=t[n],a.push(C)}return a.length===1?a[0]:a}pathSegment(t,n,r){return Q1(this)(t,this,n,r)}path(t,n,r){const i=this.segments,s=Q1(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)o&=s(t,this,a,{start:n,end:n+r-1});return!!o}draw(t,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),RL(t,this,r,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function d3(e,t,n,r){const i=e.options,{[n]:s}=e.getProps([n],r);return Math.abs(t-s)<i.radius+i.hitRadius}class Sv extends lo{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,r){const i=this.options,{x:s,y:o}=this.getProps(["x","y"],r);return Math.pow(t-s,2)+Math.pow(n-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,n){return d3(this,t,"x",n)}inYRange(t,n){return d3(this,t,"y",n)}getCenterPoint(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const r=n&&t.borderWidth||0;return(n+r)*2}draw(t,n){const r=this.options;this.skip||r.radius<.1||!ro(this,n,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,$1(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function $6(e,t){const{x:n,y:r,base:i,width:s,height:o}=e.getProps(["x","y","base","width","height"],t);let a,u,c,h,p;return e.horizontal?(p=o/2,a=Math.min(n,i),u=Math.max(n,i),c=r-p,h=r+p):(p=s/2,a=n-p,u=n+p,c=Math.min(r,i),h=Math.max(r,i)),{left:a,top:c,right:u,bottom:h}}function qo(e,t,n,r){return e?0:tr(t,n,r)}function ML(e,t,n){const r=e.options.borderWidth,i=e.borderSkipped,s=d6(r);return{t:qo(i.top,s.top,0,n),r:qo(i.right,s.right,0,t),b:qo(i.bottom,s.bottom,0,n),l:qo(i.left,s.left,0,t)}}function FL(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,s=tl(i),o=Math.min(t,n),a=e.borderSkipped,u=r||Ft(i);return{topLeft:qo(!u||a.top||a.left,s.topLeft,0,o),topRight:qo(!u||a.top||a.right,s.topRight,0,o),bottomLeft:qo(!u||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:qo(!u||a.bottom||a.right,s.bottomRight,0,o)}}function BL(e){const t=$6(e),n=t.right-t.left,r=t.bottom-t.top,i=ML(e,n/2,r/2),s=FL(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:s},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function I0(e,t,n,r){const i=t===null,s=n===null,a=e&&!(i&&s)&&$6(e,r);return a&&(i||to(t,a.left,a.right))&&(s||to(n,a.top,a.bottom))}function zL(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function $L(e,t){e.rect(t.x,t.y,t.w,t.h)}function R0(e,t,n={}){const r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,s=(e.x+e.w!==n.x+n.w?t:0)-r,o=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+s,h:e.h+o,radius:e.radius}}class qd extends lo{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=BL(this),a=zL(o.radius)?Nd:$L;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),a(t,R0(o,n,s)),t.clip(),a(t,R0(s,-n,o)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),a(t,R0(s,n)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,n,r){return I0(this,t,n,r)}inXRange(t,n){return I0(this,t,null,n)}inYRange(t,n){return I0(this,null,t,n)}getCenterPoint(t){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}var UL=Object.freeze({__proto__:null,ArcElement:_v,BarElement:qd,LineElement:Uu,PointElement:Sv});const V1=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],h3=V1.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function U6(e){return V1[e%V1.length]}function H6(e){return h3[e%h3.length]}function HL(e,t){return e.borderColor=U6(t),e.backgroundColor=H6(t),++t}function QL(e,t){return e.backgroundColor=e.data.map(()=>U6(t++)),t}function VL(e,t){return e.backgroundColor=e.data.map(()=>H6(t++)),t}function WL(e){let t=0;return(n,r)=>{const i=e.getDatasetMeta(r).controller;i instanceof um?t=QL(n,t):i instanceof T6?t=VL(n,t):i&&(t=HL(n,t))}}function f3(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function qL(e){return e&&(e.borderColor||e.backgroundColor)}function KL(){return bn.borderColor!=="rgba(0,0,0,0.1)"||bn.backgroundColor!=="rgba(0,0,0,0.1)"}var GL={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:r},options:i}=e.config,{elements:s}=i,o=f3(r)||qL(i)||s&&f3(s)||KL();if(!n.forceOverride&&o)return;const a=WL(e);r.forEach(a)}};function YL(e,t,n,r,i){const s=i.samples||r;if(s>=n)return e.slice(t,t+n);const o=[],a=(n-2)/(s-2);let u=0;const c=t+n-1;let h=t,p,g,x,w,S;for(o[u++]=e[h],p=0;p<s-2;p++){let C=0,E=0,L;const A=Math.floor((p+1)*a)+1+t,B=Math.min(Math.floor((p+2)*a)+1,n)+t,$=B-A;for(L=A;L<B;L++)C+=e[L].x,E+=e[L].y;C/=$,E/=$;const P=Math.floor(p*a)+1+t,M=Math.min(Math.floor((p+1)*a)+1,n)+t,{x:H,y:Q}=e[h];for(x=w=-1,L=P;L<M;L++)w=.5*Math.abs((H-C)*(e[L].y-Q)-(H-e[L].x)*(E-Q)),w>x&&(x=w,g=e[L],S=L);o[u++]=g,h=S}return o[u++]=e[c],o}function XL(e,t,n,r){let i=0,s=0,o,a,u,c,h,p,g,x,w,S;const C=[],E=t+n-1,L=e[t].x,B=e[E].x-L;for(o=t;o<t+n;++o){a=e[o],u=(a.x-L)/B*r,c=a.y;const $=u|0;if($===h)c<w?(w=c,p=o):c>S&&(S=c,g=o),i=(s*i+a.x)/++s;else{const P=o-1;if(!Mt(p)&&!Mt(g)){const M=Math.min(p,g),H=Math.max(p,g);M!==x&&M!==P&&C.push({...e[M],x:i}),H!==x&&H!==P&&C.push({...e[H],x:i})}o>0&&P!==x&&C.push(e[P]),C.push(a),h=$,s=0,w=S=c,p=g=x=o}}return C}function Q6(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function p3(e){e.data.datasets.forEach(t=>{Q6(t)})}function JL(e,t){const n=t.length;let r=0,i;const{iScale:s}=e,{min:o,max:a,minDefined:u,maxDefined:c}=s.getUserBounds();return u&&(r=tr(no(t,s.axis,o).lo,0,n-1)),c?i=tr(no(t,s.axis,a).hi+1,r,n)-r:i=n-r,{start:r,count:i}}var ZL={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){p3(e);return}const r=e.width;e.data.datasets.forEach((i,s)=>{const{_data:o,indexAxis:a}=i,u=e.getDatasetMeta(s),c=o||i.data;if(rd([a,e.options.indexAxis])==="y"||!u.controller.supportsDecimation)return;const h=e.scales[u.xAxisID];if(h.type!=="linear"&&h.type!=="time"||e.options.parsing)return;let{start:p,count:g}=JL(u,c);const x=n.threshold||4*r;if(g<=x){Q6(i);return}Mt(o)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(S){this._data=S}}));let w;switch(n.algorithm){case"lttb":w=YL(c,p,g,r,n);break;case"min-max":w=XL(c,p,g,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}i._decimated=w})},destroy(e){p3(e)}};function eA(e,t,n){const r=e.segments,i=e.points,s=t.points,o=[];for(const a of r){let{start:u,end:c}=a;c=dm(u,c,i);const h=W1(n,i[u],i[c],a.loop);if(!t.segments){o.push({source:a,target:h,start:i[u],end:i[c]});continue}const p=_6(t,h);for(const g of p){const x=W1(n,s[g.start],s[g.end],g.loop),w=w6(a,i,x);for(const S of w)o.push({source:S,target:g,start:{[n]:m3(h,x,"start",Math.max)},end:{[n]:m3(h,x,"end",Math.min)}})}}return o}function W1(e,t,n,r){if(r)return;let i=t[e],s=n[e];return e==="angle"&&(i=gr(i),s=gr(s)),{property:e,start:i,end:s}}function tA(e,t){const{x:n=null,y:r=null}=e||{},i=t.points,s=[];return t.segments.forEach(({start:o,end:a})=>{a=dm(o,a,i);const u=i[o],c=i[a];r!==null?(s.push({x:u.x,y:r}),s.push({x:c.x,y:r})):n!==null&&(s.push({x:n,y:u.y}),s.push({x:n,y:c.y}))}),s}function dm(e,t,n){for(;t>e;t--){const r=n[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function m3(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function V6(e,t){let n=[],r=!1;return xn(e)?(r=!0,n=e):n=tA(e,t),n.length?new Uu({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function g3(e){return e&&e.fill!==!1}function nA(e,t,n){let i=e[t].fill;const s=[t];let o;if(!n)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!kn(i))return i;if(o=e[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function rA(e,t,n){const r=aA(e);if(Ft(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return kn(i)&&Math.floor(i)===i?iA(r[0],t,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function iA(e,t,n,r){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=r?!1:n}function sA(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:Ft(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function oA(e,t,n){let r;return e==="start"?r=n:e==="end"?r=t.options.reverse?t.min:t.max:Ft(e)?r=e.value:r=t.getBaseValue(),r}function aA(e){const t=e.options,n=t.fill;let r=xt(n&&n.target,n);return r===void 0&&(r=!!t.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function lA(e){const{scale:t,index:n,line:r}=e,i=[],s=r.segments,o=r.points,a=uA(t,n);a.push(V6({x:null,y:t.bottom},r));for(let u=0;u<s.length;u++){const c=s[u];for(let h=c.start;h<=c.end;h++)cA(i,o[h],a)}return new Uu({points:i,options:{}})}function uA(e,t){const n=[],r=e.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===t)break;s.hidden||n.unshift(s.dataset)}return n}function cA(e,t,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:o,last:a,point:u}=dA(s,t,"x");if(!(!u||o&&a)){if(o)r.unshift(u);else if(e.push(u),!a)break}}e.push(...r)}function dA(e,t,n){const r=e.interpolate(t,n);if(!r)return{};const i=r[n],s=e.segments,o=e.points;let a=!1,u=!1;for(let c=0;c<s.length;c++){const h=s[c],p=o[h.start][n],g=o[h.end][n];if(to(i,p,g)){a=i===p,u=i===g;break}}return{first:a,last:u,point:r}}class W6{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,r){const{x:i,y:s,radius:o}=this;return n=n||{start:0,end:hn},t.arc(i,s,o,n.end,n.start,!0),!r.bounds}interpolate(t){const{x:n,y:r,radius:i}=this,s=t.angle;return{x:n+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function hA(e){const{chart:t,fill:n,line:r}=e;if(kn(n))return fA(t,n);if(n==="stack")return lA(e);if(n==="shape")return!0;const i=pA(e);return i instanceof W6?i:V6(i,r)}function fA(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function pA(e){return(e.scale||{}).getPointPositionForValue?gA(e):mA(e)}function mA(e){const{scale:t={},fill:n}=e,r=sA(n,t);if(kn(r)){const i=t.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function gA(e){const{scale:t,fill:n}=e,r=t.options,i=t.getLabels().length,s=r.reverse?t.max:t.min,o=oA(n,t,s),a=[];if(r.grid.circular){const u=t.getPointPositionForValue(0,s);return new W6({x:u.x,y:u.y,radius:t.getDistanceFromCenterForValue(o)})}for(let u=0;u<i;++u)a.push(t.getPointPositionForValue(u,o));return a}function M0(e,t,n){const r=hA(t),{chart:i,index:s,line:o,scale:a,axis:u}=t,c=o.options,h=c.fill,p=c.backgroundColor,{above:g=p,below:x=p}=h||{},w=i.getDatasetMeta(s),S=S6(i,w);r&&o.points.length&&(om(e,n),yA(e,{line:o,target:r,above:g,below:x,area:n,scale:a,axis:u,clip:S}),am(e))}function yA(e,t){const{line:n,target:r,above:i,below:s,area:o,scale:a,clip:u}=t,c=n._loop?"angle":t.axis;e.save();let h=s;s!==i&&(c==="x"?(y3(e,r,o.top),F0(e,{line:n,target:r,color:i,scale:a,property:c,clip:u}),e.restore(),e.save(),y3(e,r,o.bottom)):c==="y"&&(v3(e,r,o.left),F0(e,{line:n,target:r,color:s,scale:a,property:c,clip:u}),e.restore(),e.save(),v3(e,r,o.right),h=i)),F0(e,{line:n,target:r,color:h,scale:a,property:c,clip:u}),e.restore()}function y3(e,t,n){const{segments:r,points:i}=t;let s=!0,o=!1;e.beginPath();for(const a of r){const{start:u,end:c}=a,h=i[u],p=i[dm(u,c,i)];s?(e.moveTo(h.x,h.y),s=!1):(e.lineTo(h.x,n),e.lineTo(h.x,h.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(p.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function v3(e,t,n){const{segments:r,points:i}=t;let s=!0,o=!1;e.beginPath();for(const a of r){const{start:u,end:c}=a,h=i[u],p=i[dm(u,c,i)];s?(e.moveTo(h.x,h.y),s=!1):(e.lineTo(n,h.y),e.lineTo(h.x,h.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(n,p.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function F0(e,t){const{line:n,target:r,property:i,color:s,scale:o,clip:a}=t,u=eA(n,r,i);for(const{source:c,target:h,start:p,end:g}of u){const{style:{backgroundColor:x=s}={}}=c,w=r!==!0;e.save(),e.fillStyle=x,vA(e,o,a,w&&W1(i,p,g)),e.beginPath();const S=!!n.pathSegment(e,c);let C;if(w){S?e.closePath():x3(e,r,g,i);const E=!!r.pathSegment(e,h,{move:S,reverse:!0});C=S&&E,C||x3(e,r,p,i)}e.closePath(),e.fill(C?"evenodd":"nonzero"),e.restore()}}function vA(e,t,n,r){const i=t.chart.chartArea,{property:s,start:o,end:a}=r||{};if(s==="x"||s==="y"){let u,c,h,p;s==="x"?(u=o,c=i.top,h=a,p=i.bottom):(u=i.left,c=o,h=i.right,p=a),e.beginPath(),n&&(u=Math.max(u,n.left),h=Math.min(h,n.right),c=Math.max(c,n.top),p=Math.min(p,n.bottom)),e.rect(u,c,h-u,p-c),e.clip()}}function x3(e,t,n,r){const i=t.interpolate(n,r);i&&e.lineTo(i.x,i.y)}var q6={id:"filler",afterDatasetsUpdate(e,t,n){const r=(e.data.datasets||[]).length,i=[];let s,o,a,u;for(o=0;o<r;++o)s=e.getDatasetMeta(o),a=s.dataset,u=null,a&&a.options&&a instanceof Uu&&(u={visible:e.isDatasetVisible(o),index:o,fill:rA(a,o,r),chart:e,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=u,i.push(u);for(o=0;o<r;++o)u=i[o],!(!u||u.fill===!1)&&(u.fill=nA(i,o,n.propagate))},beforeDraw(e,t,n){const r=n.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),s=e.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),r&&a.fill&&M0(e.ctx,a,s))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=e.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;g3(s)&&M0(e.ctx,s,e.chartArea)}},beforeDatasetDraw(e,t,n){const r=t.meta.$filler;!g3(r)||n.drawTime!=="beforeDatasetDraw"||M0(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const b3=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}},xA=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class w3 extends lo{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,r){this.maxWidth=t,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=an(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(r=>t.filter(r,this.chart.data))),t.sort&&(n=n.sort((r,i)=>t.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,i=Vn(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:u}=b3(r,s);let c,h;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,h=this._fitRows(o,s,a,u)+10):(h=this.maxHeight,c=this._fitCols(o,i,a,u)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(h,t.maxHeight||this.maxHeight)}_fitRows(t,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,u=this.legendHitBoxes=[],c=this.lineWidths=[0],h=i+a;let p=t;s.textAlign="left",s.textBaseline="middle";let g=-1,x=-h;return this.legendItems.forEach((w,S)=>{const C=r+n/2+s.measureText(w.text).width;(S===0||c[c.length-1]+C+2*a>o)&&(p+=h,c[c.length-(S>0?0:1)]=0,x+=h,g++),u[S]={left:0,top:x,row:g,width:C,height:i},c[c.length-1]+=C+a}),p}_fitCols(t,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,u=this.legendHitBoxes=[],c=this.columnSizes=[],h=o-t;let p=a,g=0,x=0,w=0,S=0;return this.legendItems.forEach((C,E)=>{const{itemWidth:L,itemHeight:A}=bA(r,n,s,C,i);E>0&&x+A+2*a>h&&(p+=g+a,c.push({width:g,height:x}),w+=g+a,S++,g=x=0),u[E]={left:w,top:x,col:S,width:L,height:A},g=Math.max(g,L),x+=A+a}),p+=g,c.push({width:g,height:x}),p}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=Lu(s,this.left,this.width);if(this.isHorizontal()){let a=0,u=mr(r,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,u=mr(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+t+i,c.left=o.leftForLtr(o.x(u),c.width),u+=c.width+i}else{let a=0,u=mr(r,this.top+t+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,u=mr(r,this.top+t+i,this.bottom-this.columnSizes[a].height)),c.top=u,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),u+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;om(t,this),this._draw(),am(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=t,a=bn.color,u=Lu(t.rtl,this.left,this.width),c=Vn(o.font),{padding:h}=o,p=c.size,g=p/2;let x;this.drawTitle(),i.textAlign=u.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:w,boxHeight:S,itemHeight:C}=b3(o,p),E=function(P,M,H){if(isNaN(w)||w<=0||isNaN(S)||S<0)return;i.save();const Q=xt(H.lineWidth,1);if(i.fillStyle=xt(H.fillStyle,a),i.lineCap=xt(H.lineCap,"butt"),i.lineDashOffset=xt(H.lineDashOffset,0),i.lineJoin=xt(H.lineJoin,"miter"),i.lineWidth=Q,i.strokeStyle=xt(H.strokeStyle,a),i.setLineDash(xt(H.lineDash,[])),o.usePointStyle){const F={radius:S*Math.SQRT2/2,pointStyle:H.pointStyle,rotation:H.rotation,borderWidth:Q},ae=u.xPlus(P,w/2),le=M+g;c6(i,F,ae,le,o.pointStyleWidth&&w)}else{const F=M+Math.max((p-S)/2,0),ae=u.leftForLtr(P,w),le=tl(H.borderRadius);i.beginPath(),Object.values(le).some(ue=>ue!==0)?Nd(i,{x:ae,y:F,w,h:S,radius:le}):i.rect(ae,F,w,S),i.fill(),Q!==0&&i.stroke()}i.restore()},L=function(P,M,H){ll(i,H.text,P,M+C/2,c,{strikethrough:H.hidden,textAlign:u.textAlign(H.textAlign)})},A=this.isHorizontal(),B=this._computeTitleHeight();A?x={x:mr(s,this.left+h,this.right-r[0]),y:this.top+h+B,line:0}:x={x:this.left+h,y:mr(s,this.top+B+h,this.bottom-n[0].height),line:0},v6(this.ctx,t.textDirection);const $=C+h;this.legendItems.forEach((P,M)=>{i.strokeStyle=P.fontColor,i.fillStyle=P.fontColor;const H=i.measureText(P.text).width,Q=u.textAlign(P.textAlign||(P.textAlign=o.textAlign)),F=w+g+H;let ae=x.x,le=x.y;u.setWidth(this.width),A?M>0&&ae+F+h>this.right&&(le=x.y+=$,x.line++,ae=x.x=mr(s,this.left+h,this.right-r[x.line])):M>0&&le+$>this.bottom&&(ae=x.x=ae+n[x.line].width+h,x.line++,le=x.y=mr(s,this.top+B+h,this.bottom-n[x.line].height));const ue=u.x(ae);if(E(ue,le,P),ae=RN(Q,ae+w+g,A?ae+F:this.right,t.rtl),L(u.x(ae),le,P),A)x.x+=F+h;else if(typeof P.text!="string"){const q=c.lineHeight;x.y+=K6(P,q)+h}else x.y+=$}),x6(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,r=Vn(n.font),i=xr(n.padding);if(!n.display)return;const s=Lu(t.rtl,this.left,this.width),o=this.ctx,a=n.position,u=r.size/2,c=i.top+u;let h,p=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),h=this.top+c,p=mr(t.align,p,this.right-g);else{const w=this.columnSizes.reduce((S,C)=>Math.max(S,C.height),0);h=c+mr(t.align,this.top,this.bottom-w-t.labels.padding-this._computeTitleHeight())}const x=mr(a,p,p+g);o.textAlign=s.textAlign(fv(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,ll(o,n.text,x,h,r)}_computeTitleHeight(){const t=this.options.title,n=Vn(t.font),r=xr(t.padding);return t.display?n.lineHeight+r.height:0}_getLegendItemAt(t,n){let r,i,s;if(to(t,this.left,this.right)&&to(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],to(t,i.left,i.left+i.width)&&to(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(t){const n=this.options;if(!SA(t.type,n))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,s=xA(i,r);i&&!s&&an(n.onLeave,[t,i,this],this),this._hoveredItem=r,r&&!s&&an(n.onHover,[t,r,this],this)}else r&&an(n.onClick,[t,r,this],this)}}function bA(e,t,n,r,i){const s=wA(r,e,t,n),o=_A(i,r,t.lineHeight);return{itemWidth:s,itemHeight:o}}function wA(e,t,n,r){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),t+n.size/2+r.measureText(i).width}function _A(e,t,n){let r=e;return typeof t.text!="string"&&(r=K6(t,n)),r}function K6(e,t){const n=e.text?e.text.length:0;return t*n}function SA(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var Hu={id:"legend",_element:w3,start(e,t,n){const r=e.legend=new w3({ctx:e.ctx,options:n,chart:e});yr.configure(e,r,n),yr.addBox(e,r)},stop(e){yr.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;yr.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(u=>{const c=u.controller.getStyle(n?0:void 0),h=xr(c.borderWidth);return{text:t[u.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!u.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:u.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Cv extends lo{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const i=xn(r.text)?r.text.length:1;this._padding=xr(r.padding);const s=i*Vn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let u=0,c,h,p;return this.isHorizontal()?(h=mr(a,r,s),p=n+t,c=s-r):(o.position==="left"?(h=r+t,p=mr(a,i,n),u=qt*-.5):(h=s-t,p=mr(a,n,i),u=qt*.5),c=i-n),{titleX:h,titleY:p,maxWidth:c,rotation:u}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const r=Vn(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:u,rotation:c}=this._drawArgs(s);ll(t,n.text,0,0,r,{color:n.color,maxWidth:u,rotation:c,textAlign:fv(n.align),textBaseline:"middle",translation:[o,a]})}}function CA(e,t){const n=new Cv({ctx:e.ctx,options:t,chart:e});yr.configure(e,n,t),yr.addBox(e,n),e.titleBlock=n}var G6={id:"title",_element:Cv,start(e,t,n){CA(e,n)},stop(e){const t=e.titleBlock;yr.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;yr.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Df=new WeakMap;var kA={id:"subtitle",start(e,t,n){const r=new Cv({ctx:e.ctx,options:n,chart:e});yr.configure(e,r,n),yr.addBox(e,r),Df.set(e,r)},stop(e){yr.removeBox(e,Df.get(e)),Df.delete(e)},beforeUpdate(e,t,n){const r=Df.get(e);yr.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const sd={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,s=0;for(t=0,n=e.length;t<n;++t){const a=e[t].element;if(a&&a.hasValue()){const u=a.tooltipPosition();r.add(u.x),i+=u.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,u)=>a+u)/r.size,y:i/s}},nearest(e,t){if(!e.length)return!1;let n=t.x,r=t.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=e.length;s<o;++s){const u=e[s].element;if(u&&u.hasValue()){const c=u.getCenterPoint(),h=B1(t,c);h<i&&(i=h,a=u)}}if(a){const u=a.tooltipPosition();n=u.x,r=u.y}return{x:n,y:r}}};function ms(e,t){return t&&(xn(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Ks(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function jA(e,t){const{element:n,datasetIndex:r,index:i}=t,s=e.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:e,label:o,parsed:s.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function _3(e,t){const n=e.chart.ctx,{body:r,footer:i,title:s}=e,{boxWidth:o,boxHeight:a}=t,u=Vn(t.bodyFont),c=Vn(t.titleFont),h=Vn(t.footerFont),p=s.length,g=i.length,x=r.length,w=xr(t.padding);let S=w.height,C=0,E=r.reduce((B,$)=>B+$.before.length+$.lines.length+$.after.length,0);if(E+=e.beforeBody.length+e.afterBody.length,p&&(S+=p*c.lineHeight+(p-1)*t.titleSpacing+t.titleMarginBottom),E){const B=t.displayColors?Math.max(a,u.lineHeight):u.lineHeight;S+=x*B+(E-x)*u.lineHeight+(E-1)*t.bodySpacing}g&&(S+=t.footerMarginTop+g*h.lineHeight+(g-1)*t.footerSpacing);let L=0;const A=function(B){C=Math.max(C,n.measureText(B).width+L)};return n.save(),n.font=c.string,Jt(e.title,A),n.font=u.string,Jt(e.beforeBody.concat(e.afterBody),A),L=t.displayColors?o+2+t.boxPadding:0,Jt(r,B=>{Jt(B.before,A),Jt(B.lines,A),Jt(B.after,A)}),L=0,n.font=h.string,Jt(e.footer,A),n.restore(),C+=w.width,{width:C,height:S}}function EA(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}function TA(e,t,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(e==="left"&&i+s+o>t.width||e==="right"&&i-s-o<0)return!0}function NA(e,t,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:u}}=e;let c="center";return r==="center"?c=i<=(a+u)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),TA(c,e,t,n)&&(c="center"),c}function S3(e,t,n){const r=n.yAlign||t.yAlign||EA(e,n);return{xAlign:n.xAlign||t.xAlign||NA(e,t,n,r),yAlign:r}}function PA(e,t){let{x:n,width:r}=e;return t==="right"?n-=r:t==="center"&&(n-=r/2),n}function OA(e,t,n){let{y:r,height:i}=e;return t==="top"?r+=n:t==="bottom"?r-=i+n:r-=i/2,r}function C3(e,t,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=e,{xAlign:a,yAlign:u}=n,c=i+s,{topLeft:h,topRight:p,bottomLeft:g,bottomRight:x}=tl(o);let w=PA(t,a);const S=OA(t,u,c);return u==="center"?a==="left"?w+=c:a==="right"&&(w-=c):a==="left"?w-=Math.max(h,g)+i:a==="right"&&(w+=Math.max(p,x)+i),{x:tr(w,0,r.width-t.width),y:tr(S,0,r.height-t.height)}}function If(e,t,n){const r=xr(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function k3(e){return ms([],Ks(e))}function LA(e,t,n){return ia(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function j3(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const Y6={beforeTitle:Ws,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:Ws,beforeBody:Ws,beforeLabel:Ws,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Mt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ws,afterBody:Ws,beforeFooter:Ws,footer:Ws,afterFooter:Ws};function Hr(e,t,n,r){const i=e[t].call(n,r);return typeof i>"u"?Y6[t].call(n,r):i}let E3=class extends lo{static positioners=sd;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new C6(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=LA(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,i=Hr(r,"beforeTitle",this,t),s=Hr(r,"title",this,t),o=Hr(r,"afterTitle",this,t);let a=[];return a=ms(a,Ks(i)),a=ms(a,Ks(s)),a=ms(a,Ks(o)),a}getBeforeBody(t,n){return k3(Hr(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:r}=n,i=[];return Jt(t,s=>{const o={before:[],lines:[],after:[]},a=j3(r,s);ms(o.before,Ks(Hr(a,"beforeLabel",this,s))),ms(o.lines,Hr(a,"label",this,s)),ms(o.after,Ks(Hr(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(t,n){return k3(Hr(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:r}=n,i=Hr(r,"beforeFooter",this,t),s=Hr(r,"footer",this,t),o=Hr(r,"afterFooter",this,t);let a=[];return a=ms(a,Ks(i)),a=ms(a,Ks(s)),a=ms(a,Ks(o)),a}_createItems(t){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],u,c;for(u=0,c=n.length;u<c;++u)a.push(jA(this.chart,n[u]));return t.filter&&(a=a.filter((h,p,g)=>t.filter(h,p,g,r))),t.itemSort&&(a=a.sort((h,p)=>t.itemSort(h,p,r))),Jt(a,h=>{const p=j3(t.callbacks,h);i.push(Hr(p,"labelColor",this,h)),s.push(Hr(p,"labelPointStyle",this,h)),o.push(Hr(p,"labelTextColor",this,h))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=sd[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const u=this._size=_3(this,r),c=Object.assign({},a,u),h=S3(this.chart,r,c),p=C3(r,c,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,s={opacity:1,x:p.x,y:p.y,width:u.width,height:u.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,i){const s=this.getCaretPosition(t,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(t,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:u,topRight:c,bottomLeft:h,bottomRight:p}=tl(a),{x:g,y:x}=t,{width:w,height:S}=n;let C,E,L,A,B,$;return s==="center"?(B=x+S/2,i==="left"?(C=g,E=C-o,A=B+o,$=B-o):(C=g+w,E=C+o,A=B-o,$=B+o),L=C):(i==="left"?E=g+Math.max(u,h)+o:i==="right"?E=g+w-Math.max(c,p)-o:E=this.caretX,s==="top"?(A=x,B=A-o,C=E-o,L=E+o):(A=x+S,B=A+o,C=E+o,L=E-o),$=A),{x1:C,x2:E,x3:L,y1:A,y2:B,y3:$}}drawTitle(t,n,r){const i=this.title,s=i.length;let o,a,u;if(s){const c=Lu(r.rtl,this.x,this.width);for(t.x=If(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=Vn(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,u=0;u<s;++u)n.fillText(i[u],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,u+1===s&&(t.y+=r.titleMarginBottom-a)}}_drawColorBox(t,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:u,boxWidth:c}=s,h=Vn(s.bodyFont),p=If(this,"left",s),g=i.x(p),x=u<h.lineHeight?(h.lineHeight-u)/2:0,w=n.y+x;if(s.usePointStyle){const S={radius:Math.min(c,u)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},C=i.leftForLtr(g,c)+c/2,E=w+u/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,$1(t,S,C,E),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,$1(t,S,C,E)}else{t.lineWidth=Ft(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const S=i.leftForLtr(g,c),C=i.leftForLtr(i.xPlus(g,1),c-2),E=tl(o.borderRadius);Object.values(E).some(L=>L!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,Nd(t,{x:S,y:w,w:c,h:u,radius:E}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Nd(t,{x:C,y:w+1,w:c-2,h:u-2,radius:E}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(S,w,c,u),t.strokeRect(S,w,c,u),t.fillStyle=o.backgroundColor,t.fillRect(C,w+1,c-2,u-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:u,boxWidth:c,boxPadding:h}=r,p=Vn(r.bodyFont);let g=p.lineHeight,x=0;const w=Lu(r.rtl,this.x,this.width),S=function(H){n.fillText(H,w.x(t.x+x),t.y+g/2),t.y+=g+s},C=w.textAlign(o);let E,L,A,B,$,P,M;for(n.textAlign=o,n.textBaseline="middle",n.font=p.string,t.x=If(this,C,r),n.fillStyle=r.bodyColor,Jt(this.beforeBody,S),x=a&&C!=="right"?o==="center"?c/2+h:c+2+h:0,B=0,P=i.length;B<P;++B){for(E=i[B],L=this.labelTextColors[B],n.fillStyle=L,Jt(E.before,S),A=E.lines,a&&A.length&&(this._drawColorBox(n,t,B,w,r),g=Math.max(p.lineHeight,u)),$=0,M=A.length;$<M;++$)S(A[$]),g=p.lineHeight;Jt(E.after,S)}x=0,g=p.lineHeight,Jt(this.afterBody,S),t.y-=s}drawFooter(t,n,r){const i=this.footer,s=i.length;let o,a;if(s){const u=Lu(r.rtl,this.x,this.width);for(t.x=If(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=u.textAlign(r.footerAlign),n.textBaseline="middle",o=Vn(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],u.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+r.footerSpacing}}drawBackground(t,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:u}=t,{width:c,height:h}=r,{topLeft:p,topRight:g,bottomLeft:x,bottomRight:w}=tl(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+p,u),o==="top"&&this.drawCaret(t,n,r,i),n.lineTo(a+c-g,u),n.quadraticCurveTo(a+c,u,a+c,u+g),o==="center"&&s==="right"&&this.drawCaret(t,n,r,i),n.lineTo(a+c,u+h-w),n.quadraticCurveTo(a+c,u+h,a+c-w,u+h),o==="bottom"&&this.drawCaret(t,n,r,i),n.lineTo(a+x,u+h),n.quadraticCurveTo(a,u+h,a,u+h-x),o==="center"&&s==="left"&&this.drawCaret(t,n,r,i),n.lineTo(a,u+p),n.quadraticCurveTo(a,u,a+p,u),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=sd[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=_3(this,t),u=Object.assign({},o,this._size),c=S3(n,t,u),h=C3(t,u,c,n);(i._to!==h.x||s._to!==h.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=xr(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=r,this.drawBackground(s,t,i,n),v6(t,n.textDirection),s.y+=o.top,this.drawTitle(s,t,n),this.drawBody(s,t,n),this.drawFooter(s,t,n),x6(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,i=t.map(({datasetIndex:a,index:u})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[u],index:u}}),s=!Pp(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(t,s,n,r),a=this._positionChanged(o,t),u=n||!Pp(o,s)||a;return u&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),u}_getActiveElements(t,n,r,i){const s=this.options;if(t.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:r,caretY:i,options:s}=this,o=sd[s.position].call(this,t,n);return o!==!1&&(r!==o.x||i!==o.y)}};var Qu={id:"tooltip",_element:E3,positioners:sd,afterInit(e,t,n){n&&(e.tooltip=new E3({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Y6},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},AA=Object.freeze({__proto__:null,Colors:GL,Decimation:ZL,Filler:q6,Legend:Hu,SubTitle:kA,Title:G6,Tooltip:Qu});const DA=(e,t,n,r)=>(typeof t=="string"?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function IA(e,t,n,r){const i=e.indexOf(t);if(i===-1)return DA(e,t,n,r);const s=e.lastIndexOf(t);return i!==s?n:i}const RA=(e,t)=>e===null?null:tr(Math.round(e),0,t);function T3(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Kd extends ml{static id="category";static defaults={ticks:{callback:T3}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Mt(t))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===t?n:IA(r,t,xt(n,t),this._addedLabels),RA(n,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const t=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=t===0&&n===s.length-1?s:s.slice(t,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=t;o<=n;o++)i.push({value:o});return i}getLabelForValue(t){return T3.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function MA(e,t){const n=[],{bounds:i,step:s,min:o,max:a,precision:u,count:c,maxTicks:h,maxDigits:p,includeBounds:g}=e,x=s||1,w=h-1,{min:S,max:C}=t,E=!Mt(o),L=!Mt(a),A=!Mt(c),B=(C-S)/(p+1);let $=_w((C-S)/w/x)*x,P,M,H,Q;if($<1e-14&&!E&&!L)return[{value:S},{value:C}];Q=Math.ceil(C/$)-Math.floor(S/$),Q>w&&($=_w(Q*$/w/x)*x),Mt(u)||(P=Math.pow(10,u),$=Math.ceil($*P)/P),i==="ticks"?(M=Math.floor(S/$)*$,H=Math.ceil(C/$)*$):(M=S,H=C),E&&L&&s&&NN((a-o)/s,$/1e3)?(Q=Math.round(Math.min((a-o)/$,h)),$=(a-o)/Q,M=o,H=a):A?(M=E?o:M,H=L?a:H,Q=c-1,$=(H-M)/Q):(Q=(H-M)/$,cd(Q,Math.round(Q),$/1e3)?Q=Math.round(Q):Q=Math.ceil(Q));const F=Math.max(Sw($),Sw(M));P=Math.pow(10,Mt(u)?F:u),M=Math.round(M*P)/P,H=Math.round(H*P)/P;let ae=0;for(E&&(g&&M!==o?(n.push({value:o}),M<o&&ae++,cd(Math.round((M+ae*$)*P)/P,o,N3(o,B,e))&&ae++):M<o&&ae++);ae<Q;++ae){const le=Math.round((M+ae*$)*P)/P;if(L&&le>a)break;n.push({value:le})}return L&&g&&H!==a?n.length&&cd(n[n.length-1].value,a,N3(a,B,e))?n[n.length-1].value=a:n.push({value:a}):(!L||H===a)&&n.push({value:H}),n}function N3(e,t,{horizontal:n,minRotation:r}){const i=Zi(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+e).length;return Math.min(t/s,o)}class Mp extends ml{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Mt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=u=>i=n?i:u,a=u=>s=r?s:u;if(t){const u=bs(i),c=bs(s);u<0&&c<0?a(0):u>0&&c>0&&o(0)}if(i===s){let u=s===0?1:Math.abs(s*.05);a(s+u),t||o(i-u)}this.min=i,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=t,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=MA(i,s);return t.bounds==="ticks"&&t6(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const i=(r-n)/Math.max(t.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(t){return Wd(t,this.chart.options.locale,this.options.ticks.format)}}class Gd extends Mp{static id="linear";static defaults={ticks:{callback:sm.formatters.numeric}};determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=kn(t)?t:0,this.max=kn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,r=Zi(this.options.ticks.minRotation),i=(t?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Od=e=>Math.floor(Wo(e)),Fa=(e,t)=>Math.pow(10,Od(e)+t);function P3(e){return e/Math.pow(10,Od(e))===1}function O3(e,t,n){const r=Math.pow(10,n),i=Math.floor(e/r);return Math.ceil(t/r)-i}function FA(e,t){const n=t-e;let r=Od(n);for(;O3(e,t,r)>10;)r++;for(;O3(e,t,r)<10;)r--;return Math.min(r,Od(e))}function BA(e,{min:t,max:n}){t=li(e.min,t);const r=[],i=Od(t);let s=FA(t,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),u=i>s?Math.pow(10,i):0,c=Math.round((t-u)*o)/o,h=Math.floor((t-u)/a/10)*a*10;let p=Math.floor((c-h)/Math.pow(10,s)),g=li(e.min,Math.round((u+h+p*Math.pow(10,s))*o)/o);for(;g<n;)r.push({value:g,major:P3(g),significand:p}),p>=10?p=p<15?15:20:p++,p>=20&&(s++,p=2,o=s>=0?1:o),g=Math.round((u+h+p*Math.pow(10,s))*o)/o;const x=li(e.max,g);return r.push({value:x,major:P3(x),significand:p}),r}class zA extends ml{static id="logarithmic";static defaults={ticks:{callback:sm.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const r=Mp.prototype.parse.apply(this,[t,n]);if(r===0){this._zero=!0;return}return kn(r)&&r>0?r:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=kn(t)?Math.max(0,t):null,this.max=kn(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!kn(this._userMin)&&(this.min=t===Fa(this.min,0)?Fa(this.min,-1):Fa(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let r=this.min,i=this.max;const s=a=>r=t?r:a,o=a=>i=n?i:a;r===i&&(r<=0?(s(1),o(10)):(s(Fa(r,-1)),o(Fa(i,1)))),r<=0&&s(Fa(i,-1)),i<=0&&o(Fa(r,1)),this.min=r,this.max=i}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},r=BA(n,this);return t.bounds==="ticks"&&t6(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(t){return t===void 0?"0":Wd(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Wo(t),this._valueRange=Wo(this.max)-Wo(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Wo(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}function q1(e){const t=e.ticks;if(t.display&&e.display){const n=xr(t.backdropPadding);return xt(t.font&&t.font.size,bn.font.size)+n.height}return 0}function $A(e,t,n){return n=xn(n)?n:[n],{w:WN(e,t.string,n),h:n.length*t.lineHeight}}function L3(e,t,n,r,i){return e===r||e===i?{start:t-n/2,end:t+n/2}:e<r||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function UA(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),r=[],i=[],s=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?qt/s:0;for(let u=0;u<s;u++){const c=o.setContext(e.getPointLabelContext(u));i[u]=c.padding;const h=e.getPointPosition(u,e.drawingArea+i[u],a),p=Vn(c.font),g=$A(e.ctx,p,e._pointLabels[u]);r[u]=g;const x=gr(e.getIndexAngle(u)+a),w=Math.round(dv(x)),S=L3(w,h.x,g.w,0,180),C=L3(w,h.y,g.h,90,270);HA(n,t,x,S,C)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=WA(e,r,i)}function HA(e,t,n,r,i){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,u=0;r.start<t.l?(a=(t.l-r.start)/s,e.l=Math.min(e.l,t.l-a)):r.end>t.r&&(a=(r.end-t.r)/s,e.r=Math.max(e.r,t.r+a)),i.start<t.t?(u=(t.t-i.start)/o,e.t=Math.min(e.t,t.t-u)):i.end>t.b&&(u=(i.end-t.b)/o,e.b=Math.max(e.b,t.b+u))}function QA(e,t,n){const r=e.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=n,u=e.getPointPosition(t,r+i+o,s),c=Math.round(dv(gr(u.angle+On))),h=GA(u.y,a.h,c),p=qA(c),g=KA(u.x,a.w,p);return{visible:!0,x:u.x,y:h,textAlign:p,left:g,top:h,right:g+a.w,bottom:h+a.h}}function VA(e,t){if(!t)return!0;const{left:n,top:r,right:i,bottom:s}=e;return!(ro({x:n,y:r},t)||ro({x:n,y:s},t)||ro({x:i,y:r},t)||ro({x:i,y:s},t))}function WA(e,t,n){const r=[],i=e._pointLabels.length,s=e.options,{centerPointLabels:o,display:a}=s.pointLabels,u={extra:q1(s)/2,additionalAngle:o?qt/i:0};let c;for(let h=0;h<i;h++){u.padding=n[h],u.size=t[h];const p=QA(e,h,u);r.push(p),a==="auto"&&(p.visible=VA(p,c),p.visible&&(c=p))}return r}function qA(e){return e===0||e===180?"center":e<180?"left":"right"}function KA(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function GA(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function YA(e,t,n){const{left:r,top:i,right:s,bottom:o}=n,{backdropColor:a}=t;if(!Mt(a)){const u=tl(t.borderRadius),c=xr(t.backdropPadding);e.fillStyle=a;const h=r-c.left,p=i-c.top,g=s-r+c.width,x=o-i+c.height;Object.values(u).some(w=>w!==0)?(e.beginPath(),Nd(e,{x:h,y:p,w:g,h:x,radius:u}),e.fill()):e.fillRect(h,p,g,x)}}function XA(e,t){const{ctx:n,options:{pointLabels:r}}=e;for(let i=t-1;i>=0;i--){const s=e._pointLabelItems[i];if(!s.visible)continue;const o=r.setContext(e.getPointLabelContext(i));YA(n,o,s);const a=Vn(o.font),{x:u,y:c,textAlign:h}=s;ll(n,e._pointLabels[i],u,c+a.lineHeight/2,a,{color:o.color,textAlign:h,textBaseline:"middle"})}}function X6(e,t,n,r){const{ctx:i}=e;if(n)i.arc(e.xCenter,e.yCenter,t,0,hn);else{let s=e.getPointPosition(0,t);i.moveTo(s.x,s.y);for(let o=1;o<r;o++)s=e.getPointPosition(o,t),i.lineTo(s.x,s.y)}}function JA(e,t,n,r,i){const s=e.ctx,o=t.circular,{color:a,lineWidth:u}=t;!o&&!r||!a||!u||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=u,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),X6(e,n,o,r),s.closePath(),s.stroke(),s.restore())}function ZA(e,t,n){return ia(e,{label:n,index:t,type:"pointLabel"})}class J6 extends Mp{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:sm.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=xr(q1(this.options)/2),n=this.width=this.maxWidth-t.width,r=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+r/2+t.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=kn(t)&&!isNaN(t)?t:0,this.max=kn(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/q1(this.options))}generateTickLabels(t){Mp.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,r)=>{const i=an(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const t=this.options;t.display&&t.pointLabels.display?UA(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,r,i){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,r,i))}getIndexAngle(t){const n=hn/(this._pointLabels.length||1),r=this.options.startAngle||0;return gr(t*n+Zi(r))}getDistanceFromCenterForValue(t){if(Mt(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(Mt(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const r=n[t];return ZA(this.getContext(),t,r)}}getPointPosition(t,n,r=0){const i=this.getIndexAngle(t)-On+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:r,right:i,bottom:s}=this._pointLabelItems[t];return{left:n,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const r=this.ctx;r.save(),r.beginPath(),X6(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=t,r.fill(),r.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:r,grid:i,border:s}=n,o=this._pointLabels.length;let a,u,c;if(n.pointLabels.display&&XA(this,o),i.display&&this.ticks.forEach((h,p)=>{if(p!==0||p===0&&this.min<0){u=this.getDistanceFromCenterForValue(h.value);const g=this.getContext(p),x=i.setContext(g),w=s.setContext(g);JA(this,x,u,o,w)}}),r.display){for(t.save(),a=o-1;a>=0;a--){const h=r.setContext(this.getPointLabelContext(a)),{color:p,lineWidth:g}=h;!g||!p||(t.lineWidth=g,t.strokeStyle=p,t.setLineDash(h.borderDash),t.lineDashOffset=h.borderDashOffset,u=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(a,u),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,u)=>{if(u===0&&this.min>=0&&!n.reverse)return;const c=r.setContext(this.getContext(u)),h=Vn(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[u].value),c.showLabelBackdrop){t.font=h.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const p=xr(c.backdropPadding);t.fillRect(-o/2-p.left,-s-h.size/2-p.top,o+p.width,h.size+p.height)}ll(t,a.label,0,-s,h,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}const hm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Kr=Object.keys(hm);function A3(e,t){return e-t}function D3(e,t){if(Mt(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:s}=e._parseOpts;let o=t;return typeof r=="function"&&(o=r(o)),kn(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(ol(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function I3(e,t,n,r){const i=Kr.length;for(let s=Kr.indexOf(e);s<i-1;++s){const o=hm[Kr[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=r)return Kr[s]}return Kr[i-1]}function eD(e,t,n,r,i){for(let s=Kr.length-1;s>=Kr.indexOf(n);s--){const o=Kr[s];if(hm[o].common&&e._adapter.diff(i,r,o)>=t-1)return o}return Kr[n?Kr.indexOf(n):0]}function tD(e){for(let t=Kr.indexOf(e)+1,n=Kr.length;t<n;++t)if(hm[Kr[t]].common)return Kr[t]}function R3(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:r,hi:i}=hv(n,t),s=n[r]>=t?n[r]:n[i];e[s]=!0}}function nD(e,t,n,r){const i=e._adapter,s=+i.startOf(t[0].value,r),o=t[t.length-1].value;let a,u;for(a=s;a<=o;a=+i.add(a,1,r))u=n[a],u>=0&&(t[u].major=!0);return t}function M3(e,t,n){const r=[],i={},s=t.length;let o,a;for(o=0;o<s;++o)a=t[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:nD(e,r,i,n)}class K1 extends ml{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),i=this._adapter=new fO._date(t.adapters.date);i.init(n),ud(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:D3(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function u(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(u(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&u(this.getMinMax(!1))),i=kn(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=kn(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=AN(i,s,o);return this._unit=n.unit||(r.autoSkip?I3(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):eD(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:tD(this._unit),this.initOffsets(i),t.reverse&&a.reverse(),M3(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,r=0,i,s;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?n=1-i:n=(this.getDecimalForValue(t[1])-i)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?r=s:r=(s-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=tr(n,0,o),r=tr(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||I3(s.minUnit,n,r,this._getLabelCapacity(n)),a=xt(i.ticks.stepSize,1),u=o==="week"?s.isoWeekday:!1,c=ol(u)||u===!0,h={};let p=n,g,x;if(c&&(p=+t.startOf(p,"isoWeek",u)),p=+t.startOf(p,c?"day":o),t.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const w=i.ticks.source==="data"&&this.getDataTimestamps();for(g=p,x=0;g<r;g=+t.add(g,a,o),x++)R3(h,g,w);return(g===r||i.bounds==="ticks"||x===1)&&R3(h,g,w),Object.keys(h).sort(A3).map(S=>+S)}getLabelForValue(t){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}format(t,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(t,o)}_tickFormatFunction(t,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return an(o,[t,n,r],this);const a=s.time.displayFormats,u=this._unit,c=this._majorUnit,h=u&&a[u],p=c&&a[c],g=r[n],x=c&&p&&g&&g.major;return this._adapter.format(t,i||(x?p:h))}generateTickLabels(t){let n,r,i;for(n=0,r=t.length;n<r;++n)i=t[n],i.label=this._tickFormatFunction(i.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,i=Zi(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(t,0,M3(this,[t],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)t=t.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)t.push(D3(this,i[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return i6(t.sort(A3))}}function Rf(e,t,n){let r=0,i=e.length-1,s,o,a,u;n?(t>=e[r].pos&&t<=e[i].pos&&({lo:r,hi:i}=no(e,"pos",t)),{pos:s,time:a}=e[r],{pos:o,time:u}=e[i]):(t>=e[r].time&&t<=e[i].time&&({lo:r,hi:i}=no(e,"time",t)),{time:s,pos:a}=e[r],{time:o,pos:u}=e[i]);const c=o-s;return c?a+(u-a)*(t-s)/c:a}class rD extends K1{static id="timeseries";static defaults=K1.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Rf(n,this.min),this._tableRange=Rf(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:r}=this,i=[],s=[];let o,a,u,c,h;for(o=0,a=t.length;o<a;++o)c=t[o],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)h=i[o+1],u=i[o-1],c=i[o],Math.round((h+u)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const t=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?t=this.normalize(n.concat(r)):t=n.length?n:r,t=this._cache.all=t,t}getDecimalForValue(t){return(Rf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return Rf(this._table,r*this._tableRange+this._minPos,!0)}}var iD=Object.freeze({__proto__:null,CategoryScale:Kd,LinearScale:Gd,LogarithmicScale:zA,RadialLinearScale:J6,TimeScale:K1,TimeSeriesScale:rD});const sD=[hO,UL,AA,iD];uo.register(...sD);const Z6="label";function F3(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function oD(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function e7(e,t){e.labels=t}function t7(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Z6;const r=[];e.datasets=t.map(i=>{const s=e.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function aD(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Z6;const n={labels:[],datasets:[]};return e7(n,e.labels),t7(n,e.datasets,t),n}function lD(e,t){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:u,plugins:c=[],fallbackContent:h,updateMode:p,...g}=e,x=N.useRef(null),w=N.useRef(null),S=()=>{x.current&&(w.current=new uo(x.current,{type:o,data:aD(a,s),options:u&&{...u},plugins:c}),F3(t,w.current))},C=()=>{F3(t,null),w.current&&(w.current.destroy(),w.current=null)};return N.useEffect(()=>{!i&&w.current&&u&&oD(w.current,u)},[i,u]),N.useEffect(()=>{!i&&w.current&&e7(w.current.config.data,a.labels)},[i,a.labels]),N.useEffect(()=>{!i&&w.current&&a.datasets&&t7(w.current.config.data,a.datasets,s)},[i,a.datasets]),N.useEffect(()=>{w.current&&(i?(C(),setTimeout(S)):w.current.update(p))},[i,u,a.labels,a.datasets,p]),N.useEffect(()=>{w.current&&(C(),setTimeout(S))},[o]),N.useEffect(()=>(S(),()=>C()),[]),en.createElement("canvas",{ref:x,role:"img",height:n,width:r,...g},h)}const n7=N.forwardRef(lD);function kv(e,t){return uo.register(t),N.forwardRef((n,r)=>en.createElement(n7,{...n,ref:r,type:e}))}const uD=kv("bar",E6),cD=kv("radar",N6),r7=kv("doughnut",um),Fu={searchBtnSpeed:{mu:1.457,sigma:.7362},captchaSpeed:{mu:3.6415,sigma:.4057},totalSpeed:{mu:8.6367,sigma:.5422}};function i7(e,t,n){if(e<=0)return 0;const r=(Math.log(e)-Math.log(t))/n,i=1/(1+.2316419*Math.abs(r)),o=.3989423*Math.exp(-r*r/2)*i*(.3193815+i*(-.3565638+i*(1.781478+i*(-1.821256+i*1.330274))));return r>0?1-o:o}function fm(e,t=7.5,n=.3){const s=e>3e3?e/1e3:e,a=1-i7(s,t,n);return Math.max(Math.min(a*100,100),0)}function dD(e){const n=Math.min(Math.max(e,0),100)/100,i=-i7(n,.4,.1);return Math.round(i*5)}function hD(e,t){const n=(e-2*t)/(e-t);return Math.max(0,Math.round(n*100))}function fD(e){return fm(e,Fu.searchBtnSpeed.mu,Fu.searchBtnSpeed.sigma)}function pD(e){return fm(e,Fu.captchaSpeed.mu,Fu.captchaSpeed.sigma)}function mD(e){return Math.max(0,Math.min(e,100))}function gD(e){return fm(e,Fu.totalSpeed.mu,Fu.totalSpeed.sigma)}uo.register(J6,Sv,Uu,q6,Qu,Hu);const yD={responsive:!0,scales:{r:{angleLines:{display:!0},suggestedMin:0,suggestedMax:100,ticks:{display:!1},pointLabels:{font:{size:14},color:"#4B5563"},grid:{color:"#E5E7EB"}}},plugins:{legend:{display:!1},tooltip:{enabled:!0}}};function vD(e){const{user_ability:t}=e,{searchBtnSpeed:n,totalSpeed:r,accuracy:i,captchaSpeed:s}=t,o=["신청 버튼 클릭 속도","전체 속도","정확도","매크로 인증 속도"],a=[n,r,i,s];return{labels:o,datasets:[{label:"평균",data:B3([1.776296,9.30268,93.58,3.843947]),backgroundColor:"rgba(5, 223, 114, 0.2)",borderColor:"rgba(5, 223, 114, 1)",borderWidth:2,pointBackgroundColor:"rgba(5, 223, 114, 1)"},{label:"내 능력",data:B3(a),backgroundColor:"rgb(0, 122, 255, 0.2)",borderColor:"rgba(0, 122, 255, 1)",borderWidth:2,pointBackgroundColor:"rgba(0, 122, 255, 1)"}]}}function B3(e){return[fD(e[0]),gD(e[1]),mD(e[2]),pD(e[3])]}function jv({result:e}){const t=vD(e),{searchBtnSpeed:n,totalSpeed:r,accuracy:i,captchaSpeed:s}=e.user_ability;return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"h-90",children:f.jsx(cD,{data:t,className:"mx-auto",options:yD})}),f.jsxs("div",{className:"absolute bottom-6 right-6 bg-white shadow-lg rounded-lg px-4 py-3 text-xs text-gray-800",children:[f.jsx("div",{className:"font-bold text-sm mb-1",children:"내 능력"}),f.jsxs("ul",{className:"space-y-1",children:[f.jsxs("li",{className:"flex justify-between",children:[f.jsx("span",{children:"• 신청 버튼 클릭 속도 "})," ",f.jsxs("span",{children:[n.toFixed(2)," sec"]})]}),f.jsxs("li",{className:"flex justify-between",children:[f.jsx("span",{children:"• 총 소요 시간"})," ",f.jsxs("span",{children:[r.toFixed(2)," sec"]})]}),f.jsxs("li",{className:"flex justify-between",children:[f.jsx("span",{children:"• 정확도"})," ",f.jsxs("span",{children:[i.toFixed(2)," %"]})]}),f.jsxs("li",{className:"flex justify-between",children:[f.jsx("span",{children:"• 매크로 방지 코드 인증 속도"})," ",f.jsxs("span",{children:[s.toFixed(2)," sec"]})]})]})]})]})}function G1(e,t){const n=e.getContext("2d");if(!n)return;n.clearRect(0,0,e.width,e.height);const r=n.createLinearGradient(0,0,e.width,0);r.addColorStop(0,"#4a4a4a"),r.addColorStop(1,"#bcbcbc"),n.fillStyle=r,n.fillRect(0,0,e.width,e.height),n.font="bold 32px Arial Black, Impact, sans-serif",n.fillStyle="black",n.textAlign="center",n.textBaseline="middle",n.fillText(t,e.width/2,e.height/2)}const xD={user_ability:{searchBtnSpeed:1.076296,totalSpeed:6.70268,accuracy:98.58,captchaSpeed:4.843947}};function bD(){const[e,t]=N.useState(xD);return f.jsxs(pl,{children:[f.jsx(tm,{title:"세종대 수강신청 연습 (올클연습)",subtitle:"세종대 수강신청 연습 부터, 결과 분석까지 한 번에",href:"/simulation"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[f.jsxs(Np,{children:[f.jsx("h3",{className:"text-lg font-semibold",children:"수강 신청 연습"}),f.jsx("p",{className:"text-gray-600 mb-4",children:"실전처럼 연습하고, 수강 신청 성공률을 높여보세요!"}),f.jsx(_D,{setRadarData:t})]}),f.jsxs(Np,{className:"relative",children:[f.jsx("h3",{className:"text-lg font-semibold",children:"연습 결과 분석"}),f.jsx("p",{className:"text-gray-600 mb-4",children:"연습 결과를 분석하여 더 나은 전략을 세워보세요."}),f.jsx(jv,{result:e})]})]})]})}function z3(){return Math.floor(1e3+Math.random()*9e3).toString()}const wD=4;function _D({setRadarData:e}){const t=N.useRef(null),[n,r]=N.useState(),[i,s]=N.useState({message:"",color:"red"}),o=N.useRef(""),a=CD(e);function u(){o.current=z3(),r(""),s({message:"",color:"red"}),a.resetResult(),t.current&&G1(t.current,o.current)}function c(){setTimeout(u,200)}function h(g){let x=g.target.value;if(a.updateResult(),/\D/.test(x)){s({message:"0~9까지의 숫자만 입력해주세요",color:"red"}),r(x.replace(/\D/g,""));return}if(x.length>wD){s({message:"4자리까지 입력 가능합니다",color:"red"});return}r(x),s({message:"",color:"red"})}N.useEffect(()=>{setTimeout(()=>{o.current=z3(),a.initResult(),t.current&&G1(t.current,o.current)},100)},[]);function p(){n?.toString()===o.current?(s({message:"캡차가 성공적으로 입력되었습니다.",color:"green"}),a.endResult(!0),setTimeout(u,700)):(s({message:"캡차 입력이 잘못되었습니다.",color:"red"}),a.endResult(!1),setTimeout(u,700))}return f.jsxs("div",{className:"flex flex-col justify-center h-4/5",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 p-4",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsxs("div",{className:"text-sm font-semibold flex flex-row items-center gap-2",children:[f.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "}),"생성된 코드",f.jsx(SD,{onClick:c,children:"재생성"})]}),f.jsx("div",{className:"flex items-center mt-1",children:f.jsx("canvas",{id:"captcha",width:"105",height:"50",ref:t})})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"text-sm font-semibold  flex flex-row items-center",children:[f.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "}),"생성된 코드 입력"]}),f.jsx("input",{type:"text",value:n,onChange:g=>h(g),className:"mt-2 w-full border-1 border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring focus:border-gray-800",placeholder:"코드를 입력하세요"}),f.jsx("span",{className:"pl-1 text-xs "+(i.color==="green"?"text-green-500":"text-red-500"),children:i.message})]})]}),f.jsx("div",{className:"flex justify-end p-4",children:f.jsx("button",{onClick:p,className:"px-4 py-2 bg-white hover:bg-blue-50 rounded-xs border cursor-pointer",children:"코드입력"})})]})}function SD({className:e,children:t,...n}){return f.jsx("button",{className:"px-2 py-1 bg-blue-500 text-white text-sm rounded-xs cursor-pointer hover:bg-blue-600 "+e,...n,children:t})}function CD(e){const t=N.useRef({tryCount:0,successCount:0,avgTime:0,startTime:-1});function n(){t.current.startTime=-1}function r(){t.current.startTime=Date.now()}function i(){t.current.startTime===-1&&(t.current.startTime=Date.now())}function s(o){const a=Date.now(),u=t.current.startTime===-1?4.843947:1+(a-t.current.startTime)/1e3;t.current.startTime=-1,t.current.tryCount+=1,t.current.avgTime=1+(u-t.current.avgTime)/t.current.tryCount,t.current.successCount+=o?1:0,e&&e(c=>({user_ability:{...c.user_ability,captchaSpeed:t.current.avgTime,accuracy:100*(t.current.successCount/t.current.tryCount)}}))}return{initResult:n,resetResult:r,updateResult:i,endResult:s}}function Vu(){return rs({queryKey:["departments"],queryFn:kD,staleTime:1/0,select:e=>e.departments.sort((t,n)=>t.departmentName.localeCompare(n.departmentName))})}const kD=async()=>await ao("/api/departments"),jD=e=>{if(!e)return{universityDict:{},collegeDict:{}};const t={},n={};return e.forEach(r=>{const[i,s,o]=r.departmentName.split(" "),a=i.trim(),u=s?.trim(),c=o?.trim();u&&(t[a]||(t[a]=[]),t[a]=[...t[a],u],c||(n[u]=[u])),c&&(t[a]||(t[a]=[]),t[a]=[...t[a],c],n[u]||(n[u]=[]),n[u]=[...n[u],c])}),{universityDict:t,collegeDict:n}},ED=(e,t)=>{const n=e.split(" ").map(r=>r.trim());for(const r in t)if(n.some(i=>t[r].includes(i)))return r;return console.error("No university found",e),""},TD=(e,t)=>{const n=e.split(" ").map(r=>r.trim());for(const r in t)if(n.some(i=>r.includes(i)))return r;return console.error("No college found",e),""},pm={labels:["컴퓨터공학과","정보통신공학과","소프트웨어학과","기타"],datasets:[{data:[40,25,20,15]}]},Yd=["#f97316","#3b82f6","#facc15","#22c55e","#60b6d4"];function $3(e){if(!e)return pm;const t={};return e.forEach(n=>{t[n.registerDepartment??""]||(t[n.registerDepartment??""]=0),t[n.registerDepartment??""]+=Number(n.eachCount)}),{labels:Object.keys(t).map(n=>n||"기타"),datasets:[{data:Object.values(t),backgroundColor:Yd}]}}function ND(e,t){if(!t)return pm;const n={major:0,"non-major":0},r=e.split(" ").map(o=>o.trim()),i=o=>o.split(" ").map(u=>u.trim()).some(u=>r.includes(u));t.forEach(o=>{const a=i(o.registerDepartment??"")?"major":"non-major";n[a]+=Number(o.eachCount)});const s={major:"전공","non-major":"비전공"};return{labels:Object.keys(n).map(o=>s[o]),datasets:[{data:Object.values(n),backgroundColor:Yd}]}}function PD(e,t){if(!e||!t)return pm;const n={};return e.forEach(r=>{const i=ED(r.registerDepartment??"",t);n[i]||(n[i]=0),n[i]+=Number(r.eachCount)}),{labels:Object.keys(n).map(r=>r||"기타"),datasets:[{data:Object.values(n),backgroundColor:Yd}]}}function OD(e,t){if(!e||!t)return pm;const n={};return e.forEach(r=>{const i=TD(r.registerDepartment??"",t);n[i]||(n[i]=0),n[i]+=Number(r.eachCount)}),{labels:Object.keys(n).map(r=>r||"기타"),datasets:[{data:Object.values(n),backgroundColor:Yd}]}}function LD(e){return e?e.reduce((t,n)=>t+Number(n.eachCount),0):-1}uo.register(qd,Kd,Gd,Qu,Hu);const AD={labels:["컴퓨터공학과","정보통신공학과","소프트웨어학과","기타"],datasets:[{data:[40,25,20,15],backgroundColor:Yd}]};function DD(){return f.jsxs(pl,{children:[f.jsx(tm,{title:"관심과목 분석",href:"/wishes"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[f.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[f.jsx("h2",{className:"text-lg font-semibold mb-2",children:"학과별 관심도"}),f.jsx("div",{className:"flex aligh-center justify-center max-h-96",children:f.jsx(r7,{data:AD})})]}),f.jsxs("div",{className:"bg-white p-6 shadow-md rounded-md",children:[f.jsx("h3",{className:"text-lg font-semibold",children:"대체 과목 추천"}),[{name:"데이터베이스개론",dept:"데이터베이스 시스템",status:"30명"},{name:"알고리즘분석",dept:"고급알고리즘",status:"14명"}].map((e,t)=>f.jsxs("div",{className:"mt-4 flex justify-between p-2 rounded-md border border-gray-200",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold",children:e.name}),f.jsx("p",{className:"text-sm text-gray-500",children:e.dept})]}),f.jsx("span",{className:"text-yellow-500",children:e.status})]},"recommend-course-"+t))]})]})]})}const Wu=({className:e,disabled:t=!1})=>{const n=t?"text-gray-400 ":"text-blue-500 ";return f.jsx(Ep,{className:n+e})};var fp={exports:{}},ID=fp.exports,U3;function RD(){return U3||(U3=1,function(e,t){(function(n,r){e.exports=r()})(ID,function(){var n=function(y,b){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,T){k.__proto__=T}||function(k,T){for(var O in T)Object.prototype.hasOwnProperty.call(T,O)&&(k[O]=T[O])})(y,b)},r=function(){return(r=Object.assign||function(y){for(var b,k=1,T=arguments.length;k<T;k++)for(var O in b=arguments[k])Object.prototype.hasOwnProperty.call(b,O)&&(y[O]=b[O]);return y}).apply(this,arguments)};function i(y,b,k){for(var T,O=0,I=b.length;O<I;O++)!T&&O in b||((T=T||Array.prototype.slice.call(b,0,O))[O]=b[O]);return y.concat(T||Array.prototype.slice.call(b))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Zc,o=Object.keys,a=Array.isArray;function u(y,b){return typeof b!="object"||o(b).forEach(function(k){y[k]=b[k]}),y}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var c=Object.getPrototypeOf,h={}.hasOwnProperty;function p(y,b){return h.call(y,b)}function g(y,b){typeof b=="function"&&(b=b(c(y))),(typeof Reflect>"u"?o:Reflect.ownKeys)(b).forEach(function(k){w(y,k,b[k])})}var x=Object.defineProperty;function w(y,b,k,T){x(y,b,u(k&&p(k,"get")&&typeof k.get=="function"?{get:k.get,set:k.set,configurable:!0}:{value:k,configurable:!0,writable:!0},T))}function S(y){return{from:function(b){return y.prototype=Object.create(b.prototype),w(y.prototype,"constructor",y),{extend:g.bind(null,y.prototype)}}}}var C=Object.getOwnPropertyDescriptor,E=[].slice;function L(y,b,k){return E.call(y,b,k)}function A(y,b){return b(y)}function B(y){if(!y)throw new Error("Assertion Failed")}function $(y){s.setImmediate?setImmediate(y):setTimeout(y,0)}function P(y,b){if(typeof b=="string"&&p(y,b))return y[b];if(!b)return y;if(typeof b!="string"){for(var k=[],T=0,O=b.length;T<O;++T){var I=P(y,b[T]);k.push(I)}return k}var U=b.indexOf(".");if(U!==-1){var K=y[b.substr(0,U)];return K==null?void 0:P(K,b.substr(U+1))}}function M(y,b,k){if(y&&b!==void 0&&!("isFrozen"in Object&&Object.isFrozen(y)))if(typeof b!="string"&&"length"in b){B(typeof k!="string"&&"length"in k);for(var T=0,O=b.length;T<O;++T)M(y,b[T],k[T])}else{var I,U,K=b.indexOf(".");K!==-1?(I=b.substr(0,K),(U=b.substr(K+1))===""?k===void 0?a(y)&&!isNaN(parseInt(I))?y.splice(I,1):delete y[I]:y[I]=k:M(K=!(K=y[I])||!p(y,I)?y[I]={}:K,U,k)):k===void 0?a(y)&&!isNaN(parseInt(b))?y.splice(b,1):delete y[b]:y[b]=k}}function H(y){var b,k={};for(b in y)p(y,b)&&(k[b]=y[b]);return k}var Q=[].concat;function F(y){return Q.apply([],y)}var Ce="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(F([8,16,32,64].map(function(y){return["Int","Uint","Float"].map(function(b){return b+y+"Array"})}))).filter(function(y){return s[y]}),ae=new Set(Ce.map(function(y){return s[y]})),le=null;function ue(y){return le=new WeakMap,y=function b(k){if(!k||typeof k!="object")return k;var T=le.get(k);if(T)return T;if(a(k)){T=[],le.set(k,T);for(var O=0,I=k.length;O<I;++O)T.push(b(k[O]))}else if(ae.has(k.constructor))T=k;else{var U,K=c(k);for(U in T=K===Object.prototype?{}:Object.create(K),le.set(k,T),k)p(k,U)&&(T[U]=b(k[U]))}return T}(y),le=null,y}var q={}.toString;function V(y){return q.call(y).slice(8,-1)}var J=typeof Symbol<"u"?Symbol.iterator:"@@iterator",te=typeof J=="symbol"?function(y){var b;return y!=null&&(b=y[J])&&b.apply(y)}:function(){return null};function ne(y,b){return b=y.indexOf(b),0<=b&&y.splice(b,1),0<=b}var me={};function R(y){var b,k,T,O;if(arguments.length===1){if(a(y))return y.slice();if(this===me&&typeof y=="string")return[y];if(O=te(y)){for(k=[];!(T=O.next()).done;)k.push(T.value);return k}if(y==null)return[y];if(typeof(b=y.length)!="number")return[y];for(k=new Array(b);b--;)k[b]=y[b];return k}for(b=arguments.length,k=new Array(b);b--;)k[b]=arguments[b];return k}var G=typeof Symbol<"u"?function(y){return y[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Dr=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Rr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Dr),ye={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function z(y,b){this.name=y,this.message=b}function Me(y,b){return y+". Errors: "+Object.keys(b).map(function(k){return b[k].toString()}).filter(function(k,T,O){return O.indexOf(k)===T}).join(`
`)}function je(y,b,k,T){this.failures=b,this.failedKeys=T,this.successCount=k,this.message=Me(y,b)}function Ee(y,b){this.name="BulkError",this.failures=Object.keys(b).map(function(k){return b[k]}),this.failuresByPos=b,this.message=Me(y,this.failures)}S(z).from(Error).extend({toString:function(){return this.name+": "+this.message}}),S(je).from(z),S(Ee).from(z);var Ye=Rr.reduce(function(y,b){return y[b]=b+"Error",y},{}),Ke=z,Pe=Rr.reduce(function(y,b){var k=b+"Error";function T(O,I){this.name=k,O?typeof O=="string"?(this.message="".concat(O).concat(I?`
 `+I:""),this.inner=I||null):typeof O=="object"&&(this.message="".concat(O.name," ").concat(O.message),this.inner=O):(this.message=ye[b]||k,this.inner=null)}return S(T).from(Ke),y[b]=T,y},{});Pe.Syntax=SyntaxError,Pe.Type=TypeError,Pe.Range=RangeError;var ht=Dr.reduce(function(y,b){return y[b+"Error"]=Pe[b],y},{}),ln=Rr.reduce(function(y,b){return["Syntax","Type","Range"].indexOf(b)===-1&&(y[b+"Error"]=Pe[b]),y},{});function Tt(){}function fn(y){return y}function un(y,b){return y==null||y===fn?b:function(k){return b(y(k))}}function jn(y,b){return function(){y.apply(this,arguments),b.apply(this,arguments)}}function js(y,b){return y===Tt?b:function(){var k=y.apply(this,arguments);k!==void 0&&(arguments[0]=k);var T=this.onsuccess,O=this.onerror;this.onsuccess=null,this.onerror=null;var I=b.apply(this,arguments);return T&&(this.onsuccess=this.onsuccess?jn(T,this.onsuccess):T),O&&(this.onerror=this.onerror?jn(O,this.onerror):O),I!==void 0?I:k}}function Ai(y,b){return y===Tt?b:function(){y.apply(this,arguments);var k=this.onsuccess,T=this.onerror;this.onsuccess=this.onerror=null,b.apply(this,arguments),k&&(this.onsuccess=this.onsuccess?jn(k,this.onsuccess):k),T&&(this.onerror=this.onerror?jn(T,this.onerror):T)}}function fo(y,b){return y===Tt?b:function(k){var T=y.apply(this,arguments);u(k,T);var O=this.onsuccess,I=this.onerror;return this.onsuccess=null,this.onerror=null,k=b.apply(this,arguments),O&&(this.onsuccess=this.onsuccess?jn(O,this.onsuccess):O),I&&(this.onerror=this.onerror?jn(I,this.onerror):I),T===void 0?k===void 0?void 0:k:u(T,k)}}function is(y,b){return y===Tt?b:function(){return b.apply(this,arguments)!==!1&&y.apply(this,arguments)}}function Ar(y,b){return y===Tt?b:function(){var k=y.apply(this,arguments);if(k&&typeof k.then=="function"){for(var T=this,O=arguments.length,I=new Array(O);O--;)I[O]=arguments[O];return k.then(function(){return b.apply(T,I)})}return b.apply(this,arguments)}}ln.ModifyError=je,ln.DexieError=z,ln.BulkError=Ee;var En=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function sr(y){En=y}var or={},ss=100,Ce=typeof Promise>"u"?[]:function(){var y=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[y,c(y),y];var b=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[b,c(b),y]}(),Dr=Ce[0],Rr=Ce[1],Ce=Ce[2],Rr=Rr&&Rr.then,Oe=Dr&&Dr.constructor,lt=!!Ce,pt=function(y,b){Tn.push([y,b]),Kt&&(queueMicrotask(Sl),Kt=!1)},Nt=!0,Kt=!0,Ln=[],An=[],_r=fn,qn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Tt,pgp:!1,env:{},finalize:Tt},Ve=qn,Tn=[],pn=0,mi=[];function We(y){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var b=this._PSD=Ve;if(typeof y!="function"){if(y!==or)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Es(this,this._value))}this._state=null,this._value=null,++b.ref,function k(T,O){try{O(function(I){if(T._state===null){if(I===T)throw new TypeError("A promise cannot be resolved with itself.");var U=T._lib&&X();I&&typeof I.then=="function"?k(T,function(K,ee){I instanceof We?I._then(K,ee):I.then(K,ee)}):(T._state=!0,T._value=I,os(T)),U&&pe()}},Es.bind(null,T))}catch(I){Es(T,I)}}(this,y)}var Jr={get:function(){var y=Ve,b=at;function k(T,O){var I=this,U=!y.global&&(y!==Ve||b!==at),K=U&&!Pt(),ee=new We(function(ie,de){Ii(I,new Di(Ri(T,y,U,K),Ri(O,y,U,K),ie,de,y))});return this._consoleTask&&(ee._consoleTask=this._consoleTask),ee}return k.prototype=or,k},set:function(y){w(this,"then",y&&y.prototype===or?Jr:{get:function(){return y},set:Jr.set})}};function Di(y,b,k,T,O){this.onFulfilled=typeof y=="function"?y:null,this.onRejected=typeof b=="function"?b:null,this.resolve=k,this.reject=T,this.psd=O}function Es(y,b){var k,T;An.push(b),y._state===null&&(k=y._lib&&X(),b=_r(b),y._state=!1,y._value=b,T=y,Ln.some(function(O){return O._value===T._value})||Ln.push(T),os(y),k&&pe())}function os(y){var b=y._listeners;y._listeners=[];for(var k=0,T=b.length;k<T;++k)Ii(y,b[k]);var O=y._PSD;--O.ref||O.finalize(),pn===0&&(++pn,pt(function(){--pn==0&&_e()},[]))}function Ii(y,b){if(y._state!==null){var k=y._state?b.onFulfilled:b.onRejected;if(k===null)return(y._state?b.resolve:b.reject)(y._value);++b.psd.ref,++pn,pt(_l,[k,y,b])}else y._listeners.push(b)}function _l(y,b,k){try{var T,O=b._value;!b._state&&An.length&&(An=[]),T=En&&b._consoleTask?b._consoleTask.run(function(){return y(O)}):y(O),b._state||An.indexOf(O)!==-1||function(I){for(var U=Ln.length;U;)if(Ln[--U]._value===I._value)return Ln.splice(U,1)}(b),k.resolve(T)}catch(I){k.reject(I)}finally{--pn==0&&_e(),--k.psd.ref||k.psd.finalize()}}function Sl(){Kn(qn,function(){X()&&pe()})}function X(){var y=Nt;return Kt=Nt=!1,y}function pe(){var y,b,k;do for(;0<Tn.length;)for(y=Tn,Tn=[],k=y.length,b=0;b<k;++b){var T=y[b];T[0].apply(null,T[1])}while(0<Tn.length);Kt=Nt=!0}function _e(){var y=Ln;Ln=[],y.forEach(function(T){T._PSD.onunhandled.call(null,T._value,T)});for(var b=mi.slice(0),k=b.length;k;)b[--k]()}function Ae(y){return new We(or,!1,y)}function Te(y,b){var k=Ve;return function(){var T=X(),O=Ve;try{return Ht(k,!0),y.apply(this,arguments)}catch(I){b&&b(I)}finally{Ht(O,!1),T&&pe()}}}g(We.prototype,{then:Jr,_then:function(y,b){Ii(this,new Di(null,null,y,b,Ve))},catch:function(y){if(arguments.length===1)return this.then(null,y);var b=y,k=arguments[1];return typeof b=="function"?this.then(null,function(T){return(T instanceof b?k:Ae)(T)}):this.then(null,function(T){return(T&&T.name===b?k:Ae)(T)})},finally:function(y){return this.then(function(b){return We.resolve(y()).then(function(){return b})},function(b){return We.resolve(y()).then(function(){return Ae(b)})})},timeout:function(y,b){var k=this;return y<1/0?new We(function(T,O){var I=setTimeout(function(){return O(new Pe.Timeout(b))},y);k.then(T,O).finally(clearTimeout.bind(null,I))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&w(We.prototype,Symbol.toStringTag,"Dexie.Promise"),qn.env=Gt(),g(We,{all:function(){var y=R.apply(null,arguments).map(mn);return new We(function(b,k){y.length===0&&b([]);var T=y.length;y.forEach(function(O,I){return We.resolve(O).then(function(U){y[I]=U,--T||b(y)},k)})})},resolve:function(y){return y instanceof We?y:y&&typeof y.then=="function"?new We(function(b,k){y.then(b,k)}):new We(or,!0,y)},reject:Ae,race:function(){var y=R.apply(null,arguments).map(mn);return new We(function(b,k){y.map(function(T){return We.resolve(T).then(b,k)})})},PSD:{get:function(){return Ve},set:function(y){return Ve=y}},totalEchoes:{get:function(){return at}},newPSD:et,usePSD:Kn,scheduler:{get:function(){return pt},set:function(y){pt=y}},rejectionMapper:{get:function(){return _r},set:function(y){_r=y}},follow:function(y,b){return new We(function(k,T){return et(function(O,I){var U=Ve;U.unhandleds=[],U.onunhandled=I,U.finalize=jn(function(){var K,ee=this;K=function(){ee.unhandleds.length===0?O():I(ee.unhandleds[0])},mi.push(function ie(){K(),mi.splice(mi.indexOf(ie),1)}),++pn,pt(function(){--pn==0&&_e()},[])},U.finalize),y()},b,k,T)})}}),Oe&&(Oe.allSettled&&w(We,"allSettled",function(){var y=R.apply(null,arguments).map(mn);return new We(function(b){y.length===0&&b([]);var k=y.length,T=new Array(k);y.forEach(function(O,I){return We.resolve(O).then(function(U){return T[I]={status:"fulfilled",value:U}},function(U){return T[I]={status:"rejected",reason:U}}).then(function(){return--k||b(T)})})})}),Oe.any&&typeof AggregateError<"u"&&w(We,"any",function(){var y=R.apply(null,arguments).map(mn);return new We(function(b,k){y.length===0&&k(new AggregateError([]));var T=y.length,O=new Array(T);y.forEach(function(I,U){return We.resolve(I).then(function(K){return b(K)},function(K){O[U]=K,--T||k(new AggregateError(O))})})})}),Oe.withResolvers&&(We.withResolvers=Oe.withResolvers));var qe={awaits:0,echoes:0,id:0},rt=0,Je=[],tt=0,at=0,ot=0;function et(y,b,k,T){var O=Ve,I=Object.create(O);return I.parent=O,I.ref=0,I.global=!1,I.id=++ot,qn.env,I.env=lt?{Promise:We,PromiseProp:{value:We,configurable:!0,writable:!0},all:We.all,race:We.race,allSettled:We.allSettled,any:We.any,resolve:We.resolve,reject:We.reject}:{},b&&u(I,b),++O.ref,I.finalize=function(){--this.parent.ref||this.parent.finalize()},T=Kn(I,y,k,T),I.ref===0&&I.finalize(),T}function _t(){return qe.id||(qe.id=++rt),++qe.awaits,qe.echoes+=ss,qe.id}function Pt(){return!!qe.awaits&&(--qe.awaits==0&&(qe.id=0),qe.echoes=qe.awaits*ss,!0)}function mn(y){return qe.echoes&&y&&y.constructor===Oe?(_t(),y.then(function(b){return Pt(),b},function(b){return Pt(),$t(b)})):y}function Dn(){var y=Je[Je.length-1];Je.pop(),Ht(y,!1)}function Ht(y,b){var k,T=Ve;(b?!qe.echoes||tt++&&y===Ve:!tt||--tt&&y===Ve)||queueMicrotask(b?(function(O){++at,qe.echoes&&--qe.echoes!=0||(qe.echoes=qe.awaits=qe.id=0),Je.push(Ve),Ht(O,!0)}).bind(null,y):Dn),y!==Ve&&(Ve=y,T===qn&&(qn.env=Gt()),lt&&(k=qn.env.Promise,b=y.env,(T.global||y.global)&&(Object.defineProperty(s,"Promise",b.PromiseProp),k.all=b.all,k.race=b.race,k.resolve=b.resolve,k.reject=b.reject,b.allSettled&&(k.allSettled=b.allSettled),b.any&&(k.any=b.any))))}function Gt(){var y=s.Promise;return lt?{Promise:y,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:y.all,race:y.race,allSettled:y.allSettled,any:y.any,resolve:y.resolve,reject:y.reject}:{}}function Kn(y,b,k,T,O){var I=Ve;try{return Ht(y,!0),b(k,T,O)}finally{Ht(I,!1)}}function Ri(y,b,k,T){return typeof y!="function"?y:function(){var O=Ve;k&&_t(),Ht(b,!0);try{return y.apply(this,arguments)}finally{Ht(O,!1),T&&queueMicrotask(Pt)}}}function Sr(y){Promise===Oe&&qe.echoes===0?tt===0?y():enqueueNativeMicroTask(y):setTimeout(y,0)}(""+Rr).indexOf("[native code]")===-1&&(_t=Pt=Tt);var $t=We.reject,Zr="￿",Lt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",gi="String expected.",Cr=[],yi="__dbnames",At="readonly",Sn="readwrite";function kr(y,b){return y?b?function(){return y.apply(this,arguments)&&b.apply(this,arguments)}:y:b}var ei={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Bt(y){return typeof y!="string"||/\./.test(y)?function(b){return b}:function(b){return b[y]===void 0&&y in b&&delete(b=ue(b))[y],b}}function Ts(){throw Pe.Type()}function ft(y,b){try{var k=Cl(y),T=Cl(b);if(k!==T)return k==="Array"?1:T==="Array"?-1:k==="binary"?1:T==="binary"?-1:k==="string"?1:T==="string"?-1:k==="Date"?1:T!=="Date"?NaN:-1;switch(k){case"number":case"Date":case"string":return b<y?1:y<b?-1:0;case"binary":return function(O,I){for(var U=O.length,K=I.length,ee=U<K?U:K,ie=0;ie<ee;++ie)if(O[ie]!==I[ie])return O[ie]<I[ie]?-1:1;return U===K?0:U<K?-1:1}(lh(y),lh(b));case"Array":return function(O,I){for(var U=O.length,K=I.length,ee=U<K?U:K,ie=0;ie<ee;++ie){var de=ft(O[ie],I[ie]);if(de!==0)return de}return U===K?0:U<K?-1:1}(y,b)}}catch{}return NaN}function Cl(y){var b=typeof y;return b!="object"?b:ArrayBuffer.isView(y)?"binary":(y=V(y),y==="ArrayBuffer"?"binary":y)}function lh(y){return y instanceof Uint8Array?y:ArrayBuffer.isView(y)?new Uint8Array(y.buffer,y.byteOffset,y.byteLength):new Uint8Array(y)}var uh=(Xt.prototype._trans=function(y,b,k){var T=this._tx||Ve.trans,O=this.name,I=En&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(y==="readonly"?"read":"write"," ").concat(this.name));function U(ie,de,Y){if(!Y.schema[O])throw new Pe.NotFound("Table "+O+" not part of transaction");return b(Y.idbtrans,Y)}var K=X();try{var ee=T&&T.db._novip===this.db._novip?T===Ve.trans?T._promise(y,U,k):et(function(){return T._promise(y,U,k)},{trans:T,transless:Ve.transless||Ve}):function ie(de,Y,he,re){if(de.idbdb&&(de._state.openComplete||Ve.letThrough||de._vip)){var ce=de._createTransaction(Y,he,de._dbSchema);try{ce.create(),de._state.PR1398_maxLoop=3}catch(fe){return fe.name===Ye.InvalidState&&de.isOpen()&&0<--de._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),de.close({disableAutoOpen:!1}),de.open().then(function(){return ie(de,Y,he,re)})):$t(fe)}return ce._promise(Y,function(fe,oe){return et(function(){return Ve.trans=ce,re(fe,oe,ce)})}).then(function(fe){if(Y==="readwrite")try{ce.idbtrans.commit()}catch{}return Y==="readonly"?fe:ce._completion.then(function(){return fe})})}if(de._state.openComplete)return $t(new Pe.DatabaseClosed(de._state.dbOpenError));if(!de._state.isBeingOpened){if(!de._state.autoOpen)return $t(new Pe.DatabaseClosed);de.open().catch(Tt)}return de._state.dbReadyPromise.then(function(){return ie(de,Y,he,re)})}(this.db,y,[this.name],U);return I&&(ee._consoleTask=I,ee=ee.catch(function(ie){return console.trace(ie),$t(ie)})),ee}finally{K&&pe()}},Xt.prototype.get=function(y,b){var k=this;return y&&y.constructor===Object?this.where(y).first(b):y==null?$t(new Pe.Type("Invalid argument to Table.get()")):this._trans("readonly",function(T){return k.core.get({trans:T,key:y}).then(function(O){return k.hook.reading.fire(O)})}).then(b)},Xt.prototype.where=function(y){if(typeof y=="string")return new this.db.WhereClause(this,y);if(a(y))return new this.db.WhereClause(this,"[".concat(y.join("+"),"]"));var b=o(y);if(b.length===1)return this.where(b[0]).equals(y[b[0]]);var k=this.schema.indexes.concat(this.schema.primKey).filter(function(K){if(K.compound&&b.every(function(ie){return 0<=K.keyPath.indexOf(ie)})){for(var ee=0;ee<b.length;++ee)if(b.indexOf(K.keyPath[ee])===-1)return!1;return!0}return!1}).sort(function(K,ee){return K.keyPath.length-ee.keyPath.length})[0];if(k&&this.db._maxKey!==Zr){var I=k.keyPath.slice(0,b.length);return this.where(I).equals(I.map(function(ee){return y[ee]}))}!k&&En&&console.warn("The query ".concat(JSON.stringify(y)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(b.join("+"),"]"));var T=this.schema.idxByName;function O(K,ee){return ft(K,ee)===0}var U=b.reduce(function(Y,ee){var ie=Y[0],de=Y[1],Y=T[ee],he=y[ee];return[ie||Y,ie||!Y?kr(de,Y&&Y.multi?function(re){return re=P(re,ee),a(re)&&re.some(function(ce){return O(he,ce)})}:function(re){return O(he,P(re,ee))}):de]},[null,null]),I=U[0],U=U[1];return I?this.where(I.name).equals(y[I.keyPath]).filter(U):k?this.filter(U):this.where(b).equals("")},Xt.prototype.filter=function(y){return this.toCollection().and(y)},Xt.prototype.count=function(y){return this.toCollection().count(y)},Xt.prototype.offset=function(y){return this.toCollection().offset(y)},Xt.prototype.limit=function(y){return this.toCollection().limit(y)},Xt.prototype.each=function(y){return this.toCollection().each(y)},Xt.prototype.toArray=function(y){return this.toCollection().toArray(y)},Xt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Xt.prototype.orderBy=function(y){return new this.db.Collection(new this.db.WhereClause(this,a(y)?"[".concat(y.join("+"),"]"):y))},Xt.prototype.reverse=function(){return this.toCollection().reverse()},Xt.prototype.mapToClass=function(y){var b,k=this.db,T=this.name;function O(){return b!==null&&b.apply(this,arguments)||this}(this.schema.mappedClass=y).prototype instanceof Ts&&(function(ee,ie){if(typeof ie!="function"&&ie!==null)throw new TypeError("Class extends value "+String(ie)+" is not a constructor or null");function de(){this.constructor=ee}n(ee,ie),ee.prototype=ie===null?Object.create(ie):(de.prototype=ie.prototype,new de)}(O,b=y),Object.defineProperty(O.prototype,"db",{get:function(){return k},enumerable:!1,configurable:!0}),O.prototype.table=function(){return T},y=O);for(var I=new Set,U=y.prototype;U;U=c(U))Object.getOwnPropertyNames(U).forEach(function(ee){return I.add(ee)});function K(ee){if(!ee)return ee;var ie,de=Object.create(y.prototype);for(ie in ee)if(!I.has(ie))try{de[ie]=ee[ie]}catch{}return de}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=K,this.hook("reading",K),y},Xt.prototype.defineClass=function(){return this.mapToClass(function(y){u(this,y)})},Xt.prototype.add=function(y,b){var k=this,T=this.schema.primKey,O=T.auto,I=T.keyPath,U=y;return I&&O&&(U=Bt(I)(y)),this._trans("readwrite",function(K){return k.core.mutate({trans:K,type:"add",keys:b!=null?[b]:null,values:[U]})}).then(function(K){return K.numFailures?We.reject(K.failures[0]):K.lastResult}).then(function(K){if(I)try{M(y,I,K)}catch{}return K})},Xt.prototype.update=function(y,b){return typeof y!="object"||a(y)?this.where(":id").equals(y).modify(b):(y=P(y,this.schema.primKey.keyPath),y===void 0?$t(new Pe.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(y).modify(b))},Xt.prototype.put=function(y,b){var k=this,T=this.schema.primKey,O=T.auto,I=T.keyPath,U=y;return I&&O&&(U=Bt(I)(y)),this._trans("readwrite",function(K){return k.core.mutate({trans:K,type:"put",values:[U],keys:b!=null?[b]:null})}).then(function(K){return K.numFailures?We.reject(K.failures[0]):K.lastResult}).then(function(K){if(I)try{M(y,I,K)}catch{}return K})},Xt.prototype.delete=function(y){var b=this;return this._trans("readwrite",function(k){return b.core.mutate({trans:k,type:"delete",keys:[y]})}).then(function(k){return k.numFailures?We.reject(k.failures[0]):void 0})},Xt.prototype.clear=function(){var y=this;return this._trans("readwrite",function(b){return y.core.mutate({trans:b,type:"deleteRange",range:ei})}).then(function(b){return b.numFailures?We.reject(b.failures[0]):void 0})},Xt.prototype.bulkGet=function(y){var b=this;return this._trans("readonly",function(k){return b.core.getMany({keys:y,trans:k}).then(function(T){return T.map(function(O){return b.hook.reading.fire(O)})})})},Xt.prototype.bulkAdd=function(y,b,k){var T=this,O=Array.isArray(b)?b:void 0,I=(k=k||(O?void 0:b))?k.allKeys:void 0;return this._trans("readwrite",function(U){var ie=T.schema.primKey,K=ie.auto,ie=ie.keyPath;if(ie&&O)throw new Pe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(O&&O.length!==y.length)throw new Pe.InvalidArgument("Arguments objects and keys must have the same length");var ee=y.length,ie=ie&&K?y.map(Bt(ie)):y;return T.core.mutate({trans:U,type:"add",keys:O,values:ie,wantResults:I}).then(function(ce){var Y=ce.numFailures,he=ce.results,re=ce.lastResult,ce=ce.failures;if(Y===0)return I?he:re;throw new Ee("".concat(T.name,".bulkAdd(): ").concat(Y," of ").concat(ee," operations failed"),ce)})})},Xt.prototype.bulkPut=function(y,b,k){var T=this,O=Array.isArray(b)?b:void 0,I=(k=k||(O?void 0:b))?k.allKeys:void 0;return this._trans("readwrite",function(U){var ie=T.schema.primKey,K=ie.auto,ie=ie.keyPath;if(ie&&O)throw new Pe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(O&&O.length!==y.length)throw new Pe.InvalidArgument("Arguments objects and keys must have the same length");var ee=y.length,ie=ie&&K?y.map(Bt(ie)):y;return T.core.mutate({trans:U,type:"put",keys:O,values:ie,wantResults:I}).then(function(ce){var Y=ce.numFailures,he=ce.results,re=ce.lastResult,ce=ce.failures;if(Y===0)return I?he:re;throw new Ee("".concat(T.name,".bulkPut(): ").concat(Y," of ").concat(ee," operations failed"),ce)})})},Xt.prototype.bulkUpdate=function(y){var b=this,k=this.core,T=y.map(function(U){return U.key}),O=y.map(function(U){return U.changes}),I=[];return this._trans("readwrite",function(U){return k.getMany({trans:U,keys:T,cache:"clone"}).then(function(K){var ee=[],ie=[];y.forEach(function(Y,he){var re=Y.key,ce=Y.changes,fe=K[he];if(fe){for(var oe=0,ve=Object.keys(ce);oe<ve.length;oe++){var we=ve[oe],Se=ce[we];if(we===b.schema.primKey.keyPath){if(ft(Se,re)!==0)throw new Pe.Constraint("Cannot update primary key in bulkUpdate()")}else M(fe,we,Se)}I.push(he),ee.push(re),ie.push(fe)}});var de=ee.length;return k.mutate({trans:U,type:"put",keys:ee,values:ie,updates:{keys:T,changeSpecs:O}}).then(function(Y){var he=Y.numFailures,re=Y.failures;if(he===0)return de;for(var ce=0,fe=Object.keys(re);ce<fe.length;ce++){var oe,ve=fe[ce],we=I[Number(ve)];we!=null&&(oe=re[ve],delete re[ve],re[we]=oe)}throw new Ee("".concat(b.name,".bulkUpdate(): ").concat(he," of ").concat(de," operations failed"),re)})})})},Xt.prototype.bulkDelete=function(y){var b=this,k=y.length;return this._trans("readwrite",function(T){return b.core.mutate({trans:T,type:"delete",keys:y})}).then(function(U){var O=U.numFailures,I=U.lastResult,U=U.failures;if(O===0)return I;throw new Ee("".concat(b.name,".bulkDelete(): ").concat(O," of ").concat(k," operations failed"),U)})},Xt);function Xt(){}function as(y){function b(U,K){if(K){for(var ee=arguments.length,ie=new Array(ee-1);--ee;)ie[ee-1]=arguments[ee];return k[U].subscribe.apply(null,ie),y}if(typeof U=="string")return k[U]}var k={};b.addEventType=I;for(var T=1,O=arguments.length;T<O;++T)I(arguments[T]);return b;function I(U,K,ee){if(typeof U!="object"){var ie;K=K||is;var de={subscribers:[],fire:ee=ee||Tt,subscribe:function(Y){de.subscribers.indexOf(Y)===-1&&(de.subscribers.push(Y),de.fire=K(de.fire,Y))},unsubscribe:function(Y){de.subscribers=de.subscribers.filter(function(he){return he!==Y}),de.fire=de.subscribers.reduce(K,ee)}};return k[U]=b[U]=de}o(ie=U).forEach(function(Y){var he=ie[Y];if(a(he))I(Y,ie[Y][0],ie[Y][1]);else{if(he!=="asap")throw new Pe.InvalidArgument("Invalid event config");var re=I(Y,fn,function(){for(var ce=arguments.length,fe=new Array(ce);ce--;)fe[ce]=arguments[ce];re.subscribers.forEach(function(oe){$(function(){oe.apply(null,fe)})})})}})}}function Mi(y,b){return S(b).from({prototype:y}),b}function Fi(y,b){return!(y.filter||y.algorithm||y.or)&&(b?y.justLimit:!y.replayFilter)}function Zu(y,b){y.filter=kr(y.filter,b)}function ec(y,b,k){var T=y.replayFilter;y.replayFilter=T?function(){return kr(T(),b())}:b,y.justLimit=k&&!T}function po(y,b){if(y.isPrimKey)return b.primaryKey;var k=b.getIndexByKeyPath(y.index);if(!k)throw new Pe.Schema("KeyPath "+y.index+" on object store "+b.name+" is not indexed");return k}function tc(y,b,k){var T=po(y,b.schema);return b.openCursor({trans:k,values:!y.keysOnly,reverse:y.dir==="prev",unique:!!y.unique,query:{index:T,range:y.range}})}function mo(y,b,k,T){var O=y.replayFilter?kr(y.filter,y.replayFilter()):y.filter;if(y.or){var I={},U=function(K,ee,ie){var de,Y;O&&!O(ee,ie,function(he){return ee.stop(he)},function(he){return ee.fail(he)})||((Y=""+(de=ee.primaryKey))=="[object ArrayBuffer]"&&(Y=""+new Uint8Array(de)),p(I,Y)||(I[Y]=!0,b(K,ee,ie)))};return Promise.all([y.or._iterate(U,k),go(tc(y,T,k),y.algorithm,U,!y.keysOnly&&y.valueMapper)])}return go(tc(y,T,k),kr(y.algorithm,O),b,!y.keysOnly&&y.valueMapper)}function go(y,b,k,T){var O=Te(T?function(I,U,K){return k(T(I),U,K)}:k);return y.then(function(I){if(I)return I.start(function(){var U=function(){return I.continue()};b&&!b(I,function(K){return U=K},function(K){I.stop(K),U=Tt},function(K){I.fail(K),U=Tt})||O(I.value,I,function(K){return U=K}),U()})})}var la=(kl.prototype.execute=function(y){var b=this["@@propmod"];if(b.add!==void 0){var k=b.add;if(a(k))return i(i([],a(y)?y:[],!0),k).sort();if(typeof k=="number")return(Number(y)||0)+k;if(typeof k=="bigint")try{return BigInt(y)+k}catch{return BigInt(0)+k}throw new TypeError("Invalid term ".concat(k))}if(b.remove!==void 0){var T=b.remove;if(a(T))return a(y)?y.filter(function(O){return!T.includes(O)}).sort():[];if(typeof T=="number")return Number(y)-T;if(typeof T=="bigint")try{return BigInt(y)-T}catch{return BigInt(0)-T}throw new TypeError("Invalid subtrahend ".concat(T))}return k=(k=b.replacePrefix)===null||k===void 0?void 0:k[0],k&&typeof y=="string"&&y.startsWith(k)?b.replacePrefix[1]+y.substring(k.length):y},kl);function kl(y){this["@@propmod"]=y}var Yt=(zt.prototype._read=function(y,b){var k=this._ctx;return k.error?k.table._trans(null,$t.bind(null,k.error)):k.table._trans("readonly",y).then(b)},zt.prototype._write=function(y){var b=this._ctx;return b.error?b.table._trans(null,$t.bind(null,b.error)):b.table._trans("readwrite",y,"locked")},zt.prototype._addAlgorithm=function(y){var b=this._ctx;b.algorithm=kr(b.algorithm,y)},zt.prototype._iterate=function(y,b){return mo(this._ctx,y,b,this._ctx.table.core)},zt.prototype.clone=function(y){var b=Object.create(this.constructor.prototype),k=Object.create(this._ctx);return y&&u(k,y),b._ctx=k,b},zt.prototype.raw=function(){return this._ctx.valueMapper=null,this},zt.prototype.each=function(y){var b=this._ctx;return this._read(function(k){return mo(b,y,k,b.table.core)})},zt.prototype.count=function(y){var b=this;return this._read(function(k){var T=b._ctx,O=T.table.core;if(Fi(T,!0))return O.count({trans:k,query:{index:po(T,O.schema),range:T.range}}).then(function(U){return Math.min(U,T.limit)});var I=0;return mo(T,function(){return++I,!1},k,O).then(function(){return I})}).then(y)},zt.prototype.sortBy=function(y,b){var k=y.split(".").reverse(),T=k[0],O=k.length-1;function I(ee,ie){return ie?I(ee[k[ie]],ie-1):ee[T]}var U=this._ctx.dir==="next"?1:-1;function K(ee,ie){return ft(I(ee,O),I(ie,O))*U}return this.toArray(function(ee){return ee.sort(K)}).then(b)},zt.prototype.toArray=function(y){var b=this;return this._read(function(k){var T=b._ctx;if(T.dir==="next"&&Fi(T,!0)&&0<T.limit){var O=T.valueMapper,I=po(T,T.table.core.schema);return T.table.core.query({trans:k,limit:T.limit,values:!0,query:{index:I,range:T.range}}).then(function(K){return K=K.result,O?K.map(O):K})}var U=[];return mo(T,function(K){return U.push(K)},k,T.table.core).then(function(){return U})},y)},zt.prototype.offset=function(y){var b=this._ctx;return y<=0||(b.offset+=y,Fi(b)?ec(b,function(){var k=y;return function(T,O){return k===0||(k===1?--k:O(function(){T.advance(k),k=0}),!1)}}):ec(b,function(){var k=y;return function(){return--k<0}})),this},zt.prototype.limit=function(y){return this._ctx.limit=Math.min(this._ctx.limit,y),ec(this._ctx,function(){var b=y;return function(k,T,O){return--b<=0&&T(O),0<=b}},!0),this},zt.prototype.until=function(y,b){return Zu(this._ctx,function(k,T,O){return!y(k.value)||(T(O),b)}),this},zt.prototype.first=function(y){return this.limit(1).toArray(function(b){return b[0]}).then(y)},zt.prototype.last=function(y){return this.reverse().first(y)},zt.prototype.filter=function(y){var b;return Zu(this._ctx,function(k){return y(k.value)}),(b=this._ctx).isMatch=kr(b.isMatch,y),this},zt.prototype.and=function(y){return this.filter(y)},zt.prototype.or=function(y){return new this.db.WhereClause(this._ctx.table,y,this)},zt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},zt.prototype.desc=function(){return this.reverse()},zt.prototype.eachKey=function(y){var b=this._ctx;return b.keysOnly=!b.isMatch,this.each(function(k,T){y(T.key,T)})},zt.prototype.eachUniqueKey=function(y){return this._ctx.unique="unique",this.eachKey(y)},zt.prototype.eachPrimaryKey=function(y){var b=this._ctx;return b.keysOnly=!b.isMatch,this.each(function(k,T){y(T.primaryKey,T)})},zt.prototype.keys=function(y){var b=this._ctx;b.keysOnly=!b.isMatch;var k=[];return this.each(function(T,O){k.push(O.key)}).then(function(){return k}).then(y)},zt.prototype.primaryKeys=function(y){var b=this._ctx;if(b.dir==="next"&&Fi(b,!0)&&0<b.limit)return this._read(function(T){var O=po(b,b.table.core.schema);return b.table.core.query({trans:T,values:!1,limit:b.limit,query:{index:O,range:b.range}})}).then(function(T){return T.result}).then(y);b.keysOnly=!b.isMatch;var k=[];return this.each(function(T,O){k.push(O.primaryKey)}).then(function(){return k}).then(y)},zt.prototype.uniqueKeys=function(y){return this._ctx.unique="unique",this.keys(y)},zt.prototype.firstKey=function(y){return this.limit(1).keys(function(b){return b[0]}).then(y)},zt.prototype.lastKey=function(y){return this.reverse().firstKey(y)},zt.prototype.distinct=function(){var y=this._ctx,y=y.index&&y.table.schema.idxByName[y.index];if(!y||!y.multi)return this;var b={};return Zu(this._ctx,function(O){var T=O.primaryKey.toString(),O=p(b,T);return b[T]=!0,!O}),this},zt.prototype.modify=function(y){var b=this,k=this._ctx;return this._write(function(T){var O,I,U;U=typeof y=="function"?y:(O=o(y),I=O.length,function(oe){for(var ve=!1,we=0;we<I;++we){var Se=O[we],ke=y[Se],Ie=P(oe,Se);ke instanceof la?(M(oe,Se,ke.execute(Ie)),ve=!0):Ie!==ke&&(M(oe,Se,ke),ve=!0)}return ve});var K=k.table.core,Y=K.schema.primaryKey,ee=Y.outbound,ie=Y.extractKey,de=200,Y=b.db._options.modifyChunkSize;Y&&(de=typeof Y=="object"?Y[K.name]||Y["*"]||200:Y);function he(oe,Se){var we=Se.failures,Se=Se.numFailures;ce+=oe-Se;for(var ke=0,Ie=o(we);ke<Ie.length;ke++){var Ue=Ie[ke];re.push(we[Ue])}}var re=[],ce=0,fe=[];return b.clone().primaryKeys().then(function(oe){function ve(Se){var ke=Math.min(de,oe.length-Se);return K.getMany({trans:T,keys:oe.slice(Se,Se+ke),cache:"immutable"}).then(function(Ie){for(var Ue=[],Re=[],Be=ee?[]:null,Qe=[],ze=0;ze<ke;++ze){var Ge=Ie[ze],yt={value:ue(Ge),primKey:oe[Se+ze]};U.call(yt,yt.value,yt)!==!1&&(yt.value==null?Qe.push(oe[Se+ze]):ee||ft(ie(Ge),ie(yt.value))===0?(Re.push(yt.value),ee&&Be.push(oe[Se+ze])):(Qe.push(oe[Se+ze]),Ue.push(yt.value)))}return Promise.resolve(0<Ue.length&&K.mutate({trans:T,type:"add",values:Ue}).then(function(bt){for(var kt in bt.failures)Qe.splice(parseInt(kt),1);he(Ue.length,bt)})).then(function(){return(0<Re.length||we&&typeof y=="object")&&K.mutate({trans:T,type:"put",keys:Be,values:Re,criteria:we,changeSpec:typeof y!="function"&&y,isAdditionalChunk:0<Se}).then(function(bt){return he(Re.length,bt)})}).then(function(){return(0<Qe.length||we&&y===jl)&&K.mutate({trans:T,type:"delete",keys:Qe,criteria:we,isAdditionalChunk:0<Se}).then(function(bt){return he(Qe.length,bt)})}).then(function(){return oe.length>Se+ke&&ve(Se+de)})})}var we=Fi(k)&&k.limit===1/0&&(typeof y!="function"||y===jl)&&{index:k.index,range:k.range};return ve(0).then(function(){if(0<re.length)throw new je("Error modifying one or more objects",re,ce,fe);return oe.length})})})},zt.prototype.delete=function(){var y=this._ctx,b=y.range;return Fi(y)&&(y.isPrimKey||b.type===3)?this._write(function(k){var T=y.table.core.schema.primaryKey,O=b;return y.table.core.count({trans:k,query:{index:T,range:O}}).then(function(I){return y.table.core.mutate({trans:k,type:"deleteRange",range:O}).then(function(U){var K=U.failures;if(U.lastResult,U.results,U=U.numFailures,U)throw new je("Could not delete some values",Object.keys(K).map(function(ee){return K[ee]}),I-U);return I-U})})}):this.modify(jl)},zt);function zt(){}var jl=function(y,b){return b.value=null};function nc(y,b){return y<b?-1:y===b?0:1}function ch(y,b){return b<y?-1:y===b?0:1}function ar(y,b,k){return y=y instanceof zi?new y.Collection(y):y,y._ctx.error=new(k||TypeError)(b),y}function Ns(y){return new y.Collection(y,function(){return Bi("")}).limit(0)}function yo(y,b,k,T){var O,I,U,K,ee,ie,de,Y=k.length;if(!k.every(function(ce){return typeof ce=="string"}))return ar(y,gi);function he(ce){O=ce==="next"?function(oe){return oe.toUpperCase()}:function(oe){return oe.toLowerCase()},I=ce==="next"?function(oe){return oe.toLowerCase()}:function(oe){return oe.toUpperCase()},U=ce==="next"?nc:ch;var fe=k.map(function(oe){return{lower:I(oe),upper:O(oe)}}).sort(function(oe,ve){return U(oe.lower,ve.lower)});K=fe.map(function(oe){return oe.upper}),ee=fe.map(function(oe){return oe.lower}),de=(ie=ce)==="next"?"":T}he("next"),y=new y.Collection(y,function(){return ti(K[0],ee[Y-1]+T)}),y._ondirectionchange=function(ce){he(ce)};var re=0;return y._addAlgorithm(function(ce,fe,oe){var ve=ce.key;if(typeof ve!="string")return!1;var we=I(ve);if(b(we,ee,re))return!0;for(var Se=null,ke=re;ke<Y;++ke){var Ie=function(Ue,Re,Be,Qe,ze,Ge){for(var yt=Math.min(Ue.length,Qe.length),bt=-1,kt=0;kt<yt;++kt){var ur=Re[kt];if(ur!==Qe[kt])return ze(Ue[kt],Be[kt])<0?Ue.substr(0,kt)+Be[kt]+Be.substr(kt+1):ze(Ue[kt],Qe[kt])<0?Ue.substr(0,kt)+Qe[kt]+Be.substr(kt+1):0<=bt?Ue.substr(0,bt)+Re[bt]+Be.substr(bt+1):null;ze(Ue[kt],ur)<0&&(bt=kt)}return yt<Qe.length&&Ge==="next"?Ue+Be.substr(Ue.length):yt<Ue.length&&Ge==="prev"?Ue.substr(0,Be.length):bt<0?null:Ue.substr(0,bt)+Qe[bt]+Be.substr(bt+1)}(ve,we,K[ke],ee[ke],U,ie);Ie===null&&Se===null?re=ke+1:(Se===null||0<U(Se,Ie))&&(Se=Ie)}return fe(Se!==null?function(){ce.continue(Se+de)}:oe),!1}),y}function ti(y,b,k,T){return{type:2,lower:y,upper:b,lowerOpen:k,upperOpen:T}}function Bi(y){return{type:1,lower:y,upper:y}}var zi=(Object.defineProperty(tn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),tn.prototype.between=function(y,b,k,T){k=k!==!1,T=T===!0;try{return 0<this._cmp(y,b)||this._cmp(y,b)===0&&(k||T)&&(!k||!T)?Ns(this):new this.Collection(this,function(){return ti(y,b,!k,!T)})}catch{return ar(this,Lt)}},tn.prototype.equals=function(y){return y==null?ar(this,Lt):new this.Collection(this,function(){return Bi(y)})},tn.prototype.above=function(y){return y==null?ar(this,Lt):new this.Collection(this,function(){return ti(y,void 0,!0)})},tn.prototype.aboveOrEqual=function(y){return y==null?ar(this,Lt):new this.Collection(this,function(){return ti(y,void 0,!1)})},tn.prototype.below=function(y){return y==null?ar(this,Lt):new this.Collection(this,function(){return ti(void 0,y,!1,!0)})},tn.prototype.belowOrEqual=function(y){return y==null?ar(this,Lt):new this.Collection(this,function(){return ti(void 0,y)})},tn.prototype.startsWith=function(y){return typeof y!="string"?ar(this,gi):this.between(y,y+Zr,!0,!0)},tn.prototype.startsWithIgnoreCase=function(y){return y===""?this.startsWith(y):yo(this,function(b,k){return b.indexOf(k[0])===0},[y],Zr)},tn.prototype.equalsIgnoreCase=function(y){return yo(this,function(b,k){return b===k[0]},[y],"")},tn.prototype.anyOfIgnoreCase=function(){var y=R.apply(me,arguments);return y.length===0?Ns(this):yo(this,function(b,k){return k.indexOf(b)!==-1},y,"")},tn.prototype.startsWithAnyOfIgnoreCase=function(){var y=R.apply(me,arguments);return y.length===0?Ns(this):yo(this,function(b,k){return k.some(function(T){return b.indexOf(T)===0})},y,Zr)},tn.prototype.anyOf=function(){var y=this,b=R.apply(me,arguments),k=this._cmp;try{b.sort(k)}catch{return ar(this,Lt)}if(b.length===0)return Ns(this);var T=new this.Collection(this,function(){return ti(b[0],b[b.length-1])});T._ondirectionchange=function(I){k=I==="next"?y._ascending:y._descending,b.sort(k)};var O=0;return T._addAlgorithm(function(I,U,K){for(var ee=I.key;0<k(ee,b[O]);)if(++O===b.length)return U(K),!1;return k(ee,b[O])===0||(U(function(){I.continue(b[O])}),!1)}),T},tn.prototype.notEqual=function(y){return this.inAnyRange([[-1/0,y],[y,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},tn.prototype.noneOf=function(){var y=R.apply(me,arguments);if(y.length===0)return new this.Collection(this);try{y.sort(this._ascending)}catch{return ar(this,Lt)}var b=y.reduce(function(k,T){return k?k.concat([[k[k.length-1][1],T]]):[[-1/0,T]]},null);return b.push([y[y.length-1],this.db._maxKey]),this.inAnyRange(b,{includeLowers:!1,includeUppers:!1})},tn.prototype.inAnyRange=function(ve,b){var k=this,T=this._cmp,O=this._ascending,I=this._descending,U=this._min,K=this._max;if(ve.length===0)return Ns(this);if(!ve.every(function(we){return we[0]!==void 0&&we[1]!==void 0&&O(we[0],we[1])<=0}))return ar(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Pe.InvalidArgument);var ee=!b||b.includeLowers!==!1,ie=b&&b.includeUppers===!0,de,Y=O;function he(we,Se){return Y(we[0],Se[0])}try{(de=ve.reduce(function(we,Se){for(var ke=0,Ie=we.length;ke<Ie;++ke){var Ue=we[ke];if(T(Se[0],Ue[1])<0&&0<T(Se[1],Ue[0])){Ue[0]=U(Ue[0],Se[0]),Ue[1]=K(Ue[1],Se[1]);break}}return ke===Ie&&we.push(Se),we},[])).sort(he)}catch{return ar(this,Lt)}var re=0,ce=ie?function(we){return 0<O(we,de[re][1])}:function(we){return 0<=O(we,de[re][1])},fe=ee?function(we){return 0<I(we,de[re][0])}:function(we){return 0<=I(we,de[re][0])},oe=ce,ve=new this.Collection(this,function(){return ti(de[0][0],de[de.length-1][1],!ee,!ie)});return ve._ondirectionchange=function(we){Y=we==="next"?(oe=ce,O):(oe=fe,I),de.sort(he)},ve._addAlgorithm(function(we,Se,ke){for(var Ie,Ue=we.key;oe(Ue);)if(++re===de.length)return Se(ke),!1;return!ce(Ie=Ue)&&!fe(Ie)||(k._cmp(Ue,de[re][1])===0||k._cmp(Ue,de[re][0])===0||Se(function(){Y===O?we.continue(de[re][0]):we.continue(de[re][1])}),!1)}),ve},tn.prototype.startsWithAnyOf=function(){var y=R.apply(me,arguments);return y.every(function(b){return typeof b=="string"})?y.length===0?Ns(this):this.inAnyRange(y.map(function(b){return[b,b+Zr]})):ar(this,"startsWithAnyOf() only works with strings")},tn);function tn(){}function lr(y){return Te(function(b){return $i(b),y(b.target.error),!1})}function $i(y){y.stopPropagation&&y.stopPropagation(),y.preventDefault&&y.preventDefault()}var Ir="storagemutated",rc="x-storagemutated-1",Ui=as(null,Ir),ua=(vi.prototype._lock=function(){return B(!Ve.global),++this._reculock,this._reculock!==1||Ve.global||(Ve.lockOwnerFor=this),this},vi.prototype._unlock=function(){if(B(!Ve.global),--this._reculock==0)for(Ve.global||(Ve.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var y=this._blockedFuncs.shift();try{Kn(y[1],y[0])}catch{}}return this},vi.prototype._locked=function(){return this._reculock&&Ve.lockOwnerFor!==this},vi.prototype.create=function(y){var b=this;if(!this.mode)return this;var k=this.db.idbdb,T=this.db._state.dbOpenError;if(B(!this.idbtrans),!y&&!k)switch(T&&T.name){case"DatabaseClosedError":throw new Pe.DatabaseClosed(T);case"MissingAPIError":throw new Pe.MissingAPI(T.message,T);default:throw new Pe.OpenFailed(T)}if(!this.active)throw new Pe.TransactionInactive;return B(this._completion._state===null),(y=this.idbtrans=y||(this.db.core||k).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Te(function(O){$i(O),b._reject(y.error)}),y.onabort=Te(function(O){$i(O),b.active&&b._reject(new Pe.Abort(y.error)),b.active=!1,b.on("abort").fire(O)}),y.oncomplete=Te(function(){b.active=!1,b._resolve(),"mutatedParts"in y&&Ui.storagemutated.fire(y.mutatedParts)}),this},vi.prototype._promise=function(y,b,k){var T=this;if(y==="readwrite"&&this.mode!=="readwrite")return $t(new Pe.ReadOnly("Transaction is readonly"));if(!this.active)return $t(new Pe.TransactionInactive);if(this._locked())return new We(function(I,U){T._blockedFuncs.push([function(){T._promise(y,b,k).then(I,U)},Ve])});if(k)return et(function(){var I=new We(function(U,K){T._lock();var ee=b(U,K,T);ee&&ee.then&&ee.then(U,K)});return I.finally(function(){return T._unlock()}),I._lib=!0,I});var O=new We(function(I,U){var K=b(I,U,T);K&&K.then&&K.then(I,U)});return O._lib=!0,O},vi.prototype._root=function(){return this.parent?this.parent._root():this},vi.prototype.waitFor=function(y){var b,k=this._root(),T=We.resolve(y);k._waitingFor?k._waitingFor=k._waitingFor.then(function(){return T}):(k._waitingFor=T,k._waitingQueue=[],b=k.idbtrans.objectStore(k.storeNames[0]),function I(){for(++k._spinCount;k._waitingQueue.length;)k._waitingQueue.shift()();k._waitingFor&&(b.get(-1/0).onsuccess=I)}());var O=k._waitingFor;return new We(function(I,U){T.then(function(K){return k._waitingQueue.push(Te(I.bind(null,K)))},function(K){return k._waitingQueue.push(Te(U.bind(null,K)))}).finally(function(){k._waitingFor===O&&(k._waitingFor=null)})})},vi.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Pe.Abort))},vi.prototype.table=function(y){var b=this._memoizedTables||(this._memoizedTables={});if(p(b,y))return b[y];var k=this.schema[y];if(!k)throw new Pe.NotFound("Table "+y+" not part of transaction");return k=new this.db.Table(y,k,this),k.core=this.db.core.table(y),b[y]=k},vi);function vi(){}function El(y,b,k,T,O,I,U){return{name:y,keyPath:b,unique:k,multi:T,auto:O,compound:I,src:(k&&!U?"&":"")+(T?"*":"")+(O?"++":"")+ca(b)}}function ca(y){return typeof y=="string"?y:y?"["+[].join.call(y,"+")+"]":""}function Tl(y,b,k){return{name:y,primKey:b,indexes:k,mappedClass:null,idxByName:(T=function(O){return[O.name,O]},k.reduce(function(O,I,U){return U=T(I,U),U&&(O[U[0]]=U[1]),O},{}))};var T}var da=function(y){try{return y.only([[]]),da=function(){return[[]]},[[]]}catch{return da=function(){return Zr},Zr}};function Ps(y){return y==null?function(){}:typeof y=="string"?(b=y).split(".").length===1?function(k){return k[b]}:function(k){return P(k,b)}:function(k){return P(k,y)};var b}function vo(y){return[].slice.call(y)}var xo=0;function ls(y){return y==null?":id":typeof y=="string"?y:"[".concat(y.join("+"),"]")}function Am(y,b,ee){function T(oe){if(oe.type===3)return null;if(oe.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var re=oe.lower,ce=oe.upper,fe=oe.lowerOpen,oe=oe.upperOpen;return re===void 0?ce===void 0?null:b.upperBound(ce,!!oe):ce===void 0?b.lowerBound(re,!!fe):b.bound(re,ce,!!fe,!!oe)}function O(he){var re,ce=he.name;return{name:ce,schema:he,mutate:function(fe){var oe=fe.trans,ve=fe.type,we=fe.keys,Se=fe.values,ke=fe.range;return new Promise(function(Ie,Ue){Ie=Te(Ie);var Re=oe.objectStore(ce),Be=Re.keyPath==null,Qe=ve==="put"||ve==="add";if(!Qe&&ve!=="delete"&&ve!=="deleteRange")throw new Error("Invalid operation type: "+ve);var ze,Ge=(we||Se||{length:1}).length;if(we&&Se&&we.length!==Se.length)throw new Error("Given keys array must have same length as given values array.");if(Ge===0)return Ie({numFailures:0,failures:{},results:[],lastResult:void 0});function yt(gn){++ur,$i(gn)}var bt=[],kt=[],ur=0;if(ve==="deleteRange"){if(ke.type===4)return Ie({numFailures:ur,failures:kt,results:[],lastResult:void 0});ke.type===3?bt.push(ze=Re.clear()):bt.push(ze=Re.delete(T(ke)))}else{var Be=Qe?Be?[Se,we]:[Se,null]:[we,null],gt=Be[0],Bn=Be[1];if(Qe)for(var zn=0;zn<Ge;++zn)bt.push(ze=Bn&&Bn[zn]!==void 0?Re[ve](gt[zn],Bn[zn]):Re[ve](gt[zn])),ze.onerror=yt;else for(zn=0;zn<Ge;++zn)bt.push(ze=Re[ve](gt[zn])),ze.onerror=yt}function wa(gn){gn=gn.target.result,bt.forEach(function(Hi,_a){return Hi.error!=null&&(kt[_a]=Hi.error)}),Ie({numFailures:ur,failures:kt,results:ve==="delete"?we:bt.map(function(Hi){return Hi.result}),lastResult:gn})}ze.onerror=function(gn){yt(gn),wa(gn)},ze.onsuccess=wa})},getMany:function(fe){var oe=fe.trans,ve=fe.keys;return new Promise(function(we,Se){we=Te(we);for(var ke,Ie=oe.objectStore(ce),Ue=ve.length,Re=new Array(Ue),Be=0,Qe=0,ze=function(bt){bt=bt.target,Re[bt._pos]=bt.result,++Qe===Be&&we(Re)},Ge=lr(Se),yt=0;yt<Ue;++yt)ve[yt]!=null&&((ke=Ie.get(ve[yt]))._pos=yt,ke.onsuccess=ze,ke.onerror=Ge,++Be);Be===0&&we(Re)})},get:function(fe){var oe=fe.trans,ve=fe.key;return new Promise(function(we,Se){we=Te(we);var ke=oe.objectStore(ce).get(ve);ke.onsuccess=function(Ie){return we(Ie.target.result)},ke.onerror=lr(Se)})},query:(re=ie,function(fe){return new Promise(function(oe,ve){oe=Te(oe);var we,Se,ke,Be=fe.trans,Ie=fe.values,Ue=fe.limit,ze=fe.query,Re=Ue===1/0?void 0:Ue,Qe=ze.index,ze=ze.range,Be=Be.objectStore(ce),Qe=Qe.isPrimaryKey?Be:Be.index(Qe.name),ze=T(ze);if(Ue===0)return oe({result:[]});re?((Re=Ie?Qe.getAll(ze,Re):Qe.getAllKeys(ze,Re)).onsuccess=function(Ge){return oe({result:Ge.target.result})},Re.onerror=lr(ve)):(we=0,Se=!Ie&&"openKeyCursor"in Qe?Qe.openKeyCursor(ze):Qe.openCursor(ze),ke=[],Se.onsuccess=function(Ge){var yt=Se.result;return yt?(ke.push(Ie?yt.value:yt.primaryKey),++we===Ue?oe({result:ke}):void yt.continue()):oe({result:ke})},Se.onerror=lr(ve))})}),openCursor:function(fe){var oe=fe.trans,ve=fe.values,we=fe.query,Se=fe.reverse,ke=fe.unique;return new Promise(function(Ie,Ue){Ie=Te(Ie);var Qe=we.index,Re=we.range,Be=oe.objectStore(ce),Be=Qe.isPrimaryKey?Be:Be.index(Qe.name),Qe=Se?ke?"prevunique":"prev":ke?"nextunique":"next",ze=!ve&&"openKeyCursor"in Be?Be.openKeyCursor(T(Re),Qe):Be.openCursor(T(Re),Qe);ze.onerror=lr(Ue),ze.onsuccess=Te(function(Ge){var yt,bt,kt,ur,gt=ze.result;gt?(gt.___id=++xo,gt.done=!1,yt=gt.continue.bind(gt),bt=(bt=gt.continuePrimaryKey)&&bt.bind(gt),kt=gt.advance.bind(gt),ur=function(){throw new Error("Cursor not stopped")},gt.trans=oe,gt.stop=gt.continue=gt.continuePrimaryKey=gt.advance=function(){throw new Error("Cursor not started")},gt.fail=Te(Ue),gt.next=function(){var Bn=this,zn=1;return this.start(function(){return zn--?Bn.continue():Bn.stop()}).then(function(){return Bn})},gt.start=function(Bn){function zn(){if(ze.result)try{Bn()}catch(gn){gt.fail(gn)}else gt.done=!0,gt.start=function(){throw new Error("Cursor behind last entry")},gt.stop()}var wa=new Promise(function(gn,Hi){gn=Te(gn),ze.onerror=lr(Hi),gt.fail=Hi,gt.stop=function(_a){gt.stop=gt.continue=gt.continuePrimaryKey=gt.advance=ur,gn(_a)}});return ze.onsuccess=Te(function(gn){ze.onsuccess=zn,zn()}),gt.continue=yt,gt.continuePrimaryKey=bt,gt.advance=kt,zn(),wa},Ie(gt)):Ie(null)},Ue)})},count:function(fe){var oe=fe.query,ve=fe.trans,we=oe.index,Se=oe.range;return new Promise(function(ke,Ie){var Ue=ve.objectStore(ce),Re=we.isPrimaryKey?Ue:Ue.index(we.name),Ue=T(Se),Re=Ue?Re.count(Ue):Re.count();Re.onsuccess=Te(function(Be){return ke(Be.target.result)}),Re.onerror=lr(Ie)})}}}var I,U,K,de=(U=ee,K=vo((I=y).objectStoreNames),{schema:{name:I.name,tables:K.map(function(he){return U.objectStore(he)}).map(function(he){var re=he.keyPath,oe=he.autoIncrement,ce=a(re),fe={},oe={name:he.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:re==null,compound:ce,keyPath:re,autoIncrement:oe,unique:!0,extractKey:Ps(re)},indexes:vo(he.indexNames).map(function(ve){return he.index(ve)}).map(function(ke){var we=ke.name,Se=ke.unique,Ie=ke.multiEntry,ke=ke.keyPath,Ie={name:we,compound:a(ke),keyPath:ke,unique:Se,multiEntry:Ie,extractKey:Ps(ke)};return fe[ls(ke)]=Ie}),getIndexByKeyPath:function(ve){return fe[ls(ve)]}};return fe[":id"]=oe.primaryKey,re!=null&&(fe[ls(re)]=oe.primaryKey),oe})},hasGetAll:0<K.length&&"getAll"in U.objectStore(K[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),ee=de.schema,ie=de.hasGetAll,de=ee.tables.map(O),Y={};return de.forEach(function(he){return Y[he.name]=he}),{stack:"dbcore",transaction:y.transaction.bind(y),table:function(he){if(!Y[he])throw new Error("Table '".concat(he,"' not found"));return Y[he]},MIN_KEY:-1/0,MAX_KEY:da(b),schema:ee}}function Dm(y,b,k,T){var O=k.IDBKeyRange;return k.indexedDB,{dbcore:(T=Am(b,O,T),y.dbcore.reduce(function(I,U){return U=U.create,r(r({},I),U(I))},T))}}function bo(y,T){var k=T.db,T=Dm(y._middlewares,k,y._deps,T);y.core=T.dbcore,y.tables.forEach(function(O){var I=O.name;y.core.schema.tables.some(function(U){return U.name===I})&&(O.core=y.core.table(I),y[I]instanceof y.Table&&(y[I].core=O.core))})}function Os(y,b,k,T){k.forEach(function(O){var I=T[O];b.forEach(function(U){var K=function ee(ie,de){return C(ie,de)||(ie=c(ie))&&ee(ie,de)}(U,O);(!K||"value"in K&&K.value===void 0)&&(U===y.Transaction.prototype||U instanceof y.Transaction?w(U,O,{get:function(){return this.table(O)},set:function(ee){x(this,O,{value:ee,writable:!0,configurable:!0,enumerable:!0})}}):U[O]=new y.Table(O,I))})})}function ha(y,b){b.forEach(function(k){for(var T in k)k[T]instanceof y.Table&&delete k[T]})}function dh(y,b){return y._cfg.version-b._cfg.version}function us(y,b,k,T){var O=y._dbSchema;k.objectStoreNames.contains("$meta")&&!O.$meta&&(O.$meta=Tl("$meta",As("")[0],[]),y._storeNames.push("$meta"));var I=y._createTransaction("readwrite",y._storeNames,O);I.create(k),I._completion.catch(T);var U=I._reject.bind(I),K=Ve.transless||Ve;et(function(){return Ve.trans=I,Ve.transless=K,b!==0?(bo(y,k),ie=b,((ee=I).storeNames.includes("$meta")?ee.table("$meta").get("version").then(function(de){return de??ie}):We.resolve(ie)).then(function(de){return he=de,re=I,ce=k,fe=[],de=(Y=y)._versions,oe=Y._dbSchema=pa(0,Y.idbdb,ce),(de=de.filter(function(ve){return ve._cfg.version>=he})).length!==0?(de.forEach(function(ve){fe.push(function(){var we=oe,Se=ve._cfg.dbschema;Gn(Y,we,ce),Gn(Y,Se,ce),oe=Y._dbSchema=Se;var ke=wo(we,Se);ke.add.forEach(function(Qe){Nl(ce,Qe[0],Qe[1].primKey,Qe[1].indexes)}),ke.change.forEach(function(Qe){if(Qe.recreate)throw new Pe.Upgrade("Not yet support for changing primary key");var ze=ce.objectStore(Qe.name);Qe.add.forEach(function(Ge){return Ls(ze,Ge)}),Qe.change.forEach(function(Ge){ze.deleteIndex(Ge.name),Ls(ze,Ge)}),Qe.del.forEach(function(Ge){return ze.deleteIndex(Ge)})});var Ie=ve._cfg.contentUpgrade;if(Ie&&ve._cfg.version>he){bo(Y,ce),re._memoizedTables={};var Ue=H(Se);ke.del.forEach(function(Qe){Ue[Qe]=we[Qe]}),ha(Y,[Y.Transaction.prototype]),Os(Y,[Y.Transaction.prototype],o(Ue),Ue),re.schema=Ue;var Re,Be=G(Ie);return Be&&_t(),ke=We.follow(function(){var Qe;(Re=Ie(re))&&Be&&(Qe=Pt.bind(null,null),Re.then(Qe,Qe))}),Re&&typeof Re.then=="function"?We.resolve(Re):ke.then(function(){return Re})}}),fe.push(function(we){var Se,ke,Ie=ve._cfg.dbschema;Se=Ie,ke=we,[].slice.call(ke.db.objectStoreNames).forEach(function(Ue){return Se[Ue]==null&&ke.db.deleteObjectStore(Ue)}),ha(Y,[Y.Transaction.prototype]),Os(Y,[Y.Transaction.prototype],Y._storeNames,Y._dbSchema),re.schema=Y._dbSchema}),fe.push(function(we){Y.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(Y.idbdb.version/10)===ve._cfg.version?(Y.idbdb.deleteObjectStore("$meta"),delete Y._dbSchema.$meta,Y._storeNames=Y._storeNames.filter(function(Se){return Se!=="$meta"})):we.objectStore("$meta").put(ve._cfg.version,"version"))})}),function ve(){return fe.length?We.resolve(fe.shift()(re.idbtrans)).then(ve):We.resolve()}().then(function(){fa(oe,ce)})):We.resolve();var Y,he,re,ce,fe,oe}).catch(U)):(o(O).forEach(function(de){Nl(k,de,O[de].primKey,O[de].indexes)}),bo(y,k),void We.follow(function(){return y.on.populate.fire(I)}).catch(U));var ee,ie})}function ic(y,b){fa(y._dbSchema,b),b.db.version%10!=0||b.objectStoreNames.contains("$meta")||b.db.createObjectStore("$meta").add(Math.ceil(b.db.version/10-1),"version");var k=pa(0,y.idbdb,b);Gn(y,y._dbSchema,b);for(var T=0,O=wo(k,y._dbSchema).change;T<O.length;T++){var I=function(U){if(U.change.length||U.recreate)return console.warn("Unable to patch indexes of table ".concat(U.name," because it has changes on the type of index or primary key.")),{value:void 0};var K=b.objectStore(U.name);U.add.forEach(function(ee){En&&console.debug("Dexie upgrade patch: Creating missing index ".concat(U.name,".").concat(ee.src)),Ls(K,ee)})}(O[T]);if(typeof I=="object")return I.value}}function wo(y,b){var k,T={del:[],add:[],change:[]};for(k in y)b[k]||T.del.push(k);for(k in b){var O=y[k],I=b[k];if(O){var U={name:k,def:I,recreate:!1,del:[],add:[],change:[]};if(""+(O.primKey.keyPath||"")!=""+(I.primKey.keyPath||"")||O.primKey.auto!==I.primKey.auto)U.recreate=!0,T.change.push(U);else{var K=O.idxByName,ee=I.idxByName,ie=void 0;for(ie in K)ee[ie]||U.del.push(ie);for(ie in ee){var de=K[ie],Y=ee[ie];de?de.src!==Y.src&&U.change.push(Y):U.add.push(Y)}(0<U.del.length||0<U.add.length||0<U.change.length)&&T.change.push(U)}}else T.add.push([k,I])}return T}function Nl(y,b,k,T){var O=y.db.createObjectStore(b,k.keyPath?{keyPath:k.keyPath,autoIncrement:k.auto}:{autoIncrement:k.auto});return T.forEach(function(I){return Ls(O,I)}),O}function fa(y,b){o(y).forEach(function(k){b.db.objectStoreNames.contains(k)||(En&&console.debug("Dexie: Creating missing table",k),Nl(b,k,y[k].primKey,y[k].indexes))})}function Ls(y,b){y.createIndex(b.name,b.keyPath,{unique:b.unique,multiEntry:b.multi})}function pa(y,b,k){var T={};return L(b.objectStoreNames,0).forEach(function(O){for(var I=k.objectStore(O),U=El(ca(ie=I.keyPath),ie||"",!0,!1,!!I.autoIncrement,ie&&typeof ie!="string",!0),K=[],ee=0;ee<I.indexNames.length;++ee){var de=I.index(I.indexNames[ee]),ie=de.keyPath,de=El(de.name,ie,!!de.unique,!!de.multiEntry,!1,ie&&typeof ie!="string",!1);K.push(de)}T[O]=Tl(O,U,K)}),T}function Gn(y,b,k){for(var T=k.db.objectStoreNames,O=0;O<T.length;++O){var I=T[O],U=k.objectStore(I);y._hasGetAll="getAll"in U;for(var K=0;K<U.indexNames.length;++K){var ee=U.indexNames[K],ie=U.index(ee).keyPath,de=typeof ie=="string"?ie:"["+L(ie).join("+")+"]";!b[I]||(ie=b[I].idxByName[de])&&(ie.name=ee,delete b[I].idxByName[de],b[I].idxByName[ee]=ie)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(y._hasGetAll=!1)}function As(y){return y.split(",").map(function(b,k){var T=(b=b.trim()).replace(/([&*]|\+\+)/g,""),O=/^\[/.test(T)?T.match(/^\[(.*)\]$/)[1].split("+"):T;return El(T,O||null,/\&/.test(b),/\*/.test(b),/\+\+/.test(b),a(O),k===0)})}var sc=(cs.prototype._parseStoresSpec=function(y,b){o(y).forEach(function(k){if(y[k]!==null){var T=As(y[k]),O=T.shift();if(O.unique=!0,O.multi)throw new Pe.Schema("Primary key cannot be multi-valued");T.forEach(function(I){if(I.auto)throw new Pe.Schema("Only primary key can be marked as autoIncrement (++)");if(!I.keyPath)throw new Pe.Schema("Index must have a name and cannot be an empty string")}),b[k]=Tl(k,O,T)}})},cs.prototype.stores=function(k){var b=this.db;this._cfg.storesSource=this._cfg.storesSource?u(this._cfg.storesSource,k):k;var k=b._versions,T={},O={};return k.forEach(function(I){u(T,I._cfg.storesSource),O=I._cfg.dbschema={},I._parseStoresSpec(T,O)}),b._dbSchema=O,ha(b,[b._allTables,b,b.Transaction.prototype]),Os(b,[b._allTables,b,b.Transaction.prototype,this._cfg.tables],o(O),O),b._storeNames=o(O),this},cs.prototype.upgrade=function(y){return this._cfg.contentUpgrade=Ar(this._cfg.contentUpgrade||Tt,y),this},cs);function cs(){}function oc(y,b){var k=y._dbNamesDB;return k||(k=y._dbNamesDB=new xi(yi,{addons:[],indexedDB:y,IDBKeyRange:b})).version(1).stores({dbnames:"name"}),k.table("dbnames")}function ma(y){return y&&typeof y.databases=="function"}function ga(y){return et(function(){return Ve.letThrough=!0,y()})}function Ds(y){return!("from"in y)}var Nn=function(y,b){if(!this){var k=new Nn;return y&&"d"in y&&u(k,y),k}u(this,arguments.length?{d:1,from:y,to:1<arguments.length?b:y}:{d:0})};function _o(y,b,k){var T=ft(b,k);if(!isNaN(T)){if(0<T)throw RangeError();if(Ds(y))return u(y,{from:b,to:k,d:1});var O=y.l,T=y.r;if(ft(k,y.from)<0)return O?_o(O,b,k):y.l={from:b,to:k,d:1,l:null,r:null},Ol(y);if(0<ft(b,y.to))return T?_o(T,b,k):y.r={from:b,to:k,d:1,l:null,r:null},Ol(y);ft(b,y.from)<0&&(y.from=b,y.l=null,y.d=T?T.d+1:1),0<ft(k,y.to)&&(y.to=k,y.r=null,y.d=y.l?y.l.d+1:1),k=!y.r,O&&!y.l&&ya(y,O),T&&k&&ya(y,T)}}function ya(y,b){Ds(b)||function k(T,ee){var I=ee.from,U=ee.to,K=ee.l,ee=ee.r;_o(T,I,U),K&&k(T,K),ee&&k(T,ee)}(y,b)}function hh(y,b){var k=Pl(b),T=k.next();if(T.done)return!1;for(var O=T.value,I=Pl(y),U=I.next(O.from),K=U.value;!T.done&&!U.done;){if(ft(K.from,O.to)<=0&&0<=ft(K.to,O.from))return!0;ft(O.from,K.from)<0?O=(T=k.next(K.from)).value:K=(U=I.next(O.from)).value}return!1}function Pl(y){var b=Ds(y)?null:{s:0,n:y};return{next:function(k){for(var T=0<arguments.length;b;)switch(b.s){case 0:if(b.s=1,T)for(;b.n.l&&ft(k,b.n.from)<0;)b={up:b,n:b.n.l,s:1};else for(;b.n.l;)b={up:b,n:b.n.l,s:1};case 1:if(b.s=2,!T||ft(k,b.n.to)<=0)return{value:b.n,done:!1};case 2:if(b.n.r){b.s=3,b={up:b,n:b.n.r,s:0};continue}case 3:b=b.up}return{done:!0}}}}function Ol(y){var b,k,T=(((b=y.r)===null||b===void 0?void 0:b.d)||0)-(((k=y.l)===null||k===void 0?void 0:k.d)||0),O=1<T?"r":T<-1?"l":"";O&&(b=O=="r"?"l":"r",k=r({},y),T=y[O],y.from=T.from,y.to=T.to,y[O]=T[O],k[O]=T[b],(y[b]=k).d=fh(k)),y.d=fh(y)}function fh(k){var b=k.r,k=k.l;return(b?k?Math.max(b.d,k.d):b.d:k?k.d:0)+1}function Ll(y,b){return o(b).forEach(function(k){y[k]?ya(y[k],b[k]):y[k]=function T(O){var I,U,K={};for(I in O)p(O,I)&&(U=O[I],K[I]=!U||typeof U!="object"||ae.has(U.constructor)?U:T(U));return K}(b[k])}),y}function ac(y,b){return y.all||b.all||Object.keys(y).some(function(k){return b[k]&&hh(b[k],y[k])})}g(Nn.prototype,((Rr={add:function(y){return ya(this,y),this},addKey:function(y){return _o(this,y,y),this},addKeys:function(y){var b=this;return y.forEach(function(k){return _o(b,k,k)}),this},hasKey:function(y){var b=Pl(this).next(y).value;return b&&ft(b.from,y)<=0&&0<=ft(b.to,y)}})[J]=function(){return Pl(this)},Rr));var Is={},lc={},Al=!1;function Dl(y){Ll(lc,y),Al||(Al=!0,setTimeout(function(){Al=!1,uc(lc,!(lc={}))},0))}function uc(y,b){b===void 0&&(b=!1);var k=new Set;if(y.all)for(var T=0,O=Object.values(Is);T<O.length;T++)ph(U=O[T],y,k,b);else for(var I in y){var U,K=/^idb\:\/\/(.*)\/(.*)\//.exec(I);K&&(I=K[1],K=K[2],(U=Is["idb://".concat(I,"/").concat(K)])&&ph(U,y,k,b))}k.forEach(function(ee){return ee()})}function ph(y,b,k,T){for(var O=[],I=0,U=Object.entries(y.queries.query);I<U.length;I++){for(var K=U[I],ee=K[0],ie=[],de=0,Y=K[1];de<Y.length;de++){var he=Y[de];ac(b,he.obsSet)?he.subscribers.forEach(function(oe){return k.add(oe)}):T&&ie.push(he)}T&&O.push([ee,ie])}if(T)for(var re=0,ce=O;re<ce.length;re++){var fe=ce[re],ee=fe[0],ie=fe[1];y.queries.query[ee]=ie}}function Im(y){var b=y._state,k=y._deps.indexedDB;if(b.isBeingOpened||y.idbdb)return b.dbReadyPromise.then(function(){return b.dbOpenError?$t(b.dbOpenError):y});b.isBeingOpened=!0,b.dbOpenError=null,b.openComplete=!1;var T=b.openCanceller,O=Math.round(10*y.verno),I=!1;function U(){if(b.openCanceller!==T)throw new Pe.DatabaseClosed("db.open() was cancelled")}function K(){return new We(function(he,re){if(U(),!k)throw new Pe.MissingAPI;var ce=y.name,fe=b.autoSchema||!O?k.open(ce):k.open(ce,O);if(!fe)throw new Pe.MissingAPI;fe.onerror=lr(re),fe.onblocked=Te(y._fireOnBlocked),fe.onupgradeneeded=Te(function(oe){var ve;de=fe.transaction,b.autoSchema&&!y._options.allowEmptyDB?(fe.onerror=$i,de.abort(),fe.result.close(),(ve=k.deleteDatabase(ce)).onsuccess=ve.onerror=Te(function(){re(new Pe.NoSuchDatabase("Database ".concat(ce," doesnt exist")))})):(de.onerror=lr(re),oe=oe.oldVersion>Math.pow(2,62)?0:oe.oldVersion,Y=oe<1,y.idbdb=fe.result,I&&ic(y,de),us(y,oe/10,de,re))},re),fe.onsuccess=Te(function(){de=null;var oe,ve,we,Se,ke,Ie=y.idbdb=fe.result,Ue=L(Ie.objectStoreNames);if(0<Ue.length)try{var Re=Ie.transaction((Se=Ue).length===1?Se[0]:Se,"readonly");if(b.autoSchema)ve=Ie,we=Re,(oe=y).verno=ve.version/10,we=oe._dbSchema=pa(0,ve,we),oe._storeNames=L(ve.objectStoreNames,0),Os(oe,[oe._allTables],o(we),we);else if(Gn(y,y._dbSchema,Re),((ke=wo(pa(0,(ke=y).idbdb,Re),ke._dbSchema)).add.length||ke.change.some(function(Be){return Be.add.length||Be.change.length}))&&!I)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ie.close(),O=Ie.version+1,I=!0,he(K());bo(y,Re)}catch{}Cr.push(y),Ie.onversionchange=Te(function(Be){b.vcFired=!0,y.on("versionchange").fire(Be)}),Ie.onclose=Te(function(Be){y.on("close").fire(Be)}),Y&&(ke=y._deps,Re=ce,Ie=ke.indexedDB,ke=ke.IDBKeyRange,ma(Ie)||Re===yi||oc(Ie,ke).put({name:Re}).catch(Tt)),he()},re)}).catch(function(he){switch(he?.name){case"UnknownError":if(0<b.PR1398_maxLoop)return b.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),K();break;case"VersionError":if(0<O)return O=0,K()}return We.reject(he)})}var ee,ie=b.dbReadyResolve,de=null,Y=!1;return We.race([T,(typeof navigator>"u"?We.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(he){function re(){return indexedDB.databases().finally(he)}ee=setInterval(re,100),re()}).finally(function(){return clearInterval(ee)}):Promise.resolve()).then(K)]).then(function(){return U(),b.onReadyBeingFired=[],We.resolve(ga(function(){return y.on.ready.fire(y.vip)})).then(function he(){if(0<b.onReadyBeingFired.length){var re=b.onReadyBeingFired.reduce(Ar,Tt);return b.onReadyBeingFired=[],We.resolve(ga(function(){return re(y.vip)})).then(he)}})}).finally(function(){b.openCanceller===T&&(b.onReadyBeingFired=null,b.isBeingOpened=!1)}).catch(function(he){b.dbOpenError=he;try{de&&de.abort()}catch{}return T===b.openCanceller&&y._close(),$t(he)}).finally(function(){b.openComplete=!0,ie()}).then(function(){var he;return Y&&(he={},y.tables.forEach(function(re){re.schema.indexes.forEach(function(ce){ce.name&&(he["idb://".concat(y.name,"/").concat(re.name,"/").concat(ce.name)]=new Nn(-1/0,[[[]]]))}),he["idb://".concat(y.name,"/").concat(re.name,"/")]=he["idb://".concat(y.name,"/").concat(re.name,"/:dels")]=new Nn(-1/0,[[[]]])}),Ui(Ir).fire(he),uc(he,!0)),y})}function va(y){function b(I){return y.next(I)}var k=O(b),T=O(function(I){return y.throw(I)});function O(I){return function(ee){var K=I(ee),ee=K.value;return K.done?ee:ee&&typeof ee.then=="function"?ee.then(k,T):a(ee)?Promise.all(ee).then(k,T):k(ee)}}return O(b)()}function Il(y,b,k){for(var T=a(y)?y.slice():[y],O=0;O<k;++O)T.push(b);return T}var Rm={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(y){return r(r({},y),{table:function(b){var k=y.table(b),T=k.schema,O={},I=[];function U(Y,he,re){var ce=ls(Y),fe=O[ce]=O[ce]||[],oe=Y==null?0:typeof Y=="string"?1:Y.length,ve=0<he,ve=r(r({},re),{name:ve?"".concat(ce,"(virtual-from:").concat(re.name,")"):re.name,lowLevelIndex:re,isVirtual:ve,keyTail:he,keyLength:oe,extractKey:Ps(Y),unique:!ve&&re.unique});return fe.push(ve),ve.isPrimaryKey||I.push(ve),1<oe&&U(oe===2?Y[0]:Y.slice(0,oe-1),he+1,re),fe.sort(function(we,Se){return we.keyTail-Se.keyTail}),ve}b=U(T.primaryKey.keyPath,0,T.primaryKey),O[":id"]=[b];for(var K=0,ee=T.indexes;K<ee.length;K++){var ie=ee[K];U(ie.keyPath,0,ie)}function de(Y){var he,re=Y.query.index;return re.isVirtual?r(r({},Y),{query:{index:re.lowLevelIndex,range:(he=Y.query.range,re=re.keyTail,{type:he.type===1?2:he.type,lower:Il(he.lower,he.lowerOpen?y.MAX_KEY:y.MIN_KEY,re),lowerOpen:!0,upper:Il(he.upper,he.upperOpen?y.MIN_KEY:y.MAX_KEY,re),upperOpen:!0})}}):Y}return r(r({},k),{schema:r(r({},T),{primaryKey:b,indexes:I,getIndexByKeyPath:function(Y){return(Y=O[ls(Y)])&&Y[0]}}),count:function(Y){return k.count(de(Y))},query:function(Y){return k.query(de(Y))},openCursor:function(Y){var he=Y.query.index,re=he.keyTail,ce=he.isVirtual,fe=he.keyLength;return ce?k.openCursor(de(Y)).then(function(ve){return ve&&oe(ve)}):k.openCursor(Y);function oe(ve){return Object.create(ve,{continue:{value:function(we){we!=null?ve.continue(Il(we,Y.reverse?y.MAX_KEY:y.MIN_KEY,re)):Y.unique?ve.continue(ve.key.slice(0,fe).concat(Y.reverse?y.MIN_KEY:y.MAX_KEY,re)):ve.continue()}},continuePrimaryKey:{value:function(we,Se){ve.continuePrimaryKey(Il(we,y.MAX_KEY,re),Se)}},primaryKey:{get:function(){return ve.primaryKey}},key:{get:function(){var we=ve.key;return fe===1?we[0]:we.slice(0,fe)}},value:{get:function(){return ve.value}}})}}})}})}};function cc(y,b,k,T){return k=k||{},T=T||"",o(y).forEach(function(O){var I,U,K;p(b,O)?(I=y[O],U=b[O],typeof I=="object"&&typeof U=="object"&&I&&U?(K=V(I))!==V(U)?k[T+O]=b[O]:K==="Object"?cc(I,U,k,T+O+"."):I!==U&&(k[T+O]=b[O]):I!==U&&(k[T+O]=b[O])):k[T+O]=void 0}),o(b).forEach(function(O){p(y,O)||(k[T+O]=b[O])}),k}function Rl(y,b){return b.type==="delete"?b.keys:b.keys||b.values.map(y.extractKey)}var Mm={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(y){return r(r({},y),{table:function(b){var k=y.table(b),T=k.schema.primaryKey;return r(r({},k),{mutate:function(O){var I=Ve.trans,U=I.table(b).hook,K=U.deleting,ee=U.creating,ie=U.updating;switch(O.type){case"add":if(ee.fire===Tt)break;return I._promise("readwrite",function(){return de(O)},!0);case"put":if(ee.fire===Tt&&ie.fire===Tt)break;return I._promise("readwrite",function(){return de(O)},!0);case"delete":if(K.fire===Tt)break;return I._promise("readwrite",function(){return de(O)},!0);case"deleteRange":if(K.fire===Tt)break;return I._promise("readwrite",function(){return function Y(he,re,ce){return k.query({trans:he,values:!1,query:{index:T,range:re},limit:ce}).then(function(fe){var oe=fe.result;return de({type:"delete",keys:oe,trans:he}).then(function(ve){return 0<ve.numFailures?Promise.reject(ve.failures[0]):oe.length<ce?{failures:[],numFailures:0,lastResult:void 0}:Y(he,r(r({},re),{lower:oe[oe.length-1],lowerOpen:!0}),ce)})})}(O.trans,O.range,1e4)},!0)}return k.mutate(O);function de(Y){var he,re,ce,fe=Ve.trans,oe=Y.keys||Rl(T,Y);if(!oe)throw new Error("Keys missing");return(Y=Y.type==="add"||Y.type==="put"?r(r({},Y),{keys:oe}):r({},Y)).type!=="delete"&&(Y.values=i([],Y.values)),Y.keys&&(Y.keys=i([],Y.keys)),he=k,ce=oe,((re=Y).type==="add"?Promise.resolve([]):he.getMany({trans:re.trans,keys:ce,cache:"immutable"})).then(function(ve){var we=oe.map(function(Se,ke){var Ie,Ue,Re,Be=ve[ke],Qe={onerror:null,onsuccess:null};return Y.type==="delete"?K.fire.call(Qe,Se,Be,fe):Y.type==="add"||Be===void 0?(Ie=ee.fire.call(Qe,Se,Y.values[ke],fe),Se==null&&Ie!=null&&(Y.keys[ke]=Se=Ie,T.outbound||M(Y.values[ke],T.keyPath,Se))):(Ie=cc(Be,Y.values[ke]),(Ue=ie.fire.call(Qe,Ie,Se,Be,fe))&&(Re=Y.values[ke],Object.keys(Ue).forEach(function(ze){p(Re,ze)?Re[ze]=Ue[ze]:M(Re,ze,Ue[ze])}))),Qe});return k.mutate(Y).then(function(Se){for(var ke=Se.failures,Ie=Se.results,Ue=Se.numFailures,Se=Se.lastResult,Re=0;Re<oe.length;++Re){var Be=(Ie||oe)[Re],Qe=we[Re];Be==null?Qe.onerror&&Qe.onerror(ke[Re]):Qe.onsuccess&&Qe.onsuccess(Y.type==="put"&&ve[Re]?Y.values[Re]:Be)}return{failures:ke,results:Ie,numFailures:Ue,lastResult:Se}}).catch(function(Se){return we.forEach(function(ke){return ke.onerror&&ke.onerror(Se)}),Promise.reject(Se)})})}}})}})}};function mh(y,b,k){try{if(!b||b.keys.length<y.length)return null;for(var T=[],O=0,I=0;O<b.keys.length&&I<y.length;++O)ft(b.keys[O],y[I])===0&&(T.push(k?ue(b.values[O]):b.values[O]),++I);return T.length===y.length?T:null}catch{return null}}var Fm={stack:"dbcore",level:-1,create:function(y){return{table:function(b){var k=y.table(b);return r(r({},k),{getMany:function(T){if(!T.cache)return k.getMany(T);var O=mh(T.keys,T.trans._cache,T.cache==="clone");return O?We.resolve(O):k.getMany(T).then(function(I){return T.trans._cache={keys:T.keys,values:T.cache==="clone"?ue(I):I},I})},mutate:function(T){return T.type!=="add"&&(T.trans._cache=null),k.mutate(T)}})}}}};function gh(y,b){return y.trans.mode==="readonly"&&!!y.subscr&&!y.trans.explicit&&y.trans.db._options.cache!=="disabled"&&!b.schema.primaryKey.outbound}function yh(y,b){switch(y){case"query":return b.values&&!b.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Bm={stack:"dbcore",level:0,name:"Observability",create:function(y){var b=y.schema.name,k=new Nn(y.MIN_KEY,y.MAX_KEY);return r(r({},y),{transaction:function(T,O,I){if(Ve.subscr&&O!=="readonly")throw new Pe.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ve.querier));return y.transaction(T,O,I)},table:function(T){var O=y.table(T),I=O.schema,U=I.primaryKey,Y=I.indexes,K=U.extractKey,ee=U.outbound,ie=U.autoIncrement&&Y.filter(function(re){return re.compound&&re.keyPath.includes(U.keyPath)}),de=r(r({},O),{mutate:function(re){function ce(ze){return ze="idb://".concat(b,"/").concat(T,"/").concat(ze),Se[ze]||(Se[ze]=new Nn)}var fe,oe,ve,we=re.trans,Se=re.mutatedParts||(re.mutatedParts={}),ke=ce(""),Ie=ce(":dels"),Ue=re.type,Qe=re.type==="deleteRange"?[re.range]:re.type==="delete"?[re.keys]:re.values.length<50?[Rl(U,re).filter(function(ze){return ze}),re.values]:[],Re=Qe[0],Be=Qe[1],Qe=re.trans._cache;return a(Re)?(ke.addKeys(Re),(Qe=Ue==="delete"||Re.length===Be.length?mh(Re,Qe):null)||Ie.addKeys(Re),(Qe||Be)&&(fe=ce,oe=Qe,ve=Be,I.indexes.forEach(function(ze){var Ge=fe(ze.name||"");function yt(kt){return kt!=null?ze.extractKey(kt):null}function bt(kt){return ze.multiEntry&&a(kt)?kt.forEach(function(ur){return Ge.addKey(ur)}):Ge.addKey(kt)}(oe||ve).forEach(function(kt,Bn){var gt=oe&&yt(oe[Bn]),Bn=ve&&yt(ve[Bn]);ft(gt,Bn)!==0&&(gt!=null&&bt(gt),Bn!=null&&bt(Bn))})}))):Re?(Be={from:(Be=Re.lower)!==null&&Be!==void 0?Be:y.MIN_KEY,to:(Be=Re.upper)!==null&&Be!==void 0?Be:y.MAX_KEY},Ie.add(Be),ke.add(Be)):(ke.add(k),Ie.add(k),I.indexes.forEach(function(ze){return ce(ze.name).add(k)})),O.mutate(re).then(function(ze){return!Re||re.type!=="add"&&re.type!=="put"||(ke.addKeys(ze.results),ie&&ie.forEach(function(Ge){for(var yt=re.values.map(function(gt){return Ge.extractKey(gt)}),bt=Ge.keyPath.findIndex(function(gt){return gt===U.keyPath}),kt=0,ur=ze.results.length;kt<ur;++kt)yt[kt][bt]=ze.results[kt];ce(Ge.name).addKeys(yt)})),we.mutatedParts=Ll(we.mutatedParts||{},Se),ze})}}),Y=function(ce){var fe=ce.query,ce=fe.index,fe=fe.range;return[ce,new Nn((ce=fe.lower)!==null&&ce!==void 0?ce:y.MIN_KEY,(fe=fe.upper)!==null&&fe!==void 0?fe:y.MAX_KEY)]},he={get:function(re){return[U,new Nn(re.key)]},getMany:function(re){return[U,new Nn().addKeys(re.keys)]},count:Y,query:Y,openCursor:Y};return o(he).forEach(function(re){de[re]=function(ce){var fe=Ve.subscr,oe=!!fe,ve=gh(Ve,O)&&yh(re,ce)?ce.obsSet={}:fe;if(oe){var we=function(Be){return Be="idb://".concat(b,"/").concat(T,"/").concat(Be),ve[Be]||(ve[Be]=new Nn)},Se=we(""),ke=we(":dels"),fe=he[re](ce),oe=fe[0],fe=fe[1];if((re==="query"&&oe.isPrimaryKey&&!ce.values?ke:we(oe.name||"")).add(fe),!oe.isPrimaryKey){if(re!=="count"){var Ie=re==="query"&&ee&&ce.values&&O.query(r(r({},ce),{values:!1}));return O[re].apply(this,arguments).then(function(Be){if(re==="query"){if(ee&&ce.values)return Ie.then(function(yt){return yt=yt.result,Se.addKeys(yt),Be});var Qe=ce.values?Be.result.map(K):Be.result;(ce.values?Se:ke).addKeys(Qe)}else if(re==="openCursor"){var ze=Be,Ge=ce.values;return ze&&Object.create(ze,{key:{get:function(){return ke.addKey(ze.primaryKey),ze.key}},primaryKey:{get:function(){var yt=ze.primaryKey;return ke.addKey(yt),yt}},value:{get:function(){return Ge&&Se.addKey(ze.primaryKey),ze.value}}})}return Be})}ke.add(k)}}return O[re].apply(this,arguments)}}),de}})}};function vh(y,b,k){if(k.numFailures===0)return b;if(b.type==="deleteRange")return null;var T=b.keys?b.keys.length:"values"in b&&b.values?b.values.length:1;return k.numFailures===T?null:(b=r({},b),a(b.keys)&&(b.keys=b.keys.filter(function(O,I){return!(I in k.failures)})),"values"in b&&a(b.values)&&(b.values=b.values.filter(function(O,I){return!(I in k.failures)})),b)}function xa(y,b){return k=y,((T=b).lower===void 0||(T.lowerOpen?0<ft(k,T.lower):0<=ft(k,T.lower)))&&(y=y,(b=b).upper===void 0||(b.upperOpen?ft(y,b.upper)<0:ft(y,b.upper)<=0));var k,T}function So(y,b,he,T,O,I){if(!he||he.length===0)return y;var U=b.query.index,K=U.multiEntry,ee=b.query.range,ie=T.schema.primaryKey.extractKey,de=U.extractKey,Y=(U.lowLevelIndex||U).extractKey,he=he.reduce(function(re,ce){var fe=re,oe=[];if(ce.type==="add"||ce.type==="put")for(var ve=new Nn,we=ce.values.length-1;0<=we;--we){var Se,ke=ce.values[we],Ie=ie(ke);ve.hasKey(Ie)||(Se=de(ke),(K&&a(Se)?Se.some(function(ze){return xa(ze,ee)}):xa(Se,ee))&&(ve.addKey(Ie),oe.push(ke)))}switch(ce.type){case"add":var Ue=new Nn().addKeys(b.values?re.map(function(Ge){return ie(Ge)}):re),fe=re.concat(b.values?oe.filter(function(Ge){return Ge=ie(Ge),!Ue.hasKey(Ge)&&(Ue.addKey(Ge),!0)}):oe.map(function(Ge){return ie(Ge)}).filter(function(Ge){return!Ue.hasKey(Ge)&&(Ue.addKey(Ge),!0)}));break;case"put":var Re=new Nn().addKeys(ce.values.map(function(Ge){return ie(Ge)}));fe=re.filter(function(Ge){return!Re.hasKey(b.values?ie(Ge):Ge)}).concat(b.values?oe:oe.map(function(Ge){return ie(Ge)}));break;case"delete":var Be=new Nn().addKeys(ce.keys);fe=re.filter(function(Ge){return!Be.hasKey(b.values?ie(Ge):Ge)});break;case"deleteRange":var Qe=ce.range;fe=re.filter(function(Ge){return!xa(ie(Ge),Qe)})}return fe},y);return he===y?y:(he.sort(function(re,ce){return ft(Y(re),Y(ce))||ft(ie(re),ie(ce))}),b.limit&&b.limit<1/0&&(he.length>b.limit?he.length=b.limit:y.length===b.limit&&he.length<b.limit&&(O.dirty=!0)),I?Object.freeze(he):he)}function xh(y,b){return ft(y.lower,b.lower)===0&&ft(y.upper,b.upper)===0&&!!y.lowerOpen==!!b.lowerOpen&&!!y.upperOpen==!!b.upperOpen}function bh(y,b){return function(k,T,O,I){if(k===void 0)return T!==void 0?-1:0;if(T===void 0)return 1;if((T=ft(k,T))===0){if(O&&I)return 0;if(O)return 1;if(I)return-1}return T}(y.lower,b.lower,y.lowerOpen,b.lowerOpen)<=0&&0<=function(k,T,O,I){if(k===void 0)return T!==void 0?1:0;if(T===void 0)return-1;if((T=ft(k,T))===0){if(O&&I)return 0;if(O)return-1;if(I)return 1}return T}(y.upper,b.upper,y.upperOpen,b.upperOpen)}function wh(y,b,k,T){y.subscribers.add(k),T.addEventListener("abort",function(){var O,I;y.subscribers.delete(k),y.subscribers.size===0&&(O=y,I=b,setTimeout(function(){O.subscribers.size===0&&ne(I,O)},3e3))})}var _h={stack:"dbcore",level:0,name:"Cache",create:function(y){var b=y.schema.name;return r(r({},y),{transaction:function(k,T,O){var I,U,K=y.transaction(k,T,O);return T==="readwrite"&&(U=(I=new AbortController).signal,O=function(ee){return function(){if(I.abort(),T==="readwrite"){for(var ie=new Set,de=0,Y=k;de<Y.length;de++){var he=Y[de],re=Is["idb://".concat(b,"/").concat(he)];if(re){var ce=y.table(he),fe=re.optimisticOps.filter(function(Ge){return Ge.trans===K});if(K._explicit&&ee&&K.mutatedParts)for(var oe=0,ve=Object.values(re.queries.query);oe<ve.length;oe++)for(var we=0,Se=(Ue=ve[oe]).slice();we<Se.length;we++)ac((Re=Se[we]).obsSet,K.mutatedParts)&&(ne(Ue,Re),Re.subscribers.forEach(function(Ge){return ie.add(Ge)}));else if(0<fe.length){re.optimisticOps=re.optimisticOps.filter(function(Ge){return Ge.trans!==K});for(var ke=0,Ie=Object.values(re.queries.query);ke<Ie.length;ke++)for(var Ue,Re,Be,Qe=0,ze=(Ue=Ie[ke]).slice();Qe<ze.length;Qe++)(Re=ze[Qe]).res!=null&&K.mutatedParts&&(ee&&!Re.dirty?(Be=Object.isFrozen(Re.res),Be=So(Re.res,Re.req,fe,ce,Re,Be),Re.dirty?(ne(Ue,Re),Re.subscribers.forEach(function(Ge){return ie.add(Ge)})):Be!==Re.res&&(Re.res=Be,Re.promise=We.resolve({result:Be}))):(Re.dirty&&ne(Ue,Re),Re.subscribers.forEach(function(Ge){return ie.add(Ge)})))}}}ie.forEach(function(Ge){return Ge()})}}},K.addEventListener("abort",O(!1),{signal:U}),K.addEventListener("error",O(!1),{signal:U}),K.addEventListener("complete",O(!0),{signal:U})),K},table:function(k){var T=y.table(k),O=T.schema.primaryKey;return r(r({},T),{mutate:function(I){var U=Ve.trans;if(O.outbound||U.db._options.cache==="disabled"||U.explicit||U.idbtrans.mode!=="readwrite")return T.mutate(I);var K=Is["idb://".concat(b,"/").concat(k)];return K?(U=T.mutate(I),I.type!=="add"&&I.type!=="put"||!(50<=I.values.length||Rl(O,I).some(function(ee){return ee==null}))?(K.optimisticOps.push(I),I.mutatedParts&&Dl(I.mutatedParts),U.then(function(ee){0<ee.numFailures&&(ne(K.optimisticOps,I),(ee=vh(0,I,ee))&&K.optimisticOps.push(ee),I.mutatedParts&&Dl(I.mutatedParts))}),U.catch(function(){ne(K.optimisticOps,I),I.mutatedParts&&Dl(I.mutatedParts)})):U.then(function(ee){var ie=vh(0,r(r({},I),{values:I.values.map(function(de,Y){var he;return ee.failures[Y]?de:(de=(he=O.keyPath)!==null&&he!==void 0&&he.includes(".")?ue(de):r({},de),M(de,O.keyPath,ee.results[Y]),de)})}),ee);K.optimisticOps.push(ie),queueMicrotask(function(){return I.mutatedParts&&Dl(I.mutatedParts)})}),U):T.mutate(I)},query:function(I){if(!gh(Ve,T)||!yh("query",I))return T.query(I);var U=((ie=Ve.trans)===null||ie===void 0?void 0:ie.db._options.cache)==="immutable",Y=Ve,K=Y.requery,ee=Y.signal,ie=function(ce,fe,oe,ve){var we=Is["idb://".concat(ce,"/").concat(fe)];if(!we)return[];if(!(fe=we.queries[oe]))return[null,!1,we,null];var Se=fe[(ve.query?ve.query.index.name:null)||""];if(!Se)return[null,!1,we,null];switch(oe){case"query":var ke=Se.find(function(Ie){return Ie.req.limit===ve.limit&&Ie.req.values===ve.values&&xh(Ie.req.query.range,ve.query.range)});return ke?[ke,!0,we,Se]:[Se.find(function(Ie){return("limit"in Ie.req?Ie.req.limit:1/0)>=ve.limit&&(!ve.values||Ie.req.values)&&bh(Ie.req.query.range,ve.query.range)}),!1,we,Se];case"count":return ke=Se.find(function(Ie){return xh(Ie.req.query.range,ve.query.range)}),[ke,!!ke,we,Se]}}(b,k,"query",I),de=ie[0],Y=ie[1],he=ie[2],re=ie[3];return de&&Y?de.obsSet=I.obsSet:(Y=T.query(I).then(function(ce){var fe=ce.result;if(de&&(de.res=fe),U){for(var oe=0,ve=fe.length;oe<ve;++oe)Object.freeze(fe[oe]);Object.freeze(fe)}else ce.result=ue(fe);return ce}).catch(function(ce){return re&&de&&ne(re,de),Promise.reject(ce)}),de={obsSet:I.obsSet,promise:Y,subscribers:new Set,type:"query",req:I,dirty:!1},re?re.push(de):(re=[de],(he=he||(Is["idb://".concat(b,"/").concat(k)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[I.query.index.name||""]=re)),wh(de,re,K,ee),de.promise.then(function(ce){return{result:So(ce.result,I,he?.optimisticOps,T,de,U)}})}})}})}};function ba(y,b){return new Proxy(y,{get:function(k,T,O){return T==="db"?b:Reflect.get(k,T,O)}})}var xi=(Zt.prototype.version=function(y){if(isNaN(y)||y<.1)throw new Pe.Type("Given version is not a positive number");if(y=Math.round(10*y)/10,this.idbdb||this._state.isBeingOpened)throw new Pe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,y);var b=this._versions,k=b.filter(function(T){return T._cfg.version===y})[0];return k||(k=new this.Version(y),b.push(k),b.sort(dh),k.stores({}),this._state.autoSchema=!1,k)},Zt.prototype._whenReady=function(y){var b=this;return this.idbdb&&(this._state.openComplete||Ve.letThrough||this._vip)?y():new We(function(k,T){if(b._state.openComplete)return T(new Pe.DatabaseClosed(b._state.dbOpenError));if(!b._state.isBeingOpened){if(!b._state.autoOpen)return void T(new Pe.DatabaseClosed);b.open().catch(Tt)}b._state.dbReadyPromise.then(k,T)}).then(y)},Zt.prototype.use=function(y){var b=y.stack,k=y.create,T=y.level,O=y.name;return O&&this.unuse({stack:b,name:O}),y=this._middlewares[b]||(this._middlewares[b]=[]),y.push({stack:b,create:k,level:T??10,name:O}),y.sort(function(I,U){return I.level-U.level}),this},Zt.prototype.unuse=function(y){var b=y.stack,k=y.name,T=y.create;return b&&this._middlewares[b]&&(this._middlewares[b]=this._middlewares[b].filter(function(O){return T?O.create!==T:!!k&&O.name!==k})),this},Zt.prototype.open=function(){var y=this;return Kn(qn,function(){return Im(y)})},Zt.prototype._close=function(){var y=this._state,b=Cr.indexOf(this);if(0<=b&&Cr.splice(b,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}y.isBeingOpened||(y.dbReadyPromise=new We(function(k){y.dbReadyResolve=k}),y.openCanceller=new We(function(k,T){y.cancelOpen=T}))},Zt.prototype.close=function(k){var b=(k===void 0?{disableAutoOpen:!0}:k).disableAutoOpen,k=this._state;b?(k.isBeingOpened&&k.cancelOpen(new Pe.DatabaseClosed),this._close(),k.autoOpen=!1,k.dbOpenError=new Pe.DatabaseClosed):(this._close(),k.autoOpen=this._options.autoOpen||k.isBeingOpened,k.openComplete=!1,k.dbOpenError=null)},Zt.prototype.delete=function(y){var b=this;y===void 0&&(y={disableAutoOpen:!0});var k=0<arguments.length&&typeof arguments[0]!="object",T=this._state;return new We(function(O,I){function U(){b.close(y);var K=b._deps.indexedDB.deleteDatabase(b.name);K.onsuccess=Te(function(){var ee,ie,de;ee=b._deps,ie=b.name,de=ee.indexedDB,ee=ee.IDBKeyRange,ma(de)||ie===yi||oc(de,ee).delete(ie).catch(Tt),O()}),K.onerror=lr(I),K.onblocked=b._fireOnBlocked}if(k)throw new Pe.InvalidArgument("Invalid closeOptions argument to db.delete()");T.isBeingOpened?T.dbReadyPromise.then(U):U()})},Zt.prototype.backendDB=function(){return this.idbdb},Zt.prototype.isOpen=function(){return this.idbdb!==null},Zt.prototype.hasBeenClosed=function(){var y=this._state.dbOpenError;return y&&y.name==="DatabaseClosed"},Zt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Zt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Zt.prototype,"tables",{get:function(){var y=this;return o(this._allTables).map(function(b){return y._allTables[b]})},enumerable:!1,configurable:!0}),Zt.prototype.transaction=function(){var y=(function(b,k,T){var O=arguments.length;if(O<2)throw new Pe.InvalidArgument("Too few arguments");for(var I=new Array(O-1);--O;)I[O-1]=arguments[O];return T=I.pop(),[b,F(I),T]}).apply(this,arguments);return this._transaction.apply(this,y)},Zt.prototype._transaction=function(y,b,k){var T=this,O=Ve.trans;O&&O.db===this&&y.indexOf("!")===-1||(O=null);var I,U,K=y.indexOf("?")!==-1;y=y.replace("!","").replace("?","");try{if(U=b.map(function(ie){if(ie=ie instanceof T.Table?ie.name:ie,typeof ie!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return ie}),y=="r"||y===At)I=At;else{if(y!="rw"&&y!=Sn)throw new Pe.InvalidArgument("Invalid transaction mode: "+y);I=Sn}if(O){if(O.mode===At&&I===Sn){if(!K)throw new Pe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");O=null}O&&U.forEach(function(ie){if(O&&O.storeNames.indexOf(ie)===-1){if(!K)throw new Pe.SubTransaction("Table "+ie+" not included in parent transaction.");O=null}}),K&&O&&!O.active&&(O=null)}}catch(ie){return O?O._promise(null,function(de,Y){Y(ie)}):$t(ie)}var ee=(function ie(de,Y,he,re,ce){return We.resolve().then(function(){var fe=Ve.transless||Ve,oe=de._createTransaction(Y,he,de._dbSchema,re);if(oe.explicit=!0,fe={trans:oe,transless:fe},re)oe.idbtrans=re.idbtrans;else try{oe.create(),oe.idbtrans._explicit=!0,de._state.PR1398_maxLoop=3}catch(Se){return Se.name===Ye.InvalidState&&de.isOpen()&&0<--de._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),de.close({disableAutoOpen:!1}),de.open().then(function(){return ie(de,Y,he,null,ce)})):$t(Se)}var ve,we=G(ce);return we&&_t(),fe=We.follow(function(){var Se;(ve=ce.call(oe,oe))&&(we?(Se=Pt.bind(null,null),ve.then(Se,Se)):typeof ve.next=="function"&&typeof ve.throw=="function"&&(ve=va(ve)))},fe),(ve&&typeof ve.then=="function"?We.resolve(ve).then(function(Se){return oe.active?Se:$t(new Pe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):fe.then(function(){return ve})).then(function(Se){return re&&oe._resolve(),oe._completion.then(function(){return Se})}).catch(function(Se){return oe._reject(Se),$t(Se)})})}).bind(null,this,I,U,O,k);return O?O._promise(I,ee,"lock"):Ve.trans?Kn(Ve.transless,function(){return T._whenReady(ee)}):this._whenReady(ee)},Zt.prototype.table=function(y){if(!p(this._allTables,y))throw new Pe.InvalidTable("Table ".concat(y," does not exist"));return this._allTables[y]},Zt);function Zt(y,b){var k=this;this._middlewares={},this.verno=0;var T=Zt.dependencies;this._options=b=r({addons:Zt.addons,autoOpen:!0,indexedDB:T.indexedDB,IDBKeyRange:T.IDBKeyRange,cache:"cloned"},b),this._deps={indexedDB:b.indexedDB,IDBKeyRange:b.IDBKeyRange},T=b.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var O,I,U,K,ee,ie={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Tt,dbReadyPromise:null,cancelOpen:Tt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:b.autoOpen};ie.dbReadyPromise=new We(function(Y){ie.dbReadyResolve=Y}),ie.openCanceller=new We(function(Y,he){ie.cancelOpen=he}),this._state=ie,this.name=y,this.on=as(this,"populate","blocked","versionchange","close",{ready:[Ar,Tt]}),this.on.ready.subscribe=A(this.on.ready.subscribe,function(Y){return function(he,re){Zt.vip(function(){var ce,fe=k._state;fe.openComplete?(fe.dbOpenError||We.resolve().then(he),re&&Y(he)):fe.onReadyBeingFired?(fe.onReadyBeingFired.push(he),re&&Y(he)):(Y(he),ce=k,re||Y(function oe(){ce.on.ready.unsubscribe(he),ce.on.ready.unsubscribe(oe)}))})}}),this.Collection=(O=this,Mi(Yt.prototype,function(ve,oe){this.db=O;var re=ei,ce=null;if(oe)try{re=oe()}catch(we){ce=we}var fe=ve._ctx,oe=fe.table,ve=oe.hook.reading.fire;this._ctx={table:oe,index:fe.index,isPrimKey:!fe.index||oe.schema.primKey.keyPath&&fe.index===oe.schema.primKey.name,range:re,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:ce,or:fe.or,valueMapper:ve!==fn?ve:null}})),this.Table=(I=this,Mi(uh.prototype,function(Y,he,re){this.db=I,this._tx=re,this.name=Y,this.schema=he,this.hook=I._allTables[Y]?I._allTables[Y].hook:as(null,{creating:[js,Tt],reading:[un,fn],updating:[fo,Tt],deleting:[Ai,Tt]})})),this.Transaction=(U=this,Mi(ua.prototype,function(Y,he,re,ce,fe){var oe=this;this.db=U,this.mode=Y,this.storeNames=he,this.schema=re,this.chromeTransactionDurability=ce,this.idbtrans=null,this.on=as(this,"complete","error","abort"),this.parent=fe||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new We(function(ve,we){oe._resolve=ve,oe._reject=we}),this._completion.then(function(){oe.active=!1,oe.on.complete.fire()},function(ve){var we=oe.active;return oe.active=!1,oe.on.error.fire(ve),oe.parent?oe.parent._reject(ve):we&&oe.idbtrans&&oe.idbtrans.abort(),$t(ve)})})),this.Version=(K=this,Mi(sc.prototype,function(Y){this.db=K,this._cfg={version:Y,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(ee=this,Mi(zi.prototype,function(Y,he,re){if(this.db=ee,this._ctx={table:Y,index:he===":id"?null:he,or:re},this._cmp=this._ascending=ft,this._descending=function(ce,fe){return ft(fe,ce)},this._max=function(ce,fe){return 0<ft(ce,fe)?ce:fe},this._min=function(ce,fe){return ft(ce,fe)<0?ce:fe},this._IDBKeyRange=ee._deps.IDBKeyRange,!this._IDBKeyRange)throw new Pe.MissingAPI})),this.on("versionchange",function(Y){0<Y.newVersion?console.warn("Another connection wants to upgrade database '".concat(k.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(k.name,"'. Closing db now to resume the delete request.")),k.close({disableAutoOpen:!1})}),this.on("blocked",function(Y){!Y.newVersion||Y.newVersion<Y.oldVersion?console.warn("Dexie.delete('".concat(k.name,"') was blocked")):console.warn("Upgrade '".concat(k.name,"' blocked by other connection holding version ").concat(Y.oldVersion/10))}),this._maxKey=da(b.IDBKeyRange),this._createTransaction=function(Y,he,re,ce){return new k.Transaction(Y,he,re,k._options.chromeTransactionDurability,ce)},this._fireOnBlocked=function(Y){k.on("blocked").fire(Y),Cr.filter(function(he){return he.name===k.name&&he!==k&&!he._state.vcFired}).map(function(he){return he.on("versionchange").fire(Y)})},this.use(Fm),this.use(_h),this.use(Bm),this.use(Rm),this.use(Mm);var de=new Proxy(this,{get:function(Y,he,re){if(he==="_vip")return!0;if(he==="table")return function(fe){return ba(k.table(fe),de)};var ce=Reflect.get(Y,he,re);return ce instanceof uh?ba(ce,de):he==="tables"?ce.map(function(fe){return ba(fe,de)}):he==="_createTransaction"?function(){return ba(ce.apply(this,arguments),de)}:ce}});this.vip=de,T.forEach(function(Y){return Y(k)})}var Ml,Rr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",zm=(Fl.prototype.subscribe=function(y,b,k){return this._subscribe(y&&typeof y!="function"?y:{next:y,error:b,complete:k})},Fl.prototype[Rr]=function(){return this},Fl);function Fl(y){this._subscribe=y}try{Ml={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{Ml={indexedDB:null,IDBKeyRange:null}}function dc(y){var b,k=!1,T=new zm(function(O){var I=G(y),U,K=!1,ee={},ie={},de={get closed(){return K},unsubscribe:function(){K||(K=!0,U&&U.abort(),Y&&Ui.storagemutated.unsubscribe(re))}};O.start&&O.start(de);var Y=!1,he=function(){return Sr(ce)},re=function(fe){Ll(ee,fe),ac(ie,ee)&&he()},ce=function(){var fe,oe,ve;!K&&Ml.indexedDB&&(ee={},fe={},U&&U.abort(),U=new AbortController,ve=function(we){var Se=X();try{I&&_t();var ke=et(y,we);return ke=I?ke.finally(Pt):ke}finally{Se&&pe()}}(oe={subscr:fe,signal:U.signal,requery:he,querier:y,trans:null}),Promise.resolve(ve).then(function(we){k=!0,b=we,K||oe.signal.aborted||(ee={},function(Se){for(var ke in Se)if(p(Se,ke))return;return 1}(ie=fe)||Y||(Ui(Ir,re),Y=!0),Sr(function(){return!K&&O.next&&O.next(we)}))},function(we){k=!1,["DatabaseClosedError","AbortError"].includes(we?.name)||K||Sr(function(){K||O.error&&O.error(we)})}))};return setTimeout(he,0),de});return T.hasValue=function(){return k},T.getValue=function(){return b},T}var ni=xi;function Rs(y){var b=ri;try{ri=!0,Ui.storagemutated.fire(y),uc(y,!0)}finally{ri=b}}g(ni,r(r({},ln),{delete:function(y){return new ni(y,{addons:[]}).delete()},exists:function(y){return new ni(y,{addons:[]}).open().then(function(b){return b.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(y){try{return b=ni.dependencies,k=b.indexedDB,b=b.IDBKeyRange,(ma(k)?Promise.resolve(k.databases()).then(function(T){return T.map(function(O){return O.name}).filter(function(O){return O!==yi})}):oc(k,b).toCollection().primaryKeys()).then(y)}catch{return $t(new Pe.MissingAPI)}var b,k},defineClass:function(){return function(y){u(this,y)}},ignoreTransaction:function(y){return Ve.trans?Kn(Ve.transless,y):y()},vip:ga,async:function(y){return function(){try{var b=va(y.apply(this,arguments));return b&&typeof b.then=="function"?b:We.resolve(b)}catch(k){return $t(k)}}},spawn:function(y,b,k){try{var T=va(y.apply(k,b||[]));return T&&typeof T.then=="function"?T:We.resolve(T)}catch(O){return $t(O)}},currentTransaction:{get:function(){return Ve.trans||null}},waitFor:function(y,b){return b=We.resolve(typeof y=="function"?ni.ignoreTransaction(y):y).timeout(b||6e4),Ve.trans?Ve.trans.waitFor(b):b},Promise:We,debug:{get:function(){return En},set:function(y){sr(y)}},derive:S,extend:u,props:g,override:A,Events:as,on:Ui,liveQuery:dc,extendObservabilitySet:Ll,getByKeyPath:P,setByKeyPath:M,delByKeyPath:function(y,b){typeof b=="string"?M(y,b,void 0):"length"in b&&[].map.call(b,function(k){M(y,k,void 0)})},shallowClone:H,deepClone:ue,getObjectDiff:cc,cmp:ft,asap:$,minKey:-1/0,addons:[],connections:Cr,errnames:Ye,dependencies:Ml,cache:Is,semVer:"4.0.11",version:"4.0.11".split(".").map(function(y){return parseInt(y)}).reduce(function(y,b,k){return y+b/Math.pow(10,2*k)})})),ni.maxKey=da(ni.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Ui(Ir,function(y){ri||(y=new CustomEvent(rc,{detail:y}),ri=!0,dispatchEvent(y),ri=!1)}),addEventListener(rc,function(y){y=y.detail,ri||Rs(y)}));var Co,ri=!1,Sh=function(){};return typeof BroadcastChannel<"u"&&((Sh=function(){(Co=new BroadcastChannel(rc)).onmessage=function(y){return y.data&&Rs(y.data)}})(),typeof Co.unref=="function"&&Co.unref(),Ui(Ir,function(y){ri||Co.postMessage(y)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(y){if(!xi.disableBfCache&&y.persisted){En&&console.debug("Dexie: handling persisted pagehide"),Co?.close();for(var b=0,k=Cr;b<k.length;b++)k[b].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(y){!xi.disableBfCache&&y.persisted&&(En&&console.debug("Dexie: handling persisted pageshow"),Sh(),Rs({all:new Nn(-1/0,[[]])}))})),We.rejectionMapper=function(y,b){return!y||y instanceof z||y instanceof TypeError||y instanceof SyntaxError||!y.name||!ht[y.name]?y:(b=new ht[y.name](b||y.message,y),"stack"in y&&w(b,"stack",{get:function(){return this.inner.stack}}),b)},sr(En),r(xi,Object.freeze({__proto__:null,Dexie:xi,liveQuery:dc,Entity:Ts,cmp:ft,PropModification:la,replacePrefix:function(y,b){return new la({replacePrefix:[y,b]})},add:function(y){return new la({add:y})},remove:function(y){return new la({remove:y})},default:xi,RangeSet:Nn,mergeRanges:ya,rangesOverlap:hh}),{default:xi}),xi})}(fp)),fp.exports}var MD=RD();const Y1=fi(MD),H3=Symbol.for("Dexie"),Fp=globalThis[H3]||(globalThis[H3]=Y1);if(Y1.semVer!==Fp.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Y1.semVer} and ${Fp.semVer}`);const{liveQuery:FD,mergeRanges:CK,rangesOverlap:kK,RangeSet:jK,cmp:EK,Entity:TK,PropModification:NK,replacePrefix:PK,add:OK,remove:LK}=Fp;class BD extends Fp{interested_snapshot;interested_subject;simulation_run;simulation_run_selections;simulation_run_events;constructor(){super("ALLCLL_Simulation"),this.version(1).stores({interested_snapshot:"++snapshot_id,user_id,created_at,simulated",interested_subject:"++interested_id,snapshot_id,subject_id",simulation_run:"++simulation_run_id,snapshot_id,user_id,department_name,success_subject_count,subject_count,accuracy,score,total_elapsed,started_at,ended_at",simulation_run_selections:"++run_selections_id,simulation_run_id,interested_id,selected_index,status,started_at,ended_at",simulation_run_events:"++event_id,simulation_section_id,event_type,timestamp"})}}const He=new BD;async function s7(){const e=await He.interested_snapshot.orderBy("created_at").last();if(!e)return null;const t=await He.interested_subject.where("snapshot_id").equals(e.snapshot_id).toArray();return{...e,subjects:t}}async function o7(e){const t=await He.interested_snapshot.get(e);if(!t)return null;const n=await He.interested_subject.where("snapshot_id").equals(e).toArray();return{...t,subjects:n}}async function zD(e){const t=await He.interested_snapshot.orderBy("created_at").last(),n=t&&!t.simulated?t.snapshot_id:await He.interested_snapshot.add({user_id:"Todo: user_id",created_at:Date.now(),simulated:!1});t&&!t.simulated&&(await He.interested_snapshot.update(t.snapshot_id,{created_at:Date.now()}),await He.interested_subject.where("snapshot_id").equals(t.snapshot_id).delete()),await He.interested_subject.bulkAdd(e.map(r=>({snapshot_id:n,subject_id:r})))}async function Q3(e,t){const n=await He.interested_subject.where("snapshot_id").equals(e).filter(r=>r.subject_id===t).first();return n?n.interested_id:-1}async function $D(){const e=await Ld();if("errMsg"in e)throw new Error(e.errMsg);return e}const UD=["현대인의정신건강과자기발견","행복한가정만들기","창업과기업가정신1","취창업과진로설계","동서양의사상과윤리","세계사","생명과학의이해","현대과학으로의초대","우리차문화의이해","중급미술심리치료","과학사","성과문화","교양스키","교양배드민턴","생활일본어","영어듣기연습","영어읽기연습","English Listening","English Reading"],HD=(e,t,n)=>{const r=e.find(s=>s.subjectId===t);let i=40;return r?.departmentName==="대양휴머니티칼리지"&&(UD.includes(r.subjectName)?i=4.6*3:i=4.6*4),console.log(n,i),n<i},mm=nr((e,t)=>({currentSubjectId:0,isCaptchaFailed:!1,subjectStatusMap:{},setCurrentSubjectId:n=>e({currentSubjectId:n}),setSubjectStatus:(n,r)=>e(i=>({subjectStatusMap:{...i.subjectStatusMap,[n]:r}})),getSubjectStatus:n=>t().subjectStatusMap[n],getIsCaptchaFailed:()=>t().isCaptchaFailed,setCaptchaFailed:n=>e({isCaptchaFailed:n})}));var Mn=(e=>(e[e.SEARCH=0]="SEARCH",e[e.APPLY=1]="APPLY",e[e.CAPTCHA=2]="CAPTCHA",e[e.CANCEL_SUBMIT=3]="CANCEL_SUBMIT",e[e.SUBJECT_SUBMIT=4]="SUBJECT_SUBMIT",e[e.REFRESH=5]="REFRESH",e[e.SKIP_REFRESH=6]="SKIP_REFRESH",e))(Mn||{}),Wt=(e=>(e[e.PROGRESS=0]="PROGRESS",e[e.SUCCESS=1]="SUCCESS",e[e.FAILED=2]="FAILED",e[e.DOUBLED=3]="DOUBLED",e[e.CAPTCHA_FAILED=4]="CAPTCHA_FAILED",e[e.NOT_ELIGIBLE=5]="NOT_ELIGIBLE",e[e.CANCELED=6]="CANCELED",e))(Wt||{}),a7=(e=>(e.SNAPSHOT_NOT_EXIST="SNAPSHOT_NOT_EXIST",e.ONGOING_SIMULATION_NOT_FOUND="ONGOING_SIMULATION_NOT_FOUND",e.SELECTION_NOT_FOUND="SELECTION_NOT_FOUND",e.SIMULATION_NOT_FOUND="SIMULATION_NOT_FOUND",e.MULTIPLE_SIMULATION_FOUND="MULTIPLE_SIMULATION_FOUND",e.SIMULATION_IS_NOT_FINISHED="SIMULATION_IS_NOT_FINISHED",e.MULTIPLE_SIMULATION_RUNNING="MULTIPLE_SIMULATION_RUNNING",e.UNKNOWN_ERROR="UNKNOWN_ERROR",e))(a7||{});const Ev=300,QD=Ev*1e3;function ea(e){return{errMsg:e}}function l7(e){return e instanceof Error?ea(e.message):ea("UNKNOWN_ERROR")}async function Ld(){try{const e=await gm();if(!e)return{simulationId:-1};const t=await He.simulation_run_selections.filter(o=>ym(o,e.simulation_run_id)).toArray(),n=await He.interested_subject.where("snapshot_id").equals(e.snapshot_id).toArray();if(!n)return ea("SNAPSHOT_NOT_EXIST");const r=n.filter(o=>t.some(a=>a.interested_id===o.interested_id)).map(o=>({subjectId:o.subject_id})),i=n.filter(o=>!t.some(a=>a.interested_id===o.interested_id)).map(o=>({subjectId:o.subject_id})),s=t.map(o=>{const a=n.find(u=>u.interested_id===o.interested_id);return a?{subjectId:a.subject_id,status:o.status}:{subjectId:-1,status:2}});return{simulationId:e.simulation_run_id,userStatus:{userPK:e.user_id,departmentCode:e.department_code,departmentName:e.department_name},searchEventAt:e.search_event_at,startedAt:e.started_at,nonRegisteredSubjects:i,registeredSubjects:r,subjectStatus:s}}catch(e){return l7(e)}}async function gm(){const e=await He.simulation_run.filter(t=>t.ended_at===-1).toArray();if(e&&e.length>1)throw new Error("MULTIPLE_SIMULATION_RUNNING");return e[0]??null}async function VD(e){const t=await He.simulation_run.where("simulation_run_id").equals(e).filter(n=>n.ended_at!==-1).toArray();if(!t.length)throw new Error("SIMULATION_NOT_FOUND");if(t.length>1)throw new Error("MULTIPLE_SIMULATION_FOUND");return t[0]}async function WD(e,t,n){const r=await Ld();if(r&&"errMsg"in r)return r;if(r.simulationId!==-1)return{simulationId:r.simulationId,isRunning:!0};const i=await s7();if(!i)return ea("SNAPSHOT_NOT_EXIST");await He.interested_snapshot.update(i.snapshot_id,{simulated:!0});const s=i.subjects;return{simulationId:await He.simulation_run.add({snapshot_id:i.snapshot_id,user_id:e,department_code:t,department_name:n,success_subject_count:0,subject_count:s.length,accuracy:-1,score:-1,total_elapsed:-1,search_event_at:-1,started_at:Date.now(),ended_at:-1}),started_at:Date.now(),isRunning:!0}}async function eo(e,t){const{eventType:n}=e;console.log("BUTTON EVENT",e);let r;try{if(r=await gm(),!r)throw new Error("ONGOING_SIMULATION_NOT_FOUND")}catch(c){return l7(c)}const i=r.simulation_run_id;if(n===0){const c=Date.now();return await He.simulation_run.update(i,{search_event_at:c}),{elapsed_time:c-r.started_at}}const{subjectId:s}=e;if(n===1){const c=await He.simulation_run_selections.filter(p=>p.simulation_run_id===r.simulation_run_id&&p.ended_at>=0).count(),h=await He.simulation_run_selections.add({simulation_run_id:r.simulation_run_id,interested_id:await Q3(r.snapshot_id,s),selected_index:c+1,status:0,started_at:Date.now(),ended_at:-1});return await He.simulation_run_events.add({simulation_section_id:h,event_type:n,timestamp:Date.now()}),{}}const o=await He.simulation_run_selections.filter(c=>c.simulation_run_id===i).toArray(),a=o.filter(c=>c.ended_at===-1).sort((c,h)=>h.started_at-c.started_at)[0];if(!a)return ea("SELECTION_NOT_FOUND");const u=Date.now();if(await He.simulation_run_events.add({simulation_section_id:a.run_selections_id,event_type:n,timestamp:u}),n===4){const c=await Q3(r.snapshot_id,s);if(!await He.simulation_run_selections.filter(C=>C.simulation_run_id===i&&C.interested_id===c).last())return ea("SELECTION_NOT_FOUND");const p=async C=>(await He.simulation_run_selections.update(a.run_selections_id,{status:C}),console.log("saved section",a.run_selections_id,C),{status:C});if(mm.getState().isCaptchaFailed)return await p(4);if(o.some(C=>C.interested_id===c&&C.ended_at>=0&&ym(C,i)))return await p(3);const w=Math.floor(u-r.started_at)/1e3;return HD(t,s,w)?await p(1):await p(2)}if(n===3&&await He.simulation_run_selections.update(a.run_selections_id,{status:6,ended_at:Date.now()}),n===5||n===6){await He.simulation_run_selections.update(a.run_selections_id,{ended_at:Date.now()});const c=await KD();return c&&await u7(),{finished:c}}return{}}async function rl(){await u7()}async function u7(){const e=await He.simulation_run.filter(u=>u.ended_at<=-1).last();if(!e)return;const t=await He.simulation_run_selections.filter(u=>u.simulation_run_id===e.simulation_run_id).toArray(),n=t.filter(u=>ym(u,e.simulation_run_id)).length,i=t.filter(u=>YD(u,e.simulation_run_id)).reduce((u,c)=>c.ended_at===-1?u+4600:u+(c.ended_at-c.started_at),0),s=Date.now()-e.started_at,o=hD(s/1e3,i/1e3),a=fm(s/1e3/n)+dD(o);await He.simulation_run.update(e.simulation_run_id,{ended_at:Date.now(),accuracy:o,score:Math.min(100,Math.max(0,a)),total_elapsed:s}),await GD(e)}async function qD({simulationId:e}){const t=await He.simulation_run.get(e);return t?t.ended_at===-1?ea("SIMULATION_IS_NOT_FINISHED"):{accuracy:t.accuracy,score:t.score,total_elapsed:t.total_elapsed}:ea("SIMULATION_NOT_FOUND")}async function KD(){let e;try{e=await gm()}catch{return!0}if(!e)return!0;const t=await He.simulation_run_selections.filter(n=>ym(n,e.simulation_run_id)).toArray();return e.subject_count<=t.length}async function GD(e){const t=e.simulation_run_id;return e.search_event_at<0?(await He.simulation_run_selections.where("simulation_run_id").equals(t).delete(),await He.simulation_run.delete(t),!0):(e.started_at+QD<Date.now()&&await He.simulation_run.update(t,{ended_at:Date.now()}),!1)}const c7=(e,t)=>e.simulation_run_id===t,ym=(e,t)=>c7(e,t)&&[1,2].includes(e.status),YD=(e,t)=>c7(e,t)&&![1,2].includes(e.status);function gl(e){return e>5?"text-green-500 bg-green-100":e>0?"text-yellow-500 bg-yellow-100":e==0?"text-red-500 bg-red-100":"text-gray-500 bg-gray-100"}function d7(e){return e>=100?"text-red-500 bg-red-100":e>=50?"text-yellow-500 bg-yellow-100":e>=0?"text-green-500 bg-green-100":"text-gray-500 bg-gray-100"}function XD(e){return JD(X1(e))}function X1(e){switch(e){case Wt.SUCCESS:return"green";case Wt.FAILED:return"red";case Wt.CAPTCHA_FAILED:return"orange";case Wt.PROGRESS:return"yellow";default:return"gray"}}function JD(e){switch(e){case"green":return"bg-green-100 text-green-500";case"red":return"bg-red-100 text-red-500";case"orange":return"bg-orange-100 text-orange-500";case"yellow":return"bg-yellow-100 text-yellow-500";default:return"bg-gray-100 text-gray-500"}}function ZD(){return f.jsxs(pl,{children:[f.jsx(tm,{title:"실시간 수강 여석 확인",subtitle:"이제 여석이 나올 때 까지, 편하게 기다리세요",href:"/live"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[f.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[f.jsx("h2",{className:"text-lg font-semibold mb-2",children:"여석 과목 알림"}),f.jsxs("p",{className:"text-gray-500",children:["등록된 알림 과목에 대해서, 여석이 생기면 ",f.jsx("span",{className:"text-blue-500 font-bold",children:"알림"}),"을 드려요"]}),f.jsx("div",{className:"flex flex-col gap-4 mt-4",children:[{name:"컴퓨터그래픽스",prof:"003281 | 최수미"},{name:"운영체제",prof:"004310 | LEE KANGWON"}].map(({name:e,prof:t})=>f.jsxs("div",{className:"bg-gray-50 shadow-sm rounded-lg p-4 w-full",children:[f.jsxs("div",{className:"flex justify-between mb-2",children:[f.jsx("h3",{className:"font-bold",children:e}),f.jsx(Wu,{})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("p",{className:"text-sm text-gray-500",children:t}),f.jsx("p",{className:"text-sm text-red-500 font-bold",children:"여석: 0"})]})]},t))})]}),f.jsxs("div",{className:"bg-white p-6 shadow-md rounded-md",children:[f.jsx("h3",{className:"text-lg font-semibold",children:"여석 수 TOP 10"}),f.jsx("p",{className:"text-gray-500 mb-4",children:"여석이 많은 과목을 놓치지 마세요!"}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full bg-white rounded-lg text-sm",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-gray-50 z-10 text-nowrap",children:[f.jsx("th",{className:"px-4 py-2",children:"학수번호"}),f.jsx("th",{className:"px-4 py-2",children:"과목명"}),f.jsx("th",{className:"px-4 py-2",children:"교수명"}),f.jsx("th",{className:"px-4 py-2",children:"여석"})]})}),f.jsx("tbody",{children:[{id:"004310-004",name:"운영체제",prof:"이수정",seats:22},{id:"003281-001",name:"컴퓨터그래픽스",prof:"최수미",seats:15},{id:"004118-007",name:"디지털시스템",prof:"Rajendra Dhakal",seats:6},{id:"009912-006",name:"C프로그래밍및실습",prof:"김도년",seats:5},{id:"007330-001",name:"확률및통계",prof:"김해광",seats:4}].map(({id:e,name:t,prof:n,seats:r},i)=>f.jsxs("tr",{className:"border-t border-gray-200 text-black",children:[f.jsx("td",{className:"px-4 py-2 text-center",children:e}),f.jsx("td",{className:"px-4 py-2 text-center",children:t}),f.jsx("td",{className:"px-4 py-2 text-center",children:n}),f.jsx("td",{className:"px-4 py-2 text-center font-bold",children:f.jsx("p",{className:`px-3 py-1 rounded-full text-xs font-bold ${gl(r)}`,children:r})})]},"live-non-major-"+i))})]})})]})]})]})}const eI=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,72)"},N.createElement("path",{d:"M18,72Q22.9219,71.9297,27,69.6094Q31.0781,67.2188,33.6094,63Q36,58.710899999999995,36,54Q36,49.2891,33.6094,45Q31.0781,40.78125,27,38.39062Q22.9219,36.0703125,18,36Q13.0781,36.0703125,9,38.39062Q4.92188,40.78125,2.39062,45Q0,49.2891,0,54Q0,58.710899999999995,2.39062,63Q4.92188,67.2188,9,69.6094Q13.0781,71.9297,18,72ZM16.3125,63.5625L16.3125,54L16.3125,63.5625L16.3125,54Q16.3125,53.085899999999995,17.0859,52.5938L23.8359,48.0938Q25.1719,47.3203,26.1562,48.5859Q26.9297,49.9219,25.6641,50.9062L19.6875,54.914100000000005L19.6875,63.5625Q19.5469,65.1094,18,65.25Q16.4531,65.1094,16.3125,63.5625Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),tI=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,72)"},N.createElement("path",{d:"M25.8047,42.96094L7.03125,61.8047L25.8047,42.96094L7.03125,61.8047Q4.57031,58.4297,4.5,54Q4.64062,48.2344,8.4375,44.4375Q12.2344,40.64062,18,40.5Q22.4297,40.57031,25.8047,42.96094ZM29.0391,46.1953Q31.4297,49.5703,31.5,54Q31.3594,59.7656,27.5625,63.5625Q23.7656,67.3594,18,67.5Q13.5703,67.4297,10.1953,64.9688L29.0391,46.1953ZM0,54Q0.0703125,58.9219,2.39062,63Q4.78125,67.0781,9,69.6094Q13.2891,72,18,72Q22.7109,72,27,69.6094Q31.2188,67.0781,33.6094,63Q35.9297,58.9219,36,54Q35.9297,49.0781,33.6094,45Q32.4141,42.96094,30.7617,41.30859Q29.1094,39.65625,27,38.39062Q22.7109,36,18,36Q13.2891,36,9,38.39062Q4.78125,40.92188,2.39062,45Q0.0703125,49.0781,0,54Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),h7=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:33.75,height:36,viewBox:"0 0 33.75 36",...e},N.createElement("defs",null,N.createElement("clipPath",{id:"master_svg0_85_3284"},N.createElement("rect",{x:0,y:0,width:33.75,height:36,rx:0}))),N.createElement("g",{clipPath:"url(#master_svg0_85_3284)"},N.createElement("g",{transform:"matrix(1,0,0,-1,0,69.046875)"},N.createElement("g",null,N.createElement("path",{d:"M6.25781,54.000037500000005Q7.10156,56.3906375,8.92969,58.2187375Q12.375,61.5234375,16.875,61.5234375Q21.375,61.5234375,24.8203,58.2187375L26.0156,57.0234375L23.625,57.0234375Q22.6406,57.0234375,22.0078,56.3906375Q21.375,55.7578375,21.375,54.7734375Q21.375,53.7890375,22.0078,53.1562375Q22.6406,52.5234375,23.625,52.5234375L31.5,52.5234375Q32.4844,52.5234375,33.1172,53.1562375Q33.75,53.7890375,33.75,54.7734375L33.75,62.6484375Q33.75,63.6328375,33.1172,64.2656375Q32.4844,64.8984375,31.5,64.8984375Q30.5156,64.8984375,29.8828,64.2656375Q29.25,63.6328375,29.25,62.6484375L29.25,60.187537500000005L27.9844,61.3828375Q24.8906,64.4765375,20.8828,65.5312375Q16.875,66.5156375,12.8672,65.5312375Q8.85938,64.4765375,5.76562,61.3828375Q3.16406,58.7812375,2.03906,55.546837499999995Q1.75781,54.6328375,2.10938,53.7890375Q2.53125,53.0156375,3.375,52.6640375Q4.28906,52.3828375,5.13281,52.734337499999995Q5.90625,53.1562375,6.25781,54.000037500000005ZM1.61719,47.9531375Q1.05469,47.7422375,0.632812,47.3203375Q0.210938,46.8984375,0.0703125,46.3359375Q0.0703125,46.2656375,0,46.1250375Q0,45.9140375,0,45.7734375L0,37.8984375Q0,36.9140575,0.632812,36.2812475Q1.26562,35.6484375,2.25,35.6484375Q3.23438,35.6484375,3.86719,36.2812475Q4.5,36.9140575,4.5,37.8984375L4.5,40.3593775L5.76562,39.1640575Q8.85938,36.0703175,12.8672,35.0156255Q16.875,34.0312495,20.8828,35.0156255Q24.8906,36.0703175,27.9844,39.1640575Q30.5859,41.7656275,31.7109,45.0000375Q31.9922,45.9140375,31.6406,46.7578375Q31.2188,47.5312375,30.375,47.8828375Q29.4609,48.1640375,28.6172,47.8125375Q27.8438,47.3906375,27.4922,46.5468375Q26.6484,44.2265575,24.8203,42.3281275Q21.375,39.0234375,16.875,39.0234375Q12.375,39.0234375,8.92969,42.3281275L7.73438,43.5234375L10.125,43.5234375Q11.1094,43.5234375,11.7422,44.1562475Q12.375,44.7890375,12.375,45.7734375Q12.375,46.7578375,11.7422,47.3906375Q11.1094,48.0234375,10.125,48.0234375L2.25,48.0234375Q2.10938,48.0234375,1.96875,48.0234375Q1.75781,47.9531375,1.61719,47.9531375Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})))));function nI(){return f.jsxs(pl,{className:"text-center",children:[f.jsx("h2",{className:"text-2xl font-semibold",children:"우리가 겪는 어려움"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[{icon:f.jsx(eI,{className:"w-6 h-6"}),title:"6학점밖에 못 들었던 수강 신청 날...",text:"원하는 강의를 신청하지 못해 졸업이 늦춰질까 걱정했던 순간들"},{icon:f.jsx(tI,{className:"w-6 h-6"}),title:"원하던 강의는 전부 마감...",text:"꿈꾸던 학과로의 전과, 미리 수강하려고 했지만 수강신청의 벽은 높았습니다"},{icon:f.jsx(h7,{className:"w-6 h-6"}),title:"하루 종일 화면을 보며 여석을 기다렸던 시간들...",text:"수강신청 버튼만 수백 번, 그래도 원하는 강의는 잡지 못했습니다"}].map(({icon:e,title:t,text:n},r)=>f.jsxs("div",{className:"flex flex-col gap-4 p-6 rounded-md bg-gray-50 text-left",children:[e,f.jsx("h3",{className:"font-extrabold",children:t}),f.jsx("p",{className:"text-xs text-gray-500",children:n})]},"pain-point-"+r))}),f.jsxs("div",{className:"text-gray-900 mt-16",children:[f.jsx("p",{children:"그래서 우리는 올클을 만들었습니다."}),f.jsx("p",{children:"같은 고민을 했던 우리이기에, 진짜 도움이 되는 서비스를 만들고 싶었습니다. "})]})]})}const rI=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:24,height:24,viewBox:"0 0 24 24",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,48)"},N.createElement("path",{d:"M18.7031,30Q17.9062,31.35938,16.5469,32.15625Q15.1875,33,13.5,33L10.5,33Q8.8125,33,7.45312,32.15625Q6.09375,31.35938,5.29688,30Q6.5625,28.59375,8.25,27.79688Q9.98438,27,12,27Q14.0156,27,15.75,27.79688Q17.4375,28.59375,18.7031,30ZM0,36Q0.046875,39.2812,1.59375,42Q3.1875,44.7188,6,46.4062Q8.85938,48,12,48Q15.1406,48,18,46.4062Q20.8125,44.7188,22.4062,42Q23.9531,39.2812,24,36Q23.9531,32.71875,22.4062,30Q20.8125,27.28125,18,25.59375Q15.1406,24,12,24Q8.85938,24,6,25.59375Q3.1875,27.28125,1.59375,30Q0.046875,32.71875,0,36ZM12,35.25Q13.9219,35.2969,14.9062,36.9375Q15.8438,38.625,14.9062,40.3125Q13.9219,41.9531,12,42Q10.0781,41.9531,9.09375,40.3125Q8.15625,38.625,9.09375,36.9375Q10.0781,35.2969,12,35.25Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function iI(){return f.jsxs(pl,{className:"text-center",children:[f.jsx("h2",{className:"text-2xl font-semibold",children:"올클을 써보신 분들의 한마디!"}),f.jsxs("div",{className:"overflow-hidden mt-6 relative",children:[f.jsx("div",{className:"absolute top-0 left-0 w-12 h-full bg-gradient-to-r from-gray-50 to-transparent z-10"}),f.jsxs("div",{className:"animate-marquee flex gap-6 flex-nowrap w-fit",children:[V3.map((e,t)=>f.jsx(W3,{...e},"feedback-left-"+t)),V3.map((e,t)=>f.jsx(W3,{...e},"feedback-right-"+t))]}),f.jsx("div",{className:"absolute top-0 right-0 w-12 h-full bg-gradient-to-l from-gray-50 to-transparent z-10"})]})]})}const V3=[{name:"김O수",department:"컴퓨터공학과 2학년",review:"대체과목 추천 덕분에 금방 대체 과목을 찾아서 너무 편했어요!"},{name:"김O민",department:"컴퓨터공학과 4학년",review:"실시간으로 관심도를 볼 수 있어서 수강신청 전략을 세울 수 있었어요!"},{name:"김O환",department:"컴퓨터공학과 3학년",review:"수강신청이 이렇게 편해질 수 있다니 놀랍네요!"}];function W3({name:e,department:t,review:n}){return f.jsxs("div",{className:"w-screen md:w-xs flex flex-col gap-4 p-6 rounded-md bg-white text-left text-sm",children:[f.jsxs("div",{className:"flex gap-4 items-center",children:[f.jsx(rI,{className:"w-6 h-6"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-bold",children:e}),f.jsx("p",{className:"text-xs text-gray-500",children:t})]})]}),f.jsxs("p",{className:"text-gray-950",children:['"',n,'"']})]})}function sI(){return f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsx(gT,{}),f.jsx(KT,{}),f.jsx(DD,{}),f.jsx(bD,{}),f.jsx(ZD,{}),f.jsx(nI,{}),f.jsx(iI,{})]})}function Xd({children:e}){return f.jsx("div",{className:"bg-white shadow-sm rounded-lg p-4 mb-4",children:e})}function vm({col:e,row:t}){return f.jsx(f.Fragment,{children:Array.from({length:t}).map((n,r)=>f.jsx("tr",{className:"animate-pulse border-t border-gray-200 h-10",children:Array.from({length:e}).map((i,s)=>f.jsx("td",{className:"bg-gray-300",colSpan:-1},`skeleton-td-${s}-${r}`))},"skeleton-row-"+r))})}function xm({icon:e,title:t,description:n,children:r}){return f.jsx("div",{className:"flex flex-col items-center justify-center w-full bg-gray-50 rounded-md",children:f.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 p-12",children:[f.jsx("div",{children:e}),f.jsx("div",{className:"text-gray-600",children:t}),f.jsx("div",{className:"text-xs text-gray-500",children:n}),r]})})}const oI=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:12.68359375,height:12.25,viewBox:"0 0 12.68359375 12.25",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,24.5)"},N.createElement("g",null,N.createElement("path",{d:"M9.67675,21L8.30998,21L9.67675,21L8.30998,21Q7.92728,21,7.68126,20.753909999999998Q7.43524,20.50781,7.43524,20.125Q7.43524,19.74219,7.68126,19.49609Q7.92728,19.25,8.30998,19.25L11.8089,19.25Q12.1916,19.25,12.4376,19.49609Q12.6837,19.74219,12.6837,20.125L12.6837,23.625Q12.6837,24.0078,12.4376,24.2539Q12.1916,24.5,11.8089,24.5Q11.4262,24.5,11.1802,24.2539Q10.9342,24.0078,10.9342,23.625L10.9342,22.23047L10.4421,22.6953Q9.23938,23.898400000000002,7.68126,24.3086Q6.12314,24.6914,4.56502,24.3086Q3.0069,23.898400000000002,1.80414,22.6953Q0.60138,21.49219,0.191348,19.93359Q-0.191348,18.375,0.191348,16.81641Q0.60138,15.25781,1.80414,14.05469Q3.0069,12.851562,4.56502,12.441406Q6.12314,12.058594,7.68126,12.441406Q9.23938,12.851562,10.4421,14.05469Q10.7155,14.30078,10.7155,14.65625Q10.7155,15.01172,10.4421,15.28516Q10.1961,15.53125,9.84076,15.53125Q9.4854,15.53125,9.21205,15.28516Q7.87261,14,6.12314,14Q4.37367,14,3.03424,15.28516Q1.74947,16.625,1.74947,18.375Q1.74947,20.125,3.03424,21.464840000000002Q4.37367,22.75,6.12314,22.75Q7.87261,22.75,9.21205,21.464840000000002L9.67675,21Z",fill:"#FFFFFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))));function f7({onReload:e}){return f.jsx(xm,{title:"알림 과목을 불러올 수 없습니다",description:"네트워크 연결을 확인해주세요",icon:f.jsx(Ky,{className:"w-7 h-7"}),children:f.jsxs("button",{className:"mt-4 flex items-center gap-2 bg-blue-500 text-white px-4 py-2 rounded cursor-pointer hover:bg-blue-600",onClick:e,children:[f.jsx(oI,{className:"w-3 h-3"}),"새로고침"]})})}const p7=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},N.createElement("defs",null,N.createElement("clipPath",{id:"master_svg0_106_2202"},N.createElement("rect",{x:0,y:0,width:36,height:36,rx:0}))),N.createElement("g",{clipPath:"url(#master_svg0_106_2202)"},N.createElement("g",{transform:"matrix(1,0,0,-1,0,69.046875)"},N.createElement("g",null,N.createElement("path",{d:"M2.25,66.0234375Q3.23438,66.0234375,3.86719,65.3906375Q4.5,64.7578375,4.5,63.7734375L4.5,40.1484375Q4.57031,39.0937475,5.625,39.0234375L33.75,39.0234375Q34.7344,39.0234375,35.3672,38.3906275Q36,37.7578175,36,36.7734375Q36,35.7890575,35.3672,35.1562495Q34.7344,34.5234375,33.75,34.5234375L5.625,34.5234375Q3.23438,34.59375,1.61719,36.1406275Q0.0703125,37.7578175,0,40.1484375L0,63.7734375Q0,64.7578375,0.632812,65.3906375Q1.26562,66.0234375,2.25,66.0234375ZM9,59.2734375Q9,60.2578375,9.63281,60.8906375Q10.2656,61.5234375,11.25,61.5234375L24.75,61.5234375Q25.7344,61.5234375,26.3672,60.8906375Q27,60.2578375,27,59.2734375Q27,58.2890375,26.3672,57.6562375Q25.7344,57.0234375,24.75,57.0234375L11.25,57.0234375Q10.2656,57.0234375,9.63281,57.6562375Q9,58.2890375,9,59.2734375ZM11.25,54.7734375L20.25,54.7734375L11.25,54.7734375L20.25,54.7734375Q21.2344,54.7734375,21.8672,54.1406375Q22.5,53.5078375,22.5,52.5234375Q22.5,51.5390375,21.8672,50.9062375Q21.2344,50.2734375,20.25,50.2734375L11.25,50.2734375Q10.2656,50.2734375,9.63281,50.9062375Q9,51.5390375,9,52.5234375Q9,53.5078375,9.63281,54.1406375Q10.2656,54.7734375,11.25,54.7734375ZM11.25,48.0234375L29.25,48.0234375L11.25,48.0234375L29.25,48.0234375Q30.2344,48.0234375,30.8672,47.3906375Q31.5,46.7578375,31.5,45.7734375Q31.5,44.7890375,30.8672,44.1562475Q30.2344,43.5234375,29.25,43.5234375L11.25,43.5234375Q10.2656,43.5234375,9.63281,44.1562475Q9,44.7890375,9,45.7734375Q9,46.7578375,9.63281,47.3906375Q10.2656,48.0234375,11.25,48.0234375Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})))));function aI(){return f.jsx(xm,{title:"현재 여석이 있는 TOP 10 과목이 없습니다",description:"잠시 후 다시 확인해주세요",icon:f.jsx(p7,{className:"w-7 h-7"})})}const lI=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17,height:17,viewBox:"-0.1 -1.2 11.985078811645508 17",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,27.999998092651367)"},N.createElement("path",{d:"M5.99254,27.999999046325684Q5.61809,27.999999046325684,5.37737,27.753899046325685Q5.13664,27.507799046325683,5.13664,27.124999046325684L5.13664,26.605499046325683Q3.63883,26.277299046325684,2.70269,25.10159904632568Q1.73981,23.925779046325683,1.71306,22.312499046325684L1.71306,21.792969046325684Q1.68632,19.824219046325684,0.429221,18.320309046325683L0.215247,18.074219046325684Q-0.13246,17.664059046325683,0.0815138,17.144529046325683Q0.322234,16.652339046325682,0.857169,16.624999046325684L11.1279,16.624999046325684Q11.6628,16.652339046325682,11.9036,17.144529046325683Q12.1175,17.664059046325683,11.7698,18.074219046325684L11.5826,18.320309046325683Q10.2988,19.796869046325682,10.272,21.792969046325684L10.272,22.312499046325684Q10.2453,23.925779046325683,9.28239,25.10159904632568Q8.34625,26.277299046325684,6.84843,26.605499046325683L6.84843,27.124999046325684Q6.84843,27.507799046325683,6.60771,27.753899046325685Q6.36699,27.999999046325684,5.99254,27.999999046325684ZM7.19614,14.519530046325684Q7.70433,15.039059046325683,7.70433,15.749999046325684L5.99254,15.749999046325684L4.28075,15.749999046325684Q4.28075,15.039059046325683,4.78894,14.519530046325684Q5.29713,13.999999046325684,5.99254,13.999999046325684Q6.68796,13.999999046325684,7.19614,14.519530046325684Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function uI(){return f.jsx(xm,{title:"여석 알림 서비스가 종료되었습니다",description:"추후 과목 전체 여석을 공개할 예정입니다. 여석 공개 시, 공지 채팅방을 통해 알려드립니다",icon:f.jsx(lI,{className:"w-7 h-7"}),children:f.jsx("div",{className:"flex justify-center",children:f.jsx("a",{className:"bg-gray-50 rounded-full px-4 py-2 text-sm border border-gray-200 hover:shadow-md cursor-pointer",href:"https://open.kakao.com/o/g3MztXfh",children:"공지 채팅방 바로가기"})})})}let Hc=null,au=0;const B0=nr(e=>{const t=()=>{Hc||(Hc=setInterval(()=>{e(r=>({tick:r.tick+1}))},1e3))},n=()=>{Hc&&clearInterval(Hc),Hc=null};return{tick:0,addRefCount:()=>{au===0&&t(),au=au+1},removeRefCount:()=>{au<=1&&n(),au=Math.max(0,au-1)}}}),m7=e=>{const t=B0(i=>i.tick),n=B0(i=>i.addRefCount),r=B0(i=>i.removeRefCount);N.useEffect(()=>(n(),()=>{r()}),[]),N.useEffect(()=>{},[t])};function cI(e){const{data:t}=ra(),{data:n,...r}=iv(e);return{data:n?.map(s=>{const{subjectId:o,seatCount:a,queryTime:u}=s,c=t?.find(w=>w.subjectId===o)||nm,{subjectName:h,subjectCode:p,classCode:g,professorName:x}=c;return{...c,code:`${p}-${g}`,name:h,professor:x,seat:a,queryTime:u}}),...r}}function Tv(e){if(!e)return"검색 중";const t=new Date,n=new Date(e),r=t.getTime()-n.getTime(),i=Math.floor(r/1e3),s=Math.floor(i/60),o=Math.floor(s/60),a=Math.floor(o/24),u=Math.floor(a/30),c=Math.floor(u/12);return c>0?`${c}년 전`:u>0?`${u}개월 전`:a>0?`${a}일 전`:o>0?`${o}시간 전`:s>0?`${s}분 전`:i>0?`${i}초 전`:"방금 전"}const q3=[{title:"과목코드",visible:!0,key:"code"},{title:"과목명",visible:!0,key:"name"},{title:"담당교수",visible:!0,key:"professor"},{title:"여석",visible:!0,key:"seat"},{title:"최근갱신",visible:!0,key:"queryTime"},{title:"학과명",visible:!1,key:"manageDeptNm"},{title:"수강학년",visible:!1,key:"studentYear"},{title:"수업시간",visible:!1,key:"lesnTime"},{title:"수업실",visible:!1,key:"lesnRoom"},{title:"학점",visible:!1,key:"tmNum"},{title:"비고",visible:!1,key:"remark"},{title:"수업유형",visible:!1,key:"curiTypeCdNm"},{title:"수업언어",visible:!1,key:"curiLangNm"}],K3=nr()(B_(e=>({tableTitles:q3,setTableTitles:t=>e({tableTitles:t}),resetTableTitles:()=>e({tableTitles:q3})}),{name:"live-table-head-store"}));function Nv(){return f.jsxs("div",{className:"flex justify-end items-center mt-2 text-xs text-gray-500",children:[f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"block w-4 h-4 rounded bg-green-100 ml-1","aria-label":"초록색 "}),"영어로 진행되는 과목"]}),f.jsxs("span",{className:"flex items-center gap-2 ml-4",children:[f.jsx("span",{className:"block w-4 h-4 rounded bg-gray-100 ml-1","aria-label":"회색 "}),"삭제된 과목"]})]})}function Cs({children:e,onClose:t,preventAutoFocus:n}){const r=N.useRef(null);N.useEffect(()=>(document.body.style.overflow="hidden",n||r.current?.focus(),()=>{document.body.style.overflow=""}),[n]);const i=s=>{s.stopPropagation(),t()};return f.jsxs("div",{className:"flex items-center justify-center fixed inset-0 w-full h-full z-40",role:"none",ref:r,tabIndex:-1,onClick:i,children:[f.jsx("div",{className:"fixed inset-0 justify-center opacity-30 bg-gray-300 border-b-2 border-gray-400"}),f.jsx("div",{className:"fixed inset-x-0 top-16 bottom-0 flex items-center justify-center",tabIndex:-1,children:f.jsx("div",{className:"w-[95%] sm:w-fit z-50 bg-white max-h-[90%] border border-gray-200 overflow-y-auto",role:"dialog",tabIndex:-1,onClick:s=>s.stopPropagation(),children:e})})]})}const dI=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e},N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})),hI=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e},N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.477 0-8.268-2.943-9.542-7a9.957 9.957 0 012.043-3.36m3.237-2.347A9.956 9.956 0 0112 5c4.478 0 8.268 2.943 9.542 7a9.954 9.954 0 01-4.043 5.132M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3l18 18"}));function fI({initialItems:e,onChange:t}){const[n,r]=N.useState(e),i=N.useRef(null),s=N.useRef([]),[o,a]=N.useState(null),u=N.useRef(null),[c,h]=N.useState(null),[p,g]=N.useState(null);N.useEffect(()=>{t?.(n)},[n,t]),N.useEffect(()=>{if(o){const P=n.findIndex(M=>M.title===o);P!==-1&&s.current[P]?.focus(),a(null)}},[n,o]),N.useEffect(()=>{const P=()=>requestAnimationFrame(S),M=new ResizeObserver(P);return i.current&&M.observe(i.current),window.addEventListener("scroll",P,!0),window.addEventListener("resize",P),P(),()=>{M.disconnect(),window.removeEventListener("scroll",P,!0),window.removeEventListener("resize",P)}},[]);function x(P){r(M=>{const H=[...M];return H[P]={...H[P],visible:!H[P].visible},H})}const w=N.useRef([]);function S(){const P=i.current;if(!P)return;const M=Array.from(P.children);w.current=M.map(H=>{const Q=H.getBoundingClientRect();return Q.top+Q.height/2})}function C(P,M){if(P.key==="ArrowUp"||P.key==="ArrowDown"){P.preventDefault(),P.stopPropagation();const H=M;let Q;if(P.key==="ArrowUp"){if(H===0)return;Q=H-1}else{if(H===n.length-1)return;Q=H+1}const F=n[H].title;r(ae=>{const le=[...ae],[ue]=le.splice(H,1);return le.splice(Q,0,ue),le}),a(F)}}function E(P,M){if(!i.current)return;const H=P.target.closest(".draggable-item");if(!H)return;P.target.setPointerCapture(P.pointerId);const Q=H.getBoundingClientRect(),F=i.current.getBoundingClientRect();u.current={currentIndex:M,height:Q.height,offsetY:P.clientY-Q.top,containerRect:F},h({item:n[M],initialIndex:M}),g({width:Q.width,left:Q.left,top:Q.top,position:"fixed",zIndex:50,pointerEvents:"none",transition:"none"}),window.addEventListener("pointermove",L),window.addEventListener("pointerup",A,{once:!0})}function L(P){if(u.current===null)return;const{height:M,offsetY:H,containerRect:Q}=u.current;let F=P.clientY-H;F=Math.max(Q.top,F),F=Math.min(Q.bottom-M,F),g(J=>({...J||{},top:F})),S();const ae=P.clientY;let ue=w.current.findIndex(J=>ae<J);ue===-1&&(ue=n.length);const q=u.current.currentIndex;let V=Math.max(0,Math.min(n.length-1,ue>q?ue-1:ue));V!==q&&(u.current.currentIndex=V,r(J=>{const te=[...J],[ne]=te.splice(q,1);return te.splice(V,0,ne),te}))}function A(){window.removeEventListener("pointermove",L),u.current=null,h(null),g(null)}const B=N.useMemo(()=>c?n.findIndex(P=>P.title===c.item.title):-1,[n,c]);function $(P){if(!c||!u.current||B===-1)return"";const M=B,H=u.current.currentIndex,Q=u.current.height;if(P===M)return"";if(M<H){if(P>M&&P<=H)return`translateY(-${Q}px)`}else if(P>=H&&P<M)return`translateY(${Q}px)`;return""}return f.jsxs(f.Fragment,{children:[f.jsx("ul",{ref:i,className:"bg-white divide-y divide-gray-100 relative",children:n.map((P,M)=>f.jsxs("li",{ref:H=>{s.current[M]=H},className:"draggable-item flex items-center gap-2 rounded-md px-2 transition-transform duration-1000",tabIndex:0,onKeyDown:H=>C(H,M),style:{transform:$(M),opacity:B===M?.4:1},children:[f.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700 cursor-grab",onPointerDown:H=>E(H,M),"aria-label":`Drag ${P.title}`,title:"드래그 시작",children:"⠿"}),f.jsxs("div",{className:"flex items-center justify-between flex-auto",children:[f.jsx("span",{className:"font-medium",children:P.title}),f.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700 cursor-pointer","aria-label":P.visible?"숨기기":"보이기",title:P.visible?"숨기기":"보이기",onClick:()=>x(M),children:P.visible?f.jsx(dI,{className:"w-4 h-4"}):f.jsx(hI,{className:"w-4 h-4"})})]})]},P.title))}),p&&c&&f.jsx("div",{style:p,className:"bg-blue-50 rounded-md shadow-lg w-full max-w-lg m-auto px-2",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"p-1 text-gray-700",children:"⠿"}),f.jsx("span",{className:"font-medium",children:c.item.title})]})}),f.jsx("div",{className:"mt-4 text-sm text-gray-500",children:"Tip: 항목을 선택한 뒤 ↑/↓ 로 키보드 이동도 가능합니다."})]})}function yl({title:e,onClose:t}){return f.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 ",children:[f.jsx("h2",{className:"font-semibold sm:text-lg text-sm text-gray-900",children:e}),f.jsx("button",{className:"w-5 h-5 text-gray-500 hover:text-gray-700 cursor-pointer",onClick:t,title:"창닫기",tabIndex:-1,children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-full h-full",children:[f.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),f.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})}function g7({enabled:e=!0,onClose:t}){N.useEffect(()=>{if(!e)return;const n=i=>{i.key==="Escape"&&t&&t()},r=i=>{i.preventDefault(),t&&t()};return window.addEventListener("keydown",n),window.addEventListener("popstate",r),()=>{window.removeEventListener("keydown",n),window.removeEventListener("popstate",r)}},[])}const pI=({title:e="교양과목"})=>{const[t,n]=N.useState(!1),r=K3(s=>s.setTableTitles),i=K3(s=>s.tableTitles);return f.jsxs(Xd,{children:[t&&f.jsx(vI,{initialItems:i,onChange:r,onClose:()=>n(!1)}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("div",{className:"flex items-center gap-2 mb-4",children:f.jsxs("h2",{className:"font-bold text-lg",children:[e," 실시간"]})}),f.jsx("button",{className:"p-3 rounded-full hover:bg-blue-100",onClick:()=>n(!0),children:f.jsx(p7,{className:"w-4 h-4 text-gray-600 hover:text-blue-500 transition-colors"})})]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full bg-white rounded-lg text-sm",children:[f.jsx("thead",{children:f.jsx("tr",{className:"bg-gray-50 sticky top-0 z-10 text-nowrap",children:i.filter(s=>s.visible).map(({title:s})=>f.jsx("th",{className:"px-4 py-2",children:s},s))})}),f.jsx("tbody",{children:f.jsx(mI,{tableTitles:i})})]})}),f.jsx(Nv,{})]})};function mI({tableTitles:e}){const{data:t,isError:n,isPending:r,refetch:i}=cI(em.NON_MAJOR),s=e.filter(u=>u.visible),o=new Date>bT("2025-08-18T17:00:00"),a=Eu(u=>u.sseState);return n?f.jsx("tr",{children:f.jsx("td",{colSpan:s.length,children:f.jsx(f7,{onReload:i})})}):r||!t?f.jsx(vm,{row:5,col:s.length}):a===rv.IDLE&&o?f.jsx("tr",{children:f.jsx("td",{colSpan:s.length,className:"text-center",children:f.jsx(uI,{})})}):t.length?f.jsx(Xp,{component:null,children:t.map(u=>f.jsx($d,{timeout:500,classNames:"row-change",children:f.jsx(gI,{subject:u,HeadTitles:s},u.code)},u.code))}):f.jsx("tr",{children:f.jsx("td",{colSpan:s.length,className:"text-center",children:f.jsx(aI,{})})})}function gI({subject:e,HeadTitles:t}){const n=N.useRef(e.seat),[r,i]=N.useState(!1),s=e.isDeleted,o=e.curiLangNm==="영어",a=r?"bg-blue-50":s?"bg-gray-100":o?"bg-green-50":"";return N.useEffect(()=>{if(n.current!==e.seat){i(!0);const u=setTimeout(()=>i(!1),1e3);return n.current=e.seat,()=>clearTimeout(u)}},[e.seat]),f.jsx("tr",{className:`border-t border-gray-200 text-black transition-colors duration-500 text-nowrap ${a}`,children:t.map(({key:u})=>{switch(u){case"seat":return f.jsx("td",{className:"px-4 py-2 text-center",children:f.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold "+gl(e.seat??-1),children:e[u]})},u);case"queryTime":return f.jsx(yI,{queryTime:e.queryTime},u);default:return f.jsx("td",{className:"px-4 py-2 text-center",children:e[u]},u)}})})}function yI({queryTime:e}){return m7(),f.jsx("td",{className:"w-18 px-4 py-2 text-center text-xs",children:f.jsx("span",{className:"text-gray-500",children:Tv(e)})})}function vI({initialItems:e,onChange:t,onClose:n}){return g7({enabled:!0,onClose:n}),f.jsxs(Cs,{onClose:n,children:[f.jsx(yl,{title:"테이블 설정",onClose:n}),f.jsx("div",{className:"p-4",children:f.jsx(fI,{initialItems:e,onChange:t})})]})}const xI=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16,height:16,viewBox:"0 0 16 16",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,32)"},N.createElement("path",{d:"M8,16Q10.1875,16.03125,12,17.0625Q13.8125,18.125,14.9375,20Q16,21.90625,16,24Q16,26.0938,14.9375,28Q13.8125,29.875,12,30.9375Q10.1875,31.9688,8,32Q5.8125,31.9688,4,30.9375Q2.1875,29.875,1.0625,28Q0,26.0938,0,24Q0,21.90625,1.0625,20Q2.1875,18.125,4,17.0625Q5.8125,16.03125,8,16ZM5.3125,26.8438Q5.5,27.375,5.9375,27.6875Q6.375,28,6.96875,28L8.78125,28Q9.625,27.9688,10.1875,27.4062Q10.7188,26.875,10.75,26.0312Q10.7188,24.90625,9.75,24.3125L8.75,23.75Q8.6875,23.0625,8,23Q7.3125,23.0625,7.25,23.75L7.25,24.15625Q7.25,24.59375,7.625,24.8125L9,25.625Q9.25,25.75,9.25,26.0312Q9.21875,26.4688,8.78125,26.5L6.96875,26.5Q6.78125,26.5,6.71875,26.3438L6.71875,26.2812Q6.40625,25.65625,5.75,25.84375Q5.125,26.125,5.28125,26.7812L5.3125,26.8438ZM7,21Q7,21.4375,7.28125,21.71875Q7.5625,22,8,22Q8.4375,22,8.71875,21.71875Q9,21.4375,9,21Q9,20.5625,8.71875,20.28125Q8.4375,20,8,20Q7.5625,20,7.28125,20.28125Q7,20.5625,7,21Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function bI({children:e}){return f.jsx("div",{className:"relative inline-block",children:f.jsxs("span",{className:"group inline-block",children:[f.jsx(xI,{className:"w-4 h-4"}),f.jsx("span",{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-gray-900 text-white p-3 rounded w-64 text-center pointer-events-none",children:e})]})})}function wI(e){return e==="primary"?"bg-blue-500 text-white hover:bg-blue-600 focus:outline-blue-400":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-600"}function J1({children:e,variants:t,className:n="",...r}){return f.jsx("button",{type:r.type,onClick:r.onClick,className:`px-6 py-2 cursor-pointer rounded-lg ${wI(t)} ${n}`,disabled:r.disabled,children:e})}function G3({children:e,checked:t,onChange:n,...r}){return f.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",className:"sr-only peer",checked:t,onChange:n,...r}),f.jsx("div",{className:"w-12 h-6 rounded-full transition-colors duration-150 bg-gray-300 peer-checked:bg-blue-500 peer-disabled:bg-gray-200"}),f.jsx("div",{className:"absolute top-1 left-1 w-4 h-4 bg-white rounded-full shadow-md transform transition-transform duration-150 peer-checked:translate-x-6"}),e]})}const _I=[{title:"알림 없음",value:Yr.NONE},{title:"브라우저 알림",value:Yr.BROWSER},{title:"토스트 알림",value:Yr.TOAST},{title:"브라우저 + 토스트 알림",value:Yr.BOTH}];function SI({isOpen:e,close:t}){const n=Xo(s=>s.isPermitted),r=()=>{ci.show("알림 기능을 테스트합니다","test-alarm")},i=()=>{ci.requestPermission(),t()};return g7({enabled:e,onClose:i}),e?f.jsxs(Cs,{onClose:i,children:[f.jsx(yl,{title:"알림설정",onClose:i}),f.jsxs("div",{className:"p-4 w-md max-w-full",children:[f.jsx(CI,{}),f.jsx(kI,{}),f.jsx("div",{className:"mt-4 flex justify-end",children:f.jsx(J1,{variants:"secondary",onClick:r,disabled:!n,children:"알림테스트"})})]})]}):null}function CI(){const e=xs(i=>i.alarmType),t=xs(i=>i.saveSettings),n=Xo(i=>i.isPermitted),r=i=>{t({alarmType:Number(i.target.value)})};return f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block mb-2 font-bold text-md",htmlFor:"alarm-type-select",children:"알림 유형"}),f.jsx("select",{id:"alarm-type-select",className:"w-full mb-2 p-2 border border-gray-300 rounded",value:e,onChange:r,children:_I.map(i=>f.jsx("option",{value:i.value,children:i.title},i.value))}),(e===Yr.BROWSER||e===Yr.BOTH)&&!n&&f.jsx("p",{className:"pl-2 pb-2 text-sm text-red-600",children:"브라우저 알림을 허용해주세요."}),e===Yr.TOAST&&f.jsx("p",{className:"pl-2 pb-2 text-sm text-red-600",children:"토스트 알림은 탭이 열려 있을 때에만 작동해요."})]})}function kI(){const t=xs(h=>h.alarmType)===Yr.NONE,n=Sd(Qo.SOUND),r=Sd(Qo.VIBRATE),i=tv.canNotify(),s=xs(h=>h.subAlarmType),o=xs(h=>h.saveSettings),a=t,u=t||!i,c=h=>{const p=h.target.id==="select-sound"?Qo.SOUND:Qo.VIBRATE,g=h.target.checked?s|p:s&~p;o({subAlarmType:g})};return f.jsxs("div",{children:[f.jsx("h3",{className:"block mb-2 font-bold text-md",children:"추가 알림 옵션"}),f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsxs("label",{className:"my-1 flex items-center justify-between",htmlFor:"select-sound",children:[f.jsx("span",{className:a?"text-gray-300":"",children:"소리"}),f.jsx(G3,{id:"select-sound",name:"sound",checked:n,onChange:c,disabled:a})]}),f.jsxs("label",{className:"my-1 flex items-center justify-between",htmlFor:"select-vibrate",children:[f.jsx("span",{className:u?"text-gray-300":"",children:"진동"}),f.jsx(G3,{id:"select-vibrate",name:"vibrate",checked:r,onChange:c,disabled:u})]}),!i&&f.jsx("p",{className:"pl-2 pb-2 text-sm text-red-600",children:"이 기기는 진동 기능을 지원하지 않아요."})]})]})}const y7=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e},N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4px",d:"M4 20L20 4M4 4l16 16"})),Y3=5;function bm(){return rs({queryKey:["pinnedSubjects"],queryFn:jI,select:e=>e.subjects})}const v7=()=>{const e=pi();return na({mutationFn:EI,onMutate:async t=>{await e.cancelQueries({queryKey:["pinnedSubjects"]});const n=e.getQueryData(["pinnedSubjects"])?.subjects??[];if(n&&n.length>=Y3)throw new Error(JSON.stringify({message:`알림 과목은 최대 ${Y3}개까지만 가능합니다.`}));if(n){const r={...n[0],subjectId:t};e.setQueryData(["pinnedSubjects"],{subjects:[...n,r]}),n.push(r)}return{previousUsers:n}},onSuccess:()=>{e.invalidateQueries({queryKey:["pinnedSubjects"]}).then()},onError:t=>{try{const n=JSON.parse(t.message);alert(n.message)}catch{alert("Error adding pinned subject")}}})},Pv=()=>{const e=pi();return na({mutationFn:TI,onMutate:async t=>{await e.cancelQueries({queryKey:["pinnedSubjects"]});const n=e.getQueryData(["pinnedSubjects"]);if(n){const r=n.subjects.filter(i=>i.subjectId!==t);e.setQueryData(["pinnedSubjects"],{subjects:r})}return{previousData:n}},onSettled:()=>{console.log("pin removed onSettled"),e.invalidateQueries({queryKey:["pinnedSubjects"]}).then()},onError:t=>{console.error("Error removing pinned subject:",t)}})},jI=async()=>await ao("/api/pins"),EI=async e=>{const t=await Zp(`/api/pin?subjectId=${e}`,{method:"POST"});if(!t.ok)throw new Error(await t.text())},TI=async e=>{const t=await Zp(`/api/pin/${e}`,{method:"DELETE"});if(!t.ok)throw new Error(await t.text())};function NI({subject:e,seats:t,queryTime:n,disableSeat:r=!1}){const{mutate:i}=Pv(),s=()=>{i(e.subjectId)};return f.jsxs("div",{className:"bg-gray-50 shadow-sm rounded-lg p-4 border border-gray-200 hover:shadow-md",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("h3",{className:"font-bold",children:e.subjectName}),f.jsx("button",{className:"p-2 rounded-full hover:bg-blue-100","aria-label":"알림 과목 제거",onClick:s,children:f.jsx(y7,{className:"text-gray-400 w-3 h-3"})})]}),f.jsxs("div",{className:"mb-2 text-xs text-gray-500",children:[f.jsx("p",{children:e.departmentName}),f.jsxs("p",{children:[e.subjectCode,"-",e.classCode," | ",e.professorName]})]}),!r&&f.jsxs("div",{className:"flex justify-between items-baseline",children:[f.jsxs("p",{className:`px-2 py-1 rounded-full text-xs font-bold ${gl(t)}`,children:["여석: ",t<0?"???":t]}),f.jsx(PI,{queryTime:n})]})]})}function PI({queryTime:e}){return m7(),f.jsx("p",{className:"text-xs text-gray-500",children:Tv(e)})}const Ni=nr(e=>({searchKeyword:"",isAlarmWish:!1,isSearchOpen:!1,selectedDepartment:"",setSearchKeyword:t=>e(()=>({searchKeyword:t})),toggleAlarmWish:()=>e(t=>({isAlarmWish:!t.isAlarmWish})),setIsSearchOpen:t=>e(()=>({isSearchOpen:t})),setSelectedDepartment:t=>e(()=>({selectedDepartment:t}))}));function x7(){const e=Ni(t=>t.setIsSearchOpen);return f.jsx("div",{className:"p-2 rounded-full flex items-center justify-center",children:f.jsx("button",{className:"bg-gray-50 rounded-full px-4 py-2 text-sm border border-gray-200 hover:shadow-md cursor-pointer","aria-label":"여석 알림 과목 추가",title:"여석 알림 과목 추가",onClick:()=>e(!0),children:"+ 알림 과목 등록"})})}function OI(){return f.jsx(xm,{title:"등록된 알림 과목이 없습니다",description:"관심있는 과목을 알림 과목으로 등록해보세요. 여석이 생길 시 알림을 보내드려요.",icon:f.jsx(Wu,{className:"w-7 h-7",disabled:!0}),children:f.jsx(x7,{})})}const LI=e=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 3C7.88696 2.99977 8.74883 3.29435 9.4501 3.83741C10.1514 4.38047 10.6523 5.14121 10.874 6H19V8H10.874C10.6283 8.94049 10.0486 9.75939 9.24333 10.3038C8.43802 10.8482 7.46209 11.0809 6.49778 10.9584C5.53346 10.836 4.64669 10.3667 4.00303 9.63828C3.35937 8.90985 3.00284 7.97206 3 7C3 5.93913 3.42143 4.92172 4.17157 4.17157C4.92172 3.42143 5.93913 3 7 3ZM7 9C7.53043 9 8.03914 8.78929 8.41421 8.41421C8.78929 8.03914 9 7.53043 9 7C9 6.46957 8.78929 5.96086 8.41421 5.58579C8.03914 5.21071 7.53043 5 7 5C6.46957 5 5.96086 5.21071 5.58579 5.58579C5.21071 5.96086 5 6.46957 5 7C5 7.53043 5.21071 8.03914 5.58579 8.41421C5.96086 8.78929 6.46957 9 7 9ZM17 20C16.113 20.0002 15.2512 19.7056 14.5499 19.1626C13.8486 18.6195 13.3477 17.8588 13.126 17H5V15H13.126C13.3717 14.0595 13.9514 13.2406 14.7567 12.6962C15.562 12.1518 16.5379 11.9191 17.5022 12.0416C18.4665 12.164 19.3533 12.6333 19.997 13.3617C20.6406 14.0901 20.9972 15.0279 21 16C21 17.0609 20.5786 18.0783 19.8284 18.8284C19.0783 19.5786 18.0609 20 17 20ZM17 18C17.5304 18 18.0391 17.7893 18.4142 17.4142C18.7893 17.0391 19 16.5304 19 16C19 15.4696 18.7893 14.9609 18.4142 14.5858C18.0391 14.2107 17.5304 14 17 14C16.4696 14 15.9609 14.2107 15.5858 14.5858C15.2107 14.9609 15 15.4696 15 16C15 16.5304 15.2107 17.0391 15.5858 17.4142C15.9609 17.7893 16.4696 18 17 18Z",fill:"currentColor"})),AI=()=>{if(typeof navigator>"u")return"chrome";const e=navigator.userAgent.toLowerCase();return e.includes("firefox")?"firefox":e.includes("edg")?"edge":e.includes("safari")&&!e.includes("chrome")?"safari":"chrome"},DI=()=>{if(typeof navigator>"u")return"macos";const e=navigator.platform.toLowerCase(),t=navigator.userAgent.toLowerCase();return e.startsWith("mac")||t.includes("mac os x")?"macos":e.startsWith("win")?"windows":/android|iphone|ipad|ipod/.test(t)?"mobile":"macos"};function II(){const e=Xo(s=>s.isOpen),t=Xo(s=>s.close),[n,r]=N.useState(0),i=1;return N.useEffect(()=>{e||r(0)},[e]),e?f.jsxs(Cs,{onClose:t,children:[f.jsx(yl,{title:"알림 설정 방법",onClose:t}),f.jsxs("div",{className:"p-4 text-sm text-gray-700 w-lg max-w-full",children:[n===0&&f.jsx(RI,{}),n===1&&f.jsx(MI,{}),f.jsxs("div",{className:"flex justify-between items-center mt-6",children:[f.jsxs("span",{className:"text-xs text-gray-500",children:[n+1," / ",i+1]}),f.jsxs("div",{className:"flex justify-end gap-2",children:[n>0&&f.jsx("button",{className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",onClick:()=>r(n-1),children:"이전"}),n<i&&f.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>r(n+1),children:"다음"}),n===i&&f.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:t,children:"닫기"})]})]})]})]}):null}function RI(){const[e,t]=N.useState(AI());return f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-base text-gray-800",children:"1단계: 브라우저 알림 권한 설정"}),f.jsx("p",{className:"mt-1",children:"브라우저에서 'ALLCLL' 사이트의 알림을 허용해야 합니다."})]}),f.jsxs("div",{className:"flex border-b border-gray-500",children:[f.jsx(Za,{name:"Chrome",id:"chrome",selected:e,onClick:t}),f.jsx(Za,{name:"Firefox",id:"firefox",selected:e,onClick:t}),f.jsx(Za,{name:"Safari",id:"safari",selected:e,onClick:t}),f.jsx(Za,{name:"Edge",id:"edge",selected:e,onClick:t})]}),f.jsxs("div",{className:"p-2 bg-gray-50 rounded-md h-64 overflow-y-auto",children:[e==="chrome"&&f.jsx(FI,{}),e==="firefox"&&f.jsx(zI,{}),e==="safari"&&f.jsx($I,{}),e==="edge"&&f.jsx(BI,{})]})]})}function MI(){const[e,t]=N.useState(DI());return f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-base text-gray-800",children:"2단계: OS 및 모바일 기기 설정"}),f.jsx("p",{className:"mt-1",children:"일부 기기에서는 OS의 알림도 허용해야 합니다."})]}),f.jsxs("div",{className:"flex border-b border-gray-500",children:[f.jsx(Za,{name:"macOS",id:"macos",selected:e,onClick:t}),f.jsx(Za,{name:"Windows",id:"windows",selected:e,onClick:t}),f.jsx(Za,{name:"모바일",id:"mobile",selected:e,onClick:t})]}),f.jsxs("div",{className:"p-2 bg-gray-50 rounded-md h-64 overflow-y-auto",children:[e==="macos"&&f.jsx(UI,{}),e==="windows"&&f.jsx(HI,{}),e==="mobile"&&f.jsx(QI,{})]})]})}const Za=({name:e,id:t,selected:n,onClick:r})=>f.jsx("button",{className:`px-4 py-2 text-sm ${n===t?"border-b-2 border-blue-500 text-blue-600 font-semibold":"text-gray-500 font-medium"}`,onClick:()=>r(t),children:e}),ul=({title:e,children:t})=>f.jsxs("div",{className:"space-y-1",children:[f.jsx("h4",{className:"font-semibold text-gray-800",children:e}),f.jsx("div",{className:"pl-2 space-y-1 text-gray-600",children:t})]}),FI=()=>f.jsxs("div",{className:"space-y-3",children:[f.jsx(ul,{title:"방법 1: 주소창에서 설정 (권장)",children:f.jsxs("ol",{className:"list-decimal list-inside",children:[f.jsxs("li",{children:["주소창 왼쪽의 사이트 정보 보기(",f.jsx(LI,{className:"inline-block w-4 h-4"}),") 아이콘을 클릭합니다."]}),f.jsx("li",{children:"나타나는 메뉴에서 '알림' 항목의 스위치를 켜서 '허용'으로 변경합니다."})]})}),f.jsx(ul,{title:"방법 2: 브라우저 설정 메뉴",children:f.jsxs("ol",{className:"list-decimal list-inside",children:[f.jsx("li",{children:"오른쪽 위 점 3개(⋮) 메뉴 > '설정'으로 이동합니다."}),f.jsx("li",{children:"'개인정보 및 보안' > '사이트 설정' > '알림'으로 이동합니다."}),f.jsx("li",{children:"'알림 전송이 허용됨' 섹션에서 '추가' 버튼을 누르고 'allcll.com'을 입력합니다."})]})})]}),BI=()=>f.jsxs("div",{className:"space-y-3",children:[f.jsx(ul,{title:"방법 1: 주소창에서 설정 (권장)",children:f.jsxs("ol",{className:"list-decimal list-inside",children:[f.jsx("li",{children:"주소창 왼쪽의 자물쇠(🔒) 아이콘을 클릭합니다."}),f.jsx("li",{children:"'이 사이트에 대한 권한' 메뉴에서 '알림'을 '허용'으로 변경합니다."})]})}),f.jsx(ul,{title:"방법 2: 브라우저 설정 메뉴",children:f.jsxs("ol",{className:"list-decimal list-inside",children:[f.jsx("li",{children:"오른쪽 위 점 3개(⋯) 메뉴 > '설정'으로 이동합니다."}),f.jsx("li",{children:"'쿠키 및 사이트 권한' > '알림'으로 이동합니다."}),f.jsx("li",{children:"'허용' 섹션에서 '추가' 버튼을 누르고 'allcll.com'을 입력합니다."})]})})]}),zI=()=>f.jsxs("div",{className:"space-y-3",children:[f.jsx(ul,{title:"방법 1: 주소창에서 설정 (권장)",children:f.jsxs("ol",{className:"list-decimal list-inside",children:[f.jsx("li",{children:"주소창 왼쪽의 자물쇠(🔒) 아이콘을 클릭합니다."}),f.jsx("li",{children:"'알림 보내기' 권한을 '허용'으로 변경합니다."})]})}),f.jsx(ul,{title:"방법 2: 브라우저 설정 메뉴",children:f.jsxs("ol",{className:"list-decimal list-inside",children:[f.jsx("li",{children:"오른쪽 위 줄 3개(≡) 메뉴 > '설정'으로 이동합니다."}),f.jsx("li",{children:"'개인정보 및 보안' 패널에서 '권한' 섹션으로 스크롤합니다."}),f.jsx("li",{children:"'알림' 옆의 '설정...' 버튼을 클릭합니다."}),f.jsx("li",{children:"'allcll.com'을 찾아 상태를 '허용'으로 변경하고 '변경 내용 저장'을 누릅니다."})]})})]}),$I=()=>f.jsx("div",{className:"space-y-3",children:f.jsx(ul,{title:"Safari 설정에서 변경",children:f.jsxs("ol",{className:"list-decimal list-inside",children:[f.jsx("li",{children:"화면 상단 메뉴 막대에서 'Safari' > '설정...' (또는 '환경설정...')으로 이동합니다."}),f.jsx("li",{children:"'웹사이트' 탭을 클릭합니다."}),f.jsx("li",{children:"왼쪽 메뉴에서 '알림'을 선택합니다."}),f.jsx("li",{children:"목록에서 'allcll.com'을 찾아 권한을 '허용'으로 변경합니다."})]})})}),UI=()=>f.jsx("div",{className:"space-y-2",children:f.jsxs("ol",{className:"list-decimal list-inside pl-2 mt-2 space-y-1",children:[f.jsx("li",{children:"화면 좌측 상단 애플 로고() 클릭 후 '시스템 설정'으로 이동합니다."}),f.jsx("li",{children:"왼쪽 메뉴에서 '알림'을 선택합니다."}),f.jsx("li",{children:"앱 목록에서 사용 중인 브라우저(Chrome, Safari 등)를 찾아 선택합니다."}),f.jsx("li",{children:"'알림 허용' 옵션을 활성화합니다."})]})}),HI=()=>f.jsx("div",{className:"space-y-2",children:f.jsxs("ol",{className:"list-decimal list-inside pl-2 mt-2 space-y-1",children:[f.jsx("li",{children:"'시작' 메뉴에서 '설정'으로 이동합니다."}),f.jsx("li",{children:"'시스템'을 선택한 후 '알림' 탭으로 이동합니다."}),f.jsx("li",{children:"'앱 및 다른 보낸사람의 알림 받기'가 켜져 있는지 확인합니다."}),f.jsx("li",{children:"아래 앱 목록에서 사용 중인 브라우저를 찾아 알림을 켭니다."})]})}),QI=()=>f.jsxs("div",{className:"pl-2 mt-2 space-y-2",children:[f.jsx("p",{children:"모바일 브라우저는 PC와 알림 동작 방식이 다르고 제약이 있을 수 있습니다. 특히 iOS의 Safari는 웹 표준 알림을 지원하지 않습니다."}),f.jsx("p",{className:"font-medium",children:"따라서 모바일 환경에서는 사이트 내에서 직접 보여주는 '토스트 알림' 사용을 적극 권장합니다."})]}),VI=1e3,WI=60*VI,qI={subjectId:-1,seat:-1};function KI(){return rs({queryKey:["preRealSeats"],queryFn:GI,staleTime:10*WI,select:e=>e?.preSeats??null})}async function GI(){return await nv("/preSeats.json")}function b7(e,t,n,r){if(!e||!t)return e||t;const i=e.sort((c,h)=>c.subjectId-h.subjectId),s=t.sort((c,h)=>c.subjectId-h.subjectId),o=[];let a=0,u=0;for(;a<i.length&&u<s.length;)i[a].subjectId===s[u].subjectId?o.push({...i[a++],...s[u++]}):i[a].subjectId<s[u].subjectId?o.push({...r,...i[a++]}):o.push({...n,...s[u++]});for(;a<i.length;)o.push({...r,...i[a++]});for(;u<s.length;)o.push({...n,...s[u++]});return o}function wm(e,t){const{data:n}=KI();return N.useMemo(()=>!e||!n?.length?e:b7(e,n,t??nm,qI),[e,n,t])}const qu={...nm,departmentCode:"",departmentName:"",totalCount:-1},YI=async()=>await nv("/baskets.json");function co(){const{data:e,isPending:t,isLoading:n}=ra(),r=rs({queryKey:["wishlist"],queryFn:YI,staleTime:1/0,select:i=>XI(i,e)});return{...r,isPending:r.isPending||t,isLoading:r.isLoading||n}}const XI=(e,t)=>!e||!t?[]:b7(t,e.baskets,nm,qu).map(r=>({...r,departmentCode:r.deptCd,departmentName:r.manageDeptNm}));function JI(e){const{data:t}=co();return t?.filter(n=>e.includes(n.subjectId))??[]}const ZI=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17,height:17,viewBox:"0 0 17 14.5",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,28.015625)"},N.createElement("path",{d:"M1.0474,27.8750125Q0.538991,28.2031125,0.137615,27.7656125Q-0.183486,27.246112500000002,0.244648,26.8359125L16.0856,14.1484375Q16.594,13.8203125,16.9954,14.2578125Q17.3165,14.7773435,16.8884,15.1875025L14.4801,17.1289025Q14.4801,17.1562525,14.4801,17.1562525Q14.6942,17.6757825,14.3463,18.0859325L14.159,18.3320325Q12.8746,19.8085925,12.8479,21.8046925L12.8479,22.324222499999998Q12.8211,23.9375025,11.8578,25.1133125Q10.9213,26.2890125,9.42278,26.6172125L9.42278,27.1367125Q9.42278,27.519512499999998,9.18196,27.7656125Q8.94113,28.0117125,8.56651,28.0117125Q8.1919,28.0117125,7.95107,27.7656125Q7.71025,27.519512499999998,7.71025,27.1367125L7.71025,26.6172125Q5.94419,26.207012499999998,4.98089,24.7031125L1.0474,27.8750125ZM10.8677,16.6367225L4.28517,21.9414025L10.8677,16.6367225L4.28517,21.9414025L4.28517,21.8046925Q4.25841,19.8085925,3.00077,18.3046925L2.7867,18.0859325Q2.43884,17.6757825,2.65291,17.1562525Q2.89373,16.6640625,3.4289,16.6367225L10.8677,16.6367225ZM9.77064,14.5312505Q10.2791,15.0507825,10.2791,15.7617225L8.56651,15.7617225L6.85398,15.7617225Q6.85398,15.0507825,7.36239,14.5312505Q7.8708,14.01171884,8.56651,14.01171884Q9.26223,14.01171884,9.77064,14.5312505Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),eR=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:13.836064338684082,height:14,viewBox:"-1 -1 15.5 16.5",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,28)"},N.createElement("path",{d:"M13.8033,23.433590000000002Q13.918,23.05078,13.6311,22.777340000000002L12.3689,21.68359Q12.4262,21.35547,12.4262,21Q12.4262,20.64453,12.3689,20.31641L13.6311,19.22266Q13.918,18.94922,13.8033,18.56641Q13.6025,18.07422,13.3443,17.60938L13.2008,17.39062Q12.9139,16.95312,12.5697,16.54297Q12.2828,16.24219,11.8811,16.35156L10.2746,16.84375Q9.70082,16.40625,9.01229,16.16016L8.66803,14.574219Q8.55328,14.191406,8.12295,14.109375Q7.54918,14,6.91803,14Q6.28688,14,5.68443,14.109375Q5.28279,14.191406,5.16803,14.574219L4.82377,16.16016Q4.13525,16.40625,3.56148,16.84375L1.95492,16.35156Q1.55328,16.24219,1.26639,16.54297Q0.893443,16.95312,0.635246,17.39062L0.491803,17.60938Q0.233607,18.07422,0.0327869,18.53906Q-0.0819672,18.94922,0.204918,19.22266L1.46721,20.28906Q1.40984,20.64453,1.40984,21Q1.40984,21.35547,1.46721,21.68359L0.204918,22.777340000000002Q-0.0819672,23.05078,0.0327869,23.433590000000002Q0.233607,23.92578,0.491803,24.3906L0.635246,24.6094Q0.893443,25.0469,1.26639,25.457Q1.55328,25.7578,1.95492,25.648400000000002L3.56148,25.1562Q4.13525,25.5937,4.82377,25.8672L5.16803,27.425800000000002Q5.28279,27.8086,5.71311,27.8906Q6.28688,28,6.91803,28Q7.54918,28,8.15164,27.8906Q8.55328,27.8086,8.66803,27.425800000000002L9.01229,25.8672Q9.70082,25.5937,10.2746,25.1562L11.8811,25.648400000000002Q12.2828,25.7578,12.5697,25.457Q12.9426,25.0469,13.2295,24.6094L13.3443,24.3906Q13.6025,23.92578,13.8033,23.433590000000002ZM6.91803,18.8125Q8.20902,18.83984,8.89754,19.90625Q9.52869,21,8.89754,22.09375Q8.20902,23.160159999999998,6.91803,23.1875Q5.62705,23.160159999999998,4.93852,22.09375Q4.30738,21,4.93852,19.90625Q5.62705,18.83984,6.91803,18.8125Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),tR=()=>{const[e,t]=N.useState(!1),{isAlarm:n,changeAlarm:r}=qE(),{isError:i,refetch:s}=iv(em.PINNED);return f.jsxs(f.Fragment,{children:[f.jsx(SI,{isOpen:e,close:()=>t(!1)}),f.jsx(II,{}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between align-top",children:[f.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[f.jsx("h2",{className:"font-bold text-lg",children:"여석 과목 알림"}),f.jsx(bI,{children:f.jsxs("p",{className:"text-sm",children:["여석이 생기면 알림을 보내드려요 ",f.jsx("br",{}),f.jsx("span",{className:"text-red-500",children:"* 탭을 닫으면 알림이 울리지 않아요"})]})})]}),f.jsxs("div",{className:"flex gap-1 items-center",children:[i&&f.jsx("button",{className:"p-2 rounded-full hover:bg-blue-100","aria-label":"알림 재연결",title:"알림 재연결",onClick:s,children:f.jsx(h7,{className:"w-5 h-5"})}),f.jsx("button",{className:"p-2 rounded-full hover:bg-blue-100","aria-label":"알림 설정",title:"알림 설정",onClick:()=>t(!0),children:f.jsx(eR,{className:"w-5 h-5"})}),f.jsx("button",{className:"group relative p-2 rounded-full hover:bg-blue-100","aria-label":n?"알림 끄기":"알림 켜기",title:n?"알림 끄기":"알림 켜기",onClick:r,children:f.jsx(nR,{isAlarm:n})})]})]}),f.jsx(rR,{})]})]})};function nR({isAlarm:e}){const t=Eu(s=>s.sseState),n=Xo(s=>s.isPermitted),r=t===rv.LIVE,i=r?ci.getDeniedMessage():[...ci.getDeniedMessage(),"실시간 연결이 끊어졌어요"];return e?n&&r?f.jsx(Ep,{className:"w-5 h-5 text-blue-500"}):f.jsxs(f.Fragment,{children:[f.jsx(Ep,{className:"w-5 h-5 text-red-500 animate-pulse"}),i.length>0&&f.jsx("span",{className:"absolute left-full -bottom-2 transform -translate-x-full translate-y-full opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-gray-900 text-white text-sm p-2 rounded w-64 h-fit text-center pointer-events-none",children:i.map((s,o)=>f.jsx("p",{className:"pt-1 first:pt-0",children:s},"tooltip-line-"+o))})]}):f.jsx(ZI,{className:"w-5 h-5"})}function rR(){const{data:e,isPending:t,isError:n,refetch:r}=bm(),{data:i}=iv(em.PINNED),s=JI(e?.map(u=>u.subjectId)??[]),o=u=>i?.find(h=>h.subjectId===u)?.seatCount??-1,a=u=>i?.find(h=>h.subjectId===u)?.queryTime??"";return t?f.jsx("div",{className:"animate-pulse grid grid-cols-1 md:grid-cols-3 gap-4",children:[0,0,0].map((u,c)=>f.jsx("div",{className:"bg-gray-300 shadow-sm rounded-lg p-4 h-24"},"skeleton-card-"+c))}):n?f.jsx(f7,{onReload:r}):!s||s.length===0?f.jsx(OI,{}):f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.map(u=>f.jsx(NI,{subject:u,seats:o(u.subjectId),queryTime:a(u.subjectId)},`${u.subjectId}_${u.subjectCode}_${u.professorName}`)),s.length<5?f.jsx(x7,{}):f.jsx(iR,{})]})}function iR(){return f.jsx("div",{className:"p-2 rounded-full flex items-center justify-center",children:f.jsx("p",{className:"bg-gray-50 rounded-full px-4 py-2 text-sm border border-gray-200",children:"알림 과목은 최대 5개까지 등록할 수 있어요."})})}const Jd=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16,height:16,viewBox:"0 0 16 16",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,32)"},N.createElement("path",{d:"M13,25.5Q12.9688,23.3125,11.75,21.65625L15.7188,17.71875Q16,17.40625,16,17Q16,16.59375,15.7188,16.28125Q15.4062,16,15,16Q14.5938,16,14.2812,16.28125L10.3438,20.25Q8.6875,19.03125,6.5,19Q3.75,19.0625,1.90625,20.90625Q0.0625,22.75,0,25.5Q0.0625,28.25,1.90625,30.0938Q3.75,31.9375,6.5,32Q9.25,31.9375,11.0938,30.0938Q12.9375,28.25,13,25.5ZM6.5,21Q7.71875,21,8.75,21.59375Q9.78125,22.1875,10.4062,23.25Q11,24.3125,11,25.5Q11,26.6875,10.4062,27.75Q9.78125,28.8125,8.75,29.4062Q7.71875,30,6.5,30Q5.28125,30,4.25,29.4062Q3.21875,28.8125,2.59375,27.75Q2,26.6875,2,25.5Q2,24.3125,2.59375,23.25Q3.21875,22.1875,4.25,21.59375Q5.28125,21,6.5,21Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function vl({onDelete:e,...t}){const n=N.useRef(null);return f.jsxs("div",{className:"relative flex items-center w-full",children:[f.jsx(Jd,{onClick:r=>{r.preventDefault(),n.current?.focus()},className:"absolute left-3 top-3 text-gray-500"}),f.jsx("input",{ref:n,type:"text",className:"pl-10 pr-6 py-2 rounded-md w-full bg-white border border-gray-400 "+(t.className??""),...t}),f.jsx("button",{className:"absolute right-2 top-0 bottom-0 cursor-pointer","aria-label":"입력 내용 삭제",onClick:r=>{r.preventDefault(),e&&e(),n.current?.focus()},children:f.jsx(Gy,{className:"w-3 h-3"})})]})}function Zd({id:e,className:t,value:n,defaultValue:r="전체",...i}){const{data:s}=Vu(),o=[{departmentName:r,departmentCode:""},...s??[]],a=e??"department-filter";return f.jsxs(f.Fragment,{children:[f.jsx("label",{htmlFor:a,className:"hidden",children:"학과"}),f.jsx("select",{id:a,className:"pl-2 pr-4 py-2 rounded-md bg-white border border-gray-400 "+t,value:n,...i,children:o.map(({departmentName:u,departmentCode:c})=>f.jsx("option",{value:c,children:u},c))})]})}let Gr;function w7(){return Gr||(Gr=JSON.parse(localStorage.getItem("departmentRank")??"{}"),Gr)}function sR(){Gr&&localStorage.setItem("departmentRank",JSON.stringify(Gr))}function _m(e){Gr||(Gr=w7()),Gr[e]===void 0?Gr[e]=0:Gr[e]+=1,sR()}function _7(){return Gr||(Gr=w7()),Object.entries(Gr).sort(([,e],[,t])=>t-e)}function eh(e){const t=N.useMemo(()=>{const r=_7();return new Map(r.map(([i,s],o)=>[i,o]))},[]),n=N.useMemo(()=>{if(e)return oR(e)},[e]);return N.useMemo(()=>{if(!n)return;const r=o=>{const a=t.get(o);return a===void 0?5:a};return n.map(o=>{const u=(5-r(o.departmentCode))*250+o.rank*100-Number(o.classCode);return{...o,searchScore:u}}).sort((o,a)=>a.searchScore-o.searchScore).map(({searchScore:o,...a})=>a)},[t,n])}function oR(e){const t=new Map;for(const n of e){const r=`${n.subjectCode}-${n.departmentCode}`,i=t.get(r);i?(i.sum+=n.totalCount,i.count+=1):t.set(r,{sum:n.totalCount,count:1})}return e.map(n=>{const r=`${n.subjectCode}-${n.departmentCode}`,i=t.get(r),s=i.sum/i.count;return{...n,rank:s}})}const aR=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Md(async()=>{const{default:r}=await Promise.resolve().then(()=>Ku);return{default:r}},[]).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Ov extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class lR extends Ov{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class X3 extends Ov{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class J3 extends Ov{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Z1;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Z1||(Z1={}));var uR=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(p){o(p)}}function u(h){try{c(r.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};class cR{constructor(t,{headers:n={},customFetch:r,region:i=Z1.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=aR(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return uR(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let a={},{region:u}=n;u||(u=this.region);const c=new URL(`${this.url}/${t}`);u&&u!=="any"&&(a["x-region"]=u,c.searchParams.set("forceFunctionRegion",u));let h;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(a["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(a["Content-Type"]="application/json",h=JSON.stringify(o)));const p=yield this.fetch(c.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:h}).catch(S=>{throw new lR(S)}),g=p.headers.get("x-relay-error");if(g&&g==="true")throw new X3(p);if(!p.ok)throw new J3(p);let x=((r=p.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return x==="application/json"?w=yield p.json():x==="application/octet-stream"?w=yield p.blob():x==="text/event-stream"?w=p:x==="multipart/form-data"?w=yield p.formData():w=yield p.text(),{data:w,error:null,response:p}}catch(i){return{data:null,error:i,response:i instanceof J3||i instanceof X3?i.context:void 0}}})}}var Zn={},lu={},uu={},cu={},du={},hu={},dR=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Bu=dR();const hR=Bu.fetch,S7=Bu.fetch.bind(Bu),C7=Bu.Headers,fR=Bu.Request,pR=Bu.Response,Ku=Object.freeze(Object.defineProperty({__proto__:null,Headers:C7,Request:fR,Response:pR,default:S7,fetch:hR},Symbol.toStringTag,{value:"Module"})),mR=s9(Ku);var Mf={},Z3;function k7(){if(Z3)return Mf;Z3=1,Object.defineProperty(Mf,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Mf.default=e,Mf}var e5;function j7(){if(e5)return hu;e5=1;var e=hu&&hu.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(hu,"__esModule",{value:!0});const t=e(mR),n=e(k7());class r{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=Object.assign({},this.headers),this.headers[s]=o,this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let u=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var h,p,g;let x=null,w=null,S=null,C=c.status,E=c.statusText;if(c.ok){if(this.method!=="HEAD"){const $=await c.text();$===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?w=$:w=JSON.parse($))}const A=(h=this.headers.Prefer)===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),B=(p=c.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");A&&B&&B.length>1&&(S=parseInt(B[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(x={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,S=null,C=406,E="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const A=await c.text();try{x=JSON.parse(A),Array.isArray(x)&&c.status===404&&(w=[],x=null,C=200,E="OK")}catch{c.status===404&&A===""?(C=204,E="No Content"):x={message:A}}if(x&&this.isMaybeSingle&&(!((g=x?.details)===null||g===void 0)&&g.includes("0 rows"))&&(x=null,C=200,E="OK"),x&&this.shouldThrowOnError)throw new n.default(x)}return{error:x,data:w,count:S,status:C,statusText:E}});return this.shouldThrowOnError||(u=u.catch(c=>{var h,p,g;return{error:{message:`${(h=c?.name)!==null&&h!==void 0?h:"FetchError"}: ${c?.message}`,details:`${(p=c?.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(g=c?.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),u.then(s,o)}returns(){return this}overrideTypes(){return this}}return hu.default=r,hu}var t5;function E7(){if(t5)return du;t5=1;var e=du&&du.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(du,"__esModule",{value:!0});const t=e(j7());class n extends t.default{select(i){let s=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:a,referencedTable:u=a}={}){const c=u?`${u}.order`:"order",h=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${h?`${h},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:a=o}={}){const u=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(c,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:a=!1,wal:u=!1,format:c="text"}={}){var h;const p=[i?"analyze":null,s?"verbose":null,o?"settings":null,a?"buffers":null,u?"wal":null].filter(Boolean).join("|"),g=(h=this.headers.Accept)!==null&&h!==void 0?h:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${g}"; options=${p};`,c==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return du.default=n,du}var n5;function Lv(){if(n5)return cu;n5=1;var e=cu&&cu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(cu,"__esModule",{value:!0});const t=e(E7());class n extends t.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const o=Array.from(new Set(s)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:o,type:a}={}){let u="";a==="plain"?u="pl":a==="phrase"?u="ph":a==="websearch"&&(u="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${u}fts${c}.${s}`),this}match(i){return Object.entries(i).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(i,s,o){return this.url.searchParams.append(i,`not.${s}.${o}`),this}or(i,{foreignTable:s,referencedTable:o=s}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${i})`),this}filter(i,s,o){return this.url.searchParams.append(i,`${s}.${o}`),this}}return cu.default=n,cu}var r5;function T7(){if(r5)return uu;r5=1;var e=uu&&uu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(uu,"__esModule",{value:!0});const t=e(Lv());class n{constructor(i,{headers:s={},schema:o,fetch:a}){this.url=i,this.headers=s,this.schema=o,this.fetch=a}select(i,{head:s=!1,count:o}={}){const a=s?"HEAD":"GET";let u=!1;const c=(i??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",c),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:s,defaultToNull:o=!0}={}){const a="POST",u=[];if(this.headers.Prefer&&u.push(this.headers.Prefer),s&&u.push(`count=${s}`),o||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(i)){const c=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(c.length>0){const h=[...new Set(c)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:a,defaultToNull:u=!0}={}){const c="POST",h=[`resolution=${o?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&h.push(this.headers.Prefer),a&&h.push(`count=${a}`),u||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(i)){const p=i.reduce((g,x)=>g.concat(Object.keys(x)),[]);if(p.length>0){const g=[...new Set(p)].map(x=>`"${x}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:s}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),this.headers.Prefer=a.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const s="DELETE",o=[];return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return uu.default=n,uu}var Qc={},Vc={},i5;function gR(){return i5||(i5=1,Object.defineProperty(Vc,"__esModule",{value:!0}),Vc.version=void 0,Vc.version="0.0.0-automated"),Vc}var s5;function yR(){if(s5)return Qc;s5=1,Object.defineProperty(Qc,"__esModule",{value:!0}),Qc.DEFAULT_HEADERS=void 0;const e=gR();return Qc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Qc}var o5;function vR(){if(o5)return lu;o5=1;var e=lu&&lu.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(lu,"__esModule",{value:!0});const t=e(T7()),n=e(Lv()),r=yR();class i{constructor(o,{headers:a={},schema:u,fetch:c}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=u,this.fetch=c}from(o){const a=new URL(`${this.url}/${o}`);return new t.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:u=!1,get:c=!1,count:h}={}){let p;const g=new URL(`${this.url}/rpc/${o}`);let x;u||c?(p=u?"HEAD":"GET",Object.entries(a).filter(([S,C])=>C!==void 0).map(([S,C])=>[S,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([S,C])=>{g.searchParams.append(S,C)})):(p="POST",x=a);const w=Object.assign({},this.headers);return h&&(w.Prefer=`count=${h}`),new n.default({method:p,url:g,headers:w,schema:this.schemaName,body:x,fetch:this.fetch,allowEmpty:!1})}}return lu.default=i,lu}var a5;function xR(){if(a5)return Zn;a5=1;var e=Zn&&Zn.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.PostgrestError=Zn.PostgrestBuilder=Zn.PostgrestTransformBuilder=Zn.PostgrestFilterBuilder=Zn.PostgrestQueryBuilder=Zn.PostgrestClient=void 0;const t=e(vR());Zn.PostgrestClient=t.default;const n=e(T7());Zn.PostgrestQueryBuilder=n.default;const r=e(Lv());Zn.PostgrestFilterBuilder=r.default;const i=e(E7());Zn.PostgrestTransformBuilder=i.default;const s=e(j7());Zn.PostgrestBuilder=s.default;const o=e(k7());return Zn.PostgrestError=o.default,Zn.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:o.default},Zn}var bR=xR();const wR=fi(bR),{PostgrestClient:_R,PostgrestQueryBuilder:AK,PostgrestFilterBuilder:DK,PostgrestTransformBuilder:IK,PostgrestBuilder:RK,PostgrestError:MK}=wR;function SR(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const CR=SR(),kR="2.11.15",jR=`realtime-js/${kR}`,ER="1.0.0",N7=1e4,TR=1e3;var fd;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(fd||(fd={}));var pr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(pr||(pr={}));var Yi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Yi||(Yi={}));var ey;(function(e){e.websocket="websocket"})(ey||(ey={}));var Ga;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ga||(Ga={}));class NR{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+i));o=o+i;const u=r.decode(t.slice(o,o+s));o=o+s;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:u,payload:c}}}class P7{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var sn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(sn||(sn={}));const l5=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,o)=>(s[o]=PR(o,e,t,i),s),{})},PR=(e,t,n,r)=>{const i=t.find(a=>a.name===e),s=i?.type,o=n[e];return s&&!r.includes(s)?O7(s,o):ty(o)},O7=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return DR(t,n)}switch(e){case sn.bool:return OR(t);case sn.float4:case sn.float8:case sn.int2:case sn.int4:case sn.int8:case sn.numeric:case sn.oid:return LR(t);case sn.json:case sn.jsonb:return AR(t);case sn.timestamp:return IR(t);case sn.abstime:case sn.date:case sn.daterange:case sn.int4range:case sn.int8range:case sn.money:case sn.reltime:case sn.text:case sn.time:case sn.timestamptz:case sn.timetz:case sn.tsrange:case sn.tstzrange:return ty(t);default:return ty(t)}},ty=e=>e,OR=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},LR=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},AR=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},DR=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const o=e.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>O7(t,a))}return e},IR=e=>typeof e=="string"?e.replace(" ","T"):e,L7=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class z0{constructor(t,n,r={},i=N7){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var u5;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(u5||(u5={}));class pd{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=pd.syncState(this.state,i,s,o),this.pendingDiffs.forEach(u=>{this.state=pd.syncDiff(this.state,u,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=pd.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),o=this.transformState(n),a={},u={};return this.map(s,(c,h)=>{o[c]||(u[c]=h)}),this.map(o,(c,h)=>{const p=s[c];if(p){const g=h.map(C=>C.presence_ref),x=p.map(C=>C.presence_ref),w=h.filter(C=>x.indexOf(C.presence_ref)<0),S=p.filter(C=>g.indexOf(C.presence_ref)<0);w.length>0&&(a[c]=w),S.length>0&&(u[c]=S)}else a[c]=h}),this.syncDiff(s,{joins:a,leaves:u},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,u)=>{var c;const h=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(u),h.length>0){const p=t[a].map(x=>x.presence_ref),g=h.filter(x=>p.indexOf(x.presence_ref)<0);t[a].unshift(...g)}r(a,h,u)}),this.map(o,(a,u)=>{let c=t[a];if(!c)return;const h=u.map(p=>p.presence_ref);c=c.filter(p=>h.indexOf(p.presence_ref)<0),t[a]=c,i(a,c,u),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var c5;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(c5||(c5={}));var d5;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(d5||(d5={}));var Ys;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ys||(Ys={}));class Av{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=pr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new z0(this,Yi.join,this.params,this.timeout),this.rejoinTimer=new P7(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=pr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yi.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new pd(this),this.broadcastEndpointURL=L7(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==pr.closed){const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(h=>t?.(Ys.CHANNEL_ERROR,h)),this._onClose(()=>t?.(Ys.CLOSED));const u={},c={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},u)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var p;if(this.socket.setAuth(),h===void 0){t?.(Ys.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,x=(p=g?.length)!==null&&p!==void 0?p:0,w=[];for(let S=0;S<x;S++){const C=g[S],{filter:{event:E,schema:L,table:A,filter:B}}=C,$=h&&h[S];if($&&$.event===E&&$.schema===L&&$.table===A&&$.filter===B)w.push(Object.assign(Object.assign({},C),{id:$.id}));else{this.unsubscribe(),this.state=pr.errored,t?.(Ys.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(Ys.SUBSCRIBED);return}}).receive("error",h=>{this.state=pr.errored,t?.(Ys.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t?.(Ys.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,u;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=pr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yi.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new z0(this,Yi.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new z0(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const o=t.toLocaleLowerCase(),{close:a,error:u,leave:c,join:h}=Yi;if(r&&[a,u,c,h].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var w,S,C;return((w=x.filter)===null||w===void 0?void 0:w.event)==="*"||((C=(S=x.filter)===null||S===void 0?void 0:S.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===o}).map(x=>x.callback(g,r)):(s=this.bindings[o])===null||s===void 0||s.filter(x=>{var w,S,C,E,L,A;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in x){const B=x.id,$=(w=x.filter)===null||w===void 0?void 0:w.event;return B&&((S=n.ids)===null||S===void 0?void 0:S.includes(B))&&($==="*"||$?.toLocaleLowerCase()===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const B=(L=(E=x?.filter)===null||E===void 0?void 0:E.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return B==="*"||B===((A=n?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===o}).map(x=>{if(typeof g=="object"&&"ids"in g){const w=g.data,{schema:S,table:C,commit_timestamp:E,type:L,errors:A}=w;g=Object.assign(Object.assign({},{schema:S,table:C,commit_timestamp:E,eventType:L,new:{},old:{},errors:A}),this._getPayloadRecords(w))}x.callback(g,r)})}_isClosed(){return this.state===pr.closed}_isJoined(){return this.state===pr.joined}_isJoining(){return this.state===pr.joining}_isLeaving(){return this.state===pr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Av.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Yi.close,{},t)}_onError(t){this._on(Yi.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=l5(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=l5(t.columns,t.old_record)),n}}const h5=()=>{},RR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class MR{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=N7,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=h5,this.ref=0,this.logger=h5,this.conn=null,this.sendBuffer=[],this.serializer=new NR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>Md(async()=>{const{default:u}=await Promise.resolve().then(()=>Ku);return{default:u}},void 0).then(({default:u})=>u(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${ey.websocket}`,this.httpEndpoint=L7(t),n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n?.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new P7(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch),n?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=n?.worker||!1,this.workerUrl=n?.workerUrl}this.accessToken=n?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=CR),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ER}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case fd.connecting:return Ga.Connecting;case fd.open:return Ga.Open;case fd.closing:return Ga.Closing;default:return Ga.Closed}}isConnected(){return this.connectionState()===Ga.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new Av(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,o=()=>{this.encode(t,a=>{var u;(u=this.conn)===null||u===void 0||u.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:jR};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Yi.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(TR,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Yi.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([RR],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Dv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function er(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class FR extends Dv{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ny extends Dv{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var BR=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(p){o(p)}}function u(h){try{c(r.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};const A7=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Md(async()=>{const{default:r}=await Promise.resolve().then(()=>Ku);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},zR=()=>BR(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Md(()=>Promise.resolve().then(()=>Ku),void 0)).Response:Response}),ry=e=>{if(Array.isArray(e))return e.map(n=>ry(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=ry(r)}),t},$R=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var xl=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(p){o(p)}}function u(h){try{c(r.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};const $0=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),UR=(e,t,n)=>xl(void 0,void 0,void 0,function*(){const r=yield zR();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{const s=e.status||500,o=i?.statusCode||s+"";t(new FR($0(i),s,o))}).catch(i=>{t(new ny($0(i),i))}):t(new ny($0(e),e))}),HR=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:($R(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n))};function th(e,t,n,r,i,s){return xl(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,HR(t,r,i,s)).then(u=>{if(!u.ok)throw u;return r?.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>UR(u,a,r))})})}function Bp(e,t,n,r){return xl(this,void 0,void 0,function*(){return th(e,"GET",t,n,r)})}function Xs(e,t,n,r,i){return xl(this,void 0,void 0,function*(){return th(e,"POST",t,r,i,n)})}function iy(e,t,n,r,i){return xl(this,void 0,void 0,function*(){return th(e,"PUT",t,r,i,n)})}function QR(e,t,n,r){return xl(this,void 0,void 0,function*(){return th(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function D7(e,t,n,r,i){return xl(this,void 0,void 0,function*(){return th(e,"DELETE",t,r,i,n)})}var Qr=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(p){o(p)}}function u(h){try{c(r.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};const VR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},f5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class WR{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=A7(i)}uploadOrUpdate(t,n,r,i){return Qr(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},f5),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),u&&s.append("metadata",this.encodeMetadata(u)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),u&&s.append("metadata",this.encodeMetadata(u))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,u&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),h=this._getFinalPath(c),p=yield(t=="PUT"?iy:Xs)(this.fetch,`${this.url}/object/${h}`,s,Object.assign({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:p.Id,fullPath:p.Key},error:null}}catch(s){if(er(s))return{data:null,error:s};throw s}})}upload(t,n,r){return Qr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Qr(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let u;const c=Object.assign({upsert:f5.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",c.cacheControl)):(u=r,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType);const p=yield iy(this.fetch,a.toString(),u,{headers:h});return{data:{path:s,fullPath:p.Key},error:null}}catch(u){if(er(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,n){return Qr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const s=yield Xs(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new Dv("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(er(r))return{data:null,error:r};throw r}})}update(t,n,r){return Qr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Qr(this,void 0,void 0,function*(){try{return{data:yield Xs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(er(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Qr(this,void 0,void 0,function*(){try{return{data:{path:(yield Xs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(er(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Qr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Xs(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(er(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Qr(this,void 0,void 0,function*(){try{const i=yield Xs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(er(i))return{data:null,error:i};throw i}})}download(t,n){return Qr(this,void 0,void 0,function*(){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(n?.transform||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Bp(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(er(a))return{data:null,error:a};throw a}})}info(t){return Qr(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Bp(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ry(r),error:null}}catch(r){if(er(r))return{data:null,error:r};throw r}})}exists(t){return Qr(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield QR(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(er(r)&&r instanceof ny){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n?.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof n?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(n?.transform||{});u!==""&&i.push(u);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return Qr(this,void 0,void 0,function*(){try{return{data:yield D7(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(er(n))return{data:null,error:n};throw n}})}list(t,n,r){return Qr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},VR),n),{prefix:t||""});return{data:yield Xs(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(er(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const qR="2.10.4",KR={"X-Client-Info":`storage-js/${qR}`};var fu=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(p){o(p)}}function u(h){try{c(r.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};class GR{constructor(t,n={},r,i){const s=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},KR),n),this.fetch=A7(r)}listBuckets(){return fu(this,void 0,void 0,function*(){try{return{data:yield Bp(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(er(t))return{data:null,error:t};throw t}})}getBucket(t){return fu(this,void 0,void 0,function*(){try{return{data:yield Bp(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(er(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return fu(this,void 0,void 0,function*(){try{return{data:yield Xs(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(er(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return fu(this,void 0,void 0,function*(){try{return{data:yield iy(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(er(r))return{data:null,error:r};throw r}})}emptyBucket(t){return fu(this,void 0,void 0,function*(){try{return{data:yield Xs(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(er(n))return{data:null,error:n};throw n}})}deleteBucket(t){return fu(this,void 0,void 0,function*(){try{return{data:yield D7(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(er(n))return{data:null,error:n};throw n}})}}class YR extends GR{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new WR(this.url,this.headers,t,this.fetch)}}const XR="2.53.0";let od="";typeof Deno<"u"?od="deno":typeof document<"u"?od="web":typeof navigator<"u"&&navigator.product==="ReactNative"?od="react-native":od="node";const JR={"X-Client-Info":`supabase-js-${od}/${XR}`},ZR={headers:JR},eM={schema:"public"},tM={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},nM={};var rM=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(p){o(p)}}function u(h){try{c(r.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};const iM=e=>{let t;return e?t=e:typeof fetch>"u"?t=S7:t=fetch,(...n)=>t(...n)},sM=()=>typeof Headers>"u"?C7:Headers,oM=(e,t,n)=>{const r=iM(n),i=sM();return(s,o)=>rM(void 0,void 0,void 0,function*(){var a;const u=(a=yield t())!==null&&a!==void 0?a:e;let c=new i(o?.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),r(s,Object.assign(Object.assign({},o),{headers:c}))})};var aM=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(p){o(p)}}function u(h){try{c(r.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};function lM(e){return e.endsWith("/")?e:e+"/"}function uM(e,t){var n,r;const{db:i,auth:s,realtime:o,global:a}=e,{db:u,auth:c,realtime:h,global:p}=t,g={db:Object.assign(Object.assign({},u),i),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},h),o),storage:{},global:Object.assign(Object.assign(Object.assign({},p),a),{headers:Object.assign(Object.assign({},(n=p?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>aM(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const I7="2.71.1",Cu=30*1e3,sy=3,U0=sy*Cu,cM="http://localhost:9999",dM="supabase.auth.token",hM={"X-Client-Info":`gotrue-js/${I7}`},oy="X-Supabase-Api-Version",R7={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},fM=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,pM=600*1e3;class Iv extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ct(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class mM extends Iv{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function gM(e){return Ct(e)&&e.name==="AuthApiError"}class M7 extends Iv{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class oa extends Iv{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class $o extends oa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function yM(e){return Ct(e)&&e.name==="AuthSessionMissingError"}class Ff extends oa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Bf extends oa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class zf extends oa{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function vM(e){return Ct(e)&&e.name==="AuthImplicitGrantRedirectError"}class p5 extends oa{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ay extends oa{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function H0(e){return Ct(e)&&e.name==="AuthRetryableFetchError"}class m5 extends oa{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ly extends oa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const zp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),g5=` 	
\r=`.split(""),xM=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<g5.length;t+=1)e[g5[t].charCodeAt(0)]=-2;for(let t=0;t<zp.length;t+=1)e[zp[t].charCodeAt(0)]=t;return e})();function y5(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(zp[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(zp[r]),t.queuedBits-=6}}function F7(e,t,n){const r=xM[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function v5(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{_M(o,r,n)};for(let o=0;o<e.length;o+=1)F7(e.charCodeAt(o),i,s);return t.join("")}function bM(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function wM(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}bM(r,t)}}function _M(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function SM(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)F7(e.charCodeAt(i),n,r);return new Uint8Array(t)}function CM(e){const t=[];return wM(e,n=>t.push(n)),new Uint8Array(t)}function kM(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>y5(i,n,r)),y5(null,n,r),t.join("")}function jM(e){return Math.round(Date.now()/1e3)+e}function EM(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Gi=()=>typeof window<"u"&&typeof document<"u",Ba={tested:!1,writable:!1},B7=()=>{if(!Gi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ba.tested)return Ba.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ba.tested=!0,Ba.writable=!0}catch{Ba.tested=!0,Ba.writable=!1}return Ba.writable};function TM(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const z7=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Md(async()=>{const{default:r}=await Promise.resolve().then(()=>Ku);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},NM=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ku=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},za=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Fo=async(e,t)=>{await e.removeItem(t)};class Sm{constructor(){this.promise=new Sm.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Sm.promiseConstructor=Promise;function Q0(e){const t=e.split(".");if(t.length!==3)throw new ly("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!fM.test(t[r]))throw new ly("JWT not in base64url format");return{header:JSON.parse(v5(t[0])),payload:JSON.parse(v5(t[1])),signature:SM(t[2]),raw:{header:t[0],payload:t[1]}}}async function PM(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function OM(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){r(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function LM(e){return("0"+e.toString(16)).substr(-2)}function AM(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,LM).join("")}async function DM(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function IM(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await DM(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pu(e,t,n=!1){const r=AM();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await ku(e,`${t}-code-verifier`,i);const s=await IM(r);return[s,r===s?"plain":"s256"]}const RM=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function MM(e){const t=e.headers.get(oy);if(!t||!t.match(RM))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function FM(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function BM(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const zM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function mu(e){if(!zM.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function V0(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function x5(e){return JSON.parse(JSON.stringify(e))}var $M=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const qa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),UM=[502,503,504];async function b5(e){var t;if(!NM(e))throw new ay(qa(e),0);if(UM.includes(e.status))throw new ay(qa(e),e.status);let n;try{n=await e.json()}catch(s){throw new M7(qa(s),s)}let r;const i=MM(e);if(i&&i.getTime()>=R7["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new m5(qa(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new $o}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new m5(qa(n),e.status,n.weak_password.reasons);throw new mM(qa(n),e.status||500,r)}const HM=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Dt(e,t,n,r){var i;const s=Object.assign({},r?.headers);s[oy]||(s[oy]=R7["2024-01-01"].name),r?.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await QM(e,t,n+a,{headers:s,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}}async function QM(e,t,n,r,i,s){const o=HM(t,r,i,s);let a;try{a=await e(n,Object.assign({},o))}catch(u){throw console.error(u),new ay(qa(u),0)}if(a.ok||await b5(a),r?.noResolveJson)return a;try{return await a.json()}catch(u){await b5(u)}}function Gs(e){var t;let n=null;KM(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=jM(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function w5(e){const t=Gs(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ho(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function VM(e){return{data:e,error:null}}function WM(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,o=$M(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},u=Object.assign({},o);return{data:{properties:a,user:u},error:null}}function qM(e){return e}function KM(e){return e.access_token&&e.refresh_token&&e.expires_in}const W0=["global","local","others"];var GM=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class YM{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=z7(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=W0[0]){if(W0.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${W0.join(", ")}`);try{return await Dt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Dt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ho})}catch(r){if(Ct(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=GM(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await Dt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:WM,redirectTo:n?.redirectTo})}catch(n){if(Ct(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Dt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ho})}catch(n){if(Ct(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,o,a,u;try{const c={nextPage:null,lastPage:0,total:0},h=await Dt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:qM});if(h.error)throw h.error;const p=await h.json(),g=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(u=(a=h.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return x.length>0&&(x.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(w.split(";")[1].split("=")[1]);c[`${C}Page`]=S}),c.total=parseInt(g)),{data:Object.assign(Object.assign({},p),c),error:null}}catch(c){if(Ct(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){mu(t);try{return await Dt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ho})}catch(n){if(Ct(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){mu(t);try{return await Dt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ho})}catch(r){if(Ct(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){mu(t);try{return await Dt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ho})}catch(r){if(Ct(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){mu(t.userId);try{const{data:n,error:r}=await Dt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ct(n))return{data:null,error:n};throw n}}async _deleteFactor(t){mu(t.userId),mu(t.id);try{return{data:await Dt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ct(n))return{data:null,error:n};throw n}}}function _5(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function XM(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const gu={debug:!!(globalThis&&B7()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $7 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class JM extends $7{}async function ZM(e,t,n){gu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),gu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){gu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{gu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw gu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new JM(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(gu.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}XM();const eF={url:cM,storageKey:dM,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:hM,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function S5(e,t,n){return await n()}const yu={};class Ad{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ad.nextInstanceID,Ad.nextInstanceID+=1,this.instanceID>0&&Gi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},eF),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new YM({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=z7(i.fetch),this.lock=i.lock||S5,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Gi()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=ZM:this.lock=S5,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:B7()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_5(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=_5(this.memoryStorage)),Gi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=yu[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){yu[this.storageKey]=Object.assign(Object.assign({},yu[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=yu[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){yu[this.storageKey]=Object.assign(Object.assign({},yu[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${I7}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=TM(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Gi()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),vM(s)){const u=(t=s.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ct(n)?{error:n}:{error:new M7("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await Dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Gs}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(Ct(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:h,password:p,options:g}=t;let x=null,w=null;this.flowType==="pkce"&&([x,w]=await pu(this.storage,this.storageKey)),s=await Dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:h,password:p,data:(n=g?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:x,code_challenge_method:w},xform:Gs})}else if("phone"in t){const{phone:h,password:p,options:g}=t;s=await Dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(r=g?.data)!==null&&r!==void 0?r:{},channel:(i=g?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Gs})}else throw new Bf("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(Ct(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:o,options:a}=t;n=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:w5})}else if("phone"in t){const{phone:s,password:o,options:a}=t;n=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:w5})}else throw new Bf("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ff}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ct(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,i,s,o,a,u,c,h,p,g,x;let w,S;if("message"in t)w=t.message,S=t.signature;else{const{chain:C,wallet:E,statement:L,options:A}=t;let B;if(Gi())if(typeof E=="object")B=E;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))B=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=E}const $=new URL((n=A?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in B&&B.signIn){const P=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:$.host,uri:$.href}),L?{statement:L}:null));let M;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")M=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)M=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)w=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),S=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${$.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${$.href}`,`Issued At: ${(i=(r=A?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=A?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((o=A?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((a=A?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((u=A?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((c=A?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((p=(h=A?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...A.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const P=await B.signMessage(new TextEncoder().encode(w),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=P}}try{const{data:C,error:E}=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:kM(S)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Gs});if(E)throw E;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new Ff}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:E})}catch(C){if(Ct(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(t){const n=await za(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Gs});if(await Fo(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Ff}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(Ct(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=t,a=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Gs}),{data:u,error:c}=a;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Ff}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(n){if(Ct(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,o;try{if("email"in t){const{email:a,options:u}=t;let c=null,h=null;this.flowType==="pkce"&&([c,h]=await pu(this.storage,this.storageKey));const{error:p}=await Dt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(r=u?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:c,code_challenge_method:h},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:a,options:u}=t,{data:c,error:h}=await Dt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(o=u?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c?.message_id},error:h}}throw new Bf("You must provide either an email or phone number.")}catch(a){if(Ct(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await Dt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Gs});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,c=o.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(Ct(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await pu(this.storage,this.storageKey)),await Dt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:VM})}catch(s){if(Ct(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new $o;const{error:i}=await Dt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Ct(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:o}=await Dt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:o,error:a}=await Dt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:a}}throw new Bf("You must provide either an email or phone number and a type")}catch(n){if(Ct(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await za(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<U0:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await za(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=V0()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,c,h)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,h))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Dt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ho}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $o}:await Dt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ho})})}catch(n){if(Ct(n))return yM(n)&&(await this._removeSession(),await Fo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new $o;const o=i.session;let a=null,u=null;this.flowType==="pkce"&&t.email!=null&&([a,u]=await pu(this.storage,this.storageKey));const{data:c,error:h}=await Dt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:u}),jwt:o.access_token,xform:Ho});if(h)throw h;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Ct(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $o;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=Q0(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:a,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:u}=await this._getUser(t.access_token);if(u)throw u;s={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(Ct(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new $o;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ct(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Gi())throw new zf("No browser detected.");if(t.error||t.error_description||t.error_code)throw new zf(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new p5("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new zf("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new p5("No code detected.");const{data:L,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:u,token_type:c}=t;if(!s||!a||!o||!c)throw new zf("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(a);let g=h+p;u&&(g=parseInt(u));const x=g-h;x*1e3<=Cu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${p}s`);const w=g-p;h-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,g,h):h-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,g,h);const{data:S,error:C}=await this._getUser(s);if(C)throw C;const E={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:g,refresh_token:o,token_type:c,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:t.type},error:null}}catch(r){if(Ct(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await za(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(gM(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Fo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=EM(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await pu(this.storage,this.storageKey,!0));try{return await Dt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(Ct(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Ct(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,u,c,h;const{data:p,error:g}=s;if(g)throw g;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Dt(this.fetch,"GET",x,{headers:this.headers,jwt:(h=(c=p.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return Gi()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:t.provider,url:r?.url},error:null}}catch(r){if(Ct(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await Dt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ct(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await OM(async i=>(i>0&&await PM(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Dt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Gs})),(i,s)=>{const o=200*Math.pow(2,i);return s&&H0(s)&&Date.now()+o-r<Cu})}catch(r){if(this._debug(n,"error",r),Ct(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Gi()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await za(this.storage,this.storageKey);if(i&&this.userStorage){let o=await za(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await ku(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:V0()}else if(i&&!i.user&&!i.user){const o=await za(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await Fo(this.storage,this.storageKey+"-user"),await ku(this.storage,this.storageKey,i)):i.user=V0()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<U0;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${U0}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),H0(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new $o;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Sm;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new $o;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),Ct(s)){const o={session:null,error:s};return H0(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(u){s.push(u)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ku(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=x5(i);await ku(this.storage,this.storageKey,s)}else{const i=x5(n);await ku(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Fo(this.storage,this.storageKey),await Fo(this.storage,this.storageKey+"-code-verifier"),await Fo(this.storage,this.storageKey+"-user"),this.userStorage&&await Fo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Gi()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Cu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Cu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Cu}ms, refresh threshold is ${sy} ticks`),i<=sy&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof $7)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Gi()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await pu(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r?.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Dt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ct(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:u,error:c}=await Dt(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(n){if(Ct(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:a}=await Dt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(Ct(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Dt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ct(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=t?.factors||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Q0(i.access_token);let a=null;o.aal&&(a=o.aal);let u=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const h=o.amr||[];return{data:{currentLevel:a,nextLevel:u,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+pM>i)return r;const{data:s,error:o}=await Dt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:x,error:w}=await this.getSession();if(w||!x.session)return{data:null,error:w};r=x.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:u}}=Q0(r);n?.allowExpired||FM(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!c){const{error:x}=await this.getUser(r);if(x)throw x;return{data:{claims:s,header:i,signature:o},error:null}}const h=BM(i.alg),p=await crypto.subtle.importKey("jwk",c,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,o,CM(`${a}.${u}`)))throw new ly("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}}}Ad.nextInstanceID=0;const tF=Ad;class nF extends tF{constructor(t){super(t)}}var rF=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(p){o(p)}}function u(h){try{c(r.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};class iF{constructor(t,n,r){var i,s,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=lM(t),u=new URL(a);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,h={db:eM,realtime:nM,auth:Object.assign(Object.assign({},tM),{storageKey:c}),global:ZR},p=uM(r??{},h);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=p.global.headers)!==null&&s!==void 0?s:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=p.auth)!==null&&o!==void 0?o:{},this.headers,p.global.fetch),this.fetch=oM(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new _R(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new YR(this.storageUrl.href,this.headers,this.fetch,r?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new cR(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return rF(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:a,debug:u},c,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new nF({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),c),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:a,debug:u,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new MR(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const sF=(e,t,n)=>new iF(e,t,n);function oF(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}oF()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");function C5(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var vu=[..."각힣".normalize("NFD")].map(e=>e.charCodeAt(0)),k5=44032,aF=55203,q0=28,j5=21,uy={"":"",ㄱ:"ㄱ",ㄲ:"ㄲ",ㄳ:"ㄱㅅ",ㄴ:"ㄴ",ㄵ:"ㄴㅈ",ㄶ:"ㄴㅎ",ㄷ:"ㄷ",ㄸ:"ㄸ",ㄹ:"ㄹ",ㄺ:"ㄹㄱ",ㄻ:"ㄹㅁ",ㄼ:"ㄹㅂ",ㄽ:"ㄹㅅ",ㄾ:"ㄹㅌ",ㄿ:"ㄹㅍ",ㅀ:"ㄹㅎ",ㅁ:"ㅁ",ㅂ:"ㅂ",ㅃ:"ㅃ",ㅄ:"ㅂㅅ",ㅅ:"ㅅ",ㅆ:"ㅆ",ㅇ:"ㅇ",ㅈ:"ㅈ",ㅉ:"ㅉ",ㅊ:"ㅊ",ㅋ:"ㅋ",ㅌ:"ㅌ",ㅍ:"ㅍ",ㅎ:"ㅎ"},cy={ㅏ:"ㅏ",ㅐ:"ㅐ",ㅑ:"ㅑ",ㅒ:"ㅒ",ㅓ:"ㅓ",ㅔ:"ㅔ",ㅕ:"ㅕ",ㅖ:"ㅖ",ㅗ:"ㅗ",ㅘ:"ㅗㅏ",ㅙ:"ㅗㅐ",ㅚ:"ㅗㅣ",ㅛ:"ㅛ",ㅜ:"ㅜ",ㅝ:"ㅜㅓ",ㅞ:"ㅜㅔ",ㅟ:"ㅜㅣ",ㅠ:"ㅠ",ㅡ:"ㅡ",ㅢ:"ㅡㅣ",ㅣ:"ㅣ"},lF=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],uF=Object.values(cy),cF=["","ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"].map(e=>uy[e]);function dF(e){const t=e.charCodeAt(0);if(!(k5<=t&&t<=aF))return;const r=t-k5,i=r%q0,s=(r-i)/q0%j5,o=Math.floor((r-i)/q0/j5);return{choseong:lF[o],jungseong:uF[s],jongseong:cF[i]}}function hF(e){const t=[];for(const n of e){const r=dF(n);if(r!=null){t.push([...r.choseong,...r.jungseong,...r.jongseong]);continue}if(C5(uy,n)){const i=uy[n];t.push([...i]);continue}if(C5(cy,n)){const i=cy[n];t.push([...i]);continue}t.push([n])}return t}function cl(e){return hF(e).reduce((t,n)=>`${t}${n.join("")}`,"")}var $p={START_CHOSEONG:vu[0],START_JUNGSEONG:vu[1],START_JONGSEONG:vu[2],END_CHOSEONG:vu[3],END_JUNGSEONG:vu[4],END_JONGSEONG:vu[5]};new RegExp(`[^\\u${$p.START_CHOSEONG.toString(16)}-\\u${$p.END_CHOSEONG.toString(16)}ㄱ-ㅎ\\s]+`,"ug");new RegExp(`[\\u${$p.START_CHOSEONG.toString(16)}-\\u${$p.END_CHOSEONG.toString(16)}]`,"g");const fF=sF("https://jvbtsubxzytnjnzxmtbg.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp2YnRzdWJ4enl0bmpuenhtdGJnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQyMzMyMzgsImV4cCI6MjA2OTgwOTIzOH0.uUpg4kO7-uLmswUo8Dp_-WZwKw_xKqxRrpGmM2tN02I"),pF=30*1e3,mF=10*1e3,gF=60*1e3,yF=5,$f="searchLoggingData",vF="searches_dev",St={timer:null,commitDelay:pF,data:[],loadLoggingData(){if(St.data.length>0)return St.data;const e=localStorage.getItem($f);return e&&(St.data=JSON.parse(e)),St.data},updateLoggingData(e,t,n){const r=!t||isNaN(Number(t))?-1:Number(t),s={search:e===void 0&&St.data.length>0?St.data[St.data.length-1].search:e??"",dprt_cd:r,target:n,created_at:Date.now()};if((a=>{if(St.data.length===0)return!1;const u=St.data[St.data.length-1];return u.target<0&&(K0(u.search,a.search)||K0(a.search,u.search))})(s)){const a=St.data[St.data.length-1];a.target=n,a.created_at=Date.now(),K0(s.search,a.search)&&(a.search=s.search),s.dprt_cd>=0&&(a.dprt_cd=s.dprt_cd)}else St.data.push(s);localStorage.setItem($f,JSON.stringify(St.data)),St.submitDelayCommit()},reconcileLoggingData(){St.data=St.data.filter(e=>!(e.search&&e.dprt_cd<0&&e.target<0)),St.data=St.data.filter((e,t)=>!(t>0&&e.search===St.data[t-1].search&&e.dprt_cd===St.data[t-1].dprt_cd&&e.target===-1)),localStorage.setItem($f,JSON.stringify(St.data))},submitDelayCommit(){if(St.timer&&(clearTimeout(St.timer),St.timer=null),St.data.length>yF){const e=St.data.map(r=>r.created_at),t=e.slice(1).map((r,i)=>r-e[i]),n=t.reduce((r,i)=>r+i,0)/t.length;St.commitDelay=Math.min(gF,Math.max(mF,n+10*1e3))}St.timer=setTimeout(()=>{St.timer=null,St.commitLoggingData()},St.commitDelay)},commitLoggingData(){St.reconcileLoggingData();const e=St.data.length;if(e===0)return;const t=St.data.map(({search:n,dprt_cd:r,target:i})=>({search:n,dprt_cd:r,target:i}));fF.from(vF).insert(t).then(({error:n})=>{n?console.error("Error committing search logging data:",n):(St.data=St.data.slice(e),localStorage.setItem($f,JSON.stringify(St.data)))})}};function K0(e,t){const n=cl(e).toLowerCase(),r=cl(t).toLowerCase();return n.includes(r)}function nh(){N.useEffect(()=>{St.loadLoggingData()},[]);function e(r,i){St.updateLoggingData(r,i,-1)}function t(r,i,s){St.updateLoggingData(r,i,s)}function n(r){St.updateLoggingData(void 0,void 0,r)}return{onSearchChange:e,selectTarget:t,selectTargetOnly:n}}function U7({subject:e,className:t,onClick:n,...r}){const{data:i}=bm(),{mutate:s}=Pv(),{mutate:o}=v7(),{selectTargetOnly:a}=nh(),u=i?.some(p=>p.subjectId===e.subjectId),c=u?"알림 과목 해제":"알림 과목 등록",h=p=>{if(a(e.subjectId),_m(e.deptCd),n&&n(p),!u){o(e.subjectId);return}s(e.subjectId)};return f.jsx("button",{className:"cursor-pointer "+(t??""),title:c,"aria-label":c,onClick:h,...r,children:f.jsx(Wu,{disabled:!u})})}function xF({subject:e,seats:t,queryTime:n,disableSeat:r=!1,className:i,isLive:s=!1}){const o=e.isDeleted,a=e.curiLangNm==="영어",u=typeof e.tmNum=="string"&&Number(e.tmNum.split("/")[0])||0;return f.jsxs("div",{className:"bg-gray-50 shadow-sm rounded-lg p-4 "+i,children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("h3",{className:"font-bold",children:e.subjectName}),f.jsx(U7,{subject:e})]}),f.jsxs("div",{className:"mb-2 text-xs text-gray-500",children:[f.jsx("p",{children:e.departmentName}),f.jsxs("p",{children:[e.subjectCode,"-",e.classCode," | ",e.professorName]})]}),f.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:[e.studentYear,"학년 ",e.curiTypeCdNm," | ",u,"학점 | ",e.lesnTime]}),!r&&f.jsxs("div",{className:"flex justify-between items-baseline",children:[f.jsxs("p",{className:`text-sm px-2 py-1 rounded-full font-bold ${gl(t)}`,children:["여석: ",t<0?"???":t]}),!s&&f.jsx("p",{className:"text-xs text-gray-500",children:Tv(n)}),o&&f.jsx("p",{className:"text-xs text-gray-500",children:"폐강"}),a&&f.jsx("p",{className:"text-xs text-gray-500",children:"영어"})]})]})}const G0=45;function Cm(e,t="ref",n=".load-more-trigger"){const[r,i]=N.useState(G0),s=N.useRef(null),o=N.useRef(null);return N.useEffect(()=>{i(G0)},[e]),N.useEffect(()=>{const a=new IntersectionObserver(u=>{u.forEach(c=>{c.isIntersecting&&i(h=>h+G0)})},{root:null,rootMargin:"0px",threshold:.5});return o.current=a,t==="ref"&&s.current?a.observe(s.current):t==="selector"&&document.querySelectorAll(n).forEach(c=>a.observe(c)),()=>{a.disconnect()}},[e,t,n]),{visibleRows:r,...t==="ref"?{loadMoreRef:s}:{}}}function Rv({subjects:e,isPending:t=!1,className:n="",isLive:r=!1}){return f.jsx("div",{className:"flex flex-col gap-2 "+n,children:f.jsx(bF,{subjects:e,isPending:t,isLive:r})})}function bF({subjects:e,isPending:t=!1,isLive:n=!1}){const{visibleRows:r,loadMoreRef:i}=Cm(e),s=e?e.slice(0,r):[];return t||!e?f.jsx("div",{className:"animate-pulse grid grid-cols-1 md:grid-cols-3 gap-4",children:[0,0,0].map((o,a)=>f.jsx("div",{className:"bg-gray-300 shadow-sm rounded-lg p-4 h-24"},"skeleton-card-"+a))}):e.length?f.jsxs(f.Fragment,{children:[s.map(o=>f.jsx(xF,{subject:o,seats:"seat"in o?o.seat??-1:-1,disableSeat:!("seat"in o),className:"bg-white",isLive:n},o.subjectId)),f.jsx("div",{ref:i,className:"load-more-trigger opacity-0",children:"불러오는 중"})]}):f.jsx("div",{className:"text-center py-4",children:f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx(Jd,{className:"w-12 h-12"}),f.jsx("p",{className:"text-gray-500 font-bold mt-4",children:"검색된 과목이 없습니다."}),f.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"다른 검색어로 다시 시도해보세요."})]})})}function wF(e,t){if(!e.lesnTime)return!0;const n=RegExp(/^([가-힣]+)/).exec(e.lesnTime);if(!n)return!1;if(t.includes("전체")||t.length===0)return!0;const r=n[1].split("");return t.some(i=>r.includes(i))}function _F(e,t){const n=Number(e.studentYear);return!n||t.includes("전체")||t.length===0?!0:t.includes(n)}function SF(e,t){return!t||t===""||t===e.deptCd}function CF(e,t,n){if(!t)return!0;const r=e.professorName?cl(e.professorName).toLowerCase():"",i=e.subjectName.replace(/[^\w\sㄱ-ㅎㅏ-ㅣ가-힣]/g,"").replace(/\s+/g,""),s=cl(i).toLowerCase(),a=(e.subjectCode+e.classCode).toLowerCase().includes(n);return r.includes(t)||s.includes(t)||a}function Gu({subjects:e,searchKeywords:t,selectedDays:n,selectedDepartment:r,selectedGrades:i,isFavorite:s,isPinned:o,pickedFavorites:a=()=>!1}){const{onSearchChange:u}=nh(),{data:c}=bm();if(!e||e.length===0)return[];u(t,r);const h=S=>c?.some(({subjectId:C})=>C===S),p=t.replace(/[^\w\sㄱ-ㅎㅏ-ㅣ가-힣]/g,"").replace(/\s+/g,""),g=cl(p).toLowerCase(),w=(S=>S.replace(/[-\s]/g,"").toLowerCase())(t);return e.filter(S=>{const C=SF(S,r),E=i?_F(S,i):!0,L=n?wF(S,n):!0,A=CF(S,g,w),B=!s||a(S.subjectId),$=!o||h(S.subjectId);return C&&E&&L&&A&&B&&$})}const kF={enter:"sidebar-transition-enter",enterActive:"sidebar-transition-enter-active",exit:"sidebar-transition-exit",exitActive:"sidebar-transition-exit-active"},jF=({isOpen:e,onClose:t})=>{const[n,r]=N.useState(""),[i,s]=N.useState(""),{data:o,isPending:a}=co(),u=eh(o),c=N.useDeferredValue(Gu({subjects:u??[],searchKeywords:n,selectedDepartment:i}));return f.jsx(f.Fragment,{children:f.jsx($d,{in:e,timeout:100,classNames:kF,unmountOnExit:!0,children:f.jsxs("div",{className:"flex flex-col w-92 flex-auto bg-gray-50 shadow-lg z-10",children:[f.jsxs("div",{className:"flex justify-between items-center py-2 pl-4 pr-2 bg-white border-b border-gray-200",children:[f.jsx("h2",{className:"text-md font-bold",children:"알림 설정"}),f.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 p-2 rounded-full transition-colors",children:f.jsx(y7,{className:"w-3 h-3"})})]}),f.jsxs("div",{className:"flex-1 p-4",children:[f.jsxs("div",{className:"flex flex-col gap-2 mb-4",children:[f.jsx(vl,{placeholder:"과목명 교수명 검색",value:n,onChange:h=>r(h.target.value),onDelete:()=>r("")}),f.jsx(Zd,{className:"flex-auto",value:i,onChange:h=>s(h.target.value)})]}),f.jsx(Rv,{className:"flex flex-full overflow-auto max-h-screen",subjects:c,isPending:a})]})]})})})};function EF(){const e=N.useRef(null),t=N.useRef(null),n=N.useRef({touchStart:{sheetY:0,touchY:0},touchMove:{prevTouchY:0,movingDirection:"none"},isContentAreaTouched:!1});N.useEffect(()=>{const s=()=>{const{touchMove:c,isContentAreaTouched:h}=n.current;return!h||e.current.getBoundingClientRect().y!==Ya?!0:c.movingDirection==="down"?t.current.scrollTop<=0:!1},o=c=>{const{touchStart:h}=n.current;h.sheetY=e.current.getBoundingClientRect().y,h.touchY=c.touches[0].clientY},a=c=>{const{touchStart:h,touchMove:p}=n.current,g=c.touches[0];if(p.prevTouchY===void 0&&(p.prevTouchY=h.touchY),p.prevTouchY===0&&(p.prevTouchY=h.touchY),p.prevTouchY<g.clientY&&(p.movingDirection="down"),p.prevTouchY>g.clientY&&(p.movingDirection="up"),s()){c.stopPropagation();const x=g.clientY-h.touchY;let w=h.sheetY+x;w<=Ya&&(w=Ya),w>=Uf&&(w=Uf),e.current.style.setProperty("transform",`translateY(${w}px)`)}else document.body.style.overflowY="hidden"},u=()=>{const{touchMove:c}=n.current;e.current.getBoundingClientRect().y!==Ya&&(c.movingDirection==="down"&&e.current.style.setProperty("transform",`translateY(${Uf}px)`),c.movingDirection==="up"&&e.current.style.setProperty("transform",`translateY(${Ya}px)`)),n.current={touchStart:{sheetY:0,touchY:0},touchMove:{prevTouchY:0,movingDirection:"none"},isContentAreaTouched:!1}};e.current.addEventListener("touchstart",o),e.current.addEventListener("touchmove",a),e.current.addEventListener("touchend",u)},[]);const r=()=>{e.current&&e.current.style.setProperty("transform","translateY(400px)")},i=()=>{e.current&&e.current.style.setProperty("transform",`translateY(${Uf}px)`)};return N.useEffect(()=>{const s=()=>{n.current.isContentAreaTouched=!0};t.current.addEventListener("touchstart",s);const o=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=o}},[]),{sheet:e,content:t,expandToMax:r,collapseToMin:i}}function TF(){const{cancelSchedule:e}=br(),t=Gp(),n=()=>{t("/timetable"),e()};N.useEffect(()=>(window.addEventListener("popstate",n),()=>{window.removeEventListener("popstate",n)}),[])}const Ya=0,Uf=window.innerHeight-300,NF=window.innerHeight-Ya;function rh({children:e}){const{sheet:t,content:n,expandToMax:r,collapseToMin:i}=EF(),{type:s,resetBottomSheet:o}=es(),{cancelSchedule:a}=br();function u(){a(),o()}return TF(),f.jsxs("div",{className:"fixed inset-0 z-[200]",children:[s&&f.jsx("div",{className:"absolute inset-0 bg-black/5 bg-opacity-80",role:"presentation",onClick:u}),f.jsxs("div",{ref:t,className:"fixed rounded-t-xl bottom-0 left-0 w-full transition-transform bg-white duration-300 z-200",style:{height:`${NF}px`,transform:`translateY(${Ya}px)`},children:[f.jsx("div",{className:"w-full flex justify-center py-2 h-7 shrink-0",children:f.jsx("button",{className:"w-20 h-2 cursor-pointer bg-gray-300 rounded-full","aria-label":"닫기",onClick:a})}),f.jsx("div",{ref:n,className:"flex-1 overflow-y-auto ",children:typeof e=="function"?e({expandToMax:r,collapseToMin:i}):e})]})]})}const H7=e=>N.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M7.33335 8.66659H4.00001C3.81112 8.66659 3.6529 8.60259 3.52535 8.47459C3.39779 8.34659 3.33379 8.18837 3.33335 7.99992C3.3329 7.81148 3.3969 7.65325 3.52535 7.52525C3.65379 7.39725 3.81201 7.33325 4.00001 7.33325H7.33335V3.99992C7.33335 3.81103 7.39735 3.65281 7.52535 3.52525C7.65335 3.3977 7.81157 3.3337 8.00001 3.33325C8.18846 3.33281 8.3469 3.39681 8.47535 3.52525C8.60379 3.6537 8.66757 3.81192 8.66668 3.99992V7.33325H12C12.1889 7.33325 12.3473 7.39725 12.4753 7.52525C12.6033 7.65325 12.6671 7.81148 12.6667 7.99992C12.6662 8.18837 12.6022 8.34681 12.4747 8.47525C12.3471 8.6037 12.1889 8.66748 12 8.66659H8.66668V11.9999C8.66668 12.1888 8.60268 12.3473 8.47468 12.4753C8.34668 12.6033 8.18846 12.667 8.00001 12.6666C7.81157 12.6661 7.65335 12.6021 7.52535 12.4746C7.39735 12.347 7.33335 12.1888 7.33335 11.9999V8.66659Z",fill:"#9CA3AF"}));function ih({title:e,headerType:t,onClose:n,onClick:r}){return f.jsx("header",{className:"w-full px-5 flex items-center justify-between mb-2",children:t==="add"?f.jsxs("div",{className:"w-full h-8 flex items-center  justify-between ",children:[f.jsx(Y0,{headerType:"add",onClick:r}),e&&f.jsx("h3",{className:"text-sm font-semibold",children:e}),f.jsx(Y0,{headerType:"close",onClick:n})]}):f.jsx(f.Fragment,{children:f.jsxs("div",{className:"relative w-full flex items-center justify-center h-6",children:[f.jsx("h3",{className:"text-sm font-semibold",children:e}),f.jsx("div",{className:"absolute right-0",children:f.jsx(Y0,{headerType:"close",onClick:n})})]})})})}function Y0({headerType:e,onClick:t}){const n=e==="close"?Hd:H7;return f.jsx("button",{className:"w-6 h-6 cursor-pointer flex items-center justify-center bg-gray-100 rounded-full",onClick:t,children:f.jsx(n,{})})}function PF({onCloseSearch:e}){const[t,n]=N.useState(""),[r,i]=N.useState(""),s=es(g=>g.openBottomSheet),o=es(g=>g.closeBottomSheet),a=Ni(g=>g.isSearchOpen),{data:u,isPending:c}=co(),h=eh(u),p=N.useDeferredValue(Gu({subjects:h??[],searchKeywords:t,selectedDepartment:r}));return N.useEffect(()=>{a?s("search"):o()},[a]),f.jsx(rh,{children:({expandToMax:g})=>f.jsxs(f.Fragment,{children:[f.jsx(ih,{title:"알림과목검색",headerType:"close",onClose:()=>e(),onClick:g}),f.jsxs("div",{className:"sticky py-3 px-2 top-0 bg-white z-10 flex flex-col gap-2 mb-4 flex-auto",children:[f.jsx(vl,{placeholder:"과목명 교수명 검색",onChange:x=>n(x.target.value),onDelete:()=>n("")}),f.jsx(Zd,{className:"flex-auto",value:r,onChange:x=>i(x.target.value)})]}),f.jsx("div",{className:"max-h-[70vh] min-h-0 px-2 overflow-y-auto touch-auto flex flex-col",children:f.jsx(Rv,{className:"flex flex-full overflow-auto max-h-screen",subjects:p,isPending:c})})]})})}function Mv(){const[e,t]=N.useState(!1);return N.useEffect(()=>{const n=()=>{t(window.innerWidth<=768)};return n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[]),e}function km(e){const{hasSeats:t}=e??{};return{isPreSeatAvailable:!1}}const OF=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16.508930206298828,height:16.008333206176758,viewBox:"0 0 16.508930206298828 16.008333206176758",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,32.016666412353516)"},N.createElement("path",{d:"M8.25446,32.016633206176756Q8.72321,31.985433206176758,8.94196,31.579133206176756L11.067,27.172933206176758L15.8482,26.485433206176758Q16.317,26.391633206176756,16.4732,25.95416320617676Q16.5982,25.51666320617676,16.2857,25.20416320617676L12.817,21.76666320617676L13.6295,16.891666206176758Q13.692,16.454166206176758,13.317,16.141666206176758Q12.942,15.891666206176758,12.5357,16.110416206176758L8.25446,18.39166320617676L3.97321,16.110416206176758Q3.56696,15.891666206176758,3.19196,16.172916206176758Q2.81696,16.454166206176758,2.87946,16.891666206176758L3.69196,21.76666320617676L0.223214,25.20416320617676Q-0.0892857,25.51666320617676,0.0357143,25.95416320617676Q0.191964,26.391633206176756,0.660714,26.485433206176758L5.44196,27.172933206176758L7.56696,31.579133206176756Q7.78571,31.985433206176758,8.25446,32.016633206176756ZM8.25446,29.547933206176758L6.59821,26.172933206176758L8.25446,29.547933206176758L6.59821,26.172933206176758Q6.44196,25.82916320617676,6.03571,25.73541320617676L2.34821,25.20416320617676L5.03571,22.54791320617676Q5.28571,22.26666320617676,5.25446,21.89166320617676L4.59821,18.14166320617676L7.91071,19.89166320617676Q8.25446,20.07916320617676,8.59821,19.89166320617676L11.8795,18.14166320617676L11.2545,21.89166320617676Q11.192,22.26666320617676,11.4732,22.54791320617676L14.1607,25.20416320617676L10.4732,25.73541320617676Q10.067,25.82916320617676,9.91071,26.172933206176758L8.25446,29.547933206176758Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),LF=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16.505903244018555,height:16.001562118530273,viewBox:"0 0 16.505903244018555 16.001562118530273",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,32.00312423706055)"},N.createElement("path",{d:"M9.15,31.440662118530273Q8.86875,31.971862118530275,8.24375,32.00316211853027Q7.65,31.971862118530275,7.3375,31.440662118530273L5.3375,27.315662118530273L0.8375,26.628162118530273Q0.24375,26.534362118530275,0.05625,25.97187211853027Q-0.13125,25.37812211853027,0.30625,24.94062211853027L3.55625,21.72187211853027L2.775,17.159372118530275Q2.7125,16.565625118530274,3.18125,16.190625118530274Q3.68125,15.846875118530274,4.24375,16.128125118530274L8.24375,18.253122118530275L12.275,16.128125118530274Q12.8062,15.846875118530274,13.3062,16.190625118530274Q13.8062,16.565625118530274,13.7125,17.159372118530275L12.9625,21.72187211853027L16.2125,24.94062211853027Q16.6187,25.37812211853027,16.4625,25.97187211853027Q16.2437,26.534362118530275,15.65,26.628162118530273L11.15,27.315662118530273L9.15,31.440662118530273Z",fill:"#FACC15",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function Q7({disabled:e}){return e?f.jsx(OF,{className:"w-4 h-4"}):f.jsx(LF,{className:"w-4 h-4"})}const dy=nr((e,t)=>({favorites:JSON.parse(localStorage.getItem("favorites")??"[]"),toggleFavorite:n=>{const r=t().favorites.includes(n);e(i=>{const s=r?i.favorites.filter(o=>o!==n):[...i.favorites,n];return localStorage.setItem("favorites",JSON.stringify(s)),{favorites:s}})},isFavorite:n=>t().favorites.includes(n)}));function V7({subject:e,className:t,onClick:n,...r}){const i=dy(h=>h.isFavorite),s=dy(h=>h.toggleFavorite),[o,a]=N.useState(i(e.subjectId)),u=o?"즐겨찾기에서 제거":"즐겨찾기에 추가",c=h=>{a(p=>!p),s(e.subjectId),n&&n(h)};return f.jsx("button",{className:"cursor-pointer "+(t??""),onClick:c,title:u,"aria-label":u,...r,children:f.jsx(Q7,{disabled:!o})})}const Tu=[{name:"",key:""},{name:"학수번호",key:"subjectCode"},{name:"분반",key:"classCode"},{name:"개설 학과",key:"departmentName"},{name:"과목명",key:"subjectName"},{name:"교수명",key:"professorName"},{name:"관심",key:"totalCount"},{name:"여석",key:"seat"}];function W7({data:e,isPending:t=!1}){const n=e&&e[0]&&"seat"in e[0],{isPreSeatAvailable:r}=km({hasSeats:n}),i=r?Tu:Tu.filter(s=>s.key!=="seat");return f.jsxs("table",{className:"w-full bg-white rounded-lg relative text-sm",children:[f.jsx("thead",{children:f.jsx("tr",{className:"bg-gray-50 sticky top-0 z-10 text-nowrap",children:i.map(({name:s})=>f.jsx("th",{className:"px-4 py-2",children:s},"table-header-name-"+s))})}),f.jsx("tbody",{children:f.jsx(AF,{data:e,isPending:t})})]})}function AF({data:e,isPending:t=!1}){const{visibleRows:n}=Cm(e??[],"selector"),r=e?e.slice(0,n):[],i=e&&e[0]&&"seat"in e[0],{isPreSeatAvailable:s}=km({hasSeats:i}),o=s?Tu:Tu.filter(a=>a.key!=="seat");return t||!e?f.jsx(vm,{row:5,col:Tu.length}):e.length?f.jsxs(f.Fragment,{children:[r.map(a=>f.jsx(DF,{data:a,tableHeaders:o},`${a.subjectCode} ${a.subjectId} ${a.professorName}`)),f.jsx("tr",{className:"load-more-trigger"})]}):f.jsx(q7,{col:Tu.length})}function q7({col:e}){return f.jsx("tr",{children:f.jsx("td",{colSpan:e,className:"text-center py-4",children:f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx(Jd,{className:"w-12 h-12"}),f.jsx("p",{className:"text-gray-500 font-bold mt-4",children:"검색된 과목이 없습니다."}),f.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"다른 검색어로 다시 시도해보세요."})]})})})}const DF=({data:e,tableHeaders:t})=>{const n=e.curiLangNm==="영어",i=e.isDeleted?"bg-gray-100 hover:bg-gray-200":n?"bg-green-50 hover:bg-green-100":"bg-white hover:bg-gray-100";return f.jsxs("tr",{className:`border-t border-gray-200 text-black ${i}`,children:[f.jsx("td",{className:"px-4 py-2",children:f.jsx("div",{className:"flex items-center gap-2",children:f.jsx(V7,{subject:e})})}),f.jsx(RF,{data:e,tableHeaders:t})]})},IF=(e,t)=>e.data.subjectId===t.data.subjectId&&"seat"in e=="seat"in t,RF=N.memo(({data:e,tableHeaders:t})=>{const{selectTargetOnly:n}=nh();function r(){n(e.subjectId),_m(e.departmentCode)}return t.slice(1,10).map(({key:i})=>f.jsx("td",{className:"px-4 py-2 text-center",children:f.jsx(Or,{to:`/wishes/${e.subjectId}`,onClick:r,children:f.jsx(MF,{data:e,headerType:i})})},i))},IF);function MF({data:e,headerType:t}){switch(t){case"":return f.jsx(f.Fragment,{children:"시간표"});case"totalCount":return f.jsx(FF,{wishCount:e.totalCount});case"seat":return f.jsx(BF,{seat:e.seat});default:return e[t]?.toString()}}function FF({wishCount:e}){const t=d7(e);return e>=0?f.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${t}`,children:e}):f.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-gray-300",children:"-"})}function BF({seat:e}){return e>=0?f.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${gl(e)}`,children:e}):f.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-gray-300",children:"-"})}function zF({titles:e,subjects:t,isPending:n=!1}){return f.jsxs("table",{className:"w-full bg-white rounded-lg relative text-sm",children:[f.jsx("thead",{children:f.jsx("tr",{className:"bg-gray-50 text-nowrap",children:e.map(({title:r})=>f.jsx("th",{className:"px-4 py-2",children:r},r))})}),f.jsx("tbody",{children:f.jsx($F,{titles:e,subjects:t,isPending:n})})]})}function $F({titles:e,subjects:t,isPending:n=!1}){const{visibleRows:r}=Cm(t??[],"selector"),i=(t??[]).filter(o=>!o.isDeleted),s=i?i.slice(0,r):[];return n||!i?f.jsx(vm,{row:5,col:e.length}):i.length?f.jsxs(f.Fragment,{children:[s.map(o=>f.jsx(UF,{subject:o},`${o.subjectCode} ${o.subjectId} ${o.professorName}`)),f.jsx("tr",{className:"load-more-trigger"})]}):f.jsx(q7,{col:e.length})}function UF({subject:e}){const t=e.curiLangNm==="영어",r=e.isDeleted?"bg-gray-100 hover:bg-gray-200":t?"bg-green-50 hover:bg-green-100":"bg-white hover:bg-gray-100",{data:i}=bm(),{mutate:s}=Pv(),{mutate:o}=v7(),{selectTargetOnly:a}=nh(),u=i?.some(h=>h.subjectId===e.subjectId),c=()=>{if(!u){o(e.subjectId);return}s(e.subjectId),a(e.subjectId),_m(e.deptCd)};return f.jsxs("tr",{className:`border-t border-gray-200 text-black ${r}`,children:[f.jsx("td",{className:"px-4 py-2 text-center",children:f.jsx("button",{className:"cursor-pointer","aria-label":u?"알림 과목 해제":"알림 과목 등록",onClick:c,children:f.jsx(Wu,{disabled:!u})})}),f.jsxs("td",{className:"px-2 py-2 text-center",children:[e.subjectCode,"-",e.classCode]}),f.jsx("td",{className:"px-2 py-2 text-center",children:e.departmentName}),f.jsx("td",{className:"px-2 py-2 text-center",children:e.subjectName}),f.jsx("td",{className:"px-2 py-2 text-center",children:e.professorName}),e.seat!==void 0?f.jsx("td",{className:"px-2 py-2 text-center",children:e.seat>=0?f.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${gl(e.seat)}`,children:e.seat}):f.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-gray-300",children:"-"})}):null]})}function HF(e){const{data:t,isPending:n}=co(),r=wm(t,qu),i=r&&r[0]&&"seat"in r[0],s=N.useMemo(()=>i?[...e,{title:"여석",key:"seat"}]:e,[r,e]);return{data:r,titles:s,isPending:n,hasRealSeats:i}}function QF(e=200){const[t,n]=N.useState(!1);return N.useEffect(()=>{const i=()=>n(window.scrollY>e);return i(),window.addEventListener("scroll",i,{passive:!0}),()=>window.removeEventListener("scroll",i)},[e]),{isVisible:t,scrollToTop:()=>{window.scrollTo({top:0,behavior:"smooth"})}}}function K7({right:e="right-2 sm:right-10",bottom:t="bottom-4"}){const{isVisible:n,scrollToTop:r}=QF(200);return f.jsx("button",{"aria-label":"맨 위로 가기",className:`fixed ${t} ${e} z-50 w-12 h-12 rounded-full bg-blue-500 text-white shadow-lg 
                  flex justify-center items-center cursor-pointer transition-opacity duration-200
                  ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:r,children:f.jsx(U_,{className:"w-6 h-6 -rotate-90"})})}const VF=[{title:"알림",key:"pin"},{title:"학수번호",key:"code"},{title:"개설학과",key:"departmentName"},{title:"과목명",key:"name"},{title:"담당교수",key:"professor"}],WF=({search:e,isMobile:t})=>{const{data:n,titles:r,isPending:i}=HF(VF),s=eh(n),o=N.useDeferredValue(Gu({subjects:s??[],searchKeywords:e.searchKeyword,selectedDays:[],selectedDepartment:e.selectedDepartment,selectedGrades:[],isPinned:e.isAlarmWish}));return f.jsx(Xd,{children:t?f.jsx(Rv,{subjects:o,isPending:i,isLive:!0}):f.jsx(zF,{titles:r,subjects:o,isPending:i})})},qF=()=>{const e=Mv(),t=Ni(i=>i.setIsSearchOpen),[n,r]=N.useState({searchKeyword:"",isAlarmWish:!1,selectedDepartment:""});return N.useEffect(()=>{e&&t(!0)},[]),f.jsxs(f.Fragment,{children:[f.jsx(Wn,{children:f.jsx("title",{children:"ALLCLL | 전체 여석"})}),f.jsxs("div",{className:"container mx-auto",children:[f.jsx("h2",{className:"font-bold text-lg",children:"전체학년 여석"}),f.jsx("p",{className:"text-xs font-bold text-gray-500 mb-4",children:"전체 학년 수강신청 전, 전체 학년의 여석을 보여줍니다."}),f.jsx("div",{className:"pb-2",children:f.jsxs(Xd,{children:[f.jsx(KF,{setSearch:r}),f.jsx(Nv,{})]})}),f.jsx(WF,{search:n,isMobile:e}),f.jsx(K7,{right:"right-2 sm:right-10"})]})]})};function KF({setSearch:e}){const t=Ni(a=>a.searchKeyword),n=Ni(a=>a.setSearchKeyword),r=Ni(a=>a.isAlarmWish),i=Ni(a=>a.toggleAlarmWish),s=Ni(a=>a.selectedDepartment),o=Ni(a=>a.setSelectedDepartment);return N.useEffect(()=>{if(!e)return;const a=setTimeout(()=>{e({searchKeyword:t,isAlarmWish:r,selectedDepartment:s})},100);return()=>{clearTimeout(a)}},[t,e,s]),N.useEffect(()=>{e({searchKeyword:t,isAlarmWish:r,selectedDepartment:s})},[r,s]),f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center space-y-2 md:space-y-0 md:space-x-4 text-sm",children:[f.jsx("label",{className:"hidden",htmlFor:"searchOption",children:"검색 옵션"}),f.jsx(vl,{type:"text",placeholder:"과목명, 교수명 또는 학수번호 및 분반 검색",value:t,onDelete:()=>n(""),onChange:a=>n(a.target.value)}),f.jsx(Zd,{value:s,onChange:a=>o(a.target.value)}),f.jsxs("button",{className:"px-4 py-2 rounded-md flex gap-2 items-center text-nowrap border border-gray-400 hover:bg-white cursor-pointer",onClick:i,children:[f.jsx(Wu,{disabled:!r}),"알림과목"]})]})}function GF(){const e=Ni(i=>i.isSearchOpen),t=Ni(i=>i.setIsSearchOpen),n=Mv(),{isPreSeatAvailable:r}=km();return f.jsxs(f.Fragment,{children:[f.jsx(Wn,{children:f.jsx("title",{children:"ALLCLL | 실시간 수강 여석"})}),f.jsxs("div",{className:"flex justify-between overflow-hidden",children:[f.jsx("div",{className:"max-w-screen-xl mx-auto p-4 mb-8 container",children:f.jsxs(f.Fragment,{children:[f.jsxs("p",{className:"text-xs font-bold text-gray-500 mb-4",children:["아직 기능이 안정적이지 않을 수 있습니다. 오류 발생 시 ",f.jsx("a",{href:"https://forms.gle/bCDTVujEHunnvHe88",target:"_blank",className:"text-blue-500 underline hover:text-blue-600",children:"문의사항"}),"으로 연락주세요."]}),!r&&f.jsx(Xd,{children:f.jsx(tR,{})}),f.jsx("div",{className:"grid grid-cols-1 gap-x-4 mb-4",children:r?f.jsx(qF,{}):f.jsx(pI,{title:"교양과목"})})]})}),!n&&f.jsx(jF,{isOpen:e,onClose:()=>t(!1)})]}),n&&e&&f.jsx(PF,{onCloseSearch:()=>t(!1)})]})}function YF(){const[e,t]=N.useState(!1);return f.jsxs(f.Fragment,{children:[f.jsx(Wn,{children:f.jsx("title",{children:"ALLCLL | 소개"})}),f.jsxs("div",{className:"mx-auto flex flex-col justify-center bg-blue-100 h-max",children:[f.jsx("iframe",{src:"https://resilient-may-c73.notion.site/ebd/1f2acf7c316280939afed2657259c817",width:"100%",height:e?"1000":"0",onLoad:()=>t(!0),children:"로드 중…"}),!e&&f.jsx("div",{className:"w-4xl mx-auto h-screen flex justify-center items-center text-3xl",children:"로딩 중..."})]})]})}function XF(){const[e,t]=N.useState(!1);return f.jsxs(f.Fragment,{children:[f.jsx(Wn,{children:f.jsx("title",{children:"ALLCLL | 오류 및 제보"})}),f.jsxs("div",{className:"mx-auto flex justify-center bg-blue-100 pt-4",children:[f.jsx("iframe",{src:"https://docs.google.com/forms/d/e/1FAIpQLSdk7MxNYVyzPyJLecQdJU5wGSgdE7rUWtRfcrPBY2ioKbtW2Q/viewform?embedded=true",width:"640",height:e?"1100":"0",onLoad:()=>t(!0),children:"로드 중…"}),!e&&f.jsx("div",{className:"w-4xl h-screen flex items-center text-3xl",children:"로딩 중..."})]})]})}function E5(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}const Pr=aa(/[A-Za-z]/),vr=aa(/[\dA-Za-z]/),JF=aa(/[#-'*+\--9=?A-Z^-~]/);function Up(e){return e!==null&&(e<32||e===127)}const hy=aa(/\d/),ZF=aa(/[\dA-Fa-f]/),eB=aa(/[!-/:-@[-`{-~]/);function dt(e){return e!==null&&e<-2}function nn(e){return e!==null&&(e<0||e===32)}function Rt(e){return e===-2||e===-1||e===32}const jm=aa(new RegExp("\\p{P}|\\p{S}","u")),dl=aa(/\s/);function aa(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function tB(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const Em=function(e){if(e==null)return sB;if(typeof e=="function")return Tm(e);if(typeof e=="object")return Array.isArray(e)?nB(e):rB(e);if(typeof e=="string")return iB(e);throw new Error("Expected function, string, or object as test")};function nB(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Em(e[n]);return Tm(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function rB(e){const t=e;return Tm(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function iB(e){return Tm(t);function t(n){return n&&n.type===e}}function Tm(e){return t;function t(n,r,i){return!!(oB(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function sB(){return!0}function oB(e){return e!==null&&typeof e=="object"&&"type"in e}const G7=[],aB=!0,fy=!1,lB="skip";function Y7(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=Em(i),o=r?-1:1;a(e,void 0,[])();function a(u,c,h){const p=u&&typeof u=="object"?u:{};if(typeof p.type=="string"){const x=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(u.type+(x?"<"+x+">":""))+")"})}return g;function g(){let x=G7,w,S,C;if((!t||s(u,c,h[h.length-1]||void 0))&&(x=uB(n(u,h)),x[0]===fy))return x;if("children"in u&&u.children){const E=u;if(E.children&&x[0]!==lB)for(S=(r?E.children.length:-1)+o,C=h.concat(E);S>-1&&S<E.children.length;){const L=E.children[S];if(w=a(L,S,C)(),w[0]===fy)return w;S=typeof w[1]=="number"?w[1]:S+o}}return x}}}function uB(e){return Array.isArray(e)?e:typeof e=="number"?[aB,e]:e==null?G7:[e]}function cB(e,t,n){const i=Em((n||{}).ignore||[]),s=dB(t);let o=-1;for(;++o<s.length;)Y7(e,"text",a);function a(c,h){let p=-1,g;for(;++p<h.length;){const x=h[p],w=g?g.children:void 0;if(i(x,w?w.indexOf(x):void 0,g))return;g=x}if(g)return u(c,h)}function u(c,h){const p=h[h.length-1],g=s[o][0],x=s[o][1];let w=0;const C=p.children.indexOf(c);let E=!1,L=[];g.lastIndex=0;let A=g.exec(c.value);for(;A;){const B=A.index,$={index:A.index,input:A.input,stack:[...h,c]};let P=x(...A,$);if(typeof P=="string"&&(P=P.length>0?{type:"text",value:P}:void 0),P===!1?g.lastIndex=B+1:(w!==B&&L.push({type:"text",value:c.value.slice(w,B)}),Array.isArray(P)?L.push(...P):P&&L.push(P),w=B+A[0].length,E=!0),!g.global)break;A=g.exec(c.value)}return E?(w<c.value.length&&L.push({type:"text",value:c.value.slice(w)}),p.children.splice(C,1,...L)):L=[c],C+L.length}}function dB(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([hB(i[0]),fB(i[1])])}return t}function hB(e){return typeof e=="string"?new RegExp(tB(e),"g"):e}function fB(e){return typeof e=="function"?e:function(){return e}}const X0="phrasing",J0=["autolink","link","image","label"];function pB(){return{transforms:[wB],enter:{literalAutolink:gB,literalAutolinkEmail:Z0,literalAutolinkHttp:Z0,literalAutolinkWww:Z0},exit:{literalAutolink:bB,literalAutolinkEmail:xB,literalAutolinkHttp:yB,literalAutolinkWww:vB}}}function mB(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:X0,notInConstruct:J0},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:X0,notInConstruct:J0},{character:":",before:"[ps]",after:"\\/",inConstruct:X0,notInConstruct:J0}]}}function gB(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Z0(e){this.config.enter.autolinkProtocol.call(this,e)}function yB(e){this.config.exit.autolinkProtocol.call(this,e)}function vB(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function xB(e){this.config.exit.autolinkEmail.call(this,e)}function bB(e){this.exit(e)}function wB(e){cB(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,_B],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),SB]],{ignore:["link","linkReference"]})}function _B(e,t,n,r,i){let s="";if(!X7(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!CB(n)))return!1;const o=kB(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function SB(e,t,n,r){return!X7(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function CB(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function kB(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=E5(e,"(");let s=E5(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function X7(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||dl(n)||jm(n))&&(!t||n!==47)}function ts(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}J7.peek=DB;function jB(){this.buffer()}function EB(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function TB(){this.buffer()}function NB(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function PB(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ts(this.sliceSerialize(e)).toLowerCase(),n.label=t}function OB(e){this.exit(e)}function LB(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ts(this.sliceSerialize(e)).toLowerCase(),n.label=t}function AB(e){this.exit(e)}function DB(){return"["}function J7(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(n.safe(n.associationId(e),{after:"]",before:s})),a(),o(),s+=i.move("]"),s}function IB(){return{enter:{gfmFootnoteCallString:jB,gfmFootnoteCall:EB,gfmFootnoteDefinitionLabelString:TB,gfmFootnoteDefinition:NB},exit:{gfmFootnoteCallString:PB,gfmFootnoteCall:OB,gfmFootnoteDefinitionLabelString:LB,gfmFootnoteDefinition:AB}}}function RB(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:J7},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,o){const a=s.createTracker(o);let u=a.move("[^");const c=s.enter("footnoteDefinition"),h=s.enter("label");return u+=a.move(s.safe(s.associationId(r),{before:u,after:"]"})),h(),u+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),u+=a.move((t?`
`:" ")+s.indentLines(s.containerFlow(r,a.current()),t?Z7:MB))),c(),u}}function MB(e,t,n){return t===0?e:Z7(e,t,n)}function Z7(e,t,n){return(n?"":"    ")+e}const FB=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];eS.peek=HB;function BB(){return{canContainEols:["delete"],enter:{strikethrough:$B},exit:{strikethrough:UB}}}function zB(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:FB}],handlers:{delete:eS}}}function $B(e){this.enter({type:"delete",children:[]},e)}function UB(e){this.exit(e)}function eS(e,t,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function HB(){return"~"}function QB(e){return e.length}function VB(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||QB,s=[],o=[],a=[],u=[];let c=0,h=-1;for(;++h<e.length;){const S=[],C=[];let E=-1;for(e[h].length>c&&(c=e[h].length);++E<e[h].length;){const L=WB(e[h][E]);if(n.alignDelimiters!==!1){const A=i(L);C[E]=A,(u[E]===void 0||A>u[E])&&(u[E]=A)}S.push(L)}o[h]=S,a[h]=C}let p=-1;if(typeof r=="object"&&"length"in r)for(;++p<c;)s[p]=T5(r[p]);else{const S=T5(r);for(;++p<c;)s[p]=S}p=-1;const g=[],x=[];for(;++p<c;){const S=s[p];let C="",E="";S===99?(C=":",E=":"):S===108?C=":":S===114&&(E=":");let L=n.alignDelimiters===!1?1:Math.max(1,u[p]-C.length-E.length);const A=C+"-".repeat(L)+E;n.alignDelimiters!==!1&&(L=C.length+L+E.length,L>u[p]&&(u[p]=L),x[p]=L),g[p]=A}o.splice(1,0,g),a.splice(1,0,x),h=-1;const w=[];for(;++h<o.length;){const S=o[h],C=a[h];p=-1;const E=[];for(;++p<c;){const L=S[p]||"";let A="",B="";if(n.alignDelimiters!==!1){const $=u[p]-(C[p]||0),P=s[p];P===114?A=" ".repeat($):P===99?$%2?(A=" ".repeat($/2+.5),B=" ".repeat($/2-.5)):(A=" ".repeat($/2),B=A):B=" ".repeat($)}n.delimiterStart!==!1&&!p&&E.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&L==="")&&(n.delimiterStart!==!1||p)&&E.push(" "),n.alignDelimiters!==!1&&E.push(A),E.push(L),n.alignDelimiters!==!1&&E.push(B),n.padding!==!1&&E.push(" "),(n.delimiterEnd!==!1||p!==c-1)&&E.push("|")}w.push(n.delimiterEnd===!1?E.join("").replace(/ +$/,""):E.join(""))}return w.join(`
`)}function WB(e){return e==null?"":String(e)}function T5(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function qB(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(e,s.current()),KB);return i(),o}function KB(e,t,n){return">"+(n?"":" ")+e}function GB(e,t){return N5(e,t.inConstruct,!0)&&!N5(e,t.notInConstruct,!1)}function N5(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function P5(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&GB(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function YB(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+t.length,r=n.indexOf(t,i);return o}function XB(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function JB(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function ZB(e,t,n,r){const i=JB(n),s=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(XB(e,n)){const p=n.enter("codeIndented"),g=n.indentLines(s,ez);return p(),g}const a=n.createTracker(r),u=i.repeat(Math.max(YB(s,i)+1,3)),c=n.enter("codeFenced");let h=a.move(u);if(e.lang){const p=n.enter(`codeFencedLang${o}`);h+=a.move(n.safe(e.lang,{before:h,after:" ",encode:["`"],...a.current()})),p()}if(e.lang&&e.meta){const p=n.enter(`codeFencedMeta${o}`);h+=a.move(" "),h+=a.move(n.safe(e.meta,{before:h,after:`
`,encode:["`"],...a.current()})),p()}return h+=a.move(`
`),s&&(h+=a.move(s+`
`)),h+=a.move(u),c(),h}function ez(e,t,n){return(n?"":"    ")+e}function Fv(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function tz(e,t,n,r){const i=Fv(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const u=n.createTracker(r);let c=u.move("[");return c+=u.move(n.safe(n.associationId(e),{before:c,after:"]",...u.current()})),c+=u.move("]: "),a(),!e.url||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(n.safe(e.url,{before:c,after:">",...u.current()})),c+=u.move(">")):(a=n.enter("destinationRaw"),c+=u.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...u.current()}))),a(),e.title&&(a=n.enter(`title${s}`),c+=u.move(" "+i),c+=u.move(n.safe(e.title,{before:c,after:i,...u.current()})),c+=u.move(i),a()),o(),c}function nz(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Dd(e){return"&#x"+e.toString(16).toUpperCase()+";"}function zu(e){if(e===null||nn(e)||dl(e))return 1;if(jm(e))return 2}function Hp(e,t,n){const r=zu(e),i=zu(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}tS.peek=rz;function tS(e,t,n,r){const i=nz(n),s=n.enter("emphasis"),o=n.createTracker(r),a=o.move(i);let u=o.move(n.containerPhrasing(e,{after:i,before:a,...o.current()}));const c=u.charCodeAt(0),h=Hp(r.before.charCodeAt(r.before.length-1),c,i);h.inside&&(u=Dd(c)+u.slice(1));const p=u.charCodeAt(u.length-1),g=Hp(r.after.charCodeAt(0),p,i);g.inside&&(u=u.slice(0,-1)+Dd(p));const x=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:g.outside,before:h.outside},a+u+x}function rz(e,t,n){return n.options.emphasis||"*"}function Bv(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),Y7(e,s,a,i);function a(u,c){const h=c[c.length-1],p=h?h.children.indexOf(u):void 0;return o(u,p,h)}}const iz={};function zv(e,t){const n=iz,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return nS(e,r,i)}function nS(e,t,n){if(sz(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return O5(e.children,t,n)}return Array.isArray(e)?O5(e,t,n):""}function O5(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=nS(e[i],t,n);return r.join("")}function sz(e){return!!(e&&typeof e=="object")}function oz(e,t){let n=!1;return Bv(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,fy}),!!((!e.depth||e.depth<3)&&zv(e)&&(t.options.setext||n))}function az(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(oz(e,n)){const h=n.enter("headingSetext"),p=n.enter("phrasing"),g=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return p(),h(),g+`
`+(i===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),u=n.enter("phrasing");s.move(o+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c=Dd(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),u(),a(),c}rS.peek=lz;function rS(e){return e.value||""}function lz(){return"<"}iS.peek=uz;function iS(e,t,n,r){const i=Fv(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const u=n.createTracker(r);let c=u.move("![");return c+=u.move(n.safe(e.alt,{before:c,after:"]",...u.current()})),c+=u.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(n.safe(e.url,{before:c,after:">",...u.current()})),c+=u.move(">")):(a=n.enter("destinationRaw"),c+=u.move(n.safe(e.url,{before:c,after:e.title?" ":")",...u.current()}))),a(),e.title&&(a=n.enter(`title${s}`),c+=u.move(" "+i),c+=u.move(n.safe(e.title,{before:c,after:i,...u.current()})),c+=u.move(i),a()),c+=u.move(")"),o(),c}function uz(){return"!"}sS.peek=cz;function sS(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let u=a.move("![");const c=n.safe(e.alt,{before:u,after:"]",...a.current()});u+=a.move(c+"]["),o();const h=n.stack;n.stack=[],o=n.enter("reference");const p=n.safe(n.associationId(e),{before:u,after:"]",...a.current()});return o(),n.stack=h,s(),i==="full"||!c||c!==p?u+=a.move(p+"]"):i==="shortcut"?u=u.slice(0,-1):u+=a.move("]"),u}function cz(){return"!"}oS.peek=dz;function oS(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let u;if(o.atBreak)for(;u=a.exec(r);){let c=u.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(u.index+1)}}return i+r+i}function dz(){return"`"}function aS(e,t){const n=zv(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}lS.peek=hz;function lS(e,t,n,r){const i=Fv(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,u;if(aS(e,n)){const h=n.stack;n.stack=[],a=n.enter("autolink");let p=o.move("<");return p+=o.move(n.containerPhrasing(e,{before:p,after:">",...o.current()})),p+=o.move(">"),a(),n.stack=h,p}a=n.enter("link"),u=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(e,{before:c,after:"](",...o.current()})),c+=o.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(e.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(u=n.enter("destinationRaw"),c+=o.move(n.safe(e.url,{before:c,after:e.title?" ":")",...o.current()}))),u(),e.title&&(u=n.enter(`title${s}`),c+=o.move(" "+i),c+=o.move(n.safe(e.title,{before:c,after:i,...o.current()})),c+=o.move(i),u()),c+=o.move(")"),a(),c}function hz(e,t,n){return aS(e,n)?"<":"["}uS.peek=fz;function uS(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let u=a.move("[");const c=n.containerPhrasing(e,{before:u,after:"]",...a.current()});u+=a.move(c+"]["),o();const h=n.stack;n.stack=[],o=n.enter("reference");const p=n.safe(n.associationId(e),{before:u,after:"]",...a.current()});return o(),n.stack=h,s(),i==="full"||!c||c!==p?u+=a.move(p+"]"):i==="shortcut"?u=u.slice(0,-1):u+=a.move("]"),u}function fz(){return"["}function $v(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function pz(e){const t=$v(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function mz(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function cS(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function gz(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=e.ordered?mz(n):$v(n);const a=e.ordered?o==="."?")":".":pz(n);let u=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const h=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&h&&(!h.children||!h.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(u=!0),cS(n)===o&&h){let p=-1;for(;++p<e.children.length;){const g=e.children[p];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(o=a),n.bulletCurrent=o;const c=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),c}function yz(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function vz(e,t,n,r){const i=yz(n);let s=n.bulletCurrent||$v(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const u=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,a.current()),h);return u(),c;function h(p,g,x){return g?(x?"":" ".repeat(o))+p:(x?s:s+" ".repeat(o-s.length))+p}}function xz(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(e,r);return s(),i(),o}const bz=Em(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function wz(e,t,n,r){return(e.children.some(function(o){return bz(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function _z(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}dS.peek=Sz;function dS(e,t,n,r){const i=_z(n),s=n.enter("strong"),o=n.createTracker(r),a=o.move(i+i);let u=o.move(n.containerPhrasing(e,{after:i,before:a,...o.current()}));const c=u.charCodeAt(0),h=Hp(r.before.charCodeAt(r.before.length-1),c,i);h.inside&&(u=Dd(c)+u.slice(1));const p=u.charCodeAt(u.length-1),g=Hp(r.after.charCodeAt(0),p,i);g.inside&&(u=u.slice(0,-1)+Dd(p));const x=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:g.outside,before:h.outside},a+u+x}function Sz(e,t,n){return n.options.strong||"*"}function Cz(e,t,n,r){return n.safe(e.value,r)}function kz(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function jz(e,t,n){const r=(cS(n)+(n.options.ruleSpaces?" ":"")).repeat(kz(n));return n.options.ruleSpaces?r.slice(0,-1):r}const hS={blockquote:qB,break:P5,code:ZB,definition:tz,emphasis:tS,hardBreak:P5,heading:az,html:rS,image:iS,imageReference:sS,inlineCode:oS,link:lS,linkReference:uS,list:gz,listItem:vz,paragraph:xz,root:wz,strong:dS,text:Cz,thematicBreak:jz},L5=document.createElement("i");function Uv(e){const t="&"+e+";";L5.innerHTML=t;const n=L5.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function fS(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}const Ez=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Tz(e){return e.replace(Ez,Nz)}function Nz(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return fS(n.slice(s?2:1),s?16:10)}return Uv(n)||e}function Pz(){return{enter:{table:Oz,tableData:A5,tableHeader:A5,tableRow:Az},exit:{codeText:Dz,table:Lz,tableData:e1,tableHeader:e1,tableRow:e1}}}function Oz(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function Lz(e){this.exit(e),this.data.inTable=void 0}function Az(e){this.enter({type:"tableRow",children:[]},e)}function e1(e){this.exit(e)}function A5(e){this.enter({type:"tableCell",children:[]},e)}function Dz(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Iz));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Iz(e,t){return t==="|"?t:e}function Rz(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:g,table:o,tableCell:u,tableRow:a}};function o(x,w,S,C){return c(h(x,S,C),x.align)}function a(x,w,S,C){const E=p(x,S,C),L=c([E]);return L.slice(0,L.indexOf(`
`))}function u(x,w,S,C){const E=S.enter("tableCell"),L=S.enter("phrasing"),A=S.containerPhrasing(x,{...C,before:s,after:s});return L(),E(),A}function c(x,w){return VB(x,{align:w,alignDelimiters:r,padding:n,stringLength:i})}function h(x,w,S){const C=x.children;let E=-1;const L=[],A=w.enter("table");for(;++E<C.length;)L[E]=p(C[E],w,S);return A(),L}function p(x,w,S){const C=x.children;let E=-1;const L=[],A=w.enter("tableRow");for(;++E<C.length;)L[E]=u(C[E],x,w,S);return A(),L}function g(x,w,S){let C=hS.inlineCode(x,w,S);return S.stack.includes("tableCell")&&(C=C.replace(/\|/g,"\\$&")),C}}function Mz(){return{exit:{taskListCheckValueChecked:D5,taskListCheckValueUnchecked:D5,paragraph:Bz}}}function Fz(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:zz}}}function D5(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Bz(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function zz(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",a=n.createTracker(r);s&&a.move(o);let u=hS.listItem(e,t,n,{...r,...a.current()});return s&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),u;function c(h){return h+o}}function $z(){return[pB(),IB(),BB(),Pz(),Mz()]}function Uz(e){return{extensions:[mB(),RB(e),zB(),Rz(e),Fz()]}}function di(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function Pi(e,t){return e.length>0?(di(e,e.length,0,t),e):t}const I5={}.hasOwnProperty;function pS(e){const t={};let n=-1;for(;++n<e.length;)Hz(t,e[n]);return t}function Hz(e,t){let n;for(n in t){const i=(I5.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){I5.call(i,o)||(i[o]=[]);const a=s[o];Qz(i[o],Array.isArray(a)?a:a?[a]:[])}}}function Qz(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);di(e,0,0,r)}const Vz={tokenize:Xz,partial:!0},mS={tokenize:Jz,partial:!0},gS={tokenize:Zz,partial:!0},yS={tokenize:e$,partial:!0},Wz={tokenize:t$,partial:!0},vS={name:"wwwAutolink",tokenize:Gz,previous:bS},xS={name:"protocolAutolink",tokenize:Yz,previous:wS},ho={name:"emailAutolink",tokenize:Kz,previous:_S},ks={};function qz(){return{text:ks}}let $a=48;for(;$a<123;)ks[$a]=ho,$a++,$a===58?$a=65:$a===91&&($a=97);ks[43]=ho;ks[45]=ho;ks[46]=ho;ks[95]=ho;ks[72]=[ho,xS];ks[104]=[ho,xS];ks[87]=[ho,vS];ks[119]=[ho,vS];function Kz(e,t,n){const r=this;let i,s;return o;function o(p){return!py(p)||!_S.call(r,r.previous)||Hv(r.events)?n(p):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(p))}function a(p){return py(p)?(e.consume(p),a):p===64?(e.consume(p),u):n(p)}function u(p){return p===46?e.check(Wz,h,c)(p):p===45||p===95||vr(p)?(s=!0,e.consume(p),u):h(p)}function c(p){return e.consume(p),i=!0,u}function h(p){return s&&i&&Pr(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(p)):n(p)}}function Gz(e,t,n){const r=this;return i;function i(o){return o!==87&&o!==119||!bS.call(r,r.previous)||Hv(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Vz,e.attempt(mS,e.attempt(gS,s),n),n)(o))}function s(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function Yz(e,t,n){const r=this;let i="",s=!1;return o;function o(p){return(p===72||p===104)&&wS.call(r,r.previous)&&!Hv(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(p),e.consume(p),a):n(p)}function a(p){if(Pr(p)&&i.length<5)return i+=String.fromCodePoint(p),e.consume(p),a;if(p===58){const g=i.toLowerCase();if(g==="http"||g==="https")return e.consume(p),u}return n(p)}function u(p){return p===47?(e.consume(p),s?c:(s=!0,u)):n(p)}function c(p){return p===null||Up(p)||nn(p)||dl(p)||jm(p)?n(p):e.attempt(mS,e.attempt(gS,h),n)(p)}function h(p){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(p)}}function Xz(e,t,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),i):o===46&&r===3?(e.consume(o),s):n(o)}function s(o){return o===null?n(o):t(o)}}function Jz(e,t,n){let r,i,s;return o;function o(c){return c===46||c===95?e.check(yS,u,a)(c):c===null||nn(c)||dl(c)||c!==45&&jm(c)?u(c):(s=!0,e.consume(c),o)}function a(c){return c===95?r=!0:(i=r,r=void 0),e.consume(c),o}function u(c){return i||r||!s?n(c):t(c)}}function Zz(e,t){let n=0,r=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(yS,t,s)(o):o===null||nn(o)||dl(o)?t(o):(e.consume(o),i)}function s(o){return o===41&&r++,e.consume(o),i}}function e$(e,t,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(e.consume(a),r):a===38?(e.consume(a),s):a===93?(e.consume(a),i):a===60||a===null||nn(a)||dl(a)?t(a):n(a)}function i(a){return a===null||a===40||a===91||nn(a)||dl(a)?t(a):r(a)}function s(a){return Pr(a)?o(a):n(a)}function o(a){return a===59?(e.consume(a),r):Pr(a)?(e.consume(a),o):n(a)}}function t$(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return vr(s)?n(s):t(s)}}function bS(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||nn(e)}function wS(e){return!Pr(e)}function _S(e){return!(e===47||py(e))}function py(e){return e===43||e===45||e===46||e===95||vr(e)}function Hv(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}function Yu(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&vr(e.charCodeAt(n+1))&&vr(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o="�"}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Nm(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const my={name:"attention",resolveAll:n$,tokenize:r$};function n$(e,t){let n=-1,r,i,s,o,a,u,c,h;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p={...e[r][1].end},g={...e[n][1].start};R5(p,-u),R5(g,u),o={type:u>1?"strongSequence":"emphasisSequence",start:p,end:{...e[r][1].end}},a={type:u>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:g},s={type:u>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:u>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},e[r][1].end={...o.start},e[n][1].start={...a.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=Pi(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=Pi(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),c=Pi(c,Nm(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=Pi(c,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(h=2,c=Pi(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):h=0,di(e,r-1,n-r+3,c),n=r+c.length-h-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function r$(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=zu(r);let s;return o;function o(u){return s=u,e.enter("attentionSequence"),a(u)}function a(u){if(u===s)return e.consume(u),a;const c=e.exit("attentionSequence"),h=zu(u),p=!h||h===2&&i||n.includes(u),g=!i||i===2&&h||n.includes(r);return c._open=!!(s===42?p:p&&(i||!g)),c._close=!!(s===42?g:g&&(h||!p)),t(u)}}function R5(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const i$={name:"autolink",tokenize:s$};function s$(e,t,n){let r=0;return i;function i(x){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(x){return Pr(x)?(e.consume(x),o):x===64?n(x):c(x)}function o(x){return x===43||x===45||x===46||vr(x)?(r=1,a(x)):c(x)}function a(x){return x===58?(e.consume(x),r=0,u):(x===43||x===45||x===46||vr(x))&&r++<32?(e.consume(x),a):(r=0,c(x))}function u(x){return x===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.exit("autolink"),t):x===null||x===32||x===60||Up(x)?n(x):(e.consume(x),u)}function c(x){return x===64?(e.consume(x),h):JF(x)?(e.consume(x),c):n(x)}function h(x){return vr(x)?p(x):n(x)}function p(x){return x===46?(e.consume(x),r=0,h):x===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.exit("autolink"),t):g(x)}function g(x){if((x===45||vr(x))&&r++<63){const w=x===45?g:p;return e.consume(x),w}return n(x)}}function Ut(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(u){return Rt(u)?(e.enter(n),a(u)):t(u)}function a(u){return Rt(u)&&s++<i?(e.consume(u),a):(e.exit(n),t(u))}}const sh={partial:!0,tokenize:o$};function o$(e,t,n){return r;function r(s){return Rt(s)?Ut(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||dt(s)?t(s):n(s)}}const SS={continuation:{tokenize:l$},exit:u$,name:"blockQuote",tokenize:a$};function a$(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Rt(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function l$(e,t,n){const r=this;return i;function i(o){return Rt(o)?Ut(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(SS,t,n)(o)}}function u$(e){e.exit("blockQuote")}const CS={name:"characterEscape",tokenize:c$};function c$(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return eB(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const kS={name:"characterReference",tokenize:d$};function d$(e,t,n){const r=this;let i=0,s,o;return a;function a(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),u}function u(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),s=31,o=vr,h(p))}function c(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=ZF,h):(e.enter("characterReferenceValue"),s=7,o=hy,h(p))}function h(p){if(p===59&&i){const g=e.exit("characterReferenceValue");return o===vr&&!Uv(r.sliceSerialize(g))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(p)&&i++<s?(e.consume(p),h):n(p)}}const M5={partial:!0,tokenize:f$},F5={concrete:!0,name:"codeFenced",tokenize:h$};function h$(e,t,n){const r=this,i={partial:!0,tokenize:$};let s=0,o=0,a;return u;function u(P){return c(P)}function c(P){const M=r.events[r.events.length-1];return s=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,a=P,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(P)}function h(P){return P===a?(o++,e.consume(P),h):o<3?n(P):(e.exit("codeFencedFenceSequence"),Rt(P)?Ut(e,p,"whitespace")(P):p(P))}function p(P){return P===null||dt(P)?(e.exit("codeFencedFence"),r.interrupt?t(P):e.check(M5,S,B)(P)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(P))}function g(P){return P===null||dt(P)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(P)):Rt(P)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ut(e,x,"whitespace")(P)):P===96&&P===a?n(P):(e.consume(P),g)}function x(P){return P===null||dt(P)?p(P):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),w(P))}function w(P){return P===null||dt(P)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(P)):P===96&&P===a?n(P):(e.consume(P),w)}function S(P){return e.attempt(i,B,C)(P)}function C(P){return e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),E}function E(P){return s>0&&Rt(P)?Ut(e,L,"linePrefix",s+1)(P):L(P)}function L(P){return P===null||dt(P)?e.check(M5,S,B)(P):(e.enter("codeFlowValue"),A(P))}function A(P){return P===null||dt(P)?(e.exit("codeFlowValue"),L(P)):(e.consume(P),A)}function B(P){return e.exit("codeFenced"),t(P)}function $(P,M,H){let Q=0;return F;function F(V){return P.enter("lineEnding"),P.consume(V),P.exit("lineEnding"),ae}function ae(V){return P.enter("codeFencedFence"),Rt(V)?Ut(P,le,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(V):le(V)}function le(V){return V===a?(P.enter("codeFencedFenceSequence"),ue(V)):H(V)}function ue(V){return V===a?(Q++,P.consume(V),ue):Q>=o?(P.exit("codeFencedFenceSequence"),Rt(V)?Ut(P,q,"whitespace")(V):q(V)):H(V)}function q(V){return V===null||dt(V)?(P.exit("codeFencedFence"),M(V)):H(V)}}}function f$(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const t1={name:"codeIndented",tokenize:m$},p$={partial:!0,tokenize:g$};function m$(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),Ut(e,s,"linePrefix",5)(c)}function s(c){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?u(c):dt(c)?e.attempt(p$,o,u)(c):(e.enter("codeFlowValue"),a(c))}function a(c){return c===null||dt(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),a)}function u(c){return e.exit("codeIndented"),t(c)}}function g$(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):dt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):Ut(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):dt(o)?i(o):n(o)}}const y$={name:"codeText",previous:x$,resolve:v$,tokenize:b$};function v$(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function x$(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function b$(e,t,n){let r=0,i,s;return o;function o(p){return e.enter("codeText"),e.enter("codeTextSequence"),a(p)}function a(p){return p===96?(e.consume(p),r++,a):(e.exit("codeTextSequence"),u(p))}function u(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),u):p===96?(s=e.enter("codeTextSequence"),i=0,h(p)):dt(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),u):(e.enter("codeTextData"),c(p))}function c(p){return p===null||p===32||p===96||dt(p)?(e.exit("codeTextData"),u(p)):(e.consume(p),c)}function h(p){return p===96?(e.consume(p),i++,h):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(s.type="codeTextData",c(p))}}class w${constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Wc(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Wc(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Wc(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Wc(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Wc(this.left,n.reverse())}}}function Wc(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function jS(e){const t={};let n=-1,r,i,s,o,a,u,c;const h=new w$(e);for(;++n<h.length;){for(;n in t;)n=t[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,_$(h,n)),n=t[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=h.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...h.get(i)[1].start},a=h.slice(i,n),a.unshift(r),h.splice(i,n-i+1,a))}}return di(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!c}function _$(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,u=[],c={};let h,p,g=-1,x=n,w=0,S=0;const C=[S];for(;x;){for(;e.get(++i)[1]!==x;);s.push(i),x._tokenizer||(h=r.sliceStream(x),x.next||h.push(null),p&&o.defineSkip(x.start),x._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(h),x._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),p=x,x=x.next}for(x=n;++g<a.length;)a[g][0]==="exit"&&a[g-1][0]==="enter"&&a[g][1].type===a[g-1][1].type&&a[g][1].start.line!==a[g][1].end.line&&(S=g+1,C.push(S),x._tokenizer=void 0,x.previous=void 0,x=x.next);for(o.events=[],x?(x._tokenizer=void 0,x.previous=void 0):C.pop(),g=C.length;g--;){const E=a.slice(C[g],C[g+1]),L=s.pop();u.push([L,L+E.length-1]),e.splice(L,2,E)}for(u.reverse(),g=-1;++g<u.length;)c[w+u[g][0]]=w+u[g][1],w+=u[g][1]-u[g][0]-1;return c}const S$={resolve:k$,tokenize:j$},C$={partial:!0,tokenize:E$};function k$(e){return jS(e),e}function j$(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):dt(a)?e.check(C$,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function E$(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Ut(e,s,"linePrefix")}function s(o){if(o===null||dt(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function ES(e,t,n,r,i,s,o,a,u){const c=u||Number.POSITIVE_INFINITY;let h=0;return p;function p(E){return E===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(E),e.exit(s),g):E===null||E===32||E===41||Up(E)?n(E):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),S(E))}function g(E){return E===62?(e.enter(s),e.consume(E),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),x(E))}function x(E){return E===62?(e.exit("chunkString"),e.exit(a),g(E)):E===null||E===60||dt(E)?n(E):(e.consume(E),E===92?w:x)}function w(E){return E===60||E===62||E===92?(e.consume(E),x):x(E)}function S(E){return!h&&(E===null||E===41||nn(E))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(E)):h<c&&E===40?(e.consume(E),h++,S):E===41?(e.consume(E),h--,S):E===null||E===32||E===40||Up(E)?n(E):(e.consume(E),E===92?C:S)}function C(E){return E===40||E===41||E===92?(e.consume(E),S):S(E)}}function TS(e,t,n,r,i,s){const o=this;let a=0,u;return c;function c(x){return e.enter(r),e.enter(i),e.consume(x),e.exit(i),e.enter(s),h}function h(x){return a>999||x===null||x===91||x===93&&!u||x===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(x):x===93?(e.exit(s),e.enter(i),e.consume(x),e.exit(i),e.exit(r),t):dt(x)?(e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),p(x))}function p(x){return x===null||x===91||x===93||dt(x)||a++>999?(e.exit("chunkString"),h(x)):(e.consume(x),u||(u=!Rt(x)),x===92?g:p)}function g(x){return x===91||x===92||x===93?(e.consume(x),a++,p):p(x)}}function NS(e,t,n,r,i,s){let o;return a;function a(g){return g===34||g===39||g===40?(e.enter(r),e.enter(i),e.consume(g),e.exit(i),o=g===40?41:g,u):n(g)}function u(g){return g===o?(e.enter(i),e.consume(g),e.exit(i),e.exit(r),t):(e.enter(s),c(g))}function c(g){return g===o?(e.exit(s),u(o)):g===null?n(g):dt(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),Ut(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===o||g===null||dt(g)?(e.exit("chunkString"),c(g)):(e.consume(g),g===92?p:h)}function p(g){return g===o||g===92?(e.consume(g),h):h(g)}}function md(e,t){let n;return r;function r(i){return dt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Rt(i)?Ut(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const T$={name:"definition",tokenize:P$},N$={partial:!0,tokenize:O$};function P$(e,t,n){const r=this;let i;return s;function s(x){return e.enter("definition"),o(x)}function o(x){return TS.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(x)}function a(x){return i=ts(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),x===58?(e.enter("definitionMarker"),e.consume(x),e.exit("definitionMarker"),u):n(x)}function u(x){return nn(x)?md(e,c)(x):c(x)}function c(x){return ES(e,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(x)}function h(x){return e.attempt(N$,p,p)(x)}function p(x){return Rt(x)?Ut(e,g,"whitespace")(x):g(x)}function g(x){return x===null||dt(x)?(e.exit("definition"),r.parser.defined.push(i),t(x)):n(x)}}function O$(e,t,n){return r;function r(a){return nn(a)?md(e,i)(a):n(a)}function i(a){return NS(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return Rt(a)?Ut(e,o,"whitespace")(a):o(a)}function o(a){return a===null||dt(a)?t(a):n(a)}}const L$={name:"hardBreakEscape",tokenize:A$};function A$(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return dt(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const D$={name:"headingAtx",resolve:I$,tokenize:R$};function I$(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},di(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function R$(e,t,n){let r=0;return i;function i(h){return e.enter("atxHeading"),s(h)}function s(h){return e.enter("atxHeadingSequence"),o(h)}function o(h){return h===35&&r++<6?(e.consume(h),o):h===null||nn(h)?(e.exit("atxHeadingSequence"),a(h)):n(h)}function a(h){return h===35?(e.enter("atxHeadingSequence"),u(h)):h===null||dt(h)?(e.exit("atxHeading"),t(h)):Rt(h)?Ut(e,a,"whitespace")(h):(e.enter("atxHeadingText"),c(h))}function u(h){return h===35?(e.consume(h),u):(e.exit("atxHeadingSequence"),a(h))}function c(h){return h===null||h===35||nn(h)?(e.exit("atxHeadingText"),a(h)):(e.consume(h),c)}}const M$=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],B5=["pre","script","style","textarea"],F$={concrete:!0,name:"htmlFlow",resolveTo:$$,tokenize:U$},B$={partial:!0,tokenize:Q$},z$={partial:!0,tokenize:H$};function $$(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function U$(e,t,n){const r=this;let i,s,o,a,u;return c;function c(z){return h(z)}function h(z){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(z),p}function p(z){return z===33?(e.consume(z),g):z===47?(e.consume(z),s=!0,S):z===63?(e.consume(z),i=3,r.interrupt?t:R):Pr(z)?(e.consume(z),o=String.fromCharCode(z),C):n(z)}function g(z){return z===45?(e.consume(z),i=2,x):z===91?(e.consume(z),i=5,a=0,w):Pr(z)?(e.consume(z),i=4,r.interrupt?t:R):n(z)}function x(z){return z===45?(e.consume(z),r.interrupt?t:R):n(z)}function w(z){const Me="CDATA[";return z===Me.charCodeAt(a++)?(e.consume(z),a===Me.length?r.interrupt?t:le:w):n(z)}function S(z){return Pr(z)?(e.consume(z),o=String.fromCharCode(z),C):n(z)}function C(z){if(z===null||z===47||z===62||nn(z)){const Me=z===47,je=o.toLowerCase();return!Me&&!s&&B5.includes(je)?(i=1,r.interrupt?t(z):le(z)):M$.includes(o.toLowerCase())?(i=6,Me?(e.consume(z),E):r.interrupt?t(z):le(z)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(z):s?L(z):A(z))}return z===45||vr(z)?(e.consume(z),o+=String.fromCharCode(z),C):n(z)}function E(z){return z===62?(e.consume(z),r.interrupt?t:le):n(z)}function L(z){return Rt(z)?(e.consume(z),L):F(z)}function A(z){return z===47?(e.consume(z),F):z===58||z===95||Pr(z)?(e.consume(z),B):Rt(z)?(e.consume(z),A):F(z)}function B(z){return z===45||z===46||z===58||z===95||vr(z)?(e.consume(z),B):$(z)}function $(z){return z===61?(e.consume(z),P):Rt(z)?(e.consume(z),$):A(z)}function P(z){return z===null||z===60||z===61||z===62||z===96?n(z):z===34||z===39?(e.consume(z),u=z,M):Rt(z)?(e.consume(z),P):H(z)}function M(z){return z===u?(e.consume(z),u=null,Q):z===null||dt(z)?n(z):(e.consume(z),M)}function H(z){return z===null||z===34||z===39||z===47||z===60||z===61||z===62||z===96||nn(z)?$(z):(e.consume(z),H)}function Q(z){return z===47||z===62||Rt(z)?A(z):n(z)}function F(z){return z===62?(e.consume(z),ae):n(z)}function ae(z){return z===null||dt(z)?le(z):Rt(z)?(e.consume(z),ae):n(z)}function le(z){return z===45&&i===2?(e.consume(z),J):z===60&&i===1?(e.consume(z),te):z===62&&i===4?(e.consume(z),G):z===63&&i===3?(e.consume(z),R):z===93&&i===5?(e.consume(z),me):dt(z)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(B$,ye,ue)(z)):z===null||dt(z)?(e.exit("htmlFlowData"),ue(z)):(e.consume(z),le)}function ue(z){return e.check(z$,q,ye)(z)}function q(z){return e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),V}function V(z){return z===null||dt(z)?ue(z):(e.enter("htmlFlowData"),le(z))}function J(z){return z===45?(e.consume(z),R):le(z)}function te(z){return z===47?(e.consume(z),o="",ne):le(z)}function ne(z){if(z===62){const Me=o.toLowerCase();return B5.includes(Me)?(e.consume(z),G):le(z)}return Pr(z)&&o.length<8?(e.consume(z),o+=String.fromCharCode(z),ne):le(z)}function me(z){return z===93?(e.consume(z),R):le(z)}function R(z){return z===62?(e.consume(z),G):z===45&&i===2?(e.consume(z),R):le(z)}function G(z){return z===null||dt(z)?(e.exit("htmlFlowData"),ye(z)):(e.consume(z),G)}function ye(z){return e.exit("htmlFlow"),t(z)}}function H$(e,t,n){const r=this;return i;function i(o){return dt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function Q$(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(sh,t,n)}}const V$={name:"htmlText",tokenize:W$};function W$(e,t,n){const r=this;let i,s,o;return a;function a(R){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(R),u}function u(R){return R===33?(e.consume(R),c):R===47?(e.consume(R),$):R===63?(e.consume(R),A):Pr(R)?(e.consume(R),H):n(R)}function c(R){return R===45?(e.consume(R),h):R===91?(e.consume(R),s=0,w):Pr(R)?(e.consume(R),L):n(R)}function h(R){return R===45?(e.consume(R),x):n(R)}function p(R){return R===null?n(R):R===45?(e.consume(R),g):dt(R)?(o=p,te(R)):(e.consume(R),p)}function g(R){return R===45?(e.consume(R),x):p(R)}function x(R){return R===62?J(R):R===45?g(R):p(R)}function w(R){const G="CDATA[";return R===G.charCodeAt(s++)?(e.consume(R),s===G.length?S:w):n(R)}function S(R){return R===null?n(R):R===93?(e.consume(R),C):dt(R)?(o=S,te(R)):(e.consume(R),S)}function C(R){return R===93?(e.consume(R),E):S(R)}function E(R){return R===62?J(R):R===93?(e.consume(R),E):S(R)}function L(R){return R===null||R===62?J(R):dt(R)?(o=L,te(R)):(e.consume(R),L)}function A(R){return R===null?n(R):R===63?(e.consume(R),B):dt(R)?(o=A,te(R)):(e.consume(R),A)}function B(R){return R===62?J(R):A(R)}function $(R){return Pr(R)?(e.consume(R),P):n(R)}function P(R){return R===45||vr(R)?(e.consume(R),P):M(R)}function M(R){return dt(R)?(o=M,te(R)):Rt(R)?(e.consume(R),M):J(R)}function H(R){return R===45||vr(R)?(e.consume(R),H):R===47||R===62||nn(R)?Q(R):n(R)}function Q(R){return R===47?(e.consume(R),J):R===58||R===95||Pr(R)?(e.consume(R),F):dt(R)?(o=Q,te(R)):Rt(R)?(e.consume(R),Q):J(R)}function F(R){return R===45||R===46||R===58||R===95||vr(R)?(e.consume(R),F):ae(R)}function ae(R){return R===61?(e.consume(R),le):dt(R)?(o=ae,te(R)):Rt(R)?(e.consume(R),ae):Q(R)}function le(R){return R===null||R===60||R===61||R===62||R===96?n(R):R===34||R===39?(e.consume(R),i=R,ue):dt(R)?(o=le,te(R)):Rt(R)?(e.consume(R),le):(e.consume(R),q)}function ue(R){return R===i?(e.consume(R),i=void 0,V):R===null?n(R):dt(R)?(o=ue,te(R)):(e.consume(R),ue)}function q(R){return R===null||R===34||R===39||R===60||R===61||R===96?n(R):R===47||R===62||nn(R)?Q(R):(e.consume(R),q)}function V(R){return R===47||R===62||nn(R)?Q(R):n(R)}function J(R){return R===62?(e.consume(R),e.exit("htmlTextData"),e.exit("htmlText"),t):n(R)}function te(R){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),ne}function ne(R){return Rt(R)?Ut(e,me,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):me(R)}function me(R){return e.enter("htmlTextData"),o(R)}}const Qv={name:"labelEnd",resolveAll:Y$,resolveTo:X$,tokenize:J$},q$={tokenize:Z$},K$={tokenize:eU},G$={tokenize:tU};function Y$(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&di(e,0,e.length,n),e}function X$(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const u={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[s][1].start},end:{...e[o][1].end}},h={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[o-2][1].start}};return a=[["enter",u,t],["enter",c,t]],a=Pi(a,e.slice(s+1,s+r+3)),a=Pi(a,[["enter",h,t]]),a=Pi(a,Nm(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=Pi(a,[["exit",h,t],e[o-2],e[o-1],["exit",c,t]]),a=Pi(a,e.slice(o+1)),a=Pi(a,[["exit",u,t]]),di(e,s,e.length,a),e}function J$(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(g){return s?s._inactive?p(g):(o=r.parser.defined.includes(ts(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),u):n(g)}function u(g){return g===40?e.attempt(q$,h,o?h:p)(g):g===91?e.attempt(K$,h,o?c:p)(g):o?h(g):p(g)}function c(g){return e.attempt(G$,h,p)(g)}function h(g){return t(g)}function p(g){return s._balanced=!0,n(g)}}function Z$(e,t,n){return r;function r(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),i}function i(p){return nn(p)?md(e,s)(p):s(p)}function s(p){return p===41?h(p):ES(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function o(p){return nn(p)?md(e,u)(p):h(p)}function a(p){return n(p)}function u(p){return p===34||p===39||p===40?NS(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):h(p)}function c(p){return nn(p)?md(e,h)(p):h(p)}function h(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function eU(e,t,n){const r=this;return i;function i(a){return TS.call(r,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(ts(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function tU(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const nU={name:"labelStartImage",resolveAll:Qv.resolveAll,tokenize:rU};function rU(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const iU={name:"labelStartLink",resolveAll:Qv.resolveAll,tokenize:sU};function sU(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const n1={name:"lineEnding",tokenize:oU};function oU(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Ut(e,t,"linePrefix")}}const pp={name:"thematicBreak",tokenize:aU};function aU(e,t,n){let r=0,i;return s;function s(c){return e.enter("thematicBreak"),o(c)}function o(c){return i=c,a(c)}function a(c){return c===i?(e.enter("thematicBreakSequence"),u(c)):r>=3&&(c===null||dt(c))?(e.exit("thematicBreak"),t(c)):n(c)}function u(c){return c===i?(e.consume(c),r++,u):(e.exit("thematicBreakSequence"),Rt(c)?Ut(e,a,"whitespace")(c):a(c))}}const Wr={continuation:{tokenize:dU},exit:fU,name:"list",tokenize:cU},lU={partial:!0,tokenize:pU},uU={partial:!0,tokenize:hU};function cU(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(x){const w=r.containerState.type||(x===42||x===43||x===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!r.containerState.marker||x===r.containerState.marker:hy(x)){if(r.containerState.type||(r.containerState.type=w,e.enter(w,{_container:!0})),w==="listUnordered")return e.enter("listItemPrefix"),x===42||x===45?e.check(pp,n,c)(x):c(x);if(!r.interrupt||x===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(x)}return n(x)}function u(x){return hy(x)&&++o<10?(e.consume(x),u):(!r.interrupt||o<2)&&(r.containerState.marker?x===r.containerState.marker:x===41||x===46)?(e.exit("listItemValue"),c(x)):n(x)}function c(x){return e.enter("listItemMarker"),e.consume(x),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||x,e.check(sh,r.interrupt?n:h,e.attempt(lU,g,p))}function h(x){return r.containerState.initialBlankLine=!0,s++,g(x)}function p(x){return Rt(x)?(e.enter("listItemPrefixWhitespace"),e.consume(x),e.exit("listItemPrefixWhitespace"),g):n(x)}function g(x){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(x)}}function dU(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(sh,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ut(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Rt(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(uU,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ut(e,e.attempt(Wr,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function hU(e,t,n){const r=this;return Ut(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function fU(e){e.exit(this.containerState.type)}function pU(e,t,n){const r=this;return Ut(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Rt(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const z5={name:"setextUnderline",resolveTo:mU,tokenize:gU};function mU(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function gU(e,t,n){const r=this;let i;return s;function s(c){let h=r.events.length,p;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){p=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(e.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(e.consume(c),a):(e.exit("setextHeadingLineSequence"),Rt(c)?Ut(e,u,"lineSuffix")(c):u(c))}function u(c){return c===null||dt(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const yU={tokenize:kU,partial:!0};function vU(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:_U,continuation:{tokenize:SU},exit:CU}},text:{91:{name:"gfmFootnoteCall",tokenize:wU},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:xU,resolveTo:bU}}}}function xU(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const u=r.events[i][1];if(u.type==="labelImage"){o=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return a;function a(u){if(!o||!o._balanced)return n(u);const c=ts(r.sliceSerialize({start:o.end,end:r.now()}));return c.codePointAt(0)!==94||!s.includes(c.slice(1))?n(u):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),t(u))}}function bU(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...a),e}function wU(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(p){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),u}function u(p){return p!==94?n(p):(e.enter("gfmFootnoteCallMarker"),e.consume(p),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(p){if(s>999||p===93&&!o||p===null||p===91||nn(p))return n(p);if(p===93){e.exit("chunkString");const g=e.exit("gfmFootnoteCallString");return i.includes(ts(r.sliceSerialize(g)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(p)}return nn(p)||(o=!0),s++,e.consume(p),p===92?h:c}function h(p){return p===91||p===92||p===93?(e.consume(p),s++,c):c(p)}}function _U(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return u;function u(w){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(w){return w===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",h):n(w)}function h(w){if(o>999||w===93&&!a||w===null||w===91||nn(w))return n(w);if(w===93){e.exit("chunkString");const S=e.exit("gfmFootnoteDefinitionLabelString");return s=ts(r.sliceSerialize(S)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),g}return nn(w)||(a=!0),o++,e.consume(w),w===92?p:h}function p(w){return w===91||w===92||w===93?(e.consume(w),o++,h):h(w)}function g(w){return w===58?(e.enter("definitionMarker"),e.consume(w),e.exit("definitionMarker"),i.includes(s)||i.push(s),Ut(e,x,"gfmFootnoteDefinitionWhitespace")):n(w)}function x(w){return t(w)}}function SU(e,t,n){return e.check(sh,t,e.attempt(yU,t,n))}function CU(e){e.exit("gfmFootnoteDefinition")}function kU(e,t,n){const r=this;return Ut(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(s):n(s)}}function jU(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let u=-1;for(;++u<o.length;)if(o[u][0]==="enter"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._close){let c=u;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[u][1].end.offset-o[u][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[u][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[u][1].end)},p={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[u][1].start)},g=[["enter",h,a],["enter",o[c][1],a],["exit",o[c][1],a],["enter",p,a]],x=a.parser.constructs.insideSpan.null;x&&di(g,g.length,0,Nm(x,o.slice(c+1,u),a)),di(g,g.length,0,[["exit",p,a],["enter",o[u][1],a],["exit",o[u][1],a],["exit",h,a]]),di(o,c-1,u-c+3,g),u=c+g.length-2;break}}for(u=-1;++u<o.length;)o[u][1].type==="strikethroughSequenceTemporary"&&(o[u][1].type="data");return o}function s(o,a,u){const c=this.previous,h=this.events;let p=0;return g;function g(w){return c===126&&h[h.length-1][1].type!=="characterEscape"?u(w):(o.enter("strikethroughSequenceTemporary"),x(w))}function x(w){const S=zu(c);if(w===126)return p>1?u(w):(o.consume(w),p++,x);if(p<2&&!n)return u(w);const C=o.exit("strikethroughSequenceTemporary"),E=zu(w);return C._open=!E||E===2&&!!S,C._close=!S||S===2&&!!E,a(w)}}}class EU{constructor(){this.map=[]}add(t,n,r){TU(this,t,n,r)}consume(t){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const s of i)t.push(s);i=r.pop()}this.map.length=0}}function TU(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function NU(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function PU(){return{flow:{null:{name:"table",tokenize:OU,resolveAll:LU}}}}function OU(e,t,n){const r=this;let i=0,s=0,o;return a;function a(F){let ae=r.events.length-1;for(;ae>-1;){const q=r.events[ae][1].type;if(q==="lineEnding"||q==="linePrefix")ae--;else break}const le=ae>-1?r.events[ae][1].type:null,ue=le==="tableHead"||le==="tableRow"?P:u;return ue===P&&r.parser.lazy[r.now().line]?n(F):ue(F)}function u(F){return e.enter("tableHead"),e.enter("tableRow"),c(F)}function c(F){return F===124||(o=!0,s+=1),h(F)}function h(F){return F===null?n(F):dt(F)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),x):n(F):Rt(F)?Ut(e,h,"whitespace")(F):(s+=1,o&&(o=!1,i+=1),F===124?(e.enter("tableCellDivider"),e.consume(F),e.exit("tableCellDivider"),o=!0,h):(e.enter("data"),p(F)))}function p(F){return F===null||F===124||nn(F)?(e.exit("data"),h(F)):(e.consume(F),F===92?g:p)}function g(F){return F===92||F===124?(e.consume(F),p):p(F)}function x(F){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(F):(e.enter("tableDelimiterRow"),o=!1,Rt(F)?Ut(e,w,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):w(F))}function w(F){return F===45||F===58?C(F):F===124?(o=!0,e.enter("tableCellDivider"),e.consume(F),e.exit("tableCellDivider"),S):$(F)}function S(F){return Rt(F)?Ut(e,C,"whitespace")(F):C(F)}function C(F){return F===58?(s+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(F),e.exit("tableDelimiterMarker"),E):F===45?(s+=1,E(F)):F===null||dt(F)?B(F):$(F)}function E(F){return F===45?(e.enter("tableDelimiterFiller"),L(F)):$(F)}function L(F){return F===45?(e.consume(F),L):F===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(F),e.exit("tableDelimiterMarker"),A):(e.exit("tableDelimiterFiller"),A(F))}function A(F){return Rt(F)?Ut(e,B,"whitespace")(F):B(F)}function B(F){return F===124?w(F):F===null||dt(F)?!o||i!==s?$(F):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(F)):$(F)}function $(F){return n(F)}function P(F){return e.enter("tableRow"),M(F)}function M(F){return F===124?(e.enter("tableCellDivider"),e.consume(F),e.exit("tableCellDivider"),M):F===null||dt(F)?(e.exit("tableRow"),t(F)):Rt(F)?Ut(e,M,"whitespace")(F):(e.enter("data"),H(F))}function H(F){return F===null||F===124||nn(F)?(e.exit("data"),M(F)):(e.consume(F),F===92?Q:H)}function Q(F){return F===92||F===124?(e.consume(F),H):H(F)}}function LU(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,u=0,c,h,p;const g=new EU;for(;++n<e.length;){const x=e[n],w=x[1];x[0]==="enter"?w.type==="tableHead"?(a=!1,u!==0&&($5(g,t,u,c,h),h=void 0,u=0),c={type:"table",start:Object.assign({},w.start),end:Object.assign({},w.end)},g.add(n,0,[["enter",c,t]])):w.type==="tableRow"||w.type==="tableDelimiterRow"?(r=!0,p=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,h={type:"tableBody",start:Object.assign({},w.start),end:Object.assign({},w.end)},g.add(n,0,[["enter",h,t]])),i=w.type==="tableDelimiterRow"?2:h?3:1):i&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],p=Hf(g,t,s,i,void 0,p),s=[0,0,0,0]),o[2]=n)):w.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],p=Hf(g,t,s,i,void 0,p)),s=o,o=[s[1],n,0,0])):w.type==="tableHead"?(a=!0,u=n):w.type==="tableRow"||w.type==="tableDelimiterRow"?(u=n,s[1]!==0?(o[0]=o[1],p=Hf(g,t,s,i,n,p)):o[1]!==0&&(p=Hf(g,t,o,i,n,p)),i=0):i&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")&&(o[3]=n)}for(u!==0&&$5(g,t,u,c,h),g.consume(t.events),n=-1;++n<t.events.length;){const x=t.events[n];x[0]==="enter"&&x[1].type==="table"&&(x[1]._align=NU(t.events,n))}return e}function Hf(e,t,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},ju(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const u=ju(t.events,n[1]);if(s={type:o,start:Object.assign({},u),end:Object.assign({},u)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const c=ju(t.events,n[2]),h=ju(t.events,n[3]),p={type:a,start:Object.assign({},c),end:Object.assign({},h)};if(e.add(n[2],0,[["enter",p,t]]),r!==2){const g=t.events[n[2]],x=t.events[n[3]];if(g[1].end=Object.assign({},x[1].end),g[1].type="chunkText",g[1].contentType="text",n[3]>n[2]+1){const w=n[2]+1,S=n[3]-n[2]-1;e.add(w,S,[])}}e.add(n[3]+1,0,[["exit",p,t]])}return i!==void 0&&(s.end=Object.assign({},ju(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function $5(e,t,n,r,i){const s=[],o=ju(t.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,t])),r.end=Object.assign({},o),s.push(["exit",r,t]),e.add(n+1,0,s)}function ju(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const AU={name:"tasklistCheck",tokenize:IU};function DU(){return{text:{91:AU}}}function IU(e,t,n){const r=this;return i;function i(u){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(u):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),s)}function s(u){return nn(u)?(e.enter("taskListCheckValueUnchecked"),e.consume(u),e.exit("taskListCheckValueUnchecked"),o):u===88||u===120?(e.enter("taskListCheckValueChecked"),e.consume(u),e.exit("taskListCheckValueChecked"),o):n(u)}function o(u){return u===93?(e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(u)}function a(u){return dt(u)?t(u):Rt(u)?e.check({tokenize:RU},t,n)(u):n(u)}}function RU(e,t,n){return Ut(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function MU(e){return pS([qz(),vU(),jU(e),PU(),DU()])}const FU={};function BU(e){const t=this,n=e||FU,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(MU(n)),s.push($z()),o.push(Uz(n))}function zU(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const $U=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,UU=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,HU={};function U5(e,t){return(HU.jsx?UU:$U).test(e)}const QU=/[ \t\n\f\r]/g;function VU(e){return typeof e=="object"?e.type==="text"?H5(e.value):!1:H5(e)}function H5(e){return e.replace(QU,"")===""}class oh{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}oh.prototype.normal={};oh.prototype.property={};oh.prototype.space=void 0;function PS(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new oh(n,r,t)}function gy(e){return e.toLowerCase()}class Xr{constructor(t,n){this.attribute=n,this.property=t}}Xr.prototype.attribute="";Xr.prototype.booleanish=!1;Xr.prototype.boolean=!1;Xr.prototype.commaOrSpaceSeparated=!1;Xr.prototype.commaSeparated=!1;Xr.prototype.defined=!1;Xr.prototype.mustUseProperty=!1;Xr.prototype.number=!1;Xr.prototype.overloadedBoolean=!1;Xr.prototype.property="";Xr.prototype.spaceSeparated=!1;Xr.prototype.space=void 0;let WU=0;const jt=bl(),Rn=bl(),yy=bl(),Fe=bl(),on=bl(),Au=bl(),ai=bl();function bl(){return 2**++WU}const vy=Object.freeze(Object.defineProperty({__proto__:null,boolean:jt,booleanish:Rn,commaOrSpaceSeparated:ai,commaSeparated:Au,number:Fe,overloadedBoolean:yy,spaceSeparated:on},Symbol.toStringTag,{value:"Module"})),r1=Object.keys(vy);class Vv extends Xr{constructor(t,n,r,i){let s=-1;if(super(t,n),Q5(this,"space",i),typeof r=="number")for(;++s<r1.length;){const o=r1[s];Q5(this,r1[s],(r&vy[o])===vy[o])}}}Vv.prototype.defined=!0;function Q5(e,t,n){n&&(e[t]=n)}function Xu(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new Vv(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[gy(r)]=r,n[gy(s.attribute)]=r}return new oh(t,n,e.space)}const OS=Xu({properties:{ariaActiveDescendant:null,ariaAtomic:Rn,ariaAutoComplete:null,ariaBusy:Rn,ariaChecked:Rn,ariaColCount:Fe,ariaColIndex:Fe,ariaColSpan:Fe,ariaControls:on,ariaCurrent:null,ariaDescribedBy:on,ariaDetails:null,ariaDisabled:Rn,ariaDropEffect:on,ariaErrorMessage:null,ariaExpanded:Rn,ariaFlowTo:on,ariaGrabbed:Rn,ariaHasPopup:null,ariaHidden:Rn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:on,ariaLevel:Fe,ariaLive:null,ariaModal:Rn,ariaMultiLine:Rn,ariaMultiSelectable:Rn,ariaOrientation:null,ariaOwns:on,ariaPlaceholder:null,ariaPosInSet:Fe,ariaPressed:Rn,ariaReadOnly:Rn,ariaRelevant:null,ariaRequired:Rn,ariaRoleDescription:on,ariaRowCount:Fe,ariaRowIndex:Fe,ariaRowSpan:Fe,ariaSelected:Rn,ariaSetSize:Fe,ariaSort:null,ariaValueMax:Fe,ariaValueMin:Fe,ariaValueNow:Fe,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function LS(e,t){return t in e?e[t]:t}function AS(e,t){return LS(e,t.toLowerCase())}const qU=Xu({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Au,acceptCharset:on,accessKey:on,action:null,allow:null,allowFullScreen:jt,allowPaymentRequest:jt,allowUserMedia:jt,alt:null,as:null,async:jt,autoCapitalize:null,autoComplete:on,autoFocus:jt,autoPlay:jt,blocking:on,capture:null,charSet:null,checked:jt,cite:null,className:on,cols:Fe,colSpan:null,content:null,contentEditable:Rn,controls:jt,controlsList:on,coords:Fe|Au,crossOrigin:null,data:null,dateTime:null,decoding:null,default:jt,defer:jt,dir:null,dirName:null,disabled:jt,download:yy,draggable:Rn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:jt,formTarget:null,headers:on,height:Fe,hidden:yy,high:Fe,href:null,hrefLang:null,htmlFor:on,httpEquiv:on,id:null,imageSizes:null,imageSrcSet:null,inert:jt,inputMode:null,integrity:null,is:null,isMap:jt,itemId:null,itemProp:on,itemRef:on,itemScope:jt,itemType:on,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:jt,low:Fe,manifest:null,max:null,maxLength:Fe,media:null,method:null,min:null,minLength:Fe,multiple:jt,muted:jt,name:null,nonce:null,noModule:jt,noValidate:jt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:jt,optimum:Fe,pattern:null,ping:on,placeholder:null,playsInline:jt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:jt,referrerPolicy:null,rel:on,required:jt,reversed:jt,rows:Fe,rowSpan:Fe,sandbox:on,scope:null,scoped:jt,seamless:jt,selected:jt,shadowRootClonable:jt,shadowRootDelegatesFocus:jt,shadowRootMode:null,shape:null,size:Fe,sizes:null,slot:null,span:Fe,spellCheck:Rn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Fe,step:null,style:null,tabIndex:Fe,target:null,title:null,translate:null,type:null,typeMustMatch:jt,useMap:null,value:Rn,width:Fe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:on,axis:null,background:null,bgColor:null,border:Fe,borderColor:null,bottomMargin:Fe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:jt,declare:jt,event:null,face:null,frame:null,frameBorder:null,hSpace:Fe,leftMargin:Fe,link:null,longDesc:null,lowSrc:null,marginHeight:Fe,marginWidth:Fe,noResize:jt,noHref:jt,noShade:jt,noWrap:jt,object:null,profile:null,prompt:null,rev:null,rightMargin:Fe,rules:null,scheme:null,scrolling:Rn,standby:null,summary:null,text:null,topMargin:Fe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Fe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:jt,disableRemotePlayback:jt,prefix:null,property:null,results:Fe,security:null,unselectable:null},space:"html",transform:AS}),KU=Xu({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ai,accentHeight:Fe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Fe,amplitude:Fe,arabicForm:null,ascent:Fe,attributeName:null,attributeType:null,azimuth:Fe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Fe,by:null,calcMode:null,capHeight:Fe,className:on,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Fe,diffuseConstant:Fe,direction:null,display:null,dur:null,divisor:Fe,dominantBaseline:null,download:jt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Fe,enableBackground:null,end:null,event:null,exponent:Fe,externalResourcesRequired:null,fill:null,fillOpacity:Fe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Au,g2:Au,glyphName:Au,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Fe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Fe,horizOriginX:Fe,horizOriginY:Fe,id:null,ideographic:Fe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Fe,k:Fe,k1:Fe,k2:Fe,k3:Fe,k4:Fe,kernelMatrix:ai,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Fe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Fe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Fe,overlineThickness:Fe,paintOrder:null,panose1:null,path:null,pathLength:Fe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:on,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Fe,pointsAtY:Fe,pointsAtZ:Fe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ai,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ai,rev:ai,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ai,requiredFeatures:ai,requiredFonts:ai,requiredFormats:ai,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Fe,specularExponent:Fe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Fe,strikethroughThickness:Fe,string:null,stroke:null,strokeDashArray:ai,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Fe,strokeOpacity:Fe,strokeWidth:null,style:null,surfaceScale:Fe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ai,tabIndex:Fe,tableValues:null,target:null,targetX:Fe,targetY:Fe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ai,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Fe,underlineThickness:Fe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Fe,values:null,vAlphabetic:Fe,vMathematical:Fe,vectorEffect:null,vHanging:Fe,vIdeographic:Fe,version:null,vertAdvY:Fe,vertOriginX:Fe,vertOriginY:Fe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Fe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:LS}),DS=Xu({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),IS=Xu({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:AS}),RS=Xu({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),GU={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},YU=/[A-Z]/g,V5=/-[a-z]/g,XU=/^data[-\w.:]+$/i;function JU(e,t){const n=gy(t);let r=t,i=Xr;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&XU.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(V5,eH);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!V5.test(s)){let o=s.replace(YU,ZU);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=Vv}return new i(r,t)}function ZU(e){return"-"+e.toLowerCase()}function eH(e){return e.charAt(1).toUpperCase()}const tH=PS([OS,qU,DS,IS,RS],"html"),Wv=PS([OS,KU,DS,IS,RS],"svg");function nH(e){return e.join(" ").trim()}var xu={},i1,W5;function rH(){if(W5)return i1;W5=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,a=/^\s+|\s+$/g,u=`
`,c="/",h="*",p="",g="comment",x="declaration";i1=function(S,C){if(typeof S!="string")throw new TypeError("First argument must be a string");if(!S)return[];C=C||{};var E=1,L=1;function A(ue){var q=ue.match(t);q&&(E+=q.length);var V=ue.lastIndexOf(u);L=~V?ue.length-V:L+ue.length}function B(){var ue={line:E,column:L};return function(q){return q.position=new $(ue),H(),q}}function $(ue){this.start=ue,this.end={line:E,column:L},this.source=C.source}$.prototype.content=S;function P(ue){var q=new Error(C.source+":"+E+":"+L+": "+ue);if(q.reason=ue,q.filename=C.source,q.line=E,q.column=L,q.source=S,!C.silent)throw q}function M(ue){var q=ue.exec(S);if(q){var V=q[0];return A(V),S=S.slice(V.length),q}}function H(){M(n)}function Q(ue){var q;for(ue=ue||[];q=F();)q!==!1&&ue.push(q);return ue}function F(){var ue=B();if(!(c!=S.charAt(0)||h!=S.charAt(1))){for(var q=2;p!=S.charAt(q)&&(h!=S.charAt(q)||c!=S.charAt(q+1));)++q;if(q+=2,p===S.charAt(q-1))return P("End of comment missing");var V=S.slice(2,q-2);return L+=2,A(V),S=S.slice(q),L+=2,ue({type:g,comment:V})}}function ae(){var ue=B(),q=M(r);if(q){if(F(),!M(i))return P("property missing ':'");var V=M(s),J=ue({type:x,property:w(q[0].replace(e,p)),value:V?w(V[0].replace(e,p)):p});return M(o),J}}function le(){var ue=[];Q(ue);for(var q;q=ae();)q!==!1&&(ue.push(q),Q(ue));return ue}return H(),le()};function w(S){return S?S.replace(a,p):p}return i1}var q5;function iH(){if(q5)return xu;q5=1;var e=xu&&xu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(xu,"__esModule",{value:!0}),xu.default=n;var t=e(rH());function n(r,i){var s=null;if(!r||typeof r!="string")return s;var o=(0,t.default)(r),a=typeof i=="function";return o.forEach(function(u){if(u.type==="declaration"){var c=u.property,h=u.value;a?i(c,h,u):h&&(s=s||{},s[c]=h)}}),s}return xu}var qc={},K5;function sH(){if(K5)return qc;K5=1,Object.defineProperty(qc,"__esModule",{value:!0}),qc.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(c){return!c||n.test(c)||e.test(c)},o=function(c,h){return h.toUpperCase()},a=function(c,h){return"".concat(h,"-")},u=function(c,h){return h===void 0&&(h={}),s(c)?c:(c=c.toLowerCase(),h.reactCompat?c=c.replace(i,a):c=c.replace(r,a),c.replace(t,o))};return qc.camelCase=u,qc}var Kc,G5;function oH(){if(G5)return Kc;G5=1;var e=Kc&&Kc.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(iH()),n=sH();function r(i,s){var o={};return!i||typeof i!="string"||(0,t.default)(i,function(a,u){a&&u&&(o[(0,n.camelCase)(a,s)]=u)}),o}return r.default=r,Kc=r,Kc}var aH=oH();const lH=fi(aH),MS=FS("end"),qv=FS("start");function FS(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function uH(e){const t=qv(e),n=MS(e);if(t&&n)return{start:t,end:n}}function gd(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Y5(e.position):"start"in e||"end"in e?Y5(e):"line"in e||"column"in e?xy(e):""}function xy(e){return X5(e&&e.line)+":"+X5(e&&e.column)}function Y5(e){return xy(e&&e.start)+"-"+xy(e&&e.end)}function X5(e){return e&&typeof e=="number"?e:1}class wr extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(o=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?s.ruleId=r:(s.source=r.slice(0,u),s.ruleId=r.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){const u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=gd(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}wr.prototype.file="";wr.prototype.name="";wr.prototype.reason="";wr.prototype.message="";wr.prototype.stack="";wr.prototype.column=void 0;wr.prototype.line=void 0;wr.prototype.ancestors=void 0;wr.prototype.cause=void 0;wr.prototype.fatal=void 0;wr.prototype.place=void 0;wr.prototype.ruleId=void 0;wr.prototype.source=void 0;const Kv={}.hasOwnProperty,cH=new Map,dH=/[A-Z]/g,hH=new Set(["table","tbody","thead","tfoot","tr"]),fH=new Set(["td","th"]),BS="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function pH(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=_H(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=wH(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Wv:tH,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=zS(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function zS(e,t,n){if(t.type==="element")return mH(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return gH(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return vH(e,t,n);if(t.type==="mdxjsEsm")return yH(e,t);if(t.type==="root")return xH(e,t,n);if(t.type==="text")return bH(e,t)}function mH(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Wv,e.schema=i),e.ancestors.push(t);const s=US(e,t.tagName,!1),o=SH(e,t);let a=Yv(e,t);return hH.has(t.tagName)&&(a=a.filter(function(u){return typeof u=="string"?!VU(u):!0})),$S(e,o,s,t),Gv(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function gH(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Id(e,t.position)}function yH(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Id(e,t.position)}function vH(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Wv,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:US(e,t.name,!0),o=CH(e,t),a=Yv(e,t);return $S(e,o,s,t),Gv(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function xH(e,t,n){const r={};return Gv(r,Yv(e,t)),e.create(t,e.Fragment,r,n)}function bH(e,t){return t.value}function $S(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Gv(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function wH(e,t,n){return r;function r(i,s,o,a){const c=Array.isArray(o.children)?n:t;return a?c(s,o,a):c(s,o)}}function _H(e,t){return n;function n(r,i,s,o){const a=Array.isArray(s.children),u=qv(r);return t(i,s,o,a,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function SH(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&Kv.call(t.properties,i)){const s=kH(e,i,t.properties[i]);if(s){const[o,a]=s;e.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&fH.has(t.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function CH(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else Id(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,s=e.evaluater.evaluateExpression(a.expression)}else Id(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function Yv(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:cH;for(;++r<t.children.length;){const s=t.children[r];let o;if(e.passKeys){const u=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(u){const c=i.get(u)||0;o=u+"-"+c,i.set(u,c+1)}}const a=zS(e,s,o);a!==void 0&&n.push(a)}return n}function kH(e,t,n){const r=JU(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?zU(n):nH(n)),r.property==="style"){let i=typeof n=="object"?n:jH(e,String(n));return e.stylePropertyNameCase==="css"&&(i=EH(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?GU[r.property]||r.property:r.attribute,n]}}function jH(e,t){try{return lH(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new wr("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=BS+"#cannot-parse-style-attribute",i}}function US(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,o;for(;++s<i.length;){const a=U5(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=U5(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return Kv.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Id(e)}function Id(e,t){const n=new wr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=BS+"#cannot-handle-mdx-estrees-without-createevaluater",n}function EH(e){const t={};let n;for(n in e)Kv.call(e,n)&&(t[TH(n)]=e[n]);return t}function TH(e){let t=e.replace(dH,NH);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function NH(e){return"-"+e.toLowerCase()}const s1={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},PH={tokenize:OH};function OH(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Ut(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return dt(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const LH={tokenize:AH},J5={tokenize:DH};function AH(e){const t=this,n=[];let r=0,i,s,o;return a;function a(A){if(r<n.length){const B=n[r];return t.containerState=B[1],e.attempt(B[0].continuation,u,c)(A)}return c(A)}function u(A){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&L();const B=t.events.length;let $=B,P;for(;$--;)if(t.events[$][0]==="exit"&&t.events[$][1].type==="chunkFlow"){P=t.events[$][1].end;break}E(r);let M=B;for(;M<t.events.length;)t.events[M][1].end={...P},M++;return di(t.events,$+1,0,t.events.slice(B)),t.events.length=M,c(A)}return a(A)}function c(A){if(r===n.length){if(!i)return g(A);if(i.currentConstruct&&i.currentConstruct.concrete)return w(A);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(J5,h,p)(A)}function h(A){return i&&L(),E(r),g(A)}function p(A){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,w(A)}function g(A){return t.containerState={},e.attempt(J5,x,w)(A)}function x(A){return r++,n.push([t.currentConstruct,t.containerState]),g(A)}function w(A){if(A===null){i&&L(),E(0),e.consume(A);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),S(A)}function S(A){if(A===null){C(e.exit("chunkFlow"),!0),E(0),e.consume(A);return}return dt(A)?(e.consume(A),C(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(A),S)}function C(A,B){const $=t.sliceStream(A);if(B&&$.push(null),A.previous=s,s&&(s.next=A),s=A,i.defineSkip(A.start),i.write($),t.parser.lazy[A.start.line]){let P=i.events.length;for(;P--;)if(i.events[P][1].start.offset<o&&(!i.events[P][1].end||i.events[P][1].end.offset>o))return;const M=t.events.length;let H=M,Q,F;for(;H--;)if(t.events[H][0]==="exit"&&t.events[H][1].type==="chunkFlow"){if(Q){F=t.events[H][1].end;break}Q=!0}for(E(r),P=M;P<t.events.length;)t.events[P][1].end={...F},P++;di(t.events,H+1,0,t.events.slice(M)),t.events.length=P}}function E(A){let B=n.length;for(;B-- >A;){const $=n[B];t.containerState=$[1],$[0].exit.call(t,e)}n.length=A}function L(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function DH(e,t,n){return Ut(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}const IH={tokenize:RH};function RH(e){const t=this,n=e.attempt(sh,r,e.attempt(this.parser.constructs.flowInitial,i,Ut(e,e.attempt(this.parser.constructs.flow,i,e.attempt(S$,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const MH={resolveAll:QS()},FH=HS("string"),BH=HS("text");function HS(e){return{resolveAll:QS(e==="text"?zH:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(h){return c(h)?s(h):a(h)}function a(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),u}function u(h){return c(h)?(n.exit("data"),s(h)):(n.consume(h),u)}function c(h){if(h===null)return!0;const p=i[h];let g=-1;if(p)for(;++g<p.length;){const x=p[g];if(!x.previous||x.previous.call(r,r.previous))return!0}return!1}}}function QS(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function zH(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,u;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)u=!0,a++;else if(c!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const c={type:n===e.length||u||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const $H={42:Wr,43:Wr,45:Wr,48:Wr,49:Wr,50:Wr,51:Wr,52:Wr,53:Wr,54:Wr,55:Wr,56:Wr,57:Wr,62:SS},UH={91:T$},HH={[-2]:t1,[-1]:t1,32:t1},QH={35:D$,42:pp,45:[z5,pp],60:F$,61:z5,95:pp,96:F5,126:F5},VH={38:kS,92:CS},WH={[-5]:n1,[-4]:n1,[-3]:n1,33:nU,38:kS,42:my,60:[i$,V$],91:iU,92:[L$,CS],93:Qv,95:my,96:y$},qH={null:[my,MH]},KH={null:[42,95]},GH={null:[]},YH=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:KH,contentInitial:UH,disable:GH,document:$H,flow:QH,flowInitial:HH,insideSpan:qH,string:VH,text:WH},Symbol.toStringTag,{value:"Module"}));function XH(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const u={attempt:M($),check:M(P),consume:L,enter:A,exit:B,interrupt:M(P,{interrupt:!0})},c={code:null,containerState:{},defineSkip:S,events:[],now:w,parser:e,previous:null,sliceSerialize:g,sliceStream:x,write:p};let h=t.tokenize.call(c,u);return t.resolveAll&&s.push(t),c;function p(ae){return o=Pi(o,ae),C(),o[o.length-1]!==null?[]:(H(t,0),c.events=Nm(s,c.events,c),c.events)}function g(ae,le){return ZH(x(ae),le)}function x(ae){return JH(o,ae)}function w(){const{_bufferIndex:ae,_index:le,line:ue,column:q,offset:V}=r;return{_bufferIndex:ae,_index:le,line:ue,column:q,offset:V}}function S(ae){i[ae.line]=ae.column,F()}function C(){let ae;for(;r._index<o.length;){const le=o[r._index];if(typeof le=="string")for(ae=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===ae&&r._bufferIndex<le.length;)E(le.charCodeAt(r._bufferIndex));else E(le)}}function E(ae){h=h(ae)}function L(ae){dt(ae)?(r.line++,r.column=1,r.offset+=ae===-3?2:1,F()):ae!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=ae}function A(ae,le){const ue=le||{};return ue.type=ae,ue.start=w(),c.events.push(["enter",ue,c]),a.push(ue),ue}function B(ae){const le=a.pop();return le.end=w(),c.events.push(["exit",le,c]),le}function $(ae,le){H(ae,le.from)}function P(ae,le){le.restore()}function M(ae,le){return ue;function ue(q,V,J){let te,ne,me,R;return Array.isArray(q)?ye(q):"tokenize"in q?ye([q]):G(q);function G(Ee){return Ye;function Ye(Ke){const Pe=Ke!==null&&Ee[Ke],ht=Ke!==null&&Ee.null,ln=[...Array.isArray(Pe)?Pe:Pe?[Pe]:[],...Array.isArray(ht)?ht:ht?[ht]:[]];return ye(ln)(Ke)}}function ye(Ee){return te=Ee,ne=0,Ee.length===0?J:z(Ee[ne])}function z(Ee){return Ye;function Ye(Ke){return R=Q(),me=Ee,Ee.partial||(c.currentConstruct=Ee),Ee.name&&c.parser.constructs.disable.null.includes(Ee.name)?je():Ee.tokenize.call(le?Object.assign(Object.create(c),le):c,u,Me,je)(Ke)}}function Me(Ee){return ae(me,R),V}function je(Ee){return R.restore(),++ne<te.length?z(te[ne]):J}}}function H(ae,le){ae.resolveAll&&!s.includes(ae)&&s.push(ae),ae.resolve&&di(c.events,le,c.events.length-le,ae.resolve(c.events.slice(le),c)),ae.resolveTo&&(c.events=ae.resolveTo(c.events,c))}function Q(){const ae=w(),le=c.previous,ue=c.currentConstruct,q=c.events.length,V=Array.from(a);return{from:q,restore:J};function J(){r=ae,c.previous=le,c.currentConstruct=ue,c.events.length=q,a=V,F()}}function F(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function JH(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function ZH(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function eQ(e){const r={constructs:pS([YH,...(e||{}).extensions||[]]),content:i(PH),defined:[],document:i(LH),flow:i(IH),lazy:{},string:i(FH),text:i(BH)};return r;function i(s){return o;function o(a){return XH(r,s,a)}}}function tQ(e){for(;!jS(e););return e}const Z5=/[\0\t\n\r]/g;function nQ(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const u=[];let c,h,p,g,x;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),p=0,t="",n&&(s.charCodeAt(0)===65279&&p++,n=void 0);p<s.length;){if(Z5.lastIndex=p,c=Z5.exec(s),g=c&&c.index!==void 0?c.index:s.length,x=s.charCodeAt(g),!c){t=s.slice(p);break}if(x===10&&p===g&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),p<g&&(u.push(s.slice(p,g)),e+=g-p),x){case 0:{u.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,u.push(-2);e++<h;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}p=g+1}return a&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}const VS={}.hasOwnProperty;function rQ(e,t,n){return typeof t!="string"&&(n=t,t=void 0),iQ(n)(tQ(eQ(n).document().write(nQ()(e,t,!0))))}function iQ(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(is),autolinkProtocol:Q,autolinkEmail:Q,atxHeading:s(jn),blockQuote:s(ht),characterEscape:Q,characterReference:Q,codeFenced:s(ln),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(ln,o),codeText:s(Tt,o),codeTextData:Q,data:Q,codeFlowValue:Q,definition:s(fn),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(un),hardBreakEscape:s(js),hardBreakTrailing:s(js),htmlFlow:s(Ai,o),htmlFlowData:Q,htmlText:s(Ai,o),htmlTextData:Q,image:s(fo),label:o,link:s(is),listItem:s(En),listItemValue:g,listOrdered:s(Ar,p),listUnordered:s(Ar),paragraph:s(sr),reference:z,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(jn),strong:s(or),thematicBreak:s(Dr)},exit:{atxHeading:u(),atxHeadingSequence:$,autolink:u(),autolinkEmail:Pe,autolinkProtocol:Ke,blockQuote:u(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:je,characterReferenceMarkerNumeric:je,characterReferenceValue:Ee,characterReference:Ye,codeFenced:u(C),codeFencedFence:S,codeFencedFenceInfo:x,codeFencedFenceMeta:w,codeFlowValue:F,codeIndented:u(E),codeText:u(V),codeTextData:F,data:F,definition:u(),definitionDestinationString:B,definitionLabelString:L,definitionTitleString:A,emphasis:u(),hardBreakEscape:u(le),hardBreakTrailing:u(le),htmlFlow:u(ue),htmlFlowData:F,htmlText:u(q),htmlTextData:F,image:u(te),label:me,labelText:ne,lineEnding:ae,link:u(J),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:Me,resourceDestinationString:R,resourceTitleString:G,resource:ye,setextHeading:u(H),setextHeadingLineSequence:M,setextHeadingText:P,strong:u(),thematicBreak:u()}};WS(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Ce){let Oe={type:"root",children:[]};const lt={stack:[Oe],tokenStack:[],config:t,enter:a,exit:c,buffer:o,resume:h,data:n},pt=[];let Nt=-1;for(;++Nt<Ce.length;)if(Ce[Nt][1].type==="listOrdered"||Ce[Nt][1].type==="listUnordered")if(Ce[Nt][0]==="enter")pt.push(Nt);else{const Kt=pt.pop();Nt=i(Ce,Kt,Nt)}for(Nt=-1;++Nt<Ce.length;){const Kt=t[Ce[Nt][0]];VS.call(Kt,Ce[Nt][1].type)&&Kt[Ce[Nt][1].type].call(Object.assign({sliceSerialize:Ce[Nt][2].sliceSerialize},lt),Ce[Nt][1])}if(lt.tokenStack.length>0){const Kt=lt.tokenStack[lt.tokenStack.length-1];(Kt[1]||e4).call(lt,void 0,Kt[0])}for(Oe.position={start:Bo(Ce.length>0?Ce[0][1].start:{line:1,column:1,offset:0}),end:Bo(Ce.length>0?Ce[Ce.length-2][1].end:{line:1,column:1,offset:0})},Nt=-1;++Nt<t.transforms.length;)Oe=t.transforms[Nt](Oe)||Oe;return Oe}function i(Ce,Oe,lt){let pt=Oe-1,Nt=-1,Kt=!1,Ln,An,_r,qn;for(;++pt<=lt;){const Ve=Ce[pt];switch(Ve[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ve[0]==="enter"?Nt++:Nt--,qn=void 0;break}case"lineEndingBlank":{Ve[0]==="enter"&&(Ln&&!qn&&!Nt&&!_r&&(_r=pt),qn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:qn=void 0}if(!Nt&&Ve[0]==="enter"&&Ve[1].type==="listItemPrefix"||Nt===-1&&Ve[0]==="exit"&&(Ve[1].type==="listUnordered"||Ve[1].type==="listOrdered")){if(Ln){let Tn=pt;for(An=void 0;Tn--;){const pn=Ce[Tn];if(pn[1].type==="lineEnding"||pn[1].type==="lineEndingBlank"){if(pn[0]==="exit")continue;An&&(Ce[An][1].type="lineEndingBlank",Kt=!0),pn[1].type="lineEnding",An=Tn}else if(!(pn[1].type==="linePrefix"||pn[1].type==="blockQuotePrefix"||pn[1].type==="blockQuotePrefixWhitespace"||pn[1].type==="blockQuoteMarker"||pn[1].type==="listItemIndent"))break}_r&&(!An||_r<An)&&(Ln._spread=!0),Ln.end=Object.assign({},An?Ce[An][1].start:Ve[1].end),Ce.splice(An||pt,0,["exit",Ln,Ve[2]]),pt++,lt++}if(Ve[1].type==="listItemPrefix"){const Tn={type:"listItem",_spread:!1,start:Object.assign({},Ve[1].start),end:void 0};Ln=Tn,Ce.splice(pt,0,["enter",Tn,Ve[2]]),pt++,lt++,_r=void 0,qn=!0}}}return Ce[Oe][1]._spread=Kt,lt}function s(Ce,Oe){return lt;function lt(pt){a.call(this,Ce(pt),pt),Oe&&Oe.call(this,pt)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(Ce,Oe,lt){this.stack[this.stack.length-1].children.push(Ce),this.stack.push(Ce),this.tokenStack.push([Oe,lt||void 0]),Ce.position={start:Bo(Oe.start),end:void 0}}function u(Ce){return Oe;function Oe(lt){Ce&&Ce.call(this,lt),c.call(this,lt)}}function c(Ce,Oe){const lt=this.stack.pop(),pt=this.tokenStack.pop();if(pt)pt[0].type!==Ce.type&&(Oe?Oe.call(this,Ce,pt[0]):(pt[1]||e4).call(this,Ce,pt[0]));else throw new Error("Cannot close `"+Ce.type+"` ("+gd({start:Ce.start,end:Ce.end})+"): it’s not open");lt.position.end=Bo(Ce.end)}function h(){return zv(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function g(Ce){if(this.data.expectingFirstListItemValue){const Oe=this.stack[this.stack.length-2];Oe.start=Number.parseInt(this.sliceSerialize(Ce),10),this.data.expectingFirstListItemValue=void 0}}function x(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.lang=Ce}function w(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.meta=Ce}function S(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function C(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=Ce.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function E(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=Ce.replace(/(\r?\n|\r)$/g,"")}function L(Ce){const Oe=this.resume(),lt=this.stack[this.stack.length-1];lt.label=Oe,lt.identifier=ts(this.sliceSerialize(Ce)).toLowerCase()}function A(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.title=Ce}function B(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.url=Ce}function $(Ce){const Oe=this.stack[this.stack.length-1];if(!Oe.depth){const lt=this.sliceSerialize(Ce).length;Oe.depth=lt}}function P(){this.data.setextHeadingSlurpLineEnding=!0}function M(Ce){const Oe=this.stack[this.stack.length-1];Oe.depth=this.sliceSerialize(Ce).codePointAt(0)===61?1:2}function H(){this.data.setextHeadingSlurpLineEnding=void 0}function Q(Ce){const lt=this.stack[this.stack.length-1].children;let pt=lt[lt.length-1];(!pt||pt.type!=="text")&&(pt=ss(),pt.position={start:Bo(Ce.start),end:void 0},lt.push(pt)),this.stack.push(pt)}function F(Ce){const Oe=this.stack.pop();Oe.value+=this.sliceSerialize(Ce),Oe.position.end=Bo(Ce.end)}function ae(Ce){const Oe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const lt=Oe.children[Oe.children.length-1];lt.position.end=Bo(Ce.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Oe.type)&&(Q.call(this,Ce),F.call(this,Ce))}function le(){this.data.atHardBreak=!0}function ue(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=Ce}function q(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=Ce}function V(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=Ce}function J(){const Ce=this.stack[this.stack.length-1];if(this.data.inReference){const Oe=this.data.referenceType||"shortcut";Ce.type+="Reference",Ce.referenceType=Oe,delete Ce.url,delete Ce.title}else delete Ce.identifier,delete Ce.label;this.data.referenceType=void 0}function te(){const Ce=this.stack[this.stack.length-1];if(this.data.inReference){const Oe=this.data.referenceType||"shortcut";Ce.type+="Reference",Ce.referenceType=Oe,delete Ce.url,delete Ce.title}else delete Ce.identifier,delete Ce.label;this.data.referenceType=void 0}function ne(Ce){const Oe=this.sliceSerialize(Ce),lt=this.stack[this.stack.length-2];lt.label=Tz(Oe),lt.identifier=ts(Oe).toLowerCase()}function me(){const Ce=this.stack[this.stack.length-1],Oe=this.resume(),lt=this.stack[this.stack.length-1];if(this.data.inReference=!0,lt.type==="link"){const pt=Ce.children;lt.children=pt}else lt.alt=Oe}function R(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.url=Ce}function G(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.title=Ce}function ye(){this.data.inReference=void 0}function z(){this.data.referenceType="collapsed"}function Me(Ce){const Oe=this.resume(),lt=this.stack[this.stack.length-1];lt.label=Oe,lt.identifier=ts(this.sliceSerialize(Ce)).toLowerCase(),this.data.referenceType="full"}function je(Ce){this.data.characterReferenceType=Ce.type}function Ee(Ce){const Oe=this.sliceSerialize(Ce),lt=this.data.characterReferenceType;let pt;lt?(pt=fS(Oe,lt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):pt=Uv(Oe);const Nt=this.stack[this.stack.length-1];Nt.value+=pt}function Ye(Ce){const Oe=this.stack.pop();Oe.position.end=Bo(Ce.end)}function Ke(Ce){F.call(this,Ce);const Oe=this.stack[this.stack.length-1];Oe.url=this.sliceSerialize(Ce)}function Pe(Ce){F.call(this,Ce);const Oe=this.stack[this.stack.length-1];Oe.url="mailto:"+this.sliceSerialize(Ce)}function ht(){return{type:"blockquote",children:[]}}function ln(){return{type:"code",lang:null,meta:null,value:""}}function Tt(){return{type:"inlineCode",value:""}}function fn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function un(){return{type:"emphasis",children:[]}}function jn(){return{type:"heading",depth:0,children:[]}}function js(){return{type:"break"}}function Ai(){return{type:"html",value:""}}function fo(){return{type:"image",title:null,url:"",alt:null}}function is(){return{type:"link",title:null,url:"",children:[]}}function Ar(Ce){return{type:"list",ordered:Ce.type==="listOrdered",start:null,spread:Ce._spread,children:[]}}function En(Ce){return{type:"listItem",spread:Ce._spread,checked:null,children:[]}}function sr(){return{type:"paragraph",children:[]}}function or(){return{type:"strong",children:[]}}function ss(){return{type:"text",value:""}}function Dr(){return{type:"thematicBreak"}}}function Bo(e){return{line:e.line,column:e.column,offset:e.offset}}function WS(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?WS(e,r):sQ(e,r)}}function sQ(e,t){let n;for(n in t)if(VS.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function e4(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+gd({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+gd({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+gd({start:t.start,end:t.end})+") is still open")}function oQ(e){const t=this;t.parser=n;function n(r){return rQ(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function aQ(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function lQ(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function uQ(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function cQ(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function dQ(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function hQ(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Yu(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,a+=1,e.footnoteCounts.set(r,a);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,u);const c={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,c),e.applyData(t,c)}function fQ(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function pQ(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function qS(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function mQ(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return qS(e,t);const i={src:Yu(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function gQ(e,t){const n={src:Yu(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function yQ(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function vQ(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return qS(e,t);const i={href:Yu(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function xQ(e,t){const n={href:Yu(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function bQ(e,t,n){const r=e.all(t),i=n?wQ(n):KS(t),s={},o=[];if(typeof t.checked=="boolean"){const h=r[0];let p;h&&h.type==="element"&&h.tagName==="p"?p=h:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const h=r[a];(i||a!==0||h.type!=="element"||h.tagName!=="p")&&o.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?o.push(...h.children):o.push(h)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,c),e.applyData(t,c)}function wQ(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=KS(n[r])}return t}function KS(e){const t=e.spread;return t??e.children.length>1}function _Q(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function SQ(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function CQ(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function kQ(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function jQ(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=qv(t.children[1]),u=MS(t.children[t.children.length-1]);a&&u&&(o.position={start:a,end:u}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function EQ(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let u=-1;const c=[];for(;++u<a;){const p=t.children[u],g={},x=o?o[u]:void 0;x&&(g.align=x);let w={type:"element",tagName:s,properties:g,children:[]};p&&(w.children=e.all(p),e.patch(p,w),w=e.applyData(p,w)),c.push(w)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,h),e.applyData(t,h)}function TQ(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const t4=9,n4=32;function NQ(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(r4(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(r4(t.slice(i),i>0,!1)),s.join("")}function r4(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===t4||s===n4;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===t4||s===n4;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function PQ(e,t){const n={type:"text",value:NQ(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function OQ(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const LQ={blockquote:aQ,break:lQ,code:uQ,delete:cQ,emphasis:dQ,footnoteReference:hQ,heading:fQ,html:pQ,imageReference:mQ,image:gQ,inlineCode:yQ,linkReference:vQ,link:xQ,listItem:bQ,list:_Q,paragraph:SQ,root:CQ,strong:kQ,table:jQ,tableCell:TQ,tableRow:EQ,text:PQ,thematicBreak:OQ,toml:Qf,yaml:Qf,definition:Qf,footnoteDefinition:Qf};function Qf(){}const GS=-1,Pm=0,yd=1,Qp=2,Xv=3,Jv=4,Zv=5,ex=6,YS=7,XS=8,i4=typeof self=="object"?self:globalThis,AQ=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case Pm:case GS:return n(o,i);case yd:{const a=n([],i);for(const u of o)a.push(r(u));return a}case Qp:{const a=n({},i);for(const[u,c]of o)a[r(u)]=r(c);return a}case Xv:return n(new Date(o),i);case Jv:{const{source:a,flags:u}=o;return n(new RegExp(a,u),i)}case Zv:{const a=n(new Map,i);for(const[u,c]of o)a.set(r(u),r(c));return a}case ex:{const a=n(new Set,i);for(const u of o)a.add(r(u));return a}case YS:{const{name:a,message:u}=o;return n(new i4[a](u),i)}case XS:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new i4[s](o),i)};return r},s4=e=>AQ(new Map,e)(0),bu="",{toString:DQ}={},{keys:IQ}=Object,Gc=e=>{const t=typeof e;if(t!=="object"||!e)return[Pm,t];const n=DQ.call(e).slice(8,-1);switch(n){case"Array":return[yd,bu];case"Object":return[Qp,bu];case"Date":return[Xv,bu];case"RegExp":return[Jv,bu];case"Map":return[Zv,bu];case"Set":return[ex,bu];case"DataView":return[yd,n]}return n.includes("Array")?[yd,n]:n.includes("Error")?[YS,n]:[Qp,n]},Vf=([e,t])=>e===Pm&&(t==="function"||t==="symbol"),RQ=(e,t,n,r)=>{const i=(o,a)=>{const u=r.push(o)-1;return n.set(a,u),u},s=o=>{if(n.has(o))return n.get(o);let[a,u]=Gc(o);switch(a){case Pm:{let h=o;switch(u){case"bigint":a=XS,h=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);h=null;break;case"undefined":return i([GS],o)}return i([a,h],o)}case yd:{if(u){let g=o;return u==="DataView"?g=new Uint8Array(o.buffer):u==="ArrayBuffer"&&(g=new Uint8Array(o)),i([u,[...g]],o)}const h=[],p=i([a,h],o);for(const g of o)h.push(s(g));return p}case Qp:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const h=[],p=i([a,h],o);for(const g of IQ(o))(e||!Vf(Gc(o[g])))&&h.push([s(g),s(o[g])]);return p}case Xv:return i([a,o.toISOString()],o);case Jv:{const{source:h,flags:p}=o;return i([a,{source:h,flags:p}],o)}case Zv:{const h=[],p=i([a,h],o);for(const[g,x]of o)(e||!(Vf(Gc(g))||Vf(Gc(x))))&&h.push([s(g),s(x)]);return p}case ex:{const h=[],p=i([a,h],o);for(const g of o)(e||!Vf(Gc(g)))&&h.push(s(g));return p}}const{message:c}=o;return i([a,{name:u,message:c}],o)};return s},o4=(e,{json:t,lossy:n}={})=>{const r=[];return RQ(!(t||n),!!t,new Map,r)(e),r},Vp=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?s4(o4(e,t)):structuredClone(e):(e,t)=>s4(o4(e,t));function MQ(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function FQ(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function BQ(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||MQ,r=e.options.footnoteBackLabel||FQ,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let u=-1;for(;++u<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[u]);if(!c)continue;const h=e.all(c),p=String(c.identifier).toUpperCase(),g=Yu(p.toLowerCase());let x=0;const w=[],S=e.footnoteCounts.get(p);for(;S!==void 0&&++x<=S;){w.length>0&&w.push({type:"text",value:" "});let L=typeof n=="string"?n:n(u,x);typeof L=="string"&&(L={type:"text",value:L}),w.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(x>1?"-"+x:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,x),className:["data-footnote-backref"]},children:Array.isArray(L)?L:[L]})}const C=h[h.length-1];if(C&&C.type==="element"&&C.tagName==="p"){const L=C.children[C.children.length-1];L&&L.type==="text"?L.value+=" ":C.children.push({type:"text",value:" "}),C.children.push(...w)}else h.push(...w);const E={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(h,!0)};e.patch(c,E),a.push(E)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Vp(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const by={}.hasOwnProperty,zQ={};function $Q(e,t){const n=t||zQ,r=new Map,i=new Map,s=new Map,o={...LQ,...n.handlers},a={all:c,applyData:HQ,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:u,options:n,patch:UQ,wrap:VQ};return Bv(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const p=h.type==="definition"?r:i,g=String(h.identifier).toUpperCase();p.has(g)||p.set(g,h)}}),a;function u(h,p){const g=h.type,x=a.handlers[g];if(by.call(a.handlers,g)&&x)return x(a,h,p);if(a.options.passThrough&&a.options.passThrough.includes(g)){if("children"in h){const{children:S,...C}=h,E=Vp(C);return E.children=a.all(h),E}return Vp(h)}return(a.options.unknownHandler||QQ)(a,h,p)}function c(h){const p=[];if("children"in h){const g=h.children;let x=-1;for(;++x<g.length;){const w=a.one(g[x],h);if(w){if(x&&g[x-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=a4(w.value)),!Array.isArray(w)&&w.type==="element")){const S=w.children[0];S&&S.type==="text"&&(S.value=a4(S.value))}Array.isArray(w)?p.push(...w):p.push(w)}}}return p}}function UQ(e,t){e.position&&(t.position=uH(e))}function HQ(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,Vp(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function QQ(e,t){const n=t.data||{},r="value"in t&&!(by.call(n,"hProperties")||by.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function VQ(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function a4(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function l4(e,t){const n=$Q(e,t),r=n.one(e,void 0),i=BQ(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function WQ(e,t){return e&&"run"in e?async function(n,r){const i=l4(n,{file:r,...t});await e.run(i,r)}:function(n,r){return l4(n,{file:r,...e||t})}}function u4(e){if(e)throw e}var o1,c4;function qQ(){if(c4)return o1;c4=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):t.call(c)==="[object Array]"},s=function(c){if(!c||t.call(c)!=="[object Object]")return!1;var h=e.call(c,"constructor"),p=c.constructor&&c.constructor.prototype&&e.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!h&&!p)return!1;var g;for(g in c);return typeof g>"u"||e.call(c,g)},o=function(c,h){n&&h.name==="__proto__"?n(c,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):c[h.name]=h.newValue},a=function(c,h){if(h==="__proto__")if(e.call(c,h)){if(r)return r(c,h).value}else return;return c[h]};return o1=function u(){var c,h,p,g,x,w,S=arguments[0],C=1,E=arguments.length,L=!1;for(typeof S=="boolean"&&(L=S,S=arguments[1]||{},C=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});C<E;++C)if(c=arguments[C],c!=null)for(h in c)p=a(S,h),g=a(c,h),S!==g&&(L&&g&&(s(g)||(x=i(g)))?(x?(x=!1,w=p&&i(p)?p:[]):w=p&&s(p)?p:{},o(S,{name:h,newValue:u(L,w,g)})):typeof g<"u"&&o(S,{name:h,newValue:g}));return S},o1}var KQ=qQ();const a1=fi(KQ);function wy(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function GQ(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(u,...c){const h=e[++s];let p=-1;if(u){o(u);return}for(;++p<i.length;)(c[p]===null||c[p]===void 0)&&(c[p]=i[p]);i=c,h?YQ(h,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function YQ(e,t){let n;return r;function r(...o){const a=e.length>o.length;let u;a&&o.push(i);try{u=e.apply(this,o)}catch(c){const h=c;if(a&&n)throw h;return i(h)}a||(u&&u.then&&typeof u.then=="function"?u.then(s,i):u instanceof Error?i(u):s(u))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}const ys={basename:XQ,dirname:JQ,extname:ZQ,join:eV,sep:"/"};function XQ(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ah(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function JQ(e){if(ah(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function ZQ(e){ah(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.codePointAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function eV(...e){let t=-1,n;for(;++t<e.length;)ah(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":tV(n)}function tV(e){ah(e);const t=e.codePointAt(0)===47;let n=nV(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function nV(e,t){let n="",r=0,i=-1,s=0,o=-1,a,u;for(;++o<=e.length;){if(o<e.length)a=e.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function ah(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const rV={cwd:iV};function iV(){return"/"}function _y(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function sV(e){if(typeof e=="string")e=new URL(e);else if(!_y(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return oV(e)}function oV(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const l1=["history","path","basename","stem","extname","dirname"];class JS{constructor(t){let n;t?_y(t)?n={path:t}:typeof t=="string"||aV(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":rV.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<l1.length;){const s=l1[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)l1.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?ys.basename(this.path):void 0}set basename(t){c1(t,"basename"),u1(t,"basename"),this.path=ys.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?ys.dirname(this.path):void 0}set dirname(t){d4(this.basename,"dirname"),this.path=ys.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?ys.extname(this.path):void 0}set extname(t){if(u1(t,"extname"),d4(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ys.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){_y(t)&&(t=sV(t)),c1(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?ys.basename(this.path,this.extname):void 0}set stem(t){c1(t,"stem"),u1(t,"stem"),this.path=ys.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new wr(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function u1(e,t){if(e&&e.includes(ys.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ys.sep+"`")}function c1(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function d4(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function aV(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const lV=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},uV={}.hasOwnProperty;class tx extends lV{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=GQ()}copy(){const t=new tx;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(a1(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(f1("data",this.frozen),this.namespace[t]=n,this):uV.call(this.namespace,t)&&this.namespace[t]||void 0:t?(f1("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Wf(t),r=this.parser||this.Parser;return d1("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),d1("process",this.parser||this.Parser),h1("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=Wf(t),u=r.parse(a);r.run(u,a,function(h,p,g){if(h||!p||!g)return c(h);const x=p,w=r.stringify(x,g);hV(w)?g.value=w:g.result=w,c(h,g)});function c(h,p){h||!p?o(h):s?s(p):n(void 0,p)}}}processSync(t){let n=!1,r;return this.freeze(),d1("processSync",this.parser||this.Parser),h1("processSync",this.compiler||this.Compiler),this.process(t,i),f4("processSync","process",n),r;function i(s,o){n=!0,u4(s),r=o}}run(t,n,r){h4(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const u=Wf(n);i.run(t,u,c);function c(h,p,g){const x=p||t;h?a(h):o?o(x):r(void 0,x,g)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),f4("runSync","run",r),i;function s(o,a){u4(o),i=a,r=!0}}stringify(t,n){this.freeze();const r=Wf(n),i=this.compiler||this.Compiler;return h1("stringify",i),h4(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(f1("use",this.frozen),t!=null)if(typeof t=="function")u(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(c){if(typeof c=="function")u(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[h,...p]=c;u(h,p)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=a1(!0,i.settings,c.settings))}function a(c){let h=-1;if(c!=null)if(Array.isArray(c))for(;++h<c.length;){const p=c[h];s(p)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function u(c,h){let p=-1,g=-1;for(;++p<r.length;)if(r[p][0]===c){g=p;break}if(g===-1)r.push([c,...h]);else if(h.length>0){let[x,...w]=h;const S=r[g][1];wy(S)&&wy(x)&&(x=a1(!0,S,x)),r[g]=[c,x,...w]}}}}const cV=new tx().freeze();function d1(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function h1(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function f1(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function h4(e){if(!wy(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function f4(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Wf(e){return dV(e)?e:new JS(e)}function dV(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function hV(e){return typeof e=="string"||fV(e)}function fV(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const pV="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",p4=[],m4={allowDangerousHtml:!0},mV=/^(https?|ircs?|mailto|xmpp)$/i,gV=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function yV(e){const t=vV(e),n=xV(e);return bV(t.runSync(t.parse(n),n),e)}function vV(e){const t=e.rehypePlugins||p4,n=e.remarkPlugins||p4,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...m4}:m4;return cV().use(oQ).use(n).use(WQ,r).use(t)}function xV(e){const t=e.children||"",n=new JS;return typeof t=="string"&&(n.value=t),n}function bV(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,o=t.skipHtml,a=t.unwrapDisallowed,u=t.urlTransform||wV;for(const h of gV)Object.hasOwn(t,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+pV+h.id,void 0);return Bv(e,c),pH(e,{Fragment:f.Fragment,components:i,ignoreInvalidStyle:!0,jsx:f.jsx,jsxs:f.jsxs,passKeys:!0,passNode:!0});function c(h,p,g){if(h.type==="raw"&&g&&typeof p=="number")return o?g.children.splice(p,1):g.children[p]={type:"text",value:h.value},p;if(h.type==="element"){let x;for(x in s1)if(Object.hasOwn(s1,x)&&Object.hasOwn(h.properties,x)){const w=h.properties[x],S=s1[x];(S===null||S.includes(h.tagName))&&(h.properties[x]=u(String(w||""),x,h))}}if(h.type==="element"){let x=n?!n.includes(h.tagName):s?s.includes(h.tagName):!1;if(!x&&r&&typeof p=="number"&&(x=!r(h,p,g)),x&&g&&typeof p=="number")return a&&h.children?g.children.splice(p,1,...h.children):g.children.splice(p,1),p}}}function wV(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||mV.test(e.slice(0,t))?e:""}function _V(){return rs({queryKey:["faq"],queryFn:SV,staleTime:1/0,select:e=>e.faq.map((t,n)=>({...t,id:n}))})}const SV=async()=>await nv("/faq.json"),Sy=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:14,height:16,viewBox:"0 0 14 16",...e},N.createElement("defs",null,N.createElement("clipPath",{id:"master_svg0_137_3346"},N.createElement("rect",{x:0,y:0,width:14,height:16,rx:0}))),N.createElement("g",{clipPath:"url(#master_svg0_137_3346)"},N.createElement("g",{transform:"matrix(1,0,0,-1,0,26.6875)"},N.createElement("g",null,N.createElement("path",{d:"M6.28125,13.625Q6.59375,13.34375,7,13.34375Q7.40625,13.34375,7.71875,13.625L13.7188,19.625Q14,19.9375,14,20.34375Q14,20.75,13.7188,21.0625Q13.4062,21.34375,13,21.34375Q12.5938,21.34375,12.2812,21.0625L7,15.75L1.71875,21.0625Q1.40625,21.34375,1,21.34375Q0.59375,21.34375,0.28125,21.0625Q0,20.75,0,20.34375Q0,19.9375,0.28125,19.625L6.28125,13.625Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))))),CV={h2:e=>f.jsx("h2",{...e,className:"text-lg font-bold my-4"}),h3:e=>f.jsx("h3",{...e,className:"text-base font-bold my-4"}),a:e=>f.jsx("a",{...e,className:"text-blue-500 underline"})},kV=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:14,height:16,viewBox:"0 0 14 16",...e},N.createElement("defs",null,N.createElement("clipPath",{id:"master_svg0_137_3346"},N.createElement("rect",{x:0,y:0,width:14,height:16,rx:0}))),N.createElement("g",{clipPath:"url(#master_svg0_137_3346)"},N.createElement("g",{transform:"matrix(1,0,0,-1,0,26.6875)"},N.createElement("g",null,N.createElement("path",{d:"M6.28125,13.625Q6.59375,13.34375,7,13.34375Q7.40625,13.34375,7.71875,13.625L13.7188,19.625Q14,19.9375,14,20.34375Q14,20.75,13.7188,21.0625Q13.4062,21.34375,13,21.34375Q12.5938,21.34375,12.2812,21.0625L7,15.75L1.71875,21.0625Q1.40625,21.34375,1,21.34375Q0.59375,21.34375,0.28125,21.0625Q0,20.75,0,20.34375Q0,19.9375,0.28125,19.625L6.28125,13.625Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))))),jV=e=>N.createElement("svg",{width:10,height:6,viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M8.25973 0.605623C8.55264 0.312924 9.02745 0.312795 9.32028 0.605623C9.61297 0.898463 9.61293 1.37331 9.32028 1.66617L5.54098 5.44449C5.24809 5.73737 4.77332 5.73738 4.48043 5.44449L0.702114 1.66617C0.409291 1.37328 0.409254 0.898495 0.702114 0.605623C0.994986 0.312752 1.46976 0.312796 1.76266 0.605623L5.01071 3.85367L8.25973 0.605623Z",fill:"#047CFE"})),EV=({className:e,selected:t=!1})=>t?f.jsx(jV,{className:e}):f.jsx(kV,{className:e}),TV=e=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:10,height:10,viewBox:"0. 0. 11 11",...e},N.createElement("g",{transform:"matrix(1,0,0,-1,0,20)"},N.createElement("path",{d:"M9.71875,18.28125Q10,18.59375,10,19Q10,19.40625,9.71875,19.71875Q9.40625,20,9,20Q8.59375,20,8.28125,19.71875L5,16.40625L1.71875,19.71875Q1.40625,20,1,20Q0.59375,20,0.28125,19.71875Q0,19.40625,0,19Q0,18.59375,0.28125,18.28125L3.59375,15L0.28125,11.71875Q0,11.40625,0,11Q0,10.59375,0.28125,10.28125Q0.59375,10,1,10Q1.40625,10,1.71875,10.28125L5,13.59375L8.28125,10.28125Q8.59375,10,9,10Q9.40625,10,9.71875,10.28125Q10,10.59375,10,11Q10,11.40625,9.71875,11.71875L6.40625,15L9.71875,18.28125Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),NV=e=>N.createElement("svg",{width:12,height:13,viewBox:"0 0 12 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M9.25946 2.20234C9.55235 1.90944 10.0271 1.90944 10.32 2.20234C10.6129 2.49523 10.6129 2.97 10.32 3.26288L7.07196 6.51093L10.32 9.75898C10.6129 10.0519 10.6129 10.5276 10.32 10.8205C10.0272 11.113 9.55228 11.1131 9.25946 10.8205L6.01044 7.57148L2.76337 10.8205C2.47049 11.1134 1.99474 11.1134 1.70184 10.8205C1.40895 10.5276 1.40896 10.0519 1.70184 9.75898L4.94989 6.51093L1.70184 3.26288C1.40922 2.97007 1.4093 2.4952 1.70184 2.20234C1.99474 1.90944 2.47047 1.90944 2.76337 2.20234L6.01044 5.44941L9.25946 2.20234Z",fill:"#047CFE"})),PV=({className:e,selected:t=!1})=>t?f.jsx(NV,{className:e}):f.jsx(TV,{className:e});function OV(e){return e?"bg-blue-100 text-blue-500 focus:outline-blue-500":"bg-gray-100 text-gray-700 focus:outline-gray-400"}function Oi({label:e="Chip",selected:t,chipType:n,containerRef:r,onClick:i,...s}){return f.jsxs("button",{type:"button",ref:r,className:`items-center justify-center px-3 py-2 rounded-lg cursor-pointer text-sm gap-4 flex flex-row max-w-40 ${OV(t)} 
     `,"aria-pressed":t,onClick:i,...s,children:[f.jsx("span",{className:"text-xs sm:text-sm truncate",children:e}),n==="select"&&f.jsx(EV,{selected:t,className:"w-4 h-4 pointer-events-none"}),n==="cancel"&&f.jsx(PV,{selected:t,className:"w-4 h-4 pointer-events-none"})]})}const LV={all:"기타",timetable:"시간표",wishes:"관심과목",simulation:"올클연습",live:"실시간"};function AV(e){return Array.from(new Set(e))}function DV(){const e=Ss(),t=e.hash,n=t?parseInt(t.replace("#","")):null,[r,i]=N.useState(n),{data:s}=_V(),[o,a]=N.useState(null),u=AV(s?.map(g=>g.tag)??[]),c=o?s?.filter(g=>g.tag===o):s,h=g=>{i(r===g?null:g)};N.useEffect(()=>{if(e.hash){const g=parseInt(e.hash.replace("#",""));setTimeout(()=>{const x=document.getElementById("faq-container-"+g);x&&(x.scrollIntoView({behavior:"smooth"}),i(g))},300)}},[e.hash]);const p=g=>{a(x=>x===g?null:g)};return f.jsxs(f.Fragment,{children:[f.jsx(Wn,{children:f.jsx("title",{children:"ALLCLL | 자주 묻는 질문"})}),f.jsxs("div",{className:"mx-auto max-w-7xl px-4 md:px-16 py-24",children:[f.jsx("h1",{className:"text-3xl font-bold mb-6",children:"자주 묻는 질문"}),f.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:u.length>0&&u.map((g,x)=>f.jsx(Oi,{label:LV[g]||g,onClick:()=>p(g),selected:o===g},"faq-chip-"+x))}),c&&c.map(g=>f.jsx(IV,{item:g,index:g.id,isOpen:r===g.id,toggleAnswer:h},g.id))]})]})}function IV({item:e,index:t,isOpen:n,toggleAnswer:r}){return f.jsxs("div",{id:"faq-container-"+t,className:"mb-4 rounded-md bg-white shadow-sm",children:[f.jsxs("button",{onClick:()=>r(t),className:"flex items-center justify-between rounded-md w-full text-left font-semibold text-md p-4 hover:bg-blue-50 focus:outline-none cursor-pointer "+(n?"text-blue-600 font-bold":""),children:[e.question,f.jsx(Sy,{className:"w-4 h-4 transform transition-transform duration-150 "+(n?"rotate-180":"")})]}),n&&f.jsx("div",{className:"p-4 border-t border-gray-200 text-sm",children:f.jsx(yV,{remarkPlugins:[BU],components:CV,children:e.answer})})]},t)}const Js=nr(e=>({searchInput:"",selectedDepartment:"",isFavorite:!1,isPinned:!1,searchParams:{searchInput:"",selectedDepartment:"",isFavorite:!1},setSearchInput:t=>e(()=>({searchInput:t})),setSelectedDepartment:t=>e(()=>({selectedDepartment:t})),setToggleFavorite:()=>e(t=>({isFavorite:!t.isFavorite})),setTogglePinned:()=>e(t=>({isPinned:!t.isPinned})),setSearchParams:t=>e(()=>({searchParams:t}))}));function RV(){const e=Js(c=>c.selectedDepartment),t=Js(c=>c.searchInput),n=Js(c=>c.isFavorite),r=Js(c=>c.setSearchInput),i=Js(c=>c.setSelectedDepartment),s=Js(c=>c.setToggleFavorite),o=Js(c=>c.setSearchParams);N.useEffect(()=>{o({searchInput:t,selectedDepartment:e,isFavorite:n})},[t,e,n]);const a=c=>{r(c.target.value)},u=c=>{i(c.target.value)};return f.jsxs("div",{className:"flex flex-wrap gap-2 mt-4 text-sm lg:flex-nowrap lg:flex-row lg:items-center lg:gap-y-0 lg:gap-x-2",children:[f.jsx(vl,{type:"text",placeholder:"과목명, 교수명 또는 학수번호 및 분반 검색",className:"pl-10 pr-4 py-2 rounded-md w-full bg-white border border-gray-400",value:t,onDelete:()=>r(""),onChange:a}),f.jsx(Zd,{value:e,style:{maxWidth:"calc(100vw - 64px)"},onChange:u}),f.jsx("div",{className:"flex items-center space-x-2",children:f.jsx("button",{className:"p-2 rounded-md flex gap-2 items-center border border-gray-400 bg-white hover:bg-gray-100",onClick:s,"aria-label":n?"즐겨찾기 필터 제거":"즐겨찾기 필터 추가",title:n?"즐겨찾기 필터 제거":"즐겨찾기 필터 추가",children:f.jsx(Q7,{disabled:!n})})})]})}function MV(){const e=Ni(t=>t.setIsSearchOpen);return f.jsxs(f.Fragment,{children:[f.jsx(Wn,{children:f.jsx("title",{children:"ALLCLL | 관심과목 분석"})}),f.jsx("div",{className:"mx-auto max-w-7xl px-4 md:px-16 mb-8",children:f.jsxs("div",{className:"py-12 px-2",children:[f.jsx("h1",{className:"text-2xl font-bold",children:"관심과목 분석"}),f.jsxs("p",{className:"text-gray-500 mt-2",children:["올클은 세종대학교의 ",f.jsx("span",{className:"text-blue-500 font-bold",children:"실제 데이터"}),"를 보여드립니다. 관심과목을 선택하여 분석해보세요."]}),f.jsx("div",{className:"mt-4",children:f.jsxs(fl,{to:"/live",onClick:()=>e(!0),state:{openSearch:!0},className:"inline-flex items-center gap-2 rounded-md border border-blue-500 px-3 py-2 text-sm font-medium text-blue-500 hover:bg-blue-50",children:[f.jsx(Wu,{}),"알림등록하러가기"]})}),f.jsx(RV,{}),f.jsx(Nv,{}),f.jsx(FV,{}),f.jsx(K7,{right:"right-2 sm:right-20"})]})})]})}function FV(){const e=Js(a=>a.searchParams),t=dy(a=>a.isFavorite),n=Js(a=>a.isPinned),{data:r,isPending:i}=co(),s=eh(wm(r,qu)),o=N.useDeferredValue(Gu({subjects:s??[],pickedFavorites:t,searchKeywords:e.searchInput,selectedDepartment:e.selectedDepartment,isFavorite:e.isFavorite,isPinned:n}));return f.jsx("div",{className:"bg-white mt-6 shadow-md rounded-lg overflow-x-auto",children:f.jsx(W7,{data:o,isPending:i})})}function BV({children:e}){return f.jsxs("div",{className:"relative max-h-screen overflow-hidden",children:[f.jsx("div",{style:{filter:"blur(4px"},children:e}),f.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex justify-center items-center",children:f.jsx("p",{className:"text-xl font-bold text-gray-700",children:"추후 제공 예정"})})]})}uo.register(_v,Qu,Hu,qd,Kd,Gd);var ZS=(e=>(e.MAJOR="전공/비전공",e.UNIVERSITY="대학",e.DEPARTMENT="학과",e.COLLEGE="학부",e))(ZS||{});function zV({data:e,majorName:t}){const[n,r]=N.useState("전공/비전공"),{data:i}=Vu(),s=jD(i),{doughnutData:o,totalCount:a}=$V(e,s,t,n);return f.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h2",{className:"text-lg font-semibold",children:"관심과목 현황"}),f.jsx("label",{className:"hidden",htmlFor:"doughnut-select",children:"필터"}),f.jsx("select",{className:"border px-3 py-1 rounded-md",id:"doughnut-select",value:n,onChange:u=>r(u.target.value),children:Object.values(ZS).map(u=>f.jsx("option",{value:u,children:u},u))})]}),a?f.jsx(r7,{data:o}):f.jsx("div",{className:"flex justify-center items-center h-48",children:f.jsx("p",{className:"text-center text-gray-500 font-semibold",children:"관심과목을 담은 사람이 없습니다."})})]})}function $V(e,t,n,r){let i;const{universityDict:s,collegeDict:o}=t;switch(r){case"전공/비전공":i=ND(n,e);break;case"대학":i=PD(e,s);break;case"학과":i=OD(e,o);break;case"학부":i=$3(e);break;default:i=$3(e);break}const a=LD(e);return{doughnutData:i,totalCount:a}}function UV(e){const{data:t}=co(),n=wm(t,qu);if(!n)return{isPending:!0};const r=n?.find(i=>i.subjectId===Number(e));return{isPending:!1,data:r,isLastSemesterWish:!r}}function HV(e,t=[]){const{data:n}=co(),r=wm(n,qu);return r?{isPending:!1,data:r.filter(s=>s.subjectCode===e&&!t.includes(s.subjectId))}:{isPending:!0}}class nx extends RangeError{constructor(t){super(t),this.name="ParamsInvalidError"}}class QV extends Error{constructor(t){super(t),this.name="NotFoundError"}}function VV(e){return rs({queryKey:["detail-registers",e],queryFn:()=>WV(e),staleTime:1/0,retry:qV})}const WV=async e=>{const t=await Zp(`/api/baskets/${e}`);if(!t.ok){const n=await t.text(),r=KV(n);throw r?.status==="400 BAD_REQUEST"?new nx(r.code):new Error(await t.text())}return t.json()},qV=(e,t)=>e>=3?!1:!(t instanceof nx),KV=e=>{try{return JSON.parse(e)}catch{return null}};uo.register(_v,Qu,Hu,qd,Kd,Gd);const GV={labels:["4학년","3학년","2학년","1학년"],datasets:[{data:[50,40,25,20],backgroundColor:"#60a5fa"}]};function YV(){const e=s_(),{data:t,isPending:n,isLastSemesterWish:r}=UV(e.id??"-1"),{data:i,error:s}=VV(e.id??"-1"),{data:o}=HV(t?.subjectCode??"",t?.subjectId?[t.subjectId]:[]),a=t&&"seat"in t,{isPreSeatAvailable:u}=km({hasSeats:a}),c=a?t.seat:-1,h=t??qu,p=t?.curiLangNm==="영어",g=t?.isDeleted??!1;if(n||!h)return f.jsxs(f.Fragment,{children:[f.jsx(Wn,{children:f.jsx("title",{children:"ALLCLL | 관심과목 분석 상세"})}),f.jsx("div",{className:"min-h-screen bg-gray-50 flex justify-center items-center",children:f.jsx("h1",{className:"text-2xl font-bold",children:"Loading..."})})]});if(s)throw s;return f.jsxs(f.Fragment,{children:[f.jsx(Wn,{children:f.jsx("title",{children:"ALLCLL | 관심과목 분석 상세"})}),r&&f.jsx("p",{className:"bg-red-100 text-red-500 py-2 px-4 font-bold",children:"이번 학기의 데이터가 아닙니다. 수강 신청에 유의해주세요."}),f.jsx("div",{className:"min-h-screen bg-gray-50",children:f.jsx("div",{className:"p-6 max-w-5xl mx-auto",children:f.jsxs(Xd,{children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h1",{className:"text-2xl font-bold",children:h.subjectName}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(V7,{subject:h,className:"p-2 border rounded border-gray-300 hover:bg-gray-100"}),f.jsx(U7,{subject:h,className:"p-2 border rounded border-gray-300 hover:bg-gray-100"})]})]}),f.jsxs("p",{className:"text-gray-600",children:[h.subjectCode,"-",h.classCode," | ",h.departmentName," | ",h.professorName]}),f.jsxs("div",{className:"flex items-center gap-2 flex-wrap text-gray-600",children:[f.jsxs("span",{children:[h.studentYear,"학년"]}),f.jsx("span",{children:h.curiTypeCdNm}),f.jsxs("span",{children:[Number(h.tmNum.split("/")[0].trim()),"학점"]}),f.jsxs("span",{children:[" ","| ",h.lesnRoom," | ",h.lesnTime]}),u&&f.jsxs("p",{className:`text-sm px-2 py-1 rounded-full font-bold ${gl(c)}`,children:["여석: ",c<0?"???":c]}),p&&f.jsx("span",{className:"bg-green-100 rounded px-2 py-1 text-green-500 text-xs font-semibold",children:"영어"}),g&&f.jsx("span",{className:"bg-red-100 rounded px-2 py-1 text-red-500 text-xs font-semibold",children:"폐강"})]}),f.jsx("p",{className:"text-sm text-gray-500",children:h.remark}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[f.jsx(zV,{data:i?.eachDepartmentRegisters??[],majorName:h.departmentName}),f.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h2",{className:"text-lg font-semibold",children:"관심과목 경쟁률 예상"}),f.jsxs("p",{className:`${d7(h.totalCount)} font-bold text-xl`,children:["총 ",h.totalCount,"명"]})]}),f.jsxs(BV,{children:[f.jsx("p",{className:"text-sm text-gray-500",children:"작년 대비 관심도 20% 증가 → 경쟁 치열할 가능성 높음"}),f.jsx("div",{className:"mt-4",children:f.jsx(uD,{data:GV})})]})]})]}),f.jsxs("div",{className:"mt-6 bg-white p-6 rounded-lg shadow-md",children:[f.jsx("h2",{className:"text-lg font-semibold",children:"대체과목 추천"}),f.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"학수번호가 같은 과목을 알려드려요"}),f.jsx("div",{className:"overflow-x-auto",children:f.jsx(W7,{data:o??[]})})]})]})})})]})}const ad=()=>{const e=Ry();return N.useEffect(()=>{kj(e,{extra:{url:window.location.href,userAgent:navigator.userAgent}})},[e]),f.jsxs(f.Fragment,{children:[f.jsx(Wn,{children:f.jsx("title",{children:"ALLCLL | 오류가 발생했습니다"})}),f.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[f.jsx("h1",{className:"text-4xl font-bold mb-4",children:"오류가 발생했습니다"}),f.jsx("p",{className:"text-lg mb-4",children:"문제가 발생했어요. 잠시 기다렸다 다시 시도해보세요"}),f.jsx(Or,{to:"/",className:"text-blue-500",children:"홈으로 돌아가기"}),f.jsx("a",{href:"https://forms.gle/bCDTVujEHunnvHe88",target:"_blank",className:"text-blue-500",children:"문의하기"})]})]})},e8=()=>f.jsxs(f.Fragment,{children:[f.jsx(Wn,{children:f.jsx("title",{children:"ALLCLL | 페이지를 찾을 수 없습니다"})}),f.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[f.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404 - 페이지를 찾을 수 없습니다"}),f.jsx("p",{className:"text-lg mb-4",children:"현재 페이지는 존재하지 않습니다"}),f.jsx(Or,{to:"/",className:"text-blue-500",children:"홈으로 돌아가기"})]})]}),XV=()=>{const e=Ry();return e instanceof nx||e instanceof QV?f.jsx(e8,{}):f.jsx(ad,{})},hi=nr((e,t)=>({type:null,props:void 0,openModal:(n,r)=>{e({type:n,props:r})},closeModal:n=>{const r=t().type;(!n||r===n)&&e({type:null,props:void 0})}}));function wl(){const{data:e,isLoading:t}=ra(),{data:n,isLoading:r}=Vu(),i=t||r;return i||!e||!n?{data:[],isLoading:i}:{data:JV(e,n),isLoading:!1}}function JV(e,t){return e.map(n=>{const r=t.find(s=>s.departmentCode===n.deptCd)?.departmentName||"",i=r?r.split(" ").reverse()[0]:"";return{subjectId:n.subjectId??-1,subjectCode:n.subjectCode??"",classCode:n.classCode??"",departmentName:i,subjectName:n.subjectName??"",language:n.curiLangNm??"",subjectType:n.curiTypeCdNm??"",semester_at:n.studentYear?Number(n.studentYear):-1,lesn_time:n.lesnTime??"",professorName:n.professorName??"",lesn_room:n.lesnRoom??"",tm_num:n.tmNum??""}})}function ZV(){return Math.floor(1e3+Math.random()*9e3).toString()}const eW=4;function tW(){const e=N.useRef(null),[t,n]=N.useState(),[r,i]=N.useState(""),s=N.useRef(""),{data:o}=wl(),{closeModal:a,openModal:u}=hi(),{currentSubjectId:c,setSubjectStatus:h,setCaptchaFailed:p}=mm();function g(){const C=ZV();s.current=C,setTimeout(()=>{e.current&&G1(e.current,C)},100)}function x(C){let E=C.target.value;if(/[^0-9]/.test(E)){i("0~9까지의 숫자만 입력해주세요"),n(E.replace(/[^0-9]/g,""));return}E.length<=eW?(n(E),i("")):i("4자리까지 입력 가능합니다")}N.useEffect(()=>{setTimeout(()=>{g()},100)},[]);function w(){eo({eventType:Mn.CAPTCHA,subjectId:c},o).then(()=>{t?.toString()===s.current?(h(c,Wt.PROGRESS),p(!1)):(h(c,Wt.PROGRESS),p(!0))}).then(()=>{a(),u("simulation")})}function S(){eo({eventType:Mn.CANCEL_SUBMIT,subjectId:c},o).then(()=>{a("captcha"),p(!1),h(c,Wt.PROGRESS)})}return f.jsx(Cs,{onClose:()=>{},preventAutoFocus:!0,children:f.jsxs("div",{className:"sm:w-[500px] bg-white rounded shadow",children:[f.jsx(yl,{title:"매크로방지 코드입력 (Arti-marco code input)",onClose:S}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 p-4",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsxs("div",{className:"text-sm font-semibold flex flex-row items-center",children:[f.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "}),"생성된 코드",f.jsx("button",{onClick:g,className:"ml-2 px-2 py-1 bg-blue-500 text-white text-sm rounded-xs cursor-pointer hover:bg-blue-600",children:"재생성"})]}),f.jsx("div",{className:"flex items-center mt-1",children:f.jsx("canvas",{id:"captcha",width:"105",height:"50",ref:e})})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"text-sm font-semibold  flex flex-row items-center",children:[f.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "}),"생성된 코드 입력"]}),f.jsx("input",{type:"text",value:t,onChange:C=>x(C),className:"mt-2 w-full border-1 border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring focus:border-gray-800",placeholder:"코드를 입력하세요"}),f.jsx("span",{className:"pl-1 text-xs text-red-500 ",children:r})]})]}),f.jsx("p",{className:"text-sm text-gray-800 mt-10 p-4",children:"※ 코드가 표시되지 않는 경우 잠시 기다리거나 매크로 방지 코드 입력 창을 닫고 새로 열어 주세요."}),f.jsxs("div",{className:"flex justify-end border-t px-6 py-4 gap-3 bg-gray-100 text-xs",children:[f.jsx("button",{onClick:w,className:"px-4 py-2 bg-white hover:bg-blue-50 rounded-xs border cursor-pointer",children:"코드입력"}),f.jsx("button",{onClick:S,className:"px-4 py-2 bg-white hover:bg-blue-50 rounded-xs border cursor-pointer",children:"닫기"})]})]})})}const nW=e=>N.createElement("svg",{width:50,height:50,viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("circle",{cx:25,cy:25,r:25,fill:"#7890CE"}),N.createElement("path",{d:"M20.2339 29.5078L35.0317 17.4276C35.3809 17.1425 35.7883 17 36.2539 17C36.7196 17 37.127 17.1425 37.4762 17.4276C37.8254 17.7127 38 18.0515 38 18.4439C38 18.8364 37.8254 19.1747 37.4762 19.4588L21.4562 32.5724C21.107 32.8575 20.6995 33 20.2339 33C19.7683 33 19.3609 32.8575 19.0117 32.5724L11.5037 26.4432C11.1545 26.1581 10.9868 25.8198 11.0008 25.4283C11.0148 25.0368 11.1969 24.6981 11.5473 24.412C11.8977 24.126 12.3127 23.9835 12.7923 23.9844C13.2718 23.9854 13.6862 24.1279 14.0354 24.412L20.2339 29.5078Z",fill:"white"})),g4={simulationId:-1,simulatonSubjects:[],registeredSubjects:[],nonRegisteredSubjects:[],successedSubjects:[],failedSubjects:[],simulationStatus:"before",clickedTime:0},ws=nr(e=>({currentSimulation:g4,subjectsStatus:[],setCurrentSimulation:t=>e(n=>({currentSimulation:{...n.currentSimulation,...t}})),resetSimulation:()=>e({currentSimulation:g4,subjectsStatus:[]})})),rW=[{status:Wt.PROGRESS,topMessage:"선택한 과목을 수강신청 하시겠습니까?",description:"교과목명(CourseTitle):"},{status:Wt.SUCCESS,topMessage:"과목이 신청 되었습니다. 수강신청내역을 재조회 하시겠습니까?",description:"※ 취소를 선택하실 경우 [수강신청내역]이 갱신되지 않습니다. 취소를 선택하실 경우 수강신청 최종 완료 후 반드시 [수강신청내역] 재 조회를 눌러 신청 내역을 확인하세요. [수강신청내역]에 조회된 과목만이 정상적으로 수강신청된 과목입니다."},{status:Wt.FAILED,topMessage:"수강 여석이 없습니다!"},{status:Wt.DOUBLED,topMessage:"이미 수강신청 된 과목입니다!"},{status:Wt.CAPTCHA_FAILED,topMessage:"입력하신 코드가 일치하지 않습니다"},{status:Wt.NOT_ELIGIBLE,topMessage:"수강신청 대상 학과가 아닙니다"}],iW=[Wt.PROGRESS,Wt.SUCCESS,Wt.FAILED,Wt.CAPTCHA_FAILED];function sW({reloadSimulationStatus:e}){const{closeModal:t,openModal:n}=hi(),{currentSubjectId:r,setSubjectStatus:i,subjectStatusMap:s}=mm(),{setCurrentSimulation:o}=ws(),{data:a}=wl(),u=s[r],c=rW.find(P=>P.status===u),h=c?.status??Wt.PROGRESS,p=[Wt.FAILED,Wt.DOUBLED,Wt.CAPTCHA_FAILED].includes(h),g=iW.includes(h),x=N.useRef(null);if(!c)return null;x.current?.focus();const w=(P,M=!1)=>{if("errMsg"in P)throw alert(P.errMsg),M&&rl().then(()=>{n("result")}),new Error(P.errMsg)},S=P=>{console.error("예외 발생:",P),alert("예외 발생:"+P.toString())},C=async P=>{const M=await eo({eventType:Mn.SUBJECT_SUBMIT,subjectId:P},a);w(M),i(P,M.status),n("simulation")},E=async P=>{const M=await eo({eventType:Mn.REFRESH,subjectId:P},a);w(M),e(),M.finished&&(o({simulationStatus:"finish"}),console.log("시뮬레이션 완료"),n("result"))},L=async P=>{try{const M=await eo({eventType:Mn.SKIP_REFRESH,subjectId:P},a);"errMsg"in M?(alert(M.errMsg),await rl(),o({simulationStatus:"finish"}),n("result")):M.finished&&(o({simulationStatus:"finish"}),n("result"))}catch(M){console.error(M)}finally{t("simulation")}},A=async()=>{try{c.status===Wt.PROGRESS?await C(r):c?.status===Wt.SUCCESS?await E(r):p&&await L(r)}catch(P){S(P)}},B=async()=>{try{if(c?.status===Wt.SUCCESS){const P=await eo({eventType:Mn.SKIP_REFRESH,subjectId:r},a);"errMsg"in P?(alert(P.errMsg),await rl(),o({simulationStatus:"finish"}),n("result")):P.finished?(o({simulationStatus:"finish"}),n("result")):t("simulation")}else if(c?.status===Wt.PROGRESS){const P=await eo({eventType:Mn.CANCEL_SUBMIT,subjectId:r},a);w(P,!0)}}catch(P){S(P)}},$=()=>{g||t("simulation")};return f.jsx(Cs,{onClose:()=>{},children:f.jsxs("div",{className:"flex sm:w-[450px] border-1 border-gray-800 flex-col justify-between overflow-hidden",children:[f.jsx(yl,{title:"",onClose:$}),f.jsxs("div",{className:"px-6 pb-6 text-center ",children:[f.jsx("div",{className:"flex justify-center mb-4 py-5",children:f.jsx("div",{className:"w-10 h-10",children:f.jsx(nW,{})})}),f.jsx("p",{className:"text-gray-700 text-base mb-4",children:c.topMessage}),c.description&&f.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:c.description})]}),f.jsxs("div",{className:"flex justify-end  px-6 py-4 gap-3 bg-gray-100 text-xs",children:[c.status===Wt.PROGRESS||c.status===Wt.SUCCESS&&f.jsx("button",{onClick:B,className:"px-4 py-2 bg-white hover:bg-blue-50 rounded-xs border cursor-pointer",children:"취소"}),f.jsx("button",{onClick:A,className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-xs cursor-pointer",children:"확인"})]})]})})}function y4(){const{closeModal:e}=hi();return f.jsx(Cs,{onClose:()=>e(),children:f.jsxs("div",{className:"p-6 w-80 bg-white rounded shadow",children:[f.jsx("p",{className:"text-sm text-gray-800 mb-4",children:"데이터 처리중 입니다."}),f.jsx("div",{className:"w-full h-4 bg-gray-200 rounded overflow-hidden",children:f.jsx("div",{className:"h-full bg-blue-400 bg-gradient-to-r from-blue-400 to-blue-600 animate-stripes"})})]})})}function oW(e,t,n){var r,i;typeof e=="function"?(r=t||[],i=n):(r=[],i=t);var s=en.useRef({hasResult:!1,result:i,error:null}),o=en.useReducer(function(c){return c+1},0);o[0];var a=o[1],u=en.useMemo(function(){var c=typeof e=="function"?e():e;if(!c||typeof c.subscribe!="function")throw e===c?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!s.current.hasResult&&typeof window<"u"&&(typeof c.hasValue!="function"||c.hasValue()))if(typeof c.getValue=="function")s.current.result=c.getValue(),s.current.hasResult=!0;else{var h=c.subscribe(function(p){s.current.result=p,s.current.hasResult=!0});typeof h=="function"?h():h.unsubscribe()}return c},r);if(en.useDebugValue(s.current.result),en.useEffect(function(){var c=u.subscribe(function(h){var p=s.current;(p.error!==null||p.result!==h)&&(p.error=null,p.result=h,p.hasResult=!0,a())},function(h){var p=s.current;p.error!==h&&(p.error=h,a())});return typeof c=="function"?c:c.unsubscribe.bind(c)},r),s.current.error)throw s.current.error;return s.current.result}function Ju(e,t,n){return oW(function(){return FD(e)},[],n)}const Yc=1/1e3;async function aW(){return{snapshots:await He.simulation_run.filter(t=>t.ended_at!==-1).toArray()}}async function lW(e){const t=await VD(e),n=await o7(t.snapshot_id);if(!t||!n)return null;const r=await He.simulation_run_selections.where("simulation_run_id").equals(t.simulation_run_id).toArray(),i=r.map(c=>c.run_selections_id),s=c=>{const h=n.subjects.find(p=>p.interested_id===c);return h?h.subject_id:-1},o=await He.simulation_run_events.filter(c=>i.includes(c.simulation_section_id)).toArray(),a=o.filter(c=>c.event_type===Mn.CAPTCHA),u=r.reduce((c,h)=>{const p=a.find(g=>g.simulation_section_id===h.run_selections_id);return p?.timestamp?c+p.timestamp-h.started_at:c},0)/r.length;return{started_at:t.started_at,ended_at:t.ended_at,user_ability:{searchBtnSpeed:(t.search_event_at-t.started_at)/1e3,totalSpeed:t.total_elapsed/t.subject_count/1e3,accuracy:t.accuracy,captchaSpeed:u/1e3},timeline:r.map(c=>({interested_id:c.interested_id,subject_id:s(c.interested_id),started_at:c.started_at,ended_at:c.ended_at,status:c.status,events:o.filter(h=>h.simulation_section_id===c.run_selections_id).sort((h,p)=>h.timestamp-p.timestamp).map(h=>({event:h.event_type,timestamp:h.timestamp}))})),subject_results:r.sort((c,h)=>h.started_at-c.started_at).reduce((c,h)=>c.some(p=>p.interested_id===h.interested_id)?c:[...c,h],[]).map(c=>({interested_id:c.interested_id,subject_id:s(c.interested_id),selected_index:c.selected_index,ended_at:c.ended_at,status:c.status}))}}async function t8(){const e=await He.simulation_run.filter(C=>C.ended_at!==-1).toArray(),t=e.length;if(t===0)throw new Error("통계를 계산할 시뮬레이션 데이터가 없습니다.");const n=await He.simulation_run_selections.toArray(),r=await Promise.all(e.map(async C=>{const E=await He.simulation_run_selections.filter(M=>M.simulation_run_id===C.simulation_run_id).toArray(),L=E.map(M=>M.run_selections_id),A=await He.simulation_run_events.filter(M=>M.event_type===Mn.CAPTCHA&&L.includes(M.simulation_section_id)).toArray(),B=(C.search_event_at-C.started_at)*Yc,$=A.reduce((M,H)=>{const Q=E.find(F=>F.run_selections_id===H.simulation_section_id);return Q?M+(H.timestamp-Q.started_at):M},0)*Yc,P=E.reduce((M,H)=>H.ended_at>=0?M+(H.ended_at-H.started_at):M,0)*Yc;return{simulationRunId:C.simulation_run_id,accuracy:C.accuracy,subjectCount:C.subject_count,searchBtnTime:B,captchaTime:$+B,subjectTime:P+B,totalTime:C.total_elapsed*Yc}})),i=await He.interested_snapshot.filter(C=>C.simulated).last();if(!i)throw new Error("과목 스냅샷 데이터가 없습니다.");const o=(await He.interested_subject.filter(C=>C.snapshot_id===i.snapshot_id).toArray()).map(C=>{const E=n.filter(Q=>Q.interested_id===C.interested_id),L=E.filter(Q=>Q.status===Wt.SUCCESS).length,A=E.filter(Q=>Q.status===Wt.FAILED).length,B=E.filter(Q=>Q.status===Wt.DOUBLED).length,$=E.length,P=E.reduce((Q,F)=>Q+F.selected_index,0)/$||0,M=E.filter(Q=>Q.ended_at>=0&&Q.started_at>=0).map(Q=>(Q.ended_at-Q.started_at)*Yc),H=uW(M);return{subjectId:C.subject_id,successCount:L,failedCount:A,doubledCount:B,totalCount:$,avgCompletionTime:H,avgIndex:P}}),a=new Map;for(const C of n){const E=C.simulation_run_id,L=e.find(M=>M.simulation_run_id===E);if(!L)continue;const A=await o7(L.snapshot_id);if(!A)continue;const B=A.subjects.find(M=>M.interested_id===C.interested_id);if(!B)continue;const $=B.subject_id;a.has($)||a.set($,{subject_id:$,success_count:0,total_count:0,completion_time_sum:0});const P=a.get($);P.total_count++,C.status===1&&(P.success_count++,P.completion_time_sum+=C.ended_at-C.started_at)}const u=Array.from(a.values()).map(C=>({subject_id:C.subject_id,success_count:C.success_count,total_count:C.total_count,success_rate:C.success_count/C.total_count,avg_completion_time:C.success_count>0?C.completion_time_sum/C.success_count/1e3:0})),c=n.reduce((C,E)=>(C[E.status]=(C[E.status]||0)+1,C),{}),h=n.length,p=Object.entries(c).map(([C,E])=>({status:Number(C),count:E,percentage:E/h})),g=e.map(C=>C.simulation_run_id),x=n.filter(C=>g.includes(C.simulation_run_id)).map(C=>C.run_selections_id),w=await He.simulation_run_events.filter(C=>x.includes(C.simulation_section_id)&&C.event_type===Mn.CAPTCHA).toArray();let S=0;for(const C of w){const E=n.find(L=>L.run_selections_id===C.simulation_section_id);E&&(S+=C.timestamp-E.started_at)}return{total_users:t,avg_started_at:e.reduce((C,E)=>C+E.started_at,0)/t,avg_ended_at:e.reduce((C,E)=>C+E.ended_at,0)/t,avg_elapsed_time:e.reduce((C,E)=>C+(E.ended_at-E.started_at),0)/t/1e3,subject_success_rate:u,status_distribution:p,simulations:r,subjects:o}}function uW(e){return e.length===0?0:e.reduce((t,n)=>t+n,0)/e.length}function cW({simulationId:e}){const{closeModal:t,openModal:n}=hi(),[r,i]=N.useState(null),[s,o]=N.useState(),a=Ju(async()=>{try{return await t8()}catch(S){return{error:S.message}}});if(a&&"error"in a)return f.jsx("div",{className:"flex flex-col w-full items-center justify-center h-120 gap-3"});const{simulations:u}=a||{simulations:[]},c=a?{user_ability:{searchBtnSpeed:u.reduce((S,C)=>S+C.searchBtnTime,0)/u.length||0,totalSpeed:u.reduce((S,C)=>S+C.totalTime/C.subjectCount,0)/u.length||0,accuracy:u.reduce((S,C)=>S+C.accuracy,0)/u.length||0,captchaSpeed:u.reduce((S,C)=>S+(C.captchaTime-C.searchBtnTime)/C.subjectCount,0)/u.length||0}}:void 0;if(N.useEffect(()=>{async function S(){qD({simulationId:e}).then(C=>{"errMsg"in C?C.errMsg===a7.SIMULATION_NOT_FOUND?t():alert(C.errMsg):(i(C),o(e))})}S().then()},[]),!r)return f.jsx(y4,{});const{accuracy:h,score:p,total_elapsed:g}=r,x=p>=70,w=c?.user_ability?.searchBtnSpeed??0;return!c||!a?f.jsx(y4,{}):f.jsxs(Cs,{onClose:()=>t(),children:[f.jsxs("div",{className:"w-[100%] sm:w-full max-w-md bg-white rounded-xl shadow-xl p-6 relative overflow-hidden",children:[x&&f.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[f.jsx("div",{className:"animate-float1 absolute top-6 left-6 w-3 h-3 bg-red-400 rounded-full"}),f.jsx("div",{className:"animate-float2 absolute top-16 right-10 w-2 h-2 bg-yellow-400 rounded-full"}),f.jsx("div",{className:"animate-float3 absolute bottom-20 left-12 w-2.5 h-2.5 bg-blue-400 rounded-full"}),f.jsx("div",{className:"animate-float4 absolute bottom-10 right-6 w-3 h-3 bg-pink-400 rounded-full"}),f.jsx("div",{className:"animate-float5 absolute top-1/2 left-1/2 w-2 h-2 bg-purple-400 rounded-full"})]}),f.jsxs("div",{className:"relative z-10 text-center",children:[f.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["수강 신청",f.jsx("span",{className:x?"text-blue-600":"text-red-500",children:x?" 성공!":" 실패"})]}),f.jsxs("span",{className:"text-sm text-gray-700 mt-1",children:["수강신청에 ",x?" 성공":" 실패","하셨어요"]}),f.jsxs("div",{className:"flex flex-col justify-center items-center",children:[f.jsx("div",{className:"m-2 flex justify-center",children:x?f.jsx("img",{src:"/ci.svg",alt:"축하 아이콘",className:"w-20 h-20"}):f.jsx("span",{className:"text-[50px]",children:"💥"})}),f.jsxs("div",{className:"flex flex-row justify-center gap-6 mt-6",children:[f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("p",{className:"text-sm text-gray-800 mb-1",children:"점수"}),f.jsxs("p",{className:"text-xl text-blue-500 font-bold whitespace-nowrap",children:[p.toFixed(1),f.jsx("span",{className:"text-gray-600",children:"점"})]})]}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("p",{className:"text-sm text-gray-800 mb-1",children:"소요 시간"}),f.jsxs("p",{className:"text-xl text-gray-600 font-bold whitespace-nowrap",children:[(g/1e3).toFixed(0),"초"]})]})]}),f.jsxs("div",{className:"flex flex-row justify-center gap-6 mt-6",children:[f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("p",{className:"text-sm text-gray-800 mb-1",children:"평균 매크로 방지 입력 속도"}),f.jsxs("p",{className:"text-xl text-blue-500 font-bold whitespace-nowrap",children:[c?.user_ability.captchaSpeed.toFixed(2),f.jsx("span",{className:"text-gray-600",children:"초"})]})]}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("p",{className:"text-sm text-gray-800 mb-1",children:"평균 신청 버튼 클릭 속도"}),f.jsxs("p",{className:"text-xl text-blue-500 font-bold whitespace-nowrap",children:[w<=0?0:w.toFixed(2),f.jsx("span",{className:"text-gray-600",children:"초"})]})]})]})]}),f.jsx("div",{className:"text-left text-sm text-gray-800 mt-4 mb-1",children:"정확도"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-full h-3 bg-gray-200 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-3 bg-indigo-400 rounded-full transition-all duration-300",style:{width:`${h}%`}})}),f.jsxs("p",{className:"text-xl text-gray-600 font-bold whitespace-nowrap",children:[h,"%"]})]}),f.jsxs("div",{className:"flex justify-center gap-3 mt-6",children:[f.jsx("button",{className:"px-4 py-2 border border-gray-400 text-gray-800 rounded-md hover:bg-gray-100 text-sm",onClick:()=>{t(),n("wish")},children:"다시 하기"}),f.jsx(fl,{to:`/simulation/logs/${s}`,end:!1,className:"px-4 py-2  bg-blue-500 text-white rounded-md hover:bg-blue-600 text-sm",onClick:()=>{t()},children:"내 능력 자세히 보기"})]})]})]}),f.jsx("style",{children:`
        @keyframes float1 {
          0% { transform: translateY(0); }
          50% { transform: translateY(-8px); }
          100% { transform: translateY(0); }
        }
        @keyframes float2 {
          0% { transform: translateY(0); }
          50% { transform: translateY(6px); }
          100% { transform: translateY(0); }
        }
        @keyframes float3 {
          0% { transform: translateY(0); }
          50% { transform: translateY(-6px); }
          100% { transform: translateY(0); }
        }
        @keyframes float4 {
          0% { transform: translateY(0); }
          50% { transform: translateY(4px); }
          100% { transform: translateY(0); }
        }
        @keyframes float5 {
          0% { transform: translateY(0); }
          50% { transform: translateY(-5px); }
          100% { transform: translateY(0); }
        }

        .animate-float1 { animation: float1 3s ease-in-out infinite; }
        .animate-float2 { animation: float2 4s ease-in-out infinite; }
        .animate-float3 { animation: float3 2.5s ease-in-out infinite; }
        .animate-float4 { animation: float4 3.5s ease-in-out infinite; }
        .animate-float5 { animation: float5 3s ease-in-out infinite; }
      `})]})}const dW=5;function Cy(e,t){const n=new Set,r=[];for(const i of[...e].sort(()=>Math.random()-.5)){if(n.size>=t)break;n.has(i.subjectCode)||(n.add(i.subjectCode),r.push(i))}return r}function n8(e){const t=e.split(" ");return t.findIndex(r=>r.includes("대학"))!==-1?t.slice(1).join(" ").trim():e}function r8(e,t){const n=r=>r.replace(/(과|학부|전공)$/,"");return n(e)===n(t)}function hW(e){return dW-e+1}const fW=(e,t)=>{if(t==="")return i8(e);const n=n8(t),r=e.filter(h=>r8(h.departmentName,n)),i=e.filter(h=>h.departmentName==="대양휴머니티칼리지"),s=r.filter(h=>h.professorName!==null&&h.lesn_time!==null),o=Cy(s,3),a=i.filter(h=>h.professorName!==null&&h.lesn_time!==null),u=Cy(a,hW(o.length+1)),c=[...o,...u];for(let h=c.length-1;h>0;h--){const p=Math.floor(Math.random()*(h+1));[c[h],c[p]]=[c[p],c[h]]}return c},ky=(e,t)=>e.find(n=>t===n.subjectId),i8=e=>Cy(e,5),pW=(e,t)=>{const n=n8(t);if(n==="")return i8(e);const r=e.filter(c=>r8(c.departmentName,n)),i=e.filter(c=>c.departmentName==="대양휴머니티칼리지"),s=c=>{const h=new Set;return c.filter(p=>h.has(p.subjectCode)?!1:(h.add(p.subjectCode),!0))},o=s(r).slice(0,3),a=5-o.length,u=s(i).slice(0,a);return[...o,...u]},mW=e=>{let t=0;const n=[];for(const r of e){const i=Number(r.tm_num.split("/")[0])||0;if(t+i>24)break;t+=i,n.push(r)}return n},gW=e=>N.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M8 16.3438C9.45833 16.3229 10.7917 15.9688 12 15.2812C13.2083 14.5729 14.1875 13.5938 14.9375 12.3438C15.6458 11.0729 16 9.73958 16 8.34375C16 6.94788 15.6458 5.61455 14.9375 4.34375C14.1875 3.09375 13.2083 2.11458 12 1.40625C10.7917 0.718717 9.45833 0.36455 8 0.34375C6.54167 0.36455 5.20833 0.718717 4 1.40625C2.79167 2.11458 1.8125 3.09375 1.0625 4.34375C0.354167 5.61455 0 6.94788 0 8.34375C0 9.73958 0.354167 11.0729 1.0625 12.3438C1.8125 13.5938 2.79167 14.5729 4 15.2812C5.20833 15.9688 6.54167 16.3229 8 16.3438ZM11.5312 6.875L7.53125 10.875C7.17708 11.1667 6.82292 11.1667 6.46875 10.875L4.46875 8.875C4.17708 8.52083 4.17708 8.16667 4.46875 7.8125C4.82292 7.52083 5.17708 7.52083 5.53125 7.8125L7 9.28125L10.4688 5.81256C10.8229 5.52083 11.1771 5.52083 11.5312 5.81256C11.8229 6.16669 11.8229 6.52083 11.5312 6.875Z",fill:"#22C55E"}));function yW(){return f.jsxs("div",{className:"mt-6 text-sm text-gray-800 space-y-2",children:[f.jsxs("h2",{className:"text-left font-semibold mb-4",children:["수강신청 ",f.jsx("span",{className:"text-blue-500",children:"Tip!"})]}),["시작 시 우측 검색 버튼을 빠르게 눌러주세요.","인기 있는 과목을 먼저 잡으세요.","한 번 담은 과목을 또 담지 않도록 주의하세요!","모든 과목을 담은 즉시 종료됩니다."].map((e,t)=>f.jsxs("div",{className:"flex items-center sm:text-sm text-xs ",children:[f.jsx("span",{className:"text-blue-500 mr-2",children:f.jsx(gW,{})}),f.jsx("span",{className:t===0?"font-semibold text-blue-500 animate-bounce":"",children:e})]},t))]})}function vW({department:e,setDepartment:t}){const{data:n}=Vu();function r(i){const s=i.target.value,o=n?.find(a=>a.departmentCode===s)?.departmentName??"";t({departmentName:o,departmentCode:s})}return N.useEffect(()=>{if(!n)return;const s=_7().filter(([u])=>u!=="9005");if(s.length<=0)return;const o=s[0][0],a=n.find(u=>u.departmentCode===o)?.departmentName??"";t({departmentName:a,departmentCode:o})},[n]),f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsx("h2",{className:"text-left font-semibold text-sm sm:text-md",children:"학과 검색"}),f.jsx(Zd,{className:"cursor-pointer rounded-sm px-2 py-1 w-50 sm:w-120 bg-white mb-4",value:e.departmentCode,onChange:r})]})}const xW=e=>N.createElement("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M4.50007 8.08504L2.76507 6.35004C2.67158 6.25655 2.54479 6.20403 2.41257 6.20403C2.28036 6.20403 2.15356 6.25655 2.06007 6.35004C1.96658 6.44353 1.91406 6.57033 1.91406 6.70254C1.91406 6.768 1.92696 6.83283 1.95201 6.89331C1.97706 6.95379 2.01378 7.00875 2.06007 7.05504L4.15007 9.14504C4.34507 9.34004 4.66007 9.34004 4.85507 9.14504L10.1451 3.85504C10.2386 3.76155 10.2911 3.63475 10.2911 3.50254C10.2911 3.37033 10.2386 3.24353 10.1451 3.15004C10.0516 3.05655 9.92479 3.00403 9.79257 3.00403C9.66036 3.00403 9.53356 3.05655 9.44007 3.15004L4.50007 8.08504Z",fill:"#047CFE"}));function rx({label:e="checkbox",...t}){return f.jsxs("label",{htmlFor:"checkbox-"+e,className:"flex flex-row items-center gap-3 text-md ",children:[f.jsxs("div",{className:"relative w-5 h-5",children:[f.jsx("input",{id:"checkbox-"+e,type:"checkbox",className:`
            appearance-none w-5 h-5 rounded-sm border cursor-pointer transition-colors
            ${t.checked?"bg-blue-50 border-blue-500":"bg-white border-gray-400"}
          `,...t}),t.checked&&f.jsx(xW,{className:"absolute inset-0 m-auto w-4 h-4 pointer-events-none text-white"})]}),f.jsx("span",{className:t.checked?"text-blue-500":"text-gray-700",children:e})]})}function bW({children:e,contentRef:t,className:n=""}){return f.jsx("div",{ref:t,className:`absolute top-full border border-gray-200 mt-2 left-0 z-20 bg-white rounded-lg flex flex-col shadow-lg p-2 w-auto gap-1 min-w-max ${n}`,role:"listbox",children:e})}const wW=({elem:e,tabRefs:t,initialState:n})=>{const[r,i]=N.useState(n);return N.useEffect(()=>{const s=o=>{(Array.isArray(t)?t:[t]).some(c=>c.current&&c.current.contains(o.target))?i(!0):e.current&&!e.current.contains(o.target)&&i(!1)};return r?window.addEventListener("click",s):window.removeEventListener("click",s),()=>{window.removeEventListener("click",s)}},[r,e,t]),[r,i]};function ix({label:e,selected:t,children:n,className:r=""}){const i=N.useRef(null),s=N.useRef(null),[o,a]=wW({elem:s,tabRefs:i,initialState:!1}),u=()=>{a(!o)};return f.jsxs("div",{className:"relative inline-block",children:[f.jsx(Oi,{label:e,containerRef:i,chipType:"select",selected:t,onClick:u}),o&&f.jsx(bW,{contentRef:s,className:r,children:n})]})}function sx({labelPrefix:e,selectedItems:t,handleChangeCheckbox:n,options:r,selected:i}){const s=u=>t.some(c=>c===u),o=u=>{const c=r.find(h=>h.id===u);return c?c.id===0?"전체":`${c.label}${e}`:e};let a;return t.length===0?a=e:t.length>1?a=`${o(t[0])} 외 ${t.length-1}개`:a=o(t[0]),f.jsx(ix,{label:a,selected:i,children:r.map(u=>f.jsx(rx,{label:o(u.id),checked:s(u.id),onChange:()=>n(u.id)},u.id))})}function _W({selectedTimetable:e,onSelect:t,setSelectedTimetable:n,timetables:r}){const i=N.useRef(null),s=u=>{n(u),t(u.timeTableId)},o=r.map(u=>({id:u.timeTableId,label:u.timeTableName})),a=o.filter(u=>u.id===e.timeTableId).map(u=>u.id);return f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsx("h2",{className:"text-left font-semibold text-sm sm:text-md",children:"시간표를 선택해주세요."}),f.jsxs("div",{className:"relative inline-block max-w-sm",ref:i,children:[f.jsx(sx,{labelPrefix:"시간표 선택",selectedItems:a,selected:a.length>0,handleChangeCheckbox:()=>s,options:o}),f.jsx(Or,{to:"/timetable",className:"px-6 py-2 hover:text-blue-500 text-gray-500 rounded-md",children:"새 시간표 추가"})]})]})}const SW=e=>N.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M3.578 6.48696C4.55072 4.80817 6.1004 3.5401 7.93848 2.91885C9.77657 2.29761 11.7778 2.36554 13.5695 3.10999C15.3613 3.85444 16.8214 5.22467 17.678 6.96555C18.5347 8.70644 18.7294 10.6993 18.2261 12.5731C17.7227 14.4469 16.5556 16.0739 14.9419 17.1512C13.3282 18.2285 11.378 18.6826 9.45441 18.4291C7.53082 18.1755 5.76494 17.2315 4.48557 15.7728C3.20621 14.3141 2.50055 12.4402 2.5 10.5",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"}),N.createElement("path",{d:"M7.5 6.5H3.5V2.5",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"}));function CW({subjects:e,handleRemakeSubjects:t,isLoadingLectures:n}){const r=e?.reduce((i,s)=>{if(!s.tm_num)return i;const o=s?.tm_num.split("/")[0]??"0",a=Number(o)||0;return i+a},0);return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex flex-row justify-between items-center mb-4 w-full overflow-auto h-10",children:[f.jsx("h2",{className:"text-left font-semibold",children:"과목 리스트"}),t&&f.jsxs("button",{onClick:t,className:"flex hover:font-bold hover:text-blue-500 items-center gap-2 cursor-pointer",children:["랜덤과목 재생성",f.jsx(SW,{})]}),f.jsxs("p",{children:["총 연습 학점: ",f.jsx("span",{className:"text-blue-500",children:r}),"학점"]})]}),f.jsx("div",{className:"max-h-[250px] max-w-[350px] overflow-x-auto overflow-y-auto sm:max-w-full",children:f.jsxs("table",{className:"min-w-full sm:text-sm text-xs text-left whitespace-nowrap border-t border-b border-gray-200",children:[f.jsx("thead",{className:"bg-gray-100 text-gray-700",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-2",children:"학수번호"}),f.jsx("th",{className:"px-4 py-2",children:"분반"}),f.jsx("th",{className:"px-4 py-2",children:"개설학과"}),f.jsx("th",{className:"px-4 py-2",children:"과목명"}),f.jsx("th",{className:"px-4 py-2",children:"교수명"})]})}),f.jsx("tbody",{children:n?f.jsx(vm,{col:5,row:8}):e?.map((i,s)=>f.jsxs("tr",{className:"border border-gray-200",children:[f.jsx("td",{className:"px-4 py-2",children:i?.subjectCode??""}),f.jsx("td",{className:"px-4 py-2",children:i?.classCode??""}),f.jsx("td",{className:"px-4 py-2",children:i?.departmentName??""}),f.jsx("td",{className:"px-4 py-2",children:i?.subjectName??""}),f.jsx("td",{className:"px-4 py-2",children:i?.professorName??""})]},i?.subjectId??s))})]})})]})}const kW=({simulationSubjects:e,handleStartGame:t,setToggleTip:n})=>f.jsxs("div",{className:"flex justify-end gap-2 px-2 pb-2 sm:px-6 sm:pb-6",children:[f.jsx(J1,{variants:"primary",onClick:()=>n(!0),className:"font-semibold disabled:bg-gray-300 disabled:cursor-not-allowed",children:"팁 보기"}),f.jsx(J1,{variants:"primary",onClick:t,disabled:e.length===0,className:"font-semibold disabled:bg-gray-300 disabled:cursor-not-allowed",children:"시작하기"})]}),jW={departmentCode:"",departmentName:""};function EW({timetables:e,setIsModalOpen:t}){const n=ws(F=>F.setCurrentSimulation),r=hi(F=>F.closeModal),{data:i,isLoading:s}=wl(),o=vt(F=>F.currentTimetable),a=vt(F=>F.pickTimetable),[u,c]=N.useState([]),[h,p]=N.useState({...jW}),[g,x]=N.useState(o),[w,S]=N.useState("timetable"),[C,E]=N.useState(!1),{data:L,isLoading:A}=rm(g?.timeTableId),B=Ju(s7),$=()=>{c(fW(i,h.departmentName))},P=async()=>{if(u.length===0){alert("과목 리스트가 비어있습니다. 게임을 시작할 수 없습니다.");return}try{r(),w!=="previous"&&await zD(u.map(le=>le.subjectId));const F=await WD("",h.departmentCode,h.departmentName);if("simulationId"in F&&"isRunning"in F&&F.simulationId!==-1&&F.isRunning!==void 0){const{simulationId:le,isRunning:ue}=F;n({simulationId:le,simulationStatus:ue?"start":"before",simulatonSubjects:u})}else console.error("시뮬레이션 시작 결과가 유효하지 않음",F)}catch(F){console.error("시뮬레이션 시작 중 오류 발생:",F)}},M=F=>{const ae=e.find(le=>le.timeTableId===F);if(!ae){console.error("해당하는 시간표를 찾을 수 없습니다:",F);return}x(ae),a(ae)},H=F=>{c([]),S(F)},Q=F=>i.find(ae=>ae.subjectId===F);return N.useEffect(()=>{if(A||w!=="timetable"||!L||L.length===0)return;const ae=L.filter(ue=>ue.scheduleType!=="custom").map(ue=>Q(ue.subjectId??0)).filter(ue=>!!ue),le=mW(ae);c(le)},[w,L,A]),N.useEffect(()=>{w==="random"&&c(pW(i,h.departmentName))},[w,h]),N.useEffect(()=>{if(w!=="previous"||!B||B.snapshot_id<0||s)return;const ae=B.subjects.map(le=>le.subject_id).map(le=>Q(le)).filter(le=>!!le);c(ae)},[w,B,s]),N.useEffect(()=>{B&&B.snapshot_id>=0?S("previous"):e.length>0?S("timetable"):S("random")},[B,e]),f.jsx(Cs,{onClose:()=>t(!1),children:f.jsxs("div",{className:"flex flex-col w-full overflow-y-auto max-h-[90vh] max-w-[900px] sm:min-w-[600px]",children:[f.jsx(yl,{title:"수강 신청 연습을 시작하시겠습니까?",onClose:()=>t(!1)}),f.jsxs("div",{className:"flex flex-col gap-2 p-2 sm:p-6",children:[f.jsx("h2",{className:"text-left font-semibold text-sm sm:text-md",children:"어떤 과목으로 진행하시겠습니까?"}),f.jsxs("div",{className:"flex gap-2 py-2",children:[B&&f.jsx(Oi,{label:"기존 과목",selected:w==="previous",onClick:()=>H("previous")}),f.jsx(Oi,{label:"시간표 과목",selected:w==="timetable",onClick:()=>H("timetable")}),f.jsx(Oi,{label:"랜덤 과목",selected:w==="random",onClick:()=>H("random")})]}),w==="timetable"&&f.jsx(_W,{timetables:e,selectedTimetable:g,onSelect:M,setSelectedTimetable:x}),w==="random"&&f.jsx(vW,{department:h,setDepartment:p}),f.jsx(CW,{isLoadingLectures:s,subjects:u,handleRemakeSubjects:w==="random"?$:void 0}),C&&f.jsx(yW,{})]}),f.jsx(kW,{simulationSubjects:u,handleStartGame:P,setToggleTip:E})]})})}function TW(e,t,n,r,i,s){const o=Math.floor((e+t)/n);let a=r,u=0;for(let c=0;c<=o;c++){const h=c*n;let p=i,g=s;h>4&&(p=48,g=33),a+=p,u+=g}return Math.max(Math.round(a-u),0)}function NW(){const[e,t]=N.useState(0),[n,r]=N.useState(0),[i,s]=N.useState(1),[o,a]=N.useState(0),u=N.useRef(null),{closeModal:c}=hi(),{currentSimulation:h,setCurrentSimulation:p}=ws(),g=.2,x=98,w=79;N.useEffect(()=>{let C=Math.floor(h.clickedTime/.2)*100+124;const E=C/w*g;for(let L=0;L<=Math.floor(h.clickedTime/g);L++)C+=L*x;r(C),t(Math.ceil(E))},[]),N.useEffect(()=>(u.current=setInterval(()=>{a(E=>{const L=E+1,A=TW(L,h.clickedTime,g,i,x,w);return s(A),L});const C=Math.floor((e+h.clickedTime)/.2)*w;n<0?r(0):r(E=>E-C),t(E=>{const L=Math.max(E-1,0);return L===0&&u.current&&(clearInterval(u.current),c()),L})},1e3),()=>{u.current&&clearInterval(u.current)}),[e]);const S=()=>{p({simulationStatus:"before"}),c()};return f.jsx(Cs,{onClose:()=>c(),children:f.jsxs("div",{className:"sm:w-full max-w-md bg-white rounded-sm shadow-xl p-6 text-center space-y-6",children:[f.jsxs("h2",{className:"text-lg md:text-xl font-semibold text-gray-800",children:["서비스 ",f.jsx("span",{className:"text-blue-600 font-bold",children:"접속대기 중"}),"입니다."]}),f.jsxs("div",{className:"text-sm md:text-base text-gray-600",children:["예상대기시간: ",f.jsx("span",{className:"text-blue-600 font-bold text-xl",children:e}),"초"]}),f.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-blue-500 transition-all duration-300",style:{width:`${o/(e+o)*100}%`}})}),f.jsxs("div",{className:"text-gray-700 text-sm md:text-base leading-relaxed",children:["고객님 앞에 ",f.jsx("span",{className:"text-green-600 font-bold text-xl",children:n<0?0:n}),"명, 뒤에 ",f.jsx("span",{className:"text-green-600 font-bold text-xl",children:i}),"명의 대기자가 있습니다. ",f.jsx("br",{}),"현재 접속 사용자가 많아 대기 중이며, 잠시만 기다리시면 서비스로 자동 접속 됩니다."]}),f.jsxs("button",{className:"inline-flex items-center justify-center border-2 border-gray-400 text-gray-800 px-2 py-1 hover:bg-gray-100",onClick:S,children:[f.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),"중지"]}),f.jsx("p",{className:"text-xs md:text-sm text-gray-500",children:"재 접속하시면 대기시간이 더 길어집니다."})]})})}function Wp(){return f.jsx("tbody",{children:f.jsx("tr",{children:f.jsx("td",{colSpan:13,className:"text-gray-500 py-4",children:f.jsx("div",{className:"min-h-[160px] flex items-center justify-center ",children:f.jsx("p",{className:"bg-stone-100 px-15 py-1 border",children:"조회된 내역이 없습니다."})})})})})}const PW=({index:e,subject:t,isRegisteredTable:n,onClickSubject:r})=>f.jsxs("tr",{className:"hover:bg-gray-50 text-nowrap",children:[f.jsx("td",{className:"border bg-blue-100 px-2 py-1 border-gray-200",children:e+1}),f.jsx("td",{className:"border py-1 border-gray-200",children:f.jsx("button",{className:"bg-blue-500 cursor-pointer text-white text-xs px-3 py-0.5 rounded-xs",disabled:!!n,onClick:()=>r(t.subjectId),children:n?"삭제":"신청"})}),f.jsx("td",{className:"border px-2 py-1 border-gray-200",children:t.subjectCode}),f.jsx("td",{className:"border px-2 py-1 border-gray-200",children:t.classCode}),f.jsx("td",{className:"border px-2 py-1 border-gray-200 text-left",children:t.departmentName}),f.jsx("td",{className:"border px-2 py-1 border-gray-200 text-left",children:t.subjectName}),f.jsx("td",{className:"border px-2 py-1 border-gray-200",children:f.jsx("button",{className:"bg-gray-700 text-xs text-white rounded-xs px-2 py-0.5",children:"수업계획서"})}),f.jsx("td",{className:"border py-1 border-gray-200",children:t.language||"-"}),f.jsx("td",{className:"border  py-1 border-gray-200",children:t.tm_num?t.tm_num.split("/").map((i,s)=>s===0?parseFloat(i).toFixed(1):i).join("/"):"-"}),f.jsx("td",{className:"border px-2 py-1 border-gray-200",children:t.subjectType}),f.jsx("td",{className:"border px-2 py-1 border-gray-200",children:t.semester_at===-1?"":t.semester_at}),f.jsx("td",{className:"border px-2 py-1 border-gray-200",children:t.lesn_time||"-"}),f.jsx("td",{className:"border py-1 border-gray-200",children:f.jsx("button",{className:"bg-gray-700 text-white text-xs px-2 py-0.5 rounded-xs",children:"수강인원"})})]}),v4=({isRegisteredTable:e})=>{const{currentSimulation:t}=ws(),{openModal:n}=hi(),{setCurrentSubjectId:r}=mm(),{data:i}=wl(),s=u=>{eo({eventType:Mn.APPLY,subjectId:u},i).then(c=>{"errMsg"in c&&alert(c.errMsg)}).catch(c=>{console.error("예외 발생:",c)}),r(u),n("captcha")},o=t.nonRegisteredSubjects.concat(t.failedSubjects),a=e?t.successedSubjects:o;return a.length>0?a.map((u,c)=>f.jsx("tbody",{className:"min-h-[300px] border-gray-100",children:f.jsx(PW,{index:c,subject:u,isRegisteredTable:e,onClickSubject:s})},u.subjectId)):f.jsx(Wp,{})},OW=e=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M9.5 16C7.68333 16 6.146 15.3707 4.888 14.112C3.63 12.8533 3.00067 11.316 3 9.5C2.99933 7.684 3.62867 6.14667 4.888 4.888C6.14733 3.62933 7.68467 3 9.5 3C11.3153 3 12.853 3.62933 14.113 4.888C15.373 6.14667 16.002 7.684 16 9.5C16 10.2333 15.8833 10.925 15.65 11.575C15.4167 12.225 15.1 12.8 14.7 13.3L20.3 18.9C20.4833 19.0833 20.575 19.3167 20.575 19.6C20.575 19.8833 20.4833 20.1167 20.3 20.3C20.1167 20.4833 19.8833 20.575 19.6 20.575C19.3167 20.575 19.0833 20.4833 18.9 20.3L13.3 14.7C12.8 15.1 12.225 15.4167 11.575 15.65C10.925 15.8833 10.2333 16 9.5 16ZM9.5 14C10.75 14 11.8127 13.5627 12.688 12.688C13.5633 11.8133 14.0007 10.7507 14 9.5C13.9993 8.24933 13.562 7.187 12.688 6.313C11.814 5.439 10.7513 5.00133 9.5 5C8.24867 4.99867 7.18633 5.43633 6.313 6.313C5.43967 7.18967 5.002 8.252 5 9.5C4.998 10.748 5.43567 11.8107 6.313 12.688C7.19033 13.5653 8.25267 14.0027 9.5 14Z",fill:"white"}));function s8(){const{setCurrentSimulation:e,currentSimulation:t}=ws(),{openModal:n}=hi(),{data:r}=wl(),i=(a,u,c)=>{const h=a.map(p=>ky(r,p.subjectId)).filter(p=>p!==void 0);e({simulationId:c,[u]:h}),t.simulationStatus==="progress"&&n("waiting")};function s(a,u,c){if(u==="successedSubjects"){const h=c.filter(p=>p.status===1).map(p=>p.subjectId);return a.filter(p=>h.includes(p.subjectId))}else{const h=c.filter(p=>p.status===2).map(p=>p.subjectId);return a.filter(p=>h.includes(p.subjectId))}}return{reloadSimulationStatus:()=>{$D().then(a=>{if(!(!a||a.simulationId===-1)&&(e({simulationId:a.simulationId}),a?.nonRegisteredSubjects&&i(a.nonRegisteredSubjects,"nonRegisteredSubjects",a.simulationId),a?.registeredSubjects)){const u=s(a.registeredSubjects,"successedSubjects",a.subjectStatus),c=s(a.registeredSubjects,"failedSubejcts",a.subjectStatus);i(u,"successedSubjects",a.simulationId),i(c,"failedSubjects",a.simulationId),i(a.registeredSubjects,"registeredSubjects",a.simulationId)}}).catch(a=>{console.log(a)})}}}function LW(){const{setCurrentSimulation:e,currentSimulation:t,resetSimulation:n}=ws(),{openModal:r}=hi(),i=Ju(Ld),{reloadSimulationStatus:s}=s8(),{data:o}=wl(),u=(i&&"simulationId"in i?i.simulationId:-1)!==-1,c=i&&"userStatus"in i?i.userStatus?.departmentName:-1,h=()=>{e({simulationStatus:"before"}),r("tutorial"),n()},p=()=>{Ld().then(w=>{w&&"simulationId"in w&&w.simulationId!==-1&&s()})},g=async()=>{p(),eo({eventType:Mn.SEARCH},o).then(w=>{if("errMsg"in w)alert("시뮬레이션이 존재하지 않습니다. 학과 검색을 먼저 진행해주세요!");else{const S=w.elapsed_time/1e3;e({simulationStatus:"progress",clickedTime:S>10?5:S}),r("waiting")}}).catch(w=>{console.error("예외 발생:",w)})},x=async()=>{try{await rl(),e({simulationStatus:"finish"}),r("result")}catch(w){console.error(w),alert("데이터베이스 삭제에 실패했습니다.")}};return f.jsx("section",{className:"border p-2 text-xs",children:f.jsxs("div",{className:"flex flex-col gap-1 sm:gap-4",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 sm:gap-8",children:[f.jsx("div",{className:"flex justify-end items-center sm:justify-start gap-2",children:f.jsx(wu,{id:"organization-type",label:"조직 분류",className:"w-48",disabled:!0,children:f.jsx("option",{})})}),f.jsx("div",{className:"flex justify-end items-center sm:justify-start gap-2",children:f.jsx(wu,{id:"semester-type",label:"년도/학기",className:"w-48",disabled:!0,children:f.jsx("option",{})})})]}),f.jsx("div",{className:"flex flex-col justify-between sm:flex-row gap-1 sm:gap-8",children:f.jsxs("div",{className:"flex flex-col sm:items-end sm:flex-row gap-2 ",children:[f.jsx("div",{className:"flex items-center justify-end sm:justify-start gap-2",children:f.jsx(wu,{id:"my-major-department",label:"주전공(교직)",className:"w-48",disabled:!0,children:f.jsx("option",{children:"컴퓨터공학전공"})})}),f.jsx("div",{className:"flex items-center justify-end sm:justify-start gap-2",children:f.jsx(wu,{id:"my-sub-department",label:"복수전공(교직)",className:"w-48",disabled:!0,children:f.jsx("option",{children:"없음"})})})]})}),f.jsxs("div",{className:"flex flex-col sm:flex-col md:flex-row justify-between gap-2",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[f.jsx("div",{className:"flex justify-end items-center sm:justify-start gap-2",children:f.jsx(wu,{id:"search-division",label:"검색구분",className:"w-48",disabled:!0,children:f.jsx("option",{children:"주전공검색"})})}),f.jsxs("div",{className:"flex justify-end items-center sm:justify-start gap-1",children:[f.jsx("label",{htmlFor:"search-major",className:"font-bold",children:"주전공"}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-1",children:[f.jsx("select",{id:"search-major",className:"border-gray-300  text-gray-400 border px-2 py-1 w-48 sm:w-30 disabled:bg-gray-100 cursor-not-allowed",disabled:!0,children:f.jsx("option",{children:"학부"})}),f.jsx(wu,{id:"search-department",label:"학과 이름",className:"w-40 lg:w-90",value:c,disabled:!0,hideLabel:!0})]})]})]}),f.jsxs("div",{className:"flex flex-row justify-between gap-2",children:[f.jsx("div",{className:"flex flex-row ",children:u?f.jsx("button",{onClick:x,className:"px-3 py-2 bg-white border border-gray-700 cursor-pointer rounded flex flex-row gap-1",children:"연습 중지"}):f.jsx("button",{className:"px-3 py-2 bg-blue-500 cursor-pointer rounded flex flex-row gap-1 text-white",onClick:h,children:"재시작"})}),f.jsxs("button",{onClick:g,className:`relative px-3 py-2 rounded flex flex-row items-center gap-1 text-white ${u?"bg-gradient-animation cursor-pointer":"bg-gray-400 cursor-not-allowed"}`,disabled:!u,children:[t.simulationStatus==="start"&&f.jsx(D_,{className:"absolute -top-20 right-8 w-15 h-15 animate-bounce rotate-170"}),f.jsx(OW,{className:"w-5 h-4"}),"검색"]})]})]})]})})}function wu({label:e,hideLabel:t=!1,children:n,id:r,className:i,...s}){const o=r||"muted-select-"+e;return f.jsxs(f.Fragment,{children:[f.jsx("label",{htmlFor:o,className:t?"hidden":"font-bold",children:e}),f.jsx("select",{id:o,className:"px-2 py-1 text-gray-400 border border-gray-300 disabled:bg-gray-100 cursor-not-allowed "+i,...s,children:n})]})}function AW(){const[e,t]=N.useState("00:00"),n=hi(u=>u.openModal),r=ws(u=>u.currentSimulation),i=ws(u=>u.setCurrentSimulation),s=N.useRef(null),o=u=>{const c=Math.floor(u%3600/60),h=u%60;t(`${c.toString().padStart(2,"0")}:${h.toString().padStart(2,"0")}`)},a=async()=>{try{await rl(),i({simulationStatus:"finish"}),n("result")}catch(u){console.error(u),alert("시뮬레이션 강제 종료에 실패했습니다.")}};return N.useEffect(()=>((async()=>{if(r.simulationStatus==="finish"){t("00:00");return}try{const c=await gm();if(!(c?.started_at&&c.simulation_run_id===r.simulationId))return;const p=c.started_at;s.current=setInterval(()=>{const g=Date.now(),x=Math.floor((g-p)/1e3);if(x>=Ev){clearInterval(s.current),alert("5분 경과로 시뮬레이션이 강제 종료되었습니다."),a().then();return}o(x),r.simulationStatus==="finish"&&(clearInterval(s.current),t("00:00"))},1e3)}catch(c){console.error(c)}})().then(),()=>{s.current&&(clearInterval(s.current),s.current=null)}),[r.simulationStatus,r.simulationId]),f.jsx("p",{className:"font-semibold text-xl text-blue-500",children:e})}var p1,x4;function DW(){return x4||(x4=1,p1=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}),p1}var IW=DW();const RW=fi(IW);var qf={exports:{}},m1,b4;function MW(){if(b4)return m1;b4=1;var e;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/return e=function(){var t={},n={};return t.on=function(r,i){var s={name:r,handler:i};return n[r]=n[r]||[],n[r].unshift(s),s},t.off=function(r){var i=n[r.name].indexOf(r);i!==-1&&n[r.name].splice(i,1)},t.trigger=function(r,i){var s=n[r],o;if(s)for(o=s.length;o--;)s[o].handler(i)},t},m1=e,m1}var Kf={exports:{}},g1,w4;function FW(){if(w4)return g1;w4=1,g1=function(i,s,o){var a=document.head||document.getElementsByTagName("head")[0],u=document.createElement("script");typeof s=="function"&&(o=s,s={}),s=s||{},o=o||function(){},u.type=s.type||"text/javascript",u.charset=s.charset||"utf8",u.async="async"in s?!!s.async:!0,u.src=i,s.attrs&&e(u,s.attrs),s.text&&(u.text=""+s.text);var c="onload"in u?t:n;c(u,o),u.onload||t(u,o),a.appendChild(u)};function e(r,i){for(var s in i)r.setAttribute(s,i[s])}function t(r,i){r.onload=function(){this.onerror=this.onload=null,i(null,r)},r.onerror=function(){this.onerror=this.onload=null,i(new Error("Failed to load "+this.src),r)}}function n(r,i){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,i(null,r))}}return g1}var _4;function BW(){return _4||(_4=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=FW(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default=function(s){var o=new Promise(function(a){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){a(window.YT);return}else{var u=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(u+"//www.youtube.com/iframe_api",function(h){h&&s.trigger("error",h)})}var c=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){c&&c(),a(window.YT)}});return o},e.exports=t.default}(Kf,Kf.exports)),Kf.exports}var Gf={exports:{}},Yf={exports:{}},Xf={exports:{}},y1,S4;function zW(){if(S4)return y1;S4=1;var e=1e3,t=e*60,n=t*60,r=n*24,i=r*365.25;y1=function(c,h){h=h||{};var p=typeof c;if(p==="string"&&c.length>0)return s(c);if(p==="number"&&isNaN(c)===!1)return h.long?a(c):o(c);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))};function s(c){if(c=String(c),!(c.length>100)){var h=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(c);if(h){var p=parseFloat(h[1]),g=(h[2]||"ms").toLowerCase();switch(g){case"years":case"year":case"yrs":case"yr":case"y":return p*i;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function o(c){return c>=r?Math.round(c/r)+"d":c>=n?Math.round(c/n)+"h":c>=t?Math.round(c/t)+"m":c>=e?Math.round(c/e)+"s":c+"ms"}function a(c){return u(c,r,"day")||u(c,n,"hour")||u(c,t,"minute")||u(c,e,"second")||c+" ms"}function u(c,h,p){if(!(c<h))return c<h*1.5?Math.floor(c/h)+" "+p:Math.ceil(c/h)+" "+p+"s"}return y1}var C4;function $W(){return C4||(C4=1,function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=u,t.disable=o,t.enable=s,t.enabled=a,t.humanize=zW(),t.names=[],t.skips=[],t.formatters={};var n;function r(c){var h=0,p;for(p in c)h=(h<<5)-h+c.charCodeAt(p),h|=0;return t.colors[Math.abs(h)%t.colors.length]}function i(c){function h(){if(h.enabled){var p=h,g=+new Date,x=g-(n||g);p.diff=x,p.prev=n,p.curr=g,n=g;for(var w=new Array(arguments.length),S=0;S<w.length;S++)w[S]=arguments[S];w[0]=t.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");var C=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,function(L,A){if(L==="%%")return L;C++;var B=t.formatters[A];if(typeof B=="function"){var $=w[C];L=B.call(p,$),w.splice(C,1),C--}return L}),t.formatArgs.call(p,w);var E=h.log||t.log||console.log.bind(console);E.apply(p,w)}}return h.namespace=c,h.enabled=t.enabled(c),h.useColors=t.useColors(),h.color=r(c),typeof t.init=="function"&&t.init(h),h}function s(c){t.save(c),t.names=[],t.skips=[];for(var h=(typeof c=="string"?c:"").split(/[\s,]+/),p=h.length,g=0;g<p;g++)h[g]&&(c=h[g].replace(/\*/g,".*?"),c[0]==="-"?t.skips.push(new RegExp("^"+c.substr(1)+"$")):t.names.push(new RegExp("^"+c+"$")))}function o(){t.enable("")}function a(c){var h,p;for(h=0,p=t.skips.length;h<p;h++)if(t.skips[h].test(c))return!1;for(h=0,p=t.names.length;h<p;h++)if(t.names[h].test(c))return!0;return!1}function u(c){return c instanceof Error?c.stack||c.message:c}}(Xf,Xf.exports)),Xf.exports}var k4;function UW(){return k4||(k4=1,function(e,t){var n={};t=e.exports=$W(),t.log=s,t.formatArgs=i,t.save=o,t.load=a,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:u(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(c){try{return JSON.stringify(c)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}};function i(c){var h=this.useColors;if(c[0]=(h?"%c":"")+this.namespace+(h?" %c":" ")+c[0]+(h?"%c ":" ")+"+"+t.humanize(this.diff),!!h){var p="color: "+this.color;c.splice(1,0,p,"color: inherit");var g=0,x=0;c[0].replace(/%[a-zA-Z%]/g,function(w){w!=="%%"&&(g++,w==="%c"&&(x=g))}),c.splice(x,0,p)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(c){try{c==null?t.storage.removeItem("debug"):t.storage.debug=c}catch{}}function a(){var c;try{c=t.storage.debug}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}t.enable(a());function u(){try{return window.localStorage}catch{}}}(Yf,Yf.exports)),Yf.exports}var Jf={exports:{}},j4;function HW(){return j4||(j4=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default}(Jf,Jf.exports)),Jf.exports}var Zf={exports:{}},E4;function QW(){return E4||(E4=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default}(Zf,Zf.exports)),Zf.exports}var ep={exports:{}},tp={exports:{}},T4;function VW(){return T4||(T4=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default}(tp,tp.exports)),tp.exports}var N4;function WW(){return N4||(N4=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=VW(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default}(ep,ep.exports)),ep.exports}var P4;function qW(){return P4||(P4=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=UW(),r=h(n),i=HW(),s=h(i),o=QW(),a=h(o),u=WW(),c=h(u);function h(x){return x&&x.__esModule?x:{default:x}}var p=(0,r.default)("youtube-player"),g={};g.proxyEvents=function(x){var w={},S=function(M){var H="on"+M.slice(0,1).toUpperCase()+M.slice(1);w[H]=function(Q){p('event "%s"',H,Q),x.trigger(M,Q)}},C=!0,E=!1,L=void 0;try{for(var A=a.default[Symbol.iterator](),B;!(C=(B=A.next()).done);C=!0){var $=B.value;S($)}}catch(P){E=!0,L=P}finally{try{!C&&A.return&&A.return()}finally{if(E)throw L}}return w},g.promisifyPlayer=function(x){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,S={},C=function(H){w&&c.default[H]?S[H]=function(){for(var Q=arguments.length,F=Array(Q),ae=0;ae<Q;ae++)F[ae]=arguments[ae];return x.then(function(le){var ue=c.default[H],q=le.getPlayerState(),V=le[H].apply(le,F);return ue.stateChangeRequired||Array.isArray(ue.acceptableStates)&&ue.acceptableStates.indexOf(q)===-1?new Promise(function(J){var te=function ne(){var me=le.getPlayerState(),R=void 0;typeof ue.timeout=="number"&&(R=setTimeout(function(){le.removeEventListener("onStateChange",ne),J()},ue.timeout)),Array.isArray(ue.acceptableStates)&&ue.acceptableStates.indexOf(me)!==-1&&(le.removeEventListener("onStateChange",ne),clearTimeout(R),J())};le.addEventListener("onStateChange",te)}).then(function(){return V}):V})}:S[H]=function(){for(var Q=arguments.length,F=Array(Q),ae=0;ae<Q;ae++)F[ae]=arguments[ae];return x.then(function(le){return le[H].apply(le,F)})}},E=!0,L=!1,A=void 0;try{for(var B=s.default[Symbol.iterator](),$;!(E=($=B.next()).done);E=!0){var P=$.value;C(P)}}catch(M){L=!0,A=M}finally{try{!E&&B.return&&B.return()}finally{if(L)throw A}}return S},t.default=g,e.exports=t.default}(Gf,Gf.exports)),Gf.exports}var O4;function KW(){return O4||(O4=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},r=MW(),i=c(r),s=BW(),o=c(s),a=qW(),u=c(a);function c(p){return p&&p.__esModule?p:{default:p}}var h=void 0;t.default=function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,w=(0,i.default)();if(h||(h=(0,o.default)(w)),g.events)throw new Error("Event handlers cannot be overwritten.");if(typeof p=="string"&&!document.getElementById(p))throw new Error('Element "'+p+'" does not exist.');g.events=u.default.proxyEvents(w);var S=new Promise(function(E){if((typeof p>"u"?"undefined":n(p))==="object"&&p.playVideo instanceof Function){var L=p;E(L)}else h.then(function(A){var B=new A.Player(p,g);return w.on("ready",function(){E(B)}),null})}),C=u.default.promisifyPlayer(S,x);return C.on=w.on,C.off=w.off,C},e.exports=t.default}(qf,qf.exports)),qf.exports}var GW=KW();const YW=fi(GW);var XW=Object.defineProperty,JW=Object.defineProperties,ZW=Object.getOwnPropertyDescriptors,L4=Object.getOwnPropertySymbols,eq=Object.prototype.hasOwnProperty,tq=Object.prototype.propertyIsEnumerable,A4=(e,t,n)=>t in e?XW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jy=(e,t)=>{for(var n in t||(t={}))eq.call(t,n)&&A4(e,n,t[n]);if(L4)for(var n of L4(t))tq.call(t,n)&&A4(e,n,t[n]);return e},Ey=(e,t)=>JW(e,ZW(t)),nq=(e,t,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(c){i(c)}},o=u=>{try{a(n.throw(u))}catch(c){i(c)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(e,t)).next())});function rq(e,t){var n,r;if(e.videoId!==t.videoId)return!0;const i=((n=e.opts)==null?void 0:n.playerVars)||{},s=((r=t.opts)==null?void 0:r.playerVars)||{};return i.start!==s.start||i.end!==s.end}function D4(e={}){return Ey(jy({},e),{height:0,width:0,playerVars:Ey(jy({},e.playerVars),{autoplay:0,start:0,end:0})})}function iq(e,t){return e.videoId!==t.videoId||!RW(D4(e.opts),D4(t.opts))}function sq(e,t){var n,r,i,s;return e.id!==t.id||e.className!==t.className||((n=e.opts)==null?void 0:n.width)!==((r=t.opts)==null?void 0:r.width)||((i=e.opts)==null?void 0:i.height)!==((s=t.opts)==null?void 0:s.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title}var oq={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},aq={videoId:Et.string,id:Et.string,className:Et.string,iframeClassName:Et.string,style:Et.object,title:Et.string,loading:Et.oneOf(["lazy","eager"]),opts:Et.objectOf(Et.any),onReady:Et.func,onError:Et.func,onPlay:Et.func,onPause:Et.func,onEnd:Et.func,onStateChange:Et.func,onPlaybackRateChange:Et.func,onPlaybackQualityChange:Et.func},mp=class extends en.Component{constructor(e){super(e),this.destroyPlayerPromise=void 0,this.onPlayerReady=t=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,t)},this.onPlayerError=t=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,t)},this.onPlayerStateChange=t=>{var n,r,i,s,o,a,u,c;switch((r=(n=this.props).onStateChange)==null||r.call(n,t),t.data){case mp.PlayerState.ENDED:(s=(i=this.props).onEnd)==null||s.call(i,t);break;case mp.PlayerState.PLAYING:(a=(o=this.props).onPlay)==null||a.call(o,t);break;case mp.PlayerState.PAUSED:(c=(u=this.props).onPause)==null||c.call(u,t);break}},this.onPlayerPlaybackRateChange=t=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,t)},this.onPlayerPlaybackQualityChange=t=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,t)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const t=Ey(jy({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=YW(this.container,t),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var t;(t=this.internalPlayer)==null||t.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var t,n,r,i;if(typeof this.props.videoId>"u"||this.props.videoId===null){(t=this.internalPlayer)==null||t.stopVideo();return}let s=!1;const o={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(s=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(o.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(o.endSeconds=this.props.opts.playerVars.end)),s){(r=this.internalPlayer)==null||r.loadVideoById(o);return}(i=this.internalPlayer)==null||i.cueVideoById(o)},this.refContainer=t=>{this.container=t},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(e){return nq(this,null,function*(){sq(e,this.props)&&this.updatePlayer(),iq(e,this.props)&&(yield this.resetPlayer()),rq(e,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return en.createElement("div",{className:this.props.className,style:this.props.style},en.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},Om=mp;Om.propTypes=aq;Om.defaultProps=oq;Om.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var lq=Om;const v1=[{id:1,videoId:"BTNgos01s1o",title:"1단계: 연습 과목 선택"},{id:2,videoId:"yYq-sXZmS9I",title:"2단계: 연습 시작 방법"},{id:3,videoId:"mEi-n2kEs94",title:"3단계: 연습 종료"},{id:4,videoId:"xmD5YuZtJv4",title:"4단계: 내 연습 결과 분석"}];function o8(){const e=localStorage.getItem("visitedTutorial");if(!e)return!0;const t=new Date,n=new Date(e);return(t.getTime()-n.getTime())/(1e3*60*60*24)>=7}function uq(){const[e,t]=N.useState(0),[n,r]=N.useState(!1),{closeModal:i,openModal:s}=hi(),a=Mv()?{width:"250",height:"141"}:{width:"600",height:"338"},u=o8();u||s("wish");const c=()=>{t(S=>S===0?v1.length-1:S-1)},h=()=>{t(S=>S===v1.length-1?0:S+1)},p=()=>{if(!n)return;const S=new Date().toISOString();localStorage.setItem("visitedTutorial",S),r(!0)},g=v1[e],x=()=>{i(),p()},w=()=>{p(),i(),s("wish")};return u&&f.jsxs(Cs,{onClose:i,children:[f.jsx(yl,{title:"올클연습 소개",onClose:x}),f.jsxs("div",{className:"w-full flex flex-col p-4",children:[f.jsx("div",{className:"mx-auto",style:{width:a.width+"px",height:a.height+"px"},children:f.jsx(lq,{videoId:g.videoId,opts:{width:a.width,height:a.height,playerVars:{autoplay:1,mute:1,playlist:g.videoId}},onEnd:h})}),f.jsxs("div",{className:"mt-4 flex flex-col justify-center items-center gap-2",children:[f.jsxs("div",{className:"flex justify-center items-center gap-5",children:[f.jsx("button",{className:"cursor-pointer w-5 h-5","aria-label":"이전 튜토리얼",onClick:c,children:e!==0&&f.jsx(Sy,{className:"w-5 h-5 transform rotate-90"})}),f.jsx("h2",{className:"text-gray-700 text-xl font-semibold",children:g.title}),f.jsx("button",{className:"cursor-pointer","aria-label":"이전 튜토리얼",onClick:h,children:e<3&&f.jsx(Sy,{className:"w-5 h-5 transform -rotate-90"})})]}),f.jsx("p",{className:"text-gray-500 text-sm",children:"올클연습은 실제 수강신청과 유사한 환경에서 연습할 수 있는 기능입니다."}),f.jsx("p",{className:"text-gray-500 text-sm",children:"각 영상을 통해 연습 과목 선택, 연습 시작 방법, 연습 종료 및 결과 분석 방법을 배울 수 있습니다."}),f.jsxs("div",{className:"flex flex-row w-full gap-4 mt-4 justify-end",children:[f.jsx(rx,{label:"일주일 동안 보지 않기",checked:n,onChange:()=>r(!n)}),f.jsx("button",{onClick:w,className:"px-4 cursor-pointer text-white py-2 bg-blue-500 hover:bg-blue-600 rounded-md",children:"튜토리얼 건너뛰기"})]})]})]})]})}const cq=["순번","신청","학수번호","분반","개설학과","교과목명","수업계획서","강의언어","학점/이론/실습","이수","학년","시간표","인원보기"];function I4(){return f.jsx("thead",{className:"bg-gray-100",children:f.jsx("tr",{className:"text-nowrap",children:cq.map(e=>f.jsx("th",{className:"border border-gray-300 px-2 py-1",children:e},e))})})}function dq(){const{type:e,openModal:t,closeModal:n}=hi(),r=ws(w=>w.currentSimulation),i=ws(w=>w.setCurrentSimulation),{reloadSimulationStatus:s}=s8(),{data:o=[]}=Q_(),a=o8(),u=hi(w=>w.type),c=async()=>{try{await rl(),i({simulationStatus:"finish"}),alert("5분 경과로 시뮬레이션이 강제 종료되었습니다."),t("result")}catch(w){console.error(w),alert("시뮬레이션 강제 종료에 실패했습니다.")}},h=()=>{Ld().then(w=>{if(w&&"simulationId"in w&&w.simulationId!==-1){const S=w.startedAt;if(!S)return;const C=Date.now();Math.floor((C-S)/1e3)>Ev?c().then():s()}else r.simulationStatus==="before"&&t("tutorial")})};N.useEffect(()=>{h()},[r.simulationStatus]);const p=r.successedSubjects.reduce((w,S)=>{const C=S.tm_num.split("/")[0];return w+parseInt(C,10)},0),g=()=>{switch(e){case"tutorial":return f.jsx(uq,{});case"waiting":return f.jsx(NW,{});case"captcha":return f.jsx(tW,{});case"wish":return f.jsx(EW,{timetables:o,setIsModalOpen:()=>n()});case"simulation":return f.jsx(sW,{reloadSimulationStatus:s});case"result":return f.jsx(cW,{simulationId:r.simulationId});default:return null}},x=()=>{localStorage.removeItem("visitedTutorial")};return f.jsxs(f.Fragment,{children:[f.jsx(Wn,{children:f.jsx("title",{children:"ALLCLL | 올클연습 - 세종대 수강신청 연습"})}),g(),f.jsxs("div",{className:"flex justify-between gap-5",children:[f.jsxs("div",{className:"flex gap-5",children:[f.jsx("h1",{className:"font-bold text-lg",children:"수강신청 연습"}),f.jsx(AW,{})]}),!a&&f.jsx("button",{className:"text-gray-600 hover:text-blue-500 cursor-pointer",onClick:x,children:"튜토리얼 활성화"})]}),f.jsx(LW,{}),f.jsxs("section",{className:"mt-4 ",children:[f.jsx("div",{className:"font-semibold pl-2 mb-2 border-l-4 border-blue-500",children:"수강 대상 교과목"}),f.jsx("div",{className:"overflow-x-auto min-h-[300px] border-gray-300",children:f.jsxs("table",{className:"w-full border border-gray-300 border-t-3 text-xs border-t-black text-center",children:[f.jsx(I4,{}),r.simulationStatus==="progress"&&u!=="waiting"?f.jsx(v4,{isRegisteredTable:!1}):f.jsx(Wp,{})]})})]}),f.jsxs("section",{className:"mt-4",children:[f.jsxs("div",{className:"w-full flex flex-col sm:flex-row sm:items-center justify-start gap-2 mb-2",children:[f.jsx("div",{className:"flex flex-col sm:flex-row items-baseline gap-2",children:f.jsx("span",{className:"font-semibold pl-2 border-l-4 border-blue-500",children:"수강 신청 내역"})}),f.jsxs("div",{className:"flex flex-row gap-2",children:[f.jsx("button",{className:"text-xs w-14 bg-blue-500 text-white px-2 py-0.5 rounded-xs cursor-pointer",onClick:s,children:"재조회"}),f.jsxs("div",{className:"text-xs font-bold text-black",children:["수강 가능 학점: 18 /",f.jsxs("span",{className:"text-blue-500",children:["신청 과목수: ",r.registeredSubjects.length," / 신청 학점수: ",p]})]})]})]}),f.jsx("div",{className:"overflow-x-auto min-h-[300px] border-gray-300",children:f.jsxs("table",{className:"w-full border border-gray-300 border-t-3 text-xs border-t-black text-center",children:[f.jsx(I4,{}),r.simulationStatus==="progress"&&u!=="waiting"?f.jsx(v4,{isRegisteredTable:!0}):f.jsx(Wp,{})]})})]})]})}uo.register(Kd,Gd,qd,Sv,Uu,G6,Qu,Hu);function hq({result:e}){const[t,n]=N.useState(!0),r=t?e.simulations.filter(g=>g.totalTime<=80&&g.searchBtnTime>0):e.simulations,i=r.map((g,x)=>`시뮬레이션 ${x+1}`),s=r.map(g=>g.searchBtnTime),o=r.map(g=>g.captchaTime-g.searchBtnTime),a=r.map(g=>g.subjectTime-g.captchaTime),u=r.map(g=>g.totalTime-g.subjectTime),c=r&&r.length<50?16:8,h={labels:i,datasets:[{type:"bar",label:"검색 버튼 시간",data:s,barThickness:c,backgroundColor:"rgba(75, 192, 192, 0.7)",stack:"Stack 0"},{type:"bar",label:"매크로 방지 인증 속도",data:o,barThickness:c,backgroundColor:"rgba(255, 99, 132, 0.7)",stack:"Stack 0"},{type:"bar",label:"과목 신청 시간",data:a,barThickness:c,backgroundColor:"rgba(54, 162, 235, 0.7)",stack:"Stack 0"},{type:"bar",label:"나머지 시간",data:u,barThickness:c,backgroundColor:"rgba(153, 102, 255, 0.7)",stack:"Stack 0"},{type:"line",label:"검색 완료",data:s,borderColor:"rgba(75, 192, 192, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(75, 192, 192, 1)",fill:!1,tension:.1},{type:"line",label:"매크로 완료",data:o,borderColor:"rgba(255, 99, 132, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(255, 99, 132, 1)",fill:!1,tension:.1},{type:"line",label:"과목 신청 완료",data:a,borderColor:"rgba(54, 162, 235, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(54, 162, 235, 1)",fill:!1,tension:.1},{type:"line",label:"총 소요 시간",data:u,borderColor:"rgba(153, 102, 255, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(153, 102, 255, 1)",fill:!1,tension:.1}]},p={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(g){const x=g.dataset.label||"",w=g.parsed.y;return`${x}: ${w.toFixed(2)}초`}}}},scales:{x:{title:{display:!0,text:"시뮬레이션"}},y:{stacked:!0,title:{display:!0,text:"시간 (초)"},ticks:{callback:function(g){return(ol(g)?g.toFixed(1):g)+"초"}}}}};return f.jsxs("div",{className:"w-full h-96 p-4 box-border",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("div",{}),f.jsxs("div",{className:"text-lg font-semibold",children:[f.jsx("input",{id:"normal-data",type:"checkbox",className:"cursor-pointer",onChange:g=>n(g.target.checked),checked:t}),f.jsx("label",{htmlFor:"normal-data",className:"text-sm pl-2 cursor-pointer",children:"이상치 제거"})]})]}),f.jsx("div",{className:"h-full pb-6 overflow-x-auto",children:f.jsx(n7,{type:"bar",data:h,options:p})})]})}function fq({result:e}){const{data:t}=co(),n=N.useMemo(()=>pq(t,e.subjects),[t,e]);return f.jsxs("table",{className:"min-w-full text-sm text-center text-nowrap",children:[f.jsx("thead",{className:"bg-gray-100 text-gray-600",children:f.jsxs("tr",{children:[f.jsx("th",{className:"py-2 px-2",children:"학수번호"}),f.jsx("th",{className:"py-2 px-2",children:"과목명"}),f.jsx("th",{className:"py-2 px-2",children:"교수명"}),f.jsx("th",{className:"py-2 px-2",children:"순위"}),f.jsx("th",{className:"py-2 px-2",children:"관심시간"}),f.jsx("th",{className:"py-2 px-2",children:"성공/실패"})]})}),f.jsx("tbody",{className:"text-gray-700",children:n.map(r=>f.jsxs("tr",{className:"border-t border-gray-200",children:[f.jsx("td",{className:"py-2 px-1",children:r.subjectCode+"-"+r.classCode}),f.jsx("td",{className:"py-2 px-1",children:r.subjectName}),f.jsx("td",{className:"py-2 px-1",children:r.professorName}),f.jsx("td",{className:"py-2 px-1",children:r.avgIndex}),f.jsx("td",{className:"py-2 px-1",children:r.avgCompletionTime.toFixed(2)+" sec"}),f.jsxs("td",{className:"py-2 px-2",children:[f.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-green-500",children:r.successCount}),"/",f.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-red-500",children:r.failedCount}),"/",f.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-gray-500",children:r.doubledCount}),"/",f.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-black",children:r.totalCount})]})]},r.subjectId))})]})}function pq(e,t){if(!t||!e)return[];const n=r=>e.find(i=>i.subjectId===r);return t.map(r=>{const i=n(r.subjectId);return{...r,subjectName:i?.subjectName||"",departmentName:i?.departmentName||"",departmentCode:i?.departmentCode||"",subjectCode:i?.subjectCode||"",classCode:i?.classCode||"",professorName:i?.professorName||null}})}function mq(){const e=Ju(async()=>{try{return await t8()}catch(r){return{error:r.message}}});if(e&&"error"in e)return f.jsxs("div",{className:"flex flex-col w-full items-center justify-center h-120 gap-3",children:[f.jsx(Ky,{className:"h-12 w-12"}),f.jsx("div",{className:"text-center text-gray-500",children:e.error}),f.jsx(Or,{to:"/simulation",className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 cursor-pointer",children:"수강 연습 시작하기"})]});const{simulations:t}=e||{simulations:[]},n=e?{user_ability:{searchBtnSpeed:t.reduce((r,i)=>r+i.searchBtnTime,0)/t.length||0,totalSpeed:t.reduce((r,i)=>r+i.totalTime/i.subjectCount,0)/t.length||0,accuracy:t.reduce((r,i)=>r+i.accuracy,0)/t.length||0,captchaSpeed:t.reduce((r,i)=>r+(i.captchaTime-i.searchBtnTime)/i.subjectCount,0)/t.length||0}}:void 0;return!n||!e?f.jsxs("div",{className:"flex flex-col w-full items-center justify-center h-120",children:[f.jsx("div",{className:"animate-spin h-16 w-16 mx-auto my-10",children:f.jsxs("svg",{className:"h-16 w-16 fill-transparent",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25 stroke-blue-500",cx:"12",cy:"12",r:"10",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75 fill-blue-500",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2.93 6.243A8.001 8.001 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3.93-1.695z"})]})}),f.jsxs("div",{className:"text-center text-gray-500 my-10",children:["수강 연습 데이터 분석 중입니다... ",f.jsx("br",{}),"잠시만 기다려주세요"]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex gap-3 flex-wrap",children:[f.jsx("div",{className:"relative flex-1 min-w-[240px]",children:f.jsx(jv,{result:n})}),f.jsx("div",{className:"flex-1 min-w-[240px] overflow-x-auto",children:f.jsx(fq,{result:e})})]}),f.jsx("div",{children:f.jsx(hq,{result:e})})]})}const gq=e=>N.createElement("svg",{width:26,height:26,viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M5.54964 1.99315C5.50209 1.17248 6.41035 0.64822 7.09733 1.0996L20.3806 9.83538C21.12 10.3219 20.9092 11.4586 20.0444 11.6476L15.7086 12.5948L21.1016 21.9358C21.3775 22.4141 21.2138 23.0258 20.7356 23.3019L17.8077 24.9923C17.3295 25.2684 16.7179 25.1043 16.4417 24.6263L11.0764 15.3334L8.21097 18.4797C7.61486 19.134 6.52521 18.7482 6.47343 17.8647L5.54964 1.99315Z",fill:"#0756FF"}));function yq(){return f.jsxs(f.Fragment,{children:[f.jsx("h1",{className:"text-2xl font-bold mb-2",children:"모의 수강 신청 로그"}),f.jsx("p",{className:"text-gray-500 mb-4",children:"수강 연습 결과를 상세히 분석해보세요."}),f.jsx(vq,{})]})}function vq(){const e=Ju(aW),t=e?e.snapshots:[],n=e===void 0,r=e===null;return n?f.jsx("div",{className:"flex justify-center items-center h-64",children:f.jsx("span",{className:"text-gray-500",children:"로딩 중..."})}):r?f.jsx("div",{className:"flex justify-center items-center h-64",children:f.jsx("span",{className:"text-red-500",children:"오류가 발생했습니다"})}):t.length?t.map(i=>f.jsxs(Or,{to:`/simulation/logs/${i.simulation_run_id}`,className:"flex items-center justify-between bg-white p-3 rounded-md text-sm shadow-md shadow-gray-300 mb-2 hover:bg-gray-100",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("p",{className:"hidden",children:"id"}),f.jsx("span",{className:"font-bold",children:i.simulation_run_id}),f.jsx("p",{className:"hidden",children:"학과"}),f.jsx("span",{children:i.department_name?i.department_name.split(" ")[i.department_name.split(" ").length-1]:"학과 정보 없음"})]}),f.jsxs("div",{className:"flex items-center text-center",children:[f.jsxs("div",{className:"",children:[f.jsx("p",{className:"text-xs",children:"정확도 "}),f.jsxs("span",{className:"text-sm font-bold",children:[i.accuracy,"%"]})]}),f.jsxs("div",{className:"flex items-center justify-end gap-1 w-20",children:[f.jsx("p",{className:"hidden",children:"점수"}),f.jsx(gq,{className:"w-4 h-4"}),f.jsx("span",{className:"font-bold",children:i.score.toFixed(3)})]})]})]},"simulation-log-"+i.simulation_run_id)):f.jsx("div",{className:"flex justify-center items-center",children:f.jsx("span",{className:"text-gray-500",children:"로그가 없습니다"})})}function xq(){return f.jsxs(f.Fragment,{children:[f.jsx(Wn,{children:f.jsx("title",{children:"ALLCLL | 올클연습 - 결과 분석"})}),f.jsxs("section",{className:"max-w-7xl mx-auto",children:[f.jsx("h1",{className:"text-2xl font-bold mb-2",children:"수강신청 결과"}),f.jsx("p",{className:"text-gray-500 mb-4",children:"수강연습 결과를 분석 후, 부족한 부분을 알려 드려요."}),f.jsx("div",{className:"bg-white p-3 rounded-md text-sm shadow-md shadow-gray-300",children:f.jsx(mq,{})})]}),f.jsx("section",{className:"max-w-3xl mx-auto mt-12",children:f.jsx(yq,{})})]})}const Rd=32,R4=200;function bq({result:e}){const t=Tq(e),n=(e.ended_at-e.started_at)/1e3,r=Array.from({length:Math.floor(n)+5},(i,s)=>s+1);return f.jsxs("div",{className:"relative",children:[f.jsxs("div",{className:"relative overflow-x-auto overflow-y-hidden",children:[f.jsx("div",{className:"absolute top-0 flex h-full",style:{left:`${R4}px`},children:r.map(i=>f.jsx("div",{className:"border-r border-gray-200 relative",style:{width:`${Rd}px`},children:f.jsx("span",{className:"absolute bottom-0 text-xs text-gray-400 left-1/2 -translate-x-1/2",children:i})},i))}),t.map((i,s)=>f.jsxs("div",{className:"flex items-center",style:{width:`${Rd*r.length}px`},children:[f.jsxs("div",{className:"py-2 text-sm md:sticky left-0 right-0 z-10 bg-white",style:{width:`${R4}px`},children:[f.jsx("div",{className:`font-semibold ${jq(i.color)}`,children:i.name}),f.jsx("span",{className:`text-xs ${kq(i.color)}`,children:i.code})]}),f.jsx("div",{className:"flex-1 relative h-8",children:f.jsx(wq,{timelines:i.timelines})})]},"timeline-row-"+s))]}),f.jsx("div",{className:"pointer-events-none absolute inset-y-4 left-0 md:left-[200px] w-3 bg-gradient-to-r from-white to-transparent"}),f.jsx("div",{className:"pointer-events-none absolute inset-y-4 right-0 w-3 bg-gradient-to-l from-white to-transparent"})]})}function wq({timelines:e}){return e.map((t,n)=>{const r=t.start*Rd-12,i=t.duration*Rd+24;return f.jsx("div",{className:`absolute top-1 h-6 rounded-full px-3 ${Sq(t.color)}`,style:{left:`${r}px`,width:`${i}px`},children:t.events.map((s,o)=>f.jsx(_q,{event:s,startAt:t.start,color:t.color},"timeline-dot-"+o))},"timeline-bar-"+n)})}function _q({event:e,startAt:t,color:n}){const r=(e.start-t)*Rd+6;return f.jsxs("div",{className:"absolute top-1.5",style:{left:`${r}px`},children:[f.jsx("div",{className:`w-3 h-3 bg-white border-2 rounded-full ${Cq(n)}`}),f.jsx("div",{className:"relative group cursor-pointer z-10",children:f.jsxs("div",{className:"absolute w-30 -top-10 left-1/2 -translate-x-1/2 bg-black text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition",children:[Eq(e.event),f.jsx("br",{}),(e.duration+t).toFixed(2)," sec"]})})]})}function Sq(e){switch(e){case"green":return"bg-green-100 border-green-500 text-green-700";case"red":return"bg-red-100 border-red-500 text-red-700";case"orange":return"bg-orange-100 border-orange-500 text-orange-700";case"yellow":return"bg-yellow-100 border-yellow-500 text-yellow-700";default:return"bg-gray-100 border-gray-500 text-gray-700"}}function Cq(e){switch(e){case"green":return"border-green-500 text-green-500";case"red":return"border-red-500 text-red-500";case"orange":return"border-orange-500 text-orange-500";case"yellow":return"border-yellow-500 text-yellow-500";default:return"border-gray-500 text-gray-500"}}function kq(e){switch(e){case"green":return"text-green-500";case"red":return"text-red-500";case"orange":return"text-orange-500";case"yellow":return"text-yellow-500";default:return"text-gray-500"}}function jq(e){switch(e){case"green":return"text-green-600";case"red":return"text-red-600";case"orange":return"text-orange-600";case"yellow":return"text-yellow-600";default:return"text-gray-600"}}function Eq(e){switch(e){case Mn.SEARCH:return"검색 버튼 클릭";case Mn.APPLY:return"신청 버튼 클릭";case Mn.CAPTCHA:return"코드 입력 버튼 클릭";case Mn.SUBJECT_SUBMIT:return"수강 신청 버튼 클릭";case Mn.SKIP_REFRESH:return"재조회 취소";case Mn.REFRESH:return"재조회 버튼 클릭";case Mn.CANCEL_SUBMIT:return"수강 신청 취소"}}function Tq(e){const{timeline:t,started_at:n,subject_results:r}=e;return r.map(i=>({name:i.subjectInfo?.subjectName,code:i.subjectInfo?.subjectCode+"-"+i.subjectInfo?.classCode,color:X1(i.status),timelines:t.filter(s=>s.subject_id===i.subject_id).map(s=>({color:X1(s.status),start:(s.started_at-n)/1e3,duration:(s.ended_at-s.started_at)/1e3,events:s.events.reduce((o,a,u)=>[...o,{event:a.event,duration:u==0?0:(a.timestamp-s.events[u-1].timestamp)/1e3,start:(a.timestamp-n)/1e3}],[])}))}))}function Nq({result:e}){const{subject_results:t,started_at:n}=e;return f.jsxs("table",{className:"min-w-full text-sm text-center text-nowrap",children:[f.jsx("thead",{className:"bg-gray-100 text-gray-600",children:f.jsxs("tr",{children:[f.jsx("th",{className:"py-2 px-2",children:"학수번호"}),f.jsx("th",{className:"py-2 px-2",children:"과목명"}),f.jsx("th",{className:"py-2 px-2",children:"교수명"}),f.jsx("th",{className:"py-2 px-2",children:"순위"}),f.jsx("th",{className:"py-2 px-2",children:"관심시간"}),f.jsx("th",{className:"py-2 px-2",children:"성공/실패"})]})}),f.jsx("tbody",{className:"text-gray-700",children:t.map(r=>f.jsxs("tr",{className:"border-t border-gray-200",children:[f.jsx("td",{className:"py-2 px-1",children:r.subjectInfo?.subjectCode+"-"+r.subjectInfo?.classCode}),f.jsx("td",{className:"py-2 px-1",children:r.subjectInfo?.subjectName}),f.jsx("td",{className:"py-2 px-1",children:r.subjectInfo?.professorName}),f.jsx("td",{className:"py-2 px-1",children:r.selected_index}),f.jsx("td",{className:"py-2 px-1",children:((r.ended_at-n)/1e3).toFixed(2)+" sec"}),f.jsx("td",{className:"py-2 px-2",children:f.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${XD(r.status)}`,children:r.status===Wt.SUCCESS?"성공":"실패"})})]},"subject-detail-row-"+r.subject_id))})]})}function Pq(){const{runId:e}=s_(),{data:t}=wl(),n=Ju(()=>lW(Number(e))),r=N.useMemo(()=>Oq(t,n),[t,n]);return f.jsxs(f.Fragment,{children:[f.jsx(Wn,{children:f.jsx("title",{children:"ALLCLL | 올클연습 - 결과 분석 상세"})}),f.jsx("h1",{className:"text-2xl font-bold mb-6",children:"모의 수강 신청 로그"}),f.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"relative bg-white p-6 rounded-2xl shadow-sm",children:[f.jsx("h2",{className:"text-lg font-semibold mb-4",children:"사용자 능력 분석"}),r?f.jsx(jv,{result:r}):f.jsx("div",{className:"text-center text-gray-500",children:"데이터를 불러오는 중입니다..."})]}),f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm overflow-x-auto",children:[f.jsx("h2",{className:"text-lg font-semibold mb-4 min-w-[240px] overflow-x-auto",children:"과목 별 분석"}),r?f.jsx(Nq,{result:r}):f.jsx("div",{className:"text-center text-gray-500",children:"데이터를 불러오는 중입니다..."})]})]}),f.jsxs("section",{className:"bg-white p-6 rounded-2xl shadow-sm",children:[f.jsx("div",{className:"flex items-start justify-between mb-4",children:f.jsx("h2",{className:"text-lg font-semibold mb-4",children:"내 모의 수강 신청 별 TimeLine"})}),r?f.jsx(bq,{result:r}):f.jsx("div",{className:"text-center text-gray-500",children:"데이터를 불러오는 중입니다..."})]})]})}function Oq(e,t){if(!(!t||!e))return{...t,timeline:t.timeline.map(n=>({...n,subjectInfo:ky(e,n.subject_id)})),subject_results:t.subject_results.map(n=>({...n,subjectInfo:ky(e,n.subject_id)}))}}const Lq=["interested_snapshot","interested_subject","simulation_run","simulation_run_selections","simulation_run_events"];async function Aq(){Lm();const e={interested_snapshot:await He.interested_snapshot.toArray(),interested_subject:await He.interested_subject.toArray(),simulation_run:await He.simulation_run.toArray(),simulation_run_selections:await He.simulation_run_selections.toArray(),simulation_run_events:await He.simulation_run_events.toArray()},t=new Blob([JSON.stringify(e)],{type:"application/json"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="db-backup.json",r.click(),URL.revokeObjectURL(n)}async function Dq(){Lm();const e=await He.simulation_run.filter(h=>h.ended_at===-1).last();if(!e)throw new Error("진행중인 시뮬레이션이 없습니다.");const t=await He.simulation_run_selections.where("simulation_run_id").equals(e.simulation_run_id).toArray(),n=t.map(h=>h.run_selections_id),r=await He.simulation_run_events.filter(h=>n.includes(h.simulation_section_id)).toArray(),i=await He.interested_snapshot.where("snapshot_id").equals(e.snapshot_id).toArray(),s=await He.interested_subject.where("snapshot_id").equals(e.snapshot_id).toArray(),o={simulation_run:[e],simulation_run_selections:t,simulation_run_events:r,interested_snapshot:i,interested_subject:s},a=new Blob([JSON.stringify(o)],{type:"application/json"}),u=URL.createObjectURL(a),c=document.createElement("a");c.href=u,c.download="ongoing-simulation.json",c.click(),URL.revokeObjectURL(u)}async function Iq(e){Lm();const t=await e.text(),n=JSON.parse(t);await He.transaction("rw",He.interested_snapshot,He.interested_subject,async()=>{await He.interested_snapshot.clear(),await He.interested_subject.clear(),await He.interested_snapshot.bulkAdd(n.interested_snapshot||[]),await He.interested_subject.bulkAdd(n.interested_subject||[])}),await He.transaction("rw",He.simulation_run,He.simulation_run_selections,He.simulation_run_events,async()=>{await He.simulation_run.clear(),await He.simulation_run_selections.clear(),await He.simulation_run_events.clear(),await He.simulation_run.bulkAdd(n.simulation_run||[]),await He.simulation_run_selections.bulkAdd(n.simulation_run_selections||[]),await He.simulation_run_events.bulkAdd(n.simulation_run_events||[])})}async function Rq(){Lm(),await He.transaction("rw",He.interested_snapshot,He.interested_subject,async()=>{await He.interested_snapshot.clear(),await He.interested_subject.clear()}),await He.transaction("rw",He.simulation_run,He.simulation_run_selections,He.simulation_run_events,async()=>{await He.simulation_run.clear(),await He.simulation_run_selections.clear(),await He.simulation_run_events.clear()})}function Lm(){const e=He.tables.map(n=>n.name).sort(),t=[...Lq].sort();if(JSON.stringify(e)!==JSON.stringify(t))throw new Error(`DB 스키마가 예상과 다릅니다: ${e.join(", ")}`)}const Mq=()=>{const[e,t]=N.useState(null),n=u=>{u.target.files&&t(u.target.files[0])},r=async()=>{try{await Aq(),alert("Backup completed successfully.")}catch(u){console.error(u),alert("Failed to backup the database.")}},i=async()=>{try{await Dq(),alert("Backup completed successfully.")}catch(u){console.error(u),alert(u)}},s=async()=>{if(e)try{await Iq(e),alert("Restore completed successfully.")}catch(u){console.error(u),alert("Failed to restore the database.")}else alert("Please select a file to restore.")},o=async()=>{try{await Rq(),alert("Database cleared successfully."),window.location.href="/simulation"}catch(u){console.error(u),alert("Failed to delete the database.")}},a=async()=>{try{await rl(),window.location.href="/simulation"}catch(u){console.error(u),alert("Failed to delete the database.")}};return f.jsxs(f.Fragment,{children:[f.jsx(Wn,{children:f.jsx("title",{children:"ALLCLL | 올클연습 - 데이터 베이스 관리"})}),f.jsxs("div",{className:"max-w-4xl min-h-screen mx-auto p-8 space-y-6",children:[f.jsx("h2",{className:"text-2xl font-semibold text-center text-gray-900",children:"데이터베이스 관리"}),f.jsxs("div",{className:"flex justify-center gap-5",children:[f.jsx("button",{onClick:i,className:"bg-slate-200 cursor-pointer text-gray-800 px-6 py-3 rounded-md shadow-md hover:bg-slate-400 hover:text-white transition-colors",children:"진행중인 시뮬레이션 내보내기"}),f.jsx("button",{onClick:a,className:"w-full md:w-auto bg-blue-600 cursor-pointer text-white px-6 py-3 rounded-md shadow-md hover:bg-blue-700 transition-colors",children:"시뮬레이션 중지"})]}),f.jsxs("div",{className:"flex justify-center gap-5",children:[f.jsx("button",{onClick:r,className:"bg-gray-100 cursor-pointer text-gray-800 px-6 py-3 rounded-md shadow-md hover:bg-gray-400 hover:text-white transition-colors",children:"전체 데이터베이스 내보내기"}),f.jsx("button",{onClick:o,className:"bg-red-600  cursor-pointer text-white px-6 py-3 rounded-md shadow-md hover:bg-red-700 hover:text-white transition-colors",children:"데이터 초기화"})]}),f.jsxs("div",{className:"flex items-center space-x-4 justify-center",children:[f.jsx("input",{type:"file",accept:".json",onChange:n,className:"block w-full md:w-80 cursor-pointer text-sm text-gray-700 py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500"}),f.jsx("button",{onClick:s,className:"bg-white cursor-pointer text-gray-800 px-6 py-3 rounded-md shadow-md hover:bg-gray-400 hover:text-white transition-colors",children:"데이터베이스 불러오기"})]})]})]})},Fq=()=>f.jsxs(f.Fragment,{children:[f.jsx(Wn,{children:f.jsx("title",{children:"ALLCLL | 올클연습 - 관심 과목"})}),f.jsx("section",{className:"border p-2 text-xs",children:f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsx("div",{className:"flex gap-8 h-10"}),f.jsxs("div",{className:"flex justify-between",children:[f.jsxs("div",{className:"flex gap-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"font-bold",children:"검색구분"}),f.jsx("select",{className:"border-gray-300 border px-2 py-1 w-48 disabled:bg-gray-100",disabled:!0,children:f.jsx("option",{children:"주전공검색"})})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"font-bold",children:"주전공검색"}),f.jsx("select",{className:"border-gray-300 border px-2 py-1 w-48 disabled:bg-gray-100",disabled:!0,children:f.jsx("option",{children:"학부"})}),f.jsx("select",{className:"cursor-pointer border px-2 py-1 w-120 border-gray-300 bg-white",onChange:()=>{},children:f.jsx("option",{value:"none",children:"전체 학과"})})]})]}),f.jsx("button",{className:"px-4 py-2 rounded text-white bg-gray-700 hover:bg-gray-800 cursor-pointer",children:"검색"})]})]})}),f.jsxs("section",{className:"grid grid-cols-2 gap-5 ",children:[f.jsxs("div",{children:[f.jsx("div",{className:"font-semibold pl-2 mb-2 border-l-4 border-blue-500",children:"관심과목 대상 교과목"}),f.jsx("div",{className:"overflow-x-scroll min-h-[1000px] border-gray-300",children:f.jsxs("table",{className:"min-w-[1200px] text-center border border-gray-300 border-t-3 border-t-black text-xs",children:[f.jsx("thead",{className:"bg-gray-100",children:f.jsx("tr",{children:["순번","신청","학수번호","분반","개설학과","교과목명","수업계획서","강의언어","학점/이론/실습","이수","학년","시간표","인원보기"].map((e,t)=>f.jsx("th",{className:"border border-gray-300 px-2 py-1 ",children:e},t))})}),f.jsx("tbody",{children:f.jsx(Wp,{})})]})})]}),f.jsx("div",{children:f.jsxs("div",{className:"overflow-x-auto min-h-[1000px] border-gray-300",children:[f.jsxs("div",{className:"flex flex-row gap-3 items-center pl-2 mb-2 border-l-4 border-blue-500",children:[f.jsx("p",{className:"font-semibold",children:"관심과목 내역"}),f.jsx("button",{className:"text-xs bg-blue-500 text-white px-2 py-0.5 rounded-xs cursor-pointer",children:"재조회"}),f.jsx("button",{className:"text-xs bg-gray-700 text-white px-2 py-0.5 rounded-xs cursor-pointer",children:"관심과목 목록"}),f.jsx("button",{className:"text-xs bg-gray-700 text-white px-2 py-0.5 rounded-xs cursor-pointer",children:"예상시간표"})]}),f.jsxs("div",{className:"flex gap-4 w-full mb-2",children:[f.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[f.jsx("span",{className:"font-semibold whitespace-nowrap",children:"등록 가능 학점"}),f.jsx("input",{type:"text",disabled:!0,value:"24",className:"w-full px-4 py-1 border border-gray-300 rounded bg-white-100 text-center"})]}),f.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[f.jsx("span",{className:"font-semibold whitespace-nowrap",children:"등록과목수:"}),f.jsx("input",{type:"text",disabled:!0,value:"",className:"w-full px-4 py-1 border border-gray-300 rounded bg-white-100 text-center"})]}),f.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[f.jsx("span",{className:"font-semibold whitespace-nowrap",children:"등록학점:"}),f.jsx("input",{type:"text",disabled:!0,value:"",className:"w-full px-4 py-1 border border-gray-300 rounded bg-white-100 text-center"})]})]}),f.jsxs("table",{className:"min-w-[1200px] text-center border border-gray-300 border-t-3 border-t-black text-xs",children:[f.jsx("thead",{className:"bg-gray-100",children:f.jsx("tr",{children:["순번","삭제","폐강여부","재수강","학수번호","분반","개설학과","교과목명","수업계획서","강의언어","학점/이론/실습","이수","학년","시간표","인원보기"].map((e,t)=>f.jsx("th",{className:"border border-gray-300 px-2 py-1",children:e},t))})}),f.jsx("tbody",{children:f.jsx("tr",{children:f.jsx("td",{colSpan:13,className:"text-gray-400 py-4",children:f.jsx("div",{className:"min-h-[500px] flex items-center justify-center ",children:f.jsx("p",{className:"bg-stone-100 px-4 py-1 border",children:"조회된 내역이 없습니다."})})})})})]})]})})]})]}),Bq=({timetables:e,onSelect:t,onEdit:n,onDelete:r,openCreateModal:i})=>{const s=N.useRef(null),o=vt(p=>p.currentTimetable),a=vt(p=>p.pickTimetable),u=p=>{a(p),t(p.timeTableId)},c=p=>{n&&n("",p)},h=p=>{r&&r(p)};return f.jsx("div",{className:"relative inline-block w-full max-w-sm",ref:s,children:f.jsx(f.Fragment,{children:f.jsxs(ix,{label:o?.timeTableName??"새 시간표",selected:o?.timeTableId>-1,className:"gap-4 max-w-20 max-h-80 overflow-y-auto",children:[e.length===0&&f.jsx("div",{children:" 새로운 시간표를 추가해주세요."}),e.length!==0&&e.map(p=>f.jsxs("div",{className:"flex gap-5",children:[f.jsx(rx,{label:p.timeTableName,checked:o.timeTableId===p.timeTableId,onChange:()=>u(p)},p.timeTableId),o.timeTableId===p.timeTableId&&f.jsxs("div",{className:"flex gap-4 text-sm",children:[f.jsx("button",{className:"text-stone-500 text-sm hover:text-stone-600 font-medium cursor-pointer",onClick:()=>c(p.timeTableId),children:"수정"}),f.jsx("button",{className:"text-red-500  text-sm  hover:text-red-600 font-medium cursor-pointer",onClick:()=>h(p.timeTableId),children:"삭제"})]})]},p.timeTableName+p.timeTableId)),f.jsx("button",{className:"flex justify-center text-gray-500 text-sm hover:font-bold",onClick:i,children:"+ 시간표 추가하기"})]})})})},zq=e=>N.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M7.18066 10.5625C7.88416 10.5629 8.47281 11.0824 8.63086 11.7812H14.625C14.8321 11.7812 15 11.9491 15 12.1562C15 12.3634 14.8321 12.5312 14.625 12.5312H8.63086C8.47281 13.2301 7.88416 13.7496 7.18066 13.75C6.47688 13.75 5.88776 13.2303 5.72949 12.5312H1.375C1.16789 12.5312 1 12.3634 1 12.1562C1 11.9491 1.16789 11.7812 1.375 11.7812H5.72949C5.88776 11.0822 6.47688 10.5625 7.18066 10.5625ZM7.18066 11.2812C6.72774 11.2812 6.36035 11.673 6.36035 12.1562C6.36035 12.6395 6.72774 13.0312 7.18066 13.0312C7.63324 13.0308 8 12.6392 8 12.1562C8 11.6733 7.63324 11.2817 7.18066 11.2812ZM11.7197 6.40625C12.4233 6.40647 13.0117 6.92611 13.1699 7.625H14.625C14.8321 7.625 15 7.79289 15 8C15 8.20711 14.8321 8.375 14.625 8.375H13.1699C13.0117 9.0739 12.4233 9.59353 11.7197 9.59375C11.0161 9.59356 10.4277 9.07393 10.2695 8.375H1.375C1.16789 8.375 1 8.20711 1 8C1 7.79289 1.16789 7.625 1.375 7.625H10.2695C10.4277 6.92608 11.0161 6.40644 11.7197 6.40625ZM11.7197 7.125C11.267 7.12523 10.9004 7.51689 10.9004 8C10.9004 8.48311 11.267 8.87477 11.7197 8.875C12.1724 8.87474 12.54 8.48309 12.54 8C12.54 7.51691 12.1724 7.12526 11.7197 7.125ZM5.07129 2.25C5.77489 2.2502 6.36337 2.76981 6.52148 3.46875H14.625C14.8321 3.46875 15 3.63664 15 3.84375C15 4.05086 14.8321 4.21875 14.625 4.21875H6.52148C6.36337 4.91769 5.77489 5.43729 5.07129 5.4375C4.36758 5.43737 3.77832 4.9178 3.62012 4.21875H1.375C1.16789 4.21875 1 4.05086 1 3.84375C1 3.63664 1.16789 3.46875 1.375 3.46875H3.62012C3.77832 2.7697 4.36758 2.25013 5.07129 2.25ZM5.07129 2.96875C4.61849 2.9689 4.25098 3.36059 4.25098 3.84375C4.25098 4.32691 4.61849 4.7186 5.07129 4.71875C5.52402 4.71852 5.89062 4.32686 5.89062 3.84375C5.89062 3.36064 5.52402 2.96898 5.07129 2.96875Z",fill:"#9CA3AF"}));function $q(){const{openScheduleModal:e}=br(),t=new Lr().toUiData();return f.jsxs("div",{className:"flex flex-col gap-2 pt-5 w-full items-center justify-center",children:[f.jsx(Jd,{className:"w-7 h-7"}),f.jsx("p",{className:"text-md text-gray-500",children:"검색 결과가 없습니다."}),f.jsx("span",{className:"text-xs text-gray-400",children:"찾으시는 과목이 없으신가요? 과목을 직접 등록해주세요."}),f.jsx("button",{className:"bg-blue-500 text-white text-sm px-4 py-1 rounded-lg  hover:bg-blue-500 cursor-pointer justify-center items-center",onClick:()=>e(t),children:"등록하기"})]})}function a8({subjects:e,expandToMax:t,isPending:n=!1}){const{visibleRows:r,loadMoreRef:i}=Cm(e,"ref"),s=N.useRef(null),o=vt(h=>h.schedule.subjectId),{openScheduleModal:a,cancelSchedule:u}=br();if(n||!e)return f.jsx("div",{className:"w-full h-10"});if(!e.length)return f.jsx($q,{});const c=h=>{if(o===h.subjectId){u(void 0,!1);return}const p=new Lr({...new Lr().toApiData(),scheduleType:"official",subjectId:h.subjectId??-1},h);a(p.toUiData()),console.log("official",o);const w=new Qd(h.lesnTime).toUiData(9)[0]?.top;t&&(t(),setTimeout(()=>{if(w){const S=parseFloat(w);window.scrollTo({top:S,behavior:"smooth"})}},400))};return f.jsxs("div",{className:"flex flex-col gap-2",children:[e.slice(0,r).map(h=>{const p=o===h.subjectId;return f.jsx(Uq,{subject:h,isActive:p,onClick:()=>c(h),forwardedRef:p?s:void 0},h.subjectId)}),r<e.length&&f.jsx("div",{ref:i,className:"load-more-trigger w-full h-10"})]})}function Uq({isActive:e,subject:t,onClick:n,forwardedRef:r}){const i=e?"text-blue-500 bg-blue-50":"text-gray-700 bg-white hover:bg-gray-50",{saveSchedule:s}=br(),{selectTargetOnly:o}=nh(),a=u=>{s(u,!1),o(t.subjectId),_m(t.deptCd)};return f.jsxs("div",{className:`border border-gray-200 rounded-lg p-3 sm:p-4 gap-2 sm:gap-3 flex flex-col cursor-pointer ${i}`,onClick:n,ref:r,children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h3",{className:"text-sm sm:text-lg font-semibold",children:t.subjectName}),f.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:t.professorName})]}),f.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:t.lesnTime}),f.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:t.lesnRoom}),f.jsxs("span",{className:"text-xs sm:text-sm text-gray-500",children:[t.studentYear,"학년/",t.manageDeptNm]}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{className:`w-fit rounded-xl flex items-center text-xs sm:text-sm text-gray-500 ${e?"":"bg-gray-100 px-2 py-0.5 sm:px-2.5 sm:py-0.5"}`,children:[t.tmNum[0],"학점"]}),e&&f.jsx("button",{onClick:a,className:"bg-blue-500 border-none cursor-pointer rounded-xl px-2 py-0.5 sm:px-2.5 sm:py-1 text-white text-xs sm:text-sm hover:bg-blue-600",children:"추가하기"})]})]})}const M4={selectedDepartment:"",selectedGrades:[],isMajor:void 0,selectedDays:[],selectedTimeRange:{startHour:"9",startMinute:"00",endHour:"10",endMinute:"00"}},so=nr((e,t)=>({...M4,setFilterSchedule:(n,r)=>e(i=>({...i,[n]:r})),resetFilterSchedule:()=>e(M4),getFilterSchedule:()=>{const n=t(),{setFilterSchedule:r,resetFilterSchedule:i,getFilterSchedule:s,...o}=n;return o}}));function Hq({onCloseSearch:e}){const[t,n]=N.useState(""),{data:r=[],isPending:i}=ra(),{openScheduleModal:s,cancelSchedule:o}=br(),{selectedDays:a,selectedDepartment:u,selectedGrades:c}=so(),h=N.useDeferredValue(Gu({subjects:r,searchKeywords:t,selectedDays:a,selectedDepartment:u,selectedGrades:c})),p=new Lr().toUiData();return f.jsx(rh,{children:({expandToMax:g})=>f.jsxs(f.Fragment,{children:[f.jsx(ih,{title:"과목검색",headerType:"add",onClose:o,onClick:()=>s(p)}),f.jsxs("div",{className:"sticky px-2 top-0 bg-white z-10 flex items-center gap-2 py-3",children:[f.jsx(vl,{type:"text",placeholder:"과목명 및 교수명 검색",value:t,onChange:x=>n(x.target.value),onDelete:()=>n(""),className:"pl-10 pr-6 py-2 rounded-md w-full bg-white border border-gray-400 text-[16px]"}),f.jsx("button",{className:"w-20 justify-center flex cursor-pointer",onClick:()=>e("filter"),children:f.jsx(zq,{className:"w-6 h-6"})})]}),f.jsx("div",{className:"max-h-[70vh] min-h-0 px-2 overflow-y-auto touch-auto flex flex-col",children:f.jsx(a8,{expandToMax:g,subjects:h,isPending:i})})]})})}const np=[1,2,3,4],rp=["월","화","수","목","금"];function Qq(){const{data:e}=Vu(),{openBottomSheet:t,closeBottomSheet:n}=es(),{selectedDepartment:r,selectedGrades:i,selectedDays:s,setFilterSchedule:o,resetFilterSchedule:a}=so(),u=(r.length||i.length||s.length)>0;function c(p,g){return p.includes(g)?p.filter(x=>x!==g):[...p,g]}const h=()=>{n("filter"),t("search")};return f.jsxs(rh,{children:[f.jsx(ih,{headerType:"close",title:"필터링",onClose:()=>{n("filter"),t("search")}}),f.jsxs("section",{className:"w-full flex flex-col px-4 gap-5",children:[f.jsxs("div",{className:"w-full  h-15 flex gap-2 flex-col justify-center mt-2",children:[f.jsx("label",{className:"text-xs text-gray-500",children:"학과"}),f.jsx("div",{className:"w-full flex flex-col gap-2 justify-center",children:f.jsxs("select",{className:"cursor-pointer border border-gray-300 rounded-sm px-2 py-1 w-full bg-white text-sm",value:r,onChange:p=>o("selectedDepartment",p.target.value),children:[f.jsx("option",{value:"",children:"전체"}),e?.map(p=>f.jsx("option",{value:p.departmentCode,children:p.departmentName},p.departmentCode))]})})]}),f.jsxs("div",{className:"w-full h-15 flex gap-2 flex-col justify-center",children:[f.jsx("label",{className:"text-xs text-gray-500",children:"학년"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Oi,{label:"전체",selected:i.length===np.length,onClick:()=>{const p=i.length===np.length;o("selectedGrades",p?[]:np)}}),np.map(p=>f.jsx(Oi,{label:`${p}학년`,selected:i.includes(p),onClick:()=>o("selectedGrades",c(i,p))}))]})]}),f.jsxs("div",{className:"w-full h-15 flex gap-2 flex-col justify-center",children:[f.jsx("label",{className:"text-xs text-gray-500",children:"요일"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Oi,{label:"전체",selected:s.length===rp.length,onClick:()=>{const p=s.length===rp.length;o("selectedDays",p?[]:rp)}}),rp.map(p=>f.jsx(Oi,{label:p,selected:s.includes(p),onClick:()=>o("selectedDays",c(s,p))},p))]})]}),f.jsxs("div",{className:"flex justify-end items-center gap-3 mt-5",children:[u&&f.jsx("button",{className:"text-xs text-blue-500 hover:text-blue-600 hover:underline cursor-pointer",onClick:a,children:"필터 초기화"}),f.jsx("button",{onClick:h,type:"submit",className:"bg-blue-500 font-semibold text-xs w-15 text-white rounded px-4 py-2 cursor-pointer ",children:"저장"})]})]})]})}function l8({label:e,required:t,id:n,...r}){return f.jsxs("div",{className:"h-12 w-full flex flex-col",children:[e&&f.jsx("label",{htmlFor:n,className:`text-xs  text-gray-400 after:ml-0.5 ${t?'after:content-["*"] after:text-red-500':""}`,children:e}),f.jsx("input",{id:n,required:t,...r,className:"text-[16px] placeholder:text-gray-400 placeholder:text-sm w-full m-2 bg-transparent focus:outline-none border-b border-gray-200 focus:border-blue-500 focus:border-b-2"})]})}const ip=Array.from({length:24},(e,t)=>`${t}`),sp=["00","10","20","30","40","50"];function Vq({timeRange:e,onChange:t,day:n}){const r=(i,s)=>{if(n){t(i,s,n);return}t(i,s)};return f.jsx("div",{className:" w-full h-3 flex gap-2 flex-col justify-center",children:f.jsxs("div",{className:"relative w-full flex gap-2 flex-wrap",children:[f.jsx("select",{name:"startHour",value:e.startHour??ip[8],onChange:i=>r("startHour",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:ip.map(i=>f.jsx("option",{value:i,children:i},i))}),f.jsx("select",{name:"startMinute",value:e.startMinute??sp[0],onChange:i=>r("startMinute",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:sp.map(i=>f.jsx("option",{value:i,children:i},i))}),f.jsx("span",{className:"text-gray-400 text-sm mx-1",children:"~"}),f.jsx("select",{name:"endHour",value:e.endHour??ip[9],onChange:i=>r("endHour",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:ip.map(i=>f.jsx("option",{value:i,children:i},i))}),f.jsx("select",{name:"endMinute",value:e.endMinute??sp[0],onChange:i=>r("endMinute",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:sp.map(i=>f.jsx("option",{value:i,children:i},i))})]})})}function u8(){const{schedule:e,modalActionType:t}=Ud(),{editSchedule:n,saveSchedule:r,deleteSchedule:i,cancelSchedule:s}=br(),o=es(S=>S.openBottomSheet),a=vt(S=>S.options.isMobile),u=[{id:"subjectName",name:"과목명",value:e?.subjectName??""},{id:"professorName",name:"교수명",value:e?.professorName??""},{id:"location",name:"장소",value:e?.location??""}],c=(S,C)=>{const[E,L]=S.split(":"),[A,B]=C.split(":");return{startHour:E,startMinute:L,endHour:A,endMinute:B}},h=S=>{const C=e.timeSlots.find(E=>E.dayOfWeeks===S);n(C?E=>({...E,timeSlots:E.timeSlots.filter(L=>L.dayOfWeeks!==S)}):E=>({...E,timeSlots:[...E.timeSlots,{dayOfWeeks:S,startTime:"",endTime:""}]}))},p=(S,C,E)=>{const L=B=>{let[$,P]=B.split(":").map(Number);return isNaN($)&&($=9),isNaN(P)&&(P=0),[$.toString(),P.toString().padStart(2,"0")]},A=B=>{const[$,P]=L(B);return`${$}:${P}`};n(B=>{const $=B.timeSlots.map(P=>{if(console.log(P),P.dayOfWeeks!==E)return P;const[M,H]=L(P.startTime),[Q,F]=L(P.endTime);let ae=P.startTime,le=P.endTime;return S==="startHour"&&(ae=`${C}:${H}`),S==="startMinute"&&(ae=`${M}:${C}`),S==="endHour"&&(le=`${C}:${F}`),S==="endMinute"&&(le=`${Q}:${C}`),{...P,startTime:A(ae),endTime:A(le)}});return{...B,timeSlots:$}})},g=S=>{r(S)},x=S=>{i(S)},w=()=>{s(),o("search")};return f.jsxs("form",{onSubmit:g,className:"flex flex-col gap-5",children:[u.map(({id:S,name:C,value:E})=>f.jsx("div",{className:"flex gap-6",children:f.jsx(l8,{id:S,placeholder:`${C}을 입력해주세요`,value:E,label:C,onChange:L=>n(A=>({...A,[S]:L.target.value})),required:!0})},"text-field"+S)),f.jsx("div",{className:"flex gap-2 flex-row",children:f.jsxs("div",{className:"flex gap-2 items-center",children:[f.jsx("p",{className:"text-gray-400 text-xs",children:"요일"}),im.map(S=>f.jsx(Oi,{label:S,selected:e.timeSlots.some(C=>C.dayOfWeeks===S),onClick:()=>h(S)},S))]})}),e.timeSlots.map(S=>f.jsxs("div",{className:"flex gap-2 ",children:[f.jsx("p",{className:"text-xs text-gray-400",children:S.dayOfWeeks}),f.jsx(Vq,{day:S.dayOfWeeks,timeRange:c(S.startTime,S.endTime),onChange:p})]},S.dayOfWeeks)),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("div",{children:a&&f.jsx("button",{type:"button",className:"text-xs text-blue-500 hover:text-blue-600 hover:underline cursor-pointer",onClick:w,children:"+ 과목 일정 추가"})}),f.jsxs("div",{className:"flex justify-end gap-3",children:[(t===Hn.EDIT||t===Hn.VIEW)&&f.jsx("button",{type:"button",onClick:x,className:"text-xs text-white bg-red-500 hover:bg-red-600 w-15 rounded-lg px-4 py-2 cursor-pointer ",children:"삭제"}),f.jsx("button",{type:"submit",className:"text-xs text-white bg-blue-500 hover:bg-blue-600 w-15 rounded-lg px-4 py-2 cursor-pointer ",children:"저장"})]})]})]})}function Wq(){const{modalActionType:e}=Ud(),{cancelSchedule:t}=br(),n=i=>{t(i)},r=e===Hn.CREATE?"생성":"수정";return f.jsxs(rh,{children:[f.jsx(ih,{title:`커스텀 일정 ${r}`,headerType:"close",onClose:n}),f.jsx("div",{className:"flex flex-col py-5 px-5 gap-5 overflow-y-auto max-h-[70vh]",children:f.jsx(u8,{})})]})}function qq(){const{modalActionType:e}=Ud(),{cancelSchedule:t}=br(),n=e===Hn.CREATE?"생성":"수정",r=i=>{i.key==="Escape"&&t(i)};return N.useEffect(()=>(document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}),[]),f.jsx("div",{className:"fixed inset-0 z-50  hidden md:flex items-center justify-center  bg-black/10",onClick:t,children:f.jsxs("div",{className:"bg-white flex border border-gray-200 rounded-xl flex-col gap-2 w-[90%] max-w-md p-8 shadow-xl relative",onClick:i=>i.stopPropagation(),role:"dialog","aria-modal":"true",children:[f.jsxs("div",{className:"flex w-full justify-between",children:[f.jsxs("h3",{className:"font-semibold",children:["커스텀 일정 ",n]}),f.jsx("button",{className:"w-6 h-6 cursor-pointer flex items-center justify-center bg-gray-100 rounded-full",onClick:t,children:f.jsx(Hd,{})})]}),f.jsx(u8,{})]})})}function Kq(){const{data:e}=Vu(),[t,n]=N.useState(""),[r,i]=N.useState("전공"),s=N.useMemo(()=>[{departmentName:"전체학과",departmentCode:""},...e??[]],[e]);function o(g){const x=s.find(S=>S.departmentCode===g);if(!x)return"학과가 없습니다.";const w=x.departmentName.split(" ");return w[w.length-1]}const[a,u]=N.useState(s),{selectedDepartment:c,setFilterSchedule:h}=so(),p=c===""?"전체학과":o(c);return N.useEffect(()=>{const g=s.filter(x=>r==="교양"?x.departmentCode==="9005":r==="전공"?x.departmentCode!=="9005":!0).filter(x=>{const w=t?.replace(/[^\w\sㄱ-ㅎㅏ-ㅣ가-힣]/g,""),S=cl(w).toLowerCase(),C=x.departmentName.replace(/[^\w\sㄱ-ㅎㅏ-ㅣ가-힣]/g,"");return cl(C).toLowerCase().includes(S)});u(g)},[e,t,r]),f.jsx(f.Fragment,{children:f.jsx(ix,{label:p,className:"max-h-120 overflow-y-auto",selected:c.length!==0,children:f.jsxs("div",{className:"flex flex-col h-80",children:[f.jsxs("div",{className:"shrink-0 gap-2 flex px-2 py-2 bg-white",children:[f.jsxs("select",{value:r,className:"border border-gray-300 rounded-md px-2 py-1 text-sm text-gray-700 bg-white",onChange:g=>{const x=g.target.value;i(x),h("selectedDepartment","")},children:[f.jsx("option",{value:"전공",children:"전공"}),f.jsx("option",{value:"교양",children:"교양"})]}),f.jsx(vl,{type:"text",placeholder:"학과 검색",onDelete:()=>{n("")},value:t,onChange:g=>{n(g.target.value)}})]}),f.jsxs("div",{className:"overflow-y-auto flex-1 px-2 py-2",children:[(r==="전공"||r==="교양")&&f.jsx(Gq,{departments:a})," "]})]})})})}function Gq({departments:e}){const t="전체학과",{setFilterSchedule:n}=so(),r=i=>{n("selectedDepartment",i||"")};return f.jsx(f.Fragment,{children:e?.map(i=>f.jsx("div",{role:"option","aria-selected":t===i.departmentName,className:`flex items-center gap-1 px-2 py-2 rounded cursor-pointer text-sm ${t===i.departmentName?"bg-blue-50 text-blue-500 font-medium":"hover:bg-gray-50 text-gray-700"}`,onClick:()=>r(i.departmentCode),children:i.departmentName},i.departmentCode))})}const Xc=[{id:0,label:"전체"},{id:1,label:1},{id:2,label:2},{id:3,label:3},{id:4,label:4}];function Yq(){const{selectedGrades:e,setFilterSchedule:t}=so(),n=o=>Xc.find(a=>a.id===o)?.label??"전체",r=()=>{const o=e.length===Xc.length;t("selectedGrades",o?[]:Xc.map(a=>a.label))},i=o=>{const a=n(o);if(o===0){r();return}const u=e.includes(a);if(u){t("selectedGrades",e.filter(c=>c!==a));return}u||t("selectedGrades",[...e,a])},s=Xc.filter(o=>e.includes(o.label)).map(o=>o.id);return f.jsx(sx,{labelPrefix:"학년",selectedItems:s,handleChangeCheckbox:i,options:Xc,selected:e.length!==0})}const Jc=[{id:0,label:"전체"},{id:1,label:"월"},{id:2,label:"화"},{id:3,label:"수"},{id:4,label:"목"},{id:5,label:"금"}];function Xq(){const{selectedDays:e,setFilterSchedule:t}=so(),n=o=>Jc.find(a=>a.id===o)?.label??"전체",r=()=>{const o=e.length===Jc.length;t("selectedDays",o?[]:Jc.map(a=>a.label))},i=o=>{const a=n(o);if(o===0){r();return}const u=e.includes(a);if(u){t("selectedDays",e.filter(c=>c!==a));return}u||t("selectedDays",[...e,a])},s=Jc.filter(o=>e.includes(o.label)).map(o=>o.id);return f.jsx(sx,{labelPrefix:"요일",selectedItems:s,handleChangeCheckbox:i,options:Jc,selected:e.length!==0})}const Jq=e=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M3 4H17L12 10.5V20L8 16V10.5L3 4Z",stroke:"#047CFE",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),N.createElement("path",{d:"M16 15L22 21",stroke:"#047CFE",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),N.createElement("path",{d:"M16 21L22 15",stroke:"#047CFE",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function Zq(){const e=so(o=>o.resetFilterSchedule),{selectedDepartment:t,selectedGrades:n,selectedDays:r}=so();if(!(t.length||n.length||r.length))return null;const s=()=>{e()};return f.jsx(Oi,{label:f.jsx(Jq,{className:"w-4 h-4"}),selected:!0,onClick:s})}const eK=new Lr().toUiData();function tK(){const{data:e,isPending:t}=co(),n=eh(e)??[],[r,i]=N.useState(""),{openScheduleModal:s}=br(),{selectedDays:o,selectedDepartment:a,selectedGrades:u}=so(),c=N.useDeferredValue(Gu({subjects:n,searchKeywords:r,selectedDays:o,selectedDepartment:a,selectedGrades:u}));return f.jsxs("div",{className:"w-full h-screen md:basis-1/3 p-4 md:border-t-0 flex flex-col gap-3 bg-white shadow-md rounded-lg",children:[f.jsx(vl,{type:"text",value:r,placeholder:"과목명 검색",onDelete:()=>i(""),onChange:h=>i(h.target.value)}),f.jsxs("div",{className:"flex flex-wrap gap-3 w-full",children:[f.jsx(Zq,{}),f.jsx(Kq,{}),f.jsx(Yq,{}),f.jsx(Xq,{})]}),f.jsx("button",{type:"button",className:"text-blue-500 cursor-pointer text-sm",onClick:()=>s(eK),children:"+ 커스텀 일정 생성"}),f.jsx("div",{className:"flex flex-col h-full overflow-hidden",children:f.jsx("div",{className:"overflow-y-auto flex-grow",children:f.jsx(a8,{subjects:c,isPending:t})})})]})}function nK({onClose:e,type:t}){const[n,r]=N.useState(""),i=vt(p=>p.currentTimetable),{mutate:s}=_T(),{mutate:o}=V_(),{mutate:a}=W_(),u=()=>{t==="edit"&&i&&(o(i.timeTableId),e())},c=p=>{if(p.preventDefault(),i&&t==="edit"){s({timeTableId:i.timeTableId,timeTableName:n}),e();return}t==="create"&&(a({timeTableName:n,semester:"2025-2"}),e())},h=p=>{p.key==="Escape"&&e()};return N.useEffect(()=>(window.addEventListener("keydown",h),()=>{window.removeEventListener("keydown",h)}),[]),f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/10",onClick:e,children:f.jsxs("div",{className:"bg-white flex border border-gray-200 rounded-xl flex-col gap-2 w-[90%] max-w-md p-8 shadow-xl relative",onClick:p=>p.stopPropagation(),children:[f.jsxs("div",{className:"flex w-full justify-between",children:[f.jsxs("h3",{className:"font-semibold",children:["시간표 ",t==="create"?"생성":"수정"]}),f.jsx("button",{className:"w-6 h-6 cursor-pointer flex items-center justify-center bg-gray-100 rounded-full",onClick:e,children:f.jsx(Hd,{})})]}),f.jsxs("form",{onSubmit:c,className:"flex flex-col gap-3",children:[f.jsx(Oi,{label:"2025학년-2학기",selected:!1}),f.jsx(l8,{id:"timetableName",required:!0,placeholder:"시간표 이름을 입력해주세요.",value:n,onChange:p=>r(p.target.value)},"timetableName"),f.jsxs("div",{className:"flex  justify-end gap-3",children:[f.jsx("button",{type:"submit",className:"text-blue-500 text-sm w-15 rounded px-4 py-2 cursor-pointer",children:"저장"}),i&&t==="edit"&&f.jsx("button",{type:"button",onClick:u,className:"text-red-500 text-sm w-15 rounded px-3 py-2 cursor-pointer",children:"삭제"})]})]})]})})}const c8=e=>N.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M8.5 4.6665C8.5 4.5339 8.44732 4.40672 8.35355 4.31295C8.25979 4.21918 8.13261 4.1665 8 4.1665C7.86739 4.1665 7.74022 4.21918 7.64645 4.31295C7.55268 4.40672 7.5 4.5339 7.5 4.6665V7.99984C7.49996 8.08461 7.52148 8.168 7.56253 8.24217C7.60358 8.31634 7.66282 8.37885 7.73467 8.42384L9.73467 9.67384C9.84712 9.74421 9.98292 9.76703 10.1122 9.73727C10.1762 9.72254 10.2367 9.69534 10.2902 9.65723C10.3437 9.61912 10.3892 9.57085 10.424 9.51517C10.4588 9.45949 10.4824 9.39749 10.4933 9.33272C10.5041 9.26794 10.5022 9.20165 10.4874 9.13764C10.4727 9.07363 10.4455 9.01315 10.4074 8.95965C10.3693 8.90615 10.321 8.86068 10.2653 8.82584L8.5 7.7225V4.6665Z",fill:"#D1D5DB"}),N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.99996 2.1665C6.45286 2.1665 4.96913 2.78109 3.87517 3.87505C2.78121 4.96901 2.16663 6.45274 2.16663 7.99984C2.16663 9.54693 2.78121 11.0307 3.87517 12.1246C4.96913 13.2186 6.45286 13.8332 7.99996 13.8332C9.54706 13.8332 11.0308 13.2186 12.1248 12.1246C13.2187 11.0307 13.8333 9.54693 13.8333 7.99984C13.8333 6.45274 13.2187 4.96901 12.1248 3.87505C11.0308 2.78109 9.54706 2.1665 7.99996 2.1665ZM3.16663 7.99984C3.16663 7.36512 3.29164 6.73661 3.53454 6.1502C3.77744 5.56379 4.13346 5.03097 4.58228 4.58215C5.03109 4.13334 5.56392 3.77732 6.15032 3.53442C6.73673 3.29152 7.36524 3.1665 7.99996 3.1665C8.63468 3.1665 9.26319 3.29152 9.8496 3.53442C10.436 3.77732 10.9688 4.13334 11.4176 4.58215C11.8665 5.03097 12.2225 5.56379 12.4654 6.1502C12.7083 6.73661 12.8333 7.36512 12.8333 7.99984C12.8333 9.28172 12.3241 10.5111 11.4176 11.4175C10.5112 12.3239 9.28184 12.8332 7.99996 12.8332C6.71808 12.8332 5.4887 12.3239 4.58228 11.4175C3.67585 10.5111 3.16663 9.28172 3.16663 7.99984Z",fill:"#D1D5DB"})),d8=e=>N.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M13.7069 6.79266L8.70688 1.79266C8.51936 1.60527 8.26511 1.5 8.00001 1.5C7.7349 1.5 7.48065 1.60527 7.29313 1.79266L2.29313 6.79266C2.19982 6.88528 2.12586 6.99552 2.07553 7.11698C2.02521 7.23844 1.99954 7.36869 2.00001 7.50016V13.5002C2.00001 13.6328 2.05268 13.7599 2.14645 13.8537C2.24022 13.9475 2.3674 14.0002 2.50001 14.0002H6.50001C6.63261 14.0002 6.75979 13.9475 6.85356 13.8537C6.94733 13.7599 7.00001 13.6328 7.00001 13.5002V10.0002H9.00001V13.5002C9.00001 13.6328 9.05268 13.7599 9.14645 13.8537C9.24022 13.9475 9.3674 14.0002 9.50001 14.0002H13.5C13.6326 14.0002 13.7598 13.9475 13.8536 13.8537C13.9473 13.7599 14 13.6328 14 13.5002V7.50016C14.0005 7.36869 13.9748 7.23844 13.9245 7.11698C13.8742 6.99552 13.8002 6.88528 13.7069 6.79266ZM13 13.0002H10V9.50016C10 9.36755 9.94733 9.24038 9.85356 9.14661C9.75979 9.05284 9.63261 9.00016 9.50001 9.00016H6.50001C6.3674 9.00016 6.24022 9.05284 6.14645 9.14661C6.05268 9.24038 6.00001 9.36755 6.00001 9.50016V13.0002H3.00001V7.50016L8.00001 2.50016L13 7.50016V13.0002Z",fill:"#D1D5DB"}));function rK(){const{schedule:e}=Ud(),{deleteSchedule:t,cancelSchedule:n}=br(),{data:r}=ra(),i=a=>{confirm("해당 과목을 삭제하시겠습니까?")&&t(a)},s=a=>{a.key==="Escape"&&n(a)};N.useEffect(()=>(window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s)}),[]);const o=r?.find(a=>a.subjectId===e.subjectId);return f.jsx("div",{className:"fixed inset-0 z-50  hidden md:flex items-center justify-center  bg-black/10",children:f.jsxs("div",{className:"bg-white flex flex-col border border-gray-200 rounded-xl gap-2 w-[90%] max-w-md p-8 shadow-xl relative",onClick:a=>a.stopPropagation(),role:"dialog","aria-modal":"true",children:[f.jsxs("div",{className:"flex w-full justify-between",children:[f.jsx("h3",{className:"font-semibold text-lg",children:e.subjectName}),f.jsx("button",{className:"w-6 h-6 cursor-pointer flex items-center justify-center bg-gray-100 rounded-full",onClick:n,children:f.jsx(Hd,{})})]}),f.jsxs("div",{className:"flex flex-col gap-1 px-2 py-3 text-gray-500 text-sm",children:[f.jsx("p",{className:"text-sm text-gray-500",children:e.professorName??"교수 정보 없음"}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(c8,{className:"w-4 h-4 text-gray-400"}),f.jsx("span",{className:"text-gray-500 text-sm",children:o?.lesnTime})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(d8,{className:"w-4 h-4 text-gray-400"}),f.jsx("span",{className:"text-gray-500 text-sm",children:o?.lesnRoom??"장소 정보 없음"})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("span",{className:"text-gray-500 text-sm",children:o?.manageDeptNm}),f.jsxs("span",{className:"text-gray-500 text-sm",children:[" ",o?.studentYear+"학년"]}),f.jsx("span",{className:"text-blue-500 text-sm",children:o?.tmNum[0]+"학점"})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsxs("span",{className:"text-gray-500 text-sm font-bold",children:[o?.curiTypeCdNm," "]}),f.jsx("span",{className:"text-gray-500 text-sm",children:o?.remark??""})]})]}),f.jsx("div",{className:"px-4 py-4",children:f.jsx("button",{onClick:i,className:"text-sm text-red-500 cursor-pointer font-medium ml-auto block",children:"삭제"})})]})})}function iK(){const{schedule:e}=Ud(),{deleteSchedule:t,cancelSchedule:n}=br(),{data:r}=ra(),i=o=>{confirm("해당 과목을 삭제하시겠습니까?")&&t(o)},s=r?.find(o=>o.subjectId===e.subjectId);return f.jsxs(rh,{children:[f.jsx(ih,{headerType:"close",onClose:n}),f.jsx("div",{className:"w-full flex items-center gap-2 border-b border-gray-200 p-2 h-12",children:f.jsx("h3",{className:"font-semibold text-md",children:e.subjectName})}),f.jsxs("div",{className:"flex flex-col gap-1 px-2 py-3 text-gray-500 text-sm",children:[f.jsx("p",{className:"text-sm text-gray-500",children:e.professorName??"교수 정보 없음"}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(c8,{className:"w-4 h-4 text-gray-400"}),f.jsx("span",{className:"text-gray-500 text-sm",children:s?.lesnTime})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(d8,{className:"w-4 h-4 text-gray-400"}),f.jsx("span",{className:"text-gray-500 text-sm",children:s?.lesnRoom??"장소 정보 없음"})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("span",{className:"text-gray-500 text-sm",children:s?.manageDeptNm}),f.jsxs("span",{className:"text-gray-500 text-sm",children:[" ",s?.studentYear+"학년"]}),f.jsx("span",{className:"text-blue-500 text-sm",children:s?.tmNum[0]+"학점"})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsxs("span",{className:"text-gray-500 text-sm font-bold",children:[s?.curiTypeCdNm??""," "]}),f.jsx("span",{className:"text-gray-500 text-sm",children:s?.remark??""})]})]}),f.jsx("div",{className:"px-4 py-4",children:f.jsx("button",{onClick:i,className:"text-sm text-red-500 cursor-pointer font-medium ml-auto block",children:"삭제"})})]})}var x1={exports:{}},F4;function sK(){return F4||(F4=1,function(e){(function(t){var n=A(),r=B(),i=$(),s=P(),o={imagePlaceholder:void 0,cacheBust:!1},a={toSvg:u,toPng:h,toJpeg:p,toBlob:g,toPixelData:c,impl:{fontFaces:i,images:s,util:n,inliner:r,options:{}}};e.exports=a;function u(M,H){return H=H||{},x(H),Promise.resolve(M).then(function(F){return S(F,H.filter,!0)}).then(C).then(E).then(Q).then(function(F){return L(F,H.width||n.width(M),H.height||n.height(M))});function Q(F){return H.bgcolor&&(F.style.backgroundColor=H.bgcolor),H.width&&(F.style.width=H.width+"px"),H.height&&(F.style.height=H.height+"px"),H.style&&Object.keys(H.style).forEach(function(ae){F.style[ae]=H.style[ae]}),F}}function c(M,H){return w(M,H||{}).then(function(Q){return Q.getContext("2d").getImageData(0,0,n.width(M),n.height(M)).data})}function h(M,H){return w(M,H||{}).then(function(Q){return Q.toDataURL()})}function p(M,H){return H=H||{},w(M,H).then(function(Q){return Q.toDataURL("image/jpeg",H.quality||1)})}function g(M,H){return w(M,H||{}).then(n.canvasToBlob)}function x(M){typeof M.imagePlaceholder>"u"?a.impl.options.imagePlaceholder=o.imagePlaceholder:a.impl.options.imagePlaceholder=M.imagePlaceholder,typeof M.cacheBust>"u"?a.impl.options.cacheBust=o.cacheBust:a.impl.options.cacheBust=M.cacheBust}function w(M,H){return u(M,H).then(n.makeImage).then(n.delay(100)).then(function(F){var ae=Q(M);return ae.getContext("2d").drawImage(F,0,0),ae});function Q(F){var ae=document.createElement("canvas");if(ae.width=H.width||n.width(F),ae.height=H.height||n.height(F),H.bgcolor){var le=ae.getContext("2d");le.fillStyle=H.bgcolor,le.fillRect(0,0,ae.width,ae.height)}return ae}}function S(M,H,Q){if(!Q&&H&&!H(M))return Promise.resolve();return Promise.resolve(M).then(F).then(function(ue){return ae(M,ue,H)}).then(function(ue){return le(M,ue)});function F(ue){return ue instanceof HTMLCanvasElement?n.makeImage(ue.toDataURL()):ue.cloneNode(!1)}function ae(ue,q,V){var J=ue.childNodes;if(J.length===0)return Promise.resolve(q);return te(q,n.asArray(J),V).then(function(){return q});function te(ne,me,R){var G=Promise.resolve();return me.forEach(function(ye){G=G.then(function(){return S(ye,R)}).then(function(z){z&&ne.appendChild(z)})}),G}}function le(ue,q){if(!(q instanceof Element))return q;return Promise.resolve().then(V).then(J).then(te).then(ne).then(function(){return q});function V(){me(window.getComputedStyle(ue),q.style);function me(R,G){R.cssText?G.cssText=R.cssText:ye(R,G);function ye(z,Me){n.asArray(z).forEach(function(je){Me.setProperty(je,z.getPropertyValue(je),z.getPropertyPriority(je))})}}}function J(){[":before",":after"].forEach(function(R){me(R)});function me(R){var G=window.getComputedStyle(ue,R),ye=G.getPropertyValue("content");if(ye===""||ye==="none")return;var z=n.uid();q.className=q.className+" "+z;var Me=document.createElement("style");Me.appendChild(je(z,R,G)),q.appendChild(Me);function je(Ee,Ye,Ke){var Pe="."+Ee+":"+Ye,ht=Ke.cssText?ln(Ke):Tt(Ke);return document.createTextNode(Pe+"{"+ht+"}");function ln(fn){var un=fn.getPropertyValue("content");return fn.cssText+" content: "+un+";"}function Tt(fn){return n.asArray(fn).map(un).join("; ")+";";function un(jn){return jn+": "+fn.getPropertyValue(jn)+(fn.getPropertyPriority(jn)?" !important":"")}}}}}function te(){ue instanceof HTMLTextAreaElement&&(q.innerHTML=ue.value),ue instanceof HTMLInputElement&&q.setAttribute("value",ue.value)}function ne(){q instanceof SVGElement&&(q.setAttribute("xmlns","http://www.w3.org/2000/svg"),q instanceof SVGRectElement&&["width","height"].forEach(function(me){var R=q.getAttribute(me);R&&q.style.setProperty(me,R)}))}}}function C(M){return i.resolveAll().then(function(H){var Q=document.createElement("style");return M.appendChild(Q),Q.appendChild(document.createTextNode(H)),M})}function E(M){return s.inlineAll(M).then(function(){return M})}function L(M,H,Q){return Promise.resolve(M).then(function(F){return F.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(F)}).then(n.escapeXhtml).then(function(F){return'<foreignObject x="0" y="0" width="100%" height="100%">'+F+"</foreignObject>"}).then(function(F){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+H+'" height="'+Q+'">'+F+"</svg>"}).then(function(F){return"data:image/svg+xml;charset=utf-8,"+F})}function A(){return{escape:ne,parseExtension:H,mimeType:Q,dataAsUrl:te,isDataUrl:F,canvasToBlob:le,resolveUrl:ue,getAndEncode:J,uid:q(),delay:me,asArray:R,escapeXhtml:G,makeImage:V,width:ye,height:z};function M(){var je="application/font-woff",Ee="image/jpeg";return{woff:je,woff2:je,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Ee,jpeg:Ee,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function H(je){var Ee=/\.([^\.\/]*?)$/g.exec(je);return Ee?Ee[1]:""}function Q(je){var Ee=H(je).toLowerCase();return M()[Ee]||""}function F(je){return je.search(/^(data:)/)!==-1}function ae(je){return new Promise(function(Ee){for(var Ye=window.atob(je.toDataURL().split(",")[1]),Ke=Ye.length,Pe=new Uint8Array(Ke),ht=0;ht<Ke;ht++)Pe[ht]=Ye.charCodeAt(ht);Ee(new Blob([Pe],{type:"image/png"}))})}function le(je){return je.toBlob?new Promise(function(Ee){je.toBlob(Ee)}):ae(je)}function ue(je,Ee){var Ye=document.implementation.createHTMLDocument(),Ke=Ye.createElement("base");Ye.head.appendChild(Ke);var Pe=Ye.createElement("a");return Ye.body.appendChild(Pe),Ke.href=Ee,Pe.href=je,Pe.href}function q(){var je=0;return function(){return"u"+Ee()+je++;function Ee(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function V(je){return new Promise(function(Ee,Ye){var Ke=new Image;Ke.onload=function(){Ee(Ke)},Ke.onerror=Ye,Ke.src=je})}function J(je){var Ee=3e4;return a.impl.options.cacheBust&&(je+=(/\?/.test(je)?"&":"?")+new Date().getTime()),new Promise(function(Ye){var Ke=new XMLHttpRequest;Ke.onreadystatechange=ln,Ke.ontimeout=Tt,Ke.responseType="blob",Ke.timeout=Ee,Ke.open("GET",je,!0),Ke.send();var Pe;if(a.impl.options.imagePlaceholder){var ht=a.impl.options.imagePlaceholder.split(/,/);ht&&ht[1]&&(Pe=ht[1])}function ln(){if(Ke.readyState===4){if(Ke.status!==200){Pe?Ye(Pe):fn("cannot fetch resource: "+je+", status: "+Ke.status);return}var un=new FileReader;un.onloadend=function(){var jn=un.result.split(/,/)[1];Ye(jn)},un.readAsDataURL(Ke.response)}}function Tt(){Pe?Ye(Pe):fn("timeout of "+Ee+"ms occured while fetching resource: "+je)}function fn(un){console.error(un),Ye("")}})}function te(je,Ee){return"data:"+Ee+";base64,"+je}function ne(je){return je.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function me(je){return function(Ee){return new Promise(function(Ye){setTimeout(function(){Ye(Ee)},je)})}}function R(je){for(var Ee=[],Ye=je.length,Ke=0;Ke<Ye;Ke++)Ee.push(je[Ke]);return Ee}function G(je){return je.replace(/#/g,"%23").replace(/\n/g,"%0A")}function ye(je){var Ee=Me(je,"border-left-width"),Ye=Me(je,"border-right-width");return je.scrollWidth+Ee+Ye}function z(je){var Ee=Me(je,"border-top-width"),Ye=Me(je,"border-bottom-width");return je.scrollHeight+Ee+Ye}function Me(je,Ee){var Ye=window.getComputedStyle(je).getPropertyValue(Ee);return parseFloat(Ye.replace("px",""))}}function B(){var M=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:ae,shouldProcess:H,impl:{readUrls:Q,inline:F}};function H(le){return le.search(M)!==-1}function Q(le){for(var ue=[],q;(q=M.exec(le))!==null;)ue.push(q[1]);return ue.filter(function(V){return!n.isDataUrl(V)})}function F(le,ue,q,V){return Promise.resolve(ue).then(function(te){return q?n.resolveUrl(te,q):te}).then(V||n.getAndEncode).then(function(te){return n.dataAsUrl(te,n.mimeType(ue))}).then(function(te){return le.replace(J(ue),"$1"+te+"$3")});function J(te){return new RegExp(`(url\\(['"]?)(`+n.escape(te)+`)(['"]?\\))`,"g")}}function ae(le,ue,q){if(V())return Promise.resolve(le);return Promise.resolve(le).then(Q).then(function(J){var te=Promise.resolve(le);return J.forEach(function(ne){te=te.then(function(me){return F(me,ne,ue,q)})}),te});function V(){return!H(le)}}}function $(){return{resolveAll:M,impl:{readAll:H}};function M(){return H().then(function(Q){return Promise.all(Q.map(function(F){return F.resolve()}))}).then(function(Q){return Q.join(`
`)})}function H(){return Promise.resolve(n.asArray(document.styleSheets)).then(F).then(Q).then(function(le){return le.map(ae)});function Q(le){return le.filter(function(ue){return ue.type===CSSRule.FONT_FACE_RULE}).filter(function(ue){return r.shouldProcess(ue.style.getPropertyValue("src"))})}function F(le){var ue=[];return le.forEach(function(q){try{n.asArray(q.cssRules||[]).forEach(ue.push.bind(ue))}catch(V){console.log("Error while reading CSS rules from "+q.href,V.toString())}}),ue}function ae(le){return{resolve:function(){var q=(le.parentStyleSheet||{}).href;return r.inlineAll(le.cssText,q)},src:function(){return le.style.getPropertyValue("src")}}}}}function P(){return{inlineAll:H,impl:{newImage:M}};function M(Q){return{inline:F};function F(ae){return n.isDataUrl(Q.src)?Promise.resolve():Promise.resolve(Q.src).then(ae||n.getAndEncode).then(function(le){return n.dataAsUrl(le,n.mimeType(Q.src))}).then(function(le){return new Promise(function(ue,q){Q.onload=ue,Q.onerror=q,Q.src=le})})}}function H(Q){if(!(Q instanceof Element))return Promise.resolve(Q);return F(Q).then(function(){return Q instanceof HTMLImageElement?M(Q).inline():Promise.all(n.asArray(Q.childNodes).map(function(ae){return H(ae)}))});function F(ae){var le=ae.style.getPropertyValue("background");return le?r.inlineAll(le).then(function(ue){ae.style.setProperty("background",ue,ae.style.getPropertyPriority("background"))}).then(function(){return ae}):Promise.resolve(ae)}}}})()}(x1)),x1.exports}var oK=sK();const aK=fi(oK);var gp={exports:{}},lK=gp.exports,B4;function uK(){return B4||(B4=1,function(e,t){(function(n,r){r()})(lK,function(){function n(c,h){return typeof h>"u"?h={autoBom:!1}:typeof h!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function r(c,h,p){var g=new XMLHttpRequest;g.open("GET",c),g.responseType="blob",g.onload=function(){u(g.response,h,p)},g.onerror=function(){console.error("could not download file")},g.send()}function i(c){var h=new XMLHttpRequest;h.open("HEAD",c,!1);try{h.send()}catch{}return 200<=h.status&&299>=h.status}function s(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(h)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Zc=="object"&&Zc.global===Zc?Zc:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(c,h,p){var g=o.URL||o.webkitURL,x=document.createElement("a");h=h||c.name||"download",x.download=h,x.rel="noopener",typeof c=="string"?(x.href=c,x.origin===location.origin?s(x):i(x.href)?r(c,h,p):s(x,x.target="_blank")):(x.href=g.createObjectURL(c),setTimeout(function(){g.revokeObjectURL(x.href)},4e4),setTimeout(function(){s(x)},0))}:"msSaveOrOpenBlob"in navigator?function(c,h,p){if(h=h||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(n(c,p),h);else if(i(c))r(c,h,p);else{var g=document.createElement("a");g.href=c,g.target="_blank",setTimeout(function(){s(g)})}}:function(c,h,p,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof c=="string")return r(c,h,p);var x=c.type==="application/octet-stream",w=/constructor/i.test(o.HTMLElement)||o.safari,S=/CriOS\/[\d]+/.test(navigator.userAgent);if((S||x&&w||a)&&typeof FileReader<"u"){var C=new FileReader;C.onloadend=function(){var A=C.result;A=S?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=A:location=A,g=null},C.readAsDataURL(c)}else{var E=o.URL||o.webkitURL,L=E.createObjectURL(c);g?g.location=L:location.href=L,g=null,setTimeout(function(){E.revokeObjectURL(L)},4e4)}});o.saveAs=u.saveAs=u,e.exports=u})}(gp)),gp.exports}var cK=uK();function dK(e,t="image.png"){if(!e){console.error("Image reference is not set");return}aK.toBlob(e).then(n=>cK.saveAs(n,t)).catch(n=>{console.error("Error saving image:",n)})}const hK=e=>N.createElement("svg",{width:31,height:31,viewBox:"0 0 31 31",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M14.2084 16.7918H7.75005C7.38407 16.7918 7.07752 16.6678 6.83038 16.4198C6.58324 16.1718 6.45924 15.8653 6.45838 15.5002C6.45752 15.1351 6.58152 14.8285 6.83038 14.5805C7.07924 14.3325 7.3858 14.2085 7.75005 14.2085H14.2084V7.75017C14.2084 7.38419 14.3324 7.07764 14.5804 6.8305C14.8284 6.58336 15.1349 6.45936 15.5 6.4585C15.8652 6.45764 16.1721 6.58164 16.421 6.8305C16.6699 7.07936 16.7934 7.38592 16.7917 7.75017V14.2085H23.25C23.616 14.2085 23.923 14.3325 24.171 14.5805C24.419 14.8285 24.5426 15.1351 24.5417 15.5002C24.5409 15.8653 24.4169 16.1723 24.1697 16.4211C23.9226 16.67 23.616 16.7936 23.25 16.7918H16.7917V23.2502C16.7917 23.6161 16.6677 23.9231 16.4197 24.1711C16.1717 24.4191 15.8652 24.5427 15.5 24.5418C15.1349 24.541 14.8284 24.417 14.5804 24.1698C14.3324 23.9227 14.2084 23.6161 14.2084 23.2502V16.7918Z",fill:"white"})),fK=e=>N.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},N.createElement("path",{d:"M10 12.9791C9.8889 12.9791 9.78473 12.9619 9.68751 12.9274C9.59029 12.893 9.50001 12.8338 9.41668 12.7499L6.41668 9.74992C6.25001 9.58325 6.17001 9.38881 6.17668 9.16659C6.18334 8.94437 6.26334 8.74992 6.41668 8.58325C6.58334 8.41659 6.7814 8.32992 7.01084 8.32325C7.24029 8.31659 7.43807 8.39631 7.60418 8.56242L9.16668 10.1249V4.16659C9.16668 3.93048 9.24668 3.7327 9.40668 3.57325C9.56668 3.41381 9.76445 3.33381 10 3.33325C10.2356 3.3327 10.4336 3.4127 10.5942 3.57325C10.7547 3.73381 10.8345 3.93159 10.8333 4.16659V10.1249L12.3958 8.56242C12.5625 8.39575 12.7606 8.31575 12.99 8.32242C13.2195 8.32909 13.4172 8.41603 13.5833 8.58325C13.7361 8.74992 13.8161 8.94437 13.8233 9.16659C13.8306 9.38881 13.7506 9.58325 13.5833 9.74992L10.5833 12.7499C10.5 12.8333 10.4097 12.8924 10.3125 12.9274C10.2153 12.9624 10.1111 12.9796 10 12.9791ZM5.00001 16.6666C4.54168 16.6666 4.14945 16.5035 3.82334 16.1774C3.49723 15.8513 3.3339 15.4588 3.33334 14.9999V13.3333C3.33334 13.0971 3.41334 12.8994 3.57334 12.7399C3.73334 12.5805 3.93112 12.5005 4.16668 12.4999C4.40223 12.4994 4.60029 12.5794 4.76084 12.7399C4.9214 12.9005 5.00112 13.0983 5.00001 13.3333V14.9999H15V13.3333C15 13.0971 15.08 12.8994 15.24 12.7399C15.4 12.5805 15.5978 12.5005 15.8333 12.4999C16.0689 12.4994 16.267 12.5794 16.4275 12.7399C16.5881 12.9005 16.6678 13.0983 16.6667 13.3333V14.9999C16.6667 15.4583 16.5036 15.8508 16.1775 16.1774C15.8514 16.5041 15.4589 16.6671 15 16.6666H5.00001Z",fill:"#9CA3AF"}));function pK(){const[e,t]=N.useState(null),n=es(o=>o.type),r=es(o=>o.closeBottomSheet),i=es(o=>o.openBottomSheet),s=o=>{r("search"),i(o)};return f.jsxs("div",{className:"w-full p-4 ",children:[f.jsx(Wn,{children:f.jsx("title",{children:"ALLCLL | 시간표"})}),f.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[f.jsx("div",{className:"md:col-span-2 w-full h-full",children:f.jsxs(Np,{className:"px-2 relative overflow-hidden",children:[f.jsx(mK,{setIsOpenModal:t}),f.jsx($T,{})]})}),f.jsxs("div",{className:"md:col-span-1 w-full",children:[f.jsx("div",{className:"hidden md:block",children:f.jsx(tK,{})}),f.jsxs("div",{className:"md:hidden",children:[n==="search"&&f.jsx(Hq,{onCloseSearch:s}),n==="filter"&&f.jsx(Qq,{}),n==="edit"&&f.jsx(Wq,{}),n==="Info"&&f.jsx(iK,{})]})]}),n==="edit"&&f.jsx(qq,{}),n==="Info"&&f.jsx(rK,{})]}),e&&f.jsx(nK,{type:e,onClose:()=>t(null)}),n===null&&f.jsx("button",{className:"fixed bottom-4 right-4 z-50 w-15 h-15 rounded-full bg-blue-500 flex justify-center items-center shadow-lg md:hidden",onClick:()=>i("search"),children:f.jsx(hK,{className:"w-10 h-10 cursor-pointer"})})]})}function mK({setIsOpenModal:e}){const{mutate:t}=V_(),{data:n=[]}=Q_(),r=vt(x=>x.options.isMobile),i=vt(x=>x.pickTimetable),s=es(x=>x.openBottomSheet),{openScheduleModal:o}=br(),a=x=>{const w=n.find(S=>S.timeTableId===x);w&&i(w)},u=()=>{e("edit")},c=x=>{t(x)},h=()=>{const x=vt.getState()?.currentTimetable?.timeTableName,w=vt.getState().options.containerRef;dK(w,x?x+".png":"시간표.png")},p=()=>{e("create")},g=()=>{o(new Lr().toUiData())};return f.jsxs("header",{className:"flex pb-2 justify-between items-center",children:[f.jsx(Bq,{timetables:n,onSelect:a,onEdit:u,onDelete:c,openCreateModal:p}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("button",{className:"rounded-md hover:bg-gray-100 p-1 h-fit cursor-pointer",onClick:h,title:"시간표 이미지 저장",children:f.jsx(fK,{className:"w-5 h-5"})}),f.jsx("button",{className:"rounded-md hover:bg-gray-100 p-1 h-fit cursor-pointer",onClick:g,title:"커스텀 일정 생성",children:f.jsx(H7,{className:"w-5 h-5"})}),r&&f.jsx("button",{className:"rounded-md hover:bg-gray-100 p-2 h-fit cursor-pointer",onClick:()=>s("search"),title:"과목 검색",children:f.jsx(Jd,{className:"w-3 h-3"})})]})]})}const gK=ak([{path:"/",element:f.jsx(uw,{}),errorElement:f.jsx(ad,{}),children:[{path:"/",element:f.jsx(sI,{})},{path:"survey",element:f.jsx(XF,{})},{path:"about",element:f.jsx(YF,{})},{path:"faq",element:f.jsx(DV,{})}]},{path:"wishes",element:f.jsx(cw,{serviceId:"baskets"}),errorElement:f.jsx(XV,{}),children:[{path:"",element:f.jsx(MV,{})},{path:":id",element:f.jsx(YV,{})}]},{path:"live",element:f.jsx(cw,{serviceId:"live"}),errorElement:f.jsx(ad,{}),children:[{path:"",element:f.jsx(GF,{})}]},{path:"simulation",element:f.jsx(pT,{}),errorElement:f.jsx(ad,{}),children:[{path:"",element:f.jsx(dq,{})},{path:"logs",element:f.jsx(xq,{})},{path:"logs/:runId",element:f.jsx(Pq,{})},{path:"admin",element:f.jsx(Mq,{})},{path:"wishlist",element:f.jsx(Fq,{})}]},{path:"timetable",element:f.jsx(uw,{}),errorElement:f.jsx(ad,{}),children:[{path:"",element:f.jsx(pK,{})}]},{path:"*",element:f.jsx(e8,{})}]),yK=new Dk;vK();function vK(){f9.createRoot(document.getElementById("root")).render(f.jsx(N.StrictMode,{children:f.jsx(Bk,{client:yK,children:f.jsx(vk,{router:gK})})})),"serviceWorker"in navigator&&navigator.serviceWorker.register("/serviceWorker.js").then(function(e){console.log("Service Worker registered with scope:",e.scope)}).catch(function(e){console.log("Service Worker registration failed:",e)})}
//# sourceMappingURL=index-COCaab_8.js.map
