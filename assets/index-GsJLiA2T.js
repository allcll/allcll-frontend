try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="89efb6ea-d0e6-4300-8daa-303b067967ff",e._sentryDebugIdIdentifier="sentry-dbid-89efb6ea-d0e6-4300-8daa-303b067967ff")}catch{}function gk(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"0df15109d877143804332c4f69fa87db1d04611a"}}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const yk="modulepreload",vk=function(e){return"/"+e},k2={},th=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let c=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};var o=c;document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=a?.nonce||a?.getAttribute("nonce");i=c(n.map(h=>{if(h=vk(h),h in k2)return;k2[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const x=document.createElement("link");if(x.rel=p?"stylesheet":yk,p||(x.as="script"),x.crossOrigin="",x.href=h,u&&x.setAttribute("nonce",u),document.head.appendChild(x),p)return new Promise((w,S)=>{x.addEventListener("load",w),x.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return i.then(a=>{for(const u of a||[])u.status==="rejected"&&s(u.reason);return t().catch(s)})};var md=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ei(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function xk(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var x0={exports:{}},Gc={},b0={exports:{}},Mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j2;function bk(){if(j2)return Mt;j2=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function g(G){return G===null||typeof G!="object"?null:(G=p&&G[p]||G["@@iterator"],typeof G=="function"?G:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function k(G,ye,B){this.props=G,this.context=ye,this.refs=S,this.updater=B||x}k.prototype.isReactComponent={},k.prototype.setState=function(G,ye){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ye,"setState")},k.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function E(){}E.prototype=k.prototype;function R(G,ye,B){this.props=G,this.context=ye,this.refs=S,this.updater=B||x}var A=R.prototype=new E;A.constructor=R,w(A,k.prototype),A.isPureReactComponent=!0;var z=Array.isArray,U=Object.prototype.hasOwnProperty,N={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function H(G,ye,B){var Fe,je={},Ee=null,Ye=null;if(ye!=null)for(Fe in ye.ref!==void 0&&(Ye=ye.ref),ye.key!==void 0&&(Ee=""+ye.key),ye)U.call(ye,Fe)&&!I.hasOwnProperty(Fe)&&(je[Fe]=ye[Fe]);var Ke=arguments.length-2;if(Ke===1)je.children=B;else if(1<Ke){for(var Ne=Array(Ke),ht=0;ht<Ke;ht++)Ne[ht]=arguments[ht+2];je.children=Ne}if(G&&G.defaultProps)for(Fe in Ke=G.defaultProps,Ke)je[Fe]===void 0&&(je[Fe]=Ke[Fe]);return{$$typeof:e,type:G,key:Ee,ref:Ye,props:je,_owner:N.current}}function V(G,ye){return{$$typeof:e,type:G.type,key:ye,ref:G.ref,props:G.props,_owner:G._owner}}function F(G){return typeof G=="object"&&G!==null&&G.$$typeof===e}function le(G){var ye={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(B){return ye[B]})}var ue=/\/+/g;function ae(G,ye){return typeof G=="object"&&G!==null&&G.key!=null?le(""+G.key):ye.toString(36)}function q(G,ye,B,Fe,je){var Ee=typeof G;(Ee==="undefined"||Ee==="boolean")&&(G=null);var Ye=!1;if(G===null)Ye=!0;else switch(Ee){case"string":case"number":Ye=!0;break;case"object":switch(G.$$typeof){case e:case t:Ye=!0}}if(Ye)return Ye=G,je=je(Ye),G=Fe===""?"."+ae(Ye,0):Fe,z(je)?(B="",G!=null&&(B=G.replace(ue,"$&/")+"/"),q(je,ye,B,"",function(ht){return ht})):je!=null&&(F(je)&&(je=V(je,B+(!je.key||Ye&&Ye.key===je.key?"":(""+je.key).replace(ue,"$&/")+"/")+G)),ye.push(je)),1;if(Ye=0,Fe=Fe===""?".":Fe+":",z(G))for(var Ke=0;Ke<G.length;Ke++){Ee=G[Ke];var Ne=Fe+ae(Ee,Ke);Ye+=q(Ee,ye,B,Ne,je)}else if(Ne=g(G),typeof Ne=="function")for(G=Ne.call(G),Ke=0;!(Ee=G.next()).done;)Ee=Ee.value,Ne=Fe+ae(Ee,Ke++),Ye+=q(Ee,ye,B,Ne,je);else if(Ee==="object")throw ye=String(G),Error("Objects are not valid as a React child (found: "+(ye==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ye)+"). If you meant to render a collection of children, use an array instead.");return Ye}function Q(G,ye,B){if(G==null)return G;var Fe=[],je=0;return q(G,Fe,"","",function(Ee){return ye.call(B,Ee,je++)}),Fe}function J(G){if(G._status===-1){var ye=G._result;ye=ye(),ye.then(function(B){(G._status===0||G._status===-1)&&(G._status=1,G._result=B)},function(B){(G._status===0||G._status===-1)&&(G._status=2,G._result=B)}),G._status===-1&&(G._status=0,G._result=ye)}if(G._status===1)return G._result.default;throw G._result}var te={current:null},ne={transition:null},me={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:ne,ReactCurrentOwner:N};function D(){throw Error("act(...) is not supported in production builds of React.")}return Mt.Children={map:Q,forEach:function(G,ye,B){Q(G,function(){ye.apply(this,arguments)},B)},count:function(G){var ye=0;return Q(G,function(){ye++}),ye},toArray:function(G){return Q(G,function(ye){return ye})||[]},only:function(G){if(!F(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Mt.Component=k,Mt.Fragment=n,Mt.Profiler=i,Mt.PureComponent=R,Mt.StrictMode=r,Mt.Suspense=u,Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Mt.act=D,Mt.cloneElement=function(G,ye,B){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var Fe=w({},G.props),je=G.key,Ee=G.ref,Ye=G._owner;if(ye!=null){if(ye.ref!==void 0&&(Ee=ye.ref,Ye=N.current),ye.key!==void 0&&(je=""+ye.key),G.type&&G.type.defaultProps)var Ke=G.type.defaultProps;for(Ne in ye)U.call(ye,Ne)&&!I.hasOwnProperty(Ne)&&(Fe[Ne]=ye[Ne]===void 0&&Ke!==void 0?Ke[Ne]:ye[Ne])}var Ne=arguments.length-2;if(Ne===1)Fe.children=B;else if(1<Ne){Ke=Array(Ne);for(var ht=0;ht<Ne;ht++)Ke[ht]=arguments[ht+2];Fe.children=Ke}return{$$typeof:e,type:G.type,key:je,ref:Ee,props:Fe,_owner:Ye}},Mt.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:s,_context:G},G.Consumer=G},Mt.createElement=H,Mt.createFactory=function(G){var ye=H.bind(null,G);return ye.type=G,ye},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(G){return{$$typeof:a,render:G}},Mt.isValidElement=F,Mt.lazy=function(G){return{$$typeof:h,_payload:{_status:-1,_result:G},_init:J}},Mt.memo=function(G,ye){return{$$typeof:c,type:G,compare:ye===void 0?null:ye}},Mt.startTransition=function(G){var ye=ne.transition;ne.transition={};try{G()}finally{ne.transition=ye}},Mt.unstable_act=D,Mt.useCallback=function(G,ye){return te.current.useCallback(G,ye)},Mt.useContext=function(G){return te.current.useContext(G)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(G){return te.current.useDeferredValue(G)},Mt.useEffect=function(G,ye){return te.current.useEffect(G,ye)},Mt.useId=function(){return te.current.useId()},Mt.useImperativeHandle=function(G,ye,B){return te.current.useImperativeHandle(G,ye,B)},Mt.useInsertionEffect=function(G,ye){return te.current.useInsertionEffect(G,ye)},Mt.useLayoutEffect=function(G,ye){return te.current.useLayoutEffect(G,ye)},Mt.useMemo=function(G,ye){return te.current.useMemo(G,ye)},Mt.useReducer=function(G,ye,B){return te.current.useReducer(G,ye,B)},Mt.useRef=function(G){return te.current.useRef(G)},Mt.useState=function(G){return te.current.useState(G)},Mt.useSyncExternalStore=function(G,ye,B){return te.current.useSyncExternalStore(G,ye,B)},Mt.useTransition=function(){return te.current.useTransition()},Mt.version="18.3.1",Mt}var E2;function um(){return E2||(E2=1,b0.exports=bk()),b0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T2;function wk(){if(T2)return Gc;T2=1;var e=um(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,u,c){var h,p={},g=null,x=null;c!==void 0&&(g=""+c),u.key!==void 0&&(g=""+u.key),u.ref!==void 0&&(x=u.ref);for(h in u)r.call(u,h)&&!s.hasOwnProperty(h)&&(p[h]=u[h]);if(a&&a.defaultProps)for(h in u=a.defaultProps,u)p[h]===void 0&&(p[h]=u[h]);return{$$typeof:t,type:a,key:g,ref:x,props:p,_owner:i.current}}return Gc.Fragment=n,Gc.jsx=o,Gc.jsxs=o,Gc}var P2;function _k(){return P2||(P2=1,x0.exports=wk()),x0.exports}var f=_k(),T=um();const rn=Ei(T),Sk=gk({__proto__:null,default:rn},[T]);var Tf={},w0={exports:{}},ei={},_0={exports:{}},S0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N2;function Ck(){return N2||(N2=1,function(e){function t(ne,me){var D=ne.length;ne.push(me);e:for(;0<D;){var G=D-1>>>1,ye=ne[G];if(0<i(ye,me))ne[G]=me,ne[D]=ye,D=G;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var me=ne[0],D=ne.pop();if(D!==me){ne[0]=D;e:for(var G=0,ye=ne.length,B=ye>>>1;G<B;){var Fe=2*(G+1)-1,je=ne[Fe],Ee=Fe+1,Ye=ne[Ee];if(0>i(je,D))Ee<ye&&0>i(Ye,je)?(ne[G]=Ye,ne[Ee]=D,G=Ee):(ne[G]=je,ne[Fe]=D,G=Fe);else if(Ee<ye&&0>i(Ye,D))ne[G]=Ye,ne[Ee]=D,G=Ee;else break e}}return me}function i(ne,me){var D=ne.sortIndex-me.sortIndex;return D!==0?D:ne.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],c=[],h=1,p=null,g=3,x=!1,w=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(ne){for(var me=n(c);me!==null;){if(me.callback===null)r(c);else if(me.startTime<=ne)r(c),me.sortIndex=me.expirationTime,t(u,me);else break;me=n(c)}}function z(ne){if(S=!1,A(ne),!w)if(n(u)!==null)w=!0,J(U);else{var me=n(c);me!==null&&te(z,me.startTime-ne)}}function U(ne,me){w=!1,S&&(S=!1,E(H),H=-1),x=!0;var D=g;try{for(A(me),p=n(u);p!==null&&(!(p.expirationTime>me)||ne&&!le());){var G=p.callback;if(typeof G=="function"){p.callback=null,g=p.priorityLevel;var ye=G(p.expirationTime<=me);me=e.unstable_now(),typeof ye=="function"?p.callback=ye:p===n(u)&&r(u),A(me)}else r(u);p=n(u)}if(p!==null)var B=!0;else{var Fe=n(c);Fe!==null&&te(z,Fe.startTime-me),B=!1}return B}finally{p=null,g=D,x=!1}}var N=!1,I=null,H=-1,V=5,F=-1;function le(){return!(e.unstable_now()-F<V)}function ue(){if(I!==null){var ne=e.unstable_now();F=ne;var me=!0;try{me=I(!0,ne)}finally{me?ae():(N=!1,I=null)}}else N=!1}var ae;if(typeof R=="function")ae=function(){R(ue)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,Q=q.port2;q.port1.onmessage=ue,ae=function(){Q.postMessage(null)}}else ae=function(){k(ue,0)};function J(ne){I=ne,N||(N=!0,ae())}function te(ne,me){H=k(function(){ne(e.unstable_now())},me)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ne){ne.callback=null},e.unstable_continueExecution=function(){w||x||(w=!0,J(U))},e.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<ne?Math.floor(1e3/ne):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(ne){switch(g){case 1:case 2:case 3:var me=3;break;default:me=g}var D=g;g=me;try{return ne()}finally{g=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ne,me){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var D=g;g=ne;try{return me()}finally{g=D}},e.unstable_scheduleCallback=function(ne,me,D){var G=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?G+D:G):D=G,ne){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=D+ye,ne={id:h++,callback:me,priorityLevel:ne,startTime:D,expirationTime:ye,sortIndex:-1},D>G?(ne.sortIndex=D,t(c,ne),n(u)===null&&ne===n(c)&&(S?(E(H),H=-1):S=!0,te(z,D-G))):(ne.sortIndex=ye,t(u,ne),w||x||(w=!0,J(U))),ne},e.unstable_shouldYield=le,e.unstable_wrapCallback=function(ne){var me=g;return function(){var D=g;g=me;try{return ne.apply(this,arguments)}finally{g=D}}}}(S0)),S0}var O2;function kk(){return O2||(O2=1,_0.exports=Ck()),_0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R2;function jk(){if(R2)return ei;R2=1;var e=um(),t=kk();function n(l){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(l,d){o(l,d),o(l+"Capture",d)}function o(l,d){for(i[l]=d,l=0;l<d.length;l++)r.add(d[l])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function g(l){return u.call(p,l)?!0:u.call(h,l)?!1:c.test(l)?p[l]=!0:(h[l]=!0,!1)}function x(l,d,m,v){if(m!==null&&m.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return v?!1:m!==null?!m.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function w(l,d,m,v){if(d===null||typeof d>"u"||x(l,d,m,v))return!0;if(v)return!1;if(m!==null)switch(m.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function S(l,d,m,v,_,j,M){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=v,this.attributeNamespace=_,this.mustUseProperty=m,this.propertyName=l,this.type=d,this.sanitizeURL=j,this.removeEmptyString=M}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){k[l]=new S(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var d=l[0];k[d]=new S(d,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){k[l]=new S(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){k[l]=new S(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){k[l]=new S(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){k[l]=new S(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){k[l]=new S(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){k[l]=new S(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){k[l]=new S(l,5,!1,l.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function R(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var d=l.replace(E,R);k[d]=new S(d,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var d=l.replace(E,R);k[d]=new S(d,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var d=l.replace(E,R);k[d]=new S(d,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){k[l]=new S(l,1,!1,l.toLowerCase(),null,!1,!1)}),k.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){k[l]=new S(l,1,!1,l.toLowerCase(),null,!0,!0)});function A(l,d,m,v){var _=k.hasOwnProperty(d)?k[d]:null;(_!==null?_.type!==0:v||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(w(d,m,_,v)&&(m=null),v||_===null?g(d)&&(m===null?l.removeAttribute(d):l.setAttribute(d,""+m)):_.mustUseProperty?l[_.propertyName]=m===null?_.type===3?!1:"":m:(d=_.attributeName,v=_.attributeNamespace,m===null?l.removeAttribute(d):(_=_.type,m=_===3||_===4&&m===!0?"":""+m,v?l.setAttributeNS(v,d,m):l.setAttribute(d,m))))}var z=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),N=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),le=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),ne=Symbol.iterator;function me(l){return l===null||typeof l!="object"?null:(l=ne&&l[ne]||l["@@iterator"],typeof l=="function"?l:null)}var D=Object.assign,G;function ye(l){if(G===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);G=d&&d[1]||""}return`
`+G+l}var B=!1;function Fe(l,d){if(!l||B)return"";B=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(be){var v=be}Reflect.construct(l,[],d)}else{try{d.call()}catch(be){v=be}l.call(d.prototype)}else{try{throw Error()}catch(be){v=be}l()}}catch(be){if(be&&v&&typeof be.stack=="string"){for(var _=be.stack.split(`
`),j=v.stack.split(`
`),M=_.length-1,W=j.length-1;1<=M&&0<=W&&_[M]!==j[W];)W--;for(;1<=M&&0<=W;M--,W--)if(_[M]!==j[W]){if(M!==1||W!==1)do if(M--,W--,0>W||_[M]!==j[W]){var Z=`
`+_[M].replace(" at new "," at ");return l.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",l.displayName)),Z}while(1<=M&&0<=W);break}}}finally{B=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?ye(l):""}function je(l){switch(l.tag){case 5:return ye(l.type);case 16:return ye("Lazy");case 13:return ye("Suspense");case 19:return ye("SuspenseList");case 0:case 2:case 15:return l=Fe(l.type,!1),l;case 11:return l=Fe(l.type.render,!1),l;case 1:return l=Fe(l.type,!0),l;default:return""}}function Ee(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case I:return"Fragment";case N:return"Portal";case V:return"Profiler";case H:return"StrictMode";case ae:return"Suspense";case q:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case le:return(l.displayName||"Context")+".Consumer";case F:return(l._context.displayName||"Context")+".Provider";case ue:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case Q:return d=l.displayName||null,d!==null?d:Ee(l.type)||"Memo";case J:d=l._payload,l=l._init;try{return Ee(l(d))}catch{}}return null}function Ye(l){var d=l.type;switch(l.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=d.render,l=l.displayName||l.name||"",d.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ee(d);case 8:return d===H?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function Ke(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Ne(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function ht(l){var d=Ne(l)?"checked":"value",m=Object.getOwnPropertyDescriptor(l.constructor.prototype,d),v=""+l[d];if(!l.hasOwnProperty(d)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var _=m.get,j=m.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return _.call(this)},set:function(M){v=""+M,j.call(this,M)}}),Object.defineProperty(l,d,{enumerable:m.enumerable}),{getValue:function(){return v},setValue:function(M){v=""+M},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function fn(l){l._valueTracker||(l._valueTracker=ht(l))}function Nt(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var m=d.getValue(),v="";return l&&(v=Ne(l)?l.checked?"true":"false":l.value),l=v,l!==m?(d.setValue(l),!0):!1}function vn(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function pn(l,d){var m=d.checked;return D({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??l._wrapperState.initialChecked})}function In(l,d){var m=d.defaultValue==null?"":d.defaultValue,v=d.checked!=null?d.checked:d.defaultChecked;m=Ke(d.value!=null?d.value:m),l._wrapperState={initialChecked:v,initialValue:m,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function Bs(l,d){d=d.checked,d!=null&&A(l,"checked",d,!1)}function Yi(l,d){Bs(l,d);var m=Ke(d.value),v=d.type;if(m!=null)v==="number"?(m===0&&l.value===""||l.value!=m)&&(l.value=""+m):l.value!==""+m&&(l.value=""+m);else if(v==="submit"||v==="reset"){l.removeAttribute("value");return}d.hasOwnProperty("value")?ws(l,d.type,m):d.hasOwnProperty("defaultValue")&&ws(l,d.type,Ke(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(l.defaultChecked=!!d.defaultChecked)}function ko(l,d,m){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var v=d.type;if(!(v!=="submit"&&v!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+l._wrapperState.initialValue,m||d===l.value||(l.value=d),l.defaultValue=d}m=l.name,m!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,m!==""&&(l.name=m)}function ws(l,d,m){(d!=="number"||vn(l.ownerDocument)!==l)&&(m==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+m&&(l.defaultValue=""+m))}var Qr=Array.isArray;function Dn(l,d,m,v){if(l=l.options,d){d={};for(var _=0;_<m.length;_++)d["$"+m[_]]=!0;for(m=0;m<l.length;m++)_=d.hasOwnProperty("$"+l[m].value),l[m].selected!==_&&(l[m].selected=_),_&&v&&(l[m].defaultSelected=!0)}else{for(m=""+Ke(m),d=null,_=0;_<l.length;_++){if(l[_].value===m){l[_].selected=!0,v&&(l[_].defaultSelected=!0);return}d!==null||l[_].disabled||(d=l[_])}d!==null&&(d.selected=!0)}}function yr(l,d){if(d.dangerouslySetInnerHTML!=null)throw Error(n(91));return D({},d,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function vr(l,d){var m=d.value;if(m==null){if(m=d.children,d=d.defaultValue,m!=null){if(d!=null)throw Error(n(92));if(Qr(m)){if(1<m.length)throw Error(n(93));m=m[0]}d=m}d==null&&(d=""),m=d}l._wrapperState={initialValue:Ke(m)}}function _s(l,d){var m=Ke(d.value),v=Ke(d.defaultValue);m!=null&&(m=""+m,m!==l.value&&(l.value=m),d.defaultValue==null&&l.defaultValue!==m&&(l.defaultValue=m)),v!=null&&(l.defaultValue=""+v)}function Wr(l){var d=l.textContent;d===l._wrapperState.initialValue&&d!==""&&d!==null&&(l.value=d)}function Ce(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Re(l,d){return l==null||l==="http://www.w3.org/1999/xhtml"?Ce(d):l==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var lt,pt=function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,m,v,_){MSApp.execUnsafeLocalFunction(function(){return l(d,m,v,_)})}:l}(function(l,d){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=d;else{for(lt=lt||document.createElement("div"),lt.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=lt.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;d.firstChild;)l.appendChild(d.firstChild)}});function Ot(l,d){if(d){var m=l.firstChild;if(m&&m===l.lastChild&&m.nodeType===3){m.nodeValue=d;return}}l.textContent=d}var Jt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vn=["Webkit","ms","Moz","O"];Object.keys(Jt).forEach(function(l){Vn.forEach(function(d){d=d+l.charAt(0).toUpperCase()+l.substring(1),Jt[d]=Jt[l]})});function Qn(l,d,m){return d==null||typeof d=="boolean"||d===""?"":m||typeof d!="number"||d===0||Jt.hasOwnProperty(l)&&Jt[l]?(""+d).trim():d+"px"}function Lr(l,d){l=l.style;for(var m in d)if(d.hasOwnProperty(m)){var v=m.indexOf("--")===0,_=Qn(m,d[m],v);m==="float"&&(m="cssFloat"),v?l.setProperty(m,_):l[m]=_}}var ir=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qe(l,d){if(d){if(ir[l]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(n(137,l));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(n(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(n(61))}if(d.style!=null&&typeof d.style!="object")throw Error(n(62))}}function Fn(l,d){if(l.indexOf("-")===-1)return typeof d.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xn=null;function Ni(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var We=null,fi=null,Xi=null;function zs(l){if(l=Ac(l)){if(typeof We!="function")throw Error(n(280));var d=l.stateNode;d&&(d=Uh(d),We(l.stateNode,l.type,d))}}function Ss(l){fi?Xi?Xi.push(l):Xi=[l]:fi=l}function Ji(){if(fi){var l=fi,d=Xi;if(Xi=fi=null,zs(l),d)for(l=0;l<d.length;l++)zs(d[l])}}function Il(l,d){return l(d)}function Dl(){}var X=!1;function pe(l,d,m){if(X)return l(d,m);X=!0;try{return Il(l,d,m)}finally{X=!1,(fi!==null||Xi!==null)&&(Dl(),Ji())}}function _e(l,d){var m=l.stateNode;if(m===null)return null;var v=Uh(m);if(v===null)return null;m=v[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(l=l.type,v=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!v;break e;default:l=!1}if(l)return null;if(m&&typeof m!="function")throw Error(n(231,d,typeof m));return m}var Ae=!1;if(a)try{var Te={};Object.defineProperty(Te,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Te,Te),window.removeEventListener("test",Te,Te)}catch{Ae=!1}function qe(l,d,m,v,_,j,M,W,Z){var be=Array.prototype.slice.call(arguments,3);try{d.apply(m,be)}catch(Me){this.onError(Me)}}var rt=!1,Je=null,tt=!1,at=null,ot={onError:function(l){rt=!0,Je=l}};function et(l,d,m,v,_,j,M,W,Z){rt=!1,Je=null,qe.apply(ot,arguments)}function St(l,d,m,v,_,j,M,W,Z){if(et.apply(this,arguments),rt){if(rt){var be=Je;rt=!1,Je=null}else throw Error(n(198));tt||(tt=!0,at=be)}}function Rt(l){var d=l,m=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(m=d.return),l=d.return;while(l)}return d.tag===3?m:null}function bn(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function Wn(l){if(Rt(l)!==l)throw Error(n(188))}function Wt(l){var d=l.alternate;if(!d){if(d=Rt(l),d===null)throw Error(n(188));return d!==l?null:l}for(var m=l,v=d;;){var _=m.return;if(_===null)break;var j=_.alternate;if(j===null){if(v=_.return,v!==null){m=v;continue}break}if(_.child===j.child){for(j=_.child;j;){if(j===m)return Wn(_),l;if(j===v)return Wn(_),d;j=j.sibling}throw Error(n(188))}if(m.return!==v.return)m=_,v=j;else{for(var M=!1,W=_.child;W;){if(W===m){M=!0,m=_,v=j;break}if(W===v){M=!0,v=_,m=j;break}W=W.sibling}if(!M){for(W=j.child;W;){if(W===m){M=!0,m=j,v=_;break}if(W===v){M=!0,v=j,m=_;break}W=W.sibling}if(!M)throw Error(n(189))}}if(m.alternate!==v)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?l:d}function Zt(l){return l=Wt(l),l!==null?sr(l):null}function sr(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var d=sr(l);if(d!==null)return d;l=l.sibling}return null}var Zi=t.unstable_scheduleCallback,Ir=t.unstable_cancelCallback,Vt=t.unstable_shouldYield,pi=t.unstable_requestPaint,It=t.unstable_now,Oi=t.unstable_getCurrentPriorityLevel,Dr=t.unstable_ImmediatePriority,Ri=t.unstable_UserBlockingPriority,Dt=t.unstable_NormalPriority,On=t.unstable_LowPriority,Fr=t.unstable_IdlePriority,mi=null,Ut=null;function $s(l){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(mi,l,void 0,(l.current.flags&128)===128)}catch{}}var ft=Math.clz32?Math.clz32:Sh,Fl=Math.log,_h=Math.LN2;function Sh(l){return l>>>=0,l===0?32:31-(Fl(l)/_h|0)|0}var tn=64,Cs=4194304;function es(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function ts(l,d){var m=l.pendingLanes;if(m===0)return 0;var v=0,_=l.suspendedLanes,j=l.pingedLanes,M=m&268435455;if(M!==0){var W=M&~_;W!==0?v=es(W):(j&=M,j!==0&&(v=es(j)))}else M=m&~_,M!==0?v=es(M):j!==0&&(v=es(j));if(v===0)return 0;if(d!==0&&d!==v&&(d&_)===0&&(_=v&-v,j=d&-d,_>=j||_===16&&(j&4194240)!==0))return d;if((v&4)!==0&&(v|=m&16),d=l.entangledLanes,d!==0)for(l=l.entanglements,d&=v;0<d;)m=31-ft(d),_=1<<m,v|=l[m],d&=~_;return v}function yc(l,d){switch(l){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vc(l,d){for(var m=l.suspendedLanes,v=l.pingedLanes,_=l.expirationTimes,j=l.pendingLanes;0<j;){var M=31-ft(j),W=1<<M,Z=_[M];Z===-1?((W&m)===0||(W&v)!==0)&&(_[M]=yc(W,d)):Z<=d&&(l.expiredLanes|=W),j&=~W}}function jo(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function xc(){var l=tn;return tn<<=1,(tn&4194240)===0&&(tn=64),l}function Eo(l){for(var d=[],m=0;31>m;m++)d.push(l);return d}function To(l,d,m){l.pendingLanes|=d,d!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,d=31-ft(d),l[d]=m}function Sa(l,d){var m=l.pendingLanes&~d;l.pendingLanes=d,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=d,l.mutableReadLanes&=d,l.entangledLanes&=d,d=l.entanglements;var v=l.eventTimes;for(l=l.expirationTimes;0<m;){var _=31-ft(m),j=1<<_;d[_]=0,v[_]=-1,l[_]=-1,m&=~j}}function Bl(l,d){var m=l.entangledLanes|=d;for(l=l.entanglements;m;){var v=31-ft(m),_=1<<v;_&d|l[v]&d&&(l[v]|=d),m&=~_}}var en=0;function Ht(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var zl,bc,Ch,xr,Us,Po=!1,gi=[],ns=null,rs=null,on=null,br=new Map,is=new Map,qr=[],wc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ss(l,d){switch(l){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":on=null;break;case"pointerover":case"pointerout":br.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":is.delete(d.pointerId)}}function Ca(l,d,m,v,_,j){return l===null||l.nativeEvent!==j?(l={blockedOn:d,domEventName:m,eventSystemFlags:v,nativeEvent:j,targetContainers:[_]},d!==null&&(d=Ac(d),d!==null&&bc(d)),l):(l.eventSystemFlags|=v,d=l.targetContainers,_!==null&&d.indexOf(_)===-1&&d.push(_),l)}function Mi(l,d,m,v,_){switch(d){case"focusin":return ns=Ca(ns,l,d,m,v,_),!0;case"dragenter":return rs=Ca(rs,l,d,m,v,_),!0;case"mouseover":return on=Ca(on,l,d,m,v,_),!0;case"pointerover":var j=_.pointerId;return br.set(j,Ca(br.get(j)||null,l,d,m,v,_)),!0;case"gotpointercapture":return j=_.pointerId,is.set(j,Ca(is.get(j)||null,l,d,m,v,_)),!0}return!1}function $l(l){var d=Fa(l.target);if(d!==null){var m=Rt(d);if(m!==null){if(d=m.tag,d===13){if(d=bn(m),d!==null){l.blockedOn=d,Us(l.priority,function(){Ch(m)});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){l.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}l.blockedOn=null}function ka(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var m=Ea(l.domEventName,l.eventSystemFlags,d[0],l.nativeEvent);if(m===null){m=l.nativeEvent;var v=new m.constructor(m.type,m);xn=v,m.target.dispatchEvent(v),xn=null}else return d=Ac(m),d!==null&&bc(d),l.blockedOn=m,!1;d.shift()}return!0}function Ul(l,d,m){ka(l)&&m.delete(d)}function ja(){Po=!1,ns!==null&&ka(ns)&&(ns=null),rs!==null&&ka(rs)&&(rs=null),on!==null&&ka(on)&&(on=null),br.forEach(Ul),is.forEach(Ul)}function Hs(l,d){l.blockedOn===d&&(l.blockedOn=null,Po||(Po=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ja)))}function No(l){function d(_){return Hs(_,l)}if(0<gi.length){Hs(gi[0],l);for(var m=1;m<gi.length;m++){var v=gi[m];v.blockedOn===l&&(v.blockedOn=null)}}for(ns!==null&&Hs(ns,l),rs!==null&&Hs(rs,l),on!==null&&Hs(on,l),br.forEach(d),is.forEach(d),m=0;m<qr.length;m++)v=qr[m],v.blockedOn===l&&(v.blockedOn=null);for(;0<qr.length&&(m=qr[0],m.blockedOn===null);)$l(m),m.blockedOn===null&&qr.shift()}var Oo=z.ReactCurrentBatchConfig,ks=!0;function eg(l,d,m,v){var _=en,j=Oo.transition;Oo.transition=null;try{en=1,Ro(l,d,m,v)}finally{en=_,Oo.transition=j}}function tg(l,d,m,v){var _=en,j=Oo.transition;Oo.transition=null;try{en=4,Ro(l,d,m,v)}finally{en=_,Oo.transition=j}}function Ro(l,d,m,v){if(ks){var _=Ea(l,d,m,v);if(_===null)ug(l,d,v,Vs,m),ss(l,v);else if(Mi(_,l,d,m,v))v.stopPropagation();else if(ss(l,v),d&4&&-1<wc.indexOf(l)){for(;_!==null;){var j=Ac(_);if(j!==null&&zl(j),j=Ea(l,d,m,v),j===null&&ug(l,d,v,Vs,m),j===_)break;_=j}_!==null&&v.stopPropagation()}else ug(l,d,v,null,m)}}var Vs=null;function Ea(l,d,m,v){if(Vs=null,l=Ni(v),l=Fa(l),l!==null)if(d=Rt(l),d===null)l=null;else if(m=d.tag,m===13){if(l=bn(d),l!==null)return l;l=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null);return Vs=l,null}function kh(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Oi()){case Dr:return 1;case Ri:return 4;case Dt:case On:return 16;case Fr:return 536870912;default:return 16}default:return 16}}var js=null,_c=null,Mo=null;function Hl(){if(Mo)return Mo;var l,d=_c,m=d.length,v,_="value"in js?js.value:js.textContent,j=_.length;for(l=0;l<m&&d[l]===_[l];l++);var M=m-l;for(v=1;v<=M&&d[m-v]===_[j-v];v++);return Mo=_.slice(l,1<v?1-v:void 0)}function Ta(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function Qs(){return!0}function Pa(){return!1}function or(l){function d(m,v,_,j,M){this._reactName=m,this._targetInst=_,this.type=v,this.nativeEvent=j,this.target=M,this.currentTarget=null;for(var W in l)l.hasOwnProperty(W)&&(m=l[W],this[W]=m?m(j):j[W]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Qs:Pa,this.isPropagationStopped=Pa,this}return D(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Qs)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Qs)},persist:function(){},isPersistent:Qs}),d}var Ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sc=or(Ws),Es=D({},Ws,{view:0,detail:0}),Cc=or(Es),Na,Oa,qs,Bn=D({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ma,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==qs&&(qs&&l.type==="mousemove"?(Na=l.screenX-qs.screenX,Oa=l.screenY-qs.screenY):Oa=Na=0,qs=l),Na)},movementY:function(l){return"movementY"in l?l.movementY:Oa}}),Ao=or(Bn),Ra=D({},Bn,{dataTransfer:0}),jh=or(Ra),Vl=D({},Es,{relatedTarget:0}),Ql=or(Vl),Eh=D({},Ws,{animationName:0,elapsedTime:0,pseudoElement:0}),Wl=or(Eh),kc=D({},Ws,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Ks=or(kc),jc=D({},Ws,{data:0}),ql=or(jc),Kl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ec={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Th={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ng(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=Th[l])?!!d[l]:!1}function Ma(){return ng}var Gl=D({},Es,{key:function(l){if(l.key){var d=Kl[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=Ta(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Ec[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ma,charCode:function(l){return l.type==="keypress"?Ta(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Ta(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),rg=or(Gl),Tc=D({},Bn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yl=or(Tc),ig=D({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ma}),Ph=or(ig),sg=D({},Ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nh=or(sg),Oh=D({},Bn,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),og=or(Oh),Rh=[9,13,27,32],Aa=a&&"CompositionEvent"in window,Lo=null;a&&"documentMode"in document&&(Lo=document.documentMode);var Mh=a&&"TextEvent"in window&&!Lo,Ah=a&&(!Aa||Lo&&8<Lo&&11>=Lo),Lh=" ",Ih=!1;function La(l,d){switch(l){case"keyup":return Rh.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ai(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var sn=!1;function Xl(l,d){switch(l){case"compositionend":return Ai(d);case"keypress":return d.which!==32?null:(Ih=!0,Lh);case"textInput":return l=d.data,l===Lh&&Ih?null:l;default:return null}}function Kr(l,d){if(sn)return l==="compositionend"||!Aa&&La(l,d)?(l=Hl(),Mo=_c=js=null,sn=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Ah&&d.locale!=="ko"?null:d.data;default:return null}}var ag={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jl(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!ag[l.type]:d==="textarea"}function Pc(l,d,m,v){Ss(v),d=Bh(d,"onChange"),0<d.length&&(m=new Sc("onChange","change",null,m,v),l.push({event:m,listeners:d}))}var yi=null,Gs=null;function Io(l){$x(l,0)}function vi(l){var d=tu(l);if(Nt(d))return l}function Dh(l,d){if(l==="change")return d}var y=!1;if(a){var b;if(a){var C="oninput"in document;if(!C){var P=document.createElement("div");P.setAttribute("oninput","return;"),C=typeof P.oninput=="function"}b=C}else b=!1;y=b&&(!document.documentMode||9<document.documentMode)}function O(){yi&&(yi.detachEvent("onpropertychange",L),Gs=yi=null)}function L(l){if(l.propertyName==="value"&&vi(Gs)){var d=[];Pc(d,Gs,l,Ni(l)),pe(Io,d)}}function $(l,d,m){l==="focusin"?(O(),yi=d,Gs=m,yi.attachEvent("onpropertychange",L)):l==="focusout"&&O()}function K(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return vi(Gs)}function ee(l,d){if(l==="click")return vi(d)}function ie(l,d){if(l==="input"||l==="change")return vi(d)}function de(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var Y=typeof Object.is=="function"?Object.is:de;function he(l,d){if(Y(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var m=Object.keys(l),v=Object.keys(d);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var _=m[v];if(!u.call(d,_)||!Y(l[_],d[_]))return!1}return!0}function re(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function ce(l,d){var m=re(l);l=0;for(var v;m;){if(m.nodeType===3){if(v=l+m.textContent.length,l<=d&&v>=d)return{node:m,offset:d-l};l=v}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=re(m)}}function fe(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?fe(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function oe(){for(var l=window,d=vn();d instanceof l.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch{m=!1}if(m)l=d.contentWindow;else break;d=vn(l.document)}return d}function ve(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}function we(l){var d=oe(),m=l.focusedElem,v=l.selectionRange;if(d!==m&&m&&m.ownerDocument&&fe(m.ownerDocument.documentElement,m)){if(v!==null&&ve(m)){if(d=v.start,l=v.end,l===void 0&&(l=d),"selectionStart"in m)m.selectionStart=d,m.selectionEnd=Math.min(l,m.value.length);else if(l=(d=m.ownerDocument||document)&&d.defaultView||window,l.getSelection){l=l.getSelection();var _=m.textContent.length,j=Math.min(v.start,_);v=v.end===void 0?j:Math.min(v.end,_),!l.extend&&j>v&&(_=v,v=j,j=_),_=ce(m,j);var M=ce(m,v);_&&M&&(l.rangeCount!==1||l.anchorNode!==_.node||l.anchorOffset!==_.offset||l.focusNode!==M.node||l.focusOffset!==M.offset)&&(d=d.createRange(),d.setStart(_.node,_.offset),l.removeAllRanges(),j>v?(l.addRange(d),l.extend(M.node,M.offset)):(d.setEnd(M.node,M.offset),l.addRange(d)))}}for(d=[],l=m;l=l.parentNode;)l.nodeType===1&&d.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<d.length;m++)l=d[m],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var Se=a&&"documentMode"in document&&11>=document.documentMode,ke=null,Ie=null,He=null,De=!1;function ze(l,d,m){var v=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;De||ke==null||ke!==vn(v)||(v=ke,"selectionStart"in v&&ve(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),He&&he(He,v)||(He=v,v=Bh(Ie,"onSelect"),0<v.length&&(d=new Sc("onSelect","select",null,d,m),l.push({event:d,listeners:v}),d.target=ke)))}function Ve(l,d){var m={};return m[l.toLowerCase()]=d.toLowerCase(),m["Webkit"+l]="webkit"+d,m["Moz"+l]="moz"+d,m}var $e={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Ge={},yt={};a&&(yt=document.createElement("div").style,"AnimationEvent"in window||(delete $e.animationend.animation,delete $e.animationiteration.animation,delete $e.animationstart.animation),"TransitionEvent"in window||delete $e.transitionend.transition);function wt(l){if(Ge[l])return Ge[l];if(!$e[l])return l;var d=$e[l],m;for(m in d)if(d.hasOwnProperty(m)&&m in yt)return Ge[l]=d[m];return l}var Et=wt("animationend"),wr=wt("animationiteration"),gt=wt("animationstart"),Xn=wt("transitionend"),Jn=new Map,Ia="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wn(l,d){Jn.set(l,d),s(d,[l])}for(var os=0;os<Ia.length;os++){var Da=Ia[os],k8=Da.toLowerCase(),j8=Da[0].toUpperCase()+Da.slice(1);wn(k8,"on"+j8)}wn(Et,"onAnimationEnd"),wn(wr,"onAnimationIteration"),wn(gt,"onAnimationStart"),wn("dblclick","onDoubleClick"),wn("focusin","onFocus"),wn("focusout","onBlur"),wn(Xn,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nc));function zx(l,d,m){var v=l.type||"unknown-event";l.currentTarget=m,St(v,d,void 0,l),l.currentTarget=null}function $x(l,d){d=(d&4)!==0;for(var m=0;m<l.length;m++){var v=l[m],_=v.event;v=v.listeners;e:{var j=void 0;if(d)for(var M=v.length-1;0<=M;M--){var W=v[M],Z=W.instance,be=W.currentTarget;if(W=W.listener,Z!==j&&_.isPropagationStopped())break e;zx(_,W,be),j=Z}else for(M=0;M<v.length;M++){if(W=v[M],Z=W.instance,be=W.currentTarget,W=W.listener,Z!==j&&_.isPropagationStopped())break e;zx(_,W,be),j=Z}}}if(tt)throw l=at,tt=!1,at=null,l}function mn(l,d){var m=d[mg];m===void 0&&(m=d[mg]=new Set);var v=l+"__bubble";m.has(v)||(Ux(d,l,2,!1),m.add(v))}function lg(l,d,m){var v=0;d&&(v|=4),Ux(m,l,v,d)}var Fh="_reactListening"+Math.random().toString(36).slice(2);function Oc(l){if(!l[Fh]){l[Fh]=!0,r.forEach(function(m){m!=="selectionchange"&&(E8.has(m)||lg(m,!1,l),lg(m,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[Fh]||(d[Fh]=!0,lg("selectionchange",!1,d))}}function Ux(l,d,m,v){switch(kh(d)){case 1:var _=eg;break;case 4:_=tg;break;default:_=Ro}m=_.bind(null,d,m,l),_=void 0,!Ae||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(_=!0),v?_!==void 0?l.addEventListener(d,m,{capture:!0,passive:_}):l.addEventListener(d,m,!0):_!==void 0?l.addEventListener(d,m,{passive:_}):l.addEventListener(d,m,!1)}function ug(l,d,m,v,_){var j=v;if((d&1)===0&&(d&2)===0&&v!==null)e:for(;;){if(v===null)return;var M=v.tag;if(M===3||M===4){var W=v.stateNode.containerInfo;if(W===_||W.nodeType===8&&W.parentNode===_)break;if(M===4)for(M=v.return;M!==null;){var Z=M.tag;if((Z===3||Z===4)&&(Z=M.stateNode.containerInfo,Z===_||Z.nodeType===8&&Z.parentNode===_))return;M=M.return}for(;W!==null;){if(M=Fa(W),M===null)return;if(Z=M.tag,Z===5||Z===6){v=j=M;continue e}W=W.parentNode}}v=v.return}pe(function(){var be=j,Me=Ni(m),Le=[];e:{var Pe=Jn.get(l);if(Pe!==void 0){var Xe=Sc,nt=l;switch(l){case"keypress":if(Ta(m)===0)break e;case"keydown":case"keyup":Xe=rg;break;case"focusin":nt="focus",Xe=Ql;break;case"focusout":nt="blur",Xe=Ql;break;case"beforeblur":case"afterblur":Xe=Ql;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Xe=Ao;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Xe=jh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Xe=Ph;break;case Et:case wr:case gt:Xe=Wl;break;case Xn:Xe=Nh;break;case"scroll":Xe=Cc;break;case"wheel":Xe=og;break;case"copy":case"cut":case"paste":Xe=Ks;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Xe=Yl}var it=(d&4)!==0,zn=!it&&l==="scroll",ge=it?Pe!==null?Pe+"Capture":null:Pe;it=[];for(var se=be,xe;se!==null;){xe=se;var Ue=xe.stateNode;if(xe.tag===5&&Ue!==null&&(xe=Ue,ge!==null&&(Ue=_e(se,ge),Ue!=null&&it.push(Rc(se,Ue,xe)))),zn)break;se=se.return}0<it.length&&(Pe=new Xe(Pe,nt,null,m,Me),Le.push({event:Pe,listeners:it}))}}if((d&7)===0){e:{if(Pe=l==="mouseover"||l==="pointerover",Xe=l==="mouseout"||l==="pointerout",Pe&&m!==xn&&(nt=m.relatedTarget||m.fromElement)&&(Fa(nt)||nt[Ys]))break e;if((Xe||Pe)&&(Pe=Me.window===Me?Me:(Pe=Me.ownerDocument)?Pe.defaultView||Pe.parentWindow:window,Xe?(nt=m.relatedTarget||m.toElement,Xe=be,nt=nt?Fa(nt):null,nt!==null&&(zn=Rt(nt),nt!==zn||nt.tag!==5&&nt.tag!==6)&&(nt=null)):(Xe=null,nt=be),Xe!==nt)){if(it=Ao,Ue="onMouseLeave",ge="onMouseEnter",se="mouse",(l==="pointerout"||l==="pointerover")&&(it=Yl,Ue="onPointerLeave",ge="onPointerEnter",se="pointer"),zn=Xe==null?Pe:tu(Xe),xe=nt==null?Pe:tu(nt),Pe=new it(Ue,se+"leave",Xe,m,Me),Pe.target=zn,Pe.relatedTarget=xe,Ue=null,Fa(Me)===be&&(it=new it(ge,se+"enter",nt,m,Me),it.target=xe,it.relatedTarget=zn,Ue=it),zn=Ue,Xe&&nt)t:{for(it=Xe,ge=nt,se=0,xe=it;xe;xe=Zl(xe))se++;for(xe=0,Ue=ge;Ue;Ue=Zl(Ue))xe++;for(;0<se-xe;)it=Zl(it),se--;for(;0<xe-se;)ge=Zl(ge),xe--;for(;se--;){if(it===ge||ge!==null&&it===ge.alternate)break t;it=Zl(it),ge=Zl(ge)}it=null}else it=null;Xe!==null&&Hx(Le,Pe,Xe,it,!1),nt!==null&&zn!==null&&Hx(Le,zn,nt,it,!0)}}e:{if(Pe=be?tu(be):window,Xe=Pe.nodeName&&Pe.nodeName.toLowerCase(),Xe==="select"||Xe==="input"&&Pe.type==="file")var st=Dh;else if(Jl(Pe))if(y)st=ie;else{st=K;var ut=$}else(Xe=Pe.nodeName)&&Xe.toLowerCase()==="input"&&(Pe.type==="checkbox"||Pe.type==="radio")&&(st=ee);if(st&&(st=st(l,be))){Pc(Le,st,m,Me);break e}ut&&ut(l,Pe,be),l==="focusout"&&(ut=Pe._wrapperState)&&ut.controlled&&Pe.type==="number"&&ws(Pe,"number",Pe.value)}switch(ut=be?tu(be):window,l){case"focusin":(Jl(ut)||ut.contentEditable==="true")&&(ke=ut,Ie=be,He=null);break;case"focusout":He=Ie=ke=null;break;case"mousedown":De=!0;break;case"contextmenu":case"mouseup":case"dragend":De=!1,ze(Le,m,Me);break;case"selectionchange":if(Se)break;case"keydown":case"keyup":ze(Le,m,Me)}var ct;if(Aa)e:{switch(l){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else sn?La(l,m)&&(mt="onCompositionEnd"):l==="keydown"&&m.keyCode===229&&(mt="onCompositionStart");mt&&(Ah&&m.locale!=="ko"&&(sn||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&sn&&(ct=Hl()):(js=Me,_c="value"in js?js.value:js.textContent,sn=!0)),ut=Bh(be,mt),0<ut.length&&(mt=new ql(mt,l,null,m,Me),Le.push({event:mt,listeners:ut}),ct?mt.data=ct:(ct=Ai(m),ct!==null&&(mt.data=ct)))),(ct=Mh?Xl(l,m):Kr(l,m))&&(be=Bh(be,"onBeforeInput"),0<be.length&&(Me=new ql("onBeforeInput","beforeinput",null,m,Me),Le.push({event:Me,listeners:be}),Me.data=ct))}$x(Le,d)})}function Rc(l,d,m){return{instance:l,listener:d,currentTarget:m}}function Bh(l,d){for(var m=d+"Capture",v=[];l!==null;){var _=l,j=_.stateNode;_.tag===5&&j!==null&&(_=j,j=_e(l,m),j!=null&&v.unshift(Rc(l,j,_)),j=_e(l,d),j!=null&&v.push(Rc(l,j,_))),l=l.return}return v}function Zl(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function Hx(l,d,m,v,_){for(var j=d._reactName,M=[];m!==null&&m!==v;){var W=m,Z=W.alternate,be=W.stateNode;if(Z!==null&&Z===v)break;W.tag===5&&be!==null&&(W=be,_?(Z=_e(m,j),Z!=null&&M.unshift(Rc(m,Z,W))):_||(Z=_e(m,j),Z!=null&&M.push(Rc(m,Z,W)))),m=m.return}M.length!==0&&l.push({event:d,listeners:M})}var T8=/\r\n?/g,P8=/\u0000|\uFFFD/g;function Vx(l){return(typeof l=="string"?l:""+l).replace(T8,`
`).replace(P8,"")}function zh(l,d,m){if(d=Vx(d),Vx(l)!==d&&m)throw Error(n(425))}function $h(){}var cg=null,dg=null;function hg(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var fg=typeof setTimeout=="function"?setTimeout:void 0,N8=typeof clearTimeout=="function"?clearTimeout:void 0,Qx=typeof Promise=="function"?Promise:void 0,O8=typeof queueMicrotask=="function"?queueMicrotask:typeof Qx<"u"?function(l){return Qx.resolve(null).then(l).catch(R8)}:fg;function R8(l){setTimeout(function(){throw l})}function pg(l,d){var m=d,v=0;do{var _=m.nextSibling;if(l.removeChild(m),_&&_.nodeType===8)if(m=_.data,m==="/$"){if(v===0){l.removeChild(_),No(d);return}v--}else m!=="$"&&m!=="$?"&&m!=="$!"||v++;m=_}while(m);No(d)}function Do(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return l}function Wx(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var m=l.data;if(m==="$"||m==="$!"||m==="$?"){if(d===0)return l;d--}else m==="/$"&&d++}l=l.previousSibling}return null}var eu=Math.random().toString(36).slice(2),Ts="__reactFiber$"+eu,Mc="__reactProps$"+eu,Ys="__reactContainer$"+eu,mg="__reactEvents$"+eu,M8="__reactListeners$"+eu,A8="__reactHandles$"+eu;function Fa(l){var d=l[Ts];if(d)return d;for(var m=l.parentNode;m;){if(d=m[Ys]||m[Ts]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(l=Wx(l);l!==null;){if(m=l[Ts])return m;l=Wx(l)}return d}l=m,m=l.parentNode}return null}function Ac(l){return l=l[Ts]||l[Ys],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function tu(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(n(33))}function Uh(l){return l[Mc]||null}var gg=[],nu=-1;function Fo(l){return{current:l}}function gn(l){0>nu||(l.current=gg[nu],gg[nu]=null,nu--)}function ln(l,d){nu++,gg[nu]=l.current,l.current=d}var Bo={},_r=Fo(Bo),Gr=Fo(!1),Ba=Bo;function ru(l,d){var m=l.type.contextTypes;if(!m)return Bo;var v=l.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===d)return v.__reactInternalMemoizedMaskedChildContext;var _={},j;for(j in m)_[j]=d[j];return v&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=d,l.__reactInternalMemoizedMaskedChildContext=_),_}function Yr(l){return l=l.childContextTypes,l!=null}function Hh(){gn(Gr),gn(_r)}function qx(l,d,m){if(_r.current!==Bo)throw Error(n(168));ln(_r,d),ln(Gr,m)}function Kx(l,d,m){var v=l.stateNode;if(d=d.childContextTypes,typeof v.getChildContext!="function")return m;v=v.getChildContext();for(var _ in v)if(!(_ in d))throw Error(n(108,Ye(l)||"Unknown",_));return D({},m,v)}function Vh(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Bo,Ba=_r.current,ln(_r,l),ln(Gr,Gr.current),!0}function Gx(l,d,m){var v=l.stateNode;if(!v)throw Error(n(169));m?(l=Kx(l,d,Ba),v.__reactInternalMemoizedMergedChildContext=l,gn(Gr),gn(_r),ln(_r,l)):gn(Gr),ln(Gr,m)}var Xs=null,Qh=!1,yg=!1;function Yx(l){Xs===null?Xs=[l]:Xs.push(l)}function L8(l){Qh=!0,Yx(l)}function zo(){if(!yg&&Xs!==null){yg=!0;var l=0,d=en;try{var m=Xs;for(en=1;l<m.length;l++){var v=m[l];do v=v(!0);while(v!==null)}Xs=null,Qh=!1}catch(_){throw Xs!==null&&(Xs=Xs.slice(l+1)),Zi(Dr,zo),_}finally{en=d,yg=!1}}return null}var iu=[],su=0,Wh=null,qh=0,Li=[],Ii=0,za=null,Js=1,Zs="";function $a(l,d){iu[su++]=qh,iu[su++]=Wh,Wh=l,qh=d}function Xx(l,d,m){Li[Ii++]=Js,Li[Ii++]=Zs,Li[Ii++]=za,za=l;var v=Js;l=Zs;var _=32-ft(v)-1;v&=~(1<<_),m+=1;var j=32-ft(d)+_;if(30<j){var M=_-_%5;j=(v&(1<<M)-1).toString(32),v>>=M,_-=M,Js=1<<32-ft(d)+_|m<<_|v,Zs=j+l}else Js=1<<j|m<<_|v,Zs=l}function vg(l){l.return!==null&&($a(l,1),Xx(l,1,0))}function xg(l){for(;l===Wh;)Wh=iu[--su],iu[su]=null,qh=iu[--su],iu[su]=null;for(;l===za;)za=Li[--Ii],Li[Ii]=null,Zs=Li[--Ii],Li[Ii]=null,Js=Li[--Ii],Li[Ii]=null}var xi=null,bi=null,_n=!1,as=null;function Jx(l,d){var m=zi(5,null,null,0);m.elementType="DELETED",m.stateNode=d,m.return=l,d=l.deletions,d===null?(l.deletions=[m],l.flags|=16):d.push(m)}function Zx(l,d){switch(l.tag){case 5:var m=l.type;return d=d.nodeType!==1||m.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(l.stateNode=d,xi=l,bi=Do(d.firstChild),!0):!1;case 6:return d=l.pendingProps===""||d.nodeType!==3?null:d,d!==null?(l.stateNode=d,xi=l,bi=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(m=za!==null?{id:Js,overflow:Zs}:null,l.memoizedState={dehydrated:d,treeContext:m,retryLane:1073741824},m=zi(18,null,null,0),m.stateNode=d,m.return=l,l.child=m,xi=l,bi=null,!0):!1;default:return!1}}function bg(l){return(l.mode&1)!==0&&(l.flags&128)===0}function wg(l){if(_n){var d=bi;if(d){var m=d;if(!Zx(l,d)){if(bg(l))throw Error(n(418));d=Do(m.nextSibling);var v=xi;d&&Zx(l,d)?Jx(v,m):(l.flags=l.flags&-4097|2,_n=!1,xi=l)}}else{if(bg(l))throw Error(n(418));l.flags=l.flags&-4097|2,_n=!1,xi=l}}}function eb(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;xi=l}function Kh(l){if(l!==xi)return!1;if(!_n)return eb(l),_n=!0,!1;var d;if((d=l.tag!==3)&&!(d=l.tag!==5)&&(d=l.type,d=d!=="head"&&d!=="body"&&!hg(l.type,l.memoizedProps)),d&&(d=bi)){if(bg(l))throw tb(),Error(n(418));for(;d;)Jx(l,d),d=Do(d.nextSibling)}if(eb(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));e:{for(l=l.nextSibling,d=0;l;){if(l.nodeType===8){var m=l.data;if(m==="/$"){if(d===0){bi=Do(l.nextSibling);break e}d--}else m!=="$"&&m!=="$!"&&m!=="$?"||d++}l=l.nextSibling}bi=null}}else bi=xi?Do(l.stateNode.nextSibling):null;return!0}function tb(){for(var l=bi;l;)l=Do(l.nextSibling)}function ou(){bi=xi=null,_n=!1}function _g(l){as===null?as=[l]:as.push(l)}var I8=z.ReactCurrentBatchConfig;function Lc(l,d,m){if(l=m.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var v=m.stateNode}if(!v)throw Error(n(147,l));var _=v,j=""+l;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===j?d.ref:(d=function(M){var W=_.refs;M===null?delete W[j]:W[j]=M},d._stringRef=j,d)}if(typeof l!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,l))}return l}function Gh(l,d){throw l=Object.prototype.toString.call(d),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l))}function nb(l){var d=l._init;return d(l._payload)}function rb(l){function d(ge,se){if(l){var xe=ge.deletions;xe===null?(ge.deletions=[se],ge.flags|=16):xe.push(se)}}function m(ge,se){if(!l)return null;for(;se!==null;)d(ge,se),se=se.sibling;return null}function v(ge,se){for(ge=new Map;se!==null;)se.key!==null?ge.set(se.key,se):ge.set(se.index,se),se=se.sibling;return ge}function _(ge,se){return ge=Ko(ge,se),ge.index=0,ge.sibling=null,ge}function j(ge,se,xe){return ge.index=xe,l?(xe=ge.alternate,xe!==null?(xe=xe.index,xe<se?(ge.flags|=2,se):xe):(ge.flags|=2,se)):(ge.flags|=1048576,se)}function M(ge){return l&&ge.alternate===null&&(ge.flags|=2),ge}function W(ge,se,xe,Ue){return se===null||se.tag!==6?(se=f0(xe,ge.mode,Ue),se.return=ge,se):(se=_(se,xe),se.return=ge,se)}function Z(ge,se,xe,Ue){var st=xe.type;return st===I?Me(ge,se,xe.props.children,Ue,xe.key):se!==null&&(se.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===J&&nb(st)===se.type)?(Ue=_(se,xe.props),Ue.ref=Lc(ge,se,xe),Ue.return=ge,Ue):(Ue=bf(xe.type,xe.key,xe.props,null,ge.mode,Ue),Ue.ref=Lc(ge,se,xe),Ue.return=ge,Ue)}function be(ge,se,xe,Ue){return se===null||se.tag!==4||se.stateNode.containerInfo!==xe.containerInfo||se.stateNode.implementation!==xe.implementation?(se=p0(xe,ge.mode,Ue),se.return=ge,se):(se=_(se,xe.children||[]),se.return=ge,se)}function Me(ge,se,xe,Ue,st){return se===null||se.tag!==7?(se=Ga(xe,ge.mode,Ue,st),se.return=ge,se):(se=_(se,xe),se.return=ge,se)}function Le(ge,se,xe){if(typeof se=="string"&&se!==""||typeof se=="number")return se=f0(""+se,ge.mode,xe),se.return=ge,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case U:return xe=bf(se.type,se.key,se.props,null,ge.mode,xe),xe.ref=Lc(ge,null,se),xe.return=ge,xe;case N:return se=p0(se,ge.mode,xe),se.return=ge,se;case J:var Ue=se._init;return Le(ge,Ue(se._payload),xe)}if(Qr(se)||me(se))return se=Ga(se,ge.mode,xe,null),se.return=ge,se;Gh(ge,se)}return null}function Pe(ge,se,xe,Ue){var st=se!==null?se.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number")return st!==null?null:W(ge,se,""+xe,Ue);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case U:return xe.key===st?Z(ge,se,xe,Ue):null;case N:return xe.key===st?be(ge,se,xe,Ue):null;case J:return st=xe._init,Pe(ge,se,st(xe._payload),Ue)}if(Qr(xe)||me(xe))return st!==null?null:Me(ge,se,xe,Ue,null);Gh(ge,xe)}return null}function Xe(ge,se,xe,Ue,st){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number")return ge=ge.get(xe)||null,W(se,ge,""+Ue,st);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case U:return ge=ge.get(Ue.key===null?xe:Ue.key)||null,Z(se,ge,Ue,st);case N:return ge=ge.get(Ue.key===null?xe:Ue.key)||null,be(se,ge,Ue,st);case J:var ut=Ue._init;return Xe(ge,se,xe,ut(Ue._payload),st)}if(Qr(Ue)||me(Ue))return ge=ge.get(xe)||null,Me(se,ge,Ue,st,null);Gh(se,Ue)}return null}function nt(ge,se,xe,Ue){for(var st=null,ut=null,ct=se,mt=se=0,ur=null;ct!==null&&mt<xe.length;mt++){ct.index>mt?(ur=ct,ct=null):ur=ct.sibling;var Kt=Pe(ge,ct,xe[mt],Ue);if(Kt===null){ct===null&&(ct=ur);break}l&&ct&&Kt.alternate===null&&d(ge,ct),se=j(Kt,se,mt),ut===null?st=Kt:ut.sibling=Kt,ut=Kt,ct=ur}if(mt===xe.length)return m(ge,ct),_n&&$a(ge,mt),st;if(ct===null){for(;mt<xe.length;mt++)ct=Le(ge,xe[mt],Ue),ct!==null&&(se=j(ct,se,mt),ut===null?st=ct:ut.sibling=ct,ut=ct);return _n&&$a(ge,mt),st}for(ct=v(ge,ct);mt<xe.length;mt++)ur=Xe(ct,ge,mt,xe[mt],Ue),ur!==null&&(l&&ur.alternate!==null&&ct.delete(ur.key===null?mt:ur.key),se=j(ur,se,mt),ut===null?st=ur:ut.sibling=ur,ut=ur);return l&&ct.forEach(function(Go){return d(ge,Go)}),_n&&$a(ge,mt),st}function it(ge,se,xe,Ue){var st=me(xe);if(typeof st!="function")throw Error(n(150));if(xe=st.call(xe),xe==null)throw Error(n(151));for(var ut=st=null,ct=se,mt=se=0,ur=null,Kt=xe.next();ct!==null&&!Kt.done;mt++,Kt=xe.next()){ct.index>mt?(ur=ct,ct=null):ur=ct.sibling;var Go=Pe(ge,ct,Kt.value,Ue);if(Go===null){ct===null&&(ct=ur);break}l&&ct&&Go.alternate===null&&d(ge,ct),se=j(Go,se,mt),ut===null?st=Go:ut.sibling=Go,ut=Go,ct=ur}if(Kt.done)return m(ge,ct),_n&&$a(ge,mt),st;if(ct===null){for(;!Kt.done;mt++,Kt=xe.next())Kt=Le(ge,Kt.value,Ue),Kt!==null&&(se=j(Kt,se,mt),ut===null?st=Kt:ut.sibling=Kt,ut=Kt);return _n&&$a(ge,mt),st}for(ct=v(ge,ct);!Kt.done;mt++,Kt=xe.next())Kt=Xe(ct,ge,mt,Kt.value,Ue),Kt!==null&&(l&&Kt.alternate!==null&&ct.delete(Kt.key===null?mt:Kt.key),se=j(Kt,se,mt),ut===null?st=Kt:ut.sibling=Kt,ut=Kt);return l&&ct.forEach(function(mk){return d(ge,mk)}),_n&&$a(ge,mt),st}function zn(ge,se,xe,Ue){if(typeof xe=="object"&&xe!==null&&xe.type===I&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case U:e:{for(var st=xe.key,ut=se;ut!==null;){if(ut.key===st){if(st=xe.type,st===I){if(ut.tag===7){m(ge,ut.sibling),se=_(ut,xe.props.children),se.return=ge,ge=se;break e}}else if(ut.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===J&&nb(st)===ut.type){m(ge,ut.sibling),se=_(ut,xe.props),se.ref=Lc(ge,ut,xe),se.return=ge,ge=se;break e}m(ge,ut);break}else d(ge,ut);ut=ut.sibling}xe.type===I?(se=Ga(xe.props.children,ge.mode,Ue,xe.key),se.return=ge,ge=se):(Ue=bf(xe.type,xe.key,xe.props,null,ge.mode,Ue),Ue.ref=Lc(ge,se,xe),Ue.return=ge,ge=Ue)}return M(ge);case N:e:{for(ut=xe.key;se!==null;){if(se.key===ut)if(se.tag===4&&se.stateNode.containerInfo===xe.containerInfo&&se.stateNode.implementation===xe.implementation){m(ge,se.sibling),se=_(se,xe.children||[]),se.return=ge,ge=se;break e}else{m(ge,se);break}else d(ge,se);se=se.sibling}se=p0(xe,ge.mode,Ue),se.return=ge,ge=se}return M(ge);case J:return ut=xe._init,zn(ge,se,ut(xe._payload),Ue)}if(Qr(xe))return nt(ge,se,xe,Ue);if(me(xe))return it(ge,se,xe,Ue);Gh(ge,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"?(xe=""+xe,se!==null&&se.tag===6?(m(ge,se.sibling),se=_(se,xe),se.return=ge,ge=se):(m(ge,se),se=f0(xe,ge.mode,Ue),se.return=ge,ge=se),M(ge)):m(ge,se)}return zn}var au=rb(!0),ib=rb(!1),Yh=Fo(null),Xh=null,lu=null,Sg=null;function Cg(){Sg=lu=Xh=null}function kg(l){var d=Yh.current;gn(Yh),l._currentValue=d}function jg(l,d,m){for(;l!==null;){var v=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,v!==null&&(v.childLanes|=d)):v!==null&&(v.childLanes&d)!==d&&(v.childLanes|=d),l===m)break;l=l.return}}function uu(l,d){Xh=l,Sg=lu=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&d)!==0&&(Xr=!0),l.firstContext=null)}function Di(l){var d=l._currentValue;if(Sg!==l)if(l={context:l,memoizedValue:d,next:null},lu===null){if(Xh===null)throw Error(n(308));lu=l,Xh.dependencies={lanes:0,firstContext:l}}else lu=lu.next=l;return d}var Ua=null;function Eg(l){Ua===null?Ua=[l]:Ua.push(l)}function sb(l,d,m,v){var _=d.interleaved;return _===null?(m.next=m,Eg(d)):(m.next=_.next,_.next=m),d.interleaved=m,eo(l,v)}function eo(l,d){l.lanes|=d;var m=l.alternate;for(m!==null&&(m.lanes|=d),m=l,l=l.return;l!==null;)l.childLanes|=d,m=l.alternate,m!==null&&(m.childLanes|=d),m=l,l=l.return;return m.tag===3?m.stateNode:null}var $o=!1;function Tg(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ob(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function to(l,d){return{eventTime:l,lane:d,tag:0,payload:null,callback:null,next:null}}function Uo(l,d,m){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(qt&2)!==0){var _=v.pending;return _===null?d.next=d:(d.next=_.next,_.next=d),v.pending=d,eo(l,m)}return _=v.interleaved,_===null?(d.next=d,Eg(v)):(d.next=_.next,_.next=d),v.interleaved=d,eo(l,m)}function Jh(l,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194240)!==0)){var v=d.lanes;v&=l.pendingLanes,m|=v,d.lanes=m,Bl(l,m)}}function ab(l,d){var m=l.updateQueue,v=l.alternate;if(v!==null&&(v=v.updateQueue,m===v)){var _=null,j=null;if(m=m.firstBaseUpdate,m!==null){do{var M={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};j===null?_=j=M:j=j.next=M,m=m.next}while(m!==null);j===null?_=j=d:j=j.next=d}else _=j=d;m={baseState:v.baseState,firstBaseUpdate:_,lastBaseUpdate:j,shared:v.shared,effects:v.effects},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=d:l.next=d,m.lastBaseUpdate=d}function Zh(l,d,m,v){var _=l.updateQueue;$o=!1;var j=_.firstBaseUpdate,M=_.lastBaseUpdate,W=_.shared.pending;if(W!==null){_.shared.pending=null;var Z=W,be=Z.next;Z.next=null,M===null?j=be:M.next=be,M=Z;var Me=l.alternate;Me!==null&&(Me=Me.updateQueue,W=Me.lastBaseUpdate,W!==M&&(W===null?Me.firstBaseUpdate=be:W.next=be,Me.lastBaseUpdate=Z))}if(j!==null){var Le=_.baseState;M=0,Me=be=Z=null,W=j;do{var Pe=W.lane,Xe=W.eventTime;if((v&Pe)===Pe){Me!==null&&(Me=Me.next={eventTime:Xe,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var nt=l,it=W;switch(Pe=d,Xe=m,it.tag){case 1:if(nt=it.payload,typeof nt=="function"){Le=nt.call(Xe,Le,Pe);break e}Le=nt;break e;case 3:nt.flags=nt.flags&-65537|128;case 0:if(nt=it.payload,Pe=typeof nt=="function"?nt.call(Xe,Le,Pe):nt,Pe==null)break e;Le=D({},Le,Pe);break e;case 2:$o=!0}}W.callback!==null&&W.lane!==0&&(l.flags|=64,Pe=_.effects,Pe===null?_.effects=[W]:Pe.push(W))}else Xe={eventTime:Xe,lane:Pe,tag:W.tag,payload:W.payload,callback:W.callback,next:null},Me===null?(be=Me=Xe,Z=Le):Me=Me.next=Xe,M|=Pe;if(W=W.next,W===null){if(W=_.shared.pending,W===null)break;Pe=W,W=Pe.next,Pe.next=null,_.lastBaseUpdate=Pe,_.shared.pending=null}}while(!0);if(Me===null&&(Z=Le),_.baseState=Z,_.firstBaseUpdate=be,_.lastBaseUpdate=Me,d=_.shared.interleaved,d!==null){_=d;do M|=_.lane,_=_.next;while(_!==d)}else j===null&&(_.shared.lanes=0);Qa|=M,l.lanes=M,l.memoizedState=Le}}function lb(l,d,m){if(l=d.effects,d.effects=null,l!==null)for(d=0;d<l.length;d++){var v=l[d],_=v.callback;if(_!==null){if(v.callback=null,v=m,typeof _!="function")throw Error(n(191,_));_.call(v)}}}var Ic={},Ps=Fo(Ic),Dc=Fo(Ic),Fc=Fo(Ic);function Ha(l){if(l===Ic)throw Error(n(174));return l}function Pg(l,d){switch(ln(Fc,d),ln(Dc,l),ln(Ps,Ic),l=d.nodeType,l){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:Re(null,"");break;default:l=l===8?d.parentNode:d,d=l.namespaceURI||null,l=l.tagName,d=Re(d,l)}gn(Ps),ln(Ps,d)}function cu(){gn(Ps),gn(Dc),gn(Fc)}function ub(l){Ha(Fc.current);var d=Ha(Ps.current),m=Re(d,l.type);d!==m&&(ln(Dc,l),ln(Ps,m))}function Ng(l){Dc.current===l&&(gn(Ps),gn(Dc))}var jn=Fo(0);function ef(l){for(var d=l;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Og=[];function Rg(){for(var l=0;l<Og.length;l++)Og[l]._workInProgressVersionPrimary=null;Og.length=0}var tf=z.ReactCurrentDispatcher,Mg=z.ReactCurrentBatchConfig,Va=0,En=null,Zn=null,ar=null,nf=!1,Bc=!1,zc=0,D8=0;function Sr(){throw Error(n(321))}function Ag(l,d){if(d===null)return!1;for(var m=0;m<d.length&&m<l.length;m++)if(!Y(l[m],d[m]))return!1;return!0}function Lg(l,d,m,v,_,j){if(Va=j,En=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,tf.current=l===null||l.memoizedState===null?$8:U8,l=m(v,_),Bc){j=0;do{if(Bc=!1,zc=0,25<=j)throw Error(n(301));j+=1,ar=Zn=null,d.updateQueue=null,tf.current=H8,l=m(v,_)}while(Bc)}if(tf.current=of,d=Zn!==null&&Zn.next!==null,Va=0,ar=Zn=En=null,nf=!1,d)throw Error(n(300));return l}function Ig(){var l=zc!==0;return zc=0,l}function Ns(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?En.memoizedState=ar=l:ar=ar.next=l,ar}function Fi(){if(Zn===null){var l=En.alternate;l=l!==null?l.memoizedState:null}else l=Zn.next;var d=ar===null?En.memoizedState:ar.next;if(d!==null)ar=d,Zn=l;else{if(l===null)throw Error(n(310));Zn=l,l={memoizedState:Zn.memoizedState,baseState:Zn.baseState,baseQueue:Zn.baseQueue,queue:Zn.queue,next:null},ar===null?En.memoizedState=ar=l:ar=ar.next=l}return ar}function $c(l,d){return typeof d=="function"?d(l):d}function Dg(l){var d=Fi(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=l;var v=Zn,_=v.baseQueue,j=m.pending;if(j!==null){if(_!==null){var M=_.next;_.next=j.next,j.next=M}v.baseQueue=_=j,m.pending=null}if(_!==null){j=_.next,v=v.baseState;var W=M=null,Z=null,be=j;do{var Me=be.lane;if((Va&Me)===Me)Z!==null&&(Z=Z.next={lane:0,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null}),v=be.hasEagerState?be.eagerState:l(v,be.action);else{var Le={lane:Me,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null};Z===null?(W=Z=Le,M=v):Z=Z.next=Le,En.lanes|=Me,Qa|=Me}be=be.next}while(be!==null&&be!==j);Z===null?M=v:Z.next=W,Y(v,d.memoizedState)||(Xr=!0),d.memoizedState=v,d.baseState=M,d.baseQueue=Z,m.lastRenderedState=v}if(l=m.interleaved,l!==null){_=l;do j=_.lane,En.lanes|=j,Qa|=j,_=_.next;while(_!==l)}else _===null&&(m.lanes=0);return[d.memoizedState,m.dispatch]}function Fg(l){var d=Fi(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=l;var v=m.dispatch,_=m.pending,j=d.memoizedState;if(_!==null){m.pending=null;var M=_=_.next;do j=l(j,M.action),M=M.next;while(M!==_);Y(j,d.memoizedState)||(Xr=!0),d.memoizedState=j,d.baseQueue===null&&(d.baseState=j),m.lastRenderedState=j}return[j,v]}function cb(){}function db(l,d){var m=En,v=Fi(),_=d(),j=!Y(v.memoizedState,_);if(j&&(v.memoizedState=_,Xr=!0),v=v.queue,Bg(pb.bind(null,m,v,l),[l]),v.getSnapshot!==d||j||ar!==null&&ar.memoizedState.tag&1){if(m.flags|=2048,Uc(9,fb.bind(null,m,v,_,d),void 0,null),lr===null)throw Error(n(349));(Va&30)!==0||hb(m,d,_)}return _}function hb(l,d,m){l.flags|=16384,l={getSnapshot:d,value:m},d=En.updateQueue,d===null?(d={lastEffect:null,stores:null},En.updateQueue=d,d.stores=[l]):(m=d.stores,m===null?d.stores=[l]:m.push(l))}function fb(l,d,m,v){d.value=m,d.getSnapshot=v,mb(d)&&gb(l)}function pb(l,d,m){return m(function(){mb(d)&&gb(l)})}function mb(l){var d=l.getSnapshot;l=l.value;try{var m=d();return!Y(l,m)}catch{return!0}}function gb(l){var d=eo(l,1);d!==null&&ds(d,l,1,-1)}function yb(l){var d=Ns();return typeof l=="function"&&(l=l()),d.memoizedState=d.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$c,lastRenderedState:l},d.queue=l,l=l.dispatch=z8.bind(null,En,l),[d.memoizedState,l]}function Uc(l,d,m,v){return l={tag:l,create:d,destroy:m,deps:v,next:null},d=En.updateQueue,d===null?(d={lastEffect:null,stores:null},En.updateQueue=d,d.lastEffect=l.next=l):(m=d.lastEffect,m===null?d.lastEffect=l.next=l:(v=m.next,m.next=l,l.next=v,d.lastEffect=l)),l}function vb(){return Fi().memoizedState}function rf(l,d,m,v){var _=Ns();En.flags|=l,_.memoizedState=Uc(1|d,m,void 0,v===void 0?null:v)}function sf(l,d,m,v){var _=Fi();v=v===void 0?null:v;var j=void 0;if(Zn!==null){var M=Zn.memoizedState;if(j=M.destroy,v!==null&&Ag(v,M.deps)){_.memoizedState=Uc(d,m,j,v);return}}En.flags|=l,_.memoizedState=Uc(1|d,m,j,v)}function xb(l,d){return rf(8390656,8,l,d)}function Bg(l,d){return sf(2048,8,l,d)}function bb(l,d){return sf(4,2,l,d)}function wb(l,d){return sf(4,4,l,d)}function _b(l,d){if(typeof d=="function")return l=l(),d(l),function(){d(null)};if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function Sb(l,d,m){return m=m!=null?m.concat([l]):null,sf(4,4,_b.bind(null,d,l),m)}function zg(){}function Cb(l,d){var m=Fi();d=d===void 0?null:d;var v=m.memoizedState;return v!==null&&d!==null&&Ag(d,v[1])?v[0]:(m.memoizedState=[l,d],l)}function kb(l,d){var m=Fi();d=d===void 0?null:d;var v=m.memoizedState;return v!==null&&d!==null&&Ag(d,v[1])?v[0]:(l=l(),m.memoizedState=[l,d],l)}function jb(l,d,m){return(Va&21)===0?(l.baseState&&(l.baseState=!1,Xr=!0),l.memoizedState=m):(Y(m,d)||(m=xc(),En.lanes|=m,Qa|=m,l.baseState=!0),d)}function F8(l,d){var m=en;en=m!==0&&4>m?m:4,l(!0);var v=Mg.transition;Mg.transition={};try{l(!1),d()}finally{en=m,Mg.transition=v}}function Eb(){return Fi().memoizedState}function B8(l,d,m){var v=Wo(l);if(m={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null},Tb(l))Pb(d,m);else if(m=sb(l,d,m,v),m!==null){var _=zr();ds(m,l,v,_),Nb(m,d,v)}}function z8(l,d,m){var v=Wo(l),_={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null};if(Tb(l))Pb(d,_);else{var j=l.alternate;if(l.lanes===0&&(j===null||j.lanes===0)&&(j=d.lastRenderedReducer,j!==null))try{var M=d.lastRenderedState,W=j(M,m);if(_.hasEagerState=!0,_.eagerState=W,Y(W,M)){var Z=d.interleaved;Z===null?(_.next=_,Eg(d)):(_.next=Z.next,Z.next=_),d.interleaved=_;return}}catch{}finally{}m=sb(l,d,_,v),m!==null&&(_=zr(),ds(m,l,v,_),Nb(m,d,v))}}function Tb(l){var d=l.alternate;return l===En||d!==null&&d===En}function Pb(l,d){Bc=nf=!0;var m=l.pending;m===null?d.next=d:(d.next=m.next,m.next=d),l.pending=d}function Nb(l,d,m){if((m&4194240)!==0){var v=d.lanes;v&=l.pendingLanes,m|=v,d.lanes=m,Bl(l,m)}}var of={readContext:Di,useCallback:Sr,useContext:Sr,useEffect:Sr,useImperativeHandle:Sr,useInsertionEffect:Sr,useLayoutEffect:Sr,useMemo:Sr,useReducer:Sr,useRef:Sr,useState:Sr,useDebugValue:Sr,useDeferredValue:Sr,useTransition:Sr,useMutableSource:Sr,useSyncExternalStore:Sr,useId:Sr,unstable_isNewReconciler:!1},$8={readContext:Di,useCallback:function(l,d){return Ns().memoizedState=[l,d===void 0?null:d],l},useContext:Di,useEffect:xb,useImperativeHandle:function(l,d,m){return m=m!=null?m.concat([l]):null,rf(4194308,4,_b.bind(null,d,l),m)},useLayoutEffect:function(l,d){return rf(4194308,4,l,d)},useInsertionEffect:function(l,d){return rf(4,2,l,d)},useMemo:function(l,d){var m=Ns();return d=d===void 0?null:d,l=l(),m.memoizedState=[l,d],l},useReducer:function(l,d,m){var v=Ns();return d=m!==void 0?m(d):d,v.memoizedState=v.baseState=d,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:d},v.queue=l,l=l.dispatch=B8.bind(null,En,l),[v.memoizedState,l]},useRef:function(l){var d=Ns();return l={current:l},d.memoizedState=l},useState:yb,useDebugValue:zg,useDeferredValue:function(l){return Ns().memoizedState=l},useTransition:function(){var l=yb(!1),d=l[0];return l=F8.bind(null,l[1]),Ns().memoizedState=l,[d,l]},useMutableSource:function(){},useSyncExternalStore:function(l,d,m){var v=En,_=Ns();if(_n){if(m===void 0)throw Error(n(407));m=m()}else{if(m=d(),lr===null)throw Error(n(349));(Va&30)!==0||hb(v,d,m)}_.memoizedState=m;var j={value:m,getSnapshot:d};return _.queue=j,xb(pb.bind(null,v,j,l),[l]),v.flags|=2048,Uc(9,fb.bind(null,v,j,m,d),void 0,null),m},useId:function(){var l=Ns(),d=lr.identifierPrefix;if(_n){var m=Zs,v=Js;m=(v&~(1<<32-ft(v)-1)).toString(32)+m,d=":"+d+"R"+m,m=zc++,0<m&&(d+="H"+m.toString(32)),d+=":"}else m=D8++,d=":"+d+"r"+m.toString(32)+":";return l.memoizedState=d},unstable_isNewReconciler:!1},U8={readContext:Di,useCallback:Cb,useContext:Di,useEffect:Bg,useImperativeHandle:Sb,useInsertionEffect:bb,useLayoutEffect:wb,useMemo:kb,useReducer:Dg,useRef:vb,useState:function(){return Dg($c)},useDebugValue:zg,useDeferredValue:function(l){var d=Fi();return jb(d,Zn.memoizedState,l)},useTransition:function(){var l=Dg($c)[0],d=Fi().memoizedState;return[l,d]},useMutableSource:cb,useSyncExternalStore:db,useId:Eb,unstable_isNewReconciler:!1},H8={readContext:Di,useCallback:Cb,useContext:Di,useEffect:Bg,useImperativeHandle:Sb,useInsertionEffect:bb,useLayoutEffect:wb,useMemo:kb,useReducer:Fg,useRef:vb,useState:function(){return Fg($c)},useDebugValue:zg,useDeferredValue:function(l){var d=Fi();return Zn===null?d.memoizedState=l:jb(d,Zn.memoizedState,l)},useTransition:function(){var l=Fg($c)[0],d=Fi().memoizedState;return[l,d]},useMutableSource:cb,useSyncExternalStore:db,useId:Eb,unstable_isNewReconciler:!1};function ls(l,d){if(l&&l.defaultProps){d=D({},d),l=l.defaultProps;for(var m in l)d[m]===void 0&&(d[m]=l[m]);return d}return d}function $g(l,d,m,v){d=l.memoizedState,m=m(v,d),m=m==null?d:D({},d,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var af={isMounted:function(l){return(l=l._reactInternals)?Rt(l)===l:!1},enqueueSetState:function(l,d,m){l=l._reactInternals;var v=zr(),_=Wo(l),j=to(v,_);j.payload=d,m!=null&&(j.callback=m),d=Uo(l,j,_),d!==null&&(ds(d,l,_,v),Jh(d,l,_))},enqueueReplaceState:function(l,d,m){l=l._reactInternals;var v=zr(),_=Wo(l),j=to(v,_);j.tag=1,j.payload=d,m!=null&&(j.callback=m),d=Uo(l,j,_),d!==null&&(ds(d,l,_,v),Jh(d,l,_))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var m=zr(),v=Wo(l),_=to(m,v);_.tag=2,d!=null&&(_.callback=d),d=Uo(l,_,v),d!==null&&(ds(d,l,v,m),Jh(d,l,v))}};function Ob(l,d,m,v,_,j,M){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,j,M):d.prototype&&d.prototype.isPureReactComponent?!he(m,v)||!he(_,j):!0}function Rb(l,d,m){var v=!1,_=Bo,j=d.contextType;return typeof j=="object"&&j!==null?j=Di(j):(_=Yr(d)?Ba:_r.current,v=d.contextTypes,j=(v=v!=null)?ru(l,_):Bo),d=new d(m,j),l.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=af,l.stateNode=d,d._reactInternals=l,v&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=_,l.__reactInternalMemoizedMaskedChildContext=j),d}function Mb(l,d,m,v){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,v),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,v),d.state!==l&&af.enqueueReplaceState(d,d.state,null)}function Ug(l,d,m,v){var _=l.stateNode;_.props=m,_.state=l.memoizedState,_.refs={},Tg(l);var j=d.contextType;typeof j=="object"&&j!==null?_.context=Di(j):(j=Yr(d)?Ba:_r.current,_.context=ru(l,j)),_.state=l.memoizedState,j=d.getDerivedStateFromProps,typeof j=="function"&&($g(l,d,j,m),_.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(d=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),d!==_.state&&af.enqueueReplaceState(_,_.state,null),Zh(l,m,_,v),_.state=l.memoizedState),typeof _.componentDidMount=="function"&&(l.flags|=4194308)}function du(l,d){try{var m="",v=d;do m+=je(v),v=v.return;while(v);var _=m}catch(j){_=`
Error generating stack: `+j.message+`
`+j.stack}return{value:l,source:d,stack:_,digest:null}}function Hg(l,d,m){return{value:l,source:null,stack:m??null,digest:d??null}}function Vg(l,d){try{console.error(d.value)}catch(m){setTimeout(function(){throw m})}}var V8=typeof WeakMap=="function"?WeakMap:Map;function Ab(l,d,m){m=to(-1,m),m.tag=3,m.payload={element:null};var v=d.value;return m.callback=function(){pf||(pf=!0,s0=v),Vg(l,d)},m}function Lb(l,d,m){m=to(-1,m),m.tag=3;var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var _=d.value;m.payload=function(){return v(_)},m.callback=function(){Vg(l,d)}}var j=l.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(m.callback=function(){Vg(l,d),typeof v!="function"&&(Vo===null?Vo=new Set([this]):Vo.add(this));var M=d.stack;this.componentDidCatch(d.value,{componentStack:M!==null?M:""})}),m}function Ib(l,d,m){var v=l.pingCache;if(v===null){v=l.pingCache=new V8;var _=new Set;v.set(d,_)}else _=v.get(d),_===void 0&&(_=new Set,v.set(d,_));_.has(m)||(_.add(m),l=ik.bind(null,l,d,m),d.then(l,l))}function Db(l){do{var d;if((d=l.tag===13)&&(d=l.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return l;l=l.return}while(l!==null);return null}function Fb(l,d,m,v,_){return(l.mode&1)===0?(l===d?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(d=to(-1,1),d.tag=2,Uo(m,d,1))),m.lanes|=1),l):(l.flags|=65536,l.lanes=_,l)}var Q8=z.ReactCurrentOwner,Xr=!1;function Br(l,d,m,v){d.child=l===null?ib(d,null,m,v):au(d,l.child,m,v)}function Bb(l,d,m,v,_){m=m.render;var j=d.ref;return uu(d,_),v=Lg(l,d,m,v,j,_),m=Ig(),l!==null&&!Xr?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~_,no(l,d,_)):(_n&&m&&vg(d),d.flags|=1,Br(l,d,v,_),d.child)}function zb(l,d,m,v,_){if(l===null){var j=m.type;return typeof j=="function"&&!h0(j)&&j.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(d.tag=15,d.type=j,$b(l,d,j,v,_)):(l=bf(m.type,null,v,d,d.mode,_),l.ref=d.ref,l.return=d,d.child=l)}if(j=l.child,(l.lanes&_)===0){var M=j.memoizedProps;if(m=m.compare,m=m!==null?m:he,m(M,v)&&l.ref===d.ref)return no(l,d,_)}return d.flags|=1,l=Ko(j,v),l.ref=d.ref,l.return=d,d.child=l}function $b(l,d,m,v,_){if(l!==null){var j=l.memoizedProps;if(he(j,v)&&l.ref===d.ref)if(Xr=!1,d.pendingProps=v=j,(l.lanes&_)!==0)(l.flags&131072)!==0&&(Xr=!0);else return d.lanes=l.lanes,no(l,d,_)}return Qg(l,d,m,v,_)}function Ub(l,d,m){var v=d.pendingProps,_=v.children,j=l!==null?l.memoizedState:null;if(v.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},ln(fu,wi),wi|=m;else{if((m&1073741824)===0)return l=j!==null?j.baseLanes|m:m,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:l,cachePool:null,transitions:null},d.updateQueue=null,ln(fu,wi),wi|=l,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=j!==null?j.baseLanes:m,ln(fu,wi),wi|=v}else j!==null?(v=j.baseLanes|m,d.memoizedState=null):v=m,ln(fu,wi),wi|=v;return Br(l,d,_,m),d.child}function Hb(l,d){var m=d.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(d.flags|=512,d.flags|=2097152)}function Qg(l,d,m,v,_){var j=Yr(m)?Ba:_r.current;return j=ru(d,j),uu(d,_),m=Lg(l,d,m,v,j,_),v=Ig(),l!==null&&!Xr?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~_,no(l,d,_)):(_n&&v&&vg(d),d.flags|=1,Br(l,d,m,_),d.child)}function Vb(l,d,m,v,_){if(Yr(m)){var j=!0;Vh(d)}else j=!1;if(uu(d,_),d.stateNode===null)uf(l,d),Rb(d,m,v),Ug(d,m,v,_),v=!0;else if(l===null){var M=d.stateNode,W=d.memoizedProps;M.props=W;var Z=M.context,be=m.contextType;typeof be=="object"&&be!==null?be=Di(be):(be=Yr(m)?Ba:_r.current,be=ru(d,be));var Me=m.getDerivedStateFromProps,Le=typeof Me=="function"||typeof M.getSnapshotBeforeUpdate=="function";Le||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(W!==v||Z!==be)&&Mb(d,M,v,be),$o=!1;var Pe=d.memoizedState;M.state=Pe,Zh(d,v,M,_),Z=d.memoizedState,W!==v||Pe!==Z||Gr.current||$o?(typeof Me=="function"&&($g(d,m,Me,v),Z=d.memoizedState),(W=$o||Ob(d,m,W,v,Pe,Z,be))?(Le||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(d.flags|=4194308)):(typeof M.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=v,d.memoizedState=Z),M.props=v,M.state=Z,M.context=be,v=W):(typeof M.componentDidMount=="function"&&(d.flags|=4194308),v=!1)}else{M=d.stateNode,ob(l,d),W=d.memoizedProps,be=d.type===d.elementType?W:ls(d.type,W),M.props=be,Le=d.pendingProps,Pe=M.context,Z=m.contextType,typeof Z=="object"&&Z!==null?Z=Di(Z):(Z=Yr(m)?Ba:_r.current,Z=ru(d,Z));var Xe=m.getDerivedStateFromProps;(Me=typeof Xe=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(W!==Le||Pe!==Z)&&Mb(d,M,v,Z),$o=!1,Pe=d.memoizedState,M.state=Pe,Zh(d,v,M,_);var nt=d.memoizedState;W!==Le||Pe!==nt||Gr.current||$o?(typeof Xe=="function"&&($g(d,m,Xe,v),nt=d.memoizedState),(be=$o||Ob(d,m,be,v,Pe,nt,Z)||!1)?(Me||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(v,nt,Z),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(v,nt,Z)),typeof M.componentDidUpdate=="function"&&(d.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof M.componentDidUpdate!="function"||W===l.memoizedProps&&Pe===l.memoizedState||(d.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||W===l.memoizedProps&&Pe===l.memoizedState||(d.flags|=1024),d.memoizedProps=v,d.memoizedState=nt),M.props=v,M.state=nt,M.context=Z,v=be):(typeof M.componentDidUpdate!="function"||W===l.memoizedProps&&Pe===l.memoizedState||(d.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||W===l.memoizedProps&&Pe===l.memoizedState||(d.flags|=1024),v=!1)}return Wg(l,d,m,v,j,_)}function Wg(l,d,m,v,_,j){Hb(l,d);var M=(d.flags&128)!==0;if(!v&&!M)return _&&Gx(d,m,!1),no(l,d,j);v=d.stateNode,Q8.current=d;var W=M&&typeof m.getDerivedStateFromError!="function"?null:v.render();return d.flags|=1,l!==null&&M?(d.child=au(d,l.child,null,j),d.child=au(d,null,W,j)):Br(l,d,W,j),d.memoizedState=v.state,_&&Gx(d,m,!0),d.child}function Qb(l){var d=l.stateNode;d.pendingContext?qx(l,d.pendingContext,d.pendingContext!==d.context):d.context&&qx(l,d.context,!1),Pg(l,d.containerInfo)}function Wb(l,d,m,v,_){return ou(),_g(_),d.flags|=256,Br(l,d,m,v),d.child}var qg={dehydrated:null,treeContext:null,retryLane:0};function Kg(l){return{baseLanes:l,cachePool:null,transitions:null}}function qb(l,d,m){var v=d.pendingProps,_=jn.current,j=!1,M=(d.flags&128)!==0,W;if((W=M)||(W=l!==null&&l.memoizedState===null?!1:(_&2)!==0),W?(j=!0,d.flags&=-129):(l===null||l.memoizedState!==null)&&(_|=1),ln(jn,_&1),l===null)return wg(d),l=d.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((d.mode&1)===0?d.lanes=1:l.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(M=v.children,l=v.fallback,j?(v=d.mode,j=d.child,M={mode:"hidden",children:M},(v&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=M):j=wf(M,v,0,null),l=Ga(l,v,m,null),j.return=d,l.return=d,j.sibling=l,d.child=j,d.child.memoizedState=Kg(m),d.memoizedState=qg,l):Gg(d,M));if(_=l.memoizedState,_!==null&&(W=_.dehydrated,W!==null))return W8(l,d,M,v,W,_,m);if(j){j=v.fallback,M=d.mode,_=l.child,W=_.sibling;var Z={mode:"hidden",children:v.children};return(M&1)===0&&d.child!==_?(v=d.child,v.childLanes=0,v.pendingProps=Z,d.deletions=null):(v=Ko(_,Z),v.subtreeFlags=_.subtreeFlags&14680064),W!==null?j=Ko(W,j):(j=Ga(j,M,m,null),j.flags|=2),j.return=d,v.return=d,v.sibling=j,d.child=v,v=j,j=d.child,M=l.child.memoizedState,M=M===null?Kg(m):{baseLanes:M.baseLanes|m,cachePool:null,transitions:M.transitions},j.memoizedState=M,j.childLanes=l.childLanes&~m,d.memoizedState=qg,v}return j=l.child,l=j.sibling,v=Ko(j,{mode:"visible",children:v.children}),(d.mode&1)===0&&(v.lanes=m),v.return=d,v.sibling=null,l!==null&&(m=d.deletions,m===null?(d.deletions=[l],d.flags|=16):m.push(l)),d.child=v,d.memoizedState=null,v}function Gg(l,d){return d=wf({mode:"visible",children:d},l.mode,0,null),d.return=l,l.child=d}function lf(l,d,m,v){return v!==null&&_g(v),au(d,l.child,null,m),l=Gg(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function W8(l,d,m,v,_,j,M){if(m)return d.flags&256?(d.flags&=-257,v=Hg(Error(n(422))),lf(l,d,M,v)):d.memoizedState!==null?(d.child=l.child,d.flags|=128,null):(j=v.fallback,_=d.mode,v=wf({mode:"visible",children:v.children},_,0,null),j=Ga(j,_,M,null),j.flags|=2,v.return=d,j.return=d,v.sibling=j,d.child=v,(d.mode&1)!==0&&au(d,l.child,null,M),d.child.memoizedState=Kg(M),d.memoizedState=qg,j);if((d.mode&1)===0)return lf(l,d,M,null);if(_.data==="$!"){if(v=_.nextSibling&&_.nextSibling.dataset,v)var W=v.dgst;return v=W,j=Error(n(419)),v=Hg(j,v,void 0),lf(l,d,M,v)}if(W=(M&l.childLanes)!==0,Xr||W){if(v=lr,v!==null){switch(M&-M){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(v.suspendedLanes|M))!==0?0:_,_!==0&&_!==j.retryLane&&(j.retryLane=_,eo(l,_),ds(v,l,_,-1))}return d0(),v=Hg(Error(n(421))),lf(l,d,M,v)}return _.data==="$?"?(d.flags|=128,d.child=l.child,d=sk.bind(null,l),_._reactRetry=d,null):(l=j.treeContext,bi=Do(_.nextSibling),xi=d,_n=!0,as=null,l!==null&&(Li[Ii++]=Js,Li[Ii++]=Zs,Li[Ii++]=za,Js=l.id,Zs=l.overflow,za=d),d=Gg(d,v.children),d.flags|=4096,d)}function Kb(l,d,m){l.lanes|=d;var v=l.alternate;v!==null&&(v.lanes|=d),jg(l.return,d,m)}function Yg(l,d,m,v,_){var j=l.memoizedState;j===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:_}:(j.isBackwards=d,j.rendering=null,j.renderingStartTime=0,j.last=v,j.tail=m,j.tailMode=_)}function Gb(l,d,m){var v=d.pendingProps,_=v.revealOrder,j=v.tail;if(Br(l,d,v.children,m),v=jn.current,(v&2)!==0)v=v&1|2,d.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Kb(l,m,d);else if(l.tag===19)Kb(l,m,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}v&=1}if(ln(jn,v),(d.mode&1)===0)d.memoizedState=null;else switch(_){case"forwards":for(m=d.child,_=null;m!==null;)l=m.alternate,l!==null&&ef(l)===null&&(_=m),m=m.sibling;m=_,m===null?(_=d.child,d.child=null):(_=m.sibling,m.sibling=null),Yg(d,!1,_,m,j);break;case"backwards":for(m=null,_=d.child,d.child=null;_!==null;){if(l=_.alternate,l!==null&&ef(l)===null){d.child=_;break}l=_.sibling,_.sibling=m,m=_,_=l}Yg(d,!0,m,null,j);break;case"together":Yg(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function uf(l,d){(d.mode&1)===0&&l!==null&&(l.alternate=null,d.alternate=null,d.flags|=2)}function no(l,d,m){if(l!==null&&(d.dependencies=l.dependencies),Qa|=d.lanes,(m&d.childLanes)===0)return null;if(l!==null&&d.child!==l.child)throw Error(n(153));if(d.child!==null){for(l=d.child,m=Ko(l,l.pendingProps),d.child=m,m.return=d;l.sibling!==null;)l=l.sibling,m=m.sibling=Ko(l,l.pendingProps),m.return=d;m.sibling=null}return d.child}function q8(l,d,m){switch(d.tag){case 3:Qb(d),ou();break;case 5:ub(d);break;case 1:Yr(d.type)&&Vh(d);break;case 4:Pg(d,d.stateNode.containerInfo);break;case 10:var v=d.type._context,_=d.memoizedProps.value;ln(Yh,v._currentValue),v._currentValue=_;break;case 13:if(v=d.memoizedState,v!==null)return v.dehydrated!==null?(ln(jn,jn.current&1),d.flags|=128,null):(m&d.child.childLanes)!==0?qb(l,d,m):(ln(jn,jn.current&1),l=no(l,d,m),l!==null?l.sibling:null);ln(jn,jn.current&1);break;case 19:if(v=(m&d.childLanes)!==0,(l.flags&128)!==0){if(v)return Gb(l,d,m);d.flags|=128}if(_=d.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),ln(jn,jn.current),v)break;return null;case 22:case 23:return d.lanes=0,Ub(l,d,m)}return no(l,d,m)}var Yb,Xg,Xb,Jb;Yb=function(l,d){for(var m=d.child;m!==null;){if(m.tag===5||m.tag===6)l.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Xg=function(){},Xb=function(l,d,m,v){var _=l.memoizedProps;if(_!==v){l=d.stateNode,Ha(Ps.current);var j=null;switch(m){case"input":_=pn(l,_),v=pn(l,v),j=[];break;case"select":_=D({},_,{value:void 0}),v=D({},v,{value:void 0}),j=[];break;case"textarea":_=yr(l,_),v=yr(l,v),j=[];break;default:typeof _.onClick!="function"&&typeof v.onClick=="function"&&(l.onclick=$h)}Qe(m,v);var M;m=null;for(be in _)if(!v.hasOwnProperty(be)&&_.hasOwnProperty(be)&&_[be]!=null)if(be==="style"){var W=_[be];for(M in W)W.hasOwnProperty(M)&&(m||(m={}),m[M]="")}else be!=="dangerouslySetInnerHTML"&&be!=="children"&&be!=="suppressContentEditableWarning"&&be!=="suppressHydrationWarning"&&be!=="autoFocus"&&(i.hasOwnProperty(be)?j||(j=[]):(j=j||[]).push(be,null));for(be in v){var Z=v[be];if(W=_?.[be],v.hasOwnProperty(be)&&Z!==W&&(Z!=null||W!=null))if(be==="style")if(W){for(M in W)!W.hasOwnProperty(M)||Z&&Z.hasOwnProperty(M)||(m||(m={}),m[M]="");for(M in Z)Z.hasOwnProperty(M)&&W[M]!==Z[M]&&(m||(m={}),m[M]=Z[M])}else m||(j||(j=[]),j.push(be,m)),m=Z;else be==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,W=W?W.__html:void 0,Z!=null&&W!==Z&&(j=j||[]).push(be,Z)):be==="children"?typeof Z!="string"&&typeof Z!="number"||(j=j||[]).push(be,""+Z):be!=="suppressContentEditableWarning"&&be!=="suppressHydrationWarning"&&(i.hasOwnProperty(be)?(Z!=null&&be==="onScroll"&&mn("scroll",l),j||W===Z||(j=[])):(j=j||[]).push(be,Z))}m&&(j=j||[]).push("style",m);var be=j;(d.updateQueue=be)&&(d.flags|=4)}},Jb=function(l,d,m,v){m!==v&&(d.flags|=4)};function Hc(l,d){if(!_n)switch(l.tailMode){case"hidden":d=l.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function Cr(l){var d=l.alternate!==null&&l.alternate.child===l.child,m=0,v=0;if(d)for(var _=l.child;_!==null;)m|=_.lanes|_.childLanes,v|=_.subtreeFlags&14680064,v|=_.flags&14680064,_.return=l,_=_.sibling;else for(_=l.child;_!==null;)m|=_.lanes|_.childLanes,v|=_.subtreeFlags,v|=_.flags,_.return=l,_=_.sibling;return l.subtreeFlags|=v,l.childLanes=m,d}function K8(l,d,m){var v=d.pendingProps;switch(xg(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cr(d),null;case 1:return Yr(d.type)&&Hh(),Cr(d),null;case 3:return v=d.stateNode,cu(),gn(Gr),gn(_r),Rg(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(l===null||l.child===null)&&(Kh(d)?d.flags|=4:l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,as!==null&&(l0(as),as=null))),Xg(l,d),Cr(d),null;case 5:Ng(d);var _=Ha(Fc.current);if(m=d.type,l!==null&&d.stateNode!=null)Xb(l,d,m,v,_),l.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!v){if(d.stateNode===null)throw Error(n(166));return Cr(d),null}if(l=Ha(Ps.current),Kh(d)){v=d.stateNode,m=d.type;var j=d.memoizedProps;switch(v[Ts]=d,v[Mc]=j,l=(d.mode&1)!==0,m){case"dialog":mn("cancel",v),mn("close",v);break;case"iframe":case"object":case"embed":mn("load",v);break;case"video":case"audio":for(_=0;_<Nc.length;_++)mn(Nc[_],v);break;case"source":mn("error",v);break;case"img":case"image":case"link":mn("error",v),mn("load",v);break;case"details":mn("toggle",v);break;case"input":In(v,j),mn("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!j.multiple},mn("invalid",v);break;case"textarea":vr(v,j),mn("invalid",v)}Qe(m,j),_=null;for(var M in j)if(j.hasOwnProperty(M)){var W=j[M];M==="children"?typeof W=="string"?v.textContent!==W&&(j.suppressHydrationWarning!==!0&&zh(v.textContent,W,l),_=["children",W]):typeof W=="number"&&v.textContent!==""+W&&(j.suppressHydrationWarning!==!0&&zh(v.textContent,W,l),_=["children",""+W]):i.hasOwnProperty(M)&&W!=null&&M==="onScroll"&&mn("scroll",v)}switch(m){case"input":fn(v),ko(v,j,!0);break;case"textarea":fn(v),Wr(v);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(v.onclick=$h)}v=_,d.updateQueue=v,v!==null&&(d.flags|=4)}else{M=_.nodeType===9?_:_.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=Ce(m)),l==="http://www.w3.org/1999/xhtml"?m==="script"?(l=M.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof v.is=="string"?l=M.createElement(m,{is:v.is}):(l=M.createElement(m),m==="select"&&(M=l,v.multiple?M.multiple=!0:v.size&&(M.size=v.size))):l=M.createElementNS(l,m),l[Ts]=d,l[Mc]=v,Yb(l,d,!1,!1),d.stateNode=l;e:{switch(M=Fn(m,v),m){case"dialog":mn("cancel",l),mn("close",l),_=v;break;case"iframe":case"object":case"embed":mn("load",l),_=v;break;case"video":case"audio":for(_=0;_<Nc.length;_++)mn(Nc[_],l);_=v;break;case"source":mn("error",l),_=v;break;case"img":case"image":case"link":mn("error",l),mn("load",l),_=v;break;case"details":mn("toggle",l),_=v;break;case"input":In(l,v),_=pn(l,v),mn("invalid",l);break;case"option":_=v;break;case"select":l._wrapperState={wasMultiple:!!v.multiple},_=D({},v,{value:void 0}),mn("invalid",l);break;case"textarea":vr(l,v),_=yr(l,v),mn("invalid",l);break;default:_=v}Qe(m,_),W=_;for(j in W)if(W.hasOwnProperty(j)){var Z=W[j];j==="style"?Lr(l,Z):j==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&pt(l,Z)):j==="children"?typeof Z=="string"?(m!=="textarea"||Z!=="")&&Ot(l,Z):typeof Z=="number"&&Ot(l,""+Z):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(i.hasOwnProperty(j)?Z!=null&&j==="onScroll"&&mn("scroll",l):Z!=null&&A(l,j,Z,M))}switch(m){case"input":fn(l),ko(l,v,!1);break;case"textarea":fn(l),Wr(l);break;case"option":v.value!=null&&l.setAttribute("value",""+Ke(v.value));break;case"select":l.multiple=!!v.multiple,j=v.value,j!=null?Dn(l,!!v.multiple,j,!1):v.defaultValue!=null&&Dn(l,!!v.multiple,v.defaultValue,!0);break;default:typeof _.onClick=="function"&&(l.onclick=$h)}switch(m){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Cr(d),null;case 6:if(l&&d.stateNode!=null)Jb(l,d,l.memoizedProps,v);else{if(typeof v!="string"&&d.stateNode===null)throw Error(n(166));if(m=Ha(Fc.current),Ha(Ps.current),Kh(d)){if(v=d.stateNode,m=d.memoizedProps,v[Ts]=d,(j=v.nodeValue!==m)&&(l=xi,l!==null))switch(l.tag){case 3:zh(v.nodeValue,m,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&zh(v.nodeValue,m,(l.mode&1)!==0)}j&&(d.flags|=4)}else v=(m.nodeType===9?m:m.ownerDocument).createTextNode(v),v[Ts]=d,d.stateNode=v}return Cr(d),null;case 13:if(gn(jn),v=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(_n&&bi!==null&&(d.mode&1)!==0&&(d.flags&128)===0)tb(),ou(),d.flags|=98560,j=!1;else if(j=Kh(d),v!==null&&v.dehydrated!==null){if(l===null){if(!j)throw Error(n(318));if(j=d.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(n(317));j[Ts]=d}else ou(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Cr(d),j=!1}else as!==null&&(l0(as),as=null),j=!0;if(!j)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=m,d):(v=v!==null,v!==(l!==null&&l.memoizedState!==null)&&v&&(d.child.flags|=8192,(d.mode&1)!==0&&(l===null||(jn.current&1)!==0?er===0&&(er=3):d0())),d.updateQueue!==null&&(d.flags|=4),Cr(d),null);case 4:return cu(),Xg(l,d),l===null&&Oc(d.stateNode.containerInfo),Cr(d),null;case 10:return kg(d.type._context),Cr(d),null;case 17:return Yr(d.type)&&Hh(),Cr(d),null;case 19:if(gn(jn),j=d.memoizedState,j===null)return Cr(d),null;if(v=(d.flags&128)!==0,M=j.rendering,M===null)if(v)Hc(j,!1);else{if(er!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if(M=ef(l),M!==null){for(d.flags|=128,Hc(j,!1),v=M.updateQueue,v!==null&&(d.updateQueue=v,d.flags|=4),d.subtreeFlags=0,v=m,m=d.child;m!==null;)j=m,l=v,j.flags&=14680066,M=j.alternate,M===null?(j.childLanes=0,j.lanes=l,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=M.childLanes,j.lanes=M.lanes,j.child=M.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=M.memoizedProps,j.memoizedState=M.memoizedState,j.updateQueue=M.updateQueue,j.type=M.type,l=M.dependencies,j.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),m=m.sibling;return ln(jn,jn.current&1|2),d.child}l=l.sibling}j.tail!==null&&It()>pu&&(d.flags|=128,v=!0,Hc(j,!1),d.lanes=4194304)}else{if(!v)if(l=ef(M),l!==null){if(d.flags|=128,v=!0,m=l.updateQueue,m!==null&&(d.updateQueue=m,d.flags|=4),Hc(j,!0),j.tail===null&&j.tailMode==="hidden"&&!M.alternate&&!_n)return Cr(d),null}else 2*It()-j.renderingStartTime>pu&&m!==1073741824&&(d.flags|=128,v=!0,Hc(j,!1),d.lanes=4194304);j.isBackwards?(M.sibling=d.child,d.child=M):(m=j.last,m!==null?m.sibling=M:d.child=M,j.last=M)}return j.tail!==null?(d=j.tail,j.rendering=d,j.tail=d.sibling,j.renderingStartTime=It(),d.sibling=null,m=jn.current,ln(jn,v?m&1|2:m&1),d):(Cr(d),null);case 22:case 23:return c0(),v=d.memoizedState!==null,l!==null&&l.memoizedState!==null!==v&&(d.flags|=8192),v&&(d.mode&1)!==0?(wi&1073741824)!==0&&(Cr(d),d.subtreeFlags&6&&(d.flags|=8192)):Cr(d),null;case 24:return null;case 25:return null}throw Error(n(156,d.tag))}function G8(l,d){switch(xg(d),d.tag){case 1:return Yr(d.type)&&Hh(),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return cu(),gn(Gr),gn(_r),Rg(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 5:return Ng(d),null;case 13:if(gn(jn),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(n(340));ou()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return gn(jn),null;case 4:return cu(),null;case 10:return kg(d.type._context),null;case 22:case 23:return c0(),null;case 24:return null;default:return null}}var cf=!1,kr=!1,Y8=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function hu(l,d){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(v){Rn(l,d,v)}else m.current=null}function Jg(l,d,m){try{m()}catch(v){Rn(l,d,v)}}var Zb=!1;function X8(l,d){if(cg=ks,l=oe(),ve(l)){if("selectionStart"in l)var m={start:l.selectionStart,end:l.selectionEnd};else e:{m=(m=l.ownerDocument)&&m.defaultView||window;var v=m.getSelection&&m.getSelection();if(v&&v.rangeCount!==0){m=v.anchorNode;var _=v.anchorOffset,j=v.focusNode;v=v.focusOffset;try{m.nodeType,j.nodeType}catch{m=null;break e}var M=0,W=-1,Z=-1,be=0,Me=0,Le=l,Pe=null;t:for(;;){for(var Xe;Le!==m||_!==0&&Le.nodeType!==3||(W=M+_),Le!==j||v!==0&&Le.nodeType!==3||(Z=M+v),Le.nodeType===3&&(M+=Le.nodeValue.length),(Xe=Le.firstChild)!==null;)Pe=Le,Le=Xe;for(;;){if(Le===l)break t;if(Pe===m&&++be===_&&(W=M),Pe===j&&++Me===v&&(Z=M),(Xe=Le.nextSibling)!==null)break;Le=Pe,Pe=Le.parentNode}Le=Xe}m=W===-1||Z===-1?null:{start:W,end:Z}}else m=null}m=m||{start:0,end:0}}else m=null;for(dg={focusedElem:l,selectionRange:m},ks=!1,Ze=d;Ze!==null;)if(d=Ze,l=d.child,(d.subtreeFlags&1028)!==0&&l!==null)l.return=d,Ze=l;else for(;Ze!==null;){d=Ze;try{var nt=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(nt!==null){var it=nt.memoizedProps,zn=nt.memoizedState,ge=d.stateNode,se=ge.getSnapshotBeforeUpdate(d.elementType===d.type?it:ls(d.type,it),zn);ge.__reactInternalSnapshotBeforeUpdate=se}break;case 3:var xe=d.stateNode.containerInfo;xe.nodeType===1?xe.textContent="":xe.nodeType===9&&xe.documentElement&&xe.removeChild(xe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ue){Rn(d,d.return,Ue)}if(l=d.sibling,l!==null){l.return=d.return,Ze=l;break}Ze=d.return}return nt=Zb,Zb=!1,nt}function Vc(l,d,m){var v=d.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var _=v=v.next;do{if((_.tag&l)===l){var j=_.destroy;_.destroy=void 0,j!==void 0&&Jg(d,m,j)}_=_.next}while(_!==v)}}function df(l,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&l)===l){var v=m.create;m.destroy=v()}m=m.next}while(m!==d)}}function Zg(l){var d=l.ref;if(d!==null){var m=l.stateNode;switch(l.tag){case 5:l=m;break;default:l=m}typeof d=="function"?d(l):d.current=l}}function e2(l){var d=l.alternate;d!==null&&(l.alternate=null,e2(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&(delete d[Ts],delete d[Mc],delete d[mg],delete d[M8],delete d[A8])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function t2(l){return l.tag===5||l.tag===3||l.tag===4}function n2(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||t2(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function e0(l,d,m){var v=l.tag;if(v===5||v===6)l=l.stateNode,d?m.nodeType===8?m.parentNode.insertBefore(l,d):m.insertBefore(l,d):(m.nodeType===8?(d=m.parentNode,d.insertBefore(l,m)):(d=m,d.appendChild(l)),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=$h));else if(v!==4&&(l=l.child,l!==null))for(e0(l,d,m),l=l.sibling;l!==null;)e0(l,d,m),l=l.sibling}function t0(l,d,m){var v=l.tag;if(v===5||v===6)l=l.stateNode,d?m.insertBefore(l,d):m.appendChild(l);else if(v!==4&&(l=l.child,l!==null))for(t0(l,d,m),l=l.sibling;l!==null;)t0(l,d,m),l=l.sibling}var pr=null,us=!1;function Ho(l,d,m){for(m=m.child;m!==null;)r2(l,d,m),m=m.sibling}function r2(l,d,m){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(mi,m)}catch{}switch(m.tag){case 5:kr||hu(m,d);case 6:var v=pr,_=us;pr=null,Ho(l,d,m),pr=v,us=_,pr!==null&&(us?(l=pr,m=m.stateNode,l.nodeType===8?l.parentNode.removeChild(m):l.removeChild(m)):pr.removeChild(m.stateNode));break;case 18:pr!==null&&(us?(l=pr,m=m.stateNode,l.nodeType===8?pg(l.parentNode,m):l.nodeType===1&&pg(l,m),No(l)):pg(pr,m.stateNode));break;case 4:v=pr,_=us,pr=m.stateNode.containerInfo,us=!0,Ho(l,d,m),pr=v,us=_;break;case 0:case 11:case 14:case 15:if(!kr&&(v=m.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){_=v=v.next;do{var j=_,M=j.destroy;j=j.tag,M!==void 0&&((j&2)!==0||(j&4)!==0)&&Jg(m,d,M),_=_.next}while(_!==v)}Ho(l,d,m);break;case 1:if(!kr&&(hu(m,d),v=m.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=m.memoizedProps,v.state=m.memoizedState,v.componentWillUnmount()}catch(W){Rn(m,d,W)}Ho(l,d,m);break;case 21:Ho(l,d,m);break;case 22:m.mode&1?(kr=(v=kr)||m.memoizedState!==null,Ho(l,d,m),kr=v):Ho(l,d,m);break;default:Ho(l,d,m)}}function i2(l){var d=l.updateQueue;if(d!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new Y8),d.forEach(function(v){var _=ok.bind(null,l,v);m.has(v)||(m.add(v),v.then(_,_))})}}function cs(l,d){var m=d.deletions;if(m!==null)for(var v=0;v<m.length;v++){var _=m[v];try{var j=l,M=d,W=M;e:for(;W!==null;){switch(W.tag){case 5:pr=W.stateNode,us=!1;break e;case 3:pr=W.stateNode.containerInfo,us=!0;break e;case 4:pr=W.stateNode.containerInfo,us=!0;break e}W=W.return}if(pr===null)throw Error(n(160));r2(j,M,_),pr=null,us=!1;var Z=_.alternate;Z!==null&&(Z.return=null),_.return=null}catch(be){Rn(_,d,be)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)s2(d,l),d=d.sibling}function s2(l,d){var m=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(cs(d,l),Os(l),v&4){try{Vc(3,l,l.return),df(3,l)}catch(it){Rn(l,l.return,it)}try{Vc(5,l,l.return)}catch(it){Rn(l,l.return,it)}}break;case 1:cs(d,l),Os(l),v&512&&m!==null&&hu(m,m.return);break;case 5:if(cs(d,l),Os(l),v&512&&m!==null&&hu(m,m.return),l.flags&32){var _=l.stateNode;try{Ot(_,"")}catch(it){Rn(l,l.return,it)}}if(v&4&&(_=l.stateNode,_!=null)){var j=l.memoizedProps,M=m!==null?m.memoizedProps:j,W=l.type,Z=l.updateQueue;if(l.updateQueue=null,Z!==null)try{W==="input"&&j.type==="radio"&&j.name!=null&&Bs(_,j),Fn(W,M);var be=Fn(W,j);for(M=0;M<Z.length;M+=2){var Me=Z[M],Le=Z[M+1];Me==="style"?Lr(_,Le):Me==="dangerouslySetInnerHTML"?pt(_,Le):Me==="children"?Ot(_,Le):A(_,Me,Le,be)}switch(W){case"input":Yi(_,j);break;case"textarea":_s(_,j);break;case"select":var Pe=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!j.multiple;var Xe=j.value;Xe!=null?Dn(_,!!j.multiple,Xe,!1):Pe!==!!j.multiple&&(j.defaultValue!=null?Dn(_,!!j.multiple,j.defaultValue,!0):Dn(_,!!j.multiple,j.multiple?[]:"",!1))}_[Mc]=j}catch(it){Rn(l,l.return,it)}}break;case 6:if(cs(d,l),Os(l),v&4){if(l.stateNode===null)throw Error(n(162));_=l.stateNode,j=l.memoizedProps;try{_.nodeValue=j}catch(it){Rn(l,l.return,it)}}break;case 3:if(cs(d,l),Os(l),v&4&&m!==null&&m.memoizedState.isDehydrated)try{No(d.containerInfo)}catch(it){Rn(l,l.return,it)}break;case 4:cs(d,l),Os(l);break;case 13:cs(d,l),Os(l),_=l.child,_.flags&8192&&(j=_.memoizedState!==null,_.stateNode.isHidden=j,!j||_.alternate!==null&&_.alternate.memoizedState!==null||(i0=It())),v&4&&i2(l);break;case 22:if(Me=m!==null&&m.memoizedState!==null,l.mode&1?(kr=(be=kr)||Me,cs(d,l),kr=be):cs(d,l),Os(l),v&8192){if(be=l.memoizedState!==null,(l.stateNode.isHidden=be)&&!Me&&(l.mode&1)!==0)for(Ze=l,Me=l.child;Me!==null;){for(Le=Ze=Me;Ze!==null;){switch(Pe=Ze,Xe=Pe.child,Pe.tag){case 0:case 11:case 14:case 15:Vc(4,Pe,Pe.return);break;case 1:hu(Pe,Pe.return);var nt=Pe.stateNode;if(typeof nt.componentWillUnmount=="function"){v=Pe,m=Pe.return;try{d=v,nt.props=d.memoizedProps,nt.state=d.memoizedState,nt.componentWillUnmount()}catch(it){Rn(v,m,it)}}break;case 5:hu(Pe,Pe.return);break;case 22:if(Pe.memoizedState!==null){l2(Le);continue}}Xe!==null?(Xe.return=Pe,Ze=Xe):l2(Le)}Me=Me.sibling}e:for(Me=null,Le=l;;){if(Le.tag===5){if(Me===null){Me=Le;try{_=Le.stateNode,be?(j=_.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(W=Le.stateNode,Z=Le.memoizedProps.style,M=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,W.style.display=Qn("display",M))}catch(it){Rn(l,l.return,it)}}}else if(Le.tag===6){if(Me===null)try{Le.stateNode.nodeValue=be?"":Le.memoizedProps}catch(it){Rn(l,l.return,it)}}else if((Le.tag!==22&&Le.tag!==23||Le.memoizedState===null||Le===l)&&Le.child!==null){Le.child.return=Le,Le=Le.child;continue}if(Le===l)break e;for(;Le.sibling===null;){if(Le.return===null||Le.return===l)break e;Me===Le&&(Me=null),Le=Le.return}Me===Le&&(Me=null),Le.sibling.return=Le.return,Le=Le.sibling}}break;case 19:cs(d,l),Os(l),v&4&&i2(l);break;case 21:break;default:cs(d,l),Os(l)}}function Os(l){var d=l.flags;if(d&2){try{e:{for(var m=l.return;m!==null;){if(t2(m)){var v=m;break e}m=m.return}throw Error(n(160))}switch(v.tag){case 5:var _=v.stateNode;v.flags&32&&(Ot(_,""),v.flags&=-33);var j=n2(l);t0(l,j,_);break;case 3:case 4:var M=v.stateNode.containerInfo,W=n2(l);e0(l,W,M);break;default:throw Error(n(161))}}catch(Z){Rn(l,l.return,Z)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function J8(l,d,m){Ze=l,o2(l)}function o2(l,d,m){for(var v=(l.mode&1)!==0;Ze!==null;){var _=Ze,j=_.child;if(_.tag===22&&v){var M=_.memoizedState!==null||cf;if(!M){var W=_.alternate,Z=W!==null&&W.memoizedState!==null||kr;W=cf;var be=kr;if(cf=M,(kr=Z)&&!be)for(Ze=_;Ze!==null;)M=Ze,Z=M.child,M.tag===22&&M.memoizedState!==null?u2(_):Z!==null?(Z.return=M,Ze=Z):u2(_);for(;j!==null;)Ze=j,o2(j),j=j.sibling;Ze=_,cf=W,kr=be}a2(l)}else(_.subtreeFlags&8772)!==0&&j!==null?(j.return=_,Ze=j):a2(l)}}function a2(l){for(;Ze!==null;){var d=Ze;if((d.flags&8772)!==0){var m=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:kr||df(5,d);break;case 1:var v=d.stateNode;if(d.flags&4&&!kr)if(m===null)v.componentDidMount();else{var _=d.elementType===d.type?m.memoizedProps:ls(d.type,m.memoizedProps);v.componentDidUpdate(_,m.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var j=d.updateQueue;j!==null&&lb(d,j,v);break;case 3:var M=d.updateQueue;if(M!==null){if(m=null,d.child!==null)switch(d.child.tag){case 5:m=d.child.stateNode;break;case 1:m=d.child.stateNode}lb(d,M,m)}break;case 5:var W=d.stateNode;if(m===null&&d.flags&4){m=W;var Z=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&m.focus();break;case"img":Z.src&&(m.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var be=d.alternate;if(be!==null){var Me=be.memoizedState;if(Me!==null){var Le=Me.dehydrated;Le!==null&&No(Le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}kr||d.flags&512&&Zg(d)}catch(Pe){Rn(d,d.return,Pe)}}if(d===l){Ze=null;break}if(m=d.sibling,m!==null){m.return=d.return,Ze=m;break}Ze=d.return}}function l2(l){for(;Ze!==null;){var d=Ze;if(d===l){Ze=null;break}var m=d.sibling;if(m!==null){m.return=d.return,Ze=m;break}Ze=d.return}}function u2(l){for(;Ze!==null;){var d=Ze;try{switch(d.tag){case 0:case 11:case 15:var m=d.return;try{df(4,d)}catch(Z){Rn(d,m,Z)}break;case 1:var v=d.stateNode;if(typeof v.componentDidMount=="function"){var _=d.return;try{v.componentDidMount()}catch(Z){Rn(d,_,Z)}}var j=d.return;try{Zg(d)}catch(Z){Rn(d,j,Z)}break;case 5:var M=d.return;try{Zg(d)}catch(Z){Rn(d,M,Z)}}}catch(Z){Rn(d,d.return,Z)}if(d===l){Ze=null;break}var W=d.sibling;if(W!==null){W.return=d.return,Ze=W;break}Ze=d.return}}var Z8=Math.ceil,hf=z.ReactCurrentDispatcher,n0=z.ReactCurrentOwner,Bi=z.ReactCurrentBatchConfig,qt=0,lr=null,qn=null,mr=0,wi=0,fu=Fo(0),er=0,Qc=null,Qa=0,ff=0,r0=0,Wc=null,Jr=null,i0=0,pu=1/0,ro=null,pf=!1,s0=null,Vo=null,mf=!1,Qo=null,gf=0,qc=0,o0=null,yf=-1,vf=0;function zr(){return(qt&6)!==0?It():yf!==-1?yf:yf=It()}function Wo(l){return(l.mode&1)===0?1:(qt&2)!==0&&mr!==0?mr&-mr:I8.transition!==null?(vf===0&&(vf=xc()),vf):(l=en,l!==0||(l=window.event,l=l===void 0?16:kh(l.type)),l)}function ds(l,d,m,v){if(50<qc)throw qc=0,o0=null,Error(n(185));To(l,m,v),((qt&2)===0||l!==lr)&&(l===lr&&((qt&2)===0&&(ff|=m),er===4&&qo(l,mr)),Zr(l,v),m===1&&qt===0&&(d.mode&1)===0&&(pu=It()+500,Qh&&zo()))}function Zr(l,d){var m=l.callbackNode;vc(l,d);var v=ts(l,l===lr?mr:0);if(v===0)m!==null&&Ir(m),l.callbackNode=null,l.callbackPriority=0;else if(d=v&-v,l.callbackPriority!==d){if(m!=null&&Ir(m),d===1)l.tag===0?L8(d2.bind(null,l)):Yx(d2.bind(null,l)),O8(function(){(qt&6)===0&&zo()}),m=null;else{switch(Ht(v)){case 1:m=Dr;break;case 4:m=Ri;break;case 16:m=Dt;break;case 536870912:m=Fr;break;default:m=Dt}m=x2(m,c2.bind(null,l))}l.callbackPriority=d,l.callbackNode=m}}function c2(l,d){if(yf=-1,vf=0,(qt&6)!==0)throw Error(n(327));var m=l.callbackNode;if(mu()&&l.callbackNode!==m)return null;var v=ts(l,l===lr?mr:0);if(v===0)return null;if((v&30)!==0||(v&l.expiredLanes)!==0||d)d=xf(l,v);else{d=v;var _=qt;qt|=2;var j=f2();(lr!==l||mr!==d)&&(ro=null,pu=It()+500,qa(l,d));do try{nk();break}catch(W){h2(l,W)}while(!0);Cg(),hf.current=j,qt=_,qn!==null?d=0:(lr=null,mr=0,d=er)}if(d!==0){if(d===2&&(_=jo(l),_!==0&&(v=_,d=a0(l,_))),d===1)throw m=Qc,qa(l,0),qo(l,v),Zr(l,It()),m;if(d===6)qo(l,v);else{if(_=l.current.alternate,(v&30)===0&&!ek(_)&&(d=xf(l,v),d===2&&(j=jo(l),j!==0&&(v=j,d=a0(l,j))),d===1))throw m=Qc,qa(l,0),qo(l,v),Zr(l,It()),m;switch(l.finishedWork=_,l.finishedLanes=v,d){case 0:case 1:throw Error(n(345));case 2:Ka(l,Jr,ro);break;case 3:if(qo(l,v),(v&130023424)===v&&(d=i0+500-It(),10<d)){if(ts(l,0)!==0)break;if(_=l.suspendedLanes,(_&v)!==v){zr(),l.pingedLanes|=l.suspendedLanes&_;break}l.timeoutHandle=fg(Ka.bind(null,l,Jr,ro),d);break}Ka(l,Jr,ro);break;case 4:if(qo(l,v),(v&4194240)===v)break;for(d=l.eventTimes,_=-1;0<v;){var M=31-ft(v);j=1<<M,M=d[M],M>_&&(_=M),v&=~j}if(v=_,v=It()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*Z8(v/1960))-v,10<v){l.timeoutHandle=fg(Ka.bind(null,l,Jr,ro),v);break}Ka(l,Jr,ro);break;case 5:Ka(l,Jr,ro);break;default:throw Error(n(329))}}}return Zr(l,It()),l.callbackNode===m?c2.bind(null,l):null}function a0(l,d){var m=Wc;return l.current.memoizedState.isDehydrated&&(qa(l,d).flags|=256),l=xf(l,d),l!==2&&(d=Jr,Jr=m,d!==null&&l0(d)),l}function l0(l){Jr===null?Jr=l:Jr.push.apply(Jr,l)}function ek(l){for(var d=l;;){if(d.flags&16384){var m=d.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var v=0;v<m.length;v++){var _=m[v],j=_.getSnapshot;_=_.value;try{if(!Y(j(),_))return!1}catch{return!1}}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function qo(l,d){for(d&=~r0,d&=~ff,l.suspendedLanes|=d,l.pingedLanes&=~d,l=l.expirationTimes;0<d;){var m=31-ft(d),v=1<<m;l[m]=-1,d&=~v}}function d2(l){if((qt&6)!==0)throw Error(n(327));mu();var d=ts(l,0);if((d&1)===0)return Zr(l,It()),null;var m=xf(l,d);if(l.tag!==0&&m===2){var v=jo(l);v!==0&&(d=v,m=a0(l,v))}if(m===1)throw m=Qc,qa(l,0),qo(l,d),Zr(l,It()),m;if(m===6)throw Error(n(345));return l.finishedWork=l.current.alternate,l.finishedLanes=d,Ka(l,Jr,ro),Zr(l,It()),null}function u0(l,d){var m=qt;qt|=1;try{return l(d)}finally{qt=m,qt===0&&(pu=It()+500,Qh&&zo())}}function Wa(l){Qo!==null&&Qo.tag===0&&(qt&6)===0&&mu();var d=qt;qt|=1;var m=Bi.transition,v=en;try{if(Bi.transition=null,en=1,l)return l()}finally{en=v,Bi.transition=m,qt=d,(qt&6)===0&&zo()}}function c0(){wi=fu.current,gn(fu)}function qa(l,d){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==-1&&(l.timeoutHandle=-1,N8(m)),qn!==null)for(m=qn.return;m!==null;){var v=m;switch(xg(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&Hh();break;case 3:cu(),gn(Gr),gn(_r),Rg();break;case 5:Ng(v);break;case 4:cu();break;case 13:gn(jn);break;case 19:gn(jn);break;case 10:kg(v.type._context);break;case 22:case 23:c0()}m=m.return}if(lr=l,qn=l=Ko(l.current,null),mr=wi=d,er=0,Qc=null,r0=ff=Qa=0,Jr=Wc=null,Ua!==null){for(d=0;d<Ua.length;d++)if(m=Ua[d],v=m.interleaved,v!==null){m.interleaved=null;var _=v.next,j=m.pending;if(j!==null){var M=j.next;j.next=_,v.next=M}m.pending=v}Ua=null}return l}function h2(l,d){do{var m=qn;try{if(Cg(),tf.current=of,nf){for(var v=En.memoizedState;v!==null;){var _=v.queue;_!==null&&(_.pending=null),v=v.next}nf=!1}if(Va=0,ar=Zn=En=null,Bc=!1,zc=0,n0.current=null,m===null||m.return===null){er=1,Qc=d,qn=null;break}e:{var j=l,M=m.return,W=m,Z=d;if(d=mr,W.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var be=Z,Me=W,Le=Me.tag;if((Me.mode&1)===0&&(Le===0||Le===11||Le===15)){var Pe=Me.alternate;Pe?(Me.updateQueue=Pe.updateQueue,Me.memoizedState=Pe.memoizedState,Me.lanes=Pe.lanes):(Me.updateQueue=null,Me.memoizedState=null)}var Xe=Db(M);if(Xe!==null){Xe.flags&=-257,Fb(Xe,M,W,j,d),Xe.mode&1&&Ib(j,be,d),d=Xe,Z=be;var nt=d.updateQueue;if(nt===null){var it=new Set;it.add(Z),d.updateQueue=it}else nt.add(Z);break e}else{if((d&1)===0){Ib(j,be,d),d0();break e}Z=Error(n(426))}}else if(_n&&W.mode&1){var zn=Db(M);if(zn!==null){(zn.flags&65536)===0&&(zn.flags|=256),Fb(zn,M,W,j,d),_g(du(Z,W));break e}}j=Z=du(Z,W),er!==4&&(er=2),Wc===null?Wc=[j]:Wc.push(j),j=M;do{switch(j.tag){case 3:j.flags|=65536,d&=-d,j.lanes|=d;var ge=Ab(j,Z,d);ab(j,ge);break e;case 1:W=Z;var se=j.type,xe=j.stateNode;if((j.flags&128)===0&&(typeof se.getDerivedStateFromError=="function"||xe!==null&&typeof xe.componentDidCatch=="function"&&(Vo===null||!Vo.has(xe)))){j.flags|=65536,d&=-d,j.lanes|=d;var Ue=Lb(j,W,d);ab(j,Ue);break e}}j=j.return}while(j!==null)}m2(m)}catch(st){d=st,qn===m&&m!==null&&(qn=m=m.return);continue}break}while(!0)}function f2(){var l=hf.current;return hf.current=of,l===null?of:l}function d0(){(er===0||er===3||er===2)&&(er=4),lr===null||(Qa&268435455)===0&&(ff&268435455)===0||qo(lr,mr)}function xf(l,d){var m=qt;qt|=2;var v=f2();(lr!==l||mr!==d)&&(ro=null,qa(l,d));do try{tk();break}catch(_){h2(l,_)}while(!0);if(Cg(),qt=m,hf.current=v,qn!==null)throw Error(n(261));return lr=null,mr=0,er}function tk(){for(;qn!==null;)p2(qn)}function nk(){for(;qn!==null&&!Vt();)p2(qn)}function p2(l){var d=v2(l.alternate,l,wi);l.memoizedProps=l.pendingProps,d===null?m2(l):qn=d,n0.current=null}function m2(l){var d=l;do{var m=d.alternate;if(l=d.return,(d.flags&32768)===0){if(m=K8(m,d,wi),m!==null){qn=m;return}}else{if(m=G8(m,d),m!==null){m.flags&=32767,qn=m;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{er=6,qn=null;return}}if(d=d.sibling,d!==null){qn=d;return}qn=d=l}while(d!==null);er===0&&(er=5)}function Ka(l,d,m){var v=en,_=Bi.transition;try{Bi.transition=null,en=1,rk(l,d,m,v)}finally{Bi.transition=_,en=v}return null}function rk(l,d,m,v){do mu();while(Qo!==null);if((qt&6)!==0)throw Error(n(327));m=l.finishedWork;var _=l.finishedLanes;if(m===null)return null;if(l.finishedWork=null,l.finishedLanes=0,m===l.current)throw Error(n(177));l.callbackNode=null,l.callbackPriority=0;var j=m.lanes|m.childLanes;if(Sa(l,j),l===lr&&(qn=lr=null,mr=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||mf||(mf=!0,x2(Dt,function(){return mu(),null})),j=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||j){j=Bi.transition,Bi.transition=null;var M=en;en=1;var W=qt;qt|=4,n0.current=null,X8(l,m),s2(m,l),we(dg),ks=!!cg,dg=cg=null,l.current=m,J8(m),pi(),qt=W,en=M,Bi.transition=j}else l.current=m;if(mf&&(mf=!1,Qo=l,gf=_),j=l.pendingLanes,j===0&&(Vo=null),$s(m.stateNode),Zr(l,It()),d!==null)for(v=l.onRecoverableError,m=0;m<d.length;m++)_=d[m],v(_.value,{componentStack:_.stack,digest:_.digest});if(pf)throw pf=!1,l=s0,s0=null,l;return(gf&1)!==0&&l.tag!==0&&mu(),j=l.pendingLanes,(j&1)!==0?l===o0?qc++:(qc=0,o0=l):qc=0,zo(),null}function mu(){if(Qo!==null){var l=Ht(gf),d=Bi.transition,m=en;try{if(Bi.transition=null,en=16>l?16:l,Qo===null)var v=!1;else{if(l=Qo,Qo=null,gf=0,(qt&6)!==0)throw Error(n(331));var _=qt;for(qt|=4,Ze=l.current;Ze!==null;){var j=Ze,M=j.child;if((Ze.flags&16)!==0){var W=j.deletions;if(W!==null){for(var Z=0;Z<W.length;Z++){var be=W[Z];for(Ze=be;Ze!==null;){var Me=Ze;switch(Me.tag){case 0:case 11:case 15:Vc(8,Me,j)}var Le=Me.child;if(Le!==null)Le.return=Me,Ze=Le;else for(;Ze!==null;){Me=Ze;var Pe=Me.sibling,Xe=Me.return;if(e2(Me),Me===be){Ze=null;break}if(Pe!==null){Pe.return=Xe,Ze=Pe;break}Ze=Xe}}}var nt=j.alternate;if(nt!==null){var it=nt.child;if(it!==null){nt.child=null;do{var zn=it.sibling;it.sibling=null,it=zn}while(it!==null)}}Ze=j}}if((j.subtreeFlags&2064)!==0&&M!==null)M.return=j,Ze=M;else e:for(;Ze!==null;){if(j=Ze,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:Vc(9,j,j.return)}var ge=j.sibling;if(ge!==null){ge.return=j.return,Ze=ge;break e}Ze=j.return}}var se=l.current;for(Ze=se;Ze!==null;){M=Ze;var xe=M.child;if((M.subtreeFlags&2064)!==0&&xe!==null)xe.return=M,Ze=xe;else e:for(M=se;Ze!==null;){if(W=Ze,(W.flags&2048)!==0)try{switch(W.tag){case 0:case 11:case 15:df(9,W)}}catch(st){Rn(W,W.return,st)}if(W===M){Ze=null;break e}var Ue=W.sibling;if(Ue!==null){Ue.return=W.return,Ze=Ue;break e}Ze=W.return}}if(qt=_,zo(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(mi,l)}catch{}v=!0}return v}finally{en=m,Bi.transition=d}}return!1}function g2(l,d,m){d=du(m,d),d=Ab(l,d,1),l=Uo(l,d,1),d=zr(),l!==null&&(To(l,1,d),Zr(l,d))}function Rn(l,d,m){if(l.tag===3)g2(l,l,m);else for(;d!==null;){if(d.tag===3){g2(d,l,m);break}else if(d.tag===1){var v=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Vo===null||!Vo.has(v))){l=du(m,l),l=Lb(d,l,1),d=Uo(d,l,1),l=zr(),d!==null&&(To(d,1,l),Zr(d,l));break}}d=d.return}}function ik(l,d,m){var v=l.pingCache;v!==null&&v.delete(d),d=zr(),l.pingedLanes|=l.suspendedLanes&m,lr===l&&(mr&m)===m&&(er===4||er===3&&(mr&130023424)===mr&&500>It()-i0?qa(l,0):r0|=m),Zr(l,d)}function y2(l,d){d===0&&((l.mode&1)===0?d=1:(d=Cs,Cs<<=1,(Cs&130023424)===0&&(Cs=4194304)));var m=zr();l=eo(l,d),l!==null&&(To(l,d,m),Zr(l,m))}function sk(l){var d=l.memoizedState,m=0;d!==null&&(m=d.retryLane),y2(l,m)}function ok(l,d){var m=0;switch(l.tag){case 13:var v=l.stateNode,_=l.memoizedState;_!==null&&(m=_.retryLane);break;case 19:v=l.stateNode;break;default:throw Error(n(314))}v!==null&&v.delete(d),y2(l,m)}var v2;v2=function(l,d,m){if(l!==null)if(l.memoizedProps!==d.pendingProps||Gr.current)Xr=!0;else{if((l.lanes&m)===0&&(d.flags&128)===0)return Xr=!1,q8(l,d,m);Xr=(l.flags&131072)!==0}else Xr=!1,_n&&(d.flags&1048576)!==0&&Xx(d,qh,d.index);switch(d.lanes=0,d.tag){case 2:var v=d.type;uf(l,d),l=d.pendingProps;var _=ru(d,_r.current);uu(d,m),_=Lg(null,d,v,l,_,m);var j=Ig();return d.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Yr(v)?(j=!0,Vh(d)):j=!1,d.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,Tg(d),_.updater=af,d.stateNode=_,_._reactInternals=d,Ug(d,v,l,m),d=Wg(null,d,v,!0,j,m)):(d.tag=0,_n&&j&&vg(d),Br(null,d,_,m),d=d.child),d;case 16:v=d.elementType;e:{switch(uf(l,d),l=d.pendingProps,_=v._init,v=_(v._payload),d.type=v,_=d.tag=lk(v),l=ls(v,l),_){case 0:d=Qg(null,d,v,l,m);break e;case 1:d=Vb(null,d,v,l,m);break e;case 11:d=Bb(null,d,v,l,m);break e;case 14:d=zb(null,d,v,ls(v.type,l),m);break e}throw Error(n(306,v,""))}return d;case 0:return v=d.type,_=d.pendingProps,_=d.elementType===v?_:ls(v,_),Qg(l,d,v,_,m);case 1:return v=d.type,_=d.pendingProps,_=d.elementType===v?_:ls(v,_),Vb(l,d,v,_,m);case 3:e:{if(Qb(d),l===null)throw Error(n(387));v=d.pendingProps,j=d.memoizedState,_=j.element,ob(l,d),Zh(d,v,null,m);var M=d.memoizedState;if(v=M.element,j.isDehydrated)if(j={element:v,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},d.updateQueue.baseState=j,d.memoizedState=j,d.flags&256){_=du(Error(n(423)),d),d=Wb(l,d,v,m,_);break e}else if(v!==_){_=du(Error(n(424)),d),d=Wb(l,d,v,m,_);break e}else for(bi=Do(d.stateNode.containerInfo.firstChild),xi=d,_n=!0,as=null,m=ib(d,null,v,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(ou(),v===_){d=no(l,d,m);break e}Br(l,d,v,m)}d=d.child}return d;case 5:return ub(d),l===null&&wg(d),v=d.type,_=d.pendingProps,j=l!==null?l.memoizedProps:null,M=_.children,hg(v,_)?M=null:j!==null&&hg(v,j)&&(d.flags|=32),Hb(l,d),Br(l,d,M,m),d.child;case 6:return l===null&&wg(d),null;case 13:return qb(l,d,m);case 4:return Pg(d,d.stateNode.containerInfo),v=d.pendingProps,l===null?d.child=au(d,null,v,m):Br(l,d,v,m),d.child;case 11:return v=d.type,_=d.pendingProps,_=d.elementType===v?_:ls(v,_),Bb(l,d,v,_,m);case 7:return Br(l,d,d.pendingProps,m),d.child;case 8:return Br(l,d,d.pendingProps.children,m),d.child;case 12:return Br(l,d,d.pendingProps.children,m),d.child;case 10:e:{if(v=d.type._context,_=d.pendingProps,j=d.memoizedProps,M=_.value,ln(Yh,v._currentValue),v._currentValue=M,j!==null)if(Y(j.value,M)){if(j.children===_.children&&!Gr.current){d=no(l,d,m);break e}}else for(j=d.child,j!==null&&(j.return=d);j!==null;){var W=j.dependencies;if(W!==null){M=j.child;for(var Z=W.firstContext;Z!==null;){if(Z.context===v){if(j.tag===1){Z=to(-1,m&-m),Z.tag=2;var be=j.updateQueue;if(be!==null){be=be.shared;var Me=be.pending;Me===null?Z.next=Z:(Z.next=Me.next,Me.next=Z),be.pending=Z}}j.lanes|=m,Z=j.alternate,Z!==null&&(Z.lanes|=m),jg(j.return,m,d),W.lanes|=m;break}Z=Z.next}}else if(j.tag===10)M=j.type===d.type?null:j.child;else if(j.tag===18){if(M=j.return,M===null)throw Error(n(341));M.lanes|=m,W=M.alternate,W!==null&&(W.lanes|=m),jg(M,m,d),M=j.sibling}else M=j.child;if(M!==null)M.return=j;else for(M=j;M!==null;){if(M===d){M=null;break}if(j=M.sibling,j!==null){j.return=M.return,M=j;break}M=M.return}j=M}Br(l,d,_.children,m),d=d.child}return d;case 9:return _=d.type,v=d.pendingProps.children,uu(d,m),_=Di(_),v=v(_),d.flags|=1,Br(l,d,v,m),d.child;case 14:return v=d.type,_=ls(v,d.pendingProps),_=ls(v.type,_),zb(l,d,v,_,m);case 15:return $b(l,d,d.type,d.pendingProps,m);case 17:return v=d.type,_=d.pendingProps,_=d.elementType===v?_:ls(v,_),uf(l,d),d.tag=1,Yr(v)?(l=!0,Vh(d)):l=!1,uu(d,m),Rb(d,v,_),Ug(d,v,_,m),Wg(null,d,v,!0,l,m);case 19:return Gb(l,d,m);case 22:return Ub(l,d,m)}throw Error(n(156,d.tag))};function x2(l,d){return Zi(l,d)}function ak(l,d,m,v){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zi(l,d,m,v){return new ak(l,d,m,v)}function h0(l){return l=l.prototype,!(!l||!l.isReactComponent)}function lk(l){if(typeof l=="function")return h0(l)?1:0;if(l!=null){if(l=l.$$typeof,l===ue)return 11;if(l===Q)return 14}return 2}function Ko(l,d){var m=l.alternate;return m===null?(m=zi(l.tag,d,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=d,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&14680064,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,d=l.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function bf(l,d,m,v,_,j){var M=2;if(v=l,typeof l=="function")h0(l)&&(M=1);else if(typeof l=="string")M=5;else e:switch(l){case I:return Ga(m.children,_,j,d);case H:M=8,_|=8;break;case V:return l=zi(12,m,d,_|2),l.elementType=V,l.lanes=j,l;case ae:return l=zi(13,m,d,_),l.elementType=ae,l.lanes=j,l;case q:return l=zi(19,m,d,_),l.elementType=q,l.lanes=j,l;case te:return wf(m,_,j,d);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case F:M=10;break e;case le:M=9;break e;case ue:M=11;break e;case Q:M=14;break e;case J:M=16,v=null;break e}throw Error(n(130,l==null?l:typeof l,""))}return d=zi(M,m,d,_),d.elementType=l,d.type=v,d.lanes=j,d}function Ga(l,d,m,v){return l=zi(7,l,v,d),l.lanes=m,l}function wf(l,d,m,v){return l=zi(22,l,v,d),l.elementType=te,l.lanes=m,l.stateNode={isHidden:!1},l}function f0(l,d,m){return l=zi(6,l,null,d),l.lanes=m,l}function p0(l,d,m){return d=zi(4,l.children!==null?l.children:[],l.key,d),d.lanes=m,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}function uk(l,d,m,v,_){this.tag=d,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Eo(0),this.expirationTimes=Eo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eo(0),this.identifierPrefix=v,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function m0(l,d,m,v,_,j,M,W,Z){return l=new uk(l,d,m,W,Z),d===1?(d=1,j===!0&&(d|=8)):d=0,j=zi(3,null,null,d),l.current=j,j.stateNode=l,j.memoizedState={element:v,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tg(j),l}function ck(l,d,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:v==null?null:""+v,children:l,containerInfo:d,implementation:m}}function b2(l){if(!l)return Bo;l=l._reactInternals;e:{if(Rt(l)!==l||l.tag!==1)throw Error(n(170));var d=l;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Yr(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(n(171))}if(l.tag===1){var m=l.type;if(Yr(m))return Kx(l,m,d)}return d}function w2(l,d,m,v,_,j,M,W,Z){return l=m0(m,v,!0,l,_,j,M,W,Z),l.context=b2(null),m=l.current,v=zr(),_=Wo(m),j=to(v,_),j.callback=d??null,Uo(m,j,_),l.current.lanes=_,To(l,_,v),Zr(l,v),l}function _f(l,d,m,v){var _=d.current,j=zr(),M=Wo(_);return m=b2(m),d.context===null?d.context=m:d.pendingContext=m,d=to(j,M),d.payload={element:l},v=v===void 0?null:v,v!==null&&(d.callback=v),l=Uo(_,d,M),l!==null&&(ds(l,_,M,j),Jh(l,_,M)),M}function Sf(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function _2(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<d?m:d}}function g0(l,d){_2(l,d),(l=l.alternate)&&_2(l,d)}function dk(){return null}var S2=typeof reportError=="function"?reportError:function(l){console.error(l)};function y0(l){this._internalRoot=l}Cf.prototype.render=y0.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(n(409));_f(l,d,null,null)},Cf.prototype.unmount=y0.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;Wa(function(){_f(null,l,null,null)}),d[Ys]=null}};function Cf(l){this._internalRoot=l}Cf.prototype.unstable_scheduleHydration=function(l){if(l){var d=xr();l={blockedOn:null,target:l,priority:d};for(var m=0;m<qr.length&&d!==0&&d<qr[m].priority;m++);qr.splice(m,0,l),m===0&&$l(l)}};function v0(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function kf(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function C2(){}function hk(l,d,m,v,_){if(_){if(typeof v=="function"){var j=v;v=function(){var be=Sf(M);j.call(be)}}var M=w2(d,v,l,0,null,!1,!1,"",C2);return l._reactRootContainer=M,l[Ys]=M.current,Oc(l.nodeType===8?l.parentNode:l),Wa(),M}for(;_=l.lastChild;)l.removeChild(_);if(typeof v=="function"){var W=v;v=function(){var be=Sf(Z);W.call(be)}}var Z=m0(l,0,!1,null,null,!1,!1,"",C2);return l._reactRootContainer=Z,l[Ys]=Z.current,Oc(l.nodeType===8?l.parentNode:l),Wa(function(){_f(d,Z,m,v)}),Z}function jf(l,d,m,v,_){var j=m._reactRootContainer;if(j){var M=j;if(typeof _=="function"){var W=_;_=function(){var Z=Sf(M);W.call(Z)}}_f(d,M,l,_)}else M=hk(m,d,l,_,v);return Sf(M)}zl=function(l){switch(l.tag){case 3:var d=l.stateNode;if(d.current.memoizedState.isDehydrated){var m=es(d.pendingLanes);m!==0&&(Bl(d,m|1),Zr(d,It()),(qt&6)===0&&(pu=It()+500,zo()))}break;case 13:Wa(function(){var v=eo(l,1);if(v!==null){var _=zr();ds(v,l,1,_)}}),g0(l,1)}},bc=function(l){if(l.tag===13){var d=eo(l,134217728);if(d!==null){var m=zr();ds(d,l,134217728,m)}g0(l,134217728)}},Ch=function(l){if(l.tag===13){var d=Wo(l),m=eo(l,d);if(m!==null){var v=zr();ds(m,l,d,v)}g0(l,d)}},xr=function(){return en},Us=function(l,d){var m=en;try{return en=l,d()}finally{en=m}},We=function(l,d,m){switch(d){case"input":if(Yi(l,m),d=m.name,m.type==="radio"&&d!=null){for(m=l;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<m.length;d++){var v=m[d];if(v!==l&&v.form===l.form){var _=Uh(v);if(!_)throw Error(n(90));Nt(v),Yi(v,_)}}}break;case"textarea":_s(l,m);break;case"select":d=m.value,d!=null&&Dn(l,!!m.multiple,d,!1)}},Il=u0,Dl=Wa;var fk={usingClientEntryPoint:!1,Events:[Ac,tu,Uh,Ss,Ji,u0]},Kc={findFiberByHostInstance:Fa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pk={bundleType:Kc.bundleType,version:Kc.version,rendererPackageName:Kc.rendererPackageName,rendererConfig:Kc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=Zt(l),l===null?null:l.stateNode},findFiberByHostInstance:Kc.findFiberByHostInstance||dk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ef.isDisabled&&Ef.supportsFiber)try{mi=Ef.inject(pk),Ut=Ef}catch{}}return ei.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fk,ei.createPortal=function(l,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v0(d))throw Error(n(200));return ck(l,d,null,m)},ei.createRoot=function(l,d){if(!v0(l))throw Error(n(299));var m=!1,v="",_=S2;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(v=d.identifierPrefix),d.onRecoverableError!==void 0&&(_=d.onRecoverableError)),d=m0(l,1,!1,null,null,m,!1,v,_),l[Ys]=d.current,Oc(l.nodeType===8?l.parentNode:l),new y0(d)},ei.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=Zt(d),l=l===null?null:l.stateNode,l},ei.flushSync=function(l){return Wa(l)},ei.hydrate=function(l,d,m){if(!kf(d))throw Error(n(200));return jf(null,l,d,!0,m)},ei.hydrateRoot=function(l,d,m){if(!v0(l))throw Error(n(405));var v=m!=null&&m.hydratedSources||null,_=!1,j="",M=S2;if(m!=null&&(m.unstable_strictMode===!0&&(_=!0),m.identifierPrefix!==void 0&&(j=m.identifierPrefix),m.onRecoverableError!==void 0&&(M=m.onRecoverableError)),d=w2(d,null,l,1,m??null,_,!1,j,M),l[Ys]=d.current,Oc(l),v)for(l=0;l<v.length;l++)m=v[l],_=m._getVersion,_=_(m._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[m,_]:d.mutableSourceEagerHydrationData.push(m,_);return new Cf(d)},ei.render=function(l,d,m){if(!kf(d))throw Error(n(200));return jf(null,l,d,!1,m)},ei.unmountComponentAtNode=function(l){if(!kf(l))throw Error(n(40));return l._reactRootContainer?(Wa(function(){jf(null,null,l,!1,function(){l._reactRootContainer=null,l[Ys]=null})}),!0):!1},ei.unstable_batchedUpdates=u0,ei.unstable_renderSubtreeIntoContainer=function(l,d,m,v){if(!kf(m))throw Error(n(200));if(l==null||l._reactInternals===void 0)throw Error(n(38));return jf(l,d,m,!1,v)},ei.version="18.3.1-next-f1338f8080-20240426",ei}var M2;function P4(){if(M2)return w0.exports;M2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),w0.exports=jk(),w0.exports}var A2;function Ek(){if(A2)return Tf;A2=1;var e=P4();return Tf.createRoot=e.createRoot,Tf.hydrateRoot=e.hydrateRoot,Tf}var Tk=Ek();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var N4=e=>{throw TypeError(e)},Pk=(e,t,n)=>t.has(e)||N4("Cannot "+n),C0=(e,t,n)=>(Pk(e,t,"read from private field"),n?n.call(e):t.get(e)),Nk=(e,t,n)=>t.has(e)?N4("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),L2="popstate";function Ok(e={}){function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return Ld("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ua(i)}return Mk(t,n,null,e)}function At(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ln(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Rk(){return Math.random().toString(36).substring(2,10)}function I2(e,t){return{usr:e.state,key:e.key,idx:t}}function Ld(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ga(t):t,state:n,key:t&&t.key||r||Rk()}}function ua({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ga(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Mk(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",u=null,c=h();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function h(){return(o.state||{idx:null}).idx}function p(){a="POP";let k=h(),E=k==null?null:k-c;c=k,u&&u({action:a,location:S.location,delta:E})}function g(k,E){a="PUSH";let R=Ld(S.location,k,E);c=h()+1;let A=I2(R,c),z=S.createHref(R);try{o.pushState(A,"",z)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(z)}s&&u&&u({action:a,location:S.location,delta:1})}function x(k,E){a="REPLACE";let R=Ld(S.location,k,E);c=h();let A=I2(R,c),z=S.createHref(R);o.replaceState(A,"",z),s&&u&&u({action:a,location:S.location,delta:0})}function w(k){return O4(k)}let S={get action(){return a},get location(){return e(i,o)},listen(k){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(L2,p),u=k,()=>{i.removeEventListener(L2,p),u=null}},createHref(k){return t(i,k)},createURL:w,encodeLocation(k){let E=w(k);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:g,replace:x,go(k){return o.go(k)}};return S}function O4(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),At(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:ua(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var gd,D2=class{constructor(e){if(Nk(this,gd,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(C0(this,gd).has(e))return C0(this,gd).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){C0(this,gd).set(e,t)}};gd=new WeakMap;var Ak=new Set(["lazy","caseSensitive","path","id","index","children"]);function Lk(e){return Ak.has(e)}var Ik=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function Dk(e){return Ik.has(e)}function Fk(e){return e.index===!0}function Id(e,t,n=[],r={},i=!1){return e.map((s,o)=>{let a=[...n,String(o)],u=typeof s.id=="string"?s.id:a.join("-");if(At(s.index!==!0||!s.children,"Cannot specify children on an index route"),At(i||!r[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),Fk(s)){let c={...s,...t(s),id:u};return r[u]=c,c}else{let c={...s,...t(s),id:u,children:void 0};return r[u]=c,s.children&&(c.children=Id(s.children,t,a,r,i)),c}})}function ea(e,t,n="/"){return xp(e,t,n,!1)}function xp(e,t,n,r){let i=typeof t=="string"?ga(t):t,s=Wi(i.pathname||"/",n);if(s==null)return null;let o=R4(e);zk(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=Xk(s);a=Gk(o[u],c,r)}return a}function Bk(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function R4(e,t=[],n=[],r=""){let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(At(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let c=Ls([r,u.relativePath]),h=n.concat(u);s.children&&s.children.length>0&&(At(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),R4(s.children,t,h,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:qk(c,s.index),routesMeta:h})};return e.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))i(s,o);else for(let a of M4(s.path))i(s,o,a)}),t}function M4(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=M4(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function zk(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Kk(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var $k=/^:[\w-]+$/,Uk=3,Hk=2,Vk=1,Qk=10,Wk=-2,F2=e=>e==="*";function qk(e,t){let n=e.split("/"),r=n.length;return n.some(F2)&&(r+=Wk),t&&(r+=Hk),n.filter(i=>!F2(i)).reduce((i,s)=>i+($k.test(s)?Uk:s===""?Vk:Qk),r)}function Kk(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Gk(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,h=s==="/"?t:t.slice(s.length)||"/",p=Op({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),g=u.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=Op({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Ls([s,p.pathname]),pathnameBase:t9(Ls([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=Ls([s,p.pathnameBase]))}return o}function Op(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Yk(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:h,isOptional:p},g)=>{if(h==="*"){let w=a[g]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const x=a[g];return p&&!x?c[h]=void 0:c[h]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:e}}function Yk(e,t=!1,n=!0){Ln(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Xk(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ln(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Wi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Jk({basename:e,pathname:t}){return t==="/"?e:Ls([e,t])}function Zk(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ga(e):e;return{pathname:n?n.startsWith("/")?n:e9(n,t):t,search:n9(r),hash:r9(i)}}function e9(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function k0(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function A4(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function cm(e){let t=A4(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function dm(e,t,n,r=!1){let i;typeof e=="string"?i=ga(e):(i={...e},At(!i.pathname||!i.pathname.includes("?"),k0("?","pathname","search",i)),At(!i.pathname||!i.pathname.includes("#"),k0("#","pathname","hash",i)),At(!i.search||!i.search.includes("#"),k0("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}a=p>=0?t[p]:"/"}let u=Zk(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}var Ls=e=>e.join("/").replace(/\/\/+/g,"/"),t9=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),n9=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,r9=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Rp=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Dd(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var L4=["POST","PUT","PATCH","DELETE"],i9=new Set(L4),s9=["GET",...L4],o9=new Set(s9),a9=new Set([301,302,303,307,308]),l9=new Set([307,308]),j0={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},u9={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Yc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},c9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rv=e=>c9.test(e),d9=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),I4="remix-router-transitions",D4=Symbol("ResetLoaderData");function h9(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";At(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=e.hydrationRouteProperties||[],i=e.mapRouteProperties||d9,s={},o=Id(e.routes,i,void 0,s),a,u=e.basename||"/",c=e.dataStrategy||y9,h={unstable_middleware:!1,...e.future},p=null,g=new Set,x=null,w=null,S=null,k=e.hydrationData!=null,E=ea(o,e.history.location,u),R=!1,A=null,z;if(E==null&&!e.patchRoutesOnNavigation){let X=Ui(404,{pathname:e.history.location.pathname}),{matches:pe,route:_e}=Y2(o);z=!0,E=pe,A={[_e.id]:X}}else if(E&&!e.hydrationData&&Ss(E,o,e.history.location.pathname).active&&(E=null),E)if(E.some(X=>X.route.lazy))z=!1;else if(!E.some(X=>X.route.loader))z=!0;else{let X=e.hydrationData?e.hydrationData.loaderData:null,pe=e.hydrationData?e.hydrationData.errors:null;if(pe){let _e=E.findIndex(Ae=>pe[Ae.route.id]!==void 0);z=E.slice(0,_e+1).every(Ae=>!V1(Ae.route,X,pe))}else z=E.every(_e=>!V1(_e.route,X,pe))}else{z=!1,E=[];let X=Ss(null,o,e.history.location.pathname);X.active&&X.matches&&(R=!0,E=X.matches)}let U,N={historyAction:e.history.action,location:e.history.location,matches:E,initialized:z,navigation:j0,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||A,fetchers:new Map,blockers:new Map},I="POP",H=!1,V,F=!1,le=new Map,ue=null,ae=!1,q=!1,Q=new Set,J=new Map,te=0,ne=-1,me=new Map,D=new Set,G=new Map,ye=new Map,B=new Set,Fe=new Map,je,Ee=null;function Ye(){if(p=e.history.listen(({action:X,location:pe,delta:_e})=>{if(je){je(),je=void 0;return}Ln(Fe.size===0||_e!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ae=xn({currentLocation:N.location,nextLocation:pe,historyAction:X});if(Ae&&_e!=null){let Te=new Promise(qe=>{je=qe});e.history.go(_e*-1),Fn(Ae,{state:"blocked",location:pe,proceed(){Fn(Ae,{state:"proceeding",proceed:void 0,reset:void 0,location:pe}),Te.then(()=>e.history.go(_e))},reset(){let qe=new Map(N.blockers);qe.set(Ae,Yc),ht({blockers:qe})}});return}return pn(X,pe)}),n){T9(t,le);let X=()=>P9(t,le);t.addEventListener("pagehide",X),ue=()=>t.removeEventListener("pagehide",X)}return N.initialized||pn("POP",N.location,{initialHydration:!0}),U}function Ke(){p&&p(),ue&&ue(),g.clear(),V&&V.abort(),N.fetchers.forEach((X,pe)=>pt(pe)),N.blockers.forEach((X,pe)=>Qe(pe))}function Ne(X){return g.add(X),()=>g.delete(X)}function ht(X,pe={}){X.matches&&(X.matches=X.matches.map(Te=>{let qe=s[Te.route.id],rt=Te.route;return rt.element!==qe.element||rt.errorElement!==qe.errorElement||rt.hydrateFallbackElement!==qe.hydrateFallbackElement?{...Te,route:qe}:Te})),N={...N,...X};let _e=[],Ae=[];N.fetchers.forEach((Te,qe)=>{Te.state==="idle"&&(B.has(qe)?_e.push(qe):Ae.push(qe))}),B.forEach(Te=>{!N.fetchers.has(Te)&&!J.has(Te)&&_e.push(Te)}),[...g].forEach(Te=>Te(N,{deletedFetchers:_e,viewTransitionOpts:pe.viewTransitionOpts,flushSync:pe.flushSync===!0})),_e.forEach(Te=>pt(Te)),Ae.forEach(Te=>N.fetchers.delete(Te))}function fn(X,pe,{flushSync:_e}={}){let Ae=N.actionData!=null&&N.navigation.formMethod!=null&&si(N.navigation.formMethod)&&N.navigation.state==="loading"&&X.state?._isRedirect!==!0,Te;pe.actionData?Object.keys(pe.actionData).length>0?Te=pe.actionData:Te=null:Ae?Te=N.actionData:Te=null;let qe=pe.loaderData?K2(N.loaderData,pe.loaderData,pe.matches||[],pe.errors):N.loaderData,rt=N.blockers;rt.size>0&&(rt=new Map(rt),rt.forEach((ot,et)=>rt.set(et,Yc)));let Je=ae?!1:zs(X,pe.matches||N.matches),tt=H===!0||N.navigation.formMethod!=null&&si(N.navigation.formMethod)&&X.state?._isRedirect!==!0;a&&(o=a,a=void 0),ae||I==="POP"||(I==="PUSH"?e.history.push(X,X.state):I==="REPLACE"&&e.history.replace(X,X.state));let at;if(I==="POP"){let ot=le.get(N.location.pathname);ot&&ot.has(X.pathname)?at={currentLocation:N.location,nextLocation:X}:le.has(X.pathname)&&(at={currentLocation:X,nextLocation:N.location})}else if(F){let ot=le.get(N.location.pathname);ot?ot.add(X.pathname):(ot=new Set([X.pathname]),le.set(N.location.pathname,ot)),at={currentLocation:N.location,nextLocation:X}}ht({...pe,actionData:Te,loaderData:qe,historyAction:I,location:X,initialized:!0,navigation:j0,revalidation:"idle",restoreScrollPosition:Je,preventScrollReset:tt,blockers:rt},{viewTransitionOpts:at,flushSync:_e===!0}),I="POP",H=!1,F=!1,ae=!1,q=!1,Ee?.resolve(),Ee=null}async function Nt(X,pe){if(typeof X=="number"){e.history.go(X);return}let _e=H1(N.location,N.matches,u,X,pe?.fromRouteId,pe?.relative),{path:Ae,submission:Te,error:qe}=B2(!1,_e,pe),rt=N.location,Je=Ld(N.location,Ae,pe&&pe.state);Je={...Je,...e.history.encodeLocation(Je)};let tt=pe&&pe.replace!=null?pe.replace:void 0,at="PUSH";tt===!0?at="REPLACE":tt===!1||Te!=null&&si(Te.formMethod)&&Te.formAction===N.location.pathname+N.location.search&&(at="REPLACE");let ot=pe&&"preventScrollReset"in pe?pe.preventScrollReset===!0:void 0,et=(pe&&pe.flushSync)===!0,St=xn({currentLocation:rt,nextLocation:Je,historyAction:at});if(St){Fn(St,{state:"blocked",location:Je,proceed(){Fn(St,{state:"proceeding",proceed:void 0,reset:void 0,location:Je}),Nt(X,pe)},reset(){let Rt=new Map(N.blockers);Rt.set(St,Yc),ht({blockers:Rt})}});return}await pn(at,Je,{submission:Te,pendingError:qe,preventScrollReset:ot,replace:pe&&pe.replace,enableViewTransition:pe&&pe.viewTransition,flushSync:et})}function vn(){Ee||(Ee=N9()),Wr(),ht({revalidation:"loading"});let X=Ee.promise;return N.navigation.state==="submitting"?X:N.navigation.state==="idle"?(pn(N.historyAction,N.location,{startUninterruptedRevalidation:!0}),X):(pn(I||N.historyAction,N.navigation.location,{overrideNavigation:N.navigation,enableViewTransition:F===!0}),X)}async function pn(X,pe,_e){V&&V.abort(),V=null,I=X,ae=(_e&&_e.startUninterruptedRevalidation)===!0,Xi(N.location,N.matches),H=(_e&&_e.preventScrollReset)===!0,F=(_e&&_e.enableViewTransition)===!0;let Ae=a||o,Te=_e&&_e.overrideNavigation,qe=_e?.initialHydration&&N.matches&&N.matches.length>0&&!R?N.matches:ea(Ae,pe,u),rt=(_e&&_e.flushSync)===!0;if(qe&&N.initialized&&!q&&S9(N.location,pe)&&!(_e&&_e.submission&&si(_e.submission.formMethod))){fn(pe,{matches:qe},{flushSync:rt});return}let Je=Ss(qe,Ae,pe.pathname);if(Je.active&&Je.matches&&(qe=Je.matches),!qe){let{error:Wn,notFoundMatches:Wt,route:Zt}=Ni(pe.pathname);fn(pe,{matches:Wt,loaderData:{},errors:{[Zt.id]:Wn}},{flushSync:rt});return}V=new AbortController;let tt=Du(e.history,pe,V.signal,_e&&_e.submission),at=new D2(e.unstable_getContext?await e.unstable_getContext():void 0),ot;if(_e&&_e.pendingError)ot=[ll(qe).route.id,{type:"error",error:_e.pendingError}];else if(_e&&_e.submission&&si(_e.submission.formMethod)){let Wn=await In(tt,pe,_e.submission,qe,at,Je.active,_e&&_e.initialHydration===!0,{replace:_e.replace,flushSync:rt});if(Wn.shortCircuited)return;if(Wn.pendingActionResult){let[Wt,Zt]=Wn.pendingActionResult;if(Ci(Zt)&&Dd(Zt.error)&&Zt.error.status===404){V=null,fn(pe,{matches:Wn.matches,loaderData:{},errors:{[Wt]:Zt.error}});return}}qe=Wn.matches||qe,ot=Wn.pendingActionResult,Te=E0(pe,_e.submission),rt=!1,Je.active=!1,tt=Du(e.history,tt.url,tt.signal)}let{shortCircuited:et,matches:St,loaderData:Rt,errors:bn}=await Bs(tt,pe,qe,at,Je.active,Te,_e&&_e.submission,_e&&_e.fetcherSubmission,_e&&_e.replace,_e&&_e.initialHydration===!0,rt,ot);et||(V=null,fn(pe,{matches:St||qe,...G2(ot),loaderData:Rt,errors:bn}))}async function In(X,pe,_e,Ae,Te,qe,rt,Je={}){Wr();let tt=j9(pe,_e);if(ht({navigation:tt},{flushSync:Je.flushSync===!0}),qe){let et=await Ji(Ae,pe.pathname,X.signal);if(et.type==="aborted")return{shortCircuited:!0};if(et.type==="error"){let St=ll(et.partialMatches).route.id;return{matches:et.partialMatches,pendingActionResult:[St,{type:"error",error:et.error}]}}else if(et.matches)Ae=et.matches;else{let{notFoundMatches:St,error:Rt,route:bn}=Ni(pe.pathname);return{matches:St,pendingActionResult:[bn.id,{type:"error",error:Rt}]}}}let at,ot=bp(Ae,pe);if(!ot.route.action&&!ot.route.lazy)at={type:"error",error:Ui(405,{method:X.method,pathname:pe.pathname,routeId:ot.route.id})};else{let et=Vu(i,s,X,Ae,ot,rt?[]:r,Te),St=await vr(X,et,Te,null);if(at=St[ot.route.id],!at){for(let Rt of Ae)if(St[Rt.route.id]){at=St[Rt.route.id];break}}if(X.signal.aborted)return{shortCircuited:!0}}if(hl(at)){let et;return Je&&Je.replace!=null?et=Je.replace:et=Q2(at.response.headers.get("Location"),new URL(X.url),u)===N.location.pathname+N.location.search,await yr(X,at,!0,{submission:_e,replace:et}),{shortCircuited:!0}}if(Ci(at)){let et=ll(Ae,ot.route.id);return(Je&&Je.replace)!==!0&&(I="PUSH"),{matches:Ae,pendingActionResult:[et.route.id,at,ot.route.id]}}return{matches:Ae,pendingActionResult:[ot.route.id,at]}}async function Bs(X,pe,_e,Ae,Te,qe,rt,Je,tt,at,ot,et){let St=qe||E0(pe,rt),Rt=rt||Je||J2(St),bn=!ae&&!at;if(Te){if(bn){let On=Yi(et);ht({navigation:St,...On!==void 0?{actionData:On}:{}},{flushSync:ot})}let Dt=await Ji(_e,pe.pathname,X.signal);if(Dt.type==="aborted")return{shortCircuited:!0};if(Dt.type==="error"){let On=ll(Dt.partialMatches).route.id;return{matches:Dt.partialMatches,loaderData:{},errors:{[On]:Dt.error}}}else if(Dt.matches)_e=Dt.matches;else{let{error:On,notFoundMatches:Fr,route:mi}=Ni(pe.pathname);return{matches:Fr,loaderData:{},errors:{[mi.id]:On}}}}let Wn=a||o,{dsMatches:Wt,revalidatingFetchers:Zt}=z2(X,Ae,i,s,e.history,N,_e,Rt,pe,at?[]:r,at===!0,q,Q,B,G,D,Wn,u,e.patchRoutesOnNavigation!=null,et);if(ne=++te,!e.dataStrategy&&!Wt.some(Dt=>Dt.shouldLoad)&&Zt.length===0){let Dt=Qn();return fn(pe,{matches:_e,loaderData:{},errors:et&&Ci(et[1])?{[et[0]]:et[1].error}:null,...G2(et),...Dt?{fetchers:new Map(N.fetchers)}:{}},{flushSync:ot}),{shortCircuited:!0}}if(bn){let Dt={};if(!Te){Dt.navigation=St;let On=Yi(et);On!==void 0&&(Dt.actionData=On)}Zt.length>0&&(Dt.fetchers=ko(Zt)),ht(Dt,{flushSync:ot})}Zt.forEach(Dt=>{Jt(Dt.key),Dt.controller&&J.set(Dt.key,Dt.controller)});let sr=()=>Zt.forEach(Dt=>Jt(Dt.key));V&&V.signal.addEventListener("abort",sr);let{loaderResults:Zi,fetcherResults:Ir}=await _s(Wt,Zt,X,Ae);if(X.signal.aborted)return{shortCircuited:!0};V&&V.signal.removeEventListener("abort",sr),Zt.forEach(Dt=>J.delete(Dt.key));let Vt=Pf(Zi);if(Vt)return await yr(X,Vt.result,!0,{replace:tt}),{shortCircuited:!0};if(Vt=Pf(Ir),Vt)return D.add(Vt.key),await yr(X,Vt.result,!0,{replace:tt}),{shortCircuited:!0};let{loaderData:pi,errors:It}=q2(N,_e,Zi,et,Zt,Ir);at&&N.errors&&(It={...N.errors,...It});let Oi=Qn(),Dr=Lr(ne),Ri=Oi||Dr||Zt.length>0;return{matches:_e,loaderData:pi,errors:It,...Ri?{fetchers:new Map(N.fetchers)}:{}}}function Yi(X){if(X&&!Ci(X[1]))return{[X[0]]:X[1].data};if(N.actionData)return Object.keys(N.actionData).length===0?null:N.actionData}function ko(X){return X.forEach(pe=>{let _e=N.fetchers.get(pe.key),Ae=Xc(void 0,_e?_e.data:void 0);N.fetchers.set(pe.key,Ae)}),new Map(N.fetchers)}async function ws(X,pe,_e,Ae){Jt(X);let Te=(Ae&&Ae.flushSync)===!0,qe=a||o,rt=H1(N.location,N.matches,u,_e,pe,Ae?.relative),Je=ea(qe,rt,u),tt=Ss(Je,qe,rt);if(tt.active&&tt.matches&&(Je=tt.matches),!Je){Re(X,pe,Ui(404,{pathname:rt}),{flushSync:Te});return}let{path:at,submission:ot,error:et}=B2(!0,rt,Ae);if(et){Re(X,pe,et,{flushSync:Te});return}let St=new D2(e.unstable_getContext?await e.unstable_getContext():void 0),Rt=(Ae&&Ae.preventScrollReset)===!0;if(ot&&si(ot.formMethod)){await Qr(X,pe,at,Je,St,tt.active,Te,Rt,ot);return}G.set(X,{routeId:pe,path:at}),await Dn(X,pe,at,Je,St,tt.active,Te,Rt,ot)}async function Qr(X,pe,_e,Ae,Te,qe,rt,Je,tt){Wr(),G.delete(X);let at=N.fetchers.get(X);Ce(X,E9(tt,at),{flushSync:rt});let ot=new AbortController,et=Du(e.history,_e,ot.signal,tt);if(qe){let Ut=await Ji(Ae,new URL(et.url).pathname,et.signal,X);if(Ut.type==="aborted")return;if(Ut.type==="error"){Re(X,pe,Ut.error,{flushSync:rt});return}else if(Ut.matches)Ae=Ut.matches;else{Re(X,pe,Ui(404,{pathname:_e}),{flushSync:rt});return}}let St=bp(Ae,_e);if(!St.route.action&&!St.route.lazy){let Ut=Ui(405,{method:tt.formMethod,pathname:_e,routeId:pe});Re(X,pe,Ut,{flushSync:rt});return}J.set(X,ot);let Rt=te,bn=Vu(i,s,et,Ae,St,r,Te),Wt=(await vr(et,bn,Te,X))[St.route.id];if(et.signal.aborted){J.get(X)===ot&&J.delete(X);return}if(B.has(X)){if(hl(Wt)||Ci(Wt)){Ce(X,Jo(void 0));return}}else{if(hl(Wt))if(J.delete(X),ne>Rt){Ce(X,Jo(void 0));return}else return D.add(X),Ce(X,Xc(tt)),yr(et,Wt,!1,{fetcherSubmission:tt,preventScrollReset:Je});if(Ci(Wt)){Re(X,pe,Wt.error);return}}let Zt=N.navigation.location||N.location,sr=Du(e.history,Zt,ot.signal),Zi=a||o,Ir=N.navigation.state!=="idle"?ea(Zi,N.navigation.location,u):N.matches;At(Ir,"Didn't find any matches after fetcher action");let Vt=++te;me.set(X,Vt);let pi=Xc(tt,Wt.data);N.fetchers.set(X,pi);let{dsMatches:It,revalidatingFetchers:Oi}=z2(sr,Te,i,s,e.history,N,Ir,tt,Zt,r,!1,q,Q,B,G,D,Zi,u,e.patchRoutesOnNavigation!=null,[St.route.id,Wt]);Oi.filter(Ut=>Ut.key!==X).forEach(Ut=>{let $s=Ut.key,ft=N.fetchers.get($s),Fl=Xc(void 0,ft?ft.data:void 0);N.fetchers.set($s,Fl),Jt($s),Ut.controller&&J.set($s,Ut.controller)}),ht({fetchers:new Map(N.fetchers)});let Dr=()=>Oi.forEach(Ut=>Jt(Ut.key));ot.signal.addEventListener("abort",Dr);let{loaderResults:Ri,fetcherResults:Dt}=await _s(It,Oi,sr,Te);if(ot.signal.aborted)return;if(ot.signal.removeEventListener("abort",Dr),me.delete(X),J.delete(X),Oi.forEach(Ut=>J.delete(Ut.key)),N.fetchers.has(X)){let Ut=Jo(Wt.data);N.fetchers.set(X,Ut)}let On=Pf(Ri);if(On)return yr(sr,On.result,!1,{preventScrollReset:Je});if(On=Pf(Dt),On)return D.add(On.key),yr(sr,On.result,!1,{preventScrollReset:Je});let{loaderData:Fr,errors:mi}=q2(N,Ir,Ri,void 0,Oi,Dt);Lr(Vt),N.navigation.state==="loading"&&Vt>ne?(At(I,"Expected pending action"),V&&V.abort(),fn(N.navigation.location,{matches:Ir,loaderData:Fr,errors:mi,fetchers:new Map(N.fetchers)})):(ht({errors:mi,loaderData:K2(N.loaderData,Fr,Ir,mi),fetchers:new Map(N.fetchers)}),q=!1)}async function Dn(X,pe,_e,Ae,Te,qe,rt,Je,tt){let at=N.fetchers.get(X);Ce(X,Xc(tt,at?at.data:void 0),{flushSync:rt});let ot=new AbortController,et=Du(e.history,_e,ot.signal);if(qe){let Zt=await Ji(Ae,new URL(et.url).pathname,et.signal,X);if(Zt.type==="aborted")return;if(Zt.type==="error"){Re(X,pe,Zt.error,{flushSync:rt});return}else if(Zt.matches)Ae=Zt.matches;else{Re(X,pe,Ui(404,{pathname:_e}),{flushSync:rt});return}}let St=bp(Ae,_e);J.set(X,ot);let Rt=te,bn=Vu(i,s,et,Ae,St,r,Te),Wt=(await vr(et,bn,Te,X))[St.route.id];if(J.get(X)===ot&&J.delete(X),!et.signal.aborted){if(B.has(X)){Ce(X,Jo(void 0));return}if(hl(Wt))if(ne>Rt){Ce(X,Jo(void 0));return}else{D.add(X),await yr(et,Wt,!1,{preventScrollReset:Je});return}if(Ci(Wt)){Re(X,pe,Wt.error);return}Ce(X,Jo(Wt.data))}}async function yr(X,pe,_e,{submission:Ae,fetcherSubmission:Te,preventScrollReset:qe,replace:rt}={}){pe.response.headers.has("X-Remix-Revalidate")&&(q=!0);let Je=pe.response.headers.get("Location");At(Je,"Expected a Location header on the redirect Response"),Je=Q2(Je,new URL(X.url),u);let tt=Ld(N.location,Je,{_isRedirect:!0});if(n){let bn=!1;if(pe.response.headers.has("X-Remix-Reload-Document"))bn=!0;else if(rv(Je)){const Wn=O4(Je,!0);bn=Wn.origin!==t.location.origin||Wi(Wn.pathname,u)==null}if(bn){rt?t.location.replace(Je):t.location.assign(Je);return}}V=null;let at=rt===!0||pe.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ot,formAction:et,formEncType:St}=N.navigation;!Ae&&!Te&&ot&&et&&St&&(Ae=J2(N.navigation));let Rt=Ae||Te;if(l9.has(pe.response.status)&&Rt&&si(Rt.formMethod))await pn(at,tt,{submission:{...Rt,formAction:Je},preventScrollReset:qe||H,enableViewTransition:_e?F:void 0});else{let bn=E0(tt,Ae);await pn(at,tt,{overrideNavigation:bn,fetcherSubmission:Te,preventScrollReset:qe||H,enableViewTransition:_e?F:void 0})}}async function vr(X,pe,_e,Ae){let Te,qe={};try{Te=await v9(c,X,pe,Ae,_e,!1)}catch(rt){return pe.filter(Je=>Je.shouldLoad).forEach(Je=>{qe[Je.route.id]={type:"error",error:rt}}),qe}if(X.signal.aborted)return qe;for(let[rt,Je]of Object.entries(Te))if(C9(Je)){let tt=Je.result;qe[rt]={type:"redirect",response:w9(tt,X,rt,pe,u)}}else qe[rt]=await b9(Je);return qe}async function _s(X,pe,_e,Ae){let Te=vr(_e,X,Ae,null),qe=Promise.all(pe.map(async tt=>{if(tt.matches&&tt.match&&tt.request&&tt.controller){let ot=(await vr(tt.request,tt.matches,Ae,tt.key))[tt.match.route.id];return{[tt.key]:ot}}else return Promise.resolve({[tt.key]:{type:"error",error:Ui(404,{pathname:tt.path})}})})),rt=await Te,Je=(await qe).reduce((tt,at)=>Object.assign(tt,at),{});return{loaderResults:rt,fetcherResults:Je}}function Wr(){q=!0,G.forEach((X,pe)=>{J.has(pe)&&Q.add(pe),Jt(pe)})}function Ce(X,pe,_e={}){N.fetchers.set(X,pe),ht({fetchers:new Map(N.fetchers)},{flushSync:(_e&&_e.flushSync)===!0})}function Re(X,pe,_e,Ae={}){let Te=ll(N.matches,pe);pt(X),ht({errors:{[Te.route.id]:_e},fetchers:new Map(N.fetchers)},{flushSync:(Ae&&Ae.flushSync)===!0})}function lt(X){return ye.set(X,(ye.get(X)||0)+1),B.has(X)&&B.delete(X),N.fetchers.get(X)||u9}function pt(X){let pe=N.fetchers.get(X);J.has(X)&&!(pe&&pe.state==="loading"&&me.has(X))&&Jt(X),G.delete(X),me.delete(X),D.delete(X),B.delete(X),Q.delete(X),N.fetchers.delete(X)}function Ot(X){let pe=(ye.get(X)||0)-1;pe<=0?(ye.delete(X),B.add(X)):ye.set(X,pe),ht({fetchers:new Map(N.fetchers)})}function Jt(X){let pe=J.get(X);pe&&(pe.abort(),J.delete(X))}function Vn(X){for(let pe of X){let _e=lt(pe),Ae=Jo(_e.data);N.fetchers.set(pe,Ae)}}function Qn(){let X=[],pe=!1;for(let _e of D){let Ae=N.fetchers.get(_e);At(Ae,`Expected fetcher: ${_e}`),Ae.state==="loading"&&(D.delete(_e),X.push(_e),pe=!0)}return Vn(X),pe}function Lr(X){let pe=[];for(let[_e,Ae]of me)if(Ae<X){let Te=N.fetchers.get(_e);At(Te,`Expected fetcher: ${_e}`),Te.state==="loading"&&(Jt(_e),me.delete(_e),pe.push(_e))}return Vn(pe),pe.length>0}function ir(X,pe){let _e=N.blockers.get(X)||Yc;return Fe.get(X)!==pe&&Fe.set(X,pe),_e}function Qe(X){N.blockers.delete(X),Fe.delete(X)}function Fn(X,pe){let _e=N.blockers.get(X)||Yc;At(_e.state==="unblocked"&&pe.state==="blocked"||_e.state==="blocked"&&pe.state==="blocked"||_e.state==="blocked"&&pe.state==="proceeding"||_e.state==="blocked"&&pe.state==="unblocked"||_e.state==="proceeding"&&pe.state==="unblocked",`Invalid blocker state transition: ${_e.state} -> ${pe.state}`);let Ae=new Map(N.blockers);Ae.set(X,pe),ht({blockers:Ae})}function xn({currentLocation:X,nextLocation:pe,historyAction:_e}){if(Fe.size===0)return;Fe.size>1&&Ln(!1,"A router only supports one blocker at a time");let Ae=Array.from(Fe.entries()),[Te,qe]=Ae[Ae.length-1],rt=N.blockers.get(Te);if(!(rt&&rt.state==="proceeding")&&qe({currentLocation:X,nextLocation:pe,historyAction:_e}))return Te}function Ni(X){let pe=Ui(404,{pathname:X}),_e=a||o,{matches:Ae,route:Te}=Y2(_e);return{notFoundMatches:Ae,route:Te,error:pe}}function We(X,pe,_e){if(x=X,S=pe,w=_e||null,!k&&N.navigation===j0){k=!0;let Ae=zs(N.location,N.matches);Ae!=null&&ht({restoreScrollPosition:Ae})}return()=>{x=null,S=null,w=null}}function fi(X,pe){return w&&w(X,pe.map(Ae=>Bk(Ae,N.loaderData)))||X.key}function Xi(X,pe){if(x&&S){let _e=fi(X,pe);x[_e]=S()}}function zs(X,pe){if(x){let _e=fi(X,pe),Ae=x[_e];if(typeof Ae=="number")return Ae}return null}function Ss(X,pe,_e){if(e.patchRoutesOnNavigation)if(X){if(Object.keys(X[0].params).length>0)return{active:!0,matches:xp(pe,_e,u,!0)}}else return{active:!0,matches:xp(pe,_e,u,!0)||[]};return{active:!1,matches:null}}async function Ji(X,pe,_e,Ae){if(!e.patchRoutesOnNavigation)return{type:"success",matches:X};let Te=X;for(;;){let qe=a==null,rt=a||o,Je=s;try{await e.patchRoutesOnNavigation({signal:_e,path:pe,matches:Te,fetcherKey:Ae,patch:(ot,et)=>{_e.aborted||$2(ot,et,rt,Je,i,!1)}})}catch(ot){return{type:"error",error:ot,partialMatches:Te}}finally{qe&&!_e.aborted&&(o=[...o])}if(_e.aborted)return{type:"aborted"};let tt=ea(rt,pe,u);if(tt)return{type:"success",matches:tt};let at=xp(rt,pe,u,!0);if(!at||Te.length===at.length&&Te.every((ot,et)=>ot.route.id===at[et].route.id))return{type:"success",matches:null};Te=at}}function Il(X){s={},a=Id(X,i,void 0,s)}function Dl(X,pe,_e=!1){let Ae=a==null;$2(X,pe,a||o,s,i,_e),Ae&&(o=[...o],ht({}))}return U={get basename(){return u},get future(){return h},get state(){return N},get routes(){return o},get window(){return t},initialize:Ye,subscribe:Ne,enableScrollRestoration:We,navigate:Nt,fetch:ws,revalidate:vn,createHref:X=>e.history.createHref(X),encodeLocation:X=>e.history.encodeLocation(X),getFetcher:lt,deleteFetcher:Ot,dispose:Ke,getBlocker:ir,deleteBlocker:Qe,patchRoutes:Dl,_internalFetchControllers:J,_internalSetRoutes:Il,_internalSetStateDoNotUseOrYouWillBreakYourApp(X){ht(X)}},U}function f9(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function H1(e,t,n,r,i,s){let o,a;if(i){o=[];for(let c of t)if(o.push(c),c.route.id===i){a=c;break}}else o=t,a=t[t.length-1];let u=dm(r||".",cm(o),Wi(e.pathname,n)||e.pathname,s==="path");if(r==null&&(u.search=e.search,u.hash=e.hash),(r==null||r===""||r===".")&&a){let c=iv(u.search);if(a.route.index&&!c)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!a.route.index&&c){let h=new URLSearchParams(u.search),p=h.getAll("index");h.delete("index"),p.filter(x=>x).forEach(x=>h.append("index",x));let g=h.toString();u.search=g?`?${g}`:""}}return n!=="/"&&(u.pathname=Jk({basename:n,pathname:u.pathname})),ua(u)}function B2(e,t,n){if(!n||!f9(n))return{path:t};if(n.formMethod&&!k9(n.formMethod))return{path:t,error:Ui(405,{method:n.formMethod})};let r=()=>({path:t,error:Ui(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),o=H4(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!si(s))return r();let p=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((g,[x,w])=>`${g}${x}=${w}
`,""):String(n.body);return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:p}}}else if(n.formEncType==="application/json"){if(!si(s))return r();try{let p=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:p,text:void 0}}}catch{return r()}}}At(typeof FormData=="function","FormData is not available in this environment");let a,u;if(n.formData)a=W1(n.formData),u=n.formData;else if(n.body instanceof FormData)a=W1(n.body),u=n.body;else if(n.body instanceof URLSearchParams)a=n.body,u=W2(a);else if(n.body==null)a=new URLSearchParams,u=new FormData;else try{a=new URLSearchParams(n.body),u=W2(a)}catch{return r()}let c={formMethod:s,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(si(c.formMethod))return{path:t,submission:c};let h=ga(t);return e&&h.search&&iv(h.search)&&a.append("index",""),h.search=`?${a}`,{path:ua(h),submission:c}}function z2(e,t,n,r,i,s,o,a,u,c,h,p,g,x,w,S,k,E,R,A){let z=A?Ci(A[1])?A[1].error:A[1].data:void 0,U=i.createURL(s.location),N=i.createURL(u),I;if(h&&s.errors){let ae=Object.keys(s.errors)[0];I=o.findIndex(q=>q.route.id===ae)}else if(A&&Ci(A[1])){let ae=A[0];I=o.findIndex(q=>q.route.id===ae)-1}let H=A?A[1].statusCode:void 0,V=H&&H>=400,F={currentUrl:U,currentParams:s.matches[0]?.params||{},nextUrl:N,nextParams:o[0].params,...a,actionResult:z,actionStatus:H},le=o.map((ae,q)=>{let{route:Q}=ae,J=null;if(I!=null&&q>I?J=!1:Q.lazy?J=!0:Q.loader==null?J=!1:h?J=V1(Q,s.loaderData,s.errors):p9(s.loaderData,s.matches[q],ae)&&(J=!0),J!==null)return Q1(n,r,e,ae,c,t,J);let te=V?!1:p||U.pathname+U.search===N.pathname+N.search||U.search!==N.search||m9(s.matches[q],ae),ne={...F,defaultShouldRevalidate:te},me=Mp(ae,ne);return Q1(n,r,e,ae,c,t,me,ne)}),ue=[];return w.forEach((ae,q)=>{if(h||!o.some(ye=>ye.route.id===ae.routeId)||x.has(q))return;let Q=s.fetchers.get(q),J=Q&&Q.state!=="idle"&&Q.data===void 0,te=ea(k,ae.path,E);if(!te){if(R&&J)return;ue.push({key:q,routeId:ae.routeId,path:ae.path,matches:null,match:null,request:null,controller:null});return}if(S.has(q))return;let ne=bp(te,ae.path),me=new AbortController,D=Du(i,ae.path,me.signal),G=null;if(g.has(q))g.delete(q),G=Vu(n,r,D,te,ne,c,t);else if(J)p&&(G=Vu(n,r,D,te,ne,c,t));else{let ye={...F,defaultShouldRevalidate:V?!1:p};Mp(ne,ye)&&(G=Vu(n,r,D,te,ne,c,t,ye))}G&&ue.push({key:q,routeId:ae.routeId,path:ae.path,matches:G,match:ne,request:D,controller:me})}),{dsMatches:le,revalidatingFetchers:ue}}function V1(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&e.id in t,i=n!=null&&n[e.id]!==void 0;return!r&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!i}function p9(e,t,n){let r=!t||n.route.id!==t.route.id,i=!e.hasOwnProperty(n.route.id);return r||i}function m9(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Mp(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function $2(e,t,n,r,i,s){let o;if(e){let c=r[e];At(c,`No route found to patch children into: routeId = ${e}`),c.children||(c.children=[]),o=c.children}else o=n;let a=[],u=[];if(t.forEach(c=>{let h=o.find(p=>F4(c,p));h?u.push({existingRoute:h,newRoute:c}):a.push(c)}),a.length>0){let c=Id(a,i,[e||"_","patch",String(o?.length||"0")],r);o.push(...c)}if(s&&u.length>0)for(let c=0;c<u.length;c++){let{existingRoute:h,newRoute:p}=u[c],g=h,[x]=Id([p],i,[],{},!0);Object.assign(g,{element:x.element?x.element:g.element,errorElement:x.errorElement?x.errorElement:g.errorElement,hydrateFallbackElement:x.hydrateFallbackElement?x.hydrateFallbackElement:g.hydrateFallbackElement})}}function F4(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>t.children?.some(i=>F4(n,i))):!1}var U2=new WeakMap,B4=({key:e,route:t,manifest:n,mapRouteProperties:r})=>{let i=n[t.id];if(At(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[e];if(!s)return;let o=U2.get(i);o||(o={},U2.set(i,o));let a=o[e];if(a)return a;let u=(async()=>{let c=Lk(e),p=i[e]!==void 0&&e!=="hasErrorBoundary";if(c)Ln(!c,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),o[e]=Promise.resolve();else if(p)Ln(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let g=await s();g!=null&&(Object.assign(i,{[e]:g}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(g=>g===void 0)&&(i.lazy=void 0))})();return o[e]=u,u},H2=new WeakMap;function g9(e,t,n,r,i){let s=n[e.id];if(At(s,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let h=H2.get(s);if(h)return{lazyRoutePromise:h,lazyHandlerPromise:h};let p=(async()=>{At(typeof e.lazy=="function","No lazy route function found");let g=await e.lazy(),x={};for(let w in g){let S=g[w];if(S===void 0)continue;let k=Dk(w),R=s[w]!==void 0&&w!=="hasErrorBoundary";k?Ln(!k,"Route property "+w+" is not a supported property to be returned from a lazy route function. This property will be ignored."):R?Ln(!R,`Route "${s.id}" has a static property "${w}" defined but its lazy function is also returning a value for this property. The lazy route property "${w}" will be ignored.`):x[w]=S}Object.assign(s,x),Object.assign(s,{...r(s),lazy:void 0})})();return H2.set(s,p),p.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:p}}let o=Object.keys(e.lazy),a=[],u;for(let h of o){if(i&&i.includes(h))continue;let p=B4({key:h,route:e,manifest:n,mapRouteProperties:r});p&&(a.push(p),h===t&&(u=p))}let c=a.length>0?Promise.all(a).then(()=>{}):void 0;return c?.catch(()=>{}),u?.catch(()=>{}),{lazyRoutePromise:c,lazyHandlerPromise:u}}async function V2(e){let t=e.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(t.map(i=>i.resolve()))).forEach((i,s)=>{n[t[s].route.id]=i}),n}async function y9(e){return e.matches.some(t=>t.route.unstable_middleware)?z4(e,!1,()=>V2(e),(t,n)=>({[n]:{type:"error",result:t}})):V2(e)}async function z4(e,t,n,r){let{matches:i,request:s,params:o,context:a}=e,u={handlerResult:void 0};try{let c=i.flatMap(p=>p.route.unstable_middleware?p.route.unstable_middleware.map(g=>[p.route.id,g]):[]),h=await $4({request:s,params:o,context:a},c,t,u,n);return t?h:u.handlerResult}catch(c){if(!u.middlewareError)throw c;let h=await r(u.middlewareError.error,u.middlewareError.routeId);return u.handlerResult?Object.assign(u.handlerResult,h):h}}async function $4(e,t,n,r,i,s=0){let{request:o}=e;if(o.signal.aborted)throw o.signal.reason?o.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${o.method} ${o.url}`);let a=t[s];if(!a)return r.handlerResult=await i(),r.handlerResult;let[u,c]=a,h=!1,p,g=async()=>{if(h)throw new Error("You may only call `next()` once per middleware");h=!0,await $4(e,t,n,r,i,s+1)};try{let x=await c({request:e.request,params:e.params,context:e.context},g);return h?x===void 0?p:x:g()}catch(x){throw r.middlewareError?r.middlewareError.error!==x&&(r.middlewareError={routeId:u,error:x}):r.middlewareError={routeId:u,error:x},x}}function U4(e,t,n,r,i){let s=B4({key:"unstable_middleware",route:r.route,manifest:t,mapRouteProperties:e}),o=g9(r.route,si(n.method)?"action":"loader",t,e,i);return{middleware:s,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function Q1(e,t,n,r,i,s,o,a=null){let u=!1,c=U4(e,t,n,r,i);return{...r,_lazyPromises:c,shouldLoad:o,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler(h){return u=!0,a?typeof h=="boolean"?Mp(r,{...a,defaultShouldRevalidate:h}):Mp(r,a):o},resolve(h){return u||o||h&&!si(n.method)&&(r.route.lazy||r.route.loader)?x9({request:n,match:r,lazyHandlerPromise:c?.handler,lazyRoutePromise:c?.route,handlerOverride:h,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function Vu(e,t,n,r,i,s,o,a=null){return r.map(u=>u.route.id!==i.route.id?{...u,shouldLoad:!1,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler:()=>!1,_lazyPromises:U4(e,t,n,u,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Q1(e,t,n,u,s,o,!0,a))}async function v9(e,t,n,r,i,s){n.some(c=>c._lazyPromises?.middleware)&&await Promise.all(n.map(c=>c._lazyPromises?.middleware));let o={request:t,params:n[0].params,context:i,matches:n},u=await e({...o,fetcherKey:r,unstable_runClientMiddleware:c=>{let h=o;return z4(h,!1,()=>c({...h,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(p,g)=>({[g]:{type:"error",result:p}}))}});try{await Promise.all(n.flatMap(c=>[c._lazyPromises?.handler,c._lazyPromises?.route]))}catch{}return u}async function x9({request:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:s}){let o,a,u=si(e.method),c=u?"action":"loader",h=p=>{let g,x=new Promise((k,E)=>g=E);a=()=>g(),e.signal.addEventListener("abort",a);let w=k=>typeof p!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${c}" [routeId: ${t.route.id}]`)):p({request:e,params:t.params,context:s},...k!==void 0?[k]:[]),S=(async()=>{try{return{type:"data",result:await(i?i(E=>w(E)):w())}}catch(k){return{type:"error",result:k}}})();return Promise.race([S,x])};try{let p=u?t.route.action:t.route.loader;if(n||r)if(p){let g,[x]=await Promise.all([h(p).catch(w=>{g=w}),n,r]);if(g!==void 0)throw g;o=x}else{await n;let g=u?t.route.action:t.route.loader;if(g)[o]=await Promise.all([h(g),r]);else if(c==="action"){let x=new URL(e.url),w=x.pathname+x.search;throw Ui(405,{method:e.method,pathname:w,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(p)o=await h(p);else{let g=new URL(e.url),x=g.pathname+g.search;throw Ui(404,{pathname:x})}}catch(p){return{type:"error",result:p}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function b9(e){let{result:t,type:n}=e;if(V4(t)){let r;try{let i=t.headers.get("Content-Type");i&&/\bapplication\/json\b/.test(i)?t.body==null?r=null:r=await t.json():r=await t.text()}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new Rp(t.status,t.statusText,r),statusCode:t.status,headers:t.headers}:{type:"data",data:r,statusCode:t.status,headers:t.headers}}return n==="error"?X2(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Rp(t.init?.status||500,void 0,t.data),statusCode:Dd(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Dd(t)?t.status:void 0}:X2(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function w9(e,t,n,r,i){let s=e.headers.get("Location");if(At(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!rv(s)){let o=r.slice(0,r.findIndex(a=>a.route.id===n)+1);s=H1(new URL(t.url),o,i,s),e.headers.set("Location",s)}return e}function Q2(e,t,n){if(rv(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),s=Wi(i.pathname,n)!=null;if(i.origin===t.origin&&s)return i.pathname+i.search+i.hash}return e}function Du(e,t,n,r){let i=e.createURL(H4(t)).toString(),s={signal:n};if(r&&si(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=W1(r.formData):s.body=r.formData}return new Request(i,s)}function W1(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function W2(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function _9(e,t,n,r=!1,i=!1){let s={},o=null,a,u=!1,c={},h=n&&Ci(n[1])?n[1].error:void 0;return e.forEach(p=>{if(!(p.route.id in t))return;let g=p.route.id,x=t[g];if(At(!hl(x),"Cannot handle redirect results in processLoaderData"),Ci(x)){let w=x.error;if(h!==void 0&&(w=h,h=void 0),o=o||{},i)o[g]=w;else{let S=ll(e,g);o[S.route.id]==null&&(o[S.route.id]=w)}r||(s[g]=D4),u||(u=!0,a=Dd(x.error)?x.error.status:500),x.headers&&(c[g]=x.headers)}else s[g]=x.data,x.statusCode&&x.statusCode!==200&&!u&&(a=x.statusCode),x.headers&&(c[g]=x.headers)}),h!==void 0&&n&&(o={[n[0]]:h},n[2]&&(s[n[2]]=void 0)),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function q2(e,t,n,r,i,s){let{loaderData:o,errors:a}=_9(t,n,r);return i.filter(u=>!u.matches||u.matches.some(c=>c.shouldLoad)).forEach(u=>{let{key:c,match:h,controller:p}=u,g=s[c];if(At(g,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(Ci(g)){let x=ll(e.matches,h?.route.id);a&&a[x.route.id]||(a={...a,[x.route.id]:g.error}),e.fetchers.delete(c)}else if(hl(g))At(!1,"Unhandled fetcher revalidation redirect");else{let x=Jo(g.data);e.fetchers.set(c,x)}}),{loaderData:o,errors:a}}function K2(e,t,n,r){let i=Object.entries(t).filter(([,s])=>s!==D4).reduce((s,[o,a])=>(s[o]=a,s),{});for(let s of n){let o=s.route.id;if(!t.hasOwnProperty(o)&&e.hasOwnProperty(o)&&s.route.loader&&(i[o]=e[o]),r&&r.hasOwnProperty(o))break}return i}function G2(e){return e?Ci(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function ll(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function Y2(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Ui(e,{pathname:t,routeId:n,method:r,type:i,message:s}={}){let o="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(o="Bad Request",r&&t&&n?a=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(a="Unable to encode submission body")):e===403?(o="Forbidden",a=`Route "${n}" does not match URL "${t}"`):e===404?(o="Not Found",a=`No route matches URL "${t}"`):e===405&&(o="Method Not Allowed",r&&t&&n?a=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(a=`Invalid request method "${r.toUpperCase()}"`)),new Rp(e||500,o,new Error(a),!0)}function Pf(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,i]=t[n];if(hl(i))return{key:r,result:i}}}function H4(e){let t=typeof e=="string"?ga(e):e;return ua({...t,hash:""})}function S9(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function C9(e){return V4(e.result)&&a9.has(e.result.status)}function Ci(e){return e.type==="error"}function hl(e){return(e&&e.type)==="redirect"}function X2(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function V4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function k9(e){return o9.has(e.toUpperCase())}function si(e){return i9.has(e.toUpperCase())}function iv(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function bp(e,t){let n=typeof t=="string"?ga(t).search:t.search;if(e[e.length-1].route.index&&iv(n||""))return e[e.length-1];let r=A4(e);return r[r.length-1]}function J2(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:o}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function E0(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function j9(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Xc(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function E9(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Jo(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function T9(e,t){try{let n=e.sessionStorage.getItem(I4);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&t.set(i,new Set(s||[]))}}catch{}}function P9(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(I4,JSON.stringify(n))}catch(r){Ln(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function N9(){let e,t,n=new Promise((r,i)=>{e=async s=>{r(s);try{await n}catch{}},t=async s=>{i(s);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var jl=T.createContext(null);jl.displayName="DataRouter";var nh=T.createContext(null);nh.displayName="DataRouterState";T.createContext(!1);var sv=T.createContext({isTransitioning:!1});sv.displayName="ViewTransition";var Q4=T.createContext(new Map);Q4.displayName="Fetchers";var O9=T.createContext(null);O9.displayName="Await";var xs=T.createContext(null);xs.displayName="Navigation";var hm=T.createContext(null);hm.displayName="Location";var qi=T.createContext({outlet:null,matches:[],isDataRoute:!1});qi.displayName="Route";var ov=T.createContext(null);ov.displayName="RouteError";function R9(e,{relative:t}={}){At(oc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(xs),{hash:i,pathname:s,search:o}=ih(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:Ls([n,s])),r.createHref({pathname:a,search:o,hash:i})}function oc(){return T.useContext(hm)!=null}function Ki(){return At(oc(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(hm).location}var W4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function q4(e){T.useContext(xs).static||T.useLayoutEffect(e)}function rh(){let{isDataRoute:e}=T.useContext(qi);return e?W9():M9()}function M9(){At(oc(),"useNavigate() may be used only in the context of a <Router> component.");let e=T.useContext(jl),{basename:t,navigator:n}=T.useContext(xs),{matches:r}=T.useContext(qi),{pathname:i}=Ki(),s=JSON.stringify(cm(r)),o=T.useRef(!1);return q4(()=>{o.current=!0}),T.useCallback((u,c={})=>{if(Ln(o.current,W4),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=dm(u,JSON.parse(s),i,c.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Ls([t,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[t,n,s,i,e])}var A9=T.createContext(null);function L9(e){let t=T.useContext(qi).outlet;return t&&T.createElement(A9.Provider,{value:e},t)}function K4(){let{matches:e}=T.useContext(qi),t=e[e.length-1];return t?t.params:{}}function ih(e,{relative:t}={}){let{matches:n}=T.useContext(qi),{pathname:r}=Ki(),i=JSON.stringify(cm(n));return T.useMemo(()=>dm(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function I9(e,t,n,r){At(oc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=T.useContext(xs),{matches:s}=T.useContext(qi),o=s[s.length-1],a=o?o.params:{},u=o?o.pathname:"/",c=o?o.pathnameBase:"/",h=o&&o.route;{let E=h&&h.path||"";G4(u,!h||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let p=Ki(),g;g=p;let x=g.pathname||"/",w=x;if(c!=="/"){let E=c.replace(/^\//,"").split("/");w="/"+x.replace(/^\//,"").split("/").slice(E.length).join("/")}let S=ea(e,{pathname:w});return Ln(h||S!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Ln(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),$9(S&&S.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:Ls([c,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?c:Ls([c,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r)}function D9(){let e=uv(),t=Dd(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:s},"ErrorBoundary")," or"," ",T.createElement("code",{style:s},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),n?T.createElement("pre",{style:i},n):null,o)}var F9=T.createElement(D9,null),B9=class extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?T.createElement(qi.Provider,{value:this.props.routeContext},T.createElement(ov.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function z9({routeContext:e,match:t,children:n}){let r=T.useContext(jl);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),T.createElement(qi.Provider,{value:e},n)}function $9(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,s=n?.errors;if(s!=null){let u=i.findIndex(c=>c.route.id&&s?.[c.route.id]!==void 0);At(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let o=!1,a=-1;if(n)for(let u=0;u<i.length;u++){let c=i[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=u),c.route.id){let{loaderData:h,errors:p}=n,g=c.route.loader&&!h.hasOwnProperty(c.route.id)&&(!p||p[c.route.id]===void 0);if(c.route.lazy||g){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((u,c,h)=>{let p,g=!1,x=null,w=null;n&&(p=s&&c.route.id?s[c.route.id]:void 0,x=c.route.errorElement||F9,o&&(a<0&&h===0?(G4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,w=null):a===h&&(g=!0,w=c.route.hydrateFallbackElement||null)));let S=t.concat(i.slice(0,h+1)),k=()=>{let E;return p?E=x:g?E=w:c.route.Component?E=T.createElement(c.route.Component,null):c.route.element?E=c.route.element:E=u,T.createElement(z9,{match:c,routeContext:{outlet:u,matches:S,isDataRoute:n!=null},children:E})};return n&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?T.createElement(B9,{location:n.location,revalidation:n.revalidation,component:x,error:p,children:k(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):k()},null)}function av(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function U9(e){let t=T.useContext(jl);return At(t,av(e)),t}function H9(e){let t=T.useContext(nh);return At(t,av(e)),t}function V9(e){let t=T.useContext(qi);return At(t,av(e)),t}function lv(e){let t=V9(e),n=t.matches[t.matches.length-1];return At(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Q9(){return lv("useRouteId")}function uv(){let e=T.useContext(ov),t=H9("useRouteError"),n=lv("useRouteError");return e!==void 0?e:t.errors?.[n]}function W9(){let{router:e}=U9("useNavigate"),t=lv("useNavigate"),n=T.useRef(!1);return q4(()=>{n.current=!0}),T.useCallback(async(i,s={})=>{Ln(n.current,W4),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var Z2={};function G4(e,t,n){!t&&!Z2[e]&&(Z2[e]=!0,Ln(!1,n))}var ew={};function tw(e,t){!e&&!ew[t]&&(ew[t]=!0,console.warn(t))}function q9(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Ln(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:T.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Ln(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:T.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Ln(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:T.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var K9=["HydrateFallback","hydrateFallbackElement"],G9=class{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function Y9({router:e,flushSync:t}){let[n,r]=T.useState(e.state),[i,s]=T.useState(),[o,a]=T.useState({isTransitioning:!1}),[u,c]=T.useState(),[h,p]=T.useState(),[g,x]=T.useState(),w=T.useRef(new Map),S=T.useCallback((A,{deletedFetchers:z,flushSync:U,viewTransitionOpts:N})=>{A.fetchers.forEach((H,V)=>{H.data!==void 0&&w.current.set(V,H.data)}),z.forEach(H=>w.current.delete(H)),tw(U===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let I=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(tw(N==null||I,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!N||!I){t&&U?t(()=>r(A)):T.startTransition(()=>r(A));return}if(t&&U){t(()=>{h&&(u&&u.resolve(),h.skipTransition()),a({isTransitioning:!0,flushSync:!0,currentLocation:N.currentLocation,nextLocation:N.nextLocation})});let H=e.window.document.startViewTransition(()=>{t(()=>r(A))});H.finished.finally(()=>{t(()=>{c(void 0),p(void 0),s(void 0),a({isTransitioning:!1})})}),t(()=>p(H));return}h?(u&&u.resolve(),h.skipTransition(),x({state:A,currentLocation:N.currentLocation,nextLocation:N.nextLocation})):(s(A),a({isTransitioning:!0,flushSync:!1,currentLocation:N.currentLocation,nextLocation:N.nextLocation}))},[e.window,t,h,u]);T.useLayoutEffect(()=>e.subscribe(S),[e,S]),T.useEffect(()=>{o.isTransitioning&&!o.flushSync&&c(new G9)},[o]),T.useEffect(()=>{if(u&&i&&e.window){let A=i,z=u.promise,U=e.window.document.startViewTransition(async()=>{T.startTransition(()=>r(A)),await z});U.finished.finally(()=>{c(void 0),p(void 0),s(void 0),a({isTransitioning:!1})}),p(U)}},[i,u,e.window]),T.useEffect(()=>{u&&i&&n.location.key===i.location.key&&u.resolve()},[u,h,n.location,i]),T.useEffect(()=>{!o.isTransitioning&&g&&(s(g.state),a({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),x(void 0))},[o.isTransitioning,g]);let k=T.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:A=>e.navigate(A),push:(A,z,U)=>e.navigate(A,{state:z,preventScrollReset:U?.preventScrollReset}),replace:(A,z,U)=>e.navigate(A,{replace:!0,state:z,preventScrollReset:U?.preventScrollReset})}),[e]),E=e.basename||"/",R=T.useMemo(()=>({router:e,navigator:k,static:!1,basename:E}),[e,k,E]);return T.createElement(T.Fragment,null,T.createElement(jl.Provider,{value:R},T.createElement(nh.Provider,{value:n},T.createElement(Q4.Provider,{value:w.current},T.createElement(sv.Provider,{value:o},T.createElement(ej,{basename:E,location:n.location,navigationType:n.historyAction,navigator:k},T.createElement(X9,{routes:e.routes,future:e.future,state:n})))))),null)}var X9=T.memo(J9);function J9({routes:e,future:t,state:n}){return I9(e,void 0,n,t)}function Z9({to:e,replace:t,state:n,relative:r}){At(oc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(xs);Ln(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=T.useContext(qi),{pathname:o}=Ki(),a=rh(),u=dm(e,cm(s),o,r==="path"),c=JSON.stringify(u);return T.useEffect(()=>{a(JSON.parse(c),{replace:t,state:n,relative:r})},[a,c,r,t,n]),null}function cv(e){return L9(e.context)}function ej({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){At(!oc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=T.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=ga(n));let{pathname:u="/",search:c="",hash:h="",state:p=null,key:g="default"}=n,x=T.useMemo(()=>{let w=Wi(u,o);return w==null?null:{location:{pathname:w,search:c,hash:h,state:p,key:g},navigationType:r}},[o,u,c,h,p,g,r]);return Ln(x!=null,`<Router basename="${o}"> is not able to match the URL "${u}${c}${h}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:T.createElement(xs.Provider,{value:a},T.createElement(hm.Provider,{children:t,value:x}))}var wp="get",_p="application/x-www-form-urlencoded";function fm(e){return e!=null&&typeof e.tagName=="string"}function tj(e){return fm(e)&&e.tagName.toLowerCase()==="button"}function nj(e){return fm(e)&&e.tagName.toLowerCase()==="form"}function rj(e){return fm(e)&&e.tagName.toLowerCase()==="input"}function ij(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function sj(e,t){return e.button===0&&(!t||t==="_self")&&!ij(e)}function q1(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function oj(e,t){let n=q1(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}var Nf=null;function aj(){if(Nf===null)try{new FormData(document.createElement("form"),0),Nf=!1}catch{Nf=!0}return Nf}var lj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function T0(e){return e!=null&&!lj.has(e)?(Ln(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_p}"`),null):e}function uj(e,t){let n,r,i,s,o;if(nj(e)){let a=e.getAttribute("action");r=a?Wi(a,t):null,n=e.getAttribute("method")||wp,i=T0(e.getAttribute("enctype"))||_p,s=new FormData(e)}else if(tj(e)||rj(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||a.getAttribute("action");if(r=u?Wi(u,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||wp,i=T0(e.getAttribute("formenctype"))||T0(a.getAttribute("enctype"))||_p,s=new FormData(a,e),!aj()){let{name:c,type:h,value:p}=e;if(h==="image"){let g=c?`${c}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else c&&s.append(c,p)}}else{if(fm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wp,r=null,i=_p,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function dv(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function cj(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Wi(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function dj(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hj(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function fj(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await dj(s,n);return o.links?o.links():[]}return[]}));return yj(r.flat(1).filter(hj).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function nw(e,t,n,r,i,s){let o=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,a=(u,c)=>n[c].pathname!==u.pathname||n[c].route.path?.endsWith("*")&&n[c].params["*"]!==u.params["*"];return s==="assets"?t.filter((u,c)=>o(u,c)||a(u,c)):s==="data"?t.filter((u,c)=>{let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(o(u,c)||a(u,c))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function pj(e,t,{includeHydrateFallback:n}={}){return mj(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function mj(e){return[...new Set(e)]}function gj(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function yj(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(gj(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function Y4(){let e=T.useContext(jl);return dv(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function vj(){let e=T.useContext(nh);return dv(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var hv=T.createContext(void 0);hv.displayName="FrameworkContext";function X4(){let e=T.useContext(hv);return dv(e,"You must render this element inside a <HydratedRouter> element"),e}function xj(e,t){let n=T.useContext(hv),[r,i]=T.useState(!1),[s,o]=T.useState(!1),{onFocus:a,onBlur:u,onMouseEnter:c,onMouseLeave:h,onTouchStart:p}=t,g=T.useRef(null);T.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let S=E=>{E.forEach(R=>{o(R.isIntersecting)})},k=new IntersectionObserver(S,{threshold:.5});return g.current&&k.observe(g.current),()=>{k.disconnect()}}},[e]),T.useEffect(()=>{if(r){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[r]);let x=()=>{i(!0)},w=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,g,{}]:[s,g,{onFocus:Jc(a,x),onBlur:Jc(u,w),onMouseEnter:Jc(c,x),onMouseLeave:Jc(h,w),onTouchStart:Jc(p,x)}]:[!1,g,{}]}function Jc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function bj({page:e,...t}){let{router:n}=Y4(),r=T.useMemo(()=>ea(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?T.createElement(_j,{page:e,matches:r,...t}):null}function wj(e){let{manifest:t,routeModules:n}=X4(),[r,i]=T.useState([]);return T.useEffect(()=>{let s=!1;return fj(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function _j({page:e,matches:t,...n}){let r=Ki(),{manifest:i,routeModules:s}=X4(),{basename:o}=Y4(),{loaderData:a,matches:u}=vj(),c=T.useMemo(()=>nw(e,t,u,i,r,"data"),[e,t,u,i,r]),h=T.useMemo(()=>nw(e,t,u,i,r,"assets"),[e,t,u,i,r]),p=T.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,S=!1;if(t.forEach(E=>{let R=i.routes[E.route.id];!R||!R.hasLoader||(!c.some(A=>A.route.id===E.route.id)&&E.route.id in a&&s[E.route.id]?.shouldRevalidate||R.hasClientLoader?S=!0:w.add(E.route.id))}),w.size===0)return[];let k=cj(e,o,"data");return S&&w.size>0&&k.searchParams.set("_routes",t.filter(E=>w.has(E.route.id)).map(E=>E.route.id).join(",")),[k.pathname+k.search]},[o,a,r,i,c,t,e,s]),g=T.useMemo(()=>pj(h,i),[h,i]),x=wj(h);return T.createElement(T.Fragment,null,p.map(w=>T.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),g.map(w=>T.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),x.map(({key:w,link:S})=>T.createElement("link",{key:w,...S})))}function Sj(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var J4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{J4&&(window.__reactRouterVersion="7.7.1")}catch{}function Cj(e,t){return h9({basename:t?.basename,unstable_getContext:t?.unstable_getContext,future:t?.future,history:Ok({window:t?.window}),hydrationData:kj(),routes:e,mapRouteProperties:q9,hydrationRouteProperties:K9,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window}).initialize()}function kj(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:jj(e.errors)}),e}function jj(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new Rp(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}var Z4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Or=T.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:h,viewTransition:p,...g},x){let{basename:w}=T.useContext(xs),S=typeof c=="string"&&Z4.test(c),k,E=!1;if(typeof c=="string"&&S&&(k=c,J4))try{let V=new URL(window.location.href),F=c.startsWith("//")?new URL(V.protocol+c):new URL(c),le=Wi(F.pathname,w);F.origin===V.origin&&le!=null?c=le+F.search+F.hash:E=!0}catch{Ln(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=R9(c,{relative:i}),[A,z,U]=xj(r,g),N=Pj(c,{replace:o,state:a,target:u,preventScrollReset:h,relative:i,viewTransition:p});function I(V){t&&t(V),V.defaultPrevented||N(V)}let H=T.createElement("a",{...g,...U,href:k||R,onClick:E||s?t:I,ref:Sj(x,z),target:u,"data-discover":!S&&n==="render"?"true":void 0});return A&&!S?T.createElement(T.Fragment,null,H,T.createElement(bj,{page:R})):H});Or.displayName="Link";var El=T.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:u,...c},h){let p=ih(o,{relative:c.relative}),g=Ki(),x=T.useContext(nh),{navigator:w,basename:S}=T.useContext(xs),k=x!=null&&Aj(p)&&a===!0,E=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,R=g.pathname,A=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(R=R.toLowerCase(),A=A?A.toLowerCase():null,E=E.toLowerCase()),A&&S&&(A=Wi(A,S)||A);const z=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let U=R===E||!i&&R.startsWith(E)&&R.charAt(z)==="/",N=A!=null&&(A===E||!i&&A.startsWith(E)&&A.charAt(E.length)==="/"),I={isActive:U,isPending:N,isTransitioning:k},H=U?t:void 0,V;typeof r=="function"?V=r(I):V=[r,U?"active":null,N?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let F=typeof s=="function"?s(I):s;return T.createElement(Or,{...c,"aria-current":H,className:V,ref:h,style:F,to:o,viewTransition:a},typeof u=="function"?u(I):u)});El.displayName="NavLink";var Ej=T.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=wp,action:a,onSubmit:u,relative:c,preventScrollReset:h,viewTransition:p,...g},x)=>{let w=Rj(),S=Mj(a,{relative:c}),k=o.toLowerCase()==="get"?"get":"post",E=typeof a=="string"&&Z4.test(a),R=A=>{if(u&&u(A),A.defaultPrevented)return;A.preventDefault();let z=A.nativeEvent.submitter,U=z?.getAttribute("formmethod")||o;w(z||A.currentTarget,{fetcherKey:t,method:U,navigate:n,replace:i,state:s,relative:c,preventScrollReset:h,viewTransition:p})};return T.createElement("form",{ref:x,method:k,action:S,onSubmit:r?u:R,...g,"data-discover":!E&&e==="render"?"true":void 0})});Ej.displayName="Form";function Tj(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eS(e){let t=T.useContext(jl);return At(t,Tj(e)),t}function Pj(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=rh(),u=Ki(),c=ih(e,{relative:s});return T.useCallback(h=>{if(sj(h,t)){h.preventDefault();let p=n!==void 0?n:ua(u)===ua(c);a(e,{replace:p,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[u,a,c,n,r,t,e,i,s,o])}function tS(e){Ln(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=T.useRef(q1(e)),n=T.useRef(!1),r=Ki(),i=T.useMemo(()=>oj(r.search,n.current?null:t.current),[r.search]),s=rh(),o=T.useCallback((a,u)=>{const c=q1(typeof a=="function"?a(new URLSearchParams(i)):a);n.current=!0,s("?"+c,u)},[s,i]);return[i,o]}var Nj=0,Oj=()=>`__${String(++Nj)}__`;function Rj(){let{router:e}=eS("useSubmit"),{basename:t}=T.useContext(xs),n=Q9();return T.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:u,body:c}=uj(r,t);if(i.navigate===!1){let h=i.fetcherKey||Oj();await e.fetch(h,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function Mj(e,{relative:t}={}){let{basename:n}=T.useContext(xs),r=T.useContext(qi);At(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...ih(e||".",{relative:t})},o=Ki();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),u=a.getAll("index");if(u.some(h=>h==="")){a.delete("index"),u.filter(p=>p).forEach(p=>a.append("index",p));let h=a.toString();s.search=h?`?${h}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Ls([n,s.pathname])),ua(s)}function Aj(e,{relative:t}={}){let n=T.useContext(sv);At(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=eS("useViewTransitionState"),i=ih(e,{relative:t});if(!n.isTransitioning)return!1;let s=Wi(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Wi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Op(i.pathname,o)!=null||Op(i.pathname,s)!=null}var pm=P4();const Of=Ei(pm);function Lj(e){return T.createElement(Y9,{flushSync:pm.flushSync,...e})}var ac=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xl=typeof window>"u"||"Deno"in globalThis;function $r(){}function Ij(e,t){return typeof e=="function"?e(t):e}function K1(e){return typeof e=="number"&&e>=0&&e!==1/0}function nS(e,t){return Math.max(e+(t||0)-Date.now(),0)}function oa(e,t){return typeof e=="function"?e(t):e}function Vi(e,t){return typeof e=="function"?e(t):e}function rw(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==fv(o,t.options))return!1}else if(!Fd(t.queryKey,o))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||i&&i!==t.state.fetchStatus||s&&!s(t))}function iw(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(bl(t.options.mutationKey)!==bl(s))return!1}else if(!Fd(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function fv(e,t){return(t?.queryKeyHashFn||bl)(e)}function bl(e){return JSON.stringify(e,(t,n)=>G1(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Fd(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Fd(e[n],t[n])):!1}function rS(e,t){if(e===t)return e;const n=sw(e)&&sw(t);if(n||G1(e)&&G1(t)){const r=n?e:Object.keys(e),i=r.length,s=n?t:Object.keys(t),o=s.length,a=n?[]:{},u=new Set(r);let c=0;for(let h=0;h<o;h++){const p=n?h:s[h];(!n&&u.has(p)||n)&&e[p]===void 0&&t[p]===void 0?(a[p]=void 0,c++):(a[p]=rS(e[p],t[p]),a[p]===e[p]&&e[p]!==void 0&&c++)}return i===o&&c===i?e:a}return t}function Ap(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function sw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function G1(e){if(!ow(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!ow(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ow(e){return Object.prototype.toString.call(e)==="[object Object]"}function Dj(e){return new Promise(t=>{setTimeout(t,e)})}function Y1(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?rS(e,t):t}function Fj(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Bj(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var pv=Symbol();function iS(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===pv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function sS(e,t){return typeof e=="function"?e(...t):!!e}var zj=class extends ac{#t;#e;#n;constructor(){super(),this.#n=e=>{if(!xl&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},mv=new zj,$j=class extends ac{#t=!0;#e;#n;constructor(){super(),this.#n=e=>{if(!xl&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#t}},Lp=new $j;function X1(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function Uj(e){return Math.min(1e3*2**e,3e4)}function oS(e){return(e??"online")==="online"?Lp.isOnline():!0}var aS=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function P0(e){return e instanceof aS}function lS(e){let t=!1,n=0,r=!1,i;const s=X1(),o=S=>{r||(g(new aS(S)),e.abort?.())},a=()=>{t=!0},u=()=>{t=!1},c=()=>mv.isFocused()&&(e.networkMode==="always"||Lp.isOnline())&&e.canRun(),h=()=>oS(e.networkMode)&&e.canRun(),p=S=>{r||(r=!0,e.onSuccess?.(S),i?.(),s.resolve(S))},g=S=>{r||(r=!0,e.onError?.(S),i?.(),s.reject(S))},x=()=>new Promise(S=>{i=k=>{(r||c())&&S(k)},e.onPause?.()}).then(()=>{i=void 0,r||e.onContinue?.()}),w=()=>{if(r)return;let S;const k=n===0?e.initialPromise:void 0;try{S=k??e.fn()}catch(E){S=Promise.reject(E)}Promise.resolve(S).then(p).catch(E=>{if(r)return;const R=e.retry??(xl?0:3),A=e.retryDelay??Uj,z=typeof A=="function"?A(n,E):A,U=R===!0||typeof R=="number"&&n<R||typeof R=="function"&&R(n,E);if(t||!U){g(E);return}n++,e.onFail?.(n,E),Dj(z).then(()=>c()?void 0:x()).then(()=>{t?g(E):w()})})};return{promise:s,cancel:o,continue:()=>(i?.(),s),cancelRetry:a,continueRetry:u,canStart:h,start:()=>(h()?w():x().then(w),s)}}var Hj=e=>setTimeout(e,0);function Vj(){let e=[],t=0,n=a=>{a()},r=a=>{a()},i=Hj;const s=a=>{t?e.push(a):i(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&i(()=>{r(()=>{a.forEach(u=>{n(u)})})})};return{batch:a=>{let u;t++;try{u=a()}finally{t--,t||o()}return u},batchCalls:a=>(...u)=>{s(()=>{a(...u)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var tr=Vj(),uS=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),K1(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(xl?1/0:300*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},Qj=class extends uS{#t;#e;#n;#r;#i;#o;#a;constructor(e){super(),this.#a=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#n=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=Wj(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=Y1(this.state.data,e,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#i?.promise;return this.#i?.cancel(e),t?t.then($r).catch($r):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>Vi(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===pv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>oa(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!nS(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#i&&(this.#a?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){const u=this.observers.find(c=>c.options.queryFn);u&&this.setOptions(u.options)}const n=new AbortController,r=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},i=()=>{const u=iS(this.options,t),h=(()=>{const p={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(p),p})();return this.#a=!1,this.options.persister?this.options.persister(u,h,this):u(h)},o=(()=>{const u={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:i};return r(u),u})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#s({type:"fetch",meta:o.fetchOptions?.meta});const a=u=>{P0(u)&&u.silent||this.#s({type:"error",error:u}),P0(u)||(this.#n.config.onError?.(u,this),this.#n.config.onSettled?.(this.state.data,u,this)),this.scheduleGc()};return this.#i=lS({initialPromise:t?.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:u=>{if(u===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(c){a(c);return}this.#n.config.onSuccess?.(u,this),this.#n.config.onSettled?.(u,this.state.error,this),this.scheduleGc()},onError:a,onFail:(u,c)=>{this.#s({type:"failed",failureCount:u,error:c})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#i.start()}#s(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...cS(n.data,this.options),fetchMeta:e.meta??null};case"success":return this.#e=void 0,{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return P0(r)&&r.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),tr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function cS(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:oS(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Wj(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var qj=class extends ac{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,n){const r=t.queryKey,i=t.queryHash??fv(r,t);let s=this.get(i);return s||(s=new Qj({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(s)),s}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){tr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>rw(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>rw(e,n)):t}notify(e){tr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){tr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){tr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Kj=class extends uS{#t;#e;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||dS(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})};this.#n=lS({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(i,s)=>{this.#r({type:"failed",failureCount:i,error:s})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const n=this.state.status==="pending",r=!this.#n.canStart();try{if(n)t();else{this.#r({type:"pending",variables:e,isPaused:r}),await this.#e.config.onMutate?.(e,this);const s=await this.options.onMutate?.(e);s!==this.state.context&&this.#r({type:"pending",context:s,variables:e,isPaused:r})}const i=await this.#n.start();return await this.#e.config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await this.#e.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#e.config.onError?.(i,e,this.state.context,this),await this.options.onError?.(i,e,this.state.context),await this.#e.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,e,this.state.context),i}finally{this.#r({type:"error",error:i})}}finally{this.#e.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),tr.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function dS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Gj=class extends ac{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(e,t,n){const r=new Kj({mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#t.add(e);const t=Rf(e);if(typeof t=="string"){const n=this.#e.get(t);n?n.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=Rf(e);if(typeof t=="string"){const n=this.#e.get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Rf(e);if(typeof t=="string"){const r=this.#e.get(t)?.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=Rf(e);return typeof t=="string"?this.#e.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){tr.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>iw(t,n))}findAll(e={}){return this.getAll().filter(t=>iw(e,t))}notify(e){tr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return tr.batch(()=>Promise.all(e.map(t=>t.continue().catch($r))))}};function Rf(e){return e.options.scope?.id}function aw(e){return{onFetch:(t,n)=>{const r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let a={pages:[],pageParams:[]},u=0;const c=async()=>{let h=!1;const p=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?h=!0:t.signal.addEventListener("abort",()=>{h=!0}),t.signal)})},g=iS(t.options,t.fetchOptions),x=async(w,S,k)=>{if(h)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const R=(()=>{const N={client:t.client,queryKey:t.queryKey,pageParam:S,direction:k?"backward":"forward",meta:t.options.meta};return p(N),N})(),A=await g(R),{maxPages:z}=t.options,U=k?Bj:Fj;return{pages:U(w.pages,A,z),pageParams:U(w.pageParams,S,z)}};if(i&&s.length){const w=i==="backward",S=w?Yj:lw,k={pages:s,pageParams:o},E=S(r,k);a=await x(k,E,w)}else{const w=e??s.length;do{const S=u===0?o[0]??r.initialPageParam:lw(r,a);if(u>0&&S==null)break;a=await x(a,S),u++}while(u<w)}return a};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=c}}}function lw(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Yj(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var Xj=class{#t;#e;#n;#r;#i;#o;#a;#s;constructor(e={}){this.#t=e.queryCache||new qj,this.#e=e.mutationCache||new Gj,this.#n=e.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=mv.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#s=Lp.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#t.build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(oa(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=this.#t.get(r.queryHash)?.state.data,o=Ij(t,s);if(o!==void 0)return this.#t.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return tr.batch(()=>this.#t.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;tr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#t;return tr.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=tr.batch(()=>this.#t.findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then($r).catch($r)}invalidateQueries(e,t={}){return tr.batch(()=>(this.#t.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=tr.batch(()=>this.#t.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch($r)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then($r)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#t.build(this,t);return n.isStaleByTime(oa(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then($r).catch($r)}fetchInfiniteQuery(e){return e.behavior=aw(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then($r).catch($r)}ensureInfiniteQueryData(e){return e.behavior=aw(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Lp.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#r.set(bl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(r=>{Fd(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){this.#i.set(bl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()],n={};return t.forEach(r=>{Fd(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=fv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===pv&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},Jj=class extends ac{constructor(e,t){super(),this.options=t,this.#t=e,this.#s=null,this.#a=X1(),this.options.experimental_prefetchInRender||this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#n=void 0;#r=void 0;#i;#o;#a;#s;#m;#h;#f;#u;#c;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),uw(this.#e,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return J1(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return J1(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,n=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Vi(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#e.setOptions(this.options),t._defaulted&&!Ap(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&cw(this.#e,n,this.options,t)&&this.#d(),this.updateResult(),r&&(this.#e!==n||Vi(this.options.enabled,this.#e)!==Vi(t.enabled,this.#e)||oa(this.options.staleTime,this.#e)!==oa(t.staleTime,this.#e))&&this.#g();const i=this.#y();r&&(this.#e!==n||Vi(this.options.enabled,this.#e)!==Vi(t.enabled,this.#e)||i!==this.#l)&&this.#v(i)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),n=this.createResult(t,e);return eE(this,n)&&(this.#r=n,this.#o=this.options,this.#i=this.#e.state),n}getCurrentResult(){return this.#r}trackResult(e,t){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),t?.(r),Reflect.get(n,r))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),n=this.#t.getQueryCache().build(this.#t,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(e){this.#_();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch($r)),t}#g(){this.#b();const e=oa(this.options.staleTime,this.#e);if(xl||this.#r.isStale||!K1(e))return;const n=nS(this.#r.dataUpdatedAt,e)+1;this.#u=setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#l=e,!(xl||Vi(this.options.enabled,this.#e)===!1||!K1(this.#l)||this.#l===0)&&(this.#c=setInterval(()=>{(this.options.refetchIntervalInBackground||mv.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#v(this.#y())}#b(){this.#u&&(clearTimeout(this.#u),this.#u=void 0)}#w(){this.#c&&(clearInterval(this.#c),this.#c=void 0)}createResult(e,t){const n=this.#e,r=this.options,i=this.#r,s=this.#i,o=this.#o,u=e!==n?e.state:this.#n,{state:c}=e;let h={...c},p=!1,g;if(t._optimisticResults){const H=this.hasListeners(),V=!H&&uw(e,t),F=H&&cw(e,n,t,r);(V||F)&&(h={...h,...cS(c.data,e.options)}),t._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:x,errorUpdatedAt:w,status:S}=h;g=h.data;let k=!1;if(t.placeholderData!==void 0&&g===void 0&&S==="pending"){let H;i?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(H=i.data,k=!0):H=typeof t.placeholderData=="function"?t.placeholderData(this.#f?.state.data,this.#f):t.placeholderData,H!==void 0&&(S="success",g=Y1(i?.data,H,t),p=!0)}if(t.select&&g!==void 0&&!k)if(i&&g===s?.data&&t.select===this.#m)g=this.#h;else try{this.#m=t.select,g=t.select(g),g=Y1(i?.data,g,t),this.#h=g,this.#s=null}catch(H){this.#s=H}this.#s&&(x=this.#s,g=this.#h,w=Date.now(),S="error");const E=h.fetchStatus==="fetching",R=S==="pending",A=S==="error",z=R&&E,U=g!==void 0,I={status:S,fetchStatus:h.fetchStatus,isPending:R,isSuccess:S==="success",isError:A,isInitialLoading:z,isLoading:z,data:g,dataUpdatedAt:h.dataUpdatedAt,error:x,errorUpdatedAt:w,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:E,isRefetching:E&&!R,isLoadingError:A&&!U,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:A&&U,isStale:gv(e,t),refetch:this.refetch,promise:this.#a,isEnabled:Vi(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const H=le=>{I.status==="error"?le.reject(I.error):I.data!==void 0&&le.resolve(I.data)},V=()=>{const le=this.#a=I.promise=X1();H(le)},F=this.#a;switch(F.status){case"pending":e.queryHash===n.queryHash&&H(F);break;case"fulfilled":(I.status==="error"||I.data!==F.value)&&V();break;case"rejected":(I.status!=="error"||I.error!==F.reason)&&V();break}}return I}updateResult(){const e=this.#r,t=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#o=this.options,this.#i.data!==void 0&&(this.#f=this.#e),Ap(t,e))return;this.#r=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#p.size)return!0;const s=new Set(i??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#r).some(o=>{const a=o;return this.#r[a]!==e[a]&&s.has(a)})};this.#S({listeners:n()})}#_(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#S(e){tr.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#r)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function Zj(e,t){return Vi(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function uw(e,t){return Zj(e,t)||e.state.data!==void 0&&J1(e,t,t.refetchOnMount)}function J1(e,t,n){if(Vi(t.enabled,e)!==!1&&oa(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&gv(e,t)}return!1}function cw(e,t,n,r){return(e!==t||Vi(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&gv(e,n)}function gv(e,t){return Vi(t.enabled,e)!==!1&&e.isStaleByTime(oa(t.staleTime,e))}function eE(e,t){return!Ap(e.getCurrentResult(),t)}var tE=class extends ac{#t;#e=void 0;#n;#r;constructor(t,n){super(),this.#t=t,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#t.defaultMutationOptions(t),Ap(this.options,n)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&bl(n.mutationKey)!==bl(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#o(t)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#o()}mutate(t,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(t)}#i(){const t=this.#n?.state??dS();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#o(t){tr.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#e.variables,r=this.#e.context;t?.type==="success"?(this.#r.onSuccess?.(t.data,n,r),this.#r.onSettled?.(t.data,null,n,r)):t?.type==="error"&&(this.#r.onError?.(t.error,n,r),this.#r.onSettled?.(void 0,t.error,n,r))}this.listeners.forEach(n=>{n(this.#e)})})}},hS=T.createContext(void 0),Ti=e=>{const t=T.useContext(hS);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},nE=({client:e,children:t})=>(T.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),f.jsx(hS.Provider,{value:e,children:t})),fS=T.createContext(!1),rE=()=>T.useContext(fS);fS.Provider;function iE(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var sE=T.createContext(iE()),oE=()=>T.useContext(sE),aE=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},lE=e=>{T.useEffect(()=>{e.clearReset()},[e])},uE=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||sS(n,[e.error,r])),cE=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},dE=(e,t)=>e.isLoading&&e.isFetching&&!t,hE=(e,t)=>e?.suspense&&t.isPending,dw=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function fE(e,t,n){const r=rE(),i=oE(),s=Ti(),o=s.defaultQueryOptions(e);s.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=r?"isRestoring":"optimistic",cE(o),aE(o,i),lE(i);const a=!s.getQueryCache().get(o.queryHash),[u]=T.useState(()=>new t(s,o)),c=u.getOptimisticResult(o),h=!r&&e.subscribed!==!1;if(T.useSyncExternalStore(T.useCallback(p=>{const g=h?u.subscribe(tr.batchCalls(p)):$r;return u.updateResult(),g},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),T.useEffect(()=>{u.setOptions(o)},[o,u]),hE(o,c))throw dw(o,u,i);if(uE({result:c,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(o,c),o.experimental_prefetchInRender&&!xl&&dE(c,r)&&(a?dw(o,u,i):s.getQueryCache().get(o.queryHash)?.promise)?.catch($r).finally(()=>{u.updateResult()}),o.notifyOnChangeProps?c:u.trackResult(c)}function bs(e,t){return fE(e,Jj)}function ya(e,t){const n=Ti(),[r]=T.useState(()=>new tE(n,e));T.useEffect(()=>{r.setOptions(e)},[r,e]);const i=T.useSyncExternalStore(T.useCallback(o=>r.subscribe(tr.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=T.useCallback((o,a)=>{r.mutate(o,a).catch($r)},[r]);if(i.error&&sS(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}var N0={},O0={},R0={},hw;function pE(){return hw||(hw=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];if(typeof window<"u"){var a;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(a=window).gtag.apply(a,s)}},n=t;e.default=n}(R0)),R0}var M0={},fw;function mE(){return fw||(fw=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function n(a){return a.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(u,c,h){return c>0&&c+u.length!==h.length&&u.search(t)>-1&&h.charAt(c-2)!==":"&&(h.charAt(c+u.length)!=="-"||h.charAt(c-1)==="-")&&h.charAt(c-1).search(/[^\s-]/)<0?u.toLowerCase():u.substr(1).search(/[A-Z]|\../)>-1?u:u.charAt(0).toUpperCase()+u.substr(1)})}function r(a){return typeof a=="string"&&a.indexOf("@")!==-1}var i="REDACTED (Potential Email Address)";function s(a){return r(a)?(console.warn("This arg looks like an email address, redacting."),i):a}function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,h=a||"";return u&&(h=n(a)),c&&(h=s(h)),h}}(M0)),M0}var pw;function gE(){return pw||(pw=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.GA4=void 0;var t=o(pE()),n=o(mE()),r=["eventCategory","eventAction","eventLabel","eventValue","hitType"],i=["title","location"],s=["page","hitType"];function o(q){return q&&q.__esModule?q:{default:q}}function a(q,Q){if(q==null)return{};var J=u(q,Q),te,ne;if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(q);for(ne=0;ne<me.length;ne++)te=me[ne],!(Q.indexOf(te)>=0)&&Object.prototype.propertyIsEnumerable.call(q,te)&&(J[te]=q[te])}return J}function u(q,Q){if(q==null)return{};var J={},te=Object.keys(q),ne,me;for(me=0;me<te.length;me++)ne=te[me],!(Q.indexOf(ne)>=0)&&(J[ne]=q[ne]);return J}function c(q){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},c(q)}function h(q){return x(q)||g(q)||R(q)||p()}function p(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g(q){if(typeof Symbol<"u"&&q[Symbol.iterator]!=null||q["@@iterator"]!=null)return Array.from(q)}function x(q){if(Array.isArray(q))return A(q)}function w(q,Q){var J=Object.keys(q);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(q);Q&&(te=te.filter(function(ne){return Object.getOwnPropertyDescriptor(q,ne).enumerable})),J.push.apply(J,te)}return J}function S(q){for(var Q=1;Q<arguments.length;Q++){var J=arguments[Q]!=null?arguments[Q]:{};Q%2?w(Object(J),!0).forEach(function(te){V(q,te,J[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(J)):w(Object(J)).forEach(function(te){Object.defineProperty(q,te,Object.getOwnPropertyDescriptor(J,te))})}return q}function k(q,Q){return U(q)||z(q,Q)||R(q,Q)||E()}function E(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R(q,Q){if(q){if(typeof q=="string")return A(q,Q);var J=Object.prototype.toString.call(q).slice(8,-1);if(J==="Object"&&q.constructor&&(J=q.constructor.name),J==="Map"||J==="Set")return Array.from(q);if(J==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(J))return A(q,Q)}}function A(q,Q){(Q==null||Q>q.length)&&(Q=q.length);for(var J=0,te=new Array(Q);J<Q;J++)te[J]=q[J];return te}function z(q,Q){var J=q==null?null:typeof Symbol<"u"&&q[Symbol.iterator]||q["@@iterator"];if(J!=null){var te,ne,me,D,G=[],ye=!0,B=!1;try{if(me=(J=J.call(q)).next,Q!==0)for(;!(ye=(te=me.call(J)).done)&&(G.push(te.value),G.length!==Q);ye=!0);}catch(Fe){B=!0,ne=Fe}finally{try{if(!ye&&J.return!=null&&(D=J.return(),Object(D)!==D))return}finally{if(B)throw ne}}return G}}function U(q){if(Array.isArray(q))return q}function N(q,Q){if(!(q instanceof Q))throw new TypeError("Cannot call a class as a function")}function I(q,Q){for(var J=0;J<Q.length;J++){var te=Q[J];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(q,F(te.key),te)}}function H(q,Q,J){return Q&&I(q.prototype,Q),Object.defineProperty(q,"prototype",{writable:!1}),q}function V(q,Q,J){return Q=F(Q),Q in q?Object.defineProperty(q,Q,{value:J,enumerable:!0,configurable:!0,writable:!0}):q[Q]=J,q}function F(q){var Q=le(q,"string");return c(Q)==="symbol"?Q:String(Q)}function le(q,Q){if(c(q)!=="object"||q===null)return q;var J=q[Symbol.toPrimitive];if(J!==void 0){var te=J.call(q,Q);if(c(te)!=="object")return te;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Q==="string"?String:Number)(q)}var ue=function(){function q(){var Q=this;N(this,q),V(this,"reset",function(){Q.isInitialized=!1,Q._testMode=!1,Q._currentMeasurementId,Q._hasLoadedGA=!1,Q._isQueuing=!1,Q._queueGtag=[]}),V(this,"_gtag",function(){for(var J=arguments.length,te=new Array(J),ne=0;ne<J;ne++)te[ne]=arguments[ne];Q._testMode||Q._isQueuing?Q._queueGtag.push(te):t.default.apply(void 0,te)}),V(this,"_loadGA",function(J,te){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!Q._hasLoadedGA){var me=document.createElement("script");me.async=!0,me.src="".concat(ne,"?id=").concat(J),te&&me.setAttribute("nonce",te),document.body.appendChild(me),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},Q._hasLoadedGA=!0}}),V(this,"_toGtagOptions",function(J){if(J){var te={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},ne=Object.entries(J).reduce(function(me,D){var G=k(D,2),ye=G[0],B=G[1];return te[ye]?me[te[ye]]=B:me[ye]=B,me},{});return ne}}),V(this,"initialize",function(J){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!J)throw new Error("Require GA_MEASUREMENT_ID");var ne=typeof J=="string"?[{trackingId:J}]:J;Q._currentMeasurementId=ne[0].trackingId;var me=te.gaOptions,D=te.gtagOptions,G=te.nonce,ye=te.testMode,B=ye===void 0?!1:ye,Fe=te.gtagUrl;if(Q._testMode=B,B||Q._loadGA(Q._currentMeasurementId,G,Fe),Q.isInitialized||(Q._gtag("js",new Date),ne.forEach(function(Ye){var Ke=S(S(S({},Q._toGtagOptions(S(S({},me),Ye.gaOptions))),D),Ye.gtagOptions);Object.keys(Ke).length?Q._gtag("config",Ye.trackingId,Ke):Q._gtag("config",Ye.trackingId)})),Q.isInitialized=!0,!B){var je=h(Q._queueGtag);for(Q._queueGtag=[],Q._isQueuing=!1;je.length;){var Ee=je.shift();Q._gtag.apply(Q,h(Ee)),Ee[0]==="get"&&(Q._isQueuing=!0)}}}),V(this,"set",function(J){if(!J){console.warn("`fieldsObject` is required in .set()");return}if(c(J)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(J).length===0&&console.warn("empty `fieldsObject` given to .set()"),Q._gaCommand("set",J)}),V(this,"_gaCommandSendEvent",function(J,te,ne,me,D){Q._gtag("event",te,S(S({event_category:J,event_label:ne,value:me},D&&{non_interaction:D.nonInteraction}),Q._toGtagOptions(D)))}),V(this,"_gaCommandSendEventParameters",function(){for(var J=arguments.length,te=new Array(J),ne=0;ne<J;ne++)te[ne]=arguments[ne];if(typeof te[0]=="string")Q._gaCommandSendEvent.apply(Q,h(te.slice(1)));else{var me=te[0],D=me.eventCategory,G=me.eventAction,ye=me.eventLabel,B=me.eventValue;me.hitType;var Fe=a(me,r);Q._gaCommandSendEvent(D,G,ye,B,Fe)}}),V(this,"_gaCommandSendTiming",function(J,te,ne,me){Q._gtag("event","timing_complete",{name:te,value:ne,event_category:J,event_label:me})}),V(this,"_gaCommandSendPageview",function(J,te){if(te&&Object.keys(te).length){var ne=Q._toGtagOptions(te),me=ne.title,D=ne.location,G=a(ne,i);Q._gtag("event","page_view",S(S(S(S({},J&&{page_path:J}),me&&{page_title:me}),D&&{page_location:D}),G))}else J?Q._gtag("event","page_view",{page_path:J}):Q._gtag("event","page_view")}),V(this,"_gaCommandSendPageviewParameters",function(){for(var J=arguments.length,te=new Array(J),ne=0;ne<J;ne++)te[ne]=arguments[ne];if(typeof te[0]=="string")Q._gaCommandSendPageview.apply(Q,h(te.slice(1)));else{var me=te[0],D=me.page;me.hitType;var G=a(me,s);Q._gaCommandSendPageview(D,G)}}),V(this,"_gaCommandSend",function(){for(var J=arguments.length,te=new Array(J),ne=0;ne<J;ne++)te[ne]=arguments[ne];var me=typeof te[0]=="string"?te[0]:te[0].hitType;switch(me){case"event":Q._gaCommandSendEventParameters.apply(Q,te);break;case"pageview":Q._gaCommandSendPageviewParameters.apply(Q,te);break;case"timing":Q._gaCommandSendTiming.apply(Q,h(te.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(me));break;default:console.warn("Send command doesn't exist: ".concat(me))}}),V(this,"_gaCommandSet",function(){for(var J=arguments.length,te=new Array(J),ne=0;ne<J;ne++)te[ne]=arguments[ne];typeof te[0]=="string"&&(te[0]=V({},te[0],te[1])),Q._gtag("set",Q._toGtagOptions(te[0]))}),V(this,"_gaCommand",function(J){for(var te=arguments.length,ne=new Array(te>1?te-1:0),me=1;me<te;me++)ne[me-1]=arguments[me];switch(J){case"send":Q._gaCommandSend.apply(Q,ne);break;case"set":Q._gaCommandSet.apply(Q,ne);break;default:console.warn("Command doesn't exist: ".concat(J))}}),V(this,"ga",function(){for(var J=arguments.length,te=new Array(J),ne=0;ne<J;ne++)te[ne]=arguments[ne];if(typeof te[0]=="string")Q._gaCommand.apply(Q,te);else{var me=te[0];Q._gtag("get",Q._currentMeasurementId,"client_id",function(D){Q._isQueuing=!1;var G=Q._queueGtag;for(me({get:function(Fe){return Fe==="clientId"?D:Fe==="trackingId"?Q._currentMeasurementId:Fe==="apiVersion"?"1":void 0}});G.length;){var ye=G.shift();Q._gtag.apply(Q,h(ye))}}),Q._isQueuing=!0}return Q.ga}),V(this,"event",function(J,te){if(typeof J=="string")Q._gtag("event",J,Q._toGtagOptions(te));else{var ne=J.action,me=J.category,D=J.label,G=J.value,ye=J.nonInteraction,B=J.transport;if(!me||!ne){console.warn("args.category AND args.action are required in event()");return}var Fe={hitType:"event",eventCategory:(0,n.default)(me),eventAction:(0,n.default)(ne)};D&&(Fe.eventLabel=(0,n.default)(D)),typeof G<"u"&&(typeof G!="number"?console.warn("Expected `args.value` arg to be a Number."):Fe.eventValue=G),typeof ye<"u"&&(typeof ye!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):Fe.nonInteraction=ye),typeof B<"u"&&(typeof B!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(B)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),Fe.transport=B)),Q._gaCommand("send",Fe)}}),V(this,"send",function(J){Q._gaCommand("send",J)}),this.reset()}return H(q,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),q}();e.GA4=ue;var ae=new ue;e.default=ae}(O0)),O0}var mw;function yE(){return mw||(mw=1,function(e){function t(a){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},t(a)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ReactGAImplementation=void 0;var n=i(gE());function r(a){if(typeof WeakMap!="function")return null;var u=new WeakMap,c=new WeakMap;return(r=function(p){return p?c:u})(a)}function i(a,u){if(a&&a.__esModule)return a;if(a===null||t(a)!=="object"&&typeof a!="function")return{default:a};var c=r(u);if(c&&c.has(a))return c.get(a);var h={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if(g!=="default"&&Object.prototype.hasOwnProperty.call(a,g)){var x=p?Object.getOwnPropertyDescriptor(a,g):null;x&&(x.get||x.set)?Object.defineProperty(h,g,x):h[g]=a[g]}return h.default=a,c&&c.set(a,h),h}var s=n.GA4;e.ReactGAImplementation=s;var o=n.default;e.default=o}(N0)),N0}yE();const kd="8.55.0",vo=globalThis;function yv(e,t,n){const r=n||vo,i=r.__SENTRY__=r.__SENTRY__||{},s=i[kd]=i[kd]||{};return s[e]||(s[e]=t())}const pS=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,vE="Sentry Logger ",gw=["debug","info","warn","error","log","assert","trace"],yw={};function xE(e){if(!("console"in vo))return e();const t=vo.console,n={},r=Object.keys(yw);r.forEach(i=>{const s=yw[i];n[i]=t[i],t[i]=s});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function bE(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return pS?gw.forEach(n=>{t[n]=(...r)=>{e&&xE(()=>{vo.console[n](`${vE}[${n}]:`,...r)})}}):gw.forEach(n=>{t[n]=()=>{}}),t}const Sp=yv("logger",bE);function mS(){return vv(vo),vo}function vv(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||kd,t[kd]=t[kd]||{}}const wE=Object.prototype.toString;function _E(e,t){return wE.call(e)===`[object ${t}]`}function SE(e){return _E(e,"Object")}function CE(e){return!!(e&&e.then&&typeof e.then=="function")}function kE(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{pS&&Sp.log(`Failed to add non-enumerable property "${t}" to object`,e)}}const gS=1e3;function yS(){return Date.now()/gS}function jE(){const{performance:e}=vo;if(!e||!e.now)return yS;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/gS}const EE=jE();(()=>{const{performance:e}=vo;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=i<t,o=e.timing&&e.timing.navigationStart,u=typeof o=="number"?Math.abs(o+n-r):t,c=u<t;return s||c?i<=u?e.timeOrigin:o:r})();function Qu(){const e=vo,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function TE(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||EE(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Qu()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function vw(){return Qu()}function xw(){return Qu().substring(16)}function vS(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const r={...e};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=vS(r[i],t[i],n-1));return r}const Z1="_sentrySpan";function bw(e,t){t?kE(e,Z1,t):delete e[Z1]}function ww(e){return e[Z1]}const PE=100;class xv{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:vw(),spanId:xw()}}clone(){const t=new xv;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,bw(t,ww(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&TE(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,i]=n instanceof Xu?[n.getScopeData(),n.getRequestSession()]:SE(n)?[t,t.requestSession]:[],{tags:s,extra:o,user:a,contexts:u,level:c,fingerprint:h=[],propagationContext:p}=r||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...o},this._contexts={...this._contexts,...u},a&&Object.keys(a).length&&(this._user=a),c&&(this._level=c),h.length&&(this._fingerprint=h),p&&(this._propagationContext=p),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,bw(this,void 0),this._attachments=[],this.setPropagationContext({traceId:vw()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:PE;if(r<=0)return this;const i={timestamp:yS(),...t};return this._breadcrumbs.push(i),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:ww(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=vS(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:xw(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:Qu();if(!this._client)return Sp.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r&&r.event_id?r.event_id:Qu();if(!this._client)return Sp.warn("No client configured on scope - will not capture message!"),i;const s=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i},this),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:Qu();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(Sp.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const Xu=xv;function NE(){return yv("defaultCurrentScope",()=>new Xu)}function OE(){return yv("defaultIsolationScope",()=>new Xu)}class RE{constructor(t,n){let r;t?r=t:r=new Xu;let i;n?i=n:i=new Xu,this._stack=[{scope:r}],this._isolationScope=i}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(i){throw this._popScope(),i}return CE(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Ju(){const e=mS(),t=vv(e);return t.stack=t.stack||new RE(NE(),OE())}function ME(e){return Ju().withScope(e)}function AE(e,t){const n=Ju();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function _w(e){return Ju().withScope(()=>e(Ju().getIsolationScope()))}function LE(){return{withIsolationScope:_w,withScope:ME,withSetScope:AE,withSetIsolationScope:(e,t)=>_w(t),getCurrentScope:()=>Ju().getScope(),getIsolationScope:()=>Ju().getIsolationScope()}}function IE(e){const t=vv(e);return t.acs?t.acs:LE()}function DE(){const e=mS();return IE(e).getCurrentScope()}function FE(e){if(e)return BE(e)?{captureContext:e}:$E(e)?{captureContext:e}:e}function BE(e){return e instanceof Xu||typeof e=="function"}const zE=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function $E(e){return Object.keys(e).some(t=>zE.includes(t))}function UE(e,t){return DE().captureException(e,FE(t))}var A0={exports:{}},L0,Sw;function HE(){if(Sw)return L0;Sw=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return L0=e,L0}var I0,Cw;function VE(){if(Cw)return I0;Cw=1;var e=HE();function t(){}function n(){}return n.resetWarningCache=t,I0=function(){function r(o,a,u,c,h,p){if(p!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},I0}var kw;function QE(){return kw||(kw=1,A0.exports=VE()()),A0.exports}var WE=QE();const Pt=Ei(WE);var D0,jw;function qE(){if(jw)return D0;jw=1;function e(a){return a&&typeof a=="object"&&"default"in a?a.default:a}var t=um(),n=e(t);function r(a,u,c){return u in a?Object.defineProperty(a,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[u]=c,a}function i(a,u){a.prototype=Object.create(u.prototype),a.prototype.constructor=a,a.__proto__=u}var s=!!(typeof window<"u"&&window.document&&window.document.createElement);function o(a,u,c){if(typeof a!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof u!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof c<"u"&&typeof c!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function h(p){return p.displayName||p.name||"Component"}return function(g){if(typeof g!="function")throw new Error("Expected WrappedComponent to be a React component.");var x=[],w;function S(){w=a(x.map(function(E){return E.props})),k.canUseDOM?u(w):c&&(w=c(w))}var k=function(E){i(R,E);function R(){return E.apply(this,arguments)||this}R.peek=function(){return w},R.rewind=function(){if(R.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var U=w;return w=void 0,x=[],U};var A=R.prototype;return A.UNSAFE_componentWillMount=function(){x.push(this),S()},A.componentDidUpdate=function(){S()},A.componentWillUnmount=function(){var U=x.indexOf(this);x.splice(U,1),S()},A.render=function(){return n.createElement(g,this.props)},R}(t.PureComponent);return r(k,"displayName","SideEffect("+h(g)+")"),r(k,"canUseDOM",s),k}}return D0=o,D0}var KE=qE();const GE=Ei(KE);var F0,Ew;function YE(){if(Ew)return F0;Ew=1;var e=typeof Element<"u",t=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(s,o){if(s===o)return!0;if(s&&o&&typeof s=="object"&&typeof o=="object"){if(s.constructor!==o.constructor)return!1;var a,u,c;if(Array.isArray(s)){if(a=s.length,a!=o.length)return!1;for(u=a;u--!==0;)if(!i(s[u],o[u]))return!1;return!0}var h;if(t&&s instanceof Map&&o instanceof Map){if(s.size!==o.size)return!1;for(h=s.entries();!(u=h.next()).done;)if(!o.has(u.value[0]))return!1;for(h=s.entries();!(u=h.next()).done;)if(!i(u.value[1],o.get(u.value[0])))return!1;return!0}if(n&&s instanceof Set&&o instanceof Set){if(s.size!==o.size)return!1;for(h=s.entries();!(u=h.next()).done;)if(!o.has(u.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(o)){if(a=s.length,a!=o.length)return!1;for(u=a;u--!==0;)if(s[u]!==o[u])return!1;return!0}if(s.constructor===RegExp)return s.source===o.source&&s.flags===o.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof o.valueOf=="function")return s.valueOf()===o.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof o.toString=="function")return s.toString()===o.toString();if(c=Object.keys(s),a=c.length,a!==Object.keys(o).length)return!1;for(u=a;u--!==0;)if(!Object.prototype.hasOwnProperty.call(o,c[u]))return!1;if(e&&s instanceof Element)return!1;for(u=a;u--!==0;)if(!((c[u]==="_owner"||c[u]==="__v"||c[u]==="__o")&&s.$$typeof)&&!i(s[c[u]],o[c[u]]))return!1;return!0}return s!==s&&o!==o}return F0=function(o,a){try{return i(o,a)}catch(u){if((u.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw u}},F0}var XE=YE();const JE=Ei(XE);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var B0,Tw;function ZE(){if(Tw)return B0;Tw=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function i(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var o={},a=0;a<10;a++)o["_"+String.fromCharCode(a)]=a;var u=Object.getOwnPropertyNames(o).map(function(h){return o[h]});if(u.join("")!=="0123456789")return!1;var c={};return"abcdefghijklmnopqrst".split("").forEach(function(h){c[h]=h}),Object.keys(Object.assign({},c)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return B0=i()?Object.assign:function(s,o){for(var a,u=r(s),c,h=1;h<arguments.length;h++){a=Object(arguments[h]);for(var p in a)t.call(a,p)&&(u[p]=a[p]);if(e){c=e(a);for(var g=0;g<c.length;g++)n.call(a,c[g])&&(u[c[g]]=a[c[g]])}}return u},B0}var eT=ZE();const tT=Ei(eT);var ml={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},_t={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(_t).map(function(e){return _t[e]});var Sn={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Ip={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Bd={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},nT=Object.keys(Ip).reduce(function(e,t){return e[Ip[t]]=t,e},{}),rT=[_t.NOSCRIPT,_t.SCRIPT,_t.STYLE],ms="data-react-helmet",iT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sT=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},oT=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ri=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aT=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Pw=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},lT=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},ey=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},uT=function(t){var n=Wu(t,_t.TITLE),r=Wu(t,Bd.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=Wu(t,Bd.DEFAULT_TITLE);return n||i||void 0},cT=function(t){return Wu(t,Bd.ON_CHANGE_CLIENT_STATE)||function(){}},z0=function(t,n){return n.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,i){return ri({},r,i)},{})},dT=function(t,n){return n.filter(function(r){return typeof r[_t.BASE]<"u"}).map(function(r){return r[_t.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),o=0;o<s.length;o++){var a=s[o],u=a.toLowerCase();if(t.indexOf(u)!==-1&&i[u])return r.concat(i)}return r},[])},Zc=function(t,n,r){var i={};return r.filter(function(s){return Array.isArray(s[t])?!0:(typeof s[t]<"u"&&mT("Helmet: "+t+' should be of type "Array". Instead found type "'+iT(s[t])+'"'),!1)}).map(function(s){return s[t]}).reverse().reduce(function(s,o){var a={};o.filter(function(g){for(var x=void 0,w=Object.keys(g),S=0;S<w.length;S++){var k=w[S],E=k.toLowerCase();n.indexOf(E)!==-1&&!(x===Sn.REL&&g[x].toLowerCase()==="canonical")&&!(E===Sn.REL&&g[E].toLowerCase()==="stylesheet")&&(x=E),n.indexOf(k)!==-1&&(k===Sn.INNER_HTML||k===Sn.CSS_TEXT||k===Sn.ITEM_PROP)&&(x=k)}if(!x||!g[x])return!1;var R=g[x].toLowerCase();return i[x]||(i[x]={}),a[x]||(a[x]={}),i[x][R]?!1:(a[x][R]=!0,!0)}).reverse().forEach(function(g){return s.push(g)});for(var u=Object.keys(a),c=0;c<u.length;c++){var h=u[c],p=tT({},i[h],a[h]);i[h]=p}return s},[]).reverse()},Wu=function(t,n){for(var r=t.length-1;r>=0;r--){var i=t[r];if(i.hasOwnProperty(n))return i[n]}return null},hT=function(t){return{baseTag:dT([Sn.HREF,Sn.TARGET],t),bodyAttributes:z0(ml.BODY,t),defer:Wu(t,Bd.DEFER),encode:Wu(t,Bd.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:z0(ml.HTML,t),linkTags:Zc(_t.LINK,[Sn.REL,Sn.HREF],t),metaTags:Zc(_t.META,[Sn.NAME,Sn.CHARSET,Sn.HTTPEQUIV,Sn.PROPERTY,Sn.ITEM_PROP],t),noscriptTags:Zc(_t.NOSCRIPT,[Sn.INNER_HTML],t),onChangeClientState:cT(t),scriptTags:Zc(_t.SCRIPT,[Sn.SRC,Sn.INNER_HTML],t),styleTags:Zc(_t.STYLE,[Sn.CSS_TEXT],t),title:uT(t),titleAttributes:z0(ml.TITLE,t)}},ty=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){ty(t)},0)}}(),Nw=function(t){return clearTimeout(t)},fT=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||ty:global.requestAnimationFrame||ty,pT=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||Nw:global.cancelAnimationFrame||Nw,mT=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},ed=null,gT=function(t){ed&&pT(ed),t.defer?ed=fT(function(){Ow(t,function(){ed=null})}):(Ow(t),ed=null)},Ow=function(t,n){var r=t.baseTag,i=t.bodyAttributes,s=t.htmlAttributes,o=t.linkTags,a=t.metaTags,u=t.noscriptTags,c=t.onChangeClientState,h=t.scriptTags,p=t.styleTags,g=t.title,x=t.titleAttributes;ny(_t.BODY,i),ny(_t.HTML,s),yT(g,x);var w={baseTag:gu(_t.BASE,r),linkTags:gu(_t.LINK,o),metaTags:gu(_t.META,a),noscriptTags:gu(_t.NOSCRIPT,u),scriptTags:gu(_t.SCRIPT,h),styleTags:gu(_t.STYLE,p)},S={},k={};Object.keys(w).forEach(function(E){var R=w[E],A=R.newTags,z=R.oldTags;A.length&&(S[E]=A),z.length&&(k[E]=w[E].oldTags)}),n&&n(),c(t,S,k)},xS=function(t){return Array.isArray(t)?t.join(""):t},yT=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=xS(t)),ny(_t.TITLE,n)},ny=function(t,n){var r=document.getElementsByTagName(t)[0];if(r){for(var i=r.getAttribute(ms),s=i?i.split(","):[],o=[].concat(s),a=Object.keys(n),u=0;u<a.length;u++){var c=a[u],h=n[c]||"";r.getAttribute(c)!==h&&r.setAttribute(c,h),s.indexOf(c)===-1&&s.push(c);var p=o.indexOf(c);p!==-1&&o.splice(p,1)}for(var g=o.length-1;g>=0;g--)r.removeAttribute(o[g]);s.length===o.length?r.removeAttribute(ms):r.getAttribute(ms)!==a.join(",")&&r.setAttribute(ms,a.join(","))}},gu=function(t,n){var r=document.head||document.querySelector(_t.HEAD),i=r.querySelectorAll(t+"["+ms+"]"),s=Array.prototype.slice.call(i),o=[],a=void 0;return n&&n.length&&n.forEach(function(u){var c=document.createElement(t);for(var h in u)if(u.hasOwnProperty(h))if(h===Sn.INNER_HTML)c.innerHTML=u.innerHTML;else if(h===Sn.CSS_TEXT)c.styleSheet?c.styleSheet.cssText=u.cssText:c.appendChild(document.createTextNode(u.cssText));else{var p=typeof u[h]>"u"?"":u[h];c.setAttribute(h,p)}c.setAttribute(ms,"true"),s.some(function(g,x){return a=x,c.isEqualNode(g)})?s.splice(a,1):o.push(c)}),s.forEach(function(u){return u.parentNode.removeChild(u)}),o.forEach(function(u){return r.appendChild(u)}),{oldTags:s,newTags:o}},bS=function(t){return Object.keys(t).reduce(function(n,r){var i=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return n?n+" "+i:i},"")},vT=function(t,n,r,i){var s=bS(r),o=xS(n);return s?"<"+t+" "+ms+'="true" '+s+">"+ey(o,i)+"</"+t+">":"<"+t+" "+ms+'="true">'+ey(o,i)+"</"+t+">"},xT=function(t,n,r){return n.reduce(function(i,s){var o=Object.keys(s).filter(function(c){return!(c===Sn.INNER_HTML||c===Sn.CSS_TEXT)}).reduce(function(c,h){var p=typeof s[h]>"u"?h:h+'="'+ey(s[h],r)+'"';return c?c+" "+p:p},""),a=s.innerHTML||s.cssText||"",u=rT.indexOf(t)===-1;return i+"<"+t+" "+ms+'="true" '+o+(u?"/>":">"+a+"</"+t+">")},"")},wS=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[Ip[i]||i]=t[i],r},n)},bT=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[nT[i]||i]=t[i],r},n)},wT=function(t,n,r){var i,s=(i={key:n},i[ms]=!0,i),o=wS(r,s);return[rn.createElement(_t.TITLE,o,n)]},_T=function(t,n){return n.map(function(r,i){var s,o=(s={key:i},s[ms]=!0,s);return Object.keys(r).forEach(function(a){var u=Ip[a]||a;if(u===Sn.INNER_HTML||u===Sn.CSS_TEXT){var c=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:c}}else o[u]=r[a]}),rn.createElement(t,o)})},io=function(t,n,r){switch(t){case _t.TITLE:return{toComponent:function(){return wT(t,n.title,n.titleAttributes)},toString:function(){return vT(t,n.title,n.titleAttributes,r)}};case ml.BODY:case ml.HTML:return{toComponent:function(){return wS(n)},toString:function(){return bS(n)}};default:return{toComponent:function(){return _T(t,n)},toString:function(){return xT(t,n,r)}}}},_S=function(t){var n=t.baseTag,r=t.bodyAttributes,i=t.encode,s=t.htmlAttributes,o=t.linkTags,a=t.metaTags,u=t.noscriptTags,c=t.scriptTags,h=t.styleTags,p=t.title,g=p===void 0?"":p,x=t.titleAttributes;return{base:io(_t.BASE,n,i),bodyAttributes:io(ml.BODY,r,i),htmlAttributes:io(ml.HTML,s,i),link:io(_t.LINK,o,i),meta:io(_t.META,a,i),noscript:io(_t.NOSCRIPT,u,i),script:io(_t.SCRIPT,c,i),style:io(_t.STYLE,h,i),title:io(_t.TITLE,{title:g,titleAttributes:x},i)}},ST=function(t){var n,r;return r=n=function(i){aT(s,i);function s(){return sT(this,s),lT(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(a){return!JE(this.props,a)},s.prototype.mapNestedChildrenToProps=function(a,u){if(!u)return null;switch(a.type){case _t.SCRIPT:case _t.NOSCRIPT:return{innerHTML:u};case _t.STYLE:return{cssText:u}}throw new Error("<"+a.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(a){var u,c=a.child,h=a.arrayTypeChildren,p=a.newChildProps,g=a.nestedChildren;return ri({},h,(u={},u[c.type]=[].concat(h[c.type]||[],[ri({},p,this.mapNestedChildrenToProps(c,g))]),u))},s.prototype.mapObjectTypeChildren=function(a){var u,c,h=a.child,p=a.newProps,g=a.newChildProps,x=a.nestedChildren;switch(h.type){case _t.TITLE:return ri({},p,(u={},u[h.type]=x,u.titleAttributes=ri({},g),u));case _t.BODY:return ri({},p,{bodyAttributes:ri({},g)});case _t.HTML:return ri({},p,{htmlAttributes:ri({},g)})}return ri({},p,(c={},c[h.type]=ri({},g),c))},s.prototype.mapArrayTypeChildrenToProps=function(a,u){var c=ri({},u);return Object.keys(a).forEach(function(h){var p;c=ri({},c,(p={},p[h]=a[h],p))}),c},s.prototype.warnOnInvalidChildren=function(a,u){return!0},s.prototype.mapChildrenToProps=function(a,u){var c=this,h={};return rn.Children.forEach(a,function(p){if(!(!p||!p.props)){var g=p.props,x=g.children,w=Pw(g,["children"]),S=bT(w);switch(c.warnOnInvalidChildren(p,x),p.type){case _t.LINK:case _t.META:case _t.NOSCRIPT:case _t.SCRIPT:case _t.STYLE:h=c.flattenArrayTypeChildren({child:p,arrayTypeChildren:h,newChildProps:S,nestedChildren:x});break;default:u=c.mapObjectTypeChildren({child:p,newProps:u,newChildProps:S,nestedChildren:x});break}}}),u=this.mapArrayTypeChildrenToProps(h,u),u},s.prototype.render=function(){var a=this.props,u=a.children,c=Pw(a,["children"]),h=ri({},c);return u&&(h=this.mapChildrenToProps(u,h)),rn.createElement(t,h)},oT(s,null,[{key:"canUseDOM",set:function(a){t.canUseDOM=a}}]),s}(rn.Component),n.propTypes={base:Pt.object,bodyAttributes:Pt.object,children:Pt.oneOfType([Pt.arrayOf(Pt.node),Pt.node]),defaultTitle:Pt.string,defer:Pt.bool,encodeSpecialCharacters:Pt.bool,htmlAttributes:Pt.object,link:Pt.arrayOf(Pt.object),meta:Pt.arrayOf(Pt.object),noscript:Pt.arrayOf(Pt.object),onChangeClientState:Pt.func,script:Pt.arrayOf(Pt.object),style:Pt.arrayOf(Pt.object),title:Pt.string,titleAttributes:Pt.object,titleTemplate:Pt.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var i=t.rewind();return i||(i=_S({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},CT=function(){return null},kT=GE(hT,gT,_S)(CT),gr=ST(kT);gr.renderStatic=gr.rewind;const SS=e=>T.createElement("svg",{width:240,height:240,viewBox:"0 0 240 240",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M35.0767 27.9936C36.2709 9.99373 56.1517 -0.303892 71.5425 9.10587L213.791 96.0756C231.278 106.768 228.18 133.047 208.685 139.378L169.934 151.963L186.77 185.839C193.06 198.497 187.616 213.848 174.755 219.712L148.361 231.747C136.289 237.252 122.02 232.368 115.853 220.621L96.5356 183.827L61.2319 205.402C44.6261 215.55 23.4817 202.753 24.77 183.334L35.0767 27.9936Z",fill:"#047CFE"}),T.createElement("ellipse",{cx:81.7143,cy:99.4285,rx:9.71429,ry:13.7143,fill:"white"}),T.createElement("path",{d:"M144 99.4285C144 107.003 139.651 113.143 134.286 113.143C128.921 113.143 124.571 107.003 124.571 99.4285C124.571 91.8543 128.921 85.7142 134.286 85.7142C139.651 85.7142 144 91.8543 144 99.4285Z",fill:"white"}),T.createElement("path",{d:"M86.7687 125.246C88.6759 123.021 92.0636 122.863 94.1695 124.901L99.9237 130.47C104.528 134.926 111.74 135.226 116.699 131.169L123.261 125.8C125.281 124.147 128.239 124.354 130.009 126.272V126.272C131.991 128.419 131.682 131.81 129.344 133.563L122.999 138.322C122.524 138.678 122.024 138.999 121.502 139.281L118.258 141.039C112.227 144.305 104.944 144.254 98.9601 140.903L95.3516 138.883C94.6427 138.486 93.973 138.022 93.3515 137.499L87.3544 132.449C85.1919 130.628 84.9288 127.393 86.7687 125.246V125.246Z",fill:"white"})),jT=e=>T.createElement("svg",{id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"100%",viewBox:"740 350 700 190",enableBackground:"new 0 0 1506 862",xmlSpace:"preserve",...e},T.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M766.615112,463.466736 C775.870483,435.054810 785.533081,407.176788 793.924072,378.921143 C799.456543,360.291321 821.375366,357.141083 832.881592,364.663513 C838.142395,368.102875 840.908264,372.891174 842.764648,378.570496 C853.528076,411.499817 864.314026,444.421814 875.109436,477.340668 C878.939270,489.019165 882.817444,500.681793 886.885071,512.991760 C873.401611,512.991760 860.604980,513.082825 847.814941,512.834106 C846.683838,512.812195 845.029419,510.751434 844.583618,509.333893 C842.385803,502.345581 840.389465,495.286346 838.588135,488.184601 C837.875916,485.376556 836.496521,484.498810 833.699890,484.534851 C823.536499,484.665802 813.369263,484.669006 803.205994,484.533264 C800.346008,484.495056 799.085388,485.557281 798.384705,488.289246 C796.564392,495.386353 794.554382,502.439484 792.396301,509.441223 C791.983948,510.779236 790.565674,512.800781 789.581299,512.818420 C776.821838,513.046875 764.056885,512.969788 750.549133,512.969788 C756.023682,496.088989 761.252869,479.964600 766.615112,463.466736 M816.931274,421.410614 C814.112549,431.575104 811.293823,441.739594 808.392944,452.200287 C815.599854,452.200287 821.902649,452.200287 828.658752,452.200287 C825.389221,440.483582 822.289490,429.375366 818.869080,417.118134 C817.911804,419.080017 817.519409,419.884216 816.931274,421.410614 z"}),T.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M897.499634,440.999878 C897.503479,420.519745 897.488831,400.539612 897.519775,380.559540 C897.531799,372.795044 900.376282,366.496521 907.660461,363.030640 C915.127136,359.477966 922.528442,359.846069 929.464539,364.563080 C935.259399,368.503876 937.055176,374.335907 937.048035,381.039062 C937.015198,411.841675 937.034424,442.644379 937.040466,473.447052 C937.041748,480.073792 937.052368,480.081238 943.492004,480.087067 C954.814026,480.097321 966.136658,480.028900 977.457947,480.122711 C987.208801,480.203491 993.256531,486.339630 993.423340,496.088531 C993.591736,505.931396 987.323730,512.874146 977.673828,512.951233 C959.526672,513.096191 941.377319,512.994263 923.229065,512.925903 C921.079651,512.917786 918.917908,512.564026 916.785522,512.222961 C904.801392,510.306244 898.913025,504.603821 898.202148,492.417206 C897.427734,479.139282 897.678284,465.801117 897.506409,452.488892 C897.459106,448.826477 897.499329,445.162903 897.499634,440.999878 z"}),T.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1040.002319,513.009888 C1032.386597,512.472046 1025.194824,512.401672 1018.174561,511.268555 C1010.726318,510.066406 1006.177002,504.925751 1004.404785,497.720428 C1003.459595,493.877228 1002.968811,489.824890 1002.956421,485.864838 C1002.846130,450.709564 1002.826050,415.553650 1002.916931,380.398285 C1002.954224,365.950378 1016.559753,356.896027 1030.130249,362.060669 C1038.365479,365.194824 1042.187012,370.979767 1042.201660,380.770782 C1042.247070,411.094543 1042.204346,441.418396 1042.235718,471.742188 C1042.245239,480.981537 1041.247803,480.051331 1050.482178,480.082153 C1061.312012,480.118286 1072.142578,480.025299 1082.971680,480.121033 C1092.570557,480.205902 1098.845581,486.620514 1098.907471,496.184052 C1098.970459,505.922485 1092.541992,512.866394 1082.988037,512.962402 C1068.827148,513.104797 1054.663940,513.006042 1040.002319,513.009888 z"}),T.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1105.599854,424.091034 C1105.678223,419.273590 1105.675537,414.939514 1105.848022,410.612366 C1106.679688,389.750092 1118.775146,372.818024 1138.406616,365.732941 C1156.549072,359.185303 1175.012329,358.583527 1193.188843,365.323273 C1198.110229,367.148071 1202.772949,370.721100 1206.466431,374.543121 C1211.164673,379.404846 1211.106934,386.678192 1207.716797,392.221375 C1204.392090,397.657684 1197.251099,400.903137 1190.883667,399.580627 C1188.301636,399.044403 1185.815430,397.977692 1183.339355,397.013916 C1175.530396,393.974335 1167.541260,392.816956 1159.379639,395.154175 C1150.777954,397.617371 1145.223511,403.980804 1145.017212,412.911163 C1144.628296,429.729340 1144.585449,446.570526 1145.007446,463.386902 C1145.269531,473.829987 1153.125732,481.281250 1163.625244,482.137146 C1171.722046,482.797241 1179.477173,481.553802 1186.986572,478.140991 C1190.366577,476.604889 1194.360962,475.323792 1197.962524,475.572998 C1209.802612,476.392456 1216.308594,490.454346 1208.927490,499.752319 C1205.559448,503.994965 1200.648315,507.757538 1195.646484,509.828613 C1174.556763,518.560974 1153.221802,518.122009 1132.727783,508.061493 C1115.403931,499.557190 1106.508057,484.852997 1105.894775,465.561035 C1105.460938,451.910522 1105.674927,438.239471 1105.599854,424.091034 z"}),T.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1320.434326,500.172791 C1317.639038,509.503052 1313.229980,512.955139 1304.061890,512.987305 C1286.908081,513.047424 1269.753784,513.003906 1252.599731,512.992737 C1251.268433,512.991882 1249.933105,512.956604 1248.606323,512.853210 C1231.926514,511.553131 1225.143188,504.528259 1225.061279,487.516205 C1224.887939,451.543427 1224.944946,415.569183 1225.023804,379.595795 C1225.048584,368.329468 1233.036743,360.816620 1244.539917,360.809937 C1256.112671,360.803192 1264.062378,368.157135 1264.114258,379.536163 C1264.256104,410.679382 1264.172607,441.823578 1264.180786,472.967407 C1264.182617,480.081787 1264.187012,480.085663 1271.141602,480.088776 C1281.967041,480.093628 1292.792480,480.061768 1303.617798,480.102203 C1315.913452,480.148132 1322.019409,487.278107 1320.434326,500.172791 z"}),T.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1378.000000,513.014893 C1368.192139,512.765503 1358.816406,513.130859 1349.593384,512.112854 C1337.746338,510.805237 1332.660767,505.204010 1330.947388,493.507568 C1330.538574,490.717987 1330.280029,487.878601 1330.276367,485.061737 C1330.230103,450.432434 1330.286133,415.802979 1330.212158,381.173767 C1330.194580,372.958893 1332.967651,366.428131 1340.685059,362.882050 C1348.394409,359.339600 1355.924683,359.980255 1362.863892,365.047699 C1368.391602,369.084473 1369.760742,374.936981 1369.757690,381.368835 C1369.743286,412.002502 1369.751465,442.636139 1369.756226,473.269806 C1369.757324,480.076080 1369.766113,480.079834 1376.503418,480.083557 C1387.658081,480.089752 1398.813110,480.033844 1409.967285,480.110382 C1420.152832,480.180267 1426.172729,486.207733 1426.218872,496.197205 C1426.266479,506.515289 1420.200684,512.875610 1409.966064,512.983093 C1399.478394,513.093262 1388.988770,513.012207 1378.000000,513.014893 z"})),ET=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M4 11.5L3.515 11.621C3.08232 11.7292 2.69821 11.9788 2.4237 12.3303C2.1492 12.6818 2.00007 13.115 2 13.561V15.438C2.00007 15.884 2.1492 16.3172 2.4237 16.6687C2.69821 17.0202 3.08232 17.2698 3.515 17.378L5.255 17.813C5.34342 17.835 5.43569 17.8366 5.52481 17.8177C5.61393 17.7987 5.69757 17.7597 5.76937 17.7036C5.84118 17.6475 5.89926 17.5758 5.93922 17.4939C5.97918 17.412 5.99997 17.3221 6 17.231V11.768C6.00001 11.6768 5.97921 11.5868 5.93919 11.5048C5.89918 11.4228 5.84099 11.351 5.76907 11.2949C5.69714 11.2388 5.61337 11.1998 5.52412 11.1809C5.43486 11.1621 5.34248 11.1638 5.254 11.186L4 11.5ZM4 11.5V11C4 8.87827 4.84285 6.84344 6.34315 5.34315C7.84344 3.84285 9.87827 3 12 3C14.1217 3 16.1566 3.84285 17.6569 5.34315C19.1571 6.84344 20 8.87827 20 11V11.5M20 11.5L20.485 11.621C20.9177 11.7292 21.3018 11.9788 21.5763 12.3303C21.8508 12.6818 21.9999 13.115 22 13.561V15.438C21.9999 15.884 21.8508 16.3172 21.5763 16.6687C21.3018 17.0202 20.9177 17.2698 20.485 17.378L20 17.5M20 11.5L18.745 11.186C18.6566 11.164 18.5643 11.1624 18.4752 11.1813C18.3861 11.2003 18.3024 11.2393 18.2306 11.2954C18.1588 11.3515 18.1007 11.4232 18.0608 11.5051C18.0208 11.587 18 11.6769 18 11.768V17.231C18 17.3221 18.0208 17.412 18.0608 17.4939C18.1007 17.5758 18.1588 17.6475 18.2306 17.7036C18.3024 17.7597 18.3861 17.7987 18.4752 17.8177C18.5643 17.8366 18.6566 17.835 18.745 17.813L20 17.5M20 17.5V18.5C20 19.0304 19.7893 19.5391 19.4142 19.9142C19.0391 20.2893 18.5304 20.5 18 20.5H15M15 20.5C15 20.1022 14.842 19.7206 14.5607 19.4393C14.2794 19.158 13.8978 19 13.5 19H10.5C10.1022 19 9.72064 19.158 9.43934 19.4393C9.15804 19.7206 9 20.1022 9 20.5C9 20.8978 9.15804 21.2794 9.43934 21.5607C9.72064 21.842 10.1022 22 10.5 22H13.5C13.8978 22 14.2794 21.842 14.5607 21.5607C14.842 21.2794 15 20.8978 15 20.5Z",stroke:"#6B7280",strokeWidth:1.5})),TT=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M12 3C9.61306 3 7.32388 3.94821 5.63605 5.63604C3.94822 7.32387 3.00001 9.61305 3.00001 12C3.00001 14.397 3.93501 16.573 5.46301 18.186L5.96701 18.718L4.70001 21H12C13.1819 21 14.3522 20.7672 15.4442 20.3149C16.5361 19.8626 17.5282 19.1997 18.364 18.364C19.1997 17.5282 19.8626 16.5361 20.3149 15.4442C20.7672 14.3522 21 13.1819 21 12C21 10.8181 20.7672 9.64778 20.3149 8.55585C19.8626 7.46392 19.1997 6.47177 18.364 5.63604C17.5282 4.80031 16.5361 4.13738 15.4442 3.68508C14.3522 3.23279 13.1819 3 12 3ZM1.00001 12C1.00001 5.925 5.92501 1 12 1C18.075 1 23 5.925 23 12C23 18.075 18.075 23 12 23H1.30001L3.52001 19.006C1.88821 17.0363 0.996743 14.5578 1.00001 12ZM12 7.5C11.5864 7.4999 11.1829 7.62803 10.8452 7.86676C10.5074 8.10549 10.2519 8.44307 10.114 8.833L9.78001 9.776L7.89501 9.11L8.22801 8.167C8.43446 7.58155 8.77432 7.05216 9.22069 6.62073C9.66706 6.1893 10.2077 5.86765 10.7998 5.68124C11.392 5.49483 12.0194 5.44876 12.6324 5.54668C13.2454 5.64461 13.8272 5.88383 14.3318 6.24544C14.8364 6.60704 15.25 7.08111 15.5397 7.63013C15.8295 8.17915 15.9875 8.78806 16.0013 9.4087C16.0151 10.0293 15.8843 10.6447 15.6192 11.206C15.3541 11.7674 14.962 12.2593 14.474 12.643C14.043 12.983 13.657 13.309 13.378 13.652C13.104 13.99 13 14.262 13 14.5V15.75H11V14.5C11 13.633 11.39 12.927 11.826 12.39C12.258 11.86 12.8 11.416 13.236 11.072C13.5628 10.8149 13.8014 10.4624 13.9185 10.0634C14.0357 9.66449 14.0256 9.23894 13.8896 8.846C13.7536 8.45305 13.4986 8.11226 13.1599 7.87102C12.8212 7.62978 12.4158 7.50009 12 7.5ZM11 16.75H13.004V18.754H11V16.75Z",fill:"#6B7280"})),CS=[{title:"",path:"/timetable",end:!1},{title:"",path:"/wishes",end:!0},{title:"",path:"/simulation",end:!1},{title:"",path:"/live",end:!1}],PT=[{icon:f.jsx(ET,{className:"w-4 h-4"}),title:"  ",path:"https://forms.gle/bCDTVujEHunnvHe88"},{icon:f.jsx(TT,{className:"w-4 h-4"}),title:" ",path:"https://open.kakao.com/o/g3MztXfh"}];function bv(){return f.jsx("header",{className:"bg-white shadow-sm z-50 sticky top-0",children:f.jsxs("div",{className:"container flex items-center justify-between mx-auto max-w-7xl px-4 md:px-16",children:[f.jsxs("div",{className:"flex items-center space-x-4 py-4",children:[f.jsxs(Or,{to:"/",className:"flex items-center gap-1 space-x-2","aria-label":" ",children:[f.jsx("h1",{className:"hidden",children:"ALLCLL"}),f.jsx(SS,{className:"w-6 h-6 m-0"}),f.jsx(jT,{className:"h-5 hidden sm:inline-block"})]}),f.jsx("ul",{className:"flex space-x-4 text-sm sm:text-base",children:CS.map(({title:e,path:t,end:n})=>f.jsx("li",{className:"font-bold",children:f.jsx(El,{to:t,end:n,className:({isActive:r})=>r?"text-blue-500 font-semibold":"text-gray-500",children:e})},t))})]}),f.jsx("div",{className:"items-center space-x-2 hidden sm:flex",children:PT.map(({icon:e,title:t,path:n})=>f.jsx("a",{className:"p-2 rounded-md hover:bg-gray-100",target:"_blank",href:n,"aria-label":t,title:t,children:e},n))})]})})}const Rw=e=>{let t;const n=new Set,r=(c,h)=>{const p=typeof c=="function"?c(t):c;if(!Object.is(p,t)){const g=t;t=h??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(x=>x(t,g))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c))},u=t=e(r,i,a);return a},NT=e=>e?Rw(e):Rw,OT=e=>e;function RT(e,t=OT){const n=rn.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return rn.useDebugValue(n),n}const Mw=e=>{const t=NT(e),n=r=>RT(t,r);return Object.assign(n,t),n},Mr=e=>e?Mw(e):Mw,Dp=Mr(e=>({banner:null,onClose:void 0,setBanner:(t,n)=>e({banner:t,onClose:n}),closeBanner:()=>e({banner:null})}));function gl({variant:e,children:t}){const n=MT(e);return f.jsx("div",{className:`${n} px-2 py-1 text-xs rounded-full inline-flex`,children:t})}function MT(e){switch(e){case"success":return"bg-green-100 text-green-700 ";case"warning":return"bg-yellow-100 text-yellow-700 ";case"danger":return"bg-secondary-100 text-secondary-700 ";case"default":return"bg-gray-100 text-gray-700 ";default:return""}}const AT=e=>T.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M10 7V11M10 14V14.01M1 10C1 11.1819 1.23279 12.3522 1.68508 13.4442C2.13738 14.5361 2.80031 15.5282 3.63604 16.364C4.47177 17.1997 5.46392 17.8626 6.55585 18.3149C7.64778 18.7672 8.8181 19 10 19C11.1819 19 12.3522 18.7672 13.4442 18.3149C14.5361 17.8626 15.5282 17.1997 16.364 16.364C17.1997 15.5282 17.8626 14.5361 18.3149 13.4442C18.7672 12.3522 19 11.1819 19 10C19 8.8181 18.7672 7.64778 18.3149 6.55585C17.8626 5.46392 17.1997 4.47177 16.364 3.63604C15.5282 2.80031 14.5361 2.13738 13.4442 1.68508C12.3522 1.23279 11.1819 1 10 1C8.8181 1 7.64778 1.23279 6.55585 1.68508C5.46392 2.13738 4.47177 2.80031 3.63604 3.63604C2.80031 4.47177 2.13738 5.46392 1.68508 6.55585C1.23279 7.64778 1 8.8181 1 10Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),Fp=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function rr({icon:e,variant:t="plain",label:n,className:r="",...i}){const a=`flex flex-row items-center justify-center gap-1 cursor-pointer rounded-md  ${LT(t)} ${r}`;return f.jsx("button",{type:"button","aria-label":n,className:a,...i,children:e&&f.jsx("span",{children:e})})}function LT(e){switch(e){case"contain":return"px-2 py-2 border border-gray-400 hover:bg-gray-100";case"plain":return"bg-transparent text-gray-700";default:return""}}function IT({children:e}){return f.jsx("div",{className:"mr-3 flex-shrink-0 flex items-center justify-center",children:e})}function DT({children:e}){return f.jsx("div",{className:"flex-1",children:e})}function FT({children:e}){return f.jsx("div",{className:"ml-3 flex-shrink-0 flex items-center justify-center",children:e})}function BT({tag:e="div",withPadding:t,left:n,center:r,right:i,className:s,...o}){const a=e,u=r?"justify-start":"justify-between";return f.jsxs(a,{className:`flex items-center w-full ${u} ${t?"px-4 py-3":""} ${s??""}`,...o,children:[n,r,i]})}function kS({left:e,center:t,right:n,className:r,withPadding:i}){return f.jsx(BT,{className:r,withPadding:i,left:f.jsx(IT,{children:e}),center:t?f.jsx(DT,{children:t}):null,right:f.jsx(FT,{children:n})})}function zT({variant:e="info",children:t,deleteBanner:n}){const r=$T(e);return f.jsx(kS,{withPadding:!0,className:`${r} items-center`,left:f.jsx(AT,{className:"text-gray-500 w-4 h-4"}),center:f.jsx("span",{className:"text-xs",children:t}),right:f.jsx(rr,{label:" ",variant:"plain",icon:f.jsx(Fp,{className:"text-gray-500 w-5 h-5"}),onClick:n,className:"rounded-full"})})}function $T(e){switch(e){case"warning":return"bg-secondary-100";case"info":return"bg-blue-100";default:return"bg-gray-100"}}function Aw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function UT(...e){return t=>{let n=!1;const r=e.map(i=>{const s=Aw(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():Aw(e[i],null)}}}}var HT=Symbol.for("react.lazy"),Bp=Sk[" use ".trim().toString()];function VT(e){return typeof e=="object"&&e!==null&&"then"in e}function jS(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===HT&&"_payload"in e&&VT(e._payload)}function QT(e){const t=qT(e),n=T.forwardRef((r,i)=>{let{children:s,...o}=r;jS(s)&&typeof Bp=="function"&&(s=Bp(s._payload));const a=T.Children.toArray(s),u=a.find(GT);if(u){const c=u.props.children,h=a.map(p=>p===u?T.Children.count(c)>1?T.Children.only(null):T.isValidElement(c)?c.props.children:null:p);return f.jsx(t,{...o,ref:i,children:T.isValidElement(c)?T.cloneElement(c,void 0,h):null})}return f.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}var WT=QT("Slot");function qT(e){const t=T.forwardRef((n,r)=>{let{children:i,...s}=n;if(jS(i)&&typeof Bp=="function"&&(i=Bp(i._payload)),T.isValidElement(i)){const o=XT(i),a=YT(s,i.props);return i.type!==T.Fragment&&(a.ref=r?UT(r,o):o),T.cloneElement(i,a)}return T.Children.count(i)>1?T.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var KT=Symbol("radix.slottable");function GT(e){return T.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===KT}function YT(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const u=s(...a);return i(...a),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function XT(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const zp={pressable:"transition-colors duration-300 ease-out active:scale-[0.97]",hoverable:"transition-colors duration-200 ease-out"};function jt({variant:e,size:t,children:n,disabled:r,textColor:i,asChild:s,...o}){const a=s?WT:"button",u=e==="circle"?"":`flex flex-row gap-1 items-center justify-center cursor-pointer disabled:cursor-not-allowed ${zp.hoverable} ${zp.pressable}`,c=i?Lw(e,i):Lw(e,"primary"),h=e==="circle"?"":ZT(t),p=`${u} ${c} ${h}`.trim();return f.jsx(a,{className:p,disabled:r,...o,children:n})}function JT(e){switch(e){case"primary":return"bg-transparent text-primary-500 hover:text-primary-600";case"secondary":return"bg-transparent text-secondary-500 hover:text-secondary-600";case"gray":return"bg-transparent text-gray-700 hover:text-gray-800";default:return""}}function Lw(e,t){switch(e){case"primary":return"bg-primary-500 text-white hover:bg-primary-600 rounded-md px-4 py-2 disabled:bg-gray-100 disabled:text-gray-300";case"secondary":return"bg-gray-100  hover:bg-gray-300 rounded-md px-4 py-2 disabled:text-white";case"outlined":return"bg-transparent border border-gray-700 hover:bg-gray-100 rounded-md px-4 py-2 disabled:border-gray-200  disabled:text-gray-400";case"danger":return"bg-secondary-500 text-white hover:bg-secondary-600 rounded-md px-4 py-2 disabled:bg-gray-100";case"ghost":return"bg-gray-50 border border-gray-200 text-gray-700 hover:bg-gray-200 rounded-full px-4 py-2";case"circle":return"px-2 py-2 bg-primary-500 text-white hover:bg-primary-600 rounded-full shadow-md ";case"text":return`${JT(t)} px-0 py-2  disabled:text-gray-400`;default:return""}}function ZT(e){switch(e){case"small":return"text-sm px-2";case"medium":return"text-sm";case"large":return"text-md";default:return""}}function eP({children:e}){return f.jsx("div",{className:"flex flex-col space-y-3 text-gray-600 text-sm",children:e})}function tP({children:e}){return f.jsx("div",{className:"flex flex-col items-start justify-between mb-3",children:e})}function nP({children:e,size:t,variant:n,className:r}){const i=rP(t||"medium"),s=iP(n);return f.jsx("div",{className:`card rounded-lg ${i} ${s} ${r||""}`,children:e})}const Tn=Object.assign(nP,{Header:tP,Content:eP});function rP(e){switch(e){case"small":return"px-4 py-4 text-sm";case"medium":return"p-4 text-base";case"large":return"px-10 py-4 text-lg";default:return""}}function iP(e="elevated"){switch(e){case"elevated":return"bg-white shadow-md";case"outlined":return"bg-white border border-gray-200";case"filled":return"bg-gray-50 shadow-sm rounded-lg p-4 border border-gray-200 hover:shadow-md";default:return""}}const sP=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M5 12L10 17L20 7",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function mm({label:e,...t}){const n=T.useId(),r=e?`checkbox-${e}`:`checkbox-${n}`,i=`w-5 h-5 rounded-sm border flex-shrink-0 appearance-none flex items-center justify-center
    ${oP(!!t.checked)}`,s=o=>{o.key==="Enter"&&(o.preventDefault(),o.currentTarget.click()),t.onKeyDown?.(o)};return f.jsxs("label",{htmlFor:r,className:"flex flex-row items-center gap-3 text-sm md:text-base cursor-pointer select-none",children:[f.jsxs("div",{className:"relative w-5 h-5",children:[f.jsx("input",{id:r,type:"checkbox","aria-checked":t.checked,"aria-label":e?void 0:"toggle checkbox",className:i,onKeyDown:s,...t}),t.checked&&f.jsx(sP,{className:"text-blue-500 w-4 h-4 absolute inset-0 m-auto pointer-events-none"})]}),e&&f.jsx("span",{className:`${t.checked?"text-blue-500":"text-gray-600"}`,children:e})]})}mm.layout="flex";function oP(e){return e?`
      bg-blue-50
      border-blue-500
    `:`
      bg-white
      border-gray-400
      hover:bg-gray-50
    `}const Iw=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),aP=({className:e,selected:t=!1})=>{const n=t?e+" text-blue-500":e+" text-gray-400";return t?f.jsx(Iw,{className:n}):f.jsx(Iw,{className:n})},lP=({className:e,selected:t=!1})=>{const n=t?e+" text-blue-500":e+" text-gray-400";return t?f.jsx(Fp,{className:n}):f.jsx(Fp,{className:n})};function Pn({label:e="Chip",selected:t,variant:n="none",containerRef:r,onClick:i,isChipOpen:s,...o}){return f.jsxs("button",{type:"button",ref:r,className:`flex flex-row justify-center items-center cursor-pointer gap-4 transition-colors duration-300 ease-out active:scale-[0.97] ${cP(n)} ${uP(t,n)}`,"aria-pressed":t,onClick:i,...o,children:[f.jsx("span",{className:"text-xs sm:text-sm",children:e}),n==="select"&&f.jsx(aP,{"aria-hidden":"true",selected:t,className:`w-5 h-5 pointer-events-none transition-transform text-blue-500 duration-200 ${s?"rotate-180":"rotate-0"}`}),n==="cancel"&&f.jsx(lP,{"aria-hidden":"true",selected:t,className:"pointer-events-none w-4 h-4"})]})}Pn.layout="grid";function uP(e,t){return e?`
      bg-primary-100
      text-primary-500
      hover:bg-primary-200
      focus:outline-primary-500
    `:t==="none"?`
      bg-transparent
      text-gray-700
      border border-gray-200
      hover:bg-gray-100
      focus:outline-gray-400
    `:`
    bg-gray-100
    text-gray-700
    hover:bg-gray-200
    focus:outline-gray-400
  `}function cP(e){return e==="cancel"?"rounded-full text-xs py-1.5 px-4":"rounded-lg text-sm py-2 px-4"}function dP({children:e}){return f.jsx("h2",{id:"dialog-title",className:"font-semibold",children:e})}function ES({children:e,onClose:t}){return f.jsxs("div",{className:"w-full px-4 sm:px-6 py-4 sm:py-4 border-b border-gray-100 flex flex-row justify-between",children:[e,f.jsx("button",{type:"button","aria-label":"",className:"w-6 h-6 cursor-pointer flex items-center justify-center bg-gray-100 rounded-full",onClick:t,children:f.jsx(Fp,{className:"text-gray-600 w-3 h-3"})})]})}function TS({children:e,onClose:t}){const n=T.useRef(null),r=i=>{i.stopPropagation(),t()};return f.jsx("div",{className:"fixed inset-0 flex items-center bg-transparent justify-center z-50",role:"none",ref:n,onClick:r,children:e})}function PS({children:e,width:t,height:n}){const r=hP(t,n);return f.jsx("div",{className:`flex flex-col justify-center item bg-white min-w-80 max-w-[90%] rounded-lg sm:${r}`,onClick:i=>i.stopPropagation(),children:e})}function hP(e,t){const n=e?`w-${e}`:"max-w-[90%]",r=t?`h-${t}`:"auto";return`${n} ${r}`}function fP({children:e}){return f.jsx("div",{className:"flex flex-col px-6 sm:py-4 py-4 gap-2 max-h-150 overflow-y-auto",children:e})}function pP({children:e}){return f.jsx("div",{className:"py-3 px-8 border-t border-gray-100 flex justify-end gap-2",children:e})}function mP({children:e,isOpen:t=!0,title:n,onClose:r}){const i=T.useRef(null),s=T.useId();return T.useEffect(()=>{const o=i.current;o&&(t?o.showModal():o.close())},[t]),T.useEffect(()=>{const o=a=>{a.key==="Escape"&&r()};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[r]),pm.createPortal(f.jsx("dialog",{ref:i,role:"dialog","aria-labelledby":s,onCancel:o=>{o.preventDefault(),r()},children:f.jsx(TS,{onClose:r,children:f.jsxs(PS,{children:[f.jsx(ES,{onClose:r,children:f.jsx(Nn.Title,{id:s,children:n})}),e]})})}),document.body)}const Nn=Object.assign(mP,{Title:dP,Header:ES,Overlay:TS,Content:fP,Contents:PS,Footer:pP});function ry({className:e="",leftIcon:t,rightIcon:n,...r}){const i=T.useRef(null),s=t?"pl-10":"pl-3",o=n?"pr-10":"pr-3";return f.jsxs("div",{className:"relative flex items-center w-full",children:[t&&f.jsx("div",{children:t}),f.jsx("input",{ref:i,type:"text",className:`py-2 border rounded-md border-gray-400 py-2 px-3 focus:outline-none focus:ring-0 focus:border-primary-500 ${s} ${o} ${e}`,...r}),n&&f.jsx("div",{children:n})]})}const fr=({id:e,required:t,children:n,className:r="",...i})=>{const s=`text-sm sm:text-base text-text-200 after:ml-0.5 ${t?'after:content-["*"] after:text-red-500':""}`;return f.jsx("label",{htmlFor:e,className:`${s} ${r}`,...i,children:n})};function gP({label:e,selected:t}){const{isOpen:n,triggerRef:r,open:i,close:s}=OS(),o=()=>{n?s():i()};return f.jsx(Pn,{type:"button",label:e,isChipOpen:n,variant:"select",selected:t??!1,onClick:o,containerRef:r})}const yP=({elem:e,tabRefs:t,isOpen:n,open:r,close:i})=>{T.useEffect(()=>{const s=o=>{(Array.isArray(t)?t:[t]).some(c=>c.current&&c.current.contains(o.target))?r():e.current&&!e.current.contains(o.target)&&i()};return n?window.addEventListener("click",s):window.removeEventListener("click",s),()=>{window.removeEventListener("click",s)}},[n,e,t])};function vP({children:e}){const{isOpen:t,close:n,open:r,triggerRef:i}=OS(),s=T.useRef(null);if(yP({elem:s,tabRefs:i,isOpen:t,open:r,close:n}),!t||!i.current)return null;const o=i.current.getBoundingClientRect();return pm.createPortal(f.jsx("div",{ref:s,className:`
        fixed rounded-md bg-white shadow-lg border border-gray-200 px-4 py-4
        transition-all duration-150 ease-out
        ${t?"opacity-100 translate-y-0 scale-100 pointer-events-auto":"opacity-0 -translate-y-1 scale-95 pointer-events-none"}
      `,style:{zIndex:120,top:o.bottom+8,left:o.left},onMouseDown:a=>a.stopPropagation(),onClick:a=>a.stopPropagation(),children:e}),document.body)}const NS=T.createContext(null);function xP({children:e}){const[t,n]=T.useState(null);return f.jsx(NS.Provider,{value:{openId:t,setOpenId:n},children:e})}function bP(){const e=T.useContext(NS);if(!e)throw new Error("PopoverGroup  PopoverGroupContext.Provider   .");return e}const OS=()=>{const e=T.useContext(RS);if(!e)throw new Error("Popover Component PopoverContext.Provider   .");return e},RS=T.createContext(null),wP=({children:e})=>{const t=T.useId(),{openId:n,setOpenId:r}=bP(),i=T.useRef(null),s=n===t,o=()=>r(t),a=()=>r(null),u=()=>r(s?null:t);return f.jsx(RS.Provider,{value:{id:t,isOpen:n===t,open:o,close:a,toggle:u,triggerRef:i},children:e})},qu=Object.assign(wP,{Trigger:gP,Content:vP});function Oe({as:e,direction:t="flex-row",justify:n="justify-start",align:r="items-stretch",gap:i="gap-2",className:s,children:o,...a}){const u=e||"div",c=`flex ${t} ${n} ${r} ${i}`+(s?` ${s}`:"");return f.jsx(u,{className:c,...a,children:o})}function MS({label:e,isError:t,errorMessage:n,required:r,id:i,size:s="medium",className:o="",...a}){return f.jsxs(Oe,{direction:"flex-col",gap:"gap-2",className:o,children:[e&&f.jsx(fr,{required:r,id:i,children:e}),f.jsx("input",{id:i,type:"text","aria-invalid":t,required:r,...a,className:`rounded-md w-full bg-white border border-gray-300 py-2 px-3 focus:outline-none focus:ring-0 focus:border-primary-500 ${_P(s)}`}),t&&f.jsx("span",{className:"text-secondary-500 text-xs",children:n})]})}function _P(e){switch(e){case"small":return"text-sm py-1";case"medium":return"text-base py-1";case"large":return"text-lg py-1";default:return""}}const SP=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M12 16V16.01M12 13C12.4498 13.0014 12.8868 12.8511 13.2407 12.5734C13.5945 12.2958 13.8444 11.907 13.95 11.4698C14.0557 11.0327 14.0109 10.5726 13.8229 10.1641C13.6349 9.75549 13.3147 9.42219 12.914 9.21801C12.5162 9.01422 12.0611 8.95103 11.6228 9.03873C11.1845 9.12642 10.7888 9.35984 10.5 9.70101M3 12C3 13.1819 3.23279 14.3522 3.68508 15.4442C4.13738 16.5361 4.80031 17.5282 5.63604 18.364C6.47177 19.1997 7.46392 19.8626 8.55585 20.3149C9.64778 20.7672 10.8181 21 12 21C13.1819 21 14.3522 20.7672 15.4442 20.3149C16.5361 19.8626 17.5282 19.1997 18.364 18.364C19.1997 17.5282 19.8626 16.5361 20.3149 15.4442C20.7672 14.3522 21 13.1819 21 12C21 9.61305 20.0518 7.32387 18.364 5.63604C16.6761 3.94821 14.3869 3 12 3C9.61305 3 7.32387 3.94821 5.63604 5.63604C3.94821 7.32387 3 9.61305 3 12Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function CP({children:e}){return f.jsx("div",{className:"relative inline-block",children:f.jsxs("div",{className:"group inline-block",children:[f.jsx(rr,{label:"Tooltip",variant:"plain",icon:f.jsx(SP,{className:"w-6 h-6 text-gray-400 background-gray-200"})}),f.jsx("span",{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-gray-900 text-white p-3 rounded w-64 text-center pointer-events-none",children:e})]})})}function Lt({level:e=1,size:t,as:n,className:r,children:i,...s}){const o=n??`h${e}`,a=t??kP(e);return f.jsx(o,{className:`${r??""} ${jP(a)} text-text-200`,...s,children:i})}function kP(e){return{1:"xxl",2:"xl",3:"lg",4:"md",5:"sm"}[e]}function jP(e){return{xxl:"text-lg font-semibold md:text-xl",xl:"text-base md:text-lg font-semibold",lg:"text-base font-semibold",md:"text-sm font-semibold",sm:"text-xs font-semibold",xs:"text-[11px] font-semibold"}[e]}function Un({className:e,children:t,...n}){return f.jsx("span",{className:`text-gray-500 text-sm leading-relaxed ${e??""}`,...n,children:t})}function va({columns:e,gap:t="gap-0",className:n,children:r,...i}){const s=["grid",t],o=e.base??2;s.push(`grid-cols-${o}`),e.base&&s.push(`grid-cols-${e.base}`),e.sm&&s.push(`sm:grid-cols-${e.sm}`),e.md&&s.push(`md:grid-cols-${e.md}`),e.lg&&s.push(`lg:grid-cols-${e.lg}`),e.xl&&s.push(`xl:grid-cols-${e.xl}`);const a=s.join(" ")+(n?` ${n}`:"");return f.jsx("div",{className:a,...i,children:r})}function EP({selected:e=!1,onSelect:t,left:n,right:r}){const i=o=>{(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),t?.())},s=`flex px-2 py-2 rounded-sm cursor-pointer text-sm ${zp.pressable} ${zp.hoverable}`;return f.jsx("div",{role:"option","aria-selected":e,tabIndex:0,onClick:t,onKeyDown:i,className:`${s} ${TP(e)}`,children:f.jsx(kS,{left:f.jsx("div",{className:"flex items-center",children:n}),right:e?r:null})})}function TP(e){return e?"bg-blue-50 text-blue-500 font-medium hover:bg-blue-100":"hover:bg-gray-50 text-gray-700"}function AS(){const e=Dp(n=>n.banner),t=Dp(n=>n.closeBanner);return e&&f.jsx(zT,{deleteBanner:t,children:e})}function $p(){return $p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$p.apply(null,arguments)}function wv(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function iy(e,t){return iy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},iy(e,t)}function _v(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,iy(e,t)}function PP(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function NP(e,t){e.classList?e.classList.add(t):PP(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function Dw(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function OP(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=Dw(e.className,t):e.setAttribute("class",Dw(e.className&&e.className.baseVal||"",t))}const Fw={disabled:!1},Up=rn.createContext(null);var LS=function(t){return t.scrollTop},yd="unmounted",rl="exited",il="entering",Fu="entered",sy="exiting",xo=function(e){_v(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,u;return s.appearStatus=null,r.in?a?(u=rl,s.appearStatus=il):u=Fu:r.unmountOnExit||r.mountOnEnter?u=yd:u=rl,s.state={status:u},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===yd?{status:rl}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==il&&o!==Fu&&(s=il):(o===il||o===Fu)&&(s=sy)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===il){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Of.findDOMNode(this);o&&LS(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===rl&&this.setState({status:yd})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,u=this.props.nodeRef?[a]:[Of.findDOMNode(this),a],c=u[0],h=u[1],p=this.getTimeouts(),g=a?p.appear:p.enter;if(!i&&!o||Fw.disabled){this.safeSetState({status:Fu},function(){s.props.onEntered(c)});return}this.props.onEnter(c,h),this.safeSetState({status:il},function(){s.props.onEntering(c,h),s.onTransitionEnd(g,function(){s.safeSetState({status:Fu},function(){s.props.onEntered(c,h)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Of.findDOMNode(this);if(!s||Fw.disabled){this.safeSetState({status:rl},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:sy},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:rl},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Of.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=u[0],h=u[1];this.props.addEndListener(c,h)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===yd)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=wv(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return rn.createElement(Up.Provider,{value:null},typeof o=="function"?o(i,a):rn.cloneElement(rn.Children.only(o),a))},t}(rn.Component);xo.contextType=Up;xo.propTypes={};function yu(){}xo.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:yu,onEntering:yu,onEntered:yu,onExit:yu,onExiting:yu,onExited:yu};xo.UNMOUNTED=yd;xo.EXITED=rl;xo.ENTERING=il;xo.ENTERED=Fu;xo.EXITING=sy;var RP=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return NP(t,r)})},$0=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return OP(t,r)})},sh=function(e){_v(t,e);function t(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(a,u){var c=r.resolveArguments(a,u),h=c[0],p=c[1];r.removeClasses(h,"exit"),r.addClass(h,p?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(a,u)},r.onEntering=function(a,u){var c=r.resolveArguments(a,u),h=c[0],p=c[1],g=p?"appear":"enter";r.addClass(h,g,"active"),r.props.onEntering&&r.props.onEntering(a,u)},r.onEntered=function(a,u){var c=r.resolveArguments(a,u),h=c[0],p=c[1],g=p?"appear":"enter";r.removeClasses(h,g),r.addClass(h,g,"done"),r.props.onEntered&&r.props.onEntered(a,u)},r.onExit=function(a){var u=r.resolveArguments(a),c=u[0];r.removeClasses(c,"appear"),r.removeClasses(c,"enter"),r.addClass(c,"exit","base"),r.props.onExit&&r.props.onExit(a)},r.onExiting=function(a){var u=r.resolveArguments(a),c=u[0];r.addClass(c,"exit","active"),r.props.onExiting&&r.props.onExiting(a)},r.onExited=function(a){var u=r.resolveArguments(a),c=u[0];r.removeClasses(c,"exit"),r.addClass(c,"exit","done"),r.props.onExited&&r.props.onExited(a)},r.resolveArguments=function(a,u){return r.props.nodeRef?[r.props.nodeRef.current,a]:[a,u]},r.getClassNames=function(a){var u=r.props.classNames,c=typeof u=="string",h=c&&u?u+"-":"",p=c?""+h+a:u[a],g=c?p+"-active":u[a+"Active"],x=c?p+"-done":u[a+"Done"];return{baseClassName:p,activeClassName:g,doneClassName:x}},r}var n=t.prototype;return n.addClass=function(i,s,o){var a=this.getClassNames(s)[o+"ClassName"],u=this.getClassNames("enter"),c=u.doneClassName;s==="appear"&&o==="done"&&c&&(a+=" "+c),o==="active"&&i&&LS(i),a&&(this.appliedClasses[s][o]=a,RP(i,a))},n.removeClasses=function(i,s){var o=this.appliedClasses[s],a=o.base,u=o.active,c=o.done;this.appliedClasses[s]={},a&&$0(i,a),u&&$0(i,u),c&&$0(i,c)},n.render=function(){var i=this.props;i.classNames;var s=wv(i,["classNames"]);return rn.createElement(xo,$p({},s,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(rn.Component);sh.defaultProps={classNames:""};sh.propTypes={};function MP(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sv(e,t){var n=function(s){return t&&T.isValidElement(s)?t(s):s},r=Object.create(null);return e&&T.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function AP(e,t){e=e||{},t=t||{};function n(h){return h in t?t[h]:e[h]}var r=Object.create(null),i=[];for(var s in e)s in t?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var u in t){if(r[u])for(o=0;o<r[u].length;o++){var c=r[u][o];a[r[u][o]]=n(c)}a[u]=n(u)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function fl(e,t,n){return n[t]!=null?n[t]:e.props[t]}function LP(e,t){return Sv(e.children,function(n){return T.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:fl(n,"appear",e),enter:fl(n,"enter",e),exit:fl(n,"exit",e)})})}function IP(e,t,n){var r=Sv(e.children),i=AP(t,r);return Object.keys(i).forEach(function(s){var o=i[s];if(T.isValidElement(o)){var a=s in t,u=s in r,c=t[s],h=T.isValidElement(c)&&!c.props.in;u&&(!a||h)?i[s]=T.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:fl(o,"exit",e),enter:fl(o,"enter",e)}):!u&&a&&!h?i[s]=T.cloneElement(o,{in:!1}):u&&a&&T.isValidElement(c)&&(i[s]=T.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:fl(o,"exit",e),enter:fl(o,"enter",e)}))}}),i}var DP=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},FP={component:"div",childFactory:function(t){return t}},gm=function(e){_v(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=s.handleExited.bind(MP(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,u=s.firstRender;return{children:u?LP(i,a):IP(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=Sv(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var u=$p({},a.children);return delete u[i.key],{children:u}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=wv(i,["component","childFactory"]),u=this.state.contextValue,c=DP(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?rn.createElement(Up.Provider,{value:u},c):rn.createElement(Up.Provider,{value:u},rn.createElement(s,a,c))},t}(rn.Component);gm.propTypes={};gm.defaultProps=FP;const IS=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:10,height:10,viewBox:"0. 0. 11 11",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,20)"},T.createElement("path",{d:"M9.71875,18.28125Q10,18.59375,10,19Q10,19.40625,9.71875,19.71875Q9.40625,20,9,20Q8.59375,20,8.28125,19.71875L5,16.40625L1.71875,19.71875Q1.40625,20,1,20Q0.59375,20,0.28125,19.71875Q0,19.40625,0,19Q0,18.59375,0.28125,18.28125L3.59375,15L0.28125,11.71875Q0,11.40625,0,11Q0,10.59375,0.28125,10.28125Q0.59375,10,1,10Q1.40625,10,1.71875,10.28125L5,13.59375L8.28125,10.28125Q8.59375,10,9,10Q9.40625,10,9.71875,10.28125Q10,10.59375,10,11Q10,11.40625,9.71875,11.71875L6.40625,15L9.71875,18.28125Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),Cv=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17,height:17,viewBox:"-0.1 -1.2 11.985078811645508 17",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,27.999998092651367)"},T.createElement("path",{d:"M5.99254,27.999999046325684Q5.61809,27.999999046325684,5.37737,27.753899046325685Q5.13664,27.507799046325683,5.13664,27.124999046325684L5.13664,26.605499046325683Q3.63883,26.277299046325684,2.70269,25.10159904632568Q1.73981,23.925779046325683,1.71306,22.312499046325684L1.71306,21.792969046325684Q1.68632,19.824219046325684,0.429221,18.320309046325683L0.215247,18.074219046325684Q-0.13246,17.664059046325683,0.0815138,17.144529046325683Q0.322234,16.652339046325682,0.857169,16.624999046325684L11.1279,16.624999046325684Q11.6628,16.652339046325682,11.9036,17.144529046325683Q12.1175,17.664059046325683,11.7698,18.074219046325684L11.5826,18.320309046325683Q10.2988,19.796869046325682,10.272,21.792969046325684L10.272,22.312499046325684Q10.2453,23.925779046325683,9.28239,25.10159904632568Q8.34625,26.277299046325684,6.84843,26.605499046325683L6.84843,27.124999046325684Q6.84843,27.507799046325683,6.60771,27.753899046325685Q6.36699,27.999999046325684,5.99254,27.999999046325684ZM7.19614,14.519530046325684Q7.70433,15.039059046325683,7.70433,15.749999046325684L5.99254,15.749999046325684L4.28075,15.749999046325684Q4.28075,15.039059046325683,4.78894,14.519530046325684Q5.29713,13.999999046325684,5.99254,13.999999046325684Q6.68796,13.999999046325684,7.19614,14.519530046325684Z",fill:"currentColor",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),Hp=Mr(e=>({isActivated:!1,messages:[],addToast:(t,n)=>e(r=>({messages:[...r.messages,{message:t,tag:n}]})),clearToast:t=>e(n=>(typeof t=="number"?n.messages=[...n.messages.slice(0,t),...n.messages.slice(t+1)]:n.messages=n.messages.filter(r=>r.tag!==t),{messages:n.messages}))}));function kv(){const e=Hp(n=>n.messages),t=Hp(n=>n.clearToast);return f.jsx("div",{className:"fixed top-2 right-2 z-100 max-w-screen",children:f.jsx(gm,{className:"flex gap-2 flex-col-reverse",children:e.slice(-3).map((n,r)=>f.jsx(sh,{timeout:300,classNames:"toast",children:f.jsx(BP,{toast:n,closeToast:()=>t(r)})},`${r} : ${n}`))})})}function BP({toast:e,closeToast:t}){return f.jsxs("div",{className:"flex justify-between items-center gap-2 p-4 ml-2 bg-white text-black rounded-lg shadow-md",children:[f.jsx(Cv,{className:"w-4 h-4 text-blue-500"}),f.jsx("span",{className:"flex-1 text-sm font-bold truncate max-w-72",children:e.message}),f.jsx("button",{"aria-label":"",onClick:t,className:"p-2 rounded-full hover:bg-blue-100",children:f.jsx(IS,{})})]})}const zP=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("g",{clipPath:"url(#clip0_3195_1180)"},T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3.66667C7.3975 3.66667 3.66667 7.3975 3.66667 12C3.66667 16.6025 7.3975 20.3333 12 20.3333C16.6025 20.3333 20.3333 16.6025 20.3333 12C20.3333 7.3975 16.6025 3.66667 12 3.66667ZM2 12C2 6.47708 6.47708 2 12 2C17.5229 2 22 6.47708 22 12C22 17.5229 17.5229 22 12 22C6.47708 22 2 17.5229 2 12Z",fill:"#9CA3AF"}),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.9929 20.9465C9.91235 20.8424 9.91235 19.9154 9.9929 18.1657C9.12985 18.1957 8.58443 18.1359 8.35665 17.9861C8.0154 17.7615 7.67332 17.0695 7.3704 16.5815C7.06749 16.0936 6.39415 16.0165 6.12249 15.9074C5.85082 15.7986 5.78249 15.354 6.87124 15.6899C7.95999 16.0261 8.0129 16.942 8.35665 17.1557C8.7004 17.3699 9.52165 17.2765 9.89374 17.1049C10.2658 16.9332 10.2383 16.2949 10.305 16.042C10.3887 15.8057 10.0929 15.7532 10.0867 15.7515C9.7229 15.7515 7.81415 15.3361 7.28957 13.4878C6.7654 11.639 7.44082 10.4307 7.80124 9.91155C8.04124 9.56488 8.01999 8.82682 7.73749 7.69738C8.76415 7.56571 9.55624 7.88877 10.1137 8.66655C10.1146 8.67071 10.8454 8.23196 12 8.23196C13.1546 8.23196 13.5646 8.58946 13.8808 8.66655C14.1971 8.74363 14.45 7.30571 16.4029 7.69738C15.995 8.49863 15.6537 9.49988 15.9142 9.91155C16.175 10.3228 17.1975 11.6311 16.5696 13.4878C16.1504 14.7253 15.3269 15.4799 14.0992 15.7515C13.9586 15.7965 13.8883 15.869 13.8883 15.969C13.8883 16.119 14.0783 16.1353 14.3525 16.8382C14.5358 17.3065 14.5492 18.6447 14.3925 20.8528C13.9961 20.9536 13.6878 21.0214 13.4675 21.0561C13.0771 21.1174 12.6529 21.152 12.2362 21.1649C11.8196 21.1782 11.675 21.177 11.0987 21.1232C10.7266 21.0892 10.3571 21.0302 9.9929 20.9465Z",fill:"#9CA3AF"}))),$P=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M7.8 2H16.2C19.4 2 22 4.6 22 7.8V16.2C22 17.7383 21.3889 19.2135 20.3012 20.3012C19.2135 21.3889 17.7383 22 16.2 22H7.8C4.6 22 2 19.4 2 16.2V7.8C2 6.26174 2.61107 4.78649 3.69878 3.69878C4.78649 2.61107 6.26174 2 7.8 2ZM7.6 4C6.64522 4 5.72955 4.37928 5.05442 5.05442C4.37928 5.72955 4 6.64522 4 7.6V16.4C4 18.39 5.61 20 7.6 20H16.4C17.3548 20 18.2705 19.6207 18.9456 18.9456C19.6207 18.2705 20 17.3548 20 16.4V7.6C20 5.61 18.39 4 16.4 4H7.6ZM17.25 5.5C17.5815 5.5 17.8995 5.6317 18.1339 5.86612C18.3683 6.10054 18.5 6.41848 18.5 6.75C18.5 7.08152 18.3683 7.39946 18.1339 7.63388C17.8995 7.8683 17.5815 8 17.25 8C16.9185 8 16.6005 7.8683 16.3661 7.63388C16.1317 7.39946 16 7.08152 16 6.75C16 6.41848 16.1317 6.10054 16.3661 5.86612C16.6005 5.6317 16.9185 5.5 17.25 5.5ZM12 7C13.3261 7 14.5979 7.52678 15.5355 8.46447C16.4732 9.40215 17 10.6739 17 12C17 13.3261 16.4732 14.5979 15.5355 15.5355C14.5979 16.4732 13.3261 17 12 17C10.6739 17 9.40215 16.4732 8.46447 15.5355C7.52678 14.5979 7 13.3261 7 12C7 10.6739 7.52678 9.40215 8.46447 8.46447C9.40215 7.52678 10.6739 7 12 7ZM12 9C11.2044 9 10.4413 9.31607 9.87868 9.87868C9.31607 10.4413 9 11.2044 9 12C9 12.7956 9.31607 13.5587 9.87868 14.1213C10.4413 14.6839 11.2044 15 12 15C12.7956 15 13.5587 14.6839 14.1213 14.1213C14.6839 13.5587 15 12.7956 15 12C15 11.2044 14.6839 10.4413 14.1213 9.87868C13.5587 9.31607 12.7956 9 12 9Z",fill:"#9CA3AF"})),UP=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M5.679 18.123C3.093 16.566 1.5 14.112 1.5 11.405C1.501 6.701 6.249 3 12.001 3C17.753 3 22.501 6.701 22.501 11.405C22.501 16.109 17.753 19.81 12.001 19.81C11.559 19.81 11.1197 19.7883 10.683 19.745L6.918 22.203C6.303 22.529 5.961 22.628 5.433 22.269C4.813 21.845 4.837 21.377 5.051 20.709L5.679 18.123ZM3.5 11.405C3.5 13.537 4.918 15.528 7.281 16.725L7.987 17.084L7.801 17.854L7.4 19.502L10.2 17.672L10.565 17.718C11.039 17.7793 11.5173 17.81 12 17.81C16.741 17.81 20.5 14.88 20.5 11.405C20.5 7.93 16.742 5 12.001 5C7.26 5 3.5 7.93 3.5 11.405ZM17.908 11.059L19.422 13.214C19.4577 13.2648 19.483 13.322 19.4965 13.3826C19.51 13.4431 19.5115 13.5057 19.5008 13.5668C19.4901 13.6279 19.4675 13.6863 19.4342 13.7387C19.401 13.791 19.3578 13.8363 19.307 13.872C19.2562 13.9077 19.199 13.933 19.1384 13.9465C19.0779 13.96 19.0153 13.9615 18.9542 13.9508C18.8931 13.9401 18.8347 13.9175 18.7823 13.8842C18.73 13.851 18.6847 13.8078 18.649 13.757L17.221 11.724L16.794 12.137V13.5C16.794 13.6252 16.7443 13.7452 16.6558 13.8338C16.5672 13.9223 16.4472 13.972 16.322 13.972C16.1968 13.972 16.0768 13.9223 15.9882 13.8338C15.8997 13.7452 15.85 13.6252 15.85 13.5V12.061C15.8334 11.9879 15.8334 11.9121 15.85 11.839V9.282C15.85 9.15682 15.8997 9.03676 15.9882 8.94825C16.0768 8.85973 16.1968 8.81 16.322 8.81C16.4472 8.81 16.5672 8.85973 16.6558 8.94825C16.7443 9.03676 16.794 9.15682 16.794 9.282V10.824L18.722 8.958C18.8128 8.87613 18.9319 8.83271 19.0541 8.83689C19.1763 8.84107 19.2922 8.89252 19.3772 8.98041C19.4622 9.06829 19.5098 9.18575 19.51 9.30804C19.5101 9.43033 19.4628 9.54791 19.378 9.636L17.908 11.059ZM14.95 12.984C15.0752 12.984 15.1952 13.0337 15.2838 13.1222C15.3723 13.2108 15.422 13.3308 15.422 13.456C15.422 13.5812 15.3723 13.7012 15.2838 13.7898C15.1952 13.8783 15.0752 13.928 14.95 13.928H13.018C12.956 13.9281 12.8946 13.916 12.8374 13.8923C12.7801 13.8686 12.7281 13.8339 12.6843 13.79C12.6405 13.7461 12.6059 13.694 12.5823 13.6367C12.5587 13.5794 12.5467 13.518 12.547 13.456V9.297C12.5441 9.23325 12.5541 9.16958 12.5765 9.10981C12.5988 9.05005 12.6331 8.99544 12.6772 8.9493C12.7212 8.90315 12.7742 8.86641 12.8329 8.84132C12.8915 8.81622 12.9547 8.80328 13.0185 8.80328C13.0823 8.80328 13.1455 8.81622 13.2041 8.84132C13.2628 8.86641 13.3158 8.90315 13.3598 8.9493C13.4039 8.99544 13.4382 9.05005 13.4605 9.10981C13.4829 9.16958 13.4929 9.23325 13.49 9.297V12.984H14.95ZM9.093 11.893H10.427L9.789 10.185L9.093 11.893ZM11.616 12.38L11.961 13.305C11.9848 13.3635 11.9967 13.4262 11.9958 13.4893C11.995 13.5525 11.9815 13.6148 11.9561 13.6727C11.9308 13.7305 11.8941 13.7827 11.8482 13.8261C11.8023 13.8694 11.7481 13.9032 11.689 13.9253C11.6298 13.9474 11.5668 13.9574 11.5037 13.9546C11.4406 13.9519 11.3787 13.9366 11.3216 13.9095C11.2645 13.8825 11.2135 13.8442 11.1715 13.7971C11.1295 13.7499 11.0973 13.6948 11.077 13.635L10.779 12.836H8.709L8.377 13.649C8.35356 13.7064 8.31904 13.7586 8.27543 13.8026C8.23181 13.8467 8.17994 13.8817 8.12279 13.9057C8.06563 13.9297 8.00431 13.9422 7.94232 13.9425C7.88033 13.9428 7.81889 13.9309 7.7615 13.9075C7.70411 13.8841 7.6519 13.8495 7.60785 13.8059C7.56381 13.7623 7.52878 13.7104 7.50478 13.6533C7.48077 13.5961 7.46826 13.5348 7.46796 13.4728C7.46765 13.4108 7.47956 13.3494 7.503 13.292L9.165 9.217C9.21605 9.08531 9.30573 8.97215 9.42227 8.89237C9.53882 8.81259 9.67677 8.76994 9.818 8.77C9.95833 8.7758 10.0936 8.8243 10.2056 8.90899C10.3176 8.99369 10.4012 9.11057 10.445 9.244L11.491 12.044C11.5723 12.1308 11.6177 12.2451 11.618 12.364L11.616 12.38ZM8.294 9.302C8.294 9.562 8.084 9.774 7.823 9.774H6.683V13.51C6.683 13.6353 6.63322 13.7555 6.54461 13.8441C6.456 13.9327 6.33581 13.9825 6.2105 13.9825C6.08518 13.9825 5.965 13.9327 5.87639 13.8441C5.78778 13.7555 5.738 13.6353 5.738 13.51V9.774H4.578C4.45282 9.774 4.33276 9.72427 4.24425 9.63575C4.15573 9.54724 4.106 9.42718 4.106 9.302C4.106 9.17682 4.15573 9.05676 4.24425 8.96825C4.33276 8.87973 4.45282 8.83 4.578 8.83H7.823C8.083 8.83 8.294 9.041 8.294 9.302Z",fill:"#9CA3AF"})),HP=[{title:"",children:[{title:"ALLCLL ",href:"/about"},{title:"  ",href:"/faq"},{title:"  ",href:"https://forms.gle/bCDTVujEHunnvHe88"},{title:"allcllclla@google.com"}]}],VP=[{icon:f.jsx(zP,{className:"w-8 h-8 m-2"}),title:" github",href:"https://github.com/allcll"},{icon:f.jsx(UP,{className:"w-8 h-8 m-2"}),title:" ",href:"https://open.kakao.com/o/g3MztXfh"},{icon:f.jsx($P,{className:"w-8 h-8 m-2"}),title:" instagram",href:"https://www.instagram.com/sejong_allcll"}];function jv(){return f.jsxs("footer",{className:"bg-white text-center text-sm text-gray-500",children:[f.jsxs("div",{className:"mx-auto max-w-7xl px-4 md:px-16 py-12 grid md:grid-cols-3 gap-6 text-center md:text-left",children:[f.jsxs("div",{className:"mx-auto md:mx-0",children:[f.jsxs("div",{className:"flex items-center mb-2 h-fit justify-center md:justify-start",children:[f.jsx("img",{src:"/ci.svg",className:"w-6 h-6 mr-2",alt:"ci"}),f.jsx("img",{src:"/logo-name.svg",alt:"logo",className:"h-5"})]}),f.jsx("ul",{className:"flex items-center",children:VP.map(({icon:e,title:t,href:n})=>f.jsx("li",{children:f.jsx("a",{href:n,className:"h-fit rounded-md hover:bg-gray-200","aria-label":t,title:t,children:e})},t))})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold mb-4",children:""}),f.jsx("ul",{children:CS.map(({title:e,path:t,end:n})=>f.jsx("li",{className:"mb-1",children:f.jsx(El,{to:t,end:n,className:"hover:text-blue-500 hover:underline hover:font-bold",children:e})},e))})]}),HP.map((e,t)=>f.jsxs("div",{className:"mb-4",children:[f.jsx("h3",{className:"font-bold mb-4",children:e.title}),f.jsx("ul",{children:e.children.map((n,r)=>f.jsx("li",{className:"mb-1",children:n.href?n.href.startsWith("http")?f.jsx("a",{className:"hover:text-blue-500 hover:underline hover:font-bold",href:n.href,target:"_blank",children:n.title}):f.jsx(Or,{to:n.href,className:"hover:text-blue-500 hover:underline hover:font-bold",children:n.title}):f.jsx("p",{children:n.title})},r))})]},t))]}),f.jsx("p",{className:"pb-12",children:" 2025 ALLCLL. All rights reserved."})]})}const QP=1.5*1e3,DS=5,Ur=Mr(e=>({needCount:0,alwaysReload:!1,forceReloadNumber:0,errorCount:0,isError:!1,isPending:!0,addNeedCount:()=>e(t=>({needCount:t.needCount+1})),deleteNeedCount:()=>e(t=>({needCount:Math.max(0,t.needCount-1)})),setAlwaysReload:t=>e({alwaysReload:t}),setForceReload:()=>e(t=>({forceReloadNumber:t.forceReloadNumber+1,errorCount:0,isError:!1})),setError:()=>e(({errorCount:t,isPending:n})=>({errorCount:t+1,isError:t+1>=DS,isPending:n||t>1})),resetError:()=>e({errorCount:0,isError:!1,isPending:!1})}));function WP(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var s;const o=u=>u===null?null:JSON.parse(u,void 0),a=(s=n.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const oy=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return oy(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return oy(r)(n)}}}},qP=(e,t)=>(n,r,i)=>{let s={storage:WP(()=>localStorage),partialize:S=>S,version:0,merge:(S,k)=>({...k,...S}),...t},o=!1;const a=new Set,u=new Set;let c=s.storage;if(!c)return e((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...S)},r,i);const h=()=>{const S=s.partialize({...r()});return c.setItem(s.name,{state:S,version:s.version})},p=i.setState;i.setState=(S,k)=>{p(S,k),h()};const g=e((...S)=>{n(...S),h()},r,i);i.getInitialState=()=>g;let x;const w=()=>{var S,k;if(!c)return;o=!1,a.forEach(R=>{var A;return R((A=r())!=null?A:g)});const E=((k=s.onRehydrateStorage)==null?void 0:k.call(s,(S=r())!=null?S:g))||void 0;return oy(c.getItem.bind(c))(s.name).then(R=>{if(R)if(typeof R.version=="number"&&R.version!==s.version){if(s.migrate){const A=s.migrate(R.state,R.version);return A instanceof Promise?A.then(z=>[!0,z]):[!0,A]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,R.state];return[!1,void 0]}).then(R=>{var A;const[z,U]=R;if(x=s.merge(U,(A=r())!=null?A:g),n(x,!0),z)return h()}).then(()=>{E?.(x,void 0),x=r(),o=!0,u.forEach(R=>R(x))}).catch(R=>{E?.(void 0,R)})};return i.persist={setOptions:S=>{s={...s,...S},S.storage&&(c=S.storage)},clearStorage:()=>{c?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:S=>(a.add(S),()=>{a.delete(S)}),onFinishHydration:S=>(u.add(S),()=>{u.delete(S)})},s.skipHydration||w(),x||g},FS=qP,KP=()=>{if(!(typeof window>"u"||typeof navigator>"u"))return navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate},td=KP(),Ev={canNotify(){return!!td},isGranted(){return this.canNotify()},requestPermission(e){this.isGranted()?e?.("granted"):e?.("denied")},getDeniedMessage(){return this.canNotify()?[]:["     ."]},show(e,t){const n=zd(na.VIBRATE);td&&n&&td.call(navigator,[200])},close(e){td&&td.call(navigator,0)}};var li=(e=>(e[e.NONE=0]="NONE",e[e.BROWSER=1]="BROWSER",e[e.TOAST=2]="TOAST",e[e.BOTH=3]="BOTH",e))(li||{}),na=(e=>(e[e.NONE=0]="NONE",e[e.VIBRATE=1]="VIBRATE",e[e.SOUND=2]="SOUND",e[e.ALL=3]="ALL",e))(na||{});const GP=()=>/Mobi|Android/i.test(navigator.userAgent),Bw=()=>{const e="Notification"in window,t=GP();return 1*Number(e)+2*Number(t)},zw=()=>{const e=Ev.canNotify();return 1*Number(e)+2},Is=Mr()(FS(e=>({alarmType:Bw(),subAlarmType:zw(),saveSettings:t=>e(n=>({...n,...t})),resetSettings:()=>e(()=>({alarmType:Bw(),subAlarmType:zw()}))}),{name:"AlarmSettings",partialize:e=>({alarmType:e.alarmType,subAlarmType:e.subAlarmType})}));function ay(e){return!!(Is.getState().alarmType&e)}function zd(e){return!!(Is.getState().subAlarmType&e)}const ca=Mr(e=>({isOpen:!1,isPermitted:!1,open:()=>e({isOpen:!0}),close:()=>e({isOpen:!1}),setPermitted:t=>e({isPermitted:t})}));function YP(){return f.jsxs(f.Fragment,{children:["  ? ",f.jsx(Or,{to:"/faq#0",className:"text-blue-500 underline hover:text-blue-600",children:" "})]})}const Mf=()=>Notification??window.Notification,Hi={canNotify(){return"Notification"in window||!!Mf()},isGranted(){return Hi.canNotify()&&Mf().permission==="granted"},requestPermission(e){const t=Mf();if(!Hi.canNotify()){alert("      .   ");return}if(!Hi.isGranted()){t.requestPermission().then(n=>{e&&e(n),ca.getState().setPermitted(n==="granted")});return}e&&e(t.permission)},getDeniedMessage(){return Hi.canNotify()?Hi.isGranted()?[]:["   .    "]:["     "]},show(e,t){const n=Hi.canNotify(),r=ay(li.BROWSER),i=Dp.getState().setBanner,s=Mf();n&&r&&s.permission==="granted"&&(JP(i),navigator.serviceWorker.ready.then(function(o){o.showNotification(e,{badge:"/ci.svg",tag:t}).then()}))},close(e){!Hi.canNotify()||!Hi.isGranted()||navigator.serviceWorker.ready.then(function(t){t.getNotifications({tag:e}).then(function(n){n.forEach(function(r){r.close()})})})}},XP=1e3*60*60*24;function JP(e){const t="alarm-check",n=localStorage.getItem(t);n&&Date.now()-Number(n)<100*XP||setTimeout(()=>{e(YP(),()=>{localStorage.setItem(t,Date.now().toString())})},5e3)}const ly={canNotify(){return!0},isGranted(){return!0},requestPermission(e){},getDeniedMessage(){return[]},show(e,t){const n=Hp.getState().addToast;n&&n(e,t)},close(e){const t=Hp.getState().clearToast;t(e)}},ZP="/notification.mp3";let ps=null;const eN=()=>{typeof Audio<"u"&&!ps&&(ps=new Audio(ZP),ps.preload="auto",ps.volume=1,ps.load())};eN();const tN={canNotify(){return typeof Audio<"u"},isGranted(){return this.canNotify()},requestPermission(e){this.isGranted()?e?.("granted"):e?.("denied")},getDeniedMessage(){return this.canNotify()?[]:["     ."]},show(e,t){this.canNotify()&&ps&&(ps.currentTime=0,ps.play().catch(n=>{console.warn("Failed to play notification sound:",n)}))},close(e){ps&&(ps.pause(),ps.currentTime=0)}},ym="https://dev.allcll.kr";async function vm(e,t){return await fetch(ym+e,{credentials:"include",...t})}async function bo(e,t){const n=await fetch(ym+e,{credentials:"include",...t,headers:{"Content-Type":"application/json",...t?.headers}});if(!n.ok)throw new Error(await n.text());return await n.json()}async function nN(e,t,n){const r=await fetch(ym+e,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"},body:t?JSON.stringify(t):void 0,...n});if(!r.ok)throw new Error(await r.text());return r.status===204?null:await r.json()}function rN(e,t){return new EventSource(ym+e,{withCredentials:!0,...t})}async function Tv(e,t){const n=await fetch(e,{credentials:"include",...t});if(!n.ok)throw new Error(await n.text());return await n.json()}const iN=async()=>await bo("/api/subjects"),xm={subjectId:-1,subjectName:"",subjectCode:"",classCode:"",professorName:"",deptCd:"",manageDeptNm:"",studentYear:"",lesnTime:"",lesnRoom:"",tmNum:"",remark:null,curiTypeCdNm:"",curiLangNm:null,isDeleted:!0};function Gi(){return bs({queryKey:["subjects"],queryFn:iN,staleTime:1/0,select:e=>e.subjectResponses})}function sN(e){return e.getQueryData(["subjects"])?.subjectResponses??[]}let $w=!1;function vu(){const e=[],t=ay(li.BROWSER),n=ay(li.TOAST),r=zd(na.VIBRATE),i=zd(na.SOUND);return t&&e.push(Hi),n&&e.push(ly),r&&e.push(Ev),i&&e.push(tN),e}const ki={canNotify(){return vu().every(e=>e.canNotify())},isGranted(){const e=vu().every(t=>t.isGranted());return ca.getState().setPermitted(e),e},requestPermission(e){ki.isGranted()||(vu().forEach(t=>t.requestPermission(e)),ca.getState().open())},getDeniedMessage(){return vu().flatMap(e=>e.getDeniedMessage())},show(e,t){Is.getState().alarmType!==li.NONE&&vu().forEach(r=>r.show(e,t))},close(e){vu().forEach(t=>t.close(e))}};function oN(e,t,n){const{alwaysReload:r}=Ur.getState();if(!(!e||!t||!r)){for(const i of t)if(e.some(o=>o.subjectId===i.subjectId&&o.seatCount===0&&i.seatCount>0)){const o=aN(n,i.subjectId);if(!o){ki.show("unknown subject  ");return}ki.show(`${o.subjectCode}-${o.classCode} ${o.subjectName}  `)}}}function aN(e,t){return sN(e).find(r=>r.subjectId===t)}let Af=null,Uw=1;function Hw(e){const t="global-notification_"+Uw,n="global-notification_"+ ++Uw;Af&&(clearTimeout(Af),ki.close(t),Af=null),ki.show(e,n),Af=setTimeout(()=>ki.close(n),3e3)}function lN(){const e=Ur(i=>i.alwaysReload),t=Ur(i=>i.setAlwaysReload),n=e;return T.useEffect(()=>{$w||(ki.isGranted()&&(Hw("  .     "),t(!0)),$w=!0)},[]),{isAlarm:n,changeAlarm:()=>{if(!n){if(Is.getState().alarmType===li.NONE){if(!confirm("   ?"))return;Is.getState().resetSettings()}ki.requestPermission()}const i=n?"  ":"  ";t(!n),Hw(i)}}}var Pv=(e=>(e.IDLE="idle",e.LIVE="live",e))(Pv||{});const uN=3e3;let Lf=null;const Hu=Mr(e=>({lastUpdate:new Date,sseState:"live",updated:()=>{e({lastUpdate:new Date,sseState:"live"}),Lf&&clearInterval(Lf),Lf=setTimeout(()=>{e({sseState:"idle"}),Lf=null},uN)}}));function Vw(e,t){const n=[];for(const r of t){const i=e.find(o=>o.subjectId===r.subjectId);!i||i.seatCount!==r.seatCount||i.queryTime!==r.queryTime?n.push(r):n.push(i)}return n}function cN(e,t){const n=new Set;[...e,...t].forEach(i=>{n.add(i.subjectId)});const r=[];return n.forEach(i=>{const s=e.find(u=>u.subjectId===i),o=t.find(u=>u.subjectId===i);o&&(!s||s.queryTime!==o.queryTime||s.seatCount!==o.seatCount)?r.push(o):s&&r.push(s)}),r}var bm=(e=>(e.NON_MAJOR="nonMajorSeats",e.MAJOR="majorSeats",e.PINNED="pinSeats",e))(bm||{});let If=!1;const dN=()=>{const e=Ti(),t=Ur(u=>u.needCount),n=Ur(u=>u.alwaysReload),r=Ur(u=>u.forceReloadNumber),i=Ur(u=>u.errorCount),s=Ur(u=>u.setError),o=Ur(u=>u.resetError),a=Ur(u=>u.isError);T.useEffect(()=>{const u=n||t>0;If||!u||i>=DS||(If=!0,hN(e,o).then(()=>{o(),If=!1}).catch(()=>{If=!1,i===0?s():setTimeout(s,QP)}))},[n,t,e,s,r,o,i]),T.useEffect(()=>{a&&ki.show(" .  .")},[a])},hN=(e,t)=>new Promise((n,r)=>{const i=rN("/api/connect");return i.addEventListener("nonMajorSeats",s=>{const o=JSON.parse(s.data);if(!o)return;const a=o.seatResponses??[];e.setQueryData(["nonMajorSeats"],(u=[])=>Vw(u,a)),Hu.getState().updated()}),i.addEventListener("majorSeats",s=>{const o=JSON.parse(s.data);if(!o)return;const a=o.seatResponses??[];e.setQueryData(["majorSeats"],(u=[])=>Vw(u,a)),Hu.getState().updated()}),i.addEventListener("pinSeats",s=>{const o=JSON.parse(s.data);if(!o)return;const a=o.seatResponses??[];e.setQueryData(["pinSeats"],(u=[])=>{const c=cN(u,a);return oN(u,c,e),c}),Hu.getState().updated()}),i.onopen=()=>{t(),Hu.getState().updated()},i.onerror=s=>{i.close(),r(new Error("SSE connection error: "+(s.type??"Unknown error")))},()=>{i.close(),n("SSE connection closed")}}),Nv=e=>{const t=Ti(),n=Ur(u=>u.addNeedCount),r=Ur(u=>u.deleteNeedCount),i=Ur(u=>u.isPending),s=Ur(u=>u.isError),o=Ur(u=>u.setForceReload);return T.useEffect(()=>{const u=()=>{document.visibilityState==="visible"?n():r()};return n(),document.addEventListener("visibilitychange",u),()=>{r(),document.removeEventListener("visibilitychange",u)}},[n,r]),{...bs({queryKey:[e],queryFn:()=>Promise.resolve(t.getQueryData([e])??[])}),isPending:i,isError:s,refetch:o}},Qw={idx:-1,key:""};function Ov(){const e=Ki(),t=T.useRef(Qw);T.useEffect(()=>{const n=window.history.state;(!n||n.idx>=t.current.idx)&&window.scrollTo(0,0),t.current=n??Qw},[e.pathname]),dN()}function Ww(){return Ov(),f.jsxs(f.Fragment,{children:[f.jsx(gr,{children:f.jsx("title",{children:"ALLCLL"})}),f.jsx(kv,{}),f.jsx(bv,{}),f.jsx(AS,{}),f.jsx(cv,{}),f.jsx(jv,{})]})}const fN=async()=>Rv,BS=["2025-2","2025-WINTER"],Rv={code:"WINTER-2025",semester:"2025-WINTER",services:[{id:"timetable",startDate:"2025-07-18",endDate:"2099-12-31",message:null},{id:"baskets",startDate:"2025-07-18",endDate:"2099-12-31",message:null},{id:"simulation",startDate:"2025-07-18",endDate:"2099-12-31",message:null},{id:"live",startDate:"2025-11-29",endDate:"2025-12-31",message:null},{id:"preSeat",startDate:"2025-08-16",endDate:"2025-09-30",message:null}]};function pN(e){const t=bs({queryKey:["serviceSemester"],queryFn:fN,staleTime:1/0,select:r=>r?{...r,services:r.services.map(mN)}:null});if(!e||!t.data)return t;const n=t.data.services.find(r=>r.id===e);return{...t,data:{code:t.data.code,semester:t.data.semester,service:n}}}const mN=e=>{const t=new Date,n=new Date(e.startDate),r=new Date(e.endDate);n.setHours(0,0,0,0),r.setHours(23,59,59,999);const i=n<=t&&t<=r;return{id:e.id,startDate:n,endDate:r,withinPeriod:i,startDateStr:e.startDate,endDateStr:e.endDate,message:e.message}},gN=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17.971202850341797,height:16.003124237060547,viewBox:"0 0 17.971202850341797 16.003124237060547",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,32.006248474121094)"},T.createElement("path",{d:"M17.9688,24.003124237060547Q17.9376,23.596874237060547,17.6568,23.315624237060547Q17.3761,23.034374237060547,16.9705,23.003124237060547L15.9723,23.003124237060547L16.0035,18.003124237060547Q15.9723,17.878124237060547,15.9723,17.753124237060547L15.9723,17.253124237060547Q15.9723,16.721874237060547,15.5979,16.378124237060547Q15.2548,16.003124237060547,14.7244,16.003124237060547L14.2253,16.003124237060547Q14.1629,16.003124237060547,14.1317,16.003124237060547Q14.0693,16.003124237060547,14.0069,16.003124237060547L12.9775,16.003124237060547L12.2288,16.003124237060547Q11.6984,16.003124237060547,11.3553,16.378124237060547Q10.9809,16.721874237060547,10.9809,17.253124237060547L10.9809,18.003124237060547L10.9809,20.003124237060547Q10.9809,20.440624237060547,10.7002,20.721874237060547Q10.4194,21.003124237060547,9.98267,21.003124237060547L7.98614,21.003124237060547Q7.54939,21.003124237060547,7.26863,20.721874237060547Q6.98787,20.440624237060547,6.98787,20.003124237060547L6.98787,18.003124237060547L6.98787,17.253124237060547Q6.98787,16.721874237060547,6.61352,16.378124237060547Q6.27036,16.003124237060547,5.74003,16.003124237060547L4.99133,16.003124237060547L3.99307,16.003124237060547Q3.96187,16.003124237060547,3.93068,16.003124237060547Q3.89948,16.003124237060547,3.86828,16.003124237060547Q3.80589,16.003124237060547,3.7435,16.003124237060547L3.24437,16.003124237060547Q2.71404,16.003124237060547,2.37088,16.378124237060547Q1.99653,16.721874237060547,1.99653,17.253124237060547L1.99653,20.753124237060547Q1.99653,20.784374237060547,1.99653,20.846874237060547L1.99653,23.003124237060547L0.998267,23.003124237060547Q0.561525,23.034374237060547,0.280763,23.315624237060547Q0,23.596874237060547,0,24.034374237060547Q0,24.440624237060547,0.311958,24.784374237060547L8.29809,31.753124237060547Q8.64125,32.034324237060545,8.9844,32.00312423706055Q9.35875,32.00312423706055,9.63952,31.78442423706055L17.6257,24.753124237060547Q18,24.440624237060547,17.9688,24.003124237060547Z",fill:"#FFFFFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function yN({data:e}){const t=e.service?.endDate&&e.service.endDate<new Date;return f.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 px-4",children:f.jsxs("main",{className:"text-center",children:[f.jsx(Lt,{level:1,children:t?"  .":" ."}),f.jsxs(Un,{children:["    .",f.jsx("br",{}),"      ."]}),f.jsxs(Tn,{className:"mt-2",children:[t?f.jsxs(f.Fragment,{children:[f.jsxs(Lt,{level:2,children:[e.semester,"  ."]}),f.jsxs(Un,{children:["     .",f.jsx("br",{})]}),f.jsx(Un,{children:"    ."})]}):f.jsxs(f.Fragment,{children:[f.jsx(Lt,{level:2,children:"   "}),f.jsx(Un,{children:""}),f.jsxs(Un,{children:[e.service?.startDateStr," ~ ",e.service?.endDateStr]})]}),f.jsx("hr",{className:"my-4 border-gray-200"}),f.jsx(Lt,{level:3,children:""}),f.jsx(Un,{className:"flex items-center justify-center gap-2 mt-2",children:"allcllclla@google.com"}),f.jsx(jt,{variant:"text",size:"medium",textColor:"primary",asChild:!0,children:f.jsx("a",{href:"https://forms.gle/bCDTVujEHunnvHe88",target:"_blank",children:"  "})}),f.jsx(jt,{variant:"text",size:"medium",textColor:"primary",asChild:!0,children:f.jsx("a",{href:"https://open.kakao.com/o/g3MztXfh",target:"_blank",children:" "})})]}),f.jsx(Oe,{className:"mt-6",justify:"justify-center",children:f.jsx(jt,{variant:"primary",size:"medium",asChild:!0,children:f.jsxs(Or,{to:"/",children:[f.jsx(gN,{className:"w-4 h-4"}),"  "]})})})]})})}function zS({serviceId:e,children:t}){const{data:n,error:r}=pN(e);return r&&console.error("Semester service error:",r),!n||!("service"in n)||!n.service||n.service.withinPeriod?t:f.jsx(yN,{data:n})}function qw({serviceId:e}){return Ov(),f.jsxs(f.Fragment,{children:[f.jsx(kv,{}),f.jsx(bv,{}),f.jsxs(zS,{serviceId:e,children:[f.jsx(AS,{}),f.jsx(cv,{})]}),f.jsx(jv,{})]})}const vN=[{name:"  ",children:[{name:"  ",children:[{name:"",path:"/simulation"},{name:" ",path:"/simulation/logs"},{name:" ",path:"/simulation/admin"},{name:" ",path:"#"},{name:"/ ",path:"#"},{name:"/",path:"#"},{name:"(,)",path:"#"}]}]}],uy=[{title:"",urlPath:"/simulation"},{title:" ",urlPath:"/simulation/logs"},{title:" ",urlPath:"/simulation/logs/"},{title:" ",urlPath:"/simulation/interest"},{title:" ",urlPath:"/simulation/admin"}];({...uy[0],realUrl:uy[0].urlPath});function $S({className:e,essential:t,disabled:n,children:r}){const s=(t?"relative inline-block w-autobefore:content-[''] before:absolute before:top-0 before:left-0 before:w-0 before:h-0 before:z-5 "+(n?"before:border-t-[8px] before:border-t-gray-400 before:border-r-[8px] before:border-r-transparent ":"before:border-t-[8px] before:border-t-red-500 before:border-r-[8px] before:border-r-transparent "):"")+e;return f.jsx("div",{className:s,children:r})}function xN({type:e="text",className:t="",essential:n=!1,disabled:r=!1,...i}){return f.jsx($S,{className:t,essential:n,disabled:r,children:f.jsx("input",{type:e,className:"relative border-1 border-gray-300 px-2 text-xs w-max h-6 focus:outline-none focus:rounded focus:ring focus:border-gray-800 disabled:bg-gray-100 disabled:cursor-not-allowed ",disabled:r,...i})})}function bN({variant:e="primary",size:t="md",className:n="",children:r,...i}){const s="flex flex-row gap-1 cursor-pointer rounded",o=wN(e),a=_N(t),u=`${s} ${o} ${a} ${n}`.trim();return f.jsx("button",{className:u,...i,children:r})}function wN(e){switch(e){case"primary":return"bg-blue-500 text-white hover:bg-blue-600";case"secondary":return"bg-gray-500 text-white hover:bg-gray-600";case"dark":return"bg-gray-700 text-white hover:bg-gray-900";case"cancel":return"bg-white border border-gray-700 hover:bg-gray-100";case"danger":return"bg-red-500 text-white hover:bg-red-600";default:return""}}function _N(e){switch(e){case"sm":return"px-2 py-0.5 text-xs rounded-xs";case"md":return"px-3 py-2 text-sm";case"lg":return"px-4 py-3 text-base";default:return""}}function SN({className:e="",essential:t=!1,children:n,...r}){const i="px-2 h-6 text-gray-400 text-xs border border-gray-300 disabled:bg-gray-100 disabled:cursor-not-allowed "+e;return f.jsx($S,{className:e,essential:t,disabled:r.disabled??!1,children:f.jsx("select",{className:i,...r,children:n})})}function CN({children:e,onBackdropClick:t,preventAutoFocus:n,noBorder:r}){const i=T.useRef(null),s=r?"":"border-[3px] border-slate-800 ";T.useEffect(()=>(document.body.style.overflow="hidden",n||i.current?.focus(),()=>{document.body.style.overflow=""}),[n]);const o=a=>{a.stopPropagation(),t&&t()};return f.jsxs("div",{className:"flex items-center justify-center fixed inset-0 w-full h-full z-100",role:"none",ref:i,tabIndex:-1,onClick:o,children:[f.jsx("div",{className:"fixed inset-0 justify-center opacity-30 bg-gray-300 border-b-2 border-gray-400"}),f.jsx("div",{className:"fixed inset-x-0 top-16 bottom-0 flex items-center justify-center",tabIndex:-1,children:f.jsx("div",{className:s,children:f.jsx("div",{className:"w-[95%] sm:w-fit bg-white max-h-[90%] overflow-y-auto",role:"dialog",tabIndex:-1,onClick:a=>a.stopPropagation(),children:e})})})]})}const US=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e},T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px",d:"M4 20L20 4M4 4l16 16"}));function kN({title:e,onClose:t=()=>{}}){return f.jsxs("div",{className:"flex justify-between items-center p-3 border-b border-gray-200 ",children:[f.jsx("h2",{className:"font-semibold sm:text-lg text-sm text-gray-900",children:e}),f.jsx("button",{className:"w-5 h-5 text-gray-500 hover:text-gray-700 cursor-pointer",onClick:t,title:"",tabIndex:-1,children:f.jsx(US,{className:"w-full h-full"})})]})}function jN({variant:e="primary",className:t="",children:n,...r}){const i="px-4 h-6 text-xs flex items-center gap-1 rounded-xs cursor-pointer",s=EN(e),o=`${i} ${s} ${t}`.trim();return f.jsx("button",{className:o,...r,children:n})}function EN(e){switch(e){case"primary":return"bg-blue-500 text-white hover:bg-blue-600";case"secondary":return"bg-gray-500 text-white hover:bg-gray-600";case"cancel":return"bg-white border border-gray-700 hover:bg-blue-50 hover:border-blue-500";case"danger":return"bg-red-500 text-white hover:bg-red-600";default:return""}}function TN({children:e,className:t="",...n}){const r="flex justify-end gap-4 w-full border-3 border-white "+t;return f.jsx("div",{className:r,...n,children:e})}const PN=Object.assign(CN,{Header:kN,Button:jN,ButtonContainer:TN});function NN({columns:e}){return f.jsx("thead",{className:"bg-gray-100",children:f.jsx("tr",{className:"text-nowrap",children:e.map(t=>f.jsx("th",{className:"border border-gray-300 px-2 py-1",children:t.header},String(t.header)))})})}function ON({columns:e,data:t,keyInfo:n}){return f.jsx("tbody",{children:t.map((r,i)=>{const s=typeof n=="function"?n(r):r[n];return f.jsx("tr",{children:e.map(o=>f.jsx("td",{className:"border border-gray-300 px-2 py-1",children:o.cell(r,i)},`cell-${s}-${o.header}`))},`row-${s}`)})})}function RN(){return f.jsx("tbody",{children:f.jsx("tr",{children:f.jsx("td",{colSpan:99,className:"text-gray-500 py-4",children:f.jsx("div",{className:"min-h-[160px] flex items-center justify-center ",children:f.jsx("p",{className:"bg-gray-100 px-15 py-1 border",children:"  ."})})})})})}function MN({columns:e,data:t,className:n="w-full border border-gray-300 border-t-3 border-t-black text-center text-xs text-nowrap",keyInfo:r,emptyComponent:i=f.jsx(RN,{})}){const s=t&&t.length>0;return f.jsx("div",{className:"overflow-x-auto min-h-[300px] border-gray-300",children:f.jsxs("table",{className:n,children:[f.jsx(NN,{columns:e}),s?f.jsx(ON,{columns:e,data:t,keyInfo:r}):i]})})}function AN({children:e,className:t=""}){const r=`font-semibold pl-2 border-l-4 border-blue-500 ${t}`.trim();return f.jsx("div",{className:r,children:e})}const HS=T.createContext(null);function LN(){const e=T.useContext(HS);if(!e)throw new Error("useTabsContext must be used within a TabsProvider");return e}function IN({tabList:e,initialTabs:t=[],children:n}){const[r,i]=T.useState(t),s=rh(),o=Ki();T.useEffect(()=>{if(r.length===0){const h=a(o);u(h),s(h.realUrl)}},[r]),T.useEffect(()=>{u(a(o))},[o.pathname]);function a(h){const p=h.pathname.replace(/\d+/,"");return{title:e.find(g=>g.urlPath===p)?.title||"   ",urlPath:p,realUrl:h.pathname}}const u=h=>{i(p=>{const g=p.findIndex(w=>w.urlPath===h.urlPath);if(g===-1)return[...p,h];const x=[...p];return x[g]=h,x})},c=h=>{i(p=>{const g=p.find(w=>w.urlPath===h);if(!g)return p;const x=p.filter(w=>w.urlPath!==h);if(window.location.pathname.includes(g.realUrl)){const w=x[x.length-1];s(w?w.realUrl:"/")}return x})};return f.jsx(HS.Provider,{value:{tabs:r,setTab:u,deleteTab:c},children:n})}function DN({tab:e,onDelete:t}){return f.jsxs(El,{to:e.realUrl,className:({isActive:n})=>"group px-2.5 flex items-center gap-2.5 w-1/4 sm:w-1/8 border-r-1 border-r-neutral-300 cursor-pointer focus:outline-none"+(n?" mb-[-1px] bg-white border-b-2 border-b-white border-t-4 border-t-blue-500 font-semibold text-blue-500":" text-gray-500 hover:bg-white"),end:!0,children:[f.jsx("span",{className:"flex-1 text-center overflow-hidden text-ellipsis text-nowrap rounded-xs group-focus:outline-black group-focus:outline-2",children:e.title}),f.jsx("button",{tabIndex:-1,"aria-label":" ",className:"w-4 text-gray-700 hover:text-blue-500 cursor-pointer",onClick:n=>{n.preventDefault(),n.stopPropagation(),t(e.urlPath)},children:f.jsx(US,{className:"w-3 h-3"})})]})}function FN(){const{tabs:e,deleteTab:t}=LN();return f.jsx("div",{className:"flex border-b border-neutral-300 bg-gray-100 text-sm h-12",children:e.map(n=>f.jsx(DN,{tab:n,onDelete:t},n.urlPath))})}function BN({tabList:e,initialTabs:t=[]}){return f.jsx(IN,{tabList:e,initialTabs:t,children:f.jsx(FN,{})})}function zN({menu:e}){return f.jsx("li",{children:e.path==="#"?f.jsx("div",{className:"block px-2 py-2 text-xs text-gray-400 cursor-not-allowed",children:e.name}):f.jsx(El,{to:e.path??"#",className:({isActive:t})=>`block px-2 py-2 text-xs cursor-pointer hover:bg-blue-500 hover:text-white ${t?"bg-blue-500 text-white":""}`,end:!0,children:e.name})})}const $N=!0;function UN({menu:e}){const[t,n]=T.useState($N);return f.jsxs("li",{className:"",children:[f.jsxs("button",{className:"px-4 py-2 h-10 flex items-center gap-4 w-full border-b border-neutral-300 cursor-pointer hover:bg-gray-100 "+(t?"font-semibold":"font-normal"),onClick:()=>n(r=>!r),children:[f.jsx("span",{children:t?"-":"+"}),f.jsx("span",{children:e.name})]}),t&&e.children&&f.jsx("ul",{className:"ml-1 pl-4 bg-neutral-100 font-semibold",children:e.children.map(r=>f.jsx(zN,{menu:r},r.name))})]})}const HN=!0;function VN({menu:e}){const[t,n]=T.useState(HN);return f.jsxs("li",{children:[f.jsxs("button",{className:"px-4 py-2 h-12 flex items-center justify-between w-full border-b border-neutral-300 cursor-pointer hover:bg-gray-100 "+(t?"font-semibold":"font-normal"),onClick:()=>n(r=>!r),children:[e.name,e.children&&f.jsx("span",{className:"ml-auto text-gray-500",children:t?"":""})]}),t&&e.children&&f.jsx("ul",{className:"",children:e.children.map(r=>f.jsx(UN,{menu:r},r.name))})]})}function QN({menus:e}){const[t,n]=T.useState(!0),[r]=T.useState(/Android|iPhone/i.test(navigator.userAgent)),i=()=>{n(s=>!s)};return f.jsx("aside",{className:(t?"relative z-10":"relative bg-blue-50 z-10")+(!t||r?" w-[20px] min-w-[20px] h-[calc(100vh-60px)]":" w-[230px] min-w-[230px]"),children:t?f.jsxs("div",{className:r?"absolute w-[300px] min-w-[300px] h-full bg-white shadow-gray-800 shadow-md":"bg-white",children:[f.jsxs("div",{className:"h-12 bg-blue-500 text-white text-lg font-semibold flex items-center justify-between px-4",children:[f.jsx("span",{children:""}),f.jsx("button",{className:"text-white hover:text-gray-200 cursor-pointer",onClick:i,children:"<"})]}),f.jsx("ul",{className:"flex flex-col text-sm",children:e.map(s=>f.jsx(VN,{menu:s},s.name))})]}):f.jsx("div",{children:f.jsx("button",{className:"w-full h-12 bg-blue-500 text-white text-lg font-semibold text-center cursor-pointer hover:text-gray-200",onClick:i,children:">"})})})}const Yt={Input:xN,Button:bN,Select:SN,Modal:PN,SectionHeader:AN,Tab:BN,AsideMenu:QN,DataTable:MN};function WN(){return Ov(),f.jsxs(f.Fragment,{children:[f.jsx(kv,{}),f.jsx(bv,{}),f.jsx(zS,{serviceId:"simulation",children:f.jsx("div",{className:"w-full bg-white text-sm text-gray-800 font-sans",children:f.jsxs("div",{className:"flex",children:[f.jsx(Yt.AsideMenu,{menus:vN}),f.jsxs("div",{className:"flex-auto min-w-0",children:[f.jsx(Yt.Tab,{tabList:uy}),f.jsx("main",{className:"flex-1 p-4 space-y-4 mx-auto max-w-screen-2xl overflow-x-hidden",children:f.jsx(cv,{})})]})]})})}),f.jsx(jv,{})]})}function Tl({bgColor:e,className:t,children:n}){const r=e??"even:bg-white ",i=t?` ${t}`:"";return f.jsx("section",{className:r,children:f.jsx("div",{className:`mx-auto max-w-7xl px-4 md:px-8 py-10 ${i}`,children:n})})}const Kw="",Gw="2025",qN="12 1()",KN="12 3()";function GN(){return f.jsxs(Tl,{className:"flex flex-col md:flex-row items-center justify-between",bgColor:"bg-banner-skysoft",children:[f.jsxs("div",{className:"max-w-xl",children:[f.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[f.jsx("img",{src:"/calendar.png",alt:"calendar",className:"w-10 h-10"}),f.jsxs("span",{className:"italic text-xs text-stone-500 ",children:[Gw," ",Kw,"    ",f.jsx("br",{})," ",qN," ~ ",KN]})]}),f.jsxs("h2",{className:"text-xl mt-10 sm:text-2xl md:text-4xl leading-snug font-bold mb-3 ",children:[Gw," ",Kw," ,"]}),f.jsxs("div",{className:"flex flex-row justify-start items-center text-xl sm:text-2xl md:text-4xl leading-snug font-bold mb-3",children:[f.jsx("img",{src:"/logo-name.svg",alt:"logo-name",className:"w-20 sm:w-32 md:w-40 lg:w-48 mr-2 animate-updown"})," !"]}),f.jsx(Un,{children:"    ,    ALLCLL  ."}),f.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mt-4",children:[f.jsx(jt,{variant:"primary",size:"medium",asChild:!0,children:f.jsx(Or,{to:"/live",children:"  "})}),f.jsx(jt,{variant:"outlined",size:"medium",asChild:!0,children:f.jsx(Or,{to:"/simulation",children:"  "})})]})]}),f.jsx("img",{src:"/summer-banner.png",alt:"summer-banner",className:"w-90 hidden sm:block  mt-8 md:mt-4"})]})}const YN=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:15,height:15,viewBox:"0 0 15 15",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,30)"},T.createElement("path",{d:"M10.3125,30Q9.69727,29.9707,9.43359,29.414099999999998Q9.22852,28.8574,9.63867,28.3887L10.8691,27.1875L5.88867,22.23633Q5.625,21.94336,5.625,21.5625Q5.625,21.18164,5.88867,20.88867Q6.18164,20.625,6.5625,20.625Q6.94336,20.625,7.23633,20.88867L12.1875,25.8691L13.3887,24.638669999999998Q13.8574,24.22852,14.4141,24.433590000000002Q14.9707,24.69727,15,25.3125L15,29.0625Q15,29.4727,14.7363,29.7363Q14.4727,30,14.0625,30L10.3125,30ZM2.34375,29.0625Q1.34766,29.0332,0.673828,28.3887Q0.0292969,27.7148,0,26.7188L0,17.34375Q0.0292969,16.34766,0.673828,15.673828Q1.34766,15.0292969,2.34375,15L11.7188,15Q12.7148,15.0292969,13.3887,15.673828Q14.0332,16.34766,14.0625,17.34375L14.0625,20.625Q14.0625,21.03516,13.7988,21.29883Q13.5352,21.5625,13.125,21.5625Q12.7148,21.5625,12.4512,21.29883Q12.1875,21.03516,12.1875,20.625L12.1875,17.34375Q12.1582,16.9043,11.7188,16.875L2.34375,16.875Q1.9043,16.9043,1.875,17.34375L1.875,26.7188Q1.9043,27.1582,2.34375,27.1875L5.625,27.1875Q6.03516,27.1875,6.29883,27.4512Q6.5625,27.7148,6.5625,28.125Q6.5625,28.5352,6.29883,28.7988Q6.03516,29.0625,5.625,29.0625L2.34375,29.0625Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function wm({title:e,subtitle:t,href:n,disabled:r=!1}){const i=!!n&&!r;return f.jsxs(f.Fragment,{children:[i?f.jsxs(Or,{to:n,className:"flex items-center gap-2 hover:underline focus:underline",children:[f.jsx(Lt,{level:2,children:e}),f.jsx(YN,{className:"w-4 h-4"})]}):f.jsx(Lt,{level:2,children:e}),t&&f.jsx(Un,{children:t})]})}function VS(e,t){const n=vt(c=>c.options),[r,i]=T.useState({dragging:!1,startX:0,startY:0}),s=T.useCallback(c=>{c.stopPropagation();const{x:h,y:p}=Df(c,n);e&&e(h,p,h,p),i({startX:h,startY:p,dragging:!0})},[e]),o=c=>{c.stopPropagation();const{x:h,y:p}=Df(c,n);t&&t(r.startX,r.startY,h,p),i(g=>({...g,dragging:!1}))},a=c=>{c.stopPropagation();const{x:h,y:p}=Df(c,n);e&&e(r.startX,r.startY,h,p)},u=c=>{c.stopPropagation();const h=c.touches[0],{x:p,y:g}=Df(h,n);e&&e(r.startX,r.startY,p,g)};return T.useEffect(()=>{if(r.dragging)return document.addEventListener("mouseup",o),document.addEventListener("touchmove",u),document.addEventListener("mousemove",a),()=>{document.removeEventListener("mouseup",o),document.removeEventListener("touchmove",u),document.removeEventListener("mousemove",a)}},[r,e,t]),{dragging:r.dragging,onMouseDown:s}}const Yw=6;function Df(e,t){const{tableX:n,tableY:r,width:i,height:s,cols:o,rows:a}=t,{pageX:u,pageY:c}=e,h=i/o||1,p=s/a||1,g=Math.floor((u-n)/h),x=Math.floor((c-r)/p*Yw)/Yw,w=Math.max(0,Math.min(o-1,g)),S=Math.max(0,Math.min(a,x));return{x:w,y:S}}function XN(e){return new Promise(t=>setTimeout(t,e))}function QS(e,t=9){const n=t*60,r=new Date,i=new Date(e);return i.setMonth(i.getMonth()-n-r.getTimezoneOffset()),i}class xu{time;constructor(t){switch(typeof t){case"string":const[r,i]=t.split(":").map(Number);this.time=r*60+i;break;case"object":const{hours:s,minutes:o}=t;this.time=s*60+o;break;case"number":this.time=t;break}if(Number.isNaN(this.time)||this.time<0||this.time>=1440)throw this.time=0,new Error("Invalid time value")}toObject(){const t=Math.floor(this.time/60),n=this.time%60;return{hours:t,minutes:n}}toString(){const{hours:t,minutes:n}=this.toObject(),r=t.toString().padStart(2,"0"),i=n.toString().padStart(2,"0");return`${r}:${i}`}compare(t){const n=this.time-t.time;return n===0?0:n>0?1:-1}}const Mv={timeTableId:-1,timeTableName:" ",semester:"",schedules:[]},JN=async()=>await bo("/api/timetables"),WS=()=>{const e=vt(r=>r.pickTimetable),t=vt(r=>r.currentTimetable);return bs({queryKey:["timetableList"],queryFn:JN,select:r=>{const{timeTables:i}=r;if(i.length<=0&&t?.timeTableId!==-1){e({timeTableId:-1,timeTableName:" ",semester:""});return}return i},staleTime:1e3*60*5})};function _m(e){const{data:t}=Gi();return bs({queryKey:["timetableData",e],queryFn:async()=>!e||e<=0?{timetableId:-1,timetableName:" ",semester:"",schedules:[]}:await bo(`/api/timetables/${e}/schedules`),select:r=>rO(r,t),refetchOnWindowFocus:!1,staleTime:1e3*60*5})}function ZN(){const e=Ti(),{currentTimetable:t,pickTimetable:n}=vt.getState();return ya({mutationFn:async({timeTableId:r,timeTableName:i})=>await bo(`/api/timetables/${r}`,{method:"PATCH",body:JSON.stringify({timeTableName:i})}),onMutate:async({timeTableId:r})=>(await e.cancelQueries({queryKey:["timetableList",r]}),{timeTableId:r}),onSuccess:async(r,i,s)=>{const o=s?.timeTableId;t?.timeTableId===o&&n({timeTableId:r.timeTableId,timeTableName:r.timeTableName,semester:r.semester}),await e.invalidateQueries({queryKey:["timetableList"]}),await e.invalidateQueries({queryKey:["timetableList",o]})},onError:async(r,i,s)=>{console.error(`   (id: ${s?.timeTableId})`,r),await e.invalidateQueries({queryKey:["timetableList"]}),await e.invalidateQueries({queryKey:["timetableList",s?.timeTableId]})}})}function qS(){const e=Ti(),t=vt(n=>n.pickTimetable);return ya({mutationFn:async n=>await vm(`/api/timetables/${n}`,{method:"DELETE"}),onMutate:async n=>(await e.cancelQueries({queryKey:["timetableList"]}),await e.cancelQueries({queryKey:["timetableData",n]}),{timeTableId:n}),onError:async(n,r,i)=>{console.error(`   (id: ${i?.timeTableId})`,n),await e.invalidateQueries({queryKey:["timetableList",i?.timeTableId]}),await e.invalidateQueries({queryKey:["timetableList"]})},onSuccess:async(n,r,i)=>{const{timeTables:s}=e.getQueryData(["timetableList"]);if(s&&s.length>1&&i?.timeTableId){const o=s.filter(u=>u.timeTableId!==i.timeTableId),a=o[o.length-1];t({timeTableId:a.timeTableId,timeTableName:a.timeTableName,semester:a.semester})}else t({timeTableId:-1,timeTableName:" ",semester:""});await e.invalidateQueries({queryKey:["timetableList"]}),await e.invalidateQueries({queryKey:["timetableData",i?.timeTableId]})}})}function KS(){const e=Ti();return ya({mutationFn:async({timeTableName:t,semester:n})=>await bo("/api/timetables",{method:"POST",body:JSON.stringify({timeTableName:t,semester:n})}),onMutate:async({timeTableName:t,semester:n})=>{await e.cancelQueries({queryKey:["timetableList"]});const{timeTables:r}=e.getQueryData(["timetableList"])??{},i={timeTableId:-1,timeTableName:t,semester:n};if(r){const s=[...r,i];e.setQueryData(["timetableList"],{timeTables:s}),r.push(i)}return{previousTimetables:r}},onSuccess:async t=>{const{pickTimetable:n}=vt.getState();n({timeTableId:t.timeTableId,timeTableName:t.timeTableName,semester:t.semester}),await e.invalidateQueries({queryKey:["timetableList"]})},onError:async t=>{try{const n=JSON.parse(t.message);alert(n.message)}catch{alert("Error adding Timetable")}await e.invalidateQueries({queryKey:["timetableList"]})}})}function eO(e){const t=Ti(),n=vt(i=>i.changeScheduleData),{mutateAsync:r}=KS();return ya({mutationFn:async({schedule:i})=>{let s=e;if(!e||e<=0){const a=await r({timeTableName:" ",semester:"2025-2"});s=a.timeTableId,t.setQueryData(["timetableData",s],{timetableId:s,timetableName:a.timeTableName,semester:a.semester,schedules:[i]}),await XN(300)}return{schedule:await bo(`/api/timetables/${s}/schedules`,{method:"POST",body:JSON.stringify(i)}),targetTimetableId:s}},onMutate:async i=>{const s=t.getQueryData(["timetableData",e])??{...Mv};return e&&e>0&&(await t.cancelQueries({queryKey:["timetableData",e]}),t.setQueryData(["timetableData",e],{...s,schedules:[...s.schedules,i.schedule]}),n(new ci().toUiData(),$n.NONE)),{...i,prevTimetableSchedules:s}},onError:(i,s,o)=>{t.setQueryData(["timetableData",e],o?.prevTimetableSchedules),console.error(i)},onSuccess:async({schedule:i,targetTimetableId:s},o,a)=>{const u=t.getQueryData(["timetableData",s]);n(new ci().toUiData(),$n.NONE),t.setQueryData(["timetableData",s],{...u,schedules:u?.schedules.map(c=>c.scheduleId===a.schedule.scheduleId?i:c)})}})}function tO(e){const t=Ti();return ya({mutationFn:async({schedule:n})=>await bo(`/api/timetables/${e}/schedules/${n.scheduleId}`,{method:"PATCH",body:JSON.stringify(n)}),onMutate:async n=>{const r=t.getQueryData(["timetableData",e])??{...Mv};return await t.cancelQueries({queryKey:["timetableData",e]}),{...n,prevTimetableSchedules:r}},onError:(n,r,i)=>{t.setQueryData(["timetableData",e],i?.prevTimetableSchedules),console.error(n)},onSuccess:async(n,r,i)=>{if(!i?.prevTimetableSchedules){await t.invalidateQueries({queryKey:["timetableList"]}),await t.invalidateQueries({queryKey:["timetableData",e]});return}t.setQueryData(["timetableData",e],{...i.prevTimetableSchedules,schedules:i.prevTimetableSchedules.schedules.map(s=>s.scheduleId===n.scheduleId?{...s,...n}:s)})}})}function nO(e){const t=Ti();return ya({mutationFn:async({schedule:n})=>await nN(`/api/timetables/${e}/schedules/${n.scheduleId}`,{scheduleType:n.scheduleType}),onMutate:async n=>{const r=t.getQueryData(["timetableData",e])??{...Mv};return await t.cancelQueries({queryKey:["timetableData",e]}),{...n,prevTimetableSchedules:r}},onError:(n,r,i)=>{t.setQueryData(["timetableData",e],i?.prevTimetableSchedules),console.error(n)},onSuccess:async(n,{schedule:r},i)=>{if(console.log("  ! timetableId:",e),!i?.prevTimetableSchedules){await t.invalidateQueries({queryKey:["timetableList"]}),await t.invalidateQueries({queryKey:["timetableData",e]});return}console.log("  !   . timetableId:",e,i.prevTimetableSchedules),t.setQueryData(["timetableData",e],{...i.prevTimetableSchedules,schedules:i.prevTimetableSchedules.schedules.filter(s=>s.scheduleId!==r.scheduleId)}),await t.invalidateQueries({queryKey:["timetableData",e]})}})}function rO(e,t){if(!e||!t)return[];const{schedules:n}=e;return n.map(r=>new ci(r,t).toUiData())}function GS(e,t=9){const n=vt(a=>a.schedule),r=vt(a=>a.mode),i=["rose","amber","green","emerald","blue","violet"],s={};if(!e)return;let o=e;return(r===$n.EDIT||r===$n.VIEW)&&(o=e.map(a=>a.scheduleId===n.scheduleId?n:a)),o.forEach((a,u)=>{const c=a.isDeleted?"gray":i[u%i.length],{subjectName:h,professorName:p,location:g}=a;new lc(a.timeSlots).toUiData(t).forEach(w=>{s[w.dayOfWeek]||(s[w.dayOfWeek]=[]),s[w.dayOfWeek].push({title:h,professor:p,location:g,schedule:a,color:c,...w})})}),Object.keys(s).forEach(a=>{s[a]=iO(s[a])}),s}function iO(e){const n=vt.getState().options.isMobile?8:16,r=o=>Number.parseFloat(o.replace("px",""));return e.sort((o,a)=>{const u=r(o.height);return r(a.height)-u}).reduce((o,a)=>{const u=r(a.top),c=u+r(a.height),p=o.reduce((g,x)=>{const w=r(x.top),S=w+r(x.height);return w<=u&&u<S||w<c&&c<=S?Math.max(g,x.depth):g},-1)+1;return[...o,{...a,depth:p}]},[]).map(o=>{const a=n*o.depth;return{...o,left:`${a}px`,right:"0px",height:o.height,top:o.top}})}function sO(e){const t=vt(i=>i.schedule),n=vt(i=>i.mode);if(!e)return[];const r=e.filter(i=>i.timeSlots===null||i.timeSlots.length===0);return n===$n.NONE||t.timeSlots.length>0?r.map(i=>({...i,selected:!1})):t.scheduleId<=0?[...r.map(i=>({...i,selected:!1})),{...t,selected:!0}]:r.map(i=>({...i,selected:i.scheduleId===t.scheduleId}))}const Xw={search:{isOpen:!1},filter:{isOpen:!1},edit:{isOpen:!1},info:{isOpen:!1}},yo=Mr(e=>({type:Xw,openBottomSheet:t=>e(n=>({type:{...n.type,[t]:{isOpen:!0}}})),closeBottomSheet:t=>e(n=>({type:{...n.type,[t]:{isOpen:!1}}})),resetBottomSheet:()=>e({type:Xw})})),U0=()=>new ci().toUiData();let H0;function Vr(){const e=Ti(),t=vt(k=>k.changeScheduleData),r=vt(k=>k.currentTimetable)?.timeTableId??-1,i=yo(k=>k.openBottomSheet),s=yo(k=>k.closeBottomSheet),[,o]=T.useTransition(),{mutate:a}=eO(r),{mutate:u}=tO(r),{mutate:c}=nO(r);return{setOptimisticSchedule:k=>{o(()=>t(k,$n.NONE))},openScheduleModal:k=>{H0=e.getQueryData(["timetableData",r]);let E;!k.scheduleId||k.scheduleId<=0?(E=$n.CREATE,k.scheduleType!=="official"&&i("edit")):k.scheduleType==="official"?(E=$n.VIEW,console.log(H0),i("info")):(E=$n.EDIT,i("edit")),t(k,E)},editSchedule:k=>{const E=vt.getState().schedule;let R=k instanceof Function?k(E):k;t(R)},saveSchedule:(k,E=!0)=>{const R=vt.getState().schedule,A=vt.getState().mode;if(k&&k.preventDefault(),!new lc(R.timeSlots).validate()){alert("       .");return}const U=R.timeSlots.length!==0;if(R.scheduleType==="custom"&&!U){alert(" !.");return}const I=new ci(R).toApiData();A===$n.CREATE?(I.scheduleId=aO(H0?.schedules??[]),a({schedule:I})):A===$n.EDIT&&(u({schedule:I}),t({...U0()},$n.NONE)),E&&s("edit")},deleteSchedule:k=>{const E=vt.getState().schedule;k&&k.preventDefault();const R=new ci(E).toApiData();c({schedule:R}),t({...U0()},$n.NONE),s("edit")},cancelSchedule:(k,E=!0)=>{k&&k.preventDefault(),t({...U0()},$n.NONE),E&&s("edit")}}}function oh(){const e=vt(n=>n.mode),t=vt(n=>n.schedule);return{modalActionType:e,schedule:t}}function oO(){const{minTime:e}=vt(n=>n.options);return{getTimeslot:(n,r,i)=>{n>r&&([n,r]=[r,n]),i!==void 0&&r-n<i&&(r=n+i);const s=Jw(e,n),o=Jw(e,r);return{startTime:s,endTime:o}}}}function Jw(e,t){const n=e+Math.floor(t),r=Math.floor((t-Math.floor(t))*60);return n<0?"00:00":n>23?"23:50":`${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}function aO(e){let t=-Math.floor(Math.random()*1e6);for(;e.some(n=>n.scheduleId===t);)t=-Math.floor(Math.random()*1e6);return t}function YS({title:e,professor:t,location:n,color:r="blue",schedule:i,selected:s=!1,timeslotIndex:o,fixed:a=!1,...u}){const{text:c,bgLight:h,bg:p}=lO(r),g=T.useRef(null),{openScheduleModal:x}=Vr(),w=vt(U=>U.schedule),S=s||w.scheduleId===i.scheduleId,k=(U,N,I,H)=>{if(!g.current||a)return;const V=I-U,F=(H-N)*$d;g.current.style.setProperty("transform",`translate(calc(100% * ${V}), ${F}px)`)},E=(U,N,I,H)=>{if(!g.current||a)return;i.scheduleType==="official"&&g.current.style.setProperty("transform","");const V={...i,timeSlots:i.timeSlots.map((F,le)=>le!==o?F:_O(F,I-U,H-N))};x(V),g.current.style.setProperty("transform","")},R=U=>{(U.key==="Enter"||U.key===" ")&&(U.preventDefault(),U.stopPropagation(),E(0,0,0,0))},{dragging:A,onMouseDown:z}=VS(k,E);return f.jsxs("div",{ref:g,className:`flex absolute ${h} rounded-l-xs cursor-pointer hover:z-20 focus:z-20 `+u.className,onMouseDown:z,onKeyDown:R,tabIndex:0,...u,children:[f.jsx("div",{className:`w-[2px] h-full sm:w-1 sm:rounded-xs  ${p}`}),f.jsxs("div",{className:"flex-auto sm:p-2 p-[1px] "+(S?"animate-pulse":"")+(A?"opacity-50":""),children:[f.jsx("h3",{className:`${c} font-semibold text-[9px] sm:text-sm`,children:e}),f.jsxs("p",{className:"sm:text-xs text-[7px] text-gray-500",children:[t," ",n]})]})]})}function lO(e){switch(e){case"rose":return{text:"text-rose-500",bgLight:"bg-rose-50",bg:"bg-rose-500"};case"amber":return{text:"text-amber-500",bgLight:"bg-amber-50",bg:"bg-amber-500"};case"green":return{text:"text-green-500",bgLight:"bg-green-50",bg:"bg-green-500"};case"emerald":return{text:"text-emerald-500",bgLight:"bg-emerald-50",bg:"bg-emerald-500"};case"blue":return{text:"text-blue-500",bgLight:"bg-blue-50",bg:"bg-blue-500"};case"violet":return{text:"text-violet-500",bgLight:"bg-violet-50",bg:"bg-violet-500"};default:return{text:"text-gray-500",bgLight:"bg-gray-50",bg:"bg-gray-500"}}}function uO({dayOfWeeks:e}){const t=vt(p=>p.schedule),n=vt(p=>p.options),{data:r}=Gi();if(!r||t.scheduleId>0||!t.timeSlots||t.timeSlots.length<=0)return null;let i=Number.parseInt(n.rowNames[0].replace("",""));Number.isNaN(i)&&(i=9);const s=new ci(t,r).toUiData(),a=new lc(s.timeSlots).toUiData(i).filter(({dayOfWeek:p})=>p===e);if(!a)return null;const{subjectName:u,professorName:c,location:h}=s;return a.map(({height:p,top:g,left:x,right:w},S)=>f.jsx(cO,{timeslotIndex:S,title:u??"",professor:c??"",location:h??"",schedule:t,style:{height:p,top:g,left:x,right:w}},`wire-schedule-${e}-${S}`))}function cO({title:e,professor:t,location:n,...r}){const{timeslotIndex:i,...s}=r;return f.jsx("div",{className:`flex absolute rounded-md z-20 
      border-violet-500 border-2 md:border-4
      ${r.className}`,style:{...r.style},...s,children:f.jsxs("div",{className:"flex-auto p-2 bg-violet-50  rounded-md animate-pulse",children:[f.jsx("h3",{className:"text-violet-500 font-semibold  text-[10px] sm:text-sm",children:e}),f.jsxs("p",{className:" sm:text-xs text-[8px]  text-gray-500",children:[t," ",n]})]})})}const V0=()=>new ci().toUiData(),dO=({dayOfWeeks:e,scheduleTimes:t})=>{const n=t,{setOptimisticSchedule:r,openScheduleModal:i}=Vr(),{getTimeslot:s}=oO(),o=(h,p,g,x)=>{const{startTime:w,endTime:S}=s(p,x,1);r({...V0(),timeSlots:[{dayOfWeeks:e,startTime:w,endTime:S}]})},a=(h,p,g,x)=>{const{startTime:w,endTime:S}=s(p,x,1);i({...V0(),timeSlots:[{dayOfWeeks:e,startTime:w,endTime:S}]})},u=h=>{(h.key==="Enter"||h.key===" ")&&i({...V0()})},{onMouseDown:c}=VS(o,a);return f.jsxs("div",{className:"relative flex-auto px-[2px]",tabIndex:0,onMouseDown:c,onKeyDown:u,children:[f.jsx(uO,{dayOfWeeks:e}),n.map(({title:h,professor:p,location:g,color:x,height:w,top:S,left:k,right:E,schedule:R},A)=>f.jsx(YS,{timeslotIndex:A,title:h,professor:p??"",location:g??"",schedule:R,color:x,style:{height:w,top:S,left:k,right:E}},"schedule-"+A))]})};function hO(){const e=vt(r=>r.currentTimetable?.timeTableId),{data:t}=_m(e),n=t?.reduce((r,i)=>{if(i.scheduleType!=="official"||!i.tmNum)return r;const s=i.tmNum.split("/").map(o=>{const a=Number(o);return Number.isNaN(a)?0:a});return r.map((o,a)=>o+(s[a]??0))},[0,0,0])??[0,0,0];return f.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 bg-blue-50 rounded-md p-2 mt-3",children:[f.jsxs("span",{children:[" : ",n[0]??0]}),f.jsxs("span",{children:[": ",n[1]??0]}),f.jsxs("span",{children:[": ",n[2]??0]})]})}const XS=e=>T.createElement("svg",{width:23,height:23,viewBox:"0 0 23 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M10.3669 11.3356L7.94579 9.04443C7.8086 8.9146 7.73766 8.75936 7.733 8.57871C7.72833 8.39807 7.79059 8.23915 7.9198 8.10198C8.049 7.9648 8.20424 7.89386 8.38551 7.88918C8.56678 7.88449 8.7257 7.94676 8.86225 8.07598L11.2834 10.3671L13.5745 7.94599C13.7043 7.80879 13.8596 7.73786 14.0402 7.73319C14.2209 7.72852 14.3798 7.79079 14.517 7.91999C14.6541 8.04919 14.7252 8.20458 14.7302 8.38616C14.7352 8.56774 14.6728 8.7265 14.5429 8.86244L12.2518 11.2836L14.6729 13.5747C14.8101 13.7045 14.8812 13.8599 14.8862 14.0409C14.8912 14.2218 14.8288 14.3806 14.6989 14.5171C14.5691 14.6537 14.4137 14.7248 14.2328 14.7304C14.0518 14.736 13.8931 14.6736 13.7565 14.5431L11.3354 12.252L9.04423 14.6731C8.9144 14.8103 8.75901 14.8814 8.57806 14.8864C8.39711 14.8914 8.23835 14.829 8.10178 14.6991C7.96521 14.5693 7.89428 14.414 7.88898 14.2334C7.88369 14.0528 7.94595 13.8939 8.07578 13.7567L10.3669 11.3356Z",fill:"#6B7280"}));function fO(){const e=vt(r=>r.currentTimetable),{data:t}=_m(e?.timeTableId),n=sO(t);return f.jsx(Oe,{direction:"flex-col",gap:"gap-2",className:"mt-3",children:n.map(r=>f.jsx(pO,{schedule:r,selected:r.selected},r.scheduleId))})}function pO({schedule:e,selected:t}){const{openScheduleModal:n}=Vr(),r=()=>{n(e)};return f.jsxs("div",{className:"h-10 w-full p-4 flex justify-between items-center rounded border "+(t?"bg-blue-100 border-blue-500":"border-gray-200"),children:[f.jsxs(Oe,{gap:"gap-5",children:[f.jsx("p",{children:e.subjectName}),f.jsx("p",{className:"text-stone-400",children:e.professorName})]}),f.jsx(rr,{"aria-label":"delete",variant:"plain",label:"delete",icon:f.jsx(XS,{className:"w-5 h-5"}),onClick:r})]},e.scheduleId)}const Sm=["","","","","","",""];function mO(e){const t=vt(a=>a.schedule),n=vt(a=>a.setOptions),r=[...e??[],t],i=r.reduce((a,u)=>{let c=a;return u.timeSlots?(u.timeSlots.some(h=>h.dayOfWeeks==="")&&(c=Math.max(c,6)),u.timeSlots.some(h=>h.dayOfWeeks==="")&&(c=Math.max(c,7)),c):a},5),{minTime:s,maxTime:o}=r.reduce((a,u)=>(u.timeSlots.forEach(c=>{const h=Number.parseInt(c.startTime.split(":")[0]),p=Number.parseInt(c.endTime.split(":")[0]);Number.isNaN(h)||Number.isNaN(p)||(a.minTime=Math.min(a.minTime,h),a.maxTime=Math.max(a.maxTime,p))}),a),{minTime:9,maxTime:20});return T.useEffect(()=>{n({rowNames:Array.from({length:o-s+1},(a,u)=>`${s+u}`),minTime:s,maxTime:o,rows:o-s+1})},[s,o]),T.useEffect(()=>{n({colNames:Sm.slice(0,i),cols:i})},[i]),{}}let Q0=null;const gO=e=>{const t=vt(r=>r.setOptions),n=()=>{if(!e.current)return;const r=e.current.getBoundingClientRect();t({width:r.width,height:r.height,tableX:r.left+window.pageXOffset,tableY:r.top+window.pageYOffset}),Q0=null};T.useEffect(()=>{if(!e.current)return;const r=()=>{Q0||(Q0=setTimeout(n,300),t({isMobile:window.innerWidth<768}))};return r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[e])};function yO(e){const t=T.useRef(!1),n=Dp(r=>r.setBanner);T.useEffect(()=>{e?.some(i=>i.isDeleted)&&!t.current&&(t.current=!0,n("  !    "))},[e])}const $d=40;function vO(){const e=T.useRef(null),t=vt(n=>n.setOptions);return T.useEffect(()=>{t({containerRef:e?.current??null})},[e]),f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"bg-white",ref:e,children:[f.jsx(wO,{children:f.jsx(bO,{})}),f.jsx(fO,{})]}),f.jsx(hO,{})]})}const xO=Sm.reduce((e,t)=>(e[t]=[],e),{});function bO(){const e=vt(s=>s.currentTimetable),{colNames:t,minTime:n}=vt(s=>s.options),{data:r}=_m(e?.timeTableId),i=GS(r,n)??xO;return yO(r),mO(r),t.map(s=>f.jsx(dO,{scheduleTimes:i[s]??[],dayOfWeeks:s},"day-schedule-"+s))}function wO({rowHeight:e=$d,children:t}){const{colNames:n,rowNames:r}=vt(i=>i.options);return f.jsx(JS,{colNames:n,rowNames:r,rowHeight:e,children:t})}class ci{data;constructor(t,n){if(!t){this.data=this.#t();return}if(t.scheduleType==="official"&&!t.subjectName){this.data=this.#e(t,n);return}this.data=t,this.data.timeSlots||(this.data.timeSlots=[])}#t(){return{scheduleId:-1,scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"",tmNum:"",isDeleted:!1,timeSlots:[]}}#e(t,n){if(!n)throw new TypeError("Subjects must be provided for API to UI conversion");const r=n instanceof Array?n.find(i=>i.subjectId===t.subjectId):n;return{scheduleId:t.scheduleId,scheduleType:t.scheduleType,subjectId:t.subjectId,subjectName:r?.subjectName??"",professorName:r?.professorName??"",location:r?.lesnRoom??"",tmNum:r?.tmNum??"",isDeleted:r?.isDeleted??!1,timeSlots:new lc(r?.lesnTime).toApiData()}}toApiData(){const t=this.data;return t.scheduleType==="official"?{scheduleId:t.scheduleId,scheduleType:"official",subjectId:t.subjectId??0,subjectName:null,professorName:null,location:null,timeSlots:[]}:{...t,scheduleType:"custom",subjectId:null}}toUiData(){return this.data}}class lc{data;constructor(t){if(!t){this.data=[];return}if(typeof t=="string"){this.data=this.#e(t);return}if(Array.isArray(t)){this.data=t.map(n=>this.#t(n));return}this.data=[this.#t(t)]}#t(t){const[n,r]=t.startTime.split(":"),[i,s]=t.endTime.split(":");return{dayOfWeeks:t.dayOfWeeks,startHour:Number.parseInt(n),startMinute:Number.parseInt(r),endHour:Number.parseInt(i),endMinute:Number.parseInt(s)}}#e(t){const n=/([]+)(\d{1,2}:\d{2})-(\d{1,2}:\d{2})/g,r=[];let i;for(;(i=n.exec(t))!==null;){const s=i[1],o=i[2],a=i[3],u=s.split("");for(const c of u)r.push(this.#t({dayOfWeeks:c,startTime:o,endTime:a}))}return r}validate(){return this.data.every(t=>{const{startHour:n,startMinute:r,endHour:i,endMinute:s}=t;return n<i||n===i&&r<s})}toApiData(){const t=n=>n.toString().padStart(2,"0");return this.data.map(n=>({dayOfWeeks:n.dayOfWeeks,startTime:`${t(n.startHour)}:${t(n.startMinute)}`,endTime:`${t(n.endHour)}:${t(n.endMinute)}`}))}toUiData(t){return this.data.map(({startHour:n,startMinute:r,endHour:i,endMinute:s,dayOfWeeks:o})=>{const a=(n*60+r)/60,u=(i*60+s)/60;return{dayOfWeek:o,depth:0,left:"0px",right:"0px",height:`${(u-a)*$d}px`,top:`${(a-t)*$d}px`}})}}function _O(e,t,n){const{dayOfWeeks:r,startTime:i,endTime:s}=e,[o,a]=i.split(":").map(Number),[u,c]=s.split(":").map(Number),h=Math.min(24,o+a/60+n),p=Math.min(24,u+c/60+n),g=Math.floor(h),x=Math.round((h-g)*60),w=Math.floor(p),S=Math.round((p-w)*60),k=["","","","","","",""],R=(k.indexOf(r)+t+k.length)%k.length;return{dayOfWeeks:k[R],startTime:`${g.toString().padStart(2,"0")}:${x.toString().padStart(2,"0")}`,endTime:`${w.toString().padStart(2,"0")}:${S.toString().padStart(2,"0")}`}}var $n=(e=>(e.NONE="none",e.CREATE="create",e.EDIT="edit",e.VIEW="view",e))($n||{});const vt=Mr(e=>({currentTimetable:null,options:{containerRef:null,timetableRef:null,colNames:Sm.slice(0,5),rowNames:Array.from({length:12},(t,n)=>`${n+9}`),minTime:9,maxTime:20,tableX:0,tableY:0,width:0,height:0,cols:5,rows:11,isMobile:!1},mode:"none",schedule:new ci().toUiData(),pickTimetable:t=>{e(n=>({...n,currentTimetable:t}))},setOptions:t=>{e(n=>({...n,options:{...n.options,...t}}))},changeScheduleData:(t,n)=>{e(r=>({...r,mode:n??r.mode,schedule:{...r.schedule,...t}}))}}));function JS({rowHeight:e=$d,colNames:t,rowNames:n,children:r}){const i=T.useRef(null),{isMobile:s}=vt(u=>u.options);gO(i);const{headerWidth:o,headerHeight:a}=s?{headerWidth:20,headerHeight:20}:{headerWidth:60,headerHeight:40};return f.jsxs("div",{className:"relative w-full bg-white",children:[f.jsxs("div",{className:"flex bg-gray-50 rounded-t-md",style:{height:`${a}px`},children:[f.jsx("div",{className:"flex items-center justify-center font-semibold text-gray-700",style:{width:`${o}px`}}),t.map((u,c)=>f.jsx("div",{className:"flex flex-auto items-center justify-center font-semibold text-gray-400 text-[10px] md:text-sm",children:u},"timetable-grid-header-"+c))]}),f.jsx("div",{className:"flex absolute inset-0",style:{top:`${a}px`,left:`${o}px`},children:t.map((u,c)=>f.jsx("div",{className:"flex-auto border-l border-gray-200 h-full"},"timetable-grid-col-"+c))}),n.map((u,c)=>f.jsx("div",{className:"border-b border-gray-200",style:{height:`${e}px`},children:f.jsx("span",{className:"flex items-center justify-center h-full text-gray-400 w-[20px] md:w-[60px] text-[10px] md:text-sm",children:u})},"timetable-grid-row-"+c)),f.jsx("div",{id:"timetable",ref:i,className:"absolute inset-0 flex z-10",style:{top:`${a}px`,left:`${o}px`},children:r})]})}const Zw=["","","","",""],SO=Array.from({length:5},(e,t)=>`${t+9}`),CO=[{scheduleId:"1",scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"B209",tmNum:"3/1/0",isDeleted:!1,timeSlots:[{dayOfWeeks:"",startTime:"09:00",endTime:"10:30"},{dayOfWeeks:"",startTime:"09:00",endTime:"10:30"}]},{scheduleId:"2",scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"B209",tmNum:"3/1/0",isDeleted:!1,timeSlots:[{dayOfWeeks:"",startTime:"11:00",endTime:"12:30"},{dayOfWeeks:"",startTime:"11:00",endTime:"12:30"}]},{scheduleId:3,scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"B209",tmNum:"3/1/0",isDeleted:!1,timeSlots:[{dayOfWeeks:"",startTime:"12:00",endTime:"13:30"},{dayOfWeeks:"",startTime:"12:00",endTime:"13:30"}]}];function kO(){const e=GS(CO,9);return f.jsxs(Tl,{children:[f.jsx(wm,{title:"",subtitle:"     ",href:"/timetable"}),f.jsx(Tn,{className:"mt-6",children:f.jsx(JS,{colNames:Zw,rowNames:SO,children:Zw.map(t=>f.jsx(jO,{data:e?e[t]:[]},t))})})]})}function jO({data:e}){return e?f.jsx("div",{className:"relative flex-auto px-[2px]",children:e.map(({title:t,professor:n,location:r,color:i,height:s,top:o,left:a,right:u,schedule:c},h)=>f.jsx(YS,{timeslotIndex:h,title:t,professor:n??"",location:r??"",schedule:c,color:i,style:{height:s,top:o,left:a,right:u},selected:!1,fixed:!0},"schedule-"+h))}):f.jsx("div",{className:"relative flex-auto px-[2px]"})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ah(e){return e+.5|0}const ra=(e,t,n)=>Math.max(Math.min(e,n),t);function vd(e){return ra(ah(e*2.55),0,255)}function aa(e){return ra(ah(e*255),0,255)}function ho(e){return ra(ah(e/2.55)/100,0,1)}function e3(e){return ra(ah(e*100),0,100)}const $i={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},cy=[..."0123456789ABCDEF"],EO=e=>cy[e&15],TO=e=>cy[(e&240)>>4]+cy[e&15],Ff=e=>(e&240)>>4===(e&15),PO=e=>Ff(e.r)&&Ff(e.g)&&Ff(e.b)&&Ff(e.a);function NO(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&$i[e[1]]*17,g:255&$i[e[2]]*17,b:255&$i[e[3]]*17,a:t===5?$i[e[4]]*17:255}:(t===7||t===9)&&(n={r:$i[e[1]]<<4|$i[e[2]],g:$i[e[3]]<<4|$i[e[4]],b:$i[e[5]]<<4|$i[e[6]],a:t===9?$i[e[7]]<<4|$i[e[8]]:255})),n}const OO=(e,t)=>e<255?t(e):"";function RO(e){var t=PO(e)?EO:TO;return e?"#"+t(e.r)+t(e.g)+t(e.b)+OO(e.a,t):void 0}const MO=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ZS(e,t,n){const r=t*Math.min(n,1-n),i=(s,o=(s+e/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function AO(e,t,n){const r=(i,s=(i+e/60)%6)=>n-n*t*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function LO(e,t,n){const r=ZS(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function IO(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}function Av(e){const n=e.r/255,r=e.g/255,i=e.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let u,c,h;return s!==o&&(h=s-o,c=a>.5?h/(2-s-o):h/(s+o),u=IO(n,r,i,h,s),u=u*60+.5),[u|0,c||0,a]}function Lv(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(aa)}function Iv(e,t,n){return Lv(ZS,e,t,n)}function DO(e,t,n){return Lv(LO,e,t,n)}function FO(e,t,n){return Lv(AO,e,t,n)}function e6(e){return(e%360+360)%360}function BO(e){const t=MO.exec(e);let n=255,r;if(!t)return;t[5]!==r&&(n=t[6]?vd(+t[5]):aa(+t[5]));const i=e6(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?r=DO(i,s,o):t[1]==="hsv"?r=FO(i,s,o):r=Iv(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function zO(e,t){var n=Av(e);n[0]=e6(n[0]+t),n=Iv(n),e.r=n[0],e.g=n[1],e.b=n[2]}function $O(e){if(!e)return;const t=Av(e),n=t[0],r=e3(t[1]),i=e3(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${i}%, ${ho(e.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const t3={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},n3={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function UO(){const e={},t=Object.keys(n3),n=Object.keys(t3);let r,i,s,o,a;for(r=0;r<t.length;r++){for(o=a=t[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,t3[s]);s=parseInt(n3[o],16),e[a]=[s>>16&255,s>>8&255,s&255]}return e}let Bf;function HO(e){Bf||(Bf=UO(),Bf.transparent=[0,0,0,0]);const t=Bf[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const VO=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function QO(e){const t=VO.exec(e);let n=255,r,i,s;if(t){if(t[7]!==r){const o=+t[7];n=t[8]?vd(o):ra(o*255,0,255)}return r=+t[1],i=+t[3],s=+t[5],r=255&(t[2]?vd(r):ra(r,0,255)),i=255&(t[4]?vd(i):ra(i,0,255)),s=255&(t[6]?vd(s):ra(s,0,255)),{r,g:i,b:s,a:n}}}function WO(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${ho(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const W0=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,bu=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function qO(e,t,n){const r=bu(ho(e.r)),i=bu(ho(e.g)),s=bu(ho(e.b));return{r:aa(W0(r+n*(bu(ho(t.r))-r))),g:aa(W0(i+n*(bu(ho(t.g))-i))),b:aa(W0(s+n*(bu(ho(t.b))-s))),a:e.a+n*(t.a-e.a)}}function zf(e,t,n){if(e){let r=Av(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,t===0?360:1)),r=Iv(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function t6(e,t){return e&&Object.assign(t||{},e)}function r3(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=aa(e[3]))):(t=t6(e,{r:0,g:0,b:0,a:1}),t.a=aa(t.a)),t}function KO(e){return e.charAt(0)==="r"?QO(e):BO(e)}class Ud{constructor(t){if(t instanceof Ud)return t;const n=typeof t;let r;n==="object"?r=r3(t):n==="string"&&(r=NO(t)||HO(t)||KO(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=t6(this._rgb);return t&&(t.a=ho(t.a)),t}set rgb(t){this._rgb=r3(t)}rgbString(){return this._valid?WO(this._rgb):void 0}hexString(){return this._valid?RO(this._rgb):void 0}hslString(){return this._valid?$O(this._rgb):void 0}mix(t,n){if(t){const r=this.rgb,i=t.rgb;let s;const o=n===s?.5:n,a=2*o-1,u=r.a-i.a,c=((a*u===-1?a:(a+u)/(1+a*u))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(t,n){return t&&(this._rgb=qO(this._rgb,t._rgb,n)),this}clone(){return new Ud(this.rgb)}alpha(t){return this._rgb.a=aa(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=ah(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return zf(this._rgb,2,t),this}darken(t){return zf(this._rgb,2,-t),this}saturate(t){return zf(this._rgb,1,t),this}desaturate(t){return zf(this._rgb,1,-t),this}rotate(t){return zO(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function so(){}const GO=(()=>{let e=0;return()=>e++})();function zt(e){return e==null}function Cn(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function $t(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function An(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Si(e,t){return An(e)?e:t}function bt(e,t){return typeof e>"u"?t:e}const YO=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,n6=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function dn(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function nn(e,t,n,r){let i,s,o;if(Cn(e))for(s=e.length,i=0;i<s;i++)t.call(n,e[i],i);else if($t(e))for(o=Object.keys(e),s=o.length,i=0;i<s;i++)t.call(n,e[o[i]],o[i])}function Vp(e,t){let n,r,i,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],s=t[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Qp(e){if(Cn(e))return e.map(Qp);if($t(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=Qp(e[n[i]]);return t}return e}function r6(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function XO(e,t,n,r){if(!r6(e))return;const i=t[e],s=n[e];$t(i)&&$t(s)?Hd(i,s,r):t[e]=Qp(s)}function Hd(e,t,n){const r=Cn(t)?t:[t],i=r.length;if(!$t(e))return e;n=n||{};const s=n.merger||XO;let o;for(let a=0;a<i;++a){if(o=r[a],!$t(o))continue;const u=Object.keys(o);for(let c=0,h=u.length;c<h;++c)s(u[c],e,o,n)}return e}function jd(e,t){return Hd(e,t,{merger:JO})}function JO(e,t,n){if(!r6(e))return;const r=t[e],i=n[e];$t(r)&&$t(i)?jd(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Qp(i))}const i3={"":e=>e,x:e=>e.x,y:e=>e.y};function ZO(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function eR(e){const t=ZO(e);return n=>{for(const r of t){if(r==="")break;n=n&&n[r]}return n}}function da(e,t){return(i3[t]||(i3[t]=eR(t)))(e)}function Dv(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Vd=e=>typeof e<"u",ha=e=>typeof e=="function",s3=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function tR(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Xt=Math.PI,yn=2*Xt,nR=yn+Xt,Wp=Number.POSITIVE_INFINITY,rR=Xt/180,Hn=Xt/2,Ya=Xt/4,o3=Xt*2/3,ia=Math.log10,Ds=Math.sign;function Ed(e,t,n){return Math.abs(e-t)<n}function a3(e){const t=Math.round(e);e=Ed(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(ia(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function iR(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(n|0)&&t.push(n),t.sort((i,s)=>i-s).pop(),t}function sR(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function wl(e){return!sR(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function oR(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function i6(e,t,n){let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function gs(e){return e*(Xt/180)}function Fv(e){return e*(180/Xt)}function l3(e){if(!An(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function s6(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*Xt&&(s+=yn),{angle:s,distance:i}}function dy(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function aR(e,t){return(e-t+nR)%yn-Xt}function Tr(e){return(e%yn+yn)%yn}function Qd(e,t,n,r){const i=Tr(e),s=Tr(t),o=Tr(n),a=Tr(s-i),u=Tr(o-i),c=Tr(i-s),h=Tr(i-o);return i===s||i===o||r&&s===o||a>u&&c<h}function hr(e,t,n){return Math.max(t,Math.min(n,e))}function lR(e){return hr(e,-32768,32767)}function po(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function Bv(e,t,n){n=n||(o=>e[o]<t);let r=e.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const mo=(e,t,n,r)=>Bv(e,n,r?i=>{const s=e[i][t];return s<n||s===n&&e[i+1][t]===n}:i=>e[i][t]<n),uR=(e,t,n)=>Bv(e,n,r=>e[r][t]>=n);function cR(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}const o6=["push","pop","shift","splice","unshift"];function dR(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),o6.forEach(n=>{const r="_onData"+Dv(n),i=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return e._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function u3(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);i!==-1&&r.splice(i,1),!(r.length>0)&&(o6.forEach(s=>{delete e[s]}),delete e._chartjs)}function a6(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const l6=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function u6(e,t){let n=[],r=!1;return function(...i){n=i,r||(r=!0,l6.call(window,()=>{r=!1,e.apply(t,n)}))}}function hR(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const zv=e=>e==="start"?"left":e==="end"?"right":"center",Er=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,fR=(e,t,n,r)=>e===(r?"left":"right")?n:e==="center"?(t+n)/2:t;function c6(e,t,n){const r=t.length;let i=0,s=r;if(e._sorted){const{iScale:o,vScale:a,_parsed:u}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,h=o.axis,{min:p,max:g,minDefined:x,maxDefined:w}=o.getUserBounds();if(x){if(i=Math.min(mo(u,h,p).lo,n?r:mo(t,h,o.getPixelForValue(p)).lo),c){const S=u.slice(0,i+1).reverse().findIndex(k=>!zt(k[a.axis]));i-=Math.max(0,S)}i=hr(i,0,r-1)}if(w){let S=Math.max(mo(u,o.axis,g,!0).hi+1,n?0:mo(t,h,o.getPixelForValue(g),!0).hi+1);if(c){const k=u.slice(S-1).findIndex(E=>!zt(E[a.axis]));S+=Math.max(0,k)}s=hr(S,i,r)-i}else s=r-i}return{start:i,count:s}}function d6(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const s=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const $f=e=>e===0||e===1,c3=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*yn/n)),d3=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*yn/n)+1,Td={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Hn)+1,easeOutSine:e=>Math.sin(e*Hn),easeInOutSine:e=>-.5*(Math.cos(Xt*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>$f(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>$f(e)?e:c3(e,.075,.3),easeOutElastic:e=>$f(e)?e:d3(e,.075,.3),easeInOutElastic(e){return $f(e)?e:e<.5?.5*c3(e*2,.1125,.45):.5+.5*d3(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Td.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Td.easeInBounce(e*2)*.5:Td.easeOutBounce(e*2-1)*.5+.5};function $v(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function h3(e){return $v(e)?e:new Ud(e)}function q0(e){return $v(e)?e:new Ud(e).saturate(.5).darken(.1).hexString()}const pR=["x","y","borderWidth","radius","tension"],mR=["color","borderColor","backgroundColor"];function gR(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:mR},numbers:{type:"number",properties:pR}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function yR(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const f3=new Map;function vR(e,t){t=t||{};const n=e+JSON.stringify(t);let r=f3.get(n);return r||(r=new Intl.NumberFormat(e,t),f3.set(n,r)),r}function lh(e,t,n){return vR(t,n).format(e)}const h6={values(e){return Cn(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const r=this.chart.options.locale;let i,s=e;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=xR(e,n)}const o=ia(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),u={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(u,this.options.ticks.format),lh(e,r,u)},logarithmic(e,t,n){if(e===0)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(ia(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?h6.numeric.call(this,e,t,n):""}};function xR(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Cm={formatters:h6};function bR(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Cm.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const _l=Object.create(null),hy=Object.create(null);function Pd(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];e=e[s]||(e[s]=Object.create(null))}return e}function K0(e,t,n){return typeof t=="string"?Hd(Pd(e,t),n):Hd(Pd(e,""),t)}class wR{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>q0(i.backgroundColor),this.hoverBorderColor=(r,i)=>q0(i.borderColor),this.hoverColor=(r,i)=>q0(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return K0(this,t,n)}get(t){return Pd(this,t)}describe(t,n){return K0(hy,t,n)}override(t,n){return K0(_l,t,n)}route(t,n,r,i){const s=Pd(this,t),o=Pd(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[a],c=o[i];return $t(u)?Object.assign({},c,u):bt(u,c)},set(u){this[a]=u}}})}apply(t){t.forEach(n=>n(this))}}var kn=new wR({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[gR,yR,bR]);function _R(e){return!e||zt(e.size)||zt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function qp(e,t,n,r,i){let s=t[i];return s||(s=t[i]=e.measureText(i).width,n.push(i)),s>r&&(r=s),r}function SR(e,t,n,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},s=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let o=0;const a=n.length;let u,c,h,p,g;for(u=0;u<a;u++)if(p=n[u],p!=null&&!Cn(p))o=qp(e,i,s,o,p);else if(Cn(p))for(c=0,h=p.length;c<h;c++)g=p[c],g!=null&&!Cn(g)&&(o=qp(e,i,s,o,g));e.restore();const x=s.length/2;if(x>n.length){for(u=0;u<x;u++)delete i[s[u]];s.splice(0,x)}return o}function Xa(e,t,n){const r=e.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function p3(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function fy(e,t,n,r){f6(e,t,n,r,null)}function f6(e,t,n,r,i){let s,o,a,u,c,h,p,g;const x=t.pointStyle,w=t.rotation,S=t.radius;let k=(w||0)*rR;if(x&&typeof x=="object"&&(s=x.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){e.save(),e.translate(n,r),e.rotate(k),e.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),e.restore();return}if(!(isNaN(S)||S<=0)){switch(e.beginPath(),x){default:i?e.ellipse(n,r,i/2,S,0,0,yn):e.arc(n,r,S,0,yn),e.closePath();break;case"triangle":h=i?i/2:S,e.moveTo(n+Math.sin(k)*h,r-Math.cos(k)*S),k+=o3,e.lineTo(n+Math.sin(k)*h,r-Math.cos(k)*S),k+=o3,e.lineTo(n+Math.sin(k)*h,r-Math.cos(k)*S),e.closePath();break;case"rectRounded":c=S*.516,u=S-c,o=Math.cos(k+Ya)*u,p=Math.cos(k+Ya)*(i?i/2-c:u),a=Math.sin(k+Ya)*u,g=Math.sin(k+Ya)*(i?i/2-c:u),e.arc(n-p,r-a,c,k-Xt,k-Hn),e.arc(n+g,r-o,c,k-Hn,k),e.arc(n+p,r+a,c,k,k+Hn),e.arc(n-g,r+o,c,k+Hn,k+Xt),e.closePath();break;case"rect":if(!w){u=Math.SQRT1_2*S,h=i?i/2:u,e.rect(n-h,r-u,2*h,2*u);break}k+=Ya;case"rectRot":p=Math.cos(k)*(i?i/2:S),o=Math.cos(k)*S,a=Math.sin(k)*S,g=Math.sin(k)*(i?i/2:S),e.moveTo(n-p,r-a),e.lineTo(n+g,r-o),e.lineTo(n+p,r+a),e.lineTo(n-g,r+o),e.closePath();break;case"crossRot":k+=Ya;case"cross":p=Math.cos(k)*(i?i/2:S),o=Math.cos(k)*S,a=Math.sin(k)*S,g=Math.sin(k)*(i?i/2:S),e.moveTo(n-p,r-a),e.lineTo(n+p,r+a),e.moveTo(n+g,r-o),e.lineTo(n-g,r+o);break;case"star":p=Math.cos(k)*(i?i/2:S),o=Math.cos(k)*S,a=Math.sin(k)*S,g=Math.sin(k)*(i?i/2:S),e.moveTo(n-p,r-a),e.lineTo(n+p,r+a),e.moveTo(n+g,r-o),e.lineTo(n-g,r+o),k+=Ya,p=Math.cos(k)*(i?i/2:S),o=Math.cos(k)*S,a=Math.sin(k)*S,g=Math.sin(k)*(i?i/2:S),e.moveTo(n-p,r-a),e.lineTo(n+p,r+a),e.moveTo(n+g,r-o),e.lineTo(n-g,r+o);break;case"line":o=i?i/2:Math.cos(k)*S,a=Math.sin(k)*S,e.moveTo(n-o,r-a),e.lineTo(n+o,r+a);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(k)*(i?i/2:S),r+Math.sin(k)*S);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function go(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function km(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function jm(e){e.restore()}function CR(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if(i==="middle"){const s=(t.x+n.x)/2;e.lineTo(s,t.y),e.lineTo(s,n.y)}else i==="after"!=!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function kR(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function jR(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),zt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function ER(e,t,n,r,i){if(i.strikethrough||i.underline){const s=e.measureText(r),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,u=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,h=i.strikethrough?(u+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,h),e.lineTo(a,h),e.stroke()}}function TR(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Sl(e,t,n,r,i,s={}){const o=Cn(t)?t:[t],a=s.strokeWidth>0&&s.strokeColor!=="";let u,c;for(e.save(),e.font=i.string,jR(e,s),u=0;u<o.length;++u)c=o[u],s.backdrop&&TR(e,s.backdrop),a&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),zt(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(c,n,r,s.maxWidth)),e.fillText(c,n,r,s.maxWidth),ER(e,n,r,c,s),r+=Number(i.lineHeight);e.restore()}function Wd(e,t){const{x:n,y:r,w:i,h:s,radius:o}=t;e.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*Xt,Xt,!0),e.lineTo(n,r+s-o.bottomLeft),e.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,Xt,Hn,!0),e.lineTo(n+i-o.bottomRight,r+s),e.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,Hn,0,!0),e.lineTo(n+i,r+o.topRight),e.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-Hn,!0),e.lineTo(n+o.topLeft,r)}const PR=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,NR=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function OR(e,t){const n=(""+e).match(PR);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const RR=e=>+e||0;function Uv(e,t){const n={},r=$t(t),i=r?Object.keys(t):t,s=$t(e)?r?o=>bt(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of i)n[o]=RR(s(o));return n}function p6(e){return Uv(e,{top:"y",right:"x",bottom:"y",left:"x"})}function yl(e){return Uv(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Rr(e){const t=p6(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function nr(e,t){e=e||{},t=t||kn.font;let n=bt(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let r=bt(e.style,t.style);r&&!(""+r).match(NR)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:bt(e.family,t.family),lineHeight:OR(bt(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:bt(e.weight,t.weight),string:""};return i.string=_R(i),i}function xd(e,t,n,r){let i,s,o;for(i=0,s=e.length;i<s;++i)if(o=e[i],o!==void 0&&o!==void 0)return o}function MR(e,t,n){const{min:r,max:i}=e,s=n6(t,(i-r)/2),o=(a,u)=>n&&a===0?0:a+u;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function xa(e,t){return Object.assign(Object.create(e),t)}function Hv(e,t=[""],n,r,i=()=>e[0]){const s=n||e;typeof r>"u"&&(r=v6("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>Hv([a,...e],t,s,r)};return new Proxy(o,{deleteProperty(a,u){return delete a[u],delete a._keys,delete e[0][u],!0},get(a,u){return g6(a,u,()=>$R(u,t,e,a))},getOwnPropertyDescriptor(a,u){return Reflect.getOwnPropertyDescriptor(a._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,u){return g3(a).includes(u)},ownKeys(a){return g3(a)},set(a,u,c){const h=a._storage||(a._storage=i());return a[u]=h[u]=c,delete a._keys,!0}})}function Zu(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:m6(e,r),setContext:s=>Zu(e,s,n,r),override:s=>Zu(e.override(s),t,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete e[o],!0},get(s,o,a){return g6(s,o,()=>LR(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(s,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(s,o,a){return e[o]=a,delete s[o],!0}})}function m6(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:ha(n)?n:()=>n,isIndexable:ha(r)?r:()=>r}}const AR=(e,t)=>e?e+Dv(t):t,Vv=(e,t)=>$t(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function g6(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=n();return e[t]=r,r}function LR(e,t,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=e;let a=r[t];return ha(a)&&o.isScriptable(t)&&(a=IR(t,a,e,n)),Cn(a)&&a.length&&(a=DR(t,a,e,o.isIndexable)),Vv(t,a)&&(a=Zu(a,i,s&&s[t],o)),a}function IR(e,t,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let u=t(s,o||r);return a.delete(e),Vv(e,u)&&(u=Qv(i._scopes,i,e,u)),u}function DR(e,t,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(e))return t[s.index%t.length];if($t(t[0])){const u=t,c=i._scopes.filter(h=>h!==u);t=[];for(const h of u){const p=Qv(c,i,e,h);t.push(Zu(p,s,o&&o[e],a))}}return t}function y6(e,t,n){return ha(e)?e(t,n):e}const FR=(e,t)=>e===!0?t:typeof e=="string"?da(t,e):void 0;function BR(e,t,n,r,i){for(const s of t){const o=FR(n,s);if(o){e.add(o);const a=y6(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function Qv(e,t,n,r){const i=t._rootScopes,s=y6(t._fallback,n,r),o=[...e,...i],a=new Set;a.add(r);let u=m3(a,o,n,s||n,r);return u===null||typeof s<"u"&&s!==n&&(u=m3(a,o,s,u,r),u===null)?!1:Hv(Array.from(a),[""],i,s,()=>zR(t,n,r))}function m3(e,t,n,r,i){for(;n;)n=BR(e,t,n,r,i);return n}function zR(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];return Cn(i)&&$t(n)?n:i||{}}function $R(e,t,n,r){let i;for(const s of t)if(i=v6(AR(s,e),n),typeof i<"u")return Vv(e,i)?Qv(n,r,e,i):i}function v6(e,t){for(const n of t){if(!n)continue;const r=n[e];if(typeof r<"u")return r}}function g3(e){let t=e._keys;return t||(t=e._keys=UR(e._scopes)),t}function UR(e){const t=new Set;for(const n of e)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))t.add(r);return Array.from(t)}function x6(e,t,n,r){const{iScale:i}=e,{key:s="r"}=this._parsing,o=new Array(r);let a,u,c,h;for(a=0,u=r;a<u;++a)c=a+n,h=t[c],o[a]={r:i.parse(da(h,s),c)};return o}const HR=Number.EPSILON||1e-14,ec=(e,t)=>t<e.length&&!e[t].skip&&e[t],b6=e=>e==="x"?"y":"x";function VR(e,t,n,r){const i=e.skip?t:e,s=t,o=n.skip?t:n,a=dy(s,i),u=dy(o,s);let c=a/(a+u),h=u/(a+u);c=isNaN(c)?0:c,h=isNaN(h)?0:h;const p=r*c,g=r*h;return{previous:{x:s.x-p*(o.x-i.x),y:s.y-p*(o.y-i.y)},next:{x:s.x+g*(o.x-i.x),y:s.y+g*(o.y-i.y)}}}function QR(e,t,n){const r=e.length;let i,s,o,a,u,c=ec(e,0);for(let h=0;h<r-1;++h)if(u=c,c=ec(e,h+1),!(!u||!c)){if(Ed(t[h],0,HR)){n[h]=n[h+1]=0;continue}i=n[h]/t[h],s=n[h+1]/t[h],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[h]=i*o*t[h],n[h+1]=s*o*t[h])}}function WR(e,t,n="x"){const r=b6(n),i=e.length;let s,o,a,u=ec(e,0);for(let c=0;c<i;++c){if(o=a,a=u,u=ec(e,c+1),!a)continue;const h=a[n],p=a[r];o&&(s=(h-o[n])/3,a[`cp1${n}`]=h-s,a[`cp1${r}`]=p-s*t[c]),u&&(s=(u[n]-h)/3,a[`cp2${n}`]=h+s,a[`cp2${r}`]=p+s*t[c])}}function qR(e,t="x"){const n=b6(t),r=e.length,i=Array(r).fill(0),s=Array(r);let o,a,u,c=ec(e,0);for(o=0;o<r;++o)if(a=u,u=c,c=ec(e,o+1),!!u){if(c){const h=c[t]-u[t];i[o]=h!==0?(c[n]-u[n])/h:0}s[o]=a?c?Ds(i[o-1])!==Ds(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}QR(e,i,s),WR(e,s,t)}function Uf(e,t,n){return Math.max(Math.min(e,n),t)}function KR(e,t){let n,r,i,s,o,a=go(e[0],t);for(n=0,r=e.length;n<r;++n)o=s,s=a,a=n<r-1&&go(e[n+1],t),s&&(i=e[n],o&&(i.cp1x=Uf(i.cp1x,t.left,t.right),i.cp1y=Uf(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=Uf(i.cp2x,t.left,t.right),i.cp2y=Uf(i.cp2y,t.top,t.bottom)))}function GR(e,t,n,r,i){let s,o,a,u;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")qR(e,i);else{let c=r?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)a=e[s],u=VR(c,a,e[Math.min(s+1,o-(r?0:1))%o],t.tension),a.cp1x=u.previous.x,a.cp1y=u.previous.y,a.cp2x=u.next.x,a.cp2y=u.next.y,c=a}t.capBezierPoints&&KR(e,n)}function Wv(){return typeof window<"u"&&typeof document<"u"}function qv(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Kp(e,t,n){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}const Em=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function YR(e,t){return Em(e).getPropertyValue(t)}const XR=["top","right","bottom","left"];function vl(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=XR[i];r[s]=parseFloat(e[t+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const JR=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function ZR(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:s}=r;let o=!1,a,u;if(JR(i,s,e.target))a=i,u=s;else{const c=t.getBoundingClientRect();a=r.clientX-c.left,u=r.clientY-c.top,o=!0}return{x:a,y:u,box:o}}function sl(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=Em(n),s=i.boxSizing==="border-box",o=vl(i,"padding"),a=vl(i,"border","width"),{x:u,y:c,box:h}=ZR(e,n),p=o.left+(h&&a.left),g=o.top+(h&&a.top);let{width:x,height:w}=t;return s&&(x-=o.width+a.width,w-=o.height+a.height),{x:Math.round((u-p)/x*n.width/r),y:Math.round((c-g)/w*n.height/r)}}function eM(e,t,n){let r,i;if(t===void 0||n===void 0){const s=e&&qv(e);if(!s)t=e.clientWidth,n=e.clientHeight;else{const o=s.getBoundingClientRect(),a=Em(s),u=vl(a,"border","width"),c=vl(a,"padding");t=o.width-c.width-u.width,n=o.height-c.height-u.height,r=Kp(a.maxWidth,s,"clientWidth"),i=Kp(a.maxHeight,s,"clientHeight")}}return{width:t,height:n,maxWidth:r||Wp,maxHeight:i||Wp}}const Hf=e=>Math.round(e*10)/10;function tM(e,t,n,r){const i=Em(e),s=vl(i,"margin"),o=Kp(i.maxWidth,e,"clientWidth")||Wp,a=Kp(i.maxHeight,e,"clientHeight")||Wp,u=eM(e,t,n);let{width:c,height:h}=u;if(i.boxSizing==="content-box"){const g=vl(i,"border","width"),x=vl(i,"padding");c-=x.width+g.width,h-=x.height+g.height}return c=Math.max(0,c-s.width),h=Math.max(0,r?c/r:h-s.height),c=Hf(Math.min(c,o,u.maxWidth)),h=Hf(Math.min(h,a,u.maxHeight)),c&&!h&&(h=Hf(c/2)),(t!==void 0||n!==void 0)&&r&&u.height&&h>u.height&&(h=u.height,c=Hf(Math.floor(h*r))),{width:c,height:h}}function y3(e,t,n){const r=t||1,i=Math.floor(e.height*r),s=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(e.currentDevicePixelRatio=r,o.height=i,o.width=s,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const nM=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Wv()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function v3(e,t){const n=YR(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function ol(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function rM(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:r==="middle"?n<.5?e.y:t.y:r==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function iM(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},o=ol(e,i,n),a=ol(i,s,n),u=ol(s,t,n),c=ol(o,a,n),h=ol(a,u,n);return ol(c,h,n)}const sM=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},oM=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Ku(e,t,n){return e?sM(t,n):oM()}function w6(e,t){let n,r;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function _6(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function S6(e){return e==="angle"?{between:Qd,compare:aR,normalize:Tr}:{between:po,compare:(t,n)=>t-n,normalize:t=>t}}function x3({start:e,end:t,count:n,loop:r,style:i}){return{start:e%n,end:t%n,loop:r&&(t-e+1)%n===0,style:i}}function aM(e,t,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=S6(r),u=t.length;let{start:c,end:h,loop:p}=e,g,x;if(p){for(c+=u,h+=u,g=0,x=u;g<x&&o(a(t[c%u][r]),i,s);++g)c--,h--;c%=u,h%=u}return h<c&&(h+=u),{start:c,end:h,loop:p,style:e.style}}function C6(e,t,n){if(!n)return[e];const{property:r,start:i,end:s}=n,o=t.length,{compare:a,between:u,normalize:c}=S6(r),{start:h,end:p,loop:g,style:x}=aM(e,t,n),w=[];let S=!1,k=null,E,R,A;const z=()=>u(i,A,E)&&a(i,A)!==0,U=()=>a(s,E)===0||u(s,A,E),N=()=>S||z(),I=()=>!S||U();for(let H=h,V=h;H<=p;++H)R=t[H%o],!R.skip&&(E=c(R[r]),E!==A&&(S=u(E,i,s),k===null&&N()&&(k=a(E,i)===0?H:V),k!==null&&I()&&(w.push(x3({start:k,end:H,loop:g,count:o,style:x})),k=null),V=H,A=E));return k!==null&&w.push(x3({start:k,end:p,loop:g,count:o,style:x})),w}function k6(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const s=C6(r[i],e.points,t);s.length&&n.push(...s)}return n}function lM(e,t,n,r){let i=0,s=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(s+=i);s>i&&e[s%t].skip;)s--;return s%=t,{start:i,end:s}}function uM(e,t,n,r){const i=e.length,s=[];let o=t,a=e[t],u;for(u=t+1;u<=n;++u){const c=e[u%i];c.skip||c.stop?a.skip||(r=!1,s.push({start:t%i,end:(u-1)%i,loop:r}),t=o=c.stop?u:null):(o=u,a.skip&&(t=u)),a=c}return o!==null&&s.push({start:t%i,end:o%i,loop:r}),s}function cM(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const s=!!e._loop,{start:o,end:a}=lM(n,i,s,r);if(r===!0)return b3(e,[{start:o,end:a,loop:s}],n,t);const u=a<o?a+i:a,c=!!e._fullLoop&&o===0&&a===i-1;return b3(e,uM(n,o,u,c),n,t)}function b3(e,t,n,r){return!r||!r.setContext||!n?t:dM(e,t,n,r)}function dM(e,t,n,r){const i=e._chart.getContext(),s=w3(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,u=n.length,c=[];let h=s,p=t[0].start,g=p;function x(w,S,k,E){const R=a?-1:1;if(w!==S){for(w+=u;n[w%u].skip;)w-=R;for(;n[S%u].skip;)S+=R;w%u!==S%u&&(c.push({start:w%u,end:S%u,loop:k,style:E}),h=E,p=S%u)}}for(const w of t){p=a?p:w.start;let S=n[p%u],k;for(g=p+1;g<=w.end;g++){const E=n[g%u];k=w3(r.setContext(xa(i,{type:"segment",p0:S,p1:E,p0DataIndex:(g-1)%u,p1DataIndex:g%u,datasetIndex:o}))),hM(k,h)&&x(p,g-1,w.loop,h),S=E,h=k}p<g-1&&x(p,g-1,w.loop,h)}return c}function w3(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function hM(e,t){if(!t)return!1;const n=[],r=function(i,s){return $v(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function Vf(e,t,n){return e.options.clip?e[n]:t[n]}function fM(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:Vf(n,t,"left"),right:Vf(n,t,"right"),top:Vf(r,t,"top"),bottom:Vf(r,t,"bottom")}:t}function j6(e,t){const n=t._clip;if(n.disabled)return!1;const r=fM(t,e.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class pM{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=l6.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,u;for(;o>=0;--o)u=s[o],u._active?(u._total>r.duration&&(r.duration=u._total),u.tick(t),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,t,"progress")),s.length||(r.running=!1,this._notify(i,r,t,"complete"),r.initial=!1),n+=s.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let r=n.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,r)),r}listen(t,n,r){this._getAnims(t).listeners[n].push(r)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var oo=new pM;const _3="transparent",mM={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const r=h3(e||_3),i=r.valid&&h3(t||_3);return i&&i.valid?i.mix(r,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class gM{constructor(t,n,r,i){const s=n[r];i=xd([t.to,i,s,t.from]);const o=xd([t.from,s,i]);this._active=!0,this._fn=t.fn||mM[t.type||typeof o],this._easing=Td[t.easing]||Td.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=xd([t.to,n,i,t.from]),this._from=xd([t.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let u;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}u=n/r%2,u=o&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[i]=this._fn(s,a,u)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,r)=>{t.push({res:n,rej:r})})}_notify(t){const n=t?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class E6{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!$t(t))return;const n=Object.keys(kn.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const s=t[i];if(!$t(s))return;const o={};for(const a of n)o[a]=s[a];(Cn(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(t,n){const r=n.options,i=vM(t,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&yM(t.options.$animations,r).then(()=>{t.options=r},()=>{}),s}_createAnimations(t,n){const r=this._properties,i=[],s=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let u;for(u=o.length-1;u>=0;--u){const c=o[u];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(t,n));continue}const h=n[c];let p=s[c];const g=r.get(c);if(p)if(g&&p.active()){p.update(g,h,a);continue}else p.cancel();if(!g||!g.duration){t[c]=h;continue}s[c]=p=new gM(g,t,c,h),i.push(p)}return i}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const r=this._createAnimations(t,n);if(r.length)return oo.add(this._chart,r),!0}}function yM(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const s=e[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function vM(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function S3(e,t){const n=e&&e.options||{},r=n.reverse,i=n.min===void 0?t:0,s=n.max===void 0?t:0;return{start:r?s:i,end:r?i:s}}function xM(e,t,n){if(n===!1)return!1;const r=S3(e,n),i=S3(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function bM(e){let t,n,r,i;return $t(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:e===!1}}function T6(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function C3(e,t,n,r={}){const i=e.keys,s=r.mode==="single";let o,a,u,c;if(t===null)return;let h=!1;for(o=0,a=i.length;o<a;++o){if(u=+i[o],u===n){if(h=!0,r.all)continue;break}c=e.values[u],An(c)&&(s||t===0||Ds(t)===Ds(c))&&(t+=c)}return!h&&!r.all?0:t}function wM(e,t){const{iScale:n,vScale:r}=t,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(e),a=new Array(o.length);let u,c,h;for(u=0,c=o.length;u<c;++u)h=o[u],a[u]={[i]:h,[s]:e[h]};return a}function G0(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function _M(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function SM(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function CM(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function k3(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const s=e[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function j3(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,u=s.axis,c=o.axis,h=_M(s,o,r),p=t.length;let g;for(let x=0;x<p;++x){const w=t[x],{[u]:S,[c]:k}=w,E=w._stacks||(w._stacks={});g=E[c]=CM(i,h,S),g[a]=k,g._top=k3(g,o,!0,r.type),g._bottom=k3(g,o,!1,r.type);const R=g._visualValues||(g._visualValues={});R[a]=k}}function Y0(e,t){const n=e.scales;return Object.keys(n).filter(r=>n[r].axis===t).shift()}function kM(e,t){return xa(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function jM(e,t,n){return xa(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function nd(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const i of t){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const X0=e=>e==="reset"||e==="none",E3=(e,t)=>t?e:Object.assign({},e),EM=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:T6(n,!0),values:null};class ba{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=G0(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&nd(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(p,g,x,w)=>p==="x"?g:p==="r"?w:x,s=n.xAxisID=bt(r.xAxisID,Y0(t,"x")),o=n.yAxisID=bt(r.yAxisID,Y0(t,"y")),a=n.rAxisID=bt(r.rAxisID,Y0(t,"r")),u=n.indexAxis,c=n.iAxisID=i(u,s,o,a),h=n.vAxisID=i(u,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&u3(this._data,this),t._stacked&&nd(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if($t(n)){const i=this._cachedMeta;this._data=wM(n,i)}else if(r!==n){if(r){u3(r,this);const i=this._cachedMeta;nd(i),i._parsed=[]}n&&Object.isExtensible(n)&&dR(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=G0(n.vScale,n),n.stack!==r.stack&&(i=!0,nd(n),n.stack=r.stack),this._resyncElements(t),(i||s!==n._stacked)&&(j3(this,n._parsed),n._stacked=G0(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let u=t===0&&n===i.length?!0:r._sorted,c=t>0&&r._parsed[t-1],h,p,g;if(this._parsing===!1)r._parsed=i,r._sorted=!0,g=i;else{Cn(i[t])?g=this.parseArrayData(r,i,t,n):$t(i[t])?g=this.parseObjectData(r,i,t,n):g=this.parsePrimitiveData(r,i,t,n);const x=()=>p[a]===null||c&&p[a]<c[a];for(h=0;h<n;++h)r._parsed[h+t]=p=g[h],u&&(x()&&(u=!1),c=p);r._sorted=u}o&&j3(this,g)}parsePrimitiveData(t,n,r,i){const{iScale:s,vScale:o}=t,a=s.axis,u=o.axis,c=s.getLabels(),h=s===o,p=new Array(i);let g,x,w;for(g=0,x=i;g<x;++g)w=g+r,p[g]={[a]:h||s.parse(c[w],w),[u]:o.parse(n[w],w)};return p}parseArrayData(t,n,r,i){const{xScale:s,yScale:o}=t,a=new Array(i);let u,c,h,p;for(u=0,c=i;u<c;++u)h=u+r,p=n[h],a[u]={x:s.parse(p[0],h),y:o.parse(p[1],h)};return a}parseObjectData(t,n,r,i){const{xScale:s,yScale:o}=t,{xAxisKey:a="x",yAxisKey:u="y"}=this._parsing,c=new Array(i);let h,p,g,x;for(h=0,p=i;h<p;++h)g=h+r,x=n[g],c[h]={x:s.parse(da(x,a),g),y:o.parse(da(x,u),g)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const i=this.chart,s=this._cachedMeta,o=n[t.axis],a={keys:T6(i,!0),values:n._stacks[t.axis]._visualValues};return C3(a,o,s.index,{mode:r})}updateRangeFromParsed(t,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=C3(i,s,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&t===r.iScale,o=i.length,a=this._getOtherScale(t),u=EM(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:p}=SM(a);let g,x;function w(){x=i[g];const S=x[a.axis];return!An(x[t.axis])||h>S||p<S}for(g=0;g<o&&!(!w()&&(this.updateRangeFromParsed(c,t,x,u),s));++g);if(s){for(g=o-1;g>=0;--g)if(!w()){this.updateRangeFromParsed(c,t,x,u);break}}return c}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][t.axis],An(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(t);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=bM(bt(this.options.clip,xM(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,u=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let h;for(r.dataset&&r.dataset.draw(t,s,a,u),h=a;h<a+u;++h){const p=i[h];p.hidden||(p.active&&c?o.push(p):p.draw(t,s))}for(h=0;h<o.length;++h)o[h].draw(t,s)}getStyle(t,n){const r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const i=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];s=o.$context||(o.$context=jM(this.getContext(),t,o)),s.parsed=this.getParsed(t),s.raw=i.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=kM(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=t+"-"+n,a=s[o],u=this.enableOptionSharing&&Vd(r);if(a)return E3(a,u);const c=this.chart.config,h=c.datasetElementScopeKeys(this._type,t),p=i?[`${t}Hover`,"hover",t,""]:[t,""],g=c.getOptionScopes(this.getDataset(),h),x=Object.keys(kn.elements[t]),w=()=>this.getContext(r,i,n),S=c.resolveNamedOptions(g,x,w,p);return S.$shared&&(S.$shared=u,s[o]=Object.freeze(E3(S,u))),S}_resolveAnimations(t,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let u;if(i.options.animation!==!1){const h=this.chart.config,p=h.datasetAnimationScopeKeys(this._type,n),g=h.getOptionScopes(this.getDataset(),p);u=h.createResolver(g,this.getContext(t,r,n))}const c=new E6(i,u&&u.animations);return u&&u._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||X0(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(t,n,r,i){X0(i)?Object.assign(t,r):this._resolveAnimations(n,i).update(t,r)}updateSharedOptions(t,n,r){t&&!X0(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,i){t.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(t,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[a,u,c]of this._syncList)this[a](u,c);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,t):s<i&&this._removeElements(s,i-s)}_insertElements(t,n,r=!0){const i=this._cachedMeta,s=i.data,o=t+n;let a;const u=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(u(s),a=t;a<o;++a)s[a]=new this.dataElementType;this._parsing&&u(i._parsed),this.parse(t,n),r&&this.updateElements(s,t,n,"reset")}updateElements(t,n,r,i){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(t,n);r._stacked&&nd(r,i)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,i]=t;this[n](r,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function TM(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(e));e._cache.$bar=a6(r.sort((i,s)=>i-s))}return e._cache.$bar}function PM(e){const t=e.iScale,n=TM(t,e.type);let r=t._length,i,s,o,a;const u=()=>{o===32767||o===-32768||(Vd(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=n.length;i<s;++i)o=t.getPixelForValue(n[i]),u();for(a=void 0,i=0,s=t.ticks.length;i<s;++i)o=t.getPixelForTick(i),u();return r}function NM(e,t,n,r){const i=n.barThickness;let s,o;return zt(i)?(s=t.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:t.pixels[e]-s/2}}function OM(e,t,n,r){const i=t.pixels,s=i[e];let o=e>0?i[e-1]:null,a=e<i.length-1?i[e+1]:null;const u=n.categoryPercentage;o===null&&(o=s-(a===null?t.end-t.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*u;return{chunk:Math.abs(a-o)/2*u/r,ratio:n.barPercentage,start:c}}function RM(e,t,n,r){const i=n.parse(e[0],r),s=n.parse(e[1],r),o=Math.min(i,s),a=Math.max(i,s);let u=o,c=a;Math.abs(o)>Math.abs(a)&&(u=a,c=o),t[n.axis]=c,t._custom={barStart:u,barEnd:c,start:i,end:s,min:o,max:a}}function P6(e,t,n,r){return Cn(e)?RM(e,t,n,r):t[n.axis]=n.parse(e,r),t}function T3(e,t,n,r){const i=e.iScale,s=e.vScale,o=i.getLabels(),a=i===s,u=[];let c,h,p,g;for(c=n,h=n+r;c<h;++c)g=t[c],p={},p[i.axis]=a||i.parse(o[c],c),u.push(P6(g,p,s,c));return u}function J0(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function MM(e,t,n){return e!==0?Ds(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function AM(e){let t,n,r,i,s;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:t,top:i,bottom:s}}function LM(e,t,n,r){let i=t.borderSkipped;const s={};if(!i){e.borderSkipped=s;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:u,top:c,bottom:h}=AM(e);i==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=h:(s[P3(h,o,a,u)]=!0,i=c)),s[P3(i,o,a,u)]=!0,e.borderSkipped=s}function P3(e,t,n,r){return r?(e=IM(e,t,n),e=N3(e,n,t)):e=N3(e,t,n),e}function IM(e,t,n){return e===t?n:e===n?t:e}function N3(e,t,n){return e==="start"?t:e==="end"?n:e}function DM(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class N6 extends ba{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,n,r,i){return T3(t,n,r,i)}parseArrayData(t,n,r,i){return T3(t,n,r,i)}parseObjectData(t,n,r,i){const{iScale:s,vScale:o}=t,{xAxisKey:a="x",yAxisKey:u="y"}=this._parsing,c=s.axis==="x"?a:u,h=o.axis==="x"?a:u,p=[];let g,x,w,S;for(g=r,x=r+i;g<x;++g)S=n[g],w={},w[s.axis]=s.parse(da(S,c),g),p.push(P6(da(S,h),w,o,g));return p}updateRangeFromParsed(t,n,r,i){super.updateRangeFromParsed(t,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(t),o=s._custom,a=J0(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,r,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,u=a.getBasePixel(),c=a.isHorizontal(),h=this._getRuler(),{sharedOptions:p,includeOptions:g}=this._getSharedOptions(n,i);for(let x=n;x<n+r;x++){const w=this.getParsed(x),S=s||zt(w[a.axis])?{base:u,head:u}:this._calculateBarValuePixels(x),k=this._calculateBarIndexPixels(x,h),E=(w._stacks||{})[a.axis],R={horizontal:c,base:S.base,enableBorderRadius:!E||J0(w._custom)||o===E._top||o===E._bottom,x:c?S.head:k.center,y:c?k.center:S.head,height:c?k.size:Math.abs(S.size),width:c?Math.abs(S.size):k.size};g&&(R.options=p||this.resolveDataElementOptions(x,t[x].active?"active":i));const A=R.options||t[x].options;LM(R,A,E,o),DM(R,A,h.ratio),this.updateElement(t[x],x,R,i)}}_getStacks(t,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),s=r.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),u=a&&a[r.axis],c=h=>{const p=h._parsed.find(x=>x[r.axis]===u),g=p&&p[h.vScale.axis];if(zt(g)||isNaN(g))return!0};for(const h of i)if(!(n!==void 0&&c(h))&&((s===!1||o.indexOf(h.stack)===-1||s===void 0&&h.stack===void 0)&&o.push(h.stack),h.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(r=>t[r].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)t[bt(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,r){const i=this._getStacks(t,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const t=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,o;for(s=0,o=n.data.length;s<o;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const a=t.barThickness;return{min:a||PM(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:s,minBarLength:o}}=this,a=s||0,u=this.getParsed(t),c=u._custom,h=J0(c);let p=u[n.axis],g=0,x=r?this.applyStack(n,u,r):p,w,S;x!==p&&(g=x-p,x=p),h&&(p=c.barStart,x=c.barEnd-c.barStart,p!==0&&Ds(p)!==Ds(c.barEnd)&&(g=0),g+=p);const k=!zt(s)&&!h?s:g;let E=n.getPixelForValue(k);if(this.chart.getDataVisibility(t)?w=n.getPixelForValue(g+x):w=E,S=w-E,Math.abs(S)<o){S=MM(S,n,a)*o,p===a&&(E-=S/2);const R=n.getPixelForDecimal(0),A=n.getPixelForDecimal(1),z=Math.min(R,A),U=Math.max(R,A);E=Math.max(Math.min(E,U),z),w=E+S,r&&!h&&(u._stacks[n.axis]._visualValues[i]=n.getValueForPixel(w)-n.getValueForPixel(E))}if(E===n.getPixelForValue(a)){const R=Ds(S)*n.getLineWidthForValue(a)/2;E+=R,S-=R}return{size:S,base:E,head:w,center:w+S/2}}_calculateBarIndexPixels(t,n){const r=n.scale,i=this.options,s=i.skipNull,o=bt(i.maxBarThickness,1/0);let a,u;const c=this._getAxisCount();if(n.grouped){const h=s?this._getStackCount(t):n.stackCount,p=i.barThickness==="flex"?OM(t,n,i,h*c):NM(t,n,i,h*c),g=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,x=this._getAxis().indexOf(bt(g,this.getFirstScaleIdForIndexAxis())),w=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0)+x;a=p.start+p.chunk*w+p.chunk/2,u=Math.min(o,p.chunk*p.ratio)}else a=r.getPixelForValue(this.getParsed(t)[r.axis],t),u=Math.min(o,n.min*n.ratio);return{base:a-u/2,head:a+u/2,center:a,size:u}}draw(){const t=this._cachedMeta,n=t.vScale,r=t.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}class FM extends ba{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,r,i){const s=super.parsePrimitiveData(t,n,r,i);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+r).radius;return s}parseArrayData(t,n,r,i){const s=super.parseArrayData(t,n,r,i);for(let o=0;o<s.length;o++){const a=n[r+o];s[o]._custom=bt(a[2],this.resolveDataElementOptions(o+r).radius)}return s}parseObjectData(t,n,r,i){const s=super.parseObjectData(t,n,r,i);for(let o=0;o<s.length;o++){const a=n[r+o];s[o]._custom=bt(a&&a.r&&+a.r,this.resolveDataElementOptions(o+r).radius)}return s}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let r=t.length-1;r>=0;--r)n=Math.max(n,t[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,o=this.getParsed(t),a=i.getLabelForValue(o.x),u=s.getLabelForValue(o.y),c=o._custom;return{label:r[t]||"",value:"("+a+", "+u+(c?", "+c:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,r,i){const s=i==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:u,includeOptions:c}=this._getSharedOptions(n,i),h=o.axis,p=a.axis;for(let g=n;g<n+r;g++){const x=t[g],w=!s&&this.getParsed(g),S={},k=S[h]=s?o.getPixelForDecimal(.5):o.getPixelForValue(w[h]),E=S[p]=s?a.getBasePixel():a.getPixelForValue(w[p]);S.skip=isNaN(k)||isNaN(E),c&&(S.options=u||this.resolveDataElementOptions(g,x.active?"active":i),s&&(S.options.radius=0)),this.updateElement(x,g,S,i)}}resolveDataElementOptions(t,n){const r=this.getParsed(t);let i=super.resolveDataElementOptions(t,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const s=i.radius;return n!=="active"&&(i.radius=0),i.radius+=bt(r&&r._custom,s),i}}function BM(e,t,n){let r=1,i=1,s=0,o=0;if(t<yn){const a=e,u=a+t,c=Math.cos(a),h=Math.sin(a),p=Math.cos(u),g=Math.sin(u),x=(A,z,U)=>Qd(A,a,u,!0)?1:Math.max(z,z*n,U,U*n),w=(A,z,U)=>Qd(A,a,u,!0)?-1:Math.min(z,z*n,U,U*n),S=x(0,c,p),k=x(Hn,h,g),E=w(Xt,c,p),R=w(Xt+Hn,h,g);r=(S-E)/2,i=(k-R)/2,s=-(S+E)/2,o=-(k+R)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class Tm extends ba{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=t.legend.options;return n.labels.map((s,o)=>{const u=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:i,lineWidth:u.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=u=>+r[u];if($t(r[t])){const{key:u="value"}=this._parsing;s=c=>+da(r[c],u)}let o,a;for(o=t,a=t+n;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return gs(this.options.rotation-90)}_getCircumference(){return gs(this.options.circumference)}_getRotationExtents(){let t=yn,n=-yn;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();t=Math.min(t,s),n=Math.max(n,s+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),u=Math.min(YO(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:h,rotation:p}=this._getRotationExtents(),{ratioX:g,ratioY:x,offsetX:w,offsetY:S}=BM(p,h,u),k=(r.width-o)/g,E=(r.height-o)/x,R=Math.max(Math.min(k,E)/2,0),A=n6(this.options.radius,R),z=Math.max(A*u,0),U=(A-z)/this._getVisibleDatasetWeightTotal();this.offsetX=w*A,this.offsetY=S*A,i.total=this.calculateTotal(),this.outerRadius=A-U*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-U*c,0),this.updateElements(s,0,s.length,t)}_circumference(t,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*s/yn)}updateElements(t,n,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,h=(a.left+a.right)/2,p=(a.top+a.bottom)/2,g=s&&c.animateScale,x=g?0:this.innerRadius,w=g?0:this.outerRadius,{sharedOptions:S,includeOptions:k}=this._getSharedOptions(n,i);let E=this._getRotation(),R;for(R=0;R<n;++R)E+=this._circumference(R,s);for(R=n;R<n+r;++R){const A=this._circumference(R,s),z=t[R],U={x:h+this.offsetX,y:p+this.offsetY,startAngle:E,endAngle:E+A,circumference:A,outerRadius:w,innerRadius:x};k&&(U.options=S||this.resolveDataElementOptions(R,z.active?"active":i)),E+=A,this.updateElement(z,R,U,i)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let r=0,i;for(i=0;i<n.length;i++){const s=t._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?yn*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=lh(n._parsed[t],r.options.locale);return{label:i[t]||"",value:s}}getMaxBorderWidth(t){let n=0;const r=this.chart;let i,s,o,a,u;if(!t){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),t=o.data,a=o.controller;break}}if(!t)return 0;for(i=0,s=t.length;i<s;++i)u=a.resolveDataElementOptions(i),u.borderAlign!=="inner"&&(n=Math.max(n,u.borderWidth||0,u.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let r=0,i=t.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(t){return Math.max(bt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class zM extends ba{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:u}=c6(n,i,o);this._drawStart=a,this._drawCount=u,d6(n)&&(a=0,u=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},t),this.updateElements(i,a,u,t)}updateElements(t,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:u,_dataset:c}=this._cachedMeta,{sharedOptions:h,includeOptions:p}=this._getSharedOptions(n,i),g=o.axis,x=a.axis,{spanGaps:w,segment:S}=this.options,k=wl(w)?w:Number.POSITIVE_INFINITY,E=this.chart._animationsDisabled||s||i==="none",R=n+r,A=t.length;let z=n>0&&this.getParsed(n-1);for(let U=0;U<A;++U){const N=t[U],I=E?N:{};if(U<n||U>=R){I.skip=!0;continue}const H=this.getParsed(U),V=zt(H[x]),F=I[g]=o.getPixelForValue(H[g],U),le=I[x]=s||V?a.getBasePixel():a.getPixelForValue(u?this.applyStack(a,H,u):H[x],U);I.skip=isNaN(F)||isNaN(le)||V,I.stop=U>0&&Math.abs(H[g]-z[g])>k,S&&(I.parsed=H,I.raw=c.data[U]),p&&(I.options=h||this.resolveDataElementOptions(U,N.active?"active":i)),E||this.updateElement(N,U,I,i),z=H}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,r=n.options&&n.options.borderWidth||0,i=t.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class O6 extends ba{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=t.legend.options;return n.labels.map((s,o)=>{const u=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:i,lineWidth:u.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=lh(n._parsed[t].r,r.options.locale);return{label:i[t]||"",value:s}}parseObjectData(t,n,r,i){return x6.bind(this)(t,n,r,i)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((r,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,r=t.options,i=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(i/2,0),o=Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0),a=(s-o)/t.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,n,r,i){const s=i==="reset",o=this.chart,u=o.options.animation,c=this._cachedMeta.rScale,h=c.xCenter,p=c.yCenter,g=c.getIndexAngle(0)-.5*Xt;let x=g,w;const S=360/this.countVisibleElements();for(w=0;w<n;++w)x+=this._computeAngle(w,i,S);for(w=n;w<n+r;w++){const k=t[w];let E=x,R=x+this._computeAngle(w,i,S),A=o.getDataVisibility(w)?c.getDistanceFromCenterForValue(this.getParsed(w).r):0;x=R,s&&(u.animateScale&&(A=0),u.animateRotate&&(E=R=g));const z={x:h,y:p,innerRadius:0,outerRadius:A,startAngle:E,endAngle:R,options:this.resolveDataElementOptions(w,k.active?"active":i)};this.updateElement(k,w,z,i)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((r,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(t,n,r){return this.chart.getDataVisibility(t)?gs(this.resolveDataElementOptions(t,n).angle||r):0}}class $M extends Tm{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class R6 extends ba{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const n=this._cachedMeta.vScale,r=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(t,n,r,i){return x6.bind(this)(t,n,r,i)}update(t){const n=this._cachedMeta,r=n.dataset,i=n.data||[],s=n.iScale.getLabels();if(r.points=i,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===i.length,options:o};this.updateElement(r,void 0,a,t)}this.updateElements(i,0,i.length,t)}updateElements(t,n,r,i){const s=this._cachedMeta.rScale,o=i==="reset";for(let a=n;a<n+r;a++){const u=t[a],c=this.resolveDataElementOptions(a,u.active?"active":i),h=s.getPointPositionForValue(a,this.getParsed(a).r),p=o?s.xCenter:h.x,g=o?s.yCenter:h.y,x={x:p,y:g,angle:h.angle,skip:isNaN(p)||isNaN(g),options:c};this.updateElement(u,a,x,i)}}}class UM extends ba{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,o=this.getParsed(t),a=i.getLabelForValue(o.x),u=s.getLabelForValue(o.y);return{label:r[t]||"",value:"("+a+", "+u+")"}}update(t){const n=this._cachedMeta,{data:r=[]}=n,i=this.chart._animationsDisabled;let{start:s,count:o}=c6(n,r,i);if(this._drawStart=s,this._drawCount=o,d6(n)&&(s=0,o=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:u}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!u._decimated,a.points=r;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,s,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:u,_dataset:c}=this._cachedMeta,h=this.resolveDataElementOptions(n,i),p=this.getSharedOptions(h),g=this.includeOptions(i,p),x=o.axis,w=a.axis,{spanGaps:S,segment:k}=this.options,E=wl(S)?S:Number.POSITIVE_INFINITY,R=this.chart._animationsDisabled||s||i==="none";let A=n>0&&this.getParsed(n-1);for(let z=n;z<n+r;++z){const U=t[z],N=this.getParsed(z),I=R?U:{},H=zt(N[w]),V=I[x]=o.getPixelForValue(N[x],z),F=I[w]=s||H?a.getBasePixel():a.getPixelForValue(u?this.applyStack(a,N,u):N[w],z);I.skip=isNaN(V)||isNaN(F)||H,I.stop=z>0&&Math.abs(N[x]-A[x])>E,k&&(I.parsed=N,I.raw=c.data[z]),g&&(I.options=p||this.resolveDataElementOptions(z,U.active?"active":i)),R||this.updateElement(U,z,I,i),A=N}this.updateSharedOptions(p,i,h)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let a=0;for(let u=n.length-1;u>=0;--u)a=Math.max(a,n[u].size(this.resolveDataElementOptions(u))/2);return a>0&&a}const r=t.dataset,i=r.options&&r.options.borderWidth||0;if(!n.length)return i;const s=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,s,o)/2}}var HM=Object.freeze({__proto__:null,BarController:N6,BubbleController:FM,DoughnutController:Tm,LineController:zM,PieController:$M,PolarAreaController:O6,RadarController:R6,ScatterController:UM});function Ja(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Kv{static override(t){Object.assign(Kv.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Ja()}parse(){return Ja()}format(){return Ja()}add(){return Ja()}diff(){return Ja()}startOf(){return Ja()}endOf(){return Ja()}}var VM={_date:Kv};function QM(e,t,n,r){const{controller:i,data:s,_sorted:o}=e,a=i._cachedMeta.iScale,u=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&s.length){const c=a._reversePixels?uR:mo;if(r){if(i._sharedOptions){const h=s[0],p=typeof h.getRange=="function"&&h.getRange(t);if(p){const g=c(s,t,n-p),x=c(s,t,n+p);return{lo:g.lo,hi:x.hi}}}}else{const h=c(s,t,n);if(u){const{vScale:p}=i._cachedMeta,{_parsed:g}=e,x=g.slice(0,h.lo+1).reverse().findIndex(S=>!zt(S[p.axis]));h.lo-=Math.max(0,x);const w=g.slice(h.hi).findIndex(S=>!zt(S[p.axis]));h.hi+=Math.max(0,w)}return h}}return{lo:0,hi:s.length-1}}function Pm(e,t,n,r,i){const s=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,u=s.length;a<u;++a){const{index:c,data:h}=s[a],{lo:p,hi:g}=QM(s[a],t,o,i);for(let x=p;x<=g;++x){const w=h[x];w.skip||r(w,c,x)}}}function WM(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(r,i){const s=t?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Z0(e,t,n,r,i){const s=[];return!i&&!e.isPointInArea(t)||Pm(e,n,t,function(a,u,c){!i&&!go(a,e.chartArea,0)||a.inRange(t.x,t.y,r)&&s.push({element:a,datasetIndex:u,index:c})},!0),s}function qM(e,t,n,r){let i=[];function s(o,a,u){const{startAngle:c,endAngle:h}=o.getProps(["startAngle","endAngle"],r),{angle:p}=s6(o,{x:t.x,y:t.y});Qd(p,c,h)&&i.push({element:o,datasetIndex:a,index:u})}return Pm(e,n,t,s),i}function KM(e,t,n,r,i,s){let o=[];const a=WM(n);let u=Number.POSITIVE_INFINITY;function c(h,p,g){const x=h.inRange(t.x,t.y,i);if(r&&!x)return;const w=h.getCenterPoint(i);if(!(!!s||e.isPointInArea(w))&&!x)return;const k=a(t,w);k<u?(o=[{element:h,datasetIndex:p,index:g}],u=k):k===u&&o.push({element:h,datasetIndex:p,index:g})}return Pm(e,n,t,c),o}function e1(e,t,n,r,i,s){return!s&&!e.isPointInArea(t)?[]:n==="r"&&!r?qM(e,t,n,i):KM(e,t,n,r,i,s)}function O3(e,t,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Pm(e,n,t,(u,c,h)=>{u[o]&&u[o](t[n],i)&&(s.push({element:u,datasetIndex:c,index:h}),a=a||u.inRange(t.x,t.y,i))}),r&&!a?[]:s}var GM={modes:{index(e,t,n,r){const i=sl(t,e),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Z0(e,i,s,r,o):e1(e,i,s,!1,r,o),u=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const h=a[0].index,p=c.data[h];p&&!p.skip&&u.push({element:p,datasetIndex:c.index,index:h})}),u):[]},dataset(e,t,n,r){const i=sl(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Z0(e,i,s,r,o):e1(e,i,s,!1,r,o);if(a.length>0){const u=a[0].datasetIndex,c=e.getDatasetMeta(u).data;a=[];for(let h=0;h<c.length;++h)a.push({element:c[h],datasetIndex:u,index:h})}return a},point(e,t,n,r){const i=sl(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return Z0(e,i,s,r,o)},nearest(e,t,n,r){const i=sl(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return e1(e,i,s,n.intersect,r,o)},x(e,t,n,r){const i=sl(t,e);return O3(e,i,"x",n.intersect,r)},y(e,t,n,r){const i=sl(t,e);return O3(e,i,"y",n.intersect,r)}}};const M6=["left","top","right","bottom"];function rd(e,t){return e.filter(n=>n.pos===t)}function R3(e,t){return e.filter(n=>M6.indexOf(n.pos)===-1&&n.box.axis===t)}function id(e,t){return e.sort((n,r)=>{const i=t?r:n,s=t?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function YM(e){const t=[];let n,r,i,s,o,a;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,t.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return t}function XM(e){const t={};for(const n of e){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!M6.includes(i))continue;const o=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function JM(e,t){const n=XM(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let s,o,a;for(s=0,o=e.length;s<o;++s){a=e[s];const{fullSize:u}=a.box,c=n[a.stack],h=c&&a.stackWeight/c.weight;a.horizontal?(a.width=h?h*r:u&&t.availableWidth,a.height=i):(a.width=r,a.height=h?h*i:u&&t.availableHeight)}return n}function ZM(e){const t=YM(e),n=id(t.filter(c=>c.box.fullSize),!0),r=id(rd(t,"left"),!0),i=id(rd(t,"right")),s=id(rd(t,"top"),!0),o=id(rd(t,"bottom")),a=R3(t,"x"),u=R3(t,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(u).concat(o).concat(a),chartArea:rd(t,"chartArea"),vertical:r.concat(i).concat(u),horizontal:s.concat(o).concat(a)}}function M3(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function A6(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function eA(e,t,n,r){const{pos:i,box:s}=n,o=e.maxPadding;if(!$t(i)){n.size&&(e[i]-=n.size);const p=r[n.stack]||{size:0,count:1};p.size=Math.max(p.size,n.horizontal?s.height:s.width),n.size=p.size/p.count,e[i]+=n.size}s.getPadding&&A6(o,s.getPadding());const a=Math.max(0,t.outerWidth-M3(o,e,"left","right")),u=Math.max(0,t.outerHeight-M3(o,e,"top","bottom")),c=a!==e.w,h=u!==e.h;return e.w=a,e.h=u,n.horizontal?{same:c,other:h}:{same:h,other:c}}function tA(e){const t=e.maxPadding;function n(r){const i=Math.max(t[r]-e[r],0);return e[r]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function nA(e,t){const n=t.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(t[o],n[o])}),s}return r(e?["left","right"]:["top","bottom"])}function bd(e,t,n,r){const i=[];let s,o,a,u,c,h;for(s=0,o=e.length,c=0;s<o;++s){a=e[s],u=a.box,u.update(a.width||t.w,a.height||t.h,nA(a.horizontal,t));const{same:p,other:g}=eA(t,n,a,r);c|=p&&i.length,h=h||g,u.fullSize||i.push(a)}return c&&bd(i,t,n,r)||h}function Qf(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function A3(e,t,n,r){const i=n.padding;let{x:s,y:o}=t;for(const a of e){const u=a.box,c=r[a.stack]||{placed:0,weight:1},h=a.stackWeight/c.weight||1;if(a.horizontal){const p=t.w*h,g=c.size||u.height;Vd(c.start)&&(o=c.start),u.fullSize?Qf(u,i.left,o,n.outerWidth-i.right-i.left,g):Qf(u,t.left+c.placed,o,p,g),c.start=o,c.placed+=p,o=u.bottom}else{const p=t.h*h,g=c.size||u.width;Vd(c.start)&&(s=c.start),u.fullSize?Qf(u,s,i.top,g,n.outerHeight-i.bottom-i.top):Qf(u,s,t.top+c.placed,g,p),c.start=s,c.placed+=p,s=u.right}}t.x=s,t.y=o}var Pr={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=Rr(e.options.layout.padding),s=Math.max(t-i.width,0),o=Math.max(n-i.height,0),a=ZM(e.boxes),u=a.vertical,c=a.horizontal;nn(e.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const h=u.reduce((S,k)=>k.box.options&&k.box.options.display===!1?S:S+1,0)||1,p=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/h,hBoxMaxHeight:o/2}),g=Object.assign({},i);A6(g,Rr(r));const x=Object.assign({maxPadding:g,w:s,h:o,x:i.left,y:i.top},i),w=JM(u.concat(c),p);bd(a.fullSize,x,p,w),bd(u,x,p,w),bd(c,x,p,w)&&bd(u,x,p,w),tA(x),A3(a.leftAndTop,x,p,w),x.x+=x.w,x.y+=x.h,A3(a.rightAndBottom,x,p,w),e.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},nn(a.chartArea,S=>{const k=S.box;Object.assign(k,e.chartArea),k.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class L6{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,r){}removeEventListener(t,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,r,i){return n=Math.max(0,n||t.width),r=r||t.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(t){return!0}updateConfig(t){}}class rA extends L6{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Cp="$chartjs",iA={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},L3=e=>e===null||e==="";function sA(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[Cp]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",L3(i)){const s=v3(e,"width");s!==void 0&&(e.width=s)}if(L3(r))if(e.style.height==="")e.height=e.width/(t||2);else{const s=v3(e,"height");s!==void 0&&(e.height=s)}return e}const I6=nM?{passive:!0}:!1;function oA(e,t,n){e&&e.addEventListener(t,n,I6)}function aA(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,I6)}function lA(e,t){const n=iA[e.type]||e.type,{x:r,y:i}=sl(e,t);return{type:n,chart:t,native:e,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Gp(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function uA(e,t,n){const r=e.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Gp(a.addedNodes,r),o=o&&!Gp(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function cA(e,t,n){const r=e.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Gp(a.removedNodes,r),o=o&&!Gp(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const qd=new Map;let I3=0;function D6(){const e=window.devicePixelRatio;e!==I3&&(I3=e,qd.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function dA(e,t){qd.size||window.addEventListener("resize",D6),qd.set(e,t)}function hA(e){qd.delete(e),qd.size||window.removeEventListener("resize",D6)}function fA(e,t,n){const r=e.canvas,i=r&&qv(r);if(!i)return;const s=u6((a,u)=>{const c=i.clientWidth;n(a,u),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const u=a[0],c=u.contentRect.width,h=u.contentRect.height;c===0&&h===0||s(c,h)});return o.observe(i),dA(e,s),o}function t1(e,t,n){n&&n.disconnect(),t==="resize"&&hA(e)}function pA(e,t,n){const r=e.canvas,i=u6(s=>{e.ctx!==null&&n(lA(s,e))},e);return oA(r,t,i),i}class mA extends L6{acquireContext(t,n){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(sA(t,n),r):null}releaseContext(t){const n=t.canvas;if(!n[Cp])return!1;const r=n[Cp].initial;["height","width"].forEach(s=>{const o=r[s];zt(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[Cp],!0}addEventListener(t,n,r){this.removeEventListener(t,n);const i=t.$proxies||(t.$proxies={}),o={attach:uA,detach:cA,resize:fA}[n]||pA;i[n]=o(t,n,r)}removeEventListener(t,n){const r=t.$proxies||(t.$proxies={}),i=r[n];if(!i)return;({attach:t1,detach:t1,resize:t1}[n]||aA)(t,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,r,i){return tM(t,n,r,i)}isAttached(t){const n=t&&qv(t);return!!(n&&n.isConnected)}}function gA(e){return!Wv()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?rA:mA}let wo=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}hasValue(){return wl(this.x)&&wl(this.y)}getProps(t,n){const r=this.$animations;if(!n||!r)return this;const i={};return t.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}};function yA(e,t){const n=e.options.ticks,r=vA(e),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?bA(t):[],o=s.length,a=s[0],u=s[o-1],c=[];if(o>i)return wA(t,c,s,o/i),c;const h=xA(s,t,i);if(o>0){let p,g;const x=o>1?Math.round((u-a)/(o-1)):null;for(Wf(t,c,h,zt(x)?0:a-x,a),p=0,g=o-1;p<g;p++)Wf(t,c,h,s[p],s[p+1]);return Wf(t,c,h,u,zt(x)?t.length:u+x),c}return Wf(t,c,h),c}function vA(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}function xA(e,t,n){const r=_A(e),i=t.length/n;if(!r)return Math.max(i,1);const s=iR(r);for(let o=0,a=s.length-1;o<a;o++){const u=s[o];if(u>i)return u}return Math.max(i,1)}function bA(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}function wA(e,t,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<e.length;o++)o===s&&(t.push(e[o]),i++,s=n[i*r])}function Wf(e,t,n,r,i){const s=bt(r,0),o=Math.min(bt(i,e.length),e.length);let a=0,u,c,h;for(n=Math.ceil(n),i&&(u=i-r,n=u/Math.floor(u/n)),h=s;h<0;)a++,h=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===h&&(t.push(e[c]),a++,h=Math.round(s+a*n))}function _A(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}const SA=e=>e==="left"?"right":e==="right"?"left":e,D3=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,F3=(e,t)=>Math.min(t||e,e);function B3(e,t){const n=[],r=e.length/t,i=e.length;let s=0;for(;s<i;s+=r)n.push(e[Math.floor(s)]);return n}function CA(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),s=e._startPixel,o=e._endPixel,a=1e-6;let u=e.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(u-s,o-u):t===0?c=(e.getPixelForTick(1)-u)/2:c=(u-e.getPixelForTick(i-1))/2,u+=i<t?c:-c,u<s-a||u>o+a)))return u}function kA(e,t){nn(e,n=>{const r=n.gc,i=r.length/2;let s;if(i>t){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function sd(e){return e.drawTicks?e.tickLength:0}function z3(e,t){if(!e.display)return 0;const n=nr(e.font,t),r=Rr(e.padding);return(Cn(e.text)?e.text.length:1)*n.lineHeight+r.height}function jA(e,t){return xa(e,{scale:t,type:"scale"})}function EA(e,t,n){return xa(e,{tick:n,index:t,type:"tick"})}function TA(e,t,n){let r=zv(e);return(n&&t!=="right"||!n&&t==="right")&&(r=SA(r)),r}function PA(e,t,n,r){const{top:i,left:s,bottom:o,right:a,chart:u}=e,{chartArea:c,scales:h}=u;let p=0,g,x,w;const S=o-i,k=a-s;if(e.isHorizontal()){if(x=Er(r,s,a),$t(n)){const E=Object.keys(n)[0],R=n[E];w=h[E].getPixelForValue(R)+S-t}else n==="center"?w=(c.bottom+c.top)/2+S-t:w=D3(e,n,t);g=a-s}else{if($t(n)){const E=Object.keys(n)[0],R=n[E];x=h[E].getPixelForValue(R)-k+t}else n==="center"?x=(c.left+c.right)/2-k+t:x=D3(e,n,t);w=Er(r,o,i),p=n==="left"?-Hn:Hn}return{titleX:x,titleY:w,maxWidth:g,rotation:p}}class Pl extends wo{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return t=Si(t,Number.POSITIVE_INFINITY),n=Si(n,Number.NEGATIVE_INFINITY),r=Si(r,Number.POSITIVE_INFINITY),i=Si(i,Number.NEGATIVE_INFINITY),{min:Si(t,r),max:Si(n,i),minDefined:An(t),maxDefined:An(n)}}getMinMax(t){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let u=0,c=a.length;u<c;++u)o=a[u].controller.getMinMax(this,t),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:Si(n,Si(r,n)),max:Si(r,Si(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){dn(this.options.beforeUpdate,[this])}update(t,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=MR(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=a<this.ticks.length;this._convertTicksToLabels(u?B3(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=yA(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,t=!t),this._startPixel=n,this._endPixel=r,this._reversePixels=t,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){dn(this.options.afterUpdate,[this])}beforeSetDimensions(){dn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){dn(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),dn(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){dn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r],s.label=dn(n.callback,[s.value,r,t],this)}afterTickToLabelConversion(){dn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){dn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,r=F3(this.ticks.length,t.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,u,c;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const h=this._getLabelSizes(),p=h.widest.width,g=h.highest.height,x=hr(this.chart.width-p,0,this.maxWidth);a=t.offset?this.maxWidth/r:x/(r-1),p+6>a&&(a=x/(r-(t.offset?.5:1)),u=this.maxHeight-sd(t.grid)-n.padding-z3(t.title,this.chart.options.font),c=Math.sqrt(p*p+g*g),o=Fv(Math.min(Math.asin(hr((h.highest.height+6)/a,-1,1)),Math.asin(hr(u/c,-1,1))-Math.asin(hr(g/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){dn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){dn(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const u=z3(i,n.options.font);if(a?(t.width=this.maxWidth,t.height=sd(s)+u):(t.height=this.maxHeight,t.width=sd(s)+u),r.display&&this.ticks.length){const{first:c,last:h,widest:p,highest:g}=this._getLabelSizes(),x=r.padding*2,w=gs(this.labelRotation),S=Math.cos(w),k=Math.sin(w);if(a){const E=r.mirror?0:k*p.width+S*g.height;t.height=Math.min(this.maxHeight,t.height+E+x)}else{const E=r.mirror?0:S*p.width+k*g.height;t.width=Math.min(this.maxWidth,t.width+E+x)}this._calculatePadding(c,h,k,S)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,u=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,x=0;u?c?(g=i*t.width,x=r*n.height):(g=r*t.height,x=i*n.width):s==="start"?x=n.width:s==="end"?g=t.width:s!=="inner"&&(g=t.width/2,x=n.width/2),this.paddingLeft=Math.max((g-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((x-p+o)*this.width/(this.width-p),0)}else{let h=n.height/2,p=t.height/2;s==="start"?(h=0,p=t.height):s==="end"&&(h=n.height,p=0),this.paddingTop=h+o,this.paddingBottom=p+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){dn(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,r;for(n=0,r=t.length;n<r;n++)zt(t[n].label)&&(t.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=B3(r,n)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],u=Math.floor(n/F3(n,r));let c=0,h=0,p,g,x,w,S,k,E,R,A,z,U;for(p=0;p<n;p+=u){if(w=t[p].label,S=this._resolveTickFontOptions(p),i.font=k=S.string,E=s[k]=s[k]||{data:{},gc:[]},R=S.lineHeight,A=z=0,!zt(w)&&!Cn(w))A=qp(i,E.data,E.gc,A,w),z=R;else if(Cn(w))for(g=0,x=w.length;g<x;++g)U=w[g],!zt(U)&&!Cn(U)&&(A=qp(i,E.data,E.gc,A,U),z+=R);o.push(A),a.push(z),c=Math.max(A,c),h=Math.max(z,h)}kA(s,n);const N=o.indexOf(c),I=a.indexOf(h),H=V=>({width:o[V]||0,height:a[V]||0});return{first:H(0),last:H(n-1),widest:H(N),highest:H(I),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return lR(this._alignToPixels?Xa(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const r=n[t];return r.$context||(r.$context=EA(this.getContext(),t,r))}return this.$context||(this.$context=jA(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=gs(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,a=s?s.widest.width+o:0,u=s?s.highest.height+o:0;return this.isHorizontal()?u*r>a*i?a/r:u/i:u*i<a*r?u/r:a/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,u=s.offset,c=this.isHorizontal(),p=this.ticks.length+(u?1:0),g=sd(s),x=[],w=a.setContext(this.getContext()),S=w.display?w.width:0,k=S/2,E=function(J){return Xa(r,J,S)};let R,A,z,U,N,I,H,V,F,le,ue,ae;if(o==="top")R=E(this.bottom),I=this.bottom-g,V=R-k,le=E(t.top)+k,ae=t.bottom;else if(o==="bottom")R=E(this.top),le=t.top,ae=E(t.bottom)-k,I=R+k,V=this.top+g;else if(o==="left")R=E(this.right),N=this.right-g,H=R-k,F=E(t.left)+k,ue=t.right;else if(o==="right")R=E(this.left),F=t.left,ue=E(t.right)-k,N=R+k,H=this.left+g;else if(n==="x"){if(o==="center")R=E((t.top+t.bottom)/2+.5);else if($t(o)){const J=Object.keys(o)[0],te=o[J];R=E(this.chart.scales[J].getPixelForValue(te))}le=t.top,ae=t.bottom,I=R+k,V=I+g}else if(n==="y"){if(o==="center")R=E((t.left+t.right)/2);else if($t(o)){const J=Object.keys(o)[0],te=o[J];R=E(this.chart.scales[J].getPixelForValue(te))}N=R-k,H=N-g,F=t.left,ue=t.right}const q=bt(i.ticks.maxTicksLimit,p),Q=Math.max(1,Math.ceil(p/q));for(A=0;A<p;A+=Q){const J=this.getContext(A),te=s.setContext(J),ne=a.setContext(J),me=te.lineWidth,D=te.color,G=ne.dash||[],ye=ne.dashOffset,B=te.tickWidth,Fe=te.tickColor,je=te.tickBorderDash||[],Ee=te.tickBorderDashOffset;z=CA(this,A,u),z!==void 0&&(U=Xa(r,z,me),c?N=H=F=ue=U:I=V=le=ae=U,x.push({tx1:N,ty1:I,tx2:H,ty2:V,x1:F,y1:le,x2:ue,y2:ae,width:me,color:D,borderDash:G,borderDashOffset:ye,tickWidth:B,tickColor:Fe,tickBorderDash:je,tickBorderDashOffset:Ee}))}return this._ticksLength=p,this._borderValue=R,x}_computeLabelItems(t){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:u,crossAlign:c,padding:h,mirror:p}=s,g=sd(r.grid),x=g+h,w=p?-h:x,S=-gs(this.labelRotation),k=[];let E,R,A,z,U,N,I,H,V,F,le,ue,ae="middle";if(i==="top")N=this.bottom-w,I=this._getXAxisLabelAlignment();else if(i==="bottom")N=this.top+w,I=this._getXAxisLabelAlignment();else if(i==="left"){const Q=this._getYAxisLabelAlignment(g);I=Q.textAlign,U=Q.x}else if(i==="right"){const Q=this._getYAxisLabelAlignment(g);I=Q.textAlign,U=Q.x}else if(n==="x"){if(i==="center")N=(t.top+t.bottom)/2+x;else if($t(i)){const Q=Object.keys(i)[0],J=i[Q];N=this.chart.scales[Q].getPixelForValue(J)+x}I=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")U=(t.left+t.right)/2-x;else if($t(i)){const Q=Object.keys(i)[0],J=i[Q];U=this.chart.scales[Q].getPixelForValue(J)}I=this._getYAxisLabelAlignment(g).textAlign}n==="y"&&(u==="start"?ae="top":u==="end"&&(ae="bottom"));const q=this._getLabelSizes();for(E=0,R=a.length;E<R;++E){A=a[E],z=A.label;const Q=s.setContext(this.getContext(E));H=this.getPixelForTick(E)+s.labelOffset,V=this._resolveTickFontOptions(E),F=V.lineHeight,le=Cn(z)?z.length:1;const J=le/2,te=Q.color,ne=Q.textStrokeColor,me=Q.textStrokeWidth;let D=I;o?(U=H,I==="inner"&&(E===R-1?D=this.options.reverse?"left":"right":E===0?D=this.options.reverse?"right":"left":D="center"),i==="top"?c==="near"||S!==0?ue=-le*F+F/2:c==="center"?ue=-q.highest.height/2-J*F+F:ue=-q.highest.height+F/2:c==="near"||S!==0?ue=F/2:c==="center"?ue=q.highest.height/2-J*F:ue=q.highest.height-le*F,p&&(ue*=-1),S!==0&&!Q.showLabelBackdrop&&(U+=F/2*Math.sin(S))):(N=H,ue=(1-le)*F/2);let G;if(Q.showLabelBackdrop){const ye=Rr(Q.backdropPadding),B=q.heights[E],Fe=q.widths[E];let je=ue-ye.top,Ee=0-ye.left;switch(ae){case"middle":je-=B/2;break;case"bottom":je-=B;break}switch(I){case"center":Ee-=Fe/2;break;case"right":Ee-=Fe;break;case"inner":E===R-1?Ee-=Fe:E>0&&(Ee-=Fe/2);break}G={left:Ee,top:je,width:Fe+ye.width,height:B+ye.height,color:Q.backdropColor}}k.push({label:z,font:V,textOffset:ue,options:{rotation:S,color:te,strokeColor:ne,strokeWidth:me,textAlign:D,textBaseline:ae,translation:[U,N],backdrop:G}})}return k}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-gs(this.labelRotation))return t==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=t+s,u=o.widest.width;let c,h;return n==="left"?i?(h=this.right+s,r==="near"?c="left":r==="center"?(c="center",h+=u/2):(c="right",h+=u)):(h=this.right-a,r==="near"?c="right":r==="center"?(c="center",h-=u/2):(c="left",h=this.left)):n==="right"?i?(h=this.left+s,r==="near"?c="right":r==="center"?(c="center",h-=u/2):(c="left",h-=u)):(h=this.left+a,r==="near"?c="left":r==="center"?(c="center",h+=u/2):(c="right",h=this.right)):c="right",{textAlign:c,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(r,i,s,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===t);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,o;const a=(u,c,h)=>{!h.width||!h.color||(r.save(),r.lineWidth=h.width,r.strokeStyle=h.color,r.setLineDash(h.borderDash||[]),r.lineDashOffset=h.borderDashOffset,r.beginPath(),r.moveTo(u.x,u.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const u=i[s];n.drawOnChartArea&&a({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&a({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let c,h,p,g;this.isHorizontal()?(c=Xa(t,this.left,o)-o/2,h=Xa(t,this.right,a)+a/2,p=g=u):(p=Xa(t,this.top,o)-o/2,g=Xa(t,this.bottom,a)+a/2,c=h=u),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,p),n.lineTo(h,g),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&km(r,i);const s=this.getLabelItems(t);for(const o of s){const a=o.options,u=o.font,c=o.label,h=o.textOffset;Sl(r,c,0,h,u,a)}i&&jm(r)}drawTitle(){const{ctx:t,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=nr(r.font),o=Rr(r.padding),a=r.align;let u=s.lineHeight/2;n==="bottom"||n==="center"||$t(n)?(u+=o.bottom,Cn(r.text)&&(u+=s.lineHeight*(r.text.length-1))):u+=o.top;const{titleX:c,titleY:h,maxWidth:p,rotation:g}=PA(this,u,n,a);Sl(t,r.text,0,0,s,{color:r.color,maxWidth:p,rotation:g,textAlign:TA(a,n,i),textBaseline:"middle",translation:[c,h]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,r=bt(t.grid&&t.grid.z,-1),i=bt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Pl.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!t||a.type===t)&&i.push(a)}return i}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return nr(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class qf{constructor(t,n,r){this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let r;RA(n)&&(r=this.register(n));const i=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in i||(i[s]=t,NA(t,o,r),this.override&&kn.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,r=t.id,i=this.scope;r in n&&delete n[r],i&&r in kn[i]&&(delete kn[i][r],this.override&&delete _l[r])}}function NA(e,t,n){const r=Hd(Object.create(null),[n?kn.get(n):{},kn.get(t),e.defaults]);kn.set(t,r),e.defaultRoutes&&OA(t,e.defaultRoutes),e.descriptors&&kn.describe(t,e.descriptors)}function OA(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),i=r.pop(),s=[e].concat(r).join("."),o=t[n].split("."),a=o.pop(),u=o.join(".");kn.route(s,i,u,a)})}function RA(e){return"id"in e&&"defaults"in e}class MA{constructor(){this.controllers=new qf(ba,"datasets",!0),this.elements=new qf(wo,"elements"),this.plugins=new qf(Object,"plugins"),this.scales=new qf(Pl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(t,s,i):nn(i,o=>{const a=r||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,r){const i=Dv(t);dn(r["before"+i],[],r),n[t](r),dn(r["after"+i],[],r)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(t))return r}return this.plugins}_get(t,n,r){const i=n.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return i}}var Ms=new MA;class AA{constructor(){this._init=[]}notify(t,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(s,t,n,r);return n==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,r,i){i=i||{};for(const s of t){const o=s.plugin,a=o[r],u=[n,i,s.options];if(dn(a,u,o)===!1&&i.cancelable)return!1}return!0}invalidate(){zt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const r=t&&t.config,i=bt(r.options&&r.options.plugins,{}),s=LA(r);return i===!1&&!n?[]:DA(t,s,i,n)}_notifyStateChanges(t){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(u=>a.plugin.id===u.plugin.id));this._notify(i(n,r),t,"stop"),this._notify(i(r,n),t,"start")}}function LA(e){const t={},n=[],r=Object.keys(Ms.plugins.items);for(let s=0;s<r.length;s++)n.push(Ms.getPlugin(r[s]));const i=e.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function IA(e,t){return!t&&e===!1?null:e===!0?{}:e}function DA(e,{plugins:t,localIds:n},r,i){const s=[],o=e.getContext();for(const a of t){const u=a.id,c=IA(r[u],i);c!==null&&s.push({plugin:a,options:FA(e.config,{plugin:a,local:n[u]},c,o)})}return s}function FA(e,{plugin:t,local:n},r,i){const s=e.pluginScopeKeys(t),o=e.getOptionScopes(r,s);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function py(e,t){const n=kn.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function BA(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function zA(e,t){return e===t?"_index_":"_value_"}function $3(e){if(e==="x"||e==="y"||e==="r")return e}function $A(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function my(e,...t){if($3(e))return e;for(const n of t){const r=n.axis||$A(n.position)||e.length>1&&$3(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function U3(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function UA(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(n.length)return U3(e,"x",n[0])||U3(e,"y",n[0])}return{}}function HA(e,t){const n=_l[e.type]||{scales:{}},r=t.scales||{},i=py(e.type,t),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!$t(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const u=my(o,a,UA(o,e),kn.scales[a.type]),c=zA(u,i),h=n.scales||{};s[o]=jd(Object.create(null),[{axis:u},a,h[u],h[c]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,u=o.indexAxis||py(a,t),h=(_l[a]||{}).scales||{};Object.keys(h).forEach(p=>{const g=BA(p,u),x=o[g+"AxisID"]||g;s[x]=s[x]||Object.create(null),jd(s[x],[{axis:g},r[x],h[p]])})}),Object.keys(s).forEach(o=>{const a=s[o];jd(a,[kn.scales[a.type],kn.scale])}),s}function F6(e){const t=e.options||(e.options={});t.plugins=bt(t.plugins,{}),t.scales=HA(e,t)}function B6(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function VA(e){return e=e||{},e.data=B6(e.data),F6(e),e}const H3=new Map,z6=new Set;function Kf(e,t){let n=H3.get(e);return n||(n=t(),H3.set(e,n),z6.add(n)),n}const od=(e,t,n)=>{const r=da(t,n);r!==void 0&&e.add(r)};class QA{constructor(t){this._config=VA(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=B6(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),F6(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Kf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Kf(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Kf(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,r=this.type;return Kf(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const r=this._scopeCache;let i=r.get(t);return(!i||n)&&(i=new Map,r.set(t,i)),i}getOptionScopes(t,n,r){const{options:i,type:s}=this,o=this._cachedScopes(t,r),a=o.get(n);if(a)return a;const u=new Set;n.forEach(h=>{t&&(u.add(t),h.forEach(p=>od(u,t,p))),h.forEach(p=>od(u,i,p)),h.forEach(p=>od(u,_l[s]||{},p)),h.forEach(p=>od(u,kn,p)),h.forEach(p=>od(u,hy,p))});const c=Array.from(u);return c.length===0&&c.push(Object.create(null)),z6.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:t,type:n}=this;return[t,_l[n]||{},kn.datasets[n]||{},{type:n},kn,hy]}resolveNamedOptions(t,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=V3(this._resolverCache,t,i);let u=o;if(qA(o,n)){s.$shared=!1,r=ha(r)?r():r;const c=this.createResolver(t,r,a);u=Zu(o,r,c)}for(const c of n)s[c]=u[c];return s}createResolver(t,n,r=[""],i){const{resolver:s}=V3(this._resolverCache,t,r);return $t(n)?Zu(s,n,void 0,i):s}}function V3(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let s=r.get(i);return s||(s={resolver:Hv(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const WA=e=>$t(e)&&Object.getOwnPropertyNames(e).some(t=>ha(e[t]));function qA(e,t){const{isScriptable:n,isIndexable:r}=m6(e);for(const i of t){const s=n(i),o=r(i),a=(o||s)&&e[i];if(s&&(ha(a)||WA(a))||o&&Cn(a))return!0}return!1}var KA="4.5.0";const GA=["top","bottom","left","right","chartArea"];function Q3(e,t){return e==="top"||e==="bottom"||GA.indexOf(e)===-1&&t==="x"}function W3(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function q3(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),dn(n&&n.onComplete,[e],t)}function YA(e){const t=e.chart,n=t.options.animation;dn(n&&n.onProgress,[e],t)}function $6(e){return Wv()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const kp={},K3=e=>{const t=$6(e);return Object.values(kp).filter(n=>n.canvas===t).pop()};function XA(e,t,n){const r=Object.keys(e);for(const i of r){const s=+i;if(s>=t){const o=e[i];delete e[i],(n>0||s>t)&&(e[s+n]=o)}}}function JA(e,t,n,r){return!n||e.type==="mouseout"?null:r?t:e}let _o=class{static defaults=kn;static instances=kp;static overrides=_l;static registry=Ms;static version=KA;static getChart=K3;static register(...t){Ms.add(...t),G3()}static unregister(...t){Ms.remove(...t),G3()}constructor(t,n){const r=this.config=new QA(n),i=$6(t),s=K3(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||gA(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),u=a&&a.canvas,c=u&&u.height,h=u&&u.width;if(this.id=GO(),this.ctx=a,this.canvas=u,this.width=h,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new AA,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=hR(p=>this.update(p),o.resizeDelay||0),this._dataChanges=[],kp[this.id]=this,!a||!u){console.error("Failed to create chart: can't acquire context from the given item");return}oo.listen(this,"complete",q3),oo.listen(this,"progress",YA),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return zt(t)?n&&s?s:i?r/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ms}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():y3(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return p3(this.canvas,this.ctx),this}stop(){return oo.stop(this),this}resize(t,n){oo.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,y3(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),dn(r.onResize,[this,o],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};nn(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],u=my(o,a),c=u==="r",h=u==="x";return{options:a,dposition:c?"chartArea":h?"bottom":"left",dtype:c?"radialLinear":h?"category":"linear"}}))),nn(s,o=>{const a=o.options,u=a.id,c=my(u,a),h=bt(a.type,o.dtype);(a.position===void 0||Q3(a.position,c)!==Q3(o.dposition))&&(a.position=o.dposition),i[u]=!0;let p=null;if(u in r&&r[u].type===h)p=r[u];else{const g=Ms.getScale(h);p=new g({id:u,type:h,ctx:this.ctx,chart:this}),r[p.id]=p}p.init(a,t)}),nn(i,(o,a)=>{o||delete r[a]}),nn(r,o=>{Pr.configure(this,o,o.options),Pr.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(W3("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||py(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const u=Ms.getController(a),{datasetElementType:c,dataElementType:h}=kn.datasets[a];Object.assign(u,{dataElementType:Ms.getElement(h),datasetElementType:c&&Ms.getElement(c)}),o.controller=new u(this,r),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){nn(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,h=this.data.datasets.length;c<h;c++){const{controller:p}=this.getDatasetMeta(c),g=!i&&s.indexOf(p)===-1;p.buildOrUpdateElements(g),o=Math.max(+p.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||nn(s,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(W3("z","_idx"));const{_active:a,_lastEvent:u}=this;u?this._eventHandler(u,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){nn(this.scales,t=>{Pr.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!s3(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;XA(t,i,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(t.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!s3(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Pr.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],nn(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,ha(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),i={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(oo.has(this)?this.attached&&!oo.running(this)&&oo.start(this):(this.draw(),q3({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!t||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r={meta:t,index:t.index,cancelable:!0},i=j6(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&km(n,i),t.controller.draw(),i&&jm(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return go(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,i){const s=GM.modes[n];return typeof s=="function"?s(this,t,r,i):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=xa(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){const r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(t),o=s.controller._resolveAnimations(void 0,i);Vd(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===t?i:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),oo.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),p3(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete kp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),t[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};nn(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(u,c)=>{n.addEventListener(this,u,c),t[u]=c},i=(u,c)=>{t[u]&&(n.removeEventListener(this,u,c),delete t[u])},s=(u,c)=>{this.canvas&&this.resize(u,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){nn(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},nn(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const i=r?"set":"remove";let s,o,a,u;for(n==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,u=t.length;a<u;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!Vp(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,r){const i=this.options.hover,s=(u,c)=>u.filter(h=>!c.some(p=>h.datasetIndex===p.datasetIndex&&h.index===p.index)),o=s(n,t),a=r?t:s(t,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},i=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(t,i,r,o),u=tR(t),c=JA(t,this._lastEvent,r,u);r&&(this._lastEvent=null,dn(s.onHover,[t,a,this],this),u&&dn(s.onClick,[t,a,this],this));const h=!Vp(a,i);return(h||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,h}_getActiveElements(t,n,r,i){if(t.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,i)}};function G3(){return nn(_o.instances,e=>e._plugins.invalidate())}function ZA(e,t,n){const{startAngle:r,x:i,y:s,outerRadius:o,innerRadius:a,options:u}=t,{borderWidth:c,borderJoinStyle:h}=u,p=Math.min(c/o,Tr(r-n));if(e.beginPath(),e.arc(i,s,o-c/2,r+p/2,n-p/2),a>0){const g=Math.min(c/a,Tr(r-n));e.arc(i,s,a+c/2,n-g/2,r+g/2,!0)}else{const g=Math.min(c/2,o*Tr(r-n));if(h==="round")e.arc(i,s,g,n-Xt/2,r+Xt/2,!0);else if(h==="bevel"){const x=2*g*g,w=-x*Math.cos(n+Xt/2)+i,S=-x*Math.sin(n+Xt/2)+s,k=x*Math.cos(r+Xt/2)+i,E=x*Math.sin(r+Xt/2)+s;e.lineTo(w,S),e.lineTo(k,E)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function eL(e,t,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:u}=t;let c=i/a;e.beginPath(),e.arc(s,o,a,r-c,n+c),u>i?(c=i/u,e.arc(s,o,u,n+c,r-c,!0)):e.arc(s,o,i,n+Hn,r-Hn),e.closePath(),e.clip()}function tL(e){return Uv(e,["outerStart","outerEnd","innerStart","innerEnd"])}function nL(e,t,n,r){const i=tL(e.options.borderRadius),s=(n-t)/2,o=Math.min(s,r*t/2),a=u=>{const c=(n-Math.min(s,u))*r/2;return hr(u,0,Math.min(s,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:hr(i.innerStart,0,o),innerEnd:hr(i.innerEnd,0,o)}}function wu(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function Yp(e,t,n,r,i,s){const{x:o,y:a,startAngle:u,pixelMargin:c,innerRadius:h}=t,p=Math.max(t.outerRadius+r+n-c,0),g=h>0?h+r+n+c:0;let x=0;const w=i-u;if(r){const Q=h>0?h-r:0,J=p>0?p-r:0,te=(Q+J)/2,ne=te!==0?w*te/(te+r):w;x=(w-ne)/2}const S=Math.max(.001,w*p-n/Xt)/p,k=(w-S)/2,E=u+k+x,R=i-k-x,{outerStart:A,outerEnd:z,innerStart:U,innerEnd:N}=nL(t,g,p,R-E),I=p-A,H=p-z,V=E+A/I,F=R-z/H,le=g+U,ue=g+N,ae=E+U/le,q=R-N/ue;if(e.beginPath(),s){const Q=(V+F)/2;if(e.arc(o,a,p,V,Q),e.arc(o,a,p,Q,F),z>0){const me=wu(H,F,o,a);e.arc(me.x,me.y,z,F,R+Hn)}const J=wu(ue,R,o,a);if(e.lineTo(J.x,J.y),N>0){const me=wu(ue,q,o,a);e.arc(me.x,me.y,N,R+Hn,q+Math.PI)}const te=(R-N/g+(E+U/g))/2;if(e.arc(o,a,g,R-N/g,te,!0),e.arc(o,a,g,te,E+U/g,!0),U>0){const me=wu(le,ae,o,a);e.arc(me.x,me.y,U,ae+Math.PI,E-Hn)}const ne=wu(I,E,o,a);if(e.lineTo(ne.x,ne.y),A>0){const me=wu(I,V,o,a);e.arc(me.x,me.y,A,E-Hn,V)}}else{e.moveTo(o,a);const Q=Math.cos(V)*p+o,J=Math.sin(V)*p+a;e.lineTo(Q,J);const te=Math.cos(F)*p+o,ne=Math.sin(F)*p+a;e.lineTo(te,ne)}e.closePath()}function rL(e,t,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=t;let u=t.endAngle;if(s){Yp(e,t,n,r,u,i);for(let c=0;c<s;++c)e.fill();isNaN(a)||(u=o+(a%yn||yn))}return Yp(e,t,n,r,u,i),e.fill(),u}function iL(e,t,n,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:u}=t,{borderWidth:c,borderJoinStyle:h,borderDash:p,borderDashOffset:g,borderRadius:x}=u,w=u.borderAlign==="inner";if(!c)return;e.setLineDash(p||[]),e.lineDashOffset=g,w?(e.lineWidth=c*2,e.lineJoin=h||"round"):(e.lineWidth=c,e.lineJoin=h||"bevel");let S=t.endAngle;if(s){Yp(e,t,n,r,S,i);for(let k=0;k<s;++k)e.stroke();isNaN(a)||(S=o+(a%yn||yn))}w&&eL(e,t,S),u.selfJoin&&S-o>=Xt&&x===0&&h!=="miter"&&ZA(e,t,S),s||(Yp(e,t,n,r,S,i),e.stroke())}class Gv extends wo{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,r){const i=this.getProps(["x","y"],r),{angle:s,distance:o}=s6(i,{x:t,y:n}),{startAngle:a,endAngle:u,innerRadius:c,outerRadius:h,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),g=(this.options.spacing+this.options.borderWidth)/2,x=bt(p,u-a),w=Qd(s,a,u)&&a!==u,S=x>=yn||w,k=po(o,c+g,h+g);return S&&k}getCenterPoint(t){const{x:n,y:r,startAngle:i,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:u,spacing:c}=this.options,h=(i+s)/2,p=(o+a+c+u)/2;return{x:n+Math.cos(h)*p,y:r+Math.sin(h)*p}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:r}=this,i=(n.offset||0)/4,s=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>yn?Math.floor(r/yn):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*i,Math.sin(a)*i);const u=1-Math.sin(Math.min(Xt,r||0)),c=i*u;t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,rL(t,this,c,s,o),iL(t,this,c,s,o),t.restore()}}function U6(e,t,n=t){e.lineCap=bt(n.borderCapStyle,t.borderCapStyle),e.setLineDash(bt(n.borderDash,t.borderDash)),e.lineDashOffset=bt(n.borderDashOffset,t.borderDashOffset),e.lineJoin=bt(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=bt(n.borderWidth,t.borderWidth),e.strokeStyle=bt(n.borderColor,t.borderColor)}function sL(e,t,n){e.lineTo(n.x,n.y)}function oL(e){return e.stepped?CR:e.tension||e.cubicInterpolationMode==="monotone"?kR:sL}function H6(e,t,n={}){const r=e.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=t,u=Math.max(i,o),c=Math.min(s,a),h=i<o&&s<o||i>a&&s>a;return{count:r,start:u,loop:t.loop,ilen:c<u&&!h?r+c-u:c-u}}function aL(e,t,n,r){const{points:i,options:s}=t,{count:o,start:a,loop:u,ilen:c}=H6(i,n,r),h=oL(s);let{move:p=!0,reverse:g}=r||{},x,w,S;for(x=0;x<=c;++x)w=i[(a+(g?c-x:x))%o],!w.skip&&(p?(e.moveTo(w.x,w.y),p=!1):h(e,S,w,g,s.stepped),S=w);return u&&(w=i[(a+(g?c:0))%o],h(e,S,w,g,s.stepped)),!!u}function lL(e,t,n,r){const i=t.points,{count:s,start:o,ilen:a}=H6(i,n,r),{move:u=!0,reverse:c}=r||{};let h=0,p=0,g,x,w,S,k,E;const R=z=>(o+(c?a-z:z))%s,A=()=>{S!==k&&(e.lineTo(h,k),e.lineTo(h,S),e.lineTo(h,E))};for(u&&(x=i[R(0)],e.moveTo(x.x,x.y)),g=0;g<=a;++g){if(x=i[R(g)],x.skip)continue;const z=x.x,U=x.y,N=z|0;N===w?(U<S?S=U:U>k&&(k=U),h=(p*h+z)/++p):(A(),e.lineTo(z,U),w=N,p=0,S=k=U),E=U}A()}function gy(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?lL:aL}function uL(e){return e.stepped?rM:e.tension||e.cubicInterpolationMode==="monotone"?iM:ol}function cL(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),U6(e,t.options),e.stroke(i)}function dL(e,t,n,r){const{segments:i,options:s}=t,o=gy(t);for(const a of i)U6(e,s,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}const hL=typeof Path2D=="function";function fL(e,t,n,r){hL&&!t.options.segment?cL(e,t,n,r):dL(e,t,n,r)}class uc extends wo{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;GR(this._points,r,t,i,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=cM(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,r=t.length;return r&&n[t[r-1].end]}interpolate(t,n){const r=this.options,i=t[n],s=this.points,o=k6(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],u=uL(r);let c,h;for(c=0,h=o.length;c<h;++c){const{start:p,end:g}=o[c],x=s[p],w=s[g];if(x===w){a.push(x);continue}const S=Math.abs((i-x[n])/(w[n]-x[n])),k=u(x,w,S,r.stepped);k[n]=t[n],a.push(k)}return a.length===1?a[0]:a}pathSegment(t,n,r){return gy(this)(t,this,n,r)}path(t,n,r){const i=this.segments,s=gy(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)o&=s(t,this,a,{start:n,end:n+r-1});return!!o}draw(t,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),fL(t,this,r,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Y3(e,t,n,r){const i=e.options,{[n]:s}=e.getProps([n],r);return Math.abs(t-s)<i.radius+i.hitRadius}class Yv extends wo{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,r){const i=this.options,{x:s,y:o}=this.getProps(["x","y"],r);return Math.pow(t-s,2)+Math.pow(n-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,n){return Y3(this,t,"x",n)}inYRange(t,n){return Y3(this,t,"y",n)}getCenterPoint(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const r=n&&t.borderWidth||0;return(n+r)*2}draw(t,n){const r=this.options;this.skip||r.radius<.1||!go(this,n,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,fy(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function V6(e,t){const{x:n,y:r,base:i,width:s,height:o}=e.getProps(["x","y","base","width","height"],t);let a,u,c,h,p;return e.horizontal?(p=o/2,a=Math.min(n,i),u=Math.max(n,i),c=r-p,h=r+p):(p=s/2,a=n-p,u=n+p,c=Math.min(r,i),h=Math.max(r,i)),{left:a,top:c,right:u,bottom:h}}function sa(e,t,n,r){return e?0:hr(t,n,r)}function pL(e,t,n){const r=e.options.borderWidth,i=e.borderSkipped,s=p6(r);return{t:sa(i.top,s.top,0,n),r:sa(i.right,s.right,0,t),b:sa(i.bottom,s.bottom,0,n),l:sa(i.left,s.left,0,t)}}function mL(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,s=yl(i),o=Math.min(t,n),a=e.borderSkipped,u=r||$t(i);return{topLeft:sa(!u||a.top||a.left,s.topLeft,0,o),topRight:sa(!u||a.top||a.right,s.topRight,0,o),bottomLeft:sa(!u||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:sa(!u||a.bottom||a.right,s.bottomRight,0,o)}}function gL(e){const t=V6(e),n=t.right-t.left,r=t.bottom-t.top,i=pL(e,n/2,r/2),s=mL(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:s},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function n1(e,t,n,r){const i=t===null,s=n===null,a=e&&!(i&&s)&&V6(e,r);return a&&(i||po(t,a.left,a.right))&&(s||po(n,a.top,a.bottom))}function yL(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function vL(e,t){e.rect(t.x,t.y,t.w,t.h)}function r1(e,t,n={}){const r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,s=(e.x+e.w!==n.x+n.w?t:0)-r,o=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+s,h:e.h+o,radius:e.radius}}class uh extends wo{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=gL(this),a=yL(o.radius)?Wd:vL;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),a(t,r1(o,n,s)),t.clip(),a(t,r1(s,-n,o)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),a(t,r1(s,n)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,n,r){return n1(this,t,n,r)}inXRange(t,n){return n1(this,t,null,n)}inYRange(t,n){return n1(this,null,t,n)}getCenterPoint(t){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}var xL=Object.freeze({__proto__:null,ArcElement:Gv,BarElement:uh,LineElement:uc,PointElement:Yv});const yy=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],X3=yy.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function Q6(e){return yy[e%yy.length]}function W6(e){return X3[e%X3.length]}function bL(e,t){return e.borderColor=Q6(t),e.backgroundColor=W6(t),++t}function wL(e,t){return e.backgroundColor=e.data.map(()=>Q6(t++)),t}function _L(e,t){return e.backgroundColor=e.data.map(()=>W6(t++)),t}function SL(e){let t=0;return(n,r)=>{const i=e.getDatasetMeta(r).controller;i instanceof Tm?t=wL(n,t):i instanceof O6?t=_L(n,t):i&&(t=bL(n,t))}}function J3(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function CL(e){return e&&(e.borderColor||e.backgroundColor)}function kL(){return kn.borderColor!=="rgba(0,0,0,0.1)"||kn.backgroundColor!=="rgba(0,0,0,0.1)"}var jL={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:r},options:i}=e.config,{elements:s}=i,o=J3(r)||CL(i)||s&&J3(s)||kL();if(!n.forceOverride&&o)return;const a=SL(e);r.forEach(a)}};function EL(e,t,n,r,i){const s=i.samples||r;if(s>=n)return e.slice(t,t+n);const o=[],a=(n-2)/(s-2);let u=0;const c=t+n-1;let h=t,p,g,x,w,S;for(o[u++]=e[h],p=0;p<s-2;p++){let k=0,E=0,R;const A=Math.floor((p+1)*a)+1+t,z=Math.min(Math.floor((p+2)*a)+1,n)+t,U=z-A;for(R=A;R<z;R++)k+=e[R].x,E+=e[R].y;k/=U,E/=U;const N=Math.floor(p*a)+1+t,I=Math.min(Math.floor((p+1)*a)+1,n)+t,{x:H,y:V}=e[h];for(x=w=-1,R=N;R<I;R++)w=.5*Math.abs((H-k)*(e[R].y-V)-(H-e[R].x)*(E-V)),w>x&&(x=w,g=e[R],S=R);o[u++]=g,h=S}return o[u++]=e[c],o}function TL(e,t,n,r){let i=0,s=0,o,a,u,c,h,p,g,x,w,S;const k=[],E=t+n-1,R=e[t].x,z=e[E].x-R;for(o=t;o<t+n;++o){a=e[o],u=(a.x-R)/z*r,c=a.y;const U=u|0;if(U===h)c<w?(w=c,p=o):c>S&&(S=c,g=o),i=(s*i+a.x)/++s;else{const N=o-1;if(!zt(p)&&!zt(g)){const I=Math.min(p,g),H=Math.max(p,g);I!==x&&I!==N&&k.push({...e[I],x:i}),H!==x&&H!==N&&k.push({...e[H],x:i})}o>0&&N!==x&&k.push(e[N]),k.push(a),h=U,s=0,w=S=c,p=g=x=o}}return k}function q6(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Z3(e){e.data.datasets.forEach(t=>{q6(t)})}function PL(e,t){const n=t.length;let r=0,i;const{iScale:s}=e,{min:o,max:a,minDefined:u,maxDefined:c}=s.getUserBounds();return u&&(r=hr(mo(t,s.axis,o).lo,0,n-1)),c?i=hr(mo(t,s.axis,a).hi+1,r,n)-r:i=n-r,{start:r,count:i}}var NL={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){Z3(e);return}const r=e.width;e.data.datasets.forEach((i,s)=>{const{_data:o,indexAxis:a}=i,u=e.getDatasetMeta(s),c=o||i.data;if(xd([a,e.options.indexAxis])==="y"||!u.controller.supportsDecimation)return;const h=e.scales[u.xAxisID];if(h.type!=="linear"&&h.type!=="time"||e.options.parsing)return;let{start:p,count:g}=PL(u,c);const x=n.threshold||4*r;if(g<=x){q6(i);return}zt(o)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(S){this._data=S}}));let w;switch(n.algorithm){case"lttb":w=EL(c,p,g,r,n);break;case"min-max":w=TL(c,p,g,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}i._decimated=w})},destroy(e){Z3(e)}};function OL(e,t,n){const r=e.segments,i=e.points,s=t.points,o=[];for(const a of r){let{start:u,end:c}=a;c=Nm(u,c,i);const h=vy(n,i[u],i[c],a.loop);if(!t.segments){o.push({source:a,target:h,start:i[u],end:i[c]});continue}const p=k6(t,h);for(const g of p){const x=vy(n,s[g.start],s[g.end],g.loop),w=C6(a,i,x);for(const S of w)o.push({source:S,target:g,start:{[n]:e5(h,x,"start",Math.max)},end:{[n]:e5(h,x,"end",Math.min)}})}}return o}function vy(e,t,n,r){if(r)return;let i=t[e],s=n[e];return e==="angle"&&(i=Tr(i),s=Tr(s)),{property:e,start:i,end:s}}function RL(e,t){const{x:n=null,y:r=null}=e||{},i=t.points,s=[];return t.segments.forEach(({start:o,end:a})=>{a=Nm(o,a,i);const u=i[o],c=i[a];r!==null?(s.push({x:u.x,y:r}),s.push({x:c.x,y:r})):n!==null&&(s.push({x:n,y:u.y}),s.push({x:n,y:c.y}))}),s}function Nm(e,t,n){for(;t>e;t--){const r=n[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function e5(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function K6(e,t){let n=[],r=!1;return Cn(e)?(r=!0,n=e):n=RL(e,t),n.length?new uc({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function t5(e){return e&&e.fill!==!1}function ML(e,t,n){let i=e[t].fill;const s=[t];let o;if(!n)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!An(i))return i;if(o=e[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function AL(e,t,n){const r=FL(e);if($t(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return An(i)&&Math.floor(i)===i?LL(r[0],t,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function LL(e,t,n,r){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=r?!1:n}function IL(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:$t(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function DL(e,t,n){let r;return e==="start"?r=n:e==="end"?r=t.options.reverse?t.min:t.max:$t(e)?r=e.value:r=t.getBaseValue(),r}function FL(e){const t=e.options,n=t.fill;let r=bt(n&&n.target,n);return r===void 0&&(r=!!t.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function BL(e){const{scale:t,index:n,line:r}=e,i=[],s=r.segments,o=r.points,a=zL(t,n);a.push(K6({x:null,y:t.bottom},r));for(let u=0;u<s.length;u++){const c=s[u];for(let h=c.start;h<=c.end;h++)$L(i,o[h],a)}return new uc({points:i,options:{}})}function zL(e,t){const n=[],r=e.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===t)break;s.hidden||n.unshift(s.dataset)}return n}function $L(e,t,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:o,last:a,point:u}=UL(s,t,"x");if(!(!u||o&&a)){if(o)r.unshift(u);else if(e.push(u),!a)break}}e.push(...r)}function UL(e,t,n){const r=e.interpolate(t,n);if(!r)return{};const i=r[n],s=e.segments,o=e.points;let a=!1,u=!1;for(let c=0;c<s.length;c++){const h=s[c],p=o[h.start][n],g=o[h.end][n];if(po(i,p,g)){a=i===p,u=i===g;break}}return{first:a,last:u,point:r}}class G6{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,r){const{x:i,y:s,radius:o}=this;return n=n||{start:0,end:yn},t.arc(i,s,o,n.end,n.start,!0),!r.bounds}interpolate(t){const{x:n,y:r,radius:i}=this,s=t.angle;return{x:n+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function HL(e){const{chart:t,fill:n,line:r}=e;if(An(n))return VL(t,n);if(n==="stack")return BL(e);if(n==="shape")return!0;const i=QL(e);return i instanceof G6?i:K6(i,r)}function VL(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function QL(e){return(e.scale||{}).getPointPositionForValue?qL(e):WL(e)}function WL(e){const{scale:t={},fill:n}=e,r=IL(n,t);if(An(r)){const i=t.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function qL(e){const{scale:t,fill:n}=e,r=t.options,i=t.getLabels().length,s=r.reverse?t.max:t.min,o=DL(n,t,s),a=[];if(r.grid.circular){const u=t.getPointPositionForValue(0,s);return new G6({x:u.x,y:u.y,radius:t.getDistanceFromCenterForValue(o)})}for(let u=0;u<i;++u)a.push(t.getPointPositionForValue(u,o));return a}function i1(e,t,n){const r=HL(t),{chart:i,index:s,line:o,scale:a,axis:u}=t,c=o.options,h=c.fill,p=c.backgroundColor,{above:g=p,below:x=p}=h||{},w=i.getDatasetMeta(s),S=j6(i,w);r&&o.points.length&&(km(e,n),KL(e,{line:o,target:r,above:g,below:x,area:n,scale:a,axis:u,clip:S}),jm(e))}function KL(e,t){const{line:n,target:r,above:i,below:s,area:o,scale:a,clip:u}=t,c=n._loop?"angle":t.axis;e.save();let h=s;s!==i&&(c==="x"?(n5(e,r,o.top),s1(e,{line:n,target:r,color:i,scale:a,property:c,clip:u}),e.restore(),e.save(),n5(e,r,o.bottom)):c==="y"&&(r5(e,r,o.left),s1(e,{line:n,target:r,color:s,scale:a,property:c,clip:u}),e.restore(),e.save(),r5(e,r,o.right),h=i)),s1(e,{line:n,target:r,color:h,scale:a,property:c,clip:u}),e.restore()}function n5(e,t,n){const{segments:r,points:i}=t;let s=!0,o=!1;e.beginPath();for(const a of r){const{start:u,end:c}=a,h=i[u],p=i[Nm(u,c,i)];s?(e.moveTo(h.x,h.y),s=!1):(e.lineTo(h.x,n),e.lineTo(h.x,h.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(p.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function r5(e,t,n){const{segments:r,points:i}=t;let s=!0,o=!1;e.beginPath();for(const a of r){const{start:u,end:c}=a,h=i[u],p=i[Nm(u,c,i)];s?(e.moveTo(h.x,h.y),s=!1):(e.lineTo(n,h.y),e.lineTo(h.x,h.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(n,p.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function s1(e,t){const{line:n,target:r,property:i,color:s,scale:o,clip:a}=t,u=OL(n,r,i);for(const{source:c,target:h,start:p,end:g}of u){const{style:{backgroundColor:x=s}={}}=c,w=r!==!0;e.save(),e.fillStyle=x,GL(e,o,a,w&&vy(i,p,g)),e.beginPath();const S=!!n.pathSegment(e,c);let k;if(w){S?e.closePath():i5(e,r,g,i);const E=!!r.pathSegment(e,h,{move:S,reverse:!0});k=S&&E,k||i5(e,r,p,i)}e.closePath(),e.fill(k?"evenodd":"nonzero"),e.restore()}}function GL(e,t,n,r){const i=t.chart.chartArea,{property:s,start:o,end:a}=r||{};if(s==="x"||s==="y"){let u,c,h,p;s==="x"?(u=o,c=i.top,h=a,p=i.bottom):(u=i.left,c=o,h=i.right,p=a),e.beginPath(),n&&(u=Math.max(u,n.left),h=Math.min(h,n.right),c=Math.max(c,n.top),p=Math.min(p,n.bottom)),e.rect(u,c,h-u,p-c),e.clip()}}function i5(e,t,n,r){const i=t.interpolate(n,r);i&&e.lineTo(i.x,i.y)}var Y6={id:"filler",afterDatasetsUpdate(e,t,n){const r=(e.data.datasets||[]).length,i=[];let s,o,a,u;for(o=0;o<r;++o)s=e.getDatasetMeta(o),a=s.dataset,u=null,a&&a.options&&a instanceof uc&&(u={visible:e.isDatasetVisible(o),index:o,fill:AL(a,o,r),chart:e,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=u,i.push(u);for(o=0;o<r;++o)u=i[o],!(!u||u.fill===!1)&&(u.fill=ML(i,o,n.propagate))},beforeDraw(e,t,n){const r=n.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),s=e.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),r&&a.fill&&i1(e.ctx,a,s))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=e.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;t5(s)&&i1(e.ctx,s,e.chartArea)}},beforeDatasetDraw(e,t,n){const r=t.meta.$filler;!t5(r)||n.drawTime!=="beforeDatasetDraw"||i1(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const s5=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}},YL=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class o5 extends wo{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,r){this.maxWidth=t,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=dn(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(r=>t.filter(r,this.chart.data))),t.sort&&(n=n.sort((r,i)=>t.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,i=nr(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:u}=s5(r,s);let c,h;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,h=this._fitRows(o,s,a,u)+10):(h=this.maxHeight,c=this._fitCols(o,i,a,u)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(h,t.maxHeight||this.maxHeight)}_fitRows(t,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,u=this.legendHitBoxes=[],c=this.lineWidths=[0],h=i+a;let p=t;s.textAlign="left",s.textBaseline="middle";let g=-1,x=-h;return this.legendItems.forEach((w,S)=>{const k=r+n/2+s.measureText(w.text).width;(S===0||c[c.length-1]+k+2*a>o)&&(p+=h,c[c.length-(S>0?0:1)]=0,x+=h,g++),u[S]={left:0,top:x,row:g,width:k,height:i},c[c.length-1]+=k+a}),p}_fitCols(t,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,u=this.legendHitBoxes=[],c=this.columnSizes=[],h=o-t;let p=a,g=0,x=0,w=0,S=0;return this.legendItems.forEach((k,E)=>{const{itemWidth:R,itemHeight:A}=XL(r,n,s,k,i);E>0&&x+A+2*a>h&&(p+=g+a,c.push({width:g,height:x}),w+=g+a,S++,g=x=0),u[E]={left:w,top:x,col:S,width:R,height:A},g=Math.max(g,R),x+=A+a}),p+=g,c.push({width:g,height:x}),p}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=Ku(s,this.left,this.width);if(this.isHorizontal()){let a=0,u=Er(r,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,u=Er(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+t+i,c.left=o.leftForLtr(o.x(u),c.width),u+=c.width+i}else{let a=0,u=Er(r,this.top+t+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,u=Er(r,this.top+t+i,this.bottom-this.columnSizes[a].height)),c.top=u,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),u+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;km(t,this),this._draw(),jm(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=t,a=kn.color,u=Ku(t.rtl,this.left,this.width),c=nr(o.font),{padding:h}=o,p=c.size,g=p/2;let x;this.drawTitle(),i.textAlign=u.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:w,boxHeight:S,itemHeight:k}=s5(o,p),E=function(N,I,H){if(isNaN(w)||w<=0||isNaN(S)||S<0)return;i.save();const V=bt(H.lineWidth,1);if(i.fillStyle=bt(H.fillStyle,a),i.lineCap=bt(H.lineCap,"butt"),i.lineDashOffset=bt(H.lineDashOffset,0),i.lineJoin=bt(H.lineJoin,"miter"),i.lineWidth=V,i.strokeStyle=bt(H.strokeStyle,a),i.setLineDash(bt(H.lineDash,[])),o.usePointStyle){const F={radius:S*Math.SQRT2/2,pointStyle:H.pointStyle,rotation:H.rotation,borderWidth:V},le=u.xPlus(N,w/2),ue=I+g;f6(i,F,le,ue,o.pointStyleWidth&&w)}else{const F=I+Math.max((p-S)/2,0),le=u.leftForLtr(N,w),ue=yl(H.borderRadius);i.beginPath(),Object.values(ue).some(ae=>ae!==0)?Wd(i,{x:le,y:F,w,h:S,radius:ue}):i.rect(le,F,w,S),i.fill(),V!==0&&i.stroke()}i.restore()},R=function(N,I,H){Sl(i,H.text,N,I+k/2,c,{strikethrough:H.hidden,textAlign:u.textAlign(H.textAlign)})},A=this.isHorizontal(),z=this._computeTitleHeight();A?x={x:Er(s,this.left+h,this.right-r[0]),y:this.top+h+z,line:0}:x={x:this.left+h,y:Er(s,this.top+z+h,this.bottom-n[0].height),line:0},w6(this.ctx,t.textDirection);const U=k+h;this.legendItems.forEach((N,I)=>{i.strokeStyle=N.fontColor,i.fillStyle=N.fontColor;const H=i.measureText(N.text).width,V=u.textAlign(N.textAlign||(N.textAlign=o.textAlign)),F=w+g+H;let le=x.x,ue=x.y;u.setWidth(this.width),A?I>0&&le+F+h>this.right&&(ue=x.y+=U,x.line++,le=x.x=Er(s,this.left+h,this.right-r[x.line])):I>0&&ue+U>this.bottom&&(le=x.x=le+n[x.line].width+h,x.line++,ue=x.y=Er(s,this.top+z+h,this.bottom-n[x.line].height));const ae=u.x(le);if(E(ae,ue,N),le=fR(V,le+w+g,A?le+F:this.right,t.rtl),R(u.x(le),ue,N),A)x.x+=F+h;else if(typeof N.text!="string"){const q=c.lineHeight;x.y+=X6(N,q)+h}else x.y+=U}),_6(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,r=nr(n.font),i=Rr(n.padding);if(!n.display)return;const s=Ku(t.rtl,this.left,this.width),o=this.ctx,a=n.position,u=r.size/2,c=i.top+u;let h,p=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),h=this.top+c,p=Er(t.align,p,this.right-g);else{const w=this.columnSizes.reduce((S,k)=>Math.max(S,k.height),0);h=c+Er(t.align,this.top,this.bottom-w-t.labels.padding-this._computeTitleHeight())}const x=Er(a,p,p+g);o.textAlign=s.textAlign(zv(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,Sl(o,n.text,x,h,r)}_computeTitleHeight(){const t=this.options.title,n=nr(t.font),r=Rr(t.padding);return t.display?n.lineHeight+r.height:0}_getLegendItemAt(t,n){let r,i,s;if(po(t,this.left,this.right)&&po(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],po(t,i.left,i.left+i.width)&&po(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(t){const n=this.options;if(!eI(t.type,n))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,s=YL(i,r);i&&!s&&dn(n.onLeave,[t,i,this],this),this._hoveredItem=r,r&&!s&&dn(n.onHover,[t,r,this],this)}else r&&dn(n.onClick,[t,r,this],this)}}function XL(e,t,n,r,i){const s=JL(r,e,t,n),o=ZL(i,r,t.lineHeight);return{itemWidth:s,itemHeight:o}}function JL(e,t,n,r){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),t+n.size/2+r.measureText(i).width}function ZL(e,t,n){let r=e;return typeof t.text!="string"&&(r=X6(t,n)),r}function X6(e,t){const n=e.text?e.text.length:0;return t*n}function eI(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var cc={id:"legend",_element:o5,start(e,t,n){const r=e.legend=new o5({ctx:e.ctx,options:n,chart:e});Pr.configure(e,r,n),Pr.addBox(e,r)},stop(e){Pr.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;Pr.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(u=>{const c=u.controller.getStyle(n?0:void 0),h=Rr(c.borderWidth);return{text:t[u.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!u.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:u.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Xv extends wo{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const i=Cn(r.text)?r.text.length:1;this._padding=Rr(r.padding);const s=i*nr(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let u=0,c,h,p;return this.isHorizontal()?(h=Er(a,r,s),p=n+t,c=s-r):(o.position==="left"?(h=r+t,p=Er(a,i,n),u=Xt*-.5):(h=s-t,p=Er(a,n,i),u=Xt*.5),c=i-n),{titleX:h,titleY:p,maxWidth:c,rotation:u}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const r=nr(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:u,rotation:c}=this._drawArgs(s);Sl(t,n.text,0,0,r,{color:n.color,maxWidth:u,rotation:c,textAlign:zv(n.align),textBaseline:"middle",translation:[o,a]})}}function tI(e,t){const n=new Xv({ctx:e.ctx,options:t,chart:e});Pr.configure(e,n,t),Pr.addBox(e,n),e.titleBlock=n}var J6={id:"title",_element:Xv,start(e,t,n){tI(e,n)},stop(e){const t=e.titleBlock;Pr.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;Pr.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Gf=new WeakMap;var nI={id:"subtitle",start(e,t,n){const r=new Xv({ctx:e.ctx,options:n,chart:e});Pr.configure(e,r,n),Pr.addBox(e,r),Gf.set(e,r)},stop(e){Pr.removeBox(e,Gf.get(e)),Gf.delete(e)},beforeUpdate(e,t,n){const r=Gf.get(e);Pr.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const wd={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,s=0;for(t=0,n=e.length;t<n;++t){const a=e[t].element;if(a&&a.hasValue()){const u=a.tooltipPosition();r.add(u.x),i+=u.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,u)=>a+u)/r.size,y:i/s}},nearest(e,t){if(!e.length)return!1;let n=t.x,r=t.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=e.length;s<o;++s){const u=e[s].element;if(u&&u.hasValue()){const c=u.getCenterPoint(),h=dy(t,c);h<i&&(i=h,a=u)}}if(a){const u=a.tooltipPosition();n=u.x,r=u.y}return{x:n,y:r}}};function Rs(e,t){return t&&(Cn(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function ao(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function rI(e,t){const{element:n,datasetIndex:r,index:i}=t,s=e.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:e,label:o,parsed:s.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function a5(e,t){const n=e.chart.ctx,{body:r,footer:i,title:s}=e,{boxWidth:o,boxHeight:a}=t,u=nr(t.bodyFont),c=nr(t.titleFont),h=nr(t.footerFont),p=s.length,g=i.length,x=r.length,w=Rr(t.padding);let S=w.height,k=0,E=r.reduce((z,U)=>z+U.before.length+U.lines.length+U.after.length,0);if(E+=e.beforeBody.length+e.afterBody.length,p&&(S+=p*c.lineHeight+(p-1)*t.titleSpacing+t.titleMarginBottom),E){const z=t.displayColors?Math.max(a,u.lineHeight):u.lineHeight;S+=x*z+(E-x)*u.lineHeight+(E-1)*t.bodySpacing}g&&(S+=t.footerMarginTop+g*h.lineHeight+(g-1)*t.footerSpacing);let R=0;const A=function(z){k=Math.max(k,n.measureText(z).width+R)};return n.save(),n.font=c.string,nn(e.title,A),n.font=u.string,nn(e.beforeBody.concat(e.afterBody),A),R=t.displayColors?o+2+t.boxPadding:0,nn(r,z=>{nn(z.before,A),nn(z.lines,A),nn(z.after,A)}),R=0,n.font=h.string,nn(e.footer,A),n.restore(),k+=w.width,{width:k,height:S}}function iI(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}function sI(e,t,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(e==="left"&&i+s+o>t.width||e==="right"&&i-s-o<0)return!0}function oI(e,t,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:u}}=e;let c="center";return r==="center"?c=i<=(a+u)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),sI(c,e,t,n)&&(c="center"),c}function l5(e,t,n){const r=n.yAlign||t.yAlign||iI(e,n);return{xAlign:n.xAlign||t.xAlign||oI(e,t,n,r),yAlign:r}}function aI(e,t){let{x:n,width:r}=e;return t==="right"?n-=r:t==="center"&&(n-=r/2),n}function lI(e,t,n){let{y:r,height:i}=e;return t==="top"?r+=n:t==="bottom"?r-=i+n:r-=i/2,r}function u5(e,t,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=e,{xAlign:a,yAlign:u}=n,c=i+s,{topLeft:h,topRight:p,bottomLeft:g,bottomRight:x}=yl(o);let w=aI(t,a);const S=lI(t,u,c);return u==="center"?a==="left"?w+=c:a==="right"&&(w-=c):a==="left"?w-=Math.max(h,g)+i:a==="right"&&(w+=Math.max(p,x)+i),{x:hr(w,0,r.width-t.width),y:hr(S,0,r.height-t.height)}}function Yf(e,t,n){const r=Rr(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function c5(e){return Rs([],ao(e))}function uI(e,t,n){return xa(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function d5(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const Z6={beforeTitle:so,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:so,beforeBody:so,beforeLabel:so,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return zt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:so,afterBody:so,beforeFooter:so,footer:so,afterFooter:so};function ti(e,t,n,r){const i=e[t].call(n,r);return typeof i>"u"?Z6[t].call(n,r):i}class h5 extends wo{static positioners=wd;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new E6(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=uI(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,i=ti(r,"beforeTitle",this,t),s=ti(r,"title",this,t),o=ti(r,"afterTitle",this,t);let a=[];return a=Rs(a,ao(i)),a=Rs(a,ao(s)),a=Rs(a,ao(o)),a}getBeforeBody(t,n){return c5(ti(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:r}=n,i=[];return nn(t,s=>{const o={before:[],lines:[],after:[]},a=d5(r,s);Rs(o.before,ao(ti(a,"beforeLabel",this,s))),Rs(o.lines,ti(a,"label",this,s)),Rs(o.after,ao(ti(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(t,n){return c5(ti(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:r}=n,i=ti(r,"beforeFooter",this,t),s=ti(r,"footer",this,t),o=ti(r,"afterFooter",this,t);let a=[];return a=Rs(a,ao(i)),a=Rs(a,ao(s)),a=Rs(a,ao(o)),a}_createItems(t){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],u,c;for(u=0,c=n.length;u<c;++u)a.push(rI(this.chart,n[u]));return t.filter&&(a=a.filter((h,p,g)=>t.filter(h,p,g,r))),t.itemSort&&(a=a.sort((h,p)=>t.itemSort(h,p,r))),nn(a,h=>{const p=d5(t.callbacks,h);i.push(ti(p,"labelColor",this,h)),s.push(ti(p,"labelPointStyle",this,h)),o.push(ti(p,"labelTextColor",this,h))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=wd[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const u=this._size=a5(this,r),c=Object.assign({},a,u),h=l5(this.chart,r,c),p=u5(r,c,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,s={opacity:1,x:p.x,y:p.y,width:u.width,height:u.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,i){const s=this.getCaretPosition(t,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(t,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:u,topRight:c,bottomLeft:h,bottomRight:p}=yl(a),{x:g,y:x}=t,{width:w,height:S}=n;let k,E,R,A,z,U;return s==="center"?(z=x+S/2,i==="left"?(k=g,E=k-o,A=z+o,U=z-o):(k=g+w,E=k+o,A=z-o,U=z+o),R=k):(i==="left"?E=g+Math.max(u,h)+o:i==="right"?E=g+w-Math.max(c,p)-o:E=this.caretX,s==="top"?(A=x,z=A-o,k=E-o,R=E+o):(A=x+S,z=A+o,k=E+o,R=E-o),U=A),{x1:k,x2:E,x3:R,y1:A,y2:z,y3:U}}drawTitle(t,n,r){const i=this.title,s=i.length;let o,a,u;if(s){const c=Ku(r.rtl,this.x,this.width);for(t.x=Yf(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=nr(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,u=0;u<s;++u)n.fillText(i[u],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,u+1===s&&(t.y+=r.titleMarginBottom-a)}}_drawColorBox(t,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:u,boxWidth:c}=s,h=nr(s.bodyFont),p=Yf(this,"left",s),g=i.x(p),x=u<h.lineHeight?(h.lineHeight-u)/2:0,w=n.y+x;if(s.usePointStyle){const S={radius:Math.min(c,u)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},k=i.leftForLtr(g,c)+c/2,E=w+u/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,fy(t,S,k,E),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,fy(t,S,k,E)}else{t.lineWidth=$t(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const S=i.leftForLtr(g,c),k=i.leftForLtr(i.xPlus(g,1),c-2),E=yl(o.borderRadius);Object.values(E).some(R=>R!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,Wd(t,{x:S,y:w,w:c,h:u,radius:E}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Wd(t,{x:k,y:w+1,w:c-2,h:u-2,radius:E}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(S,w,c,u),t.strokeRect(S,w,c,u),t.fillStyle=o.backgroundColor,t.fillRect(k,w+1,c-2,u-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:u,boxWidth:c,boxPadding:h}=r,p=nr(r.bodyFont);let g=p.lineHeight,x=0;const w=Ku(r.rtl,this.x,this.width),S=function(H){n.fillText(H,w.x(t.x+x),t.y+g/2),t.y+=g+s},k=w.textAlign(o);let E,R,A,z,U,N,I;for(n.textAlign=o,n.textBaseline="middle",n.font=p.string,t.x=Yf(this,k,r),n.fillStyle=r.bodyColor,nn(this.beforeBody,S),x=a&&k!=="right"?o==="center"?c/2+h:c+2+h:0,z=0,N=i.length;z<N;++z){for(E=i[z],R=this.labelTextColors[z],n.fillStyle=R,nn(E.before,S),A=E.lines,a&&A.length&&(this._drawColorBox(n,t,z,w,r),g=Math.max(p.lineHeight,u)),U=0,I=A.length;U<I;++U)S(A[U]),g=p.lineHeight;nn(E.after,S)}x=0,g=p.lineHeight,nn(this.afterBody,S),t.y-=s}drawFooter(t,n,r){const i=this.footer,s=i.length;let o,a;if(s){const u=Ku(r.rtl,this.x,this.width);for(t.x=Yf(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=u.textAlign(r.footerAlign),n.textBaseline="middle",o=nr(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],u.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+r.footerSpacing}}drawBackground(t,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:u}=t,{width:c,height:h}=r,{topLeft:p,topRight:g,bottomLeft:x,bottomRight:w}=yl(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+p,u),o==="top"&&this.drawCaret(t,n,r,i),n.lineTo(a+c-g,u),n.quadraticCurveTo(a+c,u,a+c,u+g),o==="center"&&s==="right"&&this.drawCaret(t,n,r,i),n.lineTo(a+c,u+h-w),n.quadraticCurveTo(a+c,u+h,a+c-w,u+h),o==="bottom"&&this.drawCaret(t,n,r,i),n.lineTo(a+x,u+h),n.quadraticCurveTo(a,u+h,a,u+h-x),o==="center"&&s==="left"&&this.drawCaret(t,n,r,i),n.lineTo(a,u+p),n.quadraticCurveTo(a,u,a+p,u),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=wd[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=a5(this,t),u=Object.assign({},o,this._size),c=l5(n,t,u),h=u5(t,u,c,n);(i._to!==h.x||s._to!==h.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Rr(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=r,this.drawBackground(s,t,i,n),w6(t,n.textDirection),s.y+=o.top,this.drawTitle(s,t,n),this.drawBody(s,t,n),this.drawFooter(s,t,n),_6(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,i=t.map(({datasetIndex:a,index:u})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[u],index:u}}),s=!Vp(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(t,s,n,r),a=this._positionChanged(o,t),u=n||!Vp(o,s)||a;return u&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),u}_getActiveElements(t,n,r,i){const s=this.options;if(t.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:r,caretY:i,options:s}=this,o=wd[s.position].call(this,t,n);return o!==!1&&(r!==o.x||i!==o.y)}}var dc={id:"tooltip",_element:h5,positioners:wd,afterInit(e,t,n){n&&(e.tooltip=new h5({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Z6},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},cI=Object.freeze({__proto__:null,Colors:jL,Decimation:NL,Filler:Y6,Legend:cc,SubTitle:nI,Title:J6,Tooltip:dc});const dI=(e,t,n,r)=>(typeof t=="string"?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function hI(e,t,n,r){const i=e.indexOf(t);if(i===-1)return dI(e,t,n,r);const s=e.lastIndexOf(t);return i!==s?n:i}const fI=(e,t)=>e===null?null:hr(Math.round(e),0,t);function f5(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class ch extends Pl{static id="category";static defaults={ticks:{callback:f5}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(zt(t))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===t?n:hI(r,t,bt(n,t),this._addedLabels),fI(n,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const t=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=t===0&&n===s.length-1?s:s.slice(t,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=t;o<=n;o++)i.push({value:o});return i}getLabelForValue(t){return f5.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function pI(e,t){const n=[],{bounds:i,step:s,min:o,max:a,precision:u,count:c,maxTicks:h,maxDigits:p,includeBounds:g}=e,x=s||1,w=h-1,{min:S,max:k}=t,E=!zt(o),R=!zt(a),A=!zt(c),z=(k-S)/(p+1);let U=a3((k-S)/w/x)*x,N,I,H,V;if(U<1e-14&&!E&&!R)return[{value:S},{value:k}];V=Math.ceil(k/U)-Math.floor(S/U),V>w&&(U=a3(V*U/w/x)*x),zt(u)||(N=Math.pow(10,u),U=Math.ceil(U*N)/N),i==="ticks"?(I=Math.floor(S/U)*U,H=Math.ceil(k/U)*U):(I=S,H=k),E&&R&&s&&oR((a-o)/s,U/1e3)?(V=Math.round(Math.min((a-o)/U,h)),U=(a-o)/V,I=o,H=a):A?(I=E?o:I,H=R?a:H,V=c-1,U=(H-I)/V):(V=(H-I)/U,Ed(V,Math.round(V),U/1e3)?V=Math.round(V):V=Math.ceil(V));const F=Math.max(l3(U),l3(I));N=Math.pow(10,zt(u)?F:u),I=Math.round(I*N)/N,H=Math.round(H*N)/N;let le=0;for(E&&(g&&I!==o?(n.push({value:o}),I<o&&le++,Ed(Math.round((I+le*U)*N)/N,o,p5(o,z,e))&&le++):I<o&&le++);le<V;++le){const ue=Math.round((I+le*U)*N)/N;if(R&&ue>a)break;n.push({value:ue})}return R&&g&&H!==a?n.length&&Ed(n[n.length-1].value,a,p5(a,z,e))?n[n.length-1].value=a:n.push({value:a}):(!R||H===a)&&n.push({value:H}),n}function p5(e,t,{horizontal:n,minRotation:r}){const i=gs(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+e).length;return Math.min(t/s,o)}class Xp extends Pl{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return zt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=u=>i=n?i:u,a=u=>s=r?s:u;if(t){const u=Ds(i),c=Ds(s);u<0&&c<0?a(0):u>0&&c>0&&o(0)}if(i===s){let u=s===0?1:Math.abs(s*.05);a(s+u),t||o(i-u)}this.min=i,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=t,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=pI(i,s);return t.bounds==="ticks"&&i6(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const i=(r-n)/Math.max(t.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(t){return lh(t,this.chart.options.locale,this.options.ticks.format)}}class dh extends Xp{static id="linear";static defaults={ticks:{callback:Cm.formatters.numeric}};determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=An(t)?t:0,this.max=An(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,r=gs(this.options.ticks.minRotation),i=(t?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Kd=e=>Math.floor(ia(e)),Za=(e,t)=>Math.pow(10,Kd(e)+t);function m5(e){return e/Math.pow(10,Kd(e))===1}function g5(e,t,n){const r=Math.pow(10,n),i=Math.floor(e/r);return Math.ceil(t/r)-i}function mI(e,t){const n=t-e;let r=Kd(n);for(;g5(e,t,r)>10;)r++;for(;g5(e,t,r)<10;)r--;return Math.min(r,Kd(e))}function gI(e,{min:t,max:n}){t=Si(e.min,t);const r=[],i=Kd(t);let s=mI(t,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),u=i>s?Math.pow(10,i):0,c=Math.round((t-u)*o)/o,h=Math.floor((t-u)/a/10)*a*10;let p=Math.floor((c-h)/Math.pow(10,s)),g=Si(e.min,Math.round((u+h+p*Math.pow(10,s))*o)/o);for(;g<n;)r.push({value:g,major:m5(g),significand:p}),p>=10?p=p<15?15:20:p++,p>=20&&(s++,p=2,o=s>=0?1:o),g=Math.round((u+h+p*Math.pow(10,s))*o)/o;const x=Si(e.max,g);return r.push({value:x,major:m5(x),significand:p}),r}class yI extends Pl{static id="logarithmic";static defaults={ticks:{callback:Cm.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const r=Xp.prototype.parse.apply(this,[t,n]);if(r===0){this._zero=!0;return}return An(r)&&r>0?r:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=An(t)?Math.max(0,t):null,this.max=An(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!An(this._userMin)&&(this.min=t===Za(this.min,0)?Za(this.min,-1):Za(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let r=this.min,i=this.max;const s=a=>r=t?r:a,o=a=>i=n?i:a;r===i&&(r<=0?(s(1),o(10)):(s(Za(r,-1)),o(Za(i,1)))),r<=0&&s(Za(i,-1)),i<=0&&o(Za(r,1)),this.min=r,this.max=i}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},r=gI(n,this);return t.bounds==="ticks"&&i6(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(t){return t===void 0?"0":lh(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=ia(t),this._valueRange=ia(this.max)-ia(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(ia(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}function xy(e){const t=e.ticks;if(t.display&&e.display){const n=Rr(t.backdropPadding);return bt(t.font&&t.font.size,kn.font.size)+n.height}return 0}function vI(e,t,n){return n=Cn(n)?n:[n],{w:SR(e,t.string,n),h:n.length*t.lineHeight}}function y5(e,t,n,r,i){return e===r||e===i?{start:t-n/2,end:t+n/2}:e<r||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function xI(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),r=[],i=[],s=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?Xt/s:0;for(let u=0;u<s;u++){const c=o.setContext(e.getPointLabelContext(u));i[u]=c.padding;const h=e.getPointPosition(u,e.drawingArea+i[u],a),p=nr(c.font),g=vI(e.ctx,p,e._pointLabels[u]);r[u]=g;const x=Tr(e.getIndexAngle(u)+a),w=Math.round(Fv(x)),S=y5(w,h.x,g.w,0,180),k=y5(w,h.y,g.h,90,270);bI(n,t,x,S,k)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=SI(e,r,i)}function bI(e,t,n,r,i){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,u=0;r.start<t.l?(a=(t.l-r.start)/s,e.l=Math.min(e.l,t.l-a)):r.end>t.r&&(a=(r.end-t.r)/s,e.r=Math.max(e.r,t.r+a)),i.start<t.t?(u=(t.t-i.start)/o,e.t=Math.min(e.t,t.t-u)):i.end>t.b&&(u=(i.end-t.b)/o,e.b=Math.max(e.b,t.b+u))}function wI(e,t,n){const r=e.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=n,u=e.getPointPosition(t,r+i+o,s),c=Math.round(Fv(Tr(u.angle+Hn))),h=jI(u.y,a.h,c),p=CI(c),g=kI(u.x,a.w,p);return{visible:!0,x:u.x,y:h,textAlign:p,left:g,top:h,right:g+a.w,bottom:h+a.h}}function _I(e,t){if(!t)return!0;const{left:n,top:r,right:i,bottom:s}=e;return!(go({x:n,y:r},t)||go({x:n,y:s},t)||go({x:i,y:r},t)||go({x:i,y:s},t))}function SI(e,t,n){const r=[],i=e._pointLabels.length,s=e.options,{centerPointLabels:o,display:a}=s.pointLabels,u={extra:xy(s)/2,additionalAngle:o?Xt/i:0};let c;for(let h=0;h<i;h++){u.padding=n[h],u.size=t[h];const p=wI(e,h,u);r.push(p),a==="auto"&&(p.visible=_I(p,c),p.visible&&(c=p))}return r}function CI(e){return e===0||e===180?"center":e<180?"left":"right"}function kI(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function jI(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function EI(e,t,n){const{left:r,top:i,right:s,bottom:o}=n,{backdropColor:a}=t;if(!zt(a)){const u=yl(t.borderRadius),c=Rr(t.backdropPadding);e.fillStyle=a;const h=r-c.left,p=i-c.top,g=s-r+c.width,x=o-i+c.height;Object.values(u).some(w=>w!==0)?(e.beginPath(),Wd(e,{x:h,y:p,w:g,h:x,radius:u}),e.fill()):e.fillRect(h,p,g,x)}}function TI(e,t){const{ctx:n,options:{pointLabels:r}}=e;for(let i=t-1;i>=0;i--){const s=e._pointLabelItems[i];if(!s.visible)continue;const o=r.setContext(e.getPointLabelContext(i));EI(n,o,s);const a=nr(o.font),{x:u,y:c,textAlign:h}=s;Sl(n,e._pointLabels[i],u,c+a.lineHeight/2,a,{color:o.color,textAlign:h,textBaseline:"middle"})}}function eC(e,t,n,r){const{ctx:i}=e;if(n)i.arc(e.xCenter,e.yCenter,t,0,yn);else{let s=e.getPointPosition(0,t);i.moveTo(s.x,s.y);for(let o=1;o<r;o++)s=e.getPointPosition(o,t),i.lineTo(s.x,s.y)}}function PI(e,t,n,r,i){const s=e.ctx,o=t.circular,{color:a,lineWidth:u}=t;!o&&!r||!a||!u||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=u,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),eC(e,n,o,r),s.closePath(),s.stroke(),s.restore())}function NI(e,t,n){return xa(e,{label:n,index:t,type:"pointLabel"})}class tC extends Xp{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Cm.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Rr(xy(this.options)/2),n=this.width=this.maxWidth-t.width,r=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+r/2+t.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=An(t)&&!isNaN(t)?t:0,this.max=An(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/xy(this.options))}generateTickLabels(t){Xp.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,r)=>{const i=dn(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const t=this.options;t.display&&t.pointLabels.display?xI(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,r,i){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,r,i))}getIndexAngle(t){const n=yn/(this._pointLabels.length||1),r=this.options.startAngle||0;return Tr(t*n+gs(r))}getDistanceFromCenterForValue(t){if(zt(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(zt(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const r=n[t];return NI(this.getContext(),t,r)}}getPointPosition(t,n,r=0){const i=this.getIndexAngle(t)-Hn+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:r,right:i,bottom:s}=this._pointLabelItems[t];return{left:n,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const r=this.ctx;r.save(),r.beginPath(),eC(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=t,r.fill(),r.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:r,grid:i,border:s}=n,o=this._pointLabels.length;let a,u,c;if(n.pointLabels.display&&TI(this,o),i.display&&this.ticks.forEach((h,p)=>{if(p!==0||p===0&&this.min<0){u=this.getDistanceFromCenterForValue(h.value);const g=this.getContext(p),x=i.setContext(g),w=s.setContext(g);PI(this,x,u,o,w)}}),r.display){for(t.save(),a=o-1;a>=0;a--){const h=r.setContext(this.getPointLabelContext(a)),{color:p,lineWidth:g}=h;!g||!p||(t.lineWidth=g,t.strokeStyle=p,t.setLineDash(h.borderDash),t.lineDashOffset=h.borderDashOffset,u=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(a,u),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,u)=>{if(u===0&&this.min>=0&&!n.reverse)return;const c=r.setContext(this.getContext(u)),h=nr(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[u].value),c.showLabelBackdrop){t.font=h.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const p=Rr(c.backdropPadding);t.fillRect(-o/2-p.left,-s-h.size/2-p.top,o+p.width,h.size+p.height)}Sl(t,a.label,0,-s,h,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}const Om={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},oi=Object.keys(Om);function v5(e,t){return e-t}function x5(e,t){if(zt(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:s}=e._parseOpts;let o=t;return typeof r=="function"&&(o=r(o)),An(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(wl(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function b5(e,t,n,r){const i=oi.length;for(let s=oi.indexOf(e);s<i-1;++s){const o=Om[oi[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=r)return oi[s]}return oi[i-1]}function OI(e,t,n,r,i){for(let s=oi.length-1;s>=oi.indexOf(n);s--){const o=oi[s];if(Om[o].common&&e._adapter.diff(i,r,o)>=t-1)return o}return oi[n?oi.indexOf(n):0]}function RI(e){for(let t=oi.indexOf(e)+1,n=oi.length;t<n;++t)if(Om[oi[t]].common)return oi[t]}function w5(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:r,hi:i}=Bv(n,t),s=n[r]>=t?n[r]:n[i];e[s]=!0}}function MI(e,t,n,r){const i=e._adapter,s=+i.startOf(t[0].value,r),o=t[t.length-1].value;let a,u;for(a=s;a<=o;a=+i.add(a,1,r))u=n[a],u>=0&&(t[u].major=!0);return t}function _5(e,t,n){const r=[],i={},s=t.length;let o,a;for(o=0;o<s;++o)a=t[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:MI(e,r,i,n)}class by extends Pl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),i=this._adapter=new VM._date(t.adapters.date);i.init(n),jd(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:x5(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function u(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(u(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&u(this.getMinMax(!1))),i=An(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=An(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=cR(i,s,o);return this._unit=n.unit||(r.autoSkip?b5(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):OI(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:RI(this._unit),this.initOffsets(i),t.reverse&&a.reverse(),_5(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,r=0,i,s;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?n=1-i:n=(this.getDecimalForValue(t[1])-i)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?r=s:r=(s-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=hr(n,0,o),r=hr(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||b5(s.minUnit,n,r,this._getLabelCapacity(n)),a=bt(i.ticks.stepSize,1),u=o==="week"?s.isoWeekday:!1,c=wl(u)||u===!0,h={};let p=n,g,x;if(c&&(p=+t.startOf(p,"isoWeek",u)),p=+t.startOf(p,c?"day":o),t.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const w=i.ticks.source==="data"&&this.getDataTimestamps();for(g=p,x=0;g<r;g=+t.add(g,a,o),x++)w5(h,g,w);return(g===r||i.bounds==="ticks"||x===1)&&w5(h,g,w),Object.keys(h).sort(v5).map(S=>+S)}getLabelForValue(t){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}format(t,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(t,o)}_tickFormatFunction(t,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return dn(o,[t,n,r],this);const a=s.time.displayFormats,u=this._unit,c=this._majorUnit,h=u&&a[u],p=c&&a[c],g=r[n],x=c&&p&&g&&g.major;return this._adapter.format(t,i||(x?p:h))}generateTickLabels(t){let n,r,i;for(n=0,r=t.length;n<r;++n)i=t[n],i.label=this._tickFormatFunction(i.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,i=gs(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(t,0,_5(this,[t],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)t=t.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)t.push(x5(this,i[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return a6(t.sort(v5))}}function Xf(e,t,n){let r=0,i=e.length-1,s,o,a,u;n?(t>=e[r].pos&&t<=e[i].pos&&({lo:r,hi:i}=mo(e,"pos",t)),{pos:s,time:a}=e[r],{pos:o,time:u}=e[i]):(t>=e[r].time&&t<=e[i].time&&({lo:r,hi:i}=mo(e,"time",t)),{time:s,pos:a}=e[r],{time:o,pos:u}=e[i]);const c=o-s;return c?a+(u-a)*(t-s)/c:a}class AI extends by{static id="timeseries";static defaults=by.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Xf(n,this.min),this._tableRange=Xf(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:r}=this,i=[],s=[];let o,a,u,c,h;for(o=0,a=t.length;o<a;++o)c=t[o],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)h=i[o+1],u=i[o-1],c=i[o],Math.round((h+u)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const t=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?t=this.normalize(n.concat(r)):t=n.length?n:r,t=this._cache.all=t,t}getDecimalForValue(t){return(Xf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return Xf(this._table,r*this._tableRange+this._minPos,!0)}}var LI=Object.freeze({__proto__:null,CategoryScale:ch,LinearScale:dh,LogarithmicScale:yI,RadialLinearScale:tC,TimeScale:by,TimeSeriesScale:AI});const II=[HM,xL,cI,LI];_o.register(...II);const nC="label";function S5(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function DI(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function rC(e,t){e.labels=t}function iC(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:nC;const r=[];e.datasets=t.map(i=>{const s=e.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function FI(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nC;const n={labels:[],datasets:[]};return rC(n,e.labels),iC(n,e.datasets,t),n}function BI(e,t){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:u,plugins:c=[],fallbackContent:h,updateMode:p,...g}=e,x=T.useRef(null),w=T.useRef(null),S=()=>{x.current&&(w.current=new _o(x.current,{type:o,data:FI(a,s),options:u&&{...u},plugins:c}),S5(t,w.current))},k=()=>{S5(t,null),w.current&&(w.current.destroy(),w.current=null)};return T.useEffect(()=>{!i&&w.current&&u&&DI(w.current,u)},[i,u]),T.useEffect(()=>{!i&&w.current&&rC(w.current.config.data,a.labels)},[i,a.labels]),T.useEffect(()=>{!i&&w.current&&a.datasets&&iC(w.current.config.data,a.datasets,s)},[i,a.datasets]),T.useEffect(()=>{w.current&&(i?(k(),setTimeout(S)):w.current.update(p))},[i,u,a.labels,a.datasets,p]),T.useEffect(()=>{w.current&&(k(),setTimeout(S))},[o]),T.useEffect(()=>(S(),()=>k()),[]),rn.createElement("canvas",{ref:x,role:"img",height:n,width:r,...g},h)}const sC=T.forwardRef(BI);function Jv(e,t){return _o.register(t),T.forwardRef((n,r)=>rn.createElement(sC,{...n,ref:r,type:e}))}const zI=Jv("bar",N6),$I=Jv("radar",R6),oC=Jv("doughnut",Tm),tc={searchBtnSpeed:{mu:1.457,sigma:.7362},captchaSpeed:{mu:3.6415,sigma:.4057},totalSpeed:{mu:8.6367,sigma:.5422}};function aC(e,t,n){if(e<=0)return 0;const r=(Math.log(e)-Math.log(t))/n,i=1/(1+.2316419*Math.abs(r)),o=.3989423*Math.exp(-r*r/2)*i*(.3193815+i*(-.3565638+i*(1.781478+i*(-1.821256+i*1.330274))));return r>0?1-o:o}function Rm(e,t=7.5,n=.3){const s=e>3e3?e/1e3:e,a=1-aC(s,t,n);return Math.max(Math.min(a*100,100),0)}function UI(e){const n=Math.min(Math.max(e,0),100)/100,i=-aC(n,.4,.1);return Math.round(i*5)}function HI(e,t){const n=(e-2*t)/(e-t);return Math.max(0,Math.round(n*100))}function VI(e){return Rm(e,tc.searchBtnSpeed.mu,tc.searchBtnSpeed.sigma)}function QI(e){return Rm(e,tc.captchaSpeed.mu,tc.captchaSpeed.sigma)}function WI(e){return Math.max(0,Math.min(e,100))}function qI(e){return Rm(e,tc.totalSpeed.mu,tc.totalSpeed.sigma)}_o.register(tC,Yv,uc,Y6,dc,cc);const KI={responsive:!0,scales:{r:{angleLines:{display:!0},suggestedMin:0,suggestedMax:100,ticks:{display:!1},pointLabels:{font:{size:14},color:"#4B5563"},grid:{color:"#E5E7EB"}}},plugins:{legend:{display:!1},tooltip:{enabled:!0}}};function GI(e){const{user_ability:t}=e,{searchBtnSpeed:n,totalSpeed:r,accuracy:i,captchaSpeed:s}=t,o=["   "," ","","  "],a=[n,r,i,s];return{labels:o,datasets:[{label:"",data:C5([1.776296,9.30268,93.58,3.843947]),backgroundColor:"rgba(5, 223, 114, 0.2)",borderColor:"rgba(5, 223, 114, 1)",borderWidth:2,pointBackgroundColor:"rgba(5, 223, 114, 1)"},{label:" ",data:C5(a),backgroundColor:"rgb(0, 122, 255, 0.2)",borderColor:"rgba(0, 122, 255, 1)",borderWidth:2,pointBackgroundColor:"rgba(0, 122, 255, 1)"}]}}function C5(e){return[VI(e[0]),qI(e[1]),WI(e[2]),QI(e[3])]}function Zv({result:e}){const t=GI(e),{searchBtnSpeed:n,totalSpeed:r,accuracy:i,captchaSpeed:s}=e.user_ability;return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"h-90",children:f.jsx($I,{data:t,className:"mx-auto",options:KI})}),f.jsxs("div",{className:"absolute bottom-6 right-6 bg-white shadow-lg rounded-lg px-4 py-3 text-xs text-gray-800",children:[f.jsx("div",{className:"font-bold text-sm mb-1",children:" "}),f.jsxs("ul",{className:"space-y-1",children:[f.jsxs("li",{className:"flex justify-between",children:[f.jsx("span",{children:"    "})," ",f.jsxs("span",{children:[n.toFixed(2)," sec"]})]}),f.jsxs("li",{className:"flex justify-between",children:[f.jsx("span",{children:"   "})," ",f.jsxs("span",{children:[r.toFixed(2)," sec"]})]}),f.jsxs("li",{className:"flex justify-between",children:[f.jsx("span",{children:" "})," ",f.jsxs("span",{children:[i.toFixed(2)," %"]})]}),f.jsxs("li",{className:"flex justify-between",children:[f.jsx("span",{children:"     "})," ",f.jsxs("span",{children:[s.toFixed(2)," sec"]})]})]})]})]})}function wy(e,t){const n=e.getContext("2d");if(!n)return;n.clearRect(0,0,e.width,e.height);const r=n.createLinearGradient(0,0,e.width,0);r.addColorStop(0,"#4a4a4a"),r.addColorStop(1,"#bcbcbc"),n.fillStyle=r,n.fillRect(0,0,e.width,e.height),n.font="bold 32px Arial Black, Impact, sans-serif",n.fillStyle="black",n.textAlign="center",n.textBaseline="middle",n.fillText(t,e.width/2,e.height/2)}const YI={user_ability:{searchBtnSpeed:1.076296,totalSpeed:6.70268,accuracy:98.58,captchaSpeed:4.843947}};function XI(){const[e,t]=T.useState(YI);return f.jsxs(Tl,{children:[f.jsx(wm,{title:"   ()",subtitle:"   ,    ",href:"/simulation"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[f.jsxs(Tn,{children:[f.jsx(Lt,{level:3,children:"  "}),f.jsx(Un,{children:"       ."}),f.jsx(ZI,{setRadarData:t})]}),f.jsxs(Tn,{className:"relative",children:[f.jsx(Lt,{level:3,children:"  "}),f.jsx(Un,{children:"      ."}),f.jsx(Zv,{result:e})]})]})]})}function k5(){return Math.floor(1e3+Math.random()*9e3).toString()}const JI=4;function ZI({setRadarData:e}){const t=T.useRef(null),[n,r]=T.useState(),[i,s]=T.useState({message:"",color:"red"}),o=T.useRef(""),a=tD(e);function u(){o.current=k5(),r(""),s({message:"",color:"red"}),a.resetResult(),t.current&&wy(t.current,o.current)}function c(){setTimeout(u,200)}function h(g){let x=g.target.value;if(a.updateResult(),/\D/.test(x)){s({message:"0~9  ",color:"red"}),r(x.replace(/\D/g,""));return}if(x.length>JI){s({message:"4  ",color:"red"});return}r(x),s({message:"",color:"red"})}T.useEffect(()=>{setTimeout(()=>{o.current=k5(),a.initResult(),t.current&&wy(t.current,o.current)},100)},[]);function p(){n?.toString()===o.current?(s({message:"  .",color:"green"}),a.endResult(!0),setTimeout(u,700)):(s({message:"  .",color:"red"}),a.endResult(!1),setTimeout(u,700))}return f.jsxs("div",{className:"flex flex-col justify-center h-4/5",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 p-4",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsxs("div",{className:"text-sm font-semibold flex flex-row items-center gap-2",children:[f.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "})," ",f.jsx(eD,{onClick:c,children:""})]}),f.jsx("div",{className:"flex items-center mt-1",children:f.jsx("canvas",{id:"captcha",width:"105",height:"50",ref:t})})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"text-sm font-semibold  flex flex-row items-center",children:[f.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "}),"  "]}),f.jsx(Yt.Input,{value:n,className:"mt-2 w-full",onChange:g=>h(g),placeholder:" ",essential:!0}),f.jsx("span",{className:"pl-1 text-xs "+(i.color==="green"?"text-green-500":"text-red-500"),children:i.message})]})]}),f.jsx("div",{className:"flex justify-end p-4",children:f.jsx("button",{onClick:p,className:"px-4 py-2 bg-white hover:bg-blue-50 rounded-xs border cursor-pointer",children:""})})]})}function eD({className:e,children:t,...n}){return f.jsx("button",{className:"px-2 py-1 bg-blue-500 text-white text-sm rounded-xs cursor-pointer hover:bg-blue-600 "+e,...n,children:t})}function tD(e){const t=T.useRef({tryCount:0,successCount:0,avgTime:0,startTime:-1});function n(){t.current.startTime=-1}function r(){t.current.startTime=Date.now()}function i(){t.current.startTime===-1&&(t.current.startTime=Date.now())}function s(o){const a=Date.now(),u=t.current.startTime===-1?4.843947:1+(a-t.current.startTime)/1e3;t.current.startTime=-1,t.current.tryCount+=1,t.current.avgTime=1+(u-t.current.avgTime)/t.current.tryCount,t.current.successCount+=o?1:0,e&&e(c=>({user_ability:{...c.user_ability,captchaSpeed:t.current.avgTime,accuracy:100*(t.current.successCount/t.current.tryCount)}}))}return{initResult:n,resetResult:r,updateResult:i,endResult:s}}function Nl(){return bs({queryKey:["departments"],queryFn:nD,staleTime:1/0,select:e=>e.departments.sort((t,n)=>t.departmentName.localeCompare(n.departmentName))})}const nD=async()=>await bo("/api/departments"),rD=e=>{if(!e)return{universityDict:{},collegeDict:{}};const t={},n={};return e.forEach(r=>{const[i,s,o]=r.departmentName.split(" "),a=i.trim(),u=s?.trim(),c=o?.trim();u&&(t[a]||(t[a]=[]),t[a]=[...t[a],u],c||(n[u]=[u])),c&&(t[a]||(t[a]=[]),t[a]=[...t[a],c],n[u]||(n[u]=[]),n[u]=[...n[u],c])}),{universityDict:t,collegeDict:n}},iD=(e,t)=>{const n=e.split(" ").map(r=>r.trim());for(const r in t)if(n.some(i=>t[r].includes(i)))return r;return console.error("No university found",e),""},sD=(e,t)=>{const n=e.split(" ").map(r=>r.trim());for(const r in t)if(n.some(i=>r.includes(i)))return r;return console.error("No college found",e),""},Mm={labels:["","","",""],datasets:[{data:[40,25,20,15]}]},hh=["#f97316","#3b82f6","#facc15","#22c55e","#60b6d4"];function j5(e){if(!e)return Mm;const t={};return e.forEach(n=>{t[n.registerDepartment??""]||(t[n.registerDepartment??""]=0),t[n.registerDepartment??""]+=Number(n.eachCount)}),{labels:Object.keys(t).map(n=>n||""),datasets:[{data:Object.values(t),backgroundColor:hh}]}}function oD(e,t){if(!t)return Mm;const n={major:0,"non-major":0},r=e.split(" ").map(o=>o.trim()),i=o=>o.split(" ").map(u=>u.trim()).some(u=>r.includes(u));t.forEach(o=>{const a=i(o.registerDepartment??"")?"major":"non-major";n[a]+=Number(o.eachCount)});const s={major:"","non-major":""};return{labels:Object.keys(n).map(o=>s[o]),datasets:[{data:Object.values(n),backgroundColor:hh}]}}function aD(e,t){if(!e||!t)return Mm;const n={};return e.forEach(r=>{const i=iD(r.registerDepartment??"",t);n[i]||(n[i]=0),n[i]+=Number(r.eachCount)}),{labels:Object.keys(n).map(r=>r||""),datasets:[{data:Object.values(n),backgroundColor:hh}]}}function lD(e,t){if(!e||!t)return Mm;const n={};return e.forEach(r=>{const i=sD(r.registerDepartment??"",t);n[i]||(n[i]=0),n[i]+=Number(r.eachCount)}),{labels:Object.keys(n).map(r=>r||""),datasets:[{data:Object.values(n),backgroundColor:hh}]}}function uD(e){return e?e.reduce((t,n)=>t+Number(n.eachCount),0):-1}var jp={exports:{}},cD=jp.exports,E5;function dD(){return E5||(E5=1,function(e,t){(function(n,r){e.exports=r()})(cD,function(){var n=function(y,b){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,P){C.__proto__=P}||function(C,P){for(var O in P)Object.prototype.hasOwnProperty.call(P,O)&&(C[O]=P[O])})(y,b)},r=function(){return(r=Object.assign||function(y){for(var b,C=1,P=arguments.length;C<P;C++)for(var O in b=arguments[C])Object.prototype.hasOwnProperty.call(b,O)&&(y[O]=b[O]);return y}).apply(this,arguments)};function i(y,b,C){for(var P,O=0,L=b.length;O<L;O++)!P&&O in b||((P=P||Array.prototype.slice.call(b,0,O))[O]=b[O]);return y.concat(P||Array.prototype.slice.call(b))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:md,o=Object.keys,a=Array.isArray;function u(y,b){return typeof b!="object"||o(b).forEach(function(C){y[C]=b[C]}),y}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var c=Object.getPrototypeOf,h={}.hasOwnProperty;function p(y,b){return h.call(y,b)}function g(y,b){typeof b=="function"&&(b=b(c(y))),(typeof Reflect>"u"?o:Reflect.ownKeys)(b).forEach(function(C){w(y,C,b[C])})}var x=Object.defineProperty;function w(y,b,C,P){x(y,b,u(C&&p(C,"get")&&typeof C.get=="function"?{get:C.get,set:C.set,configurable:!0}:{value:C,configurable:!0,writable:!0},P))}function S(y){return{from:function(b){return y.prototype=Object.create(b.prototype),w(y.prototype,"constructor",y),{extend:g.bind(null,y.prototype)}}}}var k=Object.getOwnPropertyDescriptor,E=[].slice;function R(y,b,C){return E.call(y,b,C)}function A(y,b){return b(y)}function z(y){if(!y)throw new Error("Assertion Failed")}function U(y){s.setImmediate?setImmediate(y):setTimeout(y,0)}function N(y,b){if(typeof b=="string"&&p(y,b))return y[b];if(!b)return y;if(typeof b!="string"){for(var C=[],P=0,O=b.length;P<O;++P){var L=N(y,b[P]);C.push(L)}return C}var $=b.indexOf(".");if($!==-1){var K=y[b.substr(0,$)];return K==null?void 0:N(K,b.substr($+1))}}function I(y,b,C){if(y&&b!==void 0&&!("isFrozen"in Object&&Object.isFrozen(y)))if(typeof b!="string"&&"length"in b){z(typeof C!="string"&&"length"in C);for(var P=0,O=b.length;P<O;++P)I(y,b[P],C[P])}else{var L,$,K=b.indexOf(".");K!==-1?(L=b.substr(0,K),($=b.substr(K+1))===""?C===void 0?a(y)&&!isNaN(parseInt(L))?y.splice(L,1):delete y[L]:y[L]=C:I(K=!(K=y[L])||!p(y,L)?y[L]={}:K,$,C)):C===void 0?a(y)&&!isNaN(parseInt(b))?y.splice(b,1):delete y[b]:y[b]=C}}function H(y){var b,C={};for(b in y)p(y,b)&&(C[b]=y[b]);return C}var V=[].concat;function F(y){return V.apply([],y)}var Ce="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(F([8,16,32,64].map(function(y){return["Int","Uint","Float"].map(function(b){return b+y+"Array"})}))).filter(function(y){return s[y]}),le=new Set(Ce.map(function(y){return s[y]})),ue=null;function ae(y){return ue=new WeakMap,y=function b(C){if(!C||typeof C!="object")return C;var P=ue.get(C);if(P)return P;if(a(C)){P=[],ue.set(C,P);for(var O=0,L=C.length;O<L;++O)P.push(b(C[O]))}else if(le.has(C.constructor))P=C;else{var $,K=c(C);for($ in P=K===Object.prototype?{}:Object.create(K),ue.set(C,P),C)p(C,$)&&(P[$]=b(C[$]))}return P}(y),ue=null,y}var q={}.toString;function Q(y){return q.call(y).slice(8,-1)}var J=typeof Symbol<"u"?Symbol.iterator:"@@iterator",te=typeof J=="symbol"?function(y){var b;return y!=null&&(b=y[J])&&b.apply(y)}:function(){return null};function ne(y,b){return b=y.indexOf(b),0<=b&&y.splice(b,1),0<=b}var me={};function D(y){var b,C,P,O;if(arguments.length===1){if(a(y))return y.slice();if(this===me&&typeof y=="string")return[y];if(O=te(y)){for(C=[];!(P=O.next()).done;)C.push(P.value);return C}if(y==null)return[y];if(typeof(b=y.length)!="number")return[y];for(C=new Array(b);b--;)C[b]=y[b];return C}for(b=arguments.length,C=new Array(b);b--;)C[b]=arguments[b];return C}var G=typeof Symbol<"u"?function(y){return y[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Wr=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Kr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Wr),ye={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function B(y,b){this.name=y,this.message=b}function Fe(y,b){return y+". Errors: "+Object.keys(b).map(function(C){return b[C].toString()}).filter(function(C,P,O){return O.indexOf(C)===P}).join(`
`)}function je(y,b,C,P){this.failures=b,this.failedKeys=P,this.successCount=C,this.message=Fe(y,b)}function Ee(y,b){this.name="BulkError",this.failures=Object.keys(b).map(function(C){return b[C]}),this.failuresByPos=b,this.message=Fe(y,this.failures)}S(B).from(Error).extend({toString:function(){return this.name+": "+this.message}}),S(je).from(B),S(Ee).from(B);var Ye=Kr.reduce(function(y,b){return y[b]=b+"Error",y},{}),Ke=B,Ne=Kr.reduce(function(y,b){var C=b+"Error";function P(O,L){this.name=C,O?typeof O=="string"?(this.message="".concat(O).concat(L?`
 `+L:""),this.inner=L||null):typeof O=="object"&&(this.message="".concat(O.name," ").concat(O.message),this.inner=O):(this.message=ye[b]||C,this.inner=null)}return S(P).from(Ke),y[b]=P,y},{});Ne.Syntax=SyntaxError,Ne.Type=TypeError,Ne.Range=RangeError;var ht=Wr.reduce(function(y,b){return y[b+"Error"]=Ne[b],y},{}),fn=Kr.reduce(function(y,b){return["Syntax","Type","Range"].indexOf(b)===-1&&(y[b+"Error"]=Ne[b]),y},{});function Nt(){}function vn(y){return y}function pn(y,b){return y==null||y===vn?b:function(C){return b(y(C))}}function In(y,b){return function(){y.apply(this,arguments),b.apply(this,arguments)}}function Bs(y,b){return y===Nt?b:function(){var C=y.apply(this,arguments);C!==void 0&&(arguments[0]=C);var P=this.onsuccess,O=this.onerror;this.onsuccess=null,this.onerror=null;var L=b.apply(this,arguments);return P&&(this.onsuccess=this.onsuccess?In(P,this.onsuccess):P),O&&(this.onerror=this.onerror?In(O,this.onerror):O),L!==void 0?L:C}}function Yi(y,b){return y===Nt?b:function(){y.apply(this,arguments);var C=this.onsuccess,P=this.onerror;this.onsuccess=this.onerror=null,b.apply(this,arguments),C&&(this.onsuccess=this.onsuccess?In(C,this.onsuccess):C),P&&(this.onerror=this.onerror?In(P,this.onerror):P)}}function ko(y,b){return y===Nt?b:function(C){var P=y.apply(this,arguments);u(C,P);var O=this.onsuccess,L=this.onerror;return this.onsuccess=null,this.onerror=null,C=b.apply(this,arguments),O&&(this.onsuccess=this.onsuccess?In(O,this.onsuccess):O),L&&(this.onerror=this.onerror?In(L,this.onerror):L),P===void 0?C===void 0?void 0:C:u(P,C)}}function ws(y,b){return y===Nt?b:function(){return b.apply(this,arguments)!==!1&&y.apply(this,arguments)}}function Qr(y,b){return y===Nt?b:function(){var C=y.apply(this,arguments);if(C&&typeof C.then=="function"){for(var P=this,O=arguments.length,L=new Array(O);O--;)L[O]=arguments[O];return C.then(function(){return b.apply(P,L)})}return b.apply(this,arguments)}}fn.ModifyError=je,fn.DexieError=B,fn.BulkError=Ee;var Dn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function yr(y){Dn=y}var vr={},_s=100,Ce=typeof Promise>"u"?[]:function(){var y=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[y,c(y),y];var b=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[b,c(b),y]}(),Wr=Ce[0],Kr=Ce[1],Ce=Ce[2],Kr=Kr&&Kr.then,Re=Wr&&Wr.constructor,lt=!!Ce,pt=function(y,b){Fn.push([y,b]),Jt&&(queueMicrotask(Dl),Jt=!1)},Ot=!0,Jt=!0,Vn=[],Qn=[],Lr=vn,ir={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Nt,pgp:!1,env:{},finalize:Nt},Qe=ir,Fn=[],xn=0,Ni=[];function We(y){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var b=this._PSD=Qe;if(typeof y!="function"){if(y!==vr)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&zs(this,this._value))}this._state=null,this._value=null,++b.ref,function C(P,O){try{O(function(L){if(P._state===null){if(L===P)throw new TypeError("A promise cannot be resolved with itself.");var $=P._lib&&X();L&&typeof L.then=="function"?C(P,function(K,ee){L instanceof We?L._then(K,ee):L.then(K,ee)}):(P._state=!0,P._value=L,Ss(P)),$&&pe()}},zs.bind(null,P))}catch(L){zs(P,L)}}(this,y)}var fi={get:function(){var y=Qe,b=at;function C(P,O){var L=this,$=!y.global&&(y!==Qe||b!==at),K=$&&!Rt(),ee=new We(function(ie,de){Ji(L,new Xi(Zi(P,y,$,K),Zi(O,y,$,K),ie,de,y))});return this._consoleTask&&(ee._consoleTask=this._consoleTask),ee}return C.prototype=vr,C},set:function(y){w(this,"then",y&&y.prototype===vr?fi:{get:function(){return y},set:fi.set})}};function Xi(y,b,C,P,O){this.onFulfilled=typeof y=="function"?y:null,this.onRejected=typeof b=="function"?b:null,this.resolve=C,this.reject=P,this.psd=O}function zs(y,b){var C,P;Qn.push(b),y._state===null&&(C=y._lib&&X(),b=Lr(b),y._state=!1,y._value=b,P=y,Vn.some(function(O){return O._value===P._value})||Vn.push(P),Ss(y),C&&pe())}function Ss(y){var b=y._listeners;y._listeners=[];for(var C=0,P=b.length;C<P;++C)Ji(y,b[C]);var O=y._PSD;--O.ref||O.finalize(),xn===0&&(++xn,pt(function(){--xn==0&&_e()},[]))}function Ji(y,b){if(y._state!==null){var C=y._state?b.onFulfilled:b.onRejected;if(C===null)return(y._state?b.resolve:b.reject)(y._value);++b.psd.ref,++xn,pt(Il,[C,y,b])}else y._listeners.push(b)}function Il(y,b,C){try{var P,O=b._value;!b._state&&Qn.length&&(Qn=[]),P=Dn&&b._consoleTask?b._consoleTask.run(function(){return y(O)}):y(O),b._state||Qn.indexOf(O)!==-1||function(L){for(var $=Vn.length;$;)if(Vn[--$]._value===L._value)return Vn.splice($,1)}(b),C.resolve(P)}catch(L){C.reject(L)}finally{--xn==0&&_e(),--C.psd.ref||C.psd.finalize()}}function Dl(){sr(ir,function(){X()&&pe()})}function X(){var y=Ot;return Jt=Ot=!1,y}function pe(){var y,b,C;do for(;0<Fn.length;)for(y=Fn,Fn=[],C=y.length,b=0;b<C;++b){var P=y[b];P[0].apply(null,P[1])}while(0<Fn.length);Jt=Ot=!0}function _e(){var y=Vn;Vn=[],y.forEach(function(P){P._PSD.onunhandled.call(null,P._value,P)});for(var b=Ni.slice(0),C=b.length;C;)b[--C]()}function Ae(y){return new We(vr,!1,y)}function Te(y,b){var C=Qe;return function(){var P=X(),O=Qe;try{return Wt(C,!0),y.apply(this,arguments)}catch(L){b&&b(L)}finally{Wt(O,!1),P&&pe()}}}g(We.prototype,{then:fi,_then:function(y,b){Ji(this,new Xi(null,null,y,b,Qe))},catch:function(y){if(arguments.length===1)return this.then(null,y);var b=y,C=arguments[1];return typeof b=="function"?this.then(null,function(P){return(P instanceof b?C:Ae)(P)}):this.then(null,function(P){return(P&&P.name===b?C:Ae)(P)})},finally:function(y){return this.then(function(b){return We.resolve(y()).then(function(){return b})},function(b){return We.resolve(y()).then(function(){return Ae(b)})})},timeout:function(y,b){var C=this;return y<1/0?new We(function(P,O){var L=setTimeout(function(){return O(new Ne.Timeout(b))},y);C.then(P,O).finally(clearTimeout.bind(null,L))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&w(We.prototype,Symbol.toStringTag,"Dexie.Promise"),ir.env=Zt(),g(We,{all:function(){var y=D.apply(null,arguments).map(bn);return new We(function(b,C){y.length===0&&b([]);var P=y.length;y.forEach(function(O,L){return We.resolve(O).then(function($){y[L]=$,--P||b(y)},C)})})},resolve:function(y){return y instanceof We?y:y&&typeof y.then=="function"?new We(function(b,C){y.then(b,C)}):new We(vr,!0,y)},reject:Ae,race:function(){var y=D.apply(null,arguments).map(bn);return new We(function(b,C){y.map(function(P){return We.resolve(P).then(b,C)})})},PSD:{get:function(){return Qe},set:function(y){return Qe=y}},totalEchoes:{get:function(){return at}},newPSD:et,usePSD:sr,scheduler:{get:function(){return pt},set:function(y){pt=y}},rejectionMapper:{get:function(){return Lr},set:function(y){Lr=y}},follow:function(y,b){return new We(function(C,P){return et(function(O,L){var $=Qe;$.unhandleds=[],$.onunhandled=L,$.finalize=In(function(){var K,ee=this;K=function(){ee.unhandleds.length===0?O():L(ee.unhandleds[0])},Ni.push(function ie(){K(),Ni.splice(Ni.indexOf(ie),1)}),++xn,pt(function(){--xn==0&&_e()},[])},$.finalize),y()},b,C,P)})}}),Re&&(Re.allSettled&&w(We,"allSettled",function(){var y=D.apply(null,arguments).map(bn);return new We(function(b){y.length===0&&b([]);var C=y.length,P=new Array(C);y.forEach(function(O,L){return We.resolve(O).then(function($){return P[L]={status:"fulfilled",value:$}},function($){return P[L]={status:"rejected",reason:$}}).then(function(){return--C||b(P)})})})}),Re.any&&typeof AggregateError<"u"&&w(We,"any",function(){var y=D.apply(null,arguments).map(bn);return new We(function(b,C){y.length===0&&C(new AggregateError([]));var P=y.length,O=new Array(P);y.forEach(function(L,$){return We.resolve(L).then(function(K){return b(K)},function(K){O[$]=K,--P||C(new AggregateError(O))})})})}),Re.withResolvers&&(We.withResolvers=Re.withResolvers));var qe={awaits:0,echoes:0,id:0},rt=0,Je=[],tt=0,at=0,ot=0;function et(y,b,C,P){var O=Qe,L=Object.create(O);return L.parent=O,L.ref=0,L.global=!1,L.id=++ot,ir.env,L.env=lt?{Promise:We,PromiseProp:{value:We,configurable:!0,writable:!0},all:We.all,race:We.race,allSettled:We.allSettled,any:We.any,resolve:We.resolve,reject:We.reject}:{},b&&u(L,b),++O.ref,L.finalize=function(){--this.parent.ref||this.parent.finalize()},P=sr(L,y,C,P),L.ref===0&&L.finalize(),P}function St(){return qe.id||(qe.id=++rt),++qe.awaits,qe.echoes+=_s,qe.id}function Rt(){return!!qe.awaits&&(--qe.awaits==0&&(qe.id=0),qe.echoes=qe.awaits*_s,!0)}function bn(y){return qe.echoes&&y&&y.constructor===Re?(St(),y.then(function(b){return Rt(),b},function(b){return Rt(),Vt(b)})):y}function Wn(){var y=Je[Je.length-1];Je.pop(),Wt(y,!1)}function Wt(y,b){var C,P=Qe;(b?!qe.echoes||tt++&&y===Qe:!tt||--tt&&y===Qe)||queueMicrotask(b?(function(O){++at,qe.echoes&&--qe.echoes!=0||(qe.echoes=qe.awaits=qe.id=0),Je.push(Qe),Wt(O,!0)}).bind(null,y):Wn),y!==Qe&&(Qe=y,P===ir&&(ir.env=Zt()),lt&&(C=ir.env.Promise,b=y.env,(P.global||y.global)&&(Object.defineProperty(s,"Promise",b.PromiseProp),C.all=b.all,C.race=b.race,C.resolve=b.resolve,C.reject=b.reject,b.allSettled&&(C.allSettled=b.allSettled),b.any&&(C.any=b.any))))}function Zt(){var y=s.Promise;return lt?{Promise:y,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:y.all,race:y.race,allSettled:y.allSettled,any:y.any,resolve:y.resolve,reject:y.reject}:{}}function sr(y,b,C,P,O){var L=Qe;try{return Wt(y,!0),b(C,P,O)}finally{Wt(L,!1)}}function Zi(y,b,C,P){return typeof y!="function"?y:function(){var O=Qe;C&&St(),Wt(b,!0);try{return y.apply(this,arguments)}finally{Wt(O,!1),P&&queueMicrotask(Rt)}}}function Ir(y){Promise===Re&&qe.echoes===0?tt===0?y():enqueueNativeMicroTask(y):setTimeout(y,0)}(""+Kr).indexOf("[native code]")===-1&&(St=Rt=Nt);var Vt=We.reject,pi="",It="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Oi="String expected.",Dr=[],Ri="__dbnames",Dt="readonly",On="readwrite";function Fr(y,b){return y?b?function(){return y.apply(this,arguments)&&b.apply(this,arguments)}:y:b}var mi={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ut(y){return typeof y!="string"||/\./.test(y)?function(b){return b}:function(b){return b[y]===void 0&&y in b&&delete(b=ae(b))[y],b}}function $s(){throw Ne.Type()}function ft(y,b){try{var C=Fl(y),P=Fl(b);if(C!==P)return C==="Array"?1:P==="Array"?-1:C==="binary"?1:P==="binary"?-1:C==="string"?1:P==="string"?-1:C==="Date"?1:P!=="Date"?NaN:-1;switch(C){case"number":case"Date":case"string":return b<y?1:y<b?-1:0;case"binary":return function(O,L){for(var $=O.length,K=L.length,ee=$<K?$:K,ie=0;ie<ee;++ie)if(O[ie]!==L[ie])return O[ie]<L[ie]?-1:1;return $===K?0:$<K?-1:1}(_h(y),_h(b));case"Array":return function(O,L){for(var $=O.length,K=L.length,ee=$<K?$:K,ie=0;ie<ee;++ie){var de=ft(O[ie],L[ie]);if(de!==0)return de}return $===K?0:$<K?-1:1}(y,b)}}catch{}return NaN}function Fl(y){var b=typeof y;return b!="object"?b:ArrayBuffer.isView(y)?"binary":(y=Q(y),y==="ArrayBuffer"?"binary":y)}function _h(y){return y instanceof Uint8Array?y:ArrayBuffer.isView(y)?new Uint8Array(y.buffer,y.byteOffset,y.byteLength):new Uint8Array(y)}var Sh=(tn.prototype._trans=function(y,b,C){var P=this._tx||Qe.trans,O=this.name,L=Dn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(y==="readonly"?"read":"write"," ").concat(this.name));function $(ie,de,Y){if(!Y.schema[O])throw new Ne.NotFound("Table "+O+" not part of transaction");return b(Y.idbtrans,Y)}var K=X();try{var ee=P&&P.db._novip===this.db._novip?P===Qe.trans?P._promise(y,$,C):et(function(){return P._promise(y,$,C)},{trans:P,transless:Qe.transless||Qe}):function ie(de,Y,he,re){if(de.idbdb&&(de._state.openComplete||Qe.letThrough||de._vip)){var ce=de._createTransaction(Y,he,de._dbSchema);try{ce.create(),de._state.PR1398_maxLoop=3}catch(fe){return fe.name===Ye.InvalidState&&de.isOpen()&&0<--de._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),de.close({disableAutoOpen:!1}),de.open().then(function(){return ie(de,Y,he,re)})):Vt(fe)}return ce._promise(Y,function(fe,oe){return et(function(){return Qe.trans=ce,re(fe,oe,ce)})}).then(function(fe){if(Y==="readwrite")try{ce.idbtrans.commit()}catch{}return Y==="readonly"?fe:ce._completion.then(function(){return fe})})}if(de._state.openComplete)return Vt(new Ne.DatabaseClosed(de._state.dbOpenError));if(!de._state.isBeingOpened){if(!de._state.autoOpen)return Vt(new Ne.DatabaseClosed);de.open().catch(Nt)}return de._state.dbReadyPromise.then(function(){return ie(de,Y,he,re)})}(this.db,y,[this.name],$);return L&&(ee._consoleTask=L,ee=ee.catch(function(ie){return console.trace(ie),Vt(ie)})),ee}finally{K&&pe()}},tn.prototype.get=function(y,b){var C=this;return y&&y.constructor===Object?this.where(y).first(b):y==null?Vt(new Ne.Type("Invalid argument to Table.get()")):this._trans("readonly",function(P){return C.core.get({trans:P,key:y}).then(function(O){return C.hook.reading.fire(O)})}).then(b)},tn.prototype.where=function(y){if(typeof y=="string")return new this.db.WhereClause(this,y);if(a(y))return new this.db.WhereClause(this,"[".concat(y.join("+"),"]"));var b=o(y);if(b.length===1)return this.where(b[0]).equals(y[b[0]]);var C=this.schema.indexes.concat(this.schema.primKey).filter(function(K){if(K.compound&&b.every(function(ie){return 0<=K.keyPath.indexOf(ie)})){for(var ee=0;ee<b.length;++ee)if(b.indexOf(K.keyPath[ee])===-1)return!1;return!0}return!1}).sort(function(K,ee){return K.keyPath.length-ee.keyPath.length})[0];if(C&&this.db._maxKey!==pi){var L=C.keyPath.slice(0,b.length);return this.where(L).equals(L.map(function(ee){return y[ee]}))}!C&&Dn&&console.warn("The query ".concat(JSON.stringify(y)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(b.join("+"),"]"));var P=this.schema.idxByName;function O(K,ee){return ft(K,ee)===0}var $=b.reduce(function(Y,ee){var ie=Y[0],de=Y[1],Y=P[ee],he=y[ee];return[ie||Y,ie||!Y?Fr(de,Y&&Y.multi?function(re){return re=N(re,ee),a(re)&&re.some(function(ce){return O(he,ce)})}:function(re){return O(he,N(re,ee))}):de]},[null,null]),L=$[0],$=$[1];return L?this.where(L.name).equals(y[L.keyPath]).filter($):C?this.filter($):this.where(b).equals("")},tn.prototype.filter=function(y){return this.toCollection().and(y)},tn.prototype.count=function(y){return this.toCollection().count(y)},tn.prototype.offset=function(y){return this.toCollection().offset(y)},tn.prototype.limit=function(y){return this.toCollection().limit(y)},tn.prototype.each=function(y){return this.toCollection().each(y)},tn.prototype.toArray=function(y){return this.toCollection().toArray(y)},tn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},tn.prototype.orderBy=function(y){return new this.db.Collection(new this.db.WhereClause(this,a(y)?"[".concat(y.join("+"),"]"):y))},tn.prototype.reverse=function(){return this.toCollection().reverse()},tn.prototype.mapToClass=function(y){var b,C=this.db,P=this.name;function O(){return b!==null&&b.apply(this,arguments)||this}(this.schema.mappedClass=y).prototype instanceof $s&&(function(ee,ie){if(typeof ie!="function"&&ie!==null)throw new TypeError("Class extends value "+String(ie)+" is not a constructor or null");function de(){this.constructor=ee}n(ee,ie),ee.prototype=ie===null?Object.create(ie):(de.prototype=ie.prototype,new de)}(O,b=y),Object.defineProperty(O.prototype,"db",{get:function(){return C},enumerable:!1,configurable:!0}),O.prototype.table=function(){return P},y=O);for(var L=new Set,$=y.prototype;$;$=c($))Object.getOwnPropertyNames($).forEach(function(ee){return L.add(ee)});function K(ee){if(!ee)return ee;var ie,de=Object.create(y.prototype);for(ie in ee)if(!L.has(ie))try{de[ie]=ee[ie]}catch{}return de}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=K,this.hook("reading",K),y},tn.prototype.defineClass=function(){return this.mapToClass(function(y){u(this,y)})},tn.prototype.add=function(y,b){var C=this,P=this.schema.primKey,O=P.auto,L=P.keyPath,$=y;return L&&O&&($=Ut(L)(y)),this._trans("readwrite",function(K){return C.core.mutate({trans:K,type:"add",keys:b!=null?[b]:null,values:[$]})}).then(function(K){return K.numFailures?We.reject(K.failures[0]):K.lastResult}).then(function(K){if(L)try{I(y,L,K)}catch{}return K})},tn.prototype.update=function(y,b){return typeof y!="object"||a(y)?this.where(":id").equals(y).modify(b):(y=N(y,this.schema.primKey.keyPath),y===void 0?Vt(new Ne.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(y).modify(b))},tn.prototype.put=function(y,b){var C=this,P=this.schema.primKey,O=P.auto,L=P.keyPath,$=y;return L&&O&&($=Ut(L)(y)),this._trans("readwrite",function(K){return C.core.mutate({trans:K,type:"put",values:[$],keys:b!=null?[b]:null})}).then(function(K){return K.numFailures?We.reject(K.failures[0]):K.lastResult}).then(function(K){if(L)try{I(y,L,K)}catch{}return K})},tn.prototype.delete=function(y){var b=this;return this._trans("readwrite",function(C){return b.core.mutate({trans:C,type:"delete",keys:[y]})}).then(function(C){return C.numFailures?We.reject(C.failures[0]):void 0})},tn.prototype.clear=function(){var y=this;return this._trans("readwrite",function(b){return y.core.mutate({trans:b,type:"deleteRange",range:mi})}).then(function(b){return b.numFailures?We.reject(b.failures[0]):void 0})},tn.prototype.bulkGet=function(y){var b=this;return this._trans("readonly",function(C){return b.core.getMany({keys:y,trans:C}).then(function(P){return P.map(function(O){return b.hook.reading.fire(O)})})})},tn.prototype.bulkAdd=function(y,b,C){var P=this,O=Array.isArray(b)?b:void 0,L=(C=C||(O?void 0:b))?C.allKeys:void 0;return this._trans("readwrite",function($){var ie=P.schema.primKey,K=ie.auto,ie=ie.keyPath;if(ie&&O)throw new Ne.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(O&&O.length!==y.length)throw new Ne.InvalidArgument("Arguments objects and keys must have the same length");var ee=y.length,ie=ie&&K?y.map(Ut(ie)):y;return P.core.mutate({trans:$,type:"add",keys:O,values:ie,wantResults:L}).then(function(ce){var Y=ce.numFailures,he=ce.results,re=ce.lastResult,ce=ce.failures;if(Y===0)return L?he:re;throw new Ee("".concat(P.name,".bulkAdd(): ").concat(Y," of ").concat(ee," operations failed"),ce)})})},tn.prototype.bulkPut=function(y,b,C){var P=this,O=Array.isArray(b)?b:void 0,L=(C=C||(O?void 0:b))?C.allKeys:void 0;return this._trans("readwrite",function($){var ie=P.schema.primKey,K=ie.auto,ie=ie.keyPath;if(ie&&O)throw new Ne.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(O&&O.length!==y.length)throw new Ne.InvalidArgument("Arguments objects and keys must have the same length");var ee=y.length,ie=ie&&K?y.map(Ut(ie)):y;return P.core.mutate({trans:$,type:"put",keys:O,values:ie,wantResults:L}).then(function(ce){var Y=ce.numFailures,he=ce.results,re=ce.lastResult,ce=ce.failures;if(Y===0)return L?he:re;throw new Ee("".concat(P.name,".bulkPut(): ").concat(Y," of ").concat(ee," operations failed"),ce)})})},tn.prototype.bulkUpdate=function(y){var b=this,C=this.core,P=y.map(function($){return $.key}),O=y.map(function($){return $.changes}),L=[];return this._trans("readwrite",function($){return C.getMany({trans:$,keys:P,cache:"clone"}).then(function(K){var ee=[],ie=[];y.forEach(function(Y,he){var re=Y.key,ce=Y.changes,fe=K[he];if(fe){for(var oe=0,ve=Object.keys(ce);oe<ve.length;oe++){var we=ve[oe],Se=ce[we];if(we===b.schema.primKey.keyPath){if(ft(Se,re)!==0)throw new Ne.Constraint("Cannot update primary key in bulkUpdate()")}else I(fe,we,Se)}L.push(he),ee.push(re),ie.push(fe)}});var de=ee.length;return C.mutate({trans:$,type:"put",keys:ee,values:ie,updates:{keys:P,changeSpecs:O}}).then(function(Y){var he=Y.numFailures,re=Y.failures;if(he===0)return de;for(var ce=0,fe=Object.keys(re);ce<fe.length;ce++){var oe,ve=fe[ce],we=L[Number(ve)];we!=null&&(oe=re[ve],delete re[ve],re[we]=oe)}throw new Ee("".concat(b.name,".bulkUpdate(): ").concat(he," of ").concat(de," operations failed"),re)})})})},tn.prototype.bulkDelete=function(y){var b=this,C=y.length;return this._trans("readwrite",function(P){return b.core.mutate({trans:P,type:"delete",keys:y})}).then(function($){var O=$.numFailures,L=$.lastResult,$=$.failures;if(O===0)return L;throw new Ee("".concat(b.name,".bulkDelete(): ").concat(O," of ").concat(C," operations failed"),$)})},tn);function tn(){}function Cs(y){function b($,K){if(K){for(var ee=arguments.length,ie=new Array(ee-1);--ee;)ie[ee-1]=arguments[ee];return C[$].subscribe.apply(null,ie),y}if(typeof $=="string")return C[$]}var C={};b.addEventType=L;for(var P=1,O=arguments.length;P<O;++P)L(arguments[P]);return b;function L($,K,ee){if(typeof $!="object"){var ie;K=K||ws;var de={subscribers:[],fire:ee=ee||Nt,subscribe:function(Y){de.subscribers.indexOf(Y)===-1&&(de.subscribers.push(Y),de.fire=K(de.fire,Y))},unsubscribe:function(Y){de.subscribers=de.subscribers.filter(function(he){return he!==Y}),de.fire=de.subscribers.reduce(K,ee)}};return C[$]=b[$]=de}o(ie=$).forEach(function(Y){var he=ie[Y];if(a(he))L(Y,ie[Y][0],ie[Y][1]);else{if(he!=="asap")throw new Ne.InvalidArgument("Invalid event config");var re=L(Y,vn,function(){for(var ce=arguments.length,fe=new Array(ce);ce--;)fe[ce]=arguments[ce];re.subscribers.forEach(function(oe){U(function(){oe.apply(null,fe)})})})}})}}function es(y,b){return S(b).from({prototype:y}),b}function ts(y,b){return!(y.filter||y.algorithm||y.or)&&(b?y.justLimit:!y.replayFilter)}function yc(y,b){y.filter=Fr(y.filter,b)}function vc(y,b,C){var P=y.replayFilter;y.replayFilter=P?function(){return Fr(P(),b())}:b,y.justLimit=C&&!P}function jo(y,b){if(y.isPrimKey)return b.primaryKey;var C=b.getIndexByKeyPath(y.index);if(!C)throw new Ne.Schema("KeyPath "+y.index+" on object store "+b.name+" is not indexed");return C}function xc(y,b,C){var P=jo(y,b.schema);return b.openCursor({trans:C,values:!y.keysOnly,reverse:y.dir==="prev",unique:!!y.unique,query:{index:P,range:y.range}})}function Eo(y,b,C,P){var O=y.replayFilter?Fr(y.filter,y.replayFilter()):y.filter;if(y.or){var L={},$=function(K,ee,ie){var de,Y;O&&!O(ee,ie,function(he){return ee.stop(he)},function(he){return ee.fail(he)})||((Y=""+(de=ee.primaryKey))=="[object ArrayBuffer]"&&(Y=""+new Uint8Array(de)),p(L,Y)||(L[Y]=!0,b(K,ee,ie)))};return Promise.all([y.or._iterate($,C),To(xc(y,P,C),y.algorithm,$,!y.keysOnly&&y.valueMapper)])}return To(xc(y,P,C),Fr(y.algorithm,O),b,!y.keysOnly&&y.valueMapper)}function To(y,b,C,P){var O=Te(P?function(L,$,K){return C(P(L),$,K)}:C);return y.then(function(L){if(L)return L.start(function(){var $=function(){return L.continue()};b&&!b(L,function(K){return $=K},function(K){L.stop(K),$=Nt},function(K){L.fail(K),$=Nt})||O(L.value,L,function(K){return $=K}),$()})})}var Sa=(Bl.prototype.execute=function(y){var b=this["@@propmod"];if(b.add!==void 0){var C=b.add;if(a(C))return i(i([],a(y)?y:[],!0),C).sort();if(typeof C=="number")return(Number(y)||0)+C;if(typeof C=="bigint")try{return BigInt(y)+C}catch{return BigInt(0)+C}throw new TypeError("Invalid term ".concat(C))}if(b.remove!==void 0){var P=b.remove;if(a(P))return a(y)?y.filter(function(O){return!P.includes(O)}).sort():[];if(typeof P=="number")return Number(y)-P;if(typeof P=="bigint")try{return BigInt(y)-P}catch{return BigInt(0)-P}throw new TypeError("Invalid subtrahend ".concat(P))}return C=(C=b.replacePrefix)===null||C===void 0?void 0:C[0],C&&typeof y=="string"&&y.startsWith(C)?b.replacePrefix[1]+y.substring(C.length):y},Bl);function Bl(y){this["@@propmod"]=y}var en=(Ht.prototype._read=function(y,b){var C=this._ctx;return C.error?C.table._trans(null,Vt.bind(null,C.error)):C.table._trans("readonly",y).then(b)},Ht.prototype._write=function(y){var b=this._ctx;return b.error?b.table._trans(null,Vt.bind(null,b.error)):b.table._trans("readwrite",y,"locked")},Ht.prototype._addAlgorithm=function(y){var b=this._ctx;b.algorithm=Fr(b.algorithm,y)},Ht.prototype._iterate=function(y,b){return Eo(this._ctx,y,b,this._ctx.table.core)},Ht.prototype.clone=function(y){var b=Object.create(this.constructor.prototype),C=Object.create(this._ctx);return y&&u(C,y),b._ctx=C,b},Ht.prototype.raw=function(){return this._ctx.valueMapper=null,this},Ht.prototype.each=function(y){var b=this._ctx;return this._read(function(C){return Eo(b,y,C,b.table.core)})},Ht.prototype.count=function(y){var b=this;return this._read(function(C){var P=b._ctx,O=P.table.core;if(ts(P,!0))return O.count({trans:C,query:{index:jo(P,O.schema),range:P.range}}).then(function($){return Math.min($,P.limit)});var L=0;return Eo(P,function(){return++L,!1},C,O).then(function(){return L})}).then(y)},Ht.prototype.sortBy=function(y,b){var C=y.split(".").reverse(),P=C[0],O=C.length-1;function L(ee,ie){return ie?L(ee[C[ie]],ie-1):ee[P]}var $=this._ctx.dir==="next"?1:-1;function K(ee,ie){return ft(L(ee,O),L(ie,O))*$}return this.toArray(function(ee){return ee.sort(K)}).then(b)},Ht.prototype.toArray=function(y){var b=this;return this._read(function(C){var P=b._ctx;if(P.dir==="next"&&ts(P,!0)&&0<P.limit){var O=P.valueMapper,L=jo(P,P.table.core.schema);return P.table.core.query({trans:C,limit:P.limit,values:!0,query:{index:L,range:P.range}}).then(function(K){return K=K.result,O?K.map(O):K})}var $=[];return Eo(P,function(K){return $.push(K)},C,P.table.core).then(function(){return $})},y)},Ht.prototype.offset=function(y){var b=this._ctx;return y<=0||(b.offset+=y,ts(b)?vc(b,function(){var C=y;return function(P,O){return C===0||(C===1?--C:O(function(){P.advance(C),C=0}),!1)}}):vc(b,function(){var C=y;return function(){return--C<0}})),this},Ht.prototype.limit=function(y){return this._ctx.limit=Math.min(this._ctx.limit,y),vc(this._ctx,function(){var b=y;return function(C,P,O){return--b<=0&&P(O),0<=b}},!0),this},Ht.prototype.until=function(y,b){return yc(this._ctx,function(C,P,O){return!y(C.value)||(P(O),b)}),this},Ht.prototype.first=function(y){return this.limit(1).toArray(function(b){return b[0]}).then(y)},Ht.prototype.last=function(y){return this.reverse().first(y)},Ht.prototype.filter=function(y){var b;return yc(this._ctx,function(C){return y(C.value)}),(b=this._ctx).isMatch=Fr(b.isMatch,y),this},Ht.prototype.and=function(y){return this.filter(y)},Ht.prototype.or=function(y){return new this.db.WhereClause(this._ctx.table,y,this)},Ht.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Ht.prototype.desc=function(){return this.reverse()},Ht.prototype.eachKey=function(y){var b=this._ctx;return b.keysOnly=!b.isMatch,this.each(function(C,P){y(P.key,P)})},Ht.prototype.eachUniqueKey=function(y){return this._ctx.unique="unique",this.eachKey(y)},Ht.prototype.eachPrimaryKey=function(y){var b=this._ctx;return b.keysOnly=!b.isMatch,this.each(function(C,P){y(P.primaryKey,P)})},Ht.prototype.keys=function(y){var b=this._ctx;b.keysOnly=!b.isMatch;var C=[];return this.each(function(P,O){C.push(O.key)}).then(function(){return C}).then(y)},Ht.prototype.primaryKeys=function(y){var b=this._ctx;if(b.dir==="next"&&ts(b,!0)&&0<b.limit)return this._read(function(P){var O=jo(b,b.table.core.schema);return b.table.core.query({trans:P,values:!1,limit:b.limit,query:{index:O,range:b.range}})}).then(function(P){return P.result}).then(y);b.keysOnly=!b.isMatch;var C=[];return this.each(function(P,O){C.push(O.primaryKey)}).then(function(){return C}).then(y)},Ht.prototype.uniqueKeys=function(y){return this._ctx.unique="unique",this.keys(y)},Ht.prototype.firstKey=function(y){return this.limit(1).keys(function(b){return b[0]}).then(y)},Ht.prototype.lastKey=function(y){return this.reverse().firstKey(y)},Ht.prototype.distinct=function(){var y=this._ctx,y=y.index&&y.table.schema.idxByName[y.index];if(!y||!y.multi)return this;var b={};return yc(this._ctx,function(O){var P=O.primaryKey.toString(),O=p(b,P);return b[P]=!0,!O}),this},Ht.prototype.modify=function(y){var b=this,C=this._ctx;return this._write(function(P){var O,L,$;$=typeof y=="function"?y:(O=o(y),L=O.length,function(oe){for(var ve=!1,we=0;we<L;++we){var Se=O[we],ke=y[Se],Ie=N(oe,Se);ke instanceof Sa?(I(oe,Se,ke.execute(Ie)),ve=!0):Ie!==ke&&(I(oe,Se,ke),ve=!0)}return ve});var K=C.table.core,Y=K.schema.primaryKey,ee=Y.outbound,ie=Y.extractKey,de=200,Y=b.db._options.modifyChunkSize;Y&&(de=typeof Y=="object"?Y[K.name]||Y["*"]||200:Y);function he(oe,Se){var we=Se.failures,Se=Se.numFailures;ce+=oe-Se;for(var ke=0,Ie=o(we);ke<Ie.length;ke++){var He=Ie[ke];re.push(we[He])}}var re=[],ce=0,fe=[];return b.clone().primaryKeys().then(function(oe){function ve(Se){var ke=Math.min(de,oe.length-Se);return K.getMany({trans:P,keys:oe.slice(Se,Se+ke),cache:"immutable"}).then(function(Ie){for(var He=[],De=[],ze=ee?[]:null,Ve=[],$e=0;$e<ke;++$e){var Ge=Ie[$e],yt={value:ae(Ge),primKey:oe[Se+$e]};$.call(yt,yt.value,yt)!==!1&&(yt.value==null?Ve.push(oe[Se+$e]):ee||ft(ie(Ge),ie(yt.value))===0?(De.push(yt.value),ee&&ze.push(oe[Se+$e])):(Ve.push(oe[Se+$e]),He.push(yt.value)))}return Promise.resolve(0<He.length&&K.mutate({trans:P,type:"add",values:He}).then(function(wt){for(var Et in wt.failures)Ve.splice(parseInt(Et),1);he(He.length,wt)})).then(function(){return(0<De.length||we&&typeof y=="object")&&K.mutate({trans:P,type:"put",keys:ze,values:De,criteria:we,changeSpec:typeof y!="function"&&y,isAdditionalChunk:0<Se}).then(function(wt){return he(De.length,wt)})}).then(function(){return(0<Ve.length||we&&y===zl)&&K.mutate({trans:P,type:"delete",keys:Ve,criteria:we,isAdditionalChunk:0<Se}).then(function(wt){return he(Ve.length,wt)})}).then(function(){return oe.length>Se+ke&&ve(Se+de)})})}var we=ts(C)&&C.limit===1/0&&(typeof y!="function"||y===zl)&&{index:C.index,range:C.range};return ve(0).then(function(){if(0<re.length)throw new je("Error modifying one or more objects",re,ce,fe);return oe.length})})})},Ht.prototype.delete=function(){var y=this._ctx,b=y.range;return ts(y)&&(y.isPrimKey||b.type===3)?this._write(function(C){var P=y.table.core.schema.primaryKey,O=b;return y.table.core.count({trans:C,query:{index:P,range:O}}).then(function(L){return y.table.core.mutate({trans:C,type:"deleteRange",range:O}).then(function($){var K=$.failures;if($.lastResult,$.results,$=$.numFailures,$)throw new je("Could not delete some values",Object.keys(K).map(function(ee){return K[ee]}),L-$);return L-$})})}):this.modify(zl)},Ht);function Ht(){}var zl=function(y,b){return b.value=null};function bc(y,b){return y<b?-1:y===b?0:1}function Ch(y,b){return b<y?-1:y===b?0:1}function xr(y,b,C){return y=y instanceof rs?new y.Collection(y):y,y._ctx.error=new(C||TypeError)(b),y}function Us(y){return new y.Collection(y,function(){return ns("")}).limit(0)}function Po(y,b,C,P){var O,L,$,K,ee,ie,de,Y=C.length;if(!C.every(function(ce){return typeof ce=="string"}))return xr(y,Oi);function he(ce){O=ce==="next"?function(oe){return oe.toUpperCase()}:function(oe){return oe.toLowerCase()},L=ce==="next"?function(oe){return oe.toLowerCase()}:function(oe){return oe.toUpperCase()},$=ce==="next"?bc:Ch;var fe=C.map(function(oe){return{lower:L(oe),upper:O(oe)}}).sort(function(oe,ve){return $(oe.lower,ve.lower)});K=fe.map(function(oe){return oe.upper}),ee=fe.map(function(oe){return oe.lower}),de=(ie=ce)==="next"?"":P}he("next"),y=new y.Collection(y,function(){return gi(K[0],ee[Y-1]+P)}),y._ondirectionchange=function(ce){he(ce)};var re=0;return y._addAlgorithm(function(ce,fe,oe){var ve=ce.key;if(typeof ve!="string")return!1;var we=L(ve);if(b(we,ee,re))return!0;for(var Se=null,ke=re;ke<Y;++ke){var Ie=function(He,De,ze,Ve,$e,Ge){for(var yt=Math.min(He.length,Ve.length),wt=-1,Et=0;Et<yt;++Et){var wr=De[Et];if(wr!==Ve[Et])return $e(He[Et],ze[Et])<0?He.substr(0,Et)+ze[Et]+ze.substr(Et+1):$e(He[Et],Ve[Et])<0?He.substr(0,Et)+Ve[Et]+ze.substr(Et+1):0<=wt?He.substr(0,wt)+De[wt]+ze.substr(wt+1):null;$e(He[Et],wr)<0&&(wt=Et)}return yt<Ve.length&&Ge==="next"?He+ze.substr(He.length):yt<He.length&&Ge==="prev"?He.substr(0,ze.length):wt<0?null:He.substr(0,wt)+Ve[wt]+ze.substr(wt+1)}(ve,we,K[ke],ee[ke],$,ie);Ie===null&&Se===null?re=ke+1:(Se===null||0<$(Se,Ie))&&(Se=Ie)}return fe(Se!==null?function(){ce.continue(Se+de)}:oe),!1}),y}function gi(y,b,C,P){return{type:2,lower:y,upper:b,lowerOpen:C,upperOpen:P}}function ns(y){return{type:1,lower:y,upper:y}}var rs=(Object.defineProperty(on.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),on.prototype.between=function(y,b,C,P){C=C!==!1,P=P===!0;try{return 0<this._cmp(y,b)||this._cmp(y,b)===0&&(C||P)&&(!C||!P)?Us(this):new this.Collection(this,function(){return gi(y,b,!C,!P)})}catch{return xr(this,It)}},on.prototype.equals=function(y){return y==null?xr(this,It):new this.Collection(this,function(){return ns(y)})},on.prototype.above=function(y){return y==null?xr(this,It):new this.Collection(this,function(){return gi(y,void 0,!0)})},on.prototype.aboveOrEqual=function(y){return y==null?xr(this,It):new this.Collection(this,function(){return gi(y,void 0,!1)})},on.prototype.below=function(y){return y==null?xr(this,It):new this.Collection(this,function(){return gi(void 0,y,!1,!0)})},on.prototype.belowOrEqual=function(y){return y==null?xr(this,It):new this.Collection(this,function(){return gi(void 0,y)})},on.prototype.startsWith=function(y){return typeof y!="string"?xr(this,Oi):this.between(y,y+pi,!0,!0)},on.prototype.startsWithIgnoreCase=function(y){return y===""?this.startsWith(y):Po(this,function(b,C){return b.indexOf(C[0])===0},[y],pi)},on.prototype.equalsIgnoreCase=function(y){return Po(this,function(b,C){return b===C[0]},[y],"")},on.prototype.anyOfIgnoreCase=function(){var y=D.apply(me,arguments);return y.length===0?Us(this):Po(this,function(b,C){return C.indexOf(b)!==-1},y,"")},on.prototype.startsWithAnyOfIgnoreCase=function(){var y=D.apply(me,arguments);return y.length===0?Us(this):Po(this,function(b,C){return C.some(function(P){return b.indexOf(P)===0})},y,pi)},on.prototype.anyOf=function(){var y=this,b=D.apply(me,arguments),C=this._cmp;try{b.sort(C)}catch{return xr(this,It)}if(b.length===0)return Us(this);var P=new this.Collection(this,function(){return gi(b[0],b[b.length-1])});P._ondirectionchange=function(L){C=L==="next"?y._ascending:y._descending,b.sort(C)};var O=0;return P._addAlgorithm(function(L,$,K){for(var ee=L.key;0<C(ee,b[O]);)if(++O===b.length)return $(K),!1;return C(ee,b[O])===0||($(function(){L.continue(b[O])}),!1)}),P},on.prototype.notEqual=function(y){return this.inAnyRange([[-1/0,y],[y,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},on.prototype.noneOf=function(){var y=D.apply(me,arguments);if(y.length===0)return new this.Collection(this);try{y.sort(this._ascending)}catch{return xr(this,It)}var b=y.reduce(function(C,P){return C?C.concat([[C[C.length-1][1],P]]):[[-1/0,P]]},null);return b.push([y[y.length-1],this.db._maxKey]),this.inAnyRange(b,{includeLowers:!1,includeUppers:!1})},on.prototype.inAnyRange=function(ve,b){var C=this,P=this._cmp,O=this._ascending,L=this._descending,$=this._min,K=this._max;if(ve.length===0)return Us(this);if(!ve.every(function(we){return we[0]!==void 0&&we[1]!==void 0&&O(we[0],we[1])<=0}))return xr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ne.InvalidArgument);var ee=!b||b.includeLowers!==!1,ie=b&&b.includeUppers===!0,de,Y=O;function he(we,Se){return Y(we[0],Se[0])}try{(de=ve.reduce(function(we,Se){for(var ke=0,Ie=we.length;ke<Ie;++ke){var He=we[ke];if(P(Se[0],He[1])<0&&0<P(Se[1],He[0])){He[0]=$(He[0],Se[0]),He[1]=K(He[1],Se[1]);break}}return ke===Ie&&we.push(Se),we},[])).sort(he)}catch{return xr(this,It)}var re=0,ce=ie?function(we){return 0<O(we,de[re][1])}:function(we){return 0<=O(we,de[re][1])},fe=ee?function(we){return 0<L(we,de[re][0])}:function(we){return 0<=L(we,de[re][0])},oe=ce,ve=new this.Collection(this,function(){return gi(de[0][0],de[de.length-1][1],!ee,!ie)});return ve._ondirectionchange=function(we){Y=we==="next"?(oe=ce,O):(oe=fe,L),de.sort(he)},ve._addAlgorithm(function(we,Se,ke){for(var Ie,He=we.key;oe(He);)if(++re===de.length)return Se(ke),!1;return!ce(Ie=He)&&!fe(Ie)||(C._cmp(He,de[re][1])===0||C._cmp(He,de[re][0])===0||Se(function(){Y===O?we.continue(de[re][0]):we.continue(de[re][1])}),!1)}),ve},on.prototype.startsWithAnyOf=function(){var y=D.apply(me,arguments);return y.every(function(b){return typeof b=="string"})?y.length===0?Us(this):this.inAnyRange(y.map(function(b){return[b,b+pi]})):xr(this,"startsWithAnyOf() only works with strings")},on);function on(){}function br(y){return Te(function(b){return is(b),y(b.target.error),!1})}function is(y){y.stopPropagation&&y.stopPropagation(),y.preventDefault&&y.preventDefault()}var qr="storagemutated",wc="x-storagemutated-1",ss=Cs(null,qr),Ca=(Mi.prototype._lock=function(){return z(!Qe.global),++this._reculock,this._reculock!==1||Qe.global||(Qe.lockOwnerFor=this),this},Mi.prototype._unlock=function(){if(z(!Qe.global),--this._reculock==0)for(Qe.global||(Qe.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var y=this._blockedFuncs.shift();try{sr(y[1],y[0])}catch{}}return this},Mi.prototype._locked=function(){return this._reculock&&Qe.lockOwnerFor!==this},Mi.prototype.create=function(y){var b=this;if(!this.mode)return this;var C=this.db.idbdb,P=this.db._state.dbOpenError;if(z(!this.idbtrans),!y&&!C)switch(P&&P.name){case"DatabaseClosedError":throw new Ne.DatabaseClosed(P);case"MissingAPIError":throw new Ne.MissingAPI(P.message,P);default:throw new Ne.OpenFailed(P)}if(!this.active)throw new Ne.TransactionInactive;return z(this._completion._state===null),(y=this.idbtrans=y||(this.db.core||C).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Te(function(O){is(O),b._reject(y.error)}),y.onabort=Te(function(O){is(O),b.active&&b._reject(new Ne.Abort(y.error)),b.active=!1,b.on("abort").fire(O)}),y.oncomplete=Te(function(){b.active=!1,b._resolve(),"mutatedParts"in y&&ss.storagemutated.fire(y.mutatedParts)}),this},Mi.prototype._promise=function(y,b,C){var P=this;if(y==="readwrite"&&this.mode!=="readwrite")return Vt(new Ne.ReadOnly("Transaction is readonly"));if(!this.active)return Vt(new Ne.TransactionInactive);if(this._locked())return new We(function(L,$){P._blockedFuncs.push([function(){P._promise(y,b,C).then(L,$)},Qe])});if(C)return et(function(){var L=new We(function($,K){P._lock();var ee=b($,K,P);ee&&ee.then&&ee.then($,K)});return L.finally(function(){return P._unlock()}),L._lib=!0,L});var O=new We(function(L,$){var K=b(L,$,P);K&&K.then&&K.then(L,$)});return O._lib=!0,O},Mi.prototype._root=function(){return this.parent?this.parent._root():this},Mi.prototype.waitFor=function(y){var b,C=this._root(),P=We.resolve(y);C._waitingFor?C._waitingFor=C._waitingFor.then(function(){return P}):(C._waitingFor=P,C._waitingQueue=[],b=C.idbtrans.objectStore(C.storeNames[0]),function L(){for(++C._spinCount;C._waitingQueue.length;)C._waitingQueue.shift()();C._waitingFor&&(b.get(-1/0).onsuccess=L)}());var O=C._waitingFor;return new We(function(L,$){P.then(function(K){return C._waitingQueue.push(Te(L.bind(null,K)))},function(K){return C._waitingQueue.push(Te($.bind(null,K)))}).finally(function(){C._waitingFor===O&&(C._waitingFor=null)})})},Mi.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ne.Abort))},Mi.prototype.table=function(y){var b=this._memoizedTables||(this._memoizedTables={});if(p(b,y))return b[y];var C=this.schema[y];if(!C)throw new Ne.NotFound("Table "+y+" not part of transaction");return C=new this.db.Table(y,C,this),C.core=this.db.core.table(y),b[y]=C},Mi);function Mi(){}function $l(y,b,C,P,O,L,$){return{name:y,keyPath:b,unique:C,multi:P,auto:O,compound:L,src:(C&&!$?"&":"")+(P?"*":"")+(O?"++":"")+ka(b)}}function ka(y){return typeof y=="string"?y:y?"["+[].join.call(y,"+")+"]":""}function Ul(y,b,C){return{name:y,primKey:b,indexes:C,mappedClass:null,idxByName:(P=function(O){return[O.name,O]},C.reduce(function(O,L,$){return $=P(L,$),$&&(O[$[0]]=$[1]),O},{}))};var P}var ja=function(y){try{return y.only([[]]),ja=function(){return[[]]},[[]]}catch{return ja=function(){return pi},pi}};function Hs(y){return y==null?function(){}:typeof y=="string"?(b=y).split(".").length===1?function(C){return C[b]}:function(C){return N(C,b)}:function(C){return N(C,y)};var b}function No(y){return[].slice.call(y)}var Oo=0;function ks(y){return y==null?":id":typeof y=="string"?y:"[".concat(y.join("+"),"]")}function eg(y,b,ee){function P(oe){if(oe.type===3)return null;if(oe.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var re=oe.lower,ce=oe.upper,fe=oe.lowerOpen,oe=oe.upperOpen;return re===void 0?ce===void 0?null:b.upperBound(ce,!!oe):ce===void 0?b.lowerBound(re,!!fe):b.bound(re,ce,!!fe,!!oe)}function O(he){var re,ce=he.name;return{name:ce,schema:he,mutate:function(fe){var oe=fe.trans,ve=fe.type,we=fe.keys,Se=fe.values,ke=fe.range;return new Promise(function(Ie,He){Ie=Te(Ie);var De=oe.objectStore(ce),ze=De.keyPath==null,Ve=ve==="put"||ve==="add";if(!Ve&&ve!=="delete"&&ve!=="deleteRange")throw new Error("Invalid operation type: "+ve);var $e,Ge=(we||Se||{length:1}).length;if(we&&Se&&we.length!==Se.length)throw new Error("Given keys array must have same length as given values array.");if(Ge===0)return Ie({numFailures:0,failures:{},results:[],lastResult:void 0});function yt(wn){++wr,is(wn)}var wt=[],Et=[],wr=0;if(ve==="deleteRange"){if(ke.type===4)return Ie({numFailures:wr,failures:Et,results:[],lastResult:void 0});ke.type===3?wt.push($e=De.clear()):wt.push($e=De.delete(P(ke)))}else{var ze=Ve?ze?[Se,we]:[Se,null]:[we,null],gt=ze[0],Xn=ze[1];if(Ve)for(var Jn=0;Jn<Ge;++Jn)wt.push($e=Xn&&Xn[Jn]!==void 0?De[ve](gt[Jn],Xn[Jn]):De[ve](gt[Jn])),$e.onerror=yt;else for(Jn=0;Jn<Ge;++Jn)wt.push($e=De[ve](gt[Jn])),$e.onerror=yt}function Ia(wn){wn=wn.target.result,wt.forEach(function(os,Da){return os.error!=null&&(Et[Da]=os.error)}),Ie({numFailures:wr,failures:Et,results:ve==="delete"?we:wt.map(function(os){return os.result}),lastResult:wn})}$e.onerror=function(wn){yt(wn),Ia(wn)},$e.onsuccess=Ia})},getMany:function(fe){var oe=fe.trans,ve=fe.keys;return new Promise(function(we,Se){we=Te(we);for(var ke,Ie=oe.objectStore(ce),He=ve.length,De=new Array(He),ze=0,Ve=0,$e=function(wt){wt=wt.target,De[wt._pos]=wt.result,++Ve===ze&&we(De)},Ge=br(Se),yt=0;yt<He;++yt)ve[yt]!=null&&((ke=Ie.get(ve[yt]))._pos=yt,ke.onsuccess=$e,ke.onerror=Ge,++ze);ze===0&&we(De)})},get:function(fe){var oe=fe.trans,ve=fe.key;return new Promise(function(we,Se){we=Te(we);var ke=oe.objectStore(ce).get(ve);ke.onsuccess=function(Ie){return we(Ie.target.result)},ke.onerror=br(Se)})},query:(re=ie,function(fe){return new Promise(function(oe,ve){oe=Te(oe);var we,Se,ke,ze=fe.trans,Ie=fe.values,He=fe.limit,$e=fe.query,De=He===1/0?void 0:He,Ve=$e.index,$e=$e.range,ze=ze.objectStore(ce),Ve=Ve.isPrimaryKey?ze:ze.index(Ve.name),$e=P($e);if(He===0)return oe({result:[]});re?((De=Ie?Ve.getAll($e,De):Ve.getAllKeys($e,De)).onsuccess=function(Ge){return oe({result:Ge.target.result})},De.onerror=br(ve)):(we=0,Se=!Ie&&"openKeyCursor"in Ve?Ve.openKeyCursor($e):Ve.openCursor($e),ke=[],Se.onsuccess=function(Ge){var yt=Se.result;return yt?(ke.push(Ie?yt.value:yt.primaryKey),++we===He?oe({result:ke}):void yt.continue()):oe({result:ke})},Se.onerror=br(ve))})}),openCursor:function(fe){var oe=fe.trans,ve=fe.values,we=fe.query,Se=fe.reverse,ke=fe.unique;return new Promise(function(Ie,He){Ie=Te(Ie);var Ve=we.index,De=we.range,ze=oe.objectStore(ce),ze=Ve.isPrimaryKey?ze:ze.index(Ve.name),Ve=Se?ke?"prevunique":"prev":ke?"nextunique":"next",$e=!ve&&"openKeyCursor"in ze?ze.openKeyCursor(P(De),Ve):ze.openCursor(P(De),Ve);$e.onerror=br(He),$e.onsuccess=Te(function(Ge){var yt,wt,Et,wr,gt=$e.result;gt?(gt.___id=++Oo,gt.done=!1,yt=gt.continue.bind(gt),wt=(wt=gt.continuePrimaryKey)&&wt.bind(gt),Et=gt.advance.bind(gt),wr=function(){throw new Error("Cursor not stopped")},gt.trans=oe,gt.stop=gt.continue=gt.continuePrimaryKey=gt.advance=function(){throw new Error("Cursor not started")},gt.fail=Te(He),gt.next=function(){var Xn=this,Jn=1;return this.start(function(){return Jn--?Xn.continue():Xn.stop()}).then(function(){return Xn})},gt.start=function(Xn){function Jn(){if($e.result)try{Xn()}catch(wn){gt.fail(wn)}else gt.done=!0,gt.start=function(){throw new Error("Cursor behind last entry")},gt.stop()}var Ia=new Promise(function(wn,os){wn=Te(wn),$e.onerror=br(os),gt.fail=os,gt.stop=function(Da){gt.stop=gt.continue=gt.continuePrimaryKey=gt.advance=wr,wn(Da)}});return $e.onsuccess=Te(function(wn){$e.onsuccess=Jn,Jn()}),gt.continue=yt,gt.continuePrimaryKey=wt,gt.advance=Et,Jn(),Ia},Ie(gt)):Ie(null)},He)})},count:function(fe){var oe=fe.query,ve=fe.trans,we=oe.index,Se=oe.range;return new Promise(function(ke,Ie){var He=ve.objectStore(ce),De=we.isPrimaryKey?He:He.index(we.name),He=P(Se),De=He?De.count(He):De.count();De.onsuccess=Te(function(ze){return ke(ze.target.result)}),De.onerror=br(Ie)})}}}var L,$,K,de=($=ee,K=No((L=y).objectStoreNames),{schema:{name:L.name,tables:K.map(function(he){return $.objectStore(he)}).map(function(he){var re=he.keyPath,oe=he.autoIncrement,ce=a(re),fe={},oe={name:he.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:re==null,compound:ce,keyPath:re,autoIncrement:oe,unique:!0,extractKey:Hs(re)},indexes:No(he.indexNames).map(function(ve){return he.index(ve)}).map(function(ke){var we=ke.name,Se=ke.unique,Ie=ke.multiEntry,ke=ke.keyPath,Ie={name:we,compound:a(ke),keyPath:ke,unique:Se,multiEntry:Ie,extractKey:Hs(ke)};return fe[ks(ke)]=Ie}),getIndexByKeyPath:function(ve){return fe[ks(ve)]}};return fe[":id"]=oe.primaryKey,re!=null&&(fe[ks(re)]=oe.primaryKey),oe})},hasGetAll:0<K.length&&"getAll"in $.objectStore(K[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),ee=de.schema,ie=de.hasGetAll,de=ee.tables.map(O),Y={};return de.forEach(function(he){return Y[he.name]=he}),{stack:"dbcore",transaction:y.transaction.bind(y),table:function(he){if(!Y[he])throw new Error("Table '".concat(he,"' not found"));return Y[he]},MIN_KEY:-1/0,MAX_KEY:ja(b),schema:ee}}function tg(y,b,C,P){var O=C.IDBKeyRange;return C.indexedDB,{dbcore:(P=eg(b,O,P),y.dbcore.reduce(function(L,$){return $=$.create,r(r({},L),$(L))},P))}}function Ro(y,P){var C=P.db,P=tg(y._middlewares,C,y._deps,P);y.core=P.dbcore,y.tables.forEach(function(O){var L=O.name;y.core.schema.tables.some(function($){return $.name===L})&&(O.core=y.core.table(L),y[L]instanceof y.Table&&(y[L].core=O.core))})}function Vs(y,b,C,P){C.forEach(function(O){var L=P[O];b.forEach(function($){var K=function ee(ie,de){return k(ie,de)||(ie=c(ie))&&ee(ie,de)}($,O);(!K||"value"in K&&K.value===void 0)&&($===y.Transaction.prototype||$ instanceof y.Transaction?w($,O,{get:function(){return this.table(O)},set:function(ee){x(this,O,{value:ee,writable:!0,configurable:!0,enumerable:!0})}}):$[O]=new y.Table(O,L))})})}function Ea(y,b){b.forEach(function(C){for(var P in C)C[P]instanceof y.Table&&delete C[P]})}function kh(y,b){return y._cfg.version-b._cfg.version}function js(y,b,C,P){var O=y._dbSchema;C.objectStoreNames.contains("$meta")&&!O.$meta&&(O.$meta=Ul("$meta",Ws("")[0],[]),y._storeNames.push("$meta"));var L=y._createTransaction("readwrite",y._storeNames,O);L.create(C),L._completion.catch(P);var $=L._reject.bind(L),K=Qe.transless||Qe;et(function(){return Qe.trans=L,Qe.transless=K,b!==0?(Ro(y,C),ie=b,((ee=L).storeNames.includes("$meta")?ee.table("$meta").get("version").then(function(de){return de??ie}):We.resolve(ie)).then(function(de){return he=de,re=L,ce=C,fe=[],de=(Y=y)._versions,oe=Y._dbSchema=Pa(0,Y.idbdb,ce),(de=de.filter(function(ve){return ve._cfg.version>=he})).length!==0?(de.forEach(function(ve){fe.push(function(){var we=oe,Se=ve._cfg.dbschema;or(Y,we,ce),or(Y,Se,ce),oe=Y._dbSchema=Se;var ke=Mo(we,Se);ke.add.forEach(function(Ve){Hl(ce,Ve[0],Ve[1].primKey,Ve[1].indexes)}),ke.change.forEach(function(Ve){if(Ve.recreate)throw new Ne.Upgrade("Not yet support for changing primary key");var $e=ce.objectStore(Ve.name);Ve.add.forEach(function(Ge){return Qs($e,Ge)}),Ve.change.forEach(function(Ge){$e.deleteIndex(Ge.name),Qs($e,Ge)}),Ve.del.forEach(function(Ge){return $e.deleteIndex(Ge)})});var Ie=ve._cfg.contentUpgrade;if(Ie&&ve._cfg.version>he){Ro(Y,ce),re._memoizedTables={};var He=H(Se);ke.del.forEach(function(Ve){He[Ve]=we[Ve]}),Ea(Y,[Y.Transaction.prototype]),Vs(Y,[Y.Transaction.prototype],o(He),He),re.schema=He;var De,ze=G(Ie);return ze&&St(),ke=We.follow(function(){var Ve;(De=Ie(re))&&ze&&(Ve=Rt.bind(null,null),De.then(Ve,Ve))}),De&&typeof De.then=="function"?We.resolve(De):ke.then(function(){return De})}}),fe.push(function(we){var Se,ke,Ie=ve._cfg.dbschema;Se=Ie,ke=we,[].slice.call(ke.db.objectStoreNames).forEach(function(He){return Se[He]==null&&ke.db.deleteObjectStore(He)}),Ea(Y,[Y.Transaction.prototype]),Vs(Y,[Y.Transaction.prototype],Y._storeNames,Y._dbSchema),re.schema=Y._dbSchema}),fe.push(function(we){Y.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(Y.idbdb.version/10)===ve._cfg.version?(Y.idbdb.deleteObjectStore("$meta"),delete Y._dbSchema.$meta,Y._storeNames=Y._storeNames.filter(function(Se){return Se!=="$meta"})):we.objectStore("$meta").put(ve._cfg.version,"version"))})}),function ve(){return fe.length?We.resolve(fe.shift()(re.idbtrans)).then(ve):We.resolve()}().then(function(){Ta(oe,ce)})):We.resolve();var Y,he,re,ce,fe,oe}).catch($)):(o(O).forEach(function(de){Hl(C,de,O[de].primKey,O[de].indexes)}),Ro(y,C),void We.follow(function(){return y.on.populate.fire(L)}).catch($));var ee,ie})}function _c(y,b){Ta(y._dbSchema,b),b.db.version%10!=0||b.objectStoreNames.contains("$meta")||b.db.createObjectStore("$meta").add(Math.ceil(b.db.version/10-1),"version");var C=Pa(0,y.idbdb,b);or(y,y._dbSchema,b);for(var P=0,O=Mo(C,y._dbSchema).change;P<O.length;P++){var L=function($){if($.change.length||$.recreate)return console.warn("Unable to patch indexes of table ".concat($.name," because it has changes on the type of index or primary key.")),{value:void 0};var K=b.objectStore($.name);$.add.forEach(function(ee){Dn&&console.debug("Dexie upgrade patch: Creating missing index ".concat($.name,".").concat(ee.src)),Qs(K,ee)})}(O[P]);if(typeof L=="object")return L.value}}function Mo(y,b){var C,P={del:[],add:[],change:[]};for(C in y)b[C]||P.del.push(C);for(C in b){var O=y[C],L=b[C];if(O){var $={name:C,def:L,recreate:!1,del:[],add:[],change:[]};if(""+(O.primKey.keyPath||"")!=""+(L.primKey.keyPath||"")||O.primKey.auto!==L.primKey.auto)$.recreate=!0,P.change.push($);else{var K=O.idxByName,ee=L.idxByName,ie=void 0;for(ie in K)ee[ie]||$.del.push(ie);for(ie in ee){var de=K[ie],Y=ee[ie];de?de.src!==Y.src&&$.change.push(Y):$.add.push(Y)}(0<$.del.length||0<$.add.length||0<$.change.length)&&P.change.push($)}}else P.add.push([C,L])}return P}function Hl(y,b,C,P){var O=y.db.createObjectStore(b,C.keyPath?{keyPath:C.keyPath,autoIncrement:C.auto}:{autoIncrement:C.auto});return P.forEach(function(L){return Qs(O,L)}),O}function Ta(y,b){o(y).forEach(function(C){b.db.objectStoreNames.contains(C)||(Dn&&console.debug("Dexie: Creating missing table",C),Hl(b,C,y[C].primKey,y[C].indexes))})}function Qs(y,b){y.createIndex(b.name,b.keyPath,{unique:b.unique,multiEntry:b.multi})}function Pa(y,b,C){var P={};return R(b.objectStoreNames,0).forEach(function(O){for(var L=C.objectStore(O),$=$l(ka(ie=L.keyPath),ie||"",!0,!1,!!L.autoIncrement,ie&&typeof ie!="string",!0),K=[],ee=0;ee<L.indexNames.length;++ee){var de=L.index(L.indexNames[ee]),ie=de.keyPath,de=$l(de.name,ie,!!de.unique,!!de.multiEntry,!1,ie&&typeof ie!="string",!1);K.push(de)}P[O]=Ul(O,$,K)}),P}function or(y,b,C){for(var P=C.db.objectStoreNames,O=0;O<P.length;++O){var L=P[O],$=C.objectStore(L);y._hasGetAll="getAll"in $;for(var K=0;K<$.indexNames.length;++K){var ee=$.indexNames[K],ie=$.index(ee).keyPath,de=typeof ie=="string"?ie:"["+R(ie).join("+")+"]";!b[L]||(ie=b[L].idxByName[de])&&(ie.name=ee,delete b[L].idxByName[de],b[L].idxByName[ee]=ie)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(y._hasGetAll=!1)}function Ws(y){return y.split(",").map(function(b,C){var P=(b=b.trim()).replace(/([&*]|\+\+)/g,""),O=/^\[/.test(P)?P.match(/^\[(.*)\]$/)[1].split("+"):P;return $l(P,O||null,/\&/.test(b),/\*/.test(b),/\+\+/.test(b),a(O),C===0)})}var Sc=(Es.prototype._parseStoresSpec=function(y,b){o(y).forEach(function(C){if(y[C]!==null){var P=Ws(y[C]),O=P.shift();if(O.unique=!0,O.multi)throw new Ne.Schema("Primary key cannot be multi-valued");P.forEach(function(L){if(L.auto)throw new Ne.Schema("Only primary key can be marked as autoIncrement (++)");if(!L.keyPath)throw new Ne.Schema("Index must have a name and cannot be an empty string")}),b[C]=Ul(C,O,P)}})},Es.prototype.stores=function(C){var b=this.db;this._cfg.storesSource=this._cfg.storesSource?u(this._cfg.storesSource,C):C;var C=b._versions,P={},O={};return C.forEach(function(L){u(P,L._cfg.storesSource),O=L._cfg.dbschema={},L._parseStoresSpec(P,O)}),b._dbSchema=O,Ea(b,[b._allTables,b,b.Transaction.prototype]),Vs(b,[b._allTables,b,b.Transaction.prototype,this._cfg.tables],o(O),O),b._storeNames=o(O),this},Es.prototype.upgrade=function(y){return this._cfg.contentUpgrade=Qr(this._cfg.contentUpgrade||Nt,y),this},Es);function Es(){}function Cc(y,b){var C=y._dbNamesDB;return C||(C=y._dbNamesDB=new Ai(Ri,{addons:[],indexedDB:y,IDBKeyRange:b})).version(1).stores({dbnames:"name"}),C.table("dbnames")}function Na(y){return y&&typeof y.databases=="function"}function Oa(y){return et(function(){return Qe.letThrough=!0,y()})}function qs(y){return!("from"in y)}var Bn=function(y,b){if(!this){var C=new Bn;return y&&"d"in y&&u(C,y),C}u(this,arguments.length?{d:1,from:y,to:1<arguments.length?b:y}:{d:0})};function Ao(y,b,C){var P=ft(b,C);if(!isNaN(P)){if(0<P)throw RangeError();if(qs(y))return u(y,{from:b,to:C,d:1});var O=y.l,P=y.r;if(ft(C,y.from)<0)return O?Ao(O,b,C):y.l={from:b,to:C,d:1,l:null,r:null},Ql(y);if(0<ft(b,y.to))return P?Ao(P,b,C):y.r={from:b,to:C,d:1,l:null,r:null},Ql(y);ft(b,y.from)<0&&(y.from=b,y.l=null,y.d=P?P.d+1:1),0<ft(C,y.to)&&(y.to=C,y.r=null,y.d=y.l?y.l.d+1:1),C=!y.r,O&&!y.l&&Ra(y,O),P&&C&&Ra(y,P)}}function Ra(y,b){qs(b)||function C(P,ee){var L=ee.from,$=ee.to,K=ee.l,ee=ee.r;Ao(P,L,$),K&&C(P,K),ee&&C(P,ee)}(y,b)}function jh(y,b){var C=Vl(b),P=C.next();if(P.done)return!1;for(var O=P.value,L=Vl(y),$=L.next(O.from),K=$.value;!P.done&&!$.done;){if(ft(K.from,O.to)<=0&&0<=ft(K.to,O.from))return!0;ft(O.from,K.from)<0?O=(P=C.next(K.from)).value:K=($=L.next(O.from)).value}return!1}function Vl(y){var b=qs(y)?null:{s:0,n:y};return{next:function(C){for(var P=0<arguments.length;b;)switch(b.s){case 0:if(b.s=1,P)for(;b.n.l&&ft(C,b.n.from)<0;)b={up:b,n:b.n.l,s:1};else for(;b.n.l;)b={up:b,n:b.n.l,s:1};case 1:if(b.s=2,!P||ft(C,b.n.to)<=0)return{value:b.n,done:!1};case 2:if(b.n.r){b.s=3,b={up:b,n:b.n.r,s:0};continue}case 3:b=b.up}return{done:!0}}}}function Ql(y){var b,C,P=(((b=y.r)===null||b===void 0?void 0:b.d)||0)-(((C=y.l)===null||C===void 0?void 0:C.d)||0),O=1<P?"r":P<-1?"l":"";O&&(b=O=="r"?"l":"r",C=r({},y),P=y[O],y.from=P.from,y.to=P.to,y[O]=P[O],C[O]=P[b],(y[b]=C).d=Eh(C)),y.d=Eh(y)}function Eh(C){var b=C.r,C=C.l;return(b?C?Math.max(b.d,C.d):b.d:C?C.d:0)+1}function Wl(y,b){return o(b).forEach(function(C){y[C]?Ra(y[C],b[C]):y[C]=function P(O){var L,$,K={};for(L in O)p(O,L)&&($=O[L],K[L]=!$||typeof $!="object"||le.has($.constructor)?$:P($));return K}(b[C])}),y}function kc(y,b){return y.all||b.all||Object.keys(y).some(function(C){return b[C]&&jh(b[C],y[C])})}g(Bn.prototype,((Kr={add:function(y){return Ra(this,y),this},addKey:function(y){return Ao(this,y,y),this},addKeys:function(y){var b=this;return y.forEach(function(C){return Ao(b,C,C)}),this},hasKey:function(y){var b=Vl(this).next(y).value;return b&&ft(b.from,y)<=0&&0<=ft(b.to,y)}})[J]=function(){return Vl(this)},Kr));var Ks={},jc={},ql=!1;function Kl(y){Wl(jc,y),ql||(ql=!0,setTimeout(function(){ql=!1,Ec(jc,!(jc={}))},0))}function Ec(y,b){b===void 0&&(b=!1);var C=new Set;if(y.all)for(var P=0,O=Object.values(Ks);P<O.length;P++)Th($=O[P],y,C,b);else for(var L in y){var $,K=/^idb\:\/\/(.*)\/(.*)\//.exec(L);K&&(L=K[1],K=K[2],($=Ks["idb://".concat(L,"/").concat(K)])&&Th($,y,C,b))}C.forEach(function(ee){return ee()})}function Th(y,b,C,P){for(var O=[],L=0,$=Object.entries(y.queries.query);L<$.length;L++){for(var K=$[L],ee=K[0],ie=[],de=0,Y=K[1];de<Y.length;de++){var he=Y[de];kc(b,he.obsSet)?he.subscribers.forEach(function(oe){return C.add(oe)}):P&&ie.push(he)}P&&O.push([ee,ie])}if(P)for(var re=0,ce=O;re<ce.length;re++){var fe=ce[re],ee=fe[0],ie=fe[1];y.queries.query[ee]=ie}}function ng(y){var b=y._state,C=y._deps.indexedDB;if(b.isBeingOpened||y.idbdb)return b.dbReadyPromise.then(function(){return b.dbOpenError?Vt(b.dbOpenError):y});b.isBeingOpened=!0,b.dbOpenError=null,b.openComplete=!1;var P=b.openCanceller,O=Math.round(10*y.verno),L=!1;function $(){if(b.openCanceller!==P)throw new Ne.DatabaseClosed("db.open() was cancelled")}function K(){return new We(function(he,re){if($(),!C)throw new Ne.MissingAPI;var ce=y.name,fe=b.autoSchema||!O?C.open(ce):C.open(ce,O);if(!fe)throw new Ne.MissingAPI;fe.onerror=br(re),fe.onblocked=Te(y._fireOnBlocked),fe.onupgradeneeded=Te(function(oe){var ve;de=fe.transaction,b.autoSchema&&!y._options.allowEmptyDB?(fe.onerror=is,de.abort(),fe.result.close(),(ve=C.deleteDatabase(ce)).onsuccess=ve.onerror=Te(function(){re(new Ne.NoSuchDatabase("Database ".concat(ce," doesnt exist")))})):(de.onerror=br(re),oe=oe.oldVersion>Math.pow(2,62)?0:oe.oldVersion,Y=oe<1,y.idbdb=fe.result,L&&_c(y,de),js(y,oe/10,de,re))},re),fe.onsuccess=Te(function(){de=null;var oe,ve,we,Se,ke,Ie=y.idbdb=fe.result,He=R(Ie.objectStoreNames);if(0<He.length)try{var De=Ie.transaction((Se=He).length===1?Se[0]:Se,"readonly");if(b.autoSchema)ve=Ie,we=De,(oe=y).verno=ve.version/10,we=oe._dbSchema=Pa(0,ve,we),oe._storeNames=R(ve.objectStoreNames,0),Vs(oe,[oe._allTables],o(we),we);else if(or(y,y._dbSchema,De),((ke=Mo(Pa(0,(ke=y).idbdb,De),ke._dbSchema)).add.length||ke.change.some(function(ze){return ze.add.length||ze.change.length}))&&!L)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ie.close(),O=Ie.version+1,L=!0,he(K());Ro(y,De)}catch{}Dr.push(y),Ie.onversionchange=Te(function(ze){b.vcFired=!0,y.on("versionchange").fire(ze)}),Ie.onclose=Te(function(ze){y.on("close").fire(ze)}),Y&&(ke=y._deps,De=ce,Ie=ke.indexedDB,ke=ke.IDBKeyRange,Na(Ie)||De===Ri||Cc(Ie,ke).put({name:De}).catch(Nt)),he()},re)}).catch(function(he){switch(he?.name){case"UnknownError":if(0<b.PR1398_maxLoop)return b.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),K();break;case"VersionError":if(0<O)return O=0,K()}return We.reject(he)})}var ee,ie=b.dbReadyResolve,de=null,Y=!1;return We.race([P,(typeof navigator>"u"?We.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(he){function re(){return indexedDB.databases().finally(he)}ee=setInterval(re,100),re()}).finally(function(){return clearInterval(ee)}):Promise.resolve()).then(K)]).then(function(){return $(),b.onReadyBeingFired=[],We.resolve(Oa(function(){return y.on.ready.fire(y.vip)})).then(function he(){if(0<b.onReadyBeingFired.length){var re=b.onReadyBeingFired.reduce(Qr,Nt);return b.onReadyBeingFired=[],We.resolve(Oa(function(){return re(y.vip)})).then(he)}})}).finally(function(){b.openCanceller===P&&(b.onReadyBeingFired=null,b.isBeingOpened=!1)}).catch(function(he){b.dbOpenError=he;try{de&&de.abort()}catch{}return P===b.openCanceller&&y._close(),Vt(he)}).finally(function(){b.openComplete=!0,ie()}).then(function(){var he;return Y&&(he={},y.tables.forEach(function(re){re.schema.indexes.forEach(function(ce){ce.name&&(he["idb://".concat(y.name,"/").concat(re.name,"/").concat(ce.name)]=new Bn(-1/0,[[[]]]))}),he["idb://".concat(y.name,"/").concat(re.name,"/")]=he["idb://".concat(y.name,"/").concat(re.name,"/:dels")]=new Bn(-1/0,[[[]]])}),ss(qr).fire(he),Ec(he,!0)),y})}function Ma(y){function b(L){return y.next(L)}var C=O(b),P=O(function(L){return y.throw(L)});function O(L){return function(ee){var K=L(ee),ee=K.value;return K.done?ee:ee&&typeof ee.then=="function"?ee.then(C,P):a(ee)?Promise.all(ee).then(C,P):C(ee)}}return O(b)()}function Gl(y,b,C){for(var P=a(y)?y.slice():[y],O=0;O<C;++O)P.push(b);return P}var rg={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(y){return r(r({},y),{table:function(b){var C=y.table(b),P=C.schema,O={},L=[];function $(Y,he,re){var ce=ks(Y),fe=O[ce]=O[ce]||[],oe=Y==null?0:typeof Y=="string"?1:Y.length,ve=0<he,ve=r(r({},re),{name:ve?"".concat(ce,"(virtual-from:").concat(re.name,")"):re.name,lowLevelIndex:re,isVirtual:ve,keyTail:he,keyLength:oe,extractKey:Hs(Y),unique:!ve&&re.unique});return fe.push(ve),ve.isPrimaryKey||L.push(ve),1<oe&&$(oe===2?Y[0]:Y.slice(0,oe-1),he+1,re),fe.sort(function(we,Se){return we.keyTail-Se.keyTail}),ve}b=$(P.primaryKey.keyPath,0,P.primaryKey),O[":id"]=[b];for(var K=0,ee=P.indexes;K<ee.length;K++){var ie=ee[K];$(ie.keyPath,0,ie)}function de(Y){var he,re=Y.query.index;return re.isVirtual?r(r({},Y),{query:{index:re.lowLevelIndex,range:(he=Y.query.range,re=re.keyTail,{type:he.type===1?2:he.type,lower:Gl(he.lower,he.lowerOpen?y.MAX_KEY:y.MIN_KEY,re),lowerOpen:!0,upper:Gl(he.upper,he.upperOpen?y.MIN_KEY:y.MAX_KEY,re),upperOpen:!0})}}):Y}return r(r({},C),{schema:r(r({},P),{primaryKey:b,indexes:L,getIndexByKeyPath:function(Y){return(Y=O[ks(Y)])&&Y[0]}}),count:function(Y){return C.count(de(Y))},query:function(Y){return C.query(de(Y))},openCursor:function(Y){var he=Y.query.index,re=he.keyTail,ce=he.isVirtual,fe=he.keyLength;return ce?C.openCursor(de(Y)).then(function(ve){return ve&&oe(ve)}):C.openCursor(Y);function oe(ve){return Object.create(ve,{continue:{value:function(we){we!=null?ve.continue(Gl(we,Y.reverse?y.MAX_KEY:y.MIN_KEY,re)):Y.unique?ve.continue(ve.key.slice(0,fe).concat(Y.reverse?y.MIN_KEY:y.MAX_KEY,re)):ve.continue()}},continuePrimaryKey:{value:function(we,Se){ve.continuePrimaryKey(Gl(we,y.MAX_KEY,re),Se)}},primaryKey:{get:function(){return ve.primaryKey}},key:{get:function(){var we=ve.key;return fe===1?we[0]:we.slice(0,fe)}},value:{get:function(){return ve.value}}})}}})}})}};function Tc(y,b,C,P){return C=C||{},P=P||"",o(y).forEach(function(O){var L,$,K;p(b,O)?(L=y[O],$=b[O],typeof L=="object"&&typeof $=="object"&&L&&$?(K=Q(L))!==Q($)?C[P+O]=b[O]:K==="Object"?Tc(L,$,C,P+O+"."):L!==$&&(C[P+O]=b[O]):L!==$&&(C[P+O]=b[O])):C[P+O]=void 0}),o(b).forEach(function(O){p(y,O)||(C[P+O]=b[O])}),C}function Yl(y,b){return b.type==="delete"?b.keys:b.keys||b.values.map(y.extractKey)}var ig={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(y){return r(r({},y),{table:function(b){var C=y.table(b),P=C.schema.primaryKey;return r(r({},C),{mutate:function(O){var L=Qe.trans,$=L.table(b).hook,K=$.deleting,ee=$.creating,ie=$.updating;switch(O.type){case"add":if(ee.fire===Nt)break;return L._promise("readwrite",function(){return de(O)},!0);case"put":if(ee.fire===Nt&&ie.fire===Nt)break;return L._promise("readwrite",function(){return de(O)},!0);case"delete":if(K.fire===Nt)break;return L._promise("readwrite",function(){return de(O)},!0);case"deleteRange":if(K.fire===Nt)break;return L._promise("readwrite",function(){return function Y(he,re,ce){return C.query({trans:he,values:!1,query:{index:P,range:re},limit:ce}).then(function(fe){var oe=fe.result;return de({type:"delete",keys:oe,trans:he}).then(function(ve){return 0<ve.numFailures?Promise.reject(ve.failures[0]):oe.length<ce?{failures:[],numFailures:0,lastResult:void 0}:Y(he,r(r({},re),{lower:oe[oe.length-1],lowerOpen:!0}),ce)})})}(O.trans,O.range,1e4)},!0)}return C.mutate(O);function de(Y){var he,re,ce,fe=Qe.trans,oe=Y.keys||Yl(P,Y);if(!oe)throw new Error("Keys missing");return(Y=Y.type==="add"||Y.type==="put"?r(r({},Y),{keys:oe}):r({},Y)).type!=="delete"&&(Y.values=i([],Y.values)),Y.keys&&(Y.keys=i([],Y.keys)),he=C,ce=oe,((re=Y).type==="add"?Promise.resolve([]):he.getMany({trans:re.trans,keys:ce,cache:"immutable"})).then(function(ve){var we=oe.map(function(Se,ke){var Ie,He,De,ze=ve[ke],Ve={onerror:null,onsuccess:null};return Y.type==="delete"?K.fire.call(Ve,Se,ze,fe):Y.type==="add"||ze===void 0?(Ie=ee.fire.call(Ve,Se,Y.values[ke],fe),Se==null&&Ie!=null&&(Y.keys[ke]=Se=Ie,P.outbound||I(Y.values[ke],P.keyPath,Se))):(Ie=Tc(ze,Y.values[ke]),(He=ie.fire.call(Ve,Ie,Se,ze,fe))&&(De=Y.values[ke],Object.keys(He).forEach(function($e){p(De,$e)?De[$e]=He[$e]:I(De,$e,He[$e])}))),Ve});return C.mutate(Y).then(function(Se){for(var ke=Se.failures,Ie=Se.results,He=Se.numFailures,Se=Se.lastResult,De=0;De<oe.length;++De){var ze=(Ie||oe)[De],Ve=we[De];ze==null?Ve.onerror&&Ve.onerror(ke[De]):Ve.onsuccess&&Ve.onsuccess(Y.type==="put"&&ve[De]?Y.values[De]:ze)}return{failures:ke,results:Ie,numFailures:He,lastResult:Se}}).catch(function(Se){return we.forEach(function(ke){return ke.onerror&&ke.onerror(Se)}),Promise.reject(Se)})})}}})}})}};function Ph(y,b,C){try{if(!b||b.keys.length<y.length)return null;for(var P=[],O=0,L=0;O<b.keys.length&&L<y.length;++O)ft(b.keys[O],y[L])===0&&(P.push(C?ae(b.values[O]):b.values[O]),++L);return P.length===y.length?P:null}catch{return null}}var sg={stack:"dbcore",level:-1,create:function(y){return{table:function(b){var C=y.table(b);return r(r({},C),{getMany:function(P){if(!P.cache)return C.getMany(P);var O=Ph(P.keys,P.trans._cache,P.cache==="clone");return O?We.resolve(O):C.getMany(P).then(function(L){return P.trans._cache={keys:P.keys,values:P.cache==="clone"?ae(L):L},L})},mutate:function(P){return P.type!=="add"&&(P.trans._cache=null),C.mutate(P)}})}}}};function Nh(y,b){return y.trans.mode==="readonly"&&!!y.subscr&&!y.trans.explicit&&y.trans.db._options.cache!=="disabled"&&!b.schema.primaryKey.outbound}function Oh(y,b){switch(y){case"query":return b.values&&!b.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var og={stack:"dbcore",level:0,name:"Observability",create:function(y){var b=y.schema.name,C=new Bn(y.MIN_KEY,y.MAX_KEY);return r(r({},y),{transaction:function(P,O,L){if(Qe.subscr&&O!=="readonly")throw new Ne.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Qe.querier));return y.transaction(P,O,L)},table:function(P){var O=y.table(P),L=O.schema,$=L.primaryKey,Y=L.indexes,K=$.extractKey,ee=$.outbound,ie=$.autoIncrement&&Y.filter(function(re){return re.compound&&re.keyPath.includes($.keyPath)}),de=r(r({},O),{mutate:function(re){function ce($e){return $e="idb://".concat(b,"/").concat(P,"/").concat($e),Se[$e]||(Se[$e]=new Bn)}var fe,oe,ve,we=re.trans,Se=re.mutatedParts||(re.mutatedParts={}),ke=ce(""),Ie=ce(":dels"),He=re.type,Ve=re.type==="deleteRange"?[re.range]:re.type==="delete"?[re.keys]:re.values.length<50?[Yl($,re).filter(function($e){return $e}),re.values]:[],De=Ve[0],ze=Ve[1],Ve=re.trans._cache;return a(De)?(ke.addKeys(De),(Ve=He==="delete"||De.length===ze.length?Ph(De,Ve):null)||Ie.addKeys(De),(Ve||ze)&&(fe=ce,oe=Ve,ve=ze,L.indexes.forEach(function($e){var Ge=fe($e.name||"");function yt(Et){return Et!=null?$e.extractKey(Et):null}function wt(Et){return $e.multiEntry&&a(Et)?Et.forEach(function(wr){return Ge.addKey(wr)}):Ge.addKey(Et)}(oe||ve).forEach(function(Et,Xn){var gt=oe&&yt(oe[Xn]),Xn=ve&&yt(ve[Xn]);ft(gt,Xn)!==0&&(gt!=null&&wt(gt),Xn!=null&&wt(Xn))})}))):De?(ze={from:(ze=De.lower)!==null&&ze!==void 0?ze:y.MIN_KEY,to:(ze=De.upper)!==null&&ze!==void 0?ze:y.MAX_KEY},Ie.add(ze),ke.add(ze)):(ke.add(C),Ie.add(C),L.indexes.forEach(function($e){return ce($e.name).add(C)})),O.mutate(re).then(function($e){return!De||re.type!=="add"&&re.type!=="put"||(ke.addKeys($e.results),ie&&ie.forEach(function(Ge){for(var yt=re.values.map(function(gt){return Ge.extractKey(gt)}),wt=Ge.keyPath.findIndex(function(gt){return gt===$.keyPath}),Et=0,wr=$e.results.length;Et<wr;++Et)yt[Et][wt]=$e.results[Et];ce(Ge.name).addKeys(yt)})),we.mutatedParts=Wl(we.mutatedParts||{},Se),$e})}}),Y=function(ce){var fe=ce.query,ce=fe.index,fe=fe.range;return[ce,new Bn((ce=fe.lower)!==null&&ce!==void 0?ce:y.MIN_KEY,(fe=fe.upper)!==null&&fe!==void 0?fe:y.MAX_KEY)]},he={get:function(re){return[$,new Bn(re.key)]},getMany:function(re){return[$,new Bn().addKeys(re.keys)]},count:Y,query:Y,openCursor:Y};return o(he).forEach(function(re){de[re]=function(ce){var fe=Qe.subscr,oe=!!fe,ve=Nh(Qe,O)&&Oh(re,ce)?ce.obsSet={}:fe;if(oe){var we=function(ze){return ze="idb://".concat(b,"/").concat(P,"/").concat(ze),ve[ze]||(ve[ze]=new Bn)},Se=we(""),ke=we(":dels"),fe=he[re](ce),oe=fe[0],fe=fe[1];if((re==="query"&&oe.isPrimaryKey&&!ce.values?ke:we(oe.name||"")).add(fe),!oe.isPrimaryKey){if(re!=="count"){var Ie=re==="query"&&ee&&ce.values&&O.query(r(r({},ce),{values:!1}));return O[re].apply(this,arguments).then(function(ze){if(re==="query"){if(ee&&ce.values)return Ie.then(function(yt){return yt=yt.result,Se.addKeys(yt),ze});var Ve=ce.values?ze.result.map(K):ze.result;(ce.values?Se:ke).addKeys(Ve)}else if(re==="openCursor"){var $e=ze,Ge=ce.values;return $e&&Object.create($e,{key:{get:function(){return ke.addKey($e.primaryKey),$e.key}},primaryKey:{get:function(){var yt=$e.primaryKey;return ke.addKey(yt),yt}},value:{get:function(){return Ge&&Se.addKey($e.primaryKey),$e.value}}})}return ze})}ke.add(C)}}return O[re].apply(this,arguments)}}),de}})}};function Rh(y,b,C){if(C.numFailures===0)return b;if(b.type==="deleteRange")return null;var P=b.keys?b.keys.length:"values"in b&&b.values?b.values.length:1;return C.numFailures===P?null:(b=r({},b),a(b.keys)&&(b.keys=b.keys.filter(function(O,L){return!(L in C.failures)})),"values"in b&&a(b.values)&&(b.values=b.values.filter(function(O,L){return!(L in C.failures)})),b)}function Aa(y,b){return C=y,((P=b).lower===void 0||(P.lowerOpen?0<ft(C,P.lower):0<=ft(C,P.lower)))&&(y=y,(b=b).upper===void 0||(b.upperOpen?ft(y,b.upper)<0:ft(y,b.upper)<=0));var C,P}function Lo(y,b,he,P,O,L){if(!he||he.length===0)return y;var $=b.query.index,K=$.multiEntry,ee=b.query.range,ie=P.schema.primaryKey.extractKey,de=$.extractKey,Y=($.lowLevelIndex||$).extractKey,he=he.reduce(function(re,ce){var fe=re,oe=[];if(ce.type==="add"||ce.type==="put")for(var ve=new Bn,we=ce.values.length-1;0<=we;--we){var Se,ke=ce.values[we],Ie=ie(ke);ve.hasKey(Ie)||(Se=de(ke),(K&&a(Se)?Se.some(function($e){return Aa($e,ee)}):Aa(Se,ee))&&(ve.addKey(Ie),oe.push(ke)))}switch(ce.type){case"add":var He=new Bn().addKeys(b.values?re.map(function(Ge){return ie(Ge)}):re),fe=re.concat(b.values?oe.filter(function(Ge){return Ge=ie(Ge),!He.hasKey(Ge)&&(He.addKey(Ge),!0)}):oe.map(function(Ge){return ie(Ge)}).filter(function(Ge){return!He.hasKey(Ge)&&(He.addKey(Ge),!0)}));break;case"put":var De=new Bn().addKeys(ce.values.map(function(Ge){return ie(Ge)}));fe=re.filter(function(Ge){return!De.hasKey(b.values?ie(Ge):Ge)}).concat(b.values?oe:oe.map(function(Ge){return ie(Ge)}));break;case"delete":var ze=new Bn().addKeys(ce.keys);fe=re.filter(function(Ge){return!ze.hasKey(b.values?ie(Ge):Ge)});break;case"deleteRange":var Ve=ce.range;fe=re.filter(function(Ge){return!Aa(ie(Ge),Ve)})}return fe},y);return he===y?y:(he.sort(function(re,ce){return ft(Y(re),Y(ce))||ft(ie(re),ie(ce))}),b.limit&&b.limit<1/0&&(he.length>b.limit?he.length=b.limit:y.length===b.limit&&he.length<b.limit&&(O.dirty=!0)),L?Object.freeze(he):he)}function Mh(y,b){return ft(y.lower,b.lower)===0&&ft(y.upper,b.upper)===0&&!!y.lowerOpen==!!b.lowerOpen&&!!y.upperOpen==!!b.upperOpen}function Ah(y,b){return function(C,P,O,L){if(C===void 0)return P!==void 0?-1:0;if(P===void 0)return 1;if((P=ft(C,P))===0){if(O&&L)return 0;if(O)return 1;if(L)return-1}return P}(y.lower,b.lower,y.lowerOpen,b.lowerOpen)<=0&&0<=function(C,P,O,L){if(C===void 0)return P!==void 0?1:0;if(P===void 0)return-1;if((P=ft(C,P))===0){if(O&&L)return 0;if(O)return-1;if(L)return 1}return P}(y.upper,b.upper,y.upperOpen,b.upperOpen)}function Lh(y,b,C,P){y.subscribers.add(C),P.addEventListener("abort",function(){var O,L;y.subscribers.delete(C),y.subscribers.size===0&&(O=y,L=b,setTimeout(function(){O.subscribers.size===0&&ne(L,O)},3e3))})}var Ih={stack:"dbcore",level:0,name:"Cache",create:function(y){var b=y.schema.name;return r(r({},y),{transaction:function(C,P,O){var L,$,K=y.transaction(C,P,O);return P==="readwrite"&&($=(L=new AbortController).signal,O=function(ee){return function(){if(L.abort(),P==="readwrite"){for(var ie=new Set,de=0,Y=C;de<Y.length;de++){var he=Y[de],re=Ks["idb://".concat(b,"/").concat(he)];if(re){var ce=y.table(he),fe=re.optimisticOps.filter(function(Ge){return Ge.trans===K});if(K._explicit&&ee&&K.mutatedParts)for(var oe=0,ve=Object.values(re.queries.query);oe<ve.length;oe++)for(var we=0,Se=(He=ve[oe]).slice();we<Se.length;we++)kc((De=Se[we]).obsSet,K.mutatedParts)&&(ne(He,De),De.subscribers.forEach(function(Ge){return ie.add(Ge)}));else if(0<fe.length){re.optimisticOps=re.optimisticOps.filter(function(Ge){return Ge.trans!==K});for(var ke=0,Ie=Object.values(re.queries.query);ke<Ie.length;ke++)for(var He,De,ze,Ve=0,$e=(He=Ie[ke]).slice();Ve<$e.length;Ve++)(De=$e[Ve]).res!=null&&K.mutatedParts&&(ee&&!De.dirty?(ze=Object.isFrozen(De.res),ze=Lo(De.res,De.req,fe,ce,De,ze),De.dirty?(ne(He,De),De.subscribers.forEach(function(Ge){return ie.add(Ge)})):ze!==De.res&&(De.res=ze,De.promise=We.resolve({result:ze}))):(De.dirty&&ne(He,De),De.subscribers.forEach(function(Ge){return ie.add(Ge)})))}}}ie.forEach(function(Ge){return Ge()})}}},K.addEventListener("abort",O(!1),{signal:$}),K.addEventListener("error",O(!1),{signal:$}),K.addEventListener("complete",O(!0),{signal:$})),K},table:function(C){var P=y.table(C),O=P.schema.primaryKey;return r(r({},P),{mutate:function(L){var $=Qe.trans;if(O.outbound||$.db._options.cache==="disabled"||$.explicit||$.idbtrans.mode!=="readwrite")return P.mutate(L);var K=Ks["idb://".concat(b,"/").concat(C)];return K?($=P.mutate(L),L.type!=="add"&&L.type!=="put"||!(50<=L.values.length||Yl(O,L).some(function(ee){return ee==null}))?(K.optimisticOps.push(L),L.mutatedParts&&Kl(L.mutatedParts),$.then(function(ee){0<ee.numFailures&&(ne(K.optimisticOps,L),(ee=Rh(0,L,ee))&&K.optimisticOps.push(ee),L.mutatedParts&&Kl(L.mutatedParts))}),$.catch(function(){ne(K.optimisticOps,L),L.mutatedParts&&Kl(L.mutatedParts)})):$.then(function(ee){var ie=Rh(0,r(r({},L),{values:L.values.map(function(de,Y){var he;return ee.failures[Y]?de:(de=(he=O.keyPath)!==null&&he!==void 0&&he.includes(".")?ae(de):r({},de),I(de,O.keyPath,ee.results[Y]),de)})}),ee);K.optimisticOps.push(ie),queueMicrotask(function(){return L.mutatedParts&&Kl(L.mutatedParts)})}),$):P.mutate(L)},query:function(L){if(!Nh(Qe,P)||!Oh("query",L))return P.query(L);var $=((ie=Qe.trans)===null||ie===void 0?void 0:ie.db._options.cache)==="immutable",Y=Qe,K=Y.requery,ee=Y.signal,ie=function(ce,fe,oe,ve){var we=Ks["idb://".concat(ce,"/").concat(fe)];if(!we)return[];if(!(fe=we.queries[oe]))return[null,!1,we,null];var Se=fe[(ve.query?ve.query.index.name:null)||""];if(!Se)return[null,!1,we,null];switch(oe){case"query":var ke=Se.find(function(Ie){return Ie.req.limit===ve.limit&&Ie.req.values===ve.values&&Mh(Ie.req.query.range,ve.query.range)});return ke?[ke,!0,we,Se]:[Se.find(function(Ie){return("limit"in Ie.req?Ie.req.limit:1/0)>=ve.limit&&(!ve.values||Ie.req.values)&&Ah(Ie.req.query.range,ve.query.range)}),!1,we,Se];case"count":return ke=Se.find(function(Ie){return Mh(Ie.req.query.range,ve.query.range)}),[ke,!!ke,we,Se]}}(b,C,"query",L),de=ie[0],Y=ie[1],he=ie[2],re=ie[3];return de&&Y?de.obsSet=L.obsSet:(Y=P.query(L).then(function(ce){var fe=ce.result;if(de&&(de.res=fe),$){for(var oe=0,ve=fe.length;oe<ve;++oe)Object.freeze(fe[oe]);Object.freeze(fe)}else ce.result=ae(fe);return ce}).catch(function(ce){return re&&de&&ne(re,de),Promise.reject(ce)}),de={obsSet:L.obsSet,promise:Y,subscribers:new Set,type:"query",req:L,dirty:!1},re?re.push(de):(re=[de],(he=he||(Ks["idb://".concat(b,"/").concat(C)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[L.query.index.name||""]=re)),Lh(de,re,K,ee),de.promise.then(function(ce){return{result:Lo(ce.result,L,he?.optimisticOps,P,de,$)}})}})}})}};function La(y,b){return new Proxy(y,{get:function(C,P,O){return P==="db"?b:Reflect.get(C,P,O)}})}var Ai=(sn.prototype.version=function(y){if(isNaN(y)||y<.1)throw new Ne.Type("Given version is not a positive number");if(y=Math.round(10*y)/10,this.idbdb||this._state.isBeingOpened)throw new Ne.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,y);var b=this._versions,C=b.filter(function(P){return P._cfg.version===y})[0];return C||(C=new this.Version(y),b.push(C),b.sort(kh),C.stores({}),this._state.autoSchema=!1,C)},sn.prototype._whenReady=function(y){var b=this;return this.idbdb&&(this._state.openComplete||Qe.letThrough||this._vip)?y():new We(function(C,P){if(b._state.openComplete)return P(new Ne.DatabaseClosed(b._state.dbOpenError));if(!b._state.isBeingOpened){if(!b._state.autoOpen)return void P(new Ne.DatabaseClosed);b.open().catch(Nt)}b._state.dbReadyPromise.then(C,P)}).then(y)},sn.prototype.use=function(y){var b=y.stack,C=y.create,P=y.level,O=y.name;return O&&this.unuse({stack:b,name:O}),y=this._middlewares[b]||(this._middlewares[b]=[]),y.push({stack:b,create:C,level:P??10,name:O}),y.sort(function(L,$){return L.level-$.level}),this},sn.prototype.unuse=function(y){var b=y.stack,C=y.name,P=y.create;return b&&this._middlewares[b]&&(this._middlewares[b]=this._middlewares[b].filter(function(O){return P?O.create!==P:!!C&&O.name!==C})),this},sn.prototype.open=function(){var y=this;return sr(ir,function(){return ng(y)})},sn.prototype._close=function(){var y=this._state,b=Dr.indexOf(this);if(0<=b&&Dr.splice(b,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}y.isBeingOpened||(y.dbReadyPromise=new We(function(C){y.dbReadyResolve=C}),y.openCanceller=new We(function(C,P){y.cancelOpen=P}))},sn.prototype.close=function(C){var b=(C===void 0?{disableAutoOpen:!0}:C).disableAutoOpen,C=this._state;b?(C.isBeingOpened&&C.cancelOpen(new Ne.DatabaseClosed),this._close(),C.autoOpen=!1,C.dbOpenError=new Ne.DatabaseClosed):(this._close(),C.autoOpen=this._options.autoOpen||C.isBeingOpened,C.openComplete=!1,C.dbOpenError=null)},sn.prototype.delete=function(y){var b=this;y===void 0&&(y={disableAutoOpen:!0});var C=0<arguments.length&&typeof arguments[0]!="object",P=this._state;return new We(function(O,L){function $(){b.close(y);var K=b._deps.indexedDB.deleteDatabase(b.name);K.onsuccess=Te(function(){var ee,ie,de;ee=b._deps,ie=b.name,de=ee.indexedDB,ee=ee.IDBKeyRange,Na(de)||ie===Ri||Cc(de,ee).delete(ie).catch(Nt),O()}),K.onerror=br(L),K.onblocked=b._fireOnBlocked}if(C)throw new Ne.InvalidArgument("Invalid closeOptions argument to db.delete()");P.isBeingOpened?P.dbReadyPromise.then($):$()})},sn.prototype.backendDB=function(){return this.idbdb},sn.prototype.isOpen=function(){return this.idbdb!==null},sn.prototype.hasBeenClosed=function(){var y=this._state.dbOpenError;return y&&y.name==="DatabaseClosed"},sn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},sn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(sn.prototype,"tables",{get:function(){var y=this;return o(this._allTables).map(function(b){return y._allTables[b]})},enumerable:!1,configurable:!0}),sn.prototype.transaction=function(){var y=(function(b,C,P){var O=arguments.length;if(O<2)throw new Ne.InvalidArgument("Too few arguments");for(var L=new Array(O-1);--O;)L[O-1]=arguments[O];return P=L.pop(),[b,F(L),P]}).apply(this,arguments);return this._transaction.apply(this,y)},sn.prototype._transaction=function(y,b,C){var P=this,O=Qe.trans;O&&O.db===this&&y.indexOf("!")===-1||(O=null);var L,$,K=y.indexOf("?")!==-1;y=y.replace("!","").replace("?","");try{if($=b.map(function(ie){if(ie=ie instanceof P.Table?ie.name:ie,typeof ie!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return ie}),y=="r"||y===Dt)L=Dt;else{if(y!="rw"&&y!=On)throw new Ne.InvalidArgument("Invalid transaction mode: "+y);L=On}if(O){if(O.mode===Dt&&L===On){if(!K)throw new Ne.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");O=null}O&&$.forEach(function(ie){if(O&&O.storeNames.indexOf(ie)===-1){if(!K)throw new Ne.SubTransaction("Table "+ie+" not included in parent transaction.");O=null}}),K&&O&&!O.active&&(O=null)}}catch(ie){return O?O._promise(null,function(de,Y){Y(ie)}):Vt(ie)}var ee=(function ie(de,Y,he,re,ce){return We.resolve().then(function(){var fe=Qe.transless||Qe,oe=de._createTransaction(Y,he,de._dbSchema,re);if(oe.explicit=!0,fe={trans:oe,transless:fe},re)oe.idbtrans=re.idbtrans;else try{oe.create(),oe.idbtrans._explicit=!0,de._state.PR1398_maxLoop=3}catch(Se){return Se.name===Ye.InvalidState&&de.isOpen()&&0<--de._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),de.close({disableAutoOpen:!1}),de.open().then(function(){return ie(de,Y,he,null,ce)})):Vt(Se)}var ve,we=G(ce);return we&&St(),fe=We.follow(function(){var Se;(ve=ce.call(oe,oe))&&(we?(Se=Rt.bind(null,null),ve.then(Se,Se)):typeof ve.next=="function"&&typeof ve.throw=="function"&&(ve=Ma(ve)))},fe),(ve&&typeof ve.then=="function"?We.resolve(ve).then(function(Se){return oe.active?Se:Vt(new Ne.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):fe.then(function(){return ve})).then(function(Se){return re&&oe._resolve(),oe._completion.then(function(){return Se})}).catch(function(Se){return oe._reject(Se),Vt(Se)})})}).bind(null,this,L,$,O,C);return O?O._promise(L,ee,"lock"):Qe.trans?sr(Qe.transless,function(){return P._whenReady(ee)}):this._whenReady(ee)},sn.prototype.table=function(y){if(!p(this._allTables,y))throw new Ne.InvalidTable("Table ".concat(y," does not exist"));return this._allTables[y]},sn);function sn(y,b){var C=this;this._middlewares={},this.verno=0;var P=sn.dependencies;this._options=b=r({addons:sn.addons,autoOpen:!0,indexedDB:P.indexedDB,IDBKeyRange:P.IDBKeyRange,cache:"cloned"},b),this._deps={indexedDB:b.indexedDB,IDBKeyRange:b.IDBKeyRange},P=b.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var O,L,$,K,ee,ie={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Nt,dbReadyPromise:null,cancelOpen:Nt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:b.autoOpen};ie.dbReadyPromise=new We(function(Y){ie.dbReadyResolve=Y}),ie.openCanceller=new We(function(Y,he){ie.cancelOpen=he}),this._state=ie,this.name=y,this.on=Cs(this,"populate","blocked","versionchange","close",{ready:[Qr,Nt]}),this.on.ready.subscribe=A(this.on.ready.subscribe,function(Y){return function(he,re){sn.vip(function(){var ce,fe=C._state;fe.openComplete?(fe.dbOpenError||We.resolve().then(he),re&&Y(he)):fe.onReadyBeingFired?(fe.onReadyBeingFired.push(he),re&&Y(he)):(Y(he),ce=C,re||Y(function oe(){ce.on.ready.unsubscribe(he),ce.on.ready.unsubscribe(oe)}))})}}),this.Collection=(O=this,es(en.prototype,function(ve,oe){this.db=O;var re=mi,ce=null;if(oe)try{re=oe()}catch(we){ce=we}var fe=ve._ctx,oe=fe.table,ve=oe.hook.reading.fire;this._ctx={table:oe,index:fe.index,isPrimKey:!fe.index||oe.schema.primKey.keyPath&&fe.index===oe.schema.primKey.name,range:re,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:ce,or:fe.or,valueMapper:ve!==vn?ve:null}})),this.Table=(L=this,es(Sh.prototype,function(Y,he,re){this.db=L,this._tx=re,this.name=Y,this.schema=he,this.hook=L._allTables[Y]?L._allTables[Y].hook:Cs(null,{creating:[Bs,Nt],reading:[pn,vn],updating:[ko,Nt],deleting:[Yi,Nt]})})),this.Transaction=($=this,es(Ca.prototype,function(Y,he,re,ce,fe){var oe=this;this.db=$,this.mode=Y,this.storeNames=he,this.schema=re,this.chromeTransactionDurability=ce,this.idbtrans=null,this.on=Cs(this,"complete","error","abort"),this.parent=fe||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new We(function(ve,we){oe._resolve=ve,oe._reject=we}),this._completion.then(function(){oe.active=!1,oe.on.complete.fire()},function(ve){var we=oe.active;return oe.active=!1,oe.on.error.fire(ve),oe.parent?oe.parent._reject(ve):we&&oe.idbtrans&&oe.idbtrans.abort(),Vt(ve)})})),this.Version=(K=this,es(Sc.prototype,function(Y){this.db=K,this._cfg={version:Y,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(ee=this,es(rs.prototype,function(Y,he,re){if(this.db=ee,this._ctx={table:Y,index:he===":id"?null:he,or:re},this._cmp=this._ascending=ft,this._descending=function(ce,fe){return ft(fe,ce)},this._max=function(ce,fe){return 0<ft(ce,fe)?ce:fe},this._min=function(ce,fe){return ft(ce,fe)<0?ce:fe},this._IDBKeyRange=ee._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ne.MissingAPI})),this.on("versionchange",function(Y){0<Y.newVersion?console.warn("Another connection wants to upgrade database '".concat(C.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(C.name,"'. Closing db now to resume the delete request.")),C.close({disableAutoOpen:!1})}),this.on("blocked",function(Y){!Y.newVersion||Y.newVersion<Y.oldVersion?console.warn("Dexie.delete('".concat(C.name,"') was blocked")):console.warn("Upgrade '".concat(C.name,"' blocked by other connection holding version ").concat(Y.oldVersion/10))}),this._maxKey=ja(b.IDBKeyRange),this._createTransaction=function(Y,he,re,ce){return new C.Transaction(Y,he,re,C._options.chromeTransactionDurability,ce)},this._fireOnBlocked=function(Y){C.on("blocked").fire(Y),Dr.filter(function(he){return he.name===C.name&&he!==C&&!he._state.vcFired}).map(function(he){return he.on("versionchange").fire(Y)})},this.use(sg),this.use(Ih),this.use(og),this.use(rg),this.use(ig);var de=new Proxy(this,{get:function(Y,he,re){if(he==="_vip")return!0;if(he==="table")return function(fe){return La(C.table(fe),de)};var ce=Reflect.get(Y,he,re);return ce instanceof Sh?La(ce,de):he==="tables"?ce.map(function(fe){return La(fe,de)}):he==="_createTransaction"?function(){return La(ce.apply(this,arguments),de)}:ce}});this.vip=de,P.forEach(function(Y){return Y(C)})}var Xl,Kr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",ag=(Jl.prototype.subscribe=function(y,b,C){return this._subscribe(y&&typeof y!="function"?y:{next:y,error:b,complete:C})},Jl.prototype[Kr]=function(){return this},Jl);function Jl(y){this._subscribe=y}try{Xl={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{Xl={indexedDB:null,IDBKeyRange:null}}function Pc(y){var b,C=!1,P=new ag(function(O){var L=G(y),$,K=!1,ee={},ie={},de={get closed(){return K},unsubscribe:function(){K||(K=!0,$&&$.abort(),Y&&ss.storagemutated.unsubscribe(re))}};O.start&&O.start(de);var Y=!1,he=function(){return Ir(ce)},re=function(fe){Wl(ee,fe),kc(ie,ee)&&he()},ce=function(){var fe,oe,ve;!K&&Xl.indexedDB&&(ee={},fe={},$&&$.abort(),$=new AbortController,ve=function(we){var Se=X();try{L&&St();var ke=et(y,we);return ke=L?ke.finally(Rt):ke}finally{Se&&pe()}}(oe={subscr:fe,signal:$.signal,requery:he,querier:y,trans:null}),Promise.resolve(ve).then(function(we){C=!0,b=we,K||oe.signal.aborted||(ee={},function(Se){for(var ke in Se)if(p(Se,ke))return;return 1}(ie=fe)||Y||(ss(qr,re),Y=!0),Ir(function(){return!K&&O.next&&O.next(we)}))},function(we){C=!1,["DatabaseClosedError","AbortError"].includes(we?.name)||K||Ir(function(){K||O.error&&O.error(we)})}))};return setTimeout(he,0),de});return P.hasValue=function(){return C},P.getValue=function(){return b},P}var yi=Ai;function Gs(y){var b=vi;try{vi=!0,ss.storagemutated.fire(y),Ec(y,!0)}finally{vi=b}}g(yi,r(r({},fn),{delete:function(y){return new yi(y,{addons:[]}).delete()},exists:function(y){return new yi(y,{addons:[]}).open().then(function(b){return b.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(y){try{return b=yi.dependencies,C=b.indexedDB,b=b.IDBKeyRange,(Na(C)?Promise.resolve(C.databases()).then(function(P){return P.map(function(O){return O.name}).filter(function(O){return O!==Ri})}):Cc(C,b).toCollection().primaryKeys()).then(y)}catch{return Vt(new Ne.MissingAPI)}var b,C},defineClass:function(){return function(y){u(this,y)}},ignoreTransaction:function(y){return Qe.trans?sr(Qe.transless,y):y()},vip:Oa,async:function(y){return function(){try{var b=Ma(y.apply(this,arguments));return b&&typeof b.then=="function"?b:We.resolve(b)}catch(C){return Vt(C)}}},spawn:function(y,b,C){try{var P=Ma(y.apply(C,b||[]));return P&&typeof P.then=="function"?P:We.resolve(P)}catch(O){return Vt(O)}},currentTransaction:{get:function(){return Qe.trans||null}},waitFor:function(y,b){return b=We.resolve(typeof y=="function"?yi.ignoreTransaction(y):y).timeout(b||6e4),Qe.trans?Qe.trans.waitFor(b):b},Promise:We,debug:{get:function(){return Dn},set:function(y){yr(y)}},derive:S,extend:u,props:g,override:A,Events:Cs,on:ss,liveQuery:Pc,extendObservabilitySet:Wl,getByKeyPath:N,setByKeyPath:I,delByKeyPath:function(y,b){typeof b=="string"?I(y,b,void 0):"length"in b&&[].map.call(b,function(C){I(y,C,void 0)})},shallowClone:H,deepClone:ae,getObjectDiff:Tc,cmp:ft,asap:U,minKey:-1/0,addons:[],connections:Dr,errnames:Ye,dependencies:Xl,cache:Ks,semVer:"4.0.11",version:"4.0.11".split(".").map(function(y){return parseInt(y)}).reduce(function(y,b,C){return y+b/Math.pow(10,2*C)})})),yi.maxKey=ja(yi.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(ss(qr,function(y){vi||(y=new CustomEvent(wc,{detail:y}),vi=!0,dispatchEvent(y),vi=!1)}),addEventListener(wc,function(y){y=y.detail,vi||Gs(y)}));var Io,vi=!1,Dh=function(){};return typeof BroadcastChannel<"u"&&((Dh=function(){(Io=new BroadcastChannel(wc)).onmessage=function(y){return y.data&&Gs(y.data)}})(),typeof Io.unref=="function"&&Io.unref(),ss(qr,function(y){vi||Io.postMessage(y)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(y){if(!Ai.disableBfCache&&y.persisted){Dn&&console.debug("Dexie: handling persisted pagehide"),Io?.close();for(var b=0,C=Dr;b<C.length;b++)C[b].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(y){!Ai.disableBfCache&&y.persisted&&(Dn&&console.debug("Dexie: handling persisted pageshow"),Dh(),Gs({all:new Bn(-1/0,[[]])}))})),We.rejectionMapper=function(y,b){return!y||y instanceof B||y instanceof TypeError||y instanceof SyntaxError||!y.name||!ht[y.name]?y:(b=new ht[y.name](b||y.message,y),"stack"in y&&w(b,"stack",{get:function(){return this.inner.stack}}),b)},yr(Dn),r(Ai,Object.freeze({__proto__:null,Dexie:Ai,liveQuery:Pc,Entity:$s,cmp:ft,PropModification:Sa,replacePrefix:function(y,b){return new Sa({replacePrefix:[y,b]})},add:function(y){return new Sa({add:y})},remove:function(y){return new Sa({remove:y})},default:Ai,RangeSet:Bn,mergeRanges:Ra,rangesOverlap:jh}),{default:Ai}),Ai})}(jp)),jp.exports}var hD=dD();const _y=Ei(hD),T5=Symbol.for("Dexie"),Jp=globalThis[T5]||(globalThis[T5]=_y);if(_y.semVer!==Jp.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${_y.semVer} and ${Jp.semVer}`);const{liveQuery:fD,mergeRanges:jX,rangesOverlap:EX,RangeSet:TX,cmp:PX,Entity:NX,PropModification:OX,replacePrefix:RX,add:MX,remove:AX}=Jp;class pD extends Jp{interested_snapshot;interested_subject;simulation_run;simulation_run_selections;simulation_run_events;constructor(){super("ALLCLL_Simulation"),this.version(1).stores({interested_snapshot:"++snapshot_id,user_id,created_at,simulated",interested_subject:"++interested_id,snapshot_id,subject_id",simulation_run:"++simulation_run_id,snapshot_id,user_id,department_name,success_subject_count,subject_count,accuracy,score,total_elapsed,started_at,ended_at",simulation_run_selections:"++run_selections_id,simulation_run_id,interested_id,selected_index,status,started_at,ended_at",simulation_run_events:"++event_id,simulation_section_id,event_type,timestamp"})}}const xt=new pD;async function lC(){const e=await xt.interested_snapshot.orderBy("created_at").last();if(!e)return null;const t=await xt.interested_subject.where("snapshot_id").equals(e.snapshot_id).toArray();return{...e,subjects:t}}async function uC(e){const t=await xt.interested_snapshot.get(e);if(!t)return null;const n=await xt.interested_subject.where("snapshot_id").equals(e).toArray();return{...t,subjects:n}}async function mD(e){const t=await xt.interested_snapshot.orderBy("created_at").last(),n=t&&!t.simulated?t.snapshot_id:await xt.interested_snapshot.add({user_id:"Todo: user_id",created_at:Date.now(),simulated:!1});t&&!t.simulated&&(await xt.interested_snapshot.update(t.snapshot_id,{created_at:Date.now()}),await xt.interested_subject.where("snapshot_id").equals(t.snapshot_id).delete()),await xt.interested_subject.bulkAdd(e.map(r=>({snapshot_id:n,subject_id:r})))}async function P5(e,t){const n=await xt.interested_subject.where("snapshot_id").equals(e).filter(r=>r.subject_id===t).first();return n?n.interested_id:-1}async function gD(){const e=await Gd();if("errMsg"in e)throw new Error(e.errMsg);return e}const yD=["","","1","","","","","","","","","","","","","","","English Listening","English Reading"],vD=(e,t,n)=>{const r=e.find(s=>s.subjectId===t);let i=40;return r?.departmentName===""&&(yD.includes(r.subjectName)?i=4.6*3:i=4.6*4),console.log(n,i),n<i},Am=Mr(e=>({currentSubjectId:0,isCaptchaFailed:!1,subjectStatusMap:{},setCurrentSubjectId:t=>e({currentSubjectId:t}),setSubjectStatus:(t,n)=>e(r=>({subjectStatusMap:{...r.subjectStatusMap,[t]:n}})),setCaptchaFailed:t=>e({isCaptchaFailed:t})}));var Gn=(e=>(e[e.SEARCH=0]="SEARCH",e[e.APPLY=1]="APPLY",e[e.CAPTCHA=2]="CAPTCHA",e[e.CANCEL_SUBMIT=3]="CANCEL_SUBMIT",e[e.SUBJECT_SUBMIT=4]="SUBJECT_SUBMIT",e[e.REFRESH=5]="REFRESH",e[e.SKIP_REFRESH=6]="SKIP_REFRESH",e))(Gn||{}),Gt=(e=>(e[e.PROGRESS=0]="PROGRESS",e[e.SUCCESS=1]="SUCCESS",e[e.FAILED=2]="FAILED",e[e.DOUBLED=3]="DOUBLED",e[e.CAPTCHA_FAILED=4]="CAPTCHA_FAILED",e[e.NOT_ELIGIBLE=5]="NOT_ELIGIBLE",e[e.CANCELED=6]="CANCELED",e))(Gt||{}),cC=(e=>(e.SNAPSHOT_NOT_EXIST="SNAPSHOT_NOT_EXIST",e.ONGOING_SIMULATION_NOT_FOUND="ONGOING_SIMULATION_NOT_FOUND",e.SELECTION_NOT_FOUND="SELECTION_NOT_FOUND",e.SIMULATION_NOT_FOUND="SIMULATION_NOT_FOUND",e.MULTIPLE_SIMULATION_FOUND="MULTIPLE_SIMULATION_FOUND",e.SIMULATION_IS_NOT_FINISHED="SIMULATION_IS_NOT_FINISHED",e.MULTIPLE_SIMULATION_RUNNING="MULTIPLE_SIMULATION_RUNNING",e.UNKNOWN_ERROR="UNKNOWN_ERROR",e))(cC||{});const ex=300,xD=ex*1e3;function fa(e){return{errMsg:e}}function dC(e){return e instanceof Error?fa(e.message):fa("UNKNOWN_ERROR")}async function Gd(){try{const e=await Lm();if(!e)return{simulationId:-1};const t=await xt.simulation_run_selections.filter(a=>Im(a,e.simulation_run_id)).toArray(),n=await xt.interested_subject.where("snapshot_id").equals(e.snapshot_id).toArray();if(!n)return fa("SNAPSHOT_NOT_EXIST");const r=t.filter(a=>a.status===1),i=n.filter(a=>r.some(u=>u.interested_id===a.interested_id)).map(a=>({subjectId:a.subject_id})),s=n.filter(a=>!r.some(u=>u.interested_id===a.interested_id)).map(a=>({subjectId:a.subject_id})),o=t.map(a=>{const u=n.find(c=>c.interested_id===a.interested_id);return u?{subjectId:u.subject_id,status:a.status}:{subjectId:-1,status:2}});return{simulationId:e.simulation_run_id,userStatus:{userPK:e.user_id,departmentCode:e.department_code,departmentName:e.department_name},searchEventAt:e.search_event_at,startedAt:e.started_at,nonRegisteredSubjects:s,registeredSubjects:i,subjectStatus:o}}catch(e){return dC(e)}}async function Lm(){const e=await xt.simulation_run.filter(t=>t.ended_at===-1).toArray();if(e&&e.length>1)throw new Error("MULTIPLE_SIMULATION_RUNNING");return e[0]??null}async function bD(e){const t=await xt.simulation_run.where("simulation_run_id").equals(e).filter(n=>n.ended_at!==-1).toArray();if(!t.length)throw new Error("SIMULATION_NOT_FOUND");if(t.length>1)throw new Error("MULTIPLE_SIMULATION_FOUND");return t[0]}async function wD(e,t,n){const r=await Gd();if(r&&"errMsg"in r)return r;if(r.simulationId!==-1)return{simulationId:r.simulationId,isRunning:!0};const i=await lC();if(!i)return fa("SNAPSHOT_NOT_EXIST");await xt.interested_snapshot.update(i.snapshot_id,{simulated:!0});const s=i.subjects;return{simulationId:await xt.simulation_run.add({snapshot_id:i.snapshot_id,user_id:e,department_code:t,department_name:n,success_subject_count:0,subject_count:s.length,accuracy:-1,score:-1,total_elapsed:-1,search_event_at:-1,started_at:Date.now(),ended_at:-1}),started_at:Date.now(),isRunning:!0}}async function fo(e,t){const{eventType:n}=e;console.log("BUTTON EVENT",e);let r;try{if(r=await Lm(),!r)throw new Error("ONGOING_SIMULATION_NOT_FOUND")}catch(c){return dC(c)}const i=r.simulation_run_id;if(n===0){const c=Date.now();return await xt.simulation_run.update(i,{search_event_at:c}),{elapsed_time:c-r.started_at}}const{subjectId:s}=e;if(n===1){const c=await xt.simulation_run_selections.filter(p=>p.simulation_run_id===r.simulation_run_id&&p.ended_at>=0).count(),h=await xt.simulation_run_selections.add({simulation_run_id:r.simulation_run_id,interested_id:await P5(r.snapshot_id,s),selected_index:c+1,status:0,started_at:Date.now(),ended_at:-1});return await xt.simulation_run_events.add({simulation_section_id:h,event_type:n,timestamp:Date.now()}),{}}const o=await xt.simulation_run_selections.filter(c=>c.simulation_run_id===i).toArray(),a=o.filter(c=>c.ended_at===-1).sort((c,h)=>h.started_at-c.started_at)[0];if(!a)return fa("SELECTION_NOT_FOUND");const u=Date.now();if(await xt.simulation_run_events.add({simulation_section_id:a.run_selections_id,event_type:n,timestamp:u}),n===4){const c=await P5(r.snapshot_id,s);if(!await xt.simulation_run_selections.filter(E=>E.simulation_run_id===i&&E.interested_id===c).last())return fa("SELECTION_NOT_FOUND");const p=async E=>(await xt.simulation_run_selections.update(a.run_selections_id,{status:E}),console.log("saved section",a.run_selections_id,E),{status:E});if(Am.getState().isCaptchaFailed)return await p(4);if(o.some(E=>E.interested_id===c&&E.status===2))return await p(3),{status:2};if(o.some(E=>E.interested_id===c&&E.ended_at>=0&&Im(E,i)))return await p(3);const S=Math.floor(u-r.started_at)/1e3;return vD(t,s,S)?await p(1):await p(2)}if(n===3&&await xt.simulation_run_selections.update(a.run_selections_id,{status:6,ended_at:Date.now()}),n===5||n===6){await xt.simulation_run_selections.update(a.run_selections_id,{ended_at:Date.now()});const c=await SD();return c&&await hC(),{finished:c}}return{}}async function Gu(){await hC()}async function hC(){const e=await xt.simulation_run.filter(u=>u.ended_at<=-1).last();if(!e)return;const t=await xt.simulation_run_selections.filter(u=>u.simulation_run_id===e.simulation_run_id).toArray(),n=t.filter(u=>Im(u,e.simulation_run_id)).length,i=t.filter(u=>kD(u,e.simulation_run_id)).reduce((u,c)=>c.ended_at===-1?u+4600:u+(c.ended_at-c.started_at),0),s=Date.now()-e.started_at,o=HI(s/1e3,i/1e3),a=Rm(s/1e3/n)+UI(o);await xt.simulation_run.update(e.simulation_run_id,{ended_at:Date.now(),accuracy:o,score:Math.min(100,Math.max(0,a)),total_elapsed:s}),await CD(e)}async function _D({simulationId:e}){const t=await xt.simulation_run.get(e);return t?t.ended_at===-1?fa("SIMULATION_IS_NOT_FINISHED"):{accuracy:t.accuracy,score:t.score,total_elapsed:t.total_elapsed}:fa("SIMULATION_NOT_FOUND")}async function SD(){let e;try{e=await Lm()}catch{return!0}if(!e)return!0;const t=await xt.simulation_run_selections.filter(n=>Im(n,e.simulation_run_id)).toArray();return e.subject_count<=t.length}async function CD(e){const t=e.simulation_run_id;return e.search_event_at<0?(await xt.simulation_run_selections.where("simulation_run_id").equals(t).delete(),await xt.simulation_run.delete(t),!0):(e.started_at+xD<Date.now()&&await xt.simulation_run.update(t,{ended_at:Date.now()}),!1)}const fC=(e,t)=>e.simulation_run_id===t,Im=(e,t)=>fC(e,t)&&[1,2].includes(e.status),kD=(e,t)=>fC(e,t)&&![1,2].includes(e.status);function Dm(e){return e>5?"text-green-500 bg-green-100":e>0?"text-yellow-500 bg-yellow-100":e==0?"text-red-500 bg-red-100":"text-gray-500 bg-gray-100"}function jD(e){return e>=100?"text-red-500 bg-red-100":e>=50?"text-yellow-500 bg-yellow-100":e>=0?"text-green-500 bg-green-100":"text-gray-500 bg-gray-100"}function ED(e){return TD(Sy(e))}function Sy(e){switch(e){case Gt.SUCCESS:return"green";case Gt.FAILED:return"red";case Gt.CAPTCHA_FAILED:return"orange";case Gt.PROGRESS:return"yellow";default:return"gray"}}function TD(e){switch(e){case"green":return"bg-green-100 text-green-500";case"red":return"bg-red-100 text-red-500";case"orange":return"bg-orange-100 text-orange-500";case"yellow":return"bg-yellow-100 text-yellow-500";default:return"bg-gray-100 text-gray-500"}}function pC(e){return e==null?"default":e>5?"success":e>0?"warning":e==0?"danger":"default"}function PD(e){return e==null?"default":e>=100?"danger":e>=50?"warning":e>=0?"success":"default"}function mC({wishCount:e,formatter:t=n=>n}){const n=e!=null&&e>=0,r=PD(e),i=n?e:"-";return f.jsx(gl,{variant:r,children:t(i)})}_o.register(uh,ch,dh,dc,cc);const ND={labels:["","","",""],datasets:[{data:[40,25,20,15],backgroundColor:hh}]};function OD(){return f.jsxs(Tl,{children:[f.jsx(wm,{title:" ",href:"/wishes"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[f.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[f.jsx(Lt,{level:3,children:" "}),f.jsx("div",{className:"flex align-center justify-center max-h-96",children:f.jsx(oC,{data:ND})})]}),f.jsxs("div",{className:"bg-white p-6 shadow-md rounded-md",children:[f.jsx(Lt,{level:3,children:"  "}),[{name:"",dept:" ",status:30},{name:"",dept:"",status:14}].map((e,t)=>f.jsxs("div",{className:"mt-4 flex justify-between p-2 rounded-md border border-gray-200",children:[f.jsxs("div",{children:[f.jsx(Lt,{level:4,children:e.name}),f.jsx("p",{className:"text-sm text-gray-500",children:e.dept})]}),f.jsx("span",{children:f.jsx(mC,{wishCount:e.status,formatter:n=>`: ${n}`})})]},"recommend-course-"+t))]})]})]})}function Cy({seat:e,formatter:t=n=>n}){const n=e!=null&&e>=0,r=pC(e),i=n?e:"-";return f.jsx(gl,{variant:r,children:t(i)})}const pa=({className:e,disabled:t=!1})=>{const n=t?"text-gray-400 ":"text-blue-500 ";return f.jsx(Cv,{className:n+e})};function RD(){return f.jsxs(Tl,{children:[f.jsx(wm,{title:"   ",subtitle:"    ,  ",href:"/live"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[f.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[f.jsx(Lt,{level:3,children:"  "}),f.jsxs(Un,{children:["   ,   ",f.jsx("span",{className:"text-blue-500 font-bold",children:""})," "]}),f.jsx("div",{className:"flex flex-col gap-4 mt-4",children:[{name:"",prof:"003281 | "},{name:"",prof:"004310 | LEE KANGWON"}].map(({name:e,prof:t})=>f.jsxs("div",{className:"bg-gray-50 shadow-sm rounded-lg p-4 w-full",children:[f.jsxs(Oe,{justify:"justify-between",className:"mb-2",children:[f.jsx(Lt,{level:4,children:e}),f.jsx(pa,{})]}),f.jsxs(Oe,{justify:"justify-between",children:[f.jsx("p",{className:"text-sm text-gray-500",children:t}),f.jsx(Cy,{seat:0,formatter:n=>`: ${n}`})]})]},t))})]}),f.jsxs("div",{className:"bg-white p-6 shadow-md rounded-md",children:[f.jsx(Lt,{level:3,children:"  TOP 10"}),f.jsx(Un,{children:"    !"}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full bg-white rounded-lg text-sm",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-gray-50 z-10 text-nowrap",children:[f.jsx("th",{className:"px-4 py-2",children:""}),f.jsx("th",{className:"px-4 py-2",children:""}),f.jsx("th",{className:"px-4 py-2",children:""}),f.jsx("th",{className:"px-4 py-2",children:""})]})}),f.jsx("tbody",{children:[{id:"004310-004",name:"",prof:"",seats:22},{id:"003281-001",name:"",prof:"",seats:15},{id:"004118-007",name:"",prof:"Rajendra Dhakal",seats:6},{id:"009912-006",name:"C",prof:"",seats:5},{id:"007330-001",name:"",prof:"",seats:4}].map(({id:e,name:t,prof:n,seats:r},i)=>f.jsxs("tr",{className:"border-t border-gray-200 text-black",children:[f.jsx("td",{className:"px-4 py-2 text-center",children:e}),f.jsx("td",{className:"px-4 py-2 text-center",children:t}),f.jsx("td",{className:"px-4 py-2 text-center",children:n}),f.jsx("td",{className:"px-4 py-2 text-center",children:f.jsx(Cy,{seat:r})})]},"live-non-major-"+i))})]})})]})]})]})}const MD=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,72)"},T.createElement("path",{d:"M18,72Q22.9219,71.9297,27,69.6094Q31.0781,67.2188,33.6094,63Q36,58.710899999999995,36,54Q36,49.2891,33.6094,45Q31.0781,40.78125,27,38.39062Q22.9219,36.0703125,18,36Q13.0781,36.0703125,9,38.39062Q4.92188,40.78125,2.39062,45Q0,49.2891,0,54Q0,58.710899999999995,2.39062,63Q4.92188,67.2188,9,69.6094Q13.0781,71.9297,18,72ZM16.3125,63.5625L16.3125,54L16.3125,63.5625L16.3125,54Q16.3125,53.085899999999995,17.0859,52.5938L23.8359,48.0938Q25.1719,47.3203,26.1562,48.5859Q26.9297,49.9219,25.6641,50.9062L19.6875,54.914100000000005L19.6875,63.5625Q19.5469,65.1094,18,65.25Q16.4531,65.1094,16.3125,63.5625Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),AD=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,72)"},T.createElement("path",{d:"M25.8047,42.96094L7.03125,61.8047L25.8047,42.96094L7.03125,61.8047Q4.57031,58.4297,4.5,54Q4.64062,48.2344,8.4375,44.4375Q12.2344,40.64062,18,40.5Q22.4297,40.57031,25.8047,42.96094ZM29.0391,46.1953Q31.4297,49.5703,31.5,54Q31.3594,59.7656,27.5625,63.5625Q23.7656,67.3594,18,67.5Q13.5703,67.4297,10.1953,64.9688L29.0391,46.1953ZM0,54Q0.0703125,58.9219,2.39062,63Q4.78125,67.0781,9,69.6094Q13.2891,72,18,72Q22.7109,72,27,69.6094Q31.2188,67.0781,33.6094,63Q35.9297,58.9219,36,54Q35.9297,49.0781,33.6094,45Q32.4141,42.96094,30.7617,41.30859Q29.1094,39.65625,27,38.39062Q22.7109,36,18,36Q13.2891,36,9,38.39062Q4.78125,40.92188,2.39062,45Q0.0703125,49.0781,0,54Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),gC=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:33.75,height:36,viewBox:"0 0 33.75 36",...e},T.createElement("defs",null,T.createElement("clipPath",{id:"master_svg0_85_3284"},T.createElement("rect",{x:0,y:0,width:33.75,height:36,rx:0}))),T.createElement("g",{clipPath:"url(#master_svg0_85_3284)"},T.createElement("g",{transform:"matrix(1,0,0,-1,0,69.046875)"},T.createElement("g",null,T.createElement("path",{d:"M6.25781,54.000037500000005Q7.10156,56.3906375,8.92969,58.2187375Q12.375,61.5234375,16.875,61.5234375Q21.375,61.5234375,24.8203,58.2187375L26.0156,57.0234375L23.625,57.0234375Q22.6406,57.0234375,22.0078,56.3906375Q21.375,55.7578375,21.375,54.7734375Q21.375,53.7890375,22.0078,53.1562375Q22.6406,52.5234375,23.625,52.5234375L31.5,52.5234375Q32.4844,52.5234375,33.1172,53.1562375Q33.75,53.7890375,33.75,54.7734375L33.75,62.6484375Q33.75,63.6328375,33.1172,64.2656375Q32.4844,64.8984375,31.5,64.8984375Q30.5156,64.8984375,29.8828,64.2656375Q29.25,63.6328375,29.25,62.6484375L29.25,60.187537500000005L27.9844,61.3828375Q24.8906,64.4765375,20.8828,65.5312375Q16.875,66.5156375,12.8672,65.5312375Q8.85938,64.4765375,5.76562,61.3828375Q3.16406,58.7812375,2.03906,55.546837499999995Q1.75781,54.6328375,2.10938,53.7890375Q2.53125,53.0156375,3.375,52.6640375Q4.28906,52.3828375,5.13281,52.734337499999995Q5.90625,53.1562375,6.25781,54.000037500000005ZM1.61719,47.9531375Q1.05469,47.7422375,0.632812,47.3203375Q0.210938,46.8984375,0.0703125,46.3359375Q0.0703125,46.2656375,0,46.1250375Q0,45.9140375,0,45.7734375L0,37.8984375Q0,36.9140575,0.632812,36.2812475Q1.26562,35.6484375,2.25,35.6484375Q3.23438,35.6484375,3.86719,36.2812475Q4.5,36.9140575,4.5,37.8984375L4.5,40.3593775L5.76562,39.1640575Q8.85938,36.0703175,12.8672,35.0156255Q16.875,34.0312495,20.8828,35.0156255Q24.8906,36.0703175,27.9844,39.1640575Q30.5859,41.7656275,31.7109,45.0000375Q31.9922,45.9140375,31.6406,46.7578375Q31.2188,47.5312375,30.375,47.8828375Q29.4609,48.1640375,28.6172,47.8125375Q27.8438,47.3906375,27.4922,46.5468375Q26.6484,44.2265575,24.8203,42.3281275Q21.375,39.0234375,16.875,39.0234375Q12.375,39.0234375,8.92969,42.3281275L7.73438,43.5234375L10.125,43.5234375Q11.1094,43.5234375,11.7422,44.1562475Q12.375,44.7890375,12.375,45.7734375Q12.375,46.7578375,11.7422,47.3906375Q11.1094,48.0234375,10.125,48.0234375L2.25,48.0234375Q2.10938,48.0234375,1.96875,48.0234375Q1.75781,47.9531375,1.61719,47.9531375Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})))));function LD(){return f.jsxs(Tl,{className:"text-center",children:[f.jsx(Lt,{level:2,children:"  "}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[{icon:f.jsx(MD,{className:"w-6 h-6"}),title:"6     ...",text:"       "},{icon:f.jsx(AD,{className:"w-6 h-6"}),title:"   ...",text:"  ,      "},{icon:f.jsx(gC,{className:"w-6 h-6"}),title:"      ...",text:"   ,     "}].map(({icon:e,title:t,text:n},r)=>f.jsxs("div",{className:"flex flex-col gap-4 p-6 rounded-md bg-gray-50 text-left",children:[e,f.jsx(Lt,{level:3,className:"font-extrabold",children:t}),f.jsx(Un,{children:n})]},"pain-point-"+r))}),f.jsxs("div",{className:"text-gray-900 mt-16",children:[f.jsx("p",{children:"   ."}),f.jsx("p",{children:"   ,      . "})]})]})}const ID=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:24,height:24,viewBox:"0 0 24 24",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,48)"},T.createElement("path",{d:"M18.7031,30Q17.9062,31.35938,16.5469,32.15625Q15.1875,33,13.5,33L10.5,33Q8.8125,33,7.45312,32.15625Q6.09375,31.35938,5.29688,30Q6.5625,28.59375,8.25,27.79688Q9.98438,27,12,27Q14.0156,27,15.75,27.79688Q17.4375,28.59375,18.7031,30ZM0,36Q0.046875,39.2812,1.59375,42Q3.1875,44.7188,6,46.4062Q8.85938,48,12,48Q15.1406,48,18,46.4062Q20.8125,44.7188,22.4062,42Q23.9531,39.2812,24,36Q23.9531,32.71875,22.4062,30Q20.8125,27.28125,18,25.59375Q15.1406,24,12,24Q8.85938,24,6,25.59375Q3.1875,27.28125,1.59375,30Q0.046875,32.71875,0,36ZM12,35.25Q13.9219,35.2969,14.9062,36.9375Q15.8438,38.625,14.9062,40.3125Q13.9219,41.9531,12,42Q10.0781,41.9531,9.09375,40.3125Q8.15625,38.625,9.09375,36.9375Q10.0781,35.2969,12,35.25Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function DD(){return f.jsxs(Tl,{className:"text-center",children:[f.jsx(Lt,{level:2,children:"   !"}),f.jsxs("div",{className:"overflow-hidden mt-6 relative",children:[f.jsx("div",{className:"absolute top-0 left-0 w-12 h-full bg-gradient-to-r from-gray-50 to-transparent z-10"}),f.jsxs("div",{className:"animate-marquee flex gap-6 flex-nowrap w-fit",children:[N5.map((e,t)=>f.jsx(O5,{...e},"feedback-left-"+t)),N5.map((e,t)=>f.jsx(O5,{...e},"feedback-right-"+t))]}),f.jsx("div",{className:"absolute top-0 right-0 w-12 h-full bg-gradient-to-l from-gray-50 to-transparent z-10"})]})]})}const N5=[{name:"O",department:" 2",review:"        !"},{name:"O",department:" 4",review:"         !"},{name:"O",department:" 3",review:"     !"}];function O5({name:e,department:t,review:n}){return f.jsxs("div",{className:"w-screen md:w-xs flex flex-col gap-4 p-6 rounded-md bg-white text-left text-sm",children:[f.jsxs("div",{className:"flex gap-4 items-center",children:[f.jsx(ID,{className:"w-6 h-6"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-bold",children:e}),f.jsx("p",{className:"text-xs text-gray-500",children:t})]})]}),f.jsxs("p",{className:"text-gray-950",children:['"',n,'"']})]})}function FD(){return f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsx(GN,{}),f.jsx(kO,{}),f.jsx(OD,{}),f.jsx(XI,{}),f.jsx(RD,{}),f.jsx(LD,{}),f.jsx(DD,{})]})}function Pi(){const[e,t]=T.useState(!1);return T.useEffect(()=>{const n=()=>{t(window.innerWidth<=768)};return n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[]),e}const BD=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:13.836064338684082,height:14,viewBox:"-1 -1 15.5 16.5",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,28)"},T.createElement("path",{d:"M13.8033,23.433590000000002Q13.918,23.05078,13.6311,22.777340000000002L12.3689,21.68359Q12.4262,21.35547,12.4262,21Q12.4262,20.64453,12.3689,20.31641L13.6311,19.22266Q13.918,18.94922,13.8033,18.56641Q13.6025,18.07422,13.3443,17.60938L13.2008,17.39062Q12.9139,16.95312,12.5697,16.54297Q12.2828,16.24219,11.8811,16.35156L10.2746,16.84375Q9.70082,16.40625,9.01229,16.16016L8.66803,14.574219Q8.55328,14.191406,8.12295,14.109375Q7.54918,14,6.91803,14Q6.28688,14,5.68443,14.109375Q5.28279,14.191406,5.16803,14.574219L4.82377,16.16016Q4.13525,16.40625,3.56148,16.84375L1.95492,16.35156Q1.55328,16.24219,1.26639,16.54297Q0.893443,16.95312,0.635246,17.39062L0.491803,17.60938Q0.233607,18.07422,0.0327869,18.53906Q-0.0819672,18.94922,0.204918,19.22266L1.46721,20.28906Q1.40984,20.64453,1.40984,21Q1.40984,21.35547,1.46721,21.68359L0.204918,22.777340000000002Q-0.0819672,23.05078,0.0327869,23.433590000000002Q0.233607,23.92578,0.491803,24.3906L0.635246,24.6094Q0.893443,25.0469,1.26639,25.457Q1.55328,25.7578,1.95492,25.648400000000002L3.56148,25.1562Q4.13525,25.5937,4.82377,25.8672L5.16803,27.425800000000002Q5.28279,27.8086,5.71311,27.8906Q6.28688,28,6.91803,28Q7.54918,28,8.15164,27.8906Q8.55328,27.8086,8.66803,27.425800000000002L9.01229,25.8672Q9.70082,25.5937,10.2746,25.1562L11.8811,25.648400000000002Q12.2828,25.7578,12.5697,25.457Q12.9426,25.0469,13.2295,24.6094L13.3443,24.3906Q13.6025,23.92578,13.8033,23.433590000000002ZM6.91803,18.8125Q8.20902,18.83984,8.89754,19.90625Q9.52869,21,8.89754,22.09375Q8.20902,23.160159999999998,6.91803,23.1875Q5.62705,23.160159999999998,4.93852,22.09375Q4.30738,21,4.93852,19.90625Q5.62705,18.83984,6.91803,18.8125Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function R5({children:e,checked:t,onChange:n,...r}){return f.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",className:"sr-only peer",checked:t,onChange:n,...r}),f.jsx("div",{className:"w-12 h-6 rounded-full transition-colors duration-150 bg-gray-300 peer-checked:bg-blue-500 peer-disabled:bg-gray-200"}),f.jsx("div",{className:"absolute top-1 left-1 w-4 h-4 bg-white rounded-full shadow-md transform transition-transform duration-150 peer-checked:translate-x-6"}),e]})}function yC({enabled:e=!0,onClose:t}){T.useEffect(()=>{if(!e)return;const n=i=>{i.key==="Escape"&&t&&t()},r=i=>{i.preventDefault(),t&&t()};return window.addEventListener("keydown",n),window.addEventListener("popstate",r),()=>{window.removeEventListener("keydown",n),window.removeEventListener("popstate",r)}},[])}const zD=[{title:" ",value:li.NONE,disabled:()=>!1},{title:" ",value:li.BROWSER,disabled:()=>!Hi.canNotify()},{title:" ",value:li.TOAST,disabled:()=>!ly.canNotify()},{title:" +  ",value:li.BOTH,disabled:()=>!Hi.canNotify()||!ly.canNotify()}];function $D({isOpen:e,close:t}){const n=ca(s=>s.isPermitted),r=()=>{ki.show("  ","test-alarm")},i=()=>{ki.requestPermission(),t()};return yC({enabled:e,onClose:i}),e?f.jsx(Nn,{title:"",onClose:i,isOpen:e,children:f.jsxs(Nn.Content,{children:[f.jsx(UD,{}),f.jsx(HD,{}),f.jsx("div",{className:"mt-4 flex justify-end",children:f.jsx(jt,{variant:"outlined",size:"medium",onClick:r,disabled:!n,children:""})})]})}):null}function UD(){const e=Is(s=>s.alarmType),t=Is(s=>s.saveSettings),n=ca(s=>s.isPermitted),r=Hi.canNotify(),i=s=>{t({alarmType:Number(s.target.value)})};return f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block mb-2 font-bold text-md",htmlFor:"alarm-type-select",children:" "}),f.jsx("select",{id:"alarm-type-select",className:"w-full mb-2 p-2 border border-gray-300 rounded",value:e,onChange:i,children:zD.map(s=>f.jsx("option",{className:"disabled:text-gray-500",value:s.value,disabled:s.disabled(),children:s.title},s.value))}),(e===li.BROWSER||e===li.BOTH)&&!n&&f.jsx("p",{className:"pl-2 pb-2 text-sm text-red-600",children:"  ."}),e===li.TOAST&&f.jsx("p",{className:"pl-2 pb-2 text-sm text-red-600",children:"      ."}),!r&&f.jsx("p",{className:"pl-2 pb-2 text-xs text-gray-600",children:"     ."})]})}function HD(){const t=Is(h=>h.alarmType)===li.NONE,n=zd(na.SOUND),r=zd(na.VIBRATE),i=Ev.canNotify(),s=Is(h=>h.subAlarmType),o=Is(h=>h.saveSettings),a=t,u=t||!i,c=h=>{const p=h.target.id==="select-sound"?na.SOUND:na.VIBRATE,g=h.target.checked?s|p:s&~p;o({subAlarmType:g})};return f.jsxs("div",{children:[f.jsx("h3",{className:"block mb-2 font-bold text-md",children:"  "}),f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsxs("label",{className:"my-1 flex items-center justify-between",htmlFor:"select-sound",children:[f.jsx("span",{className:a?"text-gray-300":"",children:""}),f.jsx(R5,{id:"select-sound",name:"sound",checked:n,onChange:c,disabled:a})]}),f.jsxs("label",{className:"my-1 flex items-center justify-between",htmlFor:"select-vibrate",children:[f.jsx("span",{className:u?"text-gray-300":"",children:""}),f.jsx(R5,{id:"select-vibrate",name:"vibrate",checked:r,onChange:c,disabled:u})]}),!i&&f.jsx("p",{className:"pl-2 pb-2 text-sm text-red-600",children:"     ."})]})]})}const VD=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 3C7.88696 2.99977 8.74883 3.29435 9.4501 3.83741C10.1514 4.38047 10.6523 5.14121 10.874 6H19V8H10.874C10.6283 8.94049 10.0486 9.75939 9.24333 10.3038C8.43802 10.8482 7.46209 11.0809 6.49778 10.9584C5.53346 10.836 4.64669 10.3667 4.00303 9.63828C3.35937 8.90985 3.00284 7.97206 3 7C3 5.93913 3.42143 4.92172 4.17157 4.17157C4.92172 3.42143 5.93913 3 7 3ZM7 9C7.53043 9 8.03914 8.78929 8.41421 8.41421C8.78929 8.03914 9 7.53043 9 7C9 6.46957 8.78929 5.96086 8.41421 5.58579C8.03914 5.21071 7.53043 5 7 5C6.46957 5 5.96086 5.21071 5.58579 5.58579C5.21071 5.96086 5 6.46957 5 7C5 7.53043 5.21071 8.03914 5.58579 8.41421C5.96086 8.78929 6.46957 9 7 9ZM17 20C16.113 20.0002 15.2512 19.7056 14.5499 19.1626C13.8486 18.6195 13.3477 17.8588 13.126 17H5V15H13.126C13.3717 14.0595 13.9514 13.2406 14.7567 12.6962C15.562 12.1518 16.5379 11.9191 17.5022 12.0416C18.4665 12.164 19.3533 12.6333 19.997 13.3617C20.6406 14.0901 20.9972 15.0279 21 16C21 17.0609 20.5786 18.0783 19.8284 18.8284C19.0783 19.5786 18.0609 20 17 20ZM17 18C17.5304 18 18.0391 17.7893 18.4142 17.4142C18.7893 17.0391 19 16.5304 19 16C19 15.4696 18.7893 14.9609 18.4142 14.5858C18.0391 14.2107 17.5304 14 17 14C16.4696 14 15.9609 14.2107 15.5858 14.5858C15.2107 14.9609 15 15.4696 15 16C15 16.5304 15.2107 17.0391 15.5858 17.4142C15.9609 17.7893 16.4696 18 17 18Z",fill:"currentColor"})),QD=()=>{if(typeof navigator>"u")return"chrome";const e=navigator.userAgent.toLowerCase();return e.includes("firefox")?"firefox":e.includes("edg")?"edge":e.includes("safari")&&!e.includes("chrome")?"safari":"chrome"},WD=()=>{if(typeof navigator>"u")return"macos";const e=navigator.platform.toLowerCase(),t=navigator.userAgent.toLowerCase();return e.startsWith("mac")||t.includes("mac os x")?"macos":e.startsWith("win")?"windows":/android|iphone|ipad|ipod/.test(t)?"mobile":"macos"};function qD(){const e=ca(s=>s.isOpen),t=ca(s=>s.close),[n,r]=T.useState(0),i=1;return T.useEffect(()=>{e||r(0)},[e]),f.jsx(Nn,{title:"  ",onClose:t,isOpen:e,children:f.jsxs("div",{className:"p-4 text-sm text-gray-700 w-lg max-w-full",children:[n===0&&f.jsx(KD,{}),n===1&&f.jsx(GD,{}),f.jsxs("div",{className:"flex justify-between items-center mt-6",children:[f.jsxs("span",{className:"text-xs text-gray-500",children:[n+1," / ",i+1]}),f.jsxs("div",{className:"flex justify-end gap-2",children:[n>0&&f.jsx("button",{className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",onClick:()=>r(n-1),children:""}),n<i&&f.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>r(n+1),children:""}),n===i&&f.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:t,children:""})]})]})]})})}function KD(){const[e,t]=T.useState(QD());return f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-base text-gray-800",children:"1:    "}),f.jsx("p",{className:"mt-1",children:" 'ALLCLL'    ."})]}),f.jsxs("div",{className:"flex border-b border-gray-500",children:[f.jsx(pl,{name:"Chrome",id:"chrome",selected:e,onClick:t}),f.jsx(pl,{name:"Firefox",id:"firefox",selected:e,onClick:t}),f.jsx(pl,{name:"Safari",id:"safari",selected:e,onClick:t}),f.jsx(pl,{name:"Edge",id:"edge",selected:e,onClick:t})]}),f.jsxs("div",{className:"p-2 bg-gray-50 rounded-md h-64 overflow-y-auto",children:[e==="chrome"&&f.jsx(YD,{}),e==="firefox"&&f.jsx(JD,{}),e==="safari"&&f.jsx(ZD,{}),e==="edge"&&f.jsx(XD,{})]})]})}function GD(){const[e,t]=T.useState(WD());return f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-base text-gray-800",children:"2: OS    "}),f.jsx("p",{className:"mt-1",children:"  OS   ."})]}),f.jsxs("div",{className:"flex border-b border-gray-500",children:[f.jsx(pl,{name:"macOS",id:"macos",selected:e,onClick:t}),f.jsx(pl,{name:"Windows",id:"windows",selected:e,onClick:t}),f.jsx(pl,{name:"",id:"mobile",selected:e,onClick:t})]}),f.jsxs("div",{className:"p-2 bg-gray-50 rounded-md h-64 overflow-y-auto",children:[e==="macos"&&f.jsx(eF,{}),e==="windows"&&f.jsx(tF,{}),e==="mobile"&&f.jsx(nF,{})]})]})}const pl=({name:e,id:t,selected:n,onClick:r})=>f.jsx("button",{className:`px-4 py-2 text-sm ${n===t?"border-b-2 border-blue-500 text-blue-600 font-semibold":"text-gray-500 font-medium"}`,onClick:()=>r(t),children:e}),Cl=({title:e,children:t})=>f.jsxs("div",{className:"space-y-1",children:[f.jsx("h4",{className:"font-semibold text-gray-800",children:e}),f.jsx("div",{className:"pl-2 space-y-1 text-gray-600",children:t})]}),YD=()=>f.jsxs("div",{className:"space-y-3",children:[f.jsx(Cl,{title:" 1:   ()",children:f.jsxs("ol",{className:"list-decimal list-inside",children:[f.jsxs("li",{children:["    (",f.jsx(VD,{className:"inline-block w-4 h-4"}),")  ."]}),f.jsx("li",{children:"  ''    '' ."})]})}),f.jsx(Cl,{title:" 2:   ",children:f.jsxs("ol",{className:"list-decimal list-inside",children:[f.jsx("li",{children:"   3()  > '' ."}),f.jsx("li",{children:"'  ' > ' ' > '' ."}),f.jsx("li",{children:"'  '  ''   'allcll.com' ."})]})})]}),XD=()=>f.jsxs("div",{className:"space-y-3",children:[f.jsx(Cl,{title:" 1:   ()",children:f.jsxs("ol",{className:"list-decimal list-inside",children:[f.jsx("li",{children:"  ()  ."}),f.jsx("li",{children:"'   '  '' '' ."})]})}),f.jsx(Cl,{title:" 2:   ",children:f.jsxs("ol",{className:"list-decimal list-inside",children:[f.jsx("li",{children:"   3()  > '' ."}),f.jsx("li",{children:"'   ' > '' ."}),f.jsx("li",{children:"''  ''   'allcll.com' ."})]})})]}),JD=()=>f.jsxs("div",{className:"space-y-3",children:[f.jsx(Cl,{title:" 1:   ()",children:f.jsxs("ol",{className:"list-decimal list-inside",children:[f.jsx("li",{children:"  ()  ."}),f.jsx("li",{children:"' '  '' ."})]})}),f.jsx(Cl,{title:" 2:   ",children:f.jsxs("ol",{className:"list-decimal list-inside",children:[f.jsx("li",{children:"   3()  > '' ."}),f.jsx("li",{children:"'  '  ''  ."}),f.jsx("li",{children:"''  '...'  ."}),f.jsx("li",{children:"'allcll.com'   ''  '  ' ."})]})})]}),ZD=()=>f.jsx("div",{className:"space-y-3",children:f.jsx(Cl,{title:"Safari  ",children:f.jsxs("ol",{className:"list-decimal list-inside",children:[f.jsx("li",{children:"    'Safari' > '...' ( '...') ."}),f.jsx("li",{children:"''  ."}),f.jsx("li",{children:"  '' ."}),f.jsx("li",{children:" 'allcll.com'   '' ."})]})})}),eF=()=>f.jsx("div",{className:"space-y-2",children:f.jsxs("ol",{className:"list-decimal list-inside pl-2 mt-2 space-y-1",children:[f.jsx("li",{children:"    ()   ' ' ."}),f.jsx("li",{children:"  '' ."}),f.jsx("li",{children:"    (Chrome, Safari )  ."}),f.jsx("li",{children:"' '  ."})]})}),tF=()=>f.jsx("div",{className:"space-y-2",children:f.jsxs("ol",{className:"list-decimal list-inside pl-2 mt-2 space-y-1",children:[f.jsx("li",{children:"''  '' ."}),f.jsx("li",{children:"''   ''  ."}),f.jsx("li",{children:"'     '   ."}),f.jsx("li",{children:"        ."})]})}),nF=()=>f.jsxs("div",{className:"pl-2 mt-2 space-y-2",children:[f.jsx("p",{children:"  PC        .  iOS Safari     ."}),f.jsx("p",{className:"font-medium",children:"       ' '   ."})]}),rF=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17,height:17,viewBox:"0 0 17 14.5",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,28.015625)"},T.createElement("path",{d:"M1.0474,27.8750125Q0.538991,28.2031125,0.137615,27.7656125Q-0.183486,27.246112500000002,0.244648,26.8359125L16.0856,14.1484375Q16.594,13.8203125,16.9954,14.2578125Q17.3165,14.7773435,16.8884,15.1875025L14.4801,17.1289025Q14.4801,17.1562525,14.4801,17.1562525Q14.6942,17.6757825,14.3463,18.0859325L14.159,18.3320325Q12.8746,19.8085925,12.8479,21.8046925L12.8479,22.324222499999998Q12.8211,23.9375025,11.8578,25.1133125Q10.9213,26.2890125,9.42278,26.6172125L9.42278,27.1367125Q9.42278,27.519512499999998,9.18196,27.7656125Q8.94113,28.0117125,8.56651,28.0117125Q8.1919,28.0117125,7.95107,27.7656125Q7.71025,27.519512499999998,7.71025,27.1367125L7.71025,26.6172125Q5.94419,26.207012499999998,4.98089,24.7031125L1.0474,27.8750125ZM10.8677,16.6367225L4.28517,21.9414025L10.8677,16.6367225L4.28517,21.9414025L4.28517,21.8046925Q4.25841,19.8085925,3.00077,18.3046925L2.7867,18.0859325Q2.43884,17.6757825,2.65291,17.1562525Q2.89373,16.6640625,3.4289,16.6367225L10.8677,16.6367225ZM9.77064,14.5312505Q10.2791,15.0507825,10.2791,15.7617225L8.56651,15.7617225L6.85398,15.7617225Q6.85398,15.0507825,7.36239,14.5312505Q7.8708,14.01171884,8.56651,14.01171884Q9.26223,14.01171884,9.77064,14.5312505Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function iF({isAlarm:e}){const t=Hu(s=>s.sseState),n=ca(s=>s.isPermitted),r=t===Pv.LIVE,i=r?ki.getDeniedMessage():[...ki.getDeniedMessage(),"  "];return e?n&&r?f.jsx(pa,{className:"w-5 h-5 text-primary-500"}):f.jsxs(f.Fragment,{children:[f.jsx(pa,{className:"w-5 h-5 text-secondary-500 animate-pulse"}),i.length>0&&f.jsx("span",{className:"absolute left-full -bottom-2 transform -translate-x-full translate-y-full opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-gray-900 text-white text-sm p-2 rounded w-64 h-fit text-center pointer-events-none",children:i.map((s,o)=>f.jsx("p",{className:"pt-1 first:pt-0",children:s},"tooltip-line-"+o))})]}):f.jsx(rF,{className:"w-5 h-5"})}const sF=async()=>await bo("/api/pins"),oF=async e=>{const t=await vm(`/api/pin?subjectId=${e}`,{method:"POST"});if(!t.ok)throw new Error(await t.text())},aF=async e=>{const t=await vm(`/api/pin/${e}`,{method:"DELETE"});if(!t.ok)throw new Error(await t.text())},M5=5;function Fm(){return bs({queryKey:["pinnedSubjects"],queryFn:sF,select:e=>e.subjects})}const vC=()=>{const e=Ti();return ya({mutationFn:oF,onMutate:async t=>{await e.cancelQueries({queryKey:["pinnedSubjects"]});const n=e.getQueryData(["pinnedSubjects"])?.subjects??[];if(n&&n.length>=M5)throw new Error(JSON.stringify({message:`   ${M5} .`}));if(n){const r={...n[0],subjectId:t};e.setQueryData(["pinnedSubjects"],{subjects:[...n,r]}),n.push(r)}return{previousUsers:n}},onSuccess:()=>{e.invalidateQueries({queryKey:["pinnedSubjects"]}).then()},onError:t=>{try{const n=JSON.parse(t.message);alert(n.message)}catch{alert("Error adding pinned subject")}}})},tx=()=>{const e=Ti();return ya({mutationFn:aF,onMutate:async t=>{await e.cancelQueries({queryKey:["pinnedSubjects"]});const n=e.getQueryData(["pinnedSubjects"]);if(n){const r=n.subjects.filter(i=>i.subjectId!==t);e.setQueryData(["pinnedSubjects"],{subjects:r})}return{previousData:n}},onSettled:()=>{console.log("pin removed onSettled"),e.invalidateQueries({queryKey:["pinnedSubjects"]}).then()},onError:t=>{console.error("Error removing pinned subject:",t)}})},lF=1e3,uF=60*lF,cF={subjectId:-1,seat:-1};function dF(){return bs({queryKey:["preRealSeats"],queryFn:hF,staleTime:10*uF,select:e=>e?.preSeats??null})}async function hF(){return await Tv("/pre-seats.json?date=20250904")}function xC(e,t,n,r){if(!e||!t)return e||t;const i=e.sort((c,h)=>c.subjectId-h.subjectId),s=t.sort((c,h)=>c.subjectId-h.subjectId),o=[];let a=0,u=0;for(;a<i.length&&u<s.length;)i[a].subjectId===s[u].subjectId?o.push({...i[a++],...s[u++]}):i[a].subjectId<s[u].subjectId?o.push({...r,...i[a++]}):o.push({...n,...s[u++]});for(;a<i.length;)o.push({...r,...i[a++]});for(;u<s.length;)o.push({...n,...s[u++]});return o}function Bm(e,t){const{data:n}=dF();return T.useMemo(()=>!e||!n?.length?e:xC(e,n,t??xm,cF),[e,n,t])}class nx extends RangeError{constructor(t){super(t),this.name="ParamsInvalidError"}}class fF extends Error{constructor(t){super(t),this.name="NotFoundError"}}const pF=async()=>await Tv("/baskets.json"),mF=async e=>{const t=await vm(`/api/baskets/${e}`);if(!t.ok){const n=await t.text(),r=gF(n);throw r?.status==="400 BAD_REQUEST"?new nx(r.code):new Error(await t.text())}return t.json()},gF=e=>{try{return JSON.parse(e)}catch{return null}},Ol={...xm,departmentCode:"",departmentName:"",totalCount:-1};function So(){const{data:e,isPending:t,isLoading:n}=Gi(),r=bs({queryKey:["wishlist"],queryFn:pF,staleTime:1/0,select:i=>yF(i,e)});return{...r,isPending:r.isPending||t,isLoading:r.isLoading||n}}const yF=(e,t)=>t?!e||e.baskets?.length?t:xC(t,e.baskets,xm,Ol).map(r=>({...r,departmentCode:r.deptCd,departmentName:r.manageDeptNm})):[];function vF(e){const{data:t}=So();return t?.filter(n=>e.includes(n.subjectId))??[]}const bC=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M18 6L6 18M6 6L18 18",stroke:"#354052",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));let ad=null,_u=0;const o1=Mr(e=>{const t=()=>{ad||(ad=setInterval(()=>{e(r=>({tick:r.tick+1}))},1e3))},n=()=>{ad&&clearInterval(ad),ad=null};return{tick:0,addRefCount:()=>{_u===0&&t(),_u=_u+1},removeRefCount:()=>{_u<=1&&n(),_u=Math.max(0,_u-1)}}}),wC=e=>{const t=o1(i=>i.tick),n=o1(i=>i.addRefCount),r=o1(i=>i.removeRefCount);T.useEffect(()=>(n(),()=>{r()}),[]),T.useEffect(()=>{},[t])};function rx(e){if(!e)return" ";const t=new Date,n=new Date(e),r=t.getTime()-n.getTime(),i=Math.floor(r/1e3),s=Math.floor(i/60),o=Math.floor(s/60),a=Math.floor(o/24),u=Math.floor(a/30),c=Math.floor(u/12);return c>0?`${c} `:u>0?`${u} `:a>0?`${a} `:o>0?`${o} `:s>0?`${s} `:i>0?`${i} `:" "}function xF({subject:e,seats:t,queryTime:n,disableSeat:r=!1}){const{mutate:i}=tx(),s=()=>{i(e.subjectId)};return f.jsxs(Tn,{variant:"filled",children:[f.jsxs(Oe,{justify:"justify-between",children:[f.jsx(Lt,{level:3,children:e.subjectName}),f.jsx(rr,{variant:"plain","aria-label":"  ",icon:f.jsx(bC,{className:"text-gray-400 w-3 h-3"}),onClick:s})]}),f.jsxs("div",{className:"mb-2 text-xs text-gray-500",children:[f.jsx("p",{children:e.departmentName}),f.jsxs("p",{children:[e.subjectCode,"-",e.classCode," | ",e.professorName]})]}),!r&&f.jsxs(Oe,{justify:"justify-between",children:[f.jsx(wF,{seats:t}),f.jsx(bF,{queryTime:n})]})]})}function bF({queryTime:e}){return wC(),f.jsx("p",{className:"text-xs text-gray-500",children:rx(e)})}function wF({seats:e}){const t=e!=null&&e>=0,n=pC(e),r=t?e:"???";return f.jsxs(gl,{variant:n,children:[": ",r]})}const ky=Mr(e=>({isSearchOpen:!1,setIsSearchOpen:t=>e(()=>({isSearchOpen:t}))}));function _C(){const e=ky(t=>t.setIsSearchOpen);return f.jsx(Oe,{justify:"justify-center",align:"items-center",children:f.jsx(jt,{variant:"ghost",size:"medium",onClick:()=>e(!0),children:"+   "})})}function zm({icon:e,title:t,description:n,children:r}){return f.jsx("div",{className:"flex flex-col items-center justify-center w-full bg-gray-50 rounded-md",children:f.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 p-12",children:[f.jsx("div",{children:e}),f.jsx("div",{className:"text-gray-600",children:t}),f.jsx("div",{className:"text-xs text-gray-500",children:n}),r]})})}const SC=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,72)"},T.createElement("g",null,T.createElement("path",{d:"M18,36Q22.9219,36.0703125,27,38.39062Q31.0781,40.78125,33.6094,45Q36,49.2891,36,54Q36,58.710899999999995,33.6094,63Q31.0781,67.2188,27,69.6094Q22.9219,71.9297,18,72Q13.0781,71.9297,9,69.6094Q4.92188,67.2188,2.39062,63Q0,58.710899999999995,0,54Q0,49.2891,2.39062,45Q4.92188,40.78125,9,38.39062Q13.0781,36.0703125,18,36ZM18,63Q19.5469,62.8594,19.6875,61.3125L19.6875,53.4375Q19.5469,51.8906,18,51.75Q16.4531,51.8906,16.3125,53.4375L16.3125,61.3125Q16.4531,62.8594,18,63ZM15.75,47.25Q15.75,48.2344,16.3828,48.8672Q17.0156,49.5,18,49.5Q18.9844,49.5,19.6172,48.8672Q20.25,48.2344,20.25,47.25Q20.25,46.2656,19.6172,45.63281Q18.9844,45,18,45Q17.0156,45,16.3828,45.63281Q15.75,46.2656,15.75,47.25Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})))),_F=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:12.68359375,height:12.25,viewBox:"0 0 12.68359375 12.25",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,24.5)"},T.createElement("g",null,T.createElement("path",{d:"M9.67675,21L8.30998,21L9.67675,21L8.30998,21Q7.92728,21,7.68126,20.753909999999998Q7.43524,20.50781,7.43524,20.125Q7.43524,19.74219,7.68126,19.49609Q7.92728,19.25,8.30998,19.25L11.8089,19.25Q12.1916,19.25,12.4376,19.49609Q12.6837,19.74219,12.6837,20.125L12.6837,23.625Q12.6837,24.0078,12.4376,24.2539Q12.1916,24.5,11.8089,24.5Q11.4262,24.5,11.1802,24.2539Q10.9342,24.0078,10.9342,23.625L10.9342,22.23047L10.4421,22.6953Q9.23938,23.898400000000002,7.68126,24.3086Q6.12314,24.6914,4.56502,24.3086Q3.0069,23.898400000000002,1.80414,22.6953Q0.60138,21.49219,0.191348,19.93359Q-0.191348,18.375,0.191348,16.81641Q0.60138,15.25781,1.80414,14.05469Q3.0069,12.851562,4.56502,12.441406Q6.12314,12.058594,7.68126,12.441406Q9.23938,12.851562,10.4421,14.05469Q10.7155,14.30078,10.7155,14.65625Q10.7155,15.01172,10.4421,15.28516Q10.1961,15.53125,9.84076,15.53125Q9.4854,15.53125,9.21205,15.28516Q7.87261,14,6.12314,14Q4.37367,14,3.03424,15.28516Q1.74947,16.625,1.74947,18.375Q1.74947,20.125,3.03424,21.464840000000002Q4.37367,22.75,6.12314,22.75Q7.87261,22.75,9.21205,21.464840000000002L9.67675,21Z",fill:"#FFFFFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))));function CC({onReload:e}){return f.jsx(zm,{title:"    ",description:"  ",icon:f.jsx(SC,{className:"w-7 h-7"}),children:f.jsxs("button",{className:"mt-4 flex items-center gap-2 bg-blue-500 text-white px-4 py-2 rounded cursor-pointer hover:bg-blue-600",onClick:e,children:[f.jsx(_F,{className:"w-3 h-3"}),""]})})}function SF(){return f.jsx(zm,{title:"   ",description:"    .     .",icon:f.jsx(pa,{className:"w-7 h-7",disabled:!0}),children:f.jsx(_C,{})})}function CF(){return f.jsx(Oe,{justify:"justify-center",align:"items-center",children:f.jsx(jt,{variant:"ghost",size:"medium",disabled:!0,children:"   5   ."})})}function kF(){const{data:e,isPending:t,isError:n,refetch:r}=Fm(),{data:i}=Nv(bm.PINNED),s=vF(e?.map(u=>u.subjectId)??[]),o=u=>i?.find(h=>h.subjectId===u)?.seatCount??-1,a=u=>i?.find(h=>h.subjectId===u)?.queryTime??"";return t?f.jsx(jF,{}):n?f.jsx(CC,{onReload:r}):!s||s.length===0?f.jsx(SF,{}):f.jsxs(va,{columns:{base:1,md:3},gap:"gap-4",children:[s.map(u=>f.jsx(xF,{subject:u,seats:o(u.subjectId),queryTime:a(u.subjectId)},`${u.subjectId}_${u.subjectCode}_${u.professorName}`)),s.length<5?f.jsx(_C,{}):f.jsx(CF,{})]})}function jF(){return f.jsx("div",{className:"animate-pulse grid grid-cols-1 md:grid-cols-3 gap-4",children:[0,0,0].map((e,t)=>f.jsx("div",{className:"bg-gray-300 shadow-sm rounded-lg p-4 h-24"},"skeleton-card-"+t))})}const EF=()=>{const[e,t]=T.useState(!1);return f.jsxs(Tn,{children:[f.jsx($D,{isOpen:e,close:()=>t(!1)}),f.jsx(qD,{}),f.jsx(TF,{setIsAlarmSettingOpen:t}),f.jsx(kF,{})]})};function TF({setIsAlarmSettingOpen:e}){const{isAlarm:t,changeAlarm:n}=lN(),{isError:r,refetch:i}=Nv(bm.PINNED);return f.jsxs(Oe,{direction:"flex-row",justify:"justify-between",align:"align-top",className:"mb-4",children:[f.jsxs(Oe,{align:"items-center",justify:"justify-center",gap:"gap-2",children:[f.jsx(Lt,{level:3,children:"  "}),f.jsx(CP,{children:f.jsxs("p",{className:"text-sm",children:["    ",f.jsx("br",{}),f.jsx("span",{className:"text-red-500",children:"*     "})]})})]}),f.jsxs(Oe,{align:"items-center",gap:"gap-1",children:[r&&f.jsx(rr,{icon:f.jsx(gC,{className:"w-5 h-5"}),"aria-label":" ",label:" ",onClick:i}),f.jsx(rr,{icon:f.jsx(BD,{className:"w-5 h-5"}),"aria-label":" ",label:" ",onClick:()=>e(!0)}),f.jsx(rr,{icon:f.jsx(iF,{isAlarm:t}),"aria-label":t?" ":" ",label:t?" ":" ",onClick:n})]})]})}const PF=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:15.75,height:18,viewBox:"0 0 15.75 18",...e},T.createElement("defs",null,T.createElement("clipPath",{id:"master_svg0_85_3269"},T.createElement("rect",{x:0,y:0,width:15.75,height:18,rx:0}))),T.createElement("g",{clipPath:"url(#master_svg0_85_3269)"},T.createElement("g",{transform:"matrix(1,0,0,-1,0,32.2734375)"},T.createElement("g",null,T.createElement("path",{d:"M15.4336,22.07812875Q15.75,22.42968875,15.75,22.88671875Q15.75,23.34374875,15.4336,23.69530875L9.80859,29.32031875Q9.45703,29.63671875,9,29.63671875Q8.54297,29.63671875,8.19141,29.32031875Q7.875,28.96871875,7.875,28.51171875Q7.875,28.05471875,8.19141,27.70311875L11.918,24.01171875L1.125,24.01171875Q0.632812,24.01171875,0.316406,23.69530875Q0,23.37890875,0,22.88671875Q0,22.39452875,0.316406,22.07812875Q0.632812,21.76171875,1.125,21.76171875L11.918,21.76171875L8.19141,18.07030875Q7.875,17.71874875,7.875,17.26171875Q7.875,16.80468775,8.19141,16.45312475Q8.54297,16.13671875,9,16.13671875Q9.45703,16.13671875,9.80859,16.45312475L15.4336,22.07812875Z",fill:"#FFFFFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})))));function NF(e=200){const[t,n]=T.useState(!1);return T.useEffect(()=>{const i=()=>n(window.scrollY>e);return i(),window.addEventListener("scroll",i,{passive:!0}),()=>window.removeEventListener("scroll",i)},[e]),{isVisible:t,scrollToTop:()=>{window.scrollTo({top:0,behavior:"smooth"})}}}function kC({right:e="right-2 sm:right-10",bottom:t="bottom-4"}){const{isVisible:n,scrollToTop:r}=NF(200);return f.jsx("button",{"aria-label":"  ",className:`fixed ${t} ${e} z-50 w-12 h-12 rounded-full bg-blue-500 text-white shadow-lg 
                  flex justify-center items-center cursor-pointer transition-opacity duration-200
                  ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:r,children:f.jsx(PF,{className:"w-6 h-6 -rotate-90"})})}const ma={keywords:"",department:"",grades:[],credits:[],categories:[],seatRange:null,wishRange:null,time:[],days:[],classroom:[],note:[],language:[],alarmOnly:!1,favoriteOnly:!1},ix=()=>Mr(e=>({filters:{...ma},setFilter:(t,n)=>e(r=>({filters:{...r.filters,[t]:n}})),resetFilters:()=>e({filters:ma})})),ys=ix(),Bu=ix(),_d=ix();function sx(){return f.jsxs("div",{className:"flex justify-end items-center mt-2 text-xs text-gray-500",children:[f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"block w-4 h-4 rounded bg-green-100 ml-1","aria-label":" "}),"  "]}),f.jsxs("span",{className:"flex items-center gap-2 ml-4",children:[f.jsx("span",{className:"block w-4 h-4 rounded bg-gray-100 ml-1","aria-label":" "})," "]})]})}function jC(e){const{data:t,isPending:n}=So(),r=Bm(t,Ol),i=r&&r[0]&&"seat"in r[0],s=T.useMemo(()=>i?[...e,{title:"",key:"seat"}]:e,[r,e]);return{data:r,titles:s,isPending:n,hasRealSeats:i}}let ai;function EC(){return ai||(ai=JSON.parse(localStorage.getItem("departmentRank")??"{}"),ai)}function OF(){ai&&localStorage.setItem("departmentRank",JSON.stringify(ai))}function $m(e){ai||(ai=EC()),ai[e]===void 0?ai[e]=0:ai[e]+=1,OF()}function TC(){return ai||(ai=EC()),Object.entries(ai).sort(([,e],[,t])=>t-e)}function fh(e){const t=T.useMemo(()=>{const r=TC();return new Map(r.map(([i,s],o)=>[i,o]))},[]),n=T.useMemo(()=>{if(e)return RF(e)},[e]);return T.useMemo(()=>{if(!n)return;const r=o=>{const a=t.get(o);return a===void 0?5:a};return n.map(o=>{const u=(5-r(o.departmentCode??o.deptCd))*250+o.rank*100-Number(o.classCode);return{...o,searchScore:u}}).sort((o,a)=>a.searchScore-o.searchScore).map(({searchScore:o,...a})=>a)},[t,n])}function RF(e){const t=new Map;for(const n of e){const r=`${n.subjectCode}-${n.departmentCode}`,i=t.get(r);i?(i.sum+=n.totalCount??0,i.count+=1):t.set(r,{sum:n.totalCount??0,count:1})}return e.map(n=>{const r=`${n.subjectCode}-${n.departmentCode}`,i=t.get(r),s=i.sum/i.count;return{...n,rank:s}})}const MF=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>th(async()=>{const{default:r}=await Promise.resolve().then(()=>hc);return{default:r}},[]).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class ox extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class AF extends ox{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class A5 extends ox{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class L5 extends ox{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var jy;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(jy||(jy={}));var LF=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(p){o(p)}}function u(h){try{c(r.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};class IF{constructor(t,{headers:n={},customFetch:r,region:i=jy.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=MF(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return LF(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let a={},{region:u}=n;u||(u=this.region);const c=new URL(`${this.url}/${t}`);u&&u!=="any"&&(a["x-region"]=u,c.searchParams.set("forceFunctionRegion",u));let h;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(a["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(a["Content-Type"]="application/json",h=JSON.stringify(o)));const p=yield this.fetch(c.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:h}).catch(S=>{throw new AF(S)}),g=p.headers.get("x-relay-error");if(g&&g==="true")throw new A5(p);if(!p.ok)throw new L5(p);let x=((r=p.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return x==="application/json"?w=yield p.json():x==="application/octet-stream"?w=yield p.blob():x==="text/event-stream"?w=p:x==="multipart/form-data"?w=yield p.formData():w=yield p.text(),{data:w,error:null,response:p}}catch(i){return{data:null,error:i,response:i instanceof L5||i instanceof A5?i.context:void 0}}})}}var cr={},Su={},Cu={},ku={},ju={},Eu={},DF=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},nc=DF();const FF=nc.fetch,PC=nc.fetch.bind(nc),NC=nc.Headers,BF=nc.Request,zF=nc.Response,hc=Object.freeze(Object.defineProperty({__proto__:null,Headers:NC,Request:BF,Response:zF,default:PC,fetch:FF},Symbol.toStringTag,{value:"Module"})),$F=xk(hc);var Jf={},I5;function OC(){if(I5)return Jf;I5=1,Object.defineProperty(Jf,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Jf.default=e,Jf}var D5;function RC(){if(D5)return Eu;D5=1;var e=Eu&&Eu.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Eu,"__esModule",{value:!0});const t=e($F),n=e(OC());class r{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=Object.assign({},this.headers),this.headers[s]=o,this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let u=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var h,p,g;let x=null,w=null,S=null,k=c.status,E=c.statusText;if(c.ok){if(this.method!=="HEAD"){const U=await c.text();U===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?w=U:w=JSON.parse(U))}const A=(h=this.headers.Prefer)===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),z=(p=c.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");A&&z&&z.length>1&&(S=parseInt(z[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(x={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,S=null,k=406,E="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const A=await c.text();try{x=JSON.parse(A),Array.isArray(x)&&c.status===404&&(w=[],x=null,k=200,E="OK")}catch{c.status===404&&A===""?(k=204,E="No Content"):x={message:A}}if(x&&this.isMaybeSingle&&(!((g=x?.details)===null||g===void 0)&&g.includes("0 rows"))&&(x=null,k=200,E="OK"),x&&this.shouldThrowOnError)throw new n.default(x)}return{error:x,data:w,count:S,status:k,statusText:E}});return this.shouldThrowOnError||(u=u.catch(c=>{var h,p,g;return{error:{message:`${(h=c?.name)!==null&&h!==void 0?h:"FetchError"}: ${c?.message}`,details:`${(p=c?.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(g=c?.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),u.then(s,o)}returns(){return this}overrideTypes(){return this}}return Eu.default=r,Eu}var F5;function MC(){if(F5)return ju;F5=1;var e=ju&&ju.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ju,"__esModule",{value:!0});const t=e(RC());class n extends t.default{select(i){let s=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:a,referencedTable:u=a}={}){const c=u?`${u}.order`:"order",h=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${h?`${h},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:a=o}={}){const u=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(c,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:a=!1,wal:u=!1,format:c="text"}={}){var h;const p=[i?"analyze":null,s?"verbose":null,o?"settings":null,a?"buffers":null,u?"wal":null].filter(Boolean).join("|"),g=(h=this.headers.Accept)!==null&&h!==void 0?h:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${g}"; options=${p};`,c==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return ju.default=n,ju}var B5;function ax(){if(B5)return ku;B5=1;var e=ku&&ku.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ku,"__esModule",{value:!0});const t=e(MC());class n extends t.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const o=Array.from(new Set(s)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:o,type:a}={}){let u="";a==="plain"?u="pl":a==="phrase"?u="ph":a==="websearch"&&(u="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${u}fts${c}.${s}`),this}match(i){return Object.entries(i).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(i,s,o){return this.url.searchParams.append(i,`not.${s}.${o}`),this}or(i,{foreignTable:s,referencedTable:o=s}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${i})`),this}filter(i,s,o){return this.url.searchParams.append(i,`${s}.${o}`),this}}return ku.default=n,ku}var z5;function AC(){if(z5)return Cu;z5=1;var e=Cu&&Cu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Cu,"__esModule",{value:!0});const t=e(ax());class n{constructor(i,{headers:s={},schema:o,fetch:a}){this.url=i,this.headers=s,this.schema=o,this.fetch=a}select(i,{head:s=!1,count:o}={}){const a=s?"HEAD":"GET";let u=!1;const c=(i??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",c),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:s,defaultToNull:o=!0}={}){const a="POST",u=[];if(this.headers.Prefer&&u.push(this.headers.Prefer),s&&u.push(`count=${s}`),o||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(i)){const c=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(c.length>0){const h=[...new Set(c)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:a,defaultToNull:u=!0}={}){const c="POST",h=[`resolution=${o?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&h.push(this.headers.Prefer),a&&h.push(`count=${a}`),u||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(i)){const p=i.reduce((g,x)=>g.concat(Object.keys(x)),[]);if(p.length>0){const g=[...new Set(p)].map(x=>`"${x}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:s}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),this.headers.Prefer=a.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const s="DELETE",o=[];return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Cu.default=n,Cu}var ld={},ud={},$5;function UF(){return $5||($5=1,Object.defineProperty(ud,"__esModule",{value:!0}),ud.version=void 0,ud.version="0.0.0-automated"),ud}var U5;function HF(){if(U5)return ld;U5=1,Object.defineProperty(ld,"__esModule",{value:!0}),ld.DEFAULT_HEADERS=void 0;const e=UF();return ld.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},ld}var H5;function VF(){if(H5)return Su;H5=1;var e=Su&&Su.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Su,"__esModule",{value:!0});const t=e(AC()),n=e(ax()),r=HF();class i{constructor(o,{headers:a={},schema:u,fetch:c}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=u,this.fetch=c}from(o){const a=new URL(`${this.url}/${o}`);return new t.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:u=!1,get:c=!1,count:h}={}){let p;const g=new URL(`${this.url}/rpc/${o}`);let x;u||c?(p=u?"HEAD":"GET",Object.entries(a).filter(([S,k])=>k!==void 0).map(([S,k])=>[S,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([S,k])=>{g.searchParams.append(S,k)})):(p="POST",x=a);const w=Object.assign({},this.headers);return h&&(w.Prefer=`count=${h}`),new n.default({method:p,url:g,headers:w,schema:this.schemaName,body:x,fetch:this.fetch,allowEmpty:!1})}}return Su.default=i,Su}var V5;function QF(){if(V5)return cr;V5=1;var e=cr&&cr.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(cr,"__esModule",{value:!0}),cr.PostgrestError=cr.PostgrestBuilder=cr.PostgrestTransformBuilder=cr.PostgrestFilterBuilder=cr.PostgrestQueryBuilder=cr.PostgrestClient=void 0;const t=e(VF());cr.PostgrestClient=t.default;const n=e(AC());cr.PostgrestQueryBuilder=n.default;const r=e(ax());cr.PostgrestFilterBuilder=r.default;const i=e(MC());cr.PostgrestTransformBuilder=i.default;const s=e(RC());cr.PostgrestBuilder=s.default;const o=e(OC());return cr.PostgrestError=o.default,cr.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:o.default},cr}var WF=QF();const qF=Ei(WF),{PostgrestClient:KF,PostgrestQueryBuilder:LX,PostgrestFilterBuilder:IX,PostgrestTransformBuilder:DX,PostgrestBuilder:FX,PostgrestError:BX}=qF;function GF(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const YF=GF(),XF="2.11.15",JF=`realtime-js/${XF}`,ZF="1.0.0",LC=1e4,eB=1e3;var Nd;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Nd||(Nd={}));var jr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(jr||(jr={}));var fs;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(fs||(fs={}));var Ey;(function(e){e.websocket="websocket"})(Ey||(Ey={}));var ul;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ul||(ul={}));class tB{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+i));o=o+i;const u=r.decode(t.slice(o,o+s));o=o+s;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:u,payload:c}}}class IC{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var un;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(un||(un={}));const Q5=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,o)=>(s[o]=nB(o,e,t,i),s),{})},nB=(e,t,n,r)=>{const i=t.find(a=>a.name===e),s=i?.type,o=n[e];return s&&!r.includes(s)?DC(s,o):Ty(o)},DC=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return oB(t,n)}switch(e){case un.bool:return rB(t);case un.float4:case un.float8:case un.int2:case un.int4:case un.int8:case un.numeric:case un.oid:return iB(t);case un.json:case un.jsonb:return sB(t);case un.timestamp:return aB(t);case un.abstime:case un.date:case un.daterange:case un.int4range:case un.int8range:case un.money:case un.reltime:case un.text:case un.time:case un.timestamptz:case un.timetz:case un.tsrange:case un.tstzrange:return Ty(t);default:return Ty(t)}},Ty=e=>e,rB=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},iB=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},sB=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},oB=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const o=e.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>DC(t,a))}return e},aB=e=>typeof e=="string"?e.replace(" ","T"):e,FC=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class a1{constructor(t,n,r={},i=LC){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var W5;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(W5||(W5={}));class Od{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Od.syncState(this.state,i,s,o),this.pendingDiffs.forEach(u=>{this.state=Od.syncDiff(this.state,u,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Od.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),o=this.transformState(n),a={},u={};return this.map(s,(c,h)=>{o[c]||(u[c]=h)}),this.map(o,(c,h)=>{const p=s[c];if(p){const g=h.map(k=>k.presence_ref),x=p.map(k=>k.presence_ref),w=h.filter(k=>x.indexOf(k.presence_ref)<0),S=p.filter(k=>g.indexOf(k.presence_ref)<0);w.length>0&&(a[c]=w),S.length>0&&(u[c]=S)}else a[c]=h}),this.syncDiff(s,{joins:a,leaves:u},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,u)=>{var c;const h=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(u),h.length>0){const p=t[a].map(x=>x.presence_ref),g=h.filter(x=>p.indexOf(x.presence_ref)<0);t[a].unshift(...g)}r(a,h,u)}),this.map(o,(a,u)=>{let c=t[a];if(!c)return;const h=u.map(p=>p.presence_ref);c=c.filter(p=>h.indexOf(p.presence_ref)<0),t[a]=c,i(a,c,u),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var q5;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(q5||(q5={}));var K5;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(K5||(K5={}));var uo;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(uo||(uo={}));class lx{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=jr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new a1(this,fs.join,this.params,this.timeout),this.rejoinTimer=new IC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=jr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=jr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=jr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=jr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fs.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Od(this),this.broadcastEndpointURL=FC(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==jr.closed){const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(h=>t?.(uo.CHANNEL_ERROR,h)),this._onClose(()=>t?.(uo.CLOSED));const u={},c={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},u)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var p;if(this.socket.setAuth(),h===void 0){t?.(uo.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,x=(p=g?.length)!==null&&p!==void 0?p:0,w=[];for(let S=0;S<x;S++){const k=g[S],{filter:{event:E,schema:R,table:A,filter:z}}=k,U=h&&h[S];if(U&&U.event===E&&U.schema===R&&U.table===A&&U.filter===z)w.push(Object.assign(Object.assign({},k),{id:U.id}));else{this.unsubscribe(),this.state=jr.errored,t?.(uo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(uo.SUBSCRIBED);return}}).receive("error",h=>{this.state=jr.errored,t?.(uo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t?.(uo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,u;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=jr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fs.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new a1(this,fs.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new a1(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const o=t.toLocaleLowerCase(),{close:a,error:u,leave:c,join:h}=fs;if(r&&[a,u,c,h].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var w,S,k;return((w=x.filter)===null||w===void 0?void 0:w.event)==="*"||((k=(S=x.filter)===null||S===void 0?void 0:S.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(x=>x.callback(g,r)):(s=this.bindings[o])===null||s===void 0||s.filter(x=>{var w,S,k,E,R,A;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in x){const z=x.id,U=(w=x.filter)===null||w===void 0?void 0:w.event;return z&&((S=n.ids)===null||S===void 0?void 0:S.includes(z))&&(U==="*"||U?.toLocaleLowerCase()===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const z=(R=(E=x?.filter)===null||E===void 0?void 0:E.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return z==="*"||z===((A=n?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===o}).map(x=>{if(typeof g=="object"&&"ids"in g){const w=g.data,{schema:S,table:k,commit_timestamp:E,type:R,errors:A}=w;g=Object.assign(Object.assign({},{schema:S,table:k,commit_timestamp:E,eventType:R,new:{},old:{},errors:A}),this._getPayloadRecords(w))}x.callback(g,r)})}_isClosed(){return this.state===jr.closed}_isJoined(){return this.state===jr.joined}_isJoining(){return this.state===jr.joining}_isLeaving(){return this.state===jr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&lx.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(fs.close,{},t)}_onError(t){this._on(fs.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=jr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Q5(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Q5(t.columns,t.old_record)),n}}const G5=()=>{},lB=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class uB{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=LC,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=G5,this.ref=0,this.logger=G5,this.conn=null,this.sendBuffer=[],this.serializer=new tB,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>th(async()=>{const{default:u}=await Promise.resolve().then(()=>hc);return{default:u}},void 0).then(({default:u})=>u(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${Ey.websocket}`,this.httpEndpoint=FC(t),n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n?.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new IC(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch),n?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=n?.worker||!1,this.workerUrl=n?.workerUrl}this.accessToken=n?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=YF),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ZF}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Nd.connecting:return ul.Connecting;case Nd.open:return ul.Open;case Nd.closing:return ul.Closing;default:return ul.Closed}}isConnected(){return this.connectionState()===ul.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new lx(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,o=()=>{this.encode(t,a=>{var u;(u=this.conn)===null||u===void 0||u.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:JF};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(fs.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(eB,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(fs.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([lB],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class ux extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function dr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class cB extends ux{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Py extends ux{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var dB=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(p){o(p)}}function u(h){try{c(r.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};const BC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>th(async()=>{const{default:r}=await Promise.resolve().then(()=>hc);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},hB=()=>dB(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield th(()=>Promise.resolve().then(()=>hc),void 0)).Response:Response}),Ny=e=>{if(Array.isArray(e))return e.map(n=>Ny(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Ny(r)}),t},fB=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Rl=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(p){o(p)}}function u(h){try{c(r.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};const l1=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),pB=(e,t,n)=>Rl(void 0,void 0,void 0,function*(){const r=yield hB();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{const s=e.status||500,o=i?.statusCode||s+"";t(new cB(l1(i),s,o))}).catch(i=>{t(new Py(l1(i),i))}):t(new Py(l1(e),e))}),mB=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(fB(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n))};function ph(e,t,n,r,i,s){return Rl(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,mB(t,r,i,s)).then(u=>{if(!u.ok)throw u;return r?.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>pB(u,a,r))})})}function Zp(e,t,n,r){return Rl(this,void 0,void 0,function*(){return ph(e,"GET",t,n,r)})}function co(e,t,n,r,i){return Rl(this,void 0,void 0,function*(){return ph(e,"POST",t,r,i,n)})}function Oy(e,t,n,r,i){return Rl(this,void 0,void 0,function*(){return ph(e,"PUT",t,r,i,n)})}function gB(e,t,n,r){return Rl(this,void 0,void 0,function*(){return ph(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function zC(e,t,n,r,i){return Rl(this,void 0,void 0,function*(){return ph(e,"DELETE",t,r,i,n)})}var ni=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(p){o(p)}}function u(h){try{c(r.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};const yB={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Y5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class vB{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=BC(i)}uploadOrUpdate(t,n,r,i){return ni(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},Y5),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),u&&s.append("metadata",this.encodeMetadata(u)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),u&&s.append("metadata",this.encodeMetadata(u))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,u&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),h=this._getFinalPath(c),p=yield(t=="PUT"?Oy:co)(this.fetch,`${this.url}/object/${h}`,s,Object.assign({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:p.Id,fullPath:p.Key},error:null}}catch(s){if(dr(s))return{data:null,error:s};throw s}})}upload(t,n,r){return ni(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return ni(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let u;const c=Object.assign({upsert:Y5.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",c.cacheControl)):(u=r,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType);const p=yield Oy(this.fetch,a.toString(),u,{headers:h});return{data:{path:s,fullPath:p.Key},error:null}}catch(u){if(dr(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,n){return ni(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const s=yield co(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new ux("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(dr(r))return{data:null,error:r};throw r}})}update(t,n,r){return ni(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return ni(this,void 0,void 0,function*(){try{return{data:yield co(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(dr(i))return{data:null,error:i};throw i}})}copy(t,n,r){return ni(this,void 0,void 0,function*(){try{return{data:{path:(yield co(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(dr(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return ni(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield co(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(dr(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return ni(this,void 0,void 0,function*(){try{const i=yield co(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(dr(i))return{data:null,error:i};throw i}})}download(t,n){return ni(this,void 0,void 0,function*(){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(n?.transform||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Zp(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(dr(a))return{data:null,error:a};throw a}})}info(t){return ni(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Zp(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ny(r),error:null}}catch(r){if(dr(r))return{data:null,error:r};throw r}})}exists(t){return ni(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield gB(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(dr(r)&&r instanceof Py){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n?.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof n?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(n?.transform||{});u!==""&&i.push(u);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return ni(this,void 0,void 0,function*(){try{return{data:yield zC(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(dr(n))return{data:null,error:n};throw n}})}list(t,n,r){return ni(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},yB),n),{prefix:t||""});return{data:yield co(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(dr(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const xB="2.10.4",bB={"X-Client-Info":`storage-js/${xB}`};var Tu=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(p){o(p)}}function u(h){try{c(r.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};class wB{constructor(t,n={},r,i){const s=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},bB),n),this.fetch=BC(r)}listBuckets(){return Tu(this,void 0,void 0,function*(){try{return{data:yield Zp(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(dr(t))return{data:null,error:t};throw t}})}getBucket(t){return Tu(this,void 0,void 0,function*(){try{return{data:yield Zp(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(dr(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Tu(this,void 0,void 0,function*(){try{return{data:yield co(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(dr(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Tu(this,void 0,void 0,function*(){try{return{data:yield Oy(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(dr(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Tu(this,void 0,void 0,function*(){try{return{data:yield co(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(dr(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Tu(this,void 0,void 0,function*(){try{return{data:yield zC(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(dr(n))return{data:null,error:n};throw n}})}}class _B extends wB{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new vB(this.url,this.headers,t,this.fetch)}}const SB="2.53.0";let Sd="";typeof Deno<"u"?Sd="deno":typeof document<"u"?Sd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Sd="react-native":Sd="node";const CB={"X-Client-Info":`supabase-js-${Sd}/${SB}`},kB={headers:CB},jB={schema:"public"},EB={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},TB={};var PB=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(p){o(p)}}function u(h){try{c(r.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};const NB=e=>{let t;return e?t=e:typeof fetch>"u"?t=PC:t=fetch,(...n)=>t(...n)},OB=()=>typeof Headers>"u"?NC:Headers,RB=(e,t,n)=>{const r=NB(n),i=OB();return(s,o)=>PB(void 0,void 0,void 0,function*(){var a;const u=(a=yield t())!==null&&a!==void 0?a:e;let c=new i(o?.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),r(s,Object.assign(Object.assign({},o),{headers:c}))})};var MB=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(p){o(p)}}function u(h){try{c(r.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};function AB(e){return e.endsWith("/")?e:e+"/"}function LB(e,t){var n,r;const{db:i,auth:s,realtime:o,global:a}=e,{db:u,auth:c,realtime:h,global:p}=t,g={db:Object.assign(Object.assign({},u),i),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},h),o),storage:{},global:Object.assign(Object.assign(Object.assign({},p),a),{headers:Object.assign(Object.assign({},(n=p?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>MB(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const $C="2.71.1",zu=30*1e3,Ry=3,u1=Ry*zu,IB="http://localhost:9999",DB="supabase.auth.token",FB={"X-Client-Info":`gotrue-js/${$C}`},My="X-Supabase-Api-Version",UC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},BB=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,zB=600*1e3;class cx extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function kt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class $B extends cx{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function UB(e){return kt(e)&&e.name==="AuthApiError"}class HC extends cx{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class wa extends cx{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Zo extends wa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function HB(e){return kt(e)&&e.name==="AuthSessionMissingError"}class Zf extends wa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ep extends wa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class tp extends wa{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function VB(e){return kt(e)&&e.name==="AuthImplicitGrantRedirectError"}class X5 extends wa{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ay extends wa{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function c1(e){return kt(e)&&e.name==="AuthRetryableFetchError"}class J5 extends wa{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ly extends wa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const em="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Z5=` 	
\r=`.split(""),QB=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Z5.length;t+=1)e[Z5[t].charCodeAt(0)]=-2;for(let t=0;t<em.length;t+=1)e[em[t].charCodeAt(0)]=t;return e})();function e_(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(em[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(em[r]),t.queuedBits-=6}}function VC(e,t,n){const r=QB[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function t_(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{KB(o,r,n)};for(let o=0;o<e.length;o+=1)VC(e.charCodeAt(o),i,s);return t.join("")}function WB(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function qB(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}WB(r,t)}}function KB(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function GB(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)VC(e.charCodeAt(i),n,r);return new Uint8Array(t)}function YB(e){const t=[];return qB(e,n=>t.push(n)),new Uint8Array(t)}function XB(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>e_(i,n,r)),e_(null,n,r),t.join("")}function JB(e){return Math.round(Date.now()/1e3)+e}function ZB(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const hs=()=>typeof window<"u"&&typeof document<"u",el={tested:!1,writable:!1},QC=()=>{if(!hs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(el.tested)return el.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),el.tested=!0,el.writable=!0}catch{el.tested=!0,el.writable=!1}return el.writable};function ez(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const WC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>th(async()=>{const{default:r}=await Promise.resolve().then(()=>hc);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},tz=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",$u=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},tl=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Yo=async(e,t)=>{await e.removeItem(t)};class Um{constructor(){this.promise=new Um.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Um.promiseConstructor=Promise;function d1(e){const t=e.split(".");if(t.length!==3)throw new Ly("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!BB.test(t[r]))throw new Ly("JWT not in base64url format");return{header:JSON.parse(t_(t[0])),payload:JSON.parse(t_(t[1])),signature:GB(t[2]),raw:{header:t[0],payload:t[1]}}}async function nz(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function rz(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){r(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function iz(e){return("0"+e.toString(16)).substr(-2)}function sz(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,iz).join("")}async function oz(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function az(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await oz(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Pu(e,t,n=!1){const r=sz();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await $u(e,`${t}-code-verifier`,i);const s=await az(r);return[s,r===s?"plain":"s256"]}const lz=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function uz(e){const t=e.headers.get(My);if(!t||!t.match(lz))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function cz(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function dz(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const hz=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Nu(e){if(!hz.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function h1(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function n_(e){return JSON.parse(JSON.stringify(e))}var fz=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const al=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),pz=[502,503,504];async function r_(e){var t;if(!tz(e))throw new Ay(al(e),0);if(pz.includes(e.status))throw new Ay(al(e),e.status);let n;try{n=await e.json()}catch(s){throw new HC(al(s),s)}let r;const i=uz(e);if(i&&i.getTime()>=UC["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new J5(al(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Zo}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new J5(al(n),e.status,n.weak_password.reasons);throw new $B(al(n),e.status||500,r)}const mz=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Ft(e,t,n,r){var i;const s=Object.assign({},r?.headers);s[My]||(s[My]=UC["2024-01-01"].name),r?.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await gz(e,t,n+a,{headers:s,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}}async function gz(e,t,n,r,i,s){const o=mz(t,r,i,s);let a;try{a=await e(n,Object.assign({},o))}catch(u){throw console.error(u),new Ay(al(u),0)}if(a.ok||await r_(a),r?.noResolveJson)return a;try{return await a.json()}catch(u){await r_(u)}}function lo(e){var t;let n=null;bz(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=JB(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function i_(e){const t=lo(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ta(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function yz(e){return{data:e,error:null}}function vz(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,o=fz(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},u=Object.assign({},o);return{data:{properties:a,user:u},error:null}}function xz(e){return e}function bz(e){return e.access_token&&e.refresh_token&&e.expires_in}const f1=["global","local","others"];var wz=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class _z{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=WC(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=f1[0]){if(f1.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${f1.join(", ")}`);try{return await Ft(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Ft(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ta})}catch(r){if(kt(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=wz(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await Ft(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:vz,redirectTo:n?.redirectTo})}catch(n){if(kt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ft(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ta})}catch(n){if(kt(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,o,a,u;try{const c={nextPage:null,lastPage:0,total:0},h=await Ft(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:xz});if(h.error)throw h.error;const p=await h.json(),g=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(u=(a=h.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return x.length>0&&(x.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(w.split(";")[1].split("=")[1]);c[`${k}Page`]=S}),c.total=parseInt(g)),{data:Object.assign(Object.assign({},p),c),error:null}}catch(c){if(kt(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Nu(t);try{return await Ft(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ta})}catch(n){if(kt(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Nu(t);try{return await Ft(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ta})}catch(r){if(kt(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Nu(t);try{return await Ft(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ta})}catch(r){if(kt(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Nu(t.userId);try{const{data:n,error:r}=await Ft(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(kt(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Nu(t.userId),Nu(t.id);try{return{data:await Ft(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}}}function s_(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Sz(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ou={debug:!!(globalThis&&QC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class qC extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Cz extends qC{}async function kz(e,t,n){Ou.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Ou.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Ou.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Ou.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Ou.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Cz(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ou.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Sz();const jz={url:IB,storageKey:DB,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:FB,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function o_(e,t,n){return await n()}const Ru={};class Yd{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Yd.nextInstanceID,Yd.nextInstanceID+=1,this.instanceID>0&&hs()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},jz),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new _z({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=WC(i.fetch),this.lock=i.lock||o_,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:hs()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=kz:this.lock=o_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:QC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=s_(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=s_(this.memoryStorage)),hs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Ru[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Ru[this.storageKey]=Object.assign(Object.assign({},Ru[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Ru[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ru[this.storageKey]=Object.assign(Object.assign({},Ru[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${$C}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=ez(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),hs()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),VB(s)){const u=(t=s.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return kt(n)?{error:n}:{error:new HC("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await Ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:lo}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(kt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:h,password:p,options:g}=t;let x=null,w=null;this.flowType==="pkce"&&([x,w]=await Pu(this.storage,this.storageKey)),s=await Ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:h,password:p,data:(n=g?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:x,code_challenge_method:w},xform:lo})}else if("phone"in t){const{phone:h,password:p,options:g}=t;s=await Ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(r=g?.data)!==null&&r!==void 0?r:{},channel:(i=g?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:lo})}else throw new ep("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(kt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:o,options:a}=t;n=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:i_})}else if("phone"in t){const{phone:s,password:o,options:a}=t;n=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:i_})}else throw new ep("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Zf}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(kt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,i,s,o,a,u,c,h,p,g,x;let w,S;if("message"in t)w=t.message,S=t.signature;else{const{chain:k,wallet:E,statement:R,options:A}=t;let z;if(hs())if(typeof E=="object")z=E;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))z=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=E}const U=new URL((n=A?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in z&&z.signIn){const N=await z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:U.host,uri:U.href}),R?{statement:R}:null));let I;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")I=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)I=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)w=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),S=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in z)||typeof z.signMessage!="function"||!("publicKey"in z)||typeof z!="object"||!z.publicKey||!("toBase58"in z.publicKey)||typeof z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${U.host} wants you to sign in with your Solana account:`,z.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${U.href}`,`Issued At: ${(i=(r=A?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=A?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((o=A?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((a=A?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((u=A?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((c=A?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((p=(h=A?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...A.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const N=await z.signMessage(new TextEncoder().encode(w),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=N}}try{const{data:k,error:E}=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:XB(S)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:lo});if(E)throw E;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new Zf}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:E})}catch(k){if(kt(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(t){const n=await tl(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:lo});if(await Yo(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Zf}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(kt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=t,a=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:lo}),{data:u,error:c}=a;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Zf}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(n){if(kt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,o;try{if("email"in t){const{email:a,options:u}=t;let c=null,h=null;this.flowType==="pkce"&&([c,h]=await Pu(this.storage,this.storageKey));const{error:p}=await Ft(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(r=u?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:c,code_challenge_method:h},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:a,options:u}=t,{data:c,error:h}=await Ft(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(o=u?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c?.message_id},error:h}}throw new ep("You must provide either an email or phone number.")}catch(a){if(kt(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await Ft(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:lo});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,c=o.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(kt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Pu(this.storage,this.storageKey)),await Ft(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:yz})}catch(s){if(kt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Zo;const{error:i}=await Ft(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(kt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:o}=await Ft(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:o,error:a}=await Ft(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:a}}throw new ep("You must provide either an email or phone number and a type")}catch(n){if(kt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await tl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<u1:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await tl(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=h1()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,c,h)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,h))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ft(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ta}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zo}:await Ft(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:ta})})}catch(n){if(kt(n))return HB(n)&&(await this._removeSession(),await Yo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Zo;const o=i.session;let a=null,u=null;this.flowType==="pkce"&&t.email!=null&&([a,u]=await Pu(this.storage,this.storageKey));const{data:c,error:h}=await Ft(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:u}),jwt:o.access_token,xform:ta});if(h)throw h;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(kt(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Zo;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=d1(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:a,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:u}=await this._getUser(t.access_token);if(u)throw u;s={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(kt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new Zo;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(kt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!hs())throw new tp("No browser detected.");if(t.error||t.error_description||t.error_code)throw new tp(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new X5("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new tp("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new X5("No code detected.");const{data:R,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const z=new URL(window.location.href);return z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",z.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:u,token_type:c}=t;if(!s||!a||!o||!c)throw new tp("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(a);let g=h+p;u&&(g=parseInt(u));const x=g-h;x*1e3<=zu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${p}s`);const w=g-p;h-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,g,h):h-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,g,h);const{data:S,error:k}=await this._getUser(s);if(k)throw k;const E={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:g,refresh_token:o,token_type:c,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:t.type},error:null}}catch(r){if(kt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await tl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(UB(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Yo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=ZB(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Pu(this.storage,this.storageKey,!0));try{return await Ft(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(kt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,u,c,h;const{data:p,error:g}=s;if(g)throw g;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Ft(this.fetch,"GET",x,{headers:this.headers,jwt:(h=(c=p.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return hs()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:t.provider,url:r?.url},error:null}}catch(r){if(kt(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await Ft(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(kt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await rz(async i=>(i>0&&await nz(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ft(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:lo})),(i,s)=>{const o=200*Math.pow(2,i);return s&&c1(s)&&Date.now()+o-r<zu})}catch(r){if(this._debug(n,"error",r),kt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),hs()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await tl(this.storage,this.storageKey);if(i&&this.userStorage){let o=await tl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await $u(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:h1()}else if(i&&!i.user&&!i.user){const o=await tl(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await Yo(this.storage,this.storageKey+"-user"),await $u(this.storage,this.storageKey,i)):i.user=h1()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<u1;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${u1}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),c1(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Zo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Um;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new Zo;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),kt(s)){const o={session:null,error:s};return c1(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(u){s.push(u)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await $u(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=n_(i);await $u(this.storage,this.storageKey,s)}else{const i=n_(n);await $u(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Yo(this.storage,this.storageKey),await Yo(this.storage,this.storageKey+"-code-verifier"),await Yo(this.storage,this.storageKey+"-user"),this.userStorage&&await Yo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&hs()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),zu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/zu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${zu}ms, refresh threshold is ${Ry} ticks`),i<=Ry&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof qC)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!hs()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await Pu(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r?.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Ft(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(kt(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:u,error:c}=await Ft(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(n){if(kt(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:a}=await Ft(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(kt(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Ft(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(kt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=t?.factors||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=d1(i.access_token);let a=null;o.aal&&(a=o.aal);let u=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const h=o.amr||[];return{data:{currentLevel:a,nextLevel:u,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+zB>i)return r;const{data:s,error:o}=await Ft(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:x,error:w}=await this.getSession();if(w||!x.session)return{data:null,error:w};r=x.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:u}}=d1(r);n?.allowExpired||cz(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!c){const{error:x}=await this.getUser(r);if(x)throw x;return{data:{claims:s,header:i,signature:o},error:null}}const h=dz(i.alg),p=await crypto.subtle.importKey("jwk",c,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,o,YB(`${a}.${u}`)))throw new Ly("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}}}Yd.nextInstanceID=0;const Ez=Yd;class Tz extends Ez{constructor(t){super(t)}}var Pz=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(p){o(p)}}function u(h){try{c(r.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};class Nz{constructor(t,n,r){var i,s,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=AB(t),u=new URL(a);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,h={db:jB,realtime:TB,auth:Object.assign(Object.assign({},EB),{storageKey:c}),global:kB},p=LB(r??{},h);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=p.global.headers)!==null&&s!==void 0?s:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=p.auth)!==null&&o!==void 0?o:{},this.headers,p.global.fetch),this.fetch=RB(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new KF(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new _B(this.storageUrl.href,this.headers,this.fetch,r?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new IF(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Pz(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:a,debug:u},c,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Tz({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),c),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:a,debug:u,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new uB(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Oz=(e,t,n)=>new Nz(e,t,n);function Rz(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Rz()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");function a_(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Mu=[..."".normalize("NFD")].map(e=>e.charCodeAt(0)),l_=44032,Mz=55203,p1=28,u_=21,Iy={"":"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Dy={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Az=["","","","","","","","","","","","","","","","","","",""],Lz=Object.values(Dy),Iz=["","","","","","","","","","","","","","","","","","","","","","","","","","","",""].map(e=>Iy[e]);function Dz(e){const t=e.charCodeAt(0);if(!(l_<=t&&t<=Mz))return;const r=t-l_,i=r%p1,s=(r-i)/p1%u_,o=Math.floor((r-i)/p1/u_);return{choseong:Az[o],jungseong:Lz[s],jongseong:Iz[i]}}function Fz(e){const t=[];for(const n of e){const r=Dz(n);if(r!=null){t.push([...r.choseong,...r.jungseong,...r.jongseong]);continue}if(a_(Iy,n)){const i=Iy[n];t.push([...i]);continue}if(a_(Dy,n)){const i=Dy[n];t.push([...i]);continue}t.push([n])}return t}function rc(e){return Fz(e).reduce((t,n)=>`${t}${n.join("")}`,"")}var tm={START_CHOSEONG:Mu[0],START_JUNGSEONG:Mu[1],START_JONGSEONG:Mu[2],END_CHOSEONG:Mu[3],END_JUNGSEONG:Mu[4],END_JONGSEONG:Mu[5]};new RegExp(`[^\\u${tm.START_CHOSEONG.toString(16)}-\\u${tm.END_CHOSEONG.toString(16)}-\\s]+`,"ug");new RegExp(`[\\u${tm.START_CHOSEONG.toString(16)}-\\u${tm.END_CHOSEONG.toString(16)}]`,"g");const Bz=Oz("https://jvbtsubxzytnjnzxmtbg.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp2YnRzdWJ4enl0bmpuenhtdGJnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQyMzMyMzgsImV4cCI6MjA2OTgwOTIzOH0.uUpg4kO7-uLmswUo8Dp_-WZwKw_xKqxRrpGmM2tN02I"),zz=30*1e3,$z=10*1e3,Uz=60*1e3,Hz=5,np="searchLoggingData",Vz="searches_dev",Ct={timer:null,commitDelay:zz,data:[],loadLoggingData(){if(Ct.data.length>0)return Ct.data;const e=localStorage.getItem(np);return e&&(Ct.data=JSON.parse(e)),Ct.data},updateLoggingData(e,t,n){const r=!t||Number.isNaN(Number(t))?-1:Number(t),s={search:e===void 0&&Ct.data.length>0?Ct.data[Ct.data.length-1].search:e??"",dprt_cd:r,target:n,created_at:Date.now()};if((a=>{if(Ct.data.length===0)return!1;const u=Ct.data[Ct.data.length-1];return u.target<0&&(m1(u.search,a.search)||m1(a.search,u.search))})(s)){const a=Ct.data[Ct.data.length-1];a.target=n,a.created_at=Date.now(),m1(s.search,a.search)&&(a.search=s.search),s.dprt_cd>=0&&(a.dprt_cd=s.dprt_cd)}else Ct.data.push(s);localStorage.setItem(np,JSON.stringify(Ct.data)),Ct.submitDelayCommit()},reconcileLoggingData(){Ct.data=Ct.data.filter(e=>!(e.search&&e.dprt_cd<0&&e.target<0)),Ct.data=Ct.data.filter((e,t)=>!(t>0&&e.search===Ct.data[t-1].search&&e.dprt_cd===Ct.data[t-1].dprt_cd&&e.target===-1)),localStorage.setItem(np,JSON.stringify(Ct.data))},submitDelayCommit(){if(Ct.timer&&(clearTimeout(Ct.timer),Ct.timer=null),Ct.data.length>Hz){const e=Ct.data.map(r=>r.created_at),t=e.slice(1).map((r,i)=>r-e[i]),n=t.reduce((r,i)=>r+i,0)/t.length;Ct.commitDelay=Math.min(Uz,Math.max($z,n+10*1e3))}Ct.timer=setTimeout(()=>{Ct.timer=null,Ct.commitLoggingData()},Ct.commitDelay)},commitLoggingData(){Ct.reconcileLoggingData();const e=Ct.data.length;if(e===0)return;const t=Ct.data.map(({search:n,dprt_cd:r,target:i})=>({search:n,dprt_cd:r,target:i}));Bz.from(Vz).insert(t).then(({error:n})=>{n?console.error("Error committing search logging data:",n):(Ct.data=Ct.data.slice(e),localStorage.setItem(np,JSON.stringify(Ct.data)))})}};function m1(e,t){const n=rc(e).toLowerCase(),r=rc(t).toLowerCase();return n.includes(r)}function mh(){T.useEffect(()=>{Ct.loadLoggingData()},[]);function e(r,i){Ct.updateLoggingData(r,i,-1)}function t(r,i,s){Ct.updateLoggingData(r,i,s)}function n(r){Ct.updateLoggingData(void 0,void 0,r)}return{onSearchChange:e,selectTarget:t,selectTargetOnly:n}}const Fy=Mr((e,t)=>({favorites:JSON.parse(localStorage.getItem("favorites")??"[]"),toggleFavorite:n=>{const r=t().favorites.includes(n);e(i=>{const s=r?i.favorites.filter(o=>o!==n):[...i.favorites,n];return localStorage.setItem("favorites",JSON.stringify(s)),{favorites:s}})},isFavorite:n=>t().favorites.includes(n)})),hn={grades:[1,2,3,4],credits:[1,2,3],days:["","","","",""],remark:["","SHP",""],classRoom:["","","","","AI","()","","","","","","","","","","","","","","","",""],wishRange:[{min:10},{min:50},{min:100},{min:200}],seatRange:[{min:1},{max:2},{max:5},{max:10}]},Qz={classRoom:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"AI",value:""},{label:"()",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]};function gh(e){return Wz(e.map(n=>n.curiTypeCdNm)).filter(n=>!!n)}function Wz(e){return Array.from(new Set(e))}const ui={keywords:"",department:"",grades:"",credits:"",classroom:"",seatRange:"",wishRange:" ",time:"",days:"",categories:" ",note:"",language:"",alarmOnly:"",favoriteOnly:""};function qz(e,t){if(t.length===0)return ui[e];const n=t[0];return t.length===1?la()[e]?.(n)??ui[e]:`${la()[e]?.(n)??ui[e]}  ${t.length-1}`}function Kz(e,t){if(t==null)return ui[e];const n=t;return e==="seatRange"?` ${la()[e]?.(n)??ui[e]}`:e==="wishRange"?`  ${la()[e]?.(n)??ui[e]}`:la()[e]?.(n)??ui[e]}function c_(e,t,n){if(t==null)return"";const r=t,i=la(n)[e]?.(r);return i?e==="seatRange"?` ${i}`:e==="wishRange"?` ${i}`:i:""}function la(e){const t=n=>e?e.find(i=>i.departmentCode===n)?.departmentName||n:"";return{keywords:n=>typeof n=="string"?n:"",department:n=>t(n),grades:n=>h_(n,ui.grades),credits:n=>h_(n,ui.credits),classroom:Gz,seatRange:d_,wishRange:d_,time:Yz,days:Xz,categories:n=>n,note:n=>n,language:n=>n,alarmOnly:()=>ui.alarmOnly,favoriteOnly:()=>ui.favoriteOnly}}const Gz=e=>!e||typeof e!="string"?"":Qz.classRoom.find(t=>t.value===e)?.label||e,d_=e=>{if(!e)return"";const{min:t,max:n}=e;return t!==void 0&&n!==void 0?`${t}  ~ ${n} `:t!==void 0?`${t} `:n!==void 0?`${n} `:""},Yz=e=>`${e.day}${ui.time} ${e.start}~${e.end}`,Xz=e=>e+"",h_=(e,t)=>e+t;function KC(e,t){return e==="time"&&Array.isArray(t)?t.length===0||t.length===1&&t[0].day==="":Array.isArray(ma[e])&&Array.isArray(t)?t.length===0:!t}function f_(e){return Array.isArray(e)?e.length>0:e!=null&&e!==""&&e!==!1}function dx(e,t){const n=[];for(const r in e){const i=e[r];if(r==="time"){const{day:s,type:o}=i;if(!s||!o)continue}r==="keywords"||r==="favoriteOnly"||r==="alarmOnly"||(Array.isArray(i)&&i.length>0&&i.forEach(s=>{f_(s)&&n.push({filterKey:r,values:s,label:c_(r,s,t)})}),!Array.isArray(i)&&f_(i)&&n.push({filterKey:r,values:i,label:i!==null?c_(r,i,t):""}))}return n}function Jz(e){const{data:t}=Fm(),n=Fy(o=>o.isFavorite),r=Zz(e,t,n),s=Object.keys(e).filter(o=>!KC(o,e[o]));return(o,a)=>s.every(u=>{const c=r[u];return c?c(o,a[u]):!0})}function Zz(e,t,n){const r=o=>t?.some(({subjectId:a})=>a===o)??!0,i=YC(e.keywords),s=e.keywords.replace(/[-\s]/g,"").toLowerCase();return{keywords:o=>o$(o,i,s),department:s$,grades:t$,credits:n$,categories:c$,seatRange:r$,wishRange:i$,time:u$,days:e$,classroom:a$,note:l$,language:d$,alarmOnly:o=>n(o.subjectId),favoriteOnly:o=>r(o.subjectId)}}function GC(e,t){if(!t)return!0;const{min:n,max:r}=t;return(n===void 0||e>=n)&&(r===void 0||e<=r)}function hx(e,t){return!t.length||t.includes(e)}function YC(e){const t=e.replace(/[^\w---]/g,"");return rc(t).toLowerCase()}function e$(e,t){if(!e.lesnTime||!t||t.length===0)return!0;const n=RegExp(/^([-]+)/).exec(e.lesnTime);if(!n)return!0;const r=n[1].split("");return t.some(i=>r.includes(i))}function t$(e,t){const n=Number(e.studentYear);return!n||t.includes("")||t.length===0?!0:t.includes(n)}function n$(e,t){const n=Number(e.tmNum.split("/")[0]);return!n||Number.isNaN(n)?!0:hx(n,t)}function r$(e,t){const n=e;return"seat"in n?GC(n.seat??0,t):!0}function i$(e,t){return"totalCount"in e?GC(e.totalCount??0,t):!0}function s$(e,t){return!t||t===""||t===e.deptCd}function o$(e,t,n){if(!t)return!0;const r=e.professorName?rc(e.professorName).toLowerCase():"",i=YC(e.subjectName),o=(e.subjectCode+e.classCode).toLowerCase().includes(n);return r.includes(t)||i.includes(t)||o}function a$(e,t){return t.length?e.lesnRoom?t.some(n=>new RegExp(`^${n}[\\w]`,"i").test(e.lesnRoom)):!1:!0}function l$(e,t){return!t||t.length===0?!0:t.some(n=>{switch(n){case"":return e.remark?.includes("")??!1;case"SHP":return["SHP","Honor"].some(r=>e.remark?.includes(r)??!1);case"":return!e.remark||!["","SHP","Honor"].some(r=>e.remark?.includes(r)??!1)}})}function u$(e,t){if(!t||t.length===0||!e.lesnTime)return!0;const r=new lc(e.lesnTime).toApiData().map(i=>({day:i.dayOfWeeks,start:new xu(i.startTime),end:new xu(i.endTime)}));return t.some(i=>{if(i.day==="")return!0;const s=r.filter(o=>o.day===i.day);if(i.type==="all"||!s.length)return!!s.length;if(i.type==="before"&&i.start){const o=new xu(i.start);return s.some(a=>a.end.compare(o)<=0)}if(i.type==="after"&&i.start){const o=new xu(i.start);return s.some(a=>o.compare(a.start)<=0)}if(i.type==="between"&&i.start&&i.end){const o=new xu(i.start),a=new xu(i.end);return s.some(u=>o.compare(u.start)<=0&&u.end.compare(a)<=0)}})}function c$(e,t){return hx(e.curiTypeCdNm,t)}function d$(e,t){return hx(e.curiLangNm??"",t)}function fc(e,t){const n=Jz(t),{onSearchChange:r}=mh(),{keywords:i,department:s}=t;return!e||e.length===0?[]:(r(i,s),e.filter(o=>n(o,t)))}const XC="2025-09-05";function Hm(e){const{hasSeats:t}=e??{},n=new Date>QS(`${XC}T10:00:00`);return{isPreSeatAvailable:!n}}function Xd({col:e,row:t}){return f.jsx(f.Fragment,{children:Array.from({length:t}).map((n,r)=>f.jsx("tr",{className:"animate-pulse border-t border-gray-200 h-10",children:Array.from({length:e}).map((i,s)=>f.jsx("td",{className:"bg-gray-300",colSpan:-1},`skeleton-td-${s}-${r}`))},"skeleton-row-"+r))})}const g1=45;function Vm(e,t="ref",n=".load-more-trigger"){const[r,i]=T.useState(g1),s=T.useRef(null),o=T.useRef(null);return T.useEffect(()=>{i(g1)},[e]),T.useEffect(()=>{const a=new IntersectionObserver(u=>{u.forEach(c=>{c.isIntersecting&&i(h=>h+g1)})},{root:null,rootMargin:"0px",threshold:.5});return o.current=a,t==="ref"&&s.current?a.observe(s.current):t==="selector"&&document.querySelectorAll(n).forEach(c=>a.observe(c)),()=>{a.disconnect()}},[e,t,n]),{visibleRows:r,...t==="ref"?{loadMoreRef:s}:{}}}const Qm=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16,height:16,viewBox:"0 0 16 16",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,32)"},T.createElement("path",{d:"M13,25.5Q12.9688,23.3125,11.75,21.65625L15.7188,17.71875Q16,17.40625,16,17Q16,16.59375,15.7188,16.28125Q15.4062,16,15,16Q14.5938,16,14.2812,16.28125L10.3438,20.25Q8.6875,19.03125,6.5,19Q3.75,19.0625,1.90625,20.90625Q0.0625,22.75,0,25.5Q0.0625,28.25,1.90625,30.0938Q3.75,31.9375,6.5,32Q9.25,31.9375,11.0938,30.0938Q12.9375,28.25,13,25.5ZM6.5,21Q7.71875,21,8.75,21.59375Q9.78125,22.1875,10.4062,23.25Q11,24.3125,11,25.5Q11,26.6875,10.4062,27.75Q9.78125,28.8125,8.75,29.4062Q7.71875,30,6.5,30Q5.28125,30,4.25,29.4062Q3.21875,28.8125,2.59375,27.75Q2,26.6875,2,25.5Q2,24.3125,2.59375,23.25Q3.21875,22.1875,4.25,21.59375Q5.28125,21,6.5,21Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function nm({title:e,description:t}){return f.jsxs(Oe,{direction:"flex-col",align:"items-center",gap:"gap-1",className:"mt-2",children:[f.jsx(Qm,{className:"w-7 h-7"}),f.jsx("p",{className:"text-gray-500 font-medium",children:e}),t&&f.jsx("p",{className:"text-gray-400 text-xs",children:t})]})}function fx({col:e,title:t,description:n}){return f.jsx("tr",{children:f.jsx("td",{colSpan:e,className:"py-4 text-center",children:f.jsx(nm,{title:t,description:n})})})}function h$({titles:e,subjects:t,isPending:n=!1}){return f.jsxs("table",{className:"w-full bg-white rounded-lg relative text-sm",children:[f.jsx("thead",{children:f.jsx("tr",{className:"bg-gray-50 text-nowrap",children:e.map(({title:r})=>f.jsx("th",{className:"px-4 py-2",children:r},r))})}),f.jsx("tbody",{children:f.jsx(f$,{titles:e,subjects:t,isPending:n})})]})}function f$({titles:e,subjects:t,isPending:n=!1}){const{visibleRows:r}=Vm(t??[],"selector"),i=(t??[]).filter(o=>!o.isDeleted),s=i?i.slice(0,r):[];return n||!i?f.jsx(Xd,{row:5,col:e.length}):i.length?f.jsxs(f.Fragment,{children:[s.map(o=>f.jsx(p$,{subject:o},`${o.subjectCode} ${o.subjectId} ${o.professorName}`)),f.jsx("tr",{className:"load-more-trigger"})]}):f.jsx(fx,{col:e.length,title:"  .",description:"   ."})}function p$({subject:e}){const t=e.curiLangNm==="",r=e.isDeleted?"bg-gray-100 hover:bg-gray-200":t?"bg-green-50 hover:bg-green-100":"bg-white hover:bg-gray-100",{data:i}=Fm(),{mutate:s}=tx(),{mutate:o}=vC(),{selectTargetOnly:a}=mh(),u=i?.some(h=>h.subjectId===e.subjectId),c=()=>{if(!u){o(e.subjectId);return}s(e.subjectId),a(e.subjectId),$m(e.deptCd)};return f.jsxs("tr",{className:`border-t border-gray-200 text-black ${r}`,children:[f.jsx("td",{className:"px-4 py-2 text-center",children:f.jsx("button",{className:"cursor-pointer","aria-label":u?"  ":"  ",onClick:c,children:f.jsx(pa,{disabled:!u})})}),f.jsxs("td",{className:"px-2 py-2 text-center",children:[e.subjectCode,"-",e.classCode]}),f.jsx("td",{className:"px-2 py-2 text-center",children:e.departmentName}),f.jsx("td",{className:"px-2 py-2 text-center",children:e.subjectName}),f.jsx("td",{className:"px-2 py-2 text-center",children:e.professorName}),e.seat!==void 0?f.jsx("td",{className:"px-2 py-2 text-center",children:e.seat>=0?f.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${Dm(e.seat)}`,children:e.seat}):f.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-gray-300",children:"-"})}):null]})}function JC({subject:e,variant:t="contain",className:n,onClick:r,...i}){const{data:s}=Fm(),{mutate:o}=tx(),{mutate:a}=vC(),{selectTargetOnly:u}=mh(),c=s?.some(g=>g.subjectId===e.subjectId),h=c?"  ":"  ",p=g=>{if(u(e.subjectId),$m(e.deptCd),r&&r(g),!c){a(e.subjectId);return}o(e.subjectId)};return f.jsx(rr,{"aria-label":h,title:h,variant:t==="contain"?"contain":"plain",onClick:p,icon:f.jsx(pa,{disabled:!c}),className:n,...i})}function m$({subject:e,seats:t,queryTime:n,disableSeat:r=!1,isLive:i=!1}){const s=e.isDeleted,o=e.curiLangNm==="",a=typeof e.tmNum=="string"&&Number(e.tmNum.split("/")[0])||0;return f.jsxs(Tn,{variant:"elevated",children:[f.jsxs(Oe,{justify:"justify-between",children:[f.jsx(Lt,{level:3,children:e.subjectName}),f.jsx(JC,{subject:e,variant:"plain"})]}),f.jsxs(Oe,{className:"text-xs text-gray-500",direction:"flex-col",children:[f.jsx("p",{children:e.departmentName}),f.jsxs("p",{children:[e.subjectCode,"-",e.classCode," | ",e.professorName]})]}),f.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:[e.studentYear," ",e.curiTypeCdNm," | ",a," | ",e.lesnTime]}),!r&&f.jsxs(Oe,{gap:"gap-2",align:"items-baseline",justify:"justify-between",children:[f.jsxs("p",{className:`text-sm px-2 py-1 rounded-full font-bold ${Dm(t)}`,children:[": ",t<0?"???":t]}),!i&&f.jsx(gl,{variant:"default",children:rx(n)}),s&&f.jsx(gl,{variant:"danger",children:""}),o&&f.jsx(gl,{variant:"success",children:""})]})]})}function px({subjects:e,isPending:t=!1,className:n="",isLive:r=!1}){return f.jsx(Oe,{direction:"flex-col",gap:"gap-2",className:n,children:f.jsx(g$,{subjects:e,isPending:t,isLive:r})})}function g$({subjects:e,isPending:t=!1,isLive:n=!1}){const{visibleRows:r,loadMoreRef:i}=Vm(e),s=e?e.slice(0,r):[];return t||!e?f.jsx(va,{columns:{base:1,md:3},gap:"gap-4",className:"animate-pulse",children:[0,0,0].map((o,a)=>f.jsx("div",{className:"bg-gray-300 shadow-sm rounded-lg p-4 h-24"},"skeleton-card-"+a))}):e.length?f.jsxs(f.Fragment,{children:[s.map(o=>f.jsx(m$,{subject:o,seats:"seat"in o?o.seat??-1:-1,disableSeat:!("seat"in o),className:"bg-white",isLive:n},o.subjectId)),f.jsx("div",{ref:i,className:"load-more-trigger opacity-0",children:" "})]}):f.jsxs(Oe,{direction:"flex-col",align:"items-center",gap:"gap-2",className:"text-center py-4",children:[f.jsx(Qm,{className:"w-12 h-12"}),f.jsx("p",{className:"text-gray-500 font-bold mt-4",children:"  ."}),f.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"   ."})]})}function Ml({onDelete:e,...t}){const n=T.useRef(null);return f.jsx(ry,{leftIcon:f.jsx(rr,{variant:"plain",icon:f.jsx(Qm,{className:"w-5 h-5"}),className:"absolute left-3 top-3",onClick:r=>{r.preventDefault(),n.current?.focus()}}),rightIcon:f.jsx(rr,{variant:"plain",icon:f.jsx(IS,{className:"w-5 h-5"}),"aria-label":"  ",className:"absolute right-3 top-4",onClick:()=>{e(),n.current?.focus()}}),...t})}const y1=9;function Ep({selectedValues:e,filterKey:t,setFilter:n,options:r,ItemComponent:i}){const s=la(),o=i.layout??"grid",a=Pi(),[u,c]=T.useState(!1),h=x=>{const S=e?.includes(x)?e?.filter(k=>k!==x):[...e??[],x];n(t,S??null)},p=()=>{n(t,null)},g=!u&&r.length>y1?r.slice(0,y1):r;return f.jsxs("div",{className:"relative inline-block w-full",children:[f.jsxs(Oe,{direction:"flex-col",gap:"gap-2",children:[f.jsx(fr,{children:ui[t]}),o==="grid"?f.jsx(va,{columns:{md:3},gap:"gap-2",children:g.map(x=>f.jsx(i,{label:s[t]?.(x)??String(x),selected:e?.includes(x)??!1,onClick:()=>h(x)},String(x)))}):f.jsx(Oe,{direction:"flex-col",gap:"gap-2",className:"pr-4",children:g.map(x=>f.jsx(i,{label:s[t]?.(x)??String(x),selected:e?.includes(x)??!1,onClick:()=>h(x)},String(x)))})]}),r.length>y1&&f.jsx(jt,{variant:"text",size:"small",textColor:"gray",onClick:()=>c(x=>!x),children:u?"- ":"+ "}),!a&&f.jsx(Oe,{justify:"justify-end",children:f.jsx(jt,{variant:"text",size:"small",textColor:"gray",disabled:e==null||e.length===0,onClick:()=>p(),children:""})})]})}function ZC({label:e,selected:t,onClick:n}){return f.jsx(mm,{label:e,checked:t,onChange:n})}ZC.layout="flex";function Wm({label:e,selected:t,children:n,className:r=""}){return f.jsxs(qu,{children:[f.jsx(qu.Trigger,{selected:t,label:e}),f.jsx(qu.Content,{children:f.jsx(Oe,{direction:"flex-col",gap:"gap-4",className:r,children:n})})]})}function Mn({filterKey:e,selectedValues:t,options:n,setFilter:r,ItemComponent:i,className:s}){const o=Pi(),a=qz(e,t),u=o?Pn:ZC,c=f.jsx(Ep,{filterKey:e,selectedValues:t,setFilter:(h,p)=>r(h,p),options:n,ItemComponent:i||u});return o?c:f.jsx(Wm,{label:a,selected:t.length>0,className:s,children:c})}const y$=e=>T.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M9 14C10.1867 14 11.3467 13.6481 12.3334 12.9888C13.3201 12.3295 14.0892 11.3925 14.5433 10.2961C14.9974 9.19975 15.1162 7.99335 14.8847 6.82946C14.6532 5.66558 14.0818 4.59648 13.2426 3.75736C12.4035 2.91825 11.3344 2.3468 10.1705 2.11529C9.00666 1.88378 7.80026 2.0026 6.7039 2.45673C5.60754 2.91085 4.67047 3.67989 4.01118 4.66658C3.35189 5.65328 3 6.81331 3 8V11.1L1.2 9.3L0.5 10L3.5 13L6.5 10L5.8 9.3L4 11.1V8C4 7.0111 4.29324 6.0444 4.84265 5.22215C5.39206 4.39991 6.17295 3.75904 7.08658 3.38061C8.00021 3.00217 9.00555 2.90315 9.97545 3.09608C10.9454 3.289 11.8363 3.76521 12.5355 4.46447C13.2348 5.16373 13.711 6.05465 13.9039 7.02455C14.0969 7.99446 13.9978 8.99979 13.6194 9.91342C13.241 10.8271 12.6001 11.6079 11.7779 12.1574C10.9556 12.7068 9.98891 13 9 13V14Z",fill:"#047CFE"}));function v$({selectedValue:e,filterKey:t,setFilter:n}){const[r,i]=T.useState({min:e?.min??0,max:e?.max??0}),s=(o,a)=>{const u={...r,[o]:a};i(u),n(t,u)};return f.jsxs("div",{className:"relative inline-block w-full space-y-2",children:[f.jsx(fr,{children:" "}),f.jsxs(Oe,{gap:"gap-2",children:[f.jsx(ry,{type:"text",placeholder:"",value:r.min,onChange:o=>{const a=o.target.value.replace(/[^\d]/g,"");s("min",a)},className:"w-full"}),f.jsx("span",{className:"flex items-center text-gray-400",children:"~"}),f.jsx(ry,{type:"text",placeholder:"",value:r.max,onChange:o=>{const a=o.target.value.replace(/[^\d]/g,"");s("max",a)},className:"w-full"})]})]})}function x$({selectedValue:e,filterKey:t,setFilter:n,options:r,ItemComponent:i,isMinMax:s=!1}){const o=Pi(),a=h=>{n(t,e===h?null:h)},u=()=>{n(t,null)},c=la();return f.jsxs("div",{className:"relative inline-block",children:[f.jsxs(Oe,{direction:"flex-col",gap:"gap-2",children:[f.jsx(fr,{children:ui[t]}),f.jsx(va,{columns:{md:3},gap:"gap-2",children:r.map(h=>f.jsx(i,{label:c[t]?.(h)??String(h),selected:e===h,onClick:()=>a(h)},String(h)))}),s&&f.jsx("div",{className:"mt-2",children:f.jsx(v$,{selectedValue:e,filterKey:t,setFilter:(h,p)=>n(h,p),options:r})})]}),!o&&f.jsx(Oe,{justify:"justify-end",children:f.jsxs(jt,{variant:"text",size:"small",textColor:"gray",onClick:()=>u(),children:[f.jsx(y$,{className:"inline w-3 h-3 mr-1",stroke:"currentColor"}),""]})})]})}function ic({filterKey:e,options:t,ItemComponent:n,selectedValue:r,setFilter:i,className:s,isMinMax:o}){const a=Pi(),u=Kz(e,r),c=f.jsx(x$,{selectedValue:r,filterKey:e,setFilter:(h,p)=>i(h,p),options:t,ItemComponent:n,isMinMax:o});return a?c:f.jsx(Wm,{label:u,selected:!!r,className:s,children:c})}const e7=e=>T.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M7.18066 10.5625C7.88416 10.5629 8.47281 11.0824 8.63086 11.7812H14.625C14.8321 11.7812 15 11.9491 15 12.1562C15 12.3634 14.8321 12.5312 14.625 12.5312H8.63086C8.47281 13.2301 7.88416 13.7496 7.18066 13.75C6.47688 13.75 5.88776 13.2303 5.72949 12.5312H1.375C1.16789 12.5312 1 12.3634 1 12.1562C1 11.9491 1.16789 11.7812 1.375 11.7812H5.72949C5.88776 11.0822 6.47688 10.5625 7.18066 10.5625ZM7.18066 11.2812C6.72774 11.2812 6.36035 11.673 6.36035 12.1562C6.36035 12.6395 6.72774 13.0312 7.18066 13.0312C7.63324 13.0308 8 12.6392 8 12.1562C8 11.6733 7.63324 11.2817 7.18066 11.2812ZM11.7197 6.40625C12.4233 6.40647 13.0117 6.92611 13.1699 7.625H14.625C14.8321 7.625 15 7.79289 15 8C15 8.20711 14.8321 8.375 14.625 8.375H13.1699C13.0117 9.0739 12.4233 9.59353 11.7197 9.59375C11.0161 9.59356 10.4277 9.07393 10.2695 8.375H1.375C1.16789 8.375 1 8.20711 1 8C1 7.79289 1.16789 7.625 1.375 7.625H10.2695C10.4277 6.92608 11.0161 6.40644 11.7197 6.40625ZM11.7197 7.125C11.267 7.12523 10.9004 7.51689 10.9004 8C10.9004 8.48311 11.267 8.87477 11.7197 8.875C12.1724 8.87474 12.54 8.48309 12.54 8C12.54 7.51691 12.1724 7.12526 11.7197 7.125ZM5.07129 2.25C5.77489 2.2502 6.36337 2.76981 6.52148 3.46875H14.625C14.8321 3.46875 15 3.63664 15 3.84375C15 4.05086 14.8321 4.21875 14.625 4.21875H6.52148C6.36337 4.91769 5.77489 5.43729 5.07129 5.4375C4.36758 5.43737 3.77832 4.9178 3.62012 4.21875H1.375C1.16789 4.21875 1 4.05086 1 3.84375C1 3.63664 1.16789 3.46875 1.375 3.46875H3.62012C3.77832 2.7697 4.36758 2.25013 5.07129 2.25ZM5.07129 2.96875C4.61849 2.9689 4.25098 3.36059 4.25098 3.84375C4.25098 4.32691 4.61849 4.7186 5.07129 4.71875C5.52402 4.71852 5.89062 4.32686 5.89062 3.84375C5.89062 3.36064 5.52402 2.96898 5.07129 2.96875Z",fill:"#9CA3AF"}));function mx({handleOpenFilter:e}){return f.jsx(rr,{"aria-label":" ",title:" ",label:" ",variant:"contain",icon:f.jsx(e7,{className:"w-4 h-4 "}),onClick:e})}function b$({alarmOnly:e,setFilter:t}){return f.jsxs(jt,{variant:"outlined",size:"medium",onClick:()=>t("alarmOnly",!e),children:[f.jsx(pa,{disabled:!e}),""]})}function w$({departments:e,category:t,setCategory:n,searchKeywords:r,setSearchKeywords:i}={}){const s=T.useMemo(()=>[{departmentName:"",departmentCode:""},...e??[]],[e]),o=T.useMemo(()=>s.filter(a=>t===""?a.departmentCode==="9005":t===""?a.departmentCode!=="9005":!0).filter(a=>{if(!r)return!0;const u=r.replace(/[^\w\s---]/g,""),c=rc(u).toLowerCase(),h=a.departmentName.replace(/[^\w\s---]/g,"");return rc(h).toLowerCase().includes(c)}),[s,t,r]);return{category:t,setCategory:n,searchKeywords:r,setSearchKeywords:i,departmentsList:s,filteredDepartments:o}}const t7=e=>T.createElement("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M4.50007 8.08504L2.76507 6.35004C2.67158 6.25655 2.54479 6.20403 2.41257 6.20403C2.28036 6.20403 2.15356 6.25655 2.06007 6.35004C1.96658 6.44353 1.91406 6.57033 1.91406 6.70254C1.91406 6.768 1.92696 6.83283 1.95201 6.89331C1.97706 6.95379 2.01378 7.00875 2.06007 7.05504L4.15007 9.14504C4.34507 9.34004 4.66007 9.34004 4.85507 9.14504L10.1451 3.85504C10.2386 3.76155 10.2911 3.63475 10.2911 3.50254C10.2911 3.37033 10.2386 3.24353 10.1451 3.15004C10.0516 3.05655 9.92479 3.00403 9.79257 3.00403C9.66036 3.00403 9.53356 3.05655 9.44007 3.15004L4.50007 8.08504Z",fill:"#047CFE"}));function gx({setFilter:e,selectedValue:t}){const{data:n}=Nl(),[r,i]=T.useState(""),[s,o]=T.useState(""),{departmentsList:a,filteredDepartments:u}=w$({category:s,setCategory:o,searchKeywords:r,setSearchKeywords:i,departments:n});return f.jsxs(Wm,{label:By(t,a),selected:!!t,children:[f.jsxs(Oe,{direction:"flex-col",className:"h-80 w-80 overflow-y-auto",children:[f.jsx(fr,{children:""}),f.jsxs(Oe,{className:"shrink-0 bg-white",gap:"gap-2",children:[f.jsxs("select",{value:s,className:"border border-gray-300 rounded-md text-sm text-gray-700 bg-white",onChange:c=>{const h=c.target.value;o(h),e("department","")},children:[f.jsx("option",{value:"",children:""}),f.jsx("option",{value:"",children:""})]}),f.jsx(Ml,{type:"text",placeholder:" ",onDelete:()=>{i("")},value:r,onChange:c=>{i(c.target.value)},className:"w-full"})]}),f.jsx("div",{className:"overflow-y-auto flex-1 py-2 ",children:(s===""||s==="")&&f.jsx(_$,{departments:u,setFilter:e,selectedValue:t})})]}),f.jsx(Oe,{justify:"justify-end",className:"w-full pt-1",children:f.jsx(jt,{variant:"text",size:"small",textColor:"gray",disabled:!t,onClick:()=>e("department",""),children:""})})]})}function _$({departments:e,setFilter:t,selectedValue:n}){const r=s=>{t("department",s||"")};return e?e.filter(s=>By(n,e)===s.departmentName).length===0?f.jsx(nm,{title:"  .",description:"   ."}):f.jsx(f.Fragment,{children:e.map(s=>{const o=By(n,e)===s.departmentName;return f.jsx(EP,{selected:o,left:s.departmentName.split(" ").slice(-1)[0],right:o?f.jsx(t7,{className:"w-4 h-4 shrink-0"}):null,onSelect:()=>r(s.departmentCode)},s.departmentCode)})}):f.jsx(nm,{title:"  ."})}function By(e,t){const n=t?.find(r=>r.departmentCode===e)?.departmentName;return n||" ."}function p_({className:e,onChange:t,...n}){return f.jsx("input",{type:"time",className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:outline-blue-500 "+e,placeholder:"HH:MM",step:600,onChange:r=>{r.target.value=S$(r.target.value),console.log("Time changed:",r.target.value),t&&t(r)},...n})}function S$(e){const[t,n]=e.split(":").map(Number);if(Number.isNaN(t)||Number.isNaN(n))return"00:00";const r=Math.round(n/10)%6*10,i=String(t).padStart(2,"0"),s=String(r).padStart(2,"0");return`${i}:${s}`}function zy({items:e,onChange:t}){T.useEffect(()=>{if(e.length===0){t([{day:"",type:"all"}]);return}const i=k$(e);i&&t(i)},[e]);const n=i=>s=>{const{name:o,value:a}=s.target,u=[...e];u[i]={...u[i],[o]:a},t(u)},r=i=>()=>{const s=e.filter((o,a)=>a!==i);t(s)};return f.jsxs(f.Fragment,{children:[f.jsxs(Oe,{direction:"flex-col",gap:"gap-2",children:[f.jsx(fr,{children:""}),e.map((i,s)=>f.jsx(C$,{item:i,onChange:n(s),onDelete:r(s)},`${i.day}-${i.type}-${i.start}-${i.end}`))]}),f.jsx(jt,{variant:"text",size:"small",textColor:"gray",onClick:()=>t([...e,{day:"",type:"all"}]),children:" "})]})}function C$({item:e,onChange:t,onDelete:n}){const r=!!e.day,i=e.type!="all",s=e.type==="between";return f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("select",{name:"day",value:e.day,onChange:t,className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:[f.jsx("option",{value:"",children:""}),["","","","","","",""].map(o=>f.jsx("option",{value:o,children:o},o))]}),r&&f.jsxs("select",{name:"type",value:e.type,onChange:t,className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:[f.jsx("option",{value:"all",children:""}),f.jsx("option",{value:"before",children:""}),f.jsx("option",{value:"after",children:""}),f.jsx("option",{value:"between",children:""})]}),i&&f.jsx(p_,{name:"start",value:e.start||"00:00",onChange:t}),s&&f.jsx(p_,{name:"end",value:e.end||"00:00",onChange:t}),f.jsx(jt,{variant:"text",size:"small",textColor:"secondary",onClick:n,children:""})]})}function k$(e){return e.some(n=>n.day===""?n.type!=="all"||n.start||n.end:n.type==="all"?n.start||n.end:n.type==="before"||n.type==="after"?!n.start||n.end:n.type==="between"?!n.start||!n.end:!1)?e.map(n=>n.day===""?{day:"",type:"all"}:n.type==="all"?{day:n.day,type:"all"}:n.type==="before"||n.type==="after"?{day:n.day,type:n.type,start:n.start||"00:00"}:n.type==="between"?{day:n.day,type:n.type,start:n.start||"00:00",end:n.end||"00:00"}:n):e}function n7({times:e,setFilter:t}){const n=(o,a)=>{t("time",a)},r=Pi(),s=e.length===1&&e[0].type==="all"&&e[0].day===""?"":e.length===1?` ${e[0].day}`:e.length>1?` ${e[0].day}  ${e.length-1}`:"";return r?f.jsx(zy,{items:e,onChange:o=>n("time",o)}):f.jsx(Wm,{label:s,selected:e.length>0&&e[0].day!=="",className:"min-w-max",children:f.jsxs(Oe,{direction:"flex-col",gap:"gap-2",children:[f.jsx(fr,{children:" "}),f.jsx(zy,{items:e,onChange:o=>n("time",o)})]})})}const j$=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M3 4H17L12 10.5V20L8 16V10.5L3 4Z",stroke:"#047CFE",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),T.createElement("path",{d:"M16 15L22 21",stroke:"#047CFE",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),T.createElement("path",{d:"M16 21L22 15",stroke:"#047CFE",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function yx({filters:e,resetFilter:t}){return Object.keys(e).some(i=>!KC(i,e[i]))?f.jsx(Pn,{label:f.jsxs(Oe,{align:"items-center",gap:"gap-1",children:[f.jsx("span",{children:" "}),f.jsx(j$,{className:"w-4 h-4"})]}),selected:!0,onClick:t}):null}function vx({filterStore:e,onClose:t}){const{classroom:n,note:r,categories:i,time:s}=e(w=>w.filters),o=Nl(),a=e(w=>w.filters),u=e(w=>w.setFilter),c=e(w=>w.resetFilters),h=dx(a,o.data),{data:p}=Gi(),g=gh(p??[]).sort((w,S)=>w.localeCompare(S)).map(w=>w),x=(w,S)=>{const k=a[w];Array.isArray(k)?u(w,k.filter(E=>E!==S)):u(w,ma[w])};return f.jsxs(Nn,{title:" ",onClose:t,isOpen:!0,children:[f.jsx(Nn.Content,{children:f.jsxs(Oe,{direction:"flex-col",gap:"gap-4",className:"w-130",children:[h.length>0&&f.jsx(Tn,{variant:"outlined",children:f.jsxs(Oe,{direction:"flex-col",gap:"gap-2",children:[f.jsx(fr,{children:" "}),f.jsx(Oe,{gap:"gap-2",direction:"flex-wrap",justify:"justify-start",className:"w-120",children:h.map(w=>f.jsx(Pn,{variant:"cancel",label:w.label,selected:!0,onClick:()=>x(w.filterKey,w.values)},`${w.filterKey}-${w.values}`))})]})}),f.jsx(Tn,{variant:"outlined",children:f.jsx(Ep,{selectedValues:i,options:g,filterKey:"categories",setFilter:u,ItemComponent:Pn})}),f.jsx(Tn,{variant:"outlined",children:f.jsx(zy,{items:s,onChange:w=>u("time",w)})}),f.jsx(Tn,{variant:"outlined",children:f.jsx(Ep,{selectedValues:r,options:hn.remark,filterKey:"note",setFilter:u,ItemComponent:Pn})}),f.jsx(Tn,{variant:"outlined",children:f.jsx(Ep,{selectedValues:n,options:hn.classRoom,filterKey:"classroom",setFilter:u,ItemComponent:Pn})})]})}),f.jsx(Nn.Footer,{children:f.jsx(Oe,{direction:"flex-col",gap:"gap-2",children:f.jsx(Oe,{justify:"justify-end",children:f.jsx(jt,{variant:"primary",size:"medium",onClick:c,disabled:h.length===0,children:" "})})})})]})}function E$(){const e=T.useRef(null),t=T.useRef(null),n=T.useRef({touchStart:{sheetY:0,touchY:0},touchMove:{prevTouchY:0,movingDirection:"none"},isContentAreaTouched:!1});T.useEffect(()=>{const s=()=>{const{touchMove:c,isContentAreaTouched:h}=n.current,p=e.current?.getBoundingClientRect().y;if(!p)return!1;if(!h||p!==cl)return!0;const g=t.current,x=g.scrollTop<=0,w=g.scrollTop+g.clientHeight>=g.scrollHeight;return c.movingDirection==="down"&&x||c.movingDirection==="up"&&w,!1},o=c=>{const{touchStart:h}=n.current;h.sheetY=e.current.getBoundingClientRect().y,h.touchY=c.touches[0].clientY},a=c=>{const{touchStart:h,touchMove:p}=n.current,g=c.touches[0];if(p.prevTouchY===void 0&&(p.prevTouchY=h.touchY),p.prevTouchY===0&&(p.prevTouchY=h.touchY),p.prevTouchY<g.clientY&&(p.movingDirection="down"),p.prevTouchY>g.clientY&&(p.movingDirection="up"),s()){c.stopPropagation();const x=g.clientY-h.touchY;let w=h.sheetY+x;w<=cl&&(w=cl),w>=rp&&(w=rp),e.current.style.setProperty("transform",`translateY(${w}px)`)}else document.body.style.overflowY="hidden"},u=()=>{const{touchMove:c}=n.current;(e.current?.getBoundingClientRect().y??0)!==cl&&(c.movingDirection==="down"&&e.current.style.setProperty("transform",`translateY(${rp}px)`),c.movingDirection==="up"&&e.current.style.setProperty("transform",`translateY(${cl}px)`)),n.current={touchStart:{sheetY:0,touchY:0},touchMove:{prevTouchY:0,movingDirection:"none"},isContentAreaTouched:!1}};return e.current.addEventListener("touchstart",o),e.current.addEventListener("touchmove",a),e.current.addEventListener("touchend",u),()=>{e.current?.removeEventListener("touchstart",o),e.current?.removeEventListener("touchmove",a),e.current?.removeEventListener("touchend",u)}},[]);const r=()=>{e.current&&e.current.style.setProperty("transform","translateY(400px)")},i=()=>{e.current&&e.current.style.setProperty("transform",`translateY(${rp}px)`)};return T.useEffect(()=>{const s=()=>{n.current.isContentAreaTouched=!0};t.current.addEventListener("touchstart",s);const o=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=o}},[]),{sheet:e,content:t,expandToMax:r,collapseToMin:i}}function T$(){const{cancelSchedule:e}=Vr(),t=rh(),n=()=>{t("/timetable"),e()};T.useEffect(()=>(window.addEventListener("popstate",n),()=>{window.removeEventListener("popstate",n)}),[])}const cl=0,rp=window.innerHeight-300,P$=window.innerHeight-cl;function yh({children:e}){const{sheet:t,content:n,expandToMax:r,collapseToMin:i}=E$(),{type:s,resetBottomSheet:o}=yo(),{cancelSchedule:a}=Vr();function u(){a(),o()}return T$(),f.jsxs("div",{className:"fixed inset-0 z-[200]",children:[s&&f.jsx("div",{className:"absolute inset-0 bg-black/5 bg-opacity-80",role:"presentation",onClick:u}),f.jsxs("div",{ref:t,className:"fixed rounded-t-xl bottom-0 left-0 w-full transition-transform bg-white duration-300 z-200",style:{height:`${P$}px`,transform:`translateY(${cl}px)`},children:[f.jsx("div",{className:"w-full flex justify-center py-2 h-7 shrink-0",children:f.jsx("button",{className:"w-20 h-2 cursor-pointer bg-gray-300 rounded-full","aria-label":"",onClick:a})}),f.jsx("div",{ref:n,className:"flex-1 overflow-y-auto ",children:typeof e=="function"?e({expandToMax:r,collapseToMin:i}):e})]})]})}const r7=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M12 5V19M5 12H19",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function vh({title:e,headerType:t,onClose:n,onClick:r}){return f.jsx("header",{className:"w-full px-2 flex items-center justify-between mb-2",children:t==="add"?f.jsxs("div",{className:"w-full h-8 flex items-center  justify-between ",children:[f.jsx(v1,{headerType:"add",onClick:r}),e&&f.jsx(Lt,{level:3,children:e}),f.jsx(v1,{headerType:"close",onClick:n})]}):f.jsx(f.Fragment,{children:f.jsxs("div",{className:"relative w-full flex items-center justify-center h-6",children:[f.jsx(Lt,{level:3,children:e}),f.jsx("div",{className:"absolute right-0",children:f.jsx(v1,{headerType:"close",onClick:n})})]})})})}function v1({headerType:e,onClick:t}){const n=e==="close"?f.jsx(XS,{}):f.jsx(r7,{className:"text-gray-400",width:16,height:16});return f.jsx("button",{className:"w-6 h-6 cursor-pointer flex items-center justify-center bg-gray-100 rounded-full",onClick:t,children:n})}function qm({id:e,className:t,value:n,defaultValue:r="",...i}){const{data:s}=Nl(),o=[{departmentName:r,departmentCode:""},...s??[]],a=e??"department-filter";return f.jsxs(f.Fragment,{children:[f.jsx(fr,{htmlFor:a,hidden:!0,children:""}),f.jsx("select",{id:a,className:"w-full p-2 rounded-md bg-white border border-gray-400 "+t,value:n,...i,children:o.map(({departmentName:u,departmentCode:c})=>f.jsx("option",{value:c,children:u},c))})]})}function xx({onCloseFiltering:e,filters:t,setFilter:n,resetFilter:r}){const i=()=>{e()},{data:s}=Gi(),o=Nl(),a=gh(s??[]).sort((h,p)=>h.localeCompare(p)).map(h=>h),u=dx(t,o.data),c=(h,p)=>{const g=t[h];Array.isArray(g)?n(h,g.filter(x=>x!==p)):n(h,ma[h])};return f.jsxs(yh,{children:[f.jsx(vh,{headerType:"close",title:"",onClose:()=>{e()}}),f.jsxs("div",{className:"w-full flex px-4 flex-col h-[85vh] gap-5 overflow-y-auto overscroll-contain",children:[f.jsx(Oe,{direction:"flex-wrap",gap:"gap-2",children:u.map(h=>f.jsx(Pn,{variant:"cancel",label:h.label,selected:!0,onClick:()=>c(h.filterKey,h.values)},`${h.filterKey}-${h.values}`))}),f.jsxs(Oe,{direction:"flex-col",justify:"justify-center",gap:"gap-8",className:"w-full",children:[f.jsx(qm,{className:"cursor-pointer border-gray-100 rounded-sm py-1 text-sm",value:t.department,onChange:h=>n("department",h.target.value)}),f.jsx(ic,{filterKey:"wishRange",options:hn.wishRange,selectedValue:t.wishRange??null,setFilter:n,ItemComponent:Pn}),f.jsx(ic,{filterKey:"seatRange",options:hn.seatRange,selectedValue:t.seatRange??null,setFilter:n,ItemComponent:Pn}),f.jsx(Oe,{direction:"flex-col",gap:"gap-2",children:f.jsx(n7,{times:t.time,setFilter:n})}),f.jsx(Mn,{filterKey:"credits",options:hn.credits,selectedValues:t.credits??[],setFilter:n}),f.jsx(Mn,{filterKey:"grades",options:hn.grades,selectedValues:t.grades??[],setFilter:n}),f.jsx(Mn,{filterKey:"classroom",options:hn.classRoom,selectedValues:t.classroom??[],setFilter:n}),f.jsx(Mn,{filterKey:"note",options:hn.remark,selectedValues:t.note??[],setFilter:n}),f.jsx(Mn,{filterKey:"categories",options:a,selectedValues:t.categories??[],setFilter:n}),f.jsxs("div",{className:"sticky bottom-0 py-3 bg-white flex justify-end items-center gap-2 border-gray-200",children:[f.jsx(jt,{variant:"outlined",size:"medium",onClick:r,disabled:u.length===0,children:" "}),f.jsx(jt,{type:"submit",variant:"primary",size:"medium",onClick:i,children:""})]})]})]})]})}function N$(){const[e,t]=T.useState(!1),[n,r]=T.useState(!1),i=Bu(w=>w.setFilter),{keywords:s,alarmOnly:o,time:a}=Bu(w=>w.filters),u=Bu(w=>w.filters),c=Bu(w=>w.resetFilters),h=Pi(),{data:p}=Gi(),g=gh(p??[]).sort((w,S)=>w.localeCompare(S)).map(w=>w),x=()=>{h?r(!0):t(!0)};return f.jsxs(Oe,{direction:"flex-wrap",gap:"gap-2",children:[f.jsx(fr,{className:"hidden",htmlFor:"searchOption",children:" "}),f.jsx(Ml,{placeholder:",      ",value:s,className:"w-full",onDelete:()=>i("keywords",""),onChange:w=>i("keywords",w.target.value)}),e&&f.jsx(vx,{filterStore:Bu,onClose:()=>t(!1)}),n&&f.jsx(xx,{onCloseFiltering:()=>r(!1),filters:u,setFilter:i,resetFilter:c}),f.jsxs(Oe,{align:"items-center",direction:"flex-wrap",gap:"gap-2",children:[f.jsxs(Oe,{direction:"flex-wrap",gap:"gap-2",className:"hidden md:flex",children:[f.jsx(gx,{selectedValue:u.department??"",setFilter:i}),f.jsx(n7,{times:a,setFilter:i}),f.jsx(Mn,{filterKey:"credits",options:hn.credits,selectedValues:u.credits??[],setFilter:i}),f.jsx(Mn,{filterKey:"grades",options:hn.grades,selectedValues:u.grades??[],setFilter:i}),u.classroom.length>0&&f.jsx(Mn,{filterKey:"classroom",options:hn.classRoom,selectedValues:u.classroom??[],setFilter:i,className:"min-w-max"}),f.jsx(Mn,{filterKey:"note",options:hn.remark,selectedValues:u.note??[],setFilter:i}),u.categories.length>0&&f.jsx(Mn,{filterKey:"categories",options:g,selectedValues:u.categories??[],setFilter:i,className:"min-w-max"}),f.jsx(ic,{filterKey:"wishRange",options:hn.wishRange,selectedValue:u.wishRange??null,setFilter:i,ItemComponent:Pn}),f.jsx(ic,{filterKey:"seatRange",options:hn.seatRange,selectedValue:u.seatRange??null,setFilter:i,ItemComponent:Pn})]}),f.jsx(yx,{filters:u,resetFilter:c}),f.jsx(mx,{handleOpenFilter:x}),f.jsx(b$,{alarmOnly:o,setFilter:i})]})]})}const O$=[{title:"",key:"pin"},{title:"",key:"code"},{title:"",key:"departmentName"},{title:"",key:"name"},{title:"",key:"professor"}];function R$(){const e=Bu(t=>t.filters);return f.jsxs(f.Fragment,{children:[f.jsx(gr,{children:f.jsx("title",{children:"ALLCLL |  "})}),f.jsxs(Oe,{direction:"flex-col",className:"mb-4",children:[f.jsx(Lt,{level:2,children:" "}),f.jsxs(Un,{children:["   ,    .",f.jsx("br",{}),"  ",XC,", 11:00  ."]}),f.jsxs(Tn,{children:[f.jsx(N$,{}),f.jsx(sx,{})]}),f.jsx(M$,{filters:e}),f.jsx(kC,{right:"right-2 sm:right-10"})]})]})}function M$({filters:e}){const{data:t,titles:n,isPending:r}=jC(O$),i=fh(t),s=T.useDeferredValue(fc(i??[],e)),o=Pi();return f.jsx(Tn,{children:o?f.jsx(px,{subjects:s,isPending:r,isLive:!0}):f.jsx(h$,{titles:n,subjects:s,isPending:r})})}const A$={enter:"sidebar-transition-enter",enterActive:"sidebar-transition-enter-active",exit:"sidebar-transition-exit",exitActive:"sidebar-transition-exit-active"};function L$({isOpen:e,onClose:t}){return f.jsx(sh,{in:e,timeout:100,classNames:A$,unmountOnExit:!0,children:f.jsxs(Oe,{direction:"flex-col",className:"w-92 flex-auto bg-gray-50 shadow-lg z-10",children:[f.jsxs("div",{className:"flex justify-between items-center py-2 pl-4 pr-2 bg-white border-b border-gray-200",children:[f.jsx(Lt,{level:2,children:" "}),f.jsx(rr,{"aria-label":"  ",icon:f.jsx(bC,{className:"w-4 h-4"}),onClick:t})]}),f.jsx(I$,{})]})})}function I$(){const[e,t]=T.useState(""),[n,r]=T.useState(""),{data:i,isPending:s}=So(),o=fh(i),a=T.useDeferredValue(fc(o??[],{...ma,keywords:e,department:n}));return f.jsx(Oe,{direction:"flex-col",className:"flex-1 p-2",children:f.jsxs(Oe,{direction:"flex-col",className:"mb-4",gap:"gap-2",children:[f.jsx(Ml,{placeholder:"  ",value:e,onChange:u=>t(u.target.value),onDelete:()=>t(""),className:"w-full"}),f.jsx(qm,{className:"flex-auto",value:n,onChange:u=>r(u.target.value)}),f.jsx(px,{className:"flex flex-full overflow-auto max-h-screen",subjects:a,isPending:s})]})})}function D$({onCloseSearch:e}){const[t,n]=T.useState(""),[r,i]=T.useState(""),{data:s,isPending:o}=So(),a=fh(s),u=T.useDeferredValue(fc(a??[],{...ma,keywords:t,department:r}));return f.jsx(yh,{children:({expandToMax:c})=>f.jsxs(f.Fragment,{children:[f.jsx(vh,{title:"",headerType:"close",onClose:()=>e(),onClick:c}),f.jsxs("div",{className:"sticky py-3 px-2 top-0 bg-white z-10 flex flex-col gap-2 mb-4 flex-auto",children:[f.jsx(Ml,{placeholder:"  ",onChange:h=>n(h.target.value),onDelete:()=>n(""),className:"w-full"}),f.jsx(qm,{className:"flex-auto",value:r,onChange:h=>i(h.target.value)})]}),f.jsx("div",{className:"max-h-[70vh] min-h-0 px-2 overflow-y-auto touch-auto flex flex-col",children:f.jsx(px,{className:"flex flex-full overflow-auto max-h-screen",subjects:u,isPending:o})})]})})}const bx=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},T.createElement("defs",null,T.createElement("clipPath",{id:"master_svg0_106_2202"},T.createElement("rect",{x:0,y:0,width:36,height:36,rx:0}))),T.createElement("g",{clipPath:"url(#master_svg0_106_2202)"},T.createElement("g",{transform:"matrix(1,0,0,-1,0,69.046875)"},T.createElement("g",null,T.createElement("path",{d:"M2.25,66.0234375Q3.23438,66.0234375,3.86719,65.3906375Q4.5,64.7578375,4.5,63.7734375L4.5,40.1484375Q4.57031,39.0937475,5.625,39.0234375L33.75,39.0234375Q34.7344,39.0234375,35.3672,38.3906275Q36,37.7578175,36,36.7734375Q36,35.7890575,35.3672,35.1562495Q34.7344,34.5234375,33.75,34.5234375L5.625,34.5234375Q3.23438,34.59375,1.61719,36.1406275Q0.0703125,37.7578175,0,40.1484375L0,63.7734375Q0,64.7578375,0.632812,65.3906375Q1.26562,66.0234375,2.25,66.0234375ZM9,59.2734375Q9,60.2578375,9.63281,60.8906375Q10.2656,61.5234375,11.25,61.5234375L24.75,61.5234375Q25.7344,61.5234375,26.3672,60.8906375Q27,60.2578375,27,59.2734375Q27,58.2890375,26.3672,57.6562375Q25.7344,57.0234375,24.75,57.0234375L11.25,57.0234375Q10.2656,57.0234375,9.63281,57.6562375Q9,58.2890375,9,59.2734375ZM11.25,54.7734375L20.25,54.7734375L11.25,54.7734375L20.25,54.7734375Q21.2344,54.7734375,21.8672,54.1406375Q22.5,53.5078375,22.5,52.5234375Q22.5,51.5390375,21.8672,50.9062375Q21.2344,50.2734375,20.25,50.2734375L11.25,50.2734375Q10.2656,50.2734375,9.63281,50.9062375Q9,51.5390375,9,52.5234375Q9,53.5078375,9.63281,54.1406375Q10.2656,54.7734375,11.25,54.7734375ZM11.25,48.0234375L29.25,48.0234375L11.25,48.0234375L29.25,48.0234375Q30.2344,48.0234375,30.8672,47.3906375Q31.5,46.7578375,31.5,45.7734375Q31.5,44.7890375,30.8672,44.1562475Q30.2344,43.5234375,29.25,43.5234375L11.25,43.5234375Q10.2656,43.5234375,9.63281,44.1562475Q9,44.7890375,9,45.7734375Q9,46.7578375,9.63281,47.3906375Q10.2656,48.0234375,11.25,48.0234375Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))))),F$=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e},T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})),B$=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e},T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.477 0-8.268-2.943-9.542-7a9.957 9.957 0 012.043-3.36m3.237-2.347A9.956 9.956 0 0112 5c4.478 0 8.268 2.943 9.542 7a9.954 9.954 0 01-4.043 5.132M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3l18 18"}));function z$({initialItems:e,onChange:t}){const[n,r]=T.useState(e),i=T.useRef(null),s=T.useRef([]),[o,a]=T.useState(null),u=T.useRef(null),[c,h]=T.useState(null),[p,g]=T.useState(null);T.useEffect(()=>{t?.(n)},[n,t]),T.useEffect(()=>{if(o){const N=n.findIndex(I=>I.title===o);N!==-1&&s.current[N]?.focus(),a(null)}},[n,o]),T.useEffect(()=>{const N=()=>requestAnimationFrame(S),I=new ResizeObserver(N);return i.current&&I.observe(i.current),window.addEventListener("scroll",N,!0),window.addEventListener("resize",N),N(),()=>{I.disconnect(),window.removeEventListener("scroll",N,!0),window.removeEventListener("resize",N)}},[]);function x(N){r(I=>{const H=[...I];return H[N]={...H[N],visible:!H[N].visible},H})}const w=T.useRef([]);function S(){const N=i.current;if(!N)return;const I=Array.from(N.children);w.current=I.map(H=>{const V=H.getBoundingClientRect();return V.top+V.height/2})}function k(N,I){if(N.key==="ArrowUp"||N.key==="ArrowDown"){N.preventDefault(),N.stopPropagation();const H=I;let V;if(N.key==="ArrowUp"){if(H===0)return;V=H-1}else{if(H===n.length-1)return;V=H+1}const F=n[H].title;r(le=>{const ue=[...le],[ae]=ue.splice(H,1);return ue.splice(V,0,ae),ue}),a(F)}}function E(N,I){if(!i.current)return;const H=N.target.closest(".draggable-item");if(!H)return;N.target.setPointerCapture(N.pointerId);const V=H.getBoundingClientRect(),F=i.current.getBoundingClientRect();u.current={currentIndex:I,height:V.height,offsetY:N.clientY-V.top,containerRect:F},h({item:n[I],initialIndex:I}),g({width:V.width,left:V.left,top:V.top,position:"fixed",zIndex:50,pointerEvents:"none",transition:"none"}),window.addEventListener("pointermove",R),window.addEventListener("pointerup",A,{once:!0})}function R(N){if(u.current===null)return;const{height:I,offsetY:H,containerRect:V}=u.current;let F=N.clientY-H;F=Math.max(V.top,F),F=Math.min(V.bottom-I,F),g(J=>({...J||{},top:F})),S();const le=N.clientY;let ae=w.current.findIndex(J=>le<J);ae===-1&&(ae=n.length);const q=u.current.currentIndex;let Q=Math.max(0,Math.min(n.length-1,ae>q?ae-1:ae));Q!==q&&(u.current.currentIndex=Q,r(J=>{const te=[...J],[ne]=te.splice(q,1);return te.splice(Q,0,ne),te}))}function A(){window.removeEventListener("pointermove",R),u.current=null,h(null),g(null)}const z=T.useMemo(()=>c?n.findIndex(N=>N.title===c.item.title):-1,[n,c]);function U(N){if(!c||!u.current||z===-1)return"";const I=z,H=u.current.currentIndex,V=u.current.height;if(N===I)return"";if(I<H){if(N>I&&N<=H)return`translateY(-${V}px)`}else if(N>=H&&N<I)return`translateY(${V}px)`;return""}return f.jsxs(f.Fragment,{children:[f.jsx("ul",{ref:i,className:"bg-white divide-y divide-gray-100 relative",children:n.map((N,I)=>f.jsxs("li",{ref:H=>{s.current[I]=H},className:"draggable-item flex items-center gap-2 rounded-md px-2 transition-transform duration-1000",tabIndex:0,onKeyDown:H=>k(H,I),style:{transform:U(I),opacity:z===I?.4:1},children:[f.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700 cursor-grab",onPointerDown:H=>E(H,I),"aria-label":`Drag ${N.title}`,title:" ",children:""}),f.jsxs("div",{className:"flex items-center justify-between flex-auto",children:[f.jsx("span",{className:"font-medium",children:N.title}),f.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700 cursor-pointer","aria-label":N.visible?"":"",title:N.visible?"":"",onClick:()=>x(I),children:N.visible?f.jsx(F$,{className:"w-4 h-4"}):f.jsx(B$,{className:"w-4 h-4"})})]})]},N.title))}),p&&c&&f.jsx("div",{style:p,className:"bg-blue-50 rounded-md shadow-lg w-full max-w-lg m-auto px-2",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"p-1 text-gray-700",children:""}),f.jsx("span",{className:"font-medium",children:c.item.title})]})}),f.jsx("div",{className:"mt-4 text-sm text-gray-500",children:"Tip:    /    ."})]})}function i7({initialItems:e,onChange:t,onClose:n}){return yC({enabled:!0,onClose:n}),f.jsx(Nn,{title:" ",onClose:n,isOpen:!0,children:f.jsx(Nn.Content,{children:f.jsx(z$,{initialItems:e,onChange:t})})})}function $$(e){const{data:t}=Gi(),{data:n,...r}=Nv(e);return{data:n?.map(s=>{const{subjectId:o,seatCount:a,queryTime:u}=s,c=t?.find(w=>w.subjectId===o)||xm,{subjectName:h,subjectCode:p,classCode:g,professorName:x}=c;return{...c,code:`${p}-${g}`,name:h,professor:x,seat:a,queryTime:u}}),...r}}function U$(){return f.jsx(zm,{title:"   TOP 10  ",description:"   ",icon:f.jsx(bx,{className:"w-7 h-7"})})}function H$(){return f.jsx(zm,{title:"   ",description:"   .   .",icon:f.jsx(Cv,{className:"w-7 h-7 text-gray-400"}),children:f.jsx(Oe,{justify:"justify-center",children:f.jsx("a",{className:"bg-gray-50 rounded-full px-4 py-2 text-sm border border-gray-200 hover:shadow-md cursor-pointer",href:"https://open.kakao.com/o/g3MztXfh",children:"  "})})})}const s7=(e,t)=>Mr()(FS(n=>({tableTitles:t,setTableTitles:r=>n({tableTitles:r}),resetTableTitles:()=>n({tableTitles:t})}),{name:`${e}-table-head-store`})),V$=[{title:"",visible:!0,key:"code"},{title:"",visible:!0,key:"name"},{title:"",visible:!0,key:"professor"},{title:"",visible:!0,key:"seat"},{title:"",visible:!0,key:"queryTime"},{title:"",visible:!1,key:"manageDeptNm"},{title:"",visible:!1,key:"studentYear"},{title:"",visible:!1,key:"lesnTime"},{title:"",visible:!1,key:"lesnRoom"},{title:"",visible:!1,key:"tmNum"},{title:"",visible:!1,key:"remark"},{title:"",visible:!1,key:"curiTypeCdNm"},{title:"",visible:!1,key:"curiLangNm"}],m_=s7("live",V$),Q$=({title:e=""})=>{const[t,n]=T.useState(!1),r=m_(s=>s.setTableTitles),i=m_(s=>s.tableTitles);return f.jsxs(Tn,{children:[t&&f.jsx(i7,{initialItems:i,onChange:r,onClose:()=>n(!1)}),f.jsxs(Oe,{justify:"justify-between",align:"items-center",className:"mb-2",children:[f.jsxs(Lt,{level:3,children:[e," "]}),f.jsx(rr,{label:" ",variant:"plain","aria-label":" ",icon:f.jsx(bx,{className:"w-4 h-4"}),onClick:()=>n(!0)})]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full bg-white rounded-lg text-sm",children:[f.jsx("thead",{children:f.jsx("tr",{className:"bg-gray-50 sticky top-0 z-10 text-nowrap",children:i.filter(s=>s.visible).map(({title:s})=>f.jsx("th",{className:"px-4 py-2",children:s},s))})}),f.jsx("tbody",{children:f.jsx(W$,{tableTitles:i})})]})}),f.jsx(sx,{})]})};function W$({tableTitles:e}){const{data:t,isError:n,isPending:r,refetch:i}=$$(bm.NON_MAJOR),s=e.filter(u=>u.visible),o=new Date>QS("2025-12-09T17:00:00"),a=Hu(u=>u.sseState);return n?f.jsx("tr",{children:f.jsx("td",{colSpan:s.length,children:f.jsx(CC,{onReload:i})})}):r||!t?f.jsx(Xd,{row:5,col:s.length}):a===Pv.IDLE&&o?f.jsx("tr",{children:f.jsx("td",{colSpan:s.length,className:"text-center",children:f.jsx(H$,{})})}):t.length?f.jsx(gm,{component:null,children:t.map(u=>f.jsx(sh,{timeout:500,classNames:"row-change",children:f.jsx(q$,{subject:u,HeadTitles:s},u.code)},u.code))}):f.jsx("tr",{children:f.jsx("td",{colSpan:s.length,className:"text-center",children:f.jsx(U$,{})})})}function q$({subject:e,HeadTitles:t}){const n=T.useRef(e.seat),[r,i]=T.useState(!1),s=e.isDeleted,o=e.curiLangNm==="",a=r?"bg-blue-50":s?"bg-gray-100":o?"bg-green-50":"";return T.useEffect(()=>{if(n.current!==e.seat){i(!0);const u=setTimeout(()=>i(!1),1e3);return n.current=e.seat,()=>clearTimeout(u)}},[e.seat]),f.jsx("tr",{className:`border-t border-gray-200 text-black transition-colors duration-500 text-nowrap ${a}`,children:t.map(({key:u})=>{switch(u){case"seat":return f.jsx("td",{className:"px-4 py-2 text-center",children:f.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold "+Dm(e.seat??-1),children:e[u]})},u);case"queryTime":return f.jsx(K$,{queryTime:e.queryTime},u);default:return f.jsx("td",{className:"px-4 py-2 text-center",children:e[u]},u)}})})}function K$({queryTime:e}){return wC(),f.jsx("td",{className:"w-18 px-4 py-2 text-center text-xs",children:f.jsx("span",{className:"text-gray-500",children:rx(e)})})}function G$(){const e=ky(s=>s.isSearchOpen),t=ky(s=>s.setIsSearchOpen),n=Pi(),{isPreSeatAvailable:r}=Hm(),i=!r;return f.jsxs(f.Fragment,{children:[f.jsx(gr,{children:f.jsx("title",{children:"ALLCLL |   "})}),f.jsxs(Oe,{className:"overflow-hidden min-h-screen",children:[f.jsxs(Oe,{direction:"flex-col",className:"max-w-screen-xl mx-auto p-4 mb-8 container",children:[f.jsxs(Oe,{direction:"flex-col",gap:"gap-0",children:[f.jsx(Lt,{level:1,children:"  "}),f.jsxs(Un,{children:["     .    ",f.jsx("a",{href:"https://forms.gle/bCDTVujEHunnvHe88",target:"_blank",className:"text-blue-500 underline hover:text-blue-600",children:""})]})]}),i&&f.jsx(EF,{}),f.jsx(va,{columns:{base:1},gap:"gap-4",children:f.jsx(Y$,{isPreSeatAvailable:r})})]}),f.jsx(X$,{isMobile:n,isOpen:e,onClose:()=>t(!1)})]})]})}function Y$({isPreSeatAvailable:e}){return e?f.jsx(R$,{}):f.jsx(Q$,{title:""})}function X$({isMobile:e,isOpen:t,onClose:n}){return t?e?f.jsx(D$,{onCloseSearch:n}):f.jsx(L$,{isOpen:t,onClose:n}):null}function J$(){const[e,t]=T.useState(!1);return f.jsxs(f.Fragment,{children:[f.jsx(gr,{children:f.jsx("title",{children:"ALLCLL | "})}),f.jsxs("div",{className:"mx-auto flex flex-col justify-center bg-blue-100 h-max",children:[f.jsx("iframe",{src:"https://resilient-may-c73.notion.site/ebd/1f2acf7c316280939afed2657259c817",width:"100%",height:e?"1000":"0",onLoad:()=>t(!0),children:" "}),!e&&f.jsx("div",{className:"w-4xl mx-auto h-screen flex justify-center items-center text-3xl",children:" ..."})]})]})}function Z$(){const[e,t]=T.useState(!1);return f.jsxs(f.Fragment,{children:[f.jsx(gr,{children:f.jsx("title",{children:"ALLCLL |   "})}),f.jsxs("div",{className:"mx-auto flex justify-center bg-blue-100 pt-4",children:[f.jsx("iframe",{src:"https://docs.google.com/forms/d/e/1FAIpQLSdk7MxNYVyzPyJLecQdJU5wGSgdE7rUWtRfcrPBY2ioKbtW2Q/viewform?embedded=true",width:"640",height:e?"1100":"0",onLoad:()=>t(!0),children:" "}),!e&&f.jsx("div",{className:"w-4xl h-screen flex items-center text-3xl",children:" ..."})]})]})}function g_(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}const Hr=_a(/[A-Za-z]/),Nr=_a(/[\dA-Za-z]/),eU=_a(/[#-'*+\--9=?A-Z^-~]/);function rm(e){return e!==null&&(e<32||e===127)}const $y=_a(/\d/),tU=_a(/[\dA-Fa-f]/),nU=_a(/[!-/:-@[-`{-~]/);function dt(e){return e!==null&&e<-2}function an(e){return e!==null&&(e<0||e===32)}function Bt(e){return e===-2||e===-1||e===32}const Km=_a(new RegExp("\\p{P}|\\p{S}","u")),kl=_a(/\s/);function _a(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function rU(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const Gm=function(e){if(e==null)return aU;if(typeof e=="function")return Ym(e);if(typeof e=="object")return Array.isArray(e)?iU(e):sU(e);if(typeof e=="string")return oU(e);throw new Error("Expected function, string, or object as test")};function iU(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Gm(e[n]);return Ym(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function sU(e){const t=e;return Ym(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function oU(e){return Ym(t);function t(n){return n&&n.type===e}}function Ym(e){return t;function t(n,r,i){return!!(lU(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function aU(){return!0}function lU(e){return e!==null&&typeof e=="object"&&"type"in e}const o7=[],uU=!0,Uy=!1,cU="skip";function a7(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=Gm(i),o=r?-1:1;a(e,void 0,[])();function a(u,c,h){const p=u&&typeof u=="object"?u:{};if(typeof p.type=="string"){const x=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(u.type+(x?"<"+x+">":""))+")"})}return g;function g(){let x=o7,w,S,k;if((!t||s(u,c,h[h.length-1]||void 0))&&(x=dU(n(u,h)),x[0]===Uy))return x;if("children"in u&&u.children){const E=u;if(E.children&&x[0]!==cU)for(S=(r?E.children.length:-1)+o,k=h.concat(E);S>-1&&S<E.children.length;){const R=E.children[S];if(w=a(R,S,k)(),w[0]===Uy)return w;S=typeof w[1]=="number"?w[1]:S+o}}return x}}}function dU(e){return Array.isArray(e)?e:typeof e=="number"?[uU,e]:e==null?o7:[e]}function hU(e,t,n){const i=Gm((n||{}).ignore||[]),s=fU(t);let o=-1;for(;++o<s.length;)a7(e,"text",a);function a(c,h){let p=-1,g;for(;++p<h.length;){const x=h[p],w=g?g.children:void 0;if(i(x,w?w.indexOf(x):void 0,g))return;g=x}if(g)return u(c,h)}function u(c,h){const p=h[h.length-1],g=s[o][0],x=s[o][1];let w=0;const k=p.children.indexOf(c);let E=!1,R=[];g.lastIndex=0;let A=g.exec(c.value);for(;A;){const z=A.index,U={index:A.index,input:A.input,stack:[...h,c]};let N=x(...A,U);if(typeof N=="string"&&(N=N.length>0?{type:"text",value:N}:void 0),N===!1?g.lastIndex=z+1:(w!==z&&R.push({type:"text",value:c.value.slice(w,z)}),Array.isArray(N)?R.push(...N):N&&R.push(N),w=z+A[0].length,E=!0),!g.global)break;A=g.exec(c.value)}return E?(w<c.value.length&&R.push({type:"text",value:c.value.slice(w)}),p.children.splice(k,1,...R)):R=[c],k+R.length}}function fU(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([pU(i[0]),mU(i[1])])}return t}function pU(e){return typeof e=="string"?new RegExp(rU(e),"g"):e}function mU(e){return typeof e=="function"?e:function(){return e}}const x1="phrasing",b1=["autolink","link","image","label"];function gU(){return{transforms:[SU],enter:{literalAutolink:vU,literalAutolinkEmail:w1,literalAutolinkHttp:w1,literalAutolinkWww:w1},exit:{literalAutolink:_U,literalAutolinkEmail:wU,literalAutolinkHttp:xU,literalAutolinkWww:bU}}}function yU(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:x1,notInConstruct:b1},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:x1,notInConstruct:b1},{character:":",before:"[ps]",after:"\\/",inConstruct:x1,notInConstruct:b1}]}}function vU(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function w1(e){this.config.enter.autolinkProtocol.call(this,e)}function xU(e){this.config.exit.autolinkProtocol.call(this,e)}function bU(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function wU(e){this.config.exit.autolinkEmail.call(this,e)}function _U(e){this.exit(e)}function SU(e){hU(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,CU],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),kU]],{ignore:["link","linkReference"]})}function CU(e,t,n,r,i){let s="";if(!l7(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!jU(n)))return!1;const o=EU(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function kU(e,t,n,r){return!l7(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function jU(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function EU(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=g_(e,"(");let s=g_(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function l7(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||kl(n)||Km(n))&&(!t||n!==47)}function vs(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}u7.peek=IU;function TU(){this.buffer()}function PU(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function NU(){this.buffer()}function OU(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function RU(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=vs(this.sliceSerialize(e)).toLowerCase(),n.label=t}function MU(e){this.exit(e)}function AU(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=vs(this.sliceSerialize(e)).toLowerCase(),n.label=t}function LU(e){this.exit(e)}function IU(){return"["}function u7(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(n.safe(n.associationId(e),{after:"]",before:s})),a(),o(),s+=i.move("]"),s}function DU(){return{enter:{gfmFootnoteCallString:TU,gfmFootnoteCall:PU,gfmFootnoteDefinitionLabelString:NU,gfmFootnoteDefinition:OU},exit:{gfmFootnoteCallString:RU,gfmFootnoteCall:MU,gfmFootnoteDefinitionLabelString:AU,gfmFootnoteDefinition:LU}}}function FU(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:u7},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,o){const a=s.createTracker(o);let u=a.move("[^");const c=s.enter("footnoteDefinition"),h=s.enter("label");return u+=a.move(s.safe(s.associationId(r),{before:u,after:"]"})),h(),u+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),u+=a.move((t?`
`:" ")+s.indentLines(s.containerFlow(r,a.current()),t?c7:BU))),c(),u}}function BU(e,t,n){return t===0?e:c7(e,t,n)}function c7(e,t,n){return(n?"":"    ")+e}const zU=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];d7.peek=QU;function $U(){return{canContainEols:["delete"],enter:{strikethrough:HU},exit:{strikethrough:VU}}}function UU(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:zU}],handlers:{delete:d7}}}function HU(e){this.enter({type:"delete",children:[]},e)}function VU(e){this.exit(e)}function d7(e,t,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function QU(){return"~"}function WU(e){return e.length}function qU(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||WU,s=[],o=[],a=[],u=[];let c=0,h=-1;for(;++h<e.length;){const S=[],k=[];let E=-1;for(e[h].length>c&&(c=e[h].length);++E<e[h].length;){const R=KU(e[h][E]);if(n.alignDelimiters!==!1){const A=i(R);k[E]=A,(u[E]===void 0||A>u[E])&&(u[E]=A)}S.push(R)}o[h]=S,a[h]=k}let p=-1;if(typeof r=="object"&&"length"in r)for(;++p<c;)s[p]=y_(r[p]);else{const S=y_(r);for(;++p<c;)s[p]=S}p=-1;const g=[],x=[];for(;++p<c;){const S=s[p];let k="",E="";S===99?(k=":",E=":"):S===108?k=":":S===114&&(E=":");let R=n.alignDelimiters===!1?1:Math.max(1,u[p]-k.length-E.length);const A=k+"-".repeat(R)+E;n.alignDelimiters!==!1&&(R=k.length+R+E.length,R>u[p]&&(u[p]=R),x[p]=R),g[p]=A}o.splice(1,0,g),a.splice(1,0,x),h=-1;const w=[];for(;++h<o.length;){const S=o[h],k=a[h];p=-1;const E=[];for(;++p<c;){const R=S[p]||"";let A="",z="";if(n.alignDelimiters!==!1){const U=u[p]-(k[p]||0),N=s[p];N===114?A=" ".repeat(U):N===99?U%2?(A=" ".repeat(U/2+.5),z=" ".repeat(U/2-.5)):(A=" ".repeat(U/2),z=A):z=" ".repeat(U)}n.delimiterStart!==!1&&!p&&E.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&R==="")&&(n.delimiterStart!==!1||p)&&E.push(" "),n.alignDelimiters!==!1&&E.push(A),E.push(R),n.alignDelimiters!==!1&&E.push(z),n.padding!==!1&&E.push(" "),(n.delimiterEnd!==!1||p!==c-1)&&E.push("|")}w.push(n.delimiterEnd===!1?E.join("").replace(/ +$/,""):E.join(""))}return w.join(`
`)}function KU(e){return e==null?"":String(e)}function y_(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function GU(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(e,s.current()),YU);return i(),o}function YU(e,t,n){return">"+(n?"":" ")+e}function XU(e,t){return v_(e,t.inConstruct,!0)&&!v_(e,t.notInConstruct,!1)}function v_(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function x_(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&XU(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function JU(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+t.length,r=n.indexOf(t,i);return o}function ZU(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function eH(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function tH(e,t,n,r){const i=eH(n),s=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(ZU(e,n)){const p=n.enter("codeIndented"),g=n.indentLines(s,nH);return p(),g}const a=n.createTracker(r),u=i.repeat(Math.max(JU(s,i)+1,3)),c=n.enter("codeFenced");let h=a.move(u);if(e.lang){const p=n.enter(`codeFencedLang${o}`);h+=a.move(n.safe(e.lang,{before:h,after:" ",encode:["`"],...a.current()})),p()}if(e.lang&&e.meta){const p=n.enter(`codeFencedMeta${o}`);h+=a.move(" "),h+=a.move(n.safe(e.meta,{before:h,after:`
`,encode:["`"],...a.current()})),p()}return h+=a.move(`
`),s&&(h+=a.move(s+`
`)),h+=a.move(u),c(),h}function nH(e,t,n){return(n?"":"    ")+e}function wx(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function rH(e,t,n,r){const i=wx(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const u=n.createTracker(r);let c=u.move("[");return c+=u.move(n.safe(n.associationId(e),{before:c,after:"]",...u.current()})),c+=u.move("]: "),a(),!e.url||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(n.safe(e.url,{before:c,after:">",...u.current()})),c+=u.move(">")):(a=n.enter("destinationRaw"),c+=u.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...u.current()}))),a(),e.title&&(a=n.enter(`title${s}`),c+=u.move(" "+i),c+=u.move(n.safe(e.title,{before:c,after:i,...u.current()})),c+=u.move(i),a()),o(),c}function iH(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Jd(e){return"&#x"+e.toString(16).toUpperCase()+";"}function sc(e){if(e===null||an(e)||kl(e))return 1;if(Km(e))return 2}function im(e,t,n){const r=sc(e),i=sc(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}h7.peek=sH;function h7(e,t,n,r){const i=iH(n),s=n.enter("emphasis"),o=n.createTracker(r),a=o.move(i);let u=o.move(n.containerPhrasing(e,{after:i,before:a,...o.current()}));const c=u.charCodeAt(0),h=im(r.before.charCodeAt(r.before.length-1),c,i);h.inside&&(u=Jd(c)+u.slice(1));const p=u.charCodeAt(u.length-1),g=im(r.after.charCodeAt(0),p,i);g.inside&&(u=u.slice(0,-1)+Jd(p));const x=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:g.outside,before:h.outside},a+u+x}function sH(e,t,n){return n.options.emphasis||"*"}function _x(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),a7(e,s,a,i);function a(u,c){const h=c[c.length-1],p=h?h.children.indexOf(u):void 0;return o(u,p,h)}}const oH={};function Sx(e,t){const n=oH,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return f7(e,r,i)}function f7(e,t,n){if(aH(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return b_(e.children,t,n)}return Array.isArray(e)?b_(e,t,n):""}function b_(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=f7(e[i],t,n);return r.join("")}function aH(e){return!!(e&&typeof e=="object")}function lH(e,t){let n=!1;return _x(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Uy}),!!((!e.depth||e.depth<3)&&Sx(e)&&(t.options.setext||n))}function uH(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(lH(e,n)){const h=n.enter("headingSetext"),p=n.enter("phrasing"),g=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return p(),h(),g+`
`+(i===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),u=n.enter("phrasing");s.move(o+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c=Jd(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),u(),a(),c}p7.peek=cH;function p7(e){return e.value||""}function cH(){return"<"}m7.peek=dH;function m7(e,t,n,r){const i=wx(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const u=n.createTracker(r);let c=u.move("![");return c+=u.move(n.safe(e.alt,{before:c,after:"]",...u.current()})),c+=u.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(n.safe(e.url,{before:c,after:">",...u.current()})),c+=u.move(">")):(a=n.enter("destinationRaw"),c+=u.move(n.safe(e.url,{before:c,after:e.title?" ":")",...u.current()}))),a(),e.title&&(a=n.enter(`title${s}`),c+=u.move(" "+i),c+=u.move(n.safe(e.title,{before:c,after:i,...u.current()})),c+=u.move(i),a()),c+=u.move(")"),o(),c}function dH(){return"!"}g7.peek=hH;function g7(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let u=a.move("![");const c=n.safe(e.alt,{before:u,after:"]",...a.current()});u+=a.move(c+"]["),o();const h=n.stack;n.stack=[],o=n.enter("reference");const p=n.safe(n.associationId(e),{before:u,after:"]",...a.current()});return o(),n.stack=h,s(),i==="full"||!c||c!==p?u+=a.move(p+"]"):i==="shortcut"?u=u.slice(0,-1):u+=a.move("]"),u}function hH(){return"!"}y7.peek=fH;function y7(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let u;if(o.atBreak)for(;u=a.exec(r);){let c=u.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(u.index+1)}}return i+r+i}function fH(){return"`"}function v7(e,t){const n=Sx(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}x7.peek=pH;function x7(e,t,n,r){const i=wx(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,u;if(v7(e,n)){const h=n.stack;n.stack=[],a=n.enter("autolink");let p=o.move("<");return p+=o.move(n.containerPhrasing(e,{before:p,after:">",...o.current()})),p+=o.move(">"),a(),n.stack=h,p}a=n.enter("link"),u=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(e,{before:c,after:"](",...o.current()})),c+=o.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(e.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(u=n.enter("destinationRaw"),c+=o.move(n.safe(e.url,{before:c,after:e.title?" ":")",...o.current()}))),u(),e.title&&(u=n.enter(`title${s}`),c+=o.move(" "+i),c+=o.move(n.safe(e.title,{before:c,after:i,...o.current()})),c+=o.move(i),u()),c+=o.move(")"),a(),c}function pH(e,t,n){return v7(e,n)?"<":"["}b7.peek=mH;function b7(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let u=a.move("[");const c=n.containerPhrasing(e,{before:u,after:"]",...a.current()});u+=a.move(c+"]["),o();const h=n.stack;n.stack=[],o=n.enter("reference");const p=n.safe(n.associationId(e),{before:u,after:"]",...a.current()});return o(),n.stack=h,s(),i==="full"||!c||c!==p?u+=a.move(p+"]"):i==="shortcut"?u=u.slice(0,-1):u+=a.move("]"),u}function mH(){return"["}function Cx(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function gH(e){const t=Cx(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function yH(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function w7(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function vH(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=e.ordered?yH(n):Cx(n);const a=e.ordered?o==="."?")":".":gH(n);let u=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const h=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&h&&(!h.children||!h.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(u=!0),w7(n)===o&&h){let p=-1;for(;++p<e.children.length;){const g=e.children[p];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(o=a),n.bulletCurrent=o;const c=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),c}function xH(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function bH(e,t,n,r){const i=xH(n);let s=n.bulletCurrent||Cx(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const u=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,a.current()),h);return u(),c;function h(p,g,x){return g?(x?"":" ".repeat(o))+p:(x?s:s+" ".repeat(o-s.length))+p}}function wH(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(e,r);return s(),i(),o}const _H=Gm(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function SH(e,t,n,r){return(e.children.some(function(o){return _H(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function CH(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}_7.peek=kH;function _7(e,t,n,r){const i=CH(n),s=n.enter("strong"),o=n.createTracker(r),a=o.move(i+i);let u=o.move(n.containerPhrasing(e,{after:i,before:a,...o.current()}));const c=u.charCodeAt(0),h=im(r.before.charCodeAt(r.before.length-1),c,i);h.inside&&(u=Jd(c)+u.slice(1));const p=u.charCodeAt(u.length-1),g=im(r.after.charCodeAt(0),p,i);g.inside&&(u=u.slice(0,-1)+Jd(p));const x=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:g.outside,before:h.outside},a+u+x}function kH(e,t,n){return n.options.strong||"*"}function jH(e,t,n,r){return n.safe(e.value,r)}function EH(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function TH(e,t,n){const r=(w7(n)+(n.options.ruleSpaces?" ":"")).repeat(EH(n));return n.options.ruleSpaces?r.slice(0,-1):r}const S7={blockquote:GU,break:x_,code:tH,definition:rH,emphasis:h7,hardBreak:x_,heading:uH,html:p7,image:m7,imageReference:g7,inlineCode:y7,link:x7,linkReference:b7,list:vH,listItem:bH,paragraph:wH,root:SH,strong:_7,text:jH,thematicBreak:TH},w_=document.createElement("i");function kx(e){const t="&"+e+";";w_.innerHTML=t;const n=w_.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function C7(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}const PH=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function NH(e){return e.replace(PH,OH)}function OH(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return C7(n.slice(s?2:1),s?16:10)}return kx(n)||e}function RH(){return{enter:{table:MH,tableData:__,tableHeader:__,tableRow:LH},exit:{codeText:IH,table:AH,tableData:_1,tableHeader:_1,tableRow:_1}}}function MH(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function AH(e){this.exit(e),this.data.inTable=void 0}function LH(e){this.enter({type:"tableRow",children:[]},e)}function _1(e){this.exit(e)}function __(e){this.enter({type:"tableCell",children:[]},e)}function IH(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,DH));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function DH(e,t){return t==="|"?t:e}function FH(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:g,table:o,tableCell:u,tableRow:a}};function o(x,w,S,k){return c(h(x,S,k),x.align)}function a(x,w,S,k){const E=p(x,S,k),R=c([E]);return R.slice(0,R.indexOf(`
`))}function u(x,w,S,k){const E=S.enter("tableCell"),R=S.enter("phrasing"),A=S.containerPhrasing(x,{...k,before:s,after:s});return R(),E(),A}function c(x,w){return qU(x,{align:w,alignDelimiters:r,padding:n,stringLength:i})}function h(x,w,S){const k=x.children;let E=-1;const R=[],A=w.enter("table");for(;++E<k.length;)R[E]=p(k[E],w,S);return A(),R}function p(x,w,S){const k=x.children;let E=-1;const R=[],A=w.enter("tableRow");for(;++E<k.length;)R[E]=u(k[E],x,w,S);return A(),R}function g(x,w,S){let k=S7.inlineCode(x,w,S);return S.stack.includes("tableCell")&&(k=k.replace(/\|/g,"\\$&")),k}}function BH(){return{exit:{taskListCheckValueChecked:S_,taskListCheckValueUnchecked:S_,paragraph:$H}}}function zH(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:UH}}}function S_(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function $H(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function UH(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",a=n.createTracker(r);s&&a.move(o);let u=S7.listItem(e,t,n,{...r,...a.current()});return s&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),u;function c(h){return h+o}}function HH(){return[gU(),DU(),$U(),RH(),BH()]}function VH(e){return{extensions:[yU(),FU(e),UU(),FH(e),zH()]}}function ji(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function Qi(e,t){return e.length>0?(ji(e,e.length,0,t),e):t}const C_={}.hasOwnProperty;function k7(e){const t={};let n=-1;for(;++n<e.length;)QH(t,e[n]);return t}function QH(e,t){let n;for(n in t){const i=(C_.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){C_.call(i,o)||(i[o]=[]);const a=s[o];WH(i[o],Array.isArray(a)?a:a?[a]:[])}}}function WH(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);ji(e,0,0,r)}const qH={tokenize:ZH,partial:!0},j7={tokenize:eV,partial:!0},E7={tokenize:tV,partial:!0},T7={tokenize:nV,partial:!0},KH={tokenize:rV,partial:!0},P7={name:"wwwAutolink",tokenize:XH,previous:O7},N7={name:"protocolAutolink",tokenize:JH,previous:R7},Co={name:"emailAutolink",tokenize:YH,previous:M7},Fs={};function GH(){return{text:Fs}}let nl=48;for(;nl<123;)Fs[nl]=Co,nl++,nl===58?nl=65:nl===91&&(nl=97);Fs[43]=Co;Fs[45]=Co;Fs[46]=Co;Fs[95]=Co;Fs[72]=[Co,N7];Fs[104]=[Co,N7];Fs[87]=[Co,P7];Fs[119]=[Co,P7];function YH(e,t,n){const r=this;let i,s;return o;function o(p){return!Hy(p)||!M7.call(r,r.previous)||jx(r.events)?n(p):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(p))}function a(p){return Hy(p)?(e.consume(p),a):p===64?(e.consume(p),u):n(p)}function u(p){return p===46?e.check(KH,h,c)(p):p===45||p===95||Nr(p)?(s=!0,e.consume(p),u):h(p)}function c(p){return e.consume(p),i=!0,u}function h(p){return s&&i&&Hr(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(p)):n(p)}}function XH(e,t,n){const r=this;return i;function i(o){return o!==87&&o!==119||!O7.call(r,r.previous)||jx(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(qH,e.attempt(j7,e.attempt(E7,s),n),n)(o))}function s(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function JH(e,t,n){const r=this;let i="",s=!1;return o;function o(p){return(p===72||p===104)&&R7.call(r,r.previous)&&!jx(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(p),e.consume(p),a):n(p)}function a(p){if(Hr(p)&&i.length<5)return i+=String.fromCodePoint(p),e.consume(p),a;if(p===58){const g=i.toLowerCase();if(g==="http"||g==="https")return e.consume(p),u}return n(p)}function u(p){return p===47?(e.consume(p),s?c:(s=!0,u)):n(p)}function c(p){return p===null||rm(p)||an(p)||kl(p)||Km(p)?n(p):e.attempt(j7,e.attempt(E7,h),n)(p)}function h(p){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(p)}}function ZH(e,t,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),i):o===46&&r===3?(e.consume(o),s):n(o)}function s(o){return o===null?n(o):t(o)}}function eV(e,t,n){let r,i,s;return o;function o(c){return c===46||c===95?e.check(T7,u,a)(c):c===null||an(c)||kl(c)||c!==45&&Km(c)?u(c):(s=!0,e.consume(c),o)}function a(c){return c===95?r=!0:(i=r,r=void 0),e.consume(c),o}function u(c){return i||r||!s?n(c):t(c)}}function tV(e,t){let n=0,r=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(T7,t,s)(o):o===null||an(o)||kl(o)?t(o):(e.consume(o),i)}function s(o){return o===41&&r++,e.consume(o),i}}function nV(e,t,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(e.consume(a),r):a===38?(e.consume(a),s):a===93?(e.consume(a),i):a===60||a===null||an(a)||kl(a)?t(a):n(a)}function i(a){return a===null||a===40||a===91||an(a)||kl(a)?t(a):r(a)}function s(a){return Hr(a)?o(a):n(a)}function o(a){return a===59?(e.consume(a),r):Hr(a)?(e.consume(a),o):n(a)}}function rV(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return Nr(s)?n(s):t(s)}}function O7(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||an(e)}function R7(e){return!Hr(e)}function M7(e){return!(e===47||Hy(e))}function Hy(e){return e===43||e===45||e===46||e===95||Nr(e)}function jx(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}function pc(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&Nr(e.charCodeAt(n+1))&&Nr(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Xm(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const Vy={name:"attention",resolveAll:iV,tokenize:sV};function iV(e,t){let n=-1,r,i,s,o,a,u,c,h;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p={...e[r][1].end},g={...e[n][1].start};k_(p,-u),k_(g,u),o={type:u>1?"strongSequence":"emphasisSequence",start:p,end:{...e[r][1].end}},a={type:u>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:g},s={type:u>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:u>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},e[r][1].end={...o.start},e[n][1].start={...a.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=Qi(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=Qi(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),c=Qi(c,Xm(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=Qi(c,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(h=2,c=Qi(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):h=0,ji(e,r-1,n-r+3,c),n=r+c.length-h-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function sV(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=sc(r);let s;return o;function o(u){return s=u,e.enter("attentionSequence"),a(u)}function a(u){if(u===s)return e.consume(u),a;const c=e.exit("attentionSequence"),h=sc(u),p=!h||h===2&&i||n.includes(u),g=!i||i===2&&h||n.includes(r);return c._open=!!(s===42?p:p&&(i||!g)),c._close=!!(s===42?g:g&&(h||!p)),t(u)}}function k_(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const oV={name:"autolink",tokenize:aV};function aV(e,t,n){let r=0;return i;function i(x){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(x){return Hr(x)?(e.consume(x),o):x===64?n(x):c(x)}function o(x){return x===43||x===45||x===46||Nr(x)?(r=1,a(x)):c(x)}function a(x){return x===58?(e.consume(x),r=0,u):(x===43||x===45||x===46||Nr(x))&&r++<32?(e.consume(x),a):(r=0,c(x))}function u(x){return x===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.exit("autolink"),t):x===null||x===32||x===60||rm(x)?n(x):(e.consume(x),u)}function c(x){return x===64?(e.consume(x),h):eU(x)?(e.consume(x),c):n(x)}function h(x){return Nr(x)?p(x):n(x)}function p(x){return x===46?(e.consume(x),r=0,h):x===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.exit("autolink"),t):g(x)}function g(x){if((x===45||Nr(x))&&r++<63){const w=x===45?g:p;return e.consume(x),w}return n(x)}}function Qt(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(u){return Bt(u)?(e.enter(n),a(u)):t(u)}function a(u){return Bt(u)&&s++<i?(e.consume(u),a):(e.exit(n),t(u))}}const xh={partial:!0,tokenize:lV};function lV(e,t,n){return r;function r(s){return Bt(s)?Qt(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||dt(s)?t(s):n(s)}}const A7={continuation:{tokenize:cV},exit:dV,name:"blockQuote",tokenize:uV};function uV(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Bt(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function cV(e,t,n){const r=this;return i;function i(o){return Bt(o)?Qt(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(A7,t,n)(o)}}function dV(e){e.exit("blockQuote")}const L7={name:"characterEscape",tokenize:hV};function hV(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return nU(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const I7={name:"characterReference",tokenize:fV};function fV(e,t,n){const r=this;let i=0,s,o;return a;function a(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),u}function u(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),s=31,o=Nr,h(p))}function c(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=tU,h):(e.enter("characterReferenceValue"),s=7,o=$y,h(p))}function h(p){if(p===59&&i){const g=e.exit("characterReferenceValue");return o===Nr&&!kx(r.sliceSerialize(g))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(p)&&i++<s?(e.consume(p),h):n(p)}}const j_={partial:!0,tokenize:mV},E_={concrete:!0,name:"codeFenced",tokenize:pV};function pV(e,t,n){const r=this,i={partial:!0,tokenize:U};let s=0,o=0,a;return u;function u(N){return c(N)}function c(N){const I=r.events[r.events.length-1];return s=I&&I[1].type==="linePrefix"?I[2].sliceSerialize(I[1],!0).length:0,a=N,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(N)}function h(N){return N===a?(o++,e.consume(N),h):o<3?n(N):(e.exit("codeFencedFenceSequence"),Bt(N)?Qt(e,p,"whitespace")(N):p(N))}function p(N){return N===null||dt(N)?(e.exit("codeFencedFence"),r.interrupt?t(N):e.check(j_,S,z)(N)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(N))}function g(N){return N===null||dt(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(N)):Bt(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Qt(e,x,"whitespace")(N)):N===96&&N===a?n(N):(e.consume(N),g)}function x(N){return N===null||dt(N)?p(N):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),w(N))}function w(N){return N===null||dt(N)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(N)):N===96&&N===a?n(N):(e.consume(N),w)}function S(N){return e.attempt(i,z,k)(N)}function k(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),E}function E(N){return s>0&&Bt(N)?Qt(e,R,"linePrefix",s+1)(N):R(N)}function R(N){return N===null||dt(N)?e.check(j_,S,z)(N):(e.enter("codeFlowValue"),A(N))}function A(N){return N===null||dt(N)?(e.exit("codeFlowValue"),R(N)):(e.consume(N),A)}function z(N){return e.exit("codeFenced"),t(N)}function U(N,I,H){let V=0;return F;function F(Q){return N.enter("lineEnding"),N.consume(Q),N.exit("lineEnding"),le}function le(Q){return N.enter("codeFencedFence"),Bt(Q)?Qt(N,ue,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Q):ue(Q)}function ue(Q){return Q===a?(N.enter("codeFencedFenceSequence"),ae(Q)):H(Q)}function ae(Q){return Q===a?(V++,N.consume(Q),ae):V>=o?(N.exit("codeFencedFenceSequence"),Bt(Q)?Qt(N,q,"whitespace")(Q):q(Q)):H(Q)}function q(Q){return Q===null||dt(Q)?(N.exit("codeFencedFence"),I(Q)):H(Q)}}}function mV(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const S1={name:"codeIndented",tokenize:yV},gV={partial:!0,tokenize:vV};function yV(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),Qt(e,s,"linePrefix",5)(c)}function s(c){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?u(c):dt(c)?e.attempt(gV,o,u)(c):(e.enter("codeFlowValue"),a(c))}function a(c){return c===null||dt(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),a)}function u(c){return e.exit("codeIndented"),t(c)}}function vV(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):dt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):Qt(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):dt(o)?i(o):n(o)}}const xV={name:"codeText",previous:wV,resolve:bV,tokenize:_V};function bV(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function wV(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function _V(e,t,n){let r=0,i,s;return o;function o(p){return e.enter("codeText"),e.enter("codeTextSequence"),a(p)}function a(p){return p===96?(e.consume(p),r++,a):(e.exit("codeTextSequence"),u(p))}function u(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),u):p===96?(s=e.enter("codeTextSequence"),i=0,h(p)):dt(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),u):(e.enter("codeTextData"),c(p))}function c(p){return p===null||p===32||p===96||dt(p)?(e.exit("codeTextData"),u(p)):(e.consume(p),c)}function h(p){return p===96?(e.consume(p),i++,h):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(s.type="codeTextData",c(p))}}class SV{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&cd(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),cd(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),cd(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);cd(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);cd(this.left,n.reverse())}}}function cd(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function D7(e){const t={};let n=-1,r,i,s,o,a,u,c;const h=new SV(e);for(;++n<h.length;){for(;n in t;)n=t[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,CV(h,n)),n=t[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=h.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...h.get(i)[1].start},a=h.slice(i,n),a.unshift(r),h.splice(i,n-i+1,a))}}return ji(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!c}function CV(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,u=[],c={};let h,p,g=-1,x=n,w=0,S=0;const k=[S];for(;x;){for(;e.get(++i)[1]!==x;);s.push(i),x._tokenizer||(h=r.sliceStream(x),x.next||h.push(null),p&&o.defineSkip(x.start),x._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(h),x._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),p=x,x=x.next}for(x=n;++g<a.length;)a[g][0]==="exit"&&a[g-1][0]==="enter"&&a[g][1].type===a[g-1][1].type&&a[g][1].start.line!==a[g][1].end.line&&(S=g+1,k.push(S),x._tokenizer=void 0,x.previous=void 0,x=x.next);for(o.events=[],x?(x._tokenizer=void 0,x.previous=void 0):k.pop(),g=k.length;g--;){const E=a.slice(k[g],k[g+1]),R=s.pop();u.push([R,R+E.length-1]),e.splice(R,2,E)}for(u.reverse(),g=-1;++g<u.length;)c[w+u[g][0]]=w+u[g][1],w+=u[g][1]-u[g][0]-1;return c}const kV={resolve:EV,tokenize:TV},jV={partial:!0,tokenize:PV};function EV(e){return D7(e),e}function TV(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):dt(a)?e.check(jV,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function PV(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Qt(e,s,"linePrefix")}function s(o){if(o===null||dt(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function F7(e,t,n,r,i,s,o,a,u){const c=u||Number.POSITIVE_INFINITY;let h=0;return p;function p(E){return E===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(E),e.exit(s),g):E===null||E===32||E===41||rm(E)?n(E):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),S(E))}function g(E){return E===62?(e.enter(s),e.consume(E),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),x(E))}function x(E){return E===62?(e.exit("chunkString"),e.exit(a),g(E)):E===null||E===60||dt(E)?n(E):(e.consume(E),E===92?w:x)}function w(E){return E===60||E===62||E===92?(e.consume(E),x):x(E)}function S(E){return!h&&(E===null||E===41||an(E))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(E)):h<c&&E===40?(e.consume(E),h++,S):E===41?(e.consume(E),h--,S):E===null||E===32||E===40||rm(E)?n(E):(e.consume(E),E===92?k:S)}function k(E){return E===40||E===41||E===92?(e.consume(E),S):S(E)}}function B7(e,t,n,r,i,s){const o=this;let a=0,u;return c;function c(x){return e.enter(r),e.enter(i),e.consume(x),e.exit(i),e.enter(s),h}function h(x){return a>999||x===null||x===91||x===93&&!u||x===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(x):x===93?(e.exit(s),e.enter(i),e.consume(x),e.exit(i),e.exit(r),t):dt(x)?(e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),p(x))}function p(x){return x===null||x===91||x===93||dt(x)||a++>999?(e.exit("chunkString"),h(x)):(e.consume(x),u||(u=!Bt(x)),x===92?g:p)}function g(x){return x===91||x===92||x===93?(e.consume(x),a++,p):p(x)}}function z7(e,t,n,r,i,s){let o;return a;function a(g){return g===34||g===39||g===40?(e.enter(r),e.enter(i),e.consume(g),e.exit(i),o=g===40?41:g,u):n(g)}function u(g){return g===o?(e.enter(i),e.consume(g),e.exit(i),e.exit(r),t):(e.enter(s),c(g))}function c(g){return g===o?(e.exit(s),u(o)):g===null?n(g):dt(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),Qt(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===o||g===null||dt(g)?(e.exit("chunkString"),c(g)):(e.consume(g),g===92?p:h)}function p(g){return g===o||g===92?(e.consume(g),h):h(g)}}function Rd(e,t){let n;return r;function r(i){return dt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Bt(i)?Qt(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const NV={name:"definition",tokenize:RV},OV={partial:!0,tokenize:MV};function RV(e,t,n){const r=this;let i;return s;function s(x){return e.enter("definition"),o(x)}function o(x){return B7.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(x)}function a(x){return i=vs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),x===58?(e.enter("definitionMarker"),e.consume(x),e.exit("definitionMarker"),u):n(x)}function u(x){return an(x)?Rd(e,c)(x):c(x)}function c(x){return F7(e,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(x)}function h(x){return e.attempt(OV,p,p)(x)}function p(x){return Bt(x)?Qt(e,g,"whitespace")(x):g(x)}function g(x){return x===null||dt(x)?(e.exit("definition"),r.parser.defined.push(i),t(x)):n(x)}}function MV(e,t,n){return r;function r(a){return an(a)?Rd(e,i)(a):n(a)}function i(a){return z7(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return Bt(a)?Qt(e,o,"whitespace")(a):o(a)}function o(a){return a===null||dt(a)?t(a):n(a)}}const AV={name:"hardBreakEscape",tokenize:LV};function LV(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return dt(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const IV={name:"headingAtx",resolve:DV,tokenize:FV};function DV(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},ji(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function FV(e,t,n){let r=0;return i;function i(h){return e.enter("atxHeading"),s(h)}function s(h){return e.enter("atxHeadingSequence"),o(h)}function o(h){return h===35&&r++<6?(e.consume(h),o):h===null||an(h)?(e.exit("atxHeadingSequence"),a(h)):n(h)}function a(h){return h===35?(e.enter("atxHeadingSequence"),u(h)):h===null||dt(h)?(e.exit("atxHeading"),t(h)):Bt(h)?Qt(e,a,"whitespace")(h):(e.enter("atxHeadingText"),c(h))}function u(h){return h===35?(e.consume(h),u):(e.exit("atxHeadingSequence"),a(h))}function c(h){return h===null||h===35||an(h)?(e.exit("atxHeadingText"),a(h)):(e.consume(h),c)}}const BV=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],T_=["pre","script","style","textarea"],zV={concrete:!0,name:"htmlFlow",resolveTo:HV,tokenize:VV},$V={partial:!0,tokenize:WV},UV={partial:!0,tokenize:QV};function HV(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function VV(e,t,n){const r=this;let i,s,o,a,u;return c;function c(B){return h(B)}function h(B){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(B),p}function p(B){return B===33?(e.consume(B),g):B===47?(e.consume(B),s=!0,S):B===63?(e.consume(B),i=3,r.interrupt?t:D):Hr(B)?(e.consume(B),o=String.fromCharCode(B),k):n(B)}function g(B){return B===45?(e.consume(B),i=2,x):B===91?(e.consume(B),i=5,a=0,w):Hr(B)?(e.consume(B),i=4,r.interrupt?t:D):n(B)}function x(B){return B===45?(e.consume(B),r.interrupt?t:D):n(B)}function w(B){const Fe="CDATA[";return B===Fe.charCodeAt(a++)?(e.consume(B),a===Fe.length?r.interrupt?t:ue:w):n(B)}function S(B){return Hr(B)?(e.consume(B),o=String.fromCharCode(B),k):n(B)}function k(B){if(B===null||B===47||B===62||an(B)){const Fe=B===47,je=o.toLowerCase();return!Fe&&!s&&T_.includes(je)?(i=1,r.interrupt?t(B):ue(B)):BV.includes(o.toLowerCase())?(i=6,Fe?(e.consume(B),E):r.interrupt?t(B):ue(B)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(B):s?R(B):A(B))}return B===45||Nr(B)?(e.consume(B),o+=String.fromCharCode(B),k):n(B)}function E(B){return B===62?(e.consume(B),r.interrupt?t:ue):n(B)}function R(B){return Bt(B)?(e.consume(B),R):F(B)}function A(B){return B===47?(e.consume(B),F):B===58||B===95||Hr(B)?(e.consume(B),z):Bt(B)?(e.consume(B),A):F(B)}function z(B){return B===45||B===46||B===58||B===95||Nr(B)?(e.consume(B),z):U(B)}function U(B){return B===61?(e.consume(B),N):Bt(B)?(e.consume(B),U):A(B)}function N(B){return B===null||B===60||B===61||B===62||B===96?n(B):B===34||B===39?(e.consume(B),u=B,I):Bt(B)?(e.consume(B),N):H(B)}function I(B){return B===u?(e.consume(B),u=null,V):B===null||dt(B)?n(B):(e.consume(B),I)}function H(B){return B===null||B===34||B===39||B===47||B===60||B===61||B===62||B===96||an(B)?U(B):(e.consume(B),H)}function V(B){return B===47||B===62||Bt(B)?A(B):n(B)}function F(B){return B===62?(e.consume(B),le):n(B)}function le(B){return B===null||dt(B)?ue(B):Bt(B)?(e.consume(B),le):n(B)}function ue(B){return B===45&&i===2?(e.consume(B),J):B===60&&i===1?(e.consume(B),te):B===62&&i===4?(e.consume(B),G):B===63&&i===3?(e.consume(B),D):B===93&&i===5?(e.consume(B),me):dt(B)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check($V,ye,ae)(B)):B===null||dt(B)?(e.exit("htmlFlowData"),ae(B)):(e.consume(B),ue)}function ae(B){return e.check(UV,q,ye)(B)}function q(B){return e.enter("lineEnding"),e.consume(B),e.exit("lineEnding"),Q}function Q(B){return B===null||dt(B)?ae(B):(e.enter("htmlFlowData"),ue(B))}function J(B){return B===45?(e.consume(B),D):ue(B)}function te(B){return B===47?(e.consume(B),o="",ne):ue(B)}function ne(B){if(B===62){const Fe=o.toLowerCase();return T_.includes(Fe)?(e.consume(B),G):ue(B)}return Hr(B)&&o.length<8?(e.consume(B),o+=String.fromCharCode(B),ne):ue(B)}function me(B){return B===93?(e.consume(B),D):ue(B)}function D(B){return B===62?(e.consume(B),G):B===45&&i===2?(e.consume(B),D):ue(B)}function G(B){return B===null||dt(B)?(e.exit("htmlFlowData"),ye(B)):(e.consume(B),G)}function ye(B){return e.exit("htmlFlow"),t(B)}}function QV(e,t,n){const r=this;return i;function i(o){return dt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function WV(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(xh,t,n)}}const qV={name:"htmlText",tokenize:KV};function KV(e,t,n){const r=this;let i,s,o;return a;function a(D){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(D),u}function u(D){return D===33?(e.consume(D),c):D===47?(e.consume(D),U):D===63?(e.consume(D),A):Hr(D)?(e.consume(D),H):n(D)}function c(D){return D===45?(e.consume(D),h):D===91?(e.consume(D),s=0,w):Hr(D)?(e.consume(D),R):n(D)}function h(D){return D===45?(e.consume(D),x):n(D)}function p(D){return D===null?n(D):D===45?(e.consume(D),g):dt(D)?(o=p,te(D)):(e.consume(D),p)}function g(D){return D===45?(e.consume(D),x):p(D)}function x(D){return D===62?J(D):D===45?g(D):p(D)}function w(D){const G="CDATA[";return D===G.charCodeAt(s++)?(e.consume(D),s===G.length?S:w):n(D)}function S(D){return D===null?n(D):D===93?(e.consume(D),k):dt(D)?(o=S,te(D)):(e.consume(D),S)}function k(D){return D===93?(e.consume(D),E):S(D)}function E(D){return D===62?J(D):D===93?(e.consume(D),E):S(D)}function R(D){return D===null||D===62?J(D):dt(D)?(o=R,te(D)):(e.consume(D),R)}function A(D){return D===null?n(D):D===63?(e.consume(D),z):dt(D)?(o=A,te(D)):(e.consume(D),A)}function z(D){return D===62?J(D):A(D)}function U(D){return Hr(D)?(e.consume(D),N):n(D)}function N(D){return D===45||Nr(D)?(e.consume(D),N):I(D)}function I(D){return dt(D)?(o=I,te(D)):Bt(D)?(e.consume(D),I):J(D)}function H(D){return D===45||Nr(D)?(e.consume(D),H):D===47||D===62||an(D)?V(D):n(D)}function V(D){return D===47?(e.consume(D),J):D===58||D===95||Hr(D)?(e.consume(D),F):dt(D)?(o=V,te(D)):Bt(D)?(e.consume(D),V):J(D)}function F(D){return D===45||D===46||D===58||D===95||Nr(D)?(e.consume(D),F):le(D)}function le(D){return D===61?(e.consume(D),ue):dt(D)?(o=le,te(D)):Bt(D)?(e.consume(D),le):V(D)}function ue(D){return D===null||D===60||D===61||D===62||D===96?n(D):D===34||D===39?(e.consume(D),i=D,ae):dt(D)?(o=ue,te(D)):Bt(D)?(e.consume(D),ue):(e.consume(D),q)}function ae(D){return D===i?(e.consume(D),i=void 0,Q):D===null?n(D):dt(D)?(o=ae,te(D)):(e.consume(D),ae)}function q(D){return D===null||D===34||D===39||D===60||D===61||D===96?n(D):D===47||D===62||an(D)?V(D):(e.consume(D),q)}function Q(D){return D===47||D===62||an(D)?V(D):n(D)}function J(D){return D===62?(e.consume(D),e.exit("htmlTextData"),e.exit("htmlText"),t):n(D)}function te(D){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),ne}function ne(D){return Bt(D)?Qt(e,me,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):me(D)}function me(D){return e.enter("htmlTextData"),o(D)}}const Ex={name:"labelEnd",resolveAll:JV,resolveTo:ZV,tokenize:eQ},GV={tokenize:tQ},YV={tokenize:nQ},XV={tokenize:rQ};function JV(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&ji(e,0,e.length,n),e}function ZV(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const u={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[s][1].start},end:{...e[o][1].end}},h={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[o-2][1].start}};return a=[["enter",u,t],["enter",c,t]],a=Qi(a,e.slice(s+1,s+r+3)),a=Qi(a,[["enter",h,t]]),a=Qi(a,Xm(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=Qi(a,[["exit",h,t],e[o-2],e[o-1],["exit",c,t]]),a=Qi(a,e.slice(o+1)),a=Qi(a,[["exit",u,t]]),ji(e,s,e.length,a),e}function eQ(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(g){return s?s._inactive?p(g):(o=r.parser.defined.includes(vs(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),u):n(g)}function u(g){return g===40?e.attempt(GV,h,o?h:p)(g):g===91?e.attempt(YV,h,o?c:p)(g):o?h(g):p(g)}function c(g){return e.attempt(XV,h,p)(g)}function h(g){return t(g)}function p(g){return s._balanced=!0,n(g)}}function tQ(e,t,n){return r;function r(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),i}function i(p){return an(p)?Rd(e,s)(p):s(p)}function s(p){return p===41?h(p):F7(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function o(p){return an(p)?Rd(e,u)(p):h(p)}function a(p){return n(p)}function u(p){return p===34||p===39||p===40?z7(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):h(p)}function c(p){return an(p)?Rd(e,h)(p):h(p)}function h(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function nQ(e,t,n){const r=this;return i;function i(a){return B7.call(r,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(vs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function rQ(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const iQ={name:"labelStartImage",resolveAll:Ex.resolveAll,tokenize:sQ};function sQ(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const oQ={name:"labelStartLink",resolveAll:Ex.resolveAll,tokenize:aQ};function aQ(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const C1={name:"lineEnding",tokenize:lQ};function lQ(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Qt(e,t,"linePrefix")}}const Tp={name:"thematicBreak",tokenize:uQ};function uQ(e,t,n){let r=0,i;return s;function s(c){return e.enter("thematicBreak"),o(c)}function o(c){return i=c,a(c)}function a(c){return c===i?(e.enter("thematicBreakSequence"),u(c)):r>=3&&(c===null||dt(c))?(e.exit("thematicBreak"),t(c)):n(c)}function u(c){return c===i?(e.consume(c),r++,u):(e.exit("thematicBreakSequence"),Bt(c)?Qt(e,a,"whitespace")(c):a(c))}}const ii={continuation:{tokenize:fQ},exit:mQ,name:"list",tokenize:hQ},cQ={partial:!0,tokenize:gQ},dQ={partial:!0,tokenize:pQ};function hQ(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(x){const w=r.containerState.type||(x===42||x===43||x===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!r.containerState.marker||x===r.containerState.marker:$y(x)){if(r.containerState.type||(r.containerState.type=w,e.enter(w,{_container:!0})),w==="listUnordered")return e.enter("listItemPrefix"),x===42||x===45?e.check(Tp,n,c)(x):c(x);if(!r.interrupt||x===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(x)}return n(x)}function u(x){return $y(x)&&++o<10?(e.consume(x),u):(!r.interrupt||o<2)&&(r.containerState.marker?x===r.containerState.marker:x===41||x===46)?(e.exit("listItemValue"),c(x)):n(x)}function c(x){return e.enter("listItemMarker"),e.consume(x),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||x,e.check(xh,r.interrupt?n:h,e.attempt(cQ,g,p))}function h(x){return r.containerState.initialBlankLine=!0,s++,g(x)}function p(x){return Bt(x)?(e.enter("listItemPrefixWhitespace"),e.consume(x),e.exit("listItemPrefixWhitespace"),g):n(x)}function g(x){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(x)}}function fQ(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(xh,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Qt(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Bt(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(dQ,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Qt(e,e.attempt(ii,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function pQ(e,t,n){const r=this;return Qt(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function mQ(e){e.exit(this.containerState.type)}function gQ(e,t,n){const r=this;return Qt(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Bt(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const P_={name:"setextUnderline",resolveTo:yQ,tokenize:vQ};function yQ(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function vQ(e,t,n){const r=this;let i;return s;function s(c){let h=r.events.length,p;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){p=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(e.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(e.consume(c),a):(e.exit("setextHeadingLineSequence"),Bt(c)?Qt(e,u,"lineSuffix")(c):u(c))}function u(c){return c===null||dt(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const xQ={tokenize:EQ,partial:!0};function bQ(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:CQ,continuation:{tokenize:kQ},exit:jQ}},text:{91:{name:"gfmFootnoteCall",tokenize:SQ},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:wQ,resolveTo:_Q}}}}function wQ(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const u=r.events[i][1];if(u.type==="labelImage"){o=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return a;function a(u){if(!o||!o._balanced)return n(u);const c=vs(r.sliceSerialize({start:o.end,end:r.now()}));return c.codePointAt(0)!==94||!s.includes(c.slice(1))?n(u):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),t(u))}}function _Q(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...a),e}function SQ(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(p){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),u}function u(p){return p!==94?n(p):(e.enter("gfmFootnoteCallMarker"),e.consume(p),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(p){if(s>999||p===93&&!o||p===null||p===91||an(p))return n(p);if(p===93){e.exit("chunkString");const g=e.exit("gfmFootnoteCallString");return i.includes(vs(r.sliceSerialize(g)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(p)}return an(p)||(o=!0),s++,e.consume(p),p===92?h:c}function h(p){return p===91||p===92||p===93?(e.consume(p),s++,c):c(p)}}function CQ(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return u;function u(w){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(w){return w===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",h):n(w)}function h(w){if(o>999||w===93&&!a||w===null||w===91||an(w))return n(w);if(w===93){e.exit("chunkString");const S=e.exit("gfmFootnoteDefinitionLabelString");return s=vs(r.sliceSerialize(S)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),g}return an(w)||(a=!0),o++,e.consume(w),w===92?p:h}function p(w){return w===91||w===92||w===93?(e.consume(w),o++,h):h(w)}function g(w){return w===58?(e.enter("definitionMarker"),e.consume(w),e.exit("definitionMarker"),i.includes(s)||i.push(s),Qt(e,x,"gfmFootnoteDefinitionWhitespace")):n(w)}function x(w){return t(w)}}function kQ(e,t,n){return e.check(xh,t,e.attempt(xQ,t,n))}function jQ(e){e.exit("gfmFootnoteDefinition")}function EQ(e,t,n){const r=this;return Qt(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(s):n(s)}}function TQ(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let u=-1;for(;++u<o.length;)if(o[u][0]==="enter"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._close){let c=u;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[u][1].end.offset-o[u][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[u][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[u][1].end)},p={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[u][1].start)},g=[["enter",h,a],["enter",o[c][1],a],["exit",o[c][1],a],["enter",p,a]],x=a.parser.constructs.insideSpan.null;x&&ji(g,g.length,0,Xm(x,o.slice(c+1,u),a)),ji(g,g.length,0,[["exit",p,a],["enter",o[u][1],a],["exit",o[u][1],a],["exit",h,a]]),ji(o,c-1,u-c+3,g),u=c+g.length-2;break}}for(u=-1;++u<o.length;)o[u][1].type==="strikethroughSequenceTemporary"&&(o[u][1].type="data");return o}function s(o,a,u){const c=this.previous,h=this.events;let p=0;return g;function g(w){return c===126&&h[h.length-1][1].type!=="characterEscape"?u(w):(o.enter("strikethroughSequenceTemporary"),x(w))}function x(w){const S=sc(c);if(w===126)return p>1?u(w):(o.consume(w),p++,x);if(p<2&&!n)return u(w);const k=o.exit("strikethroughSequenceTemporary"),E=sc(w);return k._open=!E||E===2&&!!S,k._close=!S||S===2&&!!E,a(w)}}}class PQ{constructor(){this.map=[]}add(t,n,r){NQ(this,t,n,r)}consume(t){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const s of i)t.push(s);i=r.pop()}this.map.length=0}}function NQ(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function OQ(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function RQ(){return{flow:{null:{name:"table",tokenize:MQ,resolveAll:AQ}}}}function MQ(e,t,n){const r=this;let i=0,s=0,o;return a;function a(F){let le=r.events.length-1;for(;le>-1;){const q=r.events[le][1].type;if(q==="lineEnding"||q==="linePrefix")le--;else break}const ue=le>-1?r.events[le][1].type:null,ae=ue==="tableHead"||ue==="tableRow"?N:u;return ae===N&&r.parser.lazy[r.now().line]?n(F):ae(F)}function u(F){return e.enter("tableHead"),e.enter("tableRow"),c(F)}function c(F){return F===124||(o=!0,s+=1),h(F)}function h(F){return F===null?n(F):dt(F)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),x):n(F):Bt(F)?Qt(e,h,"whitespace")(F):(s+=1,o&&(o=!1,i+=1),F===124?(e.enter("tableCellDivider"),e.consume(F),e.exit("tableCellDivider"),o=!0,h):(e.enter("data"),p(F)))}function p(F){return F===null||F===124||an(F)?(e.exit("data"),h(F)):(e.consume(F),F===92?g:p)}function g(F){return F===92||F===124?(e.consume(F),p):p(F)}function x(F){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(F):(e.enter("tableDelimiterRow"),o=!1,Bt(F)?Qt(e,w,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):w(F))}function w(F){return F===45||F===58?k(F):F===124?(o=!0,e.enter("tableCellDivider"),e.consume(F),e.exit("tableCellDivider"),S):U(F)}function S(F){return Bt(F)?Qt(e,k,"whitespace")(F):k(F)}function k(F){return F===58?(s+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(F),e.exit("tableDelimiterMarker"),E):F===45?(s+=1,E(F)):F===null||dt(F)?z(F):U(F)}function E(F){return F===45?(e.enter("tableDelimiterFiller"),R(F)):U(F)}function R(F){return F===45?(e.consume(F),R):F===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(F),e.exit("tableDelimiterMarker"),A):(e.exit("tableDelimiterFiller"),A(F))}function A(F){return Bt(F)?Qt(e,z,"whitespace")(F):z(F)}function z(F){return F===124?w(F):F===null||dt(F)?!o||i!==s?U(F):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(F)):U(F)}function U(F){return n(F)}function N(F){return e.enter("tableRow"),I(F)}function I(F){return F===124?(e.enter("tableCellDivider"),e.consume(F),e.exit("tableCellDivider"),I):F===null||dt(F)?(e.exit("tableRow"),t(F)):Bt(F)?Qt(e,I,"whitespace")(F):(e.enter("data"),H(F))}function H(F){return F===null||F===124||an(F)?(e.exit("data"),I(F)):(e.consume(F),F===92?V:H)}function V(F){return F===92||F===124?(e.consume(F),H):H(F)}}function AQ(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,u=0,c,h,p;const g=new PQ;for(;++n<e.length;){const x=e[n],w=x[1];x[0]==="enter"?w.type==="tableHead"?(a=!1,u!==0&&(N_(g,t,u,c,h),h=void 0,u=0),c={type:"table",start:Object.assign({},w.start),end:Object.assign({},w.end)},g.add(n,0,[["enter",c,t]])):w.type==="tableRow"||w.type==="tableDelimiterRow"?(r=!0,p=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,h={type:"tableBody",start:Object.assign({},w.start),end:Object.assign({},w.end)},g.add(n,0,[["enter",h,t]])),i=w.type==="tableDelimiterRow"?2:h?3:1):i&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],p=ip(g,t,s,i,void 0,p),s=[0,0,0,0]),o[2]=n)):w.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],p=ip(g,t,s,i,void 0,p)),s=o,o=[s[1],n,0,0])):w.type==="tableHead"?(a=!0,u=n):w.type==="tableRow"||w.type==="tableDelimiterRow"?(u=n,s[1]!==0?(o[0]=o[1],p=ip(g,t,s,i,n,p)):o[1]!==0&&(p=ip(g,t,o,i,n,p)),i=0):i&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")&&(o[3]=n)}for(u!==0&&N_(g,t,u,c,h),g.consume(t.events),n=-1;++n<t.events.length;){const x=t.events[n];x[0]==="enter"&&x[1].type==="table"&&(x[1]._align=OQ(t.events,n))}return e}function ip(e,t,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},Uu(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const u=Uu(t.events,n[1]);if(s={type:o,start:Object.assign({},u),end:Object.assign({},u)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const c=Uu(t.events,n[2]),h=Uu(t.events,n[3]),p={type:a,start:Object.assign({},c),end:Object.assign({},h)};if(e.add(n[2],0,[["enter",p,t]]),r!==2){const g=t.events[n[2]],x=t.events[n[3]];if(g[1].end=Object.assign({},x[1].end),g[1].type="chunkText",g[1].contentType="text",n[3]>n[2]+1){const w=n[2]+1,S=n[3]-n[2]-1;e.add(w,S,[])}}e.add(n[3]+1,0,[["exit",p,t]])}return i!==void 0&&(s.end=Object.assign({},Uu(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function N_(e,t,n,r,i){const s=[],o=Uu(t.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,t])),r.end=Object.assign({},o),s.push(["exit",r,t]),e.add(n+1,0,s)}function Uu(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const LQ={name:"tasklistCheck",tokenize:DQ};function IQ(){return{text:{91:LQ}}}function DQ(e,t,n){const r=this;return i;function i(u){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(u):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),s)}function s(u){return an(u)?(e.enter("taskListCheckValueUnchecked"),e.consume(u),e.exit("taskListCheckValueUnchecked"),o):u===88||u===120?(e.enter("taskListCheckValueChecked"),e.consume(u),e.exit("taskListCheckValueChecked"),o):n(u)}function o(u){return u===93?(e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(u)}function a(u){return dt(u)?t(u):Bt(u)?e.check({tokenize:FQ},t,n)(u):n(u)}}function FQ(e,t,n){return Qt(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function BQ(e){return k7([GH(),bQ(),TQ(e),RQ(),IQ()])}const zQ={};function $Q(e){const t=this,n=e||zQ,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(BQ(n)),s.push(HH()),o.push(VH(n))}function UQ(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const HQ=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,VQ=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,QQ={};function O_(e,t){return(QQ.jsx?VQ:HQ).test(e)}const WQ=/[ \t\n\f\r]/g;function qQ(e){return typeof e=="object"?e.type==="text"?R_(e.value):!1:R_(e)}function R_(e){return e.replace(WQ,"")===""}class bh{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}bh.prototype.normal={};bh.prototype.property={};bh.prototype.space=void 0;function $7(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new bh(n,r,t)}function Qy(e){return e.toLowerCase()}class hi{constructor(t,n){this.attribute=n,this.property=t}}hi.prototype.attribute="";hi.prototype.booleanish=!1;hi.prototype.boolean=!1;hi.prototype.commaOrSpaceSeparated=!1;hi.prototype.commaSeparated=!1;hi.prototype.defined=!1;hi.prototype.mustUseProperty=!1;hi.prototype.number=!1;hi.prototype.overloadedBoolean=!1;hi.prototype.property="";hi.prototype.spaceSeparated=!1;hi.prototype.space=void 0;let KQ=0;const Tt=Al(),Kn=Al(),Wy=Al(),Be=Al(),cn=Al(),Yu=Al(),_i=Al();function Al(){return 2**++KQ}const qy=Object.freeze(Object.defineProperty({__proto__:null,boolean:Tt,booleanish:Kn,commaOrSpaceSeparated:_i,commaSeparated:Yu,number:Be,overloadedBoolean:Wy,spaceSeparated:cn},Symbol.toStringTag,{value:"Module"})),k1=Object.keys(qy);class Tx extends hi{constructor(t,n,r,i){let s=-1;if(super(t,n),M_(this,"space",i),typeof r=="number")for(;++s<k1.length;){const o=k1[s];M_(this,k1[s],(r&qy[o])===qy[o])}}}Tx.prototype.defined=!0;function M_(e,t,n){n&&(e[t]=n)}function mc(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new Tx(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Qy(r)]=r,n[Qy(s.attribute)]=r}return new bh(t,n,e.space)}const U7=mc({properties:{ariaActiveDescendant:null,ariaAtomic:Kn,ariaAutoComplete:null,ariaBusy:Kn,ariaChecked:Kn,ariaColCount:Be,ariaColIndex:Be,ariaColSpan:Be,ariaControls:cn,ariaCurrent:null,ariaDescribedBy:cn,ariaDetails:null,ariaDisabled:Kn,ariaDropEffect:cn,ariaErrorMessage:null,ariaExpanded:Kn,ariaFlowTo:cn,ariaGrabbed:Kn,ariaHasPopup:null,ariaHidden:Kn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:cn,ariaLevel:Be,ariaLive:null,ariaModal:Kn,ariaMultiLine:Kn,ariaMultiSelectable:Kn,ariaOrientation:null,ariaOwns:cn,ariaPlaceholder:null,ariaPosInSet:Be,ariaPressed:Kn,ariaReadOnly:Kn,ariaRelevant:null,ariaRequired:Kn,ariaRoleDescription:cn,ariaRowCount:Be,ariaRowIndex:Be,ariaRowSpan:Be,ariaSelected:Kn,ariaSetSize:Be,ariaSort:null,ariaValueMax:Be,ariaValueMin:Be,ariaValueNow:Be,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function H7(e,t){return t in e?e[t]:t}function V7(e,t){return H7(e,t.toLowerCase())}const GQ=mc({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Yu,acceptCharset:cn,accessKey:cn,action:null,allow:null,allowFullScreen:Tt,allowPaymentRequest:Tt,allowUserMedia:Tt,alt:null,as:null,async:Tt,autoCapitalize:null,autoComplete:cn,autoFocus:Tt,autoPlay:Tt,blocking:cn,capture:null,charSet:null,checked:Tt,cite:null,className:cn,cols:Be,colSpan:null,content:null,contentEditable:Kn,controls:Tt,controlsList:cn,coords:Be|Yu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Tt,defer:Tt,dir:null,dirName:null,disabled:Tt,download:Wy,draggable:Kn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Tt,formTarget:null,headers:cn,height:Be,hidden:Wy,high:Be,href:null,hrefLang:null,htmlFor:cn,httpEquiv:cn,id:null,imageSizes:null,imageSrcSet:null,inert:Tt,inputMode:null,integrity:null,is:null,isMap:Tt,itemId:null,itemProp:cn,itemRef:cn,itemScope:Tt,itemType:cn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Tt,low:Be,manifest:null,max:null,maxLength:Be,media:null,method:null,min:null,minLength:Be,multiple:Tt,muted:Tt,name:null,nonce:null,noModule:Tt,noValidate:Tt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Tt,optimum:Be,pattern:null,ping:cn,placeholder:null,playsInline:Tt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Tt,referrerPolicy:null,rel:cn,required:Tt,reversed:Tt,rows:Be,rowSpan:Be,sandbox:cn,scope:null,scoped:Tt,seamless:Tt,selected:Tt,shadowRootClonable:Tt,shadowRootDelegatesFocus:Tt,shadowRootMode:null,shape:null,size:Be,sizes:null,slot:null,span:Be,spellCheck:Kn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Be,step:null,style:null,tabIndex:Be,target:null,title:null,translate:null,type:null,typeMustMatch:Tt,useMap:null,value:Kn,width:Be,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:cn,axis:null,background:null,bgColor:null,border:Be,borderColor:null,bottomMargin:Be,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Tt,declare:Tt,event:null,face:null,frame:null,frameBorder:null,hSpace:Be,leftMargin:Be,link:null,longDesc:null,lowSrc:null,marginHeight:Be,marginWidth:Be,noResize:Tt,noHref:Tt,noShade:Tt,noWrap:Tt,object:null,profile:null,prompt:null,rev:null,rightMargin:Be,rules:null,scheme:null,scrolling:Kn,standby:null,summary:null,text:null,topMargin:Be,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Be,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Tt,disableRemotePlayback:Tt,prefix:null,property:null,results:Be,security:null,unselectable:null},space:"html",transform:V7}),YQ=mc({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:_i,accentHeight:Be,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Be,amplitude:Be,arabicForm:null,ascent:Be,attributeName:null,attributeType:null,azimuth:Be,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Be,by:null,calcMode:null,capHeight:Be,className:cn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Be,diffuseConstant:Be,direction:null,display:null,dur:null,divisor:Be,dominantBaseline:null,download:Tt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Be,enableBackground:null,end:null,event:null,exponent:Be,externalResourcesRequired:null,fill:null,fillOpacity:Be,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Yu,g2:Yu,glyphName:Yu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Be,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Be,horizOriginX:Be,horizOriginY:Be,id:null,ideographic:Be,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Be,k:Be,k1:Be,k2:Be,k3:Be,k4:Be,kernelMatrix:_i,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Be,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Be,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Be,overlineThickness:Be,paintOrder:null,panose1:null,path:null,pathLength:Be,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:cn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Be,pointsAtY:Be,pointsAtZ:Be,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:_i,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:_i,rev:_i,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:_i,requiredFeatures:_i,requiredFonts:_i,requiredFormats:_i,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Be,specularExponent:Be,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Be,strikethroughThickness:Be,string:null,stroke:null,strokeDashArray:_i,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Be,strokeOpacity:Be,strokeWidth:null,style:null,surfaceScale:Be,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:_i,tabIndex:Be,tableValues:null,target:null,targetX:Be,targetY:Be,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:_i,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Be,underlineThickness:Be,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Be,values:null,vAlphabetic:Be,vMathematical:Be,vectorEffect:null,vHanging:Be,vIdeographic:Be,version:null,vertAdvY:Be,vertOriginX:Be,vertOriginY:Be,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Be,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:H7}),Q7=mc({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),W7=mc({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:V7}),q7=mc({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),XQ={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},JQ=/[A-Z]/g,A_=/-[a-z]/g,ZQ=/^data[-\w.:]+$/i;function eW(e,t){const n=Qy(t);let r=t,i=hi;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&ZQ.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(A_,nW);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!A_.test(s)){let o=s.replace(JQ,tW);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=Tx}return new i(r,t)}function tW(e){return"-"+e.toLowerCase()}function nW(e){return e.charAt(1).toUpperCase()}const rW=$7([U7,GQ,Q7,W7,q7],"html"),Px=$7([U7,YQ,Q7,W7,q7],"svg");function iW(e){return e.join(" ").trim()}var Au={},j1,L_;function sW(){if(L_)return j1;L_=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,a=/^\s+|\s+$/g,u=`
`,c="/",h="*",p="",g="comment",x="declaration";j1=function(S,k){if(typeof S!="string")throw new TypeError("First argument must be a string");if(!S)return[];k=k||{};var E=1,R=1;function A(ae){var q=ae.match(t);q&&(E+=q.length);var Q=ae.lastIndexOf(u);R=~Q?ae.length-Q:R+ae.length}function z(){var ae={line:E,column:R};return function(q){return q.position=new U(ae),H(),q}}function U(ae){this.start=ae,this.end={line:E,column:R},this.source=k.source}U.prototype.content=S;function N(ae){var q=new Error(k.source+":"+E+":"+R+": "+ae);if(q.reason=ae,q.filename=k.source,q.line=E,q.column=R,q.source=S,!k.silent)throw q}function I(ae){var q=ae.exec(S);if(q){var Q=q[0];return A(Q),S=S.slice(Q.length),q}}function H(){I(n)}function V(ae){var q;for(ae=ae||[];q=F();)q!==!1&&ae.push(q);return ae}function F(){var ae=z();if(!(c!=S.charAt(0)||h!=S.charAt(1))){for(var q=2;p!=S.charAt(q)&&(h!=S.charAt(q)||c!=S.charAt(q+1));)++q;if(q+=2,p===S.charAt(q-1))return N("End of comment missing");var Q=S.slice(2,q-2);return R+=2,A(Q),S=S.slice(q),R+=2,ae({type:g,comment:Q})}}function le(){var ae=z(),q=I(r);if(q){if(F(),!I(i))return N("property missing ':'");var Q=I(s),J=ae({type:x,property:w(q[0].replace(e,p)),value:Q?w(Q[0].replace(e,p)):p});return I(o),J}}function ue(){var ae=[];V(ae);for(var q;q=le();)q!==!1&&(ae.push(q),V(ae));return ae}return H(),ue()};function w(S){return S?S.replace(a,p):p}return j1}var I_;function oW(){if(I_)return Au;I_=1;var e=Au&&Au.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Au,"__esModule",{value:!0}),Au.default=n;var t=e(sW());function n(r,i){var s=null;if(!r||typeof r!="string")return s;var o=(0,t.default)(r),a=typeof i=="function";return o.forEach(function(u){if(u.type==="declaration"){var c=u.property,h=u.value;a?i(c,h,u):h&&(s=s||{},s[c]=h)}}),s}return Au}var dd={},D_;function aW(){if(D_)return dd;D_=1,Object.defineProperty(dd,"__esModule",{value:!0}),dd.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(c){return!c||n.test(c)||e.test(c)},o=function(c,h){return h.toUpperCase()},a=function(c,h){return"".concat(h,"-")},u=function(c,h){return h===void 0&&(h={}),s(c)?c:(c=c.toLowerCase(),h.reactCompat?c=c.replace(i,a):c=c.replace(r,a),c.replace(t,o))};return dd.camelCase=u,dd}var hd,F_;function lW(){if(F_)return hd;F_=1;var e=hd&&hd.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(oW()),n=aW();function r(i,s){var o={};return!i||typeof i!="string"||(0,t.default)(i,function(a,u){a&&u&&(o[(0,n.camelCase)(a,s)]=u)}),o}return r.default=r,hd=r,hd}var uW=lW();const cW=Ei(uW),K7=G7("end"),Nx=G7("start");function G7(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function dW(e){const t=Nx(e),n=K7(e);if(t&&n)return{start:t,end:n}}function Md(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?B_(e.position):"start"in e||"end"in e?B_(e):"line"in e||"column"in e?Ky(e):""}function Ky(e){return z_(e&&e.line)+":"+z_(e&&e.column)}function B_(e){return Ky(e&&e.start)+"-"+Ky(e&&e.end)}function z_(e){return e&&typeof e=="number"?e:1}class Ar extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(o=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?s.ruleId=r:(s.source=r.slice(0,u),s.ruleId=r.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){const u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=Md(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ar.prototype.file="";Ar.prototype.name="";Ar.prototype.reason="";Ar.prototype.message="";Ar.prototype.stack="";Ar.prototype.column=void 0;Ar.prototype.line=void 0;Ar.prototype.ancestors=void 0;Ar.prototype.cause=void 0;Ar.prototype.fatal=void 0;Ar.prototype.place=void 0;Ar.prototype.ruleId=void 0;Ar.prototype.source=void 0;const Ox={}.hasOwnProperty,hW=new Map,fW=/[A-Z]/g,pW=new Set(["table","tbody","thead","tfoot","tr"]),mW=new Set(["td","th"]),Y7="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function gW(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=CW(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=SW(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Px:rW,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=X7(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function X7(e,t,n){if(t.type==="element")return yW(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return vW(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return bW(e,t,n);if(t.type==="mdxjsEsm")return xW(e,t);if(t.type==="root")return wW(e,t,n);if(t.type==="text")return _W(e,t)}function yW(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Px,e.schema=i),e.ancestors.push(t);const s=Z7(e,t.tagName,!1),o=kW(e,t);let a=Mx(e,t);return pW.has(t.tagName)&&(a=a.filter(function(u){return typeof u=="string"?!qQ(u):!0})),J7(e,o,s,t),Rx(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function vW(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Zd(e,t.position)}function xW(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Zd(e,t.position)}function bW(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Px,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:Z7(e,t.name,!0),o=jW(e,t),a=Mx(e,t);return J7(e,o,s,t),Rx(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function wW(e,t,n){const r={};return Rx(r,Mx(e,t)),e.create(t,e.Fragment,r,n)}function _W(e,t){return t.value}function J7(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Rx(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function SW(e,t,n){return r;function r(i,s,o,a){const c=Array.isArray(o.children)?n:t;return a?c(s,o,a):c(s,o)}}function CW(e,t){return n;function n(r,i,s,o){const a=Array.isArray(s.children),u=Nx(r);return t(i,s,o,a,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function kW(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&Ox.call(t.properties,i)){const s=EW(e,i,t.properties[i]);if(s){const[o,a]=s;e.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&mW.has(t.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function jW(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else Zd(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,s=e.evaluater.evaluateExpression(a.expression)}else Zd(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function Mx(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:hW;for(;++r<t.children.length;){const s=t.children[r];let o;if(e.passKeys){const u=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(u){const c=i.get(u)||0;o=u+"-"+c,i.set(u,c+1)}}const a=X7(e,s,o);a!==void 0&&n.push(a)}return n}function EW(e,t,n){const r=eW(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?UQ(n):iW(n)),r.property==="style"){let i=typeof n=="object"?n:TW(e,String(n));return e.stylePropertyNameCase==="css"&&(i=PW(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?XQ[r.property]||r.property:r.attribute,n]}}function TW(e,t){try{return cW(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Ar("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=Y7+"#cannot-parse-style-attribute",i}}function Z7(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,o;for(;++s<i.length;){const a=O_(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=O_(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return Ox.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Zd(e)}function Zd(e,t){const n=new Ar("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Y7+"#cannot-handle-mdx-estrees-without-createevaluater",n}function PW(e){const t={};let n;for(n in e)Ox.call(e,n)&&(t[NW(n)]=e[n]);return t}function NW(e){let t=e.replace(fW,OW);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function OW(e){return"-"+e.toLowerCase()}const E1={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},RW={tokenize:MW};function MW(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Qt(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return dt(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const AW={tokenize:LW},$_={tokenize:IW};function LW(e){const t=this,n=[];let r=0,i,s,o;return a;function a(A){if(r<n.length){const z=n[r];return t.containerState=z[1],e.attempt(z[0].continuation,u,c)(A)}return c(A)}function u(A){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&R();const z=t.events.length;let U=z,N;for(;U--;)if(t.events[U][0]==="exit"&&t.events[U][1].type==="chunkFlow"){N=t.events[U][1].end;break}E(r);let I=z;for(;I<t.events.length;)t.events[I][1].end={...N},I++;return ji(t.events,U+1,0,t.events.slice(z)),t.events.length=I,c(A)}return a(A)}function c(A){if(r===n.length){if(!i)return g(A);if(i.currentConstruct&&i.currentConstruct.concrete)return w(A);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check($_,h,p)(A)}function h(A){return i&&R(),E(r),g(A)}function p(A){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,w(A)}function g(A){return t.containerState={},e.attempt($_,x,w)(A)}function x(A){return r++,n.push([t.currentConstruct,t.containerState]),g(A)}function w(A){if(A===null){i&&R(),E(0),e.consume(A);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),S(A)}function S(A){if(A===null){k(e.exit("chunkFlow"),!0),E(0),e.consume(A);return}return dt(A)?(e.consume(A),k(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(A),S)}function k(A,z){const U=t.sliceStream(A);if(z&&U.push(null),A.previous=s,s&&(s.next=A),s=A,i.defineSkip(A.start),i.write(U),t.parser.lazy[A.start.line]){let N=i.events.length;for(;N--;)if(i.events[N][1].start.offset<o&&(!i.events[N][1].end||i.events[N][1].end.offset>o))return;const I=t.events.length;let H=I,V,F;for(;H--;)if(t.events[H][0]==="exit"&&t.events[H][1].type==="chunkFlow"){if(V){F=t.events[H][1].end;break}V=!0}for(E(r),N=I;N<t.events.length;)t.events[N][1].end={...F},N++;ji(t.events,H+1,0,t.events.slice(I)),t.events.length=N}}function E(A){let z=n.length;for(;z-- >A;){const U=n[z];t.containerState=U[1],U[0].exit.call(t,e)}n.length=A}function R(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function IW(e,t,n){return Qt(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}const DW={tokenize:FW};function FW(e){const t=this,n=e.attempt(xh,r,e.attempt(this.parser.constructs.flowInitial,i,Qt(e,e.attempt(this.parser.constructs.flow,i,e.attempt(kV,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const BW={resolveAll:t8()},zW=e8("string"),$W=e8("text");function e8(e){return{resolveAll:t8(e==="text"?UW:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(h){return c(h)?s(h):a(h)}function a(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),u}function u(h){return c(h)?(n.exit("data"),s(h)):(n.consume(h),u)}function c(h){if(h===null)return!0;const p=i[h];let g=-1;if(p)for(;++g<p.length;){const x=p[g];if(!x.previous||x.previous.call(r,r.previous))return!0}return!1}}}function t8(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function UW(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,u;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)u=!0,a++;else if(c!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const c={type:n===e.length||u||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const HW={42:ii,43:ii,45:ii,48:ii,49:ii,50:ii,51:ii,52:ii,53:ii,54:ii,55:ii,56:ii,57:ii,62:A7},VW={91:NV},QW={[-2]:S1,[-1]:S1,32:S1},WW={35:IV,42:Tp,45:[P_,Tp],60:zV,61:P_,95:Tp,96:E_,126:E_},qW={38:I7,92:L7},KW={[-5]:C1,[-4]:C1,[-3]:C1,33:iQ,38:I7,42:Vy,60:[oV,qV],91:oQ,92:[AV,L7],93:Ex,95:Vy,96:xV},GW={null:[Vy,BW]},YW={null:[42,95]},XW={null:[]},JW=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:YW,contentInitial:VW,disable:XW,document:HW,flow:WW,flowInitial:QW,insideSpan:GW,string:qW,text:KW},Symbol.toStringTag,{value:"Module"}));function ZW(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const u={attempt:I(U),check:I(N),consume:R,enter:A,exit:z,interrupt:I(N,{interrupt:!0})},c={code:null,containerState:{},defineSkip:S,events:[],now:w,parser:e,previous:null,sliceSerialize:g,sliceStream:x,write:p};let h=t.tokenize.call(c,u);return t.resolveAll&&s.push(t),c;function p(le){return o=Qi(o,le),k(),o[o.length-1]!==null?[]:(H(t,0),c.events=Xm(s,c.events,c),c.events)}function g(le,ue){return tq(x(le),ue)}function x(le){return eq(o,le)}function w(){const{_bufferIndex:le,_index:ue,line:ae,column:q,offset:Q}=r;return{_bufferIndex:le,_index:ue,line:ae,column:q,offset:Q}}function S(le){i[le.line]=le.column,F()}function k(){let le;for(;r._index<o.length;){const ue=o[r._index];if(typeof ue=="string")for(le=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===le&&r._bufferIndex<ue.length;)E(ue.charCodeAt(r._bufferIndex));else E(ue)}}function E(le){h=h(le)}function R(le){dt(le)?(r.line++,r.column=1,r.offset+=le===-3?2:1,F()):le!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=le}function A(le,ue){const ae=ue||{};return ae.type=le,ae.start=w(),c.events.push(["enter",ae,c]),a.push(ae),ae}function z(le){const ue=a.pop();return ue.end=w(),c.events.push(["exit",ue,c]),ue}function U(le,ue){H(le,ue.from)}function N(le,ue){ue.restore()}function I(le,ue){return ae;function ae(q,Q,J){let te,ne,me,D;return Array.isArray(q)?ye(q):"tokenize"in q?ye([q]):G(q);function G(Ee){return Ye;function Ye(Ke){const Ne=Ke!==null&&Ee[Ke],ht=Ke!==null&&Ee.null,fn=[...Array.isArray(Ne)?Ne:Ne?[Ne]:[],...Array.isArray(ht)?ht:ht?[ht]:[]];return ye(fn)(Ke)}}function ye(Ee){return te=Ee,ne=0,Ee.length===0?J:B(Ee[ne])}function B(Ee){return Ye;function Ye(Ke){return D=V(),me=Ee,Ee.partial||(c.currentConstruct=Ee),Ee.name&&c.parser.constructs.disable.null.includes(Ee.name)?je():Ee.tokenize.call(ue?Object.assign(Object.create(c),ue):c,u,Fe,je)(Ke)}}function Fe(Ee){return le(me,D),Q}function je(Ee){return D.restore(),++ne<te.length?B(te[ne]):J}}}function H(le,ue){le.resolveAll&&!s.includes(le)&&s.push(le),le.resolve&&ji(c.events,ue,c.events.length-ue,le.resolve(c.events.slice(ue),c)),le.resolveTo&&(c.events=le.resolveTo(c.events,c))}function V(){const le=w(),ue=c.previous,ae=c.currentConstruct,q=c.events.length,Q=Array.from(a);return{from:q,restore:J};function J(){r=le,c.previous=ue,c.currentConstruct=ae,c.events.length=q,a=Q,F()}}function F(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function eq(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function tq(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function nq(e){const r={constructs:k7([JW,...(e||{}).extensions||[]]),content:i(RW),defined:[],document:i(AW),flow:i(DW),lazy:{},string:i(zW),text:i($W)};return r;function i(s){return o;function o(a){return ZW(r,s,a)}}}function rq(e){for(;!D7(e););return e}const U_=/[\0\t\n\r]/g;function iq(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const u=[];let c,h,p,g,x;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),p=0,t="",n&&(s.charCodeAt(0)===65279&&p++,n=void 0);p<s.length;){if(U_.lastIndex=p,c=U_.exec(s),g=c&&c.index!==void 0?c.index:s.length,x=s.charCodeAt(g),!c){t=s.slice(p);break}if(x===10&&p===g&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),p<g&&(u.push(s.slice(p,g)),e+=g-p),x){case 0:{u.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,u.push(-2);e++<h;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}p=g+1}return a&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}const n8={}.hasOwnProperty;function sq(e,t,n){return typeof t!="string"&&(n=t,t=void 0),oq(n)(rq(nq(n).document().write(iq()(e,t,!0))))}function oq(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(ws),autolinkProtocol:V,autolinkEmail:V,atxHeading:s(In),blockQuote:s(ht),characterEscape:V,characterReference:V,codeFenced:s(fn),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(fn,o),codeText:s(Nt,o),codeTextData:V,data:V,codeFlowValue:V,definition:s(vn),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(pn),hardBreakEscape:s(Bs),hardBreakTrailing:s(Bs),htmlFlow:s(Yi,o),htmlFlowData:V,htmlText:s(Yi,o),htmlTextData:V,image:s(ko),label:o,link:s(ws),listItem:s(Dn),listItemValue:g,listOrdered:s(Qr,p),listUnordered:s(Qr),paragraph:s(yr),reference:B,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(In),strong:s(vr),thematicBreak:s(Wr)},exit:{atxHeading:u(),atxHeadingSequence:U,autolink:u(),autolinkEmail:Ne,autolinkProtocol:Ke,blockQuote:u(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:je,characterReferenceMarkerNumeric:je,characterReferenceValue:Ee,characterReference:Ye,codeFenced:u(k),codeFencedFence:S,codeFencedFenceInfo:x,codeFencedFenceMeta:w,codeFlowValue:F,codeIndented:u(E),codeText:u(Q),codeTextData:F,data:F,definition:u(),definitionDestinationString:z,definitionLabelString:R,definitionTitleString:A,emphasis:u(),hardBreakEscape:u(ue),hardBreakTrailing:u(ue),htmlFlow:u(ae),htmlFlowData:F,htmlText:u(q),htmlTextData:F,image:u(te),label:me,labelText:ne,lineEnding:le,link:u(J),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:Fe,resourceDestinationString:D,resourceTitleString:G,resource:ye,setextHeading:u(H),setextHeadingLineSequence:I,setextHeadingText:N,strong:u(),thematicBreak:u()}};r8(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Ce){let Re={type:"root",children:[]};const lt={stack:[Re],tokenStack:[],config:t,enter:a,exit:c,buffer:o,resume:h,data:n},pt=[];let Ot=-1;for(;++Ot<Ce.length;)if(Ce[Ot][1].type==="listOrdered"||Ce[Ot][1].type==="listUnordered")if(Ce[Ot][0]==="enter")pt.push(Ot);else{const Jt=pt.pop();Ot=i(Ce,Jt,Ot)}for(Ot=-1;++Ot<Ce.length;){const Jt=t[Ce[Ot][0]];n8.call(Jt,Ce[Ot][1].type)&&Jt[Ce[Ot][1].type].call(Object.assign({sliceSerialize:Ce[Ot][2].sliceSerialize},lt),Ce[Ot][1])}if(lt.tokenStack.length>0){const Jt=lt.tokenStack[lt.tokenStack.length-1];(Jt[1]||H_).call(lt,void 0,Jt[0])}for(Re.position={start:Xo(Ce.length>0?Ce[0][1].start:{line:1,column:1,offset:0}),end:Xo(Ce.length>0?Ce[Ce.length-2][1].end:{line:1,column:1,offset:0})},Ot=-1;++Ot<t.transforms.length;)Re=t.transforms[Ot](Re)||Re;return Re}function i(Ce,Re,lt){let pt=Re-1,Ot=-1,Jt=!1,Vn,Qn,Lr,ir;for(;++pt<=lt;){const Qe=Ce[pt];switch(Qe[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Qe[0]==="enter"?Ot++:Ot--,ir=void 0;break}case"lineEndingBlank":{Qe[0]==="enter"&&(Vn&&!ir&&!Ot&&!Lr&&(Lr=pt),ir=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ir=void 0}if(!Ot&&Qe[0]==="enter"&&Qe[1].type==="listItemPrefix"||Ot===-1&&Qe[0]==="exit"&&(Qe[1].type==="listUnordered"||Qe[1].type==="listOrdered")){if(Vn){let Fn=pt;for(Qn=void 0;Fn--;){const xn=Ce[Fn];if(xn[1].type==="lineEnding"||xn[1].type==="lineEndingBlank"){if(xn[0]==="exit")continue;Qn&&(Ce[Qn][1].type="lineEndingBlank",Jt=!0),xn[1].type="lineEnding",Qn=Fn}else if(!(xn[1].type==="linePrefix"||xn[1].type==="blockQuotePrefix"||xn[1].type==="blockQuotePrefixWhitespace"||xn[1].type==="blockQuoteMarker"||xn[1].type==="listItemIndent"))break}Lr&&(!Qn||Lr<Qn)&&(Vn._spread=!0),Vn.end=Object.assign({},Qn?Ce[Qn][1].start:Qe[1].end),Ce.splice(Qn||pt,0,["exit",Vn,Qe[2]]),pt++,lt++}if(Qe[1].type==="listItemPrefix"){const Fn={type:"listItem",_spread:!1,start:Object.assign({},Qe[1].start),end:void 0};Vn=Fn,Ce.splice(pt,0,["enter",Fn,Qe[2]]),pt++,lt++,Lr=void 0,ir=!0}}}return Ce[Re][1]._spread=Jt,lt}function s(Ce,Re){return lt;function lt(pt){a.call(this,Ce(pt),pt),Re&&Re.call(this,pt)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(Ce,Re,lt){this.stack[this.stack.length-1].children.push(Ce),this.stack.push(Ce),this.tokenStack.push([Re,lt||void 0]),Ce.position={start:Xo(Re.start),end:void 0}}function u(Ce){return Re;function Re(lt){Ce&&Ce.call(this,lt),c.call(this,lt)}}function c(Ce,Re){const lt=this.stack.pop(),pt=this.tokenStack.pop();if(pt)pt[0].type!==Ce.type&&(Re?Re.call(this,Ce,pt[0]):(pt[1]||H_).call(this,Ce,pt[0]));else throw new Error("Cannot close `"+Ce.type+"` ("+Md({start:Ce.start,end:Ce.end})+"): its not open");lt.position.end=Xo(Ce.end)}function h(){return Sx(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function g(Ce){if(this.data.expectingFirstListItemValue){const Re=this.stack[this.stack.length-2];Re.start=Number.parseInt(this.sliceSerialize(Ce),10),this.data.expectingFirstListItemValue=void 0}}function x(){const Ce=this.resume(),Re=this.stack[this.stack.length-1];Re.lang=Ce}function w(){const Ce=this.resume(),Re=this.stack[this.stack.length-1];Re.meta=Ce}function S(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function k(){const Ce=this.resume(),Re=this.stack[this.stack.length-1];Re.value=Ce.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function E(){const Ce=this.resume(),Re=this.stack[this.stack.length-1];Re.value=Ce.replace(/(\r?\n|\r)$/g,"")}function R(Ce){const Re=this.resume(),lt=this.stack[this.stack.length-1];lt.label=Re,lt.identifier=vs(this.sliceSerialize(Ce)).toLowerCase()}function A(){const Ce=this.resume(),Re=this.stack[this.stack.length-1];Re.title=Ce}function z(){const Ce=this.resume(),Re=this.stack[this.stack.length-1];Re.url=Ce}function U(Ce){const Re=this.stack[this.stack.length-1];if(!Re.depth){const lt=this.sliceSerialize(Ce).length;Re.depth=lt}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function I(Ce){const Re=this.stack[this.stack.length-1];Re.depth=this.sliceSerialize(Ce).codePointAt(0)===61?1:2}function H(){this.data.setextHeadingSlurpLineEnding=void 0}function V(Ce){const lt=this.stack[this.stack.length-1].children;let pt=lt[lt.length-1];(!pt||pt.type!=="text")&&(pt=_s(),pt.position={start:Xo(Ce.start),end:void 0},lt.push(pt)),this.stack.push(pt)}function F(Ce){const Re=this.stack.pop();Re.value+=this.sliceSerialize(Ce),Re.position.end=Xo(Ce.end)}function le(Ce){const Re=this.stack[this.stack.length-1];if(this.data.atHardBreak){const lt=Re.children[Re.children.length-1];lt.position.end=Xo(Ce.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Re.type)&&(V.call(this,Ce),F.call(this,Ce))}function ue(){this.data.atHardBreak=!0}function ae(){const Ce=this.resume(),Re=this.stack[this.stack.length-1];Re.value=Ce}function q(){const Ce=this.resume(),Re=this.stack[this.stack.length-1];Re.value=Ce}function Q(){const Ce=this.resume(),Re=this.stack[this.stack.length-1];Re.value=Ce}function J(){const Ce=this.stack[this.stack.length-1];if(this.data.inReference){const Re=this.data.referenceType||"shortcut";Ce.type+="Reference",Ce.referenceType=Re,delete Ce.url,delete Ce.title}else delete Ce.identifier,delete Ce.label;this.data.referenceType=void 0}function te(){const Ce=this.stack[this.stack.length-1];if(this.data.inReference){const Re=this.data.referenceType||"shortcut";Ce.type+="Reference",Ce.referenceType=Re,delete Ce.url,delete Ce.title}else delete Ce.identifier,delete Ce.label;this.data.referenceType=void 0}function ne(Ce){const Re=this.sliceSerialize(Ce),lt=this.stack[this.stack.length-2];lt.label=NH(Re),lt.identifier=vs(Re).toLowerCase()}function me(){const Ce=this.stack[this.stack.length-1],Re=this.resume(),lt=this.stack[this.stack.length-1];if(this.data.inReference=!0,lt.type==="link"){const pt=Ce.children;lt.children=pt}else lt.alt=Re}function D(){const Ce=this.resume(),Re=this.stack[this.stack.length-1];Re.url=Ce}function G(){const Ce=this.resume(),Re=this.stack[this.stack.length-1];Re.title=Ce}function ye(){this.data.inReference=void 0}function B(){this.data.referenceType="collapsed"}function Fe(Ce){const Re=this.resume(),lt=this.stack[this.stack.length-1];lt.label=Re,lt.identifier=vs(this.sliceSerialize(Ce)).toLowerCase(),this.data.referenceType="full"}function je(Ce){this.data.characterReferenceType=Ce.type}function Ee(Ce){const Re=this.sliceSerialize(Ce),lt=this.data.characterReferenceType;let pt;lt?(pt=C7(Re,lt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):pt=kx(Re);const Ot=this.stack[this.stack.length-1];Ot.value+=pt}function Ye(Ce){const Re=this.stack.pop();Re.position.end=Xo(Ce.end)}function Ke(Ce){F.call(this,Ce);const Re=this.stack[this.stack.length-1];Re.url=this.sliceSerialize(Ce)}function Ne(Ce){F.call(this,Ce);const Re=this.stack[this.stack.length-1];Re.url="mailto:"+this.sliceSerialize(Ce)}function ht(){return{type:"blockquote",children:[]}}function fn(){return{type:"code",lang:null,meta:null,value:""}}function Nt(){return{type:"inlineCode",value:""}}function vn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function pn(){return{type:"emphasis",children:[]}}function In(){return{type:"heading",depth:0,children:[]}}function Bs(){return{type:"break"}}function Yi(){return{type:"html",value:""}}function ko(){return{type:"image",title:null,url:"",alt:null}}function ws(){return{type:"link",title:null,url:"",children:[]}}function Qr(Ce){return{type:"list",ordered:Ce.type==="listOrdered",start:null,spread:Ce._spread,children:[]}}function Dn(Ce){return{type:"listItem",spread:Ce._spread,checked:null,children:[]}}function yr(){return{type:"paragraph",children:[]}}function vr(){return{type:"strong",children:[]}}function _s(){return{type:"text",value:""}}function Wr(){return{type:"thematicBreak"}}}function Xo(e){return{line:e.line,column:e.column,offset:e.offset}}function r8(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?r8(e,r):aq(e,r)}}function aq(e,t){let n;for(n in t)if(n8.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function H_(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Md({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Md({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Md({start:t.start,end:t.end})+") is still open")}function lq(e){const t=this;t.parser=n;function n(r){return sq(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function uq(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function cq(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function dq(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function hq(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function fq(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function pq(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=pc(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,a+=1,e.footnoteCounts.set(r,a);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,u);const c={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,c),e.applyData(t,c)}function mq(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function gq(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function i8(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function yq(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return i8(e,t);const i={src:pc(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function vq(e,t){const n={src:pc(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function xq(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function bq(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return i8(e,t);const i={href:pc(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function wq(e,t){const n={href:pc(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function _q(e,t,n){const r=e.all(t),i=n?Sq(n):s8(t),s={},o=[];if(typeof t.checked=="boolean"){const h=r[0];let p;h&&h.type==="element"&&h.tagName==="p"?p=h:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const h=r[a];(i||a!==0||h.type!=="element"||h.tagName!=="p")&&o.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?o.push(...h.children):o.push(h)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,c),e.applyData(t,c)}function Sq(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=s8(n[r])}return t}function s8(e){const t=e.spread;return t??e.children.length>1}function Cq(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function kq(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function jq(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Eq(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Tq(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=Nx(t.children[1]),u=K7(t.children[t.children.length-1]);a&&u&&(o.position={start:a,end:u}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function Pq(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let u=-1;const c=[];for(;++u<a;){const p=t.children[u],g={},x=o?o[u]:void 0;x&&(g.align=x);let w={type:"element",tagName:s,properties:g,children:[]};p&&(w.children=e.all(p),e.patch(p,w),w=e.applyData(p,w)),c.push(w)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,h),e.applyData(t,h)}function Nq(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const V_=9,Q_=32;function Oq(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(W_(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(W_(t.slice(i),i>0,!1)),s.join("")}function W_(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===V_||s===Q_;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===V_||s===Q_;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Rq(e,t){const n={type:"text",value:Oq(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Mq(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Aq={blockquote:uq,break:cq,code:dq,delete:hq,emphasis:fq,footnoteReference:pq,heading:mq,html:gq,imageReference:yq,image:vq,inlineCode:xq,linkReference:bq,link:wq,listItem:_q,list:Cq,paragraph:kq,root:jq,strong:Eq,table:Tq,tableCell:Nq,tableRow:Pq,text:Rq,thematicBreak:Mq,toml:sp,yaml:sp,definition:sp,footnoteDefinition:sp};function sp(){}const o8=-1,Jm=0,Ad=1,sm=2,Ax=3,Lx=4,Ix=5,Dx=6,a8=7,l8=8,q_=typeof self=="object"?self:globalThis,Lq=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case Jm:case o8:return n(o,i);case Ad:{const a=n([],i);for(const u of o)a.push(r(u));return a}case sm:{const a=n({},i);for(const[u,c]of o)a[r(u)]=r(c);return a}case Ax:return n(new Date(o),i);case Lx:{const{source:a,flags:u}=o;return n(new RegExp(a,u),i)}case Ix:{const a=n(new Map,i);for(const[u,c]of o)a.set(r(u),r(c));return a}case Dx:{const a=n(new Set,i);for(const u of o)a.add(r(u));return a}case a8:{const{name:a,message:u}=o;return n(new q_[a](u),i)}case l8:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new q_[s](o),i)};return r},K_=e=>Lq(new Map,e)(0),Lu="",{toString:Iq}={},{keys:Dq}=Object,fd=e=>{const t=typeof e;if(t!=="object"||!e)return[Jm,t];const n=Iq.call(e).slice(8,-1);switch(n){case"Array":return[Ad,Lu];case"Object":return[sm,Lu];case"Date":return[Ax,Lu];case"RegExp":return[Lx,Lu];case"Map":return[Ix,Lu];case"Set":return[Dx,Lu];case"DataView":return[Ad,n]}return n.includes("Array")?[Ad,n]:n.includes("Error")?[a8,n]:[sm,n]},op=([e,t])=>e===Jm&&(t==="function"||t==="symbol"),Fq=(e,t,n,r)=>{const i=(o,a)=>{const u=r.push(o)-1;return n.set(a,u),u},s=o=>{if(n.has(o))return n.get(o);let[a,u]=fd(o);switch(a){case Jm:{let h=o;switch(u){case"bigint":a=l8,h=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);h=null;break;case"undefined":return i([o8],o)}return i([a,h],o)}case Ad:{if(u){let g=o;return u==="DataView"?g=new Uint8Array(o.buffer):u==="ArrayBuffer"&&(g=new Uint8Array(o)),i([u,[...g]],o)}const h=[],p=i([a,h],o);for(const g of o)h.push(s(g));return p}case sm:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const h=[],p=i([a,h],o);for(const g of Dq(o))(e||!op(fd(o[g])))&&h.push([s(g),s(o[g])]);return p}case Ax:return i([a,o.toISOString()],o);case Lx:{const{source:h,flags:p}=o;return i([a,{source:h,flags:p}],o)}case Ix:{const h=[],p=i([a,h],o);for(const[g,x]of o)(e||!(op(fd(g))||op(fd(x))))&&h.push([s(g),s(x)]);return p}case Dx:{const h=[],p=i([a,h],o);for(const g of o)(e||!op(fd(g)))&&h.push(s(g));return p}}const{message:c}=o;return i([a,{name:u,message:c}],o)};return s},G_=(e,{json:t,lossy:n}={})=>{const r=[];return Fq(!(t||n),!!t,new Map,r)(e),r},om=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?K_(G_(e,t)):structuredClone(e):(e,t)=>K_(G_(e,t));function Bq(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function zq(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function $q(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Bq,r=e.options.footnoteBackLabel||zq,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let u=-1;for(;++u<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[u]);if(!c)continue;const h=e.all(c),p=String(c.identifier).toUpperCase(),g=pc(p.toLowerCase());let x=0;const w=[],S=e.footnoteCounts.get(p);for(;S!==void 0&&++x<=S;){w.length>0&&w.push({type:"text",value:" "});let R=typeof n=="string"?n:n(u,x);typeof R=="string"&&(R={type:"text",value:R}),w.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(x>1?"-"+x:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,x),className:["data-footnote-backref"]},children:Array.isArray(R)?R:[R]})}const k=h[h.length-1];if(k&&k.type==="element"&&k.tagName==="p"){const R=k.children[k.children.length-1];R&&R.type==="text"?R.value+=" ":k.children.push({type:"text",value:" "}),k.children.push(...w)}else h.push(...w);const E={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(h,!0)};e.patch(c,E),a.push(E)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...om(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const Gy={}.hasOwnProperty,Uq={};function Hq(e,t){const n=t||Uq,r=new Map,i=new Map,s=new Map,o={...Aq,...n.handlers},a={all:c,applyData:Qq,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:u,options:n,patch:Vq,wrap:qq};return _x(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const p=h.type==="definition"?r:i,g=String(h.identifier).toUpperCase();p.has(g)||p.set(g,h)}}),a;function u(h,p){const g=h.type,x=a.handlers[g];if(Gy.call(a.handlers,g)&&x)return x(a,h,p);if(a.options.passThrough&&a.options.passThrough.includes(g)){if("children"in h){const{children:S,...k}=h,E=om(k);return E.children=a.all(h),E}return om(h)}return(a.options.unknownHandler||Wq)(a,h,p)}function c(h){const p=[];if("children"in h){const g=h.children;let x=-1;for(;++x<g.length;){const w=a.one(g[x],h);if(w){if(x&&g[x-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=Y_(w.value)),!Array.isArray(w)&&w.type==="element")){const S=w.children[0];S&&S.type==="text"&&(S.value=Y_(S.value))}Array.isArray(w)?p.push(...w):p.push(w)}}}return p}}function Vq(e,t){e.position&&(t.position=dW(e))}function Qq(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,om(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Wq(e,t){const n=t.data||{},r="value"in t&&!(Gy.call(n,"hProperties")||Gy.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function qq(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Y_(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function X_(e,t){const n=Hq(e,t),r=n.one(e,void 0),i=$q(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function Kq(e,t){return e&&"run"in e?async function(n,r){const i=X_(n,{file:r,...t});await e.run(i,r)}:function(n,r){return X_(n,{file:r,...e||t})}}function J_(e){if(e)throw e}var T1,Z_;function Gq(){if(Z_)return T1;Z_=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):t.call(c)==="[object Array]"},s=function(c){if(!c||t.call(c)!=="[object Object]")return!1;var h=e.call(c,"constructor"),p=c.constructor&&c.constructor.prototype&&e.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!h&&!p)return!1;var g;for(g in c);return typeof g>"u"||e.call(c,g)},o=function(c,h){n&&h.name==="__proto__"?n(c,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):c[h.name]=h.newValue},a=function(c,h){if(h==="__proto__")if(e.call(c,h)){if(r)return r(c,h).value}else return;return c[h]};return T1=function u(){var c,h,p,g,x,w,S=arguments[0],k=1,E=arguments.length,R=!1;for(typeof S=="boolean"&&(R=S,S=arguments[1]||{},k=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});k<E;++k)if(c=arguments[k],c!=null)for(h in c)p=a(S,h),g=a(c,h),S!==g&&(R&&g&&(s(g)||(x=i(g)))?(x?(x=!1,w=p&&i(p)?p:[]):w=p&&s(p)?p:{},o(S,{name:h,newValue:u(R,w,g)})):typeof g<"u"&&o(S,{name:h,newValue:g}));return S},T1}var Yq=Gq();const P1=Ei(Yq);function Yy(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Xq(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(u,...c){const h=e[++s];let p=-1;if(u){o(u);return}for(;++p<i.length;)(c[p]===null||c[p]===void 0)&&(c[p]=i[p]);i=c,h?Jq(h,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function Jq(e,t){let n;return r;function r(...o){const a=e.length>o.length;let u;a&&o.push(i);try{u=e.apply(this,o)}catch(c){const h=c;if(a&&n)throw h;return i(h)}a||(u&&u.then&&typeof u.then=="function"?u.then(s,i):u instanceof Error?i(u):s(u))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}const As={basename:Zq,dirname:eK,extname:tK,join:nK,sep:"/"};function Zq(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');wh(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function eK(e){if(wh(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function tK(e){wh(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.codePointAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function nK(...e){let t=-1,n;for(;++t<e.length;)wh(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":rK(n)}function rK(e){wh(e);const t=e.codePointAt(0)===47;let n=iK(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function iK(e,t){let n="",r=0,i=-1,s=0,o=-1,a,u;for(;++o<=e.length;){if(o<e.length)a=e.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function wh(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const sK={cwd:oK};function oK(){return"/"}function Xy(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function aK(e){if(typeof e=="string")e=new URL(e);else if(!Xy(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return lK(e)}function lK(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const N1=["history","path","basename","stem","extname","dirname"];class u8{constructor(t){let n;t?Xy(t)?n={path:t}:typeof t=="string"||uK(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":sK.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<N1.length;){const s=N1[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)N1.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?As.basename(this.path):void 0}set basename(t){R1(t,"basename"),O1(t,"basename"),this.path=As.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?As.dirname(this.path):void 0}set dirname(t){e4(this.basename,"dirname"),this.path=As.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?As.extname(this.path):void 0}set extname(t){if(O1(t,"extname"),e4(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=As.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Xy(t)&&(t=aK(t)),R1(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?As.basename(this.path,this.extname):void 0}set stem(t){R1(t,"stem"),O1(t,"stem"),this.path=As.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Ar(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function O1(e,t){if(e&&e.includes(As.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+As.sep+"`")}function R1(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function e4(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function uK(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const cK=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},dK={}.hasOwnProperty;class Fx extends cK{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Xq()}copy(){const t=new Fx;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(P1(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(L1("data",this.frozen),this.namespace[t]=n,this):dK.call(this.namespace,t)&&this.namespace[t]||void 0:t?(L1("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=ap(t),r=this.parser||this.Parser;return M1("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),M1("process",this.parser||this.Parser),A1("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=ap(t),u=r.parse(a);r.run(u,a,function(h,p,g){if(h||!p||!g)return c(h);const x=p,w=r.stringify(x,g);pK(w)?g.value=w:g.result=w,c(h,g)});function c(h,p){h||!p?o(h):s?s(p):n(void 0,p)}}}processSync(t){let n=!1,r;return this.freeze(),M1("processSync",this.parser||this.Parser),A1("processSync",this.compiler||this.Compiler),this.process(t,i),n4("processSync","process",n),r;function i(s,o){n=!0,J_(s),r=o}}run(t,n,r){t4(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const u=ap(n);i.run(t,u,c);function c(h,p,g){const x=p||t;h?a(h):o?o(x):r(void 0,x,g)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),n4("runSync","run",r),i;function s(o,a){J_(o),i=a,r=!0}}stringify(t,n){this.freeze();const r=ap(n),i=this.compiler||this.Compiler;return A1("stringify",i),t4(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(L1("use",this.frozen),t!=null)if(typeof t=="function")u(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(c){if(typeof c=="function")u(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[h,...p]=c;u(h,p)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=P1(!0,i.settings,c.settings))}function a(c){let h=-1;if(c!=null)if(Array.isArray(c))for(;++h<c.length;){const p=c[h];s(p)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function u(c,h){let p=-1,g=-1;for(;++p<r.length;)if(r[p][0]===c){g=p;break}if(g===-1)r.push([c,...h]);else if(h.length>0){let[x,...w]=h;const S=r[g][1];Yy(S)&&Yy(x)&&(x=P1(!0,S,x)),r[g]=[c,x,...w]}}}}const hK=new Fx().freeze();function M1(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function A1(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function L1(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function t4(e){if(!Yy(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function n4(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function ap(e){return fK(e)?e:new u8(e)}function fK(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function pK(e){return typeof e=="string"||mK(e)}function mK(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const gK="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",r4=[],i4={allowDangerousHtml:!0},yK=/^(https?|ircs?|mailto|xmpp)$/i,vK=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function xK(e){const t=bK(e),n=wK(e);return _K(t.runSync(t.parse(n),n),e)}function bK(e){const t=e.rehypePlugins||r4,n=e.remarkPlugins||r4,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...i4}:i4;return hK().use(lq).use(n).use(Kq,r).use(t)}function wK(e){const t=e.children||"",n=new u8;return typeof t=="string"&&(n.value=t),n}function _K(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,o=t.skipHtml,a=t.unwrapDisallowed,u=t.urlTransform||SK;for(const h of vK)Object.hasOwn(t,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+gK+h.id,void 0);return _x(e,c),gW(e,{Fragment:f.Fragment,components:i,ignoreInvalidStyle:!0,jsx:f.jsx,jsxs:f.jsxs,passKeys:!0,passNode:!0});function c(h,p,g){if(h.type==="raw"&&g&&typeof p=="number")return o?g.children.splice(p,1):g.children[p]={type:"text",value:h.value},p;if(h.type==="element"){let x;for(x in E1)if(Object.hasOwn(E1,x)&&Object.hasOwn(h.properties,x)){const w=h.properties[x],S=E1[x];(S===null||S.includes(h.tagName))&&(h.properties[x]=u(String(w||""),x,h))}}if(h.type==="element"){let x=n?!n.includes(h.tagName):s?s.includes(h.tagName):!1;if(!x&&r&&typeof p=="number"&&(x=!r(h,p,g)),x&&g&&typeof p=="number")return a&&h.children?g.children.splice(p,1,...h.children):g.children.splice(p,1),p}}}function SK(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||yK.test(e.slice(0,t))?e:""}const CK=async()=>await Tv("/faq.json");function kK(){return bs({queryKey:["faq"],queryFn:CK,staleTime:1/0,select:e=>e.faq.map((t,n)=>({...t,id:n}))})}const jK=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:14,height:16,viewBox:"0 0 14 16",...e},T.createElement("defs",null,T.createElement("clipPath",{id:"master_svg0_137_3346"},T.createElement("rect",{x:0,y:0,width:14,height:16,rx:0}))),T.createElement("g",{clipPath:"url(#master_svg0_137_3346)"},T.createElement("g",{transform:"matrix(1,0,0,-1,0,26.6875)"},T.createElement("g",null,T.createElement("path",{d:"M6.28125,13.625Q6.59375,13.34375,7,13.34375Q7.40625,13.34375,7.71875,13.625L13.7188,19.625Q14,19.9375,14,20.34375Q14,20.75,13.7188,21.0625Q13.4062,21.34375,13,21.34375Q12.5938,21.34375,12.2812,21.0625L7,15.75L1.71875,21.0625Q1.40625,21.34375,1,21.34375Q0.59375,21.34375,0.28125,21.0625Q0,20.75,0,20.34375Q0,19.9375,0.28125,19.625L6.28125,13.625Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))))),EK={h2:e=>f.jsx("h2",{...e,className:"text-lg font-bold my-4"}),h3:e=>f.jsx("h3",{...e,className:"text-base font-bold my-4"}),a:e=>f.jsx("a",{...e,className:"text-blue-500 underline"})},TK={all:"",timetable:"",wishes:"",simulation:"",live:""};function PK(e){return Array.from(new Set(e))}function NK(){const e=Ki(),t=e.hash,n=t?Number.parseInt(t.replace("#","")):null,[r,i]=T.useState(n),{data:s}=kK(),[o,a]=T.useState(null),u=PK(s?.map(g=>g.tag)??[]),c=o?s?.filter(g=>g.tag===o):s,h=g=>{i(r===g?null:g)};T.useEffect(()=>{if(e.hash){const g=Number.parseInt(e.hash.replace("#",""));setTimeout(()=>{const x=document.getElementById("faq-container-"+g);x&&(x.scrollIntoView({behavior:"smooth"}),i(g))},300)}},[e.hash]);const p=g=>{a(x=>x===g?null:g)};return f.jsxs(f.Fragment,{children:[f.jsx(gr,{children:f.jsx("title",{children:"ALLCLL |   "})}),f.jsx("div",{className:"mx-auto max-w-7xl px-4 md:px-16 py-24",children:f.jsxs(Oe,{direction:"flex-col",gap:"gap-4",children:[f.jsx(Lt,{level:1,children:"  "}),f.jsx(Oe,{direction:"flex-wrap",gap:"gap-2",className:"mb-6",children:u.length>0&&u.map((g,x)=>f.jsx(Pn,{label:TK[g]||g,onClick:()=>p(g),selected:o===g},"faq-chip-"+x))}),c&&c.map(g=>f.jsx(OK,{item:g,index:g.id,isOpen:r===g.id,toggleAnswer:h},g.id))]})})]})}function OK({item:e,index:t,isOpen:n,toggleAnswer:r}){return f.jsxs("div",{id:"faq-container-"+t,className:"mb-4 rounded-md bg-white shadow-sm",children:[f.jsxs("button",{onClick:()=>r(t),className:"flex items-center justify-between rounded-md w-full text-left font-semibold text-md p-4 hover:bg-blue-50 focus:outline-none cursor-pointer "+(n?"text-blue-600 font-bold":""),children:[e.question,f.jsx(jK,{className:"w-4 h-4 transform transition-transform duration-150 "+(n?"rotate-180":"")})]}),n&&f.jsx("div",{className:"p-4 border-t border-gray-200 text-sm",children:f.jsx(xK,{remarkPlugins:[$Q],components:EK,children:e.answer})})]},t)}const RK=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16.508930206298828,height:16.008333206176758,viewBox:"0 0 16.508930206298828 16.008333206176758",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,32.016666412353516)"},T.createElement("path",{d:"M8.25446,32.016633206176756Q8.72321,31.985433206176758,8.94196,31.579133206176756L11.067,27.172933206176758L15.8482,26.485433206176758Q16.317,26.391633206176756,16.4732,25.95416320617676Q16.5982,25.51666320617676,16.2857,25.20416320617676L12.817,21.76666320617676L13.6295,16.891666206176758Q13.692,16.454166206176758,13.317,16.141666206176758Q12.942,15.891666206176758,12.5357,16.110416206176758L8.25446,18.39166320617676L3.97321,16.110416206176758Q3.56696,15.891666206176758,3.19196,16.172916206176758Q2.81696,16.454166206176758,2.87946,16.891666206176758L3.69196,21.76666320617676L0.223214,25.20416320617676Q-0.0892857,25.51666320617676,0.0357143,25.95416320617676Q0.191964,26.391633206176756,0.660714,26.485433206176758L5.44196,27.172933206176758L7.56696,31.579133206176756Q7.78571,31.985433206176758,8.25446,32.016633206176756ZM8.25446,29.547933206176758L6.59821,26.172933206176758L8.25446,29.547933206176758L6.59821,26.172933206176758Q6.44196,25.82916320617676,6.03571,25.73541320617676L2.34821,25.20416320617676L5.03571,22.54791320617676Q5.28571,22.26666320617676,5.25446,21.89166320617676L4.59821,18.14166320617676L7.91071,19.89166320617676Q8.25446,20.07916320617676,8.59821,19.89166320617676L11.8795,18.14166320617676L11.2545,21.89166320617676Q11.192,22.26666320617676,11.4732,22.54791320617676L14.1607,25.20416320617676L10.4732,25.73541320617676Q10.067,25.82916320617676,9.91071,26.172933206176758L8.25446,29.547933206176758Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),MK=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16.505903244018555,height:16.001562118530273,viewBox:"0 0 16.505903244018555 16.001562118530273",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,32.00312423706055)"},T.createElement("path",{d:"M9.15,31.440662118530273Q8.86875,31.971862118530275,8.24375,32.00316211853027Q7.65,31.971862118530275,7.3375,31.440662118530273L5.3375,27.315662118530273L0.8375,26.628162118530273Q0.24375,26.534362118530275,0.05625,25.97187211853027Q-0.13125,25.37812211853027,0.30625,24.94062211853027L3.55625,21.72187211853027L2.775,17.159372118530275Q2.7125,16.565625118530274,3.18125,16.190625118530274Q3.68125,15.846875118530274,4.24375,16.128125118530274L8.24375,18.253122118530275L12.275,16.128125118530274Q12.8062,15.846875118530274,13.3062,16.190625118530274Q13.8062,16.565625118530274,13.7125,17.159372118530275L12.9625,21.72187211853027L16.2125,24.94062211853027Q16.6187,25.37812211853027,16.4625,25.97187211853027Q16.2437,26.534362118530275,15.65,26.628162118530273L11.15,27.315662118530273L9.15,31.440662118530273Z",fill:"#FACC15",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function c8({disabled:e}){return e?f.jsx(RK,{className:"w-4 h-4"}):f.jsx(MK,{className:"w-4 h-4"})}function d8({subject:e,variant:t="contain",className:n,onClick:r,...i}){const s=Fy(c=>c.isFavorite(e.subjectId)),o=Fy(c=>c.toggleFavorite),a=s?" ":" ",u=c=>{o(e.subjectId),r&&r(c)};return f.jsx(rr,{variant:t,onClick:u,label:a,icon:f.jsx(c8,{disabled:!s}),"aria-label":a,className:n,...i})}const AK=[{title:"",visible:!0,key:"subjectCode"},{title:"",visible:!0,key:"classCode"},{title:" ",visible:!0,key:"departmentName"},{title:"",visible:!0,key:"subjectName"},{title:"",visible:!0,key:"professorName"},{title:"",visible:!0,key:"totalCount"},{title:"",visible:!0,key:"seat"},{title:"",visible:!1,key:"studentYear"},{title:"",visible:!1,key:"lesnTime"},{title:"",visible:!1,key:"lesnRoom"},{title:"",visible:!1,key:"tmNum"},{title:"",visible:!1,key:"remark"},{title:"",visible:!1,key:"curiTypeCdNm"},{title:"",visible:!1,key:"curiLangNm"}],Jy=s7("wishes",AK);function LK(e){const t=Jy(o=>o.tableTitles),n=!!(e&&e[0]&&"seat"in e[0]),r=e&&e[0]&&"totalCount"in e[0],{isPreSeatAvailable:i}=Hm({hasSeats:n});let s=[{title:"",visible:!0,key:""},...t.filter(o=>o.visible)];return r||(s=s.filter(o=>o.key!=="totalCount")),i||(s=s.filter(o=>o.key!=="seat")),s}function IK(e,t=!0){const n=e.curiLangNm==="";return e.isDeleted?t?"bg-gray-100 hover:bg-gray-200":"bg-gray-100":n?t?"bg-green-50 hover:bg-green-100":"bg-green-50":t?"bg-white hover:bg-gray-100":"bg-white"}function h8({data:e,isPending:t=!1,placeholder:n}){const r=LK(e);return f.jsxs("table",{className:"w-full bg-white rounded-lg relative text-sm",children:[f.jsx("thead",{children:f.jsx("tr",{className:"bg-gray-50 sticky top-0 z-10 text-nowrap",children:r.map(({title:i})=>f.jsx("th",{className:"px-4 py-2",children:i},"table-header-name-"+i))})}),f.jsx("tbody",{children:f.jsx(DK,{headers:r,data:e,isPending:t,placeholder:n})})]})}function DK({headers:e,data:t,isPending:n=!1,placeholder:r}){const{visibleRows:i}=Vm(t??[],"selector"),s=t?t.slice(0,i):[];return n||!t?f.jsx(Xd,{row:5,col:e.length}):t.length?f.jsxs(f.Fragment,{children:[s.map(o=>f.jsx(FK,{data:o,tableHeaders:e},`${o.subjectCode} ${o.subjectId} ${o.professorName}`)),f.jsx("tr",{className:"load-more-trigger"})]}):f.jsx(fx,{col:e.length,...r})}const FK=({data:e,tableHeaders:t})=>{const n=IK(e,!0);return f.jsxs("tr",{className:`border-t border-gray-200 text-black ${n}`,children:[f.jsx("td",{className:"px-4 py-2",children:f.jsx(Oe,{align:"items-center",gap:"gap-2",children:f.jsx(d8,{subject:e,variant:"plain"})})}),f.jsx(zK,{data:e,tableHeaders:t})]})},BK=(e,t)=>e.data.subjectId===t.data.subjectId&&"seat"in e=="seat"in t&&e.tableHeaders===t.tableHeaders,zK=T.memo(({data:e,tableHeaders:t})=>{const{selectTargetOnly:n}=mh();function r(){n(e.subjectId),$m(e.departmentCode??e.deptCd)}return t.slice(1,20).map(({key:i})=>f.jsx("td",{className:"px-4 py-2 text-center",children:f.jsx(Or,{to:`/wishes/${e.subjectId}`,onClick:r,children:f.jsx($K,{data:e,headerType:i})})},i))},BK);function $K({data:e,headerType:t}){switch(t){case"":return f.jsx(f.Fragment,{children:""});case"totalCount":return f.jsx(mC,{wishCount:e.totalCount??-1});case"seat":return f.jsx(Cy,{seat:e.seat});default:return e[t]?.toString()}}function UK(){const[e,t]=T.useState(!1),[n,r]=T.useState(!1),i=_d(I=>I.filters),s=_d(I=>I.setFilter),o=_d(I=>I.resetFilters),{keywords:a,favoriteOnly:u}=i,c=Jy(I=>I.tableTitles),h=Jy(I=>I.setTableTitles),p=Pi(),[g,x]=T.useState(!1),{data:w}=jC([]),S=gh(w??[]).sort((I,H)=>I.localeCompare(H)).map(I=>I),k=dx(i),E=w&&"seat"in w,{isPreSeatAvailable:R}=Hm({hasSeats:E}),A=w&&"totalCount"in w,z=()=>s("favoriteOnly",!u),U=()=>{p?x(!0):r(!0)},N=(I,H)=>{const V=i[I];Array.isArray(V)?s(I,V.filter(F=>F!==H)):s(I,ma[I])};return f.jsxs("div",{className:"flex flex-wrap gap-2 mt-4 lg:flex-wrap lg:flex-row lg:items-center lg:gap-y-0 lg:gap-x-2",children:[e&&f.jsx(i7,{initialItems:c,onChange:h,onClose:()=>t(!1)}),n&&f.jsx(vx,{filterStore:_d,onClose:()=>r(!1)}),g&&f.jsx(xx,{onCloseFiltering:()=>x(!1),filters:i,setFilter:s,resetFilter:o}),f.jsx(Ml,{type:"text",placeholder:",      ",value:a,onDelete:()=>s("keywords",""),onChange:I=>s("keywords",I.target.value),className:"w-full"}),f.jsxs("div",{className:"flex items-center flex-wrap mt-2 gap-2",children:[f.jsxs("div",{className:"hidden md:flex flex-wrap gap-2",children:[f.jsx(gx,{setFilter:s,selectedValue:i.department??""}),A&&f.jsx(ic,{filterKey:"wishRange",options:hn.wishRange,selectedValue:i.wishRange??null,setFilter:s,ItemComponent:Pn,isMinMax:!0}),R&&f.jsx(ic,{filterKey:"seatRange",options:hn.seatRange,selectedValue:i.seatRange??null,setFilter:s,ItemComponent:Pn,isMinMax:!0}),f.jsx(Mn,{filterKey:"days",options:hn.days,selectedValues:i.days??[],setFilter:s}),f.jsx(Mn,{filterKey:"credits",options:hn.credits,selectedValues:i.credits??[],setFilter:s}),f.jsx(Mn,{filterKey:"grades",options:hn.grades,selectedValues:i.grades??[],setFilter:s}),i.classroom.length>0&&f.jsx(Mn,{filterKey:"classroom",options:hn.classRoom,selectedValues:i.classroom??[],setFilter:s,className:"min-w-max"}),i.note.length>0&&f.jsx(Mn,{filterKey:"note",options:hn.remark,selectedValues:i.note??[],setFilter:s}),i.categories.length>0&&f.jsx(Mn,{filterKey:"categories",options:S,selectedValues:i.categories??[],setFilter:s,className:"min-w-max"})]}),f.jsx(yx,{filters:i,resetFilter:o}),f.jsx(mx,{handleOpenFilter:U}),f.jsx(rr,{variant:"contain",icon:f.jsx(c8,{disabled:!u}),"aria-label":u?"  ":"  ",label:u?"  ":"  ",onClick:z}),f.jsx(rr,{variant:"contain",label:" ",icon:f.jsx(bx,{className:"w-5 h-5"}),onClick:()=>t(!0)}),f.jsx(Oe,{direction:"flex-wrap",gap:"gap-2",className:"w-fit md:hidden",children:k.map(I=>f.jsx(Pn,{variant:"cancel",label:I.label,selected:!0,onClick:()=>N(I.filterKey,I.values)},`${I.filterKey}-${I.values}`))})]})]})}function HK(){return f.jsxs(El,{to:"/live",state:{openSearch:!0},className:"inline-flex items-center gap-2 rounded-md border border-blue-500 px-3 py-2 text-sm text-blue-500 hover:bg-blue-50",children:[f.jsx(pa,{}),""]})}function VK(){return f.jsxs(f.Fragment,{children:[f.jsx(gr,{children:f.jsx("title",{children:"ALLCLL |  "})}),f.jsxs("div",{className:"mx-auto max-w-7xl px-4 md:px-16 mb-8 min-h-screen",children:[f.jsx(Lt,{level:1,className:"mt-2",children:" "}),f.jsxs(Un,{children:["  ",f.jsx("span",{className:"text-blue-500 font-bold",children:" "})," .   ."]}),f.jsxs(Oe,{gap:"gap-4",direction:"flex-col",className:"mt-6",children:[f.jsxs(Tn,{children:[f.jsx(HK,{}),f.jsx(UK,{}),f.jsx(sx,{})]}),f.jsx(Tn,{variant:"elevated",className:"mt-6 overflow-x-auto",children:f.jsx(QK,{})}),f.jsx(kC,{right:"right-2 sm:right-20"})]})]})]})}function QK(){const{data:e,isPending:t}=So(),n=fh(Bm(e,Ol)),r=_d(o=>o.filters),i=T.useDeferredValue(fc(n??[],r)),s={title:"  .",description:"   ."};return f.jsx(h8,{data:i,isPending:t,placeholder:s})}function WK({children:e}){return f.jsxs("div",{className:"relative max-h-screen overflow-hidden",children:[f.jsx("div",{style:{filter:"blur(4px"},children:e}),f.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex justify-center items-center",children:f.jsx("p",{className:"text-xl font-bold text-gray-700",children:"  "})})]})}_o.register(Gv,dc,cc,uh,ch,dh);const qK={labels:["4","3","2","1"],datasets:[{data:[50,40,25,20],backgroundColor:"#60a5fa"}]};function KK(){return f.jsxs(WK,{children:[f.jsx("p",{className:"text-sm text-gray-500",children:"   20%      "}),f.jsx("div",{className:"mt-4",children:f.jsx(zI,{data:qK})})]})}_o.register(Gv,dc,cc,uh,ch,dh);var f8=(e=>(e.MAJOR="/",e.UNIVERSITY="",e.DEPARTMENT="",e.COLLEGE="",e))(f8||{});function GK({data:e,majorName:t}){const[n,r]=T.useState("/"),{data:i}=Nl(),s=rD(i),{doughnutData:o,totalCount:a}=YK(e,s,t,n);return f.jsxs(f.Fragment,{children:[f.jsxs(Oe,{justify:"justify-between",align:"items-center",children:[f.jsx(Lt,{level:2,children:" "}),f.jsx(fr,{className:"hidden",htmlFor:"doughnut-select",children:""}),f.jsx("select",{className:"border px-3 py-1 rounded-md",id:"doughnut-select",value:n,onChange:u=>r(u.target.value),children:Object.values(f8).map(u=>f.jsx("option",{value:u,children:u},u))})]}),a?f.jsx(oC,{data:o}):f.jsx(Oe,{justify:"justify-center",align:"items-center",className:"h-48",children:f.jsx("p",{className:"text-center text-gray-500 font-semibold",children:"   ."})})]})}function YK(e,t,n,r){let i;const{universityDict:s,collegeDict:o}=t;switch(r){case"/":i=oD(n,e);break;case"":i=aD(e,s);break;case"":i=lD(e,o);break;case"":i=j5(e);break;default:i=j5(e);break}const a=uD(e);return{doughnutData:i,totalCount:a}}function XK({wishes:e}){const t=e??Ol,n=e&&"seat"in e,{isPreSeatAvailable:r}=Hm({hasSeats:n}),i=n?e.seat:-1,s=e?.curiLangNm==="",o=e?.isDeleted??!1;return f.jsxs(f.Fragment,{children:[f.jsxs("p",{className:"text-gray-600",children:[t.subjectCode,"-",t.classCode," | ",t.departmentName," | ",t.professorName]}),f.jsxs(Oe,{gap:"gap-2",align:"items-center",direction:"flex-wrap",className:"text-gray-600 text-sm",children:[f.jsxs("span",{children:[t.studentYear,""]}),f.jsx("span",{children:t.curiTypeCdNm}),f.jsxs("span",{children:[Number(t.tmNum.split("/")[0].trim()),""]}),f.jsxs("span",{children:[" ","| ",t.lesnRoom," | ",t.lesnTime]}),r&&f.jsxs("p",{className:`text-sm px-2 py-1 rounded-full font-bold ${Dm(i??-1)}`,children:[": ",(i??-1)<0?"???":i]}),s&&f.jsx(s4,{variant:"success",children:""}),o&&f.jsx(s4,{variant:"danger",children:""})]}),f.jsx("p",{className:"text-sm text-gray-500",children:t.remark})]})}function s4({variant:e,children:t}){const n=JK(e);return f.jsx("div",{className:`${n} rounded px-2 py-1 text-xs font-semibold`,children:t})}function JK(e){switch(e){case"success":return"bg-green-100 text-green-500 ";case"warning":return"bg-yellow-100 text-yellow-500 ";case"danger":return"bg-red-100 text-red-500 ";case"default":return"bg-gray-100 text-gray-500 ";default:return""}}function p8(e){const{data:t}=So(),n=Bm(t,Ol);if(!n)return{isPending:!0};const r=n?.find(i=>i.subjectId===e);return{isPending:!1,data:r,isLastSemesterWish:!r}}function ZK(e){const{data:t}=So(),{data:n}=p8(e),r=Bm(t,Ol),i=n?.subjectCode??"";return r?{isPending:!1,data:r.filter(o=>o.subjectCode===i&&o.subjectId!==e)}:{isPending:!0}}function eG(e){return bs({queryKey:["detail-registers",e],queryFn:()=>mF(e),staleTime:1/0,retry:tG})}const tG=(e,t)=>e>=3?!1:!(t instanceof nx);function nG(){const e=K4(),t=Number(e.id??"-1"),{data:n,isPending:r,isLastSemesterWish:i}=p8(t),{data:s,error:o}=eG(t),a=n??Ol,u=n&&"totalCount"in n;if(r||!a)return f.jsxs(f.Fragment,{children:[f.jsx(gr,{children:f.jsx("title",{children:"ALLCLL |   "})}),f.jsx("div",{className:"min-h-screen bg-gray-50 flex justify-center items-center",children:f.jsx("h1",{className:"text-2xl font-bold",children:"Loading..."})})]});if(o)throw o;return f.jsxs(f.Fragment,{children:[f.jsx(gr,{children:f.jsx("title",{children:"ALLCLL |   "})}),i&&f.jsx("p",{className:"bg-red-100 text-red-500 py-2 px-4 font-bold",children:"   .   ."}),f.jsx("div",{className:"min-h-screen bg-gray-50",children:f.jsx("div",{className:"p-6 max-w-5xl mx-auto",children:f.jsxs(Tn,{children:[f.jsxs(Oe,{justify:"justify-between",align:"items-center",children:[f.jsx(Lt,{level:1,children:a.subjectName}),f.jsxs(Oe,{gap:"gap-2",children:[f.jsx(d8,{subject:a}),f.jsx(JC,{subject:a})]})]}),f.jsx(XK,{wishes:n}),f.jsxs(va,{columns:{md:2,base:1},gap:"gap-6",className:" mt-6",children:[f.jsx(Tn,{className:"p-6",children:f.jsx(GK,{data:s?.eachDepartmentRegisters??[],majorName:a.departmentName??a.manageDeptNm})}),f.jsxs(Tn,{children:[f.jsxs(Oe,{gap:"gap-2",align:"items-center",className:"mb-4",children:[f.jsx(Lt,{level:2,children:"  "}),u&&f.jsxs("p",{className:`${jD(a.totalCount??-1)} font-bold text-xl`,children:[" ",a.totalCount,""]})]}),f.jsx(KK,{})]})]}),f.jsxs(Tn,{children:[f.jsx(Lt,{level:2,className:"mt-2",children:" "}),f.jsx(Un,{children:"   "}),f.jsx("div",{className:"overflow-x-auto",children:f.jsx(rG,{subjectId:t})})]})]})})})]})}function rG({subjectId:e}){const{data:t}=ZK(e),n={title:"   ."};return f.jsx(h8,{data:t??[],placeholder:n})}const Cd=()=>{const e=uv();return T.useEffect(()=>{UE(e,{extra:{url:window.location.href,userAgent:navigator.userAgent}})},[e]),f.jsxs(f.Fragment,{children:[f.jsx(gr,{children:f.jsx("title",{children:"ALLCLL |  "})}),f.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[f.jsx("h1",{className:"text-4xl font-bold mb-4",children:" "}),f.jsx("p",{className:"text-lg mb-4",children:" .    "}),f.jsx(Or,{to:"/",className:"text-blue-500",children:" "}),f.jsx("a",{href:"https://forms.gle/bCDTVujEHunnvHe88",target:"_blank",className:"text-blue-500",children:""})]})]})},m8=()=>f.jsxs(f.Fragment,{children:[f.jsx(gr,{children:f.jsx("title",{children:"ALLCLL |    "})}),f.jsxs(Oe,{direction:"flex-col",align:"items-center",justify:"justify-center",gap:"gap-2",className:"h-screen",children:[f.jsx(Lt,{level:1,children:"404 -    "}),f.jsx("p",{className:"text-lg mb-4",children:"   "}),f.jsx(Or,{to:"/",className:"text-blue-500",children:" "})]})]}),iG=()=>{const e=uv();return e instanceof nx||e instanceof fF?f.jsx(m8,{}):f.jsx(Cd,{})},Yn=Mr((e,t)=>({type:null,props:void 0,openModal:(n,r)=>{e({type:n,props:r})},closeModal:n=>{const r=t().type;(!n||r===n)&&e({type:null,props:void 0})}}));function Ll(){const{data:e,isLoading:t}=Gi(),{data:n,isLoading:r}=Nl(),i=t||r;return i||!e||!n?{data:[],isLoading:i}:{data:sG(e,n),isLoading:!1}}function sG(e,t){return e.map(n=>{const r=t.find(s=>s.departmentCode===n.deptCd)?.departmentName||"",i=r?r.split(" ").reverse()[0]:"";return{subjectId:n.subjectId??-1,subjectCode:n.subjectCode??"",classCode:n.classCode??"",departmentName:i,subjectName:n.subjectName??"",language:n.curiLangNm??"",subjectType:n.curiTypeCdNm??"",semester_at:n.studentYear?Number(n.studentYear):-1,lesn_time:n.lesnTime??"",professorName:n.professorName??"",lesn_room:n.lesnRoom??"",tm_num:n.tmNum??""}})}function oG(){return Math.floor(1e3+Math.random()*9e3).toString()}const aG=4;function lG(){const e=T.useRef(null),[t,n]=T.useState(),[r,i]=T.useState(""),s=T.useRef(""),{data:o}=Ll(),a=Yn(k=>k.openModal),u=Yn(k=>k.closeModal),{currentSubjectId:c,setSubjectStatus:h,setCaptchaFailed:p}=Am();function g(){const k=oG();s.current=k,setTimeout(()=>{e.current&&wy(e.current,k)},100)}function x(k){let E=k.target.value;if(/[^0-9]/.test(E)){i("0~9  "),n(E.replace(/[^0-9]/g,""));return}E.length<=aG?(n(E),i("")):i("4  ")}T.useEffect(()=>{setTimeout(()=>{g()},100)},[]);function w(){fo({eventType:Gn.CAPTCHA,subjectId:c},o).then(()=>{t?.toString()===s.current?(h(c,Gt.PROGRESS),p(!1)):(h(c,Gt.PROGRESS),p(!0))}).then(()=>{u(),a("simulation")})}function S(){fo({eventType:Gn.CANCEL_SUBMIT,subjectId:c},o).then(()=>{u("captcha"),p(!1),h(c,Gt.PROGRESS)})}return f.jsx(Yt.Modal,{preventAutoFocus:!0,children:f.jsxs("div",{className:"sm:w-[500px]",children:[f.jsx(Yt.Modal.Header,{title:"  (Arti-marco code input)",onClose:S}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 p-4",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsxs("div",{className:"text-sm font-semibold flex flex-row items-center",children:[f.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "})," ",f.jsx("button",{onClick:g,className:"ml-2 px-2 py-1 bg-blue-500 text-white text-sm rounded-xs cursor-pointer hover:bg-blue-600",children:""})]}),f.jsx("div",{className:"flex items-center mt-1",children:f.jsx("canvas",{id:"captcha",width:"105",height:"50",ref:e})})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"text-sm font-semibold flex flex-row items-center",children:[f.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "}),"  "]}),f.jsx(Yt.Input,{value:t,onChange:k=>x(k),className:"mt-2 w-full",placeholder:" ",essential:!0}),f.jsx("span",{className:"pl-1 text-xs text-red-500 ",children:r})]})]}),f.jsx("p",{className:"text-sm text-gray-800 mt-10 p-4",children:"               ."}),f.jsxs(Yt.Modal.ButtonContainer,{className:"px-6 py-2 bg-gray-100",children:[f.jsx(Yt.Modal.Button,{variant:"cancel",onClick:w,children:""}),f.jsx(Yt.Modal.Button,{variant:"cancel",onClick:S,children:""})]})]})})}const uG=e=>T.createElement("svg",{width:50,height:50,viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("circle",{cx:25,cy:25,r:25,fill:"#7890CE"}),T.createElement("path",{d:"M20.2339 29.5078L35.0317 17.4276C35.3809 17.1425 35.7883 17 36.2539 17C36.7196 17 37.127 17.1425 37.4762 17.4276C37.8254 17.7127 38 18.0515 38 18.4439C38 18.8364 37.8254 19.1747 37.4762 19.4588L21.4562 32.5724C21.107 32.8575 20.6995 33 20.2339 33C19.7683 33 19.3609 32.8575 19.0117 32.5724L11.5037 26.4432C11.1545 26.1581 10.9868 25.8198 11.0008 25.4283C11.0148 25.0368 11.1969 24.6981 11.5473 24.412C11.8977 24.126 12.3127 23.9835 12.7923 23.9844C13.2718 23.9854 13.6862 24.1279 14.0354 24.412L20.2339 29.5078Z",fill:"white"})),o4={simulationId:-1,registeredSubjects:[],nonRegisteredSubjects:[],simulationStatus:"before",clickedTime:0},di=Mr(e=>({currentSimulation:o4,setCurrentSimulation:t=>e(n=>({currentSimulation:{...n.currentSimulation,...t}})),resetSimulation:()=>e({currentSimulation:o4})})),cG=[{status:Gt.PROGRESS,topMessage:"   ?",description:"(CourseTitle):"},{status:Gt.SUCCESS,topMessage:"  .   ?",description:"    []  .         []      . []     ."},{status:Gt.FAILED,topMessage:"  !"},{status:Gt.DOUBLED,topMessage:"   !"},{status:Gt.CAPTCHA_FAILED,topMessage:"   "},{status:Gt.NOT_ELIGIBLE,topMessage:"   "}],dG=[Gt.PROGRESS,Gt.SUCCESS,Gt.FAILED,Gt.CAPTCHA_FAILED];function hG({reloadSimulationStatus:e}){const t=Yn(N=>N.openModal),n=Yn(N=>N.closeModal),{currentSubjectId:r,setSubjectStatus:i,subjectStatusMap:s}=Am(),o=di(N=>N.setCurrentSimulation),{data:a}=Ll(),u=s[r],c=cG.find(N=>N.status===u),h=c?.status??Gt.PROGRESS,p=[Gt.FAILED,Gt.DOUBLED,Gt.CAPTCHA_FAILED].includes(h),g=dG.includes(h),x=T.useRef(null);if(!c)return null;x.current?.focus();const w=(N,I=!1)=>{if("errMsg"in N)throw alert(N.errMsg),I&&Gu().then(()=>{t("result")}),new Error(N.errMsg)},S=N=>{console.error(" :",N),alert(" :"+N.toString())},k=async N=>{const I=await fo({eventType:Gn.SUBJECT_SUBMIT,subjectId:N},a);w(I),i(N,I.status),t("simulation")},E=async N=>{const I=await fo({eventType:Gn.REFRESH,subjectId:N},a);w(I),e(),I.finished&&(o({simulationStatus:"finish"}),console.log(" "),t("result"))},R=async N=>{try{const I=await fo({eventType:Gn.SKIP_REFRESH,subjectId:N},a);"errMsg"in I?(alert(I.errMsg),await Gu(),o({simulationStatus:"finish"}),t("result")):I.finished&&(o({simulationStatus:"finish"}),t("result"))}catch(I){console.error(I)}finally{n("simulation")}},A=async()=>{try{c.status===Gt.PROGRESS?await k(r):c?.status===Gt.SUCCESS?await E(r):p&&await R(r)}catch(N){S(N)}},z=async()=>{try{if(c?.status===Gt.SUCCESS){const N=await fo({eventType:Gn.SKIP_REFRESH,subjectId:r},a);"errMsg"in N?(alert(N.errMsg),await Gu(),o({simulationStatus:"finish"}),t("result")):N.finished?(o({simulationStatus:"finish"}),t("result")):n("simulation")}else if(c?.status===Gt.PROGRESS){const N=await fo({eventType:Gn.CANCEL_SUBMIT,subjectId:r},a);w(N,!0)}}catch(N){S(N)}},U=()=>{g||n("simulation")};return f.jsx(Yt.Modal,{children:f.jsxs("div",{className:"flex sm:w-[450px] border-1 border-gray-800 flex-col justify-between overflow-hidden",children:[f.jsx(Yt.Modal.Header,{title:"",onClose:U}),f.jsxs("div",{className:"px-6 pb-6 text-center ",children:[f.jsx("div",{className:"flex justify-center mb-4 py-5",children:f.jsx("div",{className:"w-10 h-10",children:f.jsx(uG,{})})}),f.jsx("p",{className:"text-gray-700 text-base mb-4",children:c.topMessage}),c.description&&f.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:c.description})]}),f.jsxs(Yt.Modal.ButtonContainer,{className:"px-6 py-2 bg-gray-100",children:[c.status===Gt.PROGRESS||c.status===Gt.SUCCESS&&f.jsx(Yt.Modal.Button,{variant:"cancel",onClick:z,children:""}),f.jsx(Yt.Modal.Button,{variant:"primary",onClick:A,children:""})]})]})})}function fG(e,t,n){var r,i;typeof e=="function"?(r=t||[],i=n):(r=[],i=t);var s=rn.useRef({hasResult:!1,result:i,error:null}),o=rn.useReducer(function(c){return c+1},0);o[0];var a=o[1],u=rn.useMemo(function(){var c=typeof e=="function"?e():e;if(!c||typeof c.subscribe!="function")throw e===c?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!s.current.hasResult&&typeof window<"u"&&(typeof c.hasValue!="function"||c.hasValue()))if(typeof c.getValue=="function")s.current.result=c.getValue(),s.current.hasResult=!0;else{var h=c.subscribe(function(p){s.current.result=p,s.current.hasResult=!0});typeof h=="function"?h():h.unsubscribe()}return c},r);if(rn.useDebugValue(s.current.result),rn.useEffect(function(){var c=u.subscribe(function(h){var p=s.current;(p.error!==null||p.result!==h)&&(p.error=null,p.result=h,p.hasResult=!0,a())},function(h){var p=s.current;p.error!==h&&(p.error=h,a())});return typeof c=="function"?c:c.unsubscribe.bind(c)},r),s.current.error)throw s.current.error;return s.current.result}function gc(e,t,n){return fG(function(){return fD(e)},[],n)}function a4(){const e=Yn(t=>t.closeModal);return f.jsx(Yt.Modal,{onBackdropClick:()=>e(),noBorder:!0,children:f.jsxs("div",{className:"p-6 w-80 bg-white rounded shadow",children:[f.jsx("p",{className:"text-sm text-gray-800 mb-4",children:"  ."}),f.jsx("div",{className:"w-full h-4 bg-gray-200 rounded overflow-hidden",children:f.jsx("div",{className:"h-full bg-blue-400 bg-gradient-to-r from-blue-400 to-blue-600 animate-stripes"})})]})})}const pd=1/1e3;async function pG(){return{snapshots:(await xt.simulation_run.filter(n=>n.ended_at!==-1).toArray()).sort((n,r)=>r.simulation_run_id-n.simulation_run_id)}}async function mG(e){const t=await bD(e),n=await uC(t.snapshot_id);if(!t||!n)return null;const r=await xt.simulation_run_selections.where("simulation_run_id").equals(t.simulation_run_id).toArray(),i=r.map(c=>c.run_selections_id),s=c=>{const h=n.subjects.find(p=>p.interested_id===c);return h?h.subject_id:-1},o=await xt.simulation_run_events.filter(c=>i.includes(c.simulation_section_id)).toArray(),a=o.filter(c=>c.event_type===Gn.CAPTCHA),u=r.reduce((c,h)=>{const p=a.find(g=>g.simulation_section_id===h.run_selections_id);return p?.timestamp?c+p.timestamp-h.started_at:c},0)/r.length;return{started_at:t.started_at,ended_at:t.ended_at,user_ability:{searchBtnSpeed:(t.search_event_at-t.started_at)/1e3,totalSpeed:t.total_elapsed/t.subject_count/1e3,accuracy:t.accuracy,captchaSpeed:u/1e3},timeline:r.map(c=>({interested_id:c.interested_id,subject_id:s(c.interested_id),started_at:c.started_at,ended_at:c.ended_at,status:c.status,events:o.filter(h=>h.simulation_section_id===c.run_selections_id).sort((h,p)=>h.timestamp-p.timestamp).map(h=>({event:h.event_type,timestamp:h.timestamp}))})),subject_results:r.sort((c,h)=>h.started_at-c.started_at).reduce((c,h)=>c.some(p=>p.interested_id===h.interested_id)?c:[...c,h],[]).map(c=>({interested_id:c.interested_id,subject_id:s(c.interested_id),selected_index:c.selected_index,ended_at:c.ended_at,status:c.status}))}}async function g8(){const e=await xt.simulation_run.filter(k=>k.ended_at!==-1).toArray(),t=e.length;if(t===0)throw new Error("    .");const n=await xt.simulation_run_selections.toArray(),r=await Promise.all(e.map(async k=>{const E=await xt.simulation_run_selections.filter(I=>I.simulation_run_id===k.simulation_run_id).toArray(),R=E.map(I=>I.run_selections_id),A=await xt.simulation_run_events.filter(I=>I.event_type===Gn.CAPTCHA&&R.includes(I.simulation_section_id)).toArray(),z=(k.search_event_at-k.started_at)*pd,U=A.reduce((I,H)=>{const V=E.find(F=>F.run_selections_id===H.simulation_section_id);return V?I+(H.timestamp-V.started_at):I},0)*pd,N=E.reduce((I,H)=>H.ended_at>=0?I+(H.ended_at-H.started_at):I,0)*pd;return{simulationRunId:k.simulation_run_id,accuracy:k.accuracy,subjectCount:k.subject_count,searchBtnTime:z,captchaTime:U+z,subjectTime:N+z,totalTime:k.total_elapsed*pd}})),i=await xt.interested_snapshot.filter(k=>k.simulated).last();if(!i)throw new Error("   .");const o=(await xt.interested_subject.filter(k=>k.snapshot_id===i.snapshot_id).toArray()).map(k=>{const E=n.filter(V=>V.interested_id===k.interested_id),R=E.filter(V=>V.status===Gt.SUCCESS).length,A=E.filter(V=>V.status===Gt.FAILED).length,z=E.filter(V=>V.status===Gt.DOUBLED).length,U=E.length,N=E.reduce((V,F)=>V+F.selected_index,0)/U||0,I=E.filter(V=>V.ended_at>=0&&V.started_at>=0).map(V=>(V.ended_at-V.started_at)*pd),H=gG(I);return{subjectId:k.subject_id,successCount:R,failedCount:A,doubledCount:z,totalCount:U,avgCompletionTime:H,avgIndex:N}}),a=new Map;for(const k of n){const E=k.simulation_run_id,R=e.find(I=>I.simulation_run_id===E);if(!R)continue;const A=await uC(R.snapshot_id);if(!A)continue;const z=A.subjects.find(I=>I.interested_id===k.interested_id);if(!z)continue;const U=z.subject_id;a.has(U)||a.set(U,{subject_id:U,success_count:0,total_count:0,completion_time_sum:0});const N=a.get(U);N.total_count++,k.status===1&&(N.success_count++,N.completion_time_sum+=k.ended_at-k.started_at)}const u=Array.from(a.values()).map(k=>({subject_id:k.subject_id,success_count:k.success_count,total_count:k.total_count,success_rate:k.success_count/k.total_count,avg_completion_time:k.success_count>0?k.completion_time_sum/k.success_count/1e3:0})),c=n.reduce((k,E)=>(k[E.status]=(k[E.status]||0)+1,k),{}),h=n.length,p=Object.entries(c).map(([k,E])=>({status:Number(k),count:E,percentage:E/h})),g=e.map(k=>k.simulation_run_id),x=n.filter(k=>g.includes(k.simulation_run_id)).map(k=>k.run_selections_id),w=await xt.simulation_run_events.filter(k=>x.includes(k.simulation_section_id)&&k.event_type===Gn.CAPTCHA).toArray();let S=0;for(const k of w){const E=n.find(R=>R.run_selections_id===k.simulation_section_id);E&&(S+=k.timestamp-E.started_at)}return{total_users:t,avg_started_at:e.reduce((k,E)=>k+E.started_at,0)/t,avg_ended_at:e.reduce((k,E)=>k+E.ended_at,0)/t,avg_elapsed_time:e.reduce((k,E)=>k+(E.ended_at-E.started_at),0)/t/1e3,subject_success_rate:u,status_distribution:p,simulations:r,subjects:o}}function gG(e){return e.length===0?0:e.reduce((t,n)=>t+n,0)/e.length}function yG({simulationId:e}){const t=Yn(E=>E.type),n=Yn(E=>E.openModal),r=Yn(E=>E.closeModal),[i,s]=T.useState(null),[o,a]=T.useState(),u=t==="result",c=gc(async()=>{try{return await g8()}catch(E){return{error:E.message}}});if(c&&"error"in c)return f.jsx("div",{className:"flex flex-col w-full items-center justify-center h-120 gap-3"});const{simulations:h}=c||{simulations:[]},p=c?{user_ability:{searchBtnSpeed:h.reduce((E,R)=>E+R.searchBtnTime,0)/h.length||0,totalSpeed:h.reduce((E,R)=>E+R.totalTime/R.subjectCount,0)/h.length||0,accuracy:h.reduce((E,R)=>E+R.accuracy,0)/h.length||0,captchaSpeed:h.reduce((E,R)=>E+(R.captchaTime-R.searchBtnTime)/R.subjectCount,0)/h.length||0}}:void 0;if(T.useEffect(()=>{async function E(){_D({simulationId:e}).then(R=>{"errMsg"in R?R.errMsg===cC.SIMULATION_NOT_FOUND?r():alert(R.errMsg):(s(R),a(e))})}E().then()},[]),!i)return f.jsx(a4,{});const{accuracy:g,score:x,total_elapsed:w}=i,S=x>=70,k=p?.user_ability?.searchBtnSpeed??0;return!p||!c?f.jsx(a4,{}):f.jsx(Nn,{title:"",onClose:r,isOpen:u,children:f.jsxs(Nn.Content,{children:[f.jsxs("div",{className:"w-full max-w-md bg-white rounded-xl shadow-xl p-6 relative overflow-hidden",children:[S&&f.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[f.jsx("div",{className:"animate-float1 absolute top-6 left-6 w-3 h-3 bg-red-400 rounded-full"}),f.jsx("div",{className:"animate-float2 absolute top-16 right-10 w-2 h-2 bg-yellow-400 rounded-full"}),f.jsx("div",{className:"animate-float3 absolute bottom-20 left-12 w-2.5 h-2.5 bg-blue-400 rounded-full"}),f.jsx("div",{className:"animate-float4 absolute bottom-10 right-6 w-3 h-3 bg-pink-400 rounded-full"}),f.jsx("div",{className:"animate-float5 absolute top-1/2 left-1/2 w-2 h-2 bg-purple-400 rounded-full"})]}),f.jsxs("div",{className:"relative z-10 text-center",children:[f.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[" ",f.jsx("span",{className:S?"text-blue-600":"text-red-500",children:S?" !":" "})]}),f.jsxs("span",{className:"text-sm text-gray-700 mt-1",children:[" ",S?" ":" ",""]}),f.jsxs("div",{className:"flex flex-col justify-center items-center",children:[f.jsx("div",{className:"m-2 flex justify-center",children:S?f.jsx("img",{src:"/ci.svg",alt:" ",className:"w-20 h-20"}):f.jsx("span",{className:"text-[50px]",children:""})}),f.jsxs("div",{className:"flex flex-row justify-center gap-6 mt-6",children:[f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("p",{className:"text-sm text-gray-800 mb-1",children:""}),f.jsxs("p",{className:"text-xl text-blue-500 font-bold whitespace-nowrap",children:[x.toFixed(1),f.jsx("span",{className:"text-gray-600",children:""})]})]}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("p",{className:"text-sm text-gray-800 mb-1",children:" "}),f.jsxs("p",{className:"text-xl text-gray-600 font-bold whitespace-nowrap",children:[(w/1e3).toFixed(0),""]})]})]}),f.jsxs("div",{className:"flex flex-row justify-center gap-6 mt-6",children:[f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("p",{className:"text-sm text-gray-800 mb-1",children:"    "}),f.jsxs("p",{className:"text-xl text-blue-500 font-bold whitespace-nowrap",children:[p?.user_ability.captchaSpeed.toFixed(2),f.jsx("span",{className:"text-gray-600",children:""})]})]}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("p",{className:"text-sm text-gray-800 mb-1",children:"    "}),f.jsxs("p",{className:"text-xl text-blue-500 font-bold whitespace-nowrap",children:[k<=0?0:k.toFixed(2),f.jsx("span",{className:"text-gray-600",children:""})]})]})]})]}),f.jsx("div",{className:"text-left text-sm text-gray-800 mt-4 mb-1",children:""}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-full h-3 bg-gray-200 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-3 bg-indigo-400 rounded-full transition-all duration-300",style:{width:`${g}%`}})}),f.jsxs("p",{className:"text-xl text-gray-600 font-bold whitespace-nowrap",children:[g,"%"]})]}),f.jsxs("div",{className:"flex justify-center gap-3 mt-6",children:[f.jsx("button",{className:"px-4 py-2 border border-gray-400 text-gray-800 rounded-md hover:bg-gray-100 text-sm",onClick:()=>{r(),n("wish")},children:" "}),f.jsx(El,{to:`/simulation/logs/${o}`,end:!1,className:"px-4 py-2  bg-blue-500 text-white rounded-md hover:bg-blue-600 text-sm",onClick:()=>{r()},children:"   "})]})]})]}),f.jsx("style",{children:`
        @keyframes float1 {
          0% { transform: translateY(0); }
          50% { transform: translateY(-8px); }
          100% { transform: translateY(0); }
        }
        @keyframes float2 {
          0% { transform: translateY(0); }
          50% { transform: translateY(6px); }
          100% { transform: translateY(0); }
        }
        @keyframes float3 {
          0% { transform: translateY(0); }
          50% { transform: translateY(-6px); }
          100% { transform: translateY(0); }
        }
        @keyframes float4 {
          0% { transform: translateY(0); }
          50% { transform: translateY(4px); }
          100% { transform: translateY(0); }
        }
        @keyframes float5 {
          0% { transform: translateY(0); }
          50% { transform: translateY(-5px); }
          100% { transform: translateY(0); }
        }

        .animate-float1 { animation: float1 3s ease-in-out infinite; }
        .animate-float2 { animation: float2 4s ease-in-out infinite; }
        .animate-float3 { animation: float3 2.5s ease-in-out infinite; }
        .animate-float4 { animation: float4 3.5s ease-in-out infinite; }
        .animate-float5 { animation: float5 3s ease-in-out infinite; }
      `})]})})}function vG(){return f.jsxs("div",{className:"mt-6 text-sm text-gray-800 space-y-2",children:[f.jsx(Lt,{level:4,children:" Tip!"}),["      .","    .","       !","    ."].map((e,t)=>f.jsxs(Oe,{className:"text-xs",children:[f.jsx("span",{className:"text-blue-500 mr-2",children:f.jsx(t7,{})}),f.jsx("span",{className:t===0?"font-semibold text-blue-500 animate-bounce":"text-gray-600",children:e})]},t))]})}function xG({department:e,setDepartment:t}){const{data:n}=Nl(),r=i=>{const s=i.target.value,o=n?.find(a=>a.departmentCode===s)?.departmentName??"";t({departmentName:o,departmentCode:s})};return T.useEffect(()=>{if(!n)return;const s=TC().filter(([u])=>u!=="9005");if(s.length<=0)return;const o=s[0][0],a=n.find(u=>u.departmentCode===o)?.departmentName??"";t({departmentName:a,departmentCode:o})},[n]),f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsx(fr,{children:" ."}),f.jsx(qm,{className:"cursor-pointer rounded-sm px-2 py-1 w-50 sm:w-120 bg-white mb-4",value:e.departmentCode,onChange:r})]})}function bG({selectedTimetable:e,onSelect:t,timetables:n}){const r=n.map(i=>({value:i.timeTableId,label:i.timeTableName}));return f.jsxs(Oe,{direction:"flex-col",gap:"gap-2",children:[f.jsx(fr,{children:" ."}),f.jsxs(Oe,{gap:"gap-2",children:[f.jsx(va,{columns:{sm:2,md:3},gap:"gap-2",className:"flex-1",children:r.map(i=>f.jsx(Pn,{label:i.label,selected:e.timeTableId===i.value,onClick:()=>t(i.value)},i.value))}),f.jsx(jt,{variant:"text",size:"small",textColor:"gray",children:f.jsx(Or,{to:"/timetable",children:"+   "})})]})]})}const wG=5;function Zy(e,t){const n=new Set,r=[];for(const i of[...e].sort(()=>Math.random()-.5)){if(n.size>=t)break;n.has(i.subjectCode)||(n.add(i.subjectCode),r.push(i))}return r}function y8(e){const t=e.split(" ");return t.findIndex(r=>r.includes(""))!==-1?t.slice(1).join(" ").trim():e}function v8(e,t){const n=r=>r.replace(/(||)$/,"");return n(e)===n(t)}function _G(e){return wG-e+1}const SG=(e,t)=>{if(t==="")return x8(e);const n=y8(t),r=e.filter(h=>v8(h.departmentName,n)),i=e.filter(h=>h.departmentName===""),s=r.filter(h=>h.professorName!==null&&h.lesn_time!==null),o=Zy(s,3),a=i.filter(h=>h.professorName!==null&&h.lesn_time!==null),u=Zy(a,_G(o.length+1)),c=[...o,...u];for(let h=c.length-1;h>0;h--){const p=Math.floor(Math.random()*(h+1));[c[h],c[p]]=[c[p],c[h]]}return c},ev=(e,t)=>e.find(n=>t===n.subjectId),x8=e=>Zy(e,5),CG=(e,t)=>{const n=y8(t);if(n==="")return x8(e);const r=e.filter(c=>v8(c.departmentName,n)),i=e.filter(c=>c.departmentName===""),s=c=>{const h=new Set;return c.filter(p=>h.has(p.subjectCode)?!1:(h.add(p.subjectCode),!0))},o=s(r).slice(0,3),a=5-o.length,u=s(i).slice(0,a);return[...o,...u]},kG=e=>{let t=0;const n=[];for(const r of e){const i=Number(r.tm_num.split("/")[0])||0;if(t+i>24)break;t+=i,n.push(r)}return n};function jG({subjects:e,handleRemakeSubjects:t,isLoadingLectures:n}){const r=e?.reduce((i,s)=>{if(!s.tm_num)return i;const o=s?.tm_num.split("/")[0]??"0",a=Number(o)||0;return i+a},0);return f.jsxs(f.Fragment,{children:[f.jsxs(Oe,{direction:"flex-row",justify:"justify-between",align:"items-center",children:[f.jsxs(Oe,{align:"items-center",children:[f.jsx(fr,{children:" "}),t&&f.jsx(jt,{onClick:t,size:"small",variant:"text",children:" "})]}),f.jsxs(Un,{children:[f.jsx("span",{className:"text-blue-500",children:r})," "]})]}),f.jsx("div",{className:"overflow-x-auto overflow-y-auto sm:max-w-full",children:f.jsxs("table",{className:"min-w-full sm:text-sm text-xs text-left whitespace-nowrap border-t border-b border-gray-200",children:[f.jsx("thead",{className:"bg-gray-100 text-gray-700",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-2",children:""}),f.jsx("th",{className:"px-4 py-2",children:""}),f.jsx("th",{className:"px-4 py-2",children:""}),f.jsx("th",{className:"px-4 py-2",children:""}),f.jsx("th",{className:"px-4 py-2",children:""})]})}),f.jsx(EG,{subjects:e,isLoadingLectures:n})]})})]})}function EG({subjects:e,isLoadingLectures:t}){return t?f.jsx(Xd,{col:5,row:8}):e.length===0?f.jsx(fx,{col:5,title:"  .",description:"       ."}):f.jsx("tbody",{children:t?f.jsx(Xd,{col:5,row:8}):e.map((n,r)=>f.jsxs("tr",{className:"border border-gray-200",children:[f.jsx("td",{className:"px-4 py-2",children:n.subjectCode}),f.jsx("td",{className:"px-4 py-2",children:n.classCode}),f.jsx("td",{className:"px-4 py-2",children:n.departmentName}),f.jsx("td",{className:"px-4 py-2",children:n.subjectName}),f.jsx("td",{className:"px-4 py-2",children:n.professorName})]},n.subjectId??r))})}const TG=({simulationSubjects:e,handleStartGame:t,setToggleTip:n})=>f.jsxs("div",{className:"flex justify-end gap-2 px-2 pb-2 sm:px-6 sm:pb-6",children:[f.jsx(jt,{variant:"primary",size:"medium",onClick:()=>n(!0),children:" "}),f.jsx(jt,{variant:"outlined",size:"medium",onClick:t,disabled:e.length===0,children:""})]}),PG={departmentCode:"",departmentName:""};function NG({timetables:e,setIsModalOpen:t}){const n=di(F=>F.setCurrentSimulation),r=Yn(F=>F.closeModal),{data:i,isLoading:s}=Ll(),o=vt(F=>F.currentTimetable),a=vt(F=>F.pickTimetable),[u,c]=T.useState([]),[h,p]=T.useState({...PG}),[g,x]=T.useState(o??{timeTableId:-1,timeTableName:"  ",semester:"2025-2"}),[w,S]=T.useState("timetable"),[k,E]=T.useState(!1),{data:R,isLoading:A}=_m(g?.timeTableId),z=gc(lC),U=()=>{c(SG(i,h.departmentName))},N=async()=>{if(u.length===0){alert("  .    .");return}try{r(),w!=="previous"&&await mD(u.map(ue=>ue.subjectId));const F=await wD("",h.departmentCode,h.departmentName);if("simulationId"in F&&"isRunning"in F&&F.simulationId!==-1&&F.isRunning!==void 0){const{simulationId:ue,isRunning:ae}=F;n({simulationId:ue,simulationStatus:ae?"start":"before"})}else console.error("    ",F)}catch(F){console.error("    :",F)}},I=F=>{const le=e.find(ue=>ue.timeTableId===F)??{timeTableId:-1,timeTableName:"  ",semester:"2025-2"};if(!le){console.error("    :",F);return}x(le),a(le)},H=F=>{c([]),S(F)},V=F=>i.find(le=>le.subjectId===F);return T.useEffect(()=>{if(A||w!=="timetable"||!R||R.length===0)return;const le=R.filter(ae=>ae.scheduleType!=="custom").map(ae=>V(ae.subjectId??0)).filter(ae=>!!ae),ue=kG(le);c(ue)},[w,R,A,g]),T.useEffect(()=>{w==="random"&&c(CG(i,h.departmentName))},[w,h]),T.useEffect(()=>{if(w!=="previous"||!z||z.snapshot_id<0||s)return;const le=z.subjects.map(ue=>ue.subject_id).map(ue=>V(ue)).filter(ue=>!!ue);c(le)},[w,z,s]),T.useEffect(()=>{z&&z.snapshot_id>=0?S("previous"):e.length>0?S("timetable"):S("random")},[z,e]),f.jsx(Nn,{title:"   ",onClose:()=>t(!1),children:f.jsxs("div",{className:"flex flex-col w-full overflow-y-auto max-h-[90vh] max-w-[900px] sm:min-w-[600px]",children:[f.jsxs("div",{className:"flex flex-col gap-2 p-2 sm:p-6",children:[f.jsx(fr,{children:"  ?"}),f.jsxs("div",{className:"flex gap-2 py-2",children:[z&&f.jsx(Pn,{label:" ",selected:w==="previous",onClick:()=>H("previous")}),f.jsx(Pn,{label:" ",selected:w==="timetable",onClick:()=>H("timetable")}),f.jsx(Pn,{label:" ",selected:w==="random",onClick:()=>H("random")})]}),w==="timetable"&&f.jsx(bG,{timetables:e,selectedTimetable:g,onSelect:I}),w==="random"&&f.jsx(xG,{department:h,setDepartment:p}),f.jsx(jG,{isLoadingLectures:s,subjects:u,handleRemakeSubjects:w==="random"?U:void 0}),k&&f.jsx(vG,{})]}),f.jsx(TG,{simulationSubjects:u,handleStartGame:N,setToggleTip:E})]})})}function OG(e,t,n,r,i,s){const o=Math.floor((e+t)/n);let a=r,u=0;for(let c=0;c<=o;c++){const h=c*n;let p=i,g=s;h>4&&(p=48,g=33),a+=p,u+=g}return Math.max(Math.round(a-u),0)}function RG(){const[e,t]=T.useState(0),[n,r]=T.useState(0),[i,s]=T.useState(1),[o,a]=T.useState(0),u=T.useRef(null),c=Yn(k=>k.closeModal),h=di(k=>k.currentSimulation),p=di(k=>k.setCurrentSimulation),g=.2,x=98,w=79;T.useEffect(()=>{let k=Math.floor(h.clickedTime/.2)*100+124;const E=k/w*g;for(let R=0;R<=Math.floor(h.clickedTime/g);R++)k+=R*x;r(k),t(Math.ceil(E))},[]),T.useEffect(()=>(u.current=setInterval(()=>{a(E=>{const R=E+1,A=OG(R,h.clickedTime,g,i,x,w);return s(A),R});const k=Math.floor((e+h.clickedTime)/.2)*w;n<0?r(0):r(E=>E-k),t(E=>{const R=Math.max(E-1,0);return R===0&&u.current&&(clearInterval(u.current),c()),R})},1e3),()=>{u.current&&clearInterval(u.current)}),[e]);const S=()=>{p({simulationStatus:"before"}),c()};return f.jsx(Yt.Modal,{noBorder:!0,children:f.jsxs("div",{className:"sm:w-full max-w-md bg-white p-6 text-center space-y-6",children:[f.jsxs("h2",{className:"text-lg md:text-xl font-semibold text-gray-800",children:[" ",f.jsx("span",{className:"text-blue-600 font-bold",children:" "}),"."]}),f.jsxs("div",{className:"text-sm md:text-base text-gray-600",children:[": ",f.jsx("span",{className:"text-blue-600 font-bold text-xl",children:e}),""]}),f.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-blue-500 transition-all duration-300",style:{width:`${o/(e+o)*100}%`}})}),f.jsxs("div",{className:"text-gray-700 text-sm md:text-base leading-relaxed",children:["  ",f.jsx("span",{className:"text-green-600 font-bold text-xl",children:n<0?0:n}),",  ",f.jsx("span",{className:"text-green-600 font-bold text-xl",children:i}),"  . ",f.jsx("br",{}),"     ,      ."]}),f.jsxs("button",{className:"inline-flex items-center justify-center border-2 border-gray-400 text-gray-800 px-2 py-1 hover:bg-gray-100",onClick:S,children:[f.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),""]}),f.jsx("p",{className:"text-xs md:text-sm text-gray-500",children:"    ."})]})})}var I1,l4;function MG(){return l4||(l4=1,I1=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}),I1}var AG=MG();const LG=Ei(AG);var lp={exports:{}},D1,u4;function IG(){if(u4)return D1;u4=1;var e;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/return e=function(){var t={},n={};return t.on=function(r,i){var s={name:r,handler:i};return n[r]=n[r]||[],n[r].unshift(s),s},t.off=function(r){var i=n[r.name].indexOf(r);i!==-1&&n[r.name].splice(i,1)},t.trigger=function(r,i){var s=n[r],o;if(s)for(o=s.length;o--;)s[o].handler(i)},t},D1=e,D1}var up={exports:{}},F1,c4;function DG(){if(c4)return F1;c4=1,F1=function(i,s,o){var a=document.head||document.getElementsByTagName("head")[0],u=document.createElement("script");typeof s=="function"&&(o=s,s={}),s=s||{},o=o||function(){},u.type=s.type||"text/javascript",u.charset=s.charset||"utf8",u.async="async"in s?!!s.async:!0,u.src=i,s.attrs&&e(u,s.attrs),s.text&&(u.text=""+s.text);var c="onload"in u?t:n;c(u,o),u.onload||t(u,o),a.appendChild(u)};function e(r,i){for(var s in i)r.setAttribute(s,i[s])}function t(r,i){r.onload=function(){this.onerror=this.onload=null,i(null,r)},r.onerror=function(){this.onerror=this.onload=null,i(new Error("Failed to load "+this.src),r)}}function n(r,i){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,i(null,r))}}return F1}var d4;function FG(){return d4||(d4=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=DG(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default=function(s){var o=new Promise(function(a){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){a(window.YT);return}else{var u=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(u+"//www.youtube.com/iframe_api",function(h){h&&s.trigger("error",h)})}var c=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){c&&c(),a(window.YT)}});return o},e.exports=t.default}(up,up.exports)),up.exports}var cp={exports:{}},dp={exports:{}},hp={exports:{}},B1,h4;function BG(){if(h4)return B1;h4=1;var e=1e3,t=e*60,n=t*60,r=n*24,i=r*365.25;B1=function(c,h){h=h||{};var p=typeof c;if(p==="string"&&c.length>0)return s(c);if(p==="number"&&isNaN(c)===!1)return h.long?a(c):o(c);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))};function s(c){if(c=String(c),!(c.length>100)){var h=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(c);if(h){var p=parseFloat(h[1]),g=(h[2]||"ms").toLowerCase();switch(g){case"years":case"year":case"yrs":case"yr":case"y":return p*i;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function o(c){return c>=r?Math.round(c/r)+"d":c>=n?Math.round(c/n)+"h":c>=t?Math.round(c/t)+"m":c>=e?Math.round(c/e)+"s":c+"ms"}function a(c){return u(c,r,"day")||u(c,n,"hour")||u(c,t,"minute")||u(c,e,"second")||c+" ms"}function u(c,h,p){if(!(c<h))return c<h*1.5?Math.floor(c/h)+" "+p:Math.ceil(c/h)+" "+p+"s"}return B1}var f4;function zG(){return f4||(f4=1,function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=u,t.disable=o,t.enable=s,t.enabled=a,t.humanize=BG(),t.names=[],t.skips=[],t.formatters={};var n;function r(c){var h=0,p;for(p in c)h=(h<<5)-h+c.charCodeAt(p),h|=0;return t.colors[Math.abs(h)%t.colors.length]}function i(c){function h(){if(h.enabled){var p=h,g=+new Date,x=g-(n||g);p.diff=x,p.prev=n,p.curr=g,n=g;for(var w=new Array(arguments.length),S=0;S<w.length;S++)w[S]=arguments[S];w[0]=t.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");var k=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,function(R,A){if(R==="%%")return R;k++;var z=t.formatters[A];if(typeof z=="function"){var U=w[k];R=z.call(p,U),w.splice(k,1),k--}return R}),t.formatArgs.call(p,w);var E=h.log||t.log||console.log.bind(console);E.apply(p,w)}}return h.namespace=c,h.enabled=t.enabled(c),h.useColors=t.useColors(),h.color=r(c),typeof t.init=="function"&&t.init(h),h}function s(c){t.save(c),t.names=[],t.skips=[];for(var h=(typeof c=="string"?c:"").split(/[\s,]+/),p=h.length,g=0;g<p;g++)h[g]&&(c=h[g].replace(/\*/g,".*?"),c[0]==="-"?t.skips.push(new RegExp("^"+c.substr(1)+"$")):t.names.push(new RegExp("^"+c+"$")))}function o(){t.enable("")}function a(c){var h,p;for(h=0,p=t.skips.length;h<p;h++)if(t.skips[h].test(c))return!1;for(h=0,p=t.names.length;h<p;h++)if(t.names[h].test(c))return!0;return!1}function u(c){return c instanceof Error?c.stack||c.message:c}}(hp,hp.exports)),hp.exports}var p4;function $G(){return p4||(p4=1,function(e,t){var n={};t=e.exports=zG(),t.log=s,t.formatArgs=i,t.save=o,t.load=a,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:u(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(c){try{return JSON.stringify(c)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}};function i(c){var h=this.useColors;if(c[0]=(h?"%c":"")+this.namespace+(h?" %c":" ")+c[0]+(h?"%c ":" ")+"+"+t.humanize(this.diff),!!h){var p="color: "+this.color;c.splice(1,0,p,"color: inherit");var g=0,x=0;c[0].replace(/%[a-zA-Z%]/g,function(w){w!=="%%"&&(g++,w==="%c"&&(x=g))}),c.splice(x,0,p)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(c){try{c==null?t.storage.removeItem("debug"):t.storage.debug=c}catch{}}function a(){var c;try{c=t.storage.debug}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}t.enable(a());function u(){try{return window.localStorage}catch{}}}(dp,dp.exports)),dp.exports}var fp={exports:{}},m4;function UG(){return m4||(m4=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default}(fp,fp.exports)),fp.exports}var pp={exports:{}},g4;function HG(){return g4||(g4=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default}(pp,pp.exports)),pp.exports}var mp={exports:{}},gp={exports:{}},y4;function VG(){return y4||(y4=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default}(gp,gp.exports)),gp.exports}var v4;function QG(){return v4||(v4=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=VG(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default}(mp,mp.exports)),mp.exports}var x4;function WG(){return x4||(x4=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=$G(),r=h(n),i=UG(),s=h(i),o=HG(),a=h(o),u=QG(),c=h(u);function h(x){return x&&x.__esModule?x:{default:x}}var p=(0,r.default)("youtube-player"),g={};g.proxyEvents=function(x){var w={},S=function(I){var H="on"+I.slice(0,1).toUpperCase()+I.slice(1);w[H]=function(V){p('event "%s"',H,V),x.trigger(I,V)}},k=!0,E=!1,R=void 0;try{for(var A=a.default[Symbol.iterator](),z;!(k=(z=A.next()).done);k=!0){var U=z.value;S(U)}}catch(N){E=!0,R=N}finally{try{!k&&A.return&&A.return()}finally{if(E)throw R}}return w},g.promisifyPlayer=function(x){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,S={},k=function(H){w&&c.default[H]?S[H]=function(){for(var V=arguments.length,F=Array(V),le=0;le<V;le++)F[le]=arguments[le];return x.then(function(ue){var ae=c.default[H],q=ue.getPlayerState(),Q=ue[H].apply(ue,F);return ae.stateChangeRequired||Array.isArray(ae.acceptableStates)&&ae.acceptableStates.indexOf(q)===-1?new Promise(function(J){var te=function ne(){var me=ue.getPlayerState(),D=void 0;typeof ae.timeout=="number"&&(D=setTimeout(function(){ue.removeEventListener("onStateChange",ne),J()},ae.timeout)),Array.isArray(ae.acceptableStates)&&ae.acceptableStates.indexOf(me)!==-1&&(ue.removeEventListener("onStateChange",ne),clearTimeout(D),J())};ue.addEventListener("onStateChange",te)}).then(function(){return Q}):Q})}:S[H]=function(){for(var V=arguments.length,F=Array(V),le=0;le<V;le++)F[le]=arguments[le];return x.then(function(ue){return ue[H].apply(ue,F)})}},E=!0,R=!1,A=void 0;try{for(var z=s.default[Symbol.iterator](),U;!(E=(U=z.next()).done);E=!0){var N=U.value;k(N)}}catch(I){R=!0,A=I}finally{try{!E&&z.return&&z.return()}finally{if(R)throw A}}return S},t.default=g,e.exports=t.default}(cp,cp.exports)),cp.exports}var b4;function qG(){return b4||(b4=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},r=IG(),i=c(r),s=FG(),o=c(s),a=WG(),u=c(a);function c(p){return p&&p.__esModule?p:{default:p}}var h=void 0;t.default=function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,w=(0,i.default)();if(h||(h=(0,o.default)(w)),g.events)throw new Error("Event handlers cannot be overwritten.");if(typeof p=="string"&&!document.getElementById(p))throw new Error('Element "'+p+'" does not exist.');g.events=u.default.proxyEvents(w);var S=new Promise(function(E){if((typeof p>"u"?"undefined":n(p))==="object"&&p.playVideo instanceof Function){var R=p;E(R)}else h.then(function(A){var z=new A.Player(p,g);return w.on("ready",function(){E(z)}),null})}),k=u.default.promisifyPlayer(S,x);return k.on=w.on,k.off=w.off,k},e.exports=t.default}(lp,lp.exports)),lp.exports}var KG=qG();const GG=Ei(KG);var YG=Object.defineProperty,XG=Object.defineProperties,JG=Object.getOwnPropertyDescriptors,w4=Object.getOwnPropertySymbols,ZG=Object.prototype.hasOwnProperty,eY=Object.prototype.propertyIsEnumerable,_4=(e,t,n)=>t in e?YG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tv=(e,t)=>{for(var n in t||(t={}))ZG.call(t,n)&&_4(e,n,t[n]);if(w4)for(var n of w4(t))eY.call(t,n)&&_4(e,n,t[n]);return e},nv=(e,t)=>XG(e,JG(t)),tY=(e,t,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(c){i(c)}},o=u=>{try{a(n.throw(u))}catch(c){i(c)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(e,t)).next())});function nY(e,t){var n,r;if(e.videoId!==t.videoId)return!0;const i=((n=e.opts)==null?void 0:n.playerVars)||{},s=((r=t.opts)==null?void 0:r.playerVars)||{};return i.start!==s.start||i.end!==s.end}function S4(e={}){return nv(tv({},e),{height:0,width:0,playerVars:nv(tv({},e.playerVars),{autoplay:0,start:0,end:0})})}function rY(e,t){return e.videoId!==t.videoId||!LG(S4(e.opts),S4(t.opts))}function iY(e,t){var n,r,i,s;return e.id!==t.id||e.className!==t.className||((n=e.opts)==null?void 0:n.width)!==((r=t.opts)==null?void 0:r.width)||((i=e.opts)==null?void 0:i.height)!==((s=t.opts)==null?void 0:s.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title}var sY={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},oY={videoId:Pt.string,id:Pt.string,className:Pt.string,iframeClassName:Pt.string,style:Pt.object,title:Pt.string,loading:Pt.oneOf(["lazy","eager"]),opts:Pt.objectOf(Pt.any),onReady:Pt.func,onError:Pt.func,onPlay:Pt.func,onPause:Pt.func,onEnd:Pt.func,onStateChange:Pt.func,onPlaybackRateChange:Pt.func,onPlaybackQualityChange:Pt.func},Pp=class extends rn.Component{constructor(e){super(e),this.destroyPlayerPromise=void 0,this.onPlayerReady=t=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,t)},this.onPlayerError=t=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,t)},this.onPlayerStateChange=t=>{var n,r,i,s,o,a,u,c;switch((r=(n=this.props).onStateChange)==null||r.call(n,t),t.data){case Pp.PlayerState.ENDED:(s=(i=this.props).onEnd)==null||s.call(i,t);break;case Pp.PlayerState.PLAYING:(a=(o=this.props).onPlay)==null||a.call(o,t);break;case Pp.PlayerState.PAUSED:(c=(u=this.props).onPause)==null||c.call(u,t);break}},this.onPlayerPlaybackRateChange=t=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,t)},this.onPlayerPlaybackQualityChange=t=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,t)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const t=nv(tv({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=GG(this.container,t),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var t;(t=this.internalPlayer)==null||t.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var t,n,r,i;if(typeof this.props.videoId>"u"||this.props.videoId===null){(t=this.internalPlayer)==null||t.stopVideo();return}let s=!1;const o={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(s=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(o.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(o.endSeconds=this.props.opts.playerVars.end)),s){(r=this.internalPlayer)==null||r.loadVideoById(o);return}(i=this.internalPlayer)==null||i.cueVideoById(o)},this.refContainer=t=>{this.container=t},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(e){return tY(this,null,function*(){iY(e,this.props)&&this.updatePlayer(),rY(e,this.props)&&(yield this.resetPlayer()),nY(e,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return rn.createElement("div",{className:this.props.className,style:this.props.style},rn.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},Zm=Pp;Zm.propTypes=oY;Zm.defaultProps=sY;Zm.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var aY=Zm;const z1="visitedTutorial",am={_visited:void 0,get(){if(this._visited===void 0&&(this._visited=localStorage.getItem(z1)),!this._visited)return!0;const e=Date.now(),t=new Date(this._visited).getTime();return(e-t)/(1e3*60*60*24)>=7},set(){const e=new Date().toISOString();this._visited=e,localStorage.setItem(z1,e)},reset(){this._visited=null,localStorage.removeItem(z1)}},C4=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M6 9L12 15L18 9",stroke:"#354052",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),$1=[{id:1,videoId:"BTNgos01s1o",title:"1:   "},{id:2,videoId:"yYq-sXZmS9I",title:"2:   "},{id:3,videoId:"mEi-n2kEs94",title:"3:  "},{id:4,videoId:"xmD5YuZtJv4",title:"4:    "}];function lY(){const[e,t]=T.useState(0),[n,r]=T.useState(!1),i=Yn(S=>S.openModal),s=Yn(S=>S.closeModal),a=Pi()?{width:"250",height:"141"}:{width:"600",height:"338"},u=am.get();u||i("wish");const c=()=>{t(S=>S===0?$1.length-1:S-1)},h=()=>{t(S=>S===$1.length-1?0:S+1)},p=()=>{n&&(am.set(),r(!0))},g=$1[e],x=()=>{s()},w=()=>{p(),s(),i("wish")};return f.jsx(Nn,{title:" ",onClose:x,isOpen:u,children:f.jsxs(Nn.Content,{children:[f.jsxs(Oe,{className:"w-full",direction:"flex-col",children:[f.jsx(Un,{children:"        ."}),f.jsx("div",{className:"mx-auto",style:{width:a.width+"px",height:a.height+"px"},children:f.jsx(aY,{videoId:g.videoId,opts:{width:a.width,height:a.height,playerVars:{autoplay:1,mute:1,playlist:g.videoId}},onEnd:h})})]}),f.jsxs("div",{className:"mt-4 flex flex-col justify-center items-center gap-2",children:[f.jsxs(Oe,{justify:"justify-center",align:"items-center",className:"gap-4",children:[f.jsx(jt,{variant:"text",size:"medium","aria-label":" ",onClick:c,children:e!==0&&f.jsx(C4,{className:"w-5 h-5 transform rotate-90"})}),f.jsx(Lt,{level:3,children:g.title}),f.jsx(jt,{variant:"text",size:"medium","aria-label":" ",onClick:h,children:e<3&&f.jsx(C4,{className:"w-5 h-5 transform -rotate-90"})})]}),f.jsx(Un,{children:"     ,   ,         ."}),f.jsxs(Yt.Modal.ButtonContainer,{className:"mt-4",children:[f.jsx(mm,{label:"   ",checked:n,onChange:()=>r(!n)}),f.jsx(jt,{variant:"primary",size:"medium",onClick:w,children:" "})]})]})]})})}function b8(e){if(!e)return"-";const t=e.split("/");return t[0]=Number.parseFloat(t[0]).toFixed(1),t.join("/")}function uY(e){return e===-1?"":e}const cY=[{header:"",cell:(e,t)=>t+1},{header:"",cell:e=>f.jsx(hY,{subjectId:e.subjectId})},{header:"",cell:e=>e.subjectCode},{header:"",cell:e=>e.classCode},{header:"",cell:e=>f.jsx("div",{className:"text-left",children:e.departmentName})},{header:"",cell:e=>f.jsx("div",{className:"text-left",children:e.subjectName})},{header:"",cell:()=>f.jsx(Yt.Button,{size:"sm",variant:"dark",children:""})},{header:"",cell:e=>e.language},{header:"//",cell:e=>b8(e.tm_num)},{header:"",cell:e=>e.subjectType},{header:"",cell:e=>uY(e.semester_at)},{header:"",cell:e=>e.lesn_time},{header:"",cell:()=>f.jsx(Yt.Button,{size:"sm",variant:"dark",children:""})}],dY=()=>{const e=di(r=>r.currentSimulation),t=Yn(r=>r.type),n=e.simulationStatus==="progress"&&t!=="waiting"?e.nonRegisteredSubjects:[];return f.jsx(Yt.DataTable,{columns:cY,data:n,keyInfo:"subjectId"})},hY=({subjectId:e})=>{const t=Yn(s=>s.openModal),n=Am(s=>s.setCurrentSubjectId),{data:r}=Ll(),i=s=>{fo({eventType:Gn.APPLY,subjectId:s},r).then(o=>{"errMsg"in o&&alert(o.errMsg)}).catch(o=>{console.error(" :",o)}),n(s),t("captcha")};return f.jsx(Yt.Button,{size:"sm",onClick:()=>i(e),children:""})},fY=[{header:"",cell:(e,t)=>t+1},{header:"",cell:()=>f.jsx(Yt.Button,{size:"sm",children:""})},{header:"",cell:e=>e.subjectCode},{header:"",cell:e=>e.classCode},{header:"",cell:e=>f.jsx("div",{className:"text-left",children:e.departmentName})},{header:"",cell:e=>f.jsx("div",{className:"text-left",children:e.subjectName})},{header:"",cell:()=>f.jsx(Yt.Button,{size:"sm",variant:"dark",children:""})},{header:"",cell:e=>e.language},{header:"//",cell:e=>b8(e.tm_num)},{header:"",cell:e=>e.subjectType},{header:"",cell:()=>"-"},{header:"",cell:e=>e.lesn_time},{header:"",cell:()=>f.jsx(Yt.Button,{size:"sm",variant:"dark",children:""})}],pY=()=>{const e=di(r=>r.currentSimulation),t=Yn(r=>r.type),n=e.simulationStatus==="progress"&&t!=="waiting"?e.registeredSubjects:[];return f.jsx(Yt.DataTable,{columns:fY,data:n,keyInfo:"subjectId"})};function Bx(){const e=di(o=>o.setCurrentSimulation),t=di(o=>o.currentSimulation),n=Yn(o=>o.openModal),{data:r}=Ll(),i=(o,a,u)=>{const c=o.map(h=>ev(r,h.subjectId)).filter(h=>h!==void 0);e({simulationId:u,[a]:c}),t.simulationStatus==="progress"&&n("waiting")};return{reloadSimulationStatus:()=>{gD().then(o=>{!o||o.simulationId===-1||(e({simulationId:o.simulationId}),o?.nonRegisteredSubjects&&i(o.nonRegisteredSubjects,"nonRegisteredSubjects",o.simulationId),o?.registeredSubjects&&i(o.registeredSubjects,"registeredSubjects",o.simulationId))}).catch(o=>{console.log(o)})}}}const mY=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M9.5 16C7.68333 16 6.146 15.3707 4.888 14.112C3.63 12.8533 3.00067 11.316 3 9.5C2.99933 7.684 3.62867 6.14667 4.888 4.888C6.14733 3.62933 7.68467 3 9.5 3C11.3153 3 12.853 3.62933 14.113 4.888C15.373 6.14667 16.002 7.684 16 9.5C16 10.2333 15.8833 10.925 15.65 11.575C15.4167 12.225 15.1 12.8 14.7 13.3L20.3 18.9C20.4833 19.0833 20.575 19.3167 20.575 19.6C20.575 19.8833 20.4833 20.1167 20.3 20.3C20.1167 20.4833 19.8833 20.575 19.6 20.575C19.3167 20.575 19.0833 20.4833 18.9 20.3L13.3 14.7C12.8 15.1 12.225 15.4167 11.575 15.65C10.925 15.8833 10.2333 16 9.5 16ZM9.5 14C10.75 14 11.8127 13.5627 12.688 12.688C13.5633 11.8133 14.0007 10.7507 14 9.5C13.9993 8.24933 13.562 7.187 12.688 6.313C11.814 5.439 10.7513 5.00133 9.5 5C8.24867 4.99867 7.18633 5.43633 6.313 6.313C5.43967 7.18967 5.002 8.252 5 9.5C4.998 10.748 5.43567 11.8107 6.313 12.688C7.19033 13.5653 8.25267 14.0027 9.5 14Z",fill:"white"}));function gY(){const{setCurrentSimulation:e,currentSimulation:t,resetSimulation:n}=di(),r=Yn(w=>w.openModal),i=gc(Gd),{reloadSimulationStatus:s}=Bx(),{data:o}=Ll(),u=(i&&"simulationId"in i?i.simulationId:-1)!==-1,c=i&&"userStatus"in i?i.userStatus?.departmentName:-1,h=()=>{e({simulationStatus:"before"}),r("tutorial"),n()},p=()=>{Gd().then(w=>{w&&"simulationId"in w&&w.simulationId!==-1&&s()})},g=async()=>{p(),fo({eventType:Gn.SEARCH},o).then(w=>{if("errMsg"in w)alert("  .    !");else{const S=w.elapsed_time/1e3;e({simulationStatus:"progress",clickedTime:S>10?5:S}),r("waiting")}}).catch(w=>{console.error(" :",w)})},x=async()=>{try{await Gu(),e({simulationStatus:"finish"}),r("result")}catch(w){console.error(w),alert("  .")}};return f.jsx("section",{className:"border p-2 text-xs",children:f.jsxs("div",{className:"flex flex-col gap-1 sm:gap-2",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 sm:gap-8",children:[f.jsx("div",{className:"flex justify-end items-center sm:justify-start gap-2",children:f.jsx(Iu,{id:"organization-type",label:" ",className:"w-48",essential:!0,disabled:!0,children:f.jsx("option",{})})}),f.jsx("div",{className:"flex justify-end items-center sm:justify-start gap-2",children:f.jsx(Iu,{id:"semester-type",label:"/",className:"w-48",essential:!0,disabled:!0,children:f.jsx("option",{})})})]}),f.jsx("div",{className:"flex flex-col justify-between sm:flex-row gap-1 sm:gap-8",children:f.jsxs("div",{className:"flex flex-col sm:items-end sm:flex-row gap-2 ",children:[f.jsx("div",{className:"flex items-center justify-end sm:justify-start gap-2",children:f.jsx(Iu,{id:"my-major-department",label:"()",className:"w-48",disabled:!0,children:f.jsx("option",{children:""})})}),f.jsx("div",{className:"flex items-center justify-end sm:justify-start gap-2",children:f.jsx(Iu,{id:"my-sub-department",label:"()",className:"w-48",disabled:!0,children:f.jsx("option",{children:""})})})]})}),f.jsxs("div",{className:"flex flex-col sm:flex-col md:flex-row justify-between gap-2",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[f.jsx("div",{className:"flex justify-end items-center sm:justify-start gap-2",children:f.jsx(Iu,{id:"search-division",label:"",className:"w-48",essential:!0,disabled:!0,children:f.jsx("option",{children:""})})}),f.jsxs("div",{className:"flex justify-end items-center sm:justify-start gap-1",children:[f.jsx("label",{htmlFor:"search-major",className:"font-bold",children:""}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-1",children:[f.jsx(Yt.Select,{id:"search-major",className:"w-48 sm:w-30",essential:!0,disabled:!0,children:f.jsx("option",{children:""})}),f.jsx(Iu,{id:"search-department",label:" ",className:"w-40 lg:w-90",value:c,disabled:!0,hideLabel:!0})]})]})]}),f.jsxs("div",{className:"flex flex-row justify-between gap-2",children:[f.jsx("div",{className:"flex flex-row ",children:u?f.jsx(Yt.Button,{variant:"cancel",onClick:x,children:" "}):f.jsx(Yt.Button,{variant:"primary",onClick:h,children:""})}),f.jsxs("button",{onClick:g,className:`relative px-3 py-2 rounded flex flex-row items-center gap-1 text-white ${u?"bg-gradient-animation cursor-pointer":"bg-gray-400 cursor-not-allowed"}`,disabled:!u,children:[t.simulationStatus==="start"&&f.jsx(SS,{className:"absolute -top-20 right-8 w-15 h-15 animate-bounce rotate-170"}),f.jsx(mY,{className:"w-5 h-4"}),""]})]})]})]})})}function Iu({label:e,hideLabel:t=!1,children:n,id:r,className:i,...s}){const o=r||"muted-select-"+e;return f.jsxs(f.Fragment,{children:[f.jsx("label",{htmlFor:o,className:t?"hidden":"font-bold",children:e}),f.jsx(Yt.Select,{id:o,...s,className:i,children:n})]})}function yY(){const[e,t]=T.useState("00:00"),n=Yn(u=>u.openModal),r=di(u=>u.currentSimulation),i=di(u=>u.setCurrentSimulation),s=T.useRef(null),o=u=>{const c=Math.floor(u%3600/60),h=u%60;t(`${c.toString().padStart(2,"0")}:${h.toString().padStart(2,"0")}`)},a=async()=>{try{await Gu(),i({simulationStatus:"finish"}),n("result")}catch(u){console.error(u),alert("   .")}};return T.useEffect(()=>((async()=>{if(r.simulationStatus==="finish"){t("00:00");return}try{const c=await Lm();if(!(c?.started_at&&c.simulation_run_id===r.simulationId))return;const p=c.started_at;s.current=setInterval(()=>{const g=Date.now(),x=Math.floor((g-p)/1e3);if(x>=ex){clearInterval(s.current),alert("5    ."),a().then();return}o(x),r.simulationStatus==="finish"&&(clearInterval(s.current),t("00:00"))},1e3)}catch(c){console.error(c)}})().then(),()=>{s.current&&(clearInterval(s.current),s.current=null)}),[r.simulationStatus,r.simulationId]),f.jsx("p",{className:"font-semibold text-xl text-blue-500",children:e})}function vY(){const e=Yn(u=>u.openModal),t=di(u=>u.currentSimulation),n=di(u=>u.setCurrentSimulation),{reloadSimulationStatus:r}=Bx(),i=am.get(),s=async()=>{try{await Gu(),n({simulationStatus:"finish"}),alert("5    ."),e("result")}catch(u){console.error(u),alert("   .")}},o=()=>{Gd().then(u=>{if(u&&"simulationId"in u&&u.simulationId!==-1){const c=u.startedAt;if(!c)return;const h=Date.now();Math.floor((h-c)/1e3)>ex?s().then():r()}else t.simulationStatus==="before"&&e("tutorial")})};T.useEffect(()=>{o()},[t.simulationStatus]);const a=t.registeredSubjects.reduce((u,c)=>{const h=c.tm_num.split("/")[0];return u+Number.parseInt(h,10)},0);return f.jsxs(f.Fragment,{children:[f.jsx(gr,{children:f.jsx("title",{children:"ALLCLL |  -   "})}),f.jsx(xY,{}),f.jsxs("div",{className:"flex justify-between gap-5",children:[f.jsxs("div",{className:"flex gap-5",children:[f.jsx("h1",{className:"font-bold text-lg",children:" "}),f.jsx(yY,{})]}),!i&&f.jsx("button",{className:"text-gray-600 hover:text-blue-500 cursor-pointer",onClick:am.reset,children:" "})]}),f.jsx(gY,{}),f.jsxs("section",{className:"mt-4 ",children:[f.jsx("div",{className:"mb-2",children:f.jsx(Yt.SectionHeader,{children:"  "})}),f.jsx(dY,{})]}),f.jsxs("section",{className:"mt-4",children:[f.jsxs("div",{className:"w-full flex flex-col sm:flex-row sm:items-center justify-start gap-2 mb-2",children:[f.jsx(Yt.SectionHeader,{children:"  "}),f.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[f.jsx(Yt.Button,{size:"sm",onClick:r,children:""}),f.jsxs("span",{className:"text-xs font-bold text-black",children:["  : 18 /",f.jsxs("span",{className:"text-blue-500",children:[" : ",t.registeredSubjects.length," /  : ",a]})]})]})]}),f.jsx(pY,{})]})]})}function xY(){const e=di(s=>s.currentSimulation),{type:t,closeModal:n}=Yn(),{reloadSimulationStatus:r}=Bx(),{data:i=[]}=WS();switch(t){case"tutorial":return f.jsx(lY,{});case"waiting":return f.jsx(RG,{});case"captcha":return f.jsx(lG,{});case"wish":return f.jsx(NG,{timetables:i,setIsModalOpen:()=>n()});case"simulation":return f.jsx(hG,{reloadSimulationStatus:r});case"result":return f.jsx(yG,{simulationId:e.simulationId});default:return null}}_o.register(ch,dh,uh,Yv,uc,J6,dc,cc);function bY({result:e}){const[t,n]=T.useState(!0),r=t?e.simulations.filter(g=>g.totalTime<=80&&g.searchBtnTime>0):e.simulations,i=r.map((g,x)=>` ${x+1}`),s=r.map(g=>g.searchBtnTime),o=r.map(g=>g.captchaTime-g.searchBtnTime),a=r.map(g=>g.subjectTime-g.captchaTime),u=r.map(g=>g.totalTime-g.subjectTime),c=r&&r.length<50?16:8,h={labels:i,datasets:[{type:"bar",label:"  ",data:s,barThickness:c,backgroundColor:"rgba(75, 192, 192, 0.7)",stack:"Stack 0"},{type:"bar",label:"   ",data:o,barThickness:c,backgroundColor:"rgba(255, 99, 132, 0.7)",stack:"Stack 0"},{type:"bar",label:"  ",data:a,barThickness:c,backgroundColor:"rgba(54, 162, 235, 0.7)",stack:"Stack 0"},{type:"bar",label:" ",data:u,barThickness:c,backgroundColor:"rgba(153, 102, 255, 0.7)",stack:"Stack 0"},{type:"line",label:" ",data:s,borderColor:"rgba(75, 192, 192, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(75, 192, 192, 1)",fill:!1,tension:.1},{type:"line",label:" ",data:o,borderColor:"rgba(255, 99, 132, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(255, 99, 132, 1)",fill:!1,tension:.1},{type:"line",label:"  ",data:a,borderColor:"rgba(54, 162, 235, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(54, 162, 235, 1)",fill:!1,tension:.1},{type:"line",label:"  ",data:u,borderColor:"rgba(153, 102, 255, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(153, 102, 255, 1)",fill:!1,tension:.1}]},p={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(g){const x=g.dataset.label||"",w=g.parsed.y;return`${x}: ${w.toFixed(2)}`}}}},scales:{x:{title:{display:!0,text:""}},y:{stacked:!0,title:{display:!0,text:" ()"},ticks:{callback:function(g){return(wl(g)?g.toFixed(1):g)+""}}}}};return f.jsxs("div",{className:"w-full h-96 p-4 box-border",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("div",{}),f.jsxs("div",{className:"text-lg font-semibold",children:[f.jsx("input",{id:"normal-data",type:"checkbox",className:"cursor-pointer",onChange:g=>n(g.target.checked),checked:t}),f.jsx("label",{htmlFor:"normal-data",className:"text-sm pl-2 cursor-pointer",children:" "})]})]}),f.jsx("div",{className:"h-full pb-6 overflow-x-auto",children:f.jsx(sC,{type:"bar",data:h,options:p})})]})}function wY({result:e}){const{data:t}=So(),n=T.useMemo(()=>_Y(t,e.subjects),[t,e]);return f.jsxs("table",{className:"min-w-full text-sm text-center text-nowrap",children:[f.jsx("thead",{className:"bg-gray-100 text-gray-600",children:f.jsxs("tr",{children:[f.jsx("th",{className:"py-2 px-2",children:""}),f.jsx("th",{className:"py-2 px-2",children:""}),f.jsx("th",{className:"py-2 px-2",children:""}),f.jsx("th",{className:"py-2 px-2",children:""}),f.jsx("th",{className:"py-2 px-2",children:""}),f.jsx("th",{className:"py-2 px-2",children:"/"})]})}),f.jsx("tbody",{className:"text-gray-700",children:n.map(r=>f.jsxs("tr",{className:"border-t border-gray-200",children:[f.jsx("td",{className:"py-2 px-1",children:r.subjectCode+"-"+r.classCode}),f.jsx("td",{className:"py-2 px-1",children:r.subjectName}),f.jsx("td",{className:"py-2 px-1",children:r.professorName}),f.jsx("td",{className:"py-2 px-1",children:r.avgIndex.toFixed(2)}),f.jsx("td",{className:"py-2 px-1",children:r.avgCompletionTime.toFixed(2)+" sec"}),f.jsxs("td",{className:"py-2 px-2",children:[f.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-green-500",children:r.successCount}),"/",f.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-red-500",children:r.failedCount}),"/",f.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-gray-500",children:r.doubledCount}),"/",f.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-black",children:r.totalCount})]})]},r.subjectId))})]})}function _Y(e,t){if(!t||!e)return[];const n=r=>e.find(i=>i.subjectId===r);return t.map(r=>{const i=n(r.subjectId);return{...r,subjectName:i?.subjectName||"",departmentName:i?.departmentName||"",departmentCode:i?.departmentCode||"",subjectCode:i?.subjectCode||"",classCode:i?.classCode||"",professorName:i?.professorName||null}})}function SY(){const e=gc(async()=>{try{return await g8()}catch(r){return{error:r.message}}});if(e&&"error"in e)return f.jsxs("div",{className:"flex flex-col w-full items-center justify-center h-120 gap-3",children:[f.jsx(SC,{className:"h-12 w-12"}),f.jsx("div",{className:"text-center text-gray-500",children:e.error}),f.jsx(Or,{to:"/simulation",className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 cursor-pointer",children:"  "})]});const{simulations:t}=e||{simulations:[]},n=e?{user_ability:{searchBtnSpeed:t.reduce((r,i)=>r+i.searchBtnTime,0)/t.length||0,totalSpeed:t.reduce((r,i)=>r+i.totalTime/i.subjectCount,0)/t.length||0,accuracy:t.reduce((r,i)=>r+i.accuracy,0)/t.length||0,captchaSpeed:t.reduce((r,i)=>r+(i.captchaTime-i.searchBtnTime)/i.subjectCount,0)/t.length||0}}:void 0;return!n||!e?f.jsxs("div",{className:"flex flex-col w-full items-center justify-center h-120",children:[f.jsx("div",{className:"animate-spin h-16 w-16 mx-auto my-10",children:f.jsxs("svg",{className:"h-16 w-16 fill-transparent",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25 stroke-blue-500",cx:"12",cy:"12",r:"10",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75 fill-blue-500",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2.93 6.243A8.001 8.001 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3.93-1.695z"})]})}),f.jsxs("div",{className:"text-center text-gray-500 my-10",children:["    ... ",f.jsx("br",{})," "]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex gap-3 flex-wrap",children:[f.jsx("div",{className:"relative flex-1 min-w-[240px]",children:f.jsx(Zv,{result:n})}),f.jsx("div",{className:"flex-1 min-w-[240px] overflow-x-auto",children:f.jsx(wY,{result:e})})]}),f.jsx("div",{children:f.jsx(bY,{result:e})})]})}const CY=e=>T.createElement("svg",{width:26,height:26,viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M5.54964 1.99315C5.50209 1.17248 6.41035 0.64822 7.09733 1.0996L20.3806 9.83538C21.12 10.3219 20.9092 11.4586 20.0444 11.6476L15.7086 12.5948L21.1016 21.9358C21.3775 22.4141 21.2138 23.0258 20.7356 23.3019L17.8077 24.9923C17.3295 25.2684 16.7179 25.1043 16.4417 24.6263L11.0764 15.3334L8.21097 18.4797C7.61486 19.134 6.52521 18.7482 6.47343 17.8647L5.54964 1.99315Z",fill:"#0756FF"}));function kY(){return f.jsxs(f.Fragment,{children:[f.jsx("h1",{className:"text-2xl font-bold mb-2",children:"   "}),f.jsx("p",{className:"text-gray-500 mb-4",children:"    ."}),f.jsx(jY,{})]})}function jY(){const e=gc(pG),t=e?e.snapshots:[],n=e===void 0,r=e===null;return n?f.jsx("div",{className:"flex justify-center items-center h-64",children:f.jsx("span",{className:"text-gray-500",children:" ..."})}):r?f.jsx("div",{className:"flex justify-center items-center h-64",children:f.jsx("span",{className:"text-red-500",children:" "})}):t.length?t.map(i=>f.jsxs(Or,{to:`/simulation/logs/${i.simulation_run_id}`,className:"flex items-center justify-between bg-white p-3 rounded-md text-sm shadow-md shadow-gray-300 mb-2 hover:bg-gray-100",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("p",{className:"hidden",children:"id"}),f.jsx("span",{className:"font-bold",children:i.simulation_run_id}),f.jsx("p",{className:"hidden",children:""}),f.jsx("span",{children:i.department_name?i.department_name.split(" ")[i.department_name.split(" ").length-1]:"  "})]}),f.jsxs("div",{className:"flex items-center text-center",children:[f.jsxs("div",{className:"",children:[f.jsx("p",{className:"text-xs",children:" "}),f.jsxs("span",{className:"text-sm font-bold",children:[i.accuracy,"%"]})]}),f.jsxs("div",{className:"flex items-center justify-end gap-1 w-20",children:[f.jsx("p",{className:"hidden",children:""}),f.jsx(CY,{className:"w-4 h-4"}),f.jsx("span",{className:"font-bold",children:i.score.toFixed(3)})]})]})]},"simulation-log-"+i.simulation_run_id)):f.jsx("div",{className:"flex justify-center items-center",children:f.jsx("span",{className:"text-gray-500",children:" "})})}function EY(){return f.jsxs(f.Fragment,{children:[f.jsx(gr,{children:f.jsx("title",{children:"ALLCLL |  -  "})}),f.jsxs("section",{className:"max-w-7xl mx-auto",children:[f.jsx("h1",{className:"text-2xl font-bold mb-2",children:" "}),f.jsx("p",{className:"text-gray-500 mb-4",children:"   ,    ."}),f.jsx("div",{className:"bg-white p-3 rounded-md text-sm shadow-md shadow-gray-300",children:f.jsx(SY,{})})]}),f.jsx("section",{className:"max-w-3xl mx-auto mt-12",children:f.jsx(kY,{})})]})}const eh=32,k4=200;function TY({result:e}){const t=IY(e),n=(e.ended_at-e.started_at)/1e3,r=Array.from({length:Math.floor(n)+5},(i,s)=>s+1);return f.jsxs("div",{className:"relative",children:[f.jsxs("div",{className:"relative overflow-x-auto overflow-y-hidden",children:[f.jsx("div",{className:"absolute top-0 flex h-full",style:{left:`${k4}px`},children:r.map(i=>f.jsx("div",{className:"border-r border-gray-200 relative",style:{width:`${eh}px`},children:f.jsx("span",{className:"absolute text-xs text-gray-400 bg-white bottom-0 right-0 translate-x-1/2",children:i})},i))}),t.map((i,s)=>f.jsxs("div",{className:"flex items-center",style:{width:`${eh*r.length}px`},children:[f.jsxs("div",{className:"py-2 text-sm md:sticky left-0 right-0 z-10 bg-white",style:{width:`${k4}px`},children:[f.jsx("div",{className:`font-semibold ${AY(i.color)}`,children:i.name}),f.jsx("span",{className:`text-xs ${MY(i.color)}`,children:i.code})]}),f.jsx("div",{className:"flex-1 relative h-8",children:f.jsx(PY,{timelines:i.timelines})})]},"timeline-row-"+s))]}),f.jsx("div",{className:"pointer-events-none absolute inset-y-4 left-0 md:left-[200px] w-3 bg-gradient-to-r from-white to-transparent"}),f.jsx("div",{className:"pointer-events-none absolute inset-y-4 right-0 w-3 bg-gradient-to-l from-white to-transparent"})]})}function PY({timelines:e}){return e.map((t,n)=>{const r=t.start*eh-12,i=t.duration*eh+24;return f.jsx("div",{className:`absolute top-1 h-6 rounded-full px-3 ${OY(t.color)}`,style:{left:`${r}px`,width:`${i}px`},children:t.events.map((s,o)=>f.jsx(NY,{event:s,startAt:t.start,color:t.color,isTop:t.isTop},"timeline-dot-"+o))},"timeline-bar-"+n)})}function NY({event:e,startAt:t,color:n,isTop:r}){const i=(e.start-t)*eh+6,s=LY(e.event),o=e.start,a=r?"top-4":"bottom-4";return f.jsxs("div",{className:"absolute top-1.5",style:{left:`${i}px`},children:[f.jsx("div",{className:`w-3 h-3 peer bg-white border-2 rounded-full hover:shadow cursor-pointer ${RY(n)}`}),f.jsxs("div",{className:`absolute z-10 ${a} left-1/2 -translate-x-1/2 px-2 py-1 rounded bg-black text-white text-nowrap text-xs text-center opacity-0 peer-hover:opacity-100 transition-opacity duration-200`,children:[s,f.jsx("br",{}),o.toFixed(2)," sec"]})]})}function OY(e){switch(e){case"green":return"bg-green-100 border-green-500 text-green-700";case"red":return"bg-red-100 border-red-500 text-red-700";case"orange":return"bg-orange-100 border-orange-500 text-orange-700";case"yellow":return"bg-yellow-100 border-yellow-500 text-yellow-700";default:return"bg-gray-100 border-gray-500 text-gray-700"}}function RY(e){switch(e){case"green":return"border-green-500 text-green-500 shadow-green-500";case"red":return"border-red-500 text-red-500 shadow-red-500";case"orange":return"border-orange-500 text-orange-500 shadow-orange-500";case"yellow":return"border-yellow-500 text-yellow-500 shadow-yellow-500";default:return"border-gray-500 text-gray-500 shadow-gray-500"}}function MY(e){switch(e){case"green":return"text-green-500";case"red":return"text-red-500";case"orange":return"text-orange-500";case"yellow":return"text-yellow-500";default:return"text-gray-500"}}function AY(e){switch(e){case"green":return"text-green-600";case"red":return"text-red-600";case"orange":return"text-orange-600";case"yellow":return"text-yellow-600";default:return"text-gray-600"}}function LY(e){switch(e){case Gn.SEARCH:return"  ";case Gn.APPLY:return"  ";case Gn.CAPTCHA:return"   ";case Gn.SUBJECT_SUBMIT:return"   ";case Gn.SKIP_REFRESH:return" ";case Gn.REFRESH:return"  ";case Gn.CANCEL_SUBMIT:return"  "}}function IY(e){const{timeline:t,started_at:n,subject_results:r}=e;return r.map(i=>({name:i.subjectInfo?.subjectName,code:i.subjectInfo?.subjectCode+"-"+i.subjectInfo?.classCode,color:Sy(i.status),timelines:t.filter(s=>s.subject_id===i.subject_id).map(s=>({color:Sy(s.status),start:(s.started_at-n)/1e3,duration:(s.ended_at-s.started_at)/1e3,isTop:r[0].subject_id===s.subject_id,events:s.events.reduce((o,a,u)=>[...o,{event:a.event,duration:u==0?0:(a.timestamp-s.events[u-1].timestamp)/1e3,start:(a.timestamp-n)/1e3}],[])}))}))}function DY({result:e}){const{subject_results:t,started_at:n}=e;return f.jsxs("table",{className:"min-w-full text-sm text-center text-nowrap",children:[f.jsx("thead",{className:"bg-gray-100 text-gray-600",children:f.jsxs("tr",{children:[f.jsx("th",{className:"py-2 px-2",children:""}),f.jsx("th",{className:"py-2 px-2",children:""}),f.jsx("th",{className:"py-2 px-2",children:""}),f.jsx("th",{className:"py-2 px-2",children:""}),f.jsx("th",{className:"py-2 px-2",children:""}),f.jsx("th",{className:"py-2 px-2",children:"/"})]})}),f.jsx("tbody",{className:"text-gray-700",children:t.map(r=>f.jsxs("tr",{className:"border-t border-gray-200",children:[f.jsx("td",{className:"py-2 px-1",children:r.subjectInfo?.subjectCode+"-"+r.subjectInfo?.classCode}),f.jsx("td",{className:"py-2 px-1",children:r.subjectInfo?.subjectName}),f.jsx("td",{className:"py-2 px-1",children:r.subjectInfo?.professorName}),f.jsx("td",{className:"py-2 px-1",children:r.selected_index}),f.jsx("td",{className:"py-2 px-1",children:((r.ended_at-n)/1e3).toFixed(2)+" sec"}),f.jsx("td",{className:"py-2 px-2",children:f.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${ED(r.status)}`,children:r.status===Gt.SUCCESS?"":""})})]},"subject-detail-row-"+r.subject_id))})]})}function FY(){const{runId:e}=K4(),{data:t}=Ll(),n=gc(()=>mG(Number(e))),r=T.useMemo(()=>BY(t,n),[t,n]);return f.jsxs(f.Fragment,{children:[f.jsx(gr,{children:f.jsx("title",{children:"ALLCLL |  -   "})}),f.jsx("h1",{className:"text-2xl font-bold mb-6",children:"   "}),f.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"relative bg-white p-6 rounded-2xl shadow-sm",children:[f.jsx("h2",{className:"text-lg font-semibold mb-4",children:"  "}),r?f.jsx(Zv,{result:r}):f.jsx("div",{className:"text-center text-gray-500",children:"  ..."})]}),f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm overflow-x-auto",children:[f.jsx("h2",{className:"text-lg font-semibold mb-4 min-w-[240px] overflow-x-auto",children:"  "}),r?f.jsx(DY,{result:r}):f.jsx("div",{className:"text-center text-gray-500",children:"  ..."})]})]}),f.jsxs("section",{className:"bg-white p-6 rounded-2xl shadow-sm",children:[f.jsx("div",{className:"flex items-start justify-between mb-4",children:f.jsx("h2",{className:"text-lg font-semibold mb-4",children:"     TimeLine"})}),r?f.jsx(TY,{result:r}):f.jsx("div",{className:"text-center text-gray-500",children:"  ..."})]})]})}function BY(e,t){if(!(!t||!e))return{...t,timeline:t.timeline.map(n=>({...n,subjectInfo:ev(e,n.subject_id)})),subject_results:t.subject_results.map(n=>({...n,subjectInfo:ev(e,n.subject_id)}))}}function zY(){const[e,t]=T.useState(!1),n=ys(a=>a.filters),r=ys(a=>a.setFilter),i=ys(a=>a.resetFilters),{data:s}=Gi(),o=gh(s??[]).sort((a,u)=>a.localeCompare(u)).map(a=>a);return f.jsxs(Oe,{direction:"flex-wrap",align:"items-center",gap:"gap-2",className:"w-full",children:[f.jsx(mx,{handleOpenFilter:()=>t(!0)}),f.jsx(gx,{setFilter:r,selectedValue:n.department}),f.jsx(Mn,{filterKey:"days",options:hn.days,selectedValues:n.days??[],setFilter:r}),f.jsx(Mn,{filterKey:"credits",options:hn.credits,selectedValues:n.credits??[],setFilter:r}),f.jsx(Mn,{filterKey:"grades",options:hn.grades,selectedValues:n.grades??[],setFilter:r}),n.note?.length>0&&f.jsx(Mn,{filterKey:"note",options:hn.remark,selectedValues:n.note??[],setFilter:r}),n.categories?.length>0&&f.jsx(Mn,{filterKey:"categories",options:o,selectedValues:n.categories??[],setFilter:r}),n.classroom?.length>0&&f.jsx(Mn,{filterKey:"classroom",options:hn.classRoom,selectedValues:n.classroom??[],setFilter:r}),f.jsx(yx,{filters:n,resetFilter:i}),e&&f.jsx(vx,{filterStore:ys,onClose:()=>t(!1)})]})}function $Y(){const{openScheduleModal:e}=Vr(),t=new ci().toUiData();return f.jsxs("div",{className:"flex flex-col items-center gap-3 pt-5",children:[f.jsx(nm,{title:"  .",description:"  ?   ."}),f.jsx(jt,{variant:"primary",size:"medium",onClick:()=>e(t),children:""})]})}function UY({isActive:e,subject:t,onClick:n,forwardedRef:r}){const i=e?"text-blue-500 bg-blue-50":"text-gray-700 bg-white hover:bg-gray-50",{saveSchedule:s}=Vr(),{selectTargetOnly:o}=mh(),a=u=>{s(u,!1),o(t.subjectId),$m(t.deptCd)};return f.jsx("button",{type:"button",className:`border border-gray-200 rounded-lg p-3 sm:p-4 gap-2 sm:gap-3 ${i} cursor-pointer w-full text-left`,onClick:n,ref:r,children:f.jsxs(Oe,{direction:"flex-col",children:[f.jsxs(Oe,{justify:"justify-between",align:"items-center",gap:"gap-2 ",children:[f.jsx(Lt,{level:3,children:t.subjectName}),f.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:t.professorName})]}),f.jsxs(Oe,{direction:"flex-col",justify:"justify-start",align:"items-start",gap:"gap-2 ",children:[f.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:t.lesnTime}),f.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:t.lesnRoom}),f.jsxs("span",{className:"text-xs sm:text-sm text-gray-500",children:[t.studentYear,"/",t.manageDeptNm]})]}),f.jsxs(Oe,{justify:"justify-between",align:"items-center",children:[f.jsxs(gl,{variant:"default",children:[t.tmNum[0],""]}),e&&f.jsx(jt,{variant:"primary",size:"medium",onClick:a,children:""})]})]})})}function w8({subjects:e,expandToMax:t,isPending:n=!1}){const{visibleRows:r,loadMoreRef:i}=Vm(e,"ref"),s=T.useRef(null),o=vt(h=>h.schedule.subjectId),{openScheduleModal:a,cancelSchedule:u}=Vr();if(n||!e)return f.jsx("div",{className:"w-full h-10"});if(!e.length)return f.jsx($Y,{});const c=h=>{if(o===h.subjectId){u(void 0,!1);return}const p=new ci({...new ci().toApiData(),scheduleType:"official",subjectId:h.subjectId??-1},h);a(p.toUiData()),console.log("official",o);const w=new lc(h.lesnTime).toUiData(9)[0]?.top;t&&(t(),setTimeout(()=>{if(w){const S=Number.parseFloat(w);window.scrollTo({top:S,behavior:"smooth"})}},400))};return f.jsxs(Oe,{direction:"flex-col",justify:"justify-end",gap:"gap-2",children:[e.slice(0,r).map(h=>{const p=o===h.subjectId;return f.jsx(UY,{subject:h,isActive:p,onClick:()=>c(h),forwardedRef:p?s:void 0},h.subjectId)}),r<e.length&&f.jsx("div",{ref:i,className:"load-more-trigger w-full h-10"})]})}const HY=new ci().toUiData();function VY(){const{openScheduleModal:e}=Vr(),{data:t,isPending:n}=So(),r=fh(t)??[],i=ys(a=>a.filters),s=ys(a=>a.setFilter),o=T.useDeferredValue(fc(r,i));return f.jsx(Tn,{children:f.jsxs(Oe,{direction:"flex-col",gap:"gap-3",className:"w-full bg-white h-screen md:border-t-0",children:[f.jsx(Ml,{type:"text",value:i.keywords,placeholder:" ",onDelete:()=>s("keywords",""),onChange:a=>s("keywords",a.target.value),className:"w-full"}),f.jsx(zY,{}),f.jsx(jt,{variant:"text",size:"small",onClick:()=>e(HY),children:"+   "}),f.jsx(Oe,{direction:"flex-col",className:"h-full overflow-hidden overflow-y-auto",children:f.jsx(w8,{subjects:o,isPending:n})})]})})}var U1={exports:{}},j4;function QY(){return j4||(j4=1,function(e){(function(t){var n=A(),r=z(),i=U(),s=N(),o={imagePlaceholder:void 0,cacheBust:!1},a={toSvg:u,toPng:h,toJpeg:p,toBlob:g,toPixelData:c,impl:{fontFaces:i,images:s,util:n,inliner:r,options:{}}};e.exports=a;function u(I,H){return H=H||{},x(H),Promise.resolve(I).then(function(F){return S(F,H.filter,!0)}).then(k).then(E).then(V).then(function(F){return R(F,H.width||n.width(I),H.height||n.height(I))});function V(F){return H.bgcolor&&(F.style.backgroundColor=H.bgcolor),H.width&&(F.style.width=H.width+"px"),H.height&&(F.style.height=H.height+"px"),H.style&&Object.keys(H.style).forEach(function(le){F.style[le]=H.style[le]}),F}}function c(I,H){return w(I,H||{}).then(function(V){return V.getContext("2d").getImageData(0,0,n.width(I),n.height(I)).data})}function h(I,H){return w(I,H||{}).then(function(V){return V.toDataURL()})}function p(I,H){return H=H||{},w(I,H).then(function(V){return V.toDataURL("image/jpeg",H.quality||1)})}function g(I,H){return w(I,H||{}).then(n.canvasToBlob)}function x(I){typeof I.imagePlaceholder>"u"?a.impl.options.imagePlaceholder=o.imagePlaceholder:a.impl.options.imagePlaceholder=I.imagePlaceholder,typeof I.cacheBust>"u"?a.impl.options.cacheBust=o.cacheBust:a.impl.options.cacheBust=I.cacheBust}function w(I,H){return u(I,H).then(n.makeImage).then(n.delay(100)).then(function(F){var le=V(I);return le.getContext("2d").drawImage(F,0,0),le});function V(F){var le=document.createElement("canvas");if(le.width=H.width||n.width(F),le.height=H.height||n.height(F),H.bgcolor){var ue=le.getContext("2d");ue.fillStyle=H.bgcolor,ue.fillRect(0,0,le.width,le.height)}return le}}function S(I,H,V){if(!V&&H&&!H(I))return Promise.resolve();return Promise.resolve(I).then(F).then(function(ae){return le(I,ae,H)}).then(function(ae){return ue(I,ae)});function F(ae){return ae instanceof HTMLCanvasElement?n.makeImage(ae.toDataURL()):ae.cloneNode(!1)}function le(ae,q,Q){var J=ae.childNodes;if(J.length===0)return Promise.resolve(q);return te(q,n.asArray(J),Q).then(function(){return q});function te(ne,me,D){var G=Promise.resolve();return me.forEach(function(ye){G=G.then(function(){return S(ye,D)}).then(function(B){B&&ne.appendChild(B)})}),G}}function ue(ae,q){if(!(q instanceof Element))return q;return Promise.resolve().then(Q).then(J).then(te).then(ne).then(function(){return q});function Q(){me(window.getComputedStyle(ae),q.style);function me(D,G){D.cssText?G.cssText=D.cssText:ye(D,G);function ye(B,Fe){n.asArray(B).forEach(function(je){Fe.setProperty(je,B.getPropertyValue(je),B.getPropertyPriority(je))})}}}function J(){[":before",":after"].forEach(function(D){me(D)});function me(D){var G=window.getComputedStyle(ae,D),ye=G.getPropertyValue("content");if(ye===""||ye==="none")return;var B=n.uid();q.className=q.className+" "+B;var Fe=document.createElement("style");Fe.appendChild(je(B,D,G)),q.appendChild(Fe);function je(Ee,Ye,Ke){var Ne="."+Ee+":"+Ye,ht=Ke.cssText?fn(Ke):Nt(Ke);return document.createTextNode(Ne+"{"+ht+"}");function fn(vn){var pn=vn.getPropertyValue("content");return vn.cssText+" content: "+pn+";"}function Nt(vn){return n.asArray(vn).map(pn).join("; ")+";";function pn(In){return In+": "+vn.getPropertyValue(In)+(vn.getPropertyPriority(In)?" !important":"")}}}}}function te(){ae instanceof HTMLTextAreaElement&&(q.innerHTML=ae.value),ae instanceof HTMLInputElement&&q.setAttribute("value",ae.value)}function ne(){q instanceof SVGElement&&(q.setAttribute("xmlns","http://www.w3.org/2000/svg"),q instanceof SVGRectElement&&["width","height"].forEach(function(me){var D=q.getAttribute(me);D&&q.style.setProperty(me,D)}))}}}function k(I){return i.resolveAll().then(function(H){var V=document.createElement("style");return I.appendChild(V),V.appendChild(document.createTextNode(H)),I})}function E(I){return s.inlineAll(I).then(function(){return I})}function R(I,H,V){return Promise.resolve(I).then(function(F){return F.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(F)}).then(n.escapeXhtml).then(function(F){return'<foreignObject x="0" y="0" width="100%" height="100%">'+F+"</foreignObject>"}).then(function(F){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+H+'" height="'+V+'">'+F+"</svg>"}).then(function(F){return"data:image/svg+xml;charset=utf-8,"+F})}function A(){return{escape:ne,parseExtension:H,mimeType:V,dataAsUrl:te,isDataUrl:F,canvasToBlob:ue,resolveUrl:ae,getAndEncode:J,uid:q(),delay:me,asArray:D,escapeXhtml:G,makeImage:Q,width:ye,height:B};function I(){var je="application/font-woff",Ee="image/jpeg";return{woff:je,woff2:je,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Ee,jpeg:Ee,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function H(je){var Ee=/\.([^\.\/]*?)$/g.exec(je);return Ee?Ee[1]:""}function V(je){var Ee=H(je).toLowerCase();return I()[Ee]||""}function F(je){return je.search(/^(data:)/)!==-1}function le(je){return new Promise(function(Ee){for(var Ye=window.atob(je.toDataURL().split(",")[1]),Ke=Ye.length,Ne=new Uint8Array(Ke),ht=0;ht<Ke;ht++)Ne[ht]=Ye.charCodeAt(ht);Ee(new Blob([Ne],{type:"image/png"}))})}function ue(je){return je.toBlob?new Promise(function(Ee){je.toBlob(Ee)}):le(je)}function ae(je,Ee){var Ye=document.implementation.createHTMLDocument(),Ke=Ye.createElement("base");Ye.head.appendChild(Ke);var Ne=Ye.createElement("a");return Ye.body.appendChild(Ne),Ke.href=Ee,Ne.href=je,Ne.href}function q(){var je=0;return function(){return"u"+Ee()+je++;function Ee(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function Q(je){return new Promise(function(Ee,Ye){var Ke=new Image;Ke.onload=function(){Ee(Ke)},Ke.onerror=Ye,Ke.src=je})}function J(je){var Ee=3e4;return a.impl.options.cacheBust&&(je+=(/\?/.test(je)?"&":"?")+new Date().getTime()),new Promise(function(Ye){var Ke=new XMLHttpRequest;Ke.onreadystatechange=fn,Ke.ontimeout=Nt,Ke.responseType="blob",Ke.timeout=Ee,Ke.open("GET",je,!0),Ke.send();var Ne;if(a.impl.options.imagePlaceholder){var ht=a.impl.options.imagePlaceholder.split(/,/);ht&&ht[1]&&(Ne=ht[1])}function fn(){if(Ke.readyState===4){if(Ke.status!==200){Ne?Ye(Ne):vn("cannot fetch resource: "+je+", status: "+Ke.status);return}var pn=new FileReader;pn.onloadend=function(){var In=pn.result.split(/,/)[1];Ye(In)},pn.readAsDataURL(Ke.response)}}function Nt(){Ne?Ye(Ne):vn("timeout of "+Ee+"ms occured while fetching resource: "+je)}function vn(pn){console.error(pn),Ye("")}})}function te(je,Ee){return"data:"+Ee+";base64,"+je}function ne(je){return je.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function me(je){return function(Ee){return new Promise(function(Ye){setTimeout(function(){Ye(Ee)},je)})}}function D(je){for(var Ee=[],Ye=je.length,Ke=0;Ke<Ye;Ke++)Ee.push(je[Ke]);return Ee}function G(je){return je.replace(/#/g,"%23").replace(/\n/g,"%0A")}function ye(je){var Ee=Fe(je,"border-left-width"),Ye=Fe(je,"border-right-width");return je.scrollWidth+Ee+Ye}function B(je){var Ee=Fe(je,"border-top-width"),Ye=Fe(je,"border-bottom-width");return je.scrollHeight+Ee+Ye}function Fe(je,Ee){var Ye=window.getComputedStyle(je).getPropertyValue(Ee);return parseFloat(Ye.replace("px",""))}}function z(){var I=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:le,shouldProcess:H,impl:{readUrls:V,inline:F}};function H(ue){return ue.search(I)!==-1}function V(ue){for(var ae=[],q;(q=I.exec(ue))!==null;)ae.push(q[1]);return ae.filter(function(Q){return!n.isDataUrl(Q)})}function F(ue,ae,q,Q){return Promise.resolve(ae).then(function(te){return q?n.resolveUrl(te,q):te}).then(Q||n.getAndEncode).then(function(te){return n.dataAsUrl(te,n.mimeType(ae))}).then(function(te){return ue.replace(J(ae),"$1"+te+"$3")});function J(te){return new RegExp(`(url\\(['"]?)(`+n.escape(te)+`)(['"]?\\))`,"g")}}function le(ue,ae,q){if(Q())return Promise.resolve(ue);return Promise.resolve(ue).then(V).then(function(J){var te=Promise.resolve(ue);return J.forEach(function(ne){te=te.then(function(me){return F(me,ne,ae,q)})}),te});function Q(){return!H(ue)}}}function U(){return{resolveAll:I,impl:{readAll:H}};function I(){return H().then(function(V){return Promise.all(V.map(function(F){return F.resolve()}))}).then(function(V){return V.join(`
`)})}function H(){return Promise.resolve(n.asArray(document.styleSheets)).then(F).then(V).then(function(ue){return ue.map(le)});function V(ue){return ue.filter(function(ae){return ae.type===CSSRule.FONT_FACE_RULE}).filter(function(ae){return r.shouldProcess(ae.style.getPropertyValue("src"))})}function F(ue){var ae=[];return ue.forEach(function(q){try{n.asArray(q.cssRules||[]).forEach(ae.push.bind(ae))}catch(Q){console.log("Error while reading CSS rules from "+q.href,Q.toString())}}),ae}function le(ue){return{resolve:function(){var q=(ue.parentStyleSheet||{}).href;return r.inlineAll(ue.cssText,q)},src:function(){return ue.style.getPropertyValue("src")}}}}}function N(){return{inlineAll:H,impl:{newImage:I}};function I(V){return{inline:F};function F(le){return n.isDataUrl(V.src)?Promise.resolve():Promise.resolve(V.src).then(le||n.getAndEncode).then(function(ue){return n.dataAsUrl(ue,n.mimeType(V.src))}).then(function(ue){return new Promise(function(ae,q){V.onload=ae,V.onerror=q,V.src=ue})})}}function H(V){if(!(V instanceof Element))return Promise.resolve(V);return F(V).then(function(){return V instanceof HTMLImageElement?I(V).inline():Promise.all(n.asArray(V.childNodes).map(function(le){return H(le)}))});function F(le){var ue=le.style.getPropertyValue("background");return ue?r.inlineAll(ue).then(function(ae){le.style.setProperty("background",ae,le.style.getPropertyPriority("background"))}).then(function(){return le}):Promise.resolve(le)}}}})()}(U1)),U1.exports}var WY=QY();const qY=Ei(WY);var Np={exports:{}},KY=Np.exports,E4;function GY(){return E4||(E4=1,function(e,t){(function(n,r){r()})(KY,function(){function n(c,h){return typeof h>"u"?h={autoBom:!1}:typeof h!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function r(c,h,p){var g=new XMLHttpRequest;g.open("GET",c),g.responseType="blob",g.onload=function(){u(g.response,h,p)},g.onerror=function(){console.error("could not download file")},g.send()}function i(c){var h=new XMLHttpRequest;h.open("HEAD",c,!1);try{h.send()}catch{}return 200<=h.status&&299>=h.status}function s(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(h)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof md=="object"&&md.global===md?md:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(c,h,p){var g=o.URL||o.webkitURL,x=document.createElement("a");h=h||c.name||"download",x.download=h,x.rel="noopener",typeof c=="string"?(x.href=c,x.origin===location.origin?s(x):i(x.href)?r(c,h,p):s(x,x.target="_blank")):(x.href=g.createObjectURL(c),setTimeout(function(){g.revokeObjectURL(x.href)},4e4),setTimeout(function(){s(x)},0))}:"msSaveOrOpenBlob"in navigator?function(c,h,p){if(h=h||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(n(c,p),h);else if(i(c))r(c,h,p);else{var g=document.createElement("a");g.href=c,g.target="_blank",setTimeout(function(){s(g)})}}:function(c,h,p,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof c=="string")return r(c,h,p);var x=c.type==="application/octet-stream",w=/constructor/i.test(o.HTMLElement)||o.safari,S=/CriOS\/[\d]+/.test(navigator.userAgent);if((S||x&&w||a)&&typeof FileReader<"u"){var k=new FileReader;k.onloadend=function(){var A=k.result;A=S?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=A:location=A,g=null},k.readAsDataURL(c)}else{var E=o.URL||o.webkitURL,R=E.createObjectURL(c);g?g.location=R:location.href=R,g=null,setTimeout(function(){E.revokeObjectURL(R)},4e4)}});o.saveAs=u.saveAs=u,e.exports=u})}(Np)),Np.exports}var YY=GY();function XY(e,t="image.png"){if(!e){console.error("Image reference is not set");return}qY.toBlob(e).then(n=>YY.saveAs(n,t)).catch(n=>{console.error("Error saving image:",n)})}const JY=e=>{const[t]=tS(),n=t.get("semester"),r=vt(o=>o.currentTimetable),i=vt(o=>o.pickTimetable),s=e.filter(o=>o.semester===n);return T.useEffect(()=>{if(r?.semester!==n){const o=e.find(a=>a.semester===n);if(o!==void 0){i(o);return}i(null)}},[e]),{currentSemester:n,currentTimetable:r,filteredTimetablesBySemester:s}},ZY=({setIsOpenModal:e,openCreateModal:t})=>{const{data:n=[]}=WS(),{currentTimetable:r,filteredTimetablesBySemester:i}=JY(n),s=vt(h=>h.pickTimetable),{mutate:o}=qS(),a=h=>{const p=n.find(g=>g.timeTableId===h.timeTableId);p&&s(p)},u=()=>{e("edit")},c=h=>{o(h)};return r?f.jsxs(qu,{children:[f.jsx(qu.Trigger,{label:r?r.timeTableName:" "}),f.jsx(qu.Content,{children:f.jsxs(Oe,{direction:"flex-col",gap:"gap-4",children:[i.length===0&&f.jsx(Un,{children:"  ."}),i.map(h=>f.jsxs(Oe,{gap:"gap-4",children:[f.jsx(mm,{label:h.timeTableName,checked:r.timeTableId===h.timeTableId,onChange:()=>a(h)},h.timeTableId),r.timeTableId===h.timeTableId&&f.jsxs(Oe,{gap:"gap-4",children:[f.jsx(jt,{variant:"text",size:"small",onClick:u,children:""}),f.jsx(jt,{variant:"text",size:"small",textColor:"secondary",onClick:()=>c(h.timeTableId),children:""})]})]},h.timeTableName+h.timeTableId)),f.jsx(jt,{variant:"text",size:"small",textColor:"gray",onClick:t,children:"+  "})]})})]}):f.jsx(jt,{variant:"primary",size:"medium",onClick:t,children:"  "})},eX=e=>T.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M10 12.9791C9.8889 12.9791 9.78473 12.9619 9.68751 12.9274C9.59029 12.893 9.50001 12.8338 9.41668 12.7499L6.41668 9.74992C6.25001 9.58325 6.17001 9.38881 6.17668 9.16659C6.18334 8.94437 6.26334 8.74992 6.41668 8.58325C6.58334 8.41659 6.7814 8.32992 7.01084 8.32325C7.24029 8.31659 7.43807 8.39631 7.60418 8.56242L9.16668 10.1249V4.16659C9.16668 3.93048 9.24668 3.7327 9.40668 3.57325C9.56668 3.41381 9.76445 3.33381 10 3.33325C10.2356 3.3327 10.4336 3.4127 10.5942 3.57325C10.7547 3.73381 10.8345 3.93159 10.8333 4.16659V10.1249L12.3958 8.56242C12.5625 8.39575 12.7606 8.31575 12.99 8.32242C13.2195 8.32909 13.4172 8.41603 13.5833 8.58325C13.7361 8.74992 13.8161 8.94437 13.8233 9.16659C13.8306 9.38881 13.7506 9.58325 13.5833 9.74992L10.5833 12.7499C10.5 12.8333 10.4097 12.8924 10.3125 12.9274C10.2153 12.9624 10.1111 12.9796 10 12.9791ZM5.00001 16.6666C4.54168 16.6666 4.14945 16.5035 3.82334 16.1774C3.49723 15.8513 3.3339 15.4588 3.33334 14.9999V13.3333C3.33334 13.0971 3.41334 12.8994 3.57334 12.7399C3.73334 12.5805 3.93112 12.5005 4.16668 12.4999C4.40223 12.4994 4.60029 12.5794 4.76084 12.7399C4.9214 12.9005 5.00112 13.0983 5.00001 13.3333V14.9999H15V13.3333C15 13.0971 15.08 12.8994 15.24 12.7399C15.4 12.5805 15.5978 12.5005 15.8333 12.4999C16.0689 12.4994 16.267 12.5794 16.4275 12.7399C16.5881 12.9005 16.6678 13.0983 16.6667 13.3333V14.9999C16.6667 15.4583 16.5036 15.8508 16.1775 16.1774C15.8514 16.5041 15.4589 16.6671 15 16.6666H5.00001Z",fill:"#9CA3AF"}));function tX({onClose:e,type:t}){const[n,r]=T.useState(""),[i,s]=T.useState(Rv.semester),o=vt(w=>w.currentTimetable),{mutate:a}=ZN(),{mutate:u}=qS(),{mutate:c}=KS(),h=()=>{t==="edit"&&o&&(u(o.timeTableId),e())},p=w=>{if(w.preventDefault(),o&&t==="edit"){a({timeTableId:o.timeTableId,timeTableName:n}),e();return}t==="create"&&(c({timeTableName:n,semester:i}),e())},g=w=>{w.key==="Escape"&&e()};T.useEffect(()=>(window.addEventListener("keydown",g),()=>{window.removeEventListener("keydown",g)}),[]);const x=w=>{if(t==="edit"){alert("   .");return}s(w)};return f.jsx(Nn,{title:`${t==="edit"?" ":" "}`,onClose:e,isOpen:!0,children:f.jsxs("form",{onSubmit:p,children:[f.jsxs(Nn.Content,{children:[f.jsx(fr,{children:" "}),f.jsx(va,{columns:{base:2},gap:"gap-2",children:BS.map(w=>f.jsx(Pn,{label:w,selected:w===i,onClick:()=>x(w)},w))}),f.jsx(MS,{id:"timetableName",required:!0,size:"medium",placeholder:"  .",value:n,onChange:w=>r(w.target.value)},"timetableName")]}),f.jsxs(Nn.Footer,{children:[f.jsx(jt,{type:"submit",variant:"primary",size:"medium",children:""}),o&&t==="edit"&&f.jsx(jt,{type:"button",variant:"secondary",textColor:"secondary",size:"medium",onClick:h,children:""})]})]})})}function nX(){const[e,t]=T.useState(null),n=()=>{t("create")};return f.jsx("header",{children:f.jsxs(Oe,{align:"items-center",justify:"justify-between",gap:"gap-2",children:[f.jsx(ZY,{setIsOpenModal:t,openCreateModal:n}),f.jsx(rX,{setIsOpenModal:t}),e&&f.jsx(tX,{type:e,onClose:()=>t(null)})]})})}function rX({setIsOpenModal:e}){const t=vt(s=>s.options.isMobile),n=yo(s=>s.openBottomSheet),r=()=>{const s=vt.getState()?.currentTimetable?.timeTableName,o=vt.getState().options.containerRef;XY(o,s?s+".png":".png")},i=()=>{e("create")};return f.jsxs(Oe,{children:[f.jsx(rr,{icon:f.jsx(eX,{className:"w-5 h-5"}),variant:"plain",label:"  ",onClick:r}),t&&f.jsx(rr,{icon:f.jsx(Qm,{className:"w-5 h-5"}),variant:"plain",label:" ",onClick:()=>n("search")}),!t&&f.jsx(jt,{variant:"text",size:"medium",onClick:i,children:"+  "})]})}function iX(){const[e]=tS(),t=e.get("semester");if(!t)return f.jsx(Z9,{to:`/timetable?semester=${Rv.semester}`,replace:!0});const n="border-b-2 border-primary text-primary pb-2";return f.jsx(Oe,{gap:"gap-4",className:"border-b text-sm md:text-base border-gray-200",children:BS.map(r=>{const i=t===r;return f.jsxs(Or,{to:`/timetable?semester=${r}`,className:i?n:"text-gray-500 pb-2",children:[r,""]},r)})})}function sX({onCloseSearch:e,onOpenFiltering:t}){const{data:n=[],isPending:r}=Gi(),{openScheduleModal:i}=Vr(),s=ys(h=>h.filters),o=ys(h=>h.setFilter),{keywords:a}=s,u=T.useDeferredValue(fc(n,s)),c=new ci().toUiData();return f.jsx(yh,{children:({expandToMax:h})=>f.jsxs(f.Fragment,{children:[f.jsx(vh,{title:"",headerType:"add",onClose:e,onClick:()=>i(c)}),f.jsxs("div",{className:"sticky px-2 top-0 bg-white z-10 flex items-center gap-2 py-3",children:[f.jsx(Ml,{type:"text",placeholder:"   ",value:a,onChange:p=>o("keywords",p.target.value),onDelete:()=>o("keywords",""),className:"w-full"}),f.jsx(rr,{"aria-label":"filter",variant:"plain",label:"filter",icon:f.jsx(e7,{className:"w-6 h-6"}),onClick:()=>t()})]}),f.jsx(Oe,{direction:"flex-col",className:"max-h-[70vh] min-h-0 px-2 overflow-y-auto touch-auto",children:f.jsx(w8,{expandToMax:h,subjects:u,isPending:r})})]})})}const oX=(e,t)=>{const n=lm(e),r=lm(t);return{startHour:n.hour,startMinute:n.minute,endHour:r.hour,endMinute:r.minute}},aX={hour:"10",minute:"00"},lm=(e,t=aX)=>{if(!e)return t;let[n,r]=e.split(":").map(Number);return Number.isNaN(n)&&(n=Number(t.hour)),Number.isNaN(r)&&(r=Number(t.minute)),{hour:n.toString(),minute:r.toString().padStart(2,"0")}},T4=e=>{const{hour:t,minute:n}=e;return`${t}:${n}`};function lX(e,t){return e.some(r=>r.dayOfWeeks===t)?e.filter(r=>r.dayOfWeeks!==t):[...e,{dayOfWeeks:t,startTime:"",endTime:""}]}function uX(e,t,n){const r=lm(e.startTime),i=lm(e.endTime);let s=r,o=i;switch(t){case"startHour":s={...r,hour:n};break;case"startMinute":s={...r,minute:n};break;case"endHour":o={...i,hour:n};break;case"endMinute":o={...i,minute:n};break}return{...e,startTime:T4(s),endTime:T4(o)}}const yp=Array.from({length:24},(e,t)=>`${t}`),vp=["00","10","20","30","40","50"];function cX({timeRange:e,onChange:t,day:n}){const r=(i,s)=>{if(n){t(i,s,n);return}t(i,s)};return f.jsx("div",{className:" w-full h-3 flex gap-2 flex-col justify-center",children:f.jsxs("div",{className:"relative w-full flex gap-2 flex-wrap",children:[f.jsx("select",{name:"startHour",value:e.startHour??yp[8],onChange:i=>r("startHour",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:yp.map(i=>f.jsx("option",{value:i,children:i},i))}),f.jsx("select",{name:"startMinute",value:e.startMinute??vp[0],onChange:i=>r("startMinute",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:vp.map(i=>f.jsx("option",{value:i,children:i},i))}),f.jsx("span",{className:"text-gray-400 text-sm mx-1",children:"~"}),f.jsx("select",{name:"endHour",value:e.endHour??yp[9],onChange:i=>r("endHour",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:yp.map(i=>f.jsx("option",{value:i,children:i},i))}),f.jsx("select",{name:"endMinute",value:e.endMinute??vp[0],onChange:i=>r("endMinute",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:vp.map(i=>f.jsx("option",{value:i,children:i},i))})]})})}function _8(){const e=vt(o=>o.options.isMobile),{schedule:t}=oh(),{editSchedule:n}=Vr(),r=[{id:"subjectName",name:"",value:t?.subjectName??""},{id:"professorName",name:"",value:t?.professorName??""},{id:"location",name:"",value:t?.location??""}],i=o=>{n(a=>({...a,timeSlots:lX(a.timeSlots,o)}))},s=(o,a,u)=>{n(c=>{const h=c.timeSlots.map(p=>p.dayOfWeeks===u?uX(p,o,a):p);return{...c,timeSlots:h}})};return f.jsxs(Oe,{direction:"flex-col",gap:e?"gap-4":"gap-5",children:[r.map(({id:o,name:a,value:u})=>f.jsx(MS,{size:"medium",id:o,placeholder:`${a} `,value:u,label:a,onChange:c=>n(h=>({...h,[o]:c.target.value})),required:!0},o)),f.jsxs(Oe,{gap:"gap-2",direction:"flex-col",children:[f.jsx(fr,{children:""}),f.jsx(Oe,{direction:"flex-wrap",children:Sm.map(o=>f.jsx(Pn,{label:o,selected:t.timeSlots.some(a=>a.dayOfWeeks===o),onClick:()=>i(o)},o))})]}),t.timeSlots.map(o=>f.jsxs(Oe,{direction:"flex-col",gap:"gap-4",children:[f.jsx(fr,{children:o.dayOfWeeks}),f.jsx(cX,{day:o.dayOfWeeks,timeRange:oX(o.startTime,o.endTime),onChange:s})]},o.dayOfWeeks))]})}function dX(){const{modalActionType:e}=oh(),t=e===$n.CREATE?"":"",{saveSchedule:n,deleteSchedule:r,cancelSchedule:i}=Vr(),s=Pi(),o=c=>{c.key==="Escape"&&i(c)};T.useEffect(()=>(document.addEventListener("keydown",o),()=>{document.removeEventListener("keydown",o)}),[]);const a=c=>{n(c)},u=c=>{r(c)};return f.jsx(Nn,{title:`  ${t}`,onClose:i,isOpen:!0,children:f.jsxs("form",{onSubmit:a,className:"flex flex-col gap-5",children:[f.jsx(Nn.Content,{children:f.jsx(_8,{})}),f.jsxs(Nn.Footer,{children:[(e===$n.EDIT||e===$n.VIEW)&&f.jsx(jt,{variant:"secondary",size:s?"small":"medium",onClick:u,children:""}),f.jsx(jt,{type:"submit",variant:"primary",size:s?"small":"medium",children:""})]})]})})}const S8=e=>T.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M8.5 4.6665C8.5 4.5339 8.44732 4.40672 8.35355 4.31295C8.25979 4.21918 8.13261 4.1665 8 4.1665C7.86739 4.1665 7.74022 4.21918 7.64645 4.31295C7.55268 4.40672 7.5 4.5339 7.5 4.6665V7.99984C7.49996 8.08461 7.52148 8.168 7.56253 8.24217C7.60358 8.31634 7.66282 8.37885 7.73467 8.42384L9.73467 9.67384C9.84712 9.74421 9.98292 9.76703 10.1122 9.73727C10.1762 9.72254 10.2367 9.69534 10.2902 9.65723C10.3437 9.61912 10.3892 9.57085 10.424 9.51517C10.4588 9.45949 10.4824 9.39749 10.4933 9.33272C10.5041 9.26794 10.5022 9.20165 10.4874 9.13764C10.4727 9.07363 10.4455 9.01315 10.4074 8.95965C10.3693 8.90615 10.321 8.86068 10.2653 8.82584L8.5 7.7225V4.6665Z",fill:"#D1D5DB"}),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.99996 2.1665C6.45286 2.1665 4.96913 2.78109 3.87517 3.87505C2.78121 4.96901 2.16663 6.45274 2.16663 7.99984C2.16663 9.54693 2.78121 11.0307 3.87517 12.1246C4.96913 13.2186 6.45286 13.8332 7.99996 13.8332C9.54706 13.8332 11.0308 13.2186 12.1248 12.1246C13.2187 11.0307 13.8333 9.54693 13.8333 7.99984C13.8333 6.45274 13.2187 4.96901 12.1248 3.87505C11.0308 2.78109 9.54706 2.1665 7.99996 2.1665ZM3.16663 7.99984C3.16663 7.36512 3.29164 6.73661 3.53454 6.1502C3.77744 5.56379 4.13346 5.03097 4.58228 4.58215C5.03109 4.13334 5.56392 3.77732 6.15032 3.53442C6.73673 3.29152 7.36524 3.1665 7.99996 3.1665C8.63468 3.1665 9.26319 3.29152 9.8496 3.53442C10.436 3.77732 10.9688 4.13334 11.4176 4.58215C11.8665 5.03097 12.2225 5.56379 12.4654 6.1502C12.7083 6.73661 12.8333 7.36512 12.8333 7.99984C12.8333 9.28172 12.3241 10.5111 11.4176 11.4175C10.5112 12.3239 9.28184 12.8332 7.99996 12.8332C6.71808 12.8332 5.4887 12.3239 4.58228 11.4175C3.67585 10.5111 3.16663 9.28172 3.16663 7.99984Z",fill:"#D1D5DB"})),C8=e=>T.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M13.7069 6.79266L8.70688 1.79266C8.51936 1.60527 8.26511 1.5 8.00001 1.5C7.7349 1.5 7.48065 1.60527 7.29313 1.79266L2.29313 6.79266C2.19982 6.88528 2.12586 6.99552 2.07553 7.11698C2.02521 7.23844 1.99954 7.36869 2.00001 7.50016V13.5002C2.00001 13.6328 2.05268 13.7599 2.14645 13.8537C2.24022 13.9475 2.3674 14.0002 2.50001 14.0002H6.50001C6.63261 14.0002 6.75979 13.9475 6.85356 13.8537C6.94733 13.7599 7.00001 13.6328 7.00001 13.5002V10.0002H9.00001V13.5002C9.00001 13.6328 9.05268 13.7599 9.14645 13.8537C9.24022 13.9475 9.3674 14.0002 9.50001 14.0002H13.5C13.6326 14.0002 13.7598 13.9475 13.8536 13.8537C13.9473 13.7599 14 13.6328 14 13.5002V7.50016C14.0005 7.36869 13.9748 7.23844 13.9245 7.11698C13.8742 6.99552 13.8002 6.88528 13.7069 6.79266ZM13 13.0002H10V9.50016C10 9.36755 9.94733 9.24038 9.85356 9.14661C9.75979 9.05284 9.63261 9.00016 9.50001 9.00016H6.50001C6.3674 9.00016 6.24022 9.05284 6.14645 9.14661C6.05268 9.24038 6.00001 9.36755 6.00001 9.50016V13.0002H3.00001V7.50016L8.00001 2.50016L13 7.50016V13.0002Z",fill:"#D1D5DB"}));function hX(){const{schedule:e}=oh(),{deleteSchedule:t}=Vr(),n=yo(o=>o.closeBottomSheet),{data:r}=Gi(),i=o=>{confirm("  ?")&&t(o)},s=r?.find(o=>o.subjectId===e.subjectId);return f.jsxs(Nn,{title:e.subjectName,onClose:()=>n("info"),isOpen:!0,children:[f.jsx(Nn.Content,{children:f.jsxs(Oe,{direction:"flex-col",gap:"gap-1",className:"w-80 text-sm text-gray-500",children:[f.jsx("p",{children:e.professorName??"  "}),f.jsxs(Oe,{align:"items-center",gap:"gap-2",children:[f.jsx(S8,{className:"w-4 h-4 text-gray-400"}),f.jsx("p",{children:s?.lesnTime})]}),f.jsxs(Oe,{align:"items-center",gap:"gap-2",children:[f.jsx(C8,{className:"w-4 h-4 text-gray-400"}),f.jsx("p",{children:s?.lesnRoom??"  "})]}),f.jsxs("p",{children:[s?.manageDeptNm," ",s?.studentYear+""," ",f.jsx("span",{className:"text-blue-500",children:s?.tmNum[0]+""})]})]})}),f.jsx(Nn.Footer,{children:f.jsx(jt,{variant:"text",size:"medium",textColor:"secondary",onClick:i,children:""})})]})}function fX(){const{modalActionType:e}=oh(),{cancelSchedule:t,deleteSchedule:n,saveSchedule:r}=Vr(),i=u=>{t(u)},s=e===$n.CREATE?"":"",o=Pi(),a=u=>{r(u)};return f.jsxs(yh,{children:[f.jsx(vh,{title:`  ${s}`,headerType:"close",onClose:i}),f.jsxs("form",{onSubmit:a,className:"flex flex-col gap-5",children:[f.jsx(Oe,{direction:"flex-col",className:"py-5 px-2 overflow-y-auto max-h-[80vh]",children:f.jsx(_8,{})}),f.jsxs(Oe,{justify:"justify-end",gap:o?"gap-2":"gap-4",className:"p-4",children:[(e===$n.EDIT||e===$n.VIEW)&&f.jsx(jt,{variant:"secondary",size:o?"small":"medium",onClick:n,children:""}),f.jsx(jt,{type:"submit",variant:"primary",size:o?"small":"medium",children:""})]})]})]})}function pX(){const{schedule:e}=oh(),{deleteSchedule:t,cancelSchedule:n}=Vr(),{data:r}=Gi(),i=o=>{confirm("  ?")&&t(o)},s=r?.find(o=>o.subjectId===e.subjectId);return f.jsxs(yh,{children:[f.jsx(vh,{headerType:"close",onClose:n}),f.jsxs(Oe,{direction:"flex-col",className:"px-2 py-3 w-full text-sm text-gray-500 gap-2",children:[f.jsx(Lt,{level:3,children:e.subjectName}),f.jsx("p",{className:"text-sm text-gray-500",children:e.professorName??"  "}),f.jsxs(Oe,{align:"items-center",children:[f.jsx(S8,{className:"w-4 h-4 text-gray-400"}),f.jsx("span",{children:s?.lesnTime})]}),f.jsxs(Oe,{align:"items-center",children:[f.jsx(C8,{className:"w-4 h-4 text-gray-400"}),f.jsx("span",{children:s?.lesnRoom??"  "})]}),f.jsxs(Oe,{children:[f.jsx("span",{children:s?.manageDeptNm}),f.jsxs("span",{children:[" ",s?.studentYear+""]}),f.jsx("span",{className:"text-blue-500 text-sm",children:s?.tmNum[0]+""})]}),f.jsxs(Oe,{children:[f.jsxs("span",{children:[s?.curiTypeCdNm??""," "]}),f.jsx("span",{children:s?.remark??""})]}),f.jsx(Oe,{justify:"justify-end",className:"px-2",children:f.jsx(jt,{variant:"text",size:"medium",textColor:"secondary",onClick:i,children:""})})]})]})}function mX(){return Pi()?f.jsx(gX,{}):f.jsx(yX,{})}function gX(){const e=yo(h=>h.type),t=yo(h=>h.closeBottomSheet),n=yo(h=>h.openBottomSheet),r=()=>{t("search")},i=()=>{t("filter"),n("search")},s=()=>{n("search")},o=()=>{n("filter")},a=ys(h=>h.filters),u=ys(h=>h.setFilter),c=ys(h=>h.resetFilters);return f.jsxs(f.Fragment,{children:[f.jsx(dl,{when:e.search.isOpen,children:f.jsx(sX,{onCloseSearch:r,onOpenFiltering:o})}),f.jsx(dl,{when:e.filter.isOpen,children:f.jsx(xx,{onCloseFiltering:i,filters:a,setFilter:u,resetFilter:c})}),f.jsx(dl,{when:e.edit.isOpen,children:f.jsx(fX,{})}),f.jsx(dl,{when:e.info.isOpen,children:f.jsx(pX,{})}),f.jsx(dl,{when:!e.search.isOpen&&!e.filter.isOpen&&!e.edit.isOpen&&!e.info.isOpen,children:f.jsx("div",{className:"fixed bottom-4 right-4 z-5",children:f.jsx(jt,{size:"small",variant:"circle",onClick:s,children:f.jsx(r7,{fill:"#ffffff",className:"w-6 h-6 cursor-pointer"})})})})]})}function yX(){const e=yo(t=>t.type);return f.jsxs(f.Fragment,{children:[f.jsx(dl,{when:e.edit.isOpen,children:f.jsx(dX,{})}),f.jsx(dl,{when:e.info.isOpen,children:f.jsx(hX,{})})]})}function dl({when:e,children:t}){return e?f.jsx(f.Fragment,{children:t}):null}function vX(){return f.jsxs("div",{className:"px-4 py-2",children:[f.jsx(gr,{children:f.jsx("title",{children:"ALLCLL | "})}),f.jsxs("div",{className:"grid md:grid-cols-5 gap-4 mb-4",children:[f.jsx("div",{className:"md:col-span-3 w-full",children:f.jsxs(Oe,{direction:"flex-col",gap:"gap-2",children:[f.jsx(Lt,{level:1,children:""}),f.jsx(iX,{}),f.jsxs(Tn,{className:"px-2 flex flex-col gap-2 relative overflow-hidden",children:[f.jsx(nX,{}),f.jsx(vO,{})]})]})}),f.jsx("div",{className:"w-full md:col-span-2 hidden md:block",children:f.jsx(VY,{})})]}),f.jsx(mX,{})]})}const xX=Cj([{path:"/",element:f.jsx(Ww,{}),errorElement:f.jsx(Cd,{}),children:[{path:"/",element:f.jsx(FD,{})},{path:"survey",element:f.jsx(Z$,{})},{path:"about",element:f.jsx(J$,{})},{path:"faq",element:f.jsx(NK,{})}]},{path:"wishes",element:f.jsx(qw,{serviceId:"baskets"}),errorElement:f.jsx(iG,{}),children:[{path:"",element:f.jsx(VK,{})},{path:":id",element:f.jsx(nG,{})}]},{path:"live",element:f.jsx(qw,{serviceId:"live"}),errorElement:f.jsx(Cd,{}),children:[{path:"",element:f.jsx(G$,{})}]},{path:"simulation",element:f.jsx(WN,{}),errorElement:f.jsx(Cd,{}),children:[{path:"",element:f.jsx(vY,{})},{path:"logs",element:f.jsx(EY,{})},{path:"logs/:runId",element:f.jsx(FY,{})}]},{path:"timetable",element:f.jsx(Ww,{}),errorElement:f.jsx(Cd,{}),children:[{path:"",element:f.jsx(vX,{})}]},{path:"*",element:f.jsx(m8,{})}]),bX=new Xj;wX();function wX(){Tk.createRoot(document.getElementById("root")).render(f.jsx(T.StrictMode,{children:f.jsx(nE,{client:bX,children:f.jsx(xP,{children:f.jsx(Lj,{router:xX})})})})),"serviceWorker"in navigator&&navigator.serviceWorker.register("/serviceWorker.js").then(function(e){console.log("Service Worker registered with scope:",e.scope)}).catch(function(e){console.log("Service Worker registration failed:",e)})}
//# sourceMappingURL=index-GsJLiA2T.js.map
