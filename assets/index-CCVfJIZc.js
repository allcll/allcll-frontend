try{let t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},e=new t.Error().stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="656ee639-1c9d-448d-acac-1b6720cf5eb3",t._sentryDebugIdIdentifier="sentry-dbid-656ee639-1c9d-448d-acac-1b6720cf5eb3")}catch{}{let t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};t.SENTRY_RELEASE={id:"56f18fca81c11013492c01687e8a68817f42d889"}}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const _8="modulepreload",S8=function(t){return"/"+t},y2={},gd=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let c=function(h){return Promise.all(h.map(f=>Promise.resolve(f).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};var o=c;document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=a?.nonce||a?.getAttribute("nonce");i=c(n.map(h=>{if(h=S8(h),h in y2)return;y2[h]=!0;const f=h.endsWith(".css"),g=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const v=document.createElement("link");if(v.rel=f?"stylesheet":_8,f||(v.as="script"),v.crossOrigin="",v.href=h,u&&v.setAttribute("nonce",u),document.head.appendChild(v),f)return new Promise((_,S)=>{v.addEventListener("load",_),v.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return i.then(a=>{for(const u of a||[])u.status==="rejected"&&s(u.reason);return e().catch(s)})};var Ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function di(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function C8(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var kg={exports:{}},fc={},Eg={exports:{}},Ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v2;function k8(){if(v2)return Ot;v2=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;function g(G){return G===null||typeof G!="object"?null:(G=f&&G[f]||G["@@iterator"],typeof G=="function"?G:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,S={};function C(G,ye,I){this.props=G,this.context=ye,this.refs=S,this.updater=I||v}C.prototype.isReactComponent={},C.prototype.setState=function(G,ye){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ye,"setState")},C.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function j(){}j.prototype=C.prototype;function R(G,ye,I){this.props=G,this.context=ye,this.refs=S,this.updater=I||v}var A=R.prototype=new j;A.constructor=R,_(A,C.prototype),A.isPureReactComponent=!0;var F=Array.isArray,U=Object.prototype.hasOwnProperty,O={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function K(G,ye,I){var Ie,Ee={},je=null,Ye=null;if(ye!=null)for(Ie in ye.ref!==void 0&&(Ye=ye.ref),ye.key!==void 0&&(je=""+ye.key),ye)U.call(ye,Ie)&&!$.hasOwnProperty(Ie)&&(Ee[Ie]=ye[Ie]);var Ke=arguments.length-2;if(Ke===1)Ee.children=I;else if(1<Ke){for(var Pe=Array(Ke),ht=0;ht<Ke;ht++)Pe[ht]=arguments[ht+2];Ee.children=Pe}if(G&&G.defaultProps)for(Ie in Ke=G.defaultProps,Ke)Ee[Ie]===void 0&&(Ee[Ie]=Ke[Ie]);return{$$typeof:t,type:G,key:je,ref:Ye,props:Ee,_owner:O.current}}function H(G,ye){return{$$typeof:t,type:G.type,key:ye,ref:G.ref,props:G.props,_owner:G._owner}}function z(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function ue(G){var ye={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(I){return ye[I]})}var de=/\/+/g;function pe(G,ye){return typeof G=="object"&&G!==null&&G.key!=null?ue(""+G.key):ye.toString(36)}function q(G,ye,I,Ie,Ee){var je=typeof G;(je==="undefined"||je==="boolean")&&(G=null);var Ye=!1;if(G===null)Ye=!0;else switch(je){case"string":case"number":Ye=!0;break;case"object":switch(G.$$typeof){case t:case e:Ye=!0}}if(Ye)return Ye=G,Ee=Ee(Ye),G=Ie===""?"."+pe(Ye,0):Ie,F(Ee)?(I="",G!=null&&(I=G.replace(de,"$&/")+"/"),q(Ee,ye,I,"",function(ht){return ht})):Ee!=null&&(z(Ee)&&(Ee=H(Ee,I+(!Ee.key||Ye&&Ye.key===Ee.key?"":(""+Ee.key).replace(de,"$&/")+"/")+G)),ye.push(Ee)),1;if(Ye=0,Ie=Ie===""?".":Ie+":",F(G))for(var Ke=0;Ke<G.length;Ke++){je=G[Ke];var Pe=Ie+pe(je,Ke);Ye+=q(je,ye,I,Pe,Ee)}else if(Pe=g(G),typeof Pe=="function")for(G=Pe.call(G),Ke=0;!(je=G.next()).done;)je=je.value,Pe=Ie+pe(je,Ke++),Ye+=q(je,ye,I,Pe,Ee);else if(je==="object")throw ye=String(G),Error("Objects are not valid as a React child (found: "+(ye==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ye)+"). If you meant to render a collection of children, use an array instead.");return Ye}function V(G,ye,I){if(G==null)return G;var Ie=[],Ee=0;return q(G,Ie,"","",function(je){return ye.call(I,je,Ee++)}),Ie}function Z(G){if(G._status===-1){var ye=G._result;ye=ye(),ye.then(function(I){(G._status===0||G._status===-1)&&(G._status=1,G._result=I)},function(I){(G._status===0||G._status===-1)&&(G._status=2,G._result=I)}),G._status===-1&&(G._status=0,G._result=ye)}if(G._status===1)return G._result.default;throw G._result}var re={current:null},ne={transition:null},me={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:ne,ReactCurrentOwner:O};function D(){throw Error("act(...) is not supported in production builds of React.")}return Ot.Children={map:V,forEach:function(G,ye,I){V(G,function(){ye.apply(this,arguments)},I)},count:function(G){var ye=0;return V(G,function(){ye++}),ye},toArray:function(G){return V(G,function(ye){return ye})||[]},only:function(G){if(!z(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Ot.Component=C,Ot.Fragment=n,Ot.Profiler=i,Ot.PureComponent=R,Ot.StrictMode=r,Ot.Suspense=u,Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Ot.act=D,Ot.cloneElement=function(G,ye,I){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var Ie=_({},G.props),Ee=G.key,je=G.ref,Ye=G._owner;if(ye!=null){if(ye.ref!==void 0&&(je=ye.ref,Ye=O.current),ye.key!==void 0&&(Ee=""+ye.key),G.type&&G.type.defaultProps)var Ke=G.type.defaultProps;for(Pe in ye)U.call(ye,Pe)&&!$.hasOwnProperty(Pe)&&(Ie[Pe]=ye[Pe]===void 0&&Ke!==void 0?Ke[Pe]:ye[Pe])}var Pe=arguments.length-2;if(Pe===1)Ie.children=I;else if(1<Pe){Ke=Array(Pe);for(var ht=0;ht<Pe;ht++)Ke[ht]=arguments[ht+2];Ie.children=Ke}return{$$typeof:t,type:G.type,key:Ee,ref:je,props:Ie,_owner:Ye}},Ot.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:s,_context:G},G.Consumer=G},Ot.createElement=K,Ot.createFactory=function(G){var ye=K.bind(null,G);return ye.type=G,ye},Ot.createRef=function(){return{current:null}},Ot.forwardRef=function(G){return{$$typeof:a,render:G}},Ot.isValidElement=z,Ot.lazy=function(G){return{$$typeof:h,_payload:{_status:-1,_result:G},_init:Z}},Ot.memo=function(G,ye){return{$$typeof:c,type:G,compare:ye===void 0?null:ye}},Ot.startTransition=function(G){var ye=ne.transition;ne.transition={};try{G()}finally{ne.transition=ye}},Ot.unstable_act=D,Ot.useCallback=function(G,ye){return re.current.useCallback(G,ye)},Ot.useContext=function(G){return re.current.useContext(G)},Ot.useDebugValue=function(){},Ot.useDeferredValue=function(G){return re.current.useDeferredValue(G)},Ot.useEffect=function(G,ye){return re.current.useEffect(G,ye)},Ot.useId=function(){return re.current.useId()},Ot.useImperativeHandle=function(G,ye,I){return re.current.useImperativeHandle(G,ye,I)},Ot.useInsertionEffect=function(G,ye){return re.current.useInsertionEffect(G,ye)},Ot.useLayoutEffect=function(G,ye){return re.current.useLayoutEffect(G,ye)},Ot.useMemo=function(G,ye){return re.current.useMemo(G,ye)},Ot.useReducer=function(G,ye,I){return re.current.useReducer(G,ye,I)},Ot.useRef=function(G){return re.current.useRef(G)},Ot.useState=function(G){return re.current.useState(G)},Ot.useSyncExternalStore=function(G,ye,I){return re.current.useSyncExternalStore(G,ye,I)},Ot.useTransition=function(){return re.current.useTransition()},Ot.version="18.3.1",Ot}var x2;function xp(){return x2||(x2=1,Eg.exports=k8()),Eg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b2;function E8(){if(b2)return fc;b2=1;var t=xp(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,u,c){var h,f={},g=null,v=null;c!==void 0&&(g=""+c),u.key!==void 0&&(g=""+u.key),u.ref!==void 0&&(v=u.ref);for(h in u)r.call(u,h)&&!s.hasOwnProperty(h)&&(f[h]=u[h]);if(a&&a.defaultProps)for(h in u=a.defaultProps,u)f[h]===void 0&&(f[h]=u[h]);return{$$typeof:e,type:a,key:g,ref:v,props:f,_owner:i.current}}return fc.Fragment=n,fc.jsx=o,fc.jsxs=o,fc}var w2;function j8(){return w2||(w2=1,kg.exports=E8()),kg.exports}var p=j8(),P=xp();const en=di(P);var Bh={},jg={exports:{}},zr={},Tg={exports:{}},Ng={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _2;function T8(){return _2||(_2=1,function(t){function e(ne,me){var D=ne.length;ne.push(me);e:for(;0<D;){var G=D-1>>>1,ye=ne[G];if(0<i(ye,me))ne[G]=me,ne[D]=ye,D=G;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var me=ne[0],D=ne.pop();if(D!==me){ne[0]=D;e:for(var G=0,ye=ne.length,I=ye>>>1;G<I;){var Ie=2*(G+1)-1,Ee=ne[Ie],je=Ie+1,Ye=ne[je];if(0>i(Ee,D))je<ye&&0>i(Ye,Ee)?(ne[G]=Ye,ne[je]=D,G=je):(ne[G]=Ee,ne[Ie]=D,G=Ie);else if(je<ye&&0>i(Ye,D))ne[G]=Ye,ne[je]=D,G=je;else break e}}return me}function i(ne,me){var D=ne.sortIndex-me.sortIndex;return D!==0?D:ne.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],h=1,f=null,g=3,v=!1,_=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(ne){for(var me=n(c);me!==null;){if(me.callback===null)r(c);else if(me.startTime<=ne)r(c),me.sortIndex=me.expirationTime,e(u,me);else break;me=n(c)}}function F(ne){if(S=!1,A(ne),!_)if(n(u)!==null)_=!0,Z(U);else{var me=n(c);me!==null&&re(F,me.startTime-ne)}}function U(ne,me){_=!1,S&&(S=!1,j(K),K=-1),v=!0;var D=g;try{for(A(me),f=n(u);f!==null&&(!(f.expirationTime>me)||ne&&!ue());){var G=f.callback;if(typeof G=="function"){f.callback=null,g=f.priorityLevel;var ye=G(f.expirationTime<=me);me=t.unstable_now(),typeof ye=="function"?f.callback=ye:f===n(u)&&r(u),A(me)}else r(u);f=n(u)}if(f!==null)var I=!0;else{var Ie=n(c);Ie!==null&&re(F,Ie.startTime-me),I=!1}return I}finally{f=null,g=D,v=!1}}var O=!1,$=null,K=-1,H=5,z=-1;function ue(){return!(t.unstable_now()-z<H)}function de(){if($!==null){var ne=t.unstable_now();z=ne;var me=!0;try{me=$(!0,ne)}finally{me?pe():(O=!1,$=null)}}else O=!1}var pe;if(typeof R=="function")pe=function(){R(de)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,V=q.port2;q.port1.onmessage=de,pe=function(){V.postMessage(null)}}else pe=function(){C(de,0)};function Z(ne){$=ne,O||(O=!0,pe())}function re(ne,me){K=C(function(){ne(t.unstable_now())},me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_continueExecution=function(){_||v||(_=!0,Z(U))},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(ne){switch(g){case 1:case 2:case 3:var me=3;break;default:me=g}var D=g;g=me;try{return ne()}finally{g=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ne,me){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var D=g;g=ne;try{return me()}finally{g=D}},t.unstable_scheduleCallback=function(ne,me,D){var G=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?G+D:G):D=G,ne){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=D+ye,ne={id:h++,callback:me,priorityLevel:ne,startTime:D,expirationTime:ye,sortIndex:-1},D>G?(ne.sortIndex=D,e(c,ne),n(u)===null&&ne===n(c)&&(S?(j(K),K=-1):S=!0,re(F,D-G))):(ne.sortIndex=ye,e(u,ne),_||v||(_=!0,Z(U))),ne},t.unstable_shouldYield=ue,t.unstable_wrapCallback=function(ne){var me=g;return function(){var D=g;g=me;try{return ne.apply(this,arguments)}finally{g=D}}}}(Ng)),Ng}var S2;function N8(){return S2||(S2=1,Tg.exports=T8()),Tg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C2;function P8(){if(C2)return zr;C2=1;var t=xp(),e=N8();function n(l){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(l,d){o(l,d),o(l+"Capture",d)}function o(l,d){for(i[l]=d,l=0;l<d.length;l++)r.add(d[l])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function g(l){return u.call(f,l)?!0:u.call(h,l)?!1:c.test(l)?f[l]=!0:(h[l]=!0,!1)}function v(l,d,m,x){if(m!==null&&m.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return x?!1:m!==null?!m.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function _(l,d,m,x){if(d===null||typeof d>"u"||v(l,d,m,x))return!0;if(x)return!1;if(m!==null)switch(m.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function S(l,d,m,x,w,E,L){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=x,this.attributeNamespace=w,this.mustUseProperty=m,this.propertyName=l,this.type=d,this.sanitizeURL=E,this.removeEmptyString=L}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){C[l]=new S(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var d=l[0];C[d]=new S(d,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){C[l]=new S(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){C[l]=new S(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){C[l]=new S(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){C[l]=new S(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){C[l]=new S(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){C[l]=new S(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){C[l]=new S(l,5,!1,l.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function R(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var d=l.replace(j,R);C[d]=new S(d,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var d=l.replace(j,R);C[d]=new S(d,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var d=l.replace(j,R);C[d]=new S(d,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){C[l]=new S(l,1,!1,l.toLowerCase(),null,!1,!1)}),C.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){C[l]=new S(l,1,!1,l.toLowerCase(),null,!0,!0)});function A(l,d,m,x){var w=C.hasOwnProperty(d)?C[d]:null;(w!==null?w.type!==0:x||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(_(d,m,w,x)&&(m=null),x||w===null?g(d)&&(m===null?l.removeAttribute(d):l.setAttribute(d,""+m)):w.mustUseProperty?l[w.propertyName]=m===null?w.type===3?!1:"":m:(d=w.attributeName,x=w.attributeNamespace,m===null?l.removeAttribute(d):(w=w.type,m=w===3||w===4&&m===!0?"":""+m,x?l.setAttributeNS(x,d,m):l.setAttribute(d,m))))}var F=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),O=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),ue=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),ne=Symbol.iterator;function me(l){return l===null||typeof l!="object"?null:(l=ne&&l[ne]||l["@@iterator"],typeof l=="function"?l:null)}var D=Object.assign,G;function ye(l){if(G===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);G=d&&d[1]||""}return`
`+G+l}var I=!1;function Ie(l,d){if(!l||I)return"";I=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(be){var x=be}Reflect.construct(l,[],d)}else{try{d.call()}catch(be){x=be}l.call(d.prototype)}else{try{throw Error()}catch(be){x=be}l()}}catch(be){if(be&&x&&typeof be.stack=="string"){for(var w=be.stack.split(`
`),E=x.stack.split(`
`),L=w.length-1,Q=E.length-1;1<=L&&0<=Q&&w[L]!==E[Q];)Q--;for(;1<=L&&0<=Q;L--,Q--)if(w[L]!==E[Q]){if(L!==1||Q!==1)do if(L--,Q--,0>Q||w[L]!==E[Q]){var J=`
`+w[L].replace(" at new "," at ");return l.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",l.displayName)),J}while(1<=L&&0<=Q);break}}}finally{I=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?ye(l):""}function Ee(l){switch(l.tag){case 5:return ye(l.type);case 16:return ye("Lazy");case 13:return ye("Suspense");case 19:return ye("SuspenseList");case 0:case 2:case 15:return l=Ie(l.type,!1),l;case 11:return l=Ie(l.type.render,!1),l;case 1:return l=Ie(l.type,!0),l;default:return""}}function je(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case $:return"Fragment";case O:return"Portal";case H:return"Profiler";case K:return"StrictMode";case pe:return"Suspense";case q:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case ue:return(l.displayName||"Context")+".Consumer";case z:return(l._context.displayName||"Context")+".Provider";case de:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case V:return d=l.displayName||null,d!==null?d:je(l.type)||"Memo";case Z:d=l._payload,l=l._init;try{return je(l(d))}catch{}}return null}function Ye(l){var d=l.type;switch(l.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=d.render,l=l.displayName||l.name||"",d.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(d);case 8:return d===K?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function Ke(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Pe(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function ht(l){var d=Pe(l)?"checked":"value",m=Object.getOwnPropertyDescriptor(l.constructor.prototype,d),x=""+l[d];if(!l.hasOwnProperty(d)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var w=m.get,E=m.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return w.call(this)},set:function(L){x=""+L,E.call(this,L)}}),Object.defineProperty(l,d,{enumerable:m.enumerable}),{getValue:function(){return x},setValue:function(L){x=""+L},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function ln(l){l._valueTracker||(l._valueTracker=ht(l))}function Tt(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var m=d.getValue(),x="";return l&&(x=Pe(l)?l.checked?"true":"false":l.value),l=x,l!==m?(d.setValue(l),!0):!1}function fn(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function un(l,d){var m=d.checked;return D({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??l._wrapperState.initialChecked})}function En(l,d){var m=d.defaultValue==null?"":d.defaultValue,x=d.checked!=null?d.checked:d.defaultChecked;m=Ke(d.value!=null?d.value:m),l._wrapperState={initialChecked:x,initialValue:m,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function xs(l,d){d=d.checked,d!=null&&A(l,"checked",d,!1)}function Ni(l,d){xs(l,d);var m=Ke(d.value),x=d.type;if(m!=null)x==="number"?(m===0&&l.value===""||l.value!=m)&&(l.value=""+m):l.value!==""+m&&(l.value=""+m);else if(x==="submit"||x==="reset"){l.removeAttribute("value");return}d.hasOwnProperty("value")?es(l,d.type,m):d.hasOwnProperty("defaultValue")&&es(l,d.type,Ke(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(l.defaultChecked=!!d.defaultChecked)}function so(l,d,m){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var x=d.type;if(!(x!=="submit"&&x!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+l._wrapperState.initialValue,m||d===l.value||(l.value=d),l.defaultValue=d}m=l.name,m!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,m!==""&&(l.name=m)}function es(l,d,m){(d!=="number"||fn(l.ownerDocument)!==l)&&(m==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+m&&(l.defaultValue=""+m))}var Or=Array.isArray;function jn(l,d,m,x){if(l=l.options,d){d={};for(var w=0;w<m.length;w++)d["$"+m[w]]=!0;for(m=0;m<l.length;m++)w=d.hasOwnProperty("$"+l[m].value),l[m].selected!==w&&(l[m].selected=w),w&&x&&(l[m].defaultSelected=!0)}else{for(m=""+Ke(m),d=null,w=0;w<l.length;w++){if(l[w].value===m){l[w].selected=!0,x&&(l[w].defaultSelected=!0);return}d!==null||l[w].disabled||(d=l[w])}d!==null&&(d.selected=!0)}}function sr(l,d){if(d.dangerouslySetInnerHTML!=null)throw Error(n(91));return D({},d,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function or(l,d){var m=d.value;if(m==null){if(m=d.children,d=d.defaultValue,m!=null){if(d!=null)throw Error(n(92));if(Or(m)){if(1<m.length)throw Error(n(93));m=m[0]}d=m}d==null&&(d=""),m=d}l._wrapperState={initialValue:Ke(m)}}function ts(l,d){var m=Ke(d.value),x=Ke(d.defaultValue);m!=null&&(m=""+m,m!==l.value&&(l.value=m),d.defaultValue==null&&l.defaultValue!==m&&(l.defaultValue=m)),x!=null&&(l.defaultValue=""+x)}function Ar(l){var d=l.textContent;d===l._wrapperState.initialValue&&d!==""&&d!==null&&(l.value=d)}function Ce(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oe(l,d){return l==null||l==="http://www.w3.org/1999/xhtml"?Ce(d):l==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var lt,pt=function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,m,x,w){MSApp.execUnsafeLocalFunction(function(){return l(d,m,x,w)})}:l}(function(l,d){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=d;else{for(lt=lt||document.createElement("div"),lt.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=lt.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;d.firstChild;)l.appendChild(d.firstChild)}});function Nt(l,d){if(d){var m=l.firstChild;if(m&&m===l.lastChild&&m.nodeType===3){m.nodeValue=d;return}}l.textContent=d}var Wt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},An=["Webkit","ms","Moz","O"];Object.keys(Wt).forEach(function(l){An.forEach(function(d){d=d+l.charAt(0).toUpperCase()+l.substring(1),Wt[d]=Wt[l]})});function Ln(l,d,m){return d==null||typeof d=="boolean"||d===""?"":m||typeof d!="number"||d===0||Wt.hasOwnProperty(l)&&Wt[l]?(""+d).trim():d+"px"}function _r(l,d){l=l.style;for(var m in d)if(d.hasOwnProperty(m)){var x=m.indexOf("--")===0,w=Ln(m,d[m],x);m==="float"&&(m="cssFloat"),x?l.setProperty(m,w):l[m]=w}}var Wn=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ve(l,d){if(d){if(Wn[l]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(n(137,l));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(n(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(n(61))}if(d.style!=null&&typeof d.style!="object")throw Error(n(62))}}function Tn(l,d){if(l.indexOf("-")===-1)return typeof d.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pn=null;function fi(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var qe=null,Xr=null,Pi=null;function bs(l){if(l=Ju(l)){if(typeof qe!="function")throw Error(n(280));var d=l.stateNode;d&&(d=eh(d),qe(l.stateNode,l.type,d))}}function ns(l){Xr?Pi?Pi.push(l):Pi=[l]:Xr=l}function Oi(){if(Xr){var l=Xr,d=Pi;if(Pi=Xr=null,bs(l),d)for(l=0;l<d.length;l++)bs(d[l])}}function al(l,d){return l(d)}function ll(){}var X=!1;function fe(l,d,m){if(X)return l(d,m);X=!0;try{return al(l,d,m)}finally{X=!1,(Xr!==null||Pi!==null)&&(ll(),Oi())}}function _e(l,d){var m=l.stateNode;if(m===null)return null;var x=eh(m);if(x===null)return null;m=x[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(l=l.type,x=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!x;break e;default:l=!1}if(l)return null;if(m&&typeof m!="function")throw Error(n(231,d,typeof m));return m}var Le=!1;if(a)try{var Te={};Object.defineProperty(Te,"passive",{get:function(){Le=!0}}),window.addEventListener("test",Te,Te),window.removeEventListener("test",Te,Te)}catch{Le=!1}function We(l,d,m,x,w,E,L,Q,J){var be=Array.prototype.slice.call(arguments,3);try{d.apply(m,be)}catch(Ae){this.onError(Ae)}}var rt=!1,Je=null,tt=!1,at=null,ot={onError:function(l){rt=!0,Je=l}};function et(l,d,m,x,w,E,L,Q,J){rt=!1,Je=null,We.apply(ot,arguments)}function _t(l,d,m,x,w,E,L,Q,J){if(et.apply(this,arguments),rt){if(rt){var be=Je;rt=!1,Je=null}else throw Error(n(198));tt||(tt=!0,at=be)}}function Pt(l){var d=l,m=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(m=d.return),l=d.return;while(l)}return d.tag===3?m:null}function mn(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function Rn(l){if(Pt(l)!==l)throw Error(n(188))}function Ht(l){var d=l.alternate;if(!d){if(d=Pt(l),d===null)throw Error(n(188));return d!==l?null:l}for(var m=l,x=d;;){var w=m.return;if(w===null)break;var E=w.alternate;if(E===null){if(x=w.return,x!==null){m=x;continue}break}if(w.child===E.child){for(E=w.child;E;){if(E===m)return Rn(w),l;if(E===x)return Rn(w),d;E=E.sibling}throw Error(n(188))}if(m.return!==x.return)m=w,x=E;else{for(var L=!1,Q=w.child;Q;){if(Q===m){L=!0,m=w,x=E;break}if(Q===x){L=!0,x=w,m=E;break}Q=Q.sibling}if(!L){for(Q=E.child;Q;){if(Q===m){L=!0,m=E,x=w;break}if(Q===x){L=!0,x=E,m=w;break}Q=Q.sibling}if(!L)throw Error(n(189))}}if(m.alternate!==x)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?l:d}function Kt(l){return l=Ht(l),l!==null?Kn(l):null}function Kn(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var d=Kn(l);if(d!==null)return d;l=l.sibling}return null}var Ai=e.unstable_scheduleCallback,Sr=e.unstable_cancelCallback,$t=e.unstable_shouldYield,Jr=e.unstable_requestPaint,At=e.unstable_now,pi=e.unstable_getCurrentPriorityLevel,Cr=e.unstable_ImmediatePriority,mi=e.unstable_UserBlockingPriority,Lt=e.unstable_NormalPriority,Sn=e.unstable_LowPriority,kr=e.unstable_IdlePriority,Zr=null,Bt=null;function ws(l){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Zr,l,void 0,(l.current.flags&128)===128)}catch{}}var ft=Math.clz32?Math.clz32:Md,ul=Math.log,Rd=Math.LN2;function Md(l){return l>>>=0,l===0?32:31-(ul(l)/Rd|0)|0}var Yt=64,rs=4194304;function Li(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Ri(l,d){var m=l.pendingLanes;if(m===0)return 0;var x=0,w=l.suspendedLanes,E=l.pingedLanes,L=m&268435455;if(L!==0){var Q=L&~w;Q!==0?x=Li(Q):(E&=L,E!==0&&(x=Li(E)))}else L=m&~w,L!==0?x=Li(L):E!==0&&(x=Li(E));if(x===0)return 0;if(d!==0&&d!==x&&(d&w)===0&&(w=x&-x,E=d&-d,w>=E||w===16&&(E&4194240)!==0))return d;if((x&4)!==0&&(x|=m&16),d=l.entangledLanes,d!==0)for(l=l.entanglements,d&=x;0<d;)m=31-ft(d),w=1<<m,x|=l[m],d&=~w;return x}function Mu(l,d){switch(l){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Du(l,d){for(var m=l.suspendedLanes,x=l.pingedLanes,w=l.expirationTimes,E=l.pendingLanes;0<E;){var L=31-ft(E),Q=1<<L,J=w[L];J===-1?((Q&m)===0||(Q&x)!==0)&&(w[L]=Mu(Q,d)):J<=d&&(l.expiredLanes|=Q),E&=~Q}}function oo(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function Iu(){var l=Yt;return Yt<<=1,(Yt&4194240)===0&&(Yt=64),l}function ao(l){for(var d=[],m=0;31>m;m++)d.push(l);return d}function lo(l,d,m){l.pendingLanes|=d,d!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,d=31-ft(d),l[d]=m}function Zo(l,d){var m=l.pendingLanes&~d;l.pendingLanes=d,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=d,l.mutableReadLanes&=d,l.entangledLanes&=d,d=l.entanglements;var x=l.eventTimes;for(l=l.expirationTimes;0<m;){var w=31-ft(m),E=1<<w;d[w]=0,x[w]=-1,l[w]=-1,m&=~E}}function cl(l,d){var m=l.entangledLanes|=d;for(l=l.entanglements;m;){var x=31-ft(m),w=1<<x;w&d|l[x]&d&&(l[x]|=d),m&=~w}}var Gt=0;function zt(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var dl,Fu,Dd,ar,_s,uo=!1,ei=[],Mi=null,Di=null,tn=null,lr=new Map,Ii=new Map,Lr=[],Bu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fi(l,d){switch(l){case"focusin":case"focusout":Mi=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":tn=null;break;case"pointerover":case"pointerout":lr.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ii.delete(d.pointerId)}}function ea(l,d,m,x,w,E){return l===null||l.nativeEvent!==E?(l={blockedOn:d,domEventName:m,eventSystemFlags:x,nativeEvent:E,targetContainers:[w]},d!==null&&(d=Ju(d),d!==null&&Fu(d)),l):(l.eventSystemFlags|=x,d=l.targetContainers,w!==null&&d.indexOf(w)===-1&&d.push(w),l)}function gi(l,d,m,x,w){switch(d){case"focusin":return Mi=ea(Mi,l,d,m,x,w),!0;case"dragenter":return Di=ea(Di,l,d,m,x,w),!0;case"mouseover":return tn=ea(tn,l,d,m,x,w),!0;case"pointerover":var E=w.pointerId;return lr.set(E,ea(lr.get(E)||null,l,d,m,x,w)),!0;case"gotpointercapture":return E=w.pointerId,Ii.set(E,ea(Ii.get(E)||null,l,d,m,x,w)),!0}return!1}function hl(l){var d=pa(l.target);if(d!==null){var m=Pt(d);if(m!==null){if(d=m.tag,d===13){if(d=mn(m),d!==null){l.blockedOn=d,_s(l.priority,function(){Dd(m)});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){l.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}l.blockedOn=null}function ta(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var m=ra(l.domEventName,l.eventSystemFlags,d[0],l.nativeEvent);if(m===null){m=l.nativeEvent;var x=new m.constructor(m.type,m);pn=x,m.target.dispatchEvent(x),pn=null}else return d=Ju(m),d!==null&&Fu(d),l.blockedOn=m,!1;d.shift()}return!0}function fl(l,d,m){ta(l)&&m.delete(d)}function na(){uo=!1,Mi!==null&&ta(Mi)&&(Mi=null),Di!==null&&ta(Di)&&(Di=null),tn!==null&&ta(tn)&&(tn=null),lr.forEach(fl),Ii.forEach(fl)}function Ss(l,d){l.blockedOn===d&&(l.blockedOn=null,uo||(uo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,na)))}function co(l){function d(w){return Ss(w,l)}if(0<ei.length){Ss(ei[0],l);for(var m=1;m<ei.length;m++){var x=ei[m];x.blockedOn===l&&(x.blockedOn=null)}}for(Mi!==null&&Ss(Mi,l),Di!==null&&Ss(Di,l),tn!==null&&Ss(tn,l),lr.forEach(d),Ii.forEach(d),m=0;m<Lr.length;m++)x=Lr[m],x.blockedOn===l&&(x.blockedOn=null);for(;0<Lr.length&&(m=Lr[0],m.blockedOn===null);)hl(m),m.blockedOn===null&&Lr.shift()}var ho=F.ReactCurrentBatchConfig,is=!0;function om(l,d,m,x){var w=Gt,E=ho.transition;ho.transition=null;try{Gt=1,fo(l,d,m,x)}finally{Gt=w,ho.transition=E}}function am(l,d,m,x){var w=Gt,E=ho.transition;ho.transition=null;try{Gt=4,fo(l,d,m,x)}finally{Gt=w,ho.transition=E}}function fo(l,d,m,x){if(is){var w=ra(l,d,m,x);if(w===null)mm(l,d,x,Cs,m),Fi(l,x);else if(gi(w,l,d,m,x))x.stopPropagation();else if(Fi(l,x),d&4&&-1<Bu.indexOf(l)){for(;w!==null;){var E=Ju(w);if(E!==null&&dl(E),E=ra(l,d,m,x),E===null&&mm(l,d,x,Cs,m),E===w)break;w=E}w!==null&&x.stopPropagation()}else mm(l,d,x,null,m)}}var Cs=null;function ra(l,d,m,x){if(Cs=null,l=fi(x),l=pa(l),l!==null)if(d=Pt(l),d===null)l=null;else if(m=d.tag,m===13){if(l=mn(d),l!==null)return l;l=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null);return Cs=l,null}function Id(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pi()){case Cr:return 1;case mi:return 4;case Lt:case Sn:return 16;case kr:return 536870912;default:return 16}default:return 16}}var ss=null,zu=null,po=null;function pl(){if(po)return po;var l,d=zu,m=d.length,x,w="value"in ss?ss.value:ss.textContent,E=w.length;for(l=0;l<m&&d[l]===w[l];l++);var L=m-l;for(x=1;x<=L&&d[m-x]===w[E-x];x++);return po=w.slice(l,1<x?1-x:void 0)}function ia(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function ks(){return!0}function sa(){return!1}function Gn(l){function d(m,x,w,E,L){this._reactName=m,this._targetInst=w,this.type=x,this.nativeEvent=E,this.target=L,this.currentTarget=null;for(var Q in l)l.hasOwnProperty(Q)&&(m=l[Q],this[Q]=m?m(E):E[Q]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?ks:sa,this.isPropagationStopped=sa,this}return D(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=ks)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=ks)},persist:function(){},isPersistent:ks}),d}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$u=Gn(Es),os=D({},Es,{view:0,detail:0}),Uu=Gn(os),oa,aa,js,Nn=D({},os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ua,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==js&&(js&&l.type==="mousemove"?(oa=l.screenX-js.screenX,aa=l.screenY-js.screenY):aa=oa=0,js=l),oa)},movementY:function(l){return"movementY"in l?l.movementY:aa}}),mo=Gn(Nn),la=D({},Nn,{dataTransfer:0}),Fd=Gn(la),ml=D({},os,{relatedTarget:0}),gl=Gn(ml),Bd=D({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),yl=Gn(Bd),Hu=D({},Es,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Ts=Gn(Hu),Qu=D({},Es,{data:0}),vl=Gn(Qu),xl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lm(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=zd[l])?!!d[l]:!1}function ua(){return lm}var bl=D({},os,{key:function(l){if(l.key){var d=xl[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=ia(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Vu[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ua,charCode:function(l){return l.type==="keypress"?ia(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?ia(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),um=Gn(bl),qu=D({},Nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wl=Gn(qu),cm=D({},os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ua}),$d=Gn(cm),dm=D({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ud=Gn(dm),Hd=D({},Nn,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),hm=Gn(Hd),Qd=[9,13,27,32],ca=a&&"CompositionEvent"in window,go=null;a&&"documentMode"in document&&(go=document.documentMode);var Vd=a&&"TextEvent"in window&&!go,qd=a&&(!ca||go&&8<go&&11>=go),Wd=" ",Kd=!1;function da(l,d){switch(l){case"keyup":return Qd.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yi(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Jt=!1;function _l(l,d){switch(l){case"compositionend":return yi(d);case"keypress":return d.which!==32?null:(Kd=!0,Wd);case"textInput":return l=d.data,l===Wd&&Kd?null:l;default:return null}}function Rr(l,d){if(Jt)return l==="compositionend"||!ca&&da(l,d)?(l=pl(),po=zu=ss=null,Jt=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return qd&&d.locale!=="ko"?null:d.data;default:return null}}var fm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sl(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!fm[l.type]:d==="textarea"}function Wu(l,d,m,x){ns(x),d=Xd(d,"onChange"),0<d.length&&(m=new $u("onChange","change",null,m,x),l.push({event:m,listeners:d}))}var ti=null,Ns=null;function yo(l){Lv(l,0)}function ni(l){var d=El(l);if(Tt(d))return l}function Gd(l,d){if(l==="change")return d}var y=!1;if(a){var b;if(a){var k="oninput"in document;if(!k){var T=document.createElement("div");T.setAttribute("oninput","return;"),k=typeof T.oninput=="function"}b=k}else b=!1;y=b&&(!document.documentMode||9<document.documentMode)}function N(){ti&&(ti.detachEvent("onpropertychange",M),Ns=ti=null)}function M(l){if(l.propertyName==="value"&&ni(Ns)){var d=[];Wu(d,Ns,l,fi(l)),fe(yo,d)}}function B(l,d,m){l==="focusin"?(N(),ti=d,Ns=m,ti.attachEvent("onpropertychange",M)):l==="focusout"&&N()}function W(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return ni(Ns)}function ee(l,d){if(l==="click")return ni(d)}function ie(l,d){if(l==="input"||l==="change")return ni(d)}function le(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var Y=typeof Object.is=="function"?Object.is:le;function ce(l,d){if(Y(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var m=Object.keys(l),x=Object.keys(d);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var w=m[x];if(!u.call(d,w)||!Y(l[w],d[w]))return!1}return!0}function te(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function ae(l,d){var m=te(l);l=0;for(var x;m;){if(m.nodeType===3){if(x=l+m.textContent.length,l<=d&&x>=d)return{node:m,offset:d-l};l=x}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=te(m)}}function he(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?he(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function oe(){for(var l=window,d=fn();d instanceof l.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch{m=!1}if(m)l=d.contentWindow;else break;d=fn(l.document)}return d}function ve(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}function we(l){var d=oe(),m=l.focusedElem,x=l.selectionRange;if(d!==m&&m&&m.ownerDocument&&he(m.ownerDocument.documentElement,m)){if(x!==null&&ve(m)){if(d=x.start,l=x.end,l===void 0&&(l=d),"selectionStart"in m)m.selectionStart=d,m.selectionEnd=Math.min(l,m.value.length);else if(l=(d=m.ownerDocument||document)&&d.defaultView||window,l.getSelection){l=l.getSelection();var w=m.textContent.length,E=Math.min(x.start,w);x=x.end===void 0?E:Math.min(x.end,w),!l.extend&&E>x&&(w=x,x=E,E=w),w=ae(m,E);var L=ae(m,x);w&&L&&(l.rangeCount!==1||l.anchorNode!==w.node||l.anchorOffset!==w.offset||l.focusNode!==L.node||l.focusOffset!==L.offset)&&(d=d.createRange(),d.setStart(w.node,w.offset),l.removeAllRanges(),E>x?(l.addRange(d),l.extend(L.node,L.offset)):(d.setEnd(L.node,L.offset),l.addRange(d)))}}for(d=[],l=m;l=l.parentNode;)l.nodeType===1&&d.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<d.length;m++)l=d[m],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var Se=a&&"documentMode"in document&&11>=document.documentMode,ke=null,Me=null,Ue=null,De=!1;function Be(l,d,m){var x=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;De||ke==null||ke!==fn(x)||(x=ke,"selectionStart"in x&&ve(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Ue&&ce(Ue,x)||(Ue=x,x=Xd(Me,"onSelect"),0<x.length&&(d=new $u("onSelect","select",null,d,m),l.push({event:d,listeners:x}),d.target=ke)))}function Qe(l,d){var m={};return m[l.toLowerCase()]=d.toLowerCase(),m["Webkit"+l]="webkit"+d,m["Moz"+l]="moz"+d,m}var ze={animationend:Qe("Animation","AnimationEnd"),animationiteration:Qe("Animation","AnimationIteration"),animationstart:Qe("Animation","AnimationStart"),transitionend:Qe("Transition","TransitionEnd")},Ge={},yt={};a&&(yt=document.createElement("div").style,"AnimationEvent"in window||(delete ze.animationend.animation,delete ze.animationiteration.animation,delete ze.animationstart.animation),"TransitionEvent"in window||delete ze.transitionend.transition);function bt(l){if(Ge[l])return Ge[l];if(!ze[l])return l;var d=ze[l],m;for(m in d)if(d.hasOwnProperty(m)&&m in yt)return Ge[l]=d[m];return l}var kt=bt("animationend"),ur=bt("animationiteration"),gt=bt("animationstart"),zn=bt("transitionend"),$n=new Map,ha="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gn(l,d){$n.set(l,d),s(d,[l])}for(var Bi=0;Bi<ha.length;Bi++){var fa=ha[Bi],OS=fa.toLowerCase(),AS=fa[0].toUpperCase()+fa.slice(1);gn(OS,"on"+AS)}gn(kt,"onAnimationEnd"),gn(ur,"onAnimationIteration"),gn(gt,"onAnimationStart"),gn("dblclick","onDoubleClick"),gn("focusin","onFocus"),gn("focusout","onBlur"),gn(zn,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ku));function Av(l,d,m){var x=l.type||"unknown-event";l.currentTarget=m,_t(x,d,void 0,l),l.currentTarget=null}function Lv(l,d){d=(d&4)!==0;for(var m=0;m<l.length;m++){var x=l[m],w=x.event;x=x.listeners;e:{var E=void 0;if(d)for(var L=x.length-1;0<=L;L--){var Q=x[L],J=Q.instance,be=Q.currentTarget;if(Q=Q.listener,J!==E&&w.isPropagationStopped())break e;Av(w,Q,be),E=J}else for(L=0;L<x.length;L++){if(Q=x[L],J=Q.instance,be=Q.currentTarget,Q=Q.listener,J!==E&&w.isPropagationStopped())break e;Av(w,Q,be),E=J}}}if(tt)throw l=at,tt=!1,at=null,l}function cn(l,d){var m=d[wm];m===void 0&&(m=d[wm]=new Set);var x=l+"__bubble";m.has(x)||(Rv(d,l,2,!1),m.add(x))}function pm(l,d,m){var x=0;d&&(x|=4),Rv(m,l,x,d)}var Yd="_reactListening"+Math.random().toString(36).slice(2);function Gu(l){if(!l[Yd]){l[Yd]=!0,r.forEach(function(m){m!=="selectionchange"&&(LS.has(m)||pm(m,!1,l),pm(m,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[Yd]||(d[Yd]=!0,pm("selectionchange",!1,d))}}function Rv(l,d,m,x){switch(Id(d)){case 1:var w=om;break;case 4:w=am;break;default:w=fo}m=w.bind(null,d,m,l),w=void 0,!Le||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(w=!0),x?w!==void 0?l.addEventListener(d,m,{capture:!0,passive:w}):l.addEventListener(d,m,!0):w!==void 0?l.addEventListener(d,m,{passive:w}):l.addEventListener(d,m,!1)}function mm(l,d,m,x,w){var E=x;if((d&1)===0&&(d&2)===0&&x!==null)e:for(;;){if(x===null)return;var L=x.tag;if(L===3||L===4){var Q=x.stateNode.containerInfo;if(Q===w||Q.nodeType===8&&Q.parentNode===w)break;if(L===4)for(L=x.return;L!==null;){var J=L.tag;if((J===3||J===4)&&(J=L.stateNode.containerInfo,J===w||J.nodeType===8&&J.parentNode===w))return;L=L.return}for(;Q!==null;){if(L=pa(Q),L===null)return;if(J=L.tag,J===5||J===6){x=E=L;continue e}Q=Q.parentNode}}x=x.return}fe(function(){var be=E,Ae=fi(m),Re=[];e:{var Ne=$n.get(l);if(Ne!==void 0){var Xe=$u,nt=l;switch(l){case"keypress":if(ia(m)===0)break e;case"keydown":case"keyup":Xe=um;break;case"focusin":nt="focus",Xe=gl;break;case"focusout":nt="blur",Xe=gl;break;case"beforeblur":case"afterblur":Xe=gl;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Xe=mo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Xe=Fd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Xe=$d;break;case kt:case ur:case gt:Xe=yl;break;case zn:Xe=Ud;break;case"scroll":Xe=Uu;break;case"wheel":Xe=hm;break;case"copy":case"cut":case"paste":Xe=Ts;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Xe=wl}var it=(d&4)!==0,Pn=!it&&l==="scroll",ge=it?Ne!==null?Ne+"Capture":null:Ne;it=[];for(var se=be,xe;se!==null;){xe=se;var $e=xe.stateNode;if(xe.tag===5&&$e!==null&&(xe=$e,ge!==null&&($e=_e(se,ge),$e!=null&&it.push(Yu(se,$e,xe)))),Pn)break;se=se.return}0<it.length&&(Ne=new Xe(Ne,nt,null,m,Ae),Re.push({event:Ne,listeners:it}))}}if((d&7)===0){e:{if(Ne=l==="mouseover"||l==="pointerover",Xe=l==="mouseout"||l==="pointerout",Ne&&m!==pn&&(nt=m.relatedTarget||m.fromElement)&&(pa(nt)||nt[Ps]))break e;if((Xe||Ne)&&(Ne=Ae.window===Ae?Ae:(Ne=Ae.ownerDocument)?Ne.defaultView||Ne.parentWindow:window,Xe?(nt=m.relatedTarget||m.toElement,Xe=be,nt=nt?pa(nt):null,nt!==null&&(Pn=Pt(nt),nt!==Pn||nt.tag!==5&&nt.tag!==6)&&(nt=null)):(Xe=null,nt=be),Xe!==nt)){if(it=mo,$e="onMouseLeave",ge="onMouseEnter",se="mouse",(l==="pointerout"||l==="pointerover")&&(it=wl,$e="onPointerLeave",ge="onPointerEnter",se="pointer"),Pn=Xe==null?Ne:El(Xe),xe=nt==null?Ne:El(nt),Ne=new it($e,se+"leave",Xe,m,Ae),Ne.target=Pn,Ne.relatedTarget=xe,$e=null,pa(Ae)===be&&(it=new it(ge,se+"enter",nt,m,Ae),it.target=xe,it.relatedTarget=Pn,$e=it),Pn=$e,Xe&&nt)t:{for(it=Xe,ge=nt,se=0,xe=it;xe;xe=Cl(xe))se++;for(xe=0,$e=ge;$e;$e=Cl($e))xe++;for(;0<se-xe;)it=Cl(it),se--;for(;0<xe-se;)ge=Cl(ge),xe--;for(;se--;){if(it===ge||ge!==null&&it===ge.alternate)break t;it=Cl(it),ge=Cl(ge)}it=null}else it=null;Xe!==null&&Mv(Re,Ne,Xe,it,!1),nt!==null&&Pn!==null&&Mv(Re,Pn,nt,it,!0)}}e:{if(Ne=be?El(be):window,Xe=Ne.nodeName&&Ne.nodeName.toLowerCase(),Xe==="select"||Xe==="input"&&Ne.type==="file")var st=Gd;else if(Sl(Ne))if(y)st=ie;else{st=W;var ut=B}else(Xe=Ne.nodeName)&&Xe.toLowerCase()==="input"&&(Ne.type==="checkbox"||Ne.type==="radio")&&(st=ee);if(st&&(st=st(l,be))){Wu(Re,st,m,Ae);break e}ut&&ut(l,Ne,be),l==="focusout"&&(ut=Ne._wrapperState)&&ut.controlled&&Ne.type==="number"&&es(Ne,"number",Ne.value)}switch(ut=be?El(be):window,l){case"focusin":(Sl(ut)||ut.contentEditable==="true")&&(ke=ut,Me=be,Ue=null);break;case"focusout":Ue=Me=ke=null;break;case"mousedown":De=!0;break;case"contextmenu":case"mouseup":case"dragend":De=!1,Be(Re,m,Ae);break;case"selectionchange":if(Se)break;case"keydown":case"keyup":Be(Re,m,Ae)}var ct;if(ca)e:{switch(l){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else Jt?da(l,m)&&(mt="onCompositionEnd"):l==="keydown"&&m.keyCode===229&&(mt="onCompositionStart");mt&&(qd&&m.locale!=="ko"&&(Jt||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Jt&&(ct=pl()):(ss=Ae,zu="value"in ss?ss.value:ss.textContent,Jt=!0)),ut=Xd(be,mt),0<ut.length&&(mt=new vl(mt,l,null,m,Ae),Re.push({event:mt,listeners:ut}),ct?mt.data=ct:(ct=yi(m),ct!==null&&(mt.data=ct)))),(ct=Vd?_l(l,m):Rr(l,m))&&(be=Xd(be,"onBeforeInput"),0<be.length&&(Ae=new vl("onBeforeInput","beforeinput",null,m,Ae),Re.push({event:Ae,listeners:be}),Ae.data=ct))}Lv(Re,d)})}function Yu(l,d,m){return{instance:l,listener:d,currentTarget:m}}function Xd(l,d){for(var m=d+"Capture",x=[];l!==null;){var w=l,E=w.stateNode;w.tag===5&&E!==null&&(w=E,E=_e(l,m),E!=null&&x.unshift(Yu(l,E,w)),E=_e(l,d),E!=null&&x.push(Yu(l,E,w))),l=l.return}return x}function Cl(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function Mv(l,d,m,x,w){for(var E=d._reactName,L=[];m!==null&&m!==x;){var Q=m,J=Q.alternate,be=Q.stateNode;if(J!==null&&J===x)break;Q.tag===5&&be!==null&&(Q=be,w?(J=_e(m,E),J!=null&&L.unshift(Yu(m,J,Q))):w||(J=_e(m,E),J!=null&&L.push(Yu(m,J,Q)))),m=m.return}L.length!==0&&l.push({event:d,listeners:L})}var RS=/\r\n?/g,MS=/\u0000|\uFFFD/g;function Dv(l){return(typeof l=="string"?l:""+l).replace(RS,`
`).replace(MS,"")}function Jd(l,d,m){if(d=Dv(d),Dv(l)!==d&&m)throw Error(n(425))}function Zd(){}var gm=null,ym=null;function vm(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var xm=typeof setTimeout=="function"?setTimeout:void 0,DS=typeof clearTimeout=="function"?clearTimeout:void 0,Iv=typeof Promise=="function"?Promise:void 0,IS=typeof queueMicrotask=="function"?queueMicrotask:typeof Iv<"u"?function(l){return Iv.resolve(null).then(l).catch(FS)}:xm;function FS(l){setTimeout(function(){throw l})}function bm(l,d){var m=d,x=0;do{var w=m.nextSibling;if(l.removeChild(m),w&&w.nodeType===8)if(m=w.data,m==="/$"){if(x===0){l.removeChild(w),co(d);return}x--}else m!=="$"&&m!=="$?"&&m!=="$!"||x++;m=w}while(m);co(d)}function vo(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return l}function Fv(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var m=l.data;if(m==="$"||m==="$!"||m==="$?"){if(d===0)return l;d--}else m==="/$"&&d++}l=l.previousSibling}return null}var kl=Math.random().toString(36).slice(2),as="__reactFiber$"+kl,Xu="__reactProps$"+kl,Ps="__reactContainer$"+kl,wm="__reactEvents$"+kl,BS="__reactListeners$"+kl,zS="__reactHandles$"+kl;function pa(l){var d=l[as];if(d)return d;for(var m=l.parentNode;m;){if(d=m[Ps]||m[as]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(l=Fv(l);l!==null;){if(m=l[as])return m;l=Fv(l)}return d}l=m,m=l.parentNode}return null}function Ju(l){return l=l[as]||l[Ps],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function El(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(n(33))}function eh(l){return l[Xu]||null}var _m=[],jl=-1;function xo(l){return{current:l}}function dn(l){0>jl||(l.current=_m[jl],_m[jl]=null,jl--)}function rn(l,d){jl++,_m[jl]=l.current,l.current=d}var bo={},cr=xo(bo),Mr=xo(!1),ma=bo;function Tl(l,d){var m=l.type.contextTypes;if(!m)return bo;var x=l.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===d)return x.__reactInternalMemoizedMaskedChildContext;var w={},E;for(E in m)w[E]=d[E];return x&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=d,l.__reactInternalMemoizedMaskedChildContext=w),w}function Dr(l){return l=l.childContextTypes,l!=null}function th(){dn(Mr),dn(cr)}function Bv(l,d,m){if(cr.current!==bo)throw Error(n(168));rn(cr,d),rn(Mr,m)}function zv(l,d,m){var x=l.stateNode;if(d=d.childContextTypes,typeof x.getChildContext!="function")return m;x=x.getChildContext();for(var w in x)if(!(w in d))throw Error(n(108,Ye(l)||"Unknown",w));return D({},m,x)}function nh(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||bo,ma=cr.current,rn(cr,l),rn(Mr,Mr.current),!0}function $v(l,d,m){var x=l.stateNode;if(!x)throw Error(n(169));m?(l=zv(l,d,ma),x.__reactInternalMemoizedMergedChildContext=l,dn(Mr),dn(cr),rn(cr,l)):dn(Mr),rn(Mr,m)}var Os=null,rh=!1,Sm=!1;function Uv(l){Os===null?Os=[l]:Os.push(l)}function $S(l){rh=!0,Uv(l)}function wo(){if(!Sm&&Os!==null){Sm=!0;var l=0,d=Gt;try{var m=Os;for(Gt=1;l<m.length;l++){var x=m[l];do x=x(!0);while(x!==null)}Os=null,rh=!1}catch(w){throw Os!==null&&(Os=Os.slice(l+1)),Ai(Cr,wo),w}finally{Gt=d,Sm=!1}}return null}var Nl=[],Pl=0,ih=null,sh=0,vi=[],xi=0,ga=null,As=1,Ls="";function ya(l,d){Nl[Pl++]=sh,Nl[Pl++]=ih,ih=l,sh=d}function Hv(l,d,m){vi[xi++]=As,vi[xi++]=Ls,vi[xi++]=ga,ga=l;var x=As;l=Ls;var w=32-ft(x)-1;x&=~(1<<w),m+=1;var E=32-ft(d)+w;if(30<E){var L=w-w%5;E=(x&(1<<L)-1).toString(32),x>>=L,w-=L,As=1<<32-ft(d)+w|m<<w|x,Ls=E+l}else As=1<<E|m<<w|x,Ls=l}function Cm(l){l.return!==null&&(ya(l,1),Hv(l,1,0))}function km(l){for(;l===ih;)ih=Nl[--Pl],Nl[Pl]=null,sh=Nl[--Pl],Nl[Pl]=null;for(;l===ga;)ga=vi[--xi],vi[xi]=null,Ls=vi[--xi],vi[xi]=null,As=vi[--xi],vi[xi]=null}var ri=null,ii=null,yn=!1,zi=null;function Qv(l,d){var m=Si(5,null,null,0);m.elementType="DELETED",m.stateNode=d,m.return=l,d=l.deletions,d===null?(l.deletions=[m],l.flags|=16):d.push(m)}function Vv(l,d){switch(l.tag){case 5:var m=l.type;return d=d.nodeType!==1||m.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(l.stateNode=d,ri=l,ii=vo(d.firstChild),!0):!1;case 6:return d=l.pendingProps===""||d.nodeType!==3?null:d,d!==null?(l.stateNode=d,ri=l,ii=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(m=ga!==null?{id:As,overflow:Ls}:null,l.memoizedState={dehydrated:d,treeContext:m,retryLane:1073741824},m=Si(18,null,null,0),m.stateNode=d,m.return=l,l.child=m,ri=l,ii=null,!0):!1;default:return!1}}function Em(l){return(l.mode&1)!==0&&(l.flags&128)===0}function jm(l){if(yn){var d=ii;if(d){var m=d;if(!Vv(l,d)){if(Em(l))throw Error(n(418));d=vo(m.nextSibling);var x=ri;d&&Vv(l,d)?Qv(x,m):(l.flags=l.flags&-4097|2,yn=!1,ri=l)}}else{if(Em(l))throw Error(n(418));l.flags=l.flags&-4097|2,yn=!1,ri=l}}}function qv(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;ri=l}function oh(l){if(l!==ri)return!1;if(!yn)return qv(l),yn=!0,!1;var d;if((d=l.tag!==3)&&!(d=l.tag!==5)&&(d=l.type,d=d!=="head"&&d!=="body"&&!vm(l.type,l.memoizedProps)),d&&(d=ii)){if(Em(l))throw Wv(),Error(n(418));for(;d;)Qv(l,d),d=vo(d.nextSibling)}if(qv(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));e:{for(l=l.nextSibling,d=0;l;){if(l.nodeType===8){var m=l.data;if(m==="/$"){if(d===0){ii=vo(l.nextSibling);break e}d--}else m!=="$"&&m!=="$!"&&m!=="$?"||d++}l=l.nextSibling}ii=null}}else ii=ri?vo(l.stateNode.nextSibling):null;return!0}function Wv(){for(var l=ii;l;)l=vo(l.nextSibling)}function Ol(){ii=ri=null,yn=!1}function Tm(l){zi===null?zi=[l]:zi.push(l)}var US=F.ReactCurrentBatchConfig;function Zu(l,d,m){if(l=m.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var x=m.stateNode}if(!x)throw Error(n(147,l));var w=x,E=""+l;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===E?d.ref:(d=function(L){var Q=w.refs;L===null?delete Q[E]:Q[E]=L},d._stringRef=E,d)}if(typeof l!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,l))}return l}function ah(l,d){throw l=Object.prototype.toString.call(d),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l))}function Kv(l){var d=l._init;return d(l._payload)}function Gv(l){function d(ge,se){if(l){var xe=ge.deletions;xe===null?(ge.deletions=[se],ge.flags|=16):xe.push(se)}}function m(ge,se){if(!l)return null;for(;se!==null;)d(ge,se),se=se.sibling;return null}function x(ge,se){for(ge=new Map;se!==null;)se.key!==null?ge.set(se.key,se):ge.set(se.index,se),se=se.sibling;return ge}function w(ge,se){return ge=No(ge,se),ge.index=0,ge.sibling=null,ge}function E(ge,se,xe){return ge.index=xe,l?(xe=ge.alternate,xe!==null?(xe=xe.index,xe<se?(ge.flags|=2,se):xe):(ge.flags|=2,se)):(ge.flags|=1048576,se)}function L(ge){return l&&ge.alternate===null&&(ge.flags|=2),ge}function Q(ge,se,xe,$e){return se===null||se.tag!==6?(se=xg(xe,ge.mode,$e),se.return=ge,se):(se=w(se,xe),se.return=ge,se)}function J(ge,se,xe,$e){var st=xe.type;return st===$?Ae(ge,se,xe.props.children,$e,xe.key):se!==null&&(se.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===Z&&Kv(st)===se.type)?($e=w(se,xe.props),$e.ref=Zu(ge,se,xe),$e.return=ge,$e):($e=Oh(xe.type,xe.key,xe.props,null,ge.mode,$e),$e.ref=Zu(ge,se,xe),$e.return=ge,$e)}function be(ge,se,xe,$e){return se===null||se.tag!==4||se.stateNode.containerInfo!==xe.containerInfo||se.stateNode.implementation!==xe.implementation?(se=bg(xe,ge.mode,$e),se.return=ge,se):(se=w(se,xe.children||[]),se.return=ge,se)}function Ae(ge,se,xe,$e,st){return se===null||se.tag!==7?(se=ka(xe,ge.mode,$e,st),se.return=ge,se):(se=w(se,xe),se.return=ge,se)}function Re(ge,se,xe){if(typeof se=="string"&&se!==""||typeof se=="number")return se=xg(""+se,ge.mode,xe),se.return=ge,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case U:return xe=Oh(se.type,se.key,se.props,null,ge.mode,xe),xe.ref=Zu(ge,null,se),xe.return=ge,xe;case O:return se=bg(se,ge.mode,xe),se.return=ge,se;case Z:var $e=se._init;return Re(ge,$e(se._payload),xe)}if(Or(se)||me(se))return se=ka(se,ge.mode,xe,null),se.return=ge,se;ah(ge,se)}return null}function Ne(ge,se,xe,$e){var st=se!==null?se.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number")return st!==null?null:Q(ge,se,""+xe,$e);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case U:return xe.key===st?J(ge,se,xe,$e):null;case O:return xe.key===st?be(ge,se,xe,$e):null;case Z:return st=xe._init,Ne(ge,se,st(xe._payload),$e)}if(Or(xe)||me(xe))return st!==null?null:Ae(ge,se,xe,$e,null);ah(ge,xe)}return null}function Xe(ge,se,xe,$e,st){if(typeof $e=="string"&&$e!==""||typeof $e=="number")return ge=ge.get(xe)||null,Q(se,ge,""+$e,st);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case U:return ge=ge.get($e.key===null?xe:$e.key)||null,J(se,ge,$e,st);case O:return ge=ge.get($e.key===null?xe:$e.key)||null,be(se,ge,$e,st);case Z:var ut=$e._init;return Xe(ge,se,xe,ut($e._payload),st)}if(Or($e)||me($e))return ge=ge.get(xe)||null,Ae(se,ge,$e,st,null);ah(se,$e)}return null}function nt(ge,se,xe,$e){for(var st=null,ut=null,ct=se,mt=se=0,Jn=null;ct!==null&&mt<xe.length;mt++){ct.index>mt?(Jn=ct,ct=null):Jn=ct.sibling;var Vt=Ne(ge,ct,xe[mt],$e);if(Vt===null){ct===null&&(ct=Jn);break}l&&ct&&Vt.alternate===null&&d(ge,ct),se=E(Vt,se,mt),ut===null?st=Vt:ut.sibling=Vt,ut=Vt,ct=Jn}if(mt===xe.length)return m(ge,ct),yn&&ya(ge,mt),st;if(ct===null){for(;mt<xe.length;mt++)ct=Re(ge,xe[mt],$e),ct!==null&&(se=E(ct,se,mt),ut===null?st=ct:ut.sibling=ct,ut=ct);return yn&&ya(ge,mt),st}for(ct=x(ge,ct);mt<xe.length;mt++)Jn=Xe(ct,ge,mt,xe[mt],$e),Jn!==null&&(l&&Jn.alternate!==null&&ct.delete(Jn.key===null?mt:Jn.key),se=E(Jn,se,mt),ut===null?st=Jn:ut.sibling=Jn,ut=Jn);return l&&ct.forEach(function(Po){return d(ge,Po)}),yn&&ya(ge,mt),st}function it(ge,se,xe,$e){var st=me(xe);if(typeof st!="function")throw Error(n(150));if(xe=st.call(xe),xe==null)throw Error(n(151));for(var ut=st=null,ct=se,mt=se=0,Jn=null,Vt=xe.next();ct!==null&&!Vt.done;mt++,Vt=xe.next()){ct.index>mt?(Jn=ct,ct=null):Jn=ct.sibling;var Po=Ne(ge,ct,Vt.value,$e);if(Po===null){ct===null&&(ct=Jn);break}l&&ct&&Po.alternate===null&&d(ge,ct),se=E(Po,se,mt),ut===null?st=Po:ut.sibling=Po,ut=Po,ct=Jn}if(Vt.done)return m(ge,ct),yn&&ya(ge,mt),st;if(ct===null){for(;!Vt.done;mt++,Vt=xe.next())Vt=Re(ge,Vt.value,$e),Vt!==null&&(se=E(Vt,se,mt),ut===null?st=Vt:ut.sibling=Vt,ut=Vt);return yn&&ya(ge,mt),st}for(ct=x(ge,ct);!Vt.done;mt++,Vt=xe.next())Vt=Xe(ct,ge,mt,Vt.value,$e),Vt!==null&&(l&&Vt.alternate!==null&&ct.delete(Vt.key===null?mt:Vt.key),se=E(Vt,se,mt),ut===null?st=Vt:ut.sibling=Vt,ut=Vt);return l&&ct.forEach(function(w8){return d(ge,w8)}),yn&&ya(ge,mt),st}function Pn(ge,se,xe,$e){if(typeof xe=="object"&&xe!==null&&xe.type===$&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case U:e:{for(var st=xe.key,ut=se;ut!==null;){if(ut.key===st){if(st=xe.type,st===$){if(ut.tag===7){m(ge,ut.sibling),se=w(ut,xe.props.children),se.return=ge,ge=se;break e}}else if(ut.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===Z&&Kv(st)===ut.type){m(ge,ut.sibling),se=w(ut,xe.props),se.ref=Zu(ge,ut,xe),se.return=ge,ge=se;break e}m(ge,ut);break}else d(ge,ut);ut=ut.sibling}xe.type===$?(se=ka(xe.props.children,ge.mode,$e,xe.key),se.return=ge,ge=se):($e=Oh(xe.type,xe.key,xe.props,null,ge.mode,$e),$e.ref=Zu(ge,se,xe),$e.return=ge,ge=$e)}return L(ge);case O:e:{for(ut=xe.key;se!==null;){if(se.key===ut)if(se.tag===4&&se.stateNode.containerInfo===xe.containerInfo&&se.stateNode.implementation===xe.implementation){m(ge,se.sibling),se=w(se,xe.children||[]),se.return=ge,ge=se;break e}else{m(ge,se);break}else d(ge,se);se=se.sibling}se=bg(xe,ge.mode,$e),se.return=ge,ge=se}return L(ge);case Z:return ut=xe._init,Pn(ge,se,ut(xe._payload),$e)}if(Or(xe))return nt(ge,se,xe,$e);if(me(xe))return it(ge,se,xe,$e);ah(ge,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"?(xe=""+xe,se!==null&&se.tag===6?(m(ge,se.sibling),se=w(se,xe),se.return=ge,ge=se):(m(ge,se),se=xg(xe,ge.mode,$e),se.return=ge,ge=se),L(ge)):m(ge,se)}return Pn}var Al=Gv(!0),Yv=Gv(!1),lh=xo(null),uh=null,Ll=null,Nm=null;function Pm(){Nm=Ll=uh=null}function Om(l){var d=lh.current;dn(lh),l._currentValue=d}function Am(l,d,m){for(;l!==null;){var x=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,x!==null&&(x.childLanes|=d)):x!==null&&(x.childLanes&d)!==d&&(x.childLanes|=d),l===m)break;l=l.return}}function Rl(l,d){uh=l,Nm=Ll=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&d)!==0&&(Ir=!0),l.firstContext=null)}function bi(l){var d=l._currentValue;if(Nm!==l)if(l={context:l,memoizedValue:d,next:null},Ll===null){if(uh===null)throw Error(n(308));Ll=l,uh.dependencies={lanes:0,firstContext:l}}else Ll=Ll.next=l;return d}var va=null;function Lm(l){va===null?va=[l]:va.push(l)}function Xv(l,d,m,x){var w=d.interleaved;return w===null?(m.next=m,Lm(d)):(m.next=w.next,w.next=m),d.interleaved=m,Rs(l,x)}function Rs(l,d){l.lanes|=d;var m=l.alternate;for(m!==null&&(m.lanes|=d),m=l,l=l.return;l!==null;)l.childLanes|=d,m=l.alternate,m!==null&&(m.childLanes|=d),m=l,l=l.return;return m.tag===3?m.stateNode:null}var _o=!1;function Rm(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jv(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Ms(l,d){return{eventTime:l,lane:d,tag:0,payload:null,callback:null,next:null}}function So(l,d,m){var x=l.updateQueue;if(x===null)return null;if(x=x.shared,(Qt&2)!==0){var w=x.pending;return w===null?d.next=d:(d.next=w.next,w.next=d),x.pending=d,Rs(l,m)}return w=x.interleaved,w===null?(d.next=d,Lm(x)):(d.next=w.next,w.next=d),x.interleaved=d,Rs(l,m)}function ch(l,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194240)!==0)){var x=d.lanes;x&=l.pendingLanes,m|=x,d.lanes=m,cl(l,m)}}function Zv(l,d){var m=l.updateQueue,x=l.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var w=null,E=null;if(m=m.firstBaseUpdate,m!==null){do{var L={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};E===null?w=E=L:E=E.next=L,m=m.next}while(m!==null);E===null?w=E=d:E=E.next=d}else w=E=d;m={baseState:x.baseState,firstBaseUpdate:w,lastBaseUpdate:E,shared:x.shared,effects:x.effects},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=d:l.next=d,m.lastBaseUpdate=d}function dh(l,d,m,x){var w=l.updateQueue;_o=!1;var E=w.firstBaseUpdate,L=w.lastBaseUpdate,Q=w.shared.pending;if(Q!==null){w.shared.pending=null;var J=Q,be=J.next;J.next=null,L===null?E=be:L.next=be,L=J;var Ae=l.alternate;Ae!==null&&(Ae=Ae.updateQueue,Q=Ae.lastBaseUpdate,Q!==L&&(Q===null?Ae.firstBaseUpdate=be:Q.next=be,Ae.lastBaseUpdate=J))}if(E!==null){var Re=w.baseState;L=0,Ae=be=J=null,Q=E;do{var Ne=Q.lane,Xe=Q.eventTime;if((x&Ne)===Ne){Ae!==null&&(Ae=Ae.next={eventTime:Xe,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var nt=l,it=Q;switch(Ne=d,Xe=m,it.tag){case 1:if(nt=it.payload,typeof nt=="function"){Re=nt.call(Xe,Re,Ne);break e}Re=nt;break e;case 3:nt.flags=nt.flags&-65537|128;case 0:if(nt=it.payload,Ne=typeof nt=="function"?nt.call(Xe,Re,Ne):nt,Ne==null)break e;Re=D({},Re,Ne);break e;case 2:_o=!0}}Q.callback!==null&&Q.lane!==0&&(l.flags|=64,Ne=w.effects,Ne===null?w.effects=[Q]:Ne.push(Q))}else Xe={eventTime:Xe,lane:Ne,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},Ae===null?(be=Ae=Xe,J=Re):Ae=Ae.next=Xe,L|=Ne;if(Q=Q.next,Q===null){if(Q=w.shared.pending,Q===null)break;Ne=Q,Q=Ne.next,Ne.next=null,w.lastBaseUpdate=Ne,w.shared.pending=null}}while(!0);if(Ae===null&&(J=Re),w.baseState=J,w.firstBaseUpdate=be,w.lastBaseUpdate=Ae,d=w.shared.interleaved,d!==null){w=d;do L|=w.lane,w=w.next;while(w!==d)}else E===null&&(w.shared.lanes=0);wa|=L,l.lanes=L,l.memoizedState=Re}}function ex(l,d,m){if(l=d.effects,d.effects=null,l!==null)for(d=0;d<l.length;d++){var x=l[d],w=x.callback;if(w!==null){if(x.callback=null,x=m,typeof w!="function")throw Error(n(191,w));w.call(x)}}}var ec={},ls=xo(ec),tc=xo(ec),nc=xo(ec);function xa(l){if(l===ec)throw Error(n(174));return l}function Mm(l,d){switch(rn(nc,d),rn(tc,l),rn(ls,ec),l=d.nodeType,l){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:Oe(null,"");break;default:l=l===8?d.parentNode:d,d=l.namespaceURI||null,l=l.tagName,d=Oe(d,l)}dn(ls),rn(ls,d)}function Ml(){dn(ls),dn(tc),dn(nc)}function tx(l){xa(nc.current);var d=xa(ls.current),m=Oe(d,l.type);d!==m&&(rn(tc,l),rn(ls,m))}function Dm(l){tc.current===l&&(dn(ls),dn(tc))}var wn=xo(0);function hh(l){for(var d=l;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Im=[];function Fm(){for(var l=0;l<Im.length;l++)Im[l]._workInProgressVersionPrimary=null;Im.length=0}var fh=F.ReactCurrentDispatcher,Bm=F.ReactCurrentBatchConfig,ba=0,_n=null,Un=null,Yn=null,ph=!1,rc=!1,ic=0,HS=0;function dr(){throw Error(n(321))}function zm(l,d){if(d===null)return!1;for(var m=0;m<d.length&&m<l.length;m++)if(!Y(l[m],d[m]))return!1;return!0}function $m(l,d,m,x,w,E){if(ba=E,_n=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,fh.current=l===null||l.memoizedState===null?WS:KS,l=m(x,w),rc){E=0;do{if(rc=!1,ic=0,25<=E)throw Error(n(301));E+=1,Yn=Un=null,d.updateQueue=null,fh.current=GS,l=m(x,w)}while(rc)}if(fh.current=yh,d=Un!==null&&Un.next!==null,ba=0,Yn=Un=_n=null,ph=!1,d)throw Error(n(300));return l}function Um(){var l=ic!==0;return ic=0,l}function us(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yn===null?_n.memoizedState=Yn=l:Yn=Yn.next=l,Yn}function wi(){if(Un===null){var l=_n.alternate;l=l!==null?l.memoizedState:null}else l=Un.next;var d=Yn===null?_n.memoizedState:Yn.next;if(d!==null)Yn=d,Un=l;else{if(l===null)throw Error(n(310));Un=l,l={memoizedState:Un.memoizedState,baseState:Un.baseState,baseQueue:Un.baseQueue,queue:Un.queue,next:null},Yn===null?_n.memoizedState=Yn=l:Yn=Yn.next=l}return Yn}function sc(l,d){return typeof d=="function"?d(l):d}function Hm(l){var d=wi(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=l;var x=Un,w=x.baseQueue,E=m.pending;if(E!==null){if(w!==null){var L=w.next;w.next=E.next,E.next=L}x.baseQueue=w=E,m.pending=null}if(w!==null){E=w.next,x=x.baseState;var Q=L=null,J=null,be=E;do{var Ae=be.lane;if((ba&Ae)===Ae)J!==null&&(J=J.next={lane:0,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null}),x=be.hasEagerState?be.eagerState:l(x,be.action);else{var Re={lane:Ae,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null};J===null?(Q=J=Re,L=x):J=J.next=Re,_n.lanes|=Ae,wa|=Ae}be=be.next}while(be!==null&&be!==E);J===null?L=x:J.next=Q,Y(x,d.memoizedState)||(Ir=!0),d.memoizedState=x,d.baseState=L,d.baseQueue=J,m.lastRenderedState=x}if(l=m.interleaved,l!==null){w=l;do E=w.lane,_n.lanes|=E,wa|=E,w=w.next;while(w!==l)}else w===null&&(m.lanes=0);return[d.memoizedState,m.dispatch]}function Qm(l){var d=wi(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=l;var x=m.dispatch,w=m.pending,E=d.memoizedState;if(w!==null){m.pending=null;var L=w=w.next;do E=l(E,L.action),L=L.next;while(L!==w);Y(E,d.memoizedState)||(Ir=!0),d.memoizedState=E,d.baseQueue===null&&(d.baseState=E),m.lastRenderedState=E}return[E,x]}function nx(){}function rx(l,d){var m=_n,x=wi(),w=d(),E=!Y(x.memoizedState,w);if(E&&(x.memoizedState=w,Ir=!0),x=x.queue,Vm(ox.bind(null,m,x,l),[l]),x.getSnapshot!==d||E||Yn!==null&&Yn.memoizedState.tag&1){if(m.flags|=2048,oc(9,sx.bind(null,m,x,w,d),void 0,null),Xn===null)throw Error(n(349));(ba&30)!==0||ix(m,d,w)}return w}function ix(l,d,m){l.flags|=16384,l={getSnapshot:d,value:m},d=_n.updateQueue,d===null?(d={lastEffect:null,stores:null},_n.updateQueue=d,d.stores=[l]):(m=d.stores,m===null?d.stores=[l]:m.push(l))}function sx(l,d,m,x){d.value=m,d.getSnapshot=x,ax(d)&&lx(l)}function ox(l,d,m){return m(function(){ax(d)&&lx(l)})}function ax(l){var d=l.getSnapshot;l=l.value;try{var m=d();return!Y(l,m)}catch{return!0}}function lx(l){var d=Rs(l,1);d!==null&&Qi(d,l,1,-1)}function ux(l){var d=us();return typeof l=="function"&&(l=l()),d.memoizedState=d.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sc,lastRenderedState:l},d.queue=l,l=l.dispatch=qS.bind(null,_n,l),[d.memoizedState,l]}function oc(l,d,m,x){return l={tag:l,create:d,destroy:m,deps:x,next:null},d=_n.updateQueue,d===null?(d={lastEffect:null,stores:null},_n.updateQueue=d,d.lastEffect=l.next=l):(m=d.lastEffect,m===null?d.lastEffect=l.next=l:(x=m.next,m.next=l,l.next=x,d.lastEffect=l)),l}function cx(){return wi().memoizedState}function mh(l,d,m,x){var w=us();_n.flags|=l,w.memoizedState=oc(1|d,m,void 0,x===void 0?null:x)}function gh(l,d,m,x){var w=wi();x=x===void 0?null:x;var E=void 0;if(Un!==null){var L=Un.memoizedState;if(E=L.destroy,x!==null&&zm(x,L.deps)){w.memoizedState=oc(d,m,E,x);return}}_n.flags|=l,w.memoizedState=oc(1|d,m,E,x)}function dx(l,d){return mh(8390656,8,l,d)}function Vm(l,d){return gh(2048,8,l,d)}function hx(l,d){return gh(4,2,l,d)}function fx(l,d){return gh(4,4,l,d)}function px(l,d){if(typeof d=="function")return l=l(),d(l),function(){d(null)};if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function mx(l,d,m){return m=m!=null?m.concat([l]):null,gh(4,4,px.bind(null,d,l),m)}function qm(){}function gx(l,d){var m=wi();d=d===void 0?null:d;var x=m.memoizedState;return x!==null&&d!==null&&zm(d,x[1])?x[0]:(m.memoizedState=[l,d],l)}function yx(l,d){var m=wi();d=d===void 0?null:d;var x=m.memoizedState;return x!==null&&d!==null&&zm(d,x[1])?x[0]:(l=l(),m.memoizedState=[l,d],l)}function vx(l,d,m){return(ba&21)===0?(l.baseState&&(l.baseState=!1,Ir=!0),l.memoizedState=m):(Y(m,d)||(m=Iu(),_n.lanes|=m,wa|=m,l.baseState=!0),d)}function QS(l,d){var m=Gt;Gt=m!==0&&4>m?m:4,l(!0);var x=Bm.transition;Bm.transition={};try{l(!1),d()}finally{Gt=m,Bm.transition=x}}function xx(){return wi().memoizedState}function VS(l,d,m){var x=jo(l);if(m={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null},bx(l))wx(d,m);else if(m=Xv(l,d,m,x),m!==null){var w=jr();Qi(m,l,x,w),_x(m,d,x)}}function qS(l,d,m){var x=jo(l),w={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null};if(bx(l))wx(d,w);else{var E=l.alternate;if(l.lanes===0&&(E===null||E.lanes===0)&&(E=d.lastRenderedReducer,E!==null))try{var L=d.lastRenderedState,Q=E(L,m);if(w.hasEagerState=!0,w.eagerState=Q,Y(Q,L)){var J=d.interleaved;J===null?(w.next=w,Lm(d)):(w.next=J.next,J.next=w),d.interleaved=w;return}}catch{}finally{}m=Xv(l,d,w,x),m!==null&&(w=jr(),Qi(m,l,x,w),_x(m,d,x))}}function bx(l){var d=l.alternate;return l===_n||d!==null&&d===_n}function wx(l,d){rc=ph=!0;var m=l.pending;m===null?d.next=d:(d.next=m.next,m.next=d),l.pending=d}function _x(l,d,m){if((m&4194240)!==0){var x=d.lanes;x&=l.pendingLanes,m|=x,d.lanes=m,cl(l,m)}}var yh={readContext:bi,useCallback:dr,useContext:dr,useEffect:dr,useImperativeHandle:dr,useInsertionEffect:dr,useLayoutEffect:dr,useMemo:dr,useReducer:dr,useRef:dr,useState:dr,useDebugValue:dr,useDeferredValue:dr,useTransition:dr,useMutableSource:dr,useSyncExternalStore:dr,useId:dr,unstable_isNewReconciler:!1},WS={readContext:bi,useCallback:function(l,d){return us().memoizedState=[l,d===void 0?null:d],l},useContext:bi,useEffect:dx,useImperativeHandle:function(l,d,m){return m=m!=null?m.concat([l]):null,mh(4194308,4,px.bind(null,d,l),m)},useLayoutEffect:function(l,d){return mh(4194308,4,l,d)},useInsertionEffect:function(l,d){return mh(4,2,l,d)},useMemo:function(l,d){var m=us();return d=d===void 0?null:d,l=l(),m.memoizedState=[l,d],l},useReducer:function(l,d,m){var x=us();return d=m!==void 0?m(d):d,x.memoizedState=x.baseState=d,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:d},x.queue=l,l=l.dispatch=VS.bind(null,_n,l),[x.memoizedState,l]},useRef:function(l){var d=us();return l={current:l},d.memoizedState=l},useState:ux,useDebugValue:qm,useDeferredValue:function(l){return us().memoizedState=l},useTransition:function(){var l=ux(!1),d=l[0];return l=QS.bind(null,l[1]),us().memoizedState=l,[d,l]},useMutableSource:function(){},useSyncExternalStore:function(l,d,m){var x=_n,w=us();if(yn){if(m===void 0)throw Error(n(407));m=m()}else{if(m=d(),Xn===null)throw Error(n(349));(ba&30)!==0||ix(x,d,m)}w.memoizedState=m;var E={value:m,getSnapshot:d};return w.queue=E,dx(ox.bind(null,x,E,l),[l]),x.flags|=2048,oc(9,sx.bind(null,x,E,m,d),void 0,null),m},useId:function(){var l=us(),d=Xn.identifierPrefix;if(yn){var m=Ls,x=As;m=(x&~(1<<32-ft(x)-1)).toString(32)+m,d=":"+d+"R"+m,m=ic++,0<m&&(d+="H"+m.toString(32)),d+=":"}else m=HS++,d=":"+d+"r"+m.toString(32)+":";return l.memoizedState=d},unstable_isNewReconciler:!1},KS={readContext:bi,useCallback:gx,useContext:bi,useEffect:Vm,useImperativeHandle:mx,useInsertionEffect:hx,useLayoutEffect:fx,useMemo:yx,useReducer:Hm,useRef:cx,useState:function(){return Hm(sc)},useDebugValue:qm,useDeferredValue:function(l){var d=wi();return vx(d,Un.memoizedState,l)},useTransition:function(){var l=Hm(sc)[0],d=wi().memoizedState;return[l,d]},useMutableSource:nx,useSyncExternalStore:rx,useId:xx,unstable_isNewReconciler:!1},GS={readContext:bi,useCallback:gx,useContext:bi,useEffect:Vm,useImperativeHandle:mx,useInsertionEffect:hx,useLayoutEffect:fx,useMemo:yx,useReducer:Qm,useRef:cx,useState:function(){return Qm(sc)},useDebugValue:qm,useDeferredValue:function(l){var d=wi();return Un===null?d.memoizedState=l:vx(d,Un.memoizedState,l)},useTransition:function(){var l=Qm(sc)[0],d=wi().memoizedState;return[l,d]},useMutableSource:nx,useSyncExternalStore:rx,useId:xx,unstable_isNewReconciler:!1};function $i(l,d){if(l&&l.defaultProps){d=D({},d),l=l.defaultProps;for(var m in l)d[m]===void 0&&(d[m]=l[m]);return d}return d}function Wm(l,d,m,x){d=l.memoizedState,m=m(x,d),m=m==null?d:D({},d,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var vh={isMounted:function(l){return(l=l._reactInternals)?Pt(l)===l:!1},enqueueSetState:function(l,d,m){l=l._reactInternals;var x=jr(),w=jo(l),E=Ms(x,w);E.payload=d,m!=null&&(E.callback=m),d=So(l,E,w),d!==null&&(Qi(d,l,w,x),ch(d,l,w))},enqueueReplaceState:function(l,d,m){l=l._reactInternals;var x=jr(),w=jo(l),E=Ms(x,w);E.tag=1,E.payload=d,m!=null&&(E.callback=m),d=So(l,E,w),d!==null&&(Qi(d,l,w,x),ch(d,l,w))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var m=jr(),x=jo(l),w=Ms(m,x);w.tag=2,d!=null&&(w.callback=d),d=So(l,w,x),d!==null&&(Qi(d,l,x,m),ch(d,l,x))}};function Sx(l,d,m,x,w,E,L){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(x,E,L):d.prototype&&d.prototype.isPureReactComponent?!ce(m,x)||!ce(w,E):!0}function Cx(l,d,m){var x=!1,w=bo,E=d.contextType;return typeof E=="object"&&E!==null?E=bi(E):(w=Dr(d)?ma:cr.current,x=d.contextTypes,E=(x=x!=null)?Tl(l,w):bo),d=new d(m,E),l.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=vh,l.stateNode=d,d._reactInternals=l,x&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=w,l.__reactInternalMemoizedMaskedChildContext=E),d}function kx(l,d,m,x){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,x),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,x),d.state!==l&&vh.enqueueReplaceState(d,d.state,null)}function Km(l,d,m,x){var w=l.stateNode;w.props=m,w.state=l.memoizedState,w.refs={},Rm(l);var E=d.contextType;typeof E=="object"&&E!==null?w.context=bi(E):(E=Dr(d)?ma:cr.current,w.context=Tl(l,E)),w.state=l.memoizedState,E=d.getDerivedStateFromProps,typeof E=="function"&&(Wm(l,d,E,m),w.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(d=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),d!==w.state&&vh.enqueueReplaceState(w,w.state,null),dh(l,m,w,x),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308)}function Dl(l,d){try{var m="",x=d;do m+=Ee(x),x=x.return;while(x);var w=m}catch(E){w=`
Error generating stack: `+E.message+`
`+E.stack}return{value:l,source:d,stack:w,digest:null}}function Gm(l,d,m){return{value:l,source:null,stack:m??null,digest:d??null}}function Ym(l,d){try{console.error(d.value)}catch(m){setTimeout(function(){throw m})}}var YS=typeof WeakMap=="function"?WeakMap:Map;function Ex(l,d,m){m=Ms(-1,m),m.tag=3,m.payload={element:null};var x=d.value;return m.callback=function(){kh||(kh=!0,dg=x),Ym(l,d)},m}function jx(l,d,m){m=Ms(-1,m),m.tag=3;var x=l.type.getDerivedStateFromError;if(typeof x=="function"){var w=d.value;m.payload=function(){return x(w)},m.callback=function(){Ym(l,d)}}var E=l.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(m.callback=function(){Ym(l,d),typeof x!="function"&&(ko===null?ko=new Set([this]):ko.add(this));var L=d.stack;this.componentDidCatch(d.value,{componentStack:L!==null?L:""})}),m}function Tx(l,d,m){var x=l.pingCache;if(x===null){x=l.pingCache=new YS;var w=new Set;x.set(d,w)}else w=x.get(d),w===void 0&&(w=new Set,x.set(d,w));w.has(m)||(w.add(m),l=c8.bind(null,l,d,m),d.then(l,l))}function Nx(l){do{var d;if((d=l.tag===13)&&(d=l.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return l;l=l.return}while(l!==null);return null}function Px(l,d,m,x,w){return(l.mode&1)===0?(l===d?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(d=Ms(-1,1),d.tag=2,So(m,d,1))),m.lanes|=1),l):(l.flags|=65536,l.lanes=w,l)}var XS=F.ReactCurrentOwner,Ir=!1;function Er(l,d,m,x){d.child=l===null?Yv(d,null,m,x):Al(d,l.child,m,x)}function Ox(l,d,m,x,w){m=m.render;var E=d.ref;return Rl(d,w),x=$m(l,d,m,x,E,w),m=Um(),l!==null&&!Ir?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~w,Ds(l,d,w)):(yn&&m&&Cm(d),d.flags|=1,Er(l,d,x,w),d.child)}function Ax(l,d,m,x,w){if(l===null){var E=m.type;return typeof E=="function"&&!vg(E)&&E.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(d.tag=15,d.type=E,Lx(l,d,E,x,w)):(l=Oh(m.type,null,x,d,d.mode,w),l.ref=d.ref,l.return=d,d.child=l)}if(E=l.child,(l.lanes&w)===0){var L=E.memoizedProps;if(m=m.compare,m=m!==null?m:ce,m(L,x)&&l.ref===d.ref)return Ds(l,d,w)}return d.flags|=1,l=No(E,x),l.ref=d.ref,l.return=d,d.child=l}function Lx(l,d,m,x,w){if(l!==null){var E=l.memoizedProps;if(ce(E,x)&&l.ref===d.ref)if(Ir=!1,d.pendingProps=x=E,(l.lanes&w)!==0)(l.flags&131072)!==0&&(Ir=!0);else return d.lanes=l.lanes,Ds(l,d,w)}return Xm(l,d,m,x,w)}function Rx(l,d,m){var x=d.pendingProps,w=x.children,E=l!==null?l.memoizedState:null;if(x.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},rn(Fl,si),si|=m;else{if((m&1073741824)===0)return l=E!==null?E.baseLanes|m:m,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:l,cachePool:null,transitions:null},d.updateQueue=null,rn(Fl,si),si|=l,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=E!==null?E.baseLanes:m,rn(Fl,si),si|=x}else E!==null?(x=E.baseLanes|m,d.memoizedState=null):x=m,rn(Fl,si),si|=x;return Er(l,d,w,m),d.child}function Mx(l,d){var m=d.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(d.flags|=512,d.flags|=2097152)}function Xm(l,d,m,x,w){var E=Dr(m)?ma:cr.current;return E=Tl(d,E),Rl(d,w),m=$m(l,d,m,x,E,w),x=Um(),l!==null&&!Ir?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~w,Ds(l,d,w)):(yn&&x&&Cm(d),d.flags|=1,Er(l,d,m,w),d.child)}function Dx(l,d,m,x,w){if(Dr(m)){var E=!0;nh(d)}else E=!1;if(Rl(d,w),d.stateNode===null)bh(l,d),Cx(d,m,x),Km(d,m,x,w),x=!0;else if(l===null){var L=d.stateNode,Q=d.memoizedProps;L.props=Q;var J=L.context,be=m.contextType;typeof be=="object"&&be!==null?be=bi(be):(be=Dr(m)?ma:cr.current,be=Tl(d,be));var Ae=m.getDerivedStateFromProps,Re=typeof Ae=="function"||typeof L.getSnapshotBeforeUpdate=="function";Re||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(Q!==x||J!==be)&&kx(d,L,x,be),_o=!1;var Ne=d.memoizedState;L.state=Ne,dh(d,x,L,w),J=d.memoizedState,Q!==x||Ne!==J||Mr.current||_o?(typeof Ae=="function"&&(Wm(d,m,Ae,x),J=d.memoizedState),(Q=_o||Sx(d,m,Q,x,Ne,J,be))?(Re||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(d.flags|=4194308)):(typeof L.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=x,d.memoizedState=J),L.props=x,L.state=J,L.context=be,x=Q):(typeof L.componentDidMount=="function"&&(d.flags|=4194308),x=!1)}else{L=d.stateNode,Jv(l,d),Q=d.memoizedProps,be=d.type===d.elementType?Q:$i(d.type,Q),L.props=be,Re=d.pendingProps,Ne=L.context,J=m.contextType,typeof J=="object"&&J!==null?J=bi(J):(J=Dr(m)?ma:cr.current,J=Tl(d,J));var Xe=m.getDerivedStateFromProps;(Ae=typeof Xe=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(Q!==Re||Ne!==J)&&kx(d,L,x,J),_o=!1,Ne=d.memoizedState,L.state=Ne,dh(d,x,L,w);var nt=d.memoizedState;Q!==Re||Ne!==nt||Mr.current||_o?(typeof Xe=="function"&&(Wm(d,m,Xe,x),nt=d.memoizedState),(be=_o||Sx(d,m,be,x,Ne,nt,J)||!1)?(Ae||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(x,nt,J),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(x,nt,J)),typeof L.componentDidUpdate=="function"&&(d.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof L.componentDidUpdate!="function"||Q===l.memoizedProps&&Ne===l.memoizedState||(d.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||Q===l.memoizedProps&&Ne===l.memoizedState||(d.flags|=1024),d.memoizedProps=x,d.memoizedState=nt),L.props=x,L.state=nt,L.context=J,x=be):(typeof L.componentDidUpdate!="function"||Q===l.memoizedProps&&Ne===l.memoizedState||(d.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||Q===l.memoizedProps&&Ne===l.memoizedState||(d.flags|=1024),x=!1)}return Jm(l,d,m,x,E,w)}function Jm(l,d,m,x,w,E){Mx(l,d);var L=(d.flags&128)!==0;if(!x&&!L)return w&&$v(d,m,!1),Ds(l,d,E);x=d.stateNode,XS.current=d;var Q=L&&typeof m.getDerivedStateFromError!="function"?null:x.render();return d.flags|=1,l!==null&&L?(d.child=Al(d,l.child,null,E),d.child=Al(d,null,Q,E)):Er(l,d,Q,E),d.memoizedState=x.state,w&&$v(d,m,!0),d.child}function Ix(l){var d=l.stateNode;d.pendingContext?Bv(l,d.pendingContext,d.pendingContext!==d.context):d.context&&Bv(l,d.context,!1),Mm(l,d.containerInfo)}function Fx(l,d,m,x,w){return Ol(),Tm(w),d.flags|=256,Er(l,d,m,x),d.child}var Zm={dehydrated:null,treeContext:null,retryLane:0};function eg(l){return{baseLanes:l,cachePool:null,transitions:null}}function Bx(l,d,m){var x=d.pendingProps,w=wn.current,E=!1,L=(d.flags&128)!==0,Q;if((Q=L)||(Q=l!==null&&l.memoizedState===null?!1:(w&2)!==0),Q?(E=!0,d.flags&=-129):(l===null||l.memoizedState!==null)&&(w|=1),rn(wn,w&1),l===null)return jm(d),l=d.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((d.mode&1)===0?d.lanes=1:l.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(L=x.children,l=x.fallback,E?(x=d.mode,E=d.child,L={mode:"hidden",children:L},(x&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=L):E=Ah(L,x,0,null),l=ka(l,x,m,null),E.return=d,l.return=d,E.sibling=l,d.child=E,d.child.memoizedState=eg(m),d.memoizedState=Zm,l):tg(d,L));if(w=l.memoizedState,w!==null&&(Q=w.dehydrated,Q!==null))return JS(l,d,L,x,Q,w,m);if(E){E=x.fallback,L=d.mode,w=l.child,Q=w.sibling;var J={mode:"hidden",children:x.children};return(L&1)===0&&d.child!==w?(x=d.child,x.childLanes=0,x.pendingProps=J,d.deletions=null):(x=No(w,J),x.subtreeFlags=w.subtreeFlags&14680064),Q!==null?E=No(Q,E):(E=ka(E,L,m,null),E.flags|=2),E.return=d,x.return=d,x.sibling=E,d.child=x,x=E,E=d.child,L=l.child.memoizedState,L=L===null?eg(m):{baseLanes:L.baseLanes|m,cachePool:null,transitions:L.transitions},E.memoizedState=L,E.childLanes=l.childLanes&~m,d.memoizedState=Zm,x}return E=l.child,l=E.sibling,x=No(E,{mode:"visible",children:x.children}),(d.mode&1)===0&&(x.lanes=m),x.return=d,x.sibling=null,l!==null&&(m=d.deletions,m===null?(d.deletions=[l],d.flags|=16):m.push(l)),d.child=x,d.memoizedState=null,x}function tg(l,d){return d=Ah({mode:"visible",children:d},l.mode,0,null),d.return=l,l.child=d}function xh(l,d,m,x){return x!==null&&Tm(x),Al(d,l.child,null,m),l=tg(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function JS(l,d,m,x,w,E,L){if(m)return d.flags&256?(d.flags&=-257,x=Gm(Error(n(422))),xh(l,d,L,x)):d.memoizedState!==null?(d.child=l.child,d.flags|=128,null):(E=x.fallback,w=d.mode,x=Ah({mode:"visible",children:x.children},w,0,null),E=ka(E,w,L,null),E.flags|=2,x.return=d,E.return=d,x.sibling=E,d.child=x,(d.mode&1)!==0&&Al(d,l.child,null,L),d.child.memoizedState=eg(L),d.memoizedState=Zm,E);if((d.mode&1)===0)return xh(l,d,L,null);if(w.data==="$!"){if(x=w.nextSibling&&w.nextSibling.dataset,x)var Q=x.dgst;return x=Q,E=Error(n(419)),x=Gm(E,x,void 0),xh(l,d,L,x)}if(Q=(L&l.childLanes)!==0,Ir||Q){if(x=Xn,x!==null){switch(L&-L){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=(w&(x.suspendedLanes|L))!==0?0:w,w!==0&&w!==E.retryLane&&(E.retryLane=w,Rs(l,w),Qi(x,l,w,-1))}return yg(),x=Gm(Error(n(421))),xh(l,d,L,x)}return w.data==="$?"?(d.flags|=128,d.child=l.child,d=d8.bind(null,l),w._reactRetry=d,null):(l=E.treeContext,ii=vo(w.nextSibling),ri=d,yn=!0,zi=null,l!==null&&(vi[xi++]=As,vi[xi++]=Ls,vi[xi++]=ga,As=l.id,Ls=l.overflow,ga=d),d=tg(d,x.children),d.flags|=4096,d)}function zx(l,d,m){l.lanes|=d;var x=l.alternate;x!==null&&(x.lanes|=d),Am(l.return,d,m)}function ng(l,d,m,x,w){var E=l.memoizedState;E===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:w}:(E.isBackwards=d,E.rendering=null,E.renderingStartTime=0,E.last=x,E.tail=m,E.tailMode=w)}function $x(l,d,m){var x=d.pendingProps,w=x.revealOrder,E=x.tail;if(Er(l,d,x.children,m),x=wn.current,(x&2)!==0)x=x&1|2,d.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&zx(l,m,d);else if(l.tag===19)zx(l,m,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}x&=1}if(rn(wn,x),(d.mode&1)===0)d.memoizedState=null;else switch(w){case"forwards":for(m=d.child,w=null;m!==null;)l=m.alternate,l!==null&&hh(l)===null&&(w=m),m=m.sibling;m=w,m===null?(w=d.child,d.child=null):(w=m.sibling,m.sibling=null),ng(d,!1,w,m,E);break;case"backwards":for(m=null,w=d.child,d.child=null;w!==null;){if(l=w.alternate,l!==null&&hh(l)===null){d.child=w;break}l=w.sibling,w.sibling=m,m=w,w=l}ng(d,!0,m,null,E);break;case"together":ng(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function bh(l,d){(d.mode&1)===0&&l!==null&&(l.alternate=null,d.alternate=null,d.flags|=2)}function Ds(l,d,m){if(l!==null&&(d.dependencies=l.dependencies),wa|=d.lanes,(m&d.childLanes)===0)return null;if(l!==null&&d.child!==l.child)throw Error(n(153));if(d.child!==null){for(l=d.child,m=No(l,l.pendingProps),d.child=m,m.return=d;l.sibling!==null;)l=l.sibling,m=m.sibling=No(l,l.pendingProps),m.return=d;m.sibling=null}return d.child}function ZS(l,d,m){switch(d.tag){case 3:Ix(d),Ol();break;case 5:tx(d);break;case 1:Dr(d.type)&&nh(d);break;case 4:Mm(d,d.stateNode.containerInfo);break;case 10:var x=d.type._context,w=d.memoizedProps.value;rn(lh,x._currentValue),x._currentValue=w;break;case 13:if(x=d.memoizedState,x!==null)return x.dehydrated!==null?(rn(wn,wn.current&1),d.flags|=128,null):(m&d.child.childLanes)!==0?Bx(l,d,m):(rn(wn,wn.current&1),l=Ds(l,d,m),l!==null?l.sibling:null);rn(wn,wn.current&1);break;case 19:if(x=(m&d.childLanes)!==0,(l.flags&128)!==0){if(x)return $x(l,d,m);d.flags|=128}if(w=d.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),rn(wn,wn.current),x)break;return null;case 22:case 23:return d.lanes=0,Rx(l,d,m)}return Ds(l,d,m)}var Ux,rg,Hx,Qx;Ux=function(l,d){for(var m=d.child;m!==null;){if(m.tag===5||m.tag===6)l.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},rg=function(){},Hx=function(l,d,m,x){var w=l.memoizedProps;if(w!==x){l=d.stateNode,xa(ls.current);var E=null;switch(m){case"input":w=un(l,w),x=un(l,x),E=[];break;case"select":w=D({},w,{value:void 0}),x=D({},x,{value:void 0}),E=[];break;case"textarea":w=sr(l,w),x=sr(l,x),E=[];break;default:typeof w.onClick!="function"&&typeof x.onClick=="function"&&(l.onclick=Zd)}Ve(m,x);var L;m=null;for(be in w)if(!x.hasOwnProperty(be)&&w.hasOwnProperty(be)&&w[be]!=null)if(be==="style"){var Q=w[be];for(L in Q)Q.hasOwnProperty(L)&&(m||(m={}),m[L]="")}else be!=="dangerouslySetInnerHTML"&&be!=="children"&&be!=="suppressContentEditableWarning"&&be!=="suppressHydrationWarning"&&be!=="autoFocus"&&(i.hasOwnProperty(be)?E||(E=[]):(E=E||[]).push(be,null));for(be in x){var J=x[be];if(Q=w?.[be],x.hasOwnProperty(be)&&J!==Q&&(J!=null||Q!=null))if(be==="style")if(Q){for(L in Q)!Q.hasOwnProperty(L)||J&&J.hasOwnProperty(L)||(m||(m={}),m[L]="");for(L in J)J.hasOwnProperty(L)&&Q[L]!==J[L]&&(m||(m={}),m[L]=J[L])}else m||(E||(E=[]),E.push(be,m)),m=J;else be==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,Q=Q?Q.__html:void 0,J!=null&&Q!==J&&(E=E||[]).push(be,J)):be==="children"?typeof J!="string"&&typeof J!="number"||(E=E||[]).push(be,""+J):be!=="suppressContentEditableWarning"&&be!=="suppressHydrationWarning"&&(i.hasOwnProperty(be)?(J!=null&&be==="onScroll"&&cn("scroll",l),E||Q===J||(E=[])):(E=E||[]).push(be,J))}m&&(E=E||[]).push("style",m);var be=E;(d.updateQueue=be)&&(d.flags|=4)}},Qx=function(l,d,m,x){m!==x&&(d.flags|=4)};function ac(l,d){if(!yn)switch(l.tailMode){case"hidden":d=l.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:x.sibling=null}}function hr(l){var d=l.alternate!==null&&l.alternate.child===l.child,m=0,x=0;if(d)for(var w=l.child;w!==null;)m|=w.lanes|w.childLanes,x|=w.subtreeFlags&14680064,x|=w.flags&14680064,w.return=l,w=w.sibling;else for(w=l.child;w!==null;)m|=w.lanes|w.childLanes,x|=w.subtreeFlags,x|=w.flags,w.return=l,w=w.sibling;return l.subtreeFlags|=x,l.childLanes=m,d}function e8(l,d,m){var x=d.pendingProps;switch(km(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hr(d),null;case 1:return Dr(d.type)&&th(),hr(d),null;case 3:return x=d.stateNode,Ml(),dn(Mr),dn(cr),Fm(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(l===null||l.child===null)&&(oh(d)?d.flags|=4:l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,zi!==null&&(pg(zi),zi=null))),rg(l,d),hr(d),null;case 5:Dm(d);var w=xa(nc.current);if(m=d.type,l!==null&&d.stateNode!=null)Hx(l,d,m,x,w),l.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!x){if(d.stateNode===null)throw Error(n(166));return hr(d),null}if(l=xa(ls.current),oh(d)){x=d.stateNode,m=d.type;var E=d.memoizedProps;switch(x[as]=d,x[Xu]=E,l=(d.mode&1)!==0,m){case"dialog":cn("cancel",x),cn("close",x);break;case"iframe":case"object":case"embed":cn("load",x);break;case"video":case"audio":for(w=0;w<Ku.length;w++)cn(Ku[w],x);break;case"source":cn("error",x);break;case"img":case"image":case"link":cn("error",x),cn("load",x);break;case"details":cn("toggle",x);break;case"input":En(x,E),cn("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!E.multiple},cn("invalid",x);break;case"textarea":or(x,E),cn("invalid",x)}Ve(m,E),w=null;for(var L in E)if(E.hasOwnProperty(L)){var Q=E[L];L==="children"?typeof Q=="string"?x.textContent!==Q&&(E.suppressHydrationWarning!==!0&&Jd(x.textContent,Q,l),w=["children",Q]):typeof Q=="number"&&x.textContent!==""+Q&&(E.suppressHydrationWarning!==!0&&Jd(x.textContent,Q,l),w=["children",""+Q]):i.hasOwnProperty(L)&&Q!=null&&L==="onScroll"&&cn("scroll",x)}switch(m){case"input":ln(x),so(x,E,!0);break;case"textarea":ln(x),Ar(x);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(x.onclick=Zd)}x=w,d.updateQueue=x,x!==null&&(d.flags|=4)}else{L=w.nodeType===9?w:w.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=Ce(m)),l==="http://www.w3.org/1999/xhtml"?m==="script"?(l=L.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof x.is=="string"?l=L.createElement(m,{is:x.is}):(l=L.createElement(m),m==="select"&&(L=l,x.multiple?L.multiple=!0:x.size&&(L.size=x.size))):l=L.createElementNS(l,m),l[as]=d,l[Xu]=x,Ux(l,d,!1,!1),d.stateNode=l;e:{switch(L=Tn(m,x),m){case"dialog":cn("cancel",l),cn("close",l),w=x;break;case"iframe":case"object":case"embed":cn("load",l),w=x;break;case"video":case"audio":for(w=0;w<Ku.length;w++)cn(Ku[w],l);w=x;break;case"source":cn("error",l),w=x;break;case"img":case"image":case"link":cn("error",l),cn("load",l),w=x;break;case"details":cn("toggle",l),w=x;break;case"input":En(l,x),w=un(l,x),cn("invalid",l);break;case"option":w=x;break;case"select":l._wrapperState={wasMultiple:!!x.multiple},w=D({},x,{value:void 0}),cn("invalid",l);break;case"textarea":or(l,x),w=sr(l,x),cn("invalid",l);break;default:w=x}Ve(m,w),Q=w;for(E in Q)if(Q.hasOwnProperty(E)){var J=Q[E];E==="style"?_r(l,J):E==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,J!=null&&pt(l,J)):E==="children"?typeof J=="string"?(m!=="textarea"||J!=="")&&Nt(l,J):typeof J=="number"&&Nt(l,""+J):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(i.hasOwnProperty(E)?J!=null&&E==="onScroll"&&cn("scroll",l):J!=null&&A(l,E,J,L))}switch(m){case"input":ln(l),so(l,x,!1);break;case"textarea":ln(l),Ar(l);break;case"option":x.value!=null&&l.setAttribute("value",""+Ke(x.value));break;case"select":l.multiple=!!x.multiple,E=x.value,E!=null?jn(l,!!x.multiple,E,!1):x.defaultValue!=null&&jn(l,!!x.multiple,x.defaultValue,!0);break;default:typeof w.onClick=="function"&&(l.onclick=Zd)}switch(m){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return hr(d),null;case 6:if(l&&d.stateNode!=null)Qx(l,d,l.memoizedProps,x);else{if(typeof x!="string"&&d.stateNode===null)throw Error(n(166));if(m=xa(nc.current),xa(ls.current),oh(d)){if(x=d.stateNode,m=d.memoizedProps,x[as]=d,(E=x.nodeValue!==m)&&(l=ri,l!==null))switch(l.tag){case 3:Jd(x.nodeValue,m,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&Jd(x.nodeValue,m,(l.mode&1)!==0)}E&&(d.flags|=4)}else x=(m.nodeType===9?m:m.ownerDocument).createTextNode(x),x[as]=d,d.stateNode=x}return hr(d),null;case 13:if(dn(wn),x=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(yn&&ii!==null&&(d.mode&1)!==0&&(d.flags&128)===0)Wv(),Ol(),d.flags|=98560,E=!1;else if(E=oh(d),x!==null&&x.dehydrated!==null){if(l===null){if(!E)throw Error(n(318));if(E=d.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[as]=d}else Ol(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;hr(d),E=!1}else zi!==null&&(pg(zi),zi=null),E=!0;if(!E)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=m,d):(x=x!==null,x!==(l!==null&&l.memoizedState!==null)&&x&&(d.child.flags|=8192,(d.mode&1)!==0&&(l===null||(wn.current&1)!==0?Hn===0&&(Hn=3):yg())),d.updateQueue!==null&&(d.flags|=4),hr(d),null);case 4:return Ml(),rg(l,d),l===null&&Gu(d.stateNode.containerInfo),hr(d),null;case 10:return Om(d.type._context),hr(d),null;case 17:return Dr(d.type)&&th(),hr(d),null;case 19:if(dn(wn),E=d.memoizedState,E===null)return hr(d),null;if(x=(d.flags&128)!==0,L=E.rendering,L===null)if(x)ac(E,!1);else{if(Hn!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if(L=hh(l),L!==null){for(d.flags|=128,ac(E,!1),x=L.updateQueue,x!==null&&(d.updateQueue=x,d.flags|=4),d.subtreeFlags=0,x=m,m=d.child;m!==null;)E=m,l=x,E.flags&=14680066,L=E.alternate,L===null?(E.childLanes=0,E.lanes=l,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=L.childLanes,E.lanes=L.lanes,E.child=L.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=L.memoizedProps,E.memoizedState=L.memoizedState,E.updateQueue=L.updateQueue,E.type=L.type,l=L.dependencies,E.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),m=m.sibling;return rn(wn,wn.current&1|2),d.child}l=l.sibling}E.tail!==null&&At()>Bl&&(d.flags|=128,x=!0,ac(E,!1),d.lanes=4194304)}else{if(!x)if(l=hh(L),l!==null){if(d.flags|=128,x=!0,m=l.updateQueue,m!==null&&(d.updateQueue=m,d.flags|=4),ac(E,!0),E.tail===null&&E.tailMode==="hidden"&&!L.alternate&&!yn)return hr(d),null}else 2*At()-E.renderingStartTime>Bl&&m!==1073741824&&(d.flags|=128,x=!0,ac(E,!1),d.lanes=4194304);E.isBackwards?(L.sibling=d.child,d.child=L):(m=E.last,m!==null?m.sibling=L:d.child=L,E.last=L)}return E.tail!==null?(d=E.tail,E.rendering=d,E.tail=d.sibling,E.renderingStartTime=At(),d.sibling=null,m=wn.current,rn(wn,x?m&1|2:m&1),d):(hr(d),null);case 22:case 23:return gg(),x=d.memoizedState!==null,l!==null&&l.memoizedState!==null!==x&&(d.flags|=8192),x&&(d.mode&1)!==0?(si&1073741824)!==0&&(hr(d),d.subtreeFlags&6&&(d.flags|=8192)):hr(d),null;case 24:return null;case 25:return null}throw Error(n(156,d.tag))}function t8(l,d){switch(km(d),d.tag){case 1:return Dr(d.type)&&th(),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return Ml(),dn(Mr),dn(cr),Fm(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 5:return Dm(d),null;case 13:if(dn(wn),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(n(340));Ol()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return dn(wn),null;case 4:return Ml(),null;case 10:return Om(d.type._context),null;case 22:case 23:return gg(),null;case 24:return null;default:return null}}var wh=!1,fr=!1,n8=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function Il(l,d){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(x){Cn(l,d,x)}else m.current=null}function ig(l,d,m){try{m()}catch(x){Cn(l,d,x)}}var Vx=!1;function r8(l,d){if(gm=is,l=oe(),ve(l)){if("selectionStart"in l)var m={start:l.selectionStart,end:l.selectionEnd};else e:{m=(m=l.ownerDocument)&&m.defaultView||window;var x=m.getSelection&&m.getSelection();if(x&&x.rangeCount!==0){m=x.anchorNode;var w=x.anchorOffset,E=x.focusNode;x=x.focusOffset;try{m.nodeType,E.nodeType}catch{m=null;break e}var L=0,Q=-1,J=-1,be=0,Ae=0,Re=l,Ne=null;t:for(;;){for(var Xe;Re!==m||w!==0&&Re.nodeType!==3||(Q=L+w),Re!==E||x!==0&&Re.nodeType!==3||(J=L+x),Re.nodeType===3&&(L+=Re.nodeValue.length),(Xe=Re.firstChild)!==null;)Ne=Re,Re=Xe;for(;;){if(Re===l)break t;if(Ne===m&&++be===w&&(Q=L),Ne===E&&++Ae===x&&(J=L),(Xe=Re.nextSibling)!==null)break;Re=Ne,Ne=Re.parentNode}Re=Xe}m=Q===-1||J===-1?null:{start:Q,end:J}}else m=null}m=m||{start:0,end:0}}else m=null;for(ym={focusedElem:l,selectionRange:m},is=!1,Ze=d;Ze!==null;)if(d=Ze,l=d.child,(d.subtreeFlags&1028)!==0&&l!==null)l.return=d,Ze=l;else for(;Ze!==null;){d=Ze;try{var nt=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(nt!==null){var it=nt.memoizedProps,Pn=nt.memoizedState,ge=d.stateNode,se=ge.getSnapshotBeforeUpdate(d.elementType===d.type?it:$i(d.type,it),Pn);ge.__reactInternalSnapshotBeforeUpdate=se}break;case 3:var xe=d.stateNode.containerInfo;xe.nodeType===1?xe.textContent="":xe.nodeType===9&&xe.documentElement&&xe.removeChild(xe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch($e){Cn(d,d.return,$e)}if(l=d.sibling,l!==null){l.return=d.return,Ze=l;break}Ze=d.return}return nt=Vx,Vx=!1,nt}function lc(l,d,m){var x=d.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var w=x=x.next;do{if((w.tag&l)===l){var E=w.destroy;w.destroy=void 0,E!==void 0&&ig(d,m,E)}w=w.next}while(w!==x)}}function _h(l,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&l)===l){var x=m.create;m.destroy=x()}m=m.next}while(m!==d)}}function sg(l){var d=l.ref;if(d!==null){var m=l.stateNode;switch(l.tag){case 5:l=m;break;default:l=m}typeof d=="function"?d(l):d.current=l}}function qx(l){var d=l.alternate;d!==null&&(l.alternate=null,qx(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&(delete d[as],delete d[Xu],delete d[wm],delete d[BS],delete d[zS])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function Wx(l){return l.tag===5||l.tag===3||l.tag===4}function Kx(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Wx(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function og(l,d,m){var x=l.tag;if(x===5||x===6)l=l.stateNode,d?m.nodeType===8?m.parentNode.insertBefore(l,d):m.insertBefore(l,d):(m.nodeType===8?(d=m.parentNode,d.insertBefore(l,m)):(d=m,d.appendChild(l)),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=Zd));else if(x!==4&&(l=l.child,l!==null))for(og(l,d,m),l=l.sibling;l!==null;)og(l,d,m),l=l.sibling}function ag(l,d,m){var x=l.tag;if(x===5||x===6)l=l.stateNode,d?m.insertBefore(l,d):m.appendChild(l);else if(x!==4&&(l=l.child,l!==null))for(ag(l,d,m),l=l.sibling;l!==null;)ag(l,d,m),l=l.sibling}var rr=null,Ui=!1;function Co(l,d,m){for(m=m.child;m!==null;)Gx(l,d,m),m=m.sibling}function Gx(l,d,m){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Zr,m)}catch{}switch(m.tag){case 5:fr||Il(m,d);case 6:var x=rr,w=Ui;rr=null,Co(l,d,m),rr=x,Ui=w,rr!==null&&(Ui?(l=rr,m=m.stateNode,l.nodeType===8?l.parentNode.removeChild(m):l.removeChild(m)):rr.removeChild(m.stateNode));break;case 18:rr!==null&&(Ui?(l=rr,m=m.stateNode,l.nodeType===8?bm(l.parentNode,m):l.nodeType===1&&bm(l,m),co(l)):bm(rr,m.stateNode));break;case 4:x=rr,w=Ui,rr=m.stateNode.containerInfo,Ui=!0,Co(l,d,m),rr=x,Ui=w;break;case 0:case 11:case 14:case 15:if(!fr&&(x=m.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){w=x=x.next;do{var E=w,L=E.destroy;E=E.tag,L!==void 0&&((E&2)!==0||(E&4)!==0)&&ig(m,d,L),w=w.next}while(w!==x)}Co(l,d,m);break;case 1:if(!fr&&(Il(m,d),x=m.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=m.memoizedProps,x.state=m.memoizedState,x.componentWillUnmount()}catch(Q){Cn(m,d,Q)}Co(l,d,m);break;case 21:Co(l,d,m);break;case 22:m.mode&1?(fr=(x=fr)||m.memoizedState!==null,Co(l,d,m),fr=x):Co(l,d,m);break;default:Co(l,d,m)}}function Yx(l){var d=l.updateQueue;if(d!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new n8),d.forEach(function(x){var w=h8.bind(null,l,x);m.has(x)||(m.add(x),x.then(w,w))})}}function Hi(l,d){var m=d.deletions;if(m!==null)for(var x=0;x<m.length;x++){var w=m[x];try{var E=l,L=d,Q=L;e:for(;Q!==null;){switch(Q.tag){case 5:rr=Q.stateNode,Ui=!1;break e;case 3:rr=Q.stateNode.containerInfo,Ui=!0;break e;case 4:rr=Q.stateNode.containerInfo,Ui=!0;break e}Q=Q.return}if(rr===null)throw Error(n(160));Gx(E,L,w),rr=null,Ui=!1;var J=w.alternate;J!==null&&(J.return=null),w.return=null}catch(be){Cn(w,d,be)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)Xx(d,l),d=d.sibling}function Xx(l,d){var m=l.alternate,x=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Hi(d,l),cs(l),x&4){try{lc(3,l,l.return),_h(3,l)}catch(it){Cn(l,l.return,it)}try{lc(5,l,l.return)}catch(it){Cn(l,l.return,it)}}break;case 1:Hi(d,l),cs(l),x&512&&m!==null&&Il(m,m.return);break;case 5:if(Hi(d,l),cs(l),x&512&&m!==null&&Il(m,m.return),l.flags&32){var w=l.stateNode;try{Nt(w,"")}catch(it){Cn(l,l.return,it)}}if(x&4&&(w=l.stateNode,w!=null)){var E=l.memoizedProps,L=m!==null?m.memoizedProps:E,Q=l.type,J=l.updateQueue;if(l.updateQueue=null,J!==null)try{Q==="input"&&E.type==="radio"&&E.name!=null&&xs(w,E),Tn(Q,L);var be=Tn(Q,E);for(L=0;L<J.length;L+=2){var Ae=J[L],Re=J[L+1];Ae==="style"?_r(w,Re):Ae==="dangerouslySetInnerHTML"?pt(w,Re):Ae==="children"?Nt(w,Re):A(w,Ae,Re,be)}switch(Q){case"input":Ni(w,E);break;case"textarea":ts(w,E);break;case"select":var Ne=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!E.multiple;var Xe=E.value;Xe!=null?jn(w,!!E.multiple,Xe,!1):Ne!==!!E.multiple&&(E.defaultValue!=null?jn(w,!!E.multiple,E.defaultValue,!0):jn(w,!!E.multiple,E.multiple?[]:"",!1))}w[Xu]=E}catch(it){Cn(l,l.return,it)}}break;case 6:if(Hi(d,l),cs(l),x&4){if(l.stateNode===null)throw Error(n(162));w=l.stateNode,E=l.memoizedProps;try{w.nodeValue=E}catch(it){Cn(l,l.return,it)}}break;case 3:if(Hi(d,l),cs(l),x&4&&m!==null&&m.memoizedState.isDehydrated)try{co(d.containerInfo)}catch(it){Cn(l,l.return,it)}break;case 4:Hi(d,l),cs(l);break;case 13:Hi(d,l),cs(l),w=l.child,w.flags&8192&&(E=w.memoizedState!==null,w.stateNode.isHidden=E,!E||w.alternate!==null&&w.alternate.memoizedState!==null||(cg=At())),x&4&&Yx(l);break;case 22:if(Ae=m!==null&&m.memoizedState!==null,l.mode&1?(fr=(be=fr)||Ae,Hi(d,l),fr=be):Hi(d,l),cs(l),x&8192){if(be=l.memoizedState!==null,(l.stateNode.isHidden=be)&&!Ae&&(l.mode&1)!==0)for(Ze=l,Ae=l.child;Ae!==null;){for(Re=Ze=Ae;Ze!==null;){switch(Ne=Ze,Xe=Ne.child,Ne.tag){case 0:case 11:case 14:case 15:lc(4,Ne,Ne.return);break;case 1:Il(Ne,Ne.return);var nt=Ne.stateNode;if(typeof nt.componentWillUnmount=="function"){x=Ne,m=Ne.return;try{d=x,nt.props=d.memoizedProps,nt.state=d.memoizedState,nt.componentWillUnmount()}catch(it){Cn(x,m,it)}}break;case 5:Il(Ne,Ne.return);break;case 22:if(Ne.memoizedState!==null){e2(Re);continue}}Xe!==null?(Xe.return=Ne,Ze=Xe):e2(Re)}Ae=Ae.sibling}e:for(Ae=null,Re=l;;){if(Re.tag===5){if(Ae===null){Ae=Re;try{w=Re.stateNode,be?(E=w.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(Q=Re.stateNode,J=Re.memoizedProps.style,L=J!=null&&J.hasOwnProperty("display")?J.display:null,Q.style.display=Ln("display",L))}catch(it){Cn(l,l.return,it)}}}else if(Re.tag===6){if(Ae===null)try{Re.stateNode.nodeValue=be?"":Re.memoizedProps}catch(it){Cn(l,l.return,it)}}else if((Re.tag!==22&&Re.tag!==23||Re.memoizedState===null||Re===l)&&Re.child!==null){Re.child.return=Re,Re=Re.child;continue}if(Re===l)break e;for(;Re.sibling===null;){if(Re.return===null||Re.return===l)break e;Ae===Re&&(Ae=null),Re=Re.return}Ae===Re&&(Ae=null),Re.sibling.return=Re.return,Re=Re.sibling}}break;case 19:Hi(d,l),cs(l),x&4&&Yx(l);break;case 21:break;default:Hi(d,l),cs(l)}}function cs(l){var d=l.flags;if(d&2){try{e:{for(var m=l.return;m!==null;){if(Wx(m)){var x=m;break e}m=m.return}throw Error(n(160))}switch(x.tag){case 5:var w=x.stateNode;x.flags&32&&(Nt(w,""),x.flags&=-33);var E=Kx(l);ag(l,E,w);break;case 3:case 4:var L=x.stateNode.containerInfo,Q=Kx(l);og(l,Q,L);break;default:throw Error(n(161))}}catch(J){Cn(l,l.return,J)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function i8(l,d,m){Ze=l,Jx(l)}function Jx(l,d,m){for(var x=(l.mode&1)!==0;Ze!==null;){var w=Ze,E=w.child;if(w.tag===22&&x){var L=w.memoizedState!==null||wh;if(!L){var Q=w.alternate,J=Q!==null&&Q.memoizedState!==null||fr;Q=wh;var be=fr;if(wh=L,(fr=J)&&!be)for(Ze=w;Ze!==null;)L=Ze,J=L.child,L.tag===22&&L.memoizedState!==null?t2(w):J!==null?(J.return=L,Ze=J):t2(w);for(;E!==null;)Ze=E,Jx(E),E=E.sibling;Ze=w,wh=Q,fr=be}Zx(l)}else(w.subtreeFlags&8772)!==0&&E!==null?(E.return=w,Ze=E):Zx(l)}}function Zx(l){for(;Ze!==null;){var d=Ze;if((d.flags&8772)!==0){var m=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:fr||_h(5,d);break;case 1:var x=d.stateNode;if(d.flags&4&&!fr)if(m===null)x.componentDidMount();else{var w=d.elementType===d.type?m.memoizedProps:$i(d.type,m.memoizedProps);x.componentDidUpdate(w,m.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var E=d.updateQueue;E!==null&&ex(d,E,x);break;case 3:var L=d.updateQueue;if(L!==null){if(m=null,d.child!==null)switch(d.child.tag){case 5:m=d.child.stateNode;break;case 1:m=d.child.stateNode}ex(d,L,m)}break;case 5:var Q=d.stateNode;if(m===null&&d.flags&4){m=Q;var J=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":J.autoFocus&&m.focus();break;case"img":J.src&&(m.src=J.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var be=d.alternate;if(be!==null){var Ae=be.memoizedState;if(Ae!==null){var Re=Ae.dehydrated;Re!==null&&co(Re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}fr||d.flags&512&&sg(d)}catch(Ne){Cn(d,d.return,Ne)}}if(d===l){Ze=null;break}if(m=d.sibling,m!==null){m.return=d.return,Ze=m;break}Ze=d.return}}function e2(l){for(;Ze!==null;){var d=Ze;if(d===l){Ze=null;break}var m=d.sibling;if(m!==null){m.return=d.return,Ze=m;break}Ze=d.return}}function t2(l){for(;Ze!==null;){var d=Ze;try{switch(d.tag){case 0:case 11:case 15:var m=d.return;try{_h(4,d)}catch(J){Cn(d,m,J)}break;case 1:var x=d.stateNode;if(typeof x.componentDidMount=="function"){var w=d.return;try{x.componentDidMount()}catch(J){Cn(d,w,J)}}var E=d.return;try{sg(d)}catch(J){Cn(d,E,J)}break;case 5:var L=d.return;try{sg(d)}catch(J){Cn(d,L,J)}}}catch(J){Cn(d,d.return,J)}if(d===l){Ze=null;break}var Q=d.sibling;if(Q!==null){Q.return=d.return,Ze=Q;break}Ze=d.return}}var s8=Math.ceil,Sh=F.ReactCurrentDispatcher,lg=F.ReactCurrentOwner,_i=F.ReactCurrentBatchConfig,Qt=0,Xn=null,Mn=null,ir=0,si=0,Fl=xo(0),Hn=0,uc=null,wa=0,Ch=0,ug=0,cc=null,Fr=null,cg=0,Bl=1/0,Is=null,kh=!1,dg=null,ko=null,Eh=!1,Eo=null,jh=0,dc=0,hg=null,Th=-1,Nh=0;function jr(){return(Qt&6)!==0?At():Th!==-1?Th:Th=At()}function jo(l){return(l.mode&1)===0?1:(Qt&2)!==0&&ir!==0?ir&-ir:US.transition!==null?(Nh===0&&(Nh=Iu()),Nh):(l=Gt,l!==0||(l=window.event,l=l===void 0?16:Id(l.type)),l)}function Qi(l,d,m,x){if(50<dc)throw dc=0,hg=null,Error(n(185));lo(l,m,x),((Qt&2)===0||l!==Xn)&&(l===Xn&&((Qt&2)===0&&(Ch|=m),Hn===4&&To(l,ir)),Br(l,x),m===1&&Qt===0&&(d.mode&1)===0&&(Bl=At()+500,rh&&wo()))}function Br(l,d){var m=l.callbackNode;Du(l,d);var x=Ri(l,l===Xn?ir:0);if(x===0)m!==null&&Sr(m),l.callbackNode=null,l.callbackPriority=0;else if(d=x&-x,l.callbackPriority!==d){if(m!=null&&Sr(m),d===1)l.tag===0?$S(r2.bind(null,l)):Uv(r2.bind(null,l)),IS(function(){(Qt&6)===0&&wo()}),m=null;else{switch(zt(x)){case 1:m=Cr;break;case 4:m=mi;break;case 16:m=Lt;break;case 536870912:m=kr;break;default:m=Lt}m=d2(m,n2.bind(null,l))}l.callbackPriority=d,l.callbackNode=m}}function n2(l,d){if(Th=-1,Nh=0,(Qt&6)!==0)throw Error(n(327));var m=l.callbackNode;if(zl()&&l.callbackNode!==m)return null;var x=Ri(l,l===Xn?ir:0);if(x===0)return null;if((x&30)!==0||(x&l.expiredLanes)!==0||d)d=Ph(l,x);else{d=x;var w=Qt;Qt|=2;var E=s2();(Xn!==l||ir!==d)&&(Is=null,Bl=At()+500,Sa(l,d));do try{l8();break}catch(Q){i2(l,Q)}while(!0);Pm(),Sh.current=E,Qt=w,Mn!==null?d=0:(Xn=null,ir=0,d=Hn)}if(d!==0){if(d===2&&(w=oo(l),w!==0&&(x=w,d=fg(l,w))),d===1)throw m=uc,Sa(l,0),To(l,x),Br(l,At()),m;if(d===6)To(l,x);else{if(w=l.current.alternate,(x&30)===0&&!o8(w)&&(d=Ph(l,x),d===2&&(E=oo(l),E!==0&&(x=E,d=fg(l,E))),d===1))throw m=uc,Sa(l,0),To(l,x),Br(l,At()),m;switch(l.finishedWork=w,l.finishedLanes=x,d){case 0:case 1:throw Error(n(345));case 2:Ca(l,Fr,Is);break;case 3:if(To(l,x),(x&130023424)===x&&(d=cg+500-At(),10<d)){if(Ri(l,0)!==0)break;if(w=l.suspendedLanes,(w&x)!==x){jr(),l.pingedLanes|=l.suspendedLanes&w;break}l.timeoutHandle=xm(Ca.bind(null,l,Fr,Is),d);break}Ca(l,Fr,Is);break;case 4:if(To(l,x),(x&4194240)===x)break;for(d=l.eventTimes,w=-1;0<x;){var L=31-ft(x);E=1<<L,L=d[L],L>w&&(w=L),x&=~E}if(x=w,x=At()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*s8(x/1960))-x,10<x){l.timeoutHandle=xm(Ca.bind(null,l,Fr,Is),x);break}Ca(l,Fr,Is);break;case 5:Ca(l,Fr,Is);break;default:throw Error(n(329))}}}return Br(l,At()),l.callbackNode===m?n2.bind(null,l):null}function fg(l,d){var m=cc;return l.current.memoizedState.isDehydrated&&(Sa(l,d).flags|=256),l=Ph(l,d),l!==2&&(d=Fr,Fr=m,d!==null&&pg(d)),l}function pg(l){Fr===null?Fr=l:Fr.push.apply(Fr,l)}function o8(l){for(var d=l;;){if(d.flags&16384){var m=d.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var x=0;x<m.length;x++){var w=m[x],E=w.getSnapshot;w=w.value;try{if(!Y(E(),w))return!1}catch{return!1}}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function To(l,d){for(d&=~ug,d&=~Ch,l.suspendedLanes|=d,l.pingedLanes&=~d,l=l.expirationTimes;0<d;){var m=31-ft(d),x=1<<m;l[m]=-1,d&=~x}}function r2(l){if((Qt&6)!==0)throw Error(n(327));zl();var d=Ri(l,0);if((d&1)===0)return Br(l,At()),null;var m=Ph(l,d);if(l.tag!==0&&m===2){var x=oo(l);x!==0&&(d=x,m=fg(l,x))}if(m===1)throw m=uc,Sa(l,0),To(l,d),Br(l,At()),m;if(m===6)throw Error(n(345));return l.finishedWork=l.current.alternate,l.finishedLanes=d,Ca(l,Fr,Is),Br(l,At()),null}function mg(l,d){var m=Qt;Qt|=1;try{return l(d)}finally{Qt=m,Qt===0&&(Bl=At()+500,rh&&wo())}}function _a(l){Eo!==null&&Eo.tag===0&&(Qt&6)===0&&zl();var d=Qt;Qt|=1;var m=_i.transition,x=Gt;try{if(_i.transition=null,Gt=1,l)return l()}finally{Gt=x,_i.transition=m,Qt=d,(Qt&6)===0&&wo()}}function gg(){si=Fl.current,dn(Fl)}function Sa(l,d){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==-1&&(l.timeoutHandle=-1,DS(m)),Mn!==null)for(m=Mn.return;m!==null;){var x=m;switch(km(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&th();break;case 3:Ml(),dn(Mr),dn(cr),Fm();break;case 5:Dm(x);break;case 4:Ml();break;case 13:dn(wn);break;case 19:dn(wn);break;case 10:Om(x.type._context);break;case 22:case 23:gg()}m=m.return}if(Xn=l,Mn=l=No(l.current,null),ir=si=d,Hn=0,uc=null,ug=Ch=wa=0,Fr=cc=null,va!==null){for(d=0;d<va.length;d++)if(m=va[d],x=m.interleaved,x!==null){m.interleaved=null;var w=x.next,E=m.pending;if(E!==null){var L=E.next;E.next=w,x.next=L}m.pending=x}va=null}return l}function i2(l,d){do{var m=Mn;try{if(Pm(),fh.current=yh,ph){for(var x=_n.memoizedState;x!==null;){var w=x.queue;w!==null&&(w.pending=null),x=x.next}ph=!1}if(ba=0,Yn=Un=_n=null,rc=!1,ic=0,lg.current=null,m===null||m.return===null){Hn=1,uc=d,Mn=null;break}e:{var E=l,L=m.return,Q=m,J=d;if(d=ir,Q.flags|=32768,J!==null&&typeof J=="object"&&typeof J.then=="function"){var be=J,Ae=Q,Re=Ae.tag;if((Ae.mode&1)===0&&(Re===0||Re===11||Re===15)){var Ne=Ae.alternate;Ne?(Ae.updateQueue=Ne.updateQueue,Ae.memoizedState=Ne.memoizedState,Ae.lanes=Ne.lanes):(Ae.updateQueue=null,Ae.memoizedState=null)}var Xe=Nx(L);if(Xe!==null){Xe.flags&=-257,Px(Xe,L,Q,E,d),Xe.mode&1&&Tx(E,be,d),d=Xe,J=be;var nt=d.updateQueue;if(nt===null){var it=new Set;it.add(J),d.updateQueue=it}else nt.add(J);break e}else{if((d&1)===0){Tx(E,be,d),yg();break e}J=Error(n(426))}}else if(yn&&Q.mode&1){var Pn=Nx(L);if(Pn!==null){(Pn.flags&65536)===0&&(Pn.flags|=256),Px(Pn,L,Q,E,d),Tm(Dl(J,Q));break e}}E=J=Dl(J,Q),Hn!==4&&(Hn=2),cc===null?cc=[E]:cc.push(E),E=L;do{switch(E.tag){case 3:E.flags|=65536,d&=-d,E.lanes|=d;var ge=Ex(E,J,d);Zv(E,ge);break e;case 1:Q=J;var se=E.type,xe=E.stateNode;if((E.flags&128)===0&&(typeof se.getDerivedStateFromError=="function"||xe!==null&&typeof xe.componentDidCatch=="function"&&(ko===null||!ko.has(xe)))){E.flags|=65536,d&=-d,E.lanes|=d;var $e=jx(E,Q,d);Zv(E,$e);break e}}E=E.return}while(E!==null)}a2(m)}catch(st){d=st,Mn===m&&m!==null&&(Mn=m=m.return);continue}break}while(!0)}function s2(){var l=Sh.current;return Sh.current=yh,l===null?yh:l}function yg(){(Hn===0||Hn===3||Hn===2)&&(Hn=4),Xn===null||(wa&268435455)===0&&(Ch&268435455)===0||To(Xn,ir)}function Ph(l,d){var m=Qt;Qt|=2;var x=s2();(Xn!==l||ir!==d)&&(Is=null,Sa(l,d));do try{a8();break}catch(w){i2(l,w)}while(!0);if(Pm(),Qt=m,Sh.current=x,Mn!==null)throw Error(n(261));return Xn=null,ir=0,Hn}function a8(){for(;Mn!==null;)o2(Mn)}function l8(){for(;Mn!==null&&!$t();)o2(Mn)}function o2(l){var d=c2(l.alternate,l,si);l.memoizedProps=l.pendingProps,d===null?a2(l):Mn=d,lg.current=null}function a2(l){var d=l;do{var m=d.alternate;if(l=d.return,(d.flags&32768)===0){if(m=e8(m,d,si),m!==null){Mn=m;return}}else{if(m=t8(m,d),m!==null){m.flags&=32767,Mn=m;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{Hn=6,Mn=null;return}}if(d=d.sibling,d!==null){Mn=d;return}Mn=d=l}while(d!==null);Hn===0&&(Hn=5)}function Ca(l,d,m){var x=Gt,w=_i.transition;try{_i.transition=null,Gt=1,u8(l,d,m,x)}finally{_i.transition=w,Gt=x}return null}function u8(l,d,m,x){do zl();while(Eo!==null);if((Qt&6)!==0)throw Error(n(327));m=l.finishedWork;var w=l.finishedLanes;if(m===null)return null;if(l.finishedWork=null,l.finishedLanes=0,m===l.current)throw Error(n(177));l.callbackNode=null,l.callbackPriority=0;var E=m.lanes|m.childLanes;if(Zo(l,E),l===Xn&&(Mn=Xn=null,ir=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||Eh||(Eh=!0,d2(Lt,function(){return zl(),null})),E=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||E){E=_i.transition,_i.transition=null;var L=Gt;Gt=1;var Q=Qt;Qt|=4,lg.current=null,r8(l,m),Xx(m,l),we(ym),is=!!gm,ym=gm=null,l.current=m,i8(m),Jr(),Qt=Q,Gt=L,_i.transition=E}else l.current=m;if(Eh&&(Eh=!1,Eo=l,jh=w),E=l.pendingLanes,E===0&&(ko=null),ws(m.stateNode),Br(l,At()),d!==null)for(x=l.onRecoverableError,m=0;m<d.length;m++)w=d[m],x(w.value,{componentStack:w.stack,digest:w.digest});if(kh)throw kh=!1,l=dg,dg=null,l;return(jh&1)!==0&&l.tag!==0&&zl(),E=l.pendingLanes,(E&1)!==0?l===hg?dc++:(dc=0,hg=l):dc=0,wo(),null}function zl(){if(Eo!==null){var l=zt(jh),d=_i.transition,m=Gt;try{if(_i.transition=null,Gt=16>l?16:l,Eo===null)var x=!1;else{if(l=Eo,Eo=null,jh=0,(Qt&6)!==0)throw Error(n(331));var w=Qt;for(Qt|=4,Ze=l.current;Ze!==null;){var E=Ze,L=E.child;if((Ze.flags&16)!==0){var Q=E.deletions;if(Q!==null){for(var J=0;J<Q.length;J++){var be=Q[J];for(Ze=be;Ze!==null;){var Ae=Ze;switch(Ae.tag){case 0:case 11:case 15:lc(8,Ae,E)}var Re=Ae.child;if(Re!==null)Re.return=Ae,Ze=Re;else for(;Ze!==null;){Ae=Ze;var Ne=Ae.sibling,Xe=Ae.return;if(qx(Ae),Ae===be){Ze=null;break}if(Ne!==null){Ne.return=Xe,Ze=Ne;break}Ze=Xe}}}var nt=E.alternate;if(nt!==null){var it=nt.child;if(it!==null){nt.child=null;do{var Pn=it.sibling;it.sibling=null,it=Pn}while(it!==null)}}Ze=E}}if((E.subtreeFlags&2064)!==0&&L!==null)L.return=E,Ze=L;else e:for(;Ze!==null;){if(E=Ze,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:lc(9,E,E.return)}var ge=E.sibling;if(ge!==null){ge.return=E.return,Ze=ge;break e}Ze=E.return}}var se=l.current;for(Ze=se;Ze!==null;){L=Ze;var xe=L.child;if((L.subtreeFlags&2064)!==0&&xe!==null)xe.return=L,Ze=xe;else e:for(L=se;Ze!==null;){if(Q=Ze,(Q.flags&2048)!==0)try{switch(Q.tag){case 0:case 11:case 15:_h(9,Q)}}catch(st){Cn(Q,Q.return,st)}if(Q===L){Ze=null;break e}var $e=Q.sibling;if($e!==null){$e.return=Q.return,Ze=$e;break e}Ze=Q.return}}if(Qt=w,wo(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Zr,l)}catch{}x=!0}return x}finally{Gt=m,_i.transition=d}}return!1}function l2(l,d,m){d=Dl(m,d),d=Ex(l,d,1),l=So(l,d,1),d=jr(),l!==null&&(lo(l,1,d),Br(l,d))}function Cn(l,d,m){if(l.tag===3)l2(l,l,m);else for(;d!==null;){if(d.tag===3){l2(d,l,m);break}else if(d.tag===1){var x=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(ko===null||!ko.has(x))){l=Dl(m,l),l=jx(d,l,1),d=So(d,l,1),l=jr(),d!==null&&(lo(d,1,l),Br(d,l));break}}d=d.return}}function c8(l,d,m){var x=l.pingCache;x!==null&&x.delete(d),d=jr(),l.pingedLanes|=l.suspendedLanes&m,Xn===l&&(ir&m)===m&&(Hn===4||Hn===3&&(ir&130023424)===ir&&500>At()-cg?Sa(l,0):ug|=m),Br(l,d)}function u2(l,d){d===0&&((l.mode&1)===0?d=1:(d=rs,rs<<=1,(rs&130023424)===0&&(rs=4194304)));var m=jr();l=Rs(l,d),l!==null&&(lo(l,d,m),Br(l,m))}function d8(l){var d=l.memoizedState,m=0;d!==null&&(m=d.retryLane),u2(l,m)}function h8(l,d){var m=0;switch(l.tag){case 13:var x=l.stateNode,w=l.memoizedState;w!==null&&(m=w.retryLane);break;case 19:x=l.stateNode;break;default:throw Error(n(314))}x!==null&&x.delete(d),u2(l,m)}var c2;c2=function(l,d,m){if(l!==null)if(l.memoizedProps!==d.pendingProps||Mr.current)Ir=!0;else{if((l.lanes&m)===0&&(d.flags&128)===0)return Ir=!1,ZS(l,d,m);Ir=(l.flags&131072)!==0}else Ir=!1,yn&&(d.flags&1048576)!==0&&Hv(d,sh,d.index);switch(d.lanes=0,d.tag){case 2:var x=d.type;bh(l,d),l=d.pendingProps;var w=Tl(d,cr.current);Rl(d,m),w=$m(null,d,x,l,w,m);var E=Um();return d.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Dr(x)?(E=!0,nh(d)):E=!1,d.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,Rm(d),w.updater=vh,d.stateNode=w,w._reactInternals=d,Km(d,x,l,m),d=Jm(null,d,x,!0,E,m)):(d.tag=0,yn&&E&&Cm(d),Er(null,d,w,m),d=d.child),d;case 16:x=d.elementType;e:{switch(bh(l,d),l=d.pendingProps,w=x._init,x=w(x._payload),d.type=x,w=d.tag=p8(x),l=$i(x,l),w){case 0:d=Xm(null,d,x,l,m);break e;case 1:d=Dx(null,d,x,l,m);break e;case 11:d=Ox(null,d,x,l,m);break e;case 14:d=Ax(null,d,x,$i(x.type,l),m);break e}throw Error(n(306,x,""))}return d;case 0:return x=d.type,w=d.pendingProps,w=d.elementType===x?w:$i(x,w),Xm(l,d,x,w,m);case 1:return x=d.type,w=d.pendingProps,w=d.elementType===x?w:$i(x,w),Dx(l,d,x,w,m);case 3:e:{if(Ix(d),l===null)throw Error(n(387));x=d.pendingProps,E=d.memoizedState,w=E.element,Jv(l,d),dh(d,x,null,m);var L=d.memoizedState;if(x=L.element,E.isDehydrated)if(E={element:x,isDehydrated:!1,cache:L.cache,pendingSuspenseBoundaries:L.pendingSuspenseBoundaries,transitions:L.transitions},d.updateQueue.baseState=E,d.memoizedState=E,d.flags&256){w=Dl(Error(n(423)),d),d=Fx(l,d,x,m,w);break e}else if(x!==w){w=Dl(Error(n(424)),d),d=Fx(l,d,x,m,w);break e}else for(ii=vo(d.stateNode.containerInfo.firstChild),ri=d,yn=!0,zi=null,m=Yv(d,null,x,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(Ol(),x===w){d=Ds(l,d,m);break e}Er(l,d,x,m)}d=d.child}return d;case 5:return tx(d),l===null&&jm(d),x=d.type,w=d.pendingProps,E=l!==null?l.memoizedProps:null,L=w.children,vm(x,w)?L=null:E!==null&&vm(x,E)&&(d.flags|=32),Mx(l,d),Er(l,d,L,m),d.child;case 6:return l===null&&jm(d),null;case 13:return Bx(l,d,m);case 4:return Mm(d,d.stateNode.containerInfo),x=d.pendingProps,l===null?d.child=Al(d,null,x,m):Er(l,d,x,m),d.child;case 11:return x=d.type,w=d.pendingProps,w=d.elementType===x?w:$i(x,w),Ox(l,d,x,w,m);case 7:return Er(l,d,d.pendingProps,m),d.child;case 8:return Er(l,d,d.pendingProps.children,m),d.child;case 12:return Er(l,d,d.pendingProps.children,m),d.child;case 10:e:{if(x=d.type._context,w=d.pendingProps,E=d.memoizedProps,L=w.value,rn(lh,x._currentValue),x._currentValue=L,E!==null)if(Y(E.value,L)){if(E.children===w.children&&!Mr.current){d=Ds(l,d,m);break e}}else for(E=d.child,E!==null&&(E.return=d);E!==null;){var Q=E.dependencies;if(Q!==null){L=E.child;for(var J=Q.firstContext;J!==null;){if(J.context===x){if(E.tag===1){J=Ms(-1,m&-m),J.tag=2;var be=E.updateQueue;if(be!==null){be=be.shared;var Ae=be.pending;Ae===null?J.next=J:(J.next=Ae.next,Ae.next=J),be.pending=J}}E.lanes|=m,J=E.alternate,J!==null&&(J.lanes|=m),Am(E.return,m,d),Q.lanes|=m;break}J=J.next}}else if(E.tag===10)L=E.type===d.type?null:E.child;else if(E.tag===18){if(L=E.return,L===null)throw Error(n(341));L.lanes|=m,Q=L.alternate,Q!==null&&(Q.lanes|=m),Am(L,m,d),L=E.sibling}else L=E.child;if(L!==null)L.return=E;else for(L=E;L!==null;){if(L===d){L=null;break}if(E=L.sibling,E!==null){E.return=L.return,L=E;break}L=L.return}E=L}Er(l,d,w.children,m),d=d.child}return d;case 9:return w=d.type,x=d.pendingProps.children,Rl(d,m),w=bi(w),x=x(w),d.flags|=1,Er(l,d,x,m),d.child;case 14:return x=d.type,w=$i(x,d.pendingProps),w=$i(x.type,w),Ax(l,d,x,w,m);case 15:return Lx(l,d,d.type,d.pendingProps,m);case 17:return x=d.type,w=d.pendingProps,w=d.elementType===x?w:$i(x,w),bh(l,d),d.tag=1,Dr(x)?(l=!0,nh(d)):l=!1,Rl(d,m),Cx(d,x,w),Km(d,x,w,m),Jm(null,d,x,!0,l,m);case 19:return $x(l,d,m);case 22:return Rx(l,d,m)}throw Error(n(156,d.tag))};function d2(l,d){return Ai(l,d)}function f8(l,d,m,x){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Si(l,d,m,x){return new f8(l,d,m,x)}function vg(l){return l=l.prototype,!(!l||!l.isReactComponent)}function p8(l){if(typeof l=="function")return vg(l)?1:0;if(l!=null){if(l=l.$$typeof,l===de)return 11;if(l===V)return 14}return 2}function No(l,d){var m=l.alternate;return m===null?(m=Si(l.tag,d,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=d,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&14680064,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,d=l.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function Oh(l,d,m,x,w,E){var L=2;if(x=l,typeof l=="function")vg(l)&&(L=1);else if(typeof l=="string")L=5;else e:switch(l){case $:return ka(m.children,w,E,d);case K:L=8,w|=8;break;case H:return l=Si(12,m,d,w|2),l.elementType=H,l.lanes=E,l;case pe:return l=Si(13,m,d,w),l.elementType=pe,l.lanes=E,l;case q:return l=Si(19,m,d,w),l.elementType=q,l.lanes=E,l;case re:return Ah(m,w,E,d);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case z:L=10;break e;case ue:L=9;break e;case de:L=11;break e;case V:L=14;break e;case Z:L=16,x=null;break e}throw Error(n(130,l==null?l:typeof l,""))}return d=Si(L,m,d,w),d.elementType=l,d.type=x,d.lanes=E,d}function ka(l,d,m,x){return l=Si(7,l,x,d),l.lanes=m,l}function Ah(l,d,m,x){return l=Si(22,l,x,d),l.elementType=re,l.lanes=m,l.stateNode={isHidden:!1},l}function xg(l,d,m){return l=Si(6,l,null,d),l.lanes=m,l}function bg(l,d,m){return d=Si(4,l.children!==null?l.children:[],l.key,d),d.lanes=m,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}function m8(l,d,m,x,w){this.tag=d,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ao(0),this.expirationTimes=ao(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ao(0),this.identifierPrefix=x,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function wg(l,d,m,x,w,E,L,Q,J){return l=new m8(l,d,m,Q,J),d===1?(d=1,E===!0&&(d|=8)):d=0,E=Si(3,null,null,d),l.current=E,E.stateNode=l,E.memoizedState={element:x,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rm(E),l}function g8(l,d,m){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:x==null?null:""+x,children:l,containerInfo:d,implementation:m}}function h2(l){if(!l)return bo;l=l._reactInternals;e:{if(Pt(l)!==l||l.tag!==1)throw Error(n(170));var d=l;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Dr(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(n(171))}if(l.tag===1){var m=l.type;if(Dr(m))return zv(l,m,d)}return d}function f2(l,d,m,x,w,E,L,Q,J){return l=wg(m,x,!0,l,w,E,L,Q,J),l.context=h2(null),m=l.current,x=jr(),w=jo(m),E=Ms(x,w),E.callback=d??null,So(m,E,w),l.current.lanes=w,lo(l,w,x),Br(l,x),l}function Lh(l,d,m,x){var w=d.current,E=jr(),L=jo(w);return m=h2(m),d.context===null?d.context=m:d.pendingContext=m,d=Ms(E,L),d.payload={element:l},x=x===void 0?null:x,x!==null&&(d.callback=x),l=So(w,d,L),l!==null&&(Qi(l,w,L,E),ch(l,w,L)),L}function Rh(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function p2(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<d?m:d}}function _g(l,d){p2(l,d),(l=l.alternate)&&p2(l,d)}function y8(){return null}var m2=typeof reportError=="function"?reportError:function(l){console.error(l)};function Sg(l){this._internalRoot=l}Mh.prototype.render=Sg.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(n(409));Lh(l,d,null,null)},Mh.prototype.unmount=Sg.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;_a(function(){Lh(null,l,null,null)}),d[Ps]=null}};function Mh(l){this._internalRoot=l}Mh.prototype.unstable_scheduleHydration=function(l){if(l){var d=ar();l={blockedOn:null,target:l,priority:d};for(var m=0;m<Lr.length&&d!==0&&d<Lr[m].priority;m++);Lr.splice(m,0,l),m===0&&hl(l)}};function Cg(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function Dh(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function g2(){}function v8(l,d,m,x,w){if(w){if(typeof x=="function"){var E=x;x=function(){var be=Rh(L);E.call(be)}}var L=f2(d,x,l,0,null,!1,!1,"",g2);return l._reactRootContainer=L,l[Ps]=L.current,Gu(l.nodeType===8?l.parentNode:l),_a(),L}for(;w=l.lastChild;)l.removeChild(w);if(typeof x=="function"){var Q=x;x=function(){var be=Rh(J);Q.call(be)}}var J=wg(l,0,!1,null,null,!1,!1,"",g2);return l._reactRootContainer=J,l[Ps]=J.current,Gu(l.nodeType===8?l.parentNode:l),_a(function(){Lh(d,J,m,x)}),J}function Ih(l,d,m,x,w){var E=m._reactRootContainer;if(E){var L=E;if(typeof w=="function"){var Q=w;w=function(){var J=Rh(L);Q.call(J)}}Lh(d,L,l,w)}else L=v8(m,d,l,w,x);return Rh(L)}dl=function(l){switch(l.tag){case 3:var d=l.stateNode;if(d.current.memoizedState.isDehydrated){var m=Li(d.pendingLanes);m!==0&&(cl(d,m|1),Br(d,At()),(Qt&6)===0&&(Bl=At()+500,wo()))}break;case 13:_a(function(){var x=Rs(l,1);if(x!==null){var w=jr();Qi(x,l,1,w)}}),_g(l,1)}},Fu=function(l){if(l.tag===13){var d=Rs(l,134217728);if(d!==null){var m=jr();Qi(d,l,134217728,m)}_g(l,134217728)}},Dd=function(l){if(l.tag===13){var d=jo(l),m=Rs(l,d);if(m!==null){var x=jr();Qi(m,l,d,x)}_g(l,d)}},ar=function(){return Gt},_s=function(l,d){var m=Gt;try{return Gt=l,d()}finally{Gt=m}},qe=function(l,d,m){switch(d){case"input":if(Ni(l,m),d=m.name,m.type==="radio"&&d!=null){for(m=l;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<m.length;d++){var x=m[d];if(x!==l&&x.form===l.form){var w=eh(x);if(!w)throw Error(n(90));Tt(x),Ni(x,w)}}}break;case"textarea":ts(l,m);break;case"select":d=m.value,d!=null&&jn(l,!!m.multiple,d,!1)}},al=mg,ll=_a;var x8={usingClientEntryPoint:!1,Events:[Ju,El,eh,ns,Oi,mg]},hc={findFiberByHostInstance:pa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},b8={bundleType:hc.bundleType,version:hc.version,rendererPackageName:hc.rendererPackageName,rendererConfig:hc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=Kt(l),l===null?null:l.stateNode},findFiberByHostInstance:hc.findFiberByHostInstance||y8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fh.isDisabled&&Fh.supportsFiber)try{Zr=Fh.inject(b8),Bt=Fh}catch{}}return zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x8,zr.createPortal=function(l,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cg(d))throw Error(n(200));return g8(l,d,null,m)},zr.createRoot=function(l,d){if(!Cg(l))throw Error(n(299));var m=!1,x="",w=m2;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onRecoverableError!==void 0&&(w=d.onRecoverableError)),d=wg(l,1,!1,null,null,m,!1,x,w),l[Ps]=d.current,Gu(l.nodeType===8?l.parentNode:l),new Sg(d)},zr.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=Kt(d),l=l===null?null:l.stateNode,l},zr.flushSync=function(l){return _a(l)},zr.hydrate=function(l,d,m){if(!Dh(d))throw Error(n(200));return Ih(null,l,d,!0,m)},zr.hydrateRoot=function(l,d,m){if(!Cg(l))throw Error(n(405));var x=m!=null&&m.hydratedSources||null,w=!1,E="",L=m2;if(m!=null&&(m.unstable_strictMode===!0&&(w=!0),m.identifierPrefix!==void 0&&(E=m.identifierPrefix),m.onRecoverableError!==void 0&&(L=m.onRecoverableError)),d=f2(d,null,l,1,m??null,w,!1,E,L),l[Ps]=d.current,Gu(l),x)for(l=0;l<x.length;l++)m=x[l],w=m._getVersion,w=w(m._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[m,w]:d.mutableSourceEagerHydrationData.push(m,w);return new Mh(d)},zr.render=function(l,d,m){if(!Dh(d))throw Error(n(200));return Ih(null,l,d,!1,m)},zr.unmountComponentAtNode=function(l){if(!Dh(l))throw Error(n(40));return l._reactRootContainer?(_a(function(){Ih(null,null,l,!1,function(){l._reactRootContainer=null,l[Ps]=null})}),!0):!1},zr.unstable_batchedUpdates=mg,zr.unstable_renderSubtreeIntoContainer=function(l,d,m,x){if(!Dh(m))throw Error(n(200));if(l==null||l._reactInternals===void 0)throw Error(n(38));return Ih(l,d,m,!1,x)},zr.version="18.3.1-next-f1338f8080-20240426",zr}var k2;function d4(){if(k2)return jg.exports;k2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),jg.exports=P8(),jg.exports}var E2;function O8(){if(E2)return Bh;E2=1;var t=d4();return Bh.createRoot=t.createRoot,Bh.hydrateRoot=t.hydrateRoot,Bh}var A8=O8();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var h4=t=>{throw TypeError(t)},L8=(t,e,n)=>e.has(t)||h4("Cannot "+n),Pg=(t,e,n)=>(L8(t,e,"read from private field"),n?n.call(t):e.get(t)),R8=(t,e,n)=>e.has(t)?h4("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),j2="popstate";function M8(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Jc("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Uo(i)}return I8(e,n,null,t)}function Mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Fn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function D8(){return Math.random().toString(36).substring(2,10)}function T2(t,e){return{usr:t.state,key:t.key,idx:e}}function Jc(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?qo(e):e,state:n,key:e&&e.key||r||D8()}}function Uo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function qo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function I8(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",u=null,c=h();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function h(){return(o.state||{idx:null}).idx}function f(){a="POP";let C=h(),j=C==null?null:C-c;c=C,u&&u({action:a,location:S.location,delta:j})}function g(C,j){a="PUSH";let R=Jc(S.location,C,j);c=h()+1;let A=T2(R,c),F=S.createHref(R);try{o.pushState(A,"",F)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(F)}s&&u&&u({action:a,location:S.location,delta:1})}function v(C,j){a="REPLACE";let R=Jc(S.location,C,j);c=h();let A=T2(R,c),F=S.createHref(R);o.replaceState(A,"",F),s&&u&&u({action:a,location:S.location,delta:0})}function _(C){return f4(C)}let S={get action(){return a},get location(){return t(i,o)},listen(C){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(j2,f),u=C,()=>{i.removeEventListener(j2,f),u=null}},createHref(C){return e(i,C)},createURL:_,encodeLocation(C){let j=_(C);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:g,replace:v,go(C){return o.go(C)}};return S}function f4(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Mt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Uo(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var Lc,N2=class{constructor(t){if(R8(this,Lc,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(Pg(this,Lc).has(t))return Pg(this,Lc).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){Pg(this,Lc).set(t,e)}};Lc=new WeakMap;var F8=new Set(["lazy","caseSensitive","path","id","index","children"]);function B8(t){return F8.has(t)}var z8=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function $8(t){return z8.has(t)}function U8(t){return t.index===!0}function Zc(t,e,n=[],r={},i=!1){return t.map((s,o)=>{let a=[...n,String(o)],u=typeof s.id=="string"?s.id:a.join("-");if(Mt(s.index!==!0||!s.children,"Cannot specify children on an index route"),Mt(i||!r[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),U8(s)){let c={...s,...e(s),id:u};return r[u]=c,c}else{let c={...s,...e(s),id:u,children:void 0};return r[u]=c,s.children&&(c.children=Zc(s.children,e,a,r,i)),c}})}function Mo(t,e,n="/"){return Of(t,e,n,!1)}function Of(t,e,n,r){let i=typeof e=="string"?qo(e):e,s=Ti(i.pathname||"/",n);if(s==null)return null;let o=p4(t);Q8(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=t9(s);a=Z8(o[u],c,r)}return a}function H8(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function p4(t,e=[],n=[],r=""){let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Mt(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let c=ps([r,u.relativePath]),h=n.concat(u);s.children&&s.children.length>0&&(Mt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),p4(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:X8(c,s.index),routesMeta:h})};return t.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))i(s,o);else for(let a of m4(s.path))i(s,o,a)}),e}function m4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=m4(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function Q8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:J8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var V8=/^:[\w-]+$/,q8=3,W8=2,K8=1,G8=10,Y8=-2,P2=t=>t==="*";function X8(t,e){let n=t.split("/"),r=n.length;return n.some(P2)&&(r+=Y8),e&&(r+=W8),n.filter(i=>!P2(i)).reduce((i,s)=>i+(V8.test(s)?q8:s===""?K8:G8),r)}function J8(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Z8(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=Uf({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),g=u.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Uf({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:ps([s,f.pathname]),pathnameBase:s9(ps([s,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(s=ps([s,f.pathnameBase]))}return o}function Uf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=e9(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:h,isOptional:f},g)=>{if(h==="*"){let _=a[g]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const v=a[g];return f&&!v?c[h]=void 0:c[h]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function e9(t,e=!1,n=!0){Fn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function t9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ti(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function n9({basename:t,pathname:e}){return e==="/"?t:ps([t,e])}function r9(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?qo(t):t;return{pathname:n?n.startsWith("/")?n:i9(n,e):e,search:o9(r),hash:a9(i)}}function i9(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Og(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function g4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ny(t){let e=g4(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function ry(t,e,n,r=!1){let i;typeof t=="string"?i=qo(t):(i={...t},Mt(!i.pathname||!i.pathname.includes("?"),Og("?","pathname","search",i)),Mt(!i.pathname||!i.pathname.includes("#"),Og("#","pathname","hash",i)),Mt(!i.search||!i.search.includes("#"),Og("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;i.pathname=g.join("/")}a=f>=0?e[f]:"/"}let u=r9(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}var ps=t=>t.join("/").replace(/\/\/+/g,"/"),s9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),o9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,a9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Hf=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ed(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var y4=["POST","PUT","PATCH","DELETE"],l9=new Set(y4),u9=["GET",...y4],c9=new Set(u9),d9=new Set([301,302,303,307,308]),h9=new Set([307,308]),Ag={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},f9={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},pc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},p9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iy=t=>p9.test(t),m9=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),v4="remix-router-transitions",x4=Symbol("ResetLoaderData");function g9(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Mt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],i=t.mapRouteProperties||m9,s={},o=Zc(t.routes,i,void 0,s),a,u=t.basename||"/",c=t.dataStrategy||w9,h={unstable_middleware:!1,...t.future},f=null,g=new Set,v=null,_=null,S=null,C=t.hydrationData!=null,j=Mo(o,t.history.location,u),R=!1,A=null,F;if(j==null&&!t.patchRoutesOnNavigation){let X=ki(404,{pathname:t.history.location.pathname}),{matches:fe,route:_e}=U2(o);F=!0,j=fe,A={[_e.id]:X}}else if(j&&!t.hydrationData&&ns(j,o,t.history.location.pathname).active&&(j=null),j)if(j.some(X=>X.route.lazy))F=!1;else if(!j.some(X=>X.route.loader))F=!0;else{let X=t.hydrationData?t.hydrationData.loaderData:null,fe=t.hydrationData?t.hydrationData.errors:null;if(fe){let _e=j.findIndex(Le=>fe[Le.route.id]!==void 0);F=j.slice(0,_e+1).every(Le=>!X0(Le.route,X,fe))}else F=j.every(_e=>!X0(_e.route,X,fe))}else{F=!1,j=[];let X=ns(null,o,t.history.location.pathname);X.active&&X.matches&&(R=!0,j=X.matches)}let U,O={historyAction:t.history.action,location:t.history.location,matches:j,initialized:F,navigation:Ag,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||A,fetchers:new Map,blockers:new Map},$="POP",K=!1,H,z=!1,ue=new Map,de=null,pe=!1,q=!1,V=new Set,Z=new Map,re=0,ne=-1,me=new Map,D=new Set,G=new Map,ye=new Map,I=new Set,Ie=new Map,Ee,je=null;function Ye(){if(f=t.history.listen(({action:X,location:fe,delta:_e})=>{if(Ee){Ee(),Ee=void 0;return}Fn(Ie.size===0||_e!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Le=pn({currentLocation:O.location,nextLocation:fe,historyAction:X});if(Le&&_e!=null){let Te=new Promise(We=>{Ee=We});t.history.go(_e*-1),Tn(Le,{state:"blocked",location:fe,proceed(){Tn(Le,{state:"proceeding",proceed:void 0,reset:void 0,location:fe}),Te.then(()=>t.history.go(_e))},reset(){let We=new Map(O.blockers);We.set(Le,pc),ht({blockers:We})}});return}return un(X,fe)}),n){A9(e,ue);let X=()=>L9(e,ue);e.addEventListener("pagehide",X),de=()=>e.removeEventListener("pagehide",X)}return O.initialized||un("POP",O.location,{initialHydration:!0}),U}function Ke(){f&&f(),de&&de(),g.clear(),H&&H.abort(),O.fetchers.forEach((X,fe)=>pt(fe)),O.blockers.forEach((X,fe)=>Ve(fe))}function Pe(X){return g.add(X),()=>g.delete(X)}function ht(X,fe={}){X.matches&&(X.matches=X.matches.map(Te=>{let We=s[Te.route.id],rt=Te.route;return rt.element!==We.element||rt.errorElement!==We.errorElement||rt.hydrateFallbackElement!==We.hydrateFallbackElement?{...Te,route:We}:Te})),O={...O,...X};let _e=[],Le=[];O.fetchers.forEach((Te,We)=>{Te.state==="idle"&&(I.has(We)?_e.push(We):Le.push(We))}),I.forEach(Te=>{!O.fetchers.has(Te)&&!Z.has(Te)&&_e.push(Te)}),[...g].forEach(Te=>Te(O,{deletedFetchers:_e,viewTransitionOpts:fe.viewTransitionOpts,flushSync:fe.flushSync===!0})),_e.forEach(Te=>pt(Te)),Le.forEach(Te=>O.fetchers.delete(Te))}function ln(X,fe,{flushSync:_e}={}){let Le=O.actionData!=null&&O.navigation.formMethod!=null&&Vr(O.navigation.formMethod)&&O.navigation.state==="loading"&&X.state?._isRedirect!==!0,Te;fe.actionData?Object.keys(fe.actionData).length>0?Te=fe.actionData:Te=null:Le?Te=O.actionData:Te=null;let We=fe.loaderData?z2(O.loaderData,fe.loaderData,fe.matches||[],fe.errors):O.loaderData,rt=O.blockers;rt.size>0&&(rt=new Map(rt),rt.forEach((ot,et)=>rt.set(et,pc)));let Je=pe?!1:bs(X,fe.matches||O.matches),tt=K===!0||O.navigation.formMethod!=null&&Vr(O.navigation.formMethod)&&X.state?._isRedirect!==!0;a&&(o=a,a=void 0),pe||$==="POP"||($==="PUSH"?t.history.push(X,X.state):$==="REPLACE"&&t.history.replace(X,X.state));let at;if($==="POP"){let ot=ue.get(O.location.pathname);ot&&ot.has(X.pathname)?at={currentLocation:O.location,nextLocation:X}:ue.has(X.pathname)&&(at={currentLocation:X,nextLocation:O.location})}else if(z){let ot=ue.get(O.location.pathname);ot?ot.add(X.pathname):(ot=new Set([X.pathname]),ue.set(O.location.pathname,ot)),at={currentLocation:O.location,nextLocation:X}}ht({...fe,actionData:Te,loaderData:We,historyAction:$,location:X,initialized:!0,navigation:Ag,revalidation:"idle",restoreScrollPosition:Je,preventScrollReset:tt,blockers:rt},{viewTransitionOpts:at,flushSync:_e===!0}),$="POP",K=!1,z=!1,pe=!1,q=!1,je?.resolve(),je=null}async function Tt(X,fe){if(typeof X=="number"){t.history.go(X);return}let _e=Y0(O.location,O.matches,u,X,fe?.fromRouteId,fe?.relative),{path:Le,submission:Te,error:We}=O2(!1,_e,fe),rt=O.location,Je=Jc(O.location,Le,fe&&fe.state);Je={...Je,...t.history.encodeLocation(Je)};let tt=fe&&fe.replace!=null?fe.replace:void 0,at="PUSH";tt===!0?at="REPLACE":tt===!1||Te!=null&&Vr(Te.formMethod)&&Te.formAction===O.location.pathname+O.location.search&&(at="REPLACE");let ot=fe&&"preventScrollReset"in fe?fe.preventScrollReset===!0:void 0,et=(fe&&fe.flushSync)===!0,_t=pn({currentLocation:rt,nextLocation:Je,historyAction:at});if(_t){Tn(_t,{state:"blocked",location:Je,proceed(){Tn(_t,{state:"proceeding",proceed:void 0,reset:void 0,location:Je}),Tt(X,fe)},reset(){let Pt=new Map(O.blockers);Pt.set(_t,pc),ht({blockers:Pt})}});return}await un(at,Je,{submission:Te,pendingError:We,preventScrollReset:ot,replace:fe&&fe.replace,enableViewTransition:fe&&fe.viewTransition,flushSync:et})}function fn(){je||(je=R9()),Ar(),ht({revalidation:"loading"});let X=je.promise;return O.navigation.state==="submitting"?X:O.navigation.state==="idle"?(un(O.historyAction,O.location,{startUninterruptedRevalidation:!0}),X):(un($||O.historyAction,O.navigation.location,{overrideNavigation:O.navigation,enableViewTransition:z===!0}),X)}async function un(X,fe,_e){H&&H.abort(),H=null,$=X,pe=(_e&&_e.startUninterruptedRevalidation)===!0,Pi(O.location,O.matches),K=(_e&&_e.preventScrollReset)===!0,z=(_e&&_e.enableViewTransition)===!0;let Le=a||o,Te=_e&&_e.overrideNavigation,We=_e?.initialHydration&&O.matches&&O.matches.length>0&&!R?O.matches:Mo(Le,fe,u),rt=(_e&&_e.flushSync)===!0;if(We&&O.initialized&&!q&&j9(O.location,fe)&&!(_e&&_e.submission&&Vr(_e.submission.formMethod))){ln(fe,{matches:We},{flushSync:rt});return}let Je=ns(We,Le,fe.pathname);if(Je.active&&Je.matches&&(We=Je.matches),!We){let{error:Rn,notFoundMatches:Ht,route:Kt}=fi(fe.pathname);ln(fe,{matches:Ht,loaderData:{},errors:{[Kt.id]:Rn}},{flushSync:rt});return}H=new AbortController;let tt=su(t.history,fe,H.signal,_e&&_e.submission),at=new N2(t.unstable_getContext?await t.unstable_getContext():void 0),ot;if(_e&&_e.pendingError)ot=[Fa(We).route.id,{type:"error",error:_e.pendingError}];else if(_e&&_e.submission&&Vr(_e.submission.formMethod)){let Rn=await En(tt,fe,_e.submission,We,at,Je.active,_e&&_e.initialHydration===!0,{replace:_e.replace,flushSync:rt});if(Rn.shortCircuited)return;if(Rn.pendingActionResult){let[Ht,Kt]=Rn.pendingActionResult;if(li(Kt)&&ed(Kt.error)&&Kt.error.status===404){H=null,ln(fe,{matches:Rn.matches,loaderData:{},errors:{[Ht]:Kt.error}});return}}We=Rn.matches||We,ot=Rn.pendingActionResult,Te=Lg(fe,_e.submission),rt=!1,Je.active=!1,tt=su(t.history,tt.url,tt.signal)}let{shortCircuited:et,matches:_t,loaderData:Pt,errors:mn}=await xs(tt,fe,We,at,Je.active,Te,_e&&_e.submission,_e&&_e.fetcherSubmission,_e&&_e.replace,_e&&_e.initialHydration===!0,rt,ot);et||(H=null,ln(fe,{matches:_t||We,...$2(ot),loaderData:Pt,errors:mn}))}async function En(X,fe,_e,Le,Te,We,rt,Je={}){Ar();let tt=P9(fe,_e);if(ht({navigation:tt},{flushSync:Je.flushSync===!0}),We){let et=await Oi(Le,fe.pathname,X.signal);if(et.type==="aborted")return{shortCircuited:!0};if(et.type==="error"){let _t=Fa(et.partialMatches).route.id;return{matches:et.partialMatches,pendingActionResult:[_t,{type:"error",error:et.error}]}}else if(et.matches)Le=et.matches;else{let{notFoundMatches:_t,error:Pt,route:mn}=fi(fe.pathname);return{matches:_t,pendingActionResult:[mn.id,{type:"error",error:Pt}]}}}let at,ot=Af(Le,fe);if(!ot.route.action&&!ot.route.lazy)at={type:"error",error:ki(405,{method:X.method,pathname:fe.pathname,routeId:ot.route.id})};else{let et=du(i,s,X,Le,ot,rt?[]:r,Te),_t=await or(X,et,Te,null);if(at=_t[ot.route.id],!at){for(let Pt of Le)if(_t[Pt.route.id]){at=_t[Pt.route.id];break}}if(X.signal.aborted)return{shortCircuited:!0}}if($a(at)){let et;return Je&&Je.replace!=null?et=Je.replace:et=I2(at.response.headers.get("Location"),new URL(X.url),u)===O.location.pathname+O.location.search,await sr(X,at,!0,{submission:_e,replace:et}),{shortCircuited:!0}}if(li(at)){let et=Fa(Le,ot.route.id);return(Je&&Je.replace)!==!0&&($="PUSH"),{matches:Le,pendingActionResult:[et.route.id,at,ot.route.id]}}return{matches:Le,pendingActionResult:[ot.route.id,at]}}async function xs(X,fe,_e,Le,Te,We,rt,Je,tt,at,ot,et){let _t=We||Lg(fe,rt),Pt=rt||Je||Q2(_t),mn=!pe&&!at;if(Te){if(mn){let Sn=Ni(et);ht({navigation:_t,...Sn!==void 0?{actionData:Sn}:{}},{flushSync:ot})}let Lt=await Oi(_e,fe.pathname,X.signal);if(Lt.type==="aborted")return{shortCircuited:!0};if(Lt.type==="error"){let Sn=Fa(Lt.partialMatches).route.id;return{matches:Lt.partialMatches,loaderData:{},errors:{[Sn]:Lt.error}}}else if(Lt.matches)_e=Lt.matches;else{let{error:Sn,notFoundMatches:kr,route:Zr}=fi(fe.pathname);return{matches:kr,loaderData:{},errors:{[Zr.id]:Sn}}}}let Rn=a||o,{dsMatches:Ht,revalidatingFetchers:Kt}=A2(X,Le,i,s,t.history,O,_e,Pt,fe,at?[]:r,at===!0,q,V,I,G,D,Rn,u,t.patchRoutesOnNavigation!=null,et);if(ne=++re,!t.dataStrategy&&!Ht.some(Lt=>Lt.shouldLoad)&&Kt.length===0){let Lt=Ln();return ln(fe,{matches:_e,loaderData:{},errors:et&&li(et[1])?{[et[0]]:et[1].error}:null,...$2(et),...Lt?{fetchers:new Map(O.fetchers)}:{}},{flushSync:ot}),{shortCircuited:!0}}if(mn){let Lt={};if(!Te){Lt.navigation=_t;let Sn=Ni(et);Sn!==void 0&&(Lt.actionData=Sn)}Kt.length>0&&(Lt.fetchers=so(Kt)),ht(Lt,{flushSync:ot})}Kt.forEach(Lt=>{Wt(Lt.key),Lt.controller&&Z.set(Lt.key,Lt.controller)});let Kn=()=>Kt.forEach(Lt=>Wt(Lt.key));H&&H.signal.addEventListener("abort",Kn);let{loaderResults:Ai,fetcherResults:Sr}=await ts(Ht,Kt,X,Le);if(X.signal.aborted)return{shortCircuited:!0};H&&H.signal.removeEventListener("abort",Kn),Kt.forEach(Lt=>Z.delete(Lt.key));let $t=zh(Ai);if($t)return await sr(X,$t.result,!0,{replace:tt}),{shortCircuited:!0};if($t=zh(Sr),$t)return D.add($t.key),await sr(X,$t.result,!0,{replace:tt}),{shortCircuited:!0};let{loaderData:Jr,errors:At}=B2(O,_e,Ai,et,Kt,Sr);at&&O.errors&&(At={...O.errors,...At});let pi=Ln(),Cr=_r(ne),mi=pi||Cr||Kt.length>0;return{matches:_e,loaderData:Jr,errors:At,...mi?{fetchers:new Map(O.fetchers)}:{}}}function Ni(X){if(X&&!li(X[1]))return{[X[0]]:X[1].data};if(O.actionData)return Object.keys(O.actionData).length===0?null:O.actionData}function so(X){return X.forEach(fe=>{let _e=O.fetchers.get(fe.key),Le=mc(void 0,_e?_e.data:void 0);O.fetchers.set(fe.key,Le)}),new Map(O.fetchers)}async function es(X,fe,_e,Le){Wt(X);let Te=(Le&&Le.flushSync)===!0,We=a||o,rt=Y0(O.location,O.matches,u,_e,fe,Le?.relative),Je=Mo(We,rt,u),tt=ns(Je,We,rt);if(tt.active&&tt.matches&&(Je=tt.matches),!Je){Oe(X,fe,ki(404,{pathname:rt}),{flushSync:Te});return}let{path:at,submission:ot,error:et}=O2(!0,rt,Le);if(et){Oe(X,fe,et,{flushSync:Te});return}let _t=new N2(t.unstable_getContext?await t.unstable_getContext():void 0),Pt=(Le&&Le.preventScrollReset)===!0;if(ot&&Vr(ot.formMethod)){await Or(X,fe,at,Je,_t,tt.active,Te,Pt,ot);return}G.set(X,{routeId:fe,path:at}),await jn(X,fe,at,Je,_t,tt.active,Te,Pt,ot)}async function Or(X,fe,_e,Le,Te,We,rt,Je,tt){Ar(),G.delete(X);let at=O.fetchers.get(X);Ce(X,O9(tt,at),{flushSync:rt});let ot=new AbortController,et=su(t.history,_e,ot.signal,tt);if(We){let Bt=await Oi(Le,new URL(et.url).pathname,et.signal,X);if(Bt.type==="aborted")return;if(Bt.type==="error"){Oe(X,fe,Bt.error,{flushSync:rt});return}else if(Bt.matches)Le=Bt.matches;else{Oe(X,fe,ki(404,{pathname:_e}),{flushSync:rt});return}}let _t=Af(Le,_e);if(!_t.route.action&&!_t.route.lazy){let Bt=ki(405,{method:tt.formMethod,pathname:_e,routeId:fe});Oe(X,fe,Bt,{flushSync:rt});return}Z.set(X,ot);let Pt=re,mn=du(i,s,et,Le,_t,r,Te),Ht=(await or(et,mn,Te,X))[_t.route.id];if(et.signal.aborted){Z.get(X)===ot&&Z.delete(X);return}if(I.has(X)){if($a(Ht)||li(Ht)){Ce(X,Lo(void 0));return}}else{if($a(Ht))if(Z.delete(X),ne>Pt){Ce(X,Lo(void 0));return}else return D.add(X),Ce(X,mc(tt)),sr(et,Ht,!1,{fetcherSubmission:tt,preventScrollReset:Je});if(li(Ht)){Oe(X,fe,Ht.error);return}}let Kt=O.navigation.location||O.location,Kn=su(t.history,Kt,ot.signal),Ai=a||o,Sr=O.navigation.state!=="idle"?Mo(Ai,O.navigation.location,u):O.matches;Mt(Sr,"Didn't find any matches after fetcher action");let $t=++re;me.set(X,$t);let Jr=mc(tt,Ht.data);O.fetchers.set(X,Jr);let{dsMatches:At,revalidatingFetchers:pi}=A2(Kn,Te,i,s,t.history,O,Sr,tt,Kt,r,!1,q,V,I,G,D,Ai,u,t.patchRoutesOnNavigation!=null,[_t.route.id,Ht]);pi.filter(Bt=>Bt.key!==X).forEach(Bt=>{let ws=Bt.key,ft=O.fetchers.get(ws),ul=mc(void 0,ft?ft.data:void 0);O.fetchers.set(ws,ul),Wt(ws),Bt.controller&&Z.set(ws,Bt.controller)}),ht({fetchers:new Map(O.fetchers)});let Cr=()=>pi.forEach(Bt=>Wt(Bt.key));ot.signal.addEventListener("abort",Cr);let{loaderResults:mi,fetcherResults:Lt}=await ts(At,pi,Kn,Te);if(ot.signal.aborted)return;if(ot.signal.removeEventListener("abort",Cr),me.delete(X),Z.delete(X),pi.forEach(Bt=>Z.delete(Bt.key)),O.fetchers.has(X)){let Bt=Lo(Ht.data);O.fetchers.set(X,Bt)}let Sn=zh(mi);if(Sn)return sr(Kn,Sn.result,!1,{preventScrollReset:Je});if(Sn=zh(Lt),Sn)return D.add(Sn.key),sr(Kn,Sn.result,!1,{preventScrollReset:Je});let{loaderData:kr,errors:Zr}=B2(O,Sr,mi,void 0,pi,Lt);_r($t),O.navigation.state==="loading"&&$t>ne?(Mt($,"Expected pending action"),H&&H.abort(),ln(O.navigation.location,{matches:Sr,loaderData:kr,errors:Zr,fetchers:new Map(O.fetchers)})):(ht({errors:Zr,loaderData:z2(O.loaderData,kr,Sr,Zr),fetchers:new Map(O.fetchers)}),q=!1)}async function jn(X,fe,_e,Le,Te,We,rt,Je,tt){let at=O.fetchers.get(X);Ce(X,mc(tt,at?at.data:void 0),{flushSync:rt});let ot=new AbortController,et=su(t.history,_e,ot.signal);if(We){let Kt=await Oi(Le,new URL(et.url).pathname,et.signal,X);if(Kt.type==="aborted")return;if(Kt.type==="error"){Oe(X,fe,Kt.error,{flushSync:rt});return}else if(Kt.matches)Le=Kt.matches;else{Oe(X,fe,ki(404,{pathname:_e}),{flushSync:rt});return}}let _t=Af(Le,_e);Z.set(X,ot);let Pt=re,mn=du(i,s,et,Le,_t,r,Te),Ht=(await or(et,mn,Te,X))[_t.route.id];if(Z.get(X)===ot&&Z.delete(X),!et.signal.aborted){if(I.has(X)){Ce(X,Lo(void 0));return}if($a(Ht))if(ne>Pt){Ce(X,Lo(void 0));return}else{D.add(X),await sr(et,Ht,!1,{preventScrollReset:Je});return}if(li(Ht)){Oe(X,fe,Ht.error);return}Ce(X,Lo(Ht.data))}}async function sr(X,fe,_e,{submission:Le,fetcherSubmission:Te,preventScrollReset:We,replace:rt}={}){fe.response.headers.has("X-Remix-Revalidate")&&(q=!0);let Je=fe.response.headers.get("Location");Mt(Je,"Expected a Location header on the redirect Response"),Je=I2(Je,new URL(X.url),u);let tt=Jc(O.location,Je,{_isRedirect:!0});if(n){let mn=!1;if(fe.response.headers.has("X-Remix-Reload-Document"))mn=!0;else if(iy(Je)){const Rn=f4(Je,!0);mn=Rn.origin!==e.location.origin||Ti(Rn.pathname,u)==null}if(mn){rt?e.location.replace(Je):e.location.assign(Je);return}}H=null;let at=rt===!0||fe.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ot,formAction:et,formEncType:_t}=O.navigation;!Le&&!Te&&ot&&et&&_t&&(Le=Q2(O.navigation));let Pt=Le||Te;if(h9.has(fe.response.status)&&Pt&&Vr(Pt.formMethod))await un(at,tt,{submission:{...Pt,formAction:Je},preventScrollReset:We||K,enableViewTransition:_e?z:void 0});else{let mn=Lg(tt,Le);await un(at,tt,{overrideNavigation:mn,fetcherSubmission:Te,preventScrollReset:We||K,enableViewTransition:_e?z:void 0})}}async function or(X,fe,_e,Le){let Te,We={};try{Te=await _9(c,X,fe,Le,_e,!1)}catch(rt){return fe.filter(Je=>Je.shouldLoad).forEach(Je=>{We[Je.route.id]={type:"error",error:rt}}),We}if(X.signal.aborted)return We;for(let[rt,Je]of Object.entries(Te))if(T9(Je)){let tt=Je.result;We[rt]={type:"redirect",response:k9(tt,X,rt,fe,u)}}else We[rt]=await C9(Je);return We}async function ts(X,fe,_e,Le){let Te=or(_e,X,Le,null),We=Promise.all(fe.map(async tt=>{if(tt.matches&&tt.match&&tt.request&&tt.controller){let ot=(await or(tt.request,tt.matches,Le,tt.key))[tt.match.route.id];return{[tt.key]:ot}}else return Promise.resolve({[tt.key]:{type:"error",error:ki(404,{pathname:tt.path})}})})),rt=await Te,Je=(await We).reduce((tt,at)=>Object.assign(tt,at),{});return{loaderResults:rt,fetcherResults:Je}}function Ar(){q=!0,G.forEach((X,fe)=>{Z.has(fe)&&V.add(fe),Wt(fe)})}function Ce(X,fe,_e={}){O.fetchers.set(X,fe),ht({fetchers:new Map(O.fetchers)},{flushSync:(_e&&_e.flushSync)===!0})}function Oe(X,fe,_e,Le={}){let Te=Fa(O.matches,fe);pt(X),ht({errors:{[Te.route.id]:_e},fetchers:new Map(O.fetchers)},{flushSync:(Le&&Le.flushSync)===!0})}function lt(X){return ye.set(X,(ye.get(X)||0)+1),I.has(X)&&I.delete(X),O.fetchers.get(X)||f9}function pt(X){let fe=O.fetchers.get(X);Z.has(X)&&!(fe&&fe.state==="loading"&&me.has(X))&&Wt(X),G.delete(X),me.delete(X),D.delete(X),I.delete(X),V.delete(X),O.fetchers.delete(X)}function Nt(X){let fe=(ye.get(X)||0)-1;fe<=0?(ye.delete(X),I.add(X)):ye.set(X,fe),ht({fetchers:new Map(O.fetchers)})}function Wt(X){let fe=Z.get(X);fe&&(fe.abort(),Z.delete(X))}function An(X){for(let fe of X){let _e=lt(fe),Le=Lo(_e.data);O.fetchers.set(fe,Le)}}function Ln(){let X=[],fe=!1;for(let _e of D){let Le=O.fetchers.get(_e);Mt(Le,`Expected fetcher: ${_e}`),Le.state==="loading"&&(D.delete(_e),X.push(_e),fe=!0)}return An(X),fe}function _r(X){let fe=[];for(let[_e,Le]of me)if(Le<X){let Te=O.fetchers.get(_e);Mt(Te,`Expected fetcher: ${_e}`),Te.state==="loading"&&(Wt(_e),me.delete(_e),fe.push(_e))}return An(fe),fe.length>0}function Wn(X,fe){let _e=O.blockers.get(X)||pc;return Ie.get(X)!==fe&&Ie.set(X,fe),_e}function Ve(X){O.blockers.delete(X),Ie.delete(X)}function Tn(X,fe){let _e=O.blockers.get(X)||pc;Mt(_e.state==="unblocked"&&fe.state==="blocked"||_e.state==="blocked"&&fe.state==="blocked"||_e.state==="blocked"&&fe.state==="proceeding"||_e.state==="blocked"&&fe.state==="unblocked"||_e.state==="proceeding"&&fe.state==="unblocked",`Invalid blocker state transition: ${_e.state} -> ${fe.state}`);let Le=new Map(O.blockers);Le.set(X,fe),ht({blockers:Le})}function pn({currentLocation:X,nextLocation:fe,historyAction:_e}){if(Ie.size===0)return;Ie.size>1&&Fn(!1,"A router only supports one blocker at a time");let Le=Array.from(Ie.entries()),[Te,We]=Le[Le.length-1],rt=O.blockers.get(Te);if(!(rt&&rt.state==="proceeding")&&We({currentLocation:X,nextLocation:fe,historyAction:_e}))return Te}function fi(X){let fe=ki(404,{pathname:X}),_e=a||o,{matches:Le,route:Te}=U2(_e);return{notFoundMatches:Le,route:Te,error:fe}}function qe(X,fe,_e){if(v=X,S=fe,_=_e||null,!C&&O.navigation===Ag){C=!0;let Le=bs(O.location,O.matches);Le!=null&&ht({restoreScrollPosition:Le})}return()=>{v=null,S=null,_=null}}function Xr(X,fe){return _&&_(X,fe.map(Le=>H8(Le,O.loaderData)))||X.key}function Pi(X,fe){if(v&&S){let _e=Xr(X,fe);v[_e]=S()}}function bs(X,fe){if(v){let _e=Xr(X,fe),Le=v[_e];if(typeof Le=="number")return Le}return null}function ns(X,fe,_e){if(t.patchRoutesOnNavigation)if(X){if(Object.keys(X[0].params).length>0)return{active:!0,matches:Of(fe,_e,u,!0)}}else return{active:!0,matches:Of(fe,_e,u,!0)||[]};return{active:!1,matches:null}}async function Oi(X,fe,_e,Le){if(!t.patchRoutesOnNavigation)return{type:"success",matches:X};let Te=X;for(;;){let We=a==null,rt=a||o,Je=s;try{await t.patchRoutesOnNavigation({signal:_e,path:fe,matches:Te,fetcherKey:Le,patch:(ot,et)=>{_e.aborted||L2(ot,et,rt,Je,i,!1)}})}catch(ot){return{type:"error",error:ot,partialMatches:Te}}finally{We&&!_e.aborted&&(o=[...o])}if(_e.aborted)return{type:"aborted"};let tt=Mo(rt,fe,u);if(tt)return{type:"success",matches:tt};let at=Of(rt,fe,u,!0);if(!at||Te.length===at.length&&Te.every((ot,et)=>ot.route.id===at[et].route.id))return{type:"success",matches:null};Te=at}}function al(X){s={},a=Zc(X,i,void 0,s)}function ll(X,fe,_e=!1){let Le=a==null;L2(X,fe,a||o,s,i,_e),Le&&(o=[...o],ht({}))}return U={get basename(){return u},get future(){return h},get state(){return O},get routes(){return o},get window(){return e},initialize:Ye,subscribe:Pe,enableScrollRestoration:qe,navigate:Tt,fetch:es,revalidate:fn,createHref:X=>t.history.createHref(X),encodeLocation:X=>t.history.encodeLocation(X),getFetcher:lt,deleteFetcher:Nt,dispose:Ke,getBlocker:Wn,deleteBlocker:Ve,patchRoutes:ll,_internalFetchControllers:Z,_internalSetRoutes:al,_internalSetStateDoNotUseOrYouWillBreakYourApp(X){ht(X)}},U}function y9(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Y0(t,e,n,r,i,s){let o,a;if(i){o=[];for(let c of e)if(o.push(c),c.route.id===i){a=c;break}}else o=e,a=e[e.length-1];let u=ry(r||".",ny(o),Ti(t.pathname,n)||t.pathname,s==="path");if(r==null&&(u.search=t.search,u.hash=t.hash),(r==null||r===""||r===".")&&a){let c=sy(u.search);if(a.route.index&&!c)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!a.route.index&&c){let h=new URLSearchParams(u.search),f=h.getAll("index");h.delete("index"),f.filter(v=>v).forEach(v=>h.append("index",v));let g=h.toString();u.search=g?`?${g}`:""}}return n!=="/"&&(u.pathname=n9({basename:n,pathname:u.pathname})),Uo(u)}function O2(t,e,n){if(!n||!y9(n))return{path:e};if(n.formMethod&&!N9(n.formMethod))return{path:e,error:ki(405,{method:n.formMethod})};let r=()=>({path:e,error:ki(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),o=k4(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Vr(s))return r();let f=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((g,[v,_])=>`${g}${v}=${_}
`,""):String(n.body);return{path:e,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:f}}}else if(n.formEncType==="application/json"){if(!Vr(s))return r();try{let f=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:f,text:void 0}}}catch{return r()}}}Mt(typeof FormData=="function","FormData is not available in this environment");let a,u;if(n.formData)a=Z0(n.formData),u=n.formData;else if(n.body instanceof FormData)a=Z0(n.body),u=n.body;else if(n.body instanceof URLSearchParams)a=n.body,u=F2(a);else if(n.body==null)a=new URLSearchParams,u=new FormData;else try{a=new URLSearchParams(n.body),u=F2(a)}catch{return r()}let c={formMethod:s,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Vr(c.formMethod))return{path:e,submission:c};let h=qo(e);return t&&h.search&&sy(h.search)&&a.append("index",""),h.search=`?${a}`,{path:Uo(h),submission:c}}function A2(t,e,n,r,i,s,o,a,u,c,h,f,g,v,_,S,C,j,R,A){let F=A?li(A[1])?A[1].error:A[1].data:void 0,U=i.createURL(s.location),O=i.createURL(u),$;if(h&&s.errors){let pe=Object.keys(s.errors)[0];$=o.findIndex(q=>q.route.id===pe)}else if(A&&li(A[1])){let pe=A[0];$=o.findIndex(q=>q.route.id===pe)-1}let K=A?A[1].statusCode:void 0,H=K&&K>=400,z={currentUrl:U,currentParams:s.matches[0]?.params||{},nextUrl:O,nextParams:o[0].params,...a,actionResult:F,actionStatus:K},ue=o.map((pe,q)=>{let{route:V}=pe,Z=null;if($!=null&&q>$?Z=!1:V.lazy?Z=!0:V.loader==null?Z=!1:h?Z=X0(V,s.loaderData,s.errors):v9(s.loaderData,s.matches[q],pe)&&(Z=!0),Z!==null)return J0(n,r,t,pe,c,e,Z);let re=H?!1:f||U.pathname+U.search===O.pathname+O.search||U.search!==O.search||x9(s.matches[q],pe),ne={...z,defaultShouldRevalidate:re},me=Qf(pe,ne);return J0(n,r,t,pe,c,e,me,ne)}),de=[];return _.forEach((pe,q)=>{if(h||!o.some(ye=>ye.route.id===pe.routeId)||v.has(q))return;let V=s.fetchers.get(q),Z=V&&V.state!=="idle"&&V.data===void 0,re=Mo(C,pe.path,j);if(!re){if(R&&Z)return;de.push({key:q,routeId:pe.routeId,path:pe.path,matches:null,match:null,request:null,controller:null});return}if(S.has(q))return;let ne=Af(re,pe.path),me=new AbortController,D=su(i,pe.path,me.signal),G=null;if(g.has(q))g.delete(q),G=du(n,r,D,re,ne,c,e);else if(Z)f&&(G=du(n,r,D,re,ne,c,e));else{let ye={...z,defaultShouldRevalidate:H?!1:f};Qf(ne,ye)&&(G=du(n,r,D,re,ne,c,e,ye))}G&&de.push({key:q,routeId:pe.routeId,path:pe.path,matches:G,match:ne,request:D,controller:me})}),{dsMatches:ue,revalidatingFetchers:de}}function X0(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&t.id in e,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function v9(t,e,n){let r=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return r||i}function x9(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Qf(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function L2(t,e,n,r,i,s){let o;if(t){let c=r[t];Mt(c,`No route found to patch children into: routeId = ${t}`),c.children||(c.children=[]),o=c.children}else o=n;let a=[],u=[];if(e.forEach(c=>{let h=o.find(f=>b4(c,f));h?u.push({existingRoute:h,newRoute:c}):a.push(c)}),a.length>0){let c=Zc(a,i,[t||"_","patch",String(o?.length||"0")],r);o.push(...c)}if(s&&u.length>0)for(let c=0;c<u.length;c++){let{existingRoute:h,newRoute:f}=u[c],g=h,[v]=Zc([f],i,[],{},!0);Object.assign(g,{element:v.element?v.element:g.element,errorElement:v.errorElement?v.errorElement:g.errorElement,hydrateFallbackElement:v.hydrateFallbackElement?v.hydrateFallbackElement:g.hydrateFallbackElement})}}function b4(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>e.children?.some(i=>b4(n,i))):!1}var R2=new WeakMap,w4=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let i=n[e.id];if(Mt(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[t];if(!s)return;let o=R2.get(i);o||(o={},R2.set(i,o));let a=o[t];if(a)return a;let u=(async()=>{let c=B8(t),f=i[t]!==void 0&&t!=="hasErrorBoundary";if(c)Fn(!c,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),o[t]=Promise.resolve();else if(f)Fn(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let g=await s();g!=null&&(Object.assign(i,{[t]:g}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(g=>g===void 0)&&(i.lazy=void 0))})();return o[t]=u,u},M2=new WeakMap;function b9(t,e,n,r,i){let s=n[t.id];if(Mt(s,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let h=M2.get(s);if(h)return{lazyRoutePromise:h,lazyHandlerPromise:h};let f=(async()=>{Mt(typeof t.lazy=="function","No lazy route function found");let g=await t.lazy(),v={};for(let _ in g){let S=g[_];if(S===void 0)continue;let C=$8(_),R=s[_]!==void 0&&_!=="hasErrorBoundary";C?Fn(!C,"Route property "+_+" is not a supported property to be returned from a lazy route function. This property will be ignored."):R?Fn(!R,`Route "${s.id}" has a static property "${_}" defined but its lazy function is also returning a value for this property. The lazy route property "${_}" will be ignored.`):v[_]=S}Object.assign(s,v),Object.assign(s,{...r(s),lazy:void 0})})();return M2.set(s,f),f.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:f}}let o=Object.keys(t.lazy),a=[],u;for(let h of o){if(i&&i.includes(h))continue;let f=w4({key:h,route:t,manifest:n,mapRouteProperties:r});f&&(a.push(f),h===e&&(u=f))}let c=a.length>0?Promise.all(a).then(()=>{}):void 0;return c?.catch(()=>{}),u?.catch(()=>{}),{lazyRoutePromise:c,lazyHandlerPromise:u}}async function D2(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,s)=>{n[e[s].route.id]=i}),n}async function w9(t){return t.matches.some(e=>e.route.unstable_middleware)?_4(t,!1,()=>D2(t),(e,n)=>({[n]:{type:"error",result:e}})):D2(t)}async function _4(t,e,n,r){let{matches:i,request:s,params:o,context:a}=t,u={handlerResult:void 0};try{let c=i.flatMap(f=>f.route.unstable_middleware?f.route.unstable_middleware.map(g=>[f.route.id,g]):[]),h=await S4({request:s,params:o,context:a},c,e,u,n);return e?h:u.handlerResult}catch(c){if(!u.middlewareError)throw c;let h=await r(u.middlewareError.error,u.middlewareError.routeId);return u.handlerResult?Object.assign(u.handlerResult,h):h}}async function S4(t,e,n,r,i,s=0){let{request:o}=t;if(o.signal.aborted)throw o.signal.reason?o.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${o.method} ${o.url}`);let a=e[s];if(!a)return r.handlerResult=await i(),r.handlerResult;let[u,c]=a,h=!1,f,g=async()=>{if(h)throw new Error("You may only call `next()` once per middleware");h=!0,await S4(t,e,n,r,i,s+1)};try{let v=await c({request:t.request,params:t.params,context:t.context},g);return h?v===void 0?f:v:g()}catch(v){throw r.middlewareError?r.middlewareError.error!==v&&(r.middlewareError={routeId:u,error:v}):r.middlewareError={routeId:u,error:v},v}}function C4(t,e,n,r,i){let s=w4({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:t}),o=b9(r.route,Vr(n.method)?"action":"loader",e,t,i);return{middleware:s,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function J0(t,e,n,r,i,s,o,a=null){let u=!1,c=C4(t,e,n,r,i);return{...r,_lazyPromises:c,shouldLoad:o,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler(h){return u=!0,a?typeof h=="boolean"?Qf(r,{...a,defaultShouldRevalidate:h}):Qf(r,a):o},resolve(h){return u||o||h&&!Vr(n.method)&&(r.route.lazy||r.route.loader)?S9({request:n,match:r,lazyHandlerPromise:c?.handler,lazyRoutePromise:c?.route,handlerOverride:h,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function du(t,e,n,r,i,s,o,a=null){return r.map(u=>u.route.id!==i.route.id?{...u,shouldLoad:!1,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler:()=>!1,_lazyPromises:C4(t,e,n,u,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:J0(t,e,n,u,s,o,!0,a))}async function _9(t,e,n,r,i,s){n.some(c=>c._lazyPromises?.middleware)&&await Promise.all(n.map(c=>c._lazyPromises?.middleware));let o={request:e,params:n[0].params,context:i,matches:n},u=await t({...o,fetcherKey:r,unstable_runClientMiddleware:c=>{let h=o;return _4(h,!1,()=>c({...h,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(f,g)=>({[g]:{type:"error",result:f}}))}});try{await Promise.all(n.flatMap(c=>[c._lazyPromises?.handler,c._lazyPromises?.route]))}catch{}return u}async function S9({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:s}){let o,a,u=Vr(t.method),c=u?"action":"loader",h=f=>{let g,v=new Promise((C,j)=>g=j);a=()=>g(),t.signal.addEventListener("abort",a);let _=C=>typeof f!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${c}" [routeId: ${e.route.id}]`)):f({request:t,params:e.params,context:s},...C!==void 0?[C]:[]),S=(async()=>{try{return{type:"data",result:await(i?i(j=>_(j)):_())}}catch(C){return{type:"error",result:C}}})();return Promise.race([S,v])};try{let f=u?e.route.action:e.route.loader;if(n||r)if(f){let g,[v]=await Promise.all([h(f).catch(_=>{g=_}),n,r]);if(g!==void 0)throw g;o=v}else{await n;let g=u?e.route.action:e.route.loader;if(g)[o]=await Promise.all([h(g),r]);else if(c==="action"){let v=new URL(t.url),_=v.pathname+v.search;throw ki(405,{method:t.method,pathname:_,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(f)o=await h(f);else{let g=new URL(t.url),v=g.pathname+g.search;throw ki(404,{pathname:v})}}catch(f){return{type:"error",result:f}}finally{a&&t.signal.removeEventListener("abort",a)}return o}async function C9(t){let{result:e,type:n}=t;if(E4(e)){let r;try{let i=e.headers.get("Content-Type");i&&/\bapplication\/json\b/.test(i)?e.body==null?r=null:r=await e.json():r=await e.text()}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new Hf(e.status,e.statusText,r),statusCode:e.status,headers:e.headers}:{type:"data",data:r,statusCode:e.status,headers:e.headers}}return n==="error"?H2(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Hf(e.init?.status||500,void 0,e.data),statusCode:ed(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:ed(e)?e.status:void 0}:H2(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function k9(t,e,n,r,i){let s=t.headers.get("Location");if(Mt(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!iy(s)){let o=r.slice(0,r.findIndex(a=>a.route.id===n)+1);s=Y0(new URL(e.url),o,i,s),t.headers.set("Location",s)}return t}function I2(t,e,n){if(iy(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Ti(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function su(t,e,n,r){let i=t.createURL(k4(e)).toString(),s={signal:n};if(r&&Vr(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=Z0(r.formData):s.body=r.formData}return new Request(i,s)}function Z0(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function F2(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function E9(t,e,n,r=!1,i=!1){let s={},o=null,a,u=!1,c={},h=n&&li(n[1])?n[1].error:void 0;return t.forEach(f=>{if(!(f.route.id in e))return;let g=f.route.id,v=e[g];if(Mt(!$a(v),"Cannot handle redirect results in processLoaderData"),li(v)){let _=v.error;if(h!==void 0&&(_=h,h=void 0),o=o||{},i)o[g]=_;else{let S=Fa(t,g);o[S.route.id]==null&&(o[S.route.id]=_)}r||(s[g]=x4),u||(u=!0,a=ed(v.error)?v.error.status:500),v.headers&&(c[g]=v.headers)}else s[g]=v.data,v.statusCode&&v.statusCode!==200&&!u&&(a=v.statusCode),v.headers&&(c[g]=v.headers)}),h!==void 0&&n&&(o={[n[0]]:h},n[2]&&(s[n[2]]=void 0)),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function B2(t,e,n,r,i,s){let{loaderData:o,errors:a}=E9(e,n,r);return i.filter(u=>!u.matches||u.matches.some(c=>c.shouldLoad)).forEach(u=>{let{key:c,match:h,controller:f}=u,g=s[c];if(Mt(g,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(li(g)){let v=Fa(t.matches,h?.route.id);a&&a[v.route.id]||(a={...a,[v.route.id]:g.error}),t.fetchers.delete(c)}else if($a(g))Mt(!1,"Unhandled fetcher revalidation redirect");else{let v=Lo(g.data);t.fetchers.set(c,v)}}),{loaderData:o,errors:a}}function z2(t,e,n,r){let i=Object.entries(e).filter(([,s])=>s!==x4).reduce((s,[o,a])=>(s[o]=a,s),{});for(let s of n){let o=s.route.id;if(!e.hasOwnProperty(o)&&t.hasOwnProperty(o)&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function $2(t){return t?li(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Fa(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function U2(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ki(t,{pathname:e,routeId:n,method:r,type:i,message:s}={}){let o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",r&&e&&n?a=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(a="Unable to encode submission body")):t===403?(o="Forbidden",a=`Route "${n}" does not match URL "${e}"`):t===404?(o="Not Found",a=`No route matches URL "${e}"`):t===405&&(o="Method Not Allowed",r&&e&&n?a=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(a=`Invalid request method "${r.toUpperCase()}"`)),new Hf(t||500,o,new Error(a),!0)}function zh(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if($a(i))return{key:r,result:i}}}function k4(t){let e=typeof t=="string"?qo(t):t;return Uo({...e,hash:""})}function j9(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function T9(t){return E4(t.result)&&d9.has(t.result.status)}function li(t){return t.type==="error"}function $a(t){return(t&&t.type)==="redirect"}function H2(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function E4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function N9(t){return c9.has(t.toUpperCase())}function Vr(t){return l9.has(t.toUpperCase())}function sy(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Af(t,e){let n=typeof e=="string"?qo(e).search:e.search;if(t[t.length-1].route.index&&sy(n||""))return t[t.length-1];let r=g4(t);return r[r.length-1]}function Q2(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Lg(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function P9(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function mc(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function O9(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Lo(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function A9(t,e){try{let n=t.sessionStorage.getItem(v4);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function L9(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(v4,JSON.stringify(n))}catch(r){Fn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function R9(){let t,e,n=new Promise((r,i)=>{t=async s=>{r(s);try{await n}catch{}},e=async s=>{i(s);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var el=P.createContext(null);el.displayName="DataRouter";var yd=P.createContext(null);yd.displayName="DataRouterState";P.createContext(!1);var oy=P.createContext({isTransitioning:!1});oy.displayName="ViewTransition";var j4=P.createContext(new Map);j4.displayName="Fetchers";var M9=P.createContext(null);M9.displayName="Await";var ys=P.createContext(null);ys.displayName="Navigation";var bp=P.createContext(null);bp.displayName="Location";var Ji=P.createContext({outlet:null,matches:[],isDataRoute:!1});Ji.displayName="Route";var ay=P.createContext(null);ay.displayName="RouteError";function D9(t,{relative:e}={}){Mt(vd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=P.useContext(ys),{hash:i,pathname:s,search:o}=xd(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:ps([n,s])),r.createHref({pathname:a,search:o,hash:i})}function vd(){return P.useContext(bp)!=null}function Zs(){return Mt(vd(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(bp).location}var T4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function N4(t){P.useContext(ys).static||P.useLayoutEffect(t)}function wp(){let{isDataRoute:t}=P.useContext(Ji);return t?Y9():I9()}function I9(){Mt(vd(),"useNavigate() may be used only in the context of a <Router> component.");let t=P.useContext(el),{basename:e,navigator:n}=P.useContext(ys),{matches:r}=P.useContext(Ji),{pathname:i}=Zs(),s=JSON.stringify(ny(r)),o=P.useRef(!1);return N4(()=>{o.current=!0}),P.useCallback((u,c={})=>{if(Fn(o.current,T4),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=ry(u,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ps([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,s,i,t])}var F9=P.createContext(null);function B9(t){let e=P.useContext(Ji).outlet;return e&&P.createElement(F9.Provider,{value:t},e)}function P4(){let{matches:t}=P.useContext(Ji),e=t[t.length-1];return e?e.params:{}}function xd(t,{relative:e}={}){let{matches:n}=P.useContext(Ji),{pathname:r}=Zs(),i=JSON.stringify(ny(n));return P.useMemo(()=>ry(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function z9(t,e,n,r){Mt(vd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=P.useContext(ys),{matches:s}=P.useContext(Ji),o=s[s.length-1],a=o?o.params:{},u=o?o.pathname:"/",c=o?o.pathnameBase:"/",h=o&&o.route;{let j=h&&h.path||"";O4(u,!h||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let f=Zs(),g;g=f;let v=g.pathname||"/",_=v;if(c!=="/"){let j=c.replace(/^\//,"").split("/");_="/"+v.replace(/^\//,"").split("/").slice(j.length).join("/")}let S=Mo(t,{pathname:_});return Fn(h||S!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Fn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),V9(S&&S.map(j=>Object.assign({},j,{params:Object.assign({},a,j.params),pathname:ps([c,i.encodeLocation?i.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:ps([c,i.encodeLocation?i.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),s,n,r)}function $9(){let t=cy(),e=ed(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:s},"ErrorBoundary")," or"," ",P.createElement("code",{style:s},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:i},n):null,o)}var U9=P.createElement($9,null),H9=class extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?P.createElement(Ji.Provider,{value:this.props.routeContext},P.createElement(ay.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Q9({routeContext:t,match:e,children:n}){let r=P.useContext(el);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(Ji.Provider,{value:t},n)}function V9(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n?.errors;if(s!=null){let u=i.findIndex(c=>c.route.id&&s?.[c.route.id]!==void 0);Mt(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let o=!1,a=-1;if(n)for(let u=0;u<i.length;u++){let c=i[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=u),c.route.id){let{loaderData:h,errors:f}=n,g=c.route.loader&&!h.hasOwnProperty(c.route.id)&&(!f||f[c.route.id]===void 0);if(c.route.lazy||g){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((u,c,h)=>{let f,g=!1,v=null,_=null;n&&(f=s&&c.route.id?s[c.route.id]:void 0,v=c.route.errorElement||U9,o&&(a<0&&h===0?(O4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,_=null):a===h&&(g=!0,_=c.route.hydrateFallbackElement||null)));let S=e.concat(i.slice(0,h+1)),C=()=>{let j;return f?j=v:g?j=_:c.route.Component?j=P.createElement(c.route.Component,null):c.route.element?j=c.route.element:j=u,P.createElement(Q9,{match:c,routeContext:{outlet:u,matches:S,isDataRoute:n!=null},children:j})};return n&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?P.createElement(H9,{location:n.location,revalidation:n.revalidation,component:v,error:f,children:C(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):C()},null)}function ly(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q9(t){let e=P.useContext(el);return Mt(e,ly(t)),e}function W9(t){let e=P.useContext(yd);return Mt(e,ly(t)),e}function K9(t){let e=P.useContext(Ji);return Mt(e,ly(t)),e}function uy(t){let e=K9(t),n=e.matches[e.matches.length-1];return Mt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function G9(){return uy("useRouteId")}function cy(){let t=P.useContext(ay),e=W9("useRouteError"),n=uy("useRouteError");return t!==void 0?t:e.errors?.[n]}function Y9(){let{router:t}=q9("useNavigate"),e=uy("useNavigate"),n=P.useRef(!1);return N4(()=>{n.current=!0}),P.useCallback(async(i,s={})=>{Fn(n.current,T4),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var V2={};function O4(t,e,n){!e&&!V2[t]&&(V2[t]=!0,Fn(!1,n))}var q2={};function W2(t,e){!t&&!q2[e]&&(q2[e]=!0,console.warn(e))}function X9(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Fn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:P.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Fn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:P.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Fn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:P.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var J9=["HydrateFallback","hydrateFallbackElement"],Z9=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function eC({router:t,flushSync:e}){let[n,r]=P.useState(t.state),[i,s]=P.useState(),[o,a]=P.useState({isTransitioning:!1}),[u,c]=P.useState(),[h,f]=P.useState(),[g,v]=P.useState(),_=P.useRef(new Map),S=P.useCallback((A,{deletedFetchers:F,flushSync:U,viewTransitionOpts:O})=>{A.fetchers.forEach((K,H)=>{K.data!==void 0&&_.current.set(H,K.data)}),F.forEach(K=>_.current.delete(K)),W2(U===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let $=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(W2(O==null||$,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!O||!$){e&&U?e(()=>r(A)):P.startTransition(()=>r(A));return}if(e&&U){e(()=>{h&&(u&&u.resolve(),h.skipTransition()),a({isTransitioning:!0,flushSync:!0,currentLocation:O.currentLocation,nextLocation:O.nextLocation})});let K=t.window.document.startViewTransition(()=>{e(()=>r(A))});K.finished.finally(()=>{e(()=>{c(void 0),f(void 0),s(void 0),a({isTransitioning:!1})})}),e(()=>f(K));return}h?(u&&u.resolve(),h.skipTransition(),v({state:A,currentLocation:O.currentLocation,nextLocation:O.nextLocation})):(s(A),a({isTransitioning:!0,flushSync:!1,currentLocation:O.currentLocation,nextLocation:O.nextLocation}))},[t.window,e,h,u]);P.useLayoutEffect(()=>t.subscribe(S),[t,S]),P.useEffect(()=>{o.isTransitioning&&!o.flushSync&&c(new Z9)},[o]),P.useEffect(()=>{if(u&&i&&t.window){let A=i,F=u.promise,U=t.window.document.startViewTransition(async()=>{P.startTransition(()=>r(A)),await F});U.finished.finally(()=>{c(void 0),f(void 0),s(void 0),a({isTransitioning:!1})}),f(U)}},[i,u,t.window]),P.useEffect(()=>{u&&i&&n.location.key===i.location.key&&u.resolve()},[u,h,n.location,i]),P.useEffect(()=>{!o.isTransitioning&&g&&(s(g.state),a({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),v(void 0))},[o.isTransitioning,g]);let C=P.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:A=>t.navigate(A),push:(A,F,U)=>t.navigate(A,{state:F,preventScrollReset:U?.preventScrollReset}),replace:(A,F,U)=>t.navigate(A,{replace:!0,state:F,preventScrollReset:U?.preventScrollReset})}),[t]),j=t.basename||"/",R=P.useMemo(()=>({router:t,navigator:C,static:!1,basename:j}),[t,C,j]);return P.createElement(P.Fragment,null,P.createElement(el.Provider,{value:R},P.createElement(yd.Provider,{value:n},P.createElement(j4.Provider,{value:_.current},P.createElement(oy.Provider,{value:o},P.createElement(rC,{basename:j,location:n.location,navigationType:n.historyAction,navigator:C},P.createElement(tC,{routes:t.routes,future:t.future,state:n})))))),null)}var tC=P.memo(nC);function nC({routes:t,future:e,state:n}){return z9(t,void 0,n,e)}function dy(t){return B9(t.context)}function rC({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Mt(!vd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=P.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=qo(n));let{pathname:u="/",search:c="",hash:h="",state:f=null,key:g="default"}=n,v=P.useMemo(()=>{let _=Ti(u,o);return _==null?null:{location:{pathname:_,search:c,hash:h,state:f,key:g},navigationType:r}},[o,u,c,h,f,g,r]);return Fn(v!=null,`<Router basename="${o}"> is not able to match the URL "${u}${c}${h}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:P.createElement(ys.Provider,{value:a},P.createElement(bp.Provider,{children:e,value:v}))}var Lf="get",Rf="application/x-www-form-urlencoded";function _p(t){return t!=null&&typeof t.tagName=="string"}function iC(t){return _p(t)&&t.tagName.toLowerCase()==="button"}function sC(t){return _p(t)&&t.tagName.toLowerCase()==="form"}function oC(t){return _p(t)&&t.tagName.toLowerCase()==="input"}function aC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lC(t,e){return t.button===0&&(!e||e==="_self")&&!aC(t)}var $h=null;function uC(){if($h===null)try{new FormData(document.createElement("form"),0),$h=!1}catch{$h=!0}return $h}var cC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rg(t){return t!=null&&!cC.has(t)?(Fn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rf}"`),null):t}function dC(t,e){let n,r,i,s,o;if(sC(t)){let a=t.getAttribute("action");r=a?Ti(a,e):null,n=t.getAttribute("method")||Lf,i=Rg(t.getAttribute("enctype"))||Rf,s=new FormData(t)}else if(iC(t)||oC(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||a.getAttribute("action");if(r=u?Ti(u,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Lf,i=Rg(t.getAttribute("formenctype"))||Rg(a.getAttribute("enctype"))||Rf,s=new FormData(a,t),!uC()){let{name:c,type:h,value:f}=t;if(h==="image"){let g=c?`${c}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else c&&s.append(c,f)}}else{if(_p(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Lf,r=null,i=Rf,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function hy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hC(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ti(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function fC(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function mC(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await fC(s,n);return o.links?o.links():[]}return[]}));return xC(r.flat(1).filter(pC).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function K2(t,e,n,r,i,s){let o=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,a=(u,c)=>n[c].pathname!==u.pathname||n[c].route.path?.endsWith("*")&&n[c].params["*"]!==u.params["*"];return s==="assets"?e.filter((u,c)=>o(u,c)||a(u,c)):s==="data"?e.filter((u,c)=>{let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(o(u,c)||a(u,c))return!0;if(u.route.shouldRevalidate){let f=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function gC(t,e,{includeHydrateFallback:n}={}){return yC(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function yC(t){return[...new Set(t)]}function vC(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function xC(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(vC(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function A4(){let t=P.useContext(el);return hy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function bC(){let t=P.useContext(yd);return hy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var fy=P.createContext(void 0);fy.displayName="FrameworkContext";function L4(){let t=P.useContext(fy);return hy(t,"You must render this element inside a <HydratedRouter> element"),t}function wC(t,e){let n=P.useContext(fy),[r,i]=P.useState(!1),[s,o]=P.useState(!1),{onFocus:a,onBlur:u,onMouseEnter:c,onMouseLeave:h,onTouchStart:f}=e,g=P.useRef(null);P.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let S=j=>{j.forEach(R=>{o(R.isIntersecting)})},C=new IntersectionObserver(S,{threshold:.5});return g.current&&C.observe(g.current),()=>{C.disconnect()}}},[t]),P.useEffect(()=>{if(r){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[r]);let v=()=>{i(!0)},_=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,g,{}]:[s,g,{onFocus:gc(a,v),onBlur:gc(u,_),onMouseEnter:gc(c,v),onMouseLeave:gc(h,_),onTouchStart:gc(f,v)}]:[!1,g,{}]}function gc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function _C({page:t,...e}){let{router:n}=A4(),r=P.useMemo(()=>Mo(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?P.createElement(CC,{page:t,matches:r,...e}):null}function SC(t){let{manifest:e,routeModules:n}=L4(),[r,i]=P.useState([]);return P.useEffect(()=>{let s=!1;return mC(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function CC({page:t,matches:e,...n}){let r=Zs(),{manifest:i,routeModules:s}=L4(),{basename:o}=A4(),{loaderData:a,matches:u}=bC(),c=P.useMemo(()=>K2(t,e,u,i,r,"data"),[t,e,u,i,r]),h=P.useMemo(()=>K2(t,e,u,i,r,"assets"),[t,e,u,i,r]),f=P.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,S=!1;if(e.forEach(j=>{let R=i.routes[j.route.id];!R||!R.hasLoader||(!c.some(A=>A.route.id===j.route.id)&&j.route.id in a&&s[j.route.id]?.shouldRevalidate||R.hasClientLoader?S=!0:_.add(j.route.id))}),_.size===0)return[];let C=hC(t,o,"data");return S&&_.size>0&&C.searchParams.set("_routes",e.filter(j=>_.has(j.route.id)).map(j=>j.route.id).join(",")),[C.pathname+C.search]},[o,a,r,i,c,e,t,s]),g=P.useMemo(()=>gC(h,i),[h,i]),v=SC(h);return P.createElement(P.Fragment,null,f.map(_=>P.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),g.map(_=>P.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),v.map(({key:_,link:S})=>P.createElement("link",{key:_,...S})))}function kC(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var R4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{R4&&(window.__reactRouterVersion="7.7.1")}catch{}function EC(t,e){return g9({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:M8({window:e?.window}),hydrationData:jC(),routes:t,mapRouteProperties:X9,hydrationRouteProperties:J9,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function jC(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:TC(t.errors)}),t}function TC(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Hf(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}var M4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bn=P.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:h,viewTransition:f,...g},v){let{basename:_}=P.useContext(ys),S=typeof c=="string"&&M4.test(c),C,j=!1;if(typeof c=="string"&&S&&(C=c,R4))try{let H=new URL(window.location.href),z=c.startsWith("//")?new URL(H.protocol+c):new URL(c),ue=Ti(z.pathname,_);z.origin===H.origin&&ue!=null?c=ue+z.search+z.hash:j=!0}catch{Fn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=D9(c,{relative:i}),[A,F,U]=wC(r,g),O=OC(c,{replace:o,state:a,target:u,preventScrollReset:h,relative:i,viewTransition:f});function $(H){e&&e(H),H.defaultPrevented||O(H)}let K=P.createElement("a",{...g,...U,href:C||R,onClick:j||s?e:$,ref:kC(v,F),target:u,"data-discover":!S&&n==="render"?"true":void 0});return A&&!S?P.createElement(P.Fragment,null,K,P.createElement(_C,{page:R})):K});Bn.displayName="Link";var Cu=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:u,...c},h){let f=xd(o,{relative:c.relative}),g=Zs(),v=P.useContext(yd),{navigator:_,basename:S}=P.useContext(ys),C=v!=null&&DC(f)&&a===!0,j=_.encodeLocation?_.encodeLocation(f).pathname:f.pathname,R=g.pathname,A=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(R=R.toLowerCase(),A=A?A.toLowerCase():null,j=j.toLowerCase()),A&&S&&(A=Ti(A,S)||A);const F=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let U=R===j||!i&&R.startsWith(j)&&R.charAt(F)==="/",O=A!=null&&(A===j||!i&&A.startsWith(j)&&A.charAt(j.length)==="/"),$={isActive:U,isPending:O,isTransitioning:C},K=U?e:void 0,H;typeof r=="function"?H=r($):H=[r,U?"active":null,O?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let z=typeof s=="function"?s($):s;return P.createElement(Bn,{...c,"aria-current":K,className:H,ref:h,style:z,to:o,viewTransition:a},typeof u=="function"?u($):u)});Cu.displayName="NavLink";var NC=P.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Lf,action:a,onSubmit:u,relative:c,preventScrollReset:h,viewTransition:f,...g},v)=>{let _=RC(),S=MC(a,{relative:c}),C=o.toLowerCase()==="get"?"get":"post",j=typeof a=="string"&&M4.test(a),R=A=>{if(u&&u(A),A.defaultPrevented)return;A.preventDefault();let F=A.nativeEvent.submitter,U=F?.getAttribute("formmethod")||o;_(F||A.currentTarget,{fetcherKey:e,method:U,navigate:n,replace:i,state:s,relative:c,preventScrollReset:h,viewTransition:f})};return P.createElement("form",{ref:v,method:C,action:S,onSubmit:r?u:R,...g,"data-discover":!j&&t==="render"?"true":void 0})});NC.displayName="Form";function PC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function D4(t){let e=P.useContext(el);return Mt(e,PC(t)),e}function OC(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=wp(),u=Zs(),c=xd(t,{relative:s});return P.useCallback(h=>{if(lC(h,e)){h.preventDefault();let f=n!==void 0?n:Uo(u)===Uo(c);a(t,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[u,a,c,n,r,e,t,i,s,o])}var AC=0,LC=()=>`__${String(++AC)}__`;function RC(){let{router:t}=D4("useSubmit"),{basename:e}=P.useContext(ys),n=G9();return P.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:u,body:c}=dC(r,e);if(i.navigate===!1){let h=i.fetcherKey||LC();await t.fetch(h,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function MC(t,{relative:e}={}){let{basename:n}=P.useContext(ys),r=P.useContext(Ji);Mt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...xd(t||".",{relative:e})},o=Zs();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),u=a.getAll("index");if(u.some(h=>h==="")){a.delete("index"),u.filter(f=>f).forEach(f=>a.append("index",f));let h=a.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:ps([n,s.pathname])),Uo(s)}function DC(t,{relative:e}={}){let n=P.useContext(oy);Mt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=D4("useViewTransitionState"),i=xd(t,{relative:e});if(!n.isTransitioning)return!1;let s=Ti(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ti(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Uf(i.pathname,o)!=null||Uf(i.pathname,s)!=null}var I4=d4();const Uh=di(I4);function IC(t){return P.createElement(eC,{flushSync:I4.flushSync,...t})}var ku=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ka=typeof window>"u"||"Deno"in globalThis;function Tr(){}function FC(t,e){return typeof t=="function"?t(e):t}function e1(t){return typeof t=="number"&&t>=0&&t!==1/0}function F4(t,e){return Math.max(t+(e||0)-Date.now(),0)}function zo(t,e){return typeof t=="function"?t(e):t}function Ei(t,e){return typeof t=="function"?t(e):t}function G2(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==py(o,e.options))return!1}else if(!td(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function Y2(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Ga(e.options.mutationKey)!==Ga(s))return!1}else if(!td(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function py(t,e){return(e?.queryKeyHashFn||Ga)(t)}function Ga(t){return JSON.stringify(t,(e,n)=>t1(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function td(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>td(t[n],e[n])):!1}function B4(t,e){if(t===e)return t;const n=X2(t)&&X2(e);if(n||t1(t)&&t1(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{},u=new Set(r);let c=0;for(let h=0;h<o;h++){const f=n?h:s[h];(!n&&u.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,c++):(a[f]=B4(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&c++)}return i===o&&c===i?t:a}return e}function Vf(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function X2(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function t1(t){if(!J2(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!J2(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function J2(t){return Object.prototype.toString.call(t)==="[object Object]"}function BC(t){return new Promise(e=>{setTimeout(e,t)})}function n1(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?B4(t,e):e}function zC(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function $C(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var my=Symbol();function z4(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===my?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function $4(t,e){return typeof t=="function"?t(...e):!!t}var UC=class extends ku{#t;#e;#n;constructor(){super(),this.#n=t=>{if(!Ka&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#n=t,this.#e?.(),this.#e=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},gy=new UC,HC=class extends ku{#t=!0;#e;#n;constructor(){super(),this.#n=t=>{if(!Ka&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#n=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#t!==t&&(this.#t=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#t}},qf=new HC;function r1(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function QC(t){return Math.min(1e3*2**t,3e4)}function U4(t){return(t??"online")==="online"?qf.isOnline():!0}var H4=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Mg(t){return t instanceof H4}function Q4(t){let e=!1,n=0,r=!1,i;const s=r1(),o=S=>{r||(g(new H4(S)),t.abort?.())},a=()=>{e=!0},u=()=>{e=!1},c=()=>gy.isFocused()&&(t.networkMode==="always"||qf.isOnline())&&t.canRun(),h=()=>U4(t.networkMode)&&t.canRun(),f=S=>{r||(r=!0,t.onSuccess?.(S),i?.(),s.resolve(S))},g=S=>{r||(r=!0,t.onError?.(S),i?.(),s.reject(S))},v=()=>new Promise(S=>{i=C=>{(r||c())&&S(C)},t.onPause?.()}).then(()=>{i=void 0,r||t.onContinue?.()}),_=()=>{if(r)return;let S;const C=n===0?t.initialPromise:void 0;try{S=C??t.fn()}catch(j){S=Promise.reject(j)}Promise.resolve(S).then(f).catch(j=>{if(r)return;const R=t.retry??(Ka?0:3),A=t.retryDelay??QC,F=typeof A=="function"?A(n,j):A,U=R===!0||typeof R=="number"&&n<R||typeof R=="function"&&R(n,j);if(e||!U){g(j);return}n++,t.onFail?.(n,j),BC(F).then(()=>c()?void 0:v()).then(()=>{e?g(j):_()})})};return{promise:s,cancel:o,continue:()=>(i?.(),s),cancelRetry:a,continueRetry:u,canStart:h,start:()=>(h()?_():v().then(_),s)}}var VC=t=>setTimeout(t,0);function qC(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=VC;const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(u=>{n(u)})})})};return{batch:a=>{let u;e++;try{u=a()}finally{e--,e||o()}return u},batchCalls:a=>(...u)=>{s(()=>{a(...u)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Vn=qC(),V4=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),e1(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ka?1/0:300*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},WC=class extends V4{#t;#e;#n;#r;#i;#o;#a;constructor(t){super(),this.#a=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.client,this.#n=this.#r.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#t=KC(this.options),this.state=t.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=n1(this.state.data,t,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#i?.promise;return this.#i?.cancel(t),e?e.then(Tr).catch(Tr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(t=>Ei(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===my||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>zo(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!F4(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#i&&(this.#a?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(c=>c.options.queryFn);u&&this.setOptions(u.options)}const n=new AbortController,r=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},i=()=>{const u=z4(this.options,e),h=(()=>{const f={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(f),f})();return this.#a=!1,this.options.persister?this.options.persister(u,h,this):u(h)},o=(()=>{const u={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:i};return r(u),u})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#s({type:"fetch",meta:o.fetchOptions?.meta});const a=u=>{Mg(u)&&u.silent||this.#s({type:"error",error:u}),Mg(u)||(this.#n.config.onError?.(u,this),this.#n.config.onSettled?.(this.state.data,u,this)),this.scheduleGc()};return this.#i=Q4({initialPromise:e?.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:u=>{if(u===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(c){a(c);return}this.#n.config.onSuccess?.(u,this),this.#n.config.onSettled?.(u,this.state.error,this),this.scheduleGc()},onError:a,onFail:(u,c)=>{this.#s({type:"failed",failureCount:u,error:c})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#i.start()}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...q4(n.data,this.options),fetchMeta:t.meta??null};case"success":return this.#e=void 0,{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return Mg(r)&&r.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Vn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function q4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:U4(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function KC(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var GC=class extends ku{constructor(t={}){super(),this.config=t,this.#t=new Map}#t;build(t,e,n){const r=e.queryKey,i=e.queryHash??py(r,e);let s=this.get(i);return s||(s=new WC({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(s)),s}add(t){this.#t.has(t.queryHash)||(this.#t.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#t.get(t.queryHash);e&&(t.destroy(),e===t&&this.#t.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Vn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#t.get(t)}getAll(){return[...this.#t.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>G2(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>G2(t,n)):e}notify(t){Vn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Vn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Vn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},YC=class extends V4{#t;#e;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#e=t.mutationCache,this.#t=[],this.state=t.state||W4(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})};this.#n=Q4({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(i,s)=>{this.#r({type:"failed",failureCount:i,error:s})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const n=this.state.status==="pending",r=!this.#n.canStart();try{if(n)e();else{this.#r({type:"pending",variables:t,isPaused:r}),await this.#e.config.onMutate?.(t,this);const s=await this.options.onMutate?.(t);s!==this.state.context&&this.#r({type:"pending",context:s,variables:t,isPaused:r})}const i=await this.#n.start();return await this.#e.config.onSuccess?.(i,t,this.state.context,this),await this.options.onSuccess?.(i,t,this.state.context),await this.#e.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,t,this.state.context),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#e.config.onError?.(i,t,this.state.context,this),await this.options.onError?.(i,t,this.state.context),await this.#e.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,t,this.state.context),i}finally{this.#r({type:"error",error:i})}}finally{this.#e.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Vn.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#e.notify({mutation:this,type:"updated",action:t})})}};function W4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var XC=class extends ku{constructor(t={}){super(),this.config=t,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(t,e,n){const r=new YC({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#t.add(t);const e=Hh(t);if(typeof e=="string"){const n=this.#e.get(e);n?n.push(t):this.#e.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#t.delete(t)){const e=Hh(t);if(typeof e=="string"){const n=this.#e.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#e.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Hh(t);if(typeof e=="string"){const r=this.#e.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=Hh(t);return typeof e=="string"?this.#e.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Vn.batch(()=>{this.#t.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Y2(e,n))}findAll(t={}){return this.getAll().filter(e=>Y2(t,e))}notify(t){Vn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Vn.batch(()=>Promise.all(t.map(e=>e.continue().catch(Tr))))}};function Hh(t){return t.options.scope?.id}function Z2(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let a={pages:[],pageParams:[]},u=0;const c=async()=>{let h=!1;const f=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?h=!0:e.signal.addEventListener("abort",()=>{h=!0}),e.signal)})},g=z4(e.options,e.fetchOptions),v=async(_,S,C)=>{if(h)return Promise.reject();if(S==null&&_.pages.length)return Promise.resolve(_);const R=(()=>{const O={client:e.client,queryKey:e.queryKey,pageParam:S,direction:C?"backward":"forward",meta:e.options.meta};return f(O),O})(),A=await g(R),{maxPages:F}=e.options,U=C?$C:zC;return{pages:U(_.pages,A,F),pageParams:U(_.pageParams,S,F)}};if(i&&s.length){const _=i==="backward",S=_?JC:eb,C={pages:s,pageParams:o},j=S(r,C);a=await v(C,j,_)}else{const _=t??s.length;do{const S=u===0?o[0]??r.initialPageParam:eb(r,a);if(u>0&&S==null)break;a=await v(a,S),u++}while(u<_)}return a};e.options.persister?e.fetchFn=()=>e.options.persister?.(c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=c}}}function eb(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function JC(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var ZC=class{#t;#e;#n;#r;#i;#o;#a;#s;constructor(t={}){this.#t=t.queryCache||new GC,this.#e=t.mutationCache||new XC,this.#n=t.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=gy.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#s=qf.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#t.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#e.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#t.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(zo(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#t.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=this.#t.get(r.queryHash)?.state.data,o=FC(e,s);if(o!==void 0)return this.#t.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Vn.batch(()=>this.#t.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state}removeQueries(t){const e=this.#t;Vn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#t;return Vn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Vn.batch(()=>this.#t.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Tr).catch(Tr)}invalidateQueries(t,e={}){return Vn.batch(()=>(this.#t.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Vn.batch(()=>this.#t.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Tr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Tr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#t.build(this,e);return n.isStaleByTime(zo(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Tr).catch(Tr)}fetchInfiniteQuery(t){return t.behavior=Z2(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Tr).catch(Tr)}ensureInfiniteQueryData(t){return t.behavior=Z2(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return qf.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(Ga(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{td(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#i.set(Ga(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(r=>{td(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=py(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===my&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},ek=class extends ku{constructor(t,e){super(),this.options=e,this.#t=t,this.#s=null,this.#a=r1(),this.options.experimental_prefetchInRender||this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#t;#e=void 0;#n=void 0;#r=void 0;#i;#o;#a;#s;#m;#h;#f;#u;#c;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),tb(this.#e,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return i1(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return i1(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#e.removeObserver(this)}setOptions(t){const e=this.options,n=this.#e;if(this.options=this.#t.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ei(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#e.setOptions(this.options),e._defaulted&&!Vf(this.options,e)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&nb(this.#e,n,this.options,e)&&this.#d(),this.updateResult(),r&&(this.#e!==n||Ei(this.options.enabled,this.#e)!==Ei(e.enabled,this.#e)||zo(this.options.staleTime,this.#e)!==zo(e.staleTime,this.#e))&&this.#g();const i=this.#y();r&&(this.#e!==n||Ei(this.options.enabled,this.#e)!==Ei(e.enabled,this.#e)||i!==this.#l)&&this.#v(i)}getOptimisticResult(t){const e=this.#t.getQueryCache().build(this.#t,t),n=this.createResult(e,t);return nk(this,n)&&(this.#r=n,this.#o=this.options,this.#i=this.#e.state),n}getCurrentResult(){return this.#r}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),Reflect.get(n,r))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#t.defaultQueryOptions(t),n=this.#t.getQueryCache().build(this.#t,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(t){this.#_();let e=this.#e.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Tr)),e}#g(){this.#b();const t=zo(this.options.staleTime,this.#e);if(Ka||this.#r.isStale||!e1(t))return;const n=F4(this.#r.dataUpdatedAt,t)+1;this.#u=setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(t){this.#w(),this.#l=t,!(Ka||Ei(this.options.enabled,this.#e)===!1||!e1(this.#l)||this.#l===0)&&(this.#c=setInterval(()=>{(this.options.refetchIntervalInBackground||gy.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#v(this.#y())}#b(){this.#u&&(clearTimeout(this.#u),this.#u=void 0)}#w(){this.#c&&(clearInterval(this.#c),this.#c=void 0)}createResult(t,e){const n=this.#e,r=this.options,i=this.#r,s=this.#i,o=this.#o,u=t!==n?t.state:this.#n,{state:c}=t;let h={...c},f=!1,g;if(e._optimisticResults){const K=this.hasListeners(),H=!K&&tb(t,e),z=K&&nb(t,n,e,r);(H||z)&&(h={...h,...q4(c.data,t.options)}),e._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:_,status:S}=h;g=h.data;let C=!1;if(e.placeholderData!==void 0&&g===void 0&&S==="pending"){let K;i?.isPlaceholderData&&e.placeholderData===o?.placeholderData?(K=i.data,C=!0):K=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,K!==void 0&&(S="success",g=n1(i?.data,K,e),f=!0)}if(e.select&&g!==void 0&&!C)if(i&&g===s?.data&&e.select===this.#m)g=this.#h;else try{this.#m=e.select,g=e.select(g),g=n1(i?.data,g,e),this.#h=g,this.#s=null}catch(K){this.#s=K}this.#s&&(v=this.#s,g=this.#h,_=Date.now(),S="error");const j=h.fetchStatus==="fetching",R=S==="pending",A=S==="error",F=R&&j,U=g!==void 0,$={status:S,fetchStatus:h.fetchStatus,isPending:R,isSuccess:S==="success",isError:A,isInitialLoading:F,isLoading:F,data:g,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:_,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:j,isRefetching:j&&!R,isLoadingError:A&&!U,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:A&&U,isStale:yy(t,e),refetch:this.refetch,promise:this.#a,isEnabled:Ei(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const K=ue=>{$.status==="error"?ue.reject($.error):$.data!==void 0&&ue.resolve($.data)},H=()=>{const ue=this.#a=$.promise=r1();K(ue)},z=this.#a;switch(z.status){case"pending":t.queryHash===n.queryHash&&K(z);break;case"fulfilled":($.status==="error"||$.data!==z.value)&&H();break;case"rejected":($.status!=="error"||$.error!==z.reason)&&H();break}}return $}updateResult(){const t=this.#r,e=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#o=this.options,this.#i.data!==void 0&&(this.#f=this.#e),Vf(e,t))return;this.#r=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#p.size)return!0;const s=new Set(i??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#r).some(o=>{const a=o;return this.#r[a]!==t[a]&&s.has(a)})};this.#S({listeners:n()})}#_(){const t=this.#t.getQueryCache().build(this.#t,this.options);if(t===this.#e)return;const e=this.#e;this.#e=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#S(t){Vn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function tk(t,e){return Ei(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function tb(t,e){return tk(t,e)||t.state.data!==void 0&&i1(t,e,e.refetchOnMount)}function i1(t,e,n){if(Ei(e.enabled,t)!==!1&&zo(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&yy(t,e)}return!1}function nb(t,e,n,r){return(t!==e||Ei(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&yy(t,n)}function yy(t,e){return Ei(e.enabled,t)!==!1&&t.isStaleByTime(zo(e.staleTime,t))}function nk(t,e){return!Vf(t.getCurrentResult(),e)}var rk=class extends ku{#t;#e=void 0;#n;#r;constructor(e,n){super(),this.#t=e,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#t.defaultMutationOptions(e),Vf(this.options,n)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Ga(n.mutationKey)!==Ga(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#o(e)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#o()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(e)}#i(){const e=this.#n?.state??W4();this.#e={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#o(e){Vn.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#e.variables,r=this.#e.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,n,r),this.#r.onSettled?.(e.data,null,n,r)):e?.type==="error"&&(this.#r.onError?.(e.error,n,r),this.#r.onSettled?.(void 0,e.error,n,r))}this.listeners.forEach(n=>{n(this.#e)})})}},K4=P.createContext(void 0),hi=t=>{const e=P.useContext(K4);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},ik=({client:t,children:e})=>(P.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),p.jsx(K4.Provider,{value:t,children:e})),G4=P.createContext(!1),sk=()=>P.useContext(G4);G4.Provider;function ok(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var ak=P.createContext(ok()),lk=()=>P.useContext(ak),uk=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},ck=t=>{P.useEffect(()=>{t.clearReset()},[t])},dk=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||$4(n,[t.error,r])),hk=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},fk=(t,e)=>t.isLoading&&t.isFetching&&!e,pk=(t,e)=>t?.suspense&&e.isPending,rb=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function mk(t,e,n){const r=sk(),i=lk(),s=hi(),o=s.defaultQueryOptions(t);s.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=r?"isRestoring":"optimistic",hk(o),uk(o,i),ck(i);const a=!s.getQueryCache().get(o.queryHash),[u]=P.useState(()=>new e(s,o)),c=u.getOptimisticResult(o),h=!r&&t.subscribed!==!1;if(P.useSyncExternalStore(P.useCallback(f=>{const g=h?u.subscribe(Vn.batchCalls(f)):Tr;return u.updateResult(),g},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),P.useEffect(()=>{u.setOptions(o)},[o,u]),pk(o,c))throw rb(o,u,i);if(dk({result:c,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(o,c),o.experimental_prefetchInRender&&!Ka&&fk(c,r)&&(a?rb(o,u,i):s.getQueryCache().get(o.queryHash)?.promise)?.catch(Tr).finally(()=>{u.updateResult()}),o.notifyOnChangeProps?c:u.trackResult(c)}function Zi(t,e){return mk(t,ek)}function Wo(t,e){const n=hi(),[r]=P.useState(()=>new rk(n,t));P.useEffect(()=>{r.setOptions(t)},[r,t]);const i=P.useSyncExternalStore(P.useCallback(o=>r.subscribe(Vn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=P.useCallback((o,a)=>{r.mutate(o,a).catch(Tr)},[r]);if(i.error&&$4(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}var Dg={},Ig={},Fg={},ib;function gk(){return ib||(ib=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];if(typeof window<"u"){var a;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(a=window).gtag.apply(a,s)}},n=e;t.default=n}(Fg)),Fg}var Bg={},sb;function yk(){return sb||(sb=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var e=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function n(a){return a.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(u,c,h){return c>0&&c+u.length!==h.length&&u.search(e)>-1&&h.charAt(c-2)!==":"&&(h.charAt(c+u.length)!=="-"||h.charAt(c-1)==="-")&&h.charAt(c-1).search(/[^\s-]/)<0?u.toLowerCase():u.substr(1).search(/[A-Z]|\../)>-1?u:u.charAt(0).toUpperCase()+u.substr(1)})}function r(a){return typeof a=="string"&&a.indexOf("@")!==-1}var i="REDACTED (Potential Email Address)";function s(a){return r(a)?(console.warn("This arg looks like an email address, redacting."),i):a}function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,h=a||"";return u&&(h=n(a)),c&&(h=s(h)),h}}(Bg)),Bg}var ob;function vk(){return ob||(ob=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GA4=void 0;var e=o(gk()),n=o(yk()),r=["eventCategory","eventAction","eventLabel","eventValue","hitType"],i=["title","location"],s=["page","hitType"];function o(q){return q&&q.__esModule?q:{default:q}}function a(q,V){if(q==null)return{};var Z=u(q,V),re,ne;if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(q);for(ne=0;ne<me.length;ne++)re=me[ne],!(V.indexOf(re)>=0)&&Object.prototype.propertyIsEnumerable.call(q,re)&&(Z[re]=q[re])}return Z}function u(q,V){if(q==null)return{};var Z={},re=Object.keys(q),ne,me;for(me=0;me<re.length;me++)ne=re[me],!(V.indexOf(ne)>=0)&&(Z[ne]=q[ne]);return Z}function c(q){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},c(q)}function h(q){return v(q)||g(q)||R(q)||f()}function f(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g(q){if(typeof Symbol<"u"&&q[Symbol.iterator]!=null||q["@@iterator"]!=null)return Array.from(q)}function v(q){if(Array.isArray(q))return A(q)}function _(q,V){var Z=Object.keys(q);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(q);V&&(re=re.filter(function(ne){return Object.getOwnPropertyDescriptor(q,ne).enumerable})),Z.push.apply(Z,re)}return Z}function S(q){for(var V=1;V<arguments.length;V++){var Z=arguments[V]!=null?arguments[V]:{};V%2?_(Object(Z),!0).forEach(function(re){H(q,re,Z[re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(Z)):_(Object(Z)).forEach(function(re){Object.defineProperty(q,re,Object.getOwnPropertyDescriptor(Z,re))})}return q}function C(q,V){return U(q)||F(q,V)||R(q,V)||j()}function j(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R(q,V){if(q){if(typeof q=="string")return A(q,V);var Z=Object.prototype.toString.call(q).slice(8,-1);if(Z==="Object"&&q.constructor&&(Z=q.constructor.name),Z==="Map"||Z==="Set")return Array.from(q);if(Z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Z))return A(q,V)}}function A(q,V){(V==null||V>q.length)&&(V=q.length);for(var Z=0,re=new Array(V);Z<V;Z++)re[Z]=q[Z];return re}function F(q,V){var Z=q==null?null:typeof Symbol<"u"&&q[Symbol.iterator]||q["@@iterator"];if(Z!=null){var re,ne,me,D,G=[],ye=!0,I=!1;try{if(me=(Z=Z.call(q)).next,V!==0)for(;!(ye=(re=me.call(Z)).done)&&(G.push(re.value),G.length!==V);ye=!0);}catch(Ie){I=!0,ne=Ie}finally{try{if(!ye&&Z.return!=null&&(D=Z.return(),Object(D)!==D))return}finally{if(I)throw ne}}return G}}function U(q){if(Array.isArray(q))return q}function O(q,V){if(!(q instanceof V))throw new TypeError("Cannot call a class as a function")}function $(q,V){for(var Z=0;Z<V.length;Z++){var re=V[Z];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(q,z(re.key),re)}}function K(q,V,Z){return V&&$(q.prototype,V),Object.defineProperty(q,"prototype",{writable:!1}),q}function H(q,V,Z){return V=z(V),V in q?Object.defineProperty(q,V,{value:Z,enumerable:!0,configurable:!0,writable:!0}):q[V]=Z,q}function z(q){var V=ue(q,"string");return c(V)==="symbol"?V:String(V)}function ue(q,V){if(c(q)!=="object"||q===null)return q;var Z=q[Symbol.toPrimitive];if(Z!==void 0){var re=Z.call(q,V);if(c(re)!=="object")return re;throw new TypeError("@@toPrimitive must return a primitive value.")}return(V==="string"?String:Number)(q)}var de=function(){function q(){var V=this;O(this,q),H(this,"reset",function(){V.isInitialized=!1,V._testMode=!1,V._currentMeasurementId,V._hasLoadedGA=!1,V._isQueuing=!1,V._queueGtag=[]}),H(this,"_gtag",function(){for(var Z=arguments.length,re=new Array(Z),ne=0;ne<Z;ne++)re[ne]=arguments[ne];V._testMode||V._isQueuing?V._queueGtag.push(re):e.default.apply(void 0,re)}),H(this,"_loadGA",function(Z,re){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!V._hasLoadedGA){var me=document.createElement("script");me.async=!0,me.src="".concat(ne,"?id=").concat(Z),re&&me.setAttribute("nonce",re),document.body.appendChild(me),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},V._hasLoadedGA=!0}}),H(this,"_toGtagOptions",function(Z){if(Z){var re={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},ne=Object.entries(Z).reduce(function(me,D){var G=C(D,2),ye=G[0],I=G[1];return re[ye]?me[re[ye]]=I:me[ye]=I,me},{});return ne}}),H(this,"initialize",function(Z){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Z)throw new Error("Require GA_MEASUREMENT_ID");var ne=typeof Z=="string"?[{trackingId:Z}]:Z;V._currentMeasurementId=ne[0].trackingId;var me=re.gaOptions,D=re.gtagOptions,G=re.nonce,ye=re.testMode,I=ye===void 0?!1:ye,Ie=re.gtagUrl;if(V._testMode=I,I||V._loadGA(V._currentMeasurementId,G,Ie),V.isInitialized||(V._gtag("js",new Date),ne.forEach(function(Ye){var Ke=S(S(S({},V._toGtagOptions(S(S({},me),Ye.gaOptions))),D),Ye.gtagOptions);Object.keys(Ke).length?V._gtag("config",Ye.trackingId,Ke):V._gtag("config",Ye.trackingId)})),V.isInitialized=!0,!I){var Ee=h(V._queueGtag);for(V._queueGtag=[],V._isQueuing=!1;Ee.length;){var je=Ee.shift();V._gtag.apply(V,h(je)),je[0]==="get"&&(V._isQueuing=!0)}}}),H(this,"set",function(Z){if(!Z){console.warn("`fieldsObject` is required in .set()");return}if(c(Z)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(Z).length===0&&console.warn("empty `fieldsObject` given to .set()"),V._gaCommand("set",Z)}),H(this,"_gaCommandSendEvent",function(Z,re,ne,me,D){V._gtag("event",re,S(S({event_category:Z,event_label:ne,value:me},D&&{non_interaction:D.nonInteraction}),V._toGtagOptions(D)))}),H(this,"_gaCommandSendEventParameters",function(){for(var Z=arguments.length,re=new Array(Z),ne=0;ne<Z;ne++)re[ne]=arguments[ne];if(typeof re[0]=="string")V._gaCommandSendEvent.apply(V,h(re.slice(1)));else{var me=re[0],D=me.eventCategory,G=me.eventAction,ye=me.eventLabel,I=me.eventValue;me.hitType;var Ie=a(me,r);V._gaCommandSendEvent(D,G,ye,I,Ie)}}),H(this,"_gaCommandSendTiming",function(Z,re,ne,me){V._gtag("event","timing_complete",{name:re,value:ne,event_category:Z,event_label:me})}),H(this,"_gaCommandSendPageview",function(Z,re){if(re&&Object.keys(re).length){var ne=V._toGtagOptions(re),me=ne.title,D=ne.location,G=a(ne,i);V._gtag("event","page_view",S(S(S(S({},Z&&{page_path:Z}),me&&{page_title:me}),D&&{page_location:D}),G))}else Z?V._gtag("event","page_view",{page_path:Z}):V._gtag("event","page_view")}),H(this,"_gaCommandSendPageviewParameters",function(){for(var Z=arguments.length,re=new Array(Z),ne=0;ne<Z;ne++)re[ne]=arguments[ne];if(typeof re[0]=="string")V._gaCommandSendPageview.apply(V,h(re.slice(1)));else{var me=re[0],D=me.page;me.hitType;var G=a(me,s);V._gaCommandSendPageview(D,G)}}),H(this,"_gaCommandSend",function(){for(var Z=arguments.length,re=new Array(Z),ne=0;ne<Z;ne++)re[ne]=arguments[ne];var me=typeof re[0]=="string"?re[0]:re[0].hitType;switch(me){case"event":V._gaCommandSendEventParameters.apply(V,re);break;case"pageview":V._gaCommandSendPageviewParameters.apply(V,re);break;case"timing":V._gaCommandSendTiming.apply(V,h(re.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(me));break;default:console.warn("Send command doesn't exist: ".concat(me))}}),H(this,"_gaCommandSet",function(){for(var Z=arguments.length,re=new Array(Z),ne=0;ne<Z;ne++)re[ne]=arguments[ne];typeof re[0]=="string"&&(re[0]=H({},re[0],re[1])),V._gtag("set",V._toGtagOptions(re[0]))}),H(this,"_gaCommand",function(Z){for(var re=arguments.length,ne=new Array(re>1?re-1:0),me=1;me<re;me++)ne[me-1]=arguments[me];switch(Z){case"send":V._gaCommandSend.apply(V,ne);break;case"set":V._gaCommandSet.apply(V,ne);break;default:console.warn("Command doesn't exist: ".concat(Z))}}),H(this,"ga",function(){for(var Z=arguments.length,re=new Array(Z),ne=0;ne<Z;ne++)re[ne]=arguments[ne];if(typeof re[0]=="string")V._gaCommand.apply(V,re);else{var me=re[0];V._gtag("get",V._currentMeasurementId,"client_id",function(D){V._isQueuing=!1;var G=V._queueGtag;for(me({get:function(Ie){return Ie==="clientId"?D:Ie==="trackingId"?V._currentMeasurementId:Ie==="apiVersion"?"1":void 0}});G.length;){var ye=G.shift();V._gtag.apply(V,h(ye))}}),V._isQueuing=!0}return V.ga}),H(this,"event",function(Z,re){if(typeof Z=="string")V._gtag("event",Z,V._toGtagOptions(re));else{var ne=Z.action,me=Z.category,D=Z.label,G=Z.value,ye=Z.nonInteraction,I=Z.transport;if(!me||!ne){console.warn("args.category AND args.action are required in event()");return}var Ie={hitType:"event",eventCategory:(0,n.default)(me),eventAction:(0,n.default)(ne)};D&&(Ie.eventLabel=(0,n.default)(D)),typeof G<"u"&&(typeof G!="number"?console.warn("Expected `args.value` arg to be a Number."):Ie.eventValue=G),typeof ye<"u"&&(typeof ye!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):Ie.nonInteraction=ye),typeof I<"u"&&(typeof I!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(I)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),Ie.transport=I)),V._gaCommand("send",Ie)}}),H(this,"send",function(Z){V._gaCommand("send",Z)}),this.reset()}return K(q,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),q}();t.GA4=de;var pe=new de;t.default=pe}(Ig)),Ig}var ab;function xk(){return ab||(ab=1,function(t){function e(a){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},e(a)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ReactGAImplementation=void 0;var n=i(vk());function r(a){if(typeof WeakMap!="function")return null;var u=new WeakMap,c=new WeakMap;return(r=function(f){return f?c:u})(a)}function i(a,u){if(a&&a.__esModule)return a;if(a===null||e(a)!=="object"&&typeof a!="function")return{default:a};var c=r(u);if(c&&c.has(a))return c.get(a);var h={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if(g!=="default"&&Object.prototype.hasOwnProperty.call(a,g)){var v=f?Object.getOwnPropertyDescriptor(a,g):null;v&&(v.get||v.set)?Object.defineProperty(h,g,v):h[g]=a[g]}return h.default=a,c&&c.set(a,h),h}var s=n.GA4;t.ReactGAImplementation=s;var o=n.default;t.default=o}(Dg)),Dg}xk();const $c="8.55.0",Xs=globalThis;function vy(t,e,n){const r=n||Xs,i=r.__SENTRY__=r.__SENTRY__||{},s=i[$c]=i[$c]||{};return s[t]||(s[t]=e())}const Y4=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,bk="Sentry Logger ",lb=["debug","info","warn","error","log","assert","trace"],ub={};function wk(t){if(!("console"in Xs))return t();const e=Xs.console,n={},r=Object.keys(ub);r.forEach(i=>{const s=ub[i];n[i]=e[i],e[i]=s});try{return t()}finally{r.forEach(i=>{e[i]=n[i]})}}function _k(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return Y4?lb.forEach(n=>{e[n]=(...r)=>{t&&wk(()=>{Xs.console[n](`${bk}[${n}]:`,...r)})}}):lb.forEach(n=>{e[n]=()=>{}}),e}const Mf=vy("logger",_k);function X4(){return xy(Xs),Xs}function xy(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||$c,e[$c]=e[$c]||{}}const Sk=Object.prototype.toString;function Ck(t,e){return Sk.call(t)===`[object ${e}]`}function kk(t){return Ck(t,"Object")}function Ek(t){return!!(t&&t.then&&typeof t.then=="function")}function jk(t,e,n){try{Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}catch{Y4&&Mf.log(`Failed to add non-enumerable property "${e}" to object`,t)}}const J4=1e3;function Z4(){return Date.now()/J4}function Tk(){const{performance:t}=Xs;if(!t||!t.now)return Z4;const e=Date.now()-t.now(),n=t.timeOrigin==null?e:t.timeOrigin;return()=>(n+t.now())/J4}const Nk=Tk();(()=>{const{performance:t}=Xs;if(!t||!t.now)return;const e=3600*1e3,n=t.now(),r=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+n-r):e,s=i<e,o=t.timing&&t.timing.navigationStart,u=typeof o=="number"?Math.abs(o+n-r):e,c=u<e;return s||c?i<=u?t.timeOrigin:o:r})();function hu(){const t=Xs,e=t.crypto||t.msCrypto;let n=()=>Math.random()*16;try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return e.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function Pk(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||Nk(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:hu()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function cb(){return hu()}function db(){return hu().substring(16)}function e_(t,e,n=2){if(!e||typeof e!="object"||n<=0)return e;if(t&&e&&Object.keys(e).length===0)return t;const r={...t};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e_(r[i],e[i],n-1));return r}const s1="_sentrySpan";function hb(t,e){e?jk(t,s1,e):delete t[s1]}function fb(t){return t[s1]}const Ok=100;class by{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:cb(),spanId:db()}}clone(){const e=new by;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,hb(e,fb(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Pk(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this._tags={...this._tags,[e]:n},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const n=typeof e=="function"?e(this):e,[r,i]=n instanceof yu?[n.getScopeData(),n.getRequestSession()]:kk(n)?[e,e.requestSession]:[],{tags:s,extra:o,user:a,contexts:u,level:c,fingerprint:h=[],propagationContext:f}=r||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...o},this._contexts={...this._contexts,...u},a&&Object.keys(a).length&&(this._user=a),c&&(this._level=c),h.length&&(this._fingerprint=h),f&&(this._propagationContext=f),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,hb(this,void 0),this._attachments=[],this.setPropagationContext({traceId:cb()}),this._notifyScopeListeners(),this}addBreadcrumb(e,n){const r=typeof n=="number"?n:Ok;if(r<=0)return this;const i={timestamp:Z4(),...e};return this._breadcrumbs.push(i),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:fb(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=e_(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext={spanId:db(),...e},this}getPropagationContext(){return this._propagationContext}captureException(e,n){const r=n&&n.event_id?n.event_id:hu();if(!this._client)return Mf.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:i,...n,event_id:r},this),r}captureMessage(e,n,r){const i=r&&r.event_id?r.event_id:hu();if(!this._client)return Mf.warn("No client configured on scope - will not capture message!"),i;const s=new Error(e);return this._client.captureMessage(e,n,{originalException:e,syntheticException:s,...r,event_id:i},this),i}captureEvent(e,n){const r=n&&n.event_id?n.event_id:hu();return this._client?(this._client.captureEvent(e,{...n,event_id:r},this),r):(Mf.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}const yu=by;function Ak(){return vy("defaultCurrentScope",()=>new yu)}function Lk(){return vy("defaultIsolationScope",()=>new yu)}class Rk{constructor(e,n){let r;e?r=e:r=new yu;let i;n?i=n:i=new yu,this._stack=[{scope:r}],this._isolationScope=i}withScope(e){const n=this._pushScope();let r;try{r=e(n)}catch(i){throw this._popScope(),i}return Ek(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function vu(){const t=X4(),e=xy(t);return e.stack=e.stack||new Rk(Ak(),Lk())}function Mk(t){return vu().withScope(t)}function Dk(t,e){const n=vu();return n.withScope(()=>(n.getStackTop().scope=t,e(t)))}function pb(t){return vu().withScope(()=>t(vu().getIsolationScope()))}function Ik(){return{withIsolationScope:pb,withScope:Mk,withSetScope:Dk,withSetIsolationScope:(t,e)=>pb(e),getCurrentScope:()=>vu().getScope(),getIsolationScope:()=>vu().getIsolationScope()}}function Fk(t){const e=xy(t);return e.acs?e.acs:Ik()}function Bk(){const t=X4();return Fk(t).getCurrentScope()}function zk(t){if(t)return $k(t)?{captureContext:t}:Hk(t)?{captureContext:t}:t}function $k(t){return t instanceof yu||typeof t=="function"}const Uk=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function Hk(t){return Object.keys(t).some(e=>Uk.includes(e))}function Qk(t,e){return Bk().captureException(t,zk(e))}var zg={exports:{}},$g,mb;function Vk(){if(mb)return $g;mb=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return $g=t,$g}var Ug,gb;function qk(){if(gb)return Ug;gb=1;var t=Vk();function e(){}function n(){}return n.resetWarningCache=e,Ug=function(){function r(o,a,u,c,h,f){if(f!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},Ug}var yb;function Wk(){return yb||(yb=1,zg.exports=qk()()),zg.exports}var Kk=Wk();const jt=di(Kk);var Hg,vb;function Gk(){if(vb)return Hg;vb=1;function t(a){return a&&typeof a=="object"&&"default"in a?a.default:a}var e=xp(),n=t(e);function r(a,u,c){return u in a?Object.defineProperty(a,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[u]=c,a}function i(a,u){a.prototype=Object.create(u.prototype),a.prototype.constructor=a,a.__proto__=u}var s=!!(typeof window<"u"&&window.document&&window.document.createElement);function o(a,u,c){if(typeof a!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof u!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof c<"u"&&typeof c!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function h(f){return f.displayName||f.name||"Component"}return function(g){if(typeof g!="function")throw new Error("Expected WrappedComponent to be a React component.");var v=[],_;function S(){_=a(v.map(function(j){return j.props})),C.canUseDOM?u(_):c&&(_=c(_))}var C=function(j){i(R,j);function R(){return j.apply(this,arguments)||this}R.peek=function(){return _},R.rewind=function(){if(R.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var U=_;return _=void 0,v=[],U};var A=R.prototype;return A.UNSAFE_componentWillMount=function(){v.push(this),S()},A.componentDidUpdate=function(){S()},A.componentWillUnmount=function(){var U=v.indexOf(this);v.splice(U,1),S()},A.render=function(){return n.createElement(g,this.props)},R}(e.PureComponent);return r(C,"displayName","SideEffect("+h(g)+")"),r(C,"canUseDOM",s),C}}return Hg=o,Hg}var Yk=Gk();const Xk=di(Yk);var Qg,xb;function Jk(){if(xb)return Qg;xb=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(s,o){if(s===o)return!0;if(s&&o&&typeof s=="object"&&typeof o=="object"){if(s.constructor!==o.constructor)return!1;var a,u,c;if(Array.isArray(s)){if(a=s.length,a!=o.length)return!1;for(u=a;u--!==0;)if(!i(s[u],o[u]))return!1;return!0}var h;if(e&&s instanceof Map&&o instanceof Map){if(s.size!==o.size)return!1;for(h=s.entries();!(u=h.next()).done;)if(!o.has(u.value[0]))return!1;for(h=s.entries();!(u=h.next()).done;)if(!i(u.value[1],o.get(u.value[0])))return!1;return!0}if(n&&s instanceof Set&&o instanceof Set){if(s.size!==o.size)return!1;for(h=s.entries();!(u=h.next()).done;)if(!o.has(u.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(o)){if(a=s.length,a!=o.length)return!1;for(u=a;u--!==0;)if(s[u]!==o[u])return!1;return!0}if(s.constructor===RegExp)return s.source===o.source&&s.flags===o.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof o.valueOf=="function")return s.valueOf()===o.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof o.toString=="function")return s.toString()===o.toString();if(c=Object.keys(s),a=c.length,a!==Object.keys(o).length)return!1;for(u=a;u--!==0;)if(!Object.prototype.hasOwnProperty.call(o,c[u]))return!1;if(t&&s instanceof Element)return!1;for(u=a;u--!==0;)if(!((c[u]==="_owner"||c[u]==="__v"||c[u]==="__o")&&s.$$typeof)&&!i(s[c[u]],o[c[u]]))return!1;return!0}return s!==s&&o!==o}return Qg=function(o,a){try{return i(o,a)}catch(u){if((u.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw u}},Qg}var Zk=Jk();const eE=di(Zk);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Vg,bb;function tE(){if(bb)return Vg;bb=1;var t=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function i(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var o={},a=0;a<10;a++)o["_"+String.fromCharCode(a)]=a;var u=Object.getOwnPropertyNames(o).map(function(h){return o[h]});if(u.join("")!=="0123456789")return!1;var c={};return"abcdefghijklmnopqrst".split("").forEach(function(h){c[h]=h}),Object.keys(Object.assign({},c)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return Vg=i()?Object.assign:function(s,o){for(var a,u=r(s),c,h=1;h<arguments.length;h++){a=Object(arguments[h]);for(var f in a)e.call(a,f)&&(u[f]=a[f]);if(t){c=t(a);for(var g=0;g<c.length;g++)n.call(a,c[g])&&(u[c[g]]=a[c[g]])}}return u},Vg}var nE=tE();const rE=di(nE);var Ha={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},wt={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(wt).map(function(t){return wt[t]});var vn={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Wf={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},nd={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},iE=Object.keys(Wf).reduce(function(t,e){return t[Wf[e]]=e,t},{}),sE=[wt.NOSCRIPT,wt.SCRIPT,wt.STYLE],Ki="data-react-helmet",oE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aE=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},lE=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Hr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uE=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},wb=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},cE=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},o1=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},dE=function(e){var n=fu(e,wt.TITLE),r=fu(e,nd.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=fu(e,nd.DEFAULT_TITLE);return n||i||void 0},hE=function(e){return fu(e,nd.ON_CHANGE_CLIENT_STATE)||function(){}},qg=function(e,n){return n.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,i){return Hr({},r,i)},{})},fE=function(e,n){return n.filter(function(r){return typeof r[wt.BASE]<"u"}).map(function(r){return r[wt.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),o=0;o<s.length;o++){var a=s[o],u=a.toLowerCase();if(e.indexOf(u)!==-1&&i[u])return r.concat(i)}return r},[])},yc=function(e,n,r){var i={};return r.filter(function(s){return Array.isArray(s[e])?!0:(typeof s[e]<"u"&&yE("Helmet: "+e+' should be of type "Array". Instead found type "'+oE(s[e])+'"'),!1)}).map(function(s){return s[e]}).reverse().reduce(function(s,o){var a={};o.filter(function(g){for(var v=void 0,_=Object.keys(g),S=0;S<_.length;S++){var C=_[S],j=C.toLowerCase();n.indexOf(j)!==-1&&!(v===vn.REL&&g[v].toLowerCase()==="canonical")&&!(j===vn.REL&&g[j].toLowerCase()==="stylesheet")&&(v=j),n.indexOf(C)!==-1&&(C===vn.INNER_HTML||C===vn.CSS_TEXT||C===vn.ITEM_PROP)&&(v=C)}if(!v||!g[v])return!1;var R=g[v].toLowerCase();return i[v]||(i[v]={}),a[v]||(a[v]={}),i[v][R]?!1:(a[v][R]=!0,!0)}).reverse().forEach(function(g){return s.push(g)});for(var u=Object.keys(a),c=0;c<u.length;c++){var h=u[c],f=rE({},i[h],a[h]);i[h]=f}return s},[]).reverse()},fu=function(e,n){for(var r=e.length-1;r>=0;r--){var i=e[r];if(i.hasOwnProperty(n))return i[n]}return null},pE=function(e){return{baseTag:fE([vn.HREF,vn.TARGET],e),bodyAttributes:qg(Ha.BODY,e),defer:fu(e,nd.DEFER),encode:fu(e,nd.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:qg(Ha.HTML,e),linkTags:yc(wt.LINK,[vn.REL,vn.HREF],e),metaTags:yc(wt.META,[vn.NAME,vn.CHARSET,vn.HTTPEQUIV,vn.PROPERTY,vn.ITEM_PROP],e),noscriptTags:yc(wt.NOSCRIPT,[vn.INNER_HTML],e),onChangeClientState:hE(e),scriptTags:yc(wt.SCRIPT,[vn.SRC,vn.INNER_HTML],e),styleTags:yc(wt.STYLE,[vn.CSS_TEXT],e),title:dE(e),titleAttributes:qg(Ha.TITLE,e)}},a1=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){a1(e)},0)}}(),_b=function(e){return clearTimeout(e)},mE=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||a1:global.requestAnimationFrame||a1,gE=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||_b:global.cancelAnimationFrame||_b,yE=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},vc=null,vE=function(e){vc&&gE(vc),e.defer?vc=mE(function(){Sb(e,function(){vc=null})}):(Sb(e),vc=null)},Sb=function(e,n){var r=e.baseTag,i=e.bodyAttributes,s=e.htmlAttributes,o=e.linkTags,a=e.metaTags,u=e.noscriptTags,c=e.onChangeClientState,h=e.scriptTags,f=e.styleTags,g=e.title,v=e.titleAttributes;l1(wt.BODY,i),l1(wt.HTML,s),xE(g,v);var _={baseTag:$l(wt.BASE,r),linkTags:$l(wt.LINK,o),metaTags:$l(wt.META,a),noscriptTags:$l(wt.NOSCRIPT,u),scriptTags:$l(wt.SCRIPT,h),styleTags:$l(wt.STYLE,f)},S={},C={};Object.keys(_).forEach(function(j){var R=_[j],A=R.newTags,F=R.oldTags;A.length&&(S[j]=A),F.length&&(C[j]=_[j].oldTags)}),n&&n(),c(e,S,C)},t_=function(e){return Array.isArray(e)?e.join(""):e},xE=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=t_(e)),l1(wt.TITLE,n)},l1=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var i=r.getAttribute(Ki),s=i?i.split(","):[],o=[].concat(s),a=Object.keys(n),u=0;u<a.length;u++){var c=a[u],h=n[c]||"";r.getAttribute(c)!==h&&r.setAttribute(c,h),s.indexOf(c)===-1&&s.push(c);var f=o.indexOf(c);f!==-1&&o.splice(f,1)}for(var g=o.length-1;g>=0;g--)r.removeAttribute(o[g]);s.length===o.length?r.removeAttribute(Ki):r.getAttribute(Ki)!==a.join(",")&&r.setAttribute(Ki,a.join(","))}},$l=function(e,n){var r=document.head||document.querySelector(wt.HEAD),i=r.querySelectorAll(e+"["+Ki+"]"),s=Array.prototype.slice.call(i),o=[],a=void 0;return n&&n.length&&n.forEach(function(u){var c=document.createElement(e);for(var h in u)if(u.hasOwnProperty(h))if(h===vn.INNER_HTML)c.innerHTML=u.innerHTML;else if(h===vn.CSS_TEXT)c.styleSheet?c.styleSheet.cssText=u.cssText:c.appendChild(document.createTextNode(u.cssText));else{var f=typeof u[h]>"u"?"":u[h];c.setAttribute(h,f)}c.setAttribute(Ki,"true"),s.some(function(g,v){return a=v,c.isEqualNode(g)})?s.splice(a,1):o.push(c)}),s.forEach(function(u){return u.parentNode.removeChild(u)}),o.forEach(function(u){return r.appendChild(u)}),{oldTags:s,newTags:o}},n_=function(e){return Object.keys(e).reduce(function(n,r){var i=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return n?n+" "+i:i},"")},bE=function(e,n,r,i){var s=n_(r),o=t_(n);return s?"<"+e+" "+Ki+'="true" '+s+">"+o1(o,i)+"</"+e+">":"<"+e+" "+Ki+'="true">'+o1(o,i)+"</"+e+">"},wE=function(e,n,r){return n.reduce(function(i,s){var o=Object.keys(s).filter(function(c){return!(c===vn.INNER_HTML||c===vn.CSS_TEXT)}).reduce(function(c,h){var f=typeof s[h]>"u"?h:h+'="'+o1(s[h],r)+'"';return c?c+" "+f:f},""),a=s.innerHTML||s.cssText||"",u=sE.indexOf(e)===-1;return i+"<"+e+" "+Ki+'="true" '+o+(u?"/>":">"+a+"</"+e+">")},"")},r_=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[Wf[i]||i]=e[i],r},n)},_E=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[iE[i]||i]=e[i],r},n)},SE=function(e,n,r){var i,s=(i={key:n},i[Ki]=!0,i),o=r_(r,s);return[en.createElement(wt.TITLE,o,n)]},CE=function(e,n){return n.map(function(r,i){var s,o=(s={key:i},s[Ki]=!0,s);return Object.keys(r).forEach(function(a){var u=Wf[a]||a;if(u===vn.INNER_HTML||u===vn.CSS_TEXT){var c=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:c}}else o[u]=r[a]}),en.createElement(e,o)})},Fs=function(e,n,r){switch(e){case wt.TITLE:return{toComponent:function(){return SE(e,n.title,n.titleAttributes)},toString:function(){return bE(e,n.title,n.titleAttributes,r)}};case Ha.BODY:case Ha.HTML:return{toComponent:function(){return r_(n)},toString:function(){return n_(n)}};default:return{toComponent:function(){return CE(e,n)},toString:function(){return wE(e,n,r)}}}},i_=function(e){var n=e.baseTag,r=e.bodyAttributes,i=e.encode,s=e.htmlAttributes,o=e.linkTags,a=e.metaTags,u=e.noscriptTags,c=e.scriptTags,h=e.styleTags,f=e.title,g=f===void 0?"":f,v=e.titleAttributes;return{base:Fs(wt.BASE,n,i),bodyAttributes:Fs(Ha.BODY,r,i),htmlAttributes:Fs(Ha.HTML,s,i),link:Fs(wt.LINK,o,i),meta:Fs(wt.META,a,i),noscript:Fs(wt.NOSCRIPT,u,i),script:Fs(wt.SCRIPT,c,i),style:Fs(wt.STYLE,h,i),title:Fs(wt.TITLE,{title:g,titleAttributes:v},i)}},kE=function(e){var n,r;return r=n=function(i){uE(s,i);function s(){return aE(this,s),cE(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(a){return!eE(this.props,a)},s.prototype.mapNestedChildrenToProps=function(a,u){if(!u)return null;switch(a.type){case wt.SCRIPT:case wt.NOSCRIPT:return{innerHTML:u};case wt.STYLE:return{cssText:u}}throw new Error("<"+a.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(a){var u,c=a.child,h=a.arrayTypeChildren,f=a.newChildProps,g=a.nestedChildren;return Hr({},h,(u={},u[c.type]=[].concat(h[c.type]||[],[Hr({},f,this.mapNestedChildrenToProps(c,g))]),u))},s.prototype.mapObjectTypeChildren=function(a){var u,c,h=a.child,f=a.newProps,g=a.newChildProps,v=a.nestedChildren;switch(h.type){case wt.TITLE:return Hr({},f,(u={},u[h.type]=v,u.titleAttributes=Hr({},g),u));case wt.BODY:return Hr({},f,{bodyAttributes:Hr({},g)});case wt.HTML:return Hr({},f,{htmlAttributes:Hr({},g)})}return Hr({},f,(c={},c[h.type]=Hr({},g),c))},s.prototype.mapArrayTypeChildrenToProps=function(a,u){var c=Hr({},u);return Object.keys(a).forEach(function(h){var f;c=Hr({},c,(f={},f[h]=a[h],f))}),c},s.prototype.warnOnInvalidChildren=function(a,u){return!0},s.prototype.mapChildrenToProps=function(a,u){var c=this,h={};return en.Children.forEach(a,function(f){if(!(!f||!f.props)){var g=f.props,v=g.children,_=wb(g,["children"]),S=_E(_);switch(c.warnOnInvalidChildren(f,v),f.type){case wt.LINK:case wt.META:case wt.NOSCRIPT:case wt.SCRIPT:case wt.STYLE:h=c.flattenArrayTypeChildren({child:f,arrayTypeChildren:h,newChildProps:S,nestedChildren:v});break;default:u=c.mapObjectTypeChildren({child:f,newProps:u,newChildProps:S,nestedChildren:v});break}}}),u=this.mapArrayTypeChildrenToProps(h,u),u},s.prototype.render=function(){var a=this.props,u=a.children,c=wb(a,["children"]),h=Hr({},c);return u&&(h=this.mapChildrenToProps(u,h)),en.createElement(e,h)},lE(s,null,[{key:"canUseDOM",set:function(a){e.canUseDOM=a}}]),s}(en.Component),n.propTypes={base:jt.object,bodyAttributes:jt.object,children:jt.oneOfType([jt.arrayOf(jt.node),jt.node]),defaultTitle:jt.string,defer:jt.bool,encodeSpecialCharacters:jt.bool,htmlAttributes:jt.object,link:jt.arrayOf(jt.object),meta:jt.arrayOf(jt.object),noscript:jt.arrayOf(jt.object),onChangeClientState:jt.func,script:jt.arrayOf(jt.object),style:jt.arrayOf(jt.object),title:jt.string,titleAttributes:jt.object,titleTemplate:jt.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var i=e.rewind();return i||(i=i_({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},EE=function(){return null},jE=Xk(pE,vE,i_)(EE),nr=kE(jE);nr.renderStatic=nr.rewind;const TE=t=>P.createElement("svg",{width:240,height:240,viewBox:"0 0 240 240",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},P.createElement("path",{d:"M35.0767 27.9936C36.2709 9.99373 56.1517 -0.303892 71.5425 9.10587L213.791 96.0756C231.278 106.768 228.18 133.047 208.685 139.378L169.934 151.963L186.77 185.839C193.06 198.497 187.616 213.848 174.755 219.712L148.361 231.747C136.289 237.252 122.02 232.368 115.853 220.621L96.5356 183.827L61.2319 205.402C44.6261 215.55 23.4817 202.753 24.77 183.334L35.0767 27.9936Z",fill:"#047CFE"}),P.createElement("ellipse",{cx:81.7143,cy:99.4285,rx:9.71429,ry:13.7143,fill:"white"}),P.createElement("path",{d:"M144 99.4285C144 107.003 139.651 113.143 134.286 113.143C128.921 113.143 124.571 107.003 124.571 99.4285C124.571 91.8543 128.921 85.7142 134.286 85.7142C139.651 85.7142 144 91.8543 144 99.4285Z",fill:"white"}),P.createElement("path",{d:"M86.7687 125.246C88.6759 123.021 92.0636 122.863 94.1695 124.901L99.9237 130.47C104.528 134.926 111.74 135.226 116.699 131.169L123.261 125.8C125.281 124.147 128.239 124.354 130.009 126.272V126.272C131.991 128.419 131.682 131.81 129.344 133.563L122.999 138.322C122.524 138.678 122.024 138.999 121.502 139.281L118.258 141.039C112.227 144.305 104.944 144.254 98.9601 140.903L95.3516 138.883C94.6427 138.486 93.973 138.022 93.3515 137.499L87.3544 132.449C85.1919 130.628 84.9288 127.393 86.7687 125.246V125.246Z",fill:"white"})),NE=t=>P.createElement("svg",{id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"100%",viewBox:"740 350 700 190",enableBackground:"new 0 0 1506 862",xmlSpace:"preserve",...t},P.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M766.615112,463.466736 C775.870483,435.054810 785.533081,407.176788 793.924072,378.921143 C799.456543,360.291321 821.375366,357.141083 832.881592,364.663513 C838.142395,368.102875 840.908264,372.891174 842.764648,378.570496 C853.528076,411.499817 864.314026,444.421814 875.109436,477.340668 C878.939270,489.019165 882.817444,500.681793 886.885071,512.991760 C873.401611,512.991760 860.604980,513.082825 847.814941,512.834106 C846.683838,512.812195 845.029419,510.751434 844.583618,509.333893 C842.385803,502.345581 840.389465,495.286346 838.588135,488.184601 C837.875916,485.376556 836.496521,484.498810 833.699890,484.534851 C823.536499,484.665802 813.369263,484.669006 803.205994,484.533264 C800.346008,484.495056 799.085388,485.557281 798.384705,488.289246 C796.564392,495.386353 794.554382,502.439484 792.396301,509.441223 C791.983948,510.779236 790.565674,512.800781 789.581299,512.818420 C776.821838,513.046875 764.056885,512.969788 750.549133,512.969788 C756.023682,496.088989 761.252869,479.964600 766.615112,463.466736 M816.931274,421.410614 C814.112549,431.575104 811.293823,441.739594 808.392944,452.200287 C815.599854,452.200287 821.902649,452.200287 828.658752,452.200287 C825.389221,440.483582 822.289490,429.375366 818.869080,417.118134 C817.911804,419.080017 817.519409,419.884216 816.931274,421.410614 z"}),P.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M897.499634,440.999878 C897.503479,420.519745 897.488831,400.539612 897.519775,380.559540 C897.531799,372.795044 900.376282,366.496521 907.660461,363.030640 C915.127136,359.477966 922.528442,359.846069 929.464539,364.563080 C935.259399,368.503876 937.055176,374.335907 937.048035,381.039062 C937.015198,411.841675 937.034424,442.644379 937.040466,473.447052 C937.041748,480.073792 937.052368,480.081238 943.492004,480.087067 C954.814026,480.097321 966.136658,480.028900 977.457947,480.122711 C987.208801,480.203491 993.256531,486.339630 993.423340,496.088531 C993.591736,505.931396 987.323730,512.874146 977.673828,512.951233 C959.526672,513.096191 941.377319,512.994263 923.229065,512.925903 C921.079651,512.917786 918.917908,512.564026 916.785522,512.222961 C904.801392,510.306244 898.913025,504.603821 898.202148,492.417206 C897.427734,479.139282 897.678284,465.801117 897.506409,452.488892 C897.459106,448.826477 897.499329,445.162903 897.499634,440.999878 z"}),P.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1040.002319,513.009888 C1032.386597,512.472046 1025.194824,512.401672 1018.174561,511.268555 C1010.726318,510.066406 1006.177002,504.925751 1004.404785,497.720428 C1003.459595,493.877228 1002.968811,489.824890 1002.956421,485.864838 C1002.846130,450.709564 1002.826050,415.553650 1002.916931,380.398285 C1002.954224,365.950378 1016.559753,356.896027 1030.130249,362.060669 C1038.365479,365.194824 1042.187012,370.979767 1042.201660,380.770782 C1042.247070,411.094543 1042.204346,441.418396 1042.235718,471.742188 C1042.245239,480.981537 1041.247803,480.051331 1050.482178,480.082153 C1061.312012,480.118286 1072.142578,480.025299 1082.971680,480.121033 C1092.570557,480.205902 1098.845581,486.620514 1098.907471,496.184052 C1098.970459,505.922485 1092.541992,512.866394 1082.988037,512.962402 C1068.827148,513.104797 1054.663940,513.006042 1040.002319,513.009888 z"}),P.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1105.599854,424.091034 C1105.678223,419.273590 1105.675537,414.939514 1105.848022,410.612366 C1106.679688,389.750092 1118.775146,372.818024 1138.406616,365.732941 C1156.549072,359.185303 1175.012329,358.583527 1193.188843,365.323273 C1198.110229,367.148071 1202.772949,370.721100 1206.466431,374.543121 C1211.164673,379.404846 1211.106934,386.678192 1207.716797,392.221375 C1204.392090,397.657684 1197.251099,400.903137 1190.883667,399.580627 C1188.301636,399.044403 1185.815430,397.977692 1183.339355,397.013916 C1175.530396,393.974335 1167.541260,392.816956 1159.379639,395.154175 C1150.777954,397.617371 1145.223511,403.980804 1145.017212,412.911163 C1144.628296,429.729340 1144.585449,446.570526 1145.007446,463.386902 C1145.269531,473.829987 1153.125732,481.281250 1163.625244,482.137146 C1171.722046,482.797241 1179.477173,481.553802 1186.986572,478.140991 C1190.366577,476.604889 1194.360962,475.323792 1197.962524,475.572998 C1209.802612,476.392456 1216.308594,490.454346 1208.927490,499.752319 C1205.559448,503.994965 1200.648315,507.757538 1195.646484,509.828613 C1174.556763,518.560974 1153.221802,518.122009 1132.727783,508.061493 C1115.403931,499.557190 1106.508057,484.852997 1105.894775,465.561035 C1105.460938,451.910522 1105.674927,438.239471 1105.599854,424.091034 z"}),P.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1320.434326,500.172791 C1317.639038,509.503052 1313.229980,512.955139 1304.061890,512.987305 C1286.908081,513.047424 1269.753784,513.003906 1252.599731,512.992737 C1251.268433,512.991882 1249.933105,512.956604 1248.606323,512.853210 C1231.926514,511.553131 1225.143188,504.528259 1225.061279,487.516205 C1224.887939,451.543427 1224.944946,415.569183 1225.023804,379.595795 C1225.048584,368.329468 1233.036743,360.816620 1244.539917,360.809937 C1256.112671,360.803192 1264.062378,368.157135 1264.114258,379.536163 C1264.256104,410.679382 1264.172607,441.823578 1264.180786,472.967407 C1264.182617,480.081787 1264.187012,480.085663 1271.141602,480.088776 C1281.967041,480.093628 1292.792480,480.061768 1303.617798,480.102203 C1315.913452,480.148132 1322.019409,487.278107 1320.434326,500.172791 z"}),P.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1378.000000,513.014893 C1368.192139,512.765503 1358.816406,513.130859 1349.593384,512.112854 C1337.746338,510.805237 1332.660767,505.204010 1330.947388,493.507568 C1330.538574,490.717987 1330.280029,487.878601 1330.276367,485.061737 C1330.230103,450.432434 1330.286133,415.802979 1330.212158,381.173767 C1330.194580,372.958893 1332.967651,366.428131 1340.685059,362.882050 C1348.394409,359.339600 1355.924683,359.980255 1362.863892,365.047699 C1368.391602,369.084473 1369.760742,374.936981 1369.757690,381.368835 C1369.743286,412.002502 1369.751465,442.636139 1369.756226,473.269806 C1369.757324,480.076080 1369.766113,480.079834 1376.503418,480.083557 C1387.658081,480.089752 1398.813110,480.033844 1409.967285,480.110382 C1420.152832,480.180267 1426.172729,486.207733 1426.218872,496.197205 C1426.266479,506.515289 1420.200684,512.875610 1409.966064,512.983093 C1399.478394,513.093262 1388.988770,513.012207 1378.000000,513.014893 z"})),PE=t=>P.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},P.createElement("path",{d:"M4 11.5L3.515 11.621C3.08232 11.7292 2.69821 11.9788 2.4237 12.3303C2.1492 12.6818 2.00007 13.115 2 13.561V15.438C2.00007 15.884 2.1492 16.3172 2.4237 16.6687C2.69821 17.0202 3.08232 17.2698 3.515 17.378L5.255 17.813C5.34342 17.835 5.43569 17.8366 5.52481 17.8177C5.61393 17.7987 5.69757 17.7597 5.76937 17.7036C5.84118 17.6475 5.89926 17.5758 5.93922 17.4939C5.97918 17.412 5.99997 17.3221 6 17.231V11.768C6.00001 11.6768 5.97921 11.5868 5.93919 11.5048C5.89918 11.4228 5.84099 11.351 5.76907 11.2949C5.69714 11.2388 5.61337 11.1998 5.52412 11.1809C5.43486 11.1621 5.34248 11.1638 5.254 11.186L4 11.5ZM4 11.5V11C4 8.87827 4.84285 6.84344 6.34315 5.34315C7.84344 3.84285 9.87827 3 12 3C14.1217 3 16.1566 3.84285 17.6569 5.34315C19.1571 6.84344 20 8.87827 20 11V11.5M20 11.5L20.485 11.621C20.9177 11.7292 21.3018 11.9788 21.5763 12.3303C21.8508 12.6818 21.9999 13.115 22 13.561V15.438C21.9999 15.884 21.8508 16.3172 21.5763 16.6687C21.3018 17.0202 20.9177 17.2698 20.485 17.378L20 17.5M20 11.5L18.745 11.186C18.6566 11.164 18.5643 11.1624 18.4752 11.1813C18.3861 11.2003 18.3024 11.2393 18.2306 11.2954C18.1588 11.3515 18.1007 11.4232 18.0608 11.5051C18.0208 11.587 18 11.6769 18 11.768V17.231C18 17.3221 18.0208 17.412 18.0608 17.4939C18.1007 17.5758 18.1588 17.6475 18.2306 17.7036C18.3024 17.7597 18.3861 17.7987 18.4752 17.8177C18.5643 17.8366 18.6566 17.835 18.745 17.813L20 17.5M20 17.5V18.5C20 19.0304 19.7893 19.5391 19.4142 19.9142C19.0391 20.2893 18.5304 20.5 18 20.5H15M15 20.5C15 20.1022 14.842 19.7206 14.5607 19.4393C14.2794 19.158 13.8978 19 13.5 19H10.5C10.1022 19 9.72064 19.158 9.43934 19.4393C9.15804 19.7206 9 20.1022 9 20.5C9 20.8978 9.15804 21.2794 9.43934 21.5607C9.72064 21.842 10.1022 22 10.5 22H13.5C13.8978 22 14.2794 21.842 14.5607 21.5607C14.842 21.2794 15 20.8978 15 20.5Z",stroke:"#6B7280",strokeWidth:1.5})),OE=t=>P.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},P.createElement("path",{d:"M12 3C9.61306 3 7.32388 3.94821 5.63605 5.63604C3.94822 7.32387 3.00001 9.61305 3.00001 12C3.00001 14.397 3.93501 16.573 5.46301 18.186L5.96701 18.718L4.70001 21H12C13.1819 21 14.3522 20.7672 15.4442 20.3149C16.5361 19.8626 17.5282 19.1997 18.364 18.364C19.1997 17.5282 19.8626 16.5361 20.3149 15.4442C20.7672 14.3522 21 13.1819 21 12C21 10.8181 20.7672 9.64778 20.3149 8.55585C19.8626 7.46392 19.1997 6.47177 18.364 5.63604C17.5282 4.80031 16.5361 4.13738 15.4442 3.68508C14.3522 3.23279 13.1819 3 12 3ZM1.00001 12C1.00001 5.925 5.92501 1 12 1C18.075 1 23 5.925 23 12C23 18.075 18.075 23 12 23H1.30001L3.52001 19.006C1.88821 17.0363 0.996743 14.5578 1.00001 12ZM12 7.5C11.5864 7.4999 11.1829 7.62803 10.8452 7.86676C10.5074 8.10549 10.2519 8.44307 10.114 8.833L9.78001 9.776L7.89501 9.11L8.22801 8.167C8.43446 7.58155 8.77432 7.05216 9.22069 6.62073C9.66706 6.1893 10.2077 5.86765 10.7998 5.68124C11.392 5.49483 12.0194 5.44876 12.6324 5.54668C13.2454 5.64461 13.8272 5.88383 14.3318 6.24544C14.8364 6.60704 15.25 7.08111 15.5397 7.63013C15.8295 8.17915 15.9875 8.78806 16.0013 9.4087C16.0151 10.0293 15.8843 10.6447 15.6192 11.206C15.3541 11.7674 14.962 12.2593 14.474 12.643C14.043 12.983 13.657 13.309 13.378 13.652C13.104 13.99 13 14.262 13 14.5V15.75H11V14.5C11 13.633 11.39 12.927 11.826 12.39C12.258 11.86 12.8 11.416 13.236 11.072C13.5628 10.8149 13.8014 10.4624 13.9185 10.0634C14.0357 9.66449 14.0256 9.23894 13.8896 8.846C13.7536 8.45305 13.4986 8.11226 13.1599 7.87102C12.8212 7.62978 12.4158 7.50009 12 7.5ZM11 16.75H13.004V18.754H11V16.75Z",fill:"#6B7280"})),s_=[{title:"",path:"/timetable",end:!1},{title:"",path:"/wishes",end:!0},{title:"",path:"/simulation",end:!1},{title:"",path:"/live",end:!0}],AE=[{icon:p.jsx(PE,{className:"w-4 h-4"}),title:"  ",path:"/survey"},{icon:p.jsx(OE,{className:"w-4 h-4"}),title:" ",path:"https://open.kakao.com/o/g3MztXfh"}];function wy(){return p.jsx("header",{className:"bg-white shadow-sm z-50 sticky top-0",children:p.jsxs("div",{className:"container flex items-center justify-between mx-auto max-w-7xl px-4 md:px-16",children:[p.jsxs("div",{className:"flex items-center space-x-4 py-4",children:[p.jsxs(Bn,{to:"/",className:"flex items-center gap-1 space-x-2","aria-label":" ",children:[p.jsx("h1",{className:"hidden",children:"ALLCLL"}),p.jsx(TE,{className:"w-6 h-6 m-0"}),p.jsx(NE,{className:"h-5 hidden sm:inline-block"})]}),p.jsx("ul",{className:"flex space-x-4 text-sm sm:text-base",children:s_.map(({title:t,path:e,end:n})=>p.jsx("li",{className:"font-bold",children:p.jsx(Cu,{to:e,end:n,className:({isActive:r})=>r?"text-blue-500 font-semibold":"text-gray-500",children:t})},e))})]}),p.jsx("div",{className:"items-center space-x-2 hidden sm:flex",children:AE.map(({icon:t,title:e,path:n})=>p.jsx(Bn,{to:n,className:"p-2 rounded-md hover:bg-gray-100","aria-label":e,title:e,children:t},n))})]})})}const _y=t=>P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...t},P.createElement("g",{transform:"matrix(1,0,0,-1,0,72)"},P.createElement("g",null,P.createElement("path",{d:"M18,36Q22.9219,36.0703125,27,38.39062Q31.0781,40.78125,33.6094,45Q36,49.2891,36,54Q36,58.710899999999995,33.6094,63Q31.0781,67.2188,27,69.6094Q22.9219,71.9297,18,72Q13.0781,71.9297,9,69.6094Q4.92188,67.2188,2.39062,63Q0,58.710899999999995,0,54Q0,49.2891,2.39062,45Q4.92188,40.78125,9,38.39062Q13.0781,36.0703125,18,36ZM18,63Q19.5469,62.8594,19.6875,61.3125L19.6875,53.4375Q19.5469,51.8906,18,51.75Q16.4531,51.8906,16.3125,53.4375L16.3125,61.3125Q16.4531,62.8594,18,63ZM15.75,47.25Q15.75,48.2344,16.3828,48.8672Q17.0156,49.5,18,49.5Q18.9844,49.5,19.6172,48.8672Q20.25,48.2344,20.25,47.25Q20.25,46.2656,19.6172,45.63281Q18.9844,45,18,45Q17.0156,45,16.3828,45.63281Q15.75,46.2656,15.75,47.25Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})))),Eu=t=>P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:10,height:10,viewBox:"0. 0. 11 11",...t},P.createElement("g",{transform:"matrix(1,0,0,-1,0,20)"},P.createElement("path",{d:"M9.71875,18.28125Q10,18.59375,10,19Q10,19.40625,9.71875,19.71875Q9.40625,20,9,20Q8.59375,20,8.28125,19.71875L5,16.40625L1.71875,19.71875Q1.40625,20,1,20Q0.59375,20,0.28125,19.71875Q0,19.40625,0,19Q0,18.59375,0.28125,18.28125L3.59375,15L0.28125,11.71875Q0,11.40625,0,11Q0,10.59375,0.28125,10.28125Q0.59375,10,1,10Q1.40625,10,1.71875,10.28125L5,13.59375L8.28125,10.28125Q8.59375,10,9,10Q9.40625,10,9.71875,10.28125Q10,10.59375,10,11Q10,11.40625,9.71875,11.71875L6.40625,15L9.71875,18.28125Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),Cb=t=>{let e;const n=new Set,r=(c,h)=>{const f=typeof c=="function"?c(e):c;if(!Object.is(f,e)){const g=e;e=h??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(v=>v(e,g))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c))},u=e=t(r,i,a);return a},LE=t=>t?Cb(t):Cb,RE=t=>t;function ME(t,e=RE){const n=en.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return en.useDebugValue(n),n}const kb=t=>{const e=LE(t),n=r=>ME(e,r);return Object.assign(n,e),n},Gr=t=>t?kb(t):kb,Kf=Gr(t=>({banner:null,onClose:void 0,setBanner:(e,n)=>t({banner:e,onClose:n}),closeBanner:()=>t({banner:null})}));function o_(){const t=Kf(n=>n.banner),e=Kf(n=>n.closeBanner);return p.jsx("div",{children:t&&p.jsx(DE,{deleteBanner:e,children:t})})}function DE({children:t,deleteBanner:e}){return p.jsxs("div",{className:"flex items-center justify-between bg-blue-100 px-4 py-2 gap-2",children:[p.jsx(_y,{className:"w-4 h-4"}),p.jsx("div",{className:"flex-auto text-xs",children:t}),p.jsx("button",{className:"p-1 rounded-full hover:bg-blue-200",onClick:e,"aria-label":" ",children:p.jsx(Eu,{className:""})})]})}function Gf(){return Gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gf.apply(null,arguments)}function Sy(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function u1(t,e){return u1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},u1(t,e)}function Cy(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,u1(t,e)}function IE(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function FE(t,e){t.classList?t.classList.add(e):IE(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function Eb(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function BE(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=Eb(t.className,e):t.setAttribute("class",Eb(t.className&&t.className.baseVal||"",e))}const jb={disabled:!1},Yf=en.createContext(null);var a_=function(e){return e.scrollTop},Rc="unmounted",La="exited",Ra="entering",ou="entered",c1="exiting",eo=function(t){Cy(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,u;return s.appearStatus=null,r.in?a?(u=La,s.appearStatus=Ra):u=ou:r.unmountOnExit||r.mountOnEnter?u=Rc:u=La,s.state={status:u},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Rc?{status:La}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Ra&&o!==ou&&(s=Ra):(o===Ra||o===ou)&&(s=c1)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Ra){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Uh.findDOMNode(this);o&&a_(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===La&&this.setState({status:Rc})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,u=this.props.nodeRef?[a]:[Uh.findDOMNode(this),a],c=u[0],h=u[1],f=this.getTimeouts(),g=a?f.appear:f.enter;if(!i&&!o||jb.disabled){this.safeSetState({status:ou},function(){s.props.onEntered(c)});return}this.props.onEnter(c,h),this.safeSetState({status:Ra},function(){s.props.onEntering(c,h),s.onTransitionEnd(g,function(){s.safeSetState({status:ou},function(){s.props.onEntered(c,h)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Uh.findDOMNode(this);if(!s||jb.disabled){this.safeSetState({status:La},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:c1},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:La},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Uh.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=u[0],h=u[1];this.props.addEndListener(c,h)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Rc)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=Sy(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return en.createElement(Yf.Provider,{value:null},typeof o=="function"?o(i,a):en.cloneElement(en.Children.only(o),a))},e}(en.Component);eo.contextType=Yf;eo.propTypes={};function Ul(){}eo.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ul,onEntering:Ul,onEntered:Ul,onExit:Ul,onExiting:Ul,onExited:Ul};eo.UNMOUNTED=Rc;eo.EXITED=La;eo.ENTERING=Ra;eo.ENTERED=ou;eo.EXITING=c1;var zE=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return FE(e,r)})},Wg=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return BE(e,r)})},Sp=function(t){Cy(e,t);function e(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(a,u){var c=r.resolveArguments(a,u),h=c[0],f=c[1];r.removeClasses(h,"exit"),r.addClass(h,f?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(a,u)},r.onEntering=function(a,u){var c=r.resolveArguments(a,u),h=c[0],f=c[1],g=f?"appear":"enter";r.addClass(h,g,"active"),r.props.onEntering&&r.props.onEntering(a,u)},r.onEntered=function(a,u){var c=r.resolveArguments(a,u),h=c[0],f=c[1],g=f?"appear":"enter";r.removeClasses(h,g),r.addClass(h,g,"done"),r.props.onEntered&&r.props.onEntered(a,u)},r.onExit=function(a){var u=r.resolveArguments(a),c=u[0];r.removeClasses(c,"appear"),r.removeClasses(c,"enter"),r.addClass(c,"exit","base"),r.props.onExit&&r.props.onExit(a)},r.onExiting=function(a){var u=r.resolveArguments(a),c=u[0];r.addClass(c,"exit","active"),r.props.onExiting&&r.props.onExiting(a)},r.onExited=function(a){var u=r.resolveArguments(a),c=u[0];r.removeClasses(c,"exit"),r.addClass(c,"exit","done"),r.props.onExited&&r.props.onExited(a)},r.resolveArguments=function(a,u){return r.props.nodeRef?[r.props.nodeRef.current,a]:[a,u]},r.getClassNames=function(a){var u=r.props.classNames,c=typeof u=="string",h=c&&u?u+"-":"",f=c?""+h+a:u[a],g=c?f+"-active":u[a+"Active"],v=c?f+"-done":u[a+"Done"];return{baseClassName:f,activeClassName:g,doneClassName:v}},r}var n=e.prototype;return n.addClass=function(i,s,o){var a=this.getClassNames(s)[o+"ClassName"],u=this.getClassNames("enter"),c=u.doneClassName;s==="appear"&&o==="done"&&c&&(a+=" "+c),o==="active"&&i&&a_(i),a&&(this.appliedClasses[s][o]=a,zE(i,a))},n.removeClasses=function(i,s){var o=this.appliedClasses[s],a=o.base,u=o.active,c=o.done;this.appliedClasses[s]={},a&&Wg(i,a),u&&Wg(i,u),c&&Wg(i,c)},n.render=function(){var i=this.props;i.classNames;var s=Sy(i,["classNames"]);return en.createElement(eo,Gf({},s,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(en.Component);Sp.defaultProps={classNames:""};Sp.propTypes={};function $E(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ky(t,e){var n=function(s){return e&&P.isValidElement(s)?e(s):s},r=Object.create(null);return t&&P.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function UE(t,e){t=t||{},e=e||{};function n(h){return h in e?e[h]:t[h]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var u in e){if(r[u])for(o=0;o<r[u].length;o++){var c=r[u][o];a[r[u][o]]=n(c)}a[u]=n(u)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function Ua(t,e,n){return n[e]!=null?n[e]:t.props[e]}function HE(t,e){return ky(t.children,function(n){return P.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Ua(n,"appear",t),enter:Ua(n,"enter",t),exit:Ua(n,"exit",t)})})}function QE(t,e,n){var r=ky(t.children),i=UE(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(P.isValidElement(o)){var a=s in e,u=s in r,c=e[s],h=P.isValidElement(c)&&!c.props.in;u&&(!a||h)?i[s]=P.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Ua(o,"exit",t),enter:Ua(o,"enter",t)}):!u&&a&&!h?i[s]=P.cloneElement(o,{in:!1}):u&&a&&P.isValidElement(c)&&(i[s]=P.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:Ua(o,"exit",t),enter:Ua(o,"enter",t)}))}}),i}var VE=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},qE={component:"div",childFactory:function(e){return e}},Cp=function(t){Cy(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind($E(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,u=s.firstRender;return{children:u?HE(i,a):QE(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=ky(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var u=Gf({},a.children);return delete u[i.key],{children:u}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=Sy(i,["component","childFactory"]),u=this.state.contextValue,c=VE(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?en.createElement(Yf.Provider,{value:u},c):en.createElement(Yf.Provider,{value:u},en.createElement(s,a,c))},e}(en.Component);Cp.propTypes={};Cp.defaultProps=qE;const Xf=Gr(t=>({isActivated:!1,messages:[],addToast:(e,n)=>t(r=>({messages:[...r.messages,{message:e,tag:n}]})),clearToast:e=>t(n=>(typeof e=="number"?n.messages=[...n.messages.slice(0,e),...n.messages.slice(e+1)]:n.messages=n.messages.filter(r=>r.tag!==e),{messages:n.messages}))})),Ey=t=>P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17,height:17,viewBox:"-0.1 -1.2 11.985078811645508 17",...t},P.createElement("g",{transform:"matrix(1,0,0,-1,0,27.999998092651367)"},P.createElement("path",{d:"M5.99254,27.999999046325684Q5.61809,27.999999046325684,5.37737,27.753899046325685Q5.13664,27.507799046325683,5.13664,27.124999046325684L5.13664,26.605499046325683Q3.63883,26.277299046325684,2.70269,25.10159904632568Q1.73981,23.925779046325683,1.71306,22.312499046325684L1.71306,21.792969046325684Q1.68632,19.824219046325684,0.429221,18.320309046325683L0.215247,18.074219046325684Q-0.13246,17.664059046325683,0.0815138,17.144529046325683Q0.322234,16.652339046325682,0.857169,16.624999046325684L11.1279,16.624999046325684Q11.6628,16.652339046325682,11.9036,17.144529046325683Q12.1175,17.664059046325683,11.7698,18.074219046325684L11.5826,18.320309046325683Q10.2988,19.796869046325682,10.272,21.792969046325684L10.272,22.312499046325684Q10.2453,23.925779046325683,9.28239,25.10159904632568Q8.34625,26.277299046325684,6.84843,26.605499046325683L6.84843,27.124999046325684Q6.84843,27.507799046325683,6.60771,27.753899046325685Q6.36699,27.999999046325684,5.99254,27.999999046325684ZM7.19614,14.519530046325684Q7.70433,15.039059046325683,7.70433,15.749999046325684L5.99254,15.749999046325684L4.28075,15.749999046325684Q4.28075,15.039059046325683,4.78894,14.519530046325684Q5.29713,13.999999046325684,5.99254,13.999999046325684Q6.68796,13.999999046325684,7.19614,14.519530046325684Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function jy(){const t=Xf(n=>n.messages),e=Xf(n=>n.clearToast);return p.jsx("div",{className:"fixed top-2 right-2 z-100 max-w-screen",children:p.jsx(Cp,{className:"flex gap-2 flex-col-reverse",children:t.slice(-3).map((n,r)=>p.jsx(Sp,{timeout:300,classNames:"toast",children:p.jsx(WE,{toast:n,closeToast:()=>e(r)})},`${r} : ${n}`))})})}function WE({toast:t,closeToast:e}){return p.jsxs("div",{className:"flex justify-between items-center gap-2 p-4 ml-2 bg-white text-black rounded-lg shadow-md",children:[p.jsx(Ey,{className:"w-4 h-4"}),p.jsx("span",{className:"flex-1 text-sm font-bold truncate max-w-72",children:t.message}),p.jsx("button",{"aria-label":"",onClick:e,className:"p-2 rounded-full hover:bg-blue-100",children:p.jsx(Eu,{})})]})}const KE=t=>P.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},P.createElement("g",{clipPath:"url(#clip0_3195_1180)"},P.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3.66667C7.3975 3.66667 3.66667 7.3975 3.66667 12C3.66667 16.6025 7.3975 20.3333 12 20.3333C16.6025 20.3333 20.3333 16.6025 20.3333 12C20.3333 7.3975 16.6025 3.66667 12 3.66667ZM2 12C2 6.47708 6.47708 2 12 2C17.5229 2 22 6.47708 22 12C22 17.5229 17.5229 22 12 22C6.47708 22 2 17.5229 2 12Z",fill:"#9CA3AF"}),P.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.9929 20.9465C9.91235 20.8424 9.91235 19.9154 9.9929 18.1657C9.12985 18.1957 8.58443 18.1359 8.35665 17.9861C8.0154 17.7615 7.67332 17.0695 7.3704 16.5815C7.06749 16.0936 6.39415 16.0165 6.12249 15.9074C5.85082 15.7986 5.78249 15.354 6.87124 15.6899C7.95999 16.0261 8.0129 16.942 8.35665 17.1557C8.7004 17.3699 9.52165 17.2765 9.89374 17.1049C10.2658 16.9332 10.2383 16.2949 10.305 16.042C10.3887 15.8057 10.0929 15.7532 10.0867 15.7515C9.7229 15.7515 7.81415 15.3361 7.28957 13.4878C6.7654 11.639 7.44082 10.4307 7.80124 9.91155C8.04124 9.56488 8.01999 8.82682 7.73749 7.69738C8.76415 7.56571 9.55624 7.88877 10.1137 8.66655C10.1146 8.67071 10.8454 8.23196 12 8.23196C13.1546 8.23196 13.5646 8.58946 13.8808 8.66655C14.1971 8.74363 14.45 7.30571 16.4029 7.69738C15.995 8.49863 15.6537 9.49988 15.9142 9.91155C16.175 10.3228 17.1975 11.6311 16.5696 13.4878C16.1504 14.7253 15.3269 15.4799 14.0992 15.7515C13.9586 15.7965 13.8883 15.869 13.8883 15.969C13.8883 16.119 14.0783 16.1353 14.3525 16.8382C14.5358 17.3065 14.5492 18.6447 14.3925 20.8528C13.9961 20.9536 13.6878 21.0214 13.4675 21.0561C13.0771 21.1174 12.6529 21.152 12.2362 21.1649C11.8196 21.1782 11.675 21.177 11.0987 21.1232C10.7266 21.0892 10.3571 21.0302 9.9929 20.9465Z",fill:"#9CA3AF"}))),GE=t=>P.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},P.createElement("path",{d:"M7.8 2H16.2C19.4 2 22 4.6 22 7.8V16.2C22 17.7383 21.3889 19.2135 20.3012 20.3012C19.2135 21.3889 17.7383 22 16.2 22H7.8C4.6 22 2 19.4 2 16.2V7.8C2 6.26174 2.61107 4.78649 3.69878 3.69878C4.78649 2.61107 6.26174 2 7.8 2ZM7.6 4C6.64522 4 5.72955 4.37928 5.05442 5.05442C4.37928 5.72955 4 6.64522 4 7.6V16.4C4 18.39 5.61 20 7.6 20H16.4C17.3548 20 18.2705 19.6207 18.9456 18.9456C19.6207 18.2705 20 17.3548 20 16.4V7.6C20 5.61 18.39 4 16.4 4H7.6ZM17.25 5.5C17.5815 5.5 17.8995 5.6317 18.1339 5.86612C18.3683 6.10054 18.5 6.41848 18.5 6.75C18.5 7.08152 18.3683 7.39946 18.1339 7.63388C17.8995 7.8683 17.5815 8 17.25 8C16.9185 8 16.6005 7.8683 16.3661 7.63388C16.1317 7.39946 16 7.08152 16 6.75C16 6.41848 16.1317 6.10054 16.3661 5.86612C16.6005 5.6317 16.9185 5.5 17.25 5.5ZM12 7C13.3261 7 14.5979 7.52678 15.5355 8.46447C16.4732 9.40215 17 10.6739 17 12C17 13.3261 16.4732 14.5979 15.5355 15.5355C14.5979 16.4732 13.3261 17 12 17C10.6739 17 9.40215 16.4732 8.46447 15.5355C7.52678 14.5979 7 13.3261 7 12C7 10.6739 7.52678 9.40215 8.46447 8.46447C9.40215 7.52678 10.6739 7 12 7ZM12 9C11.2044 9 10.4413 9.31607 9.87868 9.87868C9.31607 10.4413 9 11.2044 9 12C9 12.7956 9.31607 13.5587 9.87868 14.1213C10.4413 14.6839 11.2044 15 12 15C12.7956 15 13.5587 14.6839 14.1213 14.1213C14.6839 13.5587 15 12.7956 15 12C15 11.2044 14.6839 10.4413 14.1213 9.87868C13.5587 9.31607 12.7956 9 12 9Z",fill:"#9CA3AF"})),YE=t=>P.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},P.createElement("path",{d:"M5.679 18.123C3.093 16.566 1.5 14.112 1.5 11.405C1.501 6.701 6.249 3 12.001 3C17.753 3 22.501 6.701 22.501 11.405C22.501 16.109 17.753 19.81 12.001 19.81C11.559 19.81 11.1197 19.7883 10.683 19.745L6.918 22.203C6.303 22.529 5.961 22.628 5.433 22.269C4.813 21.845 4.837 21.377 5.051 20.709L5.679 18.123ZM3.5 11.405C3.5 13.537 4.918 15.528 7.281 16.725L7.987 17.084L7.801 17.854L7.4 19.502L10.2 17.672L10.565 17.718C11.039 17.7793 11.5173 17.81 12 17.81C16.741 17.81 20.5 14.88 20.5 11.405C20.5 7.93 16.742 5 12.001 5C7.26 5 3.5 7.93 3.5 11.405ZM17.908 11.059L19.422 13.214C19.4577 13.2648 19.483 13.322 19.4965 13.3826C19.51 13.4431 19.5115 13.5057 19.5008 13.5668C19.4901 13.6279 19.4675 13.6863 19.4342 13.7387C19.401 13.791 19.3578 13.8363 19.307 13.872C19.2562 13.9077 19.199 13.933 19.1384 13.9465C19.0779 13.96 19.0153 13.9615 18.9542 13.9508C18.8931 13.9401 18.8347 13.9175 18.7823 13.8842C18.73 13.851 18.6847 13.8078 18.649 13.757L17.221 11.724L16.794 12.137V13.5C16.794 13.6252 16.7443 13.7452 16.6558 13.8338C16.5672 13.9223 16.4472 13.972 16.322 13.972C16.1968 13.972 16.0768 13.9223 15.9882 13.8338C15.8997 13.7452 15.85 13.6252 15.85 13.5V12.061C15.8334 11.9879 15.8334 11.9121 15.85 11.839V9.282C15.85 9.15682 15.8997 9.03676 15.9882 8.94825C16.0768 8.85973 16.1968 8.81 16.322 8.81C16.4472 8.81 16.5672 8.85973 16.6558 8.94825C16.7443 9.03676 16.794 9.15682 16.794 9.282V10.824L18.722 8.958C18.8128 8.87613 18.9319 8.83271 19.0541 8.83689C19.1763 8.84107 19.2922 8.89252 19.3772 8.98041C19.4622 9.06829 19.5098 9.18575 19.51 9.30804C19.5101 9.43033 19.4628 9.54791 19.378 9.636L17.908 11.059ZM14.95 12.984C15.0752 12.984 15.1952 13.0337 15.2838 13.1222C15.3723 13.2108 15.422 13.3308 15.422 13.456C15.422 13.5812 15.3723 13.7012 15.2838 13.7898C15.1952 13.8783 15.0752 13.928 14.95 13.928H13.018C12.956 13.9281 12.8946 13.916 12.8374 13.8923C12.7801 13.8686 12.7281 13.8339 12.6843 13.79C12.6405 13.7461 12.6059 13.694 12.5823 13.6367C12.5587 13.5794 12.5467 13.518 12.547 13.456V9.297C12.5441 9.23325 12.5541 9.16958 12.5765 9.10981C12.5988 9.05005 12.6331 8.99544 12.6772 8.9493C12.7212 8.90315 12.7742 8.86641 12.8329 8.84132C12.8915 8.81622 12.9547 8.80328 13.0185 8.80328C13.0823 8.80328 13.1455 8.81622 13.2041 8.84132C13.2628 8.86641 13.3158 8.90315 13.3598 8.9493C13.4039 8.99544 13.4382 9.05005 13.4605 9.10981C13.4829 9.16958 13.4929 9.23325 13.49 9.297V12.984H14.95ZM9.093 11.893H10.427L9.789 10.185L9.093 11.893ZM11.616 12.38L11.961 13.305C11.9848 13.3635 11.9967 13.4262 11.9958 13.4893C11.995 13.5525 11.9815 13.6148 11.9561 13.6727C11.9308 13.7305 11.8941 13.7827 11.8482 13.8261C11.8023 13.8694 11.7481 13.9032 11.689 13.9253C11.6298 13.9474 11.5668 13.9574 11.5037 13.9546C11.4406 13.9519 11.3787 13.9366 11.3216 13.9095C11.2645 13.8825 11.2135 13.8442 11.1715 13.7971C11.1295 13.7499 11.0973 13.6948 11.077 13.635L10.779 12.836H8.709L8.377 13.649C8.35356 13.7064 8.31904 13.7586 8.27543 13.8026C8.23181 13.8467 8.17994 13.8817 8.12279 13.9057C8.06563 13.9297 8.00431 13.9422 7.94232 13.9425C7.88033 13.9428 7.81889 13.9309 7.7615 13.9075C7.70411 13.8841 7.6519 13.8495 7.60785 13.8059C7.56381 13.7623 7.52878 13.7104 7.50478 13.6533C7.48077 13.5961 7.46826 13.5348 7.46796 13.4728C7.46765 13.4108 7.47956 13.3494 7.503 13.292L9.165 9.217C9.21605 9.08531 9.30573 8.97215 9.42227 8.89237C9.53882 8.81259 9.67677 8.76994 9.818 8.77C9.95833 8.7758 10.0936 8.8243 10.2056 8.90899C10.3176 8.99369 10.4012 9.11057 10.445 9.244L11.491 12.044C11.5723 12.1308 11.6177 12.2451 11.618 12.364L11.616 12.38ZM8.294 9.302C8.294 9.562 8.084 9.774 7.823 9.774H6.683V13.51C6.683 13.6353 6.63322 13.7555 6.54461 13.8441C6.456 13.9327 6.33581 13.9825 6.2105 13.9825C6.08518 13.9825 5.965 13.9327 5.87639 13.8441C5.78778 13.7555 5.738 13.6353 5.738 13.51V9.774H4.578C4.45282 9.774 4.33276 9.72427 4.24425 9.63575C4.15573 9.54724 4.106 9.42718 4.106 9.302C4.106 9.17682 4.15573 9.05676 4.24425 8.96825C4.33276 8.87973 4.45282 8.83 4.578 8.83H7.823C8.083 8.83 8.294 9.041 8.294 9.302Z",fill:"#9CA3AF"})),XE=[{title:"",children:[{title:"ALLCLL ",href:"/about"},{title:"  ",href:"/faq"},{title:"  ",href:"/survey"},{title:"allcllclla@google.com"}]}],JE=[{icon:p.jsx(KE,{className:"w-8 h-8 m-2"}),title:" github",href:"https://github.com/allcll"},{icon:p.jsx(YE,{className:"w-8 h-8 m-2"}),title:" ",href:"https://open.kakao.com/o/g3MztXfh"},{icon:p.jsx(GE,{className:"w-8 h-8 m-2"}),title:" instagram",href:"https://www.instagram.com/sejong_allcll"}];function Ty(){return p.jsxs("footer",{className:"bg-white text-center text-sm text-gray-500",children:[p.jsxs("div",{className:"mx-auto max-w-7xl px-4 md:px-16 py-12 grid md:grid-cols-3 gap-6 text-center md:text-left",children:[p.jsxs("div",{className:"mx-auto md:mx-0",children:[p.jsxs("div",{className:"flex items-center mb-2 h-fit justify-center md:justify-start",children:[p.jsx("img",{src:"/ci.svg",className:"w-6 h-6 mr-2",alt:"ci"}),p.jsx("img",{src:"/logo-name.svg",alt:"logo",className:"h-5"})]}),p.jsx("ul",{className:"flex items-center",children:JE.map(({icon:t,title:e,href:n})=>p.jsx("li",{children:p.jsx("a",{href:n,className:"h-fit rounded-md hover:bg-gray-200","aria-label":e,title:e,children:t})},e))})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold mb-4",children:""}),p.jsx("ul",{children:s_.map(({title:t,path:e,end:n})=>p.jsx("li",{className:"mb-1",children:p.jsx(Cu,{to:e,end:n,className:"hover:text-blue-500 hover:underline hover:font-bold",children:t})},t))})]}),XE.map((t,e)=>p.jsxs("div",{className:"mb-4",children:[p.jsx("h5",{className:"font-bold mb-4",children:t.title}),p.jsx("ul",{children:t.children.map((n,r)=>p.jsx("li",{className:"mb-1",children:n.href?n.href.startsWith("http")?p.jsx("a",{href:n.href,className:"hover:text-blue-500 hover:underline hover:font-bold",children:n.title}):p.jsx(Bn,{to:n.href,className:"hover:text-blue-500 hover:underline hover:font-bold",children:n.title}):p.jsx("p",{children:n.title})},r))})]},e))]}),p.jsx("p",{className:"pb-12",children:" 2025 ALLCLL. All rights reserved."})]})}const ZE=1.5*1e3,l_=5,qr=Gr(t=>({needCount:0,alwaysReload:!1,forceReloadNumber:0,errorCount:0,isError:!1,isPending:!0,addNeedCount:()=>t(e=>({needCount:e.needCount+1})),deleteNeedCount:()=>t(e=>({needCount:Math.max(0,e.needCount-1)})),setAlwaysReload:e=>t({alwaysReload:e}),setForceReload:()=>t(e=>({forceReloadNumber:e.forceReloadNumber+1,errorCount:0,isError:!1})),setError:()=>t(({errorCount:e,isPending:n})=>({errorCount:e+1,isError:e+1>=l_,isPending:n||e>1})),resetError:()=>t({errorCount:0,isError:!1,isPending:!1})}));function ej(){return p.jsxs(p.Fragment,{children:["  ? ",p.jsx(Bn,{to:"/faq#0",className:"text-blue-500 underline hover:text-blue-600",children:" "})]})}const tj=()=>/Mobi|Android/i.test(navigator.userAgent),pu=Gr(t=>({isAlarmActivated:!0,isToastActivated:!1,saveSettings:e=>{t(({...n})=>{const r={...n,settings:e};return localStorage.setItem("AlarmSettings",JSON.stringify(r)),e})},getSettings:()=>{const e=localStorage.getItem("AlarmSettings");if(e){const r=JSON.parse(e);return t(r),r}const n={isAlarmActivated:!0,isToastActivated:tj()};return t(n),n}}));let Tb=!1;function Ny(){return"Notification"in window}function d1(){return Notification.permission==="granted"}function Nb(t){if(!Ny()){alert("      .   ");return}if(!d1()){Notification.requestPermission().then(e=>{t&&t(e)});return}t&&t(Notification.permission)}function h1(t,e){pu.getState().isAlarmActivated&&navigator.serviceWorker.ready.then(function(s){s.showNotification(t,{badge:"/ci.svg",tag:e}).then()});const r=Xf.getState().addToast;pu.getState().isToastActivated&&r(t,e)}function Pb(t){navigator.serviceWorker.ready.then(function(n){n.getNotifications({tag:t}).then(function(r){r.forEach(function(i){i.close()})})});const e=Xf.getState().clearToast;e(t)}function nj(t,e,n){const{alwaysReload:r}=qr.getState();if(!(!Ny()||!t||!e||!r)){for(const i of e)if(t.some(o=>o.subjectId===i.subjectId&&o.seatCount===0&&i.seatCount>0)){const o=rj(n,i.subjectId);if(o){h1(`${o.subjectCode}-${o.classCode} ${o.subjectName}  `);return}h1("unknown subject  ")}}}function rj(t,e){return(t.getQueryData(["wishlist"])?.baskets??[]).find(r=>r.subjectId===e)}let Qh=null,Ob=1;function Kg(t){const e="global-notification_"+Ob,n="global-notification_"+ ++Ob;Qh&&(clearTimeout(Qh),Pb(e),Qh=null),h1(t,n),Qh=setTimeout(()=>Pb(n),3e3)}const ij=1e3*60*60*24;function Ab(t){const e="alarm-check",n=localStorage.getItem(e);n&&Date.now()-Number(n)<100*ij||setTimeout(()=>{t(ej(),()=>{localStorage.setItem(e,Date.now().toString())})},5e3)}function sj(){const t=qr(s=>s.alwaysReload),e=qr(s=>s.setAlwaysReload),n=Kf(s=>s.setBanner),r=Ny()&&d1()&&t;return P.useEffect(()=>{Tb||(Nb(s=>{if(s!=="granted"){e(!1);return}Kg("  .     "),Ab(n),e(!0)}),Tb=!0)},[]),{isAlarm:r,changeAlarm:()=>{if(r){d1()&&Kg("  "),e(!1);return}Nb(s=>{s==="granted"?(Kg("  "),Ab(n),e(!0)):alert(s==="default"?"      ":"  .    .")})}}}const kp="https://dev.allcll.kr";async function Ep(t,e){return await fetch(kp+t,{credentials:"include",...e})}async function to(t,e){const n=await fetch(kp+t,{credentials:"include",...e,headers:{"Content-Type":"application/json",...e?.headers}});if(!n.ok)throw new Error(await n.text());return await n.json()}async function oj(t,e,n){const r=await fetch(kp+t,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"},body:e?JSON.stringify(e):void 0,...n});if(!r.ok)throw new Error(await r.text());return r.status===204?null:await r.json()}function aj(t,e){return new EventSource(kp+t,{withCredentials:!0,...e})}async function Py(t,e){const n=await fetch(t,{credentials:"include",...e});if(!n.ok)throw new Error(await n.text());return await n.json()}var Oy=(t=>(t.NON_MAJOR="nonMajorSeats",t.MAJOR="majorSeats",t.PINNED="pinSeats",t))(Oy||{});let Vh=!1;const lj=()=>{const t=hi(),e=qr(a=>a.needCount),n=qr(a=>a.alwaysReload),r=qr(a=>a.forceReloadNumber),i=qr(a=>a.errorCount),s=qr(a=>a.setError),o=qr(a=>a.resetError);P.useEffect(()=>{const a=n||e>0;Vh||!a||i>=l_||(Vh=!0,uj(t,o).then(()=>{o(),Vh=!1}).catch(()=>{s(),setTimeout(()=>{Vh=!1},ZE)}))},[n,e,t,s,r,o,i])},uj=(t,e)=>new Promise((n,r)=>{const i=aj("/api/connect");return i.addEventListener("nonMajorSeats",s=>{const o=JSON.parse(s.data);if(!o)return;const a=o.seatResponses??[];t.setQueryData(["nonMajorSeats"],(u=[])=>Lb(u,a))}),i.addEventListener("majorSeats",s=>{const o=JSON.parse(s.data);if(!o)return;const a=o.seatResponses??[];t.setQueryData(["majorSeats"],(u=[])=>Lb(u,a))}),i.addEventListener("pinSeats",s=>{const o=JSON.parse(s.data);if(!o)return;const a=o.seatResponses??[];t.setQueryData(["pinSeats"],(u=[])=>{const c=cj(u,a);return nj(u,c,t),c})}),i.onopen=()=>{e()},i.onmessage=s=>{const o=JSON.parse(s.data);n(o)},i.onerror=s=>{i.close(),r(new Error("SSE connection error: "+(s.type??"Unknown error")))},()=>{i.close()}}),u_=t=>{const e=hi(),n=qr(u=>u.addNeedCount),r=qr(u=>u.deleteNeedCount),i=qr(u=>u.isPending),s=qr(u=>u.isError),o=qr(u=>u.setForceReload);return P.useEffect(()=>{const u=()=>{document.visibilityState==="visible"?n():r()};return n(),document.addEventListener("visibilitychange",u),()=>{r(),document.removeEventListener("visibilitychange",u)}},[n,r]),{...Zi({queryKey:[t],queryFn:()=>Promise.resolve(e.getQueryData([t])??[])}),isPending:i,isError:s,refetch:o}};function Lb(t,e){const n=[];for(const r of e){const i=t.find(o=>o.subjectId===r.subjectId);!i||i.seatCount!==r.seatCount||i.queryTime!==r.queryTime?n.push(r):n.push(i)}return n}function cj(t,e){const n=new Set;[...t,...e].forEach(i=>{n.add(i.subjectId)});const r=[];return n.forEach(i=>{const s=t.find(u=>u.subjectId===i),o=e.find(u=>u.subjectId===i);o&&(!s||s.queryTime!==o.queryTime||s.seatCount!==o.seatCount)?r.push(o):s&&r.push(s)}),r}const Rb={idx:-1,key:""};function Ay(){const t=Zs(),e=P.useRef(Rb);P.useEffect(()=>{const r=window.history.state;(!r||r.idx>=e.current.idx)&&window.scrollTo(0,0),e.current=r??Rb},[t.pathname]),lj();const n=pu(r=>r.getSettings);P.useEffect(()=>{n()},[])}function Mb(){return Ay(),p.jsxs(p.Fragment,{children:[p.jsx(nr,{children:p.jsx("title",{children:"ALLCLL"})}),p.jsx(jy,{}),p.jsx(wy,{}),p.jsx(o_,{}),p.jsx(dy,{}),p.jsx(Ty,{})]})}function dj(t){const e=Zi({queryKey:["serviceSemester"],queryFn:hj,staleTime:1/0,select:r=>r?{...r,services:r.services.map(fj)}:null});if(!t||!e.data)return e;const n=e.data.services.find(r=>r.id===t);return{...e,data:{code:e.data.code,semester:e.data.semester,service:n}}}const hj=async()=>pj,fj=t=>{const e=new Date,n=new Date(t.startDate),r=new Date(t.endDate);n.setHours(0,0,0,0),r.setHours(23,59,59,999);const i=n<=e&&e<=r;return{id:t.id,startDate:n,endDate:r,withinPeriod:i,startDateStr:t.startDate,endDateStr:t.endDate,message:t.message}},pj={code:"FALL_25",semester:"2025-2",services:[{id:"timetable",startDate:"2025-07-18",endDate:"2025-12-31",message:null},{id:"baskets",startDate:"2025-07-18",endDate:"2025-12-31",message:null},{id:"simulation",startDate:"2025-07-18",endDate:"2025-12-31",message:null},{id:"live",startDate:"2025-08-01",endDate:"2025-09-30",message:null}]},mj=t=>P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17.971202850341797,height:16.003124237060547,viewBox:"0 0 17.971202850341797 16.003124237060547",...t},P.createElement("g",{transform:"matrix(1,0,0,-1,0,32.006248474121094)"},P.createElement("path",{d:"M17.9688,24.003124237060547Q17.9376,23.596874237060547,17.6568,23.315624237060547Q17.3761,23.034374237060547,16.9705,23.003124237060547L15.9723,23.003124237060547L16.0035,18.003124237060547Q15.9723,17.878124237060547,15.9723,17.753124237060547L15.9723,17.253124237060547Q15.9723,16.721874237060547,15.5979,16.378124237060547Q15.2548,16.003124237060547,14.7244,16.003124237060547L14.2253,16.003124237060547Q14.1629,16.003124237060547,14.1317,16.003124237060547Q14.0693,16.003124237060547,14.0069,16.003124237060547L12.9775,16.003124237060547L12.2288,16.003124237060547Q11.6984,16.003124237060547,11.3553,16.378124237060547Q10.9809,16.721874237060547,10.9809,17.253124237060547L10.9809,18.003124237060547L10.9809,20.003124237060547Q10.9809,20.440624237060547,10.7002,20.721874237060547Q10.4194,21.003124237060547,9.98267,21.003124237060547L7.98614,21.003124237060547Q7.54939,21.003124237060547,7.26863,20.721874237060547Q6.98787,20.440624237060547,6.98787,20.003124237060547L6.98787,18.003124237060547L6.98787,17.253124237060547Q6.98787,16.721874237060547,6.61352,16.378124237060547Q6.27036,16.003124237060547,5.74003,16.003124237060547L4.99133,16.003124237060547L3.99307,16.003124237060547Q3.96187,16.003124237060547,3.93068,16.003124237060547Q3.89948,16.003124237060547,3.86828,16.003124237060547Q3.80589,16.003124237060547,3.7435,16.003124237060547L3.24437,16.003124237060547Q2.71404,16.003124237060547,2.37088,16.378124237060547Q1.99653,16.721874237060547,1.99653,17.253124237060547L1.99653,20.753124237060547Q1.99653,20.784374237060547,1.99653,20.846874237060547L1.99653,23.003124237060547L0.998267,23.003124237060547Q0.561525,23.034374237060547,0.280763,23.315624237060547Q0,23.596874237060547,0,24.034374237060547Q0,24.440624237060547,0.311958,24.784374237060547L8.29809,31.753124237060547Q8.64125,32.034324237060545,8.9844,32.00312423706055Q9.35875,32.00312423706055,9.63952,31.78442423706055L17.6257,24.753124237060547Q18,24.440624237060547,17.9688,24.003124237060547Z",fill:"#FFFFFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function gj({data:t}){const e=t.service?.endDate&&t.service.endDate<new Date;return p.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 px-4",children:p.jsxs("main",{className:"text-center",children:[p.jsx("h1",{className:"text-3xl mb-4 font-bold text-gray-900",children:e?"  ":" "}),p.jsxs("p",{className:"text-gray-600 mt-2",children:["    ",p.jsx("br",{}),"      ."]}),p.jsxs("div",{className:"mt-6 bg-white shadow-lg rounded-lg p-6 w-full max-w-md",children:[e?p.jsxs(p.Fragment,{children:[p.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[t.semester,"  "]}),p.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"     "}),p.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"    "})]}):p.jsxs(p.Fragment,{children:[p.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"   "}),p.jsxs("p",{className:"text-gray-600 mt-1",children:[t.semester," "]}),p.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[t.service?.startDateStr," ~ ",t.service?.endDateStr]})]}),p.jsx("hr",{className:"my-4 border-gray-200"}),p.jsx("h3",{className:"text-md font-semibold text-gray-900",children:""}),p.jsx("p",{className:"text-gray-600 flex items-center justify-center gap-2 mt-2",children:"allcllclla@google.com"}),p.jsx(Bn,{to:"/survey",className:"text-gray-600 flex items-center justify-center gap-2 mt-1 hover:text-blue-500 hover:underline",children:"  "}),p.jsx("a",{className:"text-gray-600 flex items-center justify-center gap-2 mt-1 hover:text-blue-500 hover:underline",href:"https://open.kakao.com/o/g3MztXfh",children:" "})]}),p.jsx("div",{className:"flex flex-col items-center justify-center",children:p.jsxs(Bn,{to:"/",className:"flex items-center gap-2 mt-6 px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 cursor-pointer",children:[p.jsx(mj,{className:"w-4 h-4"}),"  "]})})]})})}function c_({serviceId:t,children:e}){const{data:n,error:r}=dj(t);return r&&console.error("Semester service error:",r),!n||!("service"in n)||!n.service||n.service.withinPeriod?e:p.jsx(gj,{data:n})}function Db({serviceId:t}){return Ay(),p.jsxs(p.Fragment,{children:[p.jsx(jy,{}),p.jsx(wy,{}),p.jsxs(c_,{serviceId:t,children:[p.jsx(o_,{}),p.jsx(dy,{})]}),p.jsx(Ty,{})]})}const yj=[{name:"  ",children:[{name:"  ",children:[{name:"",path:"/simulation"},{name:" ",path:"/simulation/logs"},{name:" ",path:"/simulation/admin"},{name:" ",path:"#"},{name:"/ ",path:"#"},{name:"/",path:"#"},{name:"(,)",path:"#"}]}]}];function vj(){const[t,e]=P.useState(!0),[n]=P.useState(/Android|iPhone/i.test(navigator.userAgent)),r=()=>{e(i=>!i)};return p.jsx("aside",{className:(t?"relative z-10":"relative bg-blue-50 z-10")+(!t||n?" w-[20px] min-w-[20px] h-[calc(100vh-60px)]":" w-[230px] min-w-[230px]"),children:t?p.jsxs("div",{className:n?"absolute w-[300px] min-w-[300px] h-full bg-white shadow-gray-800 shadow-md":"bg-white",children:[p.jsxs("div",{className:"h-12 bg-blue-500 text-white text-lg font-semibold flex items-center justify-between px-4",children:[p.jsx("span",{children:""}),p.jsx("button",{className:"text-white hover:text-gray-200 cursor-pointer",onClick:r,children:"<"})]}),p.jsx("ul",{className:"flex flex-col text-sm",children:yj.map((i,s)=>p.jsx(xj,{menu:i},s))})]}):p.jsx("div",{children:p.jsx("button",{className:"w-full h-12 bg-blue-500 text-white text-lg font-semibold text-center cursor-pointer hover:text-gray-200",onClick:r,children:">"})})})}const d_=!0;function xj({menu:t}){const[e,n]=P.useState(d_);return p.jsxs("li",{children:[p.jsxs("button",{className:"px-4 py-2 h-12 flex items-center justify-between w-full border-b border-neutral-300 cursor-pointer hover:bg-gray-100 "+(e?"font-semibold":"font-normal"),onClick:()=>n(r=>!r),children:[t.name,t.children&&p.jsx("span",{className:"ml-auto text-gray-500",children:e?"":""})]}),e&&t.children&&p.jsx("ul",{className:"",children:t.children.map((r,i)=>p.jsx(bj,{menu:r},i))})]})}function bj({menu:t}){const[e,n]=P.useState(d_);return p.jsxs("li",{className:"",children:[p.jsxs("button",{className:"px-4 py-2 h-10 flex items-center gap-4 w-full border-b border-neutral-300 cursor-pointer hover:bg-gray-100 "+(e?"font-semibold":"font-normal"),onClick:()=>n(r=>!r),children:[p.jsx("span",{children:e?"-":"+"}),p.jsx("span",{children:t.name})]}),e&&t.children&&p.jsx("ul",{className:"ml-1 pl-4 bg-neutral-100 font-semibold",children:t.children.map((r,i)=>p.jsx(wj,{menu:r},i))})]})}function wj({menu:t}){return p.jsx("li",{children:t.path==="#"?p.jsx("div",{className:"block px-2 py-2 text-xs text-gray-400 cursor-not-allowed",children:t.name}):p.jsx(Cu,{to:t.path??"#",className:({isActive:e})=>`block px-2 py-2 text-xs cursor-pointer hover:bg-blue-500 hover:text-white ${e?"bg-blue-500 text-white":""}`,end:!0,children:t.name})})}const Jf=Gr(t=>({tabs:[],setTab:e=>{t(({tabs:n})=>{const r=n.findIndex(i=>i.urlPath===e.urlPath);return r!==-1?n[r]=e:n.push(e),{tabs:[...n]}})},deleteTab:(e,n)=>{t(({tabs:r})=>{const i=r.filter(u=>u.urlPath!==e&&u.realUrl!==e),s=i.length?[...i]:[_j],o=window.location.pathname.replace(/\d+/,""),a=e===o?s[s.length-1]:null;return a&&n(a.realUrl,{replace:!0}),{tabs:s}})}})),f1=[{title:"",urlPath:"/simulation"},{title:" ",urlPath:"/simulation/logs"},{title:" ",urlPath:"/simulation/logs/"},{title:" ",urlPath:"/simulation/interest"},{title:" ",urlPath:"/simulation/admin"}],_j={...f1[0],realUrl:f1[0].urlPath};function Sj(){const t=wp(),e=Zs(),n=Jf(i=>i.tabs),r=Jf(i=>i.setTab);P.useEffect(()=>{if(n.length===0){const i=Ib(e);r(i),t(i.realUrl)}},[n]),P.useEffect(()=>{r(Ib(e))},[e.pathname])}function Ib(t){const e=t.pathname.replace(/\d+/,"");return{title:f1.find(n=>n.urlPath===e)?.title||"   ",urlPath:e,realUrl:t.pathname}}function Cj(){const t=Jf(r=>r.tabs),e=Jf(r=>r.deleteTab),n=wp();return Sj(),p.jsx("div",{className:"flex border-b border-neutral-300 bg-gray-100 text-sm h-12",children:t.map(r=>p.jsxs(Cu,{to:r.realUrl,className:({isActive:i})=>"px-2.5 flex items-center gap-2.5 w-1/4 sm:w-1/8 border-r-1 border-r-neutral-300 cursor-pointer"+(i?" mb-[-1px] bg-white border-b-2 border-b-white border-t-4 border-t-blue-500 font-semibold text-blue-500":" text-gray-500 hover:bg-white"),end:!0,children:[p.jsx("span",{className:"flex-1 text-center overflow-hidden text-ellipsis text-nowrap",children:r.title}),p.jsx("button",{className:"w-4 text-gray-700 cursor-pointer",onClick:i=>{i.preventDefault(),i.stopPropagation(),e(r.urlPath,n)},children:"x"})]},r.urlPath))})}function kj(){return Ay(),p.jsxs(p.Fragment,{children:[p.jsx(jy,{}),p.jsx(wy,{}),p.jsx(c_,{serviceId:"simulation",children:p.jsx("div",{className:"w-full bg-white text-sm text-gray-800 font-sans",children:p.jsxs("div",{className:"flex",children:[p.jsx(vj,{}),p.jsxs("div",{className:"flex-auto min-w-0",children:[p.jsx(Cj,{}),p.jsx("main",{className:"flex-1 p-4 space-y-4 mx-auto max-w-screen-2xl overflow-x-hidden",children:p.jsx(dy,{})})]})]})})}),p.jsx(Ty,{})]})}function tl({bgColor:t,className:e,children:n}){const r=t??"even:bg-white ",i=e?` ${e}`:"";return p.jsx("section",{className:r,children:p.jsx("div",{className:`mx-auto max-w-7xl px-4 md:px-8 py-10 ${i}`,children:n})})}const Ej=t=>P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:15.75,height:18,viewBox:"0 0 15.75 18",...t},P.createElement("defs",null,P.createElement("clipPath",{id:"master_svg0_85_3269"},P.createElement("rect",{x:0,y:0,width:15.75,height:18,rx:0}))),P.createElement("g",{clipPath:"url(#master_svg0_85_3269)"},P.createElement("g",{transform:"matrix(1,0,0,-1,0,32.2734375)"},P.createElement("g",null,P.createElement("path",{d:"M15.4336,22.07812875Q15.75,22.42968875,15.75,22.88671875Q15.75,23.34374875,15.4336,23.69530875L9.80859,29.32031875Q9.45703,29.63671875,9,29.63671875Q8.54297,29.63671875,8.19141,29.32031875Q7.875,28.96871875,7.875,28.51171875Q7.875,28.05471875,8.19141,27.70311875L11.918,24.01171875L1.125,24.01171875Q0.632812,24.01171875,0.316406,23.69530875Q0,23.37890875,0,22.88671875Q0,22.39452875,0.316406,22.07812875Q0.632812,21.76171875,1.125,21.76171875L11.918,21.76171875L8.19141,18.07030875Q7.875,17.71874875,7.875,17.26171875Q7.875,16.80468775,8.19141,16.45312475Q8.54297,16.13671875,9,16.13671875Q9.45703,16.13671875,9.80859,16.45312475L15.4336,22.07812875Z",fill:"#FFFFFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))))),jj=t=>P.createElement("svg",{width:16,height:15,viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},P.createElement("path",{d:"M15.4336 8.19531C15.6445 7.96094 15.75 7.69141 15.75 7.38672C15.75 7.08203 15.6445 6.8125 15.4336 6.57812L9.80859 0.953125C9.57422 0.742191 9.30469 0.636719 9 0.636719C8.69531 0.636719 8.42578 0.742191 8.19141 0.953125C7.98047 1.18752 7.875 1.45705 7.875 1.76172C7.875 2.06639 7.98047 2.33591 8.19141 2.57031L11.918 6.26172H1.125C0.796875 6.26172 0.527344 6.36719 0.316406 6.57812C0.105469 6.78906 0 7.05859 0 7.38672C0 7.71485 0.105469 7.98438 0.316406 8.19531C0.527344 8.40625 0.796875 8.51172 1.125 8.51172H11.918L8.19141 12.2031C7.98047 12.4375 7.875 12.707 7.875 13.0117C7.875 13.3164 7.98047 13.5859 8.19141 13.8203C8.42578 14.0312 8.69531 14.1367 9 14.1367C9.30469 14.1367 9.57422 14.0312 9.80859 13.8203L15.4336 8.19531Z",fill:"#007AFF"}));function Tj(){return p.jsxs(tl,{className:"flex flex-col md:flex-row items-center justify-between",bgColor:"bg-banner-skysoft",children:[p.jsxs("div",{className:"max-w-xl",children:[p.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[p.jsx("img",{src:"/calendar.png",alt:"calendar",className:"w-10 h-10"}),p.jsxs("span",{className:"italic text-xs text-stone-500 ",children:["2025 2    ",p.jsx("br",{})," 8 11() ~ 8 18()"]})]}),p.jsx("h2",{className:"text-xl mt-10 sm:text-2xl md:text-4xl leading-snug font-bold mb-3 ",children:"2025 2 ,"}),p.jsxs("div",{className:"flex flex-row justify-start items-center text-xl sm:text-2xl md:text-4xl leading-snug font-bold mb-3",children:[p.jsx("img",{src:"/logo-name.svg",alt:"logo-name",className:"w-20 sm:w-32 md:w-40 lg:w-48 mr-2 animate-updown"})," !"]}),p.jsx("p",{className:"text-gray-400 mt-4",children:"    ,    ALLCLL  "}),p.jsxs("div",{className:"flex flex-col md:flex-row gap-4 ",children:[p.jsxs(Bn,{to:"/timetable",className:"bg-blue-500 hover:bg-blue-600 text-white rounded-md px-6 py-3 mt-6 flex items-center gap-2 w-fit",children:["  ",p.jsx(Ej,{className:"w-4 h-4"})]}),p.jsxs(Bn,{to:"/simulation",className:"bg-white hover:bg-gray-100 text-blue-500 rounded-md px-6 py-3 mt-6 flex items-center gap-2 w-fit",children:["  ",p.jsx(jj,{className:"w-4 h-4"})]})]})]}),p.jsx("img",{src:"/summer-banner.png",alt:"summer-banner",className:"w-90 hidden sm:block  mt-8 md:mt-4"})]})}const Nj=t=>P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:15,height:15,viewBox:"0 0 15 15",...t},P.createElement("g",{transform:"matrix(1,0,0,-1,0,30)"},P.createElement("path",{d:"M10.3125,30Q9.69727,29.9707,9.43359,29.414099999999998Q9.22852,28.8574,9.63867,28.3887L10.8691,27.1875L5.88867,22.23633Q5.625,21.94336,5.625,21.5625Q5.625,21.18164,5.88867,20.88867Q6.18164,20.625,6.5625,20.625Q6.94336,20.625,7.23633,20.88867L12.1875,25.8691L13.3887,24.638669999999998Q13.8574,24.22852,14.4141,24.433590000000002Q14.9707,24.69727,15,25.3125L15,29.0625Q15,29.4727,14.7363,29.7363Q14.4727,30,14.0625,30L10.3125,30ZM2.34375,29.0625Q1.34766,29.0332,0.673828,28.3887Q0.0292969,27.7148,0,26.7188L0,17.34375Q0.0292969,16.34766,0.673828,15.673828Q1.34766,15.0292969,2.34375,15L11.7188,15Q12.7148,15.0292969,13.3887,15.673828Q14.0332,16.34766,14.0625,17.34375L14.0625,20.625Q14.0625,21.03516,13.7988,21.29883Q13.5352,21.5625,13.125,21.5625Q12.7148,21.5625,12.4512,21.29883Q12.1875,21.03516,12.1875,20.625L12.1875,17.34375Q12.1582,16.9043,11.7188,16.875L2.34375,16.875Q1.9043,16.9043,1.875,17.34375L1.875,26.7188Q1.9043,27.1582,2.34375,27.1875L5.625,27.1875Q6.03516,27.1875,6.29883,27.4512Q6.5625,27.7148,6.5625,28.125Q6.5625,28.5352,6.29883,28.7988Q6.03516,29.0625,5.625,29.0625L2.34375,29.0625Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function jp({title:t,subtitle:e,href:n,disabled:r=!1}){const i=!!n&&!r;return p.jsxs(p.Fragment,{children:[i?p.jsxs(Bn,{to:n,className:"flex items-center gap-2 hover:underline focus:underline",children:[p.jsx("h2",{className:"text-2xl font-semibold",children:t}),p.jsx(Nj,{className:"w-4 h-4"})]}):p.jsx("h2",{className:"text-2xl font-semibold",children:t}),e&&p.jsx("p",{className:"text-gray-500",children:e})]})}function Zf({children:t,className:e,...n}){return p.jsx("div",{className:"bg-white p-3 rounded-md text-sm shadow-md shadow-gray-300 "+e,...n,children:t})}function h_(t,e){const n=vt(c=>c.options),[r,i]=P.useState({dragging:!1,startX:0,startY:0}),s=P.useCallback(c=>{c.stopPropagation();const{x:h,y:f}=qh(c,n);t&&t(h,f,h,f),i({startX:h,startY:f,dragging:!0})},[t]),o=c=>{c.stopPropagation();const{x:h,y:f}=qh(c,n);e&&e(r.startX,r.startY,h,f),i(g=>({...g,dragging:!1}))},a=c=>{c.stopPropagation();const{x:h,y:f}=qh(c,n);t&&t(r.startX,r.startY,h,f)},u=c=>{c.stopPropagation();const h=c.touches[0],{x:f,y:g}=qh(h,n);t&&t(r.startX,r.startY,f,g)};return P.useEffect(()=>{if(r.dragging)return document.addEventListener("mouseup",o),document.addEventListener("touchmove",u),document.addEventListener("mousemove",a),()=>{document.removeEventListener("mouseup",o),document.removeEventListener("touchmove",u),document.removeEventListener("mousemove",a)}},[r,t,e]),{dragging:r.dragging,onMouseDown:s}}const Fb=6;function qh(t,e){const{tableX:n,tableY:r,width:i,height:s,cols:o,rows:a}=e,{pageX:u,pageY:c}=t,h=i/o||1,f=s/a||1,g=Math.floor((u-n)/h),v=Math.floor((c-r)/f*Fb)/Fb,_=Math.max(0,Math.min(o-1,g)),S=Math.max(0,Math.min(a,v));return{x:_,y:S}}const Ly={subjectId:-1,subjectName:"",subjectCode:"",classCode:"",professorName:"",deptCd:"",manageDeptNm:"",studentYear:"",lesnTime:"",lesnRoom:"",tmNum:"",remark:null,curiTypeCdNm:"",curiLangNm:null,isDeleted:!0},Pj=async()=>await to("/api/subjects");function Ko(){return Zi({queryKey:["subjects"],queryFn:Pj,staleTime:1/0,select:t=>t.subjectResponses})}function Oj(t){return new Promise(e=>setTimeout(e,t))}const Ry={timeTableId:-1,timeTableName:" ",semester:"",schedules:[]},Aj=async()=>await to("/api/timetables"),f_=()=>{const t=vt(r=>r.pickTimetable),e=vt(r=>r.currentTimetable);return Zi({queryKey:["timetableList"],queryFn:Aj,select:r=>{const{timeTables:i}=r;if(!i.some(o=>o.timeTableId===e?.timeTableId)){t(i[i.length-1]);return}if(i.length<=0&&e.timeTableId!==-1){t({timeTableId:-1,timeTableName:" ",semester:""});return}return i},staleTime:1e3*60*5})};function Tp(t){const{data:e}=Ko();return Zi({queryKey:["timetableData",t],queryFn:async()=>!t||t<=0?{timetableId:-1,timetableName:" ",semester:"",schedules:[]}:await to(`/api/timetables/${t}/schedules`),select:r=>Ij(r,e),refetchOnWindowFocus:!1,staleTime:1e3*60*5})}function Lj(){const t=hi(),{currentTimetable:e,pickTimetable:n}=vt.getState();return Wo({mutationFn:async({timeTableId:r,timeTableName:i})=>await to(`/api/timetables/${r}`,{method:"PATCH",body:JSON.stringify({timeTableName:i})}),onMutate:async({timeTableId:r})=>(await t.cancelQueries({queryKey:["timetableList",r]}),{timeTableId:r}),onSuccess:async(r,i,s)=>{const o=s?.timeTableId;e?.timeTableId===o&&n({timeTableId:r.timeTableId,timeTableName:r.timeTableName,semester:r.semester}),await t.invalidateQueries({queryKey:["timetableList"]}),await t.invalidateQueries({queryKey:["timetableList",o]})},onError:async(r,i,s)=>{console.error(`   (id: ${s?.timeTableId})`,r),await t.invalidateQueries({queryKey:["timetableList"]}),await t.invalidateQueries({queryKey:["timetableList",s?.timeTableId]})}})}function p_(){const t=hi(),e=vt(n=>n.pickTimetable);return Wo({mutationFn:async n=>await Ep(`/api/timetables/${n}`,{method:"DELETE"}),onMutate:async n=>(await t.cancelQueries({queryKey:["timetableList"]}),await t.cancelQueries({queryKey:["timetableData",n]}),{timeTableId:n}),onError:async(n,r,i)=>{console.error(`   (id: ${i?.timeTableId})`,n),await t.invalidateQueries({queryKey:["timetableList",i?.timeTableId]}),await t.invalidateQueries({queryKey:["timetableList"]})},onSuccess:async(n,r,i)=>{const{timeTables:s}=t.getQueryData(["timetableList"]);if(s&&s.length>1&&i?.timeTableId){const o=s.filter(u=>u.timeTableId!==i.timeTableId),a=o[o.length-1];e({timeTableId:a.timeTableId,timeTableName:a.timeTableName,semester:a.semester})}else e({timeTableId:-1,timeTableName:" ",semester:""});await t.invalidateQueries({queryKey:["timetableList"]}),await t.invalidateQueries({queryKey:["timetableData",i?.timeTableId]})}})}function m_(){const t=hi();return Wo({mutationFn:async({timeTableName:e,semester:n})=>await to("/api/timetables",{method:"POST",body:JSON.stringify({timeTableName:e,semester:n})}),onMutate:async({timeTableName:e,semester:n})=>{await t.cancelQueries({queryKey:["timetableList"]});const{timeTables:r}=t.getQueryData(["timetableList"])??{},i={timeTableId:-1,timeTableName:e,semester:n};if(r){const s=[...r,i];t.setQueryData(["timetableList"],{timeTables:s}),r.push(i)}return{previousTimetables:r}},onSuccess:async e=>{const{pickTimetable:n}=vt.getState();n({timeTableId:e.timeTableId,timeTableName:e.timeTableName,semester:e.semester}),await t.invalidateQueries({queryKey:["timetableList"]})},onError:async e=>{try{const n=JSON.parse(e.message);alert(n.message)}catch{alert("Error adding Timetable")}await t.invalidateQueries({queryKey:["timetableList"]})}})}function Rj(t){const e=hi(),n=vt(i=>i.changeScheduleData),{mutateAsync:r}=m_();return Wo({mutationFn:async({schedule:i})=>{let s=t;if(!t||t<=0){const a=await r({timeTableName:" ",semester:"2025-2"});s=a.timeTableId,e.setQueryData(["timetableData",s],{timetableId:s,timetableName:a.timeTableName,semester:a.semester,schedules:[i]}),await Oj(300)}return{schedule:await to(`/api/timetables/${s}/schedules`,{method:"POST",body:JSON.stringify(i)}),targetTimetableId:s}},onMutate:async i=>{const s=e.getQueryData(["timetableData",t])??{...Ry};return t&&t>0&&(await e.cancelQueries({queryKey:["timetableData",t]}),e.setQueryData(["timetableData",t],{...s,schedules:[...s.schedules,i.schedule]}),n(new Pr().toUiData(),Qn.NONE)),{...i,prevTimetableSchedules:s}},onError:(i,s,o)=>{e.setQueryData(["timetableData",t],o?.prevTimetableSchedules),console.error(i)},onSuccess:async({schedule:i,targetTimetableId:s},o,a)=>{const u=e.getQueryData(["timetableData",s]);n(new Pr().toUiData(),Qn.NONE),e.setQueryData(["timetableData",s],{...u,schedules:u?.schedules.map(c=>c.scheduleId===a.schedule.scheduleId?i:c)})}})}function Mj(t){const e=hi();return Wo({mutationFn:async({schedule:n})=>await to(`/api/timetables/${t}/schedules/${n.scheduleId}`,{method:"PATCH",body:JSON.stringify(n)}),onMutate:async n=>{const r=e.getQueryData(["timetableData",t])??{...Ry};return await e.cancelQueries({queryKey:["timetableData",t]}),{...n,prevTimetableSchedules:r}},onError:(n,r,i)=>{e.setQueryData(["timetableData",t],i?.prevTimetableSchedules),console.error(n)},onSuccess:async(n,r,i)=>{if(!i?.prevTimetableSchedules){await e.invalidateQueries({queryKey:["timetableList"]}),await e.invalidateQueries({queryKey:["timetableData",t]});return}e.setQueryData(["timetableData",t],{...i.prevTimetableSchedules,schedules:i.prevTimetableSchedules.schedules.map(s=>s.scheduleId===n.scheduleId?{...s,...n}:s)})}})}function Dj(t){const e=hi();return Wo({mutationFn:async({schedule:n})=>await oj(`/api/timetables/${t}/schedules/${n.scheduleId}`,{scheduleType:n.scheduleType}),onMutate:async n=>{const r=e.getQueryData(["timetableData",t])??{...Ry};return await e.cancelQueries({queryKey:["timetableData",t]}),{...n,prevTimetableSchedules:r}},onError:(n,r,i)=>{e.setQueryData(["timetableData",t],i?.prevTimetableSchedules),console.error(n)},onSuccess:async(n,{schedule:r},i)=>{if(console.log("  ! timetableId:",t),!i?.prevTimetableSchedules){await e.invalidateQueries({queryKey:["timetableList"]}),await e.invalidateQueries({queryKey:["timetableData",t]});return}console.log("  !   . timetableId:",t,i.prevTimetableSchedules),e.setQueryData(["timetableData",t],{...i.prevTimetableSchedules,schedules:i.prevTimetableSchedules.schedules.filter(s=>s.scheduleId!==r.scheduleId)}),await e.invalidateQueries({queryKey:["timetableData",t]})}})}function Ij(t,e){if(!t||!e)return[];const{schedules:n}=t;return n.map(r=>new Pr(r,e).toUiData())}function g_(t,e=9){const n=vt(a=>a.schedule),r=vt(a=>a.mode),i=["rose","amber","green","emerald","blue","violet"],s={};if(!t)return;let o=t;return(r===Qn.EDIT||r===Qn.VIEW)&&(o=t.map(a=>a.scheduleId===n.scheduleId?n:a)),o.forEach((a,u)=>{const c=a.isDeleted?"gray":i[u%i.length],{subjectName:h,professorName:f,location:g}=a;new _d(a.timeSlots).toUiData(e).forEach(_=>{s[_.dayOfWeek]||(s[_.dayOfWeek]=[]),s[_.dayOfWeek].push({title:h,professor:f,location:g,schedule:a,color:c,..._})})}),Object.keys(s).forEach(a=>{s[a]=Fj(s[a])}),s}function Fj(t){const n=vt.getState().options.isMobile?8:16,r=o=>parseFloat(o.replace("px",""));return t.sort((o,a)=>{const u=r(o.height);return r(a.height)-u}).reduce((o,a)=>{const u=r(a.top),c=u+r(a.height),f=o.reduce((g,v)=>{const _=r(v.top),S=_+r(v.height);return _<=u&&u<S||_<c&&c<=S?Math.max(g,v.depth):g},-1)+1;return[...o,{...a,depth:f}]},[]).map(o=>{const a=n*o.depth;return{...o,left:`${a}px`,right:"0px",height:o.height,top:o.top}})}function Bj(t){const e=vt(i=>i.schedule),n=vt(i=>i.mode);if(!t)return[];const r=t.filter(i=>i.timeSlots===null||i.timeSlots.length===0);return n===Qn.NONE||e.timeSlots.length>0?r.map(i=>({...i,selected:!1})):e.scheduleId<=0?[...r.map(i=>({...i,selected:!1})),{...e,selected:!0}]:r.map(i=>({...i,selected:i.scheduleId===e.scheduleId}))}const Ys=Gr((t,e)=>({type:null,openBottomSheet:(n,r)=>{t({type:n,props:r})},closeBottomSheet:n=>{const r=e().type;(!n||r===n)&&t({type:null,props:void 0})},resetBottomSheet:()=>{t({type:null})}})),Gg=()=>new Pr().toUiData();let Yg;function br(){const t=hi(),e=vt(C=>C.changeScheduleData),r=vt(C=>C.currentTimetable)?.timeTableId??-1,i=Ys(C=>C.openBottomSheet),s=Ys(C=>C.closeBottomSheet),[,o]=P.useTransition(),{mutate:a}=Rj(r),{mutate:u}=Mj(r),{mutate:c}=Dj(r);return{setOptimisticSchedule:C=>{o(()=>e(C,Qn.NONE))},openScheduleModal:C=>{Yg=t.getQueryData(["timetableData",r]);let j;!C.scheduleId||C.scheduleId<=0?(j=Qn.CREATE,C.scheduleType!=="official"&&i("edit")):C.scheduleType==="official"?(j=Qn.VIEW,console.log(Yg),i("Info")):(j=Qn.EDIT,i("edit")),e(C,j)},editSchedule:C=>{const j=vt.getState().schedule;let R=C instanceof Function?C(j):C;e(R)},saveSchedule:(C,j=!0)=>{const R=vt.getState().schedule,A=vt.getState().mode;if(C&&C.preventDefault(),!new _d(R.timeSlots).validate()){alert("       .");return}const U=R.timeSlots.length!==0;if(R.scheduleType==="custom"&&!U){alert(" !.");return}const $=new Pr(R).toApiData();A===Qn.CREATE?($.scheduleId=$j(Yg?.schedules??[]),a({schedule:$})):A===Qn.EDIT&&(u({schedule:$}),e({...Gg()},Qn.NONE)),j&&s("edit")},deleteSchedule:C=>{const j=vt.getState().schedule;C&&C.preventDefault();const R=new Pr(j).toApiData();c({schedule:R}),e({...Gg()},Qn.NONE),s()},cancelSchedule:(C,j=!0)=>{C&&C.preventDefault(),e({...Gg()},Qn.NONE),j&&s()}}}function bd(){const t=vt(n=>n.mode),e=vt(n=>n.schedule);return{modalActionType:t,schedule:e}}function zj(){const{minTime:t}=vt(n=>n.options);return{getTimeslot:(n,r,i)=>{n>r&&([n,r]=[r,n]),i!==void 0&&r-n<i&&(r=n+i);const s=Bb(t,n),o=Bb(t,r);return{startTime:s,endTime:o}}}}function Bb(t,e){const n=t+Math.floor(e),r=Math.floor((e-Math.floor(e))*60);return n<0?"00:00":n>23?"23:50":`${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}function $j(t){let e=-Math.floor(Math.random()*1e6);for(;t.some(n=>n.scheduleId===e);)e=-Math.floor(Math.random()*1e6);return e}function y_({title:t,professor:e,location:n,color:r="blue",schedule:i,selected:s=!1,timeslotIndex:o,fixed:a=!1,...u}){const{text:c,bgLight:h,bg:f}=Uj(r),g=P.useRef(null),{openScheduleModal:v}=br(),_=vt(U=>U.schedule),S=s||_.scheduleId===i.scheduleId,C=(U,O,$,K)=>{if(!g.current||a)return;const H=$-U,z=(K-O)*rd;g.current.style.setProperty("transform",`translate(calc(100% * ${H}), ${z}px)`)},j=(U,O,$,K)=>{if(!g.current||a)return;i.scheduleType==="official"&&g.current.style.setProperty("transform","");const H={...i,timeSlots:i.timeSlots.map((z,ue)=>ue!==o?z:nT(z,$-U,K-O))};v(H),g.current.style.setProperty("transform","")},R=U=>{(U.key==="Enter"||U.key===" ")&&(U.preventDefault(),U.stopPropagation(),j(0,0,0,0))},{dragging:A,onMouseDown:F}=h_(C,j);return p.jsxs("div",{ref:g,className:`flex absolute ${h} rounded-l-xs cursor-pointer hover:z-20 focus:z-20 `+u.className,onMouseDown:F,onKeyDown:R,tabIndex:0,...u,children:[p.jsx("div",{className:`w-[2px] h-full sm:w-1 sm:rounded-xs  ${f}`}),p.jsxs("div",{className:"flex-auto sm:p-2 p-[1px] "+(S?"animate-pulse":"")+(A?"opacity-50":""),children:[p.jsx("h3",{className:`${c} font-semibold text-[9px] sm:text-sm`,children:t}),p.jsxs("p",{className:"sm:text-xs text-[7px] text-gray-500",children:[e," ",n]})]})]})}function Uj(t){switch(t){case"rose":return{text:"text-rose-500",bgLight:"bg-rose-50",bg:"bg-rose-500"};case"amber":return{text:"text-amber-500",bgLight:"bg-amber-50",bg:"bg-amber-500"};case"green":return{text:"text-green-500",bgLight:"bg-green-50",bg:"bg-green-500"};case"emerald":return{text:"text-emerald-500",bgLight:"bg-emerald-50",bg:"bg-emerald-500"};case"blue":return{text:"text-blue-500",bgLight:"bg-blue-50",bg:"bg-blue-500"};case"violet":return{text:"text-violet-500",bgLight:"bg-violet-50",bg:"bg-violet-500"};default:return{text:"text-gray-500",bgLight:"bg-gray-50",bg:"bg-gray-500"}}}function Hj({dayOfWeeks:t}){const e=vt(f=>f.schedule),n=vt(f=>f.options),{data:r}=Ko();if(!r||e.scheduleId>0||!e.timeSlots||e.timeSlots.length<=0)return null;let i=parseInt(n.rowNames[0].replace("",""));Number.isNaN(i)&&(i=9);const s=new Pr(e,r).toUiData(),a=new _d(s.timeSlots).toUiData(i).filter(({dayOfWeek:f})=>f===t);if(!a)return null;const{subjectName:u,professorName:c,location:h}=s;return a.map(({height:f,top:g,left:v,right:_},S)=>p.jsx(Qj,{timeslotIndex:S,title:u??"",professor:c??"",location:h??"",schedule:e,style:{height:f,top:g,left:v,right:_}},`wire-schedule-${t}-${S}`))}function Qj({title:t,professor:e,location:n,...r}){const{timeslotIndex:i,...s}=r;return p.jsx("div",{className:`flex absolute rounded-md z-20 
      border-violet-500 border-2 md:border-4
      ${r.className}`,style:{...r.style},...s,children:p.jsxs("div",{className:"flex-auto p-2 bg-violet-50  rounded-md animate-pulse",children:[p.jsx("h3",{className:"text-violet-500 font-semibold  text-[10px] sm:text-sm",children:t}),p.jsxs("p",{className:" sm:text-xs text-[8px]  text-gray-500",children:[e," ",n]})]})})}const Xg=()=>new Pr().toUiData(),Vj=({dayOfWeeks:t,scheduleTimes:e})=>{const n=e,{setOptimisticSchedule:r,openScheduleModal:i}=br(),{getTimeslot:s}=zj(),o=(h,f,g,v)=>{const{startTime:_,endTime:S}=s(f,v,1);r({...Xg(),timeSlots:[{dayOfWeeks:t,startTime:_,endTime:S}]})},a=(h,f,g,v)=>{const{startTime:_,endTime:S}=s(f,v,1);i({...Xg(),timeSlots:[{dayOfWeeks:t,startTime:_,endTime:S}]})},u=h=>{(h.key==="Enter"||h.key===" ")&&i({...Xg()})},{onMouseDown:c}=h_(o,a);return p.jsxs("div",{className:"relative flex-auto px-[2px]",tabIndex:0,onMouseDown:c,onKeyDown:u,children:[p.jsx(Hj,{dayOfWeeks:t}),n.map(({title:h,professor:f,location:g,color:v,height:_,top:S,left:C,right:j,schedule:R},A)=>p.jsx(y_,{timeslotIndex:A,title:h,professor:f??"",location:g??"",schedule:R,color:v,style:{height:_,top:S,left:C,right:j}},"schedule-"+A))]})};function qj(){const t=vt(r=>r.currentTimetable?.timeTableId),{data:e}=Tp(t),n=e?.reduce((r,i)=>{if(i.scheduleType!=="official"||!i.tmNum)return r;const s=i.tmNum.split("/").map(o=>{const a=Number(o);return isNaN(a)?0:a});return r.map((o,a)=>o+(s[a]??0))},[0,0,0])??[0,0,0];return p.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 bg-blue-50 rounded-md p-2 mt-3",children:[p.jsxs("span",{children:[" : ",n[0]??0]}),p.jsxs("span",{children:[": ",n[1]??0]}),p.jsxs("span",{children:[": ",n[2]??0]})]})}const wd=t=>P.createElement("svg",{width:23,height:23,viewBox:"0 0 23 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},P.createElement("path",{d:"M10.3669 11.3356L7.94579 9.04443C7.8086 8.9146 7.73766 8.75936 7.733 8.57871C7.72833 8.39807 7.79059 8.23915 7.9198 8.10198C8.049 7.9648 8.20424 7.89386 8.38551 7.88918C8.56678 7.88449 8.7257 7.94676 8.86225 8.07598L11.2834 10.3671L13.5745 7.94599C13.7043 7.80879 13.8596 7.73786 14.0402 7.73319C14.2209 7.72852 14.3798 7.79079 14.517 7.91999C14.6541 8.04919 14.7252 8.20458 14.7302 8.38616C14.7352 8.56774 14.6728 8.7265 14.5429 8.86244L12.2518 11.2836L14.6729 13.5747C14.8101 13.7045 14.8812 13.8599 14.8862 14.0409C14.8912 14.2218 14.8288 14.3806 14.6989 14.5171C14.5691 14.6537 14.4137 14.7248 14.2328 14.7304C14.0518 14.736 13.8931 14.6736 13.7565 14.5431L11.3354 12.252L9.04423 14.6731C8.9144 14.8103 8.75901 14.8814 8.57806 14.8864C8.39711 14.8914 8.23835 14.829 8.10178 14.6991C7.96521 14.5693 7.89428 14.414 7.88898 14.2334C7.88369 14.0528 7.94595 13.8939 8.07578 13.7567L10.3669 11.3356Z",fill:"#6B7280"}));function Wj(){const t=vt(r=>r.currentTimetable),{data:e}=Tp(t?.timeTableId),n=Bj(e);return p.jsx("div",{className:"flex flex-col gap-2 mt-3",children:n.map(r=>p.jsx(Kj,{schedule:r,selected:r.selected},r.scheduleId))})}function Kj({schedule:t,selected:e}){const{openScheduleModal:n}=br(),r=()=>{n(t)};return p.jsxs("div",{className:"h-10 w-full p-4 flex justify-between items-center rounded border "+(e?"bg-blue-100 border-blue-500":"border-gray-200"),children:[p.jsxs("div",{className:"flex gap-5",children:[p.jsx("p",{children:t.subjectName}),p.jsx("p",{className:"text-stone-400",children:t.professorName})]}),p.jsx("button",{type:"button",onClick:r,className:"cursor-pointer",children:p.jsx(wd,{className:"w-5 h-5"})})]},t.scheduleId)}const Np=["","","","","","",""];function Gj(t){const e=vt(a=>a.schedule),n=vt(a=>a.setOptions),r=[...t??[],e],i=r.reduce((a,u)=>{let c=a;return u.timeSlots?(u.timeSlots.some(h=>h.dayOfWeeks==="")&&(c=Math.max(c,6)),u.timeSlots.some(h=>h.dayOfWeeks==="")&&(c=Math.max(c,7)),c):a},5),{minTime:s,maxTime:o}=r.reduce((a,u)=>(u.timeSlots.forEach(c=>{const h=parseInt(c.startTime.split(":")[0]),f=parseInt(c.endTime.split(":")[0]);isNaN(h)||isNaN(f)||(a.minTime=Math.min(a.minTime,h),a.maxTime=Math.max(a.maxTime,f))}),a),{minTime:9,maxTime:20});return P.useEffect(()=>{n({rowNames:Array.from({length:o-s+1},(a,u)=>`${s+u}`),minTime:s,maxTime:o,rows:o-s+1})},[s,o]),P.useEffect(()=>{n({colNames:Np.slice(0,i),cols:i})},[i]),{}}let Jg=null;const Yj=t=>{const e=vt(r=>r.setOptions),n=()=>{if(!t.current)return;const r=t.current.getBoundingClientRect();e({width:r.width,height:r.height,tableX:r.left+window.pageXOffset,tableY:r.top+window.pageYOffset}),Jg=null};P.useEffect(()=>{if(!t.current)return;const r=()=>{Jg||(Jg=setTimeout(n,300),e({isMobile:window.innerWidth<768}))};return r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[t])};function Xj(t){const e=P.useRef(!1),n=Kf(r=>r.setBanner);P.useEffect(()=>{t?.some(i=>i.isDeleted)&&!e.current&&(e.current=!0,n("  !    "))},[t])}const rd=40;function Jj(){const t=P.useRef(null),e=vt(n=>n.setOptions);return P.useEffect(()=>{e({containerRef:t?.current??null})},[t]),p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"bg-white",ref:t,children:[p.jsx(tT,{children:p.jsx(eT,{})}),p.jsx(Wj,{})]}),p.jsx(qj,{})]})}const Zj=Np.reduce((t,e)=>(t[e]=[],t),{});function eT(){const t=vt(s=>s.currentTimetable),{colNames:e,minTime:n}=vt(s=>s.options),{data:r}=Tp(t?.timeTableId),i=g_(r,n)??Zj;return Xj(r),Gj(r),e.map(s=>p.jsx(Vj,{scheduleTimes:i[s]??[],dayOfWeeks:s},"day-schedule-"+s))}function tT({rowHeight:t=rd,children:e}){const{colNames:n,rowNames:r}=vt(i=>i.options);return p.jsx(v_,{colNames:n,rowNames:r,rowHeight:t,children:e})}class Pr{data;constructor(e,n){if(!e){this.data=this.#t();return}if(e.scheduleType==="official"&&!e.subjectName){this.data=this.#e(e,n);return}this.data=e,this.data.timeSlots||(this.data.timeSlots=[])}#t(){return{scheduleId:-1,scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"",tmNum:"",isDeleted:!1,timeSlots:[]}}#e(e,n){if(!n)throw new TypeError("Subjects must be provided for API to UI conversion");const r=n instanceof Array?n.find(i=>i.subjectId===e.subjectId):n;return{scheduleId:e.scheduleId,scheduleType:e.scheduleType,subjectId:e.subjectId,subjectName:r?.subjectName??"",professorName:r?.professorName??"",location:r?.lesnRoom??"",tmNum:r?.tmNum??"",isDeleted:r?.isDeleted??!1,timeSlots:new _d(r?.lesnTime).toApiData()}}toApiData(){const e=this.data;return e.scheduleType==="official"?{scheduleId:e.scheduleId,scheduleType:"official",subjectId:e.subjectId??0,subjectName:null,professorName:null,location:null,timeSlots:[]}:{...e,scheduleType:"custom",subjectId:null}}toUiData(){return this.data}}class _d{data;constructor(e){if(!e){this.data=[];return}if(typeof e=="string"){this.data=this.#e(e);return}if(Array.isArray(e)){this.data=e.map(n=>this.#t(n));return}this.data=[this.#t(e)]}#t(e){const[n,r]=e.startTime.split(":"),[i,s]=e.endTime.split(":");return{dayOfWeeks:e.dayOfWeeks,startHour:parseInt(n),startMinute:parseInt(r),endHour:parseInt(i),endMinute:parseInt(s)}}#e(e){const n=/([]+)(\d{1,2}:\d{2})-(\d{1,2}:\d{2})/g,r=[];let i;for(;(i=n.exec(e))!==null;){const s=i[1],o=i[2],a=i[3],u=s.split("");for(const c of u)r.push(this.#t({dayOfWeeks:c,startTime:o,endTime:a}))}return r}validate(){return this.data.every(e=>{const{startHour:n,startMinute:r,endHour:i,endMinute:s}=e;return n<i||n===i&&r<s})}toApiData(){const e=n=>n.toString().padStart(2,"0");return this.data.map(n=>({dayOfWeeks:n.dayOfWeeks,startTime:`${e(n.startHour)}:${e(n.startMinute)}`,endTime:`${e(n.endHour)}:${e(n.endMinute)}`}))}toUiData(e){return this.data.map(({startHour:n,startMinute:r,endHour:i,endMinute:s,dayOfWeeks:o})=>{const a=(n*60+r)/60,u=(i*60+s)/60;return{dayOfWeek:o,depth:0,left:"0px",right:"0px",height:`${(u-a)*rd}px`,top:`${(a-e)*rd}px`}})}}function nT(t,e,n){const{dayOfWeeks:r,startTime:i,endTime:s}=t,[o,a]=i.split(":").map(Number),[u,c]=s.split(":").map(Number),h=Math.min(24,o+a/60+n),f=Math.min(24,u+c/60+n),g=Math.floor(h),v=Math.round((h-g)*60),_=Math.floor(f),S=Math.round((f-_)*60),C=["","","","","","",""],R=(C.indexOf(r)+e+C.length)%C.length;return{dayOfWeeks:C[R],startTime:`${g.toString().padStart(2,"0")}:${v.toString().padStart(2,"0")}`,endTime:`${_.toString().padStart(2,"0")}:${S.toString().padStart(2,"0")}`}}var Qn=(t=>(t.NONE="none",t.CREATE="create",t.EDIT="edit",t.VIEW="view",t))(Qn||{});const vt=Gr(t=>({currentTimetable:{timeTableId:-1,timeTableName:" ",semester:""},options:{containerRef:null,timetableRef:null,colNames:Np.slice(0,5),rowNames:Array.from({length:12},(e,n)=>`${n+9}`),minTime:9,maxTime:20,tableX:0,tableY:0,width:0,height:0,cols:5,rows:11,isMobile:!1},mode:"none",schedule:new Pr().toUiData(),pickTimetable:e=>{t(n=>({...n,currentTimetable:e}))},setOptions:e=>{t(n=>({...n,options:{...n.options,...e}}))},changeScheduleData:(e,n)=>{t(r=>({...r,mode:n??r.mode,schedule:{...r.schedule,...e}}))}}));function v_({rowHeight:t=rd,colNames:e,rowNames:n,children:r}){const i=P.useRef(null),{isMobile:s}=vt(u=>u.options);Yj(i);const{headerWidth:o,headerHeight:a}=s?{headerWidth:20,headerHeight:20}:{headerWidth:60,headerHeight:40};return p.jsxs("div",{className:"relative w-full bg-white",children:[p.jsxs("div",{className:"flex bg-gray-50 rounded-t-md",style:{height:`${a}px`},children:[p.jsx("div",{className:"flex items-center justify-center font-semibold text-gray-700",style:{width:`${o}px`}}),e.map((u,c)=>p.jsx("div",{className:"flex flex-auto items-center justify-center font-semibold text-gray-400 text-[10px] md:text-sm",children:u},"timetable-grid-header-"+c))]}),p.jsx("div",{className:"flex absolute inset-0",style:{top:`${a}px`,left:`${o}px`},children:e.map((u,c)=>p.jsx("div",{className:"flex-auto border-l border-gray-200 h-full"},"timetable-grid-col-"+c))}),n.map((u,c)=>p.jsx("div",{className:"border-b border-gray-200",style:{height:`${t}px`},children:p.jsx("span",{className:"flex items-center justify-center h-full text-gray-400 w-[20px] md:w-[60px] text-[10px] md:text-sm",children:u})},"timetable-grid-row-"+c)),p.jsx("div",{id:"timetable",ref:i,className:"absolute inset-0 flex z-10",style:{top:`${a}px`,left:`${o}px`},children:r})]})}const zb=["","","","",""],rT=Array.from({length:5},(t,e)=>`${e+9}`),iT=[{scheduleId:"1",scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"B209",tmNum:"3/1/0",isDeleted:!1,timeSlots:[{dayOfWeeks:"",startTime:"09:00",endTime:"10:30"},{dayOfWeeks:"",startTime:"09:00",endTime:"10:30"}]},{scheduleId:"2",scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"B209",tmNum:"3/1/0",isDeleted:!1,timeSlots:[{dayOfWeeks:"",startTime:"11:00",endTime:"12:30"},{dayOfWeeks:"",startTime:"11:00",endTime:"12:30"}]},{scheduleId:3,scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"B209",tmNum:"3/1/0",isDeleted:!1,timeSlots:[{dayOfWeeks:"",startTime:"12:00",endTime:"13:30"},{dayOfWeeks:"",startTime:"12:00",endTime:"13:30"}]}];function sT(){const t=g_(iT,9);return p.jsxs(tl,{children:[p.jsx(jp,{title:"",subtitle:"    ",href:"/timetable"}),p.jsx(Zf,{className:"mt-6",children:p.jsx(v_,{colNames:zb,rowNames:rT,children:zb.map(e=>p.jsx(oT,{data:t?t[e]:[]},e))})})]})}function oT({data:t}){return t?p.jsx("div",{className:"relative flex-auto px-[2px]",children:t.map(({title:e,professor:n,location:r,color:i,height:s,top:o,left:a,right:u,schedule:c},h)=>p.jsx(y_,{timeslotIndex:h,title:e,professor:n??"",location:r??"",schedule:c,color:i,style:{height:s,top:o,left:a,right:u},selected:!1,fixed:!0},"schedule-"+h))}):p.jsx("div",{className:"relative flex-auto px-[2px]"})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Sd(t){return t+.5|0}const Io=(t,e,n)=>Math.max(Math.min(t,n),e);function Mc(t){return Io(Sd(t*2.55),0,255)}function $o(t){return Io(Sd(t*255),0,255)}function Vs(t){return Io(Sd(t/2.55)/100,0,1)}function $b(t){return Io(Sd(t*100),0,100)}const Ci={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},p1=[..."0123456789ABCDEF"],aT=t=>p1[t&15],lT=t=>p1[(t&240)>>4]+p1[t&15],Wh=t=>(t&240)>>4===(t&15),uT=t=>Wh(t.r)&&Wh(t.g)&&Wh(t.b)&&Wh(t.a);function cT(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Ci[t[1]]*17,g:255&Ci[t[2]]*17,b:255&Ci[t[3]]*17,a:e===5?Ci[t[4]]*17:255}:(e===7||e===9)&&(n={r:Ci[t[1]]<<4|Ci[t[2]],g:Ci[t[3]]<<4|Ci[t[4]],b:Ci[t[5]]<<4|Ci[t[6]],a:e===9?Ci[t[7]]<<4|Ci[t[8]]:255})),n}const dT=(t,e)=>t<255?e(t):"";function hT(t){var e=uT(t)?aT:lT;return t?"#"+e(t.r)+e(t.g)+e(t.b)+dT(t.a,e):void 0}const fT=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function x_(t,e,n){const r=e*Math.min(n,1-n),i=(s,o=(s+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function pT(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function mT(t,e,n){const r=x_(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function gT(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function My(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let u,c,h;return s!==o&&(h=s-o,c=a>.5?h/(2-s-o):h/(s+o),u=gT(n,r,i,h,s),u=u*60+.5),[u|0,c||0,a]}function Dy(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map($o)}function Iy(t,e,n){return Dy(x_,t,e,n)}function yT(t,e,n){return Dy(mT,t,e,n)}function vT(t,e,n){return Dy(pT,t,e,n)}function b_(t){return(t%360+360)%360}function xT(t){const e=fT.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?Mc(+e[5]):$o(+e[5]));const i=b_(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=yT(i,s,o):e[1]==="hsv"?r=vT(i,s,o):r=Iy(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function bT(t,e){var n=My(t);n[0]=b_(n[0]+e),n=Iy(n),t.r=n[0],t.g=n[1],t.b=n[2]}function wT(t){if(!t)return;const e=My(t),n=e[0],r=$b(e[1]),i=$b(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${Vs(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const Ub={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Hb={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function _T(){const t={},e=Object.keys(Hb),n=Object.keys(Ub);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,Ub[s]);s=parseInt(Hb[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let Kh;function ST(t){Kh||(Kh=_T(),Kh.transparent=[0,0,0,0]);const e=Kh[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const CT=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function kT(t){const e=CT.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?Mc(o):Io(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?Mc(r):Io(r,0,255)),i=255&(e[4]?Mc(i):Io(i,0,255)),s=255&(e[6]?Mc(s):Io(s,0,255)),{r,g:i,b:s,a:n}}}function ET(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Vs(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Zg=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Hl=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function jT(t,e,n){const r=Hl(Vs(t.r)),i=Hl(Vs(t.g)),s=Hl(Vs(t.b));return{r:$o(Zg(r+n*(Hl(Vs(e.r))-r))),g:$o(Zg(i+n*(Hl(Vs(e.g))-i))),b:$o(Zg(s+n*(Hl(Vs(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Gh(t,e,n){if(t){let r=My(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=Iy(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function w_(t,e){return t&&Object.assign(e||{},t)}function Qb(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=$o(t[3]))):(e=w_(t,{r:0,g:0,b:0,a:1}),e.a=$o(e.a)),e}function TT(t){return t.charAt(0)==="r"?kT(t):xT(t)}class id{constructor(e){if(e instanceof id)return e;const n=typeof e;let r;n==="object"?r=Qb(e):n==="string"&&(r=cT(e)||ST(e)||TT(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=w_(this._rgb);return e&&(e.a=Vs(e.a)),e}set rgb(e){this._rgb=Qb(e)}rgbString(){return this._valid?ET(this._rgb):void 0}hexString(){return this._valid?hT(this._rgb):void 0}hslString(){return this._valid?wT(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,u=r.a-i.a,c=((a*u===-1?a:(a+u)/(1+a*u))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=jT(this._rgb,e._rgb,n)),this}clone(){return new id(this.rgb)}alpha(e){return this._rgb.a=$o(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Sd(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Gh(this._rgb,2,e),this}darken(e){return Gh(this._rgb,2,-e),this}saturate(e){return Gh(this._rgb,1,e),this}desaturate(e){return Gh(this._rgb,1,-e),this}rotate(e){return bT(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Bs(){}const NT=(()=>{let t=0;return()=>t++})();function It(t){return t==null}function xn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ft(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function kn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function ai(t,e){return kn(t)?t:e}function xt(t,e){return typeof t>"u"?e:t}const PT=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,__=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function an(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Xt(t,e,n,r){let i,s,o;if(xn(t))for(s=t.length,i=0;i<s;i++)e.call(n,t[i],i);else if(Ft(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function ep(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function tp(t){if(xn(t))return t.map(tp);if(Ft(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=tp(t[n[i]]);return e}return t}function S_(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function OT(t,e,n,r){if(!S_(t))return;const i=e[t],s=n[t];Ft(i)&&Ft(s)?sd(i,s,r):e[t]=tp(s)}function sd(t,e,n){const r=xn(e)?e:[e],i=r.length;if(!Ft(t))return t;n=n||{};const s=n.merger||OT;let o;for(let a=0;a<i;++a){if(o=r[a],!Ft(o))continue;const u=Object.keys(o);for(let c=0,h=u.length;c<h;++c)s(u[c],t,o,n)}return t}function Uc(t,e){return sd(t,e,{merger:AT})}function AT(t,e,n){if(!S_(t))return;const r=e[t],i=n[t];Ft(r)&&Ft(i)?Uc(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=tp(i))}const Vb={"":t=>t,x:t=>t.x,y:t=>t.y};function LT(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function RT(t){const e=LT(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Ho(t,e){return(Vb[e]||(Vb[e]=RT(e)))(t)}function Fy(t){return t.charAt(0).toUpperCase()+t.slice(1)}const od=t=>typeof t<"u",Qo=t=>typeof t=="function",qb=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function MT(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const qt=Math.PI,hn=2*qt,DT=hn+qt,np=Number.POSITIVE_INFINITY,IT=qt/180,On=qt/2,Ea=qt/4,Wb=qt*2/3,Fo=Math.log10,ms=Math.sign;function Hc(t,e,n){return Math.abs(t-e)<n}function Kb(t){const e=Math.round(t);t=Hc(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Fo(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function FT(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function BT(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Ya(t){return!BT(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function zT(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function C_(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Gi(t){return t*(qt/180)}function By(t){return t*(180/qt)}function Gb(t){if(!kn(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function k_(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*qt&&(s+=hn),{angle:s,distance:i}}function m1(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function $T(t,e){return(t-e+DT)%hn-qt}function gr(t){return(t%hn+hn)%hn}function ad(t,e,n,r){const i=gr(t),s=gr(e),o=gr(n),a=gr(s-i),u=gr(o-i),c=gr(i-s),h=gr(i-o);return i===s||i===o||r&&s===o||a>u&&c<h}function tr(t,e,n){return Math.max(e,Math.min(n,t))}function UT(t){return tr(t,-32768,32767)}function Ws(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function zy(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const Ks=(t,e,n,r)=>zy(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),HT=(t,e,n)=>zy(t,n,r=>t[r][e]>=n);function QT(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const E_=["push","pop","shift","splice","unshift"];function VT(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),E_.forEach(n=>{const r="_onData"+Fy(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function Yb(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(E_.forEach(s=>{delete t[s]}),delete t._chartjs)}function j_(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const T_=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function N_(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,T_.call(window,()=>{r=!1,t.apply(e,n)}))}}function qT(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const $y=t=>t==="start"?"left":t==="end"?"right":"center",mr=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,WT=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function P_(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:o,vScale:a,_parsed:u}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,h=o.axis,{min:f,max:g,minDefined:v,maxDefined:_}=o.getUserBounds();if(v){if(i=Math.min(Ks(u,h,f).lo,n?r:Ks(e,h,o.getPixelForValue(f)).lo),c){const S=u.slice(0,i+1).reverse().findIndex(C=>!It(C[a.axis]));i-=Math.max(0,S)}i=tr(i,0,r-1)}if(_){let S=Math.max(Ks(u,o.axis,g,!0).hi+1,n?0:Ks(e,h,o.getPixelForValue(g),!0).hi+1);if(c){const C=u.slice(S-1).findIndex(j=>!It(j[a.axis]));S+=Math.max(0,C)}s=tr(S,i,r)-i}else s=r-i}return{start:i,count:s}}function O_(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const Yh=t=>t===0||t===1,Xb=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*hn/n)),Jb=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*hn/n)+1,Qc={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*On)+1,easeOutSine:t=>Math.sin(t*On),easeInOutSine:t=>-.5*(Math.cos(qt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Yh(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Yh(t)?t:Xb(t,.075,.3),easeOutElastic:t=>Yh(t)?t:Jb(t,.075,.3),easeInOutElastic(t){return Yh(t)?t:t<.5?.5*Xb(t*2,.1125,.45):.5+.5*Jb(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Qc.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Qc.easeInBounce(t*2)*.5:Qc.easeOutBounce(t*2-1)*.5+.5};function Uy(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Zb(t){return Uy(t)?t:new id(t)}function e0(t){return Uy(t)?t:new id(t).saturate(.5).darken(.1).hexString()}const KT=["x","y","borderWidth","radius","tension"],GT=["color","borderColor","backgroundColor"];function YT(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:GT},numbers:{type:"number",properties:KT}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function XT(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const ew=new Map;function JT(t,e){e=e||{};const n=t+JSON.stringify(e);let r=ew.get(n);return r||(r=new Intl.NumberFormat(t,e),ew.set(n,r)),r}function Cd(t,e,n){return JT(e,n).format(t)}const A_={values(t){return xn(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=ZT(t,n)}const o=Fo(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),u={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(u,this.options.ticks.format),Cd(t,r,u)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(Fo(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?A_.numeric.call(this,t,e,n):""}};function ZT(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Pp={formatters:A_};function eN(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Pp.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Xa=Object.create(null),g1=Object.create(null);function Vc(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function t0(t,e,n){return typeof e=="string"?sd(Vc(t,e),n):sd(Vc(t,""),e)}class tN{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>e0(i.backgroundColor),this.hoverBorderColor=(r,i)=>e0(i.borderColor),this.hoverColor=(r,i)=>e0(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return t0(this,e,n)}get(e){return Vc(this,e)}describe(e,n){return t0(g1,e,n)}override(e,n){return t0(Xa,e,n)}route(e,n,r,i){const s=Vc(this,e),o=Vc(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[a],c=o[i];return Ft(u)?Object.assign({},c,u):xt(u,c)},set(u){this[a]=u}}})}apply(e){e.forEach(n=>n(this))}}var bn=new tN({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[YT,XT,eN]);function nN(t){return!t||It(t.size)||It(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function rp(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function rN(t,e,n,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},s=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let o=0;const a=n.length;let u,c,h,f,g;for(u=0;u<a;u++)if(f=n[u],f!=null&&!xn(f))o=rp(t,i,s,o,f);else if(xn(f))for(c=0,h=f.length;c<h;c++)g=f[c],g!=null&&!xn(g)&&(o=rp(t,i,s,o,g));t.restore();const v=s.length/2;if(v>n.length){for(u=0;u<v;u++)delete i[s[u]];s.splice(0,v)}return o}function ja(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function tw(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function y1(t,e,n,r){L_(t,e,n,r,null)}function L_(t,e,n,r,i){let s,o,a,u,c,h,f,g;const v=e.pointStyle,_=e.rotation,S=e.radius;let C=(_||0)*IT;if(v&&typeof v=="object"&&(s=v.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(C),t.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),t.restore();return}if(!(isNaN(S)||S<=0)){switch(t.beginPath(),v){default:i?t.ellipse(n,r,i/2,S,0,0,hn):t.arc(n,r,S,0,hn),t.closePath();break;case"triangle":h=i?i/2:S,t.moveTo(n+Math.sin(C)*h,r-Math.cos(C)*S),C+=Wb,t.lineTo(n+Math.sin(C)*h,r-Math.cos(C)*S),C+=Wb,t.lineTo(n+Math.sin(C)*h,r-Math.cos(C)*S),t.closePath();break;case"rectRounded":c=S*.516,u=S-c,o=Math.cos(C+Ea)*u,f=Math.cos(C+Ea)*(i?i/2-c:u),a=Math.sin(C+Ea)*u,g=Math.sin(C+Ea)*(i?i/2-c:u),t.arc(n-f,r-a,c,C-qt,C-On),t.arc(n+g,r-o,c,C-On,C),t.arc(n+f,r+a,c,C,C+On),t.arc(n-g,r+o,c,C+On,C+qt),t.closePath();break;case"rect":if(!_){u=Math.SQRT1_2*S,h=i?i/2:u,t.rect(n-h,r-u,2*h,2*u);break}C+=Ea;case"rectRot":f=Math.cos(C)*(i?i/2:S),o=Math.cos(C)*S,a=Math.sin(C)*S,g=Math.sin(C)*(i?i/2:S),t.moveTo(n-f,r-a),t.lineTo(n+g,r-o),t.lineTo(n+f,r+a),t.lineTo(n-g,r+o),t.closePath();break;case"crossRot":C+=Ea;case"cross":f=Math.cos(C)*(i?i/2:S),o=Math.cos(C)*S,a=Math.sin(C)*S,g=Math.sin(C)*(i?i/2:S),t.moveTo(n-f,r-a),t.lineTo(n+f,r+a),t.moveTo(n+g,r-o),t.lineTo(n-g,r+o);break;case"star":f=Math.cos(C)*(i?i/2:S),o=Math.cos(C)*S,a=Math.sin(C)*S,g=Math.sin(C)*(i?i/2:S),t.moveTo(n-f,r-a),t.lineTo(n+f,r+a),t.moveTo(n+g,r-o),t.lineTo(n-g,r+o),C+=Ea,f=Math.cos(C)*(i?i/2:S),o=Math.cos(C)*S,a=Math.sin(C)*S,g=Math.sin(C)*(i?i/2:S),t.moveTo(n-f,r-a),t.lineTo(n+f,r+a),t.moveTo(n+g,r-o),t.lineTo(n-g,r+o);break;case"line":o=i?i/2:Math.cos(C)*S,a=Math.sin(C)*S,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(C)*(i?i/2:S),r+Math.sin(C)*S);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Gs(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Op(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Ap(t){t.restore()}function iN(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function sN(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function oN(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),It(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function aN(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,u=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,h=i.strikethrough?(u+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,h),t.lineTo(a,h),t.stroke()}}function lN(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Ja(t,e,n,r,i,s={}){const o=xn(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let u,c;for(t.save(),t.font=i.string,oN(t,s),u=0;u<o.length;++u)c=o[u],s.backdrop&&lN(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),It(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,r,s.maxWidth)),t.fillText(c,n,r,s.maxWidth),aN(t,n,r,c,s),r+=Number(i.lineHeight);t.restore()}function ld(t,e){const{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*qt,qt,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,qt,On,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,On,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-On,!0),t.lineTo(n+o.topLeft,r)}const uN=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,cN=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function dN(t,e){const n=(""+t).match(uN);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const hN=t=>+t||0;function Hy(t,e){const n={},r=Ft(e),i=r?Object.keys(e):e,s=Ft(t)?r?o=>xt(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=hN(s(o));return n}function R_(t){return Hy(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Qa(t){return Hy(t,["topLeft","topRight","bottomLeft","bottomRight"])}function xr(t){const e=R_(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function qn(t,e){t=t||{},e=e||bn.font;let n=xt(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=xt(t.style,e.style);r&&!(""+r).match(cN)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:xt(t.family,e.family),lineHeight:dN(xt(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:xt(t.weight,e.weight),string:""};return i.string=nN(i),i}function Dc(t,e,n,r){let i,s,o;for(i=0,s=t.length;i<s;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function fN(t,e,n){const{min:r,max:i}=t,s=__(e,(i-r)/2),o=(a,u)=>n&&a===0?0:a+u;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function Go(t,e){return Object.assign(Object.create(t),e)}function Qy(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=F_("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>Qy([a,...t],e,s,r)};return new Proxy(o,{deleteProperty(a,u){return delete a[u],delete a._keys,delete t[0][u],!0},get(a,u){return D_(a,u,()=>wN(u,e,t,a))},getOwnPropertyDescriptor(a,u){return Reflect.getOwnPropertyDescriptor(a._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,u){return rw(a).includes(u)},ownKeys(a){return rw(a)},set(a,u,c){const h=a._storage||(a._storage=i());return a[u]=h[u]=c,delete a._keys,!0}})}function xu(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:M_(t,r),setContext:s=>xu(t,s,n,r),override:s=>xu(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return D_(s,o,()=>mN(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function M_(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Qo(n)?n:()=>n,isIndexable:Qo(r)?r:()=>r}}const pN=(t,e)=>t?t+Fy(e):e,Vy=(t,e)=>Ft(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function D_(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function mN(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t;let a=r[e];return Qo(a)&&o.isScriptable(e)&&(a=gN(e,a,t,n)),xn(a)&&a.length&&(a=yN(e,a,t,o.isIndexable)),Vy(e,a)&&(a=xu(a,i,s&&s[e],o)),a}function gN(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let u=e(s,o||r);return a.delete(t),Vy(t,u)&&(u=qy(i._scopes,i,t,u)),u}function yN(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(Ft(e[0])){const u=e,c=i._scopes.filter(h=>h!==u);e=[];for(const h of u){const f=qy(c,i,t,h);e.push(xu(f,s,o&&o[t],a))}}return e}function I_(t,e,n){return Qo(t)?t(e,n):t}const vN=(t,e)=>t===!0?e:typeof t=="string"?Ho(e,t):void 0;function xN(t,e,n,r,i){for(const s of e){const o=vN(n,s);if(o){t.add(o);const a=I_(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function qy(t,e,n,r){const i=e._rootScopes,s=I_(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let u=nw(a,o,n,s||n,r);return u===null||typeof s<"u"&&s!==n&&(u=nw(a,o,s,u,r),u===null)?!1:Qy(Array.from(a),[""],i,s,()=>bN(e,n,r))}function nw(t,e,n,r,i){for(;n;)n=xN(t,e,n,r,i);return n}function bN(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return xn(i)&&Ft(n)?n:i||{}}function wN(t,e,n,r){let i;for(const s of e)if(i=F_(pN(s,t),n),typeof i<"u")return Vy(t,i)?qy(n,r,t,i):i}function F_(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function rw(t){let e=t._keys;return e||(e=t._keys=_N(t._scopes)),e}function _N(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function B_(t,e,n,r){const{iScale:i}=t,{key:s="r"}=this._parsing,o=new Array(r);let a,u,c,h;for(a=0,u=r;a<u;++a)c=a+n,h=e[c],o[a]={r:i.parse(Ho(h,s),c)};return o}const SN=Number.EPSILON||1e-14,bu=(t,e)=>e<t.length&&!t[e].skip&&t[e],z_=t=>t==="x"?"y":"x";function CN(t,e,n,r){const i=t.skip?e:t,s=e,o=n.skip?e:n,a=m1(s,i),u=m1(o,s);let c=a/(a+u),h=u/(a+u);c=isNaN(c)?0:c,h=isNaN(h)?0:h;const f=r*c,g=r*h;return{previous:{x:s.x-f*(o.x-i.x),y:s.y-f*(o.y-i.y)},next:{x:s.x+g*(o.x-i.x),y:s.y+g*(o.y-i.y)}}}function kN(t,e,n){const r=t.length;let i,s,o,a,u,c=bu(t,0);for(let h=0;h<r-1;++h)if(u=c,c=bu(t,h+1),!(!u||!c)){if(Hc(e[h],0,SN)){n[h]=n[h+1]=0;continue}i=n[h]/e[h],s=n[h+1]/e[h],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[h]=i*o*e[h],n[h+1]=s*o*e[h])}}function EN(t,e,n="x"){const r=z_(n),i=t.length;let s,o,a,u=bu(t,0);for(let c=0;c<i;++c){if(o=a,a=u,u=bu(t,c+1),!a)continue;const h=a[n],f=a[r];o&&(s=(h-o[n])/3,a[`cp1${n}`]=h-s,a[`cp1${r}`]=f-s*e[c]),u&&(s=(u[n]-h)/3,a[`cp2${n}`]=h+s,a[`cp2${r}`]=f+s*e[c])}}function jN(t,e="x"){const n=z_(e),r=t.length,i=Array(r).fill(0),s=Array(r);let o,a,u,c=bu(t,0);for(o=0;o<r;++o)if(a=u,u=c,c=bu(t,o+1),!!u){if(c){const h=c[e]-u[e];i[o]=h!==0?(c[n]-u[n])/h:0}s[o]=a?c?ms(i[o-1])!==ms(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}kN(t,i,s),EN(t,s,e)}function Xh(t,e,n){return Math.max(Math.min(t,n),e)}function TN(t,e){let n,r,i,s,o,a=Gs(t[0],e);for(n=0,r=t.length;n<r;++n)o=s,s=a,a=n<r-1&&Gs(t[n+1],e),s&&(i=t[n],o&&(i.cp1x=Xh(i.cp1x,e.left,e.right),i.cp1y=Xh(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=Xh(i.cp2x,e.left,e.right),i.cp2y=Xh(i.cp2y,e.top,e.bottom)))}function NN(t,e,n,r,i){let s,o,a,u;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")jN(t,i);else{let c=r?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],u=CN(c,a,t[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=u.previous.x,a.cp1y=u.previous.y,a.cp2x=u.next.x,a.cp2y=u.next.y,c=a}e.capBezierPoints&&TN(t,n)}function Wy(){return typeof window<"u"&&typeof document<"u"}function Ky(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function ip(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Lp=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function PN(t,e){return Lp(t).getPropertyValue(e)}const ON=["top","right","bottom","left"];function Va(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=ON[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const AN=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function LN(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let o=!1,a,u;if(AN(i,s,t.target))a=i,u=s;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,u=r.clientY-c.top,o=!0}return{x:a,y:u,box:o}}function Ma(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=Lp(n),s=i.boxSizing==="border-box",o=Va(i,"padding"),a=Va(i,"border","width"),{x:u,y:c,box:h}=LN(t,n),f=o.left+(h&&a.left),g=o.top+(h&&a.top);let{width:v,height:_}=e;return s&&(v-=o.width+a.width,_-=o.height+a.height),{x:Math.round((u-f)/v*n.width/r),y:Math.round((c-g)/_*n.height/r)}}function RN(t,e,n){let r,i;if(e===void 0||n===void 0){const s=t&&Ky(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=Lp(s),u=Va(a,"border","width"),c=Va(a,"padding");e=o.width-c.width-u.width,n=o.height-c.height-u.height,r=ip(a.maxWidth,s,"clientWidth"),i=ip(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||np,maxHeight:i||np}}const Jh=t=>Math.round(t*10)/10;function MN(t,e,n,r){const i=Lp(t),s=Va(i,"margin"),o=ip(i.maxWidth,t,"clientWidth")||np,a=ip(i.maxHeight,t,"clientHeight")||np,u=RN(t,e,n);let{width:c,height:h}=u;if(i.boxSizing==="content-box"){const g=Va(i,"border","width"),v=Va(i,"padding");c-=v.width+g.width,h-=v.height+g.height}return c=Math.max(0,c-s.width),h=Math.max(0,r?c/r:h-s.height),c=Jh(Math.min(c,o,u.maxWidth)),h=Jh(Math.min(h,a,u.maxHeight)),c&&!h&&(h=Jh(c/2)),(e!==void 0||n!==void 0)&&r&&u.height&&h>u.height&&(h=u.height,c=Jh(Math.floor(h*r))),{width:c,height:h}}function iw(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const DN=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Wy()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function sw(t,e){const n=PN(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Da(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function IN(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function FN(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=Da(t,i,n),a=Da(i,s,n),u=Da(s,e,n),c=Da(o,a,n),h=Da(a,u,n);return Da(c,h,n)}const BN=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},zN=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function mu(t,e,n){return t?BN(e,n):zN()}function $_(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function U_(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function H_(t){return t==="angle"?{between:ad,compare:$T,normalize:gr}:{between:Ws,compare:(e,n)=>e-n,normalize:e=>e}}function ow({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function $N(t,e,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=H_(r),u=e.length;let{start:c,end:h,loop:f}=t,g,v;if(f){for(c+=u,h+=u,g=0,v=u;g<v&&o(a(e[c%u][r]),i,s);++g)c--,h--;c%=u,h%=u}return h<c&&(h+=u),{start:c,end:h,loop:f,style:t.style}}function Q_(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,o=e.length,{compare:a,between:u,normalize:c}=H_(r),{start:h,end:f,loop:g,style:v}=$N(t,e,n),_=[];let S=!1,C=null,j,R,A;const F=()=>u(i,A,j)&&a(i,A)!==0,U=()=>a(s,j)===0||u(s,A,j),O=()=>S||F(),$=()=>!S||U();for(let K=h,H=h;K<=f;++K)R=e[K%o],!R.skip&&(j=c(R[r]),j!==A&&(S=u(j,i,s),C===null&&O()&&(C=a(j,i)===0?K:H),C!==null&&$()&&(_.push(ow({start:C,end:K,loop:g,count:o,style:v})),C=null),H=K,A=j));return C!==null&&_.push(ow({start:C,end:f,loop:g,count:o,style:v})),_}function V_(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=Q_(r[i],t.points,e);s.length&&n.push(...s)}return n}function UN(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function HN(t,e,n,r){const i=t.length,s=[];let o=e,a=t[e],u;for(u=e+1;u<=n;++u){const c=t[u%i];c.skip||c.stop?a.skip||(r=!1,s.push({start:e%i,end:(u-1)%i,loop:r}),e=o=c.stop?u:null):(o=u,a.skip&&(e=u)),a=c}return o!==null&&s.push({start:e%i,end:o%i,loop:r}),s}function QN(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:o,end:a}=UN(n,i,s,r);if(r===!0)return aw(t,[{start:o,end:a,loop:s}],n,e);const u=a<o?a+i:a,c=!!t._fullLoop&&o===0&&a===i-1;return aw(t,HN(n,o,u,c),n,e)}function aw(t,e,n,r){return!r||!r.setContext||!n?e:VN(t,e,n,r)}function VN(t,e,n,r){const i=t._chart.getContext(),s=lw(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,u=n.length,c=[];let h=s,f=e[0].start,g=f;function v(_,S,C,j){const R=a?-1:1;if(_!==S){for(_+=u;n[_%u].skip;)_-=R;for(;n[S%u].skip;)S+=R;_%u!==S%u&&(c.push({start:_%u,end:S%u,loop:C,style:j}),h=j,f=S%u)}}for(const _ of e){f=a?f:_.start;let S=n[f%u],C;for(g=f+1;g<=_.end;g++){const j=n[g%u];C=lw(r.setContext(Go(i,{type:"segment",p0:S,p1:j,p0DataIndex:(g-1)%u,p1DataIndex:g%u,datasetIndex:o}))),qN(C,h)&&v(f,g-1,_.loop,h),S=j,h=C}f<g-1&&v(f,g-1,_.loop,h)}return c}function lw(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function qN(t,e){if(!e)return!1;const n=[],r=function(i,s){return Uy(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function Zh(t,e,n){return t.options.clip?t[n]:e[n]}function WN(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:Zh(n,e,"left"),right:Zh(n,e,"right"),top:Zh(r,e,"top"),bottom:Zh(r,e,"bottom")}:e}function q_(t,e){const n=e._clip;if(n.disabled)return!1;const r=WN(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class KN{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=T_.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,u;for(;o>=0;--o)u=s[o],u._active?(u._total>r.duration&&(r.duration=u._total),u.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var zs=new KN;const uw="transparent",GN={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=Zb(t||uw),i=r.valid&&Zb(e||uw);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class YN{constructor(e,n,r,i){const s=n[r];i=Dc([e.to,i,s,e.from]);const o=Dc([e.from,s,i]);this._active=!0,this._fn=e.fn||GN[e.type||typeof o],this._easing=Qc[e.easing]||Qc.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Dc([e.to,n,i,e.from]),this._from=Dc([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let u;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}u=n/r%2,u=o&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[i]=this._fn(s,a,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class W_{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Ft(e))return;const n=Object.keys(bn.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!Ft(s))return;const o={};for(const a of n)o[a]=s[a];(xn(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,i=JN(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&XN(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let u;for(u=o.length-1;u>=0;--u){const c=o[u];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const h=n[c];let f=s[c];const g=r.get(c);if(f)if(g&&f.active()){f.update(g,h,a);continue}else f.cancel();if(!g||!g.duration){e[c]=h;continue}s[c]=f=new YN(g,e,c,h),i.push(f)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return zs.add(this._chart,r),!0}}function XN(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function JN(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function cw(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function ZN(t,e,n){if(n===!1)return!1;const r=cw(t,n),i=cw(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function eP(t){let e,n,r,i;return Ft(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function K_(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function dw(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let o,a,u,c;if(e===null)return;let h=!1;for(o=0,a=i.length;o<a;++o){if(u=+i[o],u===n){if(h=!0,r.all)continue;break}c=t.values[u],kn(c)&&(s||e===0||ms(e)===ms(c))&&(e+=c)}return!h&&!r.all?0:e}function tP(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let u,c,h;for(u=0,c=o.length;u<c;++u)h=o[u],a[u]={[i]:h,[s]:t[h]};return a}function n0(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function nP(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function rP(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function iP(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function hw(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function fw(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,u=s.axis,c=o.axis,h=nP(s,o,r),f=e.length;let g;for(let v=0;v<f;++v){const _=e[v],{[u]:S,[c]:C}=_,j=_._stacks||(_._stacks={});g=j[c]=iP(i,h,S),g[a]=C,g._top=hw(g,o,!0,r.type),g._bottom=hw(g,o,!1,r.type);const R=g._visualValues||(g._visualValues={});R[a]=C}}function r0(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function sP(t,e){return Go(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function oP(t,e,n){return Go(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function xc(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const i0=t=>t==="reset"||t==="none",pw=(t,e)=>e?t:Object.assign({},t),aP=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:K_(n,!0),values:null};class Yo{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=n0(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&xc(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(f,g,v,_)=>f==="x"?g:f==="r"?_:v,s=n.xAxisID=xt(r.xAxisID,r0(e,"x")),o=n.yAxisID=xt(r.yAxisID,r0(e,"y")),a=n.rAxisID=xt(r.rAxisID,r0(e,"r")),u=n.indexAxis,c=n.iAxisID=i(u,s,o,a),h=n.vAxisID=i(u,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Yb(this._data,this),e._stacked&&xc(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(Ft(n)){const i=this._cachedMeta;this._data=tP(n,i)}else if(r!==n){if(r){Yb(r,this);const i=this._cachedMeta;xc(i),i._parsed=[]}n&&Object.isExtensible(n)&&VT(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=n0(n.vScale,n),n.stack!==r.stack&&(i=!0,xc(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&(fw(this,n._parsed),n._stacked=n0(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let u=e===0&&n===i.length?!0:r._sorted,c=e>0&&r._parsed[e-1],h,f,g;if(this._parsing===!1)r._parsed=i,r._sorted=!0,g=i;else{xn(i[e])?g=this.parseArrayData(r,i,e,n):Ft(i[e])?g=this.parseObjectData(r,i,e,n):g=this.parsePrimitiveData(r,i,e,n);const v=()=>f[a]===null||c&&f[a]<c[a];for(h=0;h<n;++h)r._parsed[h+e]=f=g[h],u&&(v()&&(u=!1),c=f);r._sorted=u}o&&fw(this,g)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:o}=e,a=s.axis,u=o.axis,c=s.getLabels(),h=s===o,f=new Array(i);let g,v,_;for(g=0,v=i;g<v;++g)_=g+r,f[g]={[a]:h||s.parse(c[_],_),[u]:o.parse(n[_],_)};return f}parseArrayData(e,n,r,i){const{xScale:s,yScale:o}=e,a=new Array(i);let u,c,h,f;for(u=0,c=i;u<c;++u)h=u+r,f=n[h],a[u]={x:s.parse(f[0],h),y:o.parse(f[1],h)};return a}parseObjectData(e,n,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:u="y"}=this._parsing,c=new Array(i);let h,f,g,v;for(h=0,f=i;h<f;++h)g=h+r,v=n[g],c[h]={x:s.parse(Ho(v,a),g),y:o.parse(Ho(v,u),g)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:K_(i,!0),values:n._stacks[e.axis]._visualValues};return dw(a,o,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=dw(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,a=this._getOtherScale(e),u=aP(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:f}=rP(a);let g,v;function _(){v=i[g];const S=v[a.axis];return!kn(v[e.axis])||h>S||f<S}for(g=0;g<o&&!(!_()&&(this.updateRangeFromParsed(c,e,v,u),s));++g);if(s){for(g=o-1;g>=0;--g)if(!_()){this.updateRangeFromParsed(c,e,v,u);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][e.axis],kn(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=eP(xt(this.options.clip,ZN(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,u=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let h;for(r.dataset&&r.dataset.draw(e,s,a,u),h=a;h<a+u;++h){const f=i[h];f.hidden||(f.active&&c?o.push(f):f.draw(e,s))}for(h=0;h<o.length;++h)o[h].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=oP(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=sP(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],u=this.enableOptionSharing&&od(r);if(a)return pw(a,u);const c=this.chart.config,h=c.datasetElementScopeKeys(this._type,e),f=i?[`${e}Hover`,"hover",e,""]:[e,""],g=c.getOptionScopes(this.getDataset(),h),v=Object.keys(bn.elements[e]),_=()=>this.getContext(r,i,n),S=c.resolveNamedOptions(g,v,_,f);return S.$shared&&(S.$shared=u,s[o]=Object.freeze(pw(S,u))),S}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let u;if(i.options.animation!==!1){const h=this.chart.config,f=h.datasetAnimationScopeKeys(this._type,n),g=h.getOptionScopes(this.getDataset(),f);u=h.createResolver(g,this.getContext(e,r,n))}const c=new W_(i,u&&u.animations);return u&&u._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||i0(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(e,n,r,i){i0(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!i0(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,u,c]of this._syncList)this[a](u,c);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,o=e+n;let a;const u=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(u(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&u(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&xc(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function lP(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=j_(r.sort((i,s)=>i-s))}return t._cache.$bar}function uP(t){const e=t.iScale,n=lP(e,t.type);let r=e._length,i,s,o,a;const u=()=>{o===32767||o===-32768||(od(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=n.length;i<s;++i)o=e.getPixelForValue(n[i]),u();for(a=void 0,i=0,s=e.ticks.length;i<s;++i)o=e.getPixelForTick(i),u();return r}function cP(t,e,n,r){const i=n.barThickness;let s,o;return It(i)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:e.pixels[t]-s/2}}function dP(t,e,n,r){const i=e.pixels,s=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const u=n.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*u;return{chunk:Math.abs(a-o)/2*u/r,ratio:n.barPercentage,start:c}}function hP(t,e,n,r){const i=n.parse(t[0],r),s=n.parse(t[1],r),o=Math.min(i,s),a=Math.max(i,s);let u=o,c=a;Math.abs(o)>Math.abs(a)&&(u=a,c=o),e[n.axis]=c,e._custom={barStart:u,barEnd:c,start:i,end:s,min:o,max:a}}function G_(t,e,n,r){return xn(t)?hP(t,e,n,r):e[n.axis]=n.parse(t,r),e}function mw(t,e,n,r){const i=t.iScale,s=t.vScale,o=i.getLabels(),a=i===s,u=[];let c,h,f,g;for(c=n,h=n+r;c<h;++c)g=e[c],f={},f[i.axis]=a||i.parse(o[c],c),u.push(G_(g,f,s,c));return u}function s0(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function fP(t,e,n){return t!==0?ms(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function pP(t){let e,n,r,i,s;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:e,top:i,bottom:s}}function mP(t,e,n,r){let i=e.borderSkipped;const s={};if(!i){t.borderSkipped=s;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:u,top:c,bottom:h}=pP(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=h:(s[gw(h,o,a,u)]=!0,i=c)),s[gw(i,o,a,u)]=!0,t.borderSkipped=s}function gw(t,e,n,r){return r?(t=gP(t,e,n),t=yw(t,n,e)):t=yw(t,e,n),t}function gP(t,e,n){return t===e?n:t===n?e:t}function yw(t,e,n){return t==="start"?e:t==="end"?n:t}function yP(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Y_ extends Yo{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,r,i){return mw(e,n,r,i)}parseArrayData(e,n,r,i){return mw(e,n,r,i)}parseObjectData(e,n,r,i){const{iScale:s,vScale:o}=e,{xAxisKey:a="x",yAxisKey:u="y"}=this._parsing,c=s.axis==="x"?a:u,h=o.axis==="x"?a:u,f=[];let g,v,_,S;for(g=r,v=r+i;g<v;++g)S=n[g],_={},_[s.axis]=s.parse(Ho(S,c),g),f.push(G_(Ho(S,h),_,o,g));return f}updateRangeFromParsed(e,n,r,i){super.updateRangeFromParsed(e,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(e),o=s._custom,a=s0(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,u=a.getBasePixel(),c=a.isHorizontal(),h=this._getRuler(),{sharedOptions:f,includeOptions:g}=this._getSharedOptions(n,i);for(let v=n;v<n+r;v++){const _=this.getParsed(v),S=s||It(_[a.axis])?{base:u,head:u}:this._calculateBarValuePixels(v),C=this._calculateBarIndexPixels(v,h),j=(_._stacks||{})[a.axis],R={horizontal:c,base:S.base,enableBorderRadius:!j||s0(_._custom)||o===j._top||o===j._bottom,x:c?S.head:C.center,y:c?C.center:S.head,height:c?C.size:Math.abs(S.size),width:c?Math.abs(S.size):C.size};g&&(R.options=f||this.resolveDataElementOptions(v,e[v].active?"active":i));const A=R.options||e[v].options;mP(R,A,j,o),yP(R,A,h.ratio),this.updateElement(e[v],v,R,i)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),s=r.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),u=a&&a[r.axis],c=h=>{const f=h._parsed.find(v=>v[r.axis]===u),g=f&&f[h.vScale.axis];if(It(g)||isNaN(g))return!0};for(const h of i)if(!(n!==void 0&&c(h))&&((s===!1||o.indexOf(h.stack)===-1||s===void 0&&h.stack===void 0)&&o.push(h.stack),h.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[xt(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,r){const i=this._getStacks(e,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,o;for(s=0,o=n.data.length;s<o;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const a=e.barThickness;return{min:a||uP(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:s,minBarLength:o}}=this,a=s||0,u=this.getParsed(e),c=u._custom,h=s0(c);let f=u[n.axis],g=0,v=r?this.applyStack(n,u,r):f,_,S;v!==f&&(g=v-f,v=f),h&&(f=c.barStart,v=c.barEnd-c.barStart,f!==0&&ms(f)!==ms(c.barEnd)&&(g=0),g+=f);const C=!It(s)&&!h?s:g;let j=n.getPixelForValue(C);if(this.chart.getDataVisibility(e)?_=n.getPixelForValue(g+v):_=j,S=_-j,Math.abs(S)<o){S=fP(S,n,a)*o,f===a&&(j-=S/2);const R=n.getPixelForDecimal(0),A=n.getPixelForDecimal(1),F=Math.min(R,A),U=Math.max(R,A);j=Math.max(Math.min(j,U),F),_=j+S,r&&!h&&(u._stacks[n.axis]._visualValues[i]=n.getValueForPixel(_)-n.getValueForPixel(j))}if(j===n.getPixelForValue(a)){const R=ms(S)*n.getLineWidthForValue(a)/2;j+=R,S-=R}return{size:S,base:j,head:_,center:_+S/2}}_calculateBarIndexPixels(e,n){const r=n.scale,i=this.options,s=i.skipNull,o=xt(i.maxBarThickness,1/0);let a,u;const c=this._getAxisCount();if(n.grouped){const h=s?this._getStackCount(e):n.stackCount,f=i.barThickness==="flex"?dP(e,n,i,h*c):cP(e,n,i,h*c),g=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,v=this._getAxis().indexOf(xt(g,this.getFirstScaleIdForIndexAxis())),_=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+v;a=f.start+f.chunk*_+f.chunk/2,u=Math.min(o,f.chunk*f.ratio)}else a=r.getPixelForValue(this.getParsed(e)[r.axis],e),u=Math.min(o,n.min*n.ratio);return{base:a-u/2,head:a+u/2,center:a,size:u}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}class vP extends Yo{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,r,i){const s=super.parsePrimitiveData(e,n,r,i);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+r).radius;return s}parseArrayData(e,n,r,i){const s=super.parseArrayData(e,n,r,i);for(let o=0;o<s.length;o++){const a=n[r+o];s[o]._custom=xt(a[2],this.resolveDataElementOptions(o+r).radius)}return s}parseObjectData(e,n,r,i){const s=super.parseObjectData(e,n,r,i);for(let o=0;o<s.length;o++){const a=n[r+o];s[o]._custom=xt(a&&a.r&&+a.r,this.resolveDataElementOptions(o+r).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let r=e.length-1;r>=0;--r)n=Math.max(n,e[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,o=this.getParsed(e),a=i.getLabelForValue(o.x),u=s.getLabelForValue(o.y),c=o._custom;return{label:r[e]||"",value:"("+a+", "+u+(c?", "+c:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:u,includeOptions:c}=this._getSharedOptions(n,i),h=o.axis,f=a.axis;for(let g=n;g<n+r;g++){const v=e[g],_=!s&&this.getParsed(g),S={},C=S[h]=s?o.getPixelForDecimal(.5):o.getPixelForValue(_[h]),j=S[f]=s?a.getBasePixel():a.getPixelForValue(_[f]);S.skip=isNaN(C)||isNaN(j),c&&(S.options=u||this.resolveDataElementOptions(g,v.active?"active":i),s&&(S.options.radius=0)),this.updateElement(v,g,S,i)}}resolveDataElementOptions(e,n){const r=this.getParsed(e);let i=super.resolveDataElementOptions(e,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const s=i.radius;return n!=="active"&&(i.radius=0),i.radius+=xt(r&&r._custom,s),i}}function xP(t,e,n){let r=1,i=1,s=0,o=0;if(e<hn){const a=t,u=a+e,c=Math.cos(a),h=Math.sin(a),f=Math.cos(u),g=Math.sin(u),v=(A,F,U)=>ad(A,a,u,!0)?1:Math.max(F,F*n,U,U*n),_=(A,F,U)=>ad(A,a,u,!0)?-1:Math.min(F,F*n,U,U*n),S=v(0,c,f),C=v(On,h,g),j=_(qt,c,f),R=_(qt+On,h,g);r=(S-j)/2,i=(C-R)/2,s=-(S+j)/2,o=-(C+R)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class Rp extends Yo{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((s,o)=>{const u=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:i,lineWidth:u.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=u=>+r[u];if(Ft(r[e])){const{key:u="value"}=this._parsing;s=c=>+Ho(r[c],u)}let o,a;for(o=e,a=e+n;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return Gi(this.options.rotation-90)}_getCircumference(){return Gi(this.options.circumference)}_getRotationExtents(){let e=hn,n=-hn;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),u=Math.min(PT(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:h,rotation:f}=this._getRotationExtents(),{ratioX:g,ratioY:v,offsetX:_,offsetY:S}=xP(f,h,u),C=(r.width-o)/g,j=(r.height-o)/v,R=Math.max(Math.min(C,j)/2,0),A=__(this.options.radius,R),F=Math.max(A*u,0),U=(A-F)/this._getVisibleDatasetWeightTotal();this.offsetX=_*A,this.offsetY=S*A,i.total=this.calculateTotal(),this.outerRadius=A-U*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-U*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/hn)}updateElements(e,n,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,h=(a.left+a.right)/2,f=(a.top+a.bottom)/2,g=s&&c.animateScale,v=g?0:this.innerRadius,_=g?0:this.outerRadius,{sharedOptions:S,includeOptions:C}=this._getSharedOptions(n,i);let j=this._getRotation(),R;for(R=0;R<n;++R)j+=this._circumference(R,s);for(R=n;R<n+r;++R){const A=this._circumference(R,s),F=e[R],U={x:h+this.offsetX,y:f+this.offsetY,startAngle:j,endAngle:j+A,circumference:A,outerRadius:_,innerRadius:v};C&&(U.options=S||this.resolveDataElementOptions(R,F.active?"active":i)),j+=A,this.updateElement(F,R,U,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?hn*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Cd(n._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,s,o,a,u;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)u=a.resolveDataElementOptions(i),u.borderAlign!=="inner"&&(n=Math.max(n,u.borderWidth||0,u.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(xt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class bP extends Yo{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:u}=P_(n,i,o);this._drawStart=a,this._drawCount=u,O_(n)&&(a=0,u=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},e),this.updateElements(i,a,u,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:u,_dataset:c}=this._cachedMeta,{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,i),g=o.axis,v=a.axis,{spanGaps:_,segment:S}=this.options,C=Ya(_)?_:Number.POSITIVE_INFINITY,j=this.chart._animationsDisabled||s||i==="none",R=n+r,A=e.length;let F=n>0&&this.getParsed(n-1);for(let U=0;U<A;++U){const O=e[U],$=j?O:{};if(U<n||U>=R){$.skip=!0;continue}const K=this.getParsed(U),H=It(K[v]),z=$[g]=o.getPixelForValue(K[g],U),ue=$[v]=s||H?a.getBasePixel():a.getPixelForValue(u?this.applyStack(a,K,u):K[v],U);$.skip=isNaN(z)||isNaN(ue)||H,$.stop=U>0&&Math.abs(K[g]-F[g])>C,S&&($.parsed=K,$.raw=c.data[U]),f&&($.options=h||this.resolveDataElementOptions(U,O.active?"active":i)),j||this.updateElement(O,U,$,i),F=K}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class X_ extends Yo{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((s,o)=>{const u=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:i,lineWidth:u.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Cd(n._parsed[e].r,r.options.locale);return{label:i[e]||"",value:s}}parseObjectData(e,n,r,i){return B_.bind(this)(e,n,r,i)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,r=e.options,i=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(i/2,0),o=Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0),a=(s-o)/e.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,r,i){const s=i==="reset",o=this.chart,u=o.options.animation,c=this._cachedMeta.rScale,h=c.xCenter,f=c.yCenter,g=c.getIndexAngle(0)-.5*qt;let v=g,_;const S=360/this.countVisibleElements();for(_=0;_<n;++_)v+=this._computeAngle(_,i,S);for(_=n;_<n+r;_++){const C=e[_];let j=v,R=v+this._computeAngle(_,i,S),A=o.getDataVisibility(_)?c.getDistanceFromCenterForValue(this.getParsed(_).r):0;v=R,s&&(u.animateScale&&(A=0),u.animateRotate&&(j=R=g));const F={x:h,y:f,innerRadius:0,outerRadius:A,startAngle:j,endAngle:R,options:this.resolveDataElementOptions(_,C.active?"active":i)};this.updateElement(C,_,F,i)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((r,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(e,n,r){return this.chart.getDataVisibility(e)?Gi(this.resolveDataElementOptions(e,n).angle||r):0}}class wP extends Rp{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class J_ extends Yo{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const n=this._cachedMeta.vScale,r=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(e,n,r,i){return B_.bind(this)(e,n,r,i)}update(e){const n=this._cachedMeta,r=n.dataset,i=n.data||[],s=n.iScale.getLabels();if(r.points=i,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===i.length,options:o};this.updateElement(r,void 0,a,e)}this.updateElements(i,0,i.length,e)}updateElements(e,n,r,i){const s=this._cachedMeta.rScale,o=i==="reset";for(let a=n;a<n+r;a++){const u=e[a],c=this.resolveDataElementOptions(a,u.active?"active":i),h=s.getPointPositionForValue(a,this.getParsed(a).r),f=o?s.xCenter:h.x,g=o?s.yCenter:h.y,v={x:f,y:g,angle:h.angle,skip:isNaN(f)||isNaN(g),options:c};this.updateElement(u,a,v,i)}}}class _P extends Yo{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,o=this.getParsed(e),a=i.getLabelForValue(o.x),u=s.getLabelForValue(o.y);return{label:r[e]||"",value:"("+a+", "+u+")"}}update(e){const n=this._cachedMeta,{data:r=[]}=n,i=this.chart._animationsDisabled;let{start:s,count:o}=P_(n,r,i);if(this._drawStart=s,this._drawCount=o,O_(n)&&(s=0,o=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:u}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!u._decimated,a.points=r;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,s,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:u,_dataset:c}=this._cachedMeta,h=this.resolveDataElementOptions(n,i),f=this.getSharedOptions(h),g=this.includeOptions(i,f),v=o.axis,_=a.axis,{spanGaps:S,segment:C}=this.options,j=Ya(S)?S:Number.POSITIVE_INFINITY,R=this.chart._animationsDisabled||s||i==="none";let A=n>0&&this.getParsed(n-1);for(let F=n;F<n+r;++F){const U=e[F],O=this.getParsed(F),$=R?U:{},K=It(O[_]),H=$[v]=o.getPixelForValue(O[v],F),z=$[_]=s||K?a.getBasePixel():a.getPixelForValue(u?this.applyStack(a,O,u):O[_],F);$.skip=isNaN(H)||isNaN(z)||K,$.stop=F>0&&Math.abs(O[v]-A[v])>j,C&&($.parsed=O,$.raw=c.data[F]),g&&($.options=f||this.resolveDataElementOptions(F,U.active?"active":i)),R||this.updateElement(U,F,$,i),A=O}this.updateSharedOptions(f,i,h)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let a=0;for(let u=n.length-1;u>=0;--u)a=Math.max(a,n[u].size(this.resolveDataElementOptions(u))/2);return a>0&&a}const r=e.dataset,i=r.options&&r.options.borderWidth||0;if(!n.length)return i;const s=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,s,o)/2}}var SP=Object.freeze({__proto__:null,BarController:Y_,BubbleController:vP,DoughnutController:Rp,LineController:bP,PieController:wP,PolarAreaController:X_,RadarController:J_,ScatterController:_P});function Ta(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Gy{static override(e){Object.assign(Gy.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Ta()}parse(){return Ta()}format(){return Ta()}add(){return Ta()}diff(){return Ta()}startOf(){return Ta()}endOf(){return Ta()}}var CP={_date:Gy};function kP(t,e,n,r){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const c=a._reversePixels?HT:Ks;if(r){if(i._sharedOptions){const h=s[0],f=typeof h.getRange=="function"&&h.getRange(e);if(f){const g=c(s,e,n-f),v=c(s,e,n+f);return{lo:g.lo,hi:v.hi}}}}else{const h=c(s,e,n);if(u){const{vScale:f}=i._cachedMeta,{_parsed:g}=t,v=g.slice(0,h.lo+1).reverse().findIndex(S=>!It(S[f.axis]));h.lo-=Math.max(0,v);const _=g.slice(h.hi).findIndex(S=>!It(S[f.axis]));h.hi+=Math.max(0,_)}return h}}return{lo:0,hi:s.length-1}}function Mp(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,u=s.length;a<u;++a){const{index:c,data:h}=s[a],{lo:f,hi:g}=kP(s[a],e,o,i);for(let v=f;v<=g;++v){const _=h[v];_.skip||r(_,c,v)}}}function EP(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function o0(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||Mp(t,n,e,function(a,u,c){!i&&!Gs(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:u,index:c})},!0),s}function jP(t,e,n,r){let i=[];function s(o,a,u){const{startAngle:c,endAngle:h}=o.getProps(["startAngle","endAngle"],r),{angle:f}=k_(o,{x:e.x,y:e.y});ad(f,c,h)&&i.push({element:o,datasetIndex:a,index:u})}return Mp(t,n,e,s),i}function TP(t,e,n,r,i,s){let o=[];const a=EP(n);let u=Number.POSITIVE_INFINITY;function c(h,f,g){const v=h.inRange(e.x,e.y,i);if(r&&!v)return;const _=h.getCenterPoint(i);if(!(!!s||t.isPointInArea(_))&&!v)return;const C=a(e,_);C<u?(o=[{element:h,datasetIndex:f,index:g}],u=C):C===u&&o.push({element:h,datasetIndex:f,index:g})}return Mp(t,n,e,c),o}function a0(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?jP(t,e,n,i):TP(t,e,n,r,i,s)}function vw(t,e,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Mp(t,n,e,(u,c,h)=>{u[o]&&u[o](e[n],i)&&(s.push({element:u,datasetIndex:c,index:h}),a=a||u.inRange(e.x,e.y,i))}),r&&!a?[]:s}var NP={modes:{index(t,e,n,r){const i=Ma(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?o0(t,i,s,r,o):a0(t,i,s,!1,r,o),u=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const h=a[0].index,f=c.data[h];f&&!f.skip&&u.push({element:f,datasetIndex:c.index,index:h})}),u):[]},dataset(t,e,n,r){const i=Ma(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?o0(t,i,s,r,o):a0(t,i,s,!1,r,o);if(a.length>0){const u=a[0].datasetIndex,c=t.getDatasetMeta(u).data;a=[];for(let h=0;h<c.length;++h)a.push({element:c[h],datasetIndex:u,index:h})}return a},point(t,e,n,r){const i=Ma(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return o0(t,i,s,r,o)},nearest(t,e,n,r){const i=Ma(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return a0(t,i,s,n.intersect,r,o)},x(t,e,n,r){const i=Ma(e,t);return vw(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=Ma(e,t);return vw(t,i,"y",n.intersect,r)}}};const Z_=["left","top","right","bottom"];function bc(t,e){return t.filter(n=>n.pos===e)}function xw(t,e){return t.filter(n=>Z_.indexOf(n.pos)===-1&&n.box.axis===e)}function wc(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function PP(t){const e=[];let n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function OP(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!Z_.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function AP(t,e){const n=OP(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:u}=a.box,c=n[a.stack],h=c&&a.stackWeight/c.weight;a.horizontal?(a.width=h?h*r:u&&e.availableWidth,a.height=i):(a.width=r,a.height=h?h*i:u&&e.availableHeight)}return n}function LP(t){const e=PP(t),n=wc(e.filter(c=>c.box.fullSize),!0),r=wc(bc(e,"left"),!0),i=wc(bc(e,"right")),s=wc(bc(e,"top"),!0),o=wc(bc(e,"bottom")),a=xw(e,"x"),u=xw(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(u).concat(o).concat(a),chartArea:bc(e,"chartArea"),vertical:r.concat(i).concat(u),horizontal:s.concat(o).concat(a)}}function bw(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function e6(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function RP(t,e,n,r){const{pos:i,box:s}=n,o=t.maxPadding;if(!Ft(i)){n.size&&(t[i]-=n.size);const f=r[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?s.height:s.width),n.size=f.size/f.count,t[i]+=n.size}s.getPadding&&e6(o,s.getPadding());const a=Math.max(0,e.outerWidth-bw(o,t,"left","right")),u=Math.max(0,e.outerHeight-bw(o,t,"top","bottom")),c=a!==t.w,h=u!==t.h;return t.w=a,t.h=u,n.horizontal?{same:c,other:h}:{same:h,other:c}}function MP(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function DP(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return r(t?["left","right"]:["top","bottom"])}function Ic(t,e,n,r){const i=[];let s,o,a,u,c,h;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],u=a.box,u.update(a.width||e.w,a.height||e.h,DP(a.horizontal,e));const{same:f,other:g}=RP(e,n,a,r);c|=f&&i.length,h=h||g,u.fullSize||i.push(a)}return c&&Ic(i,e,n,r)||h}function ef(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function ww(t,e,n,r){const i=n.padding;let{x:s,y:o}=e;for(const a of t){const u=a.box,c=r[a.stack]||{placed:0,weight:1},h=a.stackWeight/c.weight||1;if(a.horizontal){const f=e.w*h,g=c.size||u.height;od(c.start)&&(o=c.start),u.fullSize?ef(u,i.left,o,n.outerWidth-i.right-i.left,g):ef(u,e.left+c.placed,o,f,g),c.start=o,c.placed+=f,o=u.bottom}else{const f=e.h*h,g=c.size||u.width;od(c.start)&&(s=c.start),u.fullSize?ef(u,s,i.top,g,n.outerHeight-i.bottom-i.top):ef(u,s,e.top+c.placed,g,f),c.start=s,c.placed+=f,s=u.right}}e.x=s,e.y=o}var yr={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=xr(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=LP(t.boxes),u=a.vertical,c=a.horizontal;Xt(t.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const h=u.reduce((S,C)=>C.box.options&&C.box.options.display===!1?S:S+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/h,hBoxMaxHeight:o/2}),g=Object.assign({},i);e6(g,xr(r));const v=Object.assign({maxPadding:g,w:s,h:o,x:i.left,y:i.top},i),_=AP(u.concat(c),f);Ic(a.fullSize,v,f,_),Ic(u,v,f,_),Ic(c,v,f,_)&&Ic(u,v,f,_),MP(v),ww(a.leftAndTop,v,f,_),v.x+=v.w,v.y+=v.h,ww(a.rightAndBottom,v,f,_),t.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},Xt(a.chartArea,S=>{const C=S.box;Object.assign(C,t.chartArea),C.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class t6{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class IP extends t6{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Df="$chartjs",FP={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},_w=t=>t===null||t==="";function BP(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[Df]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",_w(i)){const s=sw(t,"width");s!==void 0&&(t.width=s)}if(_w(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=sw(t,"height");s!==void 0&&(t.height=s)}return t}const n6=DN?{passive:!0}:!1;function zP(t,e,n){t&&t.addEventListener(e,n,n6)}function $P(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,n6)}function UP(t,e){const n=FP[t.type]||t.type,{x:r,y:i}=Ma(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function sp(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function HP(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||sp(a.addedNodes,r),o=o&&!sp(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function QP(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||sp(a.removedNodes,r),o=o&&!sp(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const ud=new Map;let Sw=0;function r6(){const t=window.devicePixelRatio;t!==Sw&&(Sw=t,ud.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function VP(t,e){ud.size||window.addEventListener("resize",r6),ud.set(t,e)}function qP(t){ud.delete(t),ud.size||window.removeEventListener("resize",r6)}function WP(t,e,n){const r=t.canvas,i=r&&Ky(r);if(!i)return;const s=N_((a,u)=>{const c=i.clientWidth;n(a,u),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const u=a[0],c=u.contentRect.width,h=u.contentRect.height;c===0&&h===0||s(c,h)});return o.observe(i),VP(t,s),o}function l0(t,e,n){n&&n.disconnect(),e==="resize"&&qP(t)}function KP(t,e,n){const r=t.canvas,i=N_(s=>{t.ctx!==null&&n(UP(s,t))},t);return zP(r,e,i),i}class GP extends t6{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(BP(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Df])return!1;const r=n[Df].initial;["height","width"].forEach(s=>{const o=r[s];It(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[Df],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:HP,detach:QP,resize:WP}[n]||KP;i[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:l0,detach:l0,resize:l0}[n]||$P)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return MN(e,n,r,i)}isAttached(e){const n=e&&Ky(e);return!!(n&&n.isConnected)}}function YP(t){return!Wy()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?IP:GP}let no=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return Ya(this.x)&&Ya(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}};function XP(t,e){const n=t.options.ticks,r=JP(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?eO(e):[],o=s.length,a=s[0],u=s[o-1],c=[];if(o>i)return tO(e,c,s,o/i),c;const h=ZP(s,e,i);if(o>0){let f,g;const v=o>1?Math.round((u-a)/(o-1)):null;for(tf(e,c,h,It(v)?0:a-v,a),f=0,g=o-1;f<g;f++)tf(e,c,h,s[f],s[f+1]);return tf(e,c,h,u,It(v)?e.length:u+v),c}return tf(e,c,h),c}function JP(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function ZP(t,e,n){const r=nO(t),i=e.length/n;if(!r)return Math.max(i,1);const s=FT(r);for(let o=0,a=s.length-1;o<a;o++){const u=s[o];if(u>i)return u}return Math.max(i,1)}function eO(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function tO(t,e,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===s&&(e.push(t[o]),i++,s=n[i*r])}function tf(t,e,n,r,i){const s=xt(r,0),o=Math.min(xt(i,t.length),t.length);let a=0,u,c,h;for(n=Math.ceil(n),i&&(u=i-r,n=u/Math.floor(u/n)),h=s;h<0;)a++,h=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===h&&(e.push(t[c]),a++,h=Math.round(s+a*n))}function nO(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const rO=t=>t==="left"?"right":t==="right"?"left":t,Cw=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,kw=(t,e)=>Math.min(e||t,t);function Ew(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function iO(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,a=1e-6;let u=t.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(u-s,o-u):e===0?c=(t.getPixelForTick(1)-u)/2:c=(u-t.getPixelForTick(i-1))/2,u+=i<e?c:-c,u<s-a||u>o+a)))return u}function sO(t,e){Xt(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function _c(t){return t.drawTicks?t.tickLength:0}function jw(t,e){if(!t.display)return 0;const n=qn(t.font,e),r=xr(t.padding);return(xn(t.text)?t.text.length:1)*n.lineHeight+r.height}function oO(t,e){return Go(t,{scale:e,type:"scale"})}function aO(t,e,n){return Go(t,{tick:n,index:e,type:"tick"})}function lO(t,e,n){let r=$y(t);return(n&&e!=="right"||!n&&e==="right")&&(r=rO(r)),r}function uO(t,e,n,r){const{top:i,left:s,bottom:o,right:a,chart:u}=t,{chartArea:c,scales:h}=u;let f=0,g,v,_;const S=o-i,C=a-s;if(t.isHorizontal()){if(v=mr(r,s,a),Ft(n)){const j=Object.keys(n)[0],R=n[j];_=h[j].getPixelForValue(R)+S-e}else n==="center"?_=(c.bottom+c.top)/2+S-e:_=Cw(t,n,e);g=a-s}else{if(Ft(n)){const j=Object.keys(n)[0],R=n[j];v=h[j].getPixelForValue(R)-C+e}else n==="center"?v=(c.left+c.right)/2-C+e:v=Cw(t,n,e);_=mr(r,o,i),f=n==="left"?-On:On}return{titleX:v,titleY:_,maxWidth:g,rotation:f}}class nl extends no{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=ai(e,Number.POSITIVE_INFINITY),n=ai(n,Number.NEGATIVE_INFINITY),r=ai(r,Number.POSITIVE_INFINITY),i=ai(i,Number.NEGATIVE_INFINITY),{min:ai(e,r),max:ai(n,i),minDefined:kn(e),maxDefined:kn(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let u=0,c=a.length;u<c;++u)o=a[u].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:ai(n,ai(r,n)),max:ai(r,ai(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){an(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=fN(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=a<this.ticks.length;this._convertTicksToLabels(u?Ew(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=XP(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){an(this.options.afterUpdate,[this])}beforeSetDimensions(){an(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){an(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),an(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){an(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=an(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){an(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){an(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=kw(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,u,c;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const h=this._getLabelSizes(),f=h.widest.width,g=h.highest.height,v=tr(this.chart.width-f,0,this.maxWidth);a=e.offset?this.maxWidth/r:v/(r-1),f+6>a&&(a=v/(r-(e.offset?.5:1)),u=this.maxHeight-_c(e.grid)-n.padding-jw(e.title,this.chart.options.font),c=Math.sqrt(f*f+g*g),o=By(Math.min(Math.asin(tr((h.highest.height+6)/a,-1,1)),Math.asin(tr(u/c,-1,1))-Math.asin(tr(g/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){an(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){an(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const u=jw(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=_c(s)+u):(e.height=this.maxHeight,e.width=_c(s)+u),r.display&&this.ticks.length){const{first:c,last:h,widest:f,highest:g}=this._getLabelSizes(),v=r.padding*2,_=Gi(this.labelRotation),S=Math.cos(_),C=Math.sin(_);if(a){const j=r.mirror?0:C*f.width+S*g.height;e.height=Math.min(this.maxHeight,e.height+j+v)}else{const j=r.mirror?0:S*f.width+C*g.height;e.width=Math.min(this.maxWidth,e.width+j+v)}this._calculatePadding(c,h,C,S)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,u=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,v=0;u?c?(g=i*e.width,v=r*n.height):(g=r*e.height,v=i*n.width):s==="start"?v=n.width:s==="end"?g=e.width:s!=="inner"&&(g=e.width/2,v=n.width/2),this.paddingLeft=Math.max((g-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((v-f+o)*this.width/(this.width-f),0)}else{let h=n.height/2,f=e.height/2;s==="start"?(h=0,f=e.height):s==="end"&&(h=n.height,f=0),this.paddingTop=h+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){an(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)It(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=Ew(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],u=Math.floor(n/kw(n,r));let c=0,h=0,f,g,v,_,S,C,j,R,A,F,U;for(f=0;f<n;f+=u){if(_=e[f].label,S=this._resolveTickFontOptions(f),i.font=C=S.string,j=s[C]=s[C]||{data:{},gc:[]},R=S.lineHeight,A=F=0,!It(_)&&!xn(_))A=rp(i,j.data,j.gc,A,_),F=R;else if(xn(_))for(g=0,v=_.length;g<v;++g)U=_[g],!It(U)&&!xn(U)&&(A=rp(i,j.data,j.gc,A,U),F+=R);o.push(A),a.push(F),c=Math.max(A,c),h=Math.max(F,h)}sO(s,n);const O=o.indexOf(c),$=a.indexOf(h),K=H=>({width:o[H]||0,height:a[H]||0});return{first:K(0),last:K(n-1),widest:K(O),highest:K($),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return UT(this._alignToPixels?ja(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=aO(this.getContext(),e,r))}return this.$context||(this.$context=oO(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Gi(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,u=s?s.highest.height+o:0;return this.isHorizontal()?u*r>a*i?a/r:u/i:u*i<a*r?u/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,u=s.offset,c=this.isHorizontal(),f=this.ticks.length+(u?1:0),g=_c(s),v=[],_=a.setContext(this.getContext()),S=_.display?_.width:0,C=S/2,j=function(Z){return ja(r,Z,S)};let R,A,F,U,O,$,K,H,z,ue,de,pe;if(o==="top")R=j(this.bottom),$=this.bottom-g,H=R-C,ue=j(e.top)+C,pe=e.bottom;else if(o==="bottom")R=j(this.top),ue=e.top,pe=j(e.bottom)-C,$=R+C,H=this.top+g;else if(o==="left")R=j(this.right),O=this.right-g,K=R-C,z=j(e.left)+C,de=e.right;else if(o==="right")R=j(this.left),z=e.left,de=j(e.right)-C,O=R+C,K=this.left+g;else if(n==="x"){if(o==="center")R=j((e.top+e.bottom)/2+.5);else if(Ft(o)){const Z=Object.keys(o)[0],re=o[Z];R=j(this.chart.scales[Z].getPixelForValue(re))}ue=e.top,pe=e.bottom,$=R+C,H=$+g}else if(n==="y"){if(o==="center")R=j((e.left+e.right)/2);else if(Ft(o)){const Z=Object.keys(o)[0],re=o[Z];R=j(this.chart.scales[Z].getPixelForValue(re))}O=R-C,K=O-g,z=e.left,de=e.right}const q=xt(i.ticks.maxTicksLimit,f),V=Math.max(1,Math.ceil(f/q));for(A=0;A<f;A+=V){const Z=this.getContext(A),re=s.setContext(Z),ne=a.setContext(Z),me=re.lineWidth,D=re.color,G=ne.dash||[],ye=ne.dashOffset,I=re.tickWidth,Ie=re.tickColor,Ee=re.tickBorderDash||[],je=re.tickBorderDashOffset;F=iO(this,A,u),F!==void 0&&(U=ja(r,F,me),c?O=K=z=de=U:$=H=ue=pe=U,v.push({tx1:O,ty1:$,tx2:K,ty2:H,x1:z,y1:ue,x2:de,y2:pe,width:me,color:D,borderDash:G,borderDashOffset:ye,tickWidth:I,tickColor:Ie,tickBorderDash:Ee,tickBorderDashOffset:je}))}return this._ticksLength=f,this._borderValue=R,v}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:u,crossAlign:c,padding:h,mirror:f}=s,g=_c(r.grid),v=g+h,_=f?-h:v,S=-Gi(this.labelRotation),C=[];let j,R,A,F,U,O,$,K,H,z,ue,de,pe="middle";if(i==="top")O=this.bottom-_,$=this._getXAxisLabelAlignment();else if(i==="bottom")O=this.top+_,$=this._getXAxisLabelAlignment();else if(i==="left"){const V=this._getYAxisLabelAlignment(g);$=V.textAlign,U=V.x}else if(i==="right"){const V=this._getYAxisLabelAlignment(g);$=V.textAlign,U=V.x}else if(n==="x"){if(i==="center")O=(e.top+e.bottom)/2+v;else if(Ft(i)){const V=Object.keys(i)[0],Z=i[V];O=this.chart.scales[V].getPixelForValue(Z)+v}$=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")U=(e.left+e.right)/2-v;else if(Ft(i)){const V=Object.keys(i)[0],Z=i[V];U=this.chart.scales[V].getPixelForValue(Z)}$=this._getYAxisLabelAlignment(g).textAlign}n==="y"&&(u==="start"?pe="top":u==="end"&&(pe="bottom"));const q=this._getLabelSizes();for(j=0,R=a.length;j<R;++j){A=a[j],F=A.label;const V=s.setContext(this.getContext(j));K=this.getPixelForTick(j)+s.labelOffset,H=this._resolveTickFontOptions(j),z=H.lineHeight,ue=xn(F)?F.length:1;const Z=ue/2,re=V.color,ne=V.textStrokeColor,me=V.textStrokeWidth;let D=$;o?(U=K,$==="inner"&&(j===R-1?D=this.options.reverse?"left":"right":j===0?D=this.options.reverse?"right":"left":D="center"),i==="top"?c==="near"||S!==0?de=-ue*z+z/2:c==="center"?de=-q.highest.height/2-Z*z+z:de=-q.highest.height+z/2:c==="near"||S!==0?de=z/2:c==="center"?de=q.highest.height/2-Z*z:de=q.highest.height-ue*z,f&&(de*=-1),S!==0&&!V.showLabelBackdrop&&(U+=z/2*Math.sin(S))):(O=K,de=(1-ue)*z/2);let G;if(V.showLabelBackdrop){const ye=xr(V.backdropPadding),I=q.heights[j],Ie=q.widths[j];let Ee=de-ye.top,je=0-ye.left;switch(pe){case"middle":Ee-=I/2;break;case"bottom":Ee-=I;break}switch($){case"center":je-=Ie/2;break;case"right":je-=Ie;break;case"inner":j===R-1?je-=Ie:j>0&&(je-=Ie/2);break}G={left:je,top:Ee,width:Ie+ye.width,height:I+ye.height,color:V.backdropColor}}C.push({label:F,font:H,textOffset:de,options:{rotation:S,color:re,strokeColor:ne,strokeWidth:me,textAlign:D,textBaseline:pe,translation:[U,O],backdrop:G}})}return C}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Gi(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,u=o.widest.width;let c,h;return n==="left"?i?(h=this.right+s,r==="near"?c="left":r==="center"?(c="center",h+=u/2):(c="right",h+=u)):(h=this.right-a,r==="near"?c="right":r==="center"?(c="center",h-=u/2):(c="left",h=this.left)):n==="right"?i?(h=this.left+s,r==="near"?c="right":r==="center"?(c="center",h-=u/2):(c="left",h-=u)):(h=this.left+a,r==="near"?c="left":r==="center"?(c="center",h+=u/2):(c="right",h=this.right)):c="right",{textAlign:c,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(u,c,h)=>{!h.width||!h.color||(r.save(),r.lineWidth=h.width,r.strokeStyle=h.color,r.setLineDash(h.borderDash||[]),r.lineDashOffset=h.borderDashOffset,r.beginPath(),r.moveTo(u.x,u.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const u=i[s];n.drawOnChartArea&&a({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&a({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let c,h,f,g;this.isHorizontal()?(c=ja(e,this.left,o)-o/2,h=ja(e,this.right,a)+a/2,f=g=u):(f=ja(e,this.top,o)-o/2,g=ja(e,this.bottom,a)+a/2,c=h=u),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,f),n.lineTo(h,g),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&Op(r,i);const s=this.getLabelItems(e);for(const o of s){const a=o.options,u=o.font,c=o.label,h=o.textOffset;Ja(r,c,0,h,u,a)}i&&Ap(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=qn(r.font),o=xr(r.padding),a=r.align;let u=s.lineHeight/2;n==="bottom"||n==="center"||Ft(n)?(u+=o.bottom,xn(r.text)&&(u+=s.lineHeight*(r.text.length-1))):u+=o.top;const{titleX:c,titleY:h,maxWidth:f,rotation:g}=uO(this,u,n,a);Ja(e,r.text,0,0,s,{color:r.color,maxWidth:f,rotation:g,textAlign:lO(a,n,i),textBaseline:"middle",translation:[c,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=xt(e.grid&&e.grid.z,-1),i=xt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==nl.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return qn(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class nf{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;hO(n)&&(r=this.register(n));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,cO(e,o,r),this.override&&bn.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in bn[i]&&(delete bn[i][r],this.override&&delete Xa[r])}}function cO(t,e,n){const r=sd(Object.create(null),[n?bn.get(n):{},bn.get(e),t.defaults]);bn.set(e,r),t.defaultRoutes&&dO(e,t.defaultRoutes),t.descriptors&&bn.describe(e,t.descriptors)}function dO(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),u=o.join(".");bn.route(s,i,u,a)})}function hO(t){return"id"in t&&"defaults"in t}class fO{constructor(){this.controllers=new nf(Yo,"datasets",!0),this.elements=new nf(no,"elements"),this.plugins=new nf(Object,"plugins"),this.scales=new nf(nl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):Xt(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const i=Fy(e);an(r["before"+i],[],r),n[e](r),an(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var hs=new fO;class pO{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,i){i=i||{};for(const s of e){const o=s.plugin,a=o[r],u=[n,i,s.options];if(an(a,u,o)===!1&&i.cancelable)return!1}return!0}invalidate(){It(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=xt(r.options&&r.options.plugins,{}),s=mO(r);return i===!1&&!n?[]:yO(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(u=>a.plugin.id===u.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function mO(t){const e={},n=[],r=Object.keys(hs.plugins.items);for(let s=0;s<r.length;s++)n.push(hs.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function gO(t,e){return!e&&t===!1?null:t===!0?{}:t}function yO(t,{plugins:e,localIds:n},r,i){const s=[],o=t.getContext();for(const a of e){const u=a.id,c=gO(r[u],i);c!==null&&s.push({plugin:a,options:vO(t.config,{plugin:a,local:n[u]},c,o)})}return s}function vO(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(r,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function v1(t,e){const n=bn.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function xO(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function bO(t,e){return t===e?"_index_":"_value_"}function Tw(t){if(t==="x"||t==="y"||t==="r")return t}function wO(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function x1(t,...e){if(Tw(t))return t;for(const n of e){const r=n.axis||wO(n.position)||t.length>1&&Tw(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Nw(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function _O(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return Nw(t,"x",n[0])||Nw(t,"y",n[0])}return{}}function SO(t,e){const n=Xa[t.type]||{scales:{}},r=e.scales||{},i=v1(t.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!Ft(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const u=x1(o,a,_O(o,t),bn.scales[a.type]),c=bO(u,i),h=n.scales||{};s[o]=Uc(Object.create(null),[{axis:u},a,h[u],h[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,u=o.indexAxis||v1(a,e),h=(Xa[a]||{}).scales||{};Object.keys(h).forEach(f=>{const g=xO(f,u),v=o[g+"AxisID"]||g;s[v]=s[v]||Object.create(null),Uc(s[v],[{axis:g},r[v],h[f]])})}),Object.keys(s).forEach(o=>{const a=s[o];Uc(a,[bn.scales[a.type],bn.scale])}),s}function i6(t){const e=t.options||(t.options={});e.plugins=xt(e.plugins,{}),e.scales=SO(t,e)}function s6(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function CO(t){return t=t||{},t.data=s6(t.data),i6(t),t}const Pw=new Map,o6=new Set;function rf(t,e){let n=Pw.get(t);return n||(n=e(),Pw.set(t,n),o6.add(n)),n}const Sc=(t,e,n)=>{const r=Ho(e,n);r!==void 0&&t.add(r)};class kO{constructor(e){this._config=CO(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=s6(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),i6(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return rf(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return rf(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return rf(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return rf(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const u=new Set;n.forEach(h=>{e&&(u.add(e),h.forEach(f=>Sc(u,e,f))),h.forEach(f=>Sc(u,i,f)),h.forEach(f=>Sc(u,Xa[s]||{},f)),h.forEach(f=>Sc(u,bn,f)),h.forEach(f=>Sc(u,g1,f))});const c=Array.from(u);return c.length===0&&c.push(Object.create(null)),o6.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Xa[n]||{},bn.datasets[n]||{},{type:n},bn,g1]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=Ow(this._resolverCache,e,i);let u=o;if(jO(o,n)){s.$shared=!1,r=Qo(r)?r():r;const c=this.createResolver(e,r,a);u=xu(o,r,c)}for(const c of n)s[c]=u[c];return s}createResolver(e,n,r=[""],i){const{resolver:s}=Ow(this._resolverCache,e,r);return Ft(n)?xu(s,n,void 0,i):s}}function Ow(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:Qy(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const EO=t=>Ft(t)&&Object.getOwnPropertyNames(t).some(e=>Qo(t[e]));function jO(t,e){const{isScriptable:n,isIndexable:r}=M_(t);for(const i of e){const s=n(i),o=r(i),a=(o||s)&&t[i];if(s&&(Qo(a)||EO(a))||o&&xn(a))return!0}return!1}var TO="4.5.0";const NO=["top","bottom","left","right","chartArea"];function Aw(t,e){return t==="top"||t==="bottom"||NO.indexOf(t)===-1&&e==="x"}function Lw(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function Rw(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),an(n&&n.onComplete,[t],e)}function PO(t){const e=t.chart,n=e.options.animation;an(n&&n.onProgress,[t],e)}function a6(t){return Wy()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const If={},Mw=t=>{const e=a6(t);return Object.values(If).filter(n=>n.canvas===e).pop()};function OO(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const o=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=o)}}}function AO(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}let ro=class{static defaults=bn;static instances=If;static overrides=Xa;static registry=hs;static version=TO;static getChart=Mw;static register(...e){hs.add(...e),Dw()}static unregister(...e){hs.remove(...e),Dw()}constructor(e,n){const r=this.config=new kO(n),i=a6(e),s=Mw(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||YP(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),u=a&&a.canvas,c=u&&u.height,h=u&&u.width;if(this.id=NT(),this.ctx=a,this.canvas=u,this.width=h,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new pO,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=qT(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],If[this.id]=this,!a||!u){console.error("Failed to create chart: can't acquire context from the given item");return}zs.listen(this,"complete",Rw),zs.listen(this,"progress",PO),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return It(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return hs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():iw(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return tw(this.canvas,this.ctx),this}stop(){return zs.stop(this),this}resize(e,n){zs.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,iw(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),an(r.onResize,[this,o],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Xt(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],u=x1(o,a),c=u==="r",h=u==="x";return{options:a,dposition:c?"chartArea":h?"bottom":"left",dtype:c?"radialLinear":h?"category":"linear"}}))),Xt(s,o=>{const a=o.options,u=a.id,c=x1(u,a),h=xt(a.type,o.dtype);(a.position===void 0||Aw(a.position,c)!==Aw(o.dposition))&&(a.position=o.dposition),i[u]=!0;let f=null;if(u in r&&r[u].type===h)f=r[u];else{const g=hs.getScale(h);f=new g({id:u,type:h,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(a,e)}),Xt(i,(o,a)=>{o||delete r[a]}),Xt(r,o=>{yr.configure(this,o,o.options),yr.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(Lw("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||v1(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const u=hs.getController(a),{datasetElementType:c,dataElementType:h}=bn.datasets[a];Object.assign(u,{dataElementType:hs.getElement(h),datasetElementType:c&&hs.getElement(c)}),o.controller=new u(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Xt(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,h=this.data.datasets.length;c<h;c++){const{controller:f}=this.getDatasetMeta(c),g=!i&&s.indexOf(f)===-1;f.buildOrUpdateElements(g),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||Xt(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Lw("z","_idx"));const{_active:a,_lastEvent:u}=this;u?this._eventHandler(u,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Xt(this.scales,e=>{yr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!qb(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;OO(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!qb(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;yr.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Xt(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Qo(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(zs.has(this)?this.attached&&!zs.running(this)&&zs.start(this):(this.draw(),Rw({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=q_(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&Op(n,i),e.controller.draw(),i&&Ap(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Gs(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=NP.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Go(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);od(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),zs.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),tw(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete If[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};Xt(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(u,c)=>{n.addEventListener(this,u,c),e[u]=c},i=(u,c)=>{e[u]&&(n.removeEventListener(this,u,c),delete e[u])},s=(u,c)=>{this.canvas&&this.resize(u,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Xt(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Xt(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,o,a,u;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,u=e.length;a<u;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!ep(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(u,c)=>u.filter(h=>!c.some(f=>h.datasetIndex===f.datasetIndex&&h.index===f.index)),o=s(n,e),a=r?e:s(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(e,i,r,o),u=MT(e),c=AO(e,this._lastEvent,r,u);r&&(this._lastEvent=null,an(s.onHover,[e,a,this],this),u&&an(s.onClick,[e,a,this],this));const h=!ep(a,i);return(h||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,h}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}};function Dw(){return Xt(ro.instances,t=>t._plugins.invalidate())}function LO(t,e,n){const{startAngle:r,x:i,y:s,outerRadius:o,innerRadius:a,options:u}=e,{borderWidth:c,borderJoinStyle:h}=u,f=Math.min(c/o,gr(r-n));if(t.beginPath(),t.arc(i,s,o-c/2,r+f/2,n-f/2),a>0){const g=Math.min(c/a,gr(r-n));t.arc(i,s,a+c/2,n-g/2,r+g/2,!0)}else{const g=Math.min(c/2,o*gr(r-n));if(h==="round")t.arc(i,s,g,n-qt/2,r+qt/2,!0);else if(h==="bevel"){const v=2*g*g,_=-v*Math.cos(n+qt/2)+i,S=-v*Math.sin(n+qt/2)+s,C=v*Math.cos(r+qt/2)+i,j=v*Math.sin(r+qt/2)+s;t.lineTo(_,S),t.lineTo(C,j)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function RO(t,e,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:u}=e;let c=i/a;t.beginPath(),t.arc(s,o,a,r-c,n+c),u>i?(c=i/u,t.arc(s,o,u,n+c,r-c,!0)):t.arc(s,o,i,n+On,r-On),t.closePath(),t.clip()}function MO(t){return Hy(t,["outerStart","outerEnd","innerStart","innerEnd"])}function DO(t,e,n,r){const i=MO(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,r*e/2),a=u=>{const c=(n-Math.min(s,u))*r/2;return tr(u,0,Math.min(s,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:tr(i.innerStart,0,o),innerEnd:tr(i.innerEnd,0,o)}}function Ql(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function op(t,e,n,r,i,s){const{x:o,y:a,startAngle:u,pixelMargin:c,innerRadius:h}=e,f=Math.max(e.outerRadius+r+n-c,0),g=h>0?h+r+n+c:0;let v=0;const _=i-u;if(r){const V=h>0?h-r:0,Z=f>0?f-r:0,re=(V+Z)/2,ne=re!==0?_*re/(re+r):_;v=(_-ne)/2}const S=Math.max(.001,_*f-n/qt)/f,C=(_-S)/2,j=u+C+v,R=i-C-v,{outerStart:A,outerEnd:F,innerStart:U,innerEnd:O}=DO(e,g,f,R-j),$=f-A,K=f-F,H=j+A/$,z=R-F/K,ue=g+U,de=g+O,pe=j+U/ue,q=R-O/de;if(t.beginPath(),s){const V=(H+z)/2;if(t.arc(o,a,f,H,V),t.arc(o,a,f,V,z),F>0){const me=Ql(K,z,o,a);t.arc(me.x,me.y,F,z,R+On)}const Z=Ql(de,R,o,a);if(t.lineTo(Z.x,Z.y),O>0){const me=Ql(de,q,o,a);t.arc(me.x,me.y,O,R+On,q+Math.PI)}const re=(R-O/g+(j+U/g))/2;if(t.arc(o,a,g,R-O/g,re,!0),t.arc(o,a,g,re,j+U/g,!0),U>0){const me=Ql(ue,pe,o,a);t.arc(me.x,me.y,U,pe+Math.PI,j-On)}const ne=Ql($,j,o,a);if(t.lineTo(ne.x,ne.y),A>0){const me=Ql($,H,o,a);t.arc(me.x,me.y,A,j-On,H)}}else{t.moveTo(o,a);const V=Math.cos(H)*f+o,Z=Math.sin(H)*f+a;t.lineTo(V,Z);const re=Math.cos(z)*f+o,ne=Math.sin(z)*f+a;t.lineTo(re,ne)}t.closePath()}function IO(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=e;let u=e.endAngle;if(s){op(t,e,n,r,u,i);for(let c=0;c<s;++c)t.fill();isNaN(a)||(u=o+(a%hn||hn))}return op(t,e,n,r,u,i),t.fill(),u}function FO(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:u}=e,{borderWidth:c,borderJoinStyle:h,borderDash:f,borderDashOffset:g,borderRadius:v}=u,_=u.borderAlign==="inner";if(!c)return;t.setLineDash(f||[]),t.lineDashOffset=g,_?(t.lineWidth=c*2,t.lineJoin=h||"round"):(t.lineWidth=c,t.lineJoin=h||"bevel");let S=e.endAngle;if(s){op(t,e,n,r,S,i);for(let C=0;C<s;++C)t.stroke();isNaN(a)||(S=o+(a%hn||hn))}_&&RO(t,e,S),u.selfJoin&&S-o>=qt&&v===0&&h!=="miter"&&LO(t,e,S),s||(op(t,e,n,r,S,i),t.stroke())}class Yy extends no{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,r){const i=this.getProps(["x","y"],r),{angle:s,distance:o}=k_(i,{x:e,y:n}),{startAngle:a,endAngle:u,innerRadius:c,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),g=(this.options.spacing+this.options.borderWidth)/2,v=xt(f,u-a),_=ad(s,a,u)&&a!==u,S=v>=hn||_,C=Ws(o,c+g,h+g);return S&&C}getCenterPoint(e){const{x:n,y:r,startAngle:i,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:u,spacing:c}=this.options,h=(i+s)/2,f=(o+a+c+u)/2;return{x:n+Math.cos(h)*f,y:r+Math.sin(h)*f}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:r}=this,i=(n.offset||0)/4,s=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>hn?Math.floor(r/hn):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*i,Math.sin(a)*i);const u=1-Math.sin(Math.min(qt,r||0)),c=i*u;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,IO(e,this,c,s,o),FO(e,this,c,s,o),e.restore()}}function l6(t,e,n=e){t.lineCap=xt(n.borderCapStyle,e.borderCapStyle),t.setLineDash(xt(n.borderDash,e.borderDash)),t.lineDashOffset=xt(n.borderDashOffset,e.borderDashOffset),t.lineJoin=xt(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=xt(n.borderWidth,e.borderWidth),t.strokeStyle=xt(n.borderColor,e.borderColor)}function BO(t,e,n){t.lineTo(n.x,n.y)}function zO(t){return t.stepped?iN:t.tension||t.cubicInterpolationMode==="monotone"?sN:BO}function u6(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=e,u=Math.max(i,o),c=Math.min(s,a),h=i<o&&s<o||i>a&&s>a;return{count:r,start:u,loop:e.loop,ilen:c<u&&!h?r+c-u:c-u}}function $O(t,e,n,r){const{points:i,options:s}=e,{count:o,start:a,loop:u,ilen:c}=u6(i,n,r),h=zO(s);let{move:f=!0,reverse:g}=r||{},v,_,S;for(v=0;v<=c;++v)_=i[(a+(g?c-v:v))%o],!_.skip&&(f?(t.moveTo(_.x,_.y),f=!1):h(t,S,_,g,s.stepped),S=_);return u&&(_=i[(a+(g?c:0))%o],h(t,S,_,g,s.stepped)),!!u}function UO(t,e,n,r){const i=e.points,{count:s,start:o,ilen:a}=u6(i,n,r),{move:u=!0,reverse:c}=r||{};let h=0,f=0,g,v,_,S,C,j;const R=F=>(o+(c?a-F:F))%s,A=()=>{S!==C&&(t.lineTo(h,C),t.lineTo(h,S),t.lineTo(h,j))};for(u&&(v=i[R(0)],t.moveTo(v.x,v.y)),g=0;g<=a;++g){if(v=i[R(g)],v.skip)continue;const F=v.x,U=v.y,O=F|0;O===_?(U<S?S=U:U>C&&(C=U),h=(f*h+F)/++f):(A(),t.lineTo(F,U),_=O,f=0,S=C=U),j=U}A()}function b1(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?UO:$O}function HO(t){return t.stepped?IN:t.tension||t.cubicInterpolationMode==="monotone"?FN:Da}function QO(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),l6(t,e.options),t.stroke(i)}function VO(t,e,n,r){const{segments:i,options:s}=e,o=b1(e);for(const a of i)l6(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const qO=typeof Path2D=="function";function WO(t,e,n,r){qO&&!e.options.segment?QO(t,e,n,r):VO(t,e,n,r)}class ju extends no{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;NN(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=QN(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],s=this.points,o=V_(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],u=HO(r);let c,h;for(c=0,h=o.length;c<h;++c){const{start:f,end:g}=o[c],v=s[f],_=s[g];if(v===_){a.push(v);continue}const S=Math.abs((i-v[n])/(_[n]-v[n])),C=u(v,_,S,r.stepped);C[n]=e[n],a.push(C)}return a.length===1?a[0]:a}pathSegment(e,n,r){return b1(this)(e,this,n,r)}path(e,n,r){const i=this.segments,s=b1(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)o&=s(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),WO(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Iw(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}class Xy extends no{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,r){const i=this.options,{x:s,y:o}=this.getProps(["x","y"],r);return Math.pow(e-s,2)+Math.pow(n-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,n){return Iw(this,e,"x",n)}inYRange(e,n){return Iw(this,e,"y",n)}getCenterPoint(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const r=n&&e.borderWidth||0;return(n+r)*2}draw(e,n){const r=this.options;this.skip||r.radius<.1||!Gs(this,n,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,y1(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function c6(t,e){const{x:n,y:r,base:i,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,u,c,h,f;return t.horizontal?(f=o/2,a=Math.min(n,i),u=Math.max(n,i),c=r-f,h=r+f):(f=s/2,a=n-f,u=n+f,c=Math.min(r,i),h=Math.max(r,i)),{left:a,top:c,right:u,bottom:h}}function Bo(t,e,n,r){return t?0:tr(e,n,r)}function KO(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,s=R_(r);return{t:Bo(i.top,s.top,0,n),r:Bo(i.right,s.right,0,e),b:Bo(i.bottom,s.bottom,0,n),l:Bo(i.left,s.left,0,e)}}function GO(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=Qa(i),o=Math.min(e,n),a=t.borderSkipped,u=r||Ft(i);return{topLeft:Bo(!u||a.top||a.left,s.topLeft,0,o),topRight:Bo(!u||a.top||a.right,s.topRight,0,o),bottomLeft:Bo(!u||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Bo(!u||a.bottom||a.right,s.bottomRight,0,o)}}function YO(t){const e=c6(t),n=e.right-e.left,r=e.bottom-e.top,i=KO(t,n/2,r/2),s=GO(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function u0(t,e,n,r){const i=e===null,s=n===null,a=t&&!(i&&s)&&c6(t,r);return a&&(i||Ws(e,a.left,a.right))&&(s||Ws(n,a.top,a.bottom))}function XO(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function JO(t,e){t.rect(e.x,e.y,e.w,e.h)}function c0(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-r,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+s,h:t.h+o,radius:t.radius}}class kd extends no{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=YO(this),a=XO(o.radius)?ld:JO;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,c0(o,n,s)),e.clip(),a(e,c0(s,-n,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,c0(s,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,r){return u0(this,e,n,r)}inXRange(e,n){return u0(this,e,null,n)}inYRange(e,n){return u0(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}var ZO=Object.freeze({__proto__:null,ArcElement:Yy,BarElement:kd,LineElement:ju,PointElement:Xy});const w1=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Fw=w1.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function d6(t){return w1[t%w1.length]}function h6(t){return Fw[t%Fw.length]}function eA(t,e){return t.borderColor=d6(e),t.backgroundColor=h6(e),++e}function tA(t,e){return t.backgroundColor=t.data.map(()=>d6(e++)),e}function nA(t,e){return t.backgroundColor=t.data.map(()=>h6(e++)),e}function rA(t){let e=0;return(n,r)=>{const i=t.getDatasetMeta(r).controller;i instanceof Rp?e=tA(n,e):i instanceof X_?e=nA(n,e):i&&(e=eA(n,e))}}function Bw(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function iA(t){return t&&(t.borderColor||t.backgroundColor)}function sA(){return bn.borderColor!=="rgba(0,0,0,0.1)"||bn.backgroundColor!=="rgba(0,0,0,0.1)"}var oA={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:r},options:i}=t.config,{elements:s}=i,o=Bw(r)||iA(i)||s&&Bw(s)||sA();if(!n.forceOverride&&o)return;const a=rA(t);r.forEach(a)}};function aA(t,e,n,r,i){const s=i.samples||r;if(s>=n)return t.slice(e,e+n);const o=[],a=(n-2)/(s-2);let u=0;const c=e+n-1;let h=e,f,g,v,_,S;for(o[u++]=t[h],f=0;f<s-2;f++){let C=0,j=0,R;const A=Math.floor((f+1)*a)+1+e,F=Math.min(Math.floor((f+2)*a)+1,n)+e,U=F-A;for(R=A;R<F;R++)C+=t[R].x,j+=t[R].y;C/=U,j/=U;const O=Math.floor(f*a)+1+e,$=Math.min(Math.floor((f+1)*a)+1,n)+e,{x:K,y:H}=t[h];for(v=_=-1,R=O;R<$;R++)_=.5*Math.abs((K-C)*(t[R].y-H)-(K-t[R].x)*(j-H)),_>v&&(v=_,g=t[R],S=R);o[u++]=g,h=S}return o[u++]=t[c],o}function lA(t,e,n,r){let i=0,s=0,o,a,u,c,h,f,g,v,_,S;const C=[],j=e+n-1,R=t[e].x,F=t[j].x-R;for(o=e;o<e+n;++o){a=t[o],u=(a.x-R)/F*r,c=a.y;const U=u|0;if(U===h)c<_?(_=c,f=o):c>S&&(S=c,g=o),i=(s*i+a.x)/++s;else{const O=o-1;if(!It(f)&&!It(g)){const $=Math.min(f,g),K=Math.max(f,g);$!==v&&$!==O&&C.push({...t[$],x:i}),K!==v&&K!==O&&C.push({...t[K],x:i})}o>0&&O!==v&&C.push(t[O]),C.push(a),h=U,s=0,_=S=c,f=g=v=o}}return C}function f6(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function zw(t){t.data.datasets.forEach(e=>{f6(e)})}function uA(t,e){const n=e.length;let r=0,i;const{iScale:s}=t,{min:o,max:a,minDefined:u,maxDefined:c}=s.getUserBounds();return u&&(r=tr(Ks(e,s.axis,o).lo,0,n-1)),c?i=tr(Ks(e,s.axis,a).hi+1,r,n)-r:i=n-r,{start:r,count:i}}var cA={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){zw(t);return}const r=t.width;t.data.datasets.forEach((i,s)=>{const{_data:o,indexAxis:a}=i,u=t.getDatasetMeta(s),c=o||i.data;if(Dc([a,t.options.indexAxis])==="y"||!u.controller.supportsDecimation)return;const h=t.scales[u.xAxisID];if(h.type!=="linear"&&h.type!=="time"||t.options.parsing)return;let{start:f,count:g}=uA(u,c);const v=n.threshold||4*r;if(g<=v){f6(i);return}It(o)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(S){this._data=S}}));let _;switch(n.algorithm){case"lttb":_=aA(c,f,g,r,n);break;case"min-max":_=lA(c,f,g,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}i._decimated=_})},destroy(t){zw(t)}};function dA(t,e,n){const r=t.segments,i=t.points,s=e.points,o=[];for(const a of r){let{start:u,end:c}=a;c=Dp(u,c,i);const h=_1(n,i[u],i[c],a.loop);if(!e.segments){o.push({source:a,target:h,start:i[u],end:i[c]});continue}const f=V_(e,h);for(const g of f){const v=_1(n,s[g.start],s[g.end],g.loop),_=Q_(a,i,v);for(const S of _)o.push({source:S,target:g,start:{[n]:$w(h,v,"start",Math.max)},end:{[n]:$w(h,v,"end",Math.min)}})}}return o}function _1(t,e,n,r){if(r)return;let i=e[t],s=n[t];return t==="angle"&&(i=gr(i),s=gr(s)),{property:t,start:i,end:s}}function hA(t,e){const{x:n=null,y:r=null}=t||{},i=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=Dp(o,a,i);const u=i[o],c=i[a];r!==null?(s.push({x:u.x,y:r}),s.push({x:c.x,y:r})):n!==null&&(s.push({x:n,y:u.y}),s.push({x:n,y:c.y}))}),s}function Dp(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function $w(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function p6(t,e){let n=[],r=!1;return xn(t)?(r=!0,n=t):n=hA(t,e),n.length?new ju({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function Uw(t){return t&&t.fill!==!1}function fA(t,e,n){let i=t[e].fill;const s=[e];let o;if(!n)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!kn(i))return i;if(o=t[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function pA(t,e,n){const r=vA(t);if(Ft(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return kn(i)&&Math.floor(i)===i?mA(r[0],e,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function mA(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function gA(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:Ft(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function yA(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:Ft(t)?r=t.value:r=e.getBaseValue(),r}function vA(t){const e=t.options,n=e.fill;let r=xt(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function xA(t){const{scale:e,index:n,line:r}=t,i=[],s=r.segments,o=r.points,a=bA(e,n);a.push(p6({x:null,y:e.bottom},r));for(let u=0;u<s.length;u++){const c=s[u];for(let h=c.start;h<=c.end;h++)wA(i,o[h],a)}return new ju({points:i,options:{}})}function bA(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function wA(t,e,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:o,last:a,point:u}=_A(s,e,"x");if(!(!u||o&&a)){if(o)r.unshift(u);else if(t.push(u),!a)break}}t.push(...r)}function _A(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const i=r[n],s=t.segments,o=t.points;let a=!1,u=!1;for(let c=0;c<s.length;c++){const h=s[c],f=o[h.start][n],g=o[h.end][n];if(Ws(i,f,g)){a=i===f,u=i===g;break}}return{first:a,last:u,point:r}}class m6{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:i,y:s,radius:o}=this;return n=n||{start:0,end:hn},e.arc(i,s,o,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:i}=this,s=e.angle;return{x:n+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function SA(t){const{chart:e,fill:n,line:r}=t;if(kn(n))return CA(e,n);if(n==="stack")return xA(t);if(n==="shape")return!0;const i=kA(t);return i instanceof m6?i:p6(i,r)}function CA(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function kA(t){return(t.scale||{}).getPointPositionForValue?jA(t):EA(t)}function EA(t){const{scale:e={},fill:n}=t,r=gA(n,e);if(kn(r)){const i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function jA(t){const{scale:e,fill:n}=t,r=e.options,i=e.getLabels().length,s=r.reverse?e.max:e.min,o=yA(n,e,s),a=[];if(r.grid.circular){const u=e.getPointPositionForValue(0,s);return new m6({x:u.x,y:u.y,radius:e.getDistanceFromCenterForValue(o)})}for(let u=0;u<i;++u)a.push(e.getPointPositionForValue(u,o));return a}function d0(t,e,n){const r=SA(e),{chart:i,index:s,line:o,scale:a,axis:u}=e,c=o.options,h=c.fill,f=c.backgroundColor,{above:g=f,below:v=f}=h||{},_=i.getDatasetMeta(s),S=q_(i,_);r&&o.points.length&&(Op(t,n),TA(t,{line:o,target:r,above:g,below:v,area:n,scale:a,axis:u,clip:S}),Ap(t))}function TA(t,e){const{line:n,target:r,above:i,below:s,area:o,scale:a,clip:u}=e,c=n._loop?"angle":e.axis;t.save();let h=s;s!==i&&(c==="x"?(Hw(t,r,o.top),h0(t,{line:n,target:r,color:i,scale:a,property:c,clip:u}),t.restore(),t.save(),Hw(t,r,o.bottom)):c==="y"&&(Qw(t,r,o.left),h0(t,{line:n,target:r,color:s,scale:a,property:c,clip:u}),t.restore(),t.save(),Qw(t,r,o.right),h=i)),h0(t,{line:n,target:r,color:h,scale:a,property:c,clip:u}),t.restore()}function Hw(t,e,n){const{segments:r,points:i}=e;let s=!0,o=!1;t.beginPath();for(const a of r){const{start:u,end:c}=a,h=i[u],f=i[Dp(u,c,i)];s?(t.moveTo(h.x,h.y),s=!1):(t.lineTo(h.x,n),t.lineTo(h.x,h.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(f.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function Qw(t,e,n){const{segments:r,points:i}=e;let s=!0,o=!1;t.beginPath();for(const a of r){const{start:u,end:c}=a,h=i[u],f=i[Dp(u,c,i)];s?(t.moveTo(h.x,h.y),s=!1):(t.lineTo(n,h.y),t.lineTo(h.x,h.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(n,f.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function h0(t,e){const{line:n,target:r,property:i,color:s,scale:o,clip:a}=e,u=dA(n,r,i);for(const{source:c,target:h,start:f,end:g}of u){const{style:{backgroundColor:v=s}={}}=c,_=r!==!0;t.save(),t.fillStyle=v,NA(t,o,a,_&&_1(i,f,g)),t.beginPath();const S=!!n.pathSegment(t,c);let C;if(_){S?t.closePath():Vw(t,r,g,i);const j=!!r.pathSegment(t,h,{move:S,reverse:!0});C=S&&j,C||Vw(t,r,f,i)}t.closePath(),t.fill(C?"evenodd":"nonzero"),t.restore()}}function NA(t,e,n,r){const i=e.chart.chartArea,{property:s,start:o,end:a}=r||{};if(s==="x"||s==="y"){let u,c,h,f;s==="x"?(u=o,c=i.top,h=a,f=i.bottom):(u=i.left,c=o,h=i.right,f=a),t.beginPath(),n&&(u=Math.max(u,n.left),h=Math.min(h,n.right),c=Math.max(c,n.top),f=Math.min(f,n.bottom)),t.rect(u,c,h-u,f-c),t.clip()}}function Vw(t,e,n,r){const i=e.interpolate(n,r);i&&t.lineTo(i.x,i.y)}var g6={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,i=[];let s,o,a,u;for(o=0;o<r;++o)s=t.getDatasetMeta(o),a=s.dataset,u=null,a&&a.options&&a instanceof ju&&(u={visible:t.isDatasetVisible(o),index:o,fill:pA(a,o,r),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=u,i.push(u);for(o=0;o<r;++o)u=i[o],!(!u||u.fill===!1)&&(u.fill=fA(i,o,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),r&&a.fill&&d0(t.ctx,a,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;Uw(s)&&d0(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!Uw(r)||n.drawTime!=="beforeDatasetDraw"||d0(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const qw=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},PA=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Ww extends no{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=an(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=qn(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:u}=qw(r,s);let c,h;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,h=this._fitRows(o,s,a,u)+10):(h=this.maxHeight,c=this._fitCols(o,i,a,u)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,u=this.legendHitBoxes=[],c=this.lineWidths=[0],h=i+a;let f=e;s.textAlign="left",s.textBaseline="middle";let g=-1,v=-h;return this.legendItems.forEach((_,S)=>{const C=r+n/2+s.measureText(_.text).width;(S===0||c[c.length-1]+C+2*a>o)&&(f+=h,c[c.length-(S>0?0:1)]=0,v+=h,g++),u[S]={left:0,top:v,row:g,width:C,height:i},c[c.length-1]+=C+a}),f}_fitCols(e,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,u=this.legendHitBoxes=[],c=this.columnSizes=[],h=o-e;let f=a,g=0,v=0,_=0,S=0;return this.legendItems.forEach((C,j)=>{const{itemWidth:R,itemHeight:A}=OA(r,n,s,C,i);j>0&&v+A+2*a>h&&(f+=g+a,c.push({width:g,height:v}),_+=g+a,S++,g=v=0),u[j]={left:_,top:v,col:S,width:R,height:A},g=Math.max(g,R),v+=A+a}),f+=g,c.push({width:g,height:v}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=mu(s,this.left,this.width);if(this.isHorizontal()){let a=0,u=mr(r,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,u=mr(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(u),c.width),u+=c.width+i}else{let a=0,u=mr(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,u=mr(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=u,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),u+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Op(e,this),this._draw(),Ap(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=bn.color,u=mu(e.rtl,this.left,this.width),c=qn(o.font),{padding:h}=o,f=c.size,g=f/2;let v;this.drawTitle(),i.textAlign=u.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:_,boxHeight:S,itemHeight:C}=qw(o,f),j=function(O,$,K){if(isNaN(_)||_<=0||isNaN(S)||S<0)return;i.save();const H=xt(K.lineWidth,1);if(i.fillStyle=xt(K.fillStyle,a),i.lineCap=xt(K.lineCap,"butt"),i.lineDashOffset=xt(K.lineDashOffset,0),i.lineJoin=xt(K.lineJoin,"miter"),i.lineWidth=H,i.strokeStyle=xt(K.strokeStyle,a),i.setLineDash(xt(K.lineDash,[])),o.usePointStyle){const z={radius:S*Math.SQRT2/2,pointStyle:K.pointStyle,rotation:K.rotation,borderWidth:H},ue=u.xPlus(O,_/2),de=$+g;L_(i,z,ue,de,o.pointStyleWidth&&_)}else{const z=$+Math.max((f-S)/2,0),ue=u.leftForLtr(O,_),de=Qa(K.borderRadius);i.beginPath(),Object.values(de).some(pe=>pe!==0)?ld(i,{x:ue,y:z,w:_,h:S,radius:de}):i.rect(ue,z,_,S),i.fill(),H!==0&&i.stroke()}i.restore()},R=function(O,$,K){Ja(i,K.text,O,$+C/2,c,{strikethrough:K.hidden,textAlign:u.textAlign(K.textAlign)})},A=this.isHorizontal(),F=this._computeTitleHeight();A?v={x:mr(s,this.left+h,this.right-r[0]),y:this.top+h+F,line:0}:v={x:this.left+h,y:mr(s,this.top+F+h,this.bottom-n[0].height),line:0},$_(this.ctx,e.textDirection);const U=C+h;this.legendItems.forEach((O,$)=>{i.strokeStyle=O.fontColor,i.fillStyle=O.fontColor;const K=i.measureText(O.text).width,H=u.textAlign(O.textAlign||(O.textAlign=o.textAlign)),z=_+g+K;let ue=v.x,de=v.y;u.setWidth(this.width),A?$>0&&ue+z+h>this.right&&(de=v.y+=U,v.line++,ue=v.x=mr(s,this.left+h,this.right-r[v.line])):$>0&&de+U>this.bottom&&(ue=v.x=ue+n[v.line].width+h,v.line++,de=v.y=mr(s,this.top+F+h,this.bottom-n[v.line].height));const pe=u.x(ue);if(j(pe,de,O),ue=WT(H,ue+_+g,A?ue+z:this.right,e.rtl),R(u.x(ue),de,O),A)v.x+=z+h;else if(typeof O.text!="string"){const q=c.lineHeight;v.y+=y6(O,q)+h}else v.y+=U}),U_(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=qn(n.font),i=xr(n.padding);if(!n.display)return;const s=mu(e.rtl,this.left,this.width),o=this.ctx,a=n.position,u=r.size/2,c=i.top+u;let h,f=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),h=this.top+c,f=mr(e.align,f,this.right-g);else{const _=this.columnSizes.reduce((S,C)=>Math.max(S,C.height),0);h=c+mr(e.align,this.top,this.bottom-_-e.labels.padding-this._computeTitleHeight())}const v=mr(a,f,f+g);o.textAlign=s.textAlign($y(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,Ja(o,n.text,v,h,r)}_computeTitleHeight(){const e=this.options.title,n=qn(e.font),r=xr(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(Ws(e,this.left,this.right)&&Ws(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],Ws(e,i.left,i.left+i.width)&&Ws(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!RA(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=PA(i,r);i&&!s&&an(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&an(n.onHover,[e,r,this],this)}else r&&an(n.onClick,[e,r,this],this)}}function OA(t,e,n,r,i){const s=AA(r,t,e,n),o=LA(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function AA(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+r.measureText(i).width}function LA(t,e,n){let r=t;return typeof e.text!="string"&&(r=y6(e,n)),r}function y6(t,e){const n=t.text?t.text.length:0;return e*n}function RA(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Tu={id:"legend",_element:Ww,start(t,e,n){const r=t.legend=new Ww({ctx:t.ctx,options:n,chart:t});yr.configure(t,r,n),yr.addBox(t,r)},stop(t){yr.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;yr.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(u=>{const c=u.controller.getStyle(n?0:void 0),h=xr(c.borderWidth);return{text:e[u.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!u.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:u.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Jy extends no{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=xn(r.text)?r.text.length:1;this._padding=xr(r.padding);const s=i*qn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let u=0,c,h,f;return this.isHorizontal()?(h=mr(a,r,s),f=n+e,c=s-r):(o.position==="left"?(h=r+e,f=mr(a,i,n),u=qt*-.5):(h=s-e,f=mr(a,n,i),u=qt*.5),c=i-n),{titleX:h,titleY:f,maxWidth:c,rotation:u}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=qn(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:u,rotation:c}=this._drawArgs(s);Ja(e,n.text,0,0,r,{color:n.color,maxWidth:u,rotation:c,textAlign:$y(n.align),textBaseline:"middle",translation:[o,a]})}}function MA(t,e){const n=new Jy({ctx:t.ctx,options:e,chart:t});yr.configure(t,n,e),yr.addBox(t,n),t.titleBlock=n}var v6={id:"title",_element:Jy,start(t,e,n){MA(t,n)},stop(t){const e=t.titleBlock;yr.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;yr.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const sf=new WeakMap;var DA={id:"subtitle",start(t,e,n){const r=new Jy({ctx:t.ctx,options:n,chart:t});yr.configure(t,r,n),yr.addBox(t,r),sf.set(t,r)},stop(t){yr.removeBox(t,sf.get(t)),sf.delete(t)},beforeUpdate(t,e,n){const r=sf.get(t);yr.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Fc={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const u=a.tooltipPosition();r.add(u.x),i+=u.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,u)=>a+u)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const u=t[s].element;if(u&&u.hasValue()){const c=u.getCenterPoint(),h=m1(e,c);h<i&&(i=h,a=u)}}if(a){const u=a.tooltipPosition();n=u.x,r=u.y}return{x:n,y:r}}};function ds(t,e){return e&&(xn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function $s(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function IA(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function Kw(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,u=qn(e.bodyFont),c=qn(e.titleFont),h=qn(e.footerFont),f=s.length,g=i.length,v=r.length,_=xr(e.padding);let S=_.height,C=0,j=r.reduce((F,U)=>F+U.before.length+U.lines.length+U.after.length,0);if(j+=t.beforeBody.length+t.afterBody.length,f&&(S+=f*c.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),j){const F=e.displayColors?Math.max(a,u.lineHeight):u.lineHeight;S+=v*F+(j-v)*u.lineHeight+(j-1)*e.bodySpacing}g&&(S+=e.footerMarginTop+g*h.lineHeight+(g-1)*e.footerSpacing);let R=0;const A=function(F){C=Math.max(C,n.measureText(F).width+R)};return n.save(),n.font=c.string,Xt(t.title,A),n.font=u.string,Xt(t.beforeBody.concat(t.afterBody),A),R=e.displayColors?o+2+e.boxPadding:0,Xt(r,F=>{Xt(F.before,A),Xt(F.lines,A),Xt(F.after,A)}),R=0,n.font=h.string,Xt(t.footer,A),n.restore(),C+=_.width,{width:C,height:S}}function FA(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function BA(t,e,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&i+s+o>e.width||t==="right"&&i-s-o<0)return!0}function zA(t,e,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:u}}=t;let c="center";return r==="center"?c=i<=(a+u)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),BA(c,t,e,n)&&(c="center"),c}function Gw(t,e,n){const r=n.yAlign||e.yAlign||FA(t,n);return{xAlign:n.xAlign||e.xAlign||zA(t,e,n,r),yAlign:r}}function $A(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function UA(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function Yw(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:u}=n,c=i+s,{topLeft:h,topRight:f,bottomLeft:g,bottomRight:v}=Qa(o);let _=$A(e,a);const S=UA(e,u,c);return u==="center"?a==="left"?_+=c:a==="right"&&(_-=c):a==="left"?_-=Math.max(h,g)+i:a==="right"&&(_+=Math.max(f,v)+i),{x:tr(_,0,r.width-e.width),y:tr(S,0,r.height-e.height)}}function of(t,e,n){const r=xr(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function Xw(t){return ds([],$s(t))}function HA(t,e,n){return Go(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Jw(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const x6={beforeTitle:Bs,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Bs,beforeBody:Bs,beforeLabel:Bs,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return It(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Bs,afterBody:Bs,beforeFooter:Bs,footer:Bs,afterFooter:Bs};function $r(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?x6[e].call(n,r):i}let Zw=class extends no{static positioners=Fc;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new W_(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=HA(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=$r(r,"beforeTitle",this,e),s=$r(r,"title",this,e),o=$r(r,"afterTitle",this,e);let a=[];return a=ds(a,$s(i)),a=ds(a,$s(s)),a=ds(a,$s(o)),a}getBeforeBody(e,n){return Xw($r(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return Xt(e,s=>{const o={before:[],lines:[],after:[]},a=Jw(r,s);ds(o.before,$s($r(a,"beforeLabel",this,s))),ds(o.lines,$r(a,"label",this,s)),ds(o.after,$s($r(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,n){return Xw($r(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=$r(r,"beforeFooter",this,e),s=$r(r,"footer",this,e),o=$r(r,"afterFooter",this,e);let a=[];return a=ds(a,$s(i)),a=ds(a,$s(s)),a=ds(a,$s(o)),a}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],u,c;for(u=0,c=n.length;u<c;++u)a.push(IA(this.chart,n[u]));return e.filter&&(a=a.filter((h,f,g)=>e.filter(h,f,g,r))),e.itemSort&&(a=a.sort((h,f)=>e.itemSort(h,f,r))),Xt(a,h=>{const f=Jw(e.callbacks,h);i.push($r(f,"labelColor",this,h)),s.push($r(f,"labelPointStyle",this,h)),o.push($r(f,"labelTextColor",this,h))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=Fc[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const u=this._size=Kw(this,r),c=Object.assign({},a,u),h=Gw(this.chart,r,c),f=Yw(r,c,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,s={opacity:1,x:f.x,y:f.y,width:u.width,height:u.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:u,topRight:c,bottomLeft:h,bottomRight:f}=Qa(a),{x:g,y:v}=e,{width:_,height:S}=n;let C,j,R,A,F,U;return s==="center"?(F=v+S/2,i==="left"?(C=g,j=C-o,A=F+o,U=F-o):(C=g+_,j=C+o,A=F-o,U=F+o),R=C):(i==="left"?j=g+Math.max(u,h)+o:i==="right"?j=g+_-Math.max(c,f)-o:j=this.caretX,s==="top"?(A=v,F=A-o,C=j-o,R=j+o):(A=v+S,F=A+o,C=j+o,R=j-o),U=A),{x1:C,x2:j,x3:R,y1:A,y2:F,y3:U}}drawTitle(e,n,r){const i=this.title,s=i.length;let o,a,u;if(s){const c=mu(r.rtl,this.x,this.width);for(e.x=of(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=qn(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,u=0;u<s;++u)n.fillText(i[u],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,u+1===s&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:u,boxWidth:c}=s,h=qn(s.bodyFont),f=of(this,"left",s),g=i.x(f),v=u<h.lineHeight?(h.lineHeight-u)/2:0,_=n.y+v;if(s.usePointStyle){const S={radius:Math.min(c,u)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},C=i.leftForLtr(g,c)+c/2,j=_+u/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,y1(e,S,C,j),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,y1(e,S,C,j)}else{e.lineWidth=Ft(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const S=i.leftForLtr(g,c),C=i.leftForLtr(i.xPlus(g,1),c-2),j=Qa(o.borderRadius);Object.values(j).some(R=>R!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,ld(e,{x:S,y:_,w:c,h:u,radius:j}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),ld(e,{x:C,y:_+1,w:c-2,h:u-2,radius:j}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(S,_,c,u),e.strokeRect(S,_,c,u),e.fillStyle=o.backgroundColor,e.fillRect(C,_+1,c-2,u-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:u,boxWidth:c,boxPadding:h}=r,f=qn(r.bodyFont);let g=f.lineHeight,v=0;const _=mu(r.rtl,this.x,this.width),S=function(K){n.fillText(K,_.x(e.x+v),e.y+g/2),e.y+=g+s},C=_.textAlign(o);let j,R,A,F,U,O,$;for(n.textAlign=o,n.textBaseline="middle",n.font=f.string,e.x=of(this,C,r),n.fillStyle=r.bodyColor,Xt(this.beforeBody,S),v=a&&C!=="right"?o==="center"?c/2+h:c+2+h:0,F=0,O=i.length;F<O;++F){for(j=i[F],R=this.labelTextColors[F],n.fillStyle=R,Xt(j.before,S),A=j.lines,a&&A.length&&(this._drawColorBox(n,e,F,_,r),g=Math.max(f.lineHeight,u)),U=0,$=A.length;U<$;++U)S(A[U]),g=f.lineHeight;Xt(j.after,S)}v=0,g=f.lineHeight,Xt(this.afterBody,S),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let o,a;if(s){const u=mu(r.rtl,this.x,this.width);for(e.x=of(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=u.textAlign(r.footerAlign),n.textBaseline="middle",o=qn(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:u}=e,{width:c,height:h}=r,{topLeft:f,topRight:g,bottomLeft:v,bottomRight:_}=Qa(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+f,u),o==="top"&&this.drawCaret(e,n,r,i),n.lineTo(a+c-g,u),n.quadraticCurveTo(a+c,u,a+c,u+g),o==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(a+c,u+h-_),n.quadraticCurveTo(a+c,u+h,a+c-_,u+h),o==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(a+v,u+h),n.quadraticCurveTo(a,u+h,a,u+h-v),o==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(a,u+f),n.quadraticCurveTo(a,u,a+f,u),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=Fc[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Kw(this,e),u=Object.assign({},o,this._size),c=Gw(n,e,u),h=Yw(e,u,c,n);(i._to!==h.x||s._to!==h.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=xr(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),$_(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),U_(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:a,index:u})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[u],index:u}}),s=!ep(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,r),a=this._positionChanged(o,e),u=n||!ep(o,s)||a;return u&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),u}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,o=Fc[s.position].call(this,e,n);return o!==!1&&(r!==o.x||i!==o.y)}};var Nu={id:"tooltip",_element:Zw,positioners:Fc,afterInit(t,e,n){n&&(t.tooltip=new Zw({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:x6},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},QA=Object.freeze({__proto__:null,Colors:oA,Decimation:cA,Filler:g6,Legend:Tu,SubTitle:DA,Title:v6,Tooltip:Nu});const VA=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function qA(t,e,n,r){const i=t.indexOf(e);if(i===-1)return VA(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const WA=(t,e)=>t===null?null:tr(Math.round(t),0,e);function e3(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Ed extends nl{static id="category";static defaults={ticks:{callback:e3}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(It(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:qA(r,e,xt(n,e),this._addedLabels),WA(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return e3.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function KA(t,e){const n=[],{bounds:i,step:s,min:o,max:a,precision:u,count:c,maxTicks:h,maxDigits:f,includeBounds:g}=t,v=s||1,_=h-1,{min:S,max:C}=e,j=!It(o),R=!It(a),A=!It(c),F=(C-S)/(f+1);let U=Kb((C-S)/_/v)*v,O,$,K,H;if(U<1e-14&&!j&&!R)return[{value:S},{value:C}];H=Math.ceil(C/U)-Math.floor(S/U),H>_&&(U=Kb(H*U/_/v)*v),It(u)||(O=Math.pow(10,u),U=Math.ceil(U*O)/O),i==="ticks"?($=Math.floor(S/U)*U,K=Math.ceil(C/U)*U):($=S,K=C),j&&R&&s&&zT((a-o)/s,U/1e3)?(H=Math.round(Math.min((a-o)/U,h)),U=(a-o)/H,$=o,K=a):A?($=j?o:$,K=R?a:K,H=c-1,U=(K-$)/H):(H=(K-$)/U,Hc(H,Math.round(H),U/1e3)?H=Math.round(H):H=Math.ceil(H));const z=Math.max(Gb(U),Gb($));O=Math.pow(10,It(u)?z:u),$=Math.round($*O)/O,K=Math.round(K*O)/O;let ue=0;for(j&&(g&&$!==o?(n.push({value:o}),$<o&&ue++,Hc(Math.round(($+ue*U)*O)/O,o,t3(o,F,t))&&ue++):$<o&&ue++);ue<H;++ue){const de=Math.round(($+ue*U)*O)/O;if(R&&de>a)break;n.push({value:de})}return R&&g&&K!==a?n.length&&Hc(n[n.length-1].value,a,t3(a,F,t))?n[n.length-1].value=a:n.push({value:a}):(!R||K===a)&&n.push({value:K}),n}function t3(t,e,{horizontal:n,minRotation:r}){const i=Gi(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class ap extends nl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return It(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=u=>i=n?i:u,a=u=>s=r?s:u;if(e){const u=ms(i),c=ms(s);u<0&&c<0?a(0):u>0&&c>0&&o(0)}if(i===s){let u=s===0?1:Math.abs(s*.05);a(s+u),e||o(i-u)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=KA(i,s);return e.bounds==="ticks"&&C_(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return Cd(e,this.chart.options.locale,this.options.ticks.format)}}class jd extends ap{static id="linear";static defaults={ticks:{callback:Pp.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=kn(e)?e:0,this.max=kn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=Gi(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const cd=t=>Math.floor(Fo(t)),Na=(t,e)=>Math.pow(10,cd(t)+e);function n3(t){return t/Math.pow(10,cd(t))===1}function r3(t,e,n){const r=Math.pow(10,n),i=Math.floor(t/r);return Math.ceil(e/r)-i}function GA(t,e){const n=e-t;let r=cd(n);for(;r3(t,e,r)>10;)r++;for(;r3(t,e,r)<10;)r--;return Math.min(r,cd(t))}function YA(t,{min:e,max:n}){e=ai(t.min,e);const r=[],i=cd(e);let s=GA(e,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),u=i>s?Math.pow(10,i):0,c=Math.round((e-u)*o)/o,h=Math.floor((e-u)/a/10)*a*10;let f=Math.floor((c-h)/Math.pow(10,s)),g=ai(t.min,Math.round((u+h+f*Math.pow(10,s))*o)/o);for(;g<n;)r.push({value:g,major:n3(g),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(s++,f=2,o=s>=0?1:o),g=Math.round((u+h+f*Math.pow(10,s))*o)/o;const v=ai(t.max,g);return r.push({value:v,major:n3(v),significand:f}),r}class XA extends nl{static id="logarithmic";static defaults={ticks:{callback:Pp.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const r=ap.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return kn(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=kn(e)?Math.max(0,e):null,this.max=kn(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!kn(this._userMin)&&(this.min=e===Na(this.min,0)?Na(this.min,-1):Na(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let r=this.min,i=this.max;const s=a=>r=e?r:a,o=a=>i=n?i:a;r===i&&(r<=0?(s(1),o(10)):(s(Na(r,-1)),o(Na(i,1)))),r<=0&&s(Na(i,-1)),i<=0&&o(Na(r,1)),this.min=r,this.max=i}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},r=YA(n,this);return e.bounds==="ticks"&&C_(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":Cd(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Fo(e),this._valueRange=Fo(this.max)-Fo(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Fo(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}function S1(t){const e=t.ticks;if(e.display&&t.display){const n=xr(e.backdropPadding);return xt(e.font&&e.font.size,bn.font.size)+n.height}return 0}function JA(t,e,n){return n=xn(n)?n:[n],{w:rN(t,e.string,n),h:n.length*e.lineHeight}}function i3(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function ZA(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],i=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?qt/s:0;for(let u=0;u<s;u++){const c=o.setContext(t.getPointLabelContext(u));i[u]=c.padding;const h=t.getPointPosition(u,t.drawingArea+i[u],a),f=qn(c.font),g=JA(t.ctx,f,t._pointLabels[u]);r[u]=g;const v=gr(t.getIndexAngle(u)+a),_=Math.round(By(v)),S=i3(_,h.x,g.w,0,180),C=i3(_,h.y,g.h,90,270);eL(n,e,v,S,C)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=rL(t,r,i)}function eL(t,e,n,r,i){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,u=0;r.start<e.l?(a=(e.l-r.start)/s,t.l=Math.min(t.l,e.l-a)):r.end>e.r&&(a=(r.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(u=(e.t-i.start)/o,t.t=Math.min(t.t,e.t-u)):i.end>e.b&&(u=(i.end-e.b)/o,t.b=Math.max(t.b,e.b+u))}function tL(t,e,n){const r=t.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=n,u=t.getPointPosition(e,r+i+o,s),c=Math.round(By(gr(u.angle+On))),h=oL(u.y,a.h,c),f=iL(c),g=sL(u.x,a.w,f);return{visible:!0,x:u.x,y:h,textAlign:f,left:g,top:h,right:g+a.w,bottom:h+a.h}}function nL(t,e){if(!e)return!0;const{left:n,top:r,right:i,bottom:s}=t;return!(Gs({x:n,y:r},e)||Gs({x:n,y:s},e)||Gs({x:i,y:r},e)||Gs({x:i,y:s},e))}function rL(t,e,n){const r=[],i=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,u={extra:S1(s)/2,additionalAngle:o?qt/i:0};let c;for(let h=0;h<i;h++){u.padding=n[h],u.size=e[h];const f=tL(t,h,u);r.push(f),a==="auto"&&(f.visible=nL(f,c),f.visible&&(c=f))}return r}function iL(t){return t===0||t===180?"center":t<180?"left":"right"}function sL(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function oL(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function aL(t,e,n){const{left:r,top:i,right:s,bottom:o}=n,{backdropColor:a}=e;if(!It(a)){const u=Qa(e.borderRadius),c=xr(e.backdropPadding);t.fillStyle=a;const h=r-c.left,f=i-c.top,g=s-r+c.width,v=o-i+c.height;Object.values(u).some(_=>_!==0)?(t.beginPath(),ld(t,{x:h,y:f,w:g,h:v,radius:u}),t.fill()):t.fillRect(h,f,g,v)}}function lL(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let i=e-1;i>=0;i--){const s=t._pointLabelItems[i];if(!s.visible)continue;const o=r.setContext(t.getPointLabelContext(i));aL(n,o,s);const a=qn(o.font),{x:u,y:c,textAlign:h}=s;Ja(n,t._pointLabels[i],u,c+a.lineHeight/2,a,{color:o.color,textAlign:h,textBaseline:"middle"})}}function b6(t,e,n,r){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,hn);else{let s=t.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let o=1;o<r;o++)s=t.getPointPosition(o,e),i.lineTo(s.x,s.y)}}function uL(t,e,n,r,i){const s=t.ctx,o=e.circular,{color:a,lineWidth:u}=e;!o&&!r||!a||!u||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=u,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),b6(t,n,o,r),s.closePath(),s.stroke(),s.restore())}function cL(t,e,n){return Go(t,{label:n,index:e,type:"pointLabel"})}class w6 extends ap{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Pp.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=xr(S1(this.options)/2),n=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=kn(e)&&!isNaN(e)?e:0,this.max=kn(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/S1(this.options))}generateTickLabels(e){ap.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,r)=>{const i=an(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?ZA(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,r,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,r,i))}getIndexAngle(e){const n=hn/(this._pointLabels.length||1),r=this.options.startAngle||0;return gr(e*n+Gi(r))}getDistanceFromCenterForValue(e){if(It(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(It(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const r=n[e];return cL(this.getContext(),e,r)}}getPointPosition(e,n,r=0){const i=this.getIndexAngle(e)-On+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:r,right:i,bottom:s}=this._pointLabelItems[e];return{left:n,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),b6(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:r,grid:i,border:s}=n,o=this._pointLabels.length;let a,u,c;if(n.pointLabels.display&&lL(this,o),i.display&&this.ticks.forEach((h,f)=>{if(f!==0||f===0&&this.min<0){u=this.getDistanceFromCenterForValue(h.value);const g=this.getContext(f),v=i.setContext(g),_=s.setContext(g);uL(this,v,u,o,_)}}),r.display){for(e.save(),a=o-1;a>=0;a--){const h=r.setContext(this.getPointLabelContext(a)),{color:f,lineWidth:g}=h;!g||!f||(e.lineWidth=g,e.strokeStyle=f,e.setLineDash(h.borderDash),e.lineDashOffset=h.borderDashOffset,u=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(a,u),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,u)=>{if(u===0&&this.min>=0&&!n.reverse)return;const c=r.setContext(this.getContext(u)),h=qn(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[u].value),c.showLabelBackdrop){e.font=h.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const f=xr(c.backdropPadding);e.fillRect(-o/2-f.left,-s-h.size/2-f.top,o+f.width,h.size+f.height)}Ja(e,a.label,0,-s,h,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}const Ip={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Wr=Object.keys(Ip);function s3(t,e){return t-e}function o3(t,e){if(It(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),kn(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(Ya(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function a3(t,e,n,r){const i=Wr.length;for(let s=Wr.indexOf(t);s<i-1;++s){const o=Ip[Wr[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return Wr[s]}return Wr[i-1]}function dL(t,e,n,r,i){for(let s=Wr.length-1;s>=Wr.indexOf(n);s--){const o=Wr[s];if(Ip[o].common&&t._adapter.diff(i,r,o)>=e-1)return o}return Wr[n?Wr.indexOf(n):0]}function hL(t){for(let e=Wr.indexOf(t)+1,n=Wr.length;e<n;++e)if(Ip[Wr[e]].common)return Wr[e]}function l3(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=zy(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function fL(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,u;for(a=s;a<=o;a=+i.add(a,1,r))u=n[a],u>=0&&(e[u].major=!0);return e}function u3(t,e,n){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:fL(t,r,i,n)}class C1 extends nl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new CP._date(e.adapters.date);i.init(n),Uc(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:o3(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function u(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),i=kn(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=kn(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=QT(i,s,o);return this._unit=n.unit||(r.autoSkip?a3(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):dL(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:hL(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),u3(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=tr(n,0,o),r=tr(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||a3(s.minUnit,n,r,this._getLabelCapacity(n)),a=xt(i.ticks.stepSize,1),u=o==="week"?s.isoWeekday:!1,c=Ya(u)||u===!0,h={};let f=n,g,v;if(c&&(f=+e.startOf(f,"isoWeek",u)),f=+e.startOf(f,c?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const _=i.ticks.source==="data"&&this.getDataTimestamps();for(g=f,v=0;g<r;g=+e.add(g,a,o),v++)l3(h,g,_);return(g===r||i.bounds==="ticks"||v===1)&&l3(h,g,_),Object.keys(h).sort(s3).map(S=>+S)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return an(o,[e,n,r],this);const a=s.time.displayFormats,u=this._unit,c=this._majorUnit,h=u&&a[u],f=c&&a[c],g=r[n],v=c&&f&&g&&g.major;return this._adapter.format(e,i||(v?f:h))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=Gi(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,u3(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(o3(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return j_(e.sort(s3))}}function af(t,e,n){let r=0,i=t.length-1,s,o,a,u;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=Ks(t,"pos",e)),{pos:s,time:a}=t[r],{pos:o,time:u}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=Ks(t,"time",e)),{time:s,pos:a}=t[r],{time:o,pos:u}=t[i]);const c=o-s;return c?a+(u-a)*(e-s)/c:a}class pL extends C1{static id="timeseries";static defaults=C1.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=af(n,this.min),this._tableRange=af(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let o,a,u,c,h;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)h=i[o+1],u=i[o-1],c=i[o],Math.round((h+u)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(af(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return af(this._table,r*this._tableRange+this._minPos,!0)}}var mL=Object.freeze({__proto__:null,CategoryScale:Ed,LinearScale:jd,LogarithmicScale:XA,RadialLinearScale:w6,TimeScale:C1,TimeSeriesScale:pL});const gL=[SP,ZO,QA,mL];ro.register(...gL);const _6="label";function c3(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function yL(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function S6(t,e){t.labels=e}function C6(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_6;const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function vL(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_6;const n={labels:[],datasets:[]};return S6(n,t.labels),C6(n,t.datasets,e),n}function xL(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:u,plugins:c=[],fallbackContent:h,updateMode:f,...g}=t,v=P.useRef(null),_=P.useRef(null),S=()=>{v.current&&(_.current=new ro(v.current,{type:o,data:vL(a,s),options:u&&{...u},plugins:c}),c3(e,_.current))},C=()=>{c3(e,null),_.current&&(_.current.destroy(),_.current=null)};return P.useEffect(()=>{!i&&_.current&&u&&yL(_.current,u)},[i,u]),P.useEffect(()=>{!i&&_.current&&S6(_.current.config.data,a.labels)},[i,a.labels]),P.useEffect(()=>{!i&&_.current&&a.datasets&&C6(_.current.config.data,a.datasets,s)},[i,a.datasets]),P.useEffect(()=>{_.current&&(i?(C(),setTimeout(S)):_.current.update(f))},[i,u,a.labels,a.datasets,f]),P.useEffect(()=>{_.current&&(C(),setTimeout(S))},[o]),P.useEffect(()=>(S(),()=>C()),[]),en.createElement("canvas",{ref:v,role:"img",height:n,width:r,...g},h)}const k6=P.forwardRef(xL);function Zy(t,e){return ro.register(e),P.forwardRef((n,r)=>en.createElement(k6,{...n,ref:r,type:t}))}const bL=Zy("bar",Y_),wL=Zy("radar",J_),E6=Zy("doughnut",Rp),wu={searchBtnSpeed:{mu:1.457,sigma:.7362},captchaSpeed:{mu:3.6415,sigma:.4057},totalSpeed:{mu:8.6367,sigma:.5422}};function j6(t,e,n){if(t<=0)return 0;const r=(Math.log(t)-Math.log(e))/n,i=1/(1+.2316419*Math.abs(r)),o=.3989423*Math.exp(-r*r/2)*i*(.3193815+i*(-.3565638+i*(1.781478+i*(-1.821256+i*1.330274))));return r>0?1-o:o}function Fp(t,e=7.5,n=.3){const s=t>3e3?t/1e3:t,a=1-j6(s,e,n);return Math.max(Math.min(a*100,100),0)}function _L(t){const n=Math.min(Math.max(t,0),100)/100,i=-j6(n,.4,.1);return Math.round(i*5)}function SL(t,e){const n=(t-2*e)/(t-e);return Math.max(0,Math.round(n*100))}function CL(t){return Fp(t,wu.searchBtnSpeed.mu,wu.searchBtnSpeed.sigma)}function kL(t){return Fp(t,wu.captchaSpeed.mu,wu.captchaSpeed.sigma)}function EL(t){return Math.max(0,Math.min(t,100))}function jL(t){return Fp(t,wu.totalSpeed.mu,wu.totalSpeed.sigma)}ro.register(w6,Xy,ju,g6,Nu,Tu);const TL={responsive:!0,scales:{r:{angleLines:{display:!0},suggestedMin:0,suggestedMax:100,ticks:{display:!1},pointLabels:{font:{size:14},color:"#4B5563"},grid:{color:"#E5E7EB"}}},plugins:{legend:{display:!1},tooltip:{enabled:!0}}};function NL(t){const{user_ability:e}=t,{searchBtnSpeed:n,totalSpeed:r,accuracy:i,captchaSpeed:s}=e,o=["   "," ","","  "],a=[n,r,i,s];return{labels:o,datasets:[{label:"",data:d3([1.776296,9.30268,93.58,3.843947]),backgroundColor:"rgba(5, 223, 114, 0.2)",borderColor:"rgba(5, 223, 114, 1)",borderWidth:2,pointBackgroundColor:"rgba(5, 223, 114, 1)"},{label:" ",data:d3(a),backgroundColor:"rgb(0, 122, 255, 0.2)",borderColor:"rgba(0, 122, 255, 1)",borderWidth:2,pointBackgroundColor:"rgba(0, 122, 255, 1)"}]}}function d3(t){return[CL(t[0]),jL(t[1]),EL(t[2]),kL(t[3])]}function ev({result:t}){const e=NL(t),{searchBtnSpeed:n,totalSpeed:r,accuracy:i,captchaSpeed:s}=t.user_ability;return p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"h-90",children:p.jsx(wL,{data:e,className:"mx-auto",options:TL})}),p.jsxs("div",{className:"absolute bottom-6 right-6 bg-white shadow-lg rounded-lg px-4 py-3 text-xs text-gray-800",children:[p.jsx("div",{className:"font-bold text-sm mb-1",children:" "}),p.jsxs("ul",{className:"space-y-1",children:[p.jsxs("li",{className:"flex justify-between",children:[p.jsx("span",{children:"    "})," ",p.jsxs("span",{children:[n.toFixed(2)," sec"]})]}),p.jsxs("li",{className:"flex justify-between",children:[p.jsx("span",{children:"   "})," ",p.jsxs("span",{children:[r.toFixed(2)," sec"]})]}),p.jsxs("li",{className:"flex justify-between",children:[p.jsx("span",{children:" "})," ",p.jsxs("span",{children:[i.toFixed(2)," %"]})]}),p.jsxs("li",{className:"flex justify-between",children:[p.jsx("span",{children:"     "})," ",p.jsxs("span",{children:[s.toFixed(2)," sec"]})]})]})]})]})}function k1(t,e){const n=t.getContext("2d");if(!n)return;n.clearRect(0,0,t.width,t.height);const r=n.createLinearGradient(0,0,t.width,0);r.addColorStop(0,"#4a4a4a"),r.addColorStop(1,"#bcbcbc"),n.fillStyle=r,n.fillRect(0,0,t.width,t.height),n.font="bold 32px Arial Black, Impact, sans-serif",n.fillStyle="black",n.textAlign="center",n.textBaseline="middle",n.fillText(e,t.width/2,t.height/2)}const PL={user_ability:{searchBtnSpeed:1.076296,totalSpeed:6.70268,accuracy:98.58,captchaSpeed:4.843947}};function OL(){const[t,e]=P.useState(PL);return p.jsxs(tl,{children:[p.jsx(jp,{title:" ",subtitle:"   ,    ",href:"/simulation"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[p.jsxs(Zf,{children:[p.jsx("h3",{className:"text-lg font-semibold",children:"  "}),p.jsx("p",{className:"text-gray-600 mb-4",children:" ,    !"}),p.jsx(LL,{setRadarData:e})]}),p.jsxs(Zf,{className:"relative",children:[p.jsx("h3",{className:"text-lg font-semibold",children:"  "}),p.jsx("p",{className:"text-gray-600 mb-4",children:"      ."}),p.jsx(ev,{result:t})]})]})]})}function h3(){return Math.floor(1e3+Math.random()*9e3).toString()}const AL=4;function LL({setRadarData:t}){const e=P.useRef(null),[n,r]=P.useState(),[i,s]=P.useState({message:"",color:"red"}),o=P.useRef(""),a=ML(t);function u(){o.current=h3(),r(""),s({message:"",color:"red"}),a.resetResult(),e.current&&k1(e.current,o.current)}function c(){setTimeout(u,200)}function h(g){let v=g.target.value;if(a.updateResult(),/\D/.test(v)){s({message:"0~9  ",color:"red"}),r(v.replace(/\D/g,""));return}if(v.length>AL){s({message:"4  ",color:"red"});return}r(v),s({message:"",color:"red"})}P.useEffect(()=>{setTimeout(()=>{o.current=h3(),a.initResult(),e.current&&k1(e.current,o.current)},100)},[]);function f(){n?.toString()===o.current?(s({message:"  .",color:"green"}),a.endResult(!0),setTimeout(u,700)):(s({message:"  .",color:"red"}),a.endResult(!1),setTimeout(u,700))}return p.jsxs("div",{className:"flex flex-col justify-center h-4/5",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 p-4",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsxs("div",{className:"text-sm font-semibold flex flex-row items-center gap-2",children:[p.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "})," ",p.jsx(RL,{onClick:c,children:""})]}),p.jsx("div",{className:"flex items-center mt-1",children:p.jsx("canvas",{id:"captcha",width:"105",height:"50",ref:e})})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"text-sm font-semibold  flex flex-row items-center",children:[p.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "}),"  "]}),p.jsx("input",{type:"text",value:n,onChange:g=>h(g),className:"mt-2 w-full border-1 border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring focus:border-gray-800",placeholder:" "}),p.jsx("span",{className:"pl-1 text-xs "+(i.color==="green"?"text-green-500":"text-red-500"),children:i.message})]})]}),p.jsx("div",{className:"flex justify-end p-4",children:p.jsx("button",{onClick:f,className:"px-4 py-2 bg-white hover:bg-blue-50 rounded-xs border cursor-pointer",children:""})})]})}function RL({className:t,children:e,...n}){return p.jsx("button",{className:"px-2 py-1 bg-blue-500 text-white text-sm rounded-xs cursor-pointer hover:bg-blue-600 "+t,...n,children:e})}function ML(t){const e=P.useRef({tryCount:0,successCount:0,avgTime:0,startTime:-1});function n(){e.current.startTime=-1}function r(){e.current.startTime=Date.now()}function i(){e.current.startTime===-1&&(e.current.startTime=Date.now())}function s(o){const a=Date.now(),u=e.current.startTime===-1?4.843947:1+(a-e.current.startTime)/1e3;e.current.startTime=-1,e.current.tryCount+=1,e.current.avgTime=1+(u-e.current.avgTime)/e.current.tryCount,e.current.successCount+=o?1:0,t&&t(c=>({user_ability:{...c.user_ability,captchaSpeed:e.current.avgTime,accuracy:100*(e.current.successCount/e.current.tryCount)}}))}return{initResult:n,resetResult:r,updateResult:i,endResult:s}}function Pu(){return Zi({queryKey:["departments"],queryFn:DL,staleTime:1/0,select:t=>t.departments.sort((e,n)=>e.departmentName.localeCompare(n.departmentName))})}const DL=async()=>await to("/api/departments"),IL=t=>{if(!t)return{universityDict:{},collegeDict:{}};const e={},n={};return t.forEach(r=>{const[i,s,o]=r.departmentName.split(" "),a=i.trim(),u=s?.trim(),c=o?.trim();u&&(e[a]||(e[a]=[]),e[a]=[...e[a],u],c||(n[u]=[u])),c&&(e[a]||(e[a]=[]),e[a]=[...e[a],c],n[u]||(n[u]=[]),n[u]=[...n[u],c])}),{universityDict:e,collegeDict:n}},FL=(t,e)=>{const n=t.split(" ").map(r=>r.trim());for(const r in e)if(n.some(i=>e[r].includes(i)))return r;return console.error("No university found",t),""},BL=(t,e)=>{const n=t.split(" ").map(r=>r.trim());for(const r in e)if(n.some(i=>r.includes(i)))return r;return console.error("No college found",t),""},Bp={labels:["","","",""],datasets:[{data:[40,25,20,15]}]},Td=["#f97316","#3b82f6","#facc15","#22c55e","#60b6d4"];function f3(t){if(!t)return Bp;const e={};return t.forEach(n=>{e[n.registerDepartment??""]||(e[n.registerDepartment??""]=0),e[n.registerDepartment??""]+=Number(n.eachCount)}),{labels:Object.keys(e).map(n=>n||""),datasets:[{data:Object.values(e),backgroundColor:Td}]}}function zL(t,e){if(!e)return Bp;const n={major:0,"non-major":0},r=t.split(" ").map(o=>o.trim()),i=o=>o.split(" ").map(u=>u.trim()).some(u=>r.includes(u));e.forEach(o=>{const a=i(o.registerDepartment??"")?"major":"non-major";n[a]+=Number(o.eachCount)});const s={major:"","non-major":""};return{labels:Object.keys(n).map(o=>s[o]),datasets:[{data:Object.values(n),backgroundColor:Td}]}}function $L(t,e){if(!t||!e)return Bp;const n={};return t.forEach(r=>{const i=FL(r.registerDepartment??"",e);n[i]||(n[i]=0),n[i]+=Number(r.eachCount)}),{labels:Object.keys(n).map(r=>r||""),datasets:[{data:Object.values(n),backgroundColor:Td}]}}function UL(t,e){if(!t||!e)return Bp;const n={};return t.forEach(r=>{const i=BL(r.registerDepartment??"",e);n[i]||(n[i]=0),n[i]+=Number(r.eachCount)}),{labels:Object.keys(n).map(r=>r||""),datasets:[{data:Object.values(n),backgroundColor:Td}]}}function HL(t){return t?t.reduce((e,n)=>e+Number(n.eachCount),0):-1}ro.register(kd,Ed,jd,Nu,Tu);const QL={labels:["","","",""],datasets:[{data:[40,25,20,15],backgroundColor:Td}]};function VL(){return p.jsxs(tl,{children:[p.jsx(jp,{title:" ",href:"/wishes"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[p.jsx("h2",{className:"text-lg font-semibold mb-2",children:" "}),p.jsx("div",{className:"flex aligh-center justify-center max-h-96",children:p.jsx(E6,{data:QL})})]}),p.jsxs("div",{className:"bg-white p-6 shadow-md rounded-md",children:[p.jsx("h3",{className:"text-lg font-semibold",children:"  "}),[{name:"",dept:" ",status:"30"},{name:"",dept:"",status:"14"}].map((t,e)=>p.jsxs("div",{className:"mt-4 flex justify-between p-2 rounded-md border border-gray-200",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:t.name}),p.jsx("p",{className:"text-sm text-gray-500",children:t.dept})]}),p.jsx("span",{className:"text-yellow-500",children:t.status})]},"recommend-course-"+e))]})]})]})}const qL=t=>P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17,height:17,viewBox:"-0.1 -1.2 11.985078811645508 17",...t},P.createElement("g",{transform:"matrix(1,0,0,-1,0,27.999998092651367)"},P.createElement("path",{d:"M5.99254,27.999999046325684Q5.61809,27.999999046325684,5.37737,27.753899046325685Q5.13664,27.507799046325683,5.13664,27.124999046325684L5.13664,26.605499046325683Q3.63883,26.277299046325684,2.70269,25.10159904632568Q1.73981,23.925779046325683,1.71306,22.312499046325684L1.71306,21.792969046325684Q1.68632,19.824219046325684,0.429221,18.320309046325683L0.215247,18.074219046325684Q-0.13246,17.664059046325683,0.0815138,17.144529046325683Q0.322234,16.652339046325682,0.857169,16.624999046325684L11.1279,16.624999046325684Q11.6628,16.652339046325682,11.9036,17.144529046325683Q12.1175,17.664059046325683,11.7698,18.074219046325684L11.5826,18.320309046325683Q10.2988,19.796869046325682,10.272,21.792969046325684L10.272,22.312499046325684Q10.2453,23.925779046325683,9.28239,25.10159904632568Q8.34625,26.277299046325684,6.84843,26.605499046325683L6.84843,27.124999046325684Q6.84843,27.507799046325683,6.60771,27.753899046325685Q6.36699,27.999999046325684,5.99254,27.999999046325684ZM7.19614,14.519530046325684Q7.70433,15.039059046325683,7.70433,15.749999046325684L5.99254,15.749999046325684L4.28075,15.749999046325684Q4.28075,15.039059046325683,4.78894,14.519530046325684Q5.29713,13.999999046325684,5.99254,13.999999046325684Q6.68796,13.999999046325684,7.19614,14.519530046325684Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),zp=({className:t,disabled:e=!1})=>e?p.jsx(qL,{className:t}):p.jsx(Ey,{className:t});var Ff={exports:{}},WL=Ff.exports,p3;function KL(){return p3||(p3=1,function(t,e){(function(n,r){t.exports=r()})(WL,function(){var n=function(y,b){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,T){k.__proto__=T}||function(k,T){for(var N in T)Object.prototype.hasOwnProperty.call(T,N)&&(k[N]=T[N])})(y,b)},r=function(){return(r=Object.assign||function(y){for(var b,k=1,T=arguments.length;k<T;k++)for(var N in b=arguments[k])Object.prototype.hasOwnProperty.call(b,N)&&(y[N]=b[N]);return y}).apply(this,arguments)};function i(y,b,k){for(var T,N=0,M=b.length;N<M;N++)!T&&N in b||((T=T||Array.prototype.slice.call(b,0,N))[N]=b[N]);return y.concat(T||Array.prototype.slice.call(b))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Ac,o=Object.keys,a=Array.isArray;function u(y,b){return typeof b!="object"||o(b).forEach(function(k){y[k]=b[k]}),y}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var c=Object.getPrototypeOf,h={}.hasOwnProperty;function f(y,b){return h.call(y,b)}function g(y,b){typeof b=="function"&&(b=b(c(y))),(typeof Reflect>"u"?o:Reflect.ownKeys)(b).forEach(function(k){_(y,k,b[k])})}var v=Object.defineProperty;function _(y,b,k,T){v(y,b,u(k&&f(k,"get")&&typeof k.get=="function"?{get:k.get,set:k.set,configurable:!0}:{value:k,configurable:!0,writable:!0},T))}function S(y){return{from:function(b){return y.prototype=Object.create(b.prototype),_(y.prototype,"constructor",y),{extend:g.bind(null,y.prototype)}}}}var C=Object.getOwnPropertyDescriptor,j=[].slice;function R(y,b,k){return j.call(y,b,k)}function A(y,b){return b(y)}function F(y){if(!y)throw new Error("Assertion Failed")}function U(y){s.setImmediate?setImmediate(y):setTimeout(y,0)}function O(y,b){if(typeof b=="string"&&f(y,b))return y[b];if(!b)return y;if(typeof b!="string"){for(var k=[],T=0,N=b.length;T<N;++T){var M=O(y,b[T]);k.push(M)}return k}var B=b.indexOf(".");if(B!==-1){var W=y[b.substr(0,B)];return W==null?void 0:O(W,b.substr(B+1))}}function $(y,b,k){if(y&&b!==void 0&&!("isFrozen"in Object&&Object.isFrozen(y)))if(typeof b!="string"&&"length"in b){F(typeof k!="string"&&"length"in k);for(var T=0,N=b.length;T<N;++T)$(y,b[T],k[T])}else{var M,B,W=b.indexOf(".");W!==-1?(M=b.substr(0,W),(B=b.substr(W+1))===""?k===void 0?a(y)&&!isNaN(parseInt(M))?y.splice(M,1):delete y[M]:y[M]=k:$(W=!(W=y[M])||!f(y,M)?y[M]={}:W,B,k)):k===void 0?a(y)&&!isNaN(parseInt(b))?y.splice(b,1):delete y[b]:y[b]=k}}function K(y){var b,k={};for(b in y)f(y,b)&&(k[b]=y[b]);return k}var H=[].concat;function z(y){return H.apply([],y)}var Ce="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(z([8,16,32,64].map(function(y){return["Int","Uint","Float"].map(function(b){return b+y+"Array"})}))).filter(function(y){return s[y]}),ue=new Set(Ce.map(function(y){return s[y]})),de=null;function pe(y){return de=new WeakMap,y=function b(k){if(!k||typeof k!="object")return k;var T=de.get(k);if(T)return T;if(a(k)){T=[],de.set(k,T);for(var N=0,M=k.length;N<M;++N)T.push(b(k[N]))}else if(ue.has(k.constructor))T=k;else{var B,W=c(k);for(B in T=W===Object.prototype?{}:Object.create(W),de.set(k,T),k)f(k,B)&&(T[B]=b(k[B]))}return T}(y),de=null,y}var q={}.toString;function V(y){return q.call(y).slice(8,-1)}var Z=typeof Symbol<"u"?Symbol.iterator:"@@iterator",re=typeof Z=="symbol"?function(y){var b;return y!=null&&(b=y[Z])&&b.apply(y)}:function(){return null};function ne(y,b){return b=y.indexOf(b),0<=b&&y.splice(b,1),0<=b}var me={};function D(y){var b,k,T,N;if(arguments.length===1){if(a(y))return y.slice();if(this===me&&typeof y=="string")return[y];if(N=re(y)){for(k=[];!(T=N.next()).done;)k.push(T.value);return k}if(y==null)return[y];if(typeof(b=y.length)!="number")return[y];for(k=new Array(b);b--;)k[b]=y[b];return k}for(b=arguments.length,k=new Array(b);b--;)k[b]=arguments[b];return k}var G=typeof Symbol<"u"?function(y){return y[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ar=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Rr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ar),ye={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function I(y,b){this.name=y,this.message=b}function Ie(y,b){return y+". Errors: "+Object.keys(b).map(function(k){return b[k].toString()}).filter(function(k,T,N){return N.indexOf(k)===T}).join(`
`)}function Ee(y,b,k,T){this.failures=b,this.failedKeys=T,this.successCount=k,this.message=Ie(y,b)}function je(y,b){this.name="BulkError",this.failures=Object.keys(b).map(function(k){return b[k]}),this.failuresByPos=b,this.message=Ie(y,this.failures)}S(I).from(Error).extend({toString:function(){return this.name+": "+this.message}}),S(Ee).from(I),S(je).from(I);var Ye=Rr.reduce(function(y,b){return y[b]=b+"Error",y},{}),Ke=I,Pe=Rr.reduce(function(y,b){var k=b+"Error";function T(N,M){this.name=k,N?typeof N=="string"?(this.message="".concat(N).concat(M?`
 `+M:""),this.inner=M||null):typeof N=="object"&&(this.message="".concat(N.name," ").concat(N.message),this.inner=N):(this.message=ye[b]||k,this.inner=null)}return S(T).from(Ke),y[b]=T,y},{});Pe.Syntax=SyntaxError,Pe.Type=TypeError,Pe.Range=RangeError;var ht=Ar.reduce(function(y,b){return y[b+"Error"]=Pe[b],y},{}),ln=Rr.reduce(function(y,b){return["Syntax","Type","Range"].indexOf(b)===-1&&(y[b+"Error"]=Pe[b]),y},{});function Tt(){}function fn(y){return y}function un(y,b){return y==null||y===fn?b:function(k){return b(y(k))}}function En(y,b){return function(){y.apply(this,arguments),b.apply(this,arguments)}}function xs(y,b){return y===Tt?b:function(){var k=y.apply(this,arguments);k!==void 0&&(arguments[0]=k);var T=this.onsuccess,N=this.onerror;this.onsuccess=null,this.onerror=null;var M=b.apply(this,arguments);return T&&(this.onsuccess=this.onsuccess?En(T,this.onsuccess):T),N&&(this.onerror=this.onerror?En(N,this.onerror):N),M!==void 0?M:k}}function Ni(y,b){return y===Tt?b:function(){y.apply(this,arguments);var k=this.onsuccess,T=this.onerror;this.onsuccess=this.onerror=null,b.apply(this,arguments),k&&(this.onsuccess=this.onsuccess?En(k,this.onsuccess):k),T&&(this.onerror=this.onerror?En(T,this.onerror):T)}}function so(y,b){return y===Tt?b:function(k){var T=y.apply(this,arguments);u(k,T);var N=this.onsuccess,M=this.onerror;return this.onsuccess=null,this.onerror=null,k=b.apply(this,arguments),N&&(this.onsuccess=this.onsuccess?En(N,this.onsuccess):N),M&&(this.onerror=this.onerror?En(M,this.onerror):M),T===void 0?k===void 0?void 0:k:u(T,k)}}function es(y,b){return y===Tt?b:function(){return b.apply(this,arguments)!==!1&&y.apply(this,arguments)}}function Or(y,b){return y===Tt?b:function(){var k=y.apply(this,arguments);if(k&&typeof k.then=="function"){for(var T=this,N=arguments.length,M=new Array(N);N--;)M[N]=arguments[N];return k.then(function(){return b.apply(T,M)})}return b.apply(this,arguments)}}ln.ModifyError=Ee,ln.DexieError=I,ln.BulkError=je;var jn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function sr(y){jn=y}var or={},ts=100,Ce=typeof Promise>"u"?[]:function(){var y=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[y,c(y),y];var b=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[b,c(b),y]}(),Ar=Ce[0],Rr=Ce[1],Ce=Ce[2],Rr=Rr&&Rr.then,Oe=Ar&&Ar.constructor,lt=!!Ce,pt=function(y,b){Tn.push([y,b]),Wt&&(queueMicrotask(ll),Wt=!1)},Nt=!0,Wt=!0,An=[],Ln=[],_r=fn,Wn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Tt,pgp:!1,env:{},finalize:Tt},Ve=Wn,Tn=[],pn=0,fi=[];function qe(y){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var b=this._PSD=Ve;if(typeof y!="function"){if(y!==or)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&bs(this,this._value))}this._state=null,this._value=null,++b.ref,function k(T,N){try{N(function(M){if(T._state===null){if(M===T)throw new TypeError("A promise cannot be resolved with itself.");var B=T._lib&&X();M&&typeof M.then=="function"?k(T,function(W,ee){M instanceof qe?M._then(W,ee):M.then(W,ee)}):(T._state=!0,T._value=M,ns(T)),B&&fe()}},bs.bind(null,T))}catch(M){bs(T,M)}}(this,y)}var Xr={get:function(){var y=Ve,b=at;function k(T,N){var M=this,B=!y.global&&(y!==Ve||b!==at),W=B&&!Pt(),ee=new qe(function(ie,le){Oi(M,new Pi(Ai(T,y,B,W),Ai(N,y,B,W),ie,le,y))});return this._consoleTask&&(ee._consoleTask=this._consoleTask),ee}return k.prototype=or,k},set:function(y){_(this,"then",y&&y.prototype===or?Xr:{get:function(){return y},set:Xr.set})}};function Pi(y,b,k,T,N){this.onFulfilled=typeof y=="function"?y:null,this.onRejected=typeof b=="function"?b:null,this.resolve=k,this.reject=T,this.psd=N}function bs(y,b){var k,T;Ln.push(b),y._state===null&&(k=y._lib&&X(),b=_r(b),y._state=!1,y._value=b,T=y,An.some(function(N){return N._value===T._value})||An.push(T),ns(y),k&&fe())}function ns(y){var b=y._listeners;y._listeners=[];for(var k=0,T=b.length;k<T;++k)Oi(y,b[k]);var N=y._PSD;--N.ref||N.finalize(),pn===0&&(++pn,pt(function(){--pn==0&&_e()},[]))}function Oi(y,b){if(y._state!==null){var k=y._state?b.onFulfilled:b.onRejected;if(k===null)return(y._state?b.resolve:b.reject)(y._value);++b.psd.ref,++pn,pt(al,[k,y,b])}else y._listeners.push(b)}function al(y,b,k){try{var T,N=b._value;!b._state&&Ln.length&&(Ln=[]),T=jn&&b._consoleTask?b._consoleTask.run(function(){return y(N)}):y(N),b._state||Ln.indexOf(N)!==-1||function(M){for(var B=An.length;B;)if(An[--B]._value===M._value)return An.splice(B,1)}(b),k.resolve(T)}catch(M){k.reject(M)}finally{--pn==0&&_e(),--k.psd.ref||k.psd.finalize()}}function ll(){Kn(Wn,function(){X()&&fe()})}function X(){var y=Nt;return Wt=Nt=!1,y}function fe(){var y,b,k;do for(;0<Tn.length;)for(y=Tn,Tn=[],k=y.length,b=0;b<k;++b){var T=y[b];T[0].apply(null,T[1])}while(0<Tn.length);Wt=Nt=!0}function _e(){var y=An;An=[],y.forEach(function(T){T._PSD.onunhandled.call(null,T._value,T)});for(var b=fi.slice(0),k=b.length;k;)b[--k]()}function Le(y){return new qe(or,!1,y)}function Te(y,b){var k=Ve;return function(){var T=X(),N=Ve;try{return Ht(k,!0),y.apply(this,arguments)}catch(M){b&&b(M)}finally{Ht(N,!1),T&&fe()}}}g(qe.prototype,{then:Xr,_then:function(y,b){Oi(this,new Pi(null,null,y,b,Ve))},catch:function(y){if(arguments.length===1)return this.then(null,y);var b=y,k=arguments[1];return typeof b=="function"?this.then(null,function(T){return(T instanceof b?k:Le)(T)}):this.then(null,function(T){return(T&&T.name===b?k:Le)(T)})},finally:function(y){return this.then(function(b){return qe.resolve(y()).then(function(){return b})},function(b){return qe.resolve(y()).then(function(){return Le(b)})})},timeout:function(y,b){var k=this;return y<1/0?new qe(function(T,N){var M=setTimeout(function(){return N(new Pe.Timeout(b))},y);k.then(T,N).finally(clearTimeout.bind(null,M))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&_(qe.prototype,Symbol.toStringTag,"Dexie.Promise"),Wn.env=Kt(),g(qe,{all:function(){var y=D.apply(null,arguments).map(mn);return new qe(function(b,k){y.length===0&&b([]);var T=y.length;y.forEach(function(N,M){return qe.resolve(N).then(function(B){y[M]=B,--T||b(y)},k)})})},resolve:function(y){return y instanceof qe?y:y&&typeof y.then=="function"?new qe(function(b,k){y.then(b,k)}):new qe(or,!0,y)},reject:Le,race:function(){var y=D.apply(null,arguments).map(mn);return new qe(function(b,k){y.map(function(T){return qe.resolve(T).then(b,k)})})},PSD:{get:function(){return Ve},set:function(y){return Ve=y}},totalEchoes:{get:function(){return at}},newPSD:et,usePSD:Kn,scheduler:{get:function(){return pt},set:function(y){pt=y}},rejectionMapper:{get:function(){return _r},set:function(y){_r=y}},follow:function(y,b){return new qe(function(k,T){return et(function(N,M){var B=Ve;B.unhandleds=[],B.onunhandled=M,B.finalize=En(function(){var W,ee=this;W=function(){ee.unhandleds.length===0?N():M(ee.unhandleds[0])},fi.push(function ie(){W(),fi.splice(fi.indexOf(ie),1)}),++pn,pt(function(){--pn==0&&_e()},[])},B.finalize),y()},b,k,T)})}}),Oe&&(Oe.allSettled&&_(qe,"allSettled",function(){var y=D.apply(null,arguments).map(mn);return new qe(function(b){y.length===0&&b([]);var k=y.length,T=new Array(k);y.forEach(function(N,M){return qe.resolve(N).then(function(B){return T[M]={status:"fulfilled",value:B}},function(B){return T[M]={status:"rejected",reason:B}}).then(function(){return--k||b(T)})})})}),Oe.any&&typeof AggregateError<"u"&&_(qe,"any",function(){var y=D.apply(null,arguments).map(mn);return new qe(function(b,k){y.length===0&&k(new AggregateError([]));var T=y.length,N=new Array(T);y.forEach(function(M,B){return qe.resolve(M).then(function(W){return b(W)},function(W){N[B]=W,--T||k(new AggregateError(N))})})})}),Oe.withResolvers&&(qe.withResolvers=Oe.withResolvers));var We={awaits:0,echoes:0,id:0},rt=0,Je=[],tt=0,at=0,ot=0;function et(y,b,k,T){var N=Ve,M=Object.create(N);return M.parent=N,M.ref=0,M.global=!1,M.id=++ot,Wn.env,M.env=lt?{Promise:qe,PromiseProp:{value:qe,configurable:!0,writable:!0},all:qe.all,race:qe.race,allSettled:qe.allSettled,any:qe.any,resolve:qe.resolve,reject:qe.reject}:{},b&&u(M,b),++N.ref,M.finalize=function(){--this.parent.ref||this.parent.finalize()},T=Kn(M,y,k,T),M.ref===0&&M.finalize(),T}function _t(){return We.id||(We.id=++rt),++We.awaits,We.echoes+=ts,We.id}function Pt(){return!!We.awaits&&(--We.awaits==0&&(We.id=0),We.echoes=We.awaits*ts,!0)}function mn(y){return We.echoes&&y&&y.constructor===Oe?(_t(),y.then(function(b){return Pt(),b},function(b){return Pt(),$t(b)})):y}function Rn(){var y=Je[Je.length-1];Je.pop(),Ht(y,!1)}function Ht(y,b){var k,T=Ve;(b?!We.echoes||tt++&&y===Ve:!tt||--tt&&y===Ve)||queueMicrotask(b?(function(N){++at,We.echoes&&--We.echoes!=0||(We.echoes=We.awaits=We.id=0),Je.push(Ve),Ht(N,!0)}).bind(null,y):Rn),y!==Ve&&(Ve=y,T===Wn&&(Wn.env=Kt()),lt&&(k=Wn.env.Promise,b=y.env,(T.global||y.global)&&(Object.defineProperty(s,"Promise",b.PromiseProp),k.all=b.all,k.race=b.race,k.resolve=b.resolve,k.reject=b.reject,b.allSettled&&(k.allSettled=b.allSettled),b.any&&(k.any=b.any))))}function Kt(){var y=s.Promise;return lt?{Promise:y,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:y.all,race:y.race,allSettled:y.allSettled,any:y.any,resolve:y.resolve,reject:y.reject}:{}}function Kn(y,b,k,T,N){var M=Ve;try{return Ht(y,!0),b(k,T,N)}finally{Ht(M,!1)}}function Ai(y,b,k,T){return typeof y!="function"?y:function(){var N=Ve;k&&_t(),Ht(b,!0);try{return y.apply(this,arguments)}finally{Ht(N,!1),T&&queueMicrotask(Pt)}}}function Sr(y){Promise===Oe&&We.echoes===0?tt===0?y():enqueueNativeMicroTask(y):setTimeout(y,0)}(""+Rr).indexOf("[native code]")===-1&&(_t=Pt=Tt);var $t=qe.reject,Jr="",At="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",pi="String expected.",Cr=[],mi="__dbnames",Lt="readonly",Sn="readwrite";function kr(y,b){return y?b?function(){return y.apply(this,arguments)&&b.apply(this,arguments)}:y:b}var Zr={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Bt(y){return typeof y!="string"||/\./.test(y)?function(b){return b}:function(b){return b[y]===void 0&&y in b&&delete(b=pe(b))[y],b}}function ws(){throw Pe.Type()}function ft(y,b){try{var k=ul(y),T=ul(b);if(k!==T)return k==="Array"?1:T==="Array"?-1:k==="binary"?1:T==="binary"?-1:k==="string"?1:T==="string"?-1:k==="Date"?1:T!=="Date"?NaN:-1;switch(k){case"number":case"Date":case"string":return b<y?1:y<b?-1:0;case"binary":return function(N,M){for(var B=N.length,W=M.length,ee=B<W?B:W,ie=0;ie<ee;++ie)if(N[ie]!==M[ie])return N[ie]<M[ie]?-1:1;return B===W?0:B<W?-1:1}(Rd(y),Rd(b));case"Array":return function(N,M){for(var B=N.length,W=M.length,ee=B<W?B:W,ie=0;ie<ee;++ie){var le=ft(N[ie],M[ie]);if(le!==0)return le}return B===W?0:B<W?-1:1}(y,b)}}catch{}return NaN}function ul(y){var b=typeof y;return b!="object"?b:ArrayBuffer.isView(y)?"binary":(y=V(y),y==="ArrayBuffer"?"binary":y)}function Rd(y){return y instanceof Uint8Array?y:ArrayBuffer.isView(y)?new Uint8Array(y.buffer,y.byteOffset,y.byteLength):new Uint8Array(y)}var Md=(Yt.prototype._trans=function(y,b,k){var T=this._tx||Ve.trans,N=this.name,M=jn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(y==="readonly"?"read":"write"," ").concat(this.name));function B(ie,le,Y){if(!Y.schema[N])throw new Pe.NotFound("Table "+N+" not part of transaction");return b(Y.idbtrans,Y)}var W=X();try{var ee=T&&T.db._novip===this.db._novip?T===Ve.trans?T._promise(y,B,k):et(function(){return T._promise(y,B,k)},{trans:T,transless:Ve.transless||Ve}):function ie(le,Y,ce,te){if(le.idbdb&&(le._state.openComplete||Ve.letThrough||le._vip)){var ae=le._createTransaction(Y,ce,le._dbSchema);try{ae.create(),le._state.PR1398_maxLoop=3}catch(he){return he.name===Ye.InvalidState&&le.isOpen()&&0<--le._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),le.close({disableAutoOpen:!1}),le.open().then(function(){return ie(le,Y,ce,te)})):$t(he)}return ae._promise(Y,function(he,oe){return et(function(){return Ve.trans=ae,te(he,oe,ae)})}).then(function(he){if(Y==="readwrite")try{ae.idbtrans.commit()}catch{}return Y==="readonly"?he:ae._completion.then(function(){return he})})}if(le._state.openComplete)return $t(new Pe.DatabaseClosed(le._state.dbOpenError));if(!le._state.isBeingOpened){if(!le._state.autoOpen)return $t(new Pe.DatabaseClosed);le.open().catch(Tt)}return le._state.dbReadyPromise.then(function(){return ie(le,Y,ce,te)})}(this.db,y,[this.name],B);return M&&(ee._consoleTask=M,ee=ee.catch(function(ie){return console.trace(ie),$t(ie)})),ee}finally{W&&fe()}},Yt.prototype.get=function(y,b){var k=this;return y&&y.constructor===Object?this.where(y).first(b):y==null?$t(new Pe.Type("Invalid argument to Table.get()")):this._trans("readonly",function(T){return k.core.get({trans:T,key:y}).then(function(N){return k.hook.reading.fire(N)})}).then(b)},Yt.prototype.where=function(y){if(typeof y=="string")return new this.db.WhereClause(this,y);if(a(y))return new this.db.WhereClause(this,"[".concat(y.join("+"),"]"));var b=o(y);if(b.length===1)return this.where(b[0]).equals(y[b[0]]);var k=this.schema.indexes.concat(this.schema.primKey).filter(function(W){if(W.compound&&b.every(function(ie){return 0<=W.keyPath.indexOf(ie)})){for(var ee=0;ee<b.length;++ee)if(b.indexOf(W.keyPath[ee])===-1)return!1;return!0}return!1}).sort(function(W,ee){return W.keyPath.length-ee.keyPath.length})[0];if(k&&this.db._maxKey!==Jr){var M=k.keyPath.slice(0,b.length);return this.where(M).equals(M.map(function(ee){return y[ee]}))}!k&&jn&&console.warn("The query ".concat(JSON.stringify(y)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(b.join("+"),"]"));var T=this.schema.idxByName;function N(W,ee){return ft(W,ee)===0}var B=b.reduce(function(Y,ee){var ie=Y[0],le=Y[1],Y=T[ee],ce=y[ee];return[ie||Y,ie||!Y?kr(le,Y&&Y.multi?function(te){return te=O(te,ee),a(te)&&te.some(function(ae){return N(ce,ae)})}:function(te){return N(ce,O(te,ee))}):le]},[null,null]),M=B[0],B=B[1];return M?this.where(M.name).equals(y[M.keyPath]).filter(B):k?this.filter(B):this.where(b).equals("")},Yt.prototype.filter=function(y){return this.toCollection().and(y)},Yt.prototype.count=function(y){return this.toCollection().count(y)},Yt.prototype.offset=function(y){return this.toCollection().offset(y)},Yt.prototype.limit=function(y){return this.toCollection().limit(y)},Yt.prototype.each=function(y){return this.toCollection().each(y)},Yt.prototype.toArray=function(y){return this.toCollection().toArray(y)},Yt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Yt.prototype.orderBy=function(y){return new this.db.Collection(new this.db.WhereClause(this,a(y)?"[".concat(y.join("+"),"]"):y))},Yt.prototype.reverse=function(){return this.toCollection().reverse()},Yt.prototype.mapToClass=function(y){var b,k=this.db,T=this.name;function N(){return b!==null&&b.apply(this,arguments)||this}(this.schema.mappedClass=y).prototype instanceof ws&&(function(ee,ie){if(typeof ie!="function"&&ie!==null)throw new TypeError("Class extends value "+String(ie)+" is not a constructor or null");function le(){this.constructor=ee}n(ee,ie),ee.prototype=ie===null?Object.create(ie):(le.prototype=ie.prototype,new le)}(N,b=y),Object.defineProperty(N.prototype,"db",{get:function(){return k},enumerable:!1,configurable:!0}),N.prototype.table=function(){return T},y=N);for(var M=new Set,B=y.prototype;B;B=c(B))Object.getOwnPropertyNames(B).forEach(function(ee){return M.add(ee)});function W(ee){if(!ee)return ee;var ie,le=Object.create(y.prototype);for(ie in ee)if(!M.has(ie))try{le[ie]=ee[ie]}catch{}return le}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=W,this.hook("reading",W),y},Yt.prototype.defineClass=function(){return this.mapToClass(function(y){u(this,y)})},Yt.prototype.add=function(y,b){var k=this,T=this.schema.primKey,N=T.auto,M=T.keyPath,B=y;return M&&N&&(B=Bt(M)(y)),this._trans("readwrite",function(W){return k.core.mutate({trans:W,type:"add",keys:b!=null?[b]:null,values:[B]})}).then(function(W){return W.numFailures?qe.reject(W.failures[0]):W.lastResult}).then(function(W){if(M)try{$(y,M,W)}catch{}return W})},Yt.prototype.update=function(y,b){return typeof y!="object"||a(y)?this.where(":id").equals(y).modify(b):(y=O(y,this.schema.primKey.keyPath),y===void 0?$t(new Pe.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(y).modify(b))},Yt.prototype.put=function(y,b){var k=this,T=this.schema.primKey,N=T.auto,M=T.keyPath,B=y;return M&&N&&(B=Bt(M)(y)),this._trans("readwrite",function(W){return k.core.mutate({trans:W,type:"put",values:[B],keys:b!=null?[b]:null})}).then(function(W){return W.numFailures?qe.reject(W.failures[0]):W.lastResult}).then(function(W){if(M)try{$(y,M,W)}catch{}return W})},Yt.prototype.delete=function(y){var b=this;return this._trans("readwrite",function(k){return b.core.mutate({trans:k,type:"delete",keys:[y]})}).then(function(k){return k.numFailures?qe.reject(k.failures[0]):void 0})},Yt.prototype.clear=function(){var y=this;return this._trans("readwrite",function(b){return y.core.mutate({trans:b,type:"deleteRange",range:Zr})}).then(function(b){return b.numFailures?qe.reject(b.failures[0]):void 0})},Yt.prototype.bulkGet=function(y){var b=this;return this._trans("readonly",function(k){return b.core.getMany({keys:y,trans:k}).then(function(T){return T.map(function(N){return b.hook.reading.fire(N)})})})},Yt.prototype.bulkAdd=function(y,b,k){var T=this,N=Array.isArray(b)?b:void 0,M=(k=k||(N?void 0:b))?k.allKeys:void 0;return this._trans("readwrite",function(B){var ie=T.schema.primKey,W=ie.auto,ie=ie.keyPath;if(ie&&N)throw new Pe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(N&&N.length!==y.length)throw new Pe.InvalidArgument("Arguments objects and keys must have the same length");var ee=y.length,ie=ie&&W?y.map(Bt(ie)):y;return T.core.mutate({trans:B,type:"add",keys:N,values:ie,wantResults:M}).then(function(ae){var Y=ae.numFailures,ce=ae.results,te=ae.lastResult,ae=ae.failures;if(Y===0)return M?ce:te;throw new je("".concat(T.name,".bulkAdd(): ").concat(Y," of ").concat(ee," operations failed"),ae)})})},Yt.prototype.bulkPut=function(y,b,k){var T=this,N=Array.isArray(b)?b:void 0,M=(k=k||(N?void 0:b))?k.allKeys:void 0;return this._trans("readwrite",function(B){var ie=T.schema.primKey,W=ie.auto,ie=ie.keyPath;if(ie&&N)throw new Pe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(N&&N.length!==y.length)throw new Pe.InvalidArgument("Arguments objects and keys must have the same length");var ee=y.length,ie=ie&&W?y.map(Bt(ie)):y;return T.core.mutate({trans:B,type:"put",keys:N,values:ie,wantResults:M}).then(function(ae){var Y=ae.numFailures,ce=ae.results,te=ae.lastResult,ae=ae.failures;if(Y===0)return M?ce:te;throw new je("".concat(T.name,".bulkPut(): ").concat(Y," of ").concat(ee," operations failed"),ae)})})},Yt.prototype.bulkUpdate=function(y){var b=this,k=this.core,T=y.map(function(B){return B.key}),N=y.map(function(B){return B.changes}),M=[];return this._trans("readwrite",function(B){return k.getMany({trans:B,keys:T,cache:"clone"}).then(function(W){var ee=[],ie=[];y.forEach(function(Y,ce){var te=Y.key,ae=Y.changes,he=W[ce];if(he){for(var oe=0,ve=Object.keys(ae);oe<ve.length;oe++){var we=ve[oe],Se=ae[we];if(we===b.schema.primKey.keyPath){if(ft(Se,te)!==0)throw new Pe.Constraint("Cannot update primary key in bulkUpdate()")}else $(he,we,Se)}M.push(ce),ee.push(te),ie.push(he)}});var le=ee.length;return k.mutate({trans:B,type:"put",keys:ee,values:ie,updates:{keys:T,changeSpecs:N}}).then(function(Y){var ce=Y.numFailures,te=Y.failures;if(ce===0)return le;for(var ae=0,he=Object.keys(te);ae<he.length;ae++){var oe,ve=he[ae],we=M[Number(ve)];we!=null&&(oe=te[ve],delete te[ve],te[we]=oe)}throw new je("".concat(b.name,".bulkUpdate(): ").concat(ce," of ").concat(le," operations failed"),te)})})})},Yt.prototype.bulkDelete=function(y){var b=this,k=y.length;return this._trans("readwrite",function(T){return b.core.mutate({trans:T,type:"delete",keys:y})}).then(function(B){var N=B.numFailures,M=B.lastResult,B=B.failures;if(N===0)return M;throw new je("".concat(b.name,".bulkDelete(): ").concat(N," of ").concat(k," operations failed"),B)})},Yt);function Yt(){}function rs(y){function b(B,W){if(W){for(var ee=arguments.length,ie=new Array(ee-1);--ee;)ie[ee-1]=arguments[ee];return k[B].subscribe.apply(null,ie),y}if(typeof B=="string")return k[B]}var k={};b.addEventType=M;for(var T=1,N=arguments.length;T<N;++T)M(arguments[T]);return b;function M(B,W,ee){if(typeof B!="object"){var ie;W=W||es;var le={subscribers:[],fire:ee=ee||Tt,subscribe:function(Y){le.subscribers.indexOf(Y)===-1&&(le.subscribers.push(Y),le.fire=W(le.fire,Y))},unsubscribe:function(Y){le.subscribers=le.subscribers.filter(function(ce){return ce!==Y}),le.fire=le.subscribers.reduce(W,ee)}};return k[B]=b[B]=le}o(ie=B).forEach(function(Y){var ce=ie[Y];if(a(ce))M(Y,ie[Y][0],ie[Y][1]);else{if(ce!=="asap")throw new Pe.InvalidArgument("Invalid event config");var te=M(Y,fn,function(){for(var ae=arguments.length,he=new Array(ae);ae--;)he[ae]=arguments[ae];te.subscribers.forEach(function(oe){U(function(){oe.apply(null,he)})})})}})}}function Li(y,b){return S(b).from({prototype:y}),b}function Ri(y,b){return!(y.filter||y.algorithm||y.or)&&(b?y.justLimit:!y.replayFilter)}function Mu(y,b){y.filter=kr(y.filter,b)}function Du(y,b,k){var T=y.replayFilter;y.replayFilter=T?function(){return kr(T(),b())}:b,y.justLimit=k&&!T}function oo(y,b){if(y.isPrimKey)return b.primaryKey;var k=b.getIndexByKeyPath(y.index);if(!k)throw new Pe.Schema("KeyPath "+y.index+" on object store "+b.name+" is not indexed");return k}function Iu(y,b,k){var T=oo(y,b.schema);return b.openCursor({trans:k,values:!y.keysOnly,reverse:y.dir==="prev",unique:!!y.unique,query:{index:T,range:y.range}})}function ao(y,b,k,T){var N=y.replayFilter?kr(y.filter,y.replayFilter()):y.filter;if(y.or){var M={},B=function(W,ee,ie){var le,Y;N&&!N(ee,ie,function(ce){return ee.stop(ce)},function(ce){return ee.fail(ce)})||((Y=""+(le=ee.primaryKey))=="[object ArrayBuffer]"&&(Y=""+new Uint8Array(le)),f(M,Y)||(M[Y]=!0,b(W,ee,ie)))};return Promise.all([y.or._iterate(B,k),lo(Iu(y,T,k),y.algorithm,B,!y.keysOnly&&y.valueMapper)])}return lo(Iu(y,T,k),kr(y.algorithm,N),b,!y.keysOnly&&y.valueMapper)}function lo(y,b,k,T){var N=Te(T?function(M,B,W){return k(T(M),B,W)}:k);return y.then(function(M){if(M)return M.start(function(){var B=function(){return M.continue()};b&&!b(M,function(W){return B=W},function(W){M.stop(W),B=Tt},function(W){M.fail(W),B=Tt})||N(M.value,M,function(W){return B=W}),B()})})}var Zo=(cl.prototype.execute=function(y){var b=this["@@propmod"];if(b.add!==void 0){var k=b.add;if(a(k))return i(i([],a(y)?y:[],!0),k).sort();if(typeof k=="number")return(Number(y)||0)+k;if(typeof k=="bigint")try{return BigInt(y)+k}catch{return BigInt(0)+k}throw new TypeError("Invalid term ".concat(k))}if(b.remove!==void 0){var T=b.remove;if(a(T))return a(y)?y.filter(function(N){return!T.includes(N)}).sort():[];if(typeof T=="number")return Number(y)-T;if(typeof T=="bigint")try{return BigInt(y)-T}catch{return BigInt(0)-T}throw new TypeError("Invalid subtrahend ".concat(T))}return k=(k=b.replacePrefix)===null||k===void 0?void 0:k[0],k&&typeof y=="string"&&y.startsWith(k)?b.replacePrefix[1]+y.substring(k.length):y},cl);function cl(y){this["@@propmod"]=y}var Gt=(zt.prototype._read=function(y,b){var k=this._ctx;return k.error?k.table._trans(null,$t.bind(null,k.error)):k.table._trans("readonly",y).then(b)},zt.prototype._write=function(y){var b=this._ctx;return b.error?b.table._trans(null,$t.bind(null,b.error)):b.table._trans("readwrite",y,"locked")},zt.prototype._addAlgorithm=function(y){var b=this._ctx;b.algorithm=kr(b.algorithm,y)},zt.prototype._iterate=function(y,b){return ao(this._ctx,y,b,this._ctx.table.core)},zt.prototype.clone=function(y){var b=Object.create(this.constructor.prototype),k=Object.create(this._ctx);return y&&u(k,y),b._ctx=k,b},zt.prototype.raw=function(){return this._ctx.valueMapper=null,this},zt.prototype.each=function(y){var b=this._ctx;return this._read(function(k){return ao(b,y,k,b.table.core)})},zt.prototype.count=function(y){var b=this;return this._read(function(k){var T=b._ctx,N=T.table.core;if(Ri(T,!0))return N.count({trans:k,query:{index:oo(T,N.schema),range:T.range}}).then(function(B){return Math.min(B,T.limit)});var M=0;return ao(T,function(){return++M,!1},k,N).then(function(){return M})}).then(y)},zt.prototype.sortBy=function(y,b){var k=y.split(".").reverse(),T=k[0],N=k.length-1;function M(ee,ie){return ie?M(ee[k[ie]],ie-1):ee[T]}var B=this._ctx.dir==="next"?1:-1;function W(ee,ie){return ft(M(ee,N),M(ie,N))*B}return this.toArray(function(ee){return ee.sort(W)}).then(b)},zt.prototype.toArray=function(y){var b=this;return this._read(function(k){var T=b._ctx;if(T.dir==="next"&&Ri(T,!0)&&0<T.limit){var N=T.valueMapper,M=oo(T,T.table.core.schema);return T.table.core.query({trans:k,limit:T.limit,values:!0,query:{index:M,range:T.range}}).then(function(W){return W=W.result,N?W.map(N):W})}var B=[];return ao(T,function(W){return B.push(W)},k,T.table.core).then(function(){return B})},y)},zt.prototype.offset=function(y){var b=this._ctx;return y<=0||(b.offset+=y,Ri(b)?Du(b,function(){var k=y;return function(T,N){return k===0||(k===1?--k:N(function(){T.advance(k),k=0}),!1)}}):Du(b,function(){var k=y;return function(){return--k<0}})),this},zt.prototype.limit=function(y){return this._ctx.limit=Math.min(this._ctx.limit,y),Du(this._ctx,function(){var b=y;return function(k,T,N){return--b<=0&&T(N),0<=b}},!0),this},zt.prototype.until=function(y,b){return Mu(this._ctx,function(k,T,N){return!y(k.value)||(T(N),b)}),this},zt.prototype.first=function(y){return this.limit(1).toArray(function(b){return b[0]}).then(y)},zt.prototype.last=function(y){return this.reverse().first(y)},zt.prototype.filter=function(y){var b;return Mu(this._ctx,function(k){return y(k.value)}),(b=this._ctx).isMatch=kr(b.isMatch,y),this},zt.prototype.and=function(y){return this.filter(y)},zt.prototype.or=function(y){return new this.db.WhereClause(this._ctx.table,y,this)},zt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},zt.prototype.desc=function(){return this.reverse()},zt.prototype.eachKey=function(y){var b=this._ctx;return b.keysOnly=!b.isMatch,this.each(function(k,T){y(T.key,T)})},zt.prototype.eachUniqueKey=function(y){return this._ctx.unique="unique",this.eachKey(y)},zt.prototype.eachPrimaryKey=function(y){var b=this._ctx;return b.keysOnly=!b.isMatch,this.each(function(k,T){y(T.primaryKey,T)})},zt.prototype.keys=function(y){var b=this._ctx;b.keysOnly=!b.isMatch;var k=[];return this.each(function(T,N){k.push(N.key)}).then(function(){return k}).then(y)},zt.prototype.primaryKeys=function(y){var b=this._ctx;if(b.dir==="next"&&Ri(b,!0)&&0<b.limit)return this._read(function(T){var N=oo(b,b.table.core.schema);return b.table.core.query({trans:T,values:!1,limit:b.limit,query:{index:N,range:b.range}})}).then(function(T){return T.result}).then(y);b.keysOnly=!b.isMatch;var k=[];return this.each(function(T,N){k.push(N.primaryKey)}).then(function(){return k}).then(y)},zt.prototype.uniqueKeys=function(y){return this._ctx.unique="unique",this.keys(y)},zt.prototype.firstKey=function(y){return this.limit(1).keys(function(b){return b[0]}).then(y)},zt.prototype.lastKey=function(y){return this.reverse().firstKey(y)},zt.prototype.distinct=function(){var y=this._ctx,y=y.index&&y.table.schema.idxByName[y.index];if(!y||!y.multi)return this;var b={};return Mu(this._ctx,function(N){var T=N.primaryKey.toString(),N=f(b,T);return b[T]=!0,!N}),this},zt.prototype.modify=function(y){var b=this,k=this._ctx;return this._write(function(T){var N,M,B;B=typeof y=="function"?y:(N=o(y),M=N.length,function(oe){for(var ve=!1,we=0;we<M;++we){var Se=N[we],ke=y[Se],Me=O(oe,Se);ke instanceof Zo?($(oe,Se,ke.execute(Me)),ve=!0):Me!==ke&&($(oe,Se,ke),ve=!0)}return ve});var W=k.table.core,Y=W.schema.primaryKey,ee=Y.outbound,ie=Y.extractKey,le=200,Y=b.db._options.modifyChunkSize;Y&&(le=typeof Y=="object"?Y[W.name]||Y["*"]||200:Y);function ce(oe,Se){var we=Se.failures,Se=Se.numFailures;ae+=oe-Se;for(var ke=0,Me=o(we);ke<Me.length;ke++){var Ue=Me[ke];te.push(we[Ue])}}var te=[],ae=0,he=[];return b.clone().primaryKeys().then(function(oe){function ve(Se){var ke=Math.min(le,oe.length-Se);return W.getMany({trans:T,keys:oe.slice(Se,Se+ke),cache:"immutable"}).then(function(Me){for(var Ue=[],De=[],Be=ee?[]:null,Qe=[],ze=0;ze<ke;++ze){var Ge=Me[ze],yt={value:pe(Ge),primKey:oe[Se+ze]};B.call(yt,yt.value,yt)!==!1&&(yt.value==null?Qe.push(oe[Se+ze]):ee||ft(ie(Ge),ie(yt.value))===0?(De.push(yt.value),ee&&Be.push(oe[Se+ze])):(Qe.push(oe[Se+ze]),Ue.push(yt.value)))}return Promise.resolve(0<Ue.length&&W.mutate({trans:T,type:"add",values:Ue}).then(function(bt){for(var kt in bt.failures)Qe.splice(parseInt(kt),1);ce(Ue.length,bt)})).then(function(){return(0<De.length||we&&typeof y=="object")&&W.mutate({trans:T,type:"put",keys:Be,values:De,criteria:we,changeSpec:typeof y!="function"&&y,isAdditionalChunk:0<Se}).then(function(bt){return ce(De.length,bt)})}).then(function(){return(0<Qe.length||we&&y===dl)&&W.mutate({trans:T,type:"delete",keys:Qe,criteria:we,isAdditionalChunk:0<Se}).then(function(bt){return ce(Qe.length,bt)})}).then(function(){return oe.length>Se+ke&&ve(Se+le)})})}var we=Ri(k)&&k.limit===1/0&&(typeof y!="function"||y===dl)&&{index:k.index,range:k.range};return ve(0).then(function(){if(0<te.length)throw new Ee("Error modifying one or more objects",te,ae,he);return oe.length})})})},zt.prototype.delete=function(){var y=this._ctx,b=y.range;return Ri(y)&&(y.isPrimKey||b.type===3)?this._write(function(k){var T=y.table.core.schema.primaryKey,N=b;return y.table.core.count({trans:k,query:{index:T,range:N}}).then(function(M){return y.table.core.mutate({trans:k,type:"deleteRange",range:N}).then(function(B){var W=B.failures;if(B.lastResult,B.results,B=B.numFailures,B)throw new Ee("Could not delete some values",Object.keys(W).map(function(ee){return W[ee]}),M-B);return M-B})})}):this.modify(dl)},zt);function zt(){}var dl=function(y,b){return b.value=null};function Fu(y,b){return y<b?-1:y===b?0:1}function Dd(y,b){return b<y?-1:y===b?0:1}function ar(y,b,k){return y=y instanceof Di?new y.Collection(y):y,y._ctx.error=new(k||TypeError)(b),y}function _s(y){return new y.Collection(y,function(){return Mi("")}).limit(0)}function uo(y,b,k,T){var N,M,B,W,ee,ie,le,Y=k.length;if(!k.every(function(ae){return typeof ae=="string"}))return ar(y,pi);function ce(ae){N=ae==="next"?function(oe){return oe.toUpperCase()}:function(oe){return oe.toLowerCase()},M=ae==="next"?function(oe){return oe.toLowerCase()}:function(oe){return oe.toUpperCase()},B=ae==="next"?Fu:Dd;var he=k.map(function(oe){return{lower:M(oe),upper:N(oe)}}).sort(function(oe,ve){return B(oe.lower,ve.lower)});W=he.map(function(oe){return oe.upper}),ee=he.map(function(oe){return oe.lower}),le=(ie=ae)==="next"?"":T}ce("next"),y=new y.Collection(y,function(){return ei(W[0],ee[Y-1]+T)}),y._ondirectionchange=function(ae){ce(ae)};var te=0;return y._addAlgorithm(function(ae,he,oe){var ve=ae.key;if(typeof ve!="string")return!1;var we=M(ve);if(b(we,ee,te))return!0;for(var Se=null,ke=te;ke<Y;++ke){var Me=function(Ue,De,Be,Qe,ze,Ge){for(var yt=Math.min(Ue.length,Qe.length),bt=-1,kt=0;kt<yt;++kt){var ur=De[kt];if(ur!==Qe[kt])return ze(Ue[kt],Be[kt])<0?Ue.substr(0,kt)+Be[kt]+Be.substr(kt+1):ze(Ue[kt],Qe[kt])<0?Ue.substr(0,kt)+Qe[kt]+Be.substr(kt+1):0<=bt?Ue.substr(0,bt)+De[bt]+Be.substr(bt+1):null;ze(Ue[kt],ur)<0&&(bt=kt)}return yt<Qe.length&&Ge==="next"?Ue+Be.substr(Ue.length):yt<Ue.length&&Ge==="prev"?Ue.substr(0,Be.length):bt<0?null:Ue.substr(0,bt)+Qe[bt]+Be.substr(bt+1)}(ve,we,W[ke],ee[ke],B,ie);Me===null&&Se===null?te=ke+1:(Se===null||0<B(Se,Me))&&(Se=Me)}return he(Se!==null?function(){ae.continue(Se+le)}:oe),!1}),y}function ei(y,b,k,T){return{type:2,lower:y,upper:b,lowerOpen:k,upperOpen:T}}function Mi(y){return{type:1,lower:y,upper:y}}var Di=(Object.defineProperty(tn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),tn.prototype.between=function(y,b,k,T){k=k!==!1,T=T===!0;try{return 0<this._cmp(y,b)||this._cmp(y,b)===0&&(k||T)&&(!k||!T)?_s(this):new this.Collection(this,function(){return ei(y,b,!k,!T)})}catch{return ar(this,At)}},tn.prototype.equals=function(y){return y==null?ar(this,At):new this.Collection(this,function(){return Mi(y)})},tn.prototype.above=function(y){return y==null?ar(this,At):new this.Collection(this,function(){return ei(y,void 0,!0)})},tn.prototype.aboveOrEqual=function(y){return y==null?ar(this,At):new this.Collection(this,function(){return ei(y,void 0,!1)})},tn.prototype.below=function(y){return y==null?ar(this,At):new this.Collection(this,function(){return ei(void 0,y,!1,!0)})},tn.prototype.belowOrEqual=function(y){return y==null?ar(this,At):new this.Collection(this,function(){return ei(void 0,y)})},tn.prototype.startsWith=function(y){return typeof y!="string"?ar(this,pi):this.between(y,y+Jr,!0,!0)},tn.prototype.startsWithIgnoreCase=function(y){return y===""?this.startsWith(y):uo(this,function(b,k){return b.indexOf(k[0])===0},[y],Jr)},tn.prototype.equalsIgnoreCase=function(y){return uo(this,function(b,k){return b===k[0]},[y],"")},tn.prototype.anyOfIgnoreCase=function(){var y=D.apply(me,arguments);return y.length===0?_s(this):uo(this,function(b,k){return k.indexOf(b)!==-1},y,"")},tn.prototype.startsWithAnyOfIgnoreCase=function(){var y=D.apply(me,arguments);return y.length===0?_s(this):uo(this,function(b,k){return k.some(function(T){return b.indexOf(T)===0})},y,Jr)},tn.prototype.anyOf=function(){var y=this,b=D.apply(me,arguments),k=this._cmp;try{b.sort(k)}catch{return ar(this,At)}if(b.length===0)return _s(this);var T=new this.Collection(this,function(){return ei(b[0],b[b.length-1])});T._ondirectionchange=function(M){k=M==="next"?y._ascending:y._descending,b.sort(k)};var N=0;return T._addAlgorithm(function(M,B,W){for(var ee=M.key;0<k(ee,b[N]);)if(++N===b.length)return B(W),!1;return k(ee,b[N])===0||(B(function(){M.continue(b[N])}),!1)}),T},tn.prototype.notEqual=function(y){return this.inAnyRange([[-1/0,y],[y,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},tn.prototype.noneOf=function(){var y=D.apply(me,arguments);if(y.length===0)return new this.Collection(this);try{y.sort(this._ascending)}catch{return ar(this,At)}var b=y.reduce(function(k,T){return k?k.concat([[k[k.length-1][1],T]]):[[-1/0,T]]},null);return b.push([y[y.length-1],this.db._maxKey]),this.inAnyRange(b,{includeLowers:!1,includeUppers:!1})},tn.prototype.inAnyRange=function(ve,b){var k=this,T=this._cmp,N=this._ascending,M=this._descending,B=this._min,W=this._max;if(ve.length===0)return _s(this);if(!ve.every(function(we){return we[0]!==void 0&&we[1]!==void 0&&N(we[0],we[1])<=0}))return ar(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Pe.InvalidArgument);var ee=!b||b.includeLowers!==!1,ie=b&&b.includeUppers===!0,le,Y=N;function ce(we,Se){return Y(we[0],Se[0])}try{(le=ve.reduce(function(we,Se){for(var ke=0,Me=we.length;ke<Me;++ke){var Ue=we[ke];if(T(Se[0],Ue[1])<0&&0<T(Se[1],Ue[0])){Ue[0]=B(Ue[0],Se[0]),Ue[1]=W(Ue[1],Se[1]);break}}return ke===Me&&we.push(Se),we},[])).sort(ce)}catch{return ar(this,At)}var te=0,ae=ie?function(we){return 0<N(we,le[te][1])}:function(we){return 0<=N(we,le[te][1])},he=ee?function(we){return 0<M(we,le[te][0])}:function(we){return 0<=M(we,le[te][0])},oe=ae,ve=new this.Collection(this,function(){return ei(le[0][0],le[le.length-1][1],!ee,!ie)});return ve._ondirectionchange=function(we){Y=we==="next"?(oe=ae,N):(oe=he,M),le.sort(ce)},ve._addAlgorithm(function(we,Se,ke){for(var Me,Ue=we.key;oe(Ue);)if(++te===le.length)return Se(ke),!1;return!ae(Me=Ue)&&!he(Me)||(k._cmp(Ue,le[te][1])===0||k._cmp(Ue,le[te][0])===0||Se(function(){Y===N?we.continue(le[te][0]):we.continue(le[te][1])}),!1)}),ve},tn.prototype.startsWithAnyOf=function(){var y=D.apply(me,arguments);return y.every(function(b){return typeof b=="string"})?y.length===0?_s(this):this.inAnyRange(y.map(function(b){return[b,b+Jr]})):ar(this,"startsWithAnyOf() only works with strings")},tn);function tn(){}function lr(y){return Te(function(b){return Ii(b),y(b.target.error),!1})}function Ii(y){y.stopPropagation&&y.stopPropagation(),y.preventDefault&&y.preventDefault()}var Lr="storagemutated",Bu="x-storagemutated-1",Fi=rs(null,Lr),ea=(gi.prototype._lock=function(){return F(!Ve.global),++this._reculock,this._reculock!==1||Ve.global||(Ve.lockOwnerFor=this),this},gi.prototype._unlock=function(){if(F(!Ve.global),--this._reculock==0)for(Ve.global||(Ve.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var y=this._blockedFuncs.shift();try{Kn(y[1],y[0])}catch{}}return this},gi.prototype._locked=function(){return this._reculock&&Ve.lockOwnerFor!==this},gi.prototype.create=function(y){var b=this;if(!this.mode)return this;var k=this.db.idbdb,T=this.db._state.dbOpenError;if(F(!this.idbtrans),!y&&!k)switch(T&&T.name){case"DatabaseClosedError":throw new Pe.DatabaseClosed(T);case"MissingAPIError":throw new Pe.MissingAPI(T.message,T);default:throw new Pe.OpenFailed(T)}if(!this.active)throw new Pe.TransactionInactive;return F(this._completion._state===null),(y=this.idbtrans=y||(this.db.core||k).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Te(function(N){Ii(N),b._reject(y.error)}),y.onabort=Te(function(N){Ii(N),b.active&&b._reject(new Pe.Abort(y.error)),b.active=!1,b.on("abort").fire(N)}),y.oncomplete=Te(function(){b.active=!1,b._resolve(),"mutatedParts"in y&&Fi.storagemutated.fire(y.mutatedParts)}),this},gi.prototype._promise=function(y,b,k){var T=this;if(y==="readwrite"&&this.mode!=="readwrite")return $t(new Pe.ReadOnly("Transaction is readonly"));if(!this.active)return $t(new Pe.TransactionInactive);if(this._locked())return new qe(function(M,B){T._blockedFuncs.push([function(){T._promise(y,b,k).then(M,B)},Ve])});if(k)return et(function(){var M=new qe(function(B,W){T._lock();var ee=b(B,W,T);ee&&ee.then&&ee.then(B,W)});return M.finally(function(){return T._unlock()}),M._lib=!0,M});var N=new qe(function(M,B){var W=b(M,B,T);W&&W.then&&W.then(M,B)});return N._lib=!0,N},gi.prototype._root=function(){return this.parent?this.parent._root():this},gi.prototype.waitFor=function(y){var b,k=this._root(),T=qe.resolve(y);k._waitingFor?k._waitingFor=k._waitingFor.then(function(){return T}):(k._waitingFor=T,k._waitingQueue=[],b=k.idbtrans.objectStore(k.storeNames[0]),function M(){for(++k._spinCount;k._waitingQueue.length;)k._waitingQueue.shift()();k._waitingFor&&(b.get(-1/0).onsuccess=M)}());var N=k._waitingFor;return new qe(function(M,B){T.then(function(W){return k._waitingQueue.push(Te(M.bind(null,W)))},function(W){return k._waitingQueue.push(Te(B.bind(null,W)))}).finally(function(){k._waitingFor===N&&(k._waitingFor=null)})})},gi.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Pe.Abort))},gi.prototype.table=function(y){var b=this._memoizedTables||(this._memoizedTables={});if(f(b,y))return b[y];var k=this.schema[y];if(!k)throw new Pe.NotFound("Table "+y+" not part of transaction");return k=new this.db.Table(y,k,this),k.core=this.db.core.table(y),b[y]=k},gi);function gi(){}function hl(y,b,k,T,N,M,B){return{name:y,keyPath:b,unique:k,multi:T,auto:N,compound:M,src:(k&&!B?"&":"")+(T?"*":"")+(N?"++":"")+ta(b)}}function ta(y){return typeof y=="string"?y:y?"["+[].join.call(y,"+")+"]":""}function fl(y,b,k){return{name:y,primKey:b,indexes:k,mappedClass:null,idxByName:(T=function(N){return[N.name,N]},k.reduce(function(N,M,B){return B=T(M,B),B&&(N[B[0]]=B[1]),N},{}))};var T}var na=function(y){try{return y.only([[]]),na=function(){return[[]]},[[]]}catch{return na=function(){return Jr},Jr}};function Ss(y){return y==null?function(){}:typeof y=="string"?(b=y).split(".").length===1?function(k){return k[b]}:function(k){return O(k,b)}:function(k){return O(k,y)};var b}function co(y){return[].slice.call(y)}var ho=0;function is(y){return y==null?":id":typeof y=="string"?y:"[".concat(y.join("+"),"]")}function om(y,b,ee){function T(oe){if(oe.type===3)return null;if(oe.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var te=oe.lower,ae=oe.upper,he=oe.lowerOpen,oe=oe.upperOpen;return te===void 0?ae===void 0?null:b.upperBound(ae,!!oe):ae===void 0?b.lowerBound(te,!!he):b.bound(te,ae,!!he,!!oe)}function N(ce){var te,ae=ce.name;return{name:ae,schema:ce,mutate:function(he){var oe=he.trans,ve=he.type,we=he.keys,Se=he.values,ke=he.range;return new Promise(function(Me,Ue){Me=Te(Me);var De=oe.objectStore(ae),Be=De.keyPath==null,Qe=ve==="put"||ve==="add";if(!Qe&&ve!=="delete"&&ve!=="deleteRange")throw new Error("Invalid operation type: "+ve);var ze,Ge=(we||Se||{length:1}).length;if(we&&Se&&we.length!==Se.length)throw new Error("Given keys array must have same length as given values array.");if(Ge===0)return Me({numFailures:0,failures:{},results:[],lastResult:void 0});function yt(gn){++ur,Ii(gn)}var bt=[],kt=[],ur=0;if(ve==="deleteRange"){if(ke.type===4)return Me({numFailures:ur,failures:kt,results:[],lastResult:void 0});ke.type===3?bt.push(ze=De.clear()):bt.push(ze=De.delete(T(ke)))}else{var Be=Qe?Be?[Se,we]:[Se,null]:[we,null],gt=Be[0],zn=Be[1];if(Qe)for(var $n=0;$n<Ge;++$n)bt.push(ze=zn&&zn[$n]!==void 0?De[ve](gt[$n],zn[$n]):De[ve](gt[$n])),ze.onerror=yt;else for($n=0;$n<Ge;++$n)bt.push(ze=De[ve](gt[$n])),ze.onerror=yt}function ha(gn){gn=gn.target.result,bt.forEach(function(Bi,fa){return Bi.error!=null&&(kt[fa]=Bi.error)}),Me({numFailures:ur,failures:kt,results:ve==="delete"?we:bt.map(function(Bi){return Bi.result}),lastResult:gn})}ze.onerror=function(gn){yt(gn),ha(gn)},ze.onsuccess=ha})},getMany:function(he){var oe=he.trans,ve=he.keys;return new Promise(function(we,Se){we=Te(we);for(var ke,Me=oe.objectStore(ae),Ue=ve.length,De=new Array(Ue),Be=0,Qe=0,ze=function(bt){bt=bt.target,De[bt._pos]=bt.result,++Qe===Be&&we(De)},Ge=lr(Se),yt=0;yt<Ue;++yt)ve[yt]!=null&&((ke=Me.get(ve[yt]))._pos=yt,ke.onsuccess=ze,ke.onerror=Ge,++Be);Be===0&&we(De)})},get:function(he){var oe=he.trans,ve=he.key;return new Promise(function(we,Se){we=Te(we);var ke=oe.objectStore(ae).get(ve);ke.onsuccess=function(Me){return we(Me.target.result)},ke.onerror=lr(Se)})},query:(te=ie,function(he){return new Promise(function(oe,ve){oe=Te(oe);var we,Se,ke,Be=he.trans,Me=he.values,Ue=he.limit,ze=he.query,De=Ue===1/0?void 0:Ue,Qe=ze.index,ze=ze.range,Be=Be.objectStore(ae),Qe=Qe.isPrimaryKey?Be:Be.index(Qe.name),ze=T(ze);if(Ue===0)return oe({result:[]});te?((De=Me?Qe.getAll(ze,De):Qe.getAllKeys(ze,De)).onsuccess=function(Ge){return oe({result:Ge.target.result})},De.onerror=lr(ve)):(we=0,Se=!Me&&"openKeyCursor"in Qe?Qe.openKeyCursor(ze):Qe.openCursor(ze),ke=[],Se.onsuccess=function(Ge){var yt=Se.result;return yt?(ke.push(Me?yt.value:yt.primaryKey),++we===Ue?oe({result:ke}):void yt.continue()):oe({result:ke})},Se.onerror=lr(ve))})}),openCursor:function(he){var oe=he.trans,ve=he.values,we=he.query,Se=he.reverse,ke=he.unique;return new Promise(function(Me,Ue){Me=Te(Me);var Qe=we.index,De=we.range,Be=oe.objectStore(ae),Be=Qe.isPrimaryKey?Be:Be.index(Qe.name),Qe=Se?ke?"prevunique":"prev":ke?"nextunique":"next",ze=!ve&&"openKeyCursor"in Be?Be.openKeyCursor(T(De),Qe):Be.openCursor(T(De),Qe);ze.onerror=lr(Ue),ze.onsuccess=Te(function(Ge){var yt,bt,kt,ur,gt=ze.result;gt?(gt.___id=++ho,gt.done=!1,yt=gt.continue.bind(gt),bt=(bt=gt.continuePrimaryKey)&&bt.bind(gt),kt=gt.advance.bind(gt),ur=function(){throw new Error("Cursor not stopped")},gt.trans=oe,gt.stop=gt.continue=gt.continuePrimaryKey=gt.advance=function(){throw new Error("Cursor not started")},gt.fail=Te(Ue),gt.next=function(){var zn=this,$n=1;return this.start(function(){return $n--?zn.continue():zn.stop()}).then(function(){return zn})},gt.start=function(zn){function $n(){if(ze.result)try{zn()}catch(gn){gt.fail(gn)}else gt.done=!0,gt.start=function(){throw new Error("Cursor behind last entry")},gt.stop()}var ha=new Promise(function(gn,Bi){gn=Te(gn),ze.onerror=lr(Bi),gt.fail=Bi,gt.stop=function(fa){gt.stop=gt.continue=gt.continuePrimaryKey=gt.advance=ur,gn(fa)}});return ze.onsuccess=Te(function(gn){ze.onsuccess=$n,$n()}),gt.continue=yt,gt.continuePrimaryKey=bt,gt.advance=kt,$n(),ha},Me(gt)):Me(null)},Ue)})},count:function(he){var oe=he.query,ve=he.trans,we=oe.index,Se=oe.range;return new Promise(function(ke,Me){var Ue=ve.objectStore(ae),De=we.isPrimaryKey?Ue:Ue.index(we.name),Ue=T(Se),De=Ue?De.count(Ue):De.count();De.onsuccess=Te(function(Be){return ke(Be.target.result)}),De.onerror=lr(Me)})}}}var M,B,W,le=(B=ee,W=co((M=y).objectStoreNames),{schema:{name:M.name,tables:W.map(function(ce){return B.objectStore(ce)}).map(function(ce){var te=ce.keyPath,oe=ce.autoIncrement,ae=a(te),he={},oe={name:ce.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:te==null,compound:ae,keyPath:te,autoIncrement:oe,unique:!0,extractKey:Ss(te)},indexes:co(ce.indexNames).map(function(ve){return ce.index(ve)}).map(function(ke){var we=ke.name,Se=ke.unique,Me=ke.multiEntry,ke=ke.keyPath,Me={name:we,compound:a(ke),keyPath:ke,unique:Se,multiEntry:Me,extractKey:Ss(ke)};return he[is(ke)]=Me}),getIndexByKeyPath:function(ve){return he[is(ve)]}};return he[":id"]=oe.primaryKey,te!=null&&(he[is(te)]=oe.primaryKey),oe})},hasGetAll:0<W.length&&"getAll"in B.objectStore(W[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),ee=le.schema,ie=le.hasGetAll,le=ee.tables.map(N),Y={};return le.forEach(function(ce){return Y[ce.name]=ce}),{stack:"dbcore",transaction:y.transaction.bind(y),table:function(ce){if(!Y[ce])throw new Error("Table '".concat(ce,"' not found"));return Y[ce]},MIN_KEY:-1/0,MAX_KEY:na(b),schema:ee}}function am(y,b,k,T){var N=k.IDBKeyRange;return k.indexedDB,{dbcore:(T=om(b,N,T),y.dbcore.reduce(function(M,B){return B=B.create,r(r({},M),B(M))},T))}}function fo(y,T){var k=T.db,T=am(y._middlewares,k,y._deps,T);y.core=T.dbcore,y.tables.forEach(function(N){var M=N.name;y.core.schema.tables.some(function(B){return B.name===M})&&(N.core=y.core.table(M),y[M]instanceof y.Table&&(y[M].core=N.core))})}function Cs(y,b,k,T){k.forEach(function(N){var M=T[N];b.forEach(function(B){var W=function ee(ie,le){return C(ie,le)||(ie=c(ie))&&ee(ie,le)}(B,N);(!W||"value"in W&&W.value===void 0)&&(B===y.Transaction.prototype||B instanceof y.Transaction?_(B,N,{get:function(){return this.table(N)},set:function(ee){v(this,N,{value:ee,writable:!0,configurable:!0,enumerable:!0})}}):B[N]=new y.Table(N,M))})})}function ra(y,b){b.forEach(function(k){for(var T in k)k[T]instanceof y.Table&&delete k[T]})}function Id(y,b){return y._cfg.version-b._cfg.version}function ss(y,b,k,T){var N=y._dbSchema;k.objectStoreNames.contains("$meta")&&!N.$meta&&(N.$meta=fl("$meta",Es("")[0],[]),y._storeNames.push("$meta"));var M=y._createTransaction("readwrite",y._storeNames,N);M.create(k),M._completion.catch(T);var B=M._reject.bind(M),W=Ve.transless||Ve;et(function(){return Ve.trans=M,Ve.transless=W,b!==0?(fo(y,k),ie=b,((ee=M).storeNames.includes("$meta")?ee.table("$meta").get("version").then(function(le){return le??ie}):qe.resolve(ie)).then(function(le){return ce=le,te=M,ae=k,he=[],le=(Y=y)._versions,oe=Y._dbSchema=sa(0,Y.idbdb,ae),(le=le.filter(function(ve){return ve._cfg.version>=ce})).length!==0?(le.forEach(function(ve){he.push(function(){var we=oe,Se=ve._cfg.dbschema;Gn(Y,we,ae),Gn(Y,Se,ae),oe=Y._dbSchema=Se;var ke=po(we,Se);ke.add.forEach(function(Qe){pl(ae,Qe[0],Qe[1].primKey,Qe[1].indexes)}),ke.change.forEach(function(Qe){if(Qe.recreate)throw new Pe.Upgrade("Not yet support for changing primary key");var ze=ae.objectStore(Qe.name);Qe.add.forEach(function(Ge){return ks(ze,Ge)}),Qe.change.forEach(function(Ge){ze.deleteIndex(Ge.name),ks(ze,Ge)}),Qe.del.forEach(function(Ge){return ze.deleteIndex(Ge)})});var Me=ve._cfg.contentUpgrade;if(Me&&ve._cfg.version>ce){fo(Y,ae),te._memoizedTables={};var Ue=K(Se);ke.del.forEach(function(Qe){Ue[Qe]=we[Qe]}),ra(Y,[Y.Transaction.prototype]),Cs(Y,[Y.Transaction.prototype],o(Ue),Ue),te.schema=Ue;var De,Be=G(Me);return Be&&_t(),ke=qe.follow(function(){var Qe;(De=Me(te))&&Be&&(Qe=Pt.bind(null,null),De.then(Qe,Qe))}),De&&typeof De.then=="function"?qe.resolve(De):ke.then(function(){return De})}}),he.push(function(we){var Se,ke,Me=ve._cfg.dbschema;Se=Me,ke=we,[].slice.call(ke.db.objectStoreNames).forEach(function(Ue){return Se[Ue]==null&&ke.db.deleteObjectStore(Ue)}),ra(Y,[Y.Transaction.prototype]),Cs(Y,[Y.Transaction.prototype],Y._storeNames,Y._dbSchema),te.schema=Y._dbSchema}),he.push(function(we){Y.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(Y.idbdb.version/10)===ve._cfg.version?(Y.idbdb.deleteObjectStore("$meta"),delete Y._dbSchema.$meta,Y._storeNames=Y._storeNames.filter(function(Se){return Se!=="$meta"})):we.objectStore("$meta").put(ve._cfg.version,"version"))})}),function ve(){return he.length?qe.resolve(he.shift()(te.idbtrans)).then(ve):qe.resolve()}().then(function(){ia(oe,ae)})):qe.resolve();var Y,ce,te,ae,he,oe}).catch(B)):(o(N).forEach(function(le){pl(k,le,N[le].primKey,N[le].indexes)}),fo(y,k),void qe.follow(function(){return y.on.populate.fire(M)}).catch(B));var ee,ie})}function zu(y,b){ia(y._dbSchema,b),b.db.version%10!=0||b.objectStoreNames.contains("$meta")||b.db.createObjectStore("$meta").add(Math.ceil(b.db.version/10-1),"version");var k=sa(0,y.idbdb,b);Gn(y,y._dbSchema,b);for(var T=0,N=po(k,y._dbSchema).change;T<N.length;T++){var M=function(B){if(B.change.length||B.recreate)return console.warn("Unable to patch indexes of table ".concat(B.name," because it has changes on the type of index or primary key.")),{value:void 0};var W=b.objectStore(B.name);B.add.forEach(function(ee){jn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(B.name,".").concat(ee.src)),ks(W,ee)})}(N[T]);if(typeof M=="object")return M.value}}function po(y,b){var k,T={del:[],add:[],change:[]};for(k in y)b[k]||T.del.push(k);for(k in b){var N=y[k],M=b[k];if(N){var B={name:k,def:M,recreate:!1,del:[],add:[],change:[]};if(""+(N.primKey.keyPath||"")!=""+(M.primKey.keyPath||"")||N.primKey.auto!==M.primKey.auto)B.recreate=!0,T.change.push(B);else{var W=N.idxByName,ee=M.idxByName,ie=void 0;for(ie in W)ee[ie]||B.del.push(ie);for(ie in ee){var le=W[ie],Y=ee[ie];le?le.src!==Y.src&&B.change.push(Y):B.add.push(Y)}(0<B.del.length||0<B.add.length||0<B.change.length)&&T.change.push(B)}}else T.add.push([k,M])}return T}function pl(y,b,k,T){var N=y.db.createObjectStore(b,k.keyPath?{keyPath:k.keyPath,autoIncrement:k.auto}:{autoIncrement:k.auto});return T.forEach(function(M){return ks(N,M)}),N}function ia(y,b){o(y).forEach(function(k){b.db.objectStoreNames.contains(k)||(jn&&console.debug("Dexie: Creating missing table",k),pl(b,k,y[k].primKey,y[k].indexes))})}function ks(y,b){y.createIndex(b.name,b.keyPath,{unique:b.unique,multiEntry:b.multi})}function sa(y,b,k){var T={};return R(b.objectStoreNames,0).forEach(function(N){for(var M=k.objectStore(N),B=hl(ta(ie=M.keyPath),ie||"",!0,!1,!!M.autoIncrement,ie&&typeof ie!="string",!0),W=[],ee=0;ee<M.indexNames.length;++ee){var le=M.index(M.indexNames[ee]),ie=le.keyPath,le=hl(le.name,ie,!!le.unique,!!le.multiEntry,!1,ie&&typeof ie!="string",!1);W.push(le)}T[N]=fl(N,B,W)}),T}function Gn(y,b,k){for(var T=k.db.objectStoreNames,N=0;N<T.length;++N){var M=T[N],B=k.objectStore(M);y._hasGetAll="getAll"in B;for(var W=0;W<B.indexNames.length;++W){var ee=B.indexNames[W],ie=B.index(ee).keyPath,le=typeof ie=="string"?ie:"["+R(ie).join("+")+"]";!b[M]||(ie=b[M].idxByName[le])&&(ie.name=ee,delete b[M].idxByName[le],b[M].idxByName[ee]=ie)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(y._hasGetAll=!1)}function Es(y){return y.split(",").map(function(b,k){var T=(b=b.trim()).replace(/([&*]|\+\+)/g,""),N=/^\[/.test(T)?T.match(/^\[(.*)\]$/)[1].split("+"):T;return hl(T,N||null,/\&/.test(b),/\*/.test(b),/\+\+/.test(b),a(N),k===0)})}var $u=(os.prototype._parseStoresSpec=function(y,b){o(y).forEach(function(k){if(y[k]!==null){var T=Es(y[k]),N=T.shift();if(N.unique=!0,N.multi)throw new Pe.Schema("Primary key cannot be multi-valued");T.forEach(function(M){if(M.auto)throw new Pe.Schema("Only primary key can be marked as autoIncrement (++)");if(!M.keyPath)throw new Pe.Schema("Index must have a name and cannot be an empty string")}),b[k]=fl(k,N,T)}})},os.prototype.stores=function(k){var b=this.db;this._cfg.storesSource=this._cfg.storesSource?u(this._cfg.storesSource,k):k;var k=b._versions,T={},N={};return k.forEach(function(M){u(T,M._cfg.storesSource),N=M._cfg.dbschema={},M._parseStoresSpec(T,N)}),b._dbSchema=N,ra(b,[b._allTables,b,b.Transaction.prototype]),Cs(b,[b._allTables,b,b.Transaction.prototype,this._cfg.tables],o(N),N),b._storeNames=o(N),this},os.prototype.upgrade=function(y){return this._cfg.contentUpgrade=Or(this._cfg.contentUpgrade||Tt,y),this},os);function os(){}function Uu(y,b){var k=y._dbNamesDB;return k||(k=y._dbNamesDB=new yi(mi,{addons:[],indexedDB:y,IDBKeyRange:b})).version(1).stores({dbnames:"name"}),k.table("dbnames")}function oa(y){return y&&typeof y.databases=="function"}function aa(y){return et(function(){return Ve.letThrough=!0,y()})}function js(y){return!("from"in y)}var Nn=function(y,b){if(!this){var k=new Nn;return y&&"d"in y&&u(k,y),k}u(this,arguments.length?{d:1,from:y,to:1<arguments.length?b:y}:{d:0})};function mo(y,b,k){var T=ft(b,k);if(!isNaN(T)){if(0<T)throw RangeError();if(js(y))return u(y,{from:b,to:k,d:1});var N=y.l,T=y.r;if(ft(k,y.from)<0)return N?mo(N,b,k):y.l={from:b,to:k,d:1,l:null,r:null},gl(y);if(0<ft(b,y.to))return T?mo(T,b,k):y.r={from:b,to:k,d:1,l:null,r:null},gl(y);ft(b,y.from)<0&&(y.from=b,y.l=null,y.d=T?T.d+1:1),0<ft(k,y.to)&&(y.to=k,y.r=null,y.d=y.l?y.l.d+1:1),k=!y.r,N&&!y.l&&la(y,N),T&&k&&la(y,T)}}function la(y,b){js(b)||function k(T,ee){var M=ee.from,B=ee.to,W=ee.l,ee=ee.r;mo(T,M,B),W&&k(T,W),ee&&k(T,ee)}(y,b)}function Fd(y,b){var k=ml(b),T=k.next();if(T.done)return!1;for(var N=T.value,M=ml(y),B=M.next(N.from),W=B.value;!T.done&&!B.done;){if(ft(W.from,N.to)<=0&&0<=ft(W.to,N.from))return!0;ft(N.from,W.from)<0?N=(T=k.next(W.from)).value:W=(B=M.next(N.from)).value}return!1}function ml(y){var b=js(y)?null:{s:0,n:y};return{next:function(k){for(var T=0<arguments.length;b;)switch(b.s){case 0:if(b.s=1,T)for(;b.n.l&&ft(k,b.n.from)<0;)b={up:b,n:b.n.l,s:1};else for(;b.n.l;)b={up:b,n:b.n.l,s:1};case 1:if(b.s=2,!T||ft(k,b.n.to)<=0)return{value:b.n,done:!1};case 2:if(b.n.r){b.s=3,b={up:b,n:b.n.r,s:0};continue}case 3:b=b.up}return{done:!0}}}}function gl(y){var b,k,T=(((b=y.r)===null||b===void 0?void 0:b.d)||0)-(((k=y.l)===null||k===void 0?void 0:k.d)||0),N=1<T?"r":T<-1?"l":"";N&&(b=N=="r"?"l":"r",k=r({},y),T=y[N],y.from=T.from,y.to=T.to,y[N]=T[N],k[N]=T[b],(y[b]=k).d=Bd(k)),y.d=Bd(y)}function Bd(k){var b=k.r,k=k.l;return(b?k?Math.max(b.d,k.d):b.d:k?k.d:0)+1}function yl(y,b){return o(b).forEach(function(k){y[k]?la(y[k],b[k]):y[k]=function T(N){var M,B,W={};for(M in N)f(N,M)&&(B=N[M],W[M]=!B||typeof B!="object"||ue.has(B.constructor)?B:T(B));return W}(b[k])}),y}function Hu(y,b){return y.all||b.all||Object.keys(y).some(function(k){return b[k]&&Fd(b[k],y[k])})}g(Nn.prototype,((Rr={add:function(y){return la(this,y),this},addKey:function(y){return mo(this,y,y),this},addKeys:function(y){var b=this;return y.forEach(function(k){return mo(b,k,k)}),this},hasKey:function(y){var b=ml(this).next(y).value;return b&&ft(b.from,y)<=0&&0<=ft(b.to,y)}})[Z]=function(){return ml(this)},Rr));var Ts={},Qu={},vl=!1;function xl(y){yl(Qu,y),vl||(vl=!0,setTimeout(function(){vl=!1,Vu(Qu,!(Qu={}))},0))}function Vu(y,b){b===void 0&&(b=!1);var k=new Set;if(y.all)for(var T=0,N=Object.values(Ts);T<N.length;T++)zd(B=N[T],y,k,b);else for(var M in y){var B,W=/^idb\:\/\/(.*)\/(.*)\//.exec(M);W&&(M=W[1],W=W[2],(B=Ts["idb://".concat(M,"/").concat(W)])&&zd(B,y,k,b))}k.forEach(function(ee){return ee()})}function zd(y,b,k,T){for(var N=[],M=0,B=Object.entries(y.queries.query);M<B.length;M++){for(var W=B[M],ee=W[0],ie=[],le=0,Y=W[1];le<Y.length;le++){var ce=Y[le];Hu(b,ce.obsSet)?ce.subscribers.forEach(function(oe){return k.add(oe)}):T&&ie.push(ce)}T&&N.push([ee,ie])}if(T)for(var te=0,ae=N;te<ae.length;te++){var he=ae[te],ee=he[0],ie=he[1];y.queries.query[ee]=ie}}function lm(y){var b=y._state,k=y._deps.indexedDB;if(b.isBeingOpened||y.idbdb)return b.dbReadyPromise.then(function(){return b.dbOpenError?$t(b.dbOpenError):y});b.isBeingOpened=!0,b.dbOpenError=null,b.openComplete=!1;var T=b.openCanceller,N=Math.round(10*y.verno),M=!1;function B(){if(b.openCanceller!==T)throw new Pe.DatabaseClosed("db.open() was cancelled")}function W(){return new qe(function(ce,te){if(B(),!k)throw new Pe.MissingAPI;var ae=y.name,he=b.autoSchema||!N?k.open(ae):k.open(ae,N);if(!he)throw new Pe.MissingAPI;he.onerror=lr(te),he.onblocked=Te(y._fireOnBlocked),he.onupgradeneeded=Te(function(oe){var ve;le=he.transaction,b.autoSchema&&!y._options.allowEmptyDB?(he.onerror=Ii,le.abort(),he.result.close(),(ve=k.deleteDatabase(ae)).onsuccess=ve.onerror=Te(function(){te(new Pe.NoSuchDatabase("Database ".concat(ae," doesnt exist")))})):(le.onerror=lr(te),oe=oe.oldVersion>Math.pow(2,62)?0:oe.oldVersion,Y=oe<1,y.idbdb=he.result,M&&zu(y,le),ss(y,oe/10,le,te))},te),he.onsuccess=Te(function(){le=null;var oe,ve,we,Se,ke,Me=y.idbdb=he.result,Ue=R(Me.objectStoreNames);if(0<Ue.length)try{var De=Me.transaction((Se=Ue).length===1?Se[0]:Se,"readonly");if(b.autoSchema)ve=Me,we=De,(oe=y).verno=ve.version/10,we=oe._dbSchema=sa(0,ve,we),oe._storeNames=R(ve.objectStoreNames,0),Cs(oe,[oe._allTables],o(we),we);else if(Gn(y,y._dbSchema,De),((ke=po(sa(0,(ke=y).idbdb,De),ke._dbSchema)).add.length||ke.change.some(function(Be){return Be.add.length||Be.change.length}))&&!M)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Me.close(),N=Me.version+1,M=!0,ce(W());fo(y,De)}catch{}Cr.push(y),Me.onversionchange=Te(function(Be){b.vcFired=!0,y.on("versionchange").fire(Be)}),Me.onclose=Te(function(Be){y.on("close").fire(Be)}),Y&&(ke=y._deps,De=ae,Me=ke.indexedDB,ke=ke.IDBKeyRange,oa(Me)||De===mi||Uu(Me,ke).put({name:De}).catch(Tt)),ce()},te)}).catch(function(ce){switch(ce?.name){case"UnknownError":if(0<b.PR1398_maxLoop)return b.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),W();break;case"VersionError":if(0<N)return N=0,W()}return qe.reject(ce)})}var ee,ie=b.dbReadyResolve,le=null,Y=!1;return qe.race([T,(typeof navigator>"u"?qe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(ce){function te(){return indexedDB.databases().finally(ce)}ee=setInterval(te,100),te()}).finally(function(){return clearInterval(ee)}):Promise.resolve()).then(W)]).then(function(){return B(),b.onReadyBeingFired=[],qe.resolve(aa(function(){return y.on.ready.fire(y.vip)})).then(function ce(){if(0<b.onReadyBeingFired.length){var te=b.onReadyBeingFired.reduce(Or,Tt);return b.onReadyBeingFired=[],qe.resolve(aa(function(){return te(y.vip)})).then(ce)}})}).finally(function(){b.openCanceller===T&&(b.onReadyBeingFired=null,b.isBeingOpened=!1)}).catch(function(ce){b.dbOpenError=ce;try{le&&le.abort()}catch{}return T===b.openCanceller&&y._close(),$t(ce)}).finally(function(){b.openComplete=!0,ie()}).then(function(){var ce;return Y&&(ce={},y.tables.forEach(function(te){te.schema.indexes.forEach(function(ae){ae.name&&(ce["idb://".concat(y.name,"/").concat(te.name,"/").concat(ae.name)]=new Nn(-1/0,[[[]]]))}),ce["idb://".concat(y.name,"/").concat(te.name,"/")]=ce["idb://".concat(y.name,"/").concat(te.name,"/:dels")]=new Nn(-1/0,[[[]]])}),Fi(Lr).fire(ce),Vu(ce,!0)),y})}function ua(y){function b(M){return y.next(M)}var k=N(b),T=N(function(M){return y.throw(M)});function N(M){return function(ee){var W=M(ee),ee=W.value;return W.done?ee:ee&&typeof ee.then=="function"?ee.then(k,T):a(ee)?Promise.all(ee).then(k,T):k(ee)}}return N(b)()}function bl(y,b,k){for(var T=a(y)?y.slice():[y],N=0;N<k;++N)T.push(b);return T}var um={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(y){return r(r({},y),{table:function(b){var k=y.table(b),T=k.schema,N={},M=[];function B(Y,ce,te){var ae=is(Y),he=N[ae]=N[ae]||[],oe=Y==null?0:typeof Y=="string"?1:Y.length,ve=0<ce,ve=r(r({},te),{name:ve?"".concat(ae,"(virtual-from:").concat(te.name,")"):te.name,lowLevelIndex:te,isVirtual:ve,keyTail:ce,keyLength:oe,extractKey:Ss(Y),unique:!ve&&te.unique});return he.push(ve),ve.isPrimaryKey||M.push(ve),1<oe&&B(oe===2?Y[0]:Y.slice(0,oe-1),ce+1,te),he.sort(function(we,Se){return we.keyTail-Se.keyTail}),ve}b=B(T.primaryKey.keyPath,0,T.primaryKey),N[":id"]=[b];for(var W=0,ee=T.indexes;W<ee.length;W++){var ie=ee[W];B(ie.keyPath,0,ie)}function le(Y){var ce,te=Y.query.index;return te.isVirtual?r(r({},Y),{query:{index:te.lowLevelIndex,range:(ce=Y.query.range,te=te.keyTail,{type:ce.type===1?2:ce.type,lower:bl(ce.lower,ce.lowerOpen?y.MAX_KEY:y.MIN_KEY,te),lowerOpen:!0,upper:bl(ce.upper,ce.upperOpen?y.MIN_KEY:y.MAX_KEY,te),upperOpen:!0})}}):Y}return r(r({},k),{schema:r(r({},T),{primaryKey:b,indexes:M,getIndexByKeyPath:function(Y){return(Y=N[is(Y)])&&Y[0]}}),count:function(Y){return k.count(le(Y))},query:function(Y){return k.query(le(Y))},openCursor:function(Y){var ce=Y.query.index,te=ce.keyTail,ae=ce.isVirtual,he=ce.keyLength;return ae?k.openCursor(le(Y)).then(function(ve){return ve&&oe(ve)}):k.openCursor(Y);function oe(ve){return Object.create(ve,{continue:{value:function(we){we!=null?ve.continue(bl(we,Y.reverse?y.MAX_KEY:y.MIN_KEY,te)):Y.unique?ve.continue(ve.key.slice(0,he).concat(Y.reverse?y.MIN_KEY:y.MAX_KEY,te)):ve.continue()}},continuePrimaryKey:{value:function(we,Se){ve.continuePrimaryKey(bl(we,y.MAX_KEY,te),Se)}},primaryKey:{get:function(){return ve.primaryKey}},key:{get:function(){var we=ve.key;return he===1?we[0]:we.slice(0,he)}},value:{get:function(){return ve.value}}})}}})}})}};function qu(y,b,k,T){return k=k||{},T=T||"",o(y).forEach(function(N){var M,B,W;f(b,N)?(M=y[N],B=b[N],typeof M=="object"&&typeof B=="object"&&M&&B?(W=V(M))!==V(B)?k[T+N]=b[N]:W==="Object"?qu(M,B,k,T+N+"."):M!==B&&(k[T+N]=b[N]):M!==B&&(k[T+N]=b[N])):k[T+N]=void 0}),o(b).forEach(function(N){f(y,N)||(k[T+N]=b[N])}),k}function wl(y,b){return b.type==="delete"?b.keys:b.keys||b.values.map(y.extractKey)}var cm={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(y){return r(r({},y),{table:function(b){var k=y.table(b),T=k.schema.primaryKey;return r(r({},k),{mutate:function(N){var M=Ve.trans,B=M.table(b).hook,W=B.deleting,ee=B.creating,ie=B.updating;switch(N.type){case"add":if(ee.fire===Tt)break;return M._promise("readwrite",function(){return le(N)},!0);case"put":if(ee.fire===Tt&&ie.fire===Tt)break;return M._promise("readwrite",function(){return le(N)},!0);case"delete":if(W.fire===Tt)break;return M._promise("readwrite",function(){return le(N)},!0);case"deleteRange":if(W.fire===Tt)break;return M._promise("readwrite",function(){return function Y(ce,te,ae){return k.query({trans:ce,values:!1,query:{index:T,range:te},limit:ae}).then(function(he){var oe=he.result;return le({type:"delete",keys:oe,trans:ce}).then(function(ve){return 0<ve.numFailures?Promise.reject(ve.failures[0]):oe.length<ae?{failures:[],numFailures:0,lastResult:void 0}:Y(ce,r(r({},te),{lower:oe[oe.length-1],lowerOpen:!0}),ae)})})}(N.trans,N.range,1e4)},!0)}return k.mutate(N);function le(Y){var ce,te,ae,he=Ve.trans,oe=Y.keys||wl(T,Y);if(!oe)throw new Error("Keys missing");return(Y=Y.type==="add"||Y.type==="put"?r(r({},Y),{keys:oe}):r({},Y)).type!=="delete"&&(Y.values=i([],Y.values)),Y.keys&&(Y.keys=i([],Y.keys)),ce=k,ae=oe,((te=Y).type==="add"?Promise.resolve([]):ce.getMany({trans:te.trans,keys:ae,cache:"immutable"})).then(function(ve){var we=oe.map(function(Se,ke){var Me,Ue,De,Be=ve[ke],Qe={onerror:null,onsuccess:null};return Y.type==="delete"?W.fire.call(Qe,Se,Be,he):Y.type==="add"||Be===void 0?(Me=ee.fire.call(Qe,Se,Y.values[ke],he),Se==null&&Me!=null&&(Y.keys[ke]=Se=Me,T.outbound||$(Y.values[ke],T.keyPath,Se))):(Me=qu(Be,Y.values[ke]),(Ue=ie.fire.call(Qe,Me,Se,Be,he))&&(De=Y.values[ke],Object.keys(Ue).forEach(function(ze){f(De,ze)?De[ze]=Ue[ze]:$(De,ze,Ue[ze])}))),Qe});return k.mutate(Y).then(function(Se){for(var ke=Se.failures,Me=Se.results,Ue=Se.numFailures,Se=Se.lastResult,De=0;De<oe.length;++De){var Be=(Me||oe)[De],Qe=we[De];Be==null?Qe.onerror&&Qe.onerror(ke[De]):Qe.onsuccess&&Qe.onsuccess(Y.type==="put"&&ve[De]?Y.values[De]:Be)}return{failures:ke,results:Me,numFailures:Ue,lastResult:Se}}).catch(function(Se){return we.forEach(function(ke){return ke.onerror&&ke.onerror(Se)}),Promise.reject(Se)})})}}})}})}};function $d(y,b,k){try{if(!b||b.keys.length<y.length)return null;for(var T=[],N=0,M=0;N<b.keys.length&&M<y.length;++N)ft(b.keys[N],y[M])===0&&(T.push(k?pe(b.values[N]):b.values[N]),++M);return T.length===y.length?T:null}catch{return null}}var dm={stack:"dbcore",level:-1,create:function(y){return{table:function(b){var k=y.table(b);return r(r({},k),{getMany:function(T){if(!T.cache)return k.getMany(T);var N=$d(T.keys,T.trans._cache,T.cache==="clone");return N?qe.resolve(N):k.getMany(T).then(function(M){return T.trans._cache={keys:T.keys,values:T.cache==="clone"?pe(M):M},M})},mutate:function(T){return T.type!=="add"&&(T.trans._cache=null),k.mutate(T)}})}}}};function Ud(y,b){return y.trans.mode==="readonly"&&!!y.subscr&&!y.trans.explicit&&y.trans.db._options.cache!=="disabled"&&!b.schema.primaryKey.outbound}function Hd(y,b){switch(y){case"query":return b.values&&!b.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var hm={stack:"dbcore",level:0,name:"Observability",create:function(y){var b=y.schema.name,k=new Nn(y.MIN_KEY,y.MAX_KEY);return r(r({},y),{transaction:function(T,N,M){if(Ve.subscr&&N!=="readonly")throw new Pe.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ve.querier));return y.transaction(T,N,M)},table:function(T){var N=y.table(T),M=N.schema,B=M.primaryKey,Y=M.indexes,W=B.extractKey,ee=B.outbound,ie=B.autoIncrement&&Y.filter(function(te){return te.compound&&te.keyPath.includes(B.keyPath)}),le=r(r({},N),{mutate:function(te){function ae(ze){return ze="idb://".concat(b,"/").concat(T,"/").concat(ze),Se[ze]||(Se[ze]=new Nn)}var he,oe,ve,we=te.trans,Se=te.mutatedParts||(te.mutatedParts={}),ke=ae(""),Me=ae(":dels"),Ue=te.type,Qe=te.type==="deleteRange"?[te.range]:te.type==="delete"?[te.keys]:te.values.length<50?[wl(B,te).filter(function(ze){return ze}),te.values]:[],De=Qe[0],Be=Qe[1],Qe=te.trans._cache;return a(De)?(ke.addKeys(De),(Qe=Ue==="delete"||De.length===Be.length?$d(De,Qe):null)||Me.addKeys(De),(Qe||Be)&&(he=ae,oe=Qe,ve=Be,M.indexes.forEach(function(ze){var Ge=he(ze.name||"");function yt(kt){return kt!=null?ze.extractKey(kt):null}function bt(kt){return ze.multiEntry&&a(kt)?kt.forEach(function(ur){return Ge.addKey(ur)}):Ge.addKey(kt)}(oe||ve).forEach(function(kt,zn){var gt=oe&&yt(oe[zn]),zn=ve&&yt(ve[zn]);ft(gt,zn)!==0&&(gt!=null&&bt(gt),zn!=null&&bt(zn))})}))):De?(Be={from:(Be=De.lower)!==null&&Be!==void 0?Be:y.MIN_KEY,to:(Be=De.upper)!==null&&Be!==void 0?Be:y.MAX_KEY},Me.add(Be),ke.add(Be)):(ke.add(k),Me.add(k),M.indexes.forEach(function(ze){return ae(ze.name).add(k)})),N.mutate(te).then(function(ze){return!De||te.type!=="add"&&te.type!=="put"||(ke.addKeys(ze.results),ie&&ie.forEach(function(Ge){for(var yt=te.values.map(function(gt){return Ge.extractKey(gt)}),bt=Ge.keyPath.findIndex(function(gt){return gt===B.keyPath}),kt=0,ur=ze.results.length;kt<ur;++kt)yt[kt][bt]=ze.results[kt];ae(Ge.name).addKeys(yt)})),we.mutatedParts=yl(we.mutatedParts||{},Se),ze})}}),Y=function(ae){var he=ae.query,ae=he.index,he=he.range;return[ae,new Nn((ae=he.lower)!==null&&ae!==void 0?ae:y.MIN_KEY,(he=he.upper)!==null&&he!==void 0?he:y.MAX_KEY)]},ce={get:function(te){return[B,new Nn(te.key)]},getMany:function(te){return[B,new Nn().addKeys(te.keys)]},count:Y,query:Y,openCursor:Y};return o(ce).forEach(function(te){le[te]=function(ae){var he=Ve.subscr,oe=!!he,ve=Ud(Ve,N)&&Hd(te,ae)?ae.obsSet={}:he;if(oe){var we=function(Be){return Be="idb://".concat(b,"/").concat(T,"/").concat(Be),ve[Be]||(ve[Be]=new Nn)},Se=we(""),ke=we(":dels"),he=ce[te](ae),oe=he[0],he=he[1];if((te==="query"&&oe.isPrimaryKey&&!ae.values?ke:we(oe.name||"")).add(he),!oe.isPrimaryKey){if(te!=="count"){var Me=te==="query"&&ee&&ae.values&&N.query(r(r({},ae),{values:!1}));return N[te].apply(this,arguments).then(function(Be){if(te==="query"){if(ee&&ae.values)return Me.then(function(yt){return yt=yt.result,Se.addKeys(yt),Be});var Qe=ae.values?Be.result.map(W):Be.result;(ae.values?Se:ke).addKeys(Qe)}else if(te==="openCursor"){var ze=Be,Ge=ae.values;return ze&&Object.create(ze,{key:{get:function(){return ke.addKey(ze.primaryKey),ze.key}},primaryKey:{get:function(){var yt=ze.primaryKey;return ke.addKey(yt),yt}},value:{get:function(){return Ge&&Se.addKey(ze.primaryKey),ze.value}}})}return Be})}ke.add(k)}}return N[te].apply(this,arguments)}}),le}})}};function Qd(y,b,k){if(k.numFailures===0)return b;if(b.type==="deleteRange")return null;var T=b.keys?b.keys.length:"values"in b&&b.values?b.values.length:1;return k.numFailures===T?null:(b=r({},b),a(b.keys)&&(b.keys=b.keys.filter(function(N,M){return!(M in k.failures)})),"values"in b&&a(b.values)&&(b.values=b.values.filter(function(N,M){return!(M in k.failures)})),b)}function ca(y,b){return k=y,((T=b).lower===void 0||(T.lowerOpen?0<ft(k,T.lower):0<=ft(k,T.lower)))&&(y=y,(b=b).upper===void 0||(b.upperOpen?ft(y,b.upper)<0:ft(y,b.upper)<=0));var k,T}function go(y,b,ce,T,N,M){if(!ce||ce.length===0)return y;var B=b.query.index,W=B.multiEntry,ee=b.query.range,ie=T.schema.primaryKey.extractKey,le=B.extractKey,Y=(B.lowLevelIndex||B).extractKey,ce=ce.reduce(function(te,ae){var he=te,oe=[];if(ae.type==="add"||ae.type==="put")for(var ve=new Nn,we=ae.values.length-1;0<=we;--we){var Se,ke=ae.values[we],Me=ie(ke);ve.hasKey(Me)||(Se=le(ke),(W&&a(Se)?Se.some(function(ze){return ca(ze,ee)}):ca(Se,ee))&&(ve.addKey(Me),oe.push(ke)))}switch(ae.type){case"add":var Ue=new Nn().addKeys(b.values?te.map(function(Ge){return ie(Ge)}):te),he=te.concat(b.values?oe.filter(function(Ge){return Ge=ie(Ge),!Ue.hasKey(Ge)&&(Ue.addKey(Ge),!0)}):oe.map(function(Ge){return ie(Ge)}).filter(function(Ge){return!Ue.hasKey(Ge)&&(Ue.addKey(Ge),!0)}));break;case"put":var De=new Nn().addKeys(ae.values.map(function(Ge){return ie(Ge)}));he=te.filter(function(Ge){return!De.hasKey(b.values?ie(Ge):Ge)}).concat(b.values?oe:oe.map(function(Ge){return ie(Ge)}));break;case"delete":var Be=new Nn().addKeys(ae.keys);he=te.filter(function(Ge){return!Be.hasKey(b.values?ie(Ge):Ge)});break;case"deleteRange":var Qe=ae.range;he=te.filter(function(Ge){return!ca(ie(Ge),Qe)})}return he},y);return ce===y?y:(ce.sort(function(te,ae){return ft(Y(te),Y(ae))||ft(ie(te),ie(ae))}),b.limit&&b.limit<1/0&&(ce.length>b.limit?ce.length=b.limit:y.length===b.limit&&ce.length<b.limit&&(N.dirty=!0)),M?Object.freeze(ce):ce)}function Vd(y,b){return ft(y.lower,b.lower)===0&&ft(y.upper,b.upper)===0&&!!y.lowerOpen==!!b.lowerOpen&&!!y.upperOpen==!!b.upperOpen}function qd(y,b){return function(k,T,N,M){if(k===void 0)return T!==void 0?-1:0;if(T===void 0)return 1;if((T=ft(k,T))===0){if(N&&M)return 0;if(N)return 1;if(M)return-1}return T}(y.lower,b.lower,y.lowerOpen,b.lowerOpen)<=0&&0<=function(k,T,N,M){if(k===void 0)return T!==void 0?1:0;if(T===void 0)return-1;if((T=ft(k,T))===0){if(N&&M)return 0;if(N)return-1;if(M)return 1}return T}(y.upper,b.upper,y.upperOpen,b.upperOpen)}function Wd(y,b,k,T){y.subscribers.add(k),T.addEventListener("abort",function(){var N,M;y.subscribers.delete(k),y.subscribers.size===0&&(N=y,M=b,setTimeout(function(){N.subscribers.size===0&&ne(M,N)},3e3))})}var Kd={stack:"dbcore",level:0,name:"Cache",create:function(y){var b=y.schema.name;return r(r({},y),{transaction:function(k,T,N){var M,B,W=y.transaction(k,T,N);return T==="readwrite"&&(B=(M=new AbortController).signal,N=function(ee){return function(){if(M.abort(),T==="readwrite"){for(var ie=new Set,le=0,Y=k;le<Y.length;le++){var ce=Y[le],te=Ts["idb://".concat(b,"/").concat(ce)];if(te){var ae=y.table(ce),he=te.optimisticOps.filter(function(Ge){return Ge.trans===W});if(W._explicit&&ee&&W.mutatedParts)for(var oe=0,ve=Object.values(te.queries.query);oe<ve.length;oe++)for(var we=0,Se=(Ue=ve[oe]).slice();we<Se.length;we++)Hu((De=Se[we]).obsSet,W.mutatedParts)&&(ne(Ue,De),De.subscribers.forEach(function(Ge){return ie.add(Ge)}));else if(0<he.length){te.optimisticOps=te.optimisticOps.filter(function(Ge){return Ge.trans!==W});for(var ke=0,Me=Object.values(te.queries.query);ke<Me.length;ke++)for(var Ue,De,Be,Qe=0,ze=(Ue=Me[ke]).slice();Qe<ze.length;Qe++)(De=ze[Qe]).res!=null&&W.mutatedParts&&(ee&&!De.dirty?(Be=Object.isFrozen(De.res),Be=go(De.res,De.req,he,ae,De,Be),De.dirty?(ne(Ue,De),De.subscribers.forEach(function(Ge){return ie.add(Ge)})):Be!==De.res&&(De.res=Be,De.promise=qe.resolve({result:Be}))):(De.dirty&&ne(Ue,De),De.subscribers.forEach(function(Ge){return ie.add(Ge)})))}}}ie.forEach(function(Ge){return Ge()})}}},W.addEventListener("abort",N(!1),{signal:B}),W.addEventListener("error",N(!1),{signal:B}),W.addEventListener("complete",N(!0),{signal:B})),W},table:function(k){var T=y.table(k),N=T.schema.primaryKey;return r(r({},T),{mutate:function(M){var B=Ve.trans;if(N.outbound||B.db._options.cache==="disabled"||B.explicit||B.idbtrans.mode!=="readwrite")return T.mutate(M);var W=Ts["idb://".concat(b,"/").concat(k)];return W?(B=T.mutate(M),M.type!=="add"&&M.type!=="put"||!(50<=M.values.length||wl(N,M).some(function(ee){return ee==null}))?(W.optimisticOps.push(M),M.mutatedParts&&xl(M.mutatedParts),B.then(function(ee){0<ee.numFailures&&(ne(W.optimisticOps,M),(ee=Qd(0,M,ee))&&W.optimisticOps.push(ee),M.mutatedParts&&xl(M.mutatedParts))}),B.catch(function(){ne(W.optimisticOps,M),M.mutatedParts&&xl(M.mutatedParts)})):B.then(function(ee){var ie=Qd(0,r(r({},M),{values:M.values.map(function(le,Y){var ce;return ee.failures[Y]?le:(le=(ce=N.keyPath)!==null&&ce!==void 0&&ce.includes(".")?pe(le):r({},le),$(le,N.keyPath,ee.results[Y]),le)})}),ee);W.optimisticOps.push(ie),queueMicrotask(function(){return M.mutatedParts&&xl(M.mutatedParts)})}),B):T.mutate(M)},query:function(M){if(!Ud(Ve,T)||!Hd("query",M))return T.query(M);var B=((ie=Ve.trans)===null||ie===void 0?void 0:ie.db._options.cache)==="immutable",Y=Ve,W=Y.requery,ee=Y.signal,ie=function(ae,he,oe,ve){var we=Ts["idb://".concat(ae,"/").concat(he)];if(!we)return[];if(!(he=we.queries[oe]))return[null,!1,we,null];var Se=he[(ve.query?ve.query.index.name:null)||""];if(!Se)return[null,!1,we,null];switch(oe){case"query":var ke=Se.find(function(Me){return Me.req.limit===ve.limit&&Me.req.values===ve.values&&Vd(Me.req.query.range,ve.query.range)});return ke?[ke,!0,we,Se]:[Se.find(function(Me){return("limit"in Me.req?Me.req.limit:1/0)>=ve.limit&&(!ve.values||Me.req.values)&&qd(Me.req.query.range,ve.query.range)}),!1,we,Se];case"count":return ke=Se.find(function(Me){return Vd(Me.req.query.range,ve.query.range)}),[ke,!!ke,we,Se]}}(b,k,"query",M),le=ie[0],Y=ie[1],ce=ie[2],te=ie[3];return le&&Y?le.obsSet=M.obsSet:(Y=T.query(M).then(function(ae){var he=ae.result;if(le&&(le.res=he),B){for(var oe=0,ve=he.length;oe<ve;++oe)Object.freeze(he[oe]);Object.freeze(he)}else ae.result=pe(he);return ae}).catch(function(ae){return te&&le&&ne(te,le),Promise.reject(ae)}),le={obsSet:M.obsSet,promise:Y,subscribers:new Set,type:"query",req:M,dirty:!1},te?te.push(le):(te=[le],(ce=ce||(Ts["idb://".concat(b,"/").concat(k)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[M.query.index.name||""]=te)),Wd(le,te,W,ee),le.promise.then(function(ae){return{result:go(ae.result,M,ce?.optimisticOps,T,le,B)}})}})}})}};function da(y,b){return new Proxy(y,{get:function(k,T,N){return T==="db"?b:Reflect.get(k,T,N)}})}var yi=(Jt.prototype.version=function(y){if(isNaN(y)||y<.1)throw new Pe.Type("Given version is not a positive number");if(y=Math.round(10*y)/10,this.idbdb||this._state.isBeingOpened)throw new Pe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,y);var b=this._versions,k=b.filter(function(T){return T._cfg.version===y})[0];return k||(k=new this.Version(y),b.push(k),b.sort(Id),k.stores({}),this._state.autoSchema=!1,k)},Jt.prototype._whenReady=function(y){var b=this;return this.idbdb&&(this._state.openComplete||Ve.letThrough||this._vip)?y():new qe(function(k,T){if(b._state.openComplete)return T(new Pe.DatabaseClosed(b._state.dbOpenError));if(!b._state.isBeingOpened){if(!b._state.autoOpen)return void T(new Pe.DatabaseClosed);b.open().catch(Tt)}b._state.dbReadyPromise.then(k,T)}).then(y)},Jt.prototype.use=function(y){var b=y.stack,k=y.create,T=y.level,N=y.name;return N&&this.unuse({stack:b,name:N}),y=this._middlewares[b]||(this._middlewares[b]=[]),y.push({stack:b,create:k,level:T??10,name:N}),y.sort(function(M,B){return M.level-B.level}),this},Jt.prototype.unuse=function(y){var b=y.stack,k=y.name,T=y.create;return b&&this._middlewares[b]&&(this._middlewares[b]=this._middlewares[b].filter(function(N){return T?N.create!==T:!!k&&N.name!==k})),this},Jt.prototype.open=function(){var y=this;return Kn(Wn,function(){return lm(y)})},Jt.prototype._close=function(){var y=this._state,b=Cr.indexOf(this);if(0<=b&&Cr.splice(b,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}y.isBeingOpened||(y.dbReadyPromise=new qe(function(k){y.dbReadyResolve=k}),y.openCanceller=new qe(function(k,T){y.cancelOpen=T}))},Jt.prototype.close=function(k){var b=(k===void 0?{disableAutoOpen:!0}:k).disableAutoOpen,k=this._state;b?(k.isBeingOpened&&k.cancelOpen(new Pe.DatabaseClosed),this._close(),k.autoOpen=!1,k.dbOpenError=new Pe.DatabaseClosed):(this._close(),k.autoOpen=this._options.autoOpen||k.isBeingOpened,k.openComplete=!1,k.dbOpenError=null)},Jt.prototype.delete=function(y){var b=this;y===void 0&&(y={disableAutoOpen:!0});var k=0<arguments.length&&typeof arguments[0]!="object",T=this._state;return new qe(function(N,M){function B(){b.close(y);var W=b._deps.indexedDB.deleteDatabase(b.name);W.onsuccess=Te(function(){var ee,ie,le;ee=b._deps,ie=b.name,le=ee.indexedDB,ee=ee.IDBKeyRange,oa(le)||ie===mi||Uu(le,ee).delete(ie).catch(Tt),N()}),W.onerror=lr(M),W.onblocked=b._fireOnBlocked}if(k)throw new Pe.InvalidArgument("Invalid closeOptions argument to db.delete()");T.isBeingOpened?T.dbReadyPromise.then(B):B()})},Jt.prototype.backendDB=function(){return this.idbdb},Jt.prototype.isOpen=function(){return this.idbdb!==null},Jt.prototype.hasBeenClosed=function(){var y=this._state.dbOpenError;return y&&y.name==="DatabaseClosed"},Jt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Jt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Jt.prototype,"tables",{get:function(){var y=this;return o(this._allTables).map(function(b){return y._allTables[b]})},enumerable:!1,configurable:!0}),Jt.prototype.transaction=function(){var y=(function(b,k,T){var N=arguments.length;if(N<2)throw new Pe.InvalidArgument("Too few arguments");for(var M=new Array(N-1);--N;)M[N-1]=arguments[N];return T=M.pop(),[b,z(M),T]}).apply(this,arguments);return this._transaction.apply(this,y)},Jt.prototype._transaction=function(y,b,k){var T=this,N=Ve.trans;N&&N.db===this&&y.indexOf("!")===-1||(N=null);var M,B,W=y.indexOf("?")!==-1;y=y.replace("!","").replace("?","");try{if(B=b.map(function(ie){if(ie=ie instanceof T.Table?ie.name:ie,typeof ie!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return ie}),y=="r"||y===Lt)M=Lt;else{if(y!="rw"&&y!=Sn)throw new Pe.InvalidArgument("Invalid transaction mode: "+y);M=Sn}if(N){if(N.mode===Lt&&M===Sn){if(!W)throw new Pe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");N=null}N&&B.forEach(function(ie){if(N&&N.storeNames.indexOf(ie)===-1){if(!W)throw new Pe.SubTransaction("Table "+ie+" not included in parent transaction.");N=null}}),W&&N&&!N.active&&(N=null)}}catch(ie){return N?N._promise(null,function(le,Y){Y(ie)}):$t(ie)}var ee=(function ie(le,Y,ce,te,ae){return qe.resolve().then(function(){var he=Ve.transless||Ve,oe=le._createTransaction(Y,ce,le._dbSchema,te);if(oe.explicit=!0,he={trans:oe,transless:he},te)oe.idbtrans=te.idbtrans;else try{oe.create(),oe.idbtrans._explicit=!0,le._state.PR1398_maxLoop=3}catch(Se){return Se.name===Ye.InvalidState&&le.isOpen()&&0<--le._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),le.close({disableAutoOpen:!1}),le.open().then(function(){return ie(le,Y,ce,null,ae)})):$t(Se)}var ve,we=G(ae);return we&&_t(),he=qe.follow(function(){var Se;(ve=ae.call(oe,oe))&&(we?(Se=Pt.bind(null,null),ve.then(Se,Se)):typeof ve.next=="function"&&typeof ve.throw=="function"&&(ve=ua(ve)))},he),(ve&&typeof ve.then=="function"?qe.resolve(ve).then(function(Se){return oe.active?Se:$t(new Pe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):he.then(function(){return ve})).then(function(Se){return te&&oe._resolve(),oe._completion.then(function(){return Se})}).catch(function(Se){return oe._reject(Se),$t(Se)})})}).bind(null,this,M,B,N,k);return N?N._promise(M,ee,"lock"):Ve.trans?Kn(Ve.transless,function(){return T._whenReady(ee)}):this._whenReady(ee)},Jt.prototype.table=function(y){if(!f(this._allTables,y))throw new Pe.InvalidTable("Table ".concat(y," does not exist"));return this._allTables[y]},Jt);function Jt(y,b){var k=this;this._middlewares={},this.verno=0;var T=Jt.dependencies;this._options=b=r({addons:Jt.addons,autoOpen:!0,indexedDB:T.indexedDB,IDBKeyRange:T.IDBKeyRange,cache:"cloned"},b),this._deps={indexedDB:b.indexedDB,IDBKeyRange:b.IDBKeyRange},T=b.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var N,M,B,W,ee,ie={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Tt,dbReadyPromise:null,cancelOpen:Tt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:b.autoOpen};ie.dbReadyPromise=new qe(function(Y){ie.dbReadyResolve=Y}),ie.openCanceller=new qe(function(Y,ce){ie.cancelOpen=ce}),this._state=ie,this.name=y,this.on=rs(this,"populate","blocked","versionchange","close",{ready:[Or,Tt]}),this.on.ready.subscribe=A(this.on.ready.subscribe,function(Y){return function(ce,te){Jt.vip(function(){var ae,he=k._state;he.openComplete?(he.dbOpenError||qe.resolve().then(ce),te&&Y(ce)):he.onReadyBeingFired?(he.onReadyBeingFired.push(ce),te&&Y(ce)):(Y(ce),ae=k,te||Y(function oe(){ae.on.ready.unsubscribe(ce),ae.on.ready.unsubscribe(oe)}))})}}),this.Collection=(N=this,Li(Gt.prototype,function(ve,oe){this.db=N;var te=Zr,ae=null;if(oe)try{te=oe()}catch(we){ae=we}var he=ve._ctx,oe=he.table,ve=oe.hook.reading.fire;this._ctx={table:oe,index:he.index,isPrimKey:!he.index||oe.schema.primKey.keyPath&&he.index===oe.schema.primKey.name,range:te,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:ae,or:he.or,valueMapper:ve!==fn?ve:null}})),this.Table=(M=this,Li(Md.prototype,function(Y,ce,te){this.db=M,this._tx=te,this.name=Y,this.schema=ce,this.hook=M._allTables[Y]?M._allTables[Y].hook:rs(null,{creating:[xs,Tt],reading:[un,fn],updating:[so,Tt],deleting:[Ni,Tt]})})),this.Transaction=(B=this,Li(ea.prototype,function(Y,ce,te,ae,he){var oe=this;this.db=B,this.mode=Y,this.storeNames=ce,this.schema=te,this.chromeTransactionDurability=ae,this.idbtrans=null,this.on=rs(this,"complete","error","abort"),this.parent=he||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new qe(function(ve,we){oe._resolve=ve,oe._reject=we}),this._completion.then(function(){oe.active=!1,oe.on.complete.fire()},function(ve){var we=oe.active;return oe.active=!1,oe.on.error.fire(ve),oe.parent?oe.parent._reject(ve):we&&oe.idbtrans&&oe.idbtrans.abort(),$t(ve)})})),this.Version=(W=this,Li($u.prototype,function(Y){this.db=W,this._cfg={version:Y,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(ee=this,Li(Di.prototype,function(Y,ce,te){if(this.db=ee,this._ctx={table:Y,index:ce===":id"?null:ce,or:te},this._cmp=this._ascending=ft,this._descending=function(ae,he){return ft(he,ae)},this._max=function(ae,he){return 0<ft(ae,he)?ae:he},this._min=function(ae,he){return ft(ae,he)<0?ae:he},this._IDBKeyRange=ee._deps.IDBKeyRange,!this._IDBKeyRange)throw new Pe.MissingAPI})),this.on("versionchange",function(Y){0<Y.newVersion?console.warn("Another connection wants to upgrade database '".concat(k.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(k.name,"'. Closing db now to resume the delete request.")),k.close({disableAutoOpen:!1})}),this.on("blocked",function(Y){!Y.newVersion||Y.newVersion<Y.oldVersion?console.warn("Dexie.delete('".concat(k.name,"') was blocked")):console.warn("Upgrade '".concat(k.name,"' blocked by other connection holding version ").concat(Y.oldVersion/10))}),this._maxKey=na(b.IDBKeyRange),this._createTransaction=function(Y,ce,te,ae){return new k.Transaction(Y,ce,te,k._options.chromeTransactionDurability,ae)},this._fireOnBlocked=function(Y){k.on("blocked").fire(Y),Cr.filter(function(ce){return ce.name===k.name&&ce!==k&&!ce._state.vcFired}).map(function(ce){return ce.on("versionchange").fire(Y)})},this.use(dm),this.use(Kd),this.use(hm),this.use(um),this.use(cm);var le=new Proxy(this,{get:function(Y,ce,te){if(ce==="_vip")return!0;if(ce==="table")return function(he){return da(k.table(he),le)};var ae=Reflect.get(Y,ce,te);return ae instanceof Md?da(ae,le):ce==="tables"?ae.map(function(he){return da(he,le)}):ce==="_createTransaction"?function(){return da(ae.apply(this,arguments),le)}:ae}});this.vip=le,T.forEach(function(Y){return Y(k)})}var _l,Rr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",fm=(Sl.prototype.subscribe=function(y,b,k){return this._subscribe(y&&typeof y!="function"?y:{next:y,error:b,complete:k})},Sl.prototype[Rr]=function(){return this},Sl);function Sl(y){this._subscribe=y}try{_l={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{_l={indexedDB:null,IDBKeyRange:null}}function Wu(y){var b,k=!1,T=new fm(function(N){var M=G(y),B,W=!1,ee={},ie={},le={get closed(){return W},unsubscribe:function(){W||(W=!0,B&&B.abort(),Y&&Fi.storagemutated.unsubscribe(te))}};N.start&&N.start(le);var Y=!1,ce=function(){return Sr(ae)},te=function(he){yl(ee,he),Hu(ie,ee)&&ce()},ae=function(){var he,oe,ve;!W&&_l.indexedDB&&(ee={},he={},B&&B.abort(),B=new AbortController,ve=function(we){var Se=X();try{M&&_t();var ke=et(y,we);return ke=M?ke.finally(Pt):ke}finally{Se&&fe()}}(oe={subscr:he,signal:B.signal,requery:ce,querier:y,trans:null}),Promise.resolve(ve).then(function(we){k=!0,b=we,W||oe.signal.aborted||(ee={},function(Se){for(var ke in Se)if(f(Se,ke))return;return 1}(ie=he)||Y||(Fi(Lr,te),Y=!0),Sr(function(){return!W&&N.next&&N.next(we)}))},function(we){k=!1,["DatabaseClosedError","AbortError"].includes(we?.name)||W||Sr(function(){W||N.error&&N.error(we)})}))};return setTimeout(ce,0),le});return T.hasValue=function(){return k},T.getValue=function(){return b},T}var ti=yi;function Ns(y){var b=ni;try{ni=!0,Fi.storagemutated.fire(y),Vu(y,!0)}finally{ni=b}}g(ti,r(r({},ln),{delete:function(y){return new ti(y,{addons:[]}).delete()},exists:function(y){return new ti(y,{addons:[]}).open().then(function(b){return b.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(y){try{return b=ti.dependencies,k=b.indexedDB,b=b.IDBKeyRange,(oa(k)?Promise.resolve(k.databases()).then(function(T){return T.map(function(N){return N.name}).filter(function(N){return N!==mi})}):Uu(k,b).toCollection().primaryKeys()).then(y)}catch{return $t(new Pe.MissingAPI)}var b,k},defineClass:function(){return function(y){u(this,y)}},ignoreTransaction:function(y){return Ve.trans?Kn(Ve.transless,y):y()},vip:aa,async:function(y){return function(){try{var b=ua(y.apply(this,arguments));return b&&typeof b.then=="function"?b:qe.resolve(b)}catch(k){return $t(k)}}},spawn:function(y,b,k){try{var T=ua(y.apply(k,b||[]));return T&&typeof T.then=="function"?T:qe.resolve(T)}catch(N){return $t(N)}},currentTransaction:{get:function(){return Ve.trans||null}},waitFor:function(y,b){return b=qe.resolve(typeof y=="function"?ti.ignoreTransaction(y):y).timeout(b||6e4),Ve.trans?Ve.trans.waitFor(b):b},Promise:qe,debug:{get:function(){return jn},set:function(y){sr(y)}},derive:S,extend:u,props:g,override:A,Events:rs,on:Fi,liveQuery:Wu,extendObservabilitySet:yl,getByKeyPath:O,setByKeyPath:$,delByKeyPath:function(y,b){typeof b=="string"?$(y,b,void 0):"length"in b&&[].map.call(b,function(k){$(y,k,void 0)})},shallowClone:K,deepClone:pe,getObjectDiff:qu,cmp:ft,asap:U,minKey:-1/0,addons:[],connections:Cr,errnames:Ye,dependencies:_l,cache:Ts,semVer:"4.0.11",version:"4.0.11".split(".").map(function(y){return parseInt(y)}).reduce(function(y,b,k){return y+b/Math.pow(10,2*k)})})),ti.maxKey=na(ti.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Fi(Lr,function(y){ni||(y=new CustomEvent(Bu,{detail:y}),ni=!0,dispatchEvent(y),ni=!1)}),addEventListener(Bu,function(y){y=y.detail,ni||Ns(y)}));var yo,ni=!1,Gd=function(){};return typeof BroadcastChannel<"u"&&((Gd=function(){(yo=new BroadcastChannel(Bu)).onmessage=function(y){return y.data&&Ns(y.data)}})(),typeof yo.unref=="function"&&yo.unref(),Fi(Lr,function(y){ni||yo.postMessage(y)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(y){if(!yi.disableBfCache&&y.persisted){jn&&console.debug("Dexie: handling persisted pagehide"),yo?.close();for(var b=0,k=Cr;b<k.length;b++)k[b].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(y){!yi.disableBfCache&&y.persisted&&(jn&&console.debug("Dexie: handling persisted pageshow"),Gd(),Ns({all:new Nn(-1/0,[[]])}))})),qe.rejectionMapper=function(y,b){return!y||y instanceof I||y instanceof TypeError||y instanceof SyntaxError||!y.name||!ht[y.name]?y:(b=new ht[y.name](b||y.message,y),"stack"in y&&_(b,"stack",{get:function(){return this.inner.stack}}),b)},sr(jn),r(yi,Object.freeze({__proto__:null,Dexie:yi,liveQuery:Wu,Entity:ws,cmp:ft,PropModification:Zo,replacePrefix:function(y,b){return new Zo({replacePrefix:[y,b]})},add:function(y){return new Zo({add:y})},remove:function(y){return new Zo({remove:y})},default:yi,RangeSet:Nn,mergeRanges:la,rangesOverlap:Fd}),{default:yi}),yi})}(Ff)),Ff.exports}var GL=KL();const E1=di(GL),m3=Symbol.for("Dexie"),lp=globalThis[m3]||(globalThis[m3]=E1);if(E1.semVer!==lp.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${E1.semVer} and ${lp.semVer}`);const{liveQuery:YL,mergeRanges:Kq,rangesOverlap:Gq,RangeSet:Yq,cmp:Xq,Entity:Jq,PropModification:Zq,replacePrefix:eW,add:tW,remove:nW}=lp;class XL extends lp{interested_snapshot;interested_subject;simulation_run;simulation_run_selections;simulation_run_events;constructor(){super("ALLCLL_Simulation"),this.version(1).stores({interested_snapshot:"++snapshot_id,user_id,created_at,simulated",interested_subject:"++interested_id,snapshot_id,subject_id",simulation_run:"++simulation_run_id,snapshot_id,user_id,department_name,success_subject_count,subject_count,accuracy,score,total_elapsed,started_at,ended_at",simulation_run_selections:"++run_selections_id,simulation_run_id,interested_id,selected_index,status,started_at,ended_at",simulation_run_events:"++event_id,simulation_section_id,event_type,timestamp"})}}const He=new XL;async function JL(){const t=await He.interested_snapshot.orderBy("created_at").last();if(!t)return null;const e=await He.interested_subject.where("snapshot_id").equals(t.snapshot_id).toArray();return{...t,subjects:e}}async function T6(t){const e=await He.interested_snapshot.get(t);if(!e)return null;const n=await He.interested_subject.where("snapshot_id").equals(t).toArray();return{...e,subjects:n}}async function ZL(t){const e=await He.interested_snapshot.orderBy("created_at").last(),n=e&&!e.simulated?e.snapshot_id:await He.interested_snapshot.add({user_id:"Todo: user_id",created_at:Date.now(),simulated:!1});e&&!e.simulated&&(await He.interested_snapshot.update(e.snapshot_id,{created_at:Date.now()}),await He.interested_subject.where("snapshot_id").equals(e.snapshot_id).delete()),await He.interested_subject.bulkAdd(t.map(r=>({snapshot_id:n,subject_id:r})))}async function g3(t,e){const n=await He.interested_subject.where("snapshot_id").equals(t).filter(r=>r.subject_id===e).first();return n?n.interested_id:-1}async function eR(){const t=await dd();if("errMsg"in t)throw new Error(t.errMsg);return t}const tR=["","","1","","","","","","","","","","","","","","","English Listening","English Reading"],nR=(t,e,n)=>{const r=t.find(s=>s.subjectId===e);let i=40;return r?.departmentName===""&&(tR.includes(r.subjectName)?i=4.6*3:i=4.6*4),console.log(n,i),n<i},$p=Gr((t,e)=>({currentSubjectId:0,isCaptchaFailed:!1,subjectStatusMap:{},setCurrentSubjectId:n=>t({currentSubjectId:n}),setSubjectStatus:(n,r)=>t(i=>({subjectStatusMap:{...i.subjectStatusMap,[n]:r}})),getSubjectStatus:n=>e().subjectStatusMap[n],getIsCaptchaFailed:()=>e().isCaptchaFailed,setCaptchaFailed:n=>t({isCaptchaFailed:n})}));var In=(t=>(t[t.SEARCH=0]="SEARCH",t[t.APPLY=1]="APPLY",t[t.CAPTCHA=2]="CAPTCHA",t[t.CANCEL_SUBMIT=3]="CANCEL_SUBMIT",t[t.SUBJECT_SUBMIT=4]="SUBJECT_SUBMIT",t[t.REFRESH=5]="REFRESH",t[t.SKIP_REFRESH=6]="SKIP_REFRESH",t))(In||{}),Zt=(t=>(t[t.PROGRESS=0]="PROGRESS",t[t.SUCCESS=1]="SUCCESS",t[t.FAILED=2]="FAILED",t[t.DOUBLED=3]="DOUBLED",t[t.CAPTCHA_FAILED=4]="CAPTCHA_FAILED",t[t.NOT_ELIGIBLE=5]="NOT_ELIGIBLE",t[t.CANCELED=6]="CANCELED",t))(Zt||{}),N6=(t=>(t.SNAPSHOT_NOT_EXIST="SNAPSHOT_NOT_EXIST",t.ONGOING_SIMULATION_NOT_FOUND="ONGOING_SIMULATION_NOT_FOUND",t.SELECTION_NOT_FOUND="SELECTION_NOT_FOUND",t.SIMULATION_NOT_FOUND="SIMULATION_NOT_FOUND",t.MULTIPLE_SIMULATION_FOUND="MULTIPLE_SIMULATION_FOUND",t.SIMULATION_IS_NOT_FINISHED="SIMULATION_IS_NOT_FINISHED",t.MULTIPLE_SIMULATION_RUNNING="MULTIPLE_SIMULATION_RUNNING",t.UNKNOWN_ERROR="UNKNOWN_ERROR",t))(N6||{});const tv=300,rR=tv*1e3;function Vo(t){return{errMsg:t}}function P6(t){return t instanceof Error?Vo(t.message):Vo("UNKNOWN_ERROR")}async function dd(){try{const t=await Up();if(!t)return{simulationId:-1};const e=await He.simulation_run_selections.filter(o=>Hp(o,t.simulation_run_id)).toArray(),n=await He.interested_subject.where("snapshot_id").equals(t.snapshot_id).toArray();if(!n)return Vo("SNAPSHOT_NOT_EXIST");const r=n.filter(o=>e.some(a=>a.interested_id===o.interested_id)).map(o=>({subjectId:o.subject_id})),i=n.filter(o=>!e.some(a=>a.interested_id===o.interested_id)).map(o=>({subjectId:o.subject_id})),s=e.map(o=>{const a=n.find(u=>u.interested_id===o.interested_id);return a?{subjectId:a.subject_id,status:o.status}:{subjectId:-1,status:2}});return{simulationId:t.simulation_run_id,userStatus:{userPK:t.user_id,departmentCode:t.department_code,departmentName:t.department_name},searchEventAt:t.search_event_at,startedAt:t.started_at,nonRegisteredSubjects:i,registeredSubjects:r,subjectStatus:s}}catch(t){return P6(t)}}async function Up(){const t=await He.simulation_run.filter(e=>e.ended_at===-1).toArray();if(t&&t.length>1)throw new Error("MULTIPLE_SIMULATION_RUNNING");return t[0]??null}async function iR(t){const e=await He.simulation_run.where("simulation_run_id").equals(t).filter(n=>n.ended_at!==-1).toArray();if(!e.length)throw new Error("SIMULATION_NOT_FOUND");if(e.length>1)throw new Error("MULTIPLE_SIMULATION_FOUND");return e[0]}async function sR(t,e,n){const r=await dd();if(r&&"errMsg"in r)return r;if(r.simulationId!==-1)return{simulationId:r.simulationId,isRunning:!0};const i=await JL();if(!i)return Vo("SNAPSHOT_NOT_EXIST");await He.interested_snapshot.update(i.snapshot_id,{simulated:!0});const s=i.subjects;return{simulationId:await He.simulation_run.add({snapshot_id:i.snapshot_id,user_id:t,department_code:e,department_name:n,success_subject_count:0,subject_count:s.length,accuracy:-1,score:-1,total_elapsed:-1,search_event_at:-1,started_at:Date.now(),ended_at:-1}),started_at:Date.now(),isRunning:!0}}async function qs(t,e){const{eventType:n}=t;console.log("BUTTON EVENT",t);let r;try{if(r=await Up(),!r)throw new Error("ONGOING_SIMULATION_NOT_FOUND")}catch(c){return P6(c)}const i=r.simulation_run_id;if(n===0){const c=Date.now();return await He.simulation_run.update(i,{search_event_at:c}),{elapsed_time:c-r.started_at}}const{subjectId:s}=t;if(n===1){const c=await He.simulation_run_selections.filter(f=>f.simulation_run_id===r.simulation_run_id&&f.ended_at>=0).count(),h=await He.simulation_run_selections.add({simulation_run_id:r.simulation_run_id,interested_id:await g3(r.snapshot_id,s),selected_index:c+1,status:0,started_at:Date.now(),ended_at:-1});return await He.simulation_run_events.add({simulation_section_id:h,event_type:n,timestamp:Date.now()}),{}}const o=await He.simulation_run_selections.filter(c=>c.simulation_run_id===i).toArray(),a=o.filter(c=>c.ended_at===-1).sort((c,h)=>h.started_at-c.started_at)[0];if(!a)return Vo("SELECTION_NOT_FOUND");const u=Date.now();if(await He.simulation_run_events.add({simulation_section_id:a.run_selections_id,event_type:n,timestamp:u}),n===4){const c=await g3(r.snapshot_id,s);if(!await He.simulation_run_selections.filter(C=>C.simulation_run_id===i&&C.interested_id===c).last())return Vo("SELECTION_NOT_FOUND");const f=async C=>(await He.simulation_run_selections.update(a.run_selections_id,{status:C}),console.log("saved section",a.run_selections_id,C),{status:C});if($p.getState().isCaptchaFailed)return await f(4);if(o.some(C=>C.interested_id===c&&C.ended_at>=0&&Hp(C,i)))return await f(3);const _=Math.floor(u-r.started_at)/1e3;return nR(e,s,_)?await f(1):await f(2)}if(n===3&&await He.simulation_run_selections.update(a.run_selections_id,{status:6,ended_at:Date.now()}),n===5||n===6){await He.simulation_run_selections.update(a.run_selections_id,{ended_at:Date.now()});const c=await aR();return c&&await O6(),{finished:c}}return{}}async function qa(){await O6()}async function O6(){const t=await He.simulation_run.filter(u=>u.ended_at<=-1).last();if(!t)return;const e=await He.simulation_run_selections.filter(u=>u.simulation_run_id===t.simulation_run_id).toArray(),n=e.filter(u=>Hp(u,t.simulation_run_id)).length,i=e.filter(u=>uR(u,t.simulation_run_id)).reduce((u,c)=>c.ended_at===-1?u+4600:u+(c.ended_at-c.started_at),0),s=Date.now()-t.started_at,o=SL(s/1e3,i/1e3),a=Fp(s/1e3/n)+_L(o);await He.simulation_run.update(t.simulation_run_id,{ended_at:Date.now(),accuracy:o,score:Math.min(100,Math.max(0,a)),total_elapsed:s}),await lR(t)}async function oR({simulationId:t}){const e=await He.simulation_run.get(t);return e?e.ended_at===-1?Vo("SIMULATION_IS_NOT_FINISHED"):{accuracy:e.accuracy,score:e.score,total_elapsed:e.total_elapsed}:Vo("SIMULATION_NOT_FOUND")}async function aR(){let t;try{t=await Up()}catch{return!0}if(!t)return!0;const e=await He.simulation_run_selections.filter(n=>Hp(n,t.simulation_run_id)).toArray();return t.subject_count<=e.length}async function lR(t){const e=t.simulation_run_id;return t.search_event_at<0?(await He.simulation_run_selections.where("simulation_run_id").equals(e).delete(),await He.simulation_run.delete(e),!0):(t.started_at+rR<Date.now()&&await He.simulation_run.update(e,{ended_at:Date.now()}),!1)}const A6=(t,e)=>t.simulation_run_id===e,Hp=(t,e)=>A6(t,e)&&[1,2].includes(t.status),uR=(t,e)=>A6(t,e)&&![1,2].includes(t.status);function Qp(t){return t>5?"text-green-500 bg-green-100":t>0?"text-yellow-500 bg-yellow-100":t==0?"text-red-500 bg-red-100":"text-gray-500 bg-gray-100"}function L6(t){return t>=100?"text-red-500 bg-red-100":t>=50?"text-yellow-500 bg-yellow-100":t>=0?"text-green-500 bg-green-100":"text-gray-500 bg-gray-100"}function cR(t){return dR(j1(t))}function j1(t){switch(t){case Zt.SUCCESS:return"green";case Zt.FAILED:return"red";case Zt.CAPTCHA_FAILED:return"orange";case Zt.PROGRESS:return"yellow";default:return"gray"}}function dR(t){switch(t){case"green":return"bg-green-100 text-green-500";case"red":return"bg-red-100 text-red-500";case"orange":return"bg-orange-100 text-orange-500";case"yellow":return"bg-yellow-100 text-yellow-500";default:return"bg-gray-100 text-gray-500"}}function hR(t){return t?"bg-blue-100 text-blue-500 focus:outline-blue-500":"bg-gray-100 text-gray-700 focus:outline-gray-400"}function fR(){return p.jsxs(tl,{children:[p.jsx(jp,{title:"   ",subtitle:"    ,  ",href:"/live"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[p.jsx("h2",{className:"text-lg font-semibold mb-2",children:"  "}),p.jsxs("p",{className:"text-gray-500",children:["   ,   ",p.jsx("span",{className:"text-blue-500 font-bold",children:""})," "]}),p.jsx("div",{className:"flex flex-col gap-4 mt-4",children:[{name:"",prof:"003281 | "},{name:"",prof:"004310 | LEE KANGWON"}].map(({name:t,prof:e})=>p.jsxs("div",{className:"bg-gray-50 shadow-sm rounded-lg p-4 w-full",children:[p.jsxs("div",{className:"flex justify-between mb-2",children:[p.jsx("h3",{className:"font-bold",children:t}),p.jsx(zp,{})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("p",{className:"text-sm text-gray-500",children:e}),p.jsx("p",{className:"text-sm text-red-500 font-bold",children:": 0"})]})]},e))})]}),p.jsxs("div",{className:"bg-white p-6 shadow-md rounded-md",children:[p.jsx("h3",{className:"text-lg font-semibold",children:"  TOP 10"}),p.jsx("p",{className:"text-gray-500 mb-4",children:"    !"}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full bg-white rounded-lg text-sm",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-gray-50 z-10 text-nowrap",children:[p.jsx("th",{className:"px-4 py-2",children:""}),p.jsx("th",{className:"px-4 py-2",children:""}),p.jsx("th",{className:"px-4 py-2",children:""}),p.jsx("th",{className:"px-4 py-2",children:""})]})}),p.jsx("tbody",{children:[{id:"004310-004",name:"",prof:"",seats:22},{id:"003281-001",name:"",prof:"",seats:15},{id:"004118-007",name:"",prof:"Rajendra Dhakal",seats:6},{id:"009912-006",name:"C",prof:"",seats:5},{id:"007330-001",name:"",prof:"",seats:4}].map(({id:t,name:e,prof:n,seats:r},i)=>p.jsxs("tr",{className:"border-t border-gray-200 text-black",children:[p.jsx("td",{className:"px-4 py-2 text-center",children:t}),p.jsx("td",{className:"px-4 py-2 text-center",children:e}),p.jsx("td",{className:"px-4 py-2 text-center",children:n}),p.jsx("td",{className:"px-4 py-2 text-center font-bold",children:p.jsx("p",{className:`px-3 py-1 rounded-full text-xs font-bold ${Qp(r)}`,children:r})})]},"live-non-major-"+i))})]})})]})]})]})}const pR=t=>P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...t},P.createElement("g",{transform:"matrix(1,0,0,-1,0,72)"},P.createElement("path",{d:"M18,72Q22.9219,71.9297,27,69.6094Q31.0781,67.2188,33.6094,63Q36,58.710899999999995,36,54Q36,49.2891,33.6094,45Q31.0781,40.78125,27,38.39062Q22.9219,36.0703125,18,36Q13.0781,36.0703125,9,38.39062Q4.92188,40.78125,2.39062,45Q0,49.2891,0,54Q0,58.710899999999995,2.39062,63Q4.92188,67.2188,9,69.6094Q13.0781,71.9297,18,72ZM16.3125,63.5625L16.3125,54L16.3125,63.5625L16.3125,54Q16.3125,53.085899999999995,17.0859,52.5938L23.8359,48.0938Q25.1719,47.3203,26.1562,48.5859Q26.9297,49.9219,25.6641,50.9062L19.6875,54.914100000000005L19.6875,63.5625Q19.5469,65.1094,18,65.25Q16.4531,65.1094,16.3125,63.5625Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),mR=t=>P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...t},P.createElement("g",{transform:"matrix(1,0,0,-1,0,72)"},P.createElement("path",{d:"M25.8047,42.96094L7.03125,61.8047L25.8047,42.96094L7.03125,61.8047Q4.57031,58.4297,4.5,54Q4.64062,48.2344,8.4375,44.4375Q12.2344,40.64062,18,40.5Q22.4297,40.57031,25.8047,42.96094ZM29.0391,46.1953Q31.4297,49.5703,31.5,54Q31.3594,59.7656,27.5625,63.5625Q23.7656,67.3594,18,67.5Q13.5703,67.4297,10.1953,64.9688L29.0391,46.1953ZM0,54Q0.0703125,58.9219,2.39062,63Q4.78125,67.0781,9,69.6094Q13.2891,72,18,72Q22.7109,72,27,69.6094Q31.2188,67.0781,33.6094,63Q35.9297,58.9219,36,54Q35.9297,49.0781,33.6094,45Q32.4141,42.96094,30.7617,41.30859Q29.1094,39.65625,27,38.39062Q22.7109,36,18,36Q13.2891,36,9,38.39062Q4.78125,40.92188,2.39062,45Q0.0703125,49.0781,0,54Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),gR=t=>P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:33.75,height:36,viewBox:"0 0 33.75 36",...t},P.createElement("defs",null,P.createElement("clipPath",{id:"master_svg0_85_3284"},P.createElement("rect",{x:0,y:0,width:33.75,height:36,rx:0}))),P.createElement("g",{clipPath:"url(#master_svg0_85_3284)"},P.createElement("g",{transform:"matrix(1,0,0,-1,0,69.046875)"},P.createElement("g",null,P.createElement("path",{d:"M6.25781,54.000037500000005Q7.10156,56.3906375,8.92969,58.2187375Q12.375,61.5234375,16.875,61.5234375Q21.375,61.5234375,24.8203,58.2187375L26.0156,57.0234375L23.625,57.0234375Q22.6406,57.0234375,22.0078,56.3906375Q21.375,55.7578375,21.375,54.7734375Q21.375,53.7890375,22.0078,53.1562375Q22.6406,52.5234375,23.625,52.5234375L31.5,52.5234375Q32.4844,52.5234375,33.1172,53.1562375Q33.75,53.7890375,33.75,54.7734375L33.75,62.6484375Q33.75,63.6328375,33.1172,64.2656375Q32.4844,64.8984375,31.5,64.8984375Q30.5156,64.8984375,29.8828,64.2656375Q29.25,63.6328375,29.25,62.6484375L29.25,60.187537500000005L27.9844,61.3828375Q24.8906,64.4765375,20.8828,65.5312375Q16.875,66.5156375,12.8672,65.5312375Q8.85938,64.4765375,5.76562,61.3828375Q3.16406,58.7812375,2.03906,55.546837499999995Q1.75781,54.6328375,2.10938,53.7890375Q2.53125,53.0156375,3.375,52.6640375Q4.28906,52.3828375,5.13281,52.734337499999995Q5.90625,53.1562375,6.25781,54.000037500000005ZM1.61719,47.9531375Q1.05469,47.7422375,0.632812,47.3203375Q0.210938,46.8984375,0.0703125,46.3359375Q0.0703125,46.2656375,0,46.1250375Q0,45.9140375,0,45.7734375L0,37.8984375Q0,36.9140575,0.632812,36.2812475Q1.26562,35.6484375,2.25,35.6484375Q3.23438,35.6484375,3.86719,36.2812475Q4.5,36.9140575,4.5,37.8984375L4.5,40.3593775L5.76562,39.1640575Q8.85938,36.0703175,12.8672,35.0156255Q16.875,34.0312495,20.8828,35.0156255Q24.8906,36.0703175,27.9844,39.1640575Q30.5859,41.7656275,31.7109,45.0000375Q31.9922,45.9140375,31.6406,46.7578375Q31.2188,47.5312375,30.375,47.8828375Q29.4609,48.1640375,28.6172,47.8125375Q27.8438,47.3906375,27.4922,46.5468375Q26.6484,44.2265575,24.8203,42.3281275Q21.375,39.0234375,16.875,39.0234375Q12.375,39.0234375,8.92969,42.3281275L7.73438,43.5234375L10.125,43.5234375Q11.1094,43.5234375,11.7422,44.1562475Q12.375,44.7890375,12.375,45.7734375Q12.375,46.7578375,11.7422,47.3906375Q11.1094,48.0234375,10.125,48.0234375L2.25,48.0234375Q2.10938,48.0234375,1.96875,48.0234375Q1.75781,47.9531375,1.61719,47.9531375Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})))));function yR(){return p.jsxs(tl,{className:"text-center",children:[p.jsx("h2",{className:"text-2xl font-semibold",children:"  "}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[{icon:p.jsx(pR,{className:"w-6 h-6"}),title:"6     ...",text:"       "},{icon:p.jsx(mR,{className:"w-6 h-6"}),title:"   ...",text:"  ,      "},{icon:p.jsx(gR,{className:"w-6 h-6"}),title:"      ...",text:"   ,     "}].map(({icon:t,title:e,text:n},r)=>p.jsxs("div",{className:"flex flex-col gap-4 p-6 rounded-md bg-gray-50 text-left",children:[t,p.jsx("h3",{className:"font-extrabold",children:e}),p.jsx("p",{className:"text-xs text-gray-500",children:n})]},"pain-point-"+r))}),p.jsxs("div",{className:"text-gray-900 mt-16",children:[p.jsx("p",{children:"   ."}),p.jsx("p",{children:"   ,      . "})]})]})}const vR=t=>P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:24,height:24,viewBox:"0 0 24 24",...t},P.createElement("g",{transform:"matrix(1,0,0,-1,0,48)"},P.createElement("path",{d:"M18.7031,30Q17.9062,31.35938,16.5469,32.15625Q15.1875,33,13.5,33L10.5,33Q8.8125,33,7.45312,32.15625Q6.09375,31.35938,5.29688,30Q6.5625,28.59375,8.25,27.79688Q9.98438,27,12,27Q14.0156,27,15.75,27.79688Q17.4375,28.59375,18.7031,30ZM0,36Q0.046875,39.2812,1.59375,42Q3.1875,44.7188,6,46.4062Q8.85938,48,12,48Q15.1406,48,18,46.4062Q20.8125,44.7188,22.4062,42Q23.9531,39.2812,24,36Q23.9531,32.71875,22.4062,30Q20.8125,27.28125,18,25.59375Q15.1406,24,12,24Q8.85938,24,6,25.59375Q3.1875,27.28125,1.59375,30Q0.046875,32.71875,0,36ZM12,35.25Q13.9219,35.2969,14.9062,36.9375Q15.8438,38.625,14.9062,40.3125Q13.9219,41.9531,12,42Q10.0781,41.9531,9.09375,40.3125Q8.15625,38.625,9.09375,36.9375Q10.0781,35.2969,12,35.25Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function xR(){return p.jsxs(tl,{className:"text-center",children:[p.jsx("h2",{className:"text-2xl font-semibold",children:"   !"}),p.jsxs("div",{className:"overflow-hidden mt-6 relative",children:[p.jsx("div",{className:"absolute top-0 left-0 w-12 h-full bg-gradient-to-r from-gray-50 to-transparent z-10"}),p.jsxs("div",{className:"animate-marquee flex gap-6 flex-nowrap w-fit",children:[y3.map((t,e)=>p.jsx(v3,{...t},"feedback-left-"+e)),y3.map((t,e)=>p.jsx(v3,{...t},"feedback-right-"+e))]}),p.jsx("div",{className:"absolute top-0 right-0 w-12 h-full bg-gradient-to-l from-gray-50 to-transparent z-10"})]})]})}const y3=[{name:"O",department:" 2",review:"        !"},{name:"O",department:" 4",review:"         !"},{name:"O",department:" 3",review:"     !"}];function v3({name:t,department:e,review:n}){return p.jsxs("div",{className:"w-screen md:w-xs flex flex-col gap-4 p-6 rounded-md bg-white text-left text-sm",children:[p.jsxs("div",{className:"flex gap-4 items-center",children:[p.jsx(vR,{className:"w-6 h-6"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-bold",children:t}),p.jsx("p",{className:"text-xs text-gray-500",children:e})]})]}),p.jsxs("p",{className:"text-gray-950",children:['"',n,'"']})]})}function bR(){return p.jsxs("div",{className:"min-h-screen bg-gray-50",children:[p.jsx(Tj,{}),p.jsx(sT,{}),p.jsx(VL,{}),p.jsx(OL,{}),p.jsx(fR,{}),p.jsx(yR,{}),p.jsx(xR,{})]})}function nv({children:t}){return p.jsx("div",{className:"bg-white shadow-sm rounded-lg p-4 mb-4",children:t})}const wR=t=>P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16,height:16,viewBox:"0 0 16 16",...t},P.createElement("g",{transform:"matrix(1,0,0,-1,0,32)"},P.createElement("path",{d:"M8,16Q10.1875,16.03125,12,17.0625Q13.8125,18.125,14.9375,20Q16,21.90625,16,24Q16,26.0938,14.9375,28Q13.8125,29.875,12,30.9375Q10.1875,31.9688,8,32Q5.8125,31.9688,4,30.9375Q2.1875,29.875,1.0625,28Q0,26.0938,0,24Q0,21.90625,1.0625,20Q2.1875,18.125,4,17.0625Q5.8125,16.03125,8,16ZM5.3125,26.8438Q5.5,27.375,5.9375,27.6875Q6.375,28,6.96875,28L8.78125,28Q9.625,27.9688,10.1875,27.4062Q10.7188,26.875,10.75,26.0312Q10.7188,24.90625,9.75,24.3125L8.75,23.75Q8.6875,23.0625,8,23Q7.3125,23.0625,7.25,23.75L7.25,24.15625Q7.25,24.59375,7.625,24.8125L9,25.625Q9.25,25.75,9.25,26.0312Q9.21875,26.4688,8.78125,26.5L6.96875,26.5Q6.78125,26.5,6.71875,26.3438L6.71875,26.2812Q6.40625,25.65625,5.75,25.84375Q5.125,26.125,5.28125,26.7812L5.3125,26.8438ZM7,21Q7,21.4375,7.28125,21.71875Q7.5625,22,8,22Q8.4375,22,8.71875,21.71875Q9,21.4375,9,21Q9,20.5625,8.71875,20.28125Q8.4375,20,8,20Q7.5625,20,7.28125,20.28125Q7,20.5625,7,21Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function R6({children:t}){return p.jsx("div",{className:"relative inline-block",children:p.jsxs("span",{className:"group inline-block",children:[p.jsx(wR,{className:"w-4 h-4"}),p.jsx("span",{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-gray-900 text-white p-3 rounded w-64 text-center pointer-events-none",children:t})]})})}function M6({col:t,row:e}){return p.jsx(p.Fragment,{children:Array.from({length:e}).map((n,r)=>p.jsx("tr",{className:"animate-pulse border-t border-gray-200 h-10",children:Array.from({length:t}).map((i,s)=>p.jsx("td",{className:"bg-gray-300",colSpan:-1},`skeleton-td-${s}-${r}`))},"skeleton-row-"+r))})}function rv({icon:t,title:e,description:n,children:r}){return p.jsx("div",{className:"flex flex-col items-center justify-center w-full bg-gray-50 rounded-md",children:p.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 p-12",children:[p.jsx("div",{children:t}),p.jsx("div",{className:"text-gray-600",children:e}),p.jsx("div",{className:"text-xs text-gray-500",children:n}),r]})})}const _R=t=>P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:12.68359375,height:12.25,viewBox:"0 0 12.68359375 12.25",...t},P.createElement("g",{transform:"matrix(1,0,0,-1,0,24.5)"},P.createElement("g",null,P.createElement("path",{d:"M9.67675,21L8.30998,21L9.67675,21L8.30998,21Q7.92728,21,7.68126,20.753909999999998Q7.43524,20.50781,7.43524,20.125Q7.43524,19.74219,7.68126,19.49609Q7.92728,19.25,8.30998,19.25L11.8089,19.25Q12.1916,19.25,12.4376,19.49609Q12.6837,19.74219,12.6837,20.125L12.6837,23.625Q12.6837,24.0078,12.4376,24.2539Q12.1916,24.5,11.8089,24.5Q11.4262,24.5,11.1802,24.2539Q10.9342,24.0078,10.9342,23.625L10.9342,22.23047L10.4421,22.6953Q9.23938,23.898400000000002,7.68126,24.3086Q6.12314,24.6914,4.56502,24.3086Q3.0069,23.898400000000002,1.80414,22.6953Q0.60138,21.49219,0.191348,19.93359Q-0.191348,18.375,0.191348,16.81641Q0.60138,15.25781,1.80414,14.05469Q3.0069,12.851562,4.56502,12.441406Q6.12314,12.058594,7.68126,12.441406Q9.23938,12.851562,10.4421,14.05469Q10.7155,14.30078,10.7155,14.65625Q10.7155,15.01172,10.4421,15.28516Q10.1961,15.53125,9.84076,15.53125Q9.4854,15.53125,9.21205,15.28516Q7.87261,14,6.12314,14Q4.37367,14,3.03424,15.28516Q1.74947,16.625,1.74947,18.375Q1.74947,20.125,3.03424,21.464840000000002Q4.37367,22.75,6.12314,22.75Q7.87261,22.75,9.21205,21.464840000000002L9.67675,21Z",fill:"#FFFFFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))));function D6({onReload:t}){return p.jsx(rv,{title:"    ",description:"  ",icon:p.jsx(_y,{className:"w-7 h-7"}),children:p.jsxs("button",{className:"mt-4 flex items-center gap-2 bg-blue-500 text-white px-4 py-2 rounded cursor-pointer hover:bg-blue-600",onClick:t,children:[p.jsx(_R,{className:"w-3 h-3"}),""]})})}const SR=t=>P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...t},P.createElement("defs",null,P.createElement("clipPath",{id:"master_svg0_106_2202"},P.createElement("rect",{x:0,y:0,width:36,height:36,rx:0}))),P.createElement("g",{clipPath:"url(#master_svg0_106_2202)"},P.createElement("g",{transform:"matrix(1,0,0,-1,0,69.046875)"},P.createElement("g",null,P.createElement("path",{d:"M2.25,66.0234375Q3.23438,66.0234375,3.86719,65.3906375Q4.5,64.7578375,4.5,63.7734375L4.5,40.1484375Q4.57031,39.0937475,5.625,39.0234375L33.75,39.0234375Q34.7344,39.0234375,35.3672,38.3906275Q36,37.7578175,36,36.7734375Q36,35.7890575,35.3672,35.1562495Q34.7344,34.5234375,33.75,34.5234375L5.625,34.5234375Q3.23438,34.59375,1.61719,36.1406275Q0.0703125,37.7578175,0,40.1484375L0,63.7734375Q0,64.7578375,0.632812,65.3906375Q1.26562,66.0234375,2.25,66.0234375ZM9,59.2734375Q9,60.2578375,9.63281,60.8906375Q10.2656,61.5234375,11.25,61.5234375L24.75,61.5234375Q25.7344,61.5234375,26.3672,60.8906375Q27,60.2578375,27,59.2734375Q27,58.2890375,26.3672,57.6562375Q25.7344,57.0234375,24.75,57.0234375L11.25,57.0234375Q10.2656,57.0234375,9.63281,57.6562375Q9,58.2890375,9,59.2734375ZM11.25,54.7734375L20.25,54.7734375L11.25,54.7734375L20.25,54.7734375Q21.2344,54.7734375,21.8672,54.1406375Q22.5,53.5078375,22.5,52.5234375Q22.5,51.5390375,21.8672,50.9062375Q21.2344,50.2734375,20.25,50.2734375L11.25,50.2734375Q10.2656,50.2734375,9.63281,50.9062375Q9,51.5390375,9,52.5234375Q9,53.5078375,9.63281,54.1406375Q10.2656,54.7734375,11.25,54.7734375ZM11.25,48.0234375L29.25,48.0234375L11.25,48.0234375L29.25,48.0234375Q30.2344,48.0234375,30.8672,47.3906375Q31.5,46.7578375,31.5,45.7734375Q31.5,44.7890375,30.8672,44.1562475Q30.2344,43.5234375,29.25,43.5234375L11.25,43.5234375Q10.2656,43.5234375,9.63281,44.1562475Q9,44.7890375,9,45.7734375Q9,46.7578375,9.63281,47.3906375Q10.2656,48.0234375,11.25,48.0234375Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})))));function CR(){return p.jsx(rv,{title:"   TOP 10  ",description:"   ",icon:p.jsx(SR,{className:"w-7 h-7"})})}let Cc=null,Vl=0;const f0=Gr(t=>{const e=()=>{Cc||(Cc=setInterval(()=>{t(r=>({tick:r.tick+1}))},1e3))},n=()=>{Cc&&clearInterval(Cc),Cc=null};return{tick:0,addRefCount:()=>{Vl===0&&e(),Vl=Vl+1},removeRefCount:()=>{Vl<=1&&n(),Vl=Math.max(0,Vl-1)}}}),I6=t=>{const e=f0(i=>i.tick),n=f0(i=>i.addRefCount),r=f0(i=>i.removeRefCount);P.useEffect(()=>(n(),()=>{r()}),[]),P.useEffect(()=>{},[e])},kR=1e3,ER=60*kR,jR={subjectId:-1,seat:-1};function TR(){return Zi({queryKey:["preRealSeats"],queryFn:NR,staleTime:10*ER,select:t=>t?.subjects??null})}async function NR(){return await Py("/preSeat.json")}function F6(t,e,n,r){if(!t||!e)return t||e;const i=t.sort((c,h)=>c.subjectId-h.subjectId),s=e.sort((c,h)=>c.subjectId-h.subjectId),o=[];let a=0,u=0;for(;a<i.length&&u<s.length;){const c=i[a].subjectId;i[a].subjectId===s[u].subjectId?o.push({...i[a++],...s[u++]}):i[a].subjectId<s[u].subjectId?o.push({...i[a++],...r,subjectId:c}):o.push({...n,...s[u++]})}for(;a<i.length;){const c=i[a].subjectId;o.push({...i[a++],...r,subjectId:c})}for(;u<s.length;)o.push({...n,...s[u++]});return o}function PR(t,e){const{data:n}=TR();return P.useMemo(()=>!t||!n?.length?t:F6(t,n,e??Ly,jR),[t,n,e])}const iv={...Ly,departmentCode:"",departmentName:"",totalCount:-1},OR=async()=>await Py("/baskets.json");function Ou(){const{data:t}=Ko();return Zi({queryKey:["wishlist"],queryFn:OR,staleTime:1/0,select:e=>AR(e,t)})}const AR=(t,e)=>!t||!e?[]:F6(e,t.baskets,Ly,iv).map(r=>({...r,departmentCode:r.deptCd,departmentName:r.manageDeptNm}));function B6(t){if(!t)return" ";const e=new Date,n=new Date(t),r=e.getTime()-n.getTime(),i=Math.floor(r/1e3),s=Math.floor(i/60),o=Math.floor(s/60),a=Math.floor(o/24),u=Math.floor(a/30),c=Math.floor(u/12);return c>0?`${c} `:u>0?`${u} `:a>0?`${a} `:o>0?`${o} `:s>0?`${s} `:i>0?`${i} `:" "}const qc=[{title:"",key:"code"},{title:"",key:"name"},{title:"",key:"professor"},{title:"",key:"seat"},{title:"",key:"queryTime"}],LR=({title:t=""})=>p.jsxs(nv,{children:[p.jsx("div",{className:"flex justify-between items-center mb-4",children:p.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[p.jsxs("h2",{className:"font-bold text-lg p-2",children:[t," "]}),p.jsx(R6,{children:p.jsxs("p",{className:"text-sm",children:[p.jsx("b",{className:"text-green-500",children:"   "})," ",p.jsx("br",{})," "]})})]})}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full bg-white rounded-lg text-sm",children:[p.jsx("thead",{children:p.jsx("tr",{className:"bg-gray-50 sticky top-0 z-10 text-nowrap",children:qc.map(({title:e})=>p.jsx("th",{className:"px-4 py-2",children:e},e))})}),p.jsx("tbody",{children:p.jsx(RR,{})})]})})]});function RR(){const{data:t,isError:e,isPending:n,refetch:r}=u_(Oy.NON_MAJOR),{data:i}=Ou(),s=t?.map(o=>{const{subjectId:a,seatCount:u,queryTime:c}=o,{subjectName:h,subjectCode:f,classCode:g,professorName:v}=i?.find(_=>_.subjectId===a)||{};return{code:`${f}-${g}`,name:h,professor:v,seat:u,queryTime:c}})??[];return e?p.jsx("tr",{children:p.jsx("td",{colSpan:qc.length,children:p.jsx(D6,{onReload:r})})}):n?p.jsx(M6,{row:5,col:qc.length}):s.length?p.jsx(Cp,{component:null,children:s.map(o=>p.jsx(Sp,{timeout:500,classNames:"row-change",children:p.jsx(MR,{subject:o},o.code)},o.code))}):p.jsx("tr",{children:p.jsx("td",{colSpan:qc.length,className:"text-center",children:p.jsx(CR,{})})})}function MR({subject:t}){const e=P.useRef(t.seat),[n,r]=P.useState(!1),i=n?"bg-blue-50":"";return P.useEffect(()=>{if(e.current!==t.seat){r(!0);const s=setTimeout(()=>r(!1),1e3);return e.current=t.seat,()=>clearTimeout(s)}},[t.seat]),p.jsx("tr",{className:`border-t border-gray-200 text-black transition-colors duration-500 ${i}`,children:qc.map(({key:s})=>{switch(s){case"seat":return p.jsx("td",{className:"px-4 py-2 text-center",children:p.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold "+Qp(t.seat??-1),children:t[s]})},s);case"queryTime":return p.jsx(DR,{queryTime:t.queryTime},s);default:return p.jsx("td",{className:"px-4 py-2 text-center",children:t[s]},s)}})})}function DR({queryTime:t}){return I6(),p.jsx("td",{className:"px-4 py-2 text-center text-xs",children:p.jsx("span",{className:"px-3 py-1 rounded-full text-gray-500",children:B6(t)})})}function IR({isOpen:t,close:e}){const n=pu(o=>o.isAlarmActivated),r=pu(o=>o.isToastActivated),i=pu(o=>o.saveSettings);function s(){i({isAlarmActivated:n,isToastActivated:r}),e()}return P.useEffect(()=>{if(!t)return;const o=u=>{u.key==="Escape"&&s()},a=u=>{u.preventDefault(),s()};return window.addEventListener("keydown",o),window.addEventListener("popstate",a),()=>{window.removeEventListener("keydown",o),window.removeEventListener("popstate",a)}},[]),t?p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-contrast-50",onClick:s,children:p.jsxs("div",{className:"bg-white p-4 rounded-lg w-96 shadow-lg",onClick:o=>o.stopPropagation(),children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h2",{className:"font-bold text-lg",children:" "}),p.jsx("button",{"aria-label":"close",onClick:s,className:"rounded-full p-2 hover:bg-blue-100",children:p.jsx(Eu,{})})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:n,onChange:o=>i({isAlarmActivated:o.target.checked})}),p.jsx("span",{className:"flex items-center space-x-2",children:p.jsx("span",{children:" "})})]}),p.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:r,onChange:o=>i({isToastActivated:o.target.checked})}),p.jsx("span",{className:"flex items-center space-x-2",children:p.jsx("span",{children:" "})})]})]})]})}):null}const x3=5;function sv(){return Zi({queryKey:["pinnedSubjects"],queryFn:BR,select:t=>t.subjects})}const FR=()=>{const t=hi();return Wo({mutationFn:zR,onMutate:async e=>{await t.cancelQueries({queryKey:["pinnedSubjects"]});const n=t.getQueryData(["pinnedSubjects"])?.subjects??[];if(n&&n.length>=x3)throw new Error(JSON.stringify({message:`   ${x3} .`}));if(n){const r={...n[0],subjectId:e};t.setQueryData(["pinnedSubjects"],{subjects:[...n,r]}),n.push(r)}return{previousUsers:n}},onSuccess:()=>{t.invalidateQueries({queryKey:["pinnedSubjects"]}).then()},onError:e=>{try{const n=JSON.parse(e.message);alert(n.message)}catch{alert("Error adding pinned subject")}}})},z6=()=>{const t=hi();return Wo({mutationFn:$R,onMutate:async e=>{await t.cancelQueries({queryKey:["pinnedSubjects"]});const n=t.getQueryData(["pinnedSubjects"]);if(n){const r=n.subjects.filter(i=>i.subjectId!==e);t.setQueryData(["pinnedSubjects"],{subjects:r})}return{previousData:n}},onSettled:()=>{console.log("pin removed onSettled"),t.invalidateQueries({queryKey:["pinnedSubjects"]}).then()},onError:e=>{console.error("Error removing pinned subject:",e)}})},BR=async()=>await to("/api/pins"),zR=async t=>{const e=await Ep(`/api/pin?subjectId=${t}`,{method:"POST"});if(!e.ok)throw new Error(await e.text())},$R=async t=>{const e=await Ep(`/api/pin/${t}`,{method:"DELETE"});if(!e.ok)throw new Error(await e.text())};function UR({subject:t,seats:e,queryTime:n,disableSeat:r=!1}){const{mutate:i}=z6(),s=()=>{i(t.subjectId)};return p.jsxs("div",{className:"bg-gray-50 shadow-sm rounded-lg p-4 border border-gray-200 hover:shadow-md",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("h3",{className:"font-bold",children:t.subjectName}),p.jsx("button",{className:"p-2 rounded-full hover:bg-blue-100","aria-label":"  ",onClick:s,children:p.jsx(Eu,{})})]}),p.jsxs("div",{className:"mb-2 text-xs text-gray-500",children:[p.jsx("p",{children:t.departmentName}),p.jsxs("p",{children:[t.subjectCode,"-",t.classCode," | ",t.professorName]})]}),!r&&p.jsxs("div",{className:"flex justify-between items-baseline",children:[p.jsxs("p",{className:`px-2 py-1 rounded-full text-xs font-bold ${Qp(e)}`,children:[": ",e<0?"???":e]}),p.jsx(HR,{queryTime:n})]})]})}function HR({queryTime:t}){return I6(),p.jsx("p",{className:"text-xs text-gray-500",children:B6(t)})}function $6(){return p.jsx(Bn,{to:"/wishes",className:"p-2 rounded-full flex items-center justify-center","aria-label":"   ",title:"   ",children:p.jsx("div",{className:"bg-gray-50 rounded-full px-4 py-2 text-sm border border-gray-200 hover:shadow-md",children:"+   "})})}function QR(){return p.jsx(rv,{title:"   ",description:"    .     .",icon:p.jsx(zp,{className:"w-7 h-7",disabled:!0}),children:p.jsx($6,{})})}function VR(t){const{data:e}=Ou();return e?.filter(n=>t.includes(n.subjectId))??[]}const qR=t=>P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17,height:17,viewBox:"0 0 17 14.5",...t},P.createElement("g",{transform:"matrix(1,0,0,-1,0,28.015625)"},P.createElement("path",{d:"M1.0474,27.8750125Q0.538991,28.2031125,0.137615,27.7656125Q-0.183486,27.246112500000002,0.244648,26.8359125L16.0856,14.1484375Q16.594,13.8203125,16.9954,14.2578125Q17.3165,14.7773435,16.8884,15.1875025L14.4801,17.1289025Q14.4801,17.1562525,14.4801,17.1562525Q14.6942,17.6757825,14.3463,18.0859325L14.159,18.3320325Q12.8746,19.8085925,12.8479,21.8046925L12.8479,22.324222499999998Q12.8211,23.9375025,11.8578,25.1133125Q10.9213,26.2890125,9.42278,26.6172125L9.42278,27.1367125Q9.42278,27.519512499999998,9.18196,27.7656125Q8.94113,28.0117125,8.56651,28.0117125Q8.1919,28.0117125,7.95107,27.7656125Q7.71025,27.519512499999998,7.71025,27.1367125L7.71025,26.6172125Q5.94419,26.207012499999998,4.98089,24.7031125L1.0474,27.8750125ZM10.8677,16.6367225L4.28517,21.9414025L10.8677,16.6367225L4.28517,21.9414025L4.28517,21.8046925Q4.25841,19.8085925,3.00077,18.3046925L2.7867,18.0859325Q2.43884,17.6757825,2.65291,17.1562525Q2.89373,16.6640625,3.4289,16.6367225L10.8677,16.6367225ZM9.77064,14.5312505Q10.2791,15.0507825,10.2791,15.7617225L8.56651,15.7617225L6.85398,15.7617225Q6.85398,15.0507825,7.36239,14.5312505Q7.8708,14.01171884,8.56651,14.01171884Q9.26223,14.01171884,9.77064,14.5312505Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),WR=t=>P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:13.836064338684082,height:14,viewBox:"-1 -1 15.5 16.5",...t},P.createElement("g",{transform:"matrix(1,0,0,-1,0,28)"},P.createElement("path",{d:"M13.8033,23.433590000000002Q13.918,23.05078,13.6311,22.777340000000002L12.3689,21.68359Q12.4262,21.35547,12.4262,21Q12.4262,20.64453,12.3689,20.31641L13.6311,19.22266Q13.918,18.94922,13.8033,18.56641Q13.6025,18.07422,13.3443,17.60938L13.2008,17.39062Q12.9139,16.95312,12.5697,16.54297Q12.2828,16.24219,11.8811,16.35156L10.2746,16.84375Q9.70082,16.40625,9.01229,16.16016L8.66803,14.574219Q8.55328,14.191406,8.12295,14.109375Q7.54918,14,6.91803,14Q6.28688,14,5.68443,14.109375Q5.28279,14.191406,5.16803,14.574219L4.82377,16.16016Q4.13525,16.40625,3.56148,16.84375L1.95492,16.35156Q1.55328,16.24219,1.26639,16.54297Q0.893443,16.95312,0.635246,17.39062L0.491803,17.60938Q0.233607,18.07422,0.0327869,18.53906Q-0.0819672,18.94922,0.204918,19.22266L1.46721,20.28906Q1.40984,20.64453,1.40984,21Q1.40984,21.35547,1.46721,21.68359L0.204918,22.777340000000002Q-0.0819672,23.05078,0.0327869,23.433590000000002Q0.233607,23.92578,0.491803,24.3906L0.635246,24.6094Q0.893443,25.0469,1.26639,25.457Q1.55328,25.7578,1.95492,25.648400000000002L3.56148,25.1562Q4.13525,25.5937,4.82377,25.8672L5.16803,27.425800000000002Q5.28279,27.8086,5.71311,27.8906Q6.28688,28,6.91803,28Q7.54918,28,8.15164,27.8906Q8.55328,27.8086,8.66803,27.425800000000002L9.01229,25.8672Q9.70082,25.5937,10.2746,25.1562L11.8811,25.648400000000002Q12.2828,25.7578,12.5697,25.457Q12.9426,25.0469,13.2295,24.6094L13.3443,24.3906Q13.6025,23.92578,13.8033,23.433590000000002ZM6.91803,18.8125Q8.20902,18.83984,8.89754,19.90625Q9.52869,21,8.89754,22.09375Q8.20902,23.160159999999998,6.91803,23.1875Q5.62705,23.160159999999998,4.93852,22.09375Q4.30738,21,4.93852,19.90625Q5.62705,18.83984,6.91803,18.8125Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),KR=()=>{const[t,e]=P.useState(!1),{isAlarm:n,changeAlarm:r}=sj();return p.jsxs(p.Fragment,{children:[p.jsx(IR,{isOpen:t,close:()=>e(!1)}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between align-top",children:[p.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[p.jsx("h2",{className:"font-bold text-lg",children:"  "}),p.jsx(R6,{children:p.jsxs("p",{className:"text-sm",children:["    ",p.jsx("br",{}),p.jsx("span",{className:"text-red-500",children:"*     "})]})})]}),p.jsxs("div",{className:"flex gap-1 items-center",children:[p.jsx("button",{className:"p-2 rounded-full hover:bg-blue-100","aria-label":" ",title:" ",onClick:()=>e(!0),children:p.jsx(WR,{className:"w-5 h-5"})}),p.jsx("button",{className:"p-2 rounded-full hover:bg-blue-100","aria-label":n?" ":" ",title:n?" ":" ",onClick:r,children:n?p.jsx(Ey,{className:"w-5 h-5"}):p.jsx(qR,{className:"w-5 h-5"})})]})]}),p.jsx(GR,{})]})]})};function GR(){const{data:t,isPending:e,isError:n,refetch:r}=sv(),{data:i}=u_(Oy.PINNED),s=VR(t?.map(u=>u.subjectId)??[]),o=u=>i?.find(h=>h.subjectId===u)?.seatCount??-1,a=u=>i?.find(h=>h.subjectId===u)?.queryTime??"";return e?p.jsx("div",{className:"animate-pulse grid grid-cols-1 md:grid-cols-3 gap-4",children:[0,0,0].map((u,c)=>p.jsx("div",{className:"bg-gray-300 shadow-sm rounded-lg p-4 h-24"},"skeleton-card-"+c))}):n?p.jsx(D6,{onReload:r}):!s||s.length===0?p.jsx(QR,{}):p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.map(u=>p.jsx(UR,{subject:u,seats:o(u.subjectId),queryTime:a(u.subjectId)},`${u.subjectId}_${u.subjectCode}_${u.professorName}`)),s.length<5&&p.jsx($6,{})]})}function YR(){return p.jsxs(p.Fragment,{children:[p.jsx(nr,{children:p.jsx("title",{children:"ALLCLL |   "})}),p.jsx("div",{className:"max-w-screen-xl mx-auto mb-8",children:p.jsx("div",{className:"container p-4 mx-auto",children:p.jsxs(p.Fragment,{children:[p.jsxs("p",{className:"text-xs font-bold text-gray-500 mb-4",children:["     .   ",p.jsx(Bn,{to:"/survey",className:"text-blue-500 underline hover:text-blue-600",children:""})," ."]}),p.jsx(nv,{children:p.jsx(KR,{})}),p.jsx("div",{className:"grid grid-cols-1 gap-x-4 mb-4",children:p.jsx(LR,{title:""})})]})})})]})}function XR(){const[t,e]=P.useState(!1);return p.jsxs(p.Fragment,{children:[p.jsx(nr,{children:p.jsx("title",{children:"ALLCLL | "})}),p.jsxs("div",{className:"mx-auto flex flex-col justify-center bg-blue-100 h-max",children:[p.jsx("iframe",{src:"https://resilient-may-c73.notion.site/ebd/1f2acf7c316280939afed2657259c817",width:"100%",height:t?"1000":"0",onLoad:()=>e(!0),children:" "}),!t&&p.jsx("div",{className:"w-4xl mx-auto h-screen flex justify-center items-center text-3xl",children:" ..."})]})]})}function JR(){const[t,e]=P.useState(!1);return p.jsxs(p.Fragment,{children:[p.jsx(nr,{children:p.jsx("title",{children:"ALLCLL |   "})}),p.jsxs("div",{className:"mx-auto flex justify-center bg-blue-100 pt-4",children:[p.jsx("iframe",{src:"https://docs.google.com/forms/d/e/1FAIpQLSdk7MxNYVyzPyJLecQdJU5wGSgdE7rUWtRfcrPBY2ioKbtW2Q/viewform?embedded=true",width:"640",height:t?"1100":"0",onLoad:()=>e(!0),children:" "}),!t&&p.jsx("div",{className:"w-4xl h-screen flex items-center text-3xl",children:" ..."})]})]})}function b3(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}const Nr=Xo(/[A-Za-z]/),vr=Xo(/[\dA-Za-z]/),ZR=Xo(/[#-'*+\--9=?A-Z^-~]/);function up(t){return t!==null&&(t<32||t===127)}const T1=Xo(/\d/),eM=Xo(/[\dA-Fa-f]/),tM=Xo(/[!-/:-@[-`{-~]/);function dt(t){return t!==null&&t<-2}function nn(t){return t!==null&&(t<0||t===32)}function Dt(t){return t===-2||t===-1||t===32}const Vp=Xo(new RegExp("\\p{P}|\\p{S}","u")),Za=Xo(/\s/);function Xo(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function nM(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const qp=function(t){if(t==null)return oM;if(typeof t=="function")return Wp(t);if(typeof t=="object")return Array.isArray(t)?rM(t):iM(t);if(typeof t=="string")return sM(t);throw new Error("Expected function, string, or object as test")};function rM(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=qp(t[n]);return Wp(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function iM(t){const e=t;return Wp(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function sM(t){return Wp(e);function e(n){return n&&n.type===t}}function Wp(t){return e;function e(n,r,i){return!!(aM(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function oM(){return!0}function aM(t){return t!==null&&typeof t=="object"&&"type"in t}const U6=[],lM=!0,N1=!1,uM="skip";function H6(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=qp(i),o=r?-1:1;a(t,void 0,[])();function a(u,c,h){const f=u&&typeof u=="object"?u:{};if(typeof f.type=="string"){const v=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(u.type+(v?"<"+v+">":""))+")"})}return g;function g(){let v=U6,_,S,C;if((!e||s(u,c,h[h.length-1]||void 0))&&(v=cM(n(u,h)),v[0]===N1))return v;if("children"in u&&u.children){const j=u;if(j.children&&v[0]!==uM)for(S=(r?j.children.length:-1)+o,C=h.concat(j);S>-1&&S<j.children.length;){const R=j.children[S];if(_=a(R,S,C)(),_[0]===N1)return _;S=typeof _[1]=="number"?_[1]:S+o}}return v}}}function cM(t){return Array.isArray(t)?t:typeof t=="number"?[lM,t]:t==null?U6:[t]}function dM(t,e,n){const i=qp((n||{}).ignore||[]),s=hM(e);let o=-1;for(;++o<s.length;)H6(t,"text",a);function a(c,h){let f=-1,g;for(;++f<h.length;){const v=h[f],_=g?g.children:void 0;if(i(v,_?_.indexOf(v):void 0,g))return;g=v}if(g)return u(c,h)}function u(c,h){const f=h[h.length-1],g=s[o][0],v=s[o][1];let _=0;const C=f.children.indexOf(c);let j=!1,R=[];g.lastIndex=0;let A=g.exec(c.value);for(;A;){const F=A.index,U={index:A.index,input:A.input,stack:[...h,c]};let O=v(...A,U);if(typeof O=="string"&&(O=O.length>0?{type:"text",value:O}:void 0),O===!1?g.lastIndex=F+1:(_!==F&&R.push({type:"text",value:c.value.slice(_,F)}),Array.isArray(O)?R.push(...O):O&&R.push(O),_=F+A[0].length,j=!0),!g.global)break;A=g.exec(c.value)}return j?(_<c.value.length&&R.push({type:"text",value:c.value.slice(_)}),f.children.splice(C,1,...R)):R=[c],C+R.length}}function hM(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([fM(i[0]),pM(i[1])])}return e}function fM(t){return typeof t=="string"?new RegExp(nM(t),"g"):t}function pM(t){return typeof t=="function"?t:function(){return t}}const p0="phrasing",m0=["autolink","link","image","label"];function mM(){return{transforms:[_M],enter:{literalAutolink:yM,literalAutolinkEmail:g0,literalAutolinkHttp:g0,literalAutolinkWww:g0},exit:{literalAutolink:wM,literalAutolinkEmail:bM,literalAutolinkHttp:vM,literalAutolinkWww:xM}}}function gM(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:p0,notInConstruct:m0},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:p0,notInConstruct:m0},{character:":",before:"[ps]",after:"\\/",inConstruct:p0,notInConstruct:m0}]}}function yM(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function g0(t){this.config.enter.autolinkProtocol.call(this,t)}function vM(t){this.config.exit.autolinkProtocol.call(this,t)}function xM(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function bM(t){this.config.exit.autolinkEmail.call(this,t)}function wM(t){this.exit(t)}function _M(t){dM(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,SM],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),CM]],{ignore:["link","linkReference"]})}function SM(t,e,n,r,i){let s="";if(!Q6(i)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!kM(n)))return!1;const o=EM(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function CM(t,e,n,r){return!Q6(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function kM(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function EM(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=b3(t,"(");let s=b3(t,")");for(;r!==-1&&i>s;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[t,n]}function Q6(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||Za(n)||Vp(n))&&(!e||n!==47)}function Xi(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}V6.peek=MM;function jM(){this.buffer()}function TM(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function NM(){this.buffer()}function PM(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function OM(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Xi(this.sliceSerialize(t)).toLowerCase(),n.label=e}function AM(t){this.exit(t)}function LM(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Xi(this.sliceSerialize(t)).toLowerCase(),n.label=e}function RM(t){this.exit(t)}function MM(){return"["}function V6(t,e,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(n.safe(n.associationId(t),{after:"]",before:s})),a(),o(),s+=i.move("]"),s}function DM(){return{enter:{gfmFootnoteCallString:jM,gfmFootnoteCall:TM,gfmFootnoteDefinitionLabelString:NM,gfmFootnoteDefinition:PM},exit:{gfmFootnoteCallString:OM,gfmFootnoteCall:AM,gfmFootnoteDefinitionLabelString:LM,gfmFootnoteDefinition:RM}}}function IM(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:V6},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,o){const a=s.createTracker(o);let u=a.move("[^");const c=s.enter("footnoteDefinition"),h=s.enter("label");return u+=a.move(s.safe(s.associationId(r),{before:u,after:"]"})),h(),u+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),u+=a.move((e?`
`:" ")+s.indentLines(s.containerFlow(r,a.current()),e?q6:FM))),c(),u}}function FM(t,e,n){return e===0?t:q6(t,e,n)}function q6(t,e,n){return(n?"":"    ")+t}const BM=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];W6.peek=QM;function zM(){return{canContainEols:["delete"],enter:{strikethrough:UM},exit:{strikethrough:HM}}}function $M(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:BM}],handlers:{delete:W6}}}function UM(t){this.enter({type:"delete",children:[]},t)}function HM(t){this.exit(t)}function W6(t,e,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(t,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function QM(){return"~"}function VM(t){return t.length}function qM(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||VM,s=[],o=[],a=[],u=[];let c=0,h=-1;for(;++h<t.length;){const S=[],C=[];let j=-1;for(t[h].length>c&&(c=t[h].length);++j<t[h].length;){const R=WM(t[h][j]);if(n.alignDelimiters!==!1){const A=i(R);C[j]=A,(u[j]===void 0||A>u[j])&&(u[j]=A)}S.push(R)}o[h]=S,a[h]=C}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<c;)s[f]=w3(r[f]);else{const S=w3(r);for(;++f<c;)s[f]=S}f=-1;const g=[],v=[];for(;++f<c;){const S=s[f];let C="",j="";S===99?(C=":",j=":"):S===108?C=":":S===114&&(j=":");let R=n.alignDelimiters===!1?1:Math.max(1,u[f]-C.length-j.length);const A=C+"-".repeat(R)+j;n.alignDelimiters!==!1&&(R=C.length+R+j.length,R>u[f]&&(u[f]=R),v[f]=R),g[f]=A}o.splice(1,0,g),a.splice(1,0,v),h=-1;const _=[];for(;++h<o.length;){const S=o[h],C=a[h];f=-1;const j=[];for(;++f<c;){const R=S[f]||"";let A="",F="";if(n.alignDelimiters!==!1){const U=u[f]-(C[f]||0),O=s[f];O===114?A=" ".repeat(U):O===99?U%2?(A=" ".repeat(U/2+.5),F=" ".repeat(U/2-.5)):(A=" ".repeat(U/2),F=A):F=" ".repeat(U)}n.delimiterStart!==!1&&!f&&j.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&R==="")&&(n.delimiterStart!==!1||f)&&j.push(" "),n.alignDelimiters!==!1&&j.push(A),j.push(R),n.alignDelimiters!==!1&&j.push(F),n.padding!==!1&&j.push(" "),(n.delimiterEnd!==!1||f!==c-1)&&j.push("|")}_.push(n.delimiterEnd===!1?j.join("").replace(/ +$/,""):j.join(""))}return _.join(`
`)}function WM(t){return t==null?"":String(t)}function w3(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function KM(t,e,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(t,s.current()),GM);return i(),o}function GM(t,e,n){return">"+(n?"":" ")+t}function YM(t,e){return _3(t,e.inConstruct,!0)&&!_3(t,e.notInConstruct,!1)}function _3(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function S3(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&YM(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function XM(t,e){const n=String(t);let r=n.indexOf(e),i=r,s=0,o=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+e.length,r=n.indexOf(e,i);return o}function JM(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function ZM(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function eD(t,e,n,r){const i=ZM(n),s=t.value||"",o=i==="`"?"GraveAccent":"Tilde";if(JM(t,n)){const f=n.enter("codeIndented"),g=n.indentLines(s,tD);return f(),g}const a=n.createTracker(r),u=i.repeat(Math.max(XM(s,i)+1,3)),c=n.enter("codeFenced");let h=a.move(u);if(t.lang){const f=n.enter(`codeFencedLang${o}`);h+=a.move(n.safe(t.lang,{before:h,after:" ",encode:["`"],...a.current()})),f()}if(t.lang&&t.meta){const f=n.enter(`codeFencedMeta${o}`);h+=a.move(" "),h+=a.move(n.safe(t.meta,{before:h,after:`
`,encode:["`"],...a.current()})),f()}return h+=a.move(`
`),s&&(h+=a.move(s+`
`)),h+=a.move(u),c(),h}function tD(t,e,n){return(n?"":"    ")+t}function ov(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function nD(t,e,n,r){const i=ov(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const u=n.createTracker(r);let c=u.move("[");return c+=u.move(n.safe(n.associationId(t),{before:c,after:"]",...u.current()})),c+=u.move("]: "),a(),!t.url||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(n.safe(t.url,{before:c,after:">",...u.current()})),c+=u.move(">")):(a=n.enter("destinationRaw"),c+=u.move(n.safe(t.url,{before:c,after:t.title?" ":`
`,...u.current()}))),a(),t.title&&(a=n.enter(`title${s}`),c+=u.move(" "+i),c+=u.move(n.safe(t.title,{before:c,after:i,...u.current()})),c+=u.move(i),a()),o(),c}function rD(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function hd(t){return"&#x"+t.toString(16).toUpperCase()+";"}function _u(t){if(t===null||nn(t)||Za(t))return 1;if(Vp(t))return 2}function cp(t,e,n){const r=_u(t),i=_u(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}K6.peek=iD;function K6(t,e,n,r){const i=rD(n),s=n.enter("emphasis"),o=n.createTracker(r),a=o.move(i);let u=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const c=u.charCodeAt(0),h=cp(r.before.charCodeAt(r.before.length-1),c,i);h.inside&&(u=hd(c)+u.slice(1));const f=u.charCodeAt(u.length-1),g=cp(r.after.charCodeAt(0),f,i);g.inside&&(u=u.slice(0,-1)+hd(f));const v=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:g.outside,before:h.outside},a+u+v}function iD(t,e,n){return n.options.emphasis||"*"}function av(t,e,n,r){let i,s,o;typeof e=="function"&&typeof n!="function"?(s=void 0,o=e,i=n):(s=e,o=n,i=r),H6(t,s,a,i);function a(u,c){const h=c[c.length-1],f=h?h.children.indexOf(u):void 0;return o(u,f,h)}}const sD={};function lv(t,e){const n=sD,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return G6(t,r,i)}function G6(t,e,n){if(oD(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return C3(t.children,e,n)}return Array.isArray(t)?C3(t,e,n):""}function C3(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=G6(t[i],e,n);return r.join("")}function oD(t){return!!(t&&typeof t=="object")}function aD(t,e){let n=!1;return av(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,N1}),!!((!t.depth||t.depth<3)&&lv(t)&&(e.options.setext||n))}function lD(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(aD(t,n)){const h=n.enter("headingSetext"),f=n.enter("phrasing"),g=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return f(),h(),g+`
`+(i===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),u=n.enter("phrasing");s.move(o+" ");let c=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c=hd(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),u(),a(),c}Y6.peek=uD;function Y6(t){return t.value||""}function uD(){return"<"}X6.peek=cD;function X6(t,e,n,r){const i=ov(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const u=n.createTracker(r);let c=u.move("![");return c+=u.move(n.safe(t.alt,{before:c,after:"]",...u.current()})),c+=u.move("]("),a(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(n.safe(t.url,{before:c,after:">",...u.current()})),c+=u.move(">")):(a=n.enter("destinationRaw"),c+=u.move(n.safe(t.url,{before:c,after:t.title?" ":")",...u.current()}))),a(),t.title&&(a=n.enter(`title${s}`),c+=u.move(" "+i),c+=u.move(n.safe(t.title,{before:c,after:i,...u.current()})),c+=u.move(i),a()),c+=u.move(")"),o(),c}function cD(){return"!"}J6.peek=dD;function J6(t,e,n,r){const i=t.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let u=a.move("![");const c=n.safe(t.alt,{before:u,after:"]",...a.current()});u+=a.move(c+"]["),o();const h=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(t),{before:u,after:"]",...a.current()});return o(),n.stack=h,s(),i==="full"||!c||c!==f?u+=a.move(f+"]"):i==="shortcut"?u=u.slice(0,-1):u+=a.move("]"),u}function dD(){return"!"}Z6.peek=hD;function Z6(t,e,n){let r=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let u;if(o.atBreak)for(;u=a.exec(r);){let c=u.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(u.index+1)}}return i+r+i}function hD(){return"`"}function e7(t,e){const n=lv(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}t7.peek=fD;function t7(t,e,n,r){const i=ov(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,u;if(e7(t,n)){const h=n.stack;n.stack=[],a=n.enter("autolink");let f=o.move("<");return f+=o.move(n.containerPhrasing(t,{before:f,after:">",...o.current()})),f+=o.move(">"),a(),n.stack=h,f}a=n.enter("link"),u=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(t,{before:c,after:"](",...o.current()})),c+=o.move("]("),u(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(u=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(t.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(u=n.enter("destinationRaw"),c+=o.move(n.safe(t.url,{before:c,after:t.title?" ":")",...o.current()}))),u(),t.title&&(u=n.enter(`title${s}`),c+=o.move(" "+i),c+=o.move(n.safe(t.title,{before:c,after:i,...o.current()})),c+=o.move(i),u()),c+=o.move(")"),a(),c}function fD(t,e,n){return e7(t,n)?"<":"["}n7.peek=pD;function n7(t,e,n,r){const i=t.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let u=a.move("[");const c=n.containerPhrasing(t,{before:u,after:"]",...a.current()});u+=a.move(c+"]["),o();const h=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(t),{before:u,after:"]",...a.current()});return o(),n.stack=h,s(),i==="full"||!c||c!==f?u+=a.move(f+"]"):i==="shortcut"?u=u.slice(0,-1):u+=a.move("]"),u}function pD(){return"["}function uv(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function mD(t){const e=uv(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function gD(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function r7(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function yD(t,e,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=t.ordered?gD(n):uv(n);const a=t.ordered?o==="."?")":".":mD(n);let u=e&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!t.ordered){const h=t.children?t.children[0]:void 0;if((o==="*"||o==="-")&&h&&(!h.children||!h.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(u=!0),r7(n)===o&&h){let f=-1;for(;++f<t.children.length;){const g=t.children[f];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(o=a),n.bulletCurrent=o;const c=n.containerFlow(t,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),c}function vD(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function xD(t,e,n,r){const i=vD(n);let s=n.bulletCurrent||uv(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const u=n.enter("listItem"),c=n.indentLines(n.containerFlow(t,a.current()),h);return u(),c;function h(f,g,v){return g?(v?"":" ".repeat(o))+f:(v?s:s+" ".repeat(o-s.length))+f}}function bD(t,e,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(t,r);return s(),i(),o}const wD=qp(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function _D(t,e,n,r){return(t.children.some(function(o){return wD(o)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function SD(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}i7.peek=CD;function i7(t,e,n,r){const i=SD(n),s=n.enter("strong"),o=n.createTracker(r),a=o.move(i+i);let u=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const c=u.charCodeAt(0),h=cp(r.before.charCodeAt(r.before.length-1),c,i);h.inside&&(u=hd(c)+u.slice(1));const f=u.charCodeAt(u.length-1),g=cp(r.after.charCodeAt(0),f,i);g.inside&&(u=u.slice(0,-1)+hd(f));const v=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:g.outside,before:h.outside},a+u+v}function CD(t,e,n){return n.options.strong||"*"}function kD(t,e,n,r){return n.safe(t.value,r)}function ED(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function jD(t,e,n){const r=(r7(n)+(n.options.ruleSpaces?" ":"")).repeat(ED(n));return n.options.ruleSpaces?r.slice(0,-1):r}const s7={blockquote:KM,break:S3,code:eD,definition:nD,emphasis:K6,hardBreak:S3,heading:lD,html:Y6,image:X6,imageReference:J6,inlineCode:Z6,link:t7,linkReference:n7,list:yD,listItem:xD,paragraph:bD,root:_D,strong:i7,text:kD,thematicBreak:jD},k3=document.createElement("i");function cv(t){const e="&"+t+";";k3.innerHTML=e;const n=k3.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function o7(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}const TD=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function ND(t){return t.replace(TD,PD)}function PD(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return o7(n.slice(s?2:1),s?16:10)}return cv(n)||t}function OD(){return{enter:{table:AD,tableData:E3,tableHeader:E3,tableRow:RD},exit:{codeText:MD,table:LD,tableData:y0,tableHeader:y0,tableRow:y0}}}function AD(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function LD(t){this.exit(t),this.data.inTable=void 0}function RD(t){this.enter({type:"tableRow",children:[]},t)}function y0(t){this.exit(t)}function E3(t){this.enter({type:"tableCell",children:[]},t)}function MD(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,DD));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function DD(t,e){return e==="|"?e:t}function ID(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:g,table:o,tableCell:u,tableRow:a}};function o(v,_,S,C){return c(h(v,S,C),v.align)}function a(v,_,S,C){const j=f(v,S,C),R=c([j]);return R.slice(0,R.indexOf(`
`))}function u(v,_,S,C){const j=S.enter("tableCell"),R=S.enter("phrasing"),A=S.containerPhrasing(v,{...C,before:s,after:s});return R(),j(),A}function c(v,_){return qM(v,{align:_,alignDelimiters:r,padding:n,stringLength:i})}function h(v,_,S){const C=v.children;let j=-1;const R=[],A=_.enter("table");for(;++j<C.length;)R[j]=f(C[j],_,S);return A(),R}function f(v,_,S){const C=v.children;let j=-1;const R=[],A=_.enter("tableRow");for(;++j<C.length;)R[j]=u(C[j],v,_,S);return A(),R}function g(v,_,S){let C=s7.inlineCode(v,_,S);return S.stack.includes("tableCell")&&(C=C.replace(/\|/g,"\\$&")),C}}function FD(){return{exit:{taskListCheckValueChecked:j3,taskListCheckValueUnchecked:j3,paragraph:zD}}}function BD(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:$D}}}function j3(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function zD(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function $D(t,e,n,r){const i=t.children[0],s=typeof t.checked=="boolean"&&i&&i.type==="paragraph",o="["+(t.checked?"x":" ")+"] ",a=n.createTracker(r);s&&a.move(o);let u=s7.listItem(t,e,n,{...r,...a.current()});return s&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),u;function c(h){return h+o}}function UD(){return[mM(),DM(),zM(),OD(),FD()]}function HD(t){return{extensions:[gM(),IM(t),$M(),ID(t),BD()]}}function ui(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function ji(t,e){return t.length>0?(ui(t,t.length,0,e),t):e}const T3={}.hasOwnProperty;function a7(t){const e={};let n=-1;for(;++n<t.length;)QD(e,t[n]);return e}function QD(t,e){let n;for(n in e){const i=(T3.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){T3.call(i,o)||(i[o]=[]);const a=s[o];VD(i[o],Array.isArray(a)?a:a?[a]:[])}}}function VD(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);ui(t,0,0,r)}const qD={tokenize:JD,partial:!0},l7={tokenize:ZD,partial:!0},u7={tokenize:eI,partial:!0},c7={tokenize:tI,partial:!0},WD={tokenize:nI,partial:!0},d7={name:"wwwAutolink",tokenize:YD,previous:f7},h7={name:"protocolAutolink",tokenize:XD,previous:p7},io={name:"emailAutolink",tokenize:GD,previous:m7},vs={};function KD(){return{text:vs}}let Pa=48;for(;Pa<123;)vs[Pa]=io,Pa++,Pa===58?Pa=65:Pa===91&&(Pa=97);vs[43]=io;vs[45]=io;vs[46]=io;vs[95]=io;vs[72]=[io,h7];vs[104]=[io,h7];vs[87]=[io,d7];vs[119]=[io,d7];function GD(t,e,n){const r=this;let i,s;return o;function o(f){return!P1(f)||!m7.call(r,r.previous)||dv(r.events)?n(f):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),a(f))}function a(f){return P1(f)?(t.consume(f),a):f===64?(t.consume(f),u):n(f)}function u(f){return f===46?t.check(WD,h,c)(f):f===45||f===95||vr(f)?(s=!0,t.consume(f),u):h(f)}function c(f){return t.consume(f),i=!0,u}function h(f){return s&&i&&Nr(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(f)):n(f)}}function YD(t,e,n){const r=this;return i;function i(o){return o!==87&&o!==119||!f7.call(r,r.previous)||dv(r.events)?n(o):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(qD,t.attempt(l7,t.attempt(u7,s),n),n)(o))}function s(o){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(o)}}function XD(t,e,n){const r=this;let i="",s=!1;return o;function o(f){return(f===72||f===104)&&p7.call(r,r.previous)&&!dv(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),t.consume(f),a):n(f)}function a(f){if(Nr(f)&&i.length<5)return i+=String.fromCodePoint(f),t.consume(f),a;if(f===58){const g=i.toLowerCase();if(g==="http"||g==="https")return t.consume(f),u}return n(f)}function u(f){return f===47?(t.consume(f),s?c:(s=!0,u)):n(f)}function c(f){return f===null||up(f)||nn(f)||Za(f)||Vp(f)?n(f):t.attempt(l7,t.attempt(u7,h),n)(f)}function h(f){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(f)}}function JD(t,e,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,t.consume(o),i):o===46&&r===3?(t.consume(o),s):n(o)}function s(o){return o===null?n(o):e(o)}}function ZD(t,e,n){let r,i,s;return o;function o(c){return c===46||c===95?t.check(c7,u,a)(c):c===null||nn(c)||Za(c)||c!==45&&Vp(c)?u(c):(s=!0,t.consume(c),o)}function a(c){return c===95?r=!0:(i=r,r=void 0),t.consume(c),o}function u(c){return i||r||!s?n(c):e(c)}}function eI(t,e){let n=0,r=0;return i;function i(o){return o===40?(n++,t.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?t.check(c7,e,s)(o):o===null||nn(o)||Za(o)?e(o):(t.consume(o),i)}function s(o){return o===41&&r++,t.consume(o),i}}function tI(t,e,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(t.consume(a),r):a===38?(t.consume(a),s):a===93?(t.consume(a),i):a===60||a===null||nn(a)||Za(a)?e(a):n(a)}function i(a){return a===null||a===40||a===91||nn(a)||Za(a)?e(a):r(a)}function s(a){return Nr(a)?o(a):n(a)}function o(a){return a===59?(t.consume(a),r):Nr(a)?(t.consume(a),o):n(a)}}function nI(t,e,n){return r;function r(s){return t.consume(s),i}function i(s){return vr(s)?n(s):e(s)}}function f7(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||nn(t)}function p7(t){return!Nr(t)}function m7(t){return!(t===47||P1(t))}function P1(t){return t===43||t===45||t===46||t===95||vr(t)}function dv(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}function Au(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&vr(t.charCodeAt(n+1))&&vr(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=t.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Kp(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const O1={name:"attention",resolveAll:rI,tokenize:iI};function rI(t,e){let n=-1,r,i,s,o,a,u,c,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;u=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f={...t[r][1].end},g={...t[n][1].start};N3(f,-u),N3(g,u),o={type:u>1?"strongSequence":"emphasisSequence",start:f,end:{...t[r][1].end}},a={type:u>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:g},s={type:u>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:u>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},t[r][1].end={...o.start},t[n][1].start={...a.end},c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=ji(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=ji(c,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),c=ji(c,Kp(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=ji(c,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,c=ji(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,ui(t,r-1,n-r+3,c),n=r+c.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function iI(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=_u(r);let s;return o;function o(u){return s=u,t.enter("attentionSequence"),a(u)}function a(u){if(u===s)return t.consume(u),a;const c=t.exit("attentionSequence"),h=_u(u),f=!h||h===2&&i||n.includes(u),g=!i||i===2&&h||n.includes(r);return c._open=!!(s===42?f:f&&(i||!g)),c._close=!!(s===42?g:g&&(h||!f)),e(u)}}function N3(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const sI={name:"autolink",tokenize:oI};function oI(t,e,n){let r=0;return i;function i(v){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(v){return Nr(v)?(t.consume(v),o):v===64?n(v):c(v)}function o(v){return v===43||v===45||v===46||vr(v)?(r=1,a(v)):c(v)}function a(v){return v===58?(t.consume(v),r=0,u):(v===43||v===45||v===46||vr(v))&&r++<32?(t.consume(v),a):(r=0,c(v))}function u(v){return v===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),e):v===null||v===32||v===60||up(v)?n(v):(t.consume(v),u)}function c(v){return v===64?(t.consume(v),h):ZR(v)?(t.consume(v),c):n(v)}function h(v){return vr(v)?f(v):n(v)}function f(v){return v===46?(t.consume(v),r=0,h):v===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),e):g(v)}function g(v){if((v===45||vr(v))&&r++<63){const _=v===45?g:f;return t.consume(v),_}return n(v)}}function Ut(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(u){return Dt(u)?(t.enter(n),a(u)):e(u)}function a(u){return Dt(u)&&s++<i?(t.consume(u),a):(t.exit(n),e(u))}}const Nd={partial:!0,tokenize:aI};function aI(t,e,n){return r;function r(s){return Dt(s)?Ut(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||dt(s)?e(s):n(s)}}const g7={continuation:{tokenize:uI},exit:cI,name:"blockQuote",tokenize:lI};function lI(t,e,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Dt(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function uI(t,e,n){const r=this;return i;function i(o){return Dt(o)?Ut(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(g7,e,n)(o)}}function cI(t){t.exit("blockQuote")}const y7={name:"characterEscape",tokenize:dI};function dI(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return tM(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const v7={name:"characterReference",tokenize:hI};function hI(t,e,n){const r=this;let i=0,s,o;return a;function a(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),u}function u(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),s=31,o=vr,h(f))}function c(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=eM,h):(t.enter("characterReferenceValue"),s=7,o=T1,h(f))}function h(f){if(f===59&&i){const g=t.exit("characterReferenceValue");return o===vr&&!cv(r.sliceSerialize(g))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(f)&&i++<s?(t.consume(f),h):n(f)}}const P3={partial:!0,tokenize:pI},O3={concrete:!0,name:"codeFenced",tokenize:fI};function fI(t,e,n){const r=this,i={partial:!0,tokenize:U};let s=0,o=0,a;return u;function u(O){return c(O)}function c(O){const $=r.events[r.events.length-1];return s=$&&$[1].type==="linePrefix"?$[2].sliceSerialize($[1],!0).length:0,a=O,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),h(O)}function h(O){return O===a?(o++,t.consume(O),h):o<3?n(O):(t.exit("codeFencedFenceSequence"),Dt(O)?Ut(t,f,"whitespace")(O):f(O))}function f(O){return O===null||dt(O)?(t.exit("codeFencedFence"),r.interrupt?e(O):t.check(P3,S,F)(O)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),g(O))}function g(O){return O===null||dt(O)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),f(O)):Dt(O)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Ut(t,v,"whitespace")(O)):O===96&&O===a?n(O):(t.consume(O),g)}function v(O){return O===null||dt(O)?f(O):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),_(O))}function _(O){return O===null||dt(O)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),f(O)):O===96&&O===a?n(O):(t.consume(O),_)}function S(O){return t.attempt(i,F,C)(O)}function C(O){return t.enter("lineEnding"),t.consume(O),t.exit("lineEnding"),j}function j(O){return s>0&&Dt(O)?Ut(t,R,"linePrefix",s+1)(O):R(O)}function R(O){return O===null||dt(O)?t.check(P3,S,F)(O):(t.enter("codeFlowValue"),A(O))}function A(O){return O===null||dt(O)?(t.exit("codeFlowValue"),R(O)):(t.consume(O),A)}function F(O){return t.exit("codeFenced"),e(O)}function U(O,$,K){let H=0;return z;function z(V){return O.enter("lineEnding"),O.consume(V),O.exit("lineEnding"),ue}function ue(V){return O.enter("codeFencedFence"),Dt(V)?Ut(O,de,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(V):de(V)}function de(V){return V===a?(O.enter("codeFencedFenceSequence"),pe(V)):K(V)}function pe(V){return V===a?(H++,O.consume(V),pe):H>=o?(O.exit("codeFencedFenceSequence"),Dt(V)?Ut(O,q,"whitespace")(V):q(V)):K(V)}function q(V){return V===null||dt(V)?(O.exit("codeFencedFence"),$(V)):K(V)}}}function pI(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const v0={name:"codeIndented",tokenize:gI},mI={partial:!0,tokenize:yI};function gI(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),Ut(t,s,"linePrefix",5)(c)}function s(c){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?u(c):dt(c)?t.attempt(mI,o,u)(c):(t.enter("codeFlowValue"),a(c))}function a(c){return c===null||dt(c)?(t.exit("codeFlowValue"),o(c)):(t.consume(c),a)}function u(c){return t.exit("codeIndented"),e(c)}}function yI(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):dt(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):Ut(t,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):dt(o)?i(o):n(o)}}const vI={name:"codeText",previous:bI,resolve:xI,tokenize:wI};function xI(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function bI(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function wI(t,e,n){let r=0,i,s;return o;function o(f){return t.enter("codeText"),t.enter("codeTextSequence"),a(f)}function a(f){return f===96?(t.consume(f),r++,a):(t.exit("codeTextSequence"),u(f))}function u(f){return f===null?n(f):f===32?(t.enter("space"),t.consume(f),t.exit("space"),u):f===96?(s=t.enter("codeTextSequence"),i=0,h(f)):dt(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),u):(t.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||dt(f)?(t.exit("codeTextData"),u(f)):(t.consume(f),c)}function h(f){return f===96?(t.consume(f),i++,h):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(s.type="codeTextData",c(f))}}class _I{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&kc(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),kc(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),kc(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);kc(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);kc(this.left,n.reverse())}}}function kc(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function x7(t){const e={};let n=-1,r,i,s,o,a,u,c;const h=new _I(t);for(;++n<h.length;){for(;n in e;)n=e[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,SI(h,n)),n=e[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=h.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...h.get(i)[1].start},a=h.slice(i,n),a.unshift(r),h.splice(i,n-i+1,a))}}return ui(t,0,Number.POSITIVE_INFINITY,h.slice(0)),!c}function SI(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,u=[],c={};let h,f,g=-1,v=n,_=0,S=0;const C=[S];for(;v;){for(;t.get(++i)[1]!==v;);s.push(i),v._tokenizer||(h=r.sliceStream(v),v.next||h.push(null),f&&o.defineSkip(v.start),v._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(h),v._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=v,v=v.next}for(v=n;++g<a.length;)a[g][0]==="exit"&&a[g-1][0]==="enter"&&a[g][1].type===a[g-1][1].type&&a[g][1].start.line!==a[g][1].end.line&&(S=g+1,C.push(S),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(o.events=[],v?(v._tokenizer=void 0,v.previous=void 0):C.pop(),g=C.length;g--;){const j=a.slice(C[g],C[g+1]),R=s.pop();u.push([R,R+j.length-1]),t.splice(R,2,j)}for(u.reverse(),g=-1;++g<u.length;)c[_+u[g][0]]=_+u[g][1],_+=u[g][1]-u[g][0]-1;return c}const CI={resolve:EI,tokenize:jI},kI={partial:!0,tokenize:TI};function EI(t){return x7(t),t}function jI(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):dt(a)?t.check(kI,o,s)(a):(t.consume(a),i)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function TI(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Ut(t,s,"linePrefix")}function s(o){if(o===null||dt(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function b7(t,e,n,r,i,s,o,a,u){const c=u||Number.POSITIVE_INFINITY;let h=0;return f;function f(j){return j===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(j),t.exit(s),g):j===null||j===32||j===41||up(j)?n(j):(t.enter(r),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),S(j))}function g(j){return j===62?(t.enter(s),t.consume(j),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),v(j))}function v(j){return j===62?(t.exit("chunkString"),t.exit(a),g(j)):j===null||j===60||dt(j)?n(j):(t.consume(j),j===92?_:v)}function _(j){return j===60||j===62||j===92?(t.consume(j),v):v(j)}function S(j){return!h&&(j===null||j===41||nn(j))?(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(j)):h<c&&j===40?(t.consume(j),h++,S):j===41?(t.consume(j),h--,S):j===null||j===32||j===40||up(j)?n(j):(t.consume(j),j===92?C:S)}function C(j){return j===40||j===41||j===92?(t.consume(j),S):S(j)}}function w7(t,e,n,r,i,s){const o=this;let a=0,u;return c;function c(v){return t.enter(r),t.enter(i),t.consume(v),t.exit(i),t.enter(s),h}function h(v){return a>999||v===null||v===91||v===93&&!u||v===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(v):v===93?(t.exit(s),t.enter(i),t.consume(v),t.exit(i),t.exit(r),e):dt(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),f(v))}function f(v){return v===null||v===91||v===93||dt(v)||a++>999?(t.exit("chunkString"),h(v)):(t.consume(v),u||(u=!Dt(v)),v===92?g:f)}function g(v){return v===91||v===92||v===93?(t.consume(v),a++,f):f(v)}}function _7(t,e,n,r,i,s){let o;return a;function a(g){return g===34||g===39||g===40?(t.enter(r),t.enter(i),t.consume(g),t.exit(i),o=g===40?41:g,u):n(g)}function u(g){return g===o?(t.enter(i),t.consume(g),t.exit(i),t.exit(r),e):(t.enter(s),c(g))}function c(g){return g===o?(t.exit(s),u(o)):g===null?n(g):dt(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),Ut(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===o||g===null||dt(g)?(t.exit("chunkString"),c(g)):(t.consume(g),g===92?f:h)}function f(g){return g===o||g===92?(t.consume(g),h):h(g)}}function Wc(t,e){let n;return r;function r(i){return dt(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Dt(i)?Ut(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const NI={name:"definition",tokenize:OI},PI={partial:!0,tokenize:AI};function OI(t,e,n){const r=this;let i;return s;function s(v){return t.enter("definition"),o(v)}function o(v){return w7.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function a(v){return i=Xi(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),v===58?(t.enter("definitionMarker"),t.consume(v),t.exit("definitionMarker"),u):n(v)}function u(v){return nn(v)?Wc(t,c)(v):c(v)}function c(v){return b7(t,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function h(v){return t.attempt(PI,f,f)(v)}function f(v){return Dt(v)?Ut(t,g,"whitespace")(v):g(v)}function g(v){return v===null||dt(v)?(t.exit("definition"),r.parser.defined.push(i),e(v)):n(v)}}function AI(t,e,n){return r;function r(a){return nn(a)?Wc(t,i)(a):n(a)}function i(a){return _7(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return Dt(a)?Ut(t,o,"whitespace")(a):o(a)}function o(a){return a===null||dt(a)?e(a):n(a)}}const LI={name:"hardBreakEscape",tokenize:RI};function RI(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return dt(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const MI={name:"headingAtx",resolve:DI,tokenize:II};function DI(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},ui(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function II(t,e,n){let r=0;return i;function i(h){return t.enter("atxHeading"),s(h)}function s(h){return t.enter("atxHeadingSequence"),o(h)}function o(h){return h===35&&r++<6?(t.consume(h),o):h===null||nn(h)?(t.exit("atxHeadingSequence"),a(h)):n(h)}function a(h){return h===35?(t.enter("atxHeadingSequence"),u(h)):h===null||dt(h)?(t.exit("atxHeading"),e(h)):Dt(h)?Ut(t,a,"whitespace")(h):(t.enter("atxHeadingText"),c(h))}function u(h){return h===35?(t.consume(h),u):(t.exit("atxHeadingSequence"),a(h))}function c(h){return h===null||h===35||nn(h)?(t.exit("atxHeadingText"),a(h)):(t.consume(h),c)}}const FI=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],A3=["pre","script","style","textarea"],BI={concrete:!0,name:"htmlFlow",resolveTo:UI,tokenize:HI},zI={partial:!0,tokenize:VI},$I={partial:!0,tokenize:QI};function UI(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function HI(t,e,n){const r=this;let i,s,o,a,u;return c;function c(I){return h(I)}function h(I){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(I),f}function f(I){return I===33?(t.consume(I),g):I===47?(t.consume(I),s=!0,S):I===63?(t.consume(I),i=3,r.interrupt?e:D):Nr(I)?(t.consume(I),o=String.fromCharCode(I),C):n(I)}function g(I){return I===45?(t.consume(I),i=2,v):I===91?(t.consume(I),i=5,a=0,_):Nr(I)?(t.consume(I),i=4,r.interrupt?e:D):n(I)}function v(I){return I===45?(t.consume(I),r.interrupt?e:D):n(I)}function _(I){const Ie="CDATA[";return I===Ie.charCodeAt(a++)?(t.consume(I),a===Ie.length?r.interrupt?e:de:_):n(I)}function S(I){return Nr(I)?(t.consume(I),o=String.fromCharCode(I),C):n(I)}function C(I){if(I===null||I===47||I===62||nn(I)){const Ie=I===47,Ee=o.toLowerCase();return!Ie&&!s&&A3.includes(Ee)?(i=1,r.interrupt?e(I):de(I)):FI.includes(o.toLowerCase())?(i=6,Ie?(t.consume(I),j):r.interrupt?e(I):de(I)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(I):s?R(I):A(I))}return I===45||vr(I)?(t.consume(I),o+=String.fromCharCode(I),C):n(I)}function j(I){return I===62?(t.consume(I),r.interrupt?e:de):n(I)}function R(I){return Dt(I)?(t.consume(I),R):z(I)}function A(I){return I===47?(t.consume(I),z):I===58||I===95||Nr(I)?(t.consume(I),F):Dt(I)?(t.consume(I),A):z(I)}function F(I){return I===45||I===46||I===58||I===95||vr(I)?(t.consume(I),F):U(I)}function U(I){return I===61?(t.consume(I),O):Dt(I)?(t.consume(I),U):A(I)}function O(I){return I===null||I===60||I===61||I===62||I===96?n(I):I===34||I===39?(t.consume(I),u=I,$):Dt(I)?(t.consume(I),O):K(I)}function $(I){return I===u?(t.consume(I),u=null,H):I===null||dt(I)?n(I):(t.consume(I),$)}function K(I){return I===null||I===34||I===39||I===47||I===60||I===61||I===62||I===96||nn(I)?U(I):(t.consume(I),K)}function H(I){return I===47||I===62||Dt(I)?A(I):n(I)}function z(I){return I===62?(t.consume(I),ue):n(I)}function ue(I){return I===null||dt(I)?de(I):Dt(I)?(t.consume(I),ue):n(I)}function de(I){return I===45&&i===2?(t.consume(I),Z):I===60&&i===1?(t.consume(I),re):I===62&&i===4?(t.consume(I),G):I===63&&i===3?(t.consume(I),D):I===93&&i===5?(t.consume(I),me):dt(I)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(zI,ye,pe)(I)):I===null||dt(I)?(t.exit("htmlFlowData"),pe(I)):(t.consume(I),de)}function pe(I){return t.check($I,q,ye)(I)}function q(I){return t.enter("lineEnding"),t.consume(I),t.exit("lineEnding"),V}function V(I){return I===null||dt(I)?pe(I):(t.enter("htmlFlowData"),de(I))}function Z(I){return I===45?(t.consume(I),D):de(I)}function re(I){return I===47?(t.consume(I),o="",ne):de(I)}function ne(I){if(I===62){const Ie=o.toLowerCase();return A3.includes(Ie)?(t.consume(I),G):de(I)}return Nr(I)&&o.length<8?(t.consume(I),o+=String.fromCharCode(I),ne):de(I)}function me(I){return I===93?(t.consume(I),D):de(I)}function D(I){return I===62?(t.consume(I),G):I===45&&i===2?(t.consume(I),D):de(I)}function G(I){return I===null||dt(I)?(t.exit("htmlFlowData"),ye(I)):(t.consume(I),G)}function ye(I){return t.exit("htmlFlow"),e(I)}}function QI(t,e,n){const r=this;return i;function i(o){return dt(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function VI(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Nd,e,n)}}const qI={name:"htmlText",tokenize:WI};function WI(t,e,n){const r=this;let i,s,o;return a;function a(D){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(D),u}function u(D){return D===33?(t.consume(D),c):D===47?(t.consume(D),U):D===63?(t.consume(D),A):Nr(D)?(t.consume(D),K):n(D)}function c(D){return D===45?(t.consume(D),h):D===91?(t.consume(D),s=0,_):Nr(D)?(t.consume(D),R):n(D)}function h(D){return D===45?(t.consume(D),v):n(D)}function f(D){return D===null?n(D):D===45?(t.consume(D),g):dt(D)?(o=f,re(D)):(t.consume(D),f)}function g(D){return D===45?(t.consume(D),v):f(D)}function v(D){return D===62?Z(D):D===45?g(D):f(D)}function _(D){const G="CDATA[";return D===G.charCodeAt(s++)?(t.consume(D),s===G.length?S:_):n(D)}function S(D){return D===null?n(D):D===93?(t.consume(D),C):dt(D)?(o=S,re(D)):(t.consume(D),S)}function C(D){return D===93?(t.consume(D),j):S(D)}function j(D){return D===62?Z(D):D===93?(t.consume(D),j):S(D)}function R(D){return D===null||D===62?Z(D):dt(D)?(o=R,re(D)):(t.consume(D),R)}function A(D){return D===null?n(D):D===63?(t.consume(D),F):dt(D)?(o=A,re(D)):(t.consume(D),A)}function F(D){return D===62?Z(D):A(D)}function U(D){return Nr(D)?(t.consume(D),O):n(D)}function O(D){return D===45||vr(D)?(t.consume(D),O):$(D)}function $(D){return dt(D)?(o=$,re(D)):Dt(D)?(t.consume(D),$):Z(D)}function K(D){return D===45||vr(D)?(t.consume(D),K):D===47||D===62||nn(D)?H(D):n(D)}function H(D){return D===47?(t.consume(D),Z):D===58||D===95||Nr(D)?(t.consume(D),z):dt(D)?(o=H,re(D)):Dt(D)?(t.consume(D),H):Z(D)}function z(D){return D===45||D===46||D===58||D===95||vr(D)?(t.consume(D),z):ue(D)}function ue(D){return D===61?(t.consume(D),de):dt(D)?(o=ue,re(D)):Dt(D)?(t.consume(D),ue):H(D)}function de(D){return D===null||D===60||D===61||D===62||D===96?n(D):D===34||D===39?(t.consume(D),i=D,pe):dt(D)?(o=de,re(D)):Dt(D)?(t.consume(D),de):(t.consume(D),q)}function pe(D){return D===i?(t.consume(D),i=void 0,V):D===null?n(D):dt(D)?(o=pe,re(D)):(t.consume(D),pe)}function q(D){return D===null||D===34||D===39||D===60||D===61||D===96?n(D):D===47||D===62||nn(D)?H(D):(t.consume(D),q)}function V(D){return D===47||D===62||nn(D)?H(D):n(D)}function Z(D){return D===62?(t.consume(D),t.exit("htmlTextData"),t.exit("htmlText"),e):n(D)}function re(D){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(D),t.exit("lineEnding"),ne}function ne(D){return Dt(D)?Ut(t,me,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):me(D)}function me(D){return t.enter("htmlTextData"),o(D)}}const hv={name:"labelEnd",resolveAll:XI,resolveTo:JI,tokenize:ZI},KI={tokenize:eF},GI={tokenize:tF},YI={tokenize:nF};function XI(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&ui(t,0,t.length,n),t}function JI(t,e){let n=t.length,r=0,i,s,o,a;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const u={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[s][1].start},end:{...t[o][1].end}},h={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[o-2][1].start}};return a=[["enter",u,e],["enter",c,e]],a=ji(a,t.slice(s+1,s+r+3)),a=ji(a,[["enter",h,e]]),a=ji(a,Kp(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),a=ji(a,[["exit",h,e],t[o-2],t[o-1],["exit",c,e]]),a=ji(a,t.slice(o+1)),a=ji(a,[["exit",u,e]]),ui(t,s,t.length,a),t}function ZI(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(g){return s?s._inactive?f(g):(o=r.parser.defined.includes(Xi(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(g),t.exit("labelMarker"),t.exit("labelEnd"),u):n(g)}function u(g){return g===40?t.attempt(KI,h,o?h:f)(g):g===91?t.attempt(GI,h,o?c:f)(g):o?h(g):f(g)}function c(g){return t.attempt(YI,h,f)(g)}function h(g){return e(g)}function f(g){return s._balanced=!0,n(g)}}function eF(t,e,n){return r;function r(f){return t.enter("resource"),t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),i}function i(f){return nn(f)?Wc(t,s)(f):s(f)}function s(f){return f===41?h(f):b7(t,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return nn(f)?Wc(t,u)(f):h(f)}function a(f){return n(f)}function u(f){return f===34||f===39||f===40?_7(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):h(f)}function c(f){return nn(f)?Wc(t,h)(f):h(f)}function h(f){return f===41?(t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),t.exit("resource"),e):n(f)}}function tF(t,e,n){const r=this;return i;function i(a){return w7.call(r,t,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(Xi(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function o(a){return n(a)}}function nF(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const rF={name:"labelStartImage",resolveAll:hv.resolveAll,tokenize:iF};function iF(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const sF={name:"labelStartLink",resolveAll:hv.resolveAll,tokenize:oF};function oF(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const x0={name:"lineEnding",tokenize:aF};function aF(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Ut(t,e,"linePrefix")}}const Bf={name:"thematicBreak",tokenize:lF};function lF(t,e,n){let r=0,i;return s;function s(c){return t.enter("thematicBreak"),o(c)}function o(c){return i=c,a(c)}function a(c){return c===i?(t.enter("thematicBreakSequence"),u(c)):r>=3&&(c===null||dt(c))?(t.exit("thematicBreak"),e(c)):n(c)}function u(c){return c===i?(t.consume(c),r++,u):(t.exit("thematicBreakSequence"),Dt(c)?Ut(t,a,"whitespace")(c):a(c))}}const Qr={continuation:{tokenize:hF},exit:pF,name:"list",tokenize:dF},uF={partial:!0,tokenize:mF},cF={partial:!0,tokenize:fF};function dF(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(v){const _=r.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(_==="listUnordered"?!r.containerState.marker||v===r.containerState.marker:T1(v)){if(r.containerState.type||(r.containerState.type=_,t.enter(_,{_container:!0})),_==="listUnordered")return t.enter("listItemPrefix"),v===42||v===45?t.check(Bf,n,c)(v):c(v);if(!r.interrupt||v===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),u(v)}return n(v)}function u(v){return T1(v)&&++o<10?(t.consume(v),u):(!r.interrupt||o<2)&&(r.containerState.marker?v===r.containerState.marker:v===41||v===46)?(t.exit("listItemValue"),c(v)):n(v)}function c(v){return t.enter("listItemMarker"),t.consume(v),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||v,t.check(Nd,r.interrupt?n:h,t.attempt(uF,g,f))}function h(v){return r.containerState.initialBlankLine=!0,s++,g(v)}function f(v){return Dt(v)?(t.enter("listItemPrefixWhitespace"),t.consume(v),t.exit("listItemPrefixWhitespace"),g):n(v)}function g(v){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(v)}}function hF(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Nd,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ut(t,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Dt(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(cF,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ut(t,t.attempt(Qr,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function fF(t,e,n){const r=this;return Ut(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function pF(t){t.exit(this.containerState.type)}function mF(t,e,n){const r=this;return Ut(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Dt(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const L3={name:"setextUnderline",resolveTo:gF,tokenize:yF};function gF(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function yF(t,e,n){const r=this;let i;return s;function s(c){let h=r.events.length,f;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){f=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(t.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return t.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(t.consume(c),a):(t.exit("setextHeadingLineSequence"),Dt(c)?Ut(t,u,"lineSuffix")(c):u(c))}function u(c){return c===null||dt(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const vF={tokenize:EF,partial:!0};function xF(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:SF,continuation:{tokenize:CF},exit:kF}},text:{91:{name:"gfmFootnoteCall",tokenize:_F},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:bF,resolveTo:wF}}}}function bF(t,e,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const u=r.events[i][1];if(u.type==="labelImage"){o=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return a;function a(u){if(!o||!o._balanced)return n(u);const c=Xi(r.sliceSerialize({start:o.end,end:r.now()}));return c.codePointAt(0)!==94||!s.includes(c.slice(1))?n(u):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(u),t.exit("gfmFootnoteCallLabelMarker"),e(u))}}function wF(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...a),t}function _F(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(f){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(f),t.exit("gfmFootnoteCallLabelMarker"),u}function u(f){return f!==94?n(f):(t.enter("gfmFootnoteCallMarker"),t.consume(f),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",c)}function c(f){if(s>999||f===93&&!o||f===null||f===91||nn(f))return n(f);if(f===93){t.exit("chunkString");const g=t.exit("gfmFootnoteCallString");return i.includes(Xi(r.sliceSerialize(g)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(f),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(f)}return nn(f)||(o=!0),s++,t.consume(f),f===92?h:c}function h(f){return f===91||f===92||f===93?(t.consume(f),s++,c):c(f)}}function SF(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return u;function u(_){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(_),t.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(_){return _===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(_),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",h):n(_)}function h(_){if(o>999||_===93&&!a||_===null||_===91||nn(_))return n(_);if(_===93){t.exit("chunkString");const S=t.exit("gfmFootnoteDefinitionLabelString");return s=Xi(r.sliceSerialize(S)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(_),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),g}return nn(_)||(a=!0),o++,t.consume(_),_===92?f:h}function f(_){return _===91||_===92||_===93?(t.consume(_),o++,h):h(_)}function g(_){return _===58?(t.enter("definitionMarker"),t.consume(_),t.exit("definitionMarker"),i.includes(s)||i.push(s),Ut(t,v,"gfmFootnoteDefinitionWhitespace")):n(_)}function v(_){return e(_)}}function CF(t,e,n){return t.check(Nd,e,t.attempt(vF,e,n))}function kF(t){t.exit("gfmFootnoteDefinition")}function EF(t,e,n){const r=this;return Ut(t,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?e(s):n(s)}}function jF(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let u=-1;for(;++u<o.length;)if(o[u][0]==="enter"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._close){let c=u;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[u][1].end.offset-o[u][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[u][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[u][1].end)},f={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[u][1].start)},g=[["enter",h,a],["enter",o[c][1],a],["exit",o[c][1],a],["enter",f,a]],v=a.parser.constructs.insideSpan.null;v&&ui(g,g.length,0,Kp(v,o.slice(c+1,u),a)),ui(g,g.length,0,[["exit",f,a],["enter",o[u][1],a],["exit",o[u][1],a],["exit",h,a]]),ui(o,c-1,u-c+3,g),u=c+g.length-2;break}}for(u=-1;++u<o.length;)o[u][1].type==="strikethroughSequenceTemporary"&&(o[u][1].type="data");return o}function s(o,a,u){const c=this.previous,h=this.events;let f=0;return g;function g(_){return c===126&&h[h.length-1][1].type!=="characterEscape"?u(_):(o.enter("strikethroughSequenceTemporary"),v(_))}function v(_){const S=_u(c);if(_===126)return f>1?u(_):(o.consume(_),f++,v);if(f<2&&!n)return u(_);const C=o.exit("strikethroughSequenceTemporary"),j=_u(_);return C._open=!j||j===2&&!!S,C._close=!S||S===2&&!!j,a(_)}}}class TF{constructor(){this.map=[]}add(e,n,r){NF(this,e,n,r)}consume(e){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const s of i)e.push(s);i=r.pop()}this.map.length=0}}function NF(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function PF(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function OF(){return{flow:{null:{name:"table",tokenize:AF,resolveAll:LF}}}}function AF(t,e,n){const r=this;let i=0,s=0,o;return a;function a(z){let ue=r.events.length-1;for(;ue>-1;){const q=r.events[ue][1].type;if(q==="lineEnding"||q==="linePrefix")ue--;else break}const de=ue>-1?r.events[ue][1].type:null,pe=de==="tableHead"||de==="tableRow"?O:u;return pe===O&&r.parser.lazy[r.now().line]?n(z):pe(z)}function u(z){return t.enter("tableHead"),t.enter("tableRow"),c(z)}function c(z){return z===124||(o=!0,s+=1),h(z)}function h(z){return z===null?n(z):dt(z)?s>1?(s=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(z),t.exit("lineEnding"),v):n(z):Dt(z)?Ut(t,h,"whitespace")(z):(s+=1,o&&(o=!1,i+=1),z===124?(t.enter("tableCellDivider"),t.consume(z),t.exit("tableCellDivider"),o=!0,h):(t.enter("data"),f(z)))}function f(z){return z===null||z===124||nn(z)?(t.exit("data"),h(z)):(t.consume(z),z===92?g:f)}function g(z){return z===92||z===124?(t.consume(z),f):f(z)}function v(z){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(z):(t.enter("tableDelimiterRow"),o=!1,Dt(z)?Ut(t,_,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):_(z))}function _(z){return z===45||z===58?C(z):z===124?(o=!0,t.enter("tableCellDivider"),t.consume(z),t.exit("tableCellDivider"),S):U(z)}function S(z){return Dt(z)?Ut(t,C,"whitespace")(z):C(z)}function C(z){return z===58?(s+=1,o=!0,t.enter("tableDelimiterMarker"),t.consume(z),t.exit("tableDelimiterMarker"),j):z===45?(s+=1,j(z)):z===null||dt(z)?F(z):U(z)}function j(z){return z===45?(t.enter("tableDelimiterFiller"),R(z)):U(z)}function R(z){return z===45?(t.consume(z),R):z===58?(o=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(z),t.exit("tableDelimiterMarker"),A):(t.exit("tableDelimiterFiller"),A(z))}function A(z){return Dt(z)?Ut(t,F,"whitespace")(z):F(z)}function F(z){return z===124?_(z):z===null||dt(z)?!o||i!==s?U(z):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(z)):U(z)}function U(z){return n(z)}function O(z){return t.enter("tableRow"),$(z)}function $(z){return z===124?(t.enter("tableCellDivider"),t.consume(z),t.exit("tableCellDivider"),$):z===null||dt(z)?(t.exit("tableRow"),e(z)):Dt(z)?Ut(t,$,"whitespace")(z):(t.enter("data"),K(z))}function K(z){return z===null||z===124||nn(z)?(t.exit("data"),$(z)):(t.consume(z),z===92?H:K)}function H(z){return z===92||z===124?(t.consume(z),K):K(z)}}function LF(t,e){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,u=0,c,h,f;const g=new TF;for(;++n<t.length;){const v=t[n],_=v[1];v[0]==="enter"?_.type==="tableHead"?(a=!1,u!==0&&(R3(g,e,u,c,h),h=void 0,u=0),c={type:"table",start:Object.assign({},_.start),end:Object.assign({},_.end)},g.add(n,0,[["enter",c,e]])):_.type==="tableRow"||_.type==="tableDelimiterRow"?(r=!0,f=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,h={type:"tableBody",start:Object.assign({},_.start),end:Object.assign({},_.end)},g.add(n,0,[["enter",h,e]])),i=_.type==="tableDelimiterRow"?2:h?3:1):i&&(_.type==="data"||_.type==="tableDelimiterMarker"||_.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],f=lf(g,e,s,i,void 0,f),s=[0,0,0,0]),o[2]=n)):_.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],f=lf(g,e,s,i,void 0,f)),s=o,o=[s[1],n,0,0])):_.type==="tableHead"?(a=!0,u=n):_.type==="tableRow"||_.type==="tableDelimiterRow"?(u=n,s[1]!==0?(o[0]=o[1],f=lf(g,e,s,i,n,f)):o[1]!==0&&(f=lf(g,e,o,i,n,f)),i=0):i&&(_.type==="data"||_.type==="tableDelimiterMarker"||_.type==="tableDelimiterFiller")&&(o[3]=n)}for(u!==0&&R3(g,e,u,c,h),g.consume(e.events),n=-1;++n<e.events.length;){const v=e.events[n];v[0]==="enter"&&v[1].type==="table"&&(v[1]._align=PF(e.events,n))}return t}function lf(t,e,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},au(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const u=au(e.events,n[1]);if(s={type:o,start:Object.assign({},u),end:Object.assign({},u)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const c=au(e.events,n[2]),h=au(e.events,n[3]),f={type:a,start:Object.assign({},c),end:Object.assign({},h)};if(t.add(n[2],0,[["enter",f,e]]),r!==2){const g=e.events[n[2]],v=e.events[n[3]];if(g[1].end=Object.assign({},v[1].end),g[1].type="chunkText",g[1].contentType="text",n[3]>n[2]+1){const _=n[2]+1,S=n[3]-n[2]-1;t.add(_,S,[])}}t.add(n[3]+1,0,[["exit",f,e]])}return i!==void 0&&(s.end=Object.assign({},au(e.events,i)),t.add(i,0,[["exit",s,e]]),s=void 0),s}function R3(t,e,n,r,i){const s=[],o=au(e.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,e])),r.end=Object.assign({},o),s.push(["exit",r,e]),t.add(n+1,0,s)}function au(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const RF={name:"tasklistCheck",tokenize:DF};function MF(){return{text:{91:RF}}}function DF(t,e,n){const r=this;return i;function i(u){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(u):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(u),t.exit("taskListCheckMarker"),s)}function s(u){return nn(u)?(t.enter("taskListCheckValueUnchecked"),t.consume(u),t.exit("taskListCheckValueUnchecked"),o):u===88||u===120?(t.enter("taskListCheckValueChecked"),t.consume(u),t.exit("taskListCheckValueChecked"),o):n(u)}function o(u){return u===93?(t.enter("taskListCheckMarker"),t.consume(u),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),a):n(u)}function a(u){return dt(u)?e(u):Dt(u)?t.check({tokenize:IF},e,n)(u):n(u)}}function IF(t,e,n){return Ut(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function FF(t){return a7([KD(),xF(),jF(t),OF(),MF()])}const BF={};function zF(t){const e=this,n=t||BF,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(FF(n)),s.push(UD()),o.push(HD(n))}function $F(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const UF=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,HF=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,QF={};function M3(t,e){return(QF.jsx?HF:UF).test(t)}const VF=/[ \t\n\f\r]/g;function qF(t){return typeof t=="object"?t.type==="text"?D3(t.value):!1:D3(t)}function D3(t){return t.replace(VF,"")===""}class Pd{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}Pd.prototype.normal={};Pd.prototype.property={};Pd.prototype.space=void 0;function S7(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Pd(n,r,e)}function A1(t){return t.toLowerCase()}class Yr{constructor(e,n){this.attribute=n,this.property=e}}Yr.prototype.attribute="";Yr.prototype.booleanish=!1;Yr.prototype.boolean=!1;Yr.prototype.commaOrSpaceSeparated=!1;Yr.prototype.commaSeparated=!1;Yr.prototype.defined=!1;Yr.prototype.mustUseProperty=!1;Yr.prototype.number=!1;Yr.prototype.overloadedBoolean=!1;Yr.prototype.property="";Yr.prototype.spaceSeparated=!1;Yr.prototype.space=void 0;let WF=0;const Et=rl(),Dn=rl(),L1=rl(),Fe=rl(),on=rl(),gu=rl(),oi=rl();function rl(){return 2**++WF}const R1=Object.freeze(Object.defineProperty({__proto__:null,boolean:Et,booleanish:Dn,commaOrSpaceSeparated:oi,commaSeparated:gu,number:Fe,overloadedBoolean:L1,spaceSeparated:on},Symbol.toStringTag,{value:"Module"})),b0=Object.keys(R1);class fv extends Yr{constructor(e,n,r,i){let s=-1;if(super(e,n),I3(this,"space",i),typeof r=="number")for(;++s<b0.length;){const o=b0[s];I3(this,b0[s],(r&R1[o])===R1[o])}}}fv.prototype.defined=!0;function I3(t,e,n){n&&(t[e]=n)}function Lu(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new fv(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[A1(r)]=r,n[A1(s.attribute)]=r}return new Pd(e,n,t.space)}const C7=Lu({properties:{ariaActiveDescendant:null,ariaAtomic:Dn,ariaAutoComplete:null,ariaBusy:Dn,ariaChecked:Dn,ariaColCount:Fe,ariaColIndex:Fe,ariaColSpan:Fe,ariaControls:on,ariaCurrent:null,ariaDescribedBy:on,ariaDetails:null,ariaDisabled:Dn,ariaDropEffect:on,ariaErrorMessage:null,ariaExpanded:Dn,ariaFlowTo:on,ariaGrabbed:Dn,ariaHasPopup:null,ariaHidden:Dn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:on,ariaLevel:Fe,ariaLive:null,ariaModal:Dn,ariaMultiLine:Dn,ariaMultiSelectable:Dn,ariaOrientation:null,ariaOwns:on,ariaPlaceholder:null,ariaPosInSet:Fe,ariaPressed:Dn,ariaReadOnly:Dn,ariaRelevant:null,ariaRequired:Dn,ariaRoleDescription:on,ariaRowCount:Fe,ariaRowIndex:Fe,ariaRowSpan:Fe,ariaSelected:Dn,ariaSetSize:Fe,ariaSort:null,ariaValueMax:Fe,ariaValueMin:Fe,ariaValueNow:Fe,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function k7(t,e){return e in t?t[e]:e}function E7(t,e){return k7(t,e.toLowerCase())}const KF=Lu({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:gu,acceptCharset:on,accessKey:on,action:null,allow:null,allowFullScreen:Et,allowPaymentRequest:Et,allowUserMedia:Et,alt:null,as:null,async:Et,autoCapitalize:null,autoComplete:on,autoFocus:Et,autoPlay:Et,blocking:on,capture:null,charSet:null,checked:Et,cite:null,className:on,cols:Fe,colSpan:null,content:null,contentEditable:Dn,controls:Et,controlsList:on,coords:Fe|gu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Et,defer:Et,dir:null,dirName:null,disabled:Et,download:L1,draggable:Dn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Et,formTarget:null,headers:on,height:Fe,hidden:L1,high:Fe,href:null,hrefLang:null,htmlFor:on,httpEquiv:on,id:null,imageSizes:null,imageSrcSet:null,inert:Et,inputMode:null,integrity:null,is:null,isMap:Et,itemId:null,itemProp:on,itemRef:on,itemScope:Et,itemType:on,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Et,low:Fe,manifest:null,max:null,maxLength:Fe,media:null,method:null,min:null,minLength:Fe,multiple:Et,muted:Et,name:null,nonce:null,noModule:Et,noValidate:Et,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Et,optimum:Fe,pattern:null,ping:on,placeholder:null,playsInline:Et,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Et,referrerPolicy:null,rel:on,required:Et,reversed:Et,rows:Fe,rowSpan:Fe,sandbox:on,scope:null,scoped:Et,seamless:Et,selected:Et,shadowRootClonable:Et,shadowRootDelegatesFocus:Et,shadowRootMode:null,shape:null,size:Fe,sizes:null,slot:null,span:Fe,spellCheck:Dn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Fe,step:null,style:null,tabIndex:Fe,target:null,title:null,translate:null,type:null,typeMustMatch:Et,useMap:null,value:Dn,width:Fe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:on,axis:null,background:null,bgColor:null,border:Fe,borderColor:null,bottomMargin:Fe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Et,declare:Et,event:null,face:null,frame:null,frameBorder:null,hSpace:Fe,leftMargin:Fe,link:null,longDesc:null,lowSrc:null,marginHeight:Fe,marginWidth:Fe,noResize:Et,noHref:Et,noShade:Et,noWrap:Et,object:null,profile:null,prompt:null,rev:null,rightMargin:Fe,rules:null,scheme:null,scrolling:Dn,standby:null,summary:null,text:null,topMargin:Fe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Fe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Et,disableRemotePlayback:Et,prefix:null,property:null,results:Fe,security:null,unselectable:null},space:"html",transform:E7}),GF=Lu({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:oi,accentHeight:Fe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Fe,amplitude:Fe,arabicForm:null,ascent:Fe,attributeName:null,attributeType:null,azimuth:Fe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Fe,by:null,calcMode:null,capHeight:Fe,className:on,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Fe,diffuseConstant:Fe,direction:null,display:null,dur:null,divisor:Fe,dominantBaseline:null,download:Et,dx:null,dy:null,edgeMode:null,editable:null,elevation:Fe,enableBackground:null,end:null,event:null,exponent:Fe,externalResourcesRequired:null,fill:null,fillOpacity:Fe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:gu,g2:gu,glyphName:gu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Fe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Fe,horizOriginX:Fe,horizOriginY:Fe,id:null,ideographic:Fe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Fe,k:Fe,k1:Fe,k2:Fe,k3:Fe,k4:Fe,kernelMatrix:oi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Fe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Fe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Fe,overlineThickness:Fe,paintOrder:null,panose1:null,path:null,pathLength:Fe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:on,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Fe,pointsAtY:Fe,pointsAtZ:Fe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:oi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:oi,rev:oi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:oi,requiredFeatures:oi,requiredFonts:oi,requiredFormats:oi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Fe,specularExponent:Fe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Fe,strikethroughThickness:Fe,string:null,stroke:null,strokeDashArray:oi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Fe,strokeOpacity:Fe,strokeWidth:null,style:null,surfaceScale:Fe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:oi,tabIndex:Fe,tableValues:null,target:null,targetX:Fe,targetY:Fe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:oi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Fe,underlineThickness:Fe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Fe,values:null,vAlphabetic:Fe,vMathematical:Fe,vectorEffect:null,vHanging:Fe,vIdeographic:Fe,version:null,vertAdvY:Fe,vertOriginX:Fe,vertOriginY:Fe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Fe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:k7}),j7=Lu({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),T7=Lu({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:E7}),N7=Lu({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),YF={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},XF=/[A-Z]/g,F3=/-[a-z]/g,JF=/^data[-\w.:]+$/i;function ZF(t,e){const n=A1(e);let r=e,i=Yr;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&JF.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(F3,tB);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!F3.test(s)){let o=s.replace(XF,eB);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=fv}return new i(r,e)}function eB(t){return"-"+t.toLowerCase()}function tB(t){return t.charAt(1).toUpperCase()}const nB=S7([C7,KF,j7,T7,N7],"html"),pv=S7([C7,GF,j7,T7,N7],"svg");function rB(t){return t.join(" ").trim()}var ql={},w0,B3;function iB(){if(B3)return w0;B3=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,a=/^\s+|\s+$/g,u=`
`,c="/",h="*",f="",g="comment",v="declaration";w0=function(S,C){if(typeof S!="string")throw new TypeError("First argument must be a string");if(!S)return[];C=C||{};var j=1,R=1;function A(pe){var q=pe.match(e);q&&(j+=q.length);var V=pe.lastIndexOf(u);R=~V?pe.length-V:R+pe.length}function F(){var pe={line:j,column:R};return function(q){return q.position=new U(pe),K(),q}}function U(pe){this.start=pe,this.end={line:j,column:R},this.source=C.source}U.prototype.content=S;function O(pe){var q=new Error(C.source+":"+j+":"+R+": "+pe);if(q.reason=pe,q.filename=C.source,q.line=j,q.column=R,q.source=S,!C.silent)throw q}function $(pe){var q=pe.exec(S);if(q){var V=q[0];return A(V),S=S.slice(V.length),q}}function K(){$(n)}function H(pe){var q;for(pe=pe||[];q=z();)q!==!1&&pe.push(q);return pe}function z(){var pe=F();if(!(c!=S.charAt(0)||h!=S.charAt(1))){for(var q=2;f!=S.charAt(q)&&(h!=S.charAt(q)||c!=S.charAt(q+1));)++q;if(q+=2,f===S.charAt(q-1))return O("End of comment missing");var V=S.slice(2,q-2);return R+=2,A(V),S=S.slice(q),R+=2,pe({type:g,comment:V})}}function ue(){var pe=F(),q=$(r);if(q){if(z(),!$(i))return O("property missing ':'");var V=$(s),Z=pe({type:v,property:_(q[0].replace(t,f)),value:V?_(V[0].replace(t,f)):f});return $(o),Z}}function de(){var pe=[];H(pe);for(var q;q=ue();)q!==!1&&(pe.push(q),H(pe));return pe}return K(),de()};function _(S){return S?S.replace(a,f):f}return w0}var z3;function sB(){if(z3)return ql;z3=1;var t=ql&&ql.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ql,"__esModule",{value:!0}),ql.default=n;var e=t(iB());function n(r,i){var s=null;if(!r||typeof r!="string")return s;var o=(0,e.default)(r),a=typeof i=="function";return o.forEach(function(u){if(u.type==="declaration"){var c=u.property,h=u.value;a?i(c,h,u):h&&(s=s||{},s[c]=h)}}),s}return ql}var Ec={},$3;function oB(){if($3)return Ec;$3=1,Object.defineProperty(Ec,"__esModule",{value:!0}),Ec.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(c){return!c||n.test(c)||t.test(c)},o=function(c,h){return h.toUpperCase()},a=function(c,h){return"".concat(h,"-")},u=function(c,h){return h===void 0&&(h={}),s(c)?c:(c=c.toLowerCase(),h.reactCompat?c=c.replace(i,a):c=c.replace(r,a),c.replace(e,o))};return Ec.camelCase=u,Ec}var jc,U3;function aB(){if(U3)return jc;U3=1;var t=jc&&jc.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(sB()),n=oB();function r(i,s){var o={};return!i||typeof i!="string"||(0,e.default)(i,function(a,u){a&&u&&(o[(0,n.camelCase)(a,s)]=u)}),o}return r.default=r,jc=r,jc}var lB=aB();const uB=di(lB),P7=O7("end"),mv=O7("start");function O7(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function cB(t){const e=mv(t),n=P7(t);if(e&&n)return{start:e,end:n}}function Kc(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?H3(t.position):"start"in t||"end"in t?H3(t):"line"in t||"column"in t?M1(t):""}function M1(t){return Q3(t&&t.line)+":"+Q3(t&&t.column)}function H3(t){return M1(t&&t.start)+"-"+M1(t&&t.end)}function Q3(t){return t&&typeof t=="number"?t:1}class wr extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?s.ruleId=r:(s.source=r.slice(0,u),s.ruleId=r.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){const u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=Kc(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}wr.prototype.file="";wr.prototype.name="";wr.prototype.reason="";wr.prototype.message="";wr.prototype.stack="";wr.prototype.column=void 0;wr.prototype.line=void 0;wr.prototype.ancestors=void 0;wr.prototype.cause=void 0;wr.prototype.fatal=void 0;wr.prototype.place=void 0;wr.prototype.ruleId=void 0;wr.prototype.source=void 0;const gv={}.hasOwnProperty,dB=new Map,hB=/[A-Z]/g,fB=new Set(["table","tbody","thead","tfoot","tr"]),pB=new Set(["td","th"]),A7="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function mB(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=SB(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=_B(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?pv:nB,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=L7(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function L7(t,e,n){if(e.type==="element")return gB(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return yB(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return xB(t,e,n);if(e.type==="mdxjsEsm")return vB(t,e);if(e.type==="root")return bB(t,e,n);if(e.type==="text")return wB(t,e)}function gB(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=pv,t.schema=i),t.ancestors.push(e);const s=M7(t,e.tagName,!1),o=CB(t,e);let a=vv(t,e);return fB.has(e.tagName)&&(a=a.filter(function(u){return typeof u=="string"?!qF(u):!0})),R7(t,o,s,e),yv(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function yB(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}fd(t,e.position)}function vB(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);fd(t,e.position)}function xB(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=pv,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:M7(t,e.name,!0),o=kB(t,e),a=vv(t,e);return R7(t,o,s,e),yv(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function bB(t,e,n){const r={};return yv(r,vv(t,e)),t.create(e,t.Fragment,r,n)}function wB(t,e){return e.value}function R7(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function yv(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function _B(t,e,n){return r;function r(i,s,o,a){const c=Array.isArray(o.children)?n:e;return a?c(s,o,a):c(s,o)}}function SB(t,e){return n;function n(r,i,s,o){const a=Array.isArray(s.children),u=mv(r);return e(i,s,o,a,{columnNumber:u?u.column-1:void 0,fileName:t,lineNumber:u?u.line:void 0},void 0)}}function CB(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&gv.call(e.properties,i)){const s=EB(t,i,e.properties[i]);if(s){const[o,a]=s;t.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&pB.has(e.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function kB(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,t.evaluater.evaluateExpression(a.argument))}else fd(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const a=r.value.data.estree.body[0];a.type,s=t.evaluater.evaluateExpression(a.expression)}else fd(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function vv(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:dB;for(;++r<e.children.length;){const s=e.children[r];let o;if(t.passKeys){const u=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(u){const c=i.get(u)||0;o=u+"-"+c,i.set(u,c+1)}}const a=L7(t,s,o);a!==void 0&&n.push(a)}return n}function EB(t,e,n){const r=ZF(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?$F(n):rB(n)),r.property==="style"){let i=typeof n=="object"?n:jB(t,String(n));return t.stylePropertyNameCase==="css"&&(i=TB(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?YF[r.property]||r.property:r.attribute,n]}}function jB(t,e){try{return uB(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new wr("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=A7+"#cannot-parse-style-attribute",i}}function M7(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,o;for(;++s<i.length;){const a=M3(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=M3(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return gv.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);fd(t)}function fd(t,e){const n=new wr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=A7+"#cannot-handle-mdx-estrees-without-createevaluater",n}function TB(t){const e={};let n;for(n in t)gv.call(t,n)&&(e[NB(n)]=t[n]);return e}function NB(t){let e=t.replace(hB,PB);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function PB(t){return"-"+t.toLowerCase()}const _0={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},OB={tokenize:AB};function AB(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Ut(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),s(a)}function s(a){const u=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return dt(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const LB={tokenize:RB},V3={tokenize:MB};function RB(t){const e=this,n=[];let r=0,i,s,o;return a;function a(A){if(r<n.length){const F=n[r];return e.containerState=F[1],t.attempt(F[0].continuation,u,c)(A)}return c(A)}function u(A){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&R();const F=e.events.length;let U=F,O;for(;U--;)if(e.events[U][0]==="exit"&&e.events[U][1].type==="chunkFlow"){O=e.events[U][1].end;break}j(r);let $=F;for(;$<e.events.length;)e.events[$][1].end={...O},$++;return ui(e.events,U+1,0,e.events.slice(F)),e.events.length=$,c(A)}return a(A)}function c(A){if(r===n.length){if(!i)return g(A);if(i.currentConstruct&&i.currentConstruct.concrete)return _(A);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(V3,h,f)(A)}function h(A){return i&&R(),j(r),g(A)}function f(A){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,_(A)}function g(A){return e.containerState={},t.attempt(V3,v,_)(A)}function v(A){return r++,n.push([e.currentConstruct,e.containerState]),g(A)}function _(A){if(A===null){i&&R(),j(0),t.consume(A);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),S(A)}function S(A){if(A===null){C(t.exit("chunkFlow"),!0),j(0),t.consume(A);return}return dt(A)?(t.consume(A),C(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(A),S)}function C(A,F){const U=e.sliceStream(A);if(F&&U.push(null),A.previous=s,s&&(s.next=A),s=A,i.defineSkip(A.start),i.write(U),e.parser.lazy[A.start.line]){let O=i.events.length;for(;O--;)if(i.events[O][1].start.offset<o&&(!i.events[O][1].end||i.events[O][1].end.offset>o))return;const $=e.events.length;let K=$,H,z;for(;K--;)if(e.events[K][0]==="exit"&&e.events[K][1].type==="chunkFlow"){if(H){z=e.events[K][1].end;break}H=!0}for(j(r),O=$;O<e.events.length;)e.events[O][1].end={...z},O++;ui(e.events,K+1,0,e.events.slice($)),e.events.length=O}}function j(A){let F=n.length;for(;F-- >A;){const U=n[F];e.containerState=U[1],U[0].exit.call(e,t)}n.length=A}function R(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function MB(t,e,n){return Ut(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}const DB={tokenize:IB};function IB(t){const e=this,n=t.attempt(Nd,r,t.attempt(this.parser.constructs.flowInitial,i,Ut(t,t.attempt(this.parser.constructs.flow,i,t.attempt(CI,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const FB={resolveAll:I7()},BB=D7("string"),zB=D7("text");function D7(t){return{resolveAll:I7(t==="text"?$B:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,a);return o;function o(h){return c(h)?s(h):a(h)}function a(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),u}function u(h){return c(h)?(n.exit("data"),s(h)):(n.consume(h),u)}function c(h){if(h===null)return!0;const f=i[h];let g=-1;if(f)for(;++g<f.length;){const v=f[g];if(!v.previous||v.previous.call(r,r.previous))return!0}return!1}}}function I7(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function $B(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,a=0,u;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)u=!0,a++;else if(c!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(a=0),a){const c={type:n===t.length||u||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}const UB={42:Qr,43:Qr,45:Qr,48:Qr,49:Qr,50:Qr,51:Qr,52:Qr,53:Qr,54:Qr,55:Qr,56:Qr,57:Qr,62:g7},HB={91:NI},QB={[-2]:v0,[-1]:v0,32:v0},VB={35:MI,42:Bf,45:[L3,Bf],60:BI,61:L3,95:Bf,96:O3,126:O3},qB={38:v7,92:y7},WB={[-5]:x0,[-4]:x0,[-3]:x0,33:rF,38:v7,42:O1,60:[sI,qI],91:sF,92:[LI,y7],93:hv,95:O1,96:vI},KB={null:[O1,FB]},GB={null:[42,95]},YB={null:[]},XB=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:GB,contentInitial:HB,disable:YB,document:UB,flow:VB,flowInitial:QB,insideSpan:KB,string:qB,text:WB},Symbol.toStringTag,{value:"Module"}));function JB(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const u={attempt:$(U),check:$(O),consume:R,enter:A,exit:F,interrupt:$(O,{interrupt:!0})},c={code:null,containerState:{},defineSkip:S,events:[],now:_,parser:t,previous:null,sliceSerialize:g,sliceStream:v,write:f};let h=e.tokenize.call(c,u);return e.resolveAll&&s.push(e),c;function f(ue){return o=ji(o,ue),C(),o[o.length-1]!==null?[]:(K(e,0),c.events=Kp(s,c.events,c),c.events)}function g(ue,de){return ez(v(ue),de)}function v(ue){return ZB(o,ue)}function _(){const{_bufferIndex:ue,_index:de,line:pe,column:q,offset:V}=r;return{_bufferIndex:ue,_index:de,line:pe,column:q,offset:V}}function S(ue){i[ue.line]=ue.column,z()}function C(){let ue;for(;r._index<o.length;){const de=o[r._index];if(typeof de=="string")for(ue=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===ue&&r._bufferIndex<de.length;)j(de.charCodeAt(r._bufferIndex));else j(de)}}function j(ue){h=h(ue)}function R(ue){dt(ue)?(r.line++,r.column=1,r.offset+=ue===-3?2:1,z()):ue!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=ue}function A(ue,de){const pe=de||{};return pe.type=ue,pe.start=_(),c.events.push(["enter",pe,c]),a.push(pe),pe}function F(ue){const de=a.pop();return de.end=_(),c.events.push(["exit",de,c]),de}function U(ue,de){K(ue,de.from)}function O(ue,de){de.restore()}function $(ue,de){return pe;function pe(q,V,Z){let re,ne,me,D;return Array.isArray(q)?ye(q):"tokenize"in q?ye([q]):G(q);function G(je){return Ye;function Ye(Ke){const Pe=Ke!==null&&je[Ke],ht=Ke!==null&&je.null,ln=[...Array.isArray(Pe)?Pe:Pe?[Pe]:[],...Array.isArray(ht)?ht:ht?[ht]:[]];return ye(ln)(Ke)}}function ye(je){return re=je,ne=0,je.length===0?Z:I(je[ne])}function I(je){return Ye;function Ye(Ke){return D=H(),me=je,je.partial||(c.currentConstruct=je),je.name&&c.parser.constructs.disable.null.includes(je.name)?Ee():je.tokenize.call(de?Object.assign(Object.create(c),de):c,u,Ie,Ee)(Ke)}}function Ie(je){return ue(me,D),V}function Ee(je){return D.restore(),++ne<re.length?I(re[ne]):Z}}}function K(ue,de){ue.resolveAll&&!s.includes(ue)&&s.push(ue),ue.resolve&&ui(c.events,de,c.events.length-de,ue.resolve(c.events.slice(de),c)),ue.resolveTo&&(c.events=ue.resolveTo(c.events,c))}function H(){const ue=_(),de=c.previous,pe=c.currentConstruct,q=c.events.length,V=Array.from(a);return{from:q,restore:Z};function Z(){r=ue,c.previous=de,c.currentConstruct=pe,c.events.length=q,a=V,z()}}function z(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function ZB(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,s)];else{if(o=t.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function ez(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function tz(t){const r={constructs:a7([XB,...(t||{}).extensions||[]]),content:i(OB),defined:[],document:i(LB),flow:i(DB),lazy:{},string:i(BB),text:i(zB)};return r;function i(s){return o;function o(a){return JB(r,s,a)}}}function nz(t){for(;!x7(t););return t}const q3=/[\0\t\n\r]/g;function rz(){let t=1,e="",n=!0,r;return i;function i(s,o,a){const u=[];let c,h,f,g,v;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),f=0,e="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(q3.lastIndex=f,c=q3.exec(s),g=c&&c.index!==void 0?c.index:s.length,v=s.charCodeAt(g),!c){e=s.slice(f);break}if(v===10&&f===g&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),f<g&&(u.push(s.slice(f,g)),t+=g-f),v){case 0:{u.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,u.push(-2);t++<h;)u.push(-1);break}case 10:{u.push(-4),t=1;break}default:r=!0,t=1}f=g+1}return a&&(r&&u.push(-5),e&&u.push(e),u.push(null)),u}}const F7={}.hasOwnProperty;function iz(t,e,n){return typeof e!="string"&&(n=e,e=void 0),sz(n)(nz(tz(n).document().write(rz()(t,e,!0))))}function sz(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(es),autolinkProtocol:H,autolinkEmail:H,atxHeading:s(En),blockQuote:s(ht),characterEscape:H,characterReference:H,codeFenced:s(ln),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(ln,o),codeText:s(Tt,o),codeTextData:H,data:H,codeFlowValue:H,definition:s(fn),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(un),hardBreakEscape:s(xs),hardBreakTrailing:s(xs),htmlFlow:s(Ni,o),htmlFlowData:H,htmlText:s(Ni,o),htmlTextData:H,image:s(so),label:o,link:s(es),listItem:s(jn),listItemValue:g,listOrdered:s(Or,f),listUnordered:s(Or),paragraph:s(sr),reference:I,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(En),strong:s(or),thematicBreak:s(Ar)},exit:{atxHeading:u(),atxHeadingSequence:U,autolink:u(),autolinkEmail:Pe,autolinkProtocol:Ke,blockQuote:u(),characterEscapeValue:z,characterReferenceMarkerHexadecimal:Ee,characterReferenceMarkerNumeric:Ee,characterReferenceValue:je,characterReference:Ye,codeFenced:u(C),codeFencedFence:S,codeFencedFenceInfo:v,codeFencedFenceMeta:_,codeFlowValue:z,codeIndented:u(j),codeText:u(V),codeTextData:z,data:z,definition:u(),definitionDestinationString:F,definitionLabelString:R,definitionTitleString:A,emphasis:u(),hardBreakEscape:u(de),hardBreakTrailing:u(de),htmlFlow:u(pe),htmlFlowData:z,htmlText:u(q),htmlTextData:z,image:u(re),label:me,labelText:ne,lineEnding:ue,link:u(Z),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:Ie,resourceDestinationString:D,resourceTitleString:G,resource:ye,setextHeading:u(K),setextHeadingLineSequence:$,setextHeadingText:O,strong:u(),thematicBreak:u()}};B7(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(Ce){let Oe={type:"root",children:[]};const lt={stack:[Oe],tokenStack:[],config:e,enter:a,exit:c,buffer:o,resume:h,data:n},pt=[];let Nt=-1;for(;++Nt<Ce.length;)if(Ce[Nt][1].type==="listOrdered"||Ce[Nt][1].type==="listUnordered")if(Ce[Nt][0]==="enter")pt.push(Nt);else{const Wt=pt.pop();Nt=i(Ce,Wt,Nt)}for(Nt=-1;++Nt<Ce.length;){const Wt=e[Ce[Nt][0]];F7.call(Wt,Ce[Nt][1].type)&&Wt[Ce[Nt][1].type].call(Object.assign({sliceSerialize:Ce[Nt][2].sliceSerialize},lt),Ce[Nt][1])}if(lt.tokenStack.length>0){const Wt=lt.tokenStack[lt.tokenStack.length-1];(Wt[1]||W3).call(lt,void 0,Wt[0])}for(Oe.position={start:Oo(Ce.length>0?Ce[0][1].start:{line:1,column:1,offset:0}),end:Oo(Ce.length>0?Ce[Ce.length-2][1].end:{line:1,column:1,offset:0})},Nt=-1;++Nt<e.transforms.length;)Oe=e.transforms[Nt](Oe)||Oe;return Oe}function i(Ce,Oe,lt){let pt=Oe-1,Nt=-1,Wt=!1,An,Ln,_r,Wn;for(;++pt<=lt;){const Ve=Ce[pt];switch(Ve[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ve[0]==="enter"?Nt++:Nt--,Wn=void 0;break}case"lineEndingBlank":{Ve[0]==="enter"&&(An&&!Wn&&!Nt&&!_r&&(_r=pt),Wn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Wn=void 0}if(!Nt&&Ve[0]==="enter"&&Ve[1].type==="listItemPrefix"||Nt===-1&&Ve[0]==="exit"&&(Ve[1].type==="listUnordered"||Ve[1].type==="listOrdered")){if(An){let Tn=pt;for(Ln=void 0;Tn--;){const pn=Ce[Tn];if(pn[1].type==="lineEnding"||pn[1].type==="lineEndingBlank"){if(pn[0]==="exit")continue;Ln&&(Ce[Ln][1].type="lineEndingBlank",Wt=!0),pn[1].type="lineEnding",Ln=Tn}else if(!(pn[1].type==="linePrefix"||pn[1].type==="blockQuotePrefix"||pn[1].type==="blockQuotePrefixWhitespace"||pn[1].type==="blockQuoteMarker"||pn[1].type==="listItemIndent"))break}_r&&(!Ln||_r<Ln)&&(An._spread=!0),An.end=Object.assign({},Ln?Ce[Ln][1].start:Ve[1].end),Ce.splice(Ln||pt,0,["exit",An,Ve[2]]),pt++,lt++}if(Ve[1].type==="listItemPrefix"){const Tn={type:"listItem",_spread:!1,start:Object.assign({},Ve[1].start),end:void 0};An=Tn,Ce.splice(pt,0,["enter",Tn,Ve[2]]),pt++,lt++,_r=void 0,Wn=!0}}}return Ce[Oe][1]._spread=Wt,lt}function s(Ce,Oe){return lt;function lt(pt){a.call(this,Ce(pt),pt),Oe&&Oe.call(this,pt)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(Ce,Oe,lt){this.stack[this.stack.length-1].children.push(Ce),this.stack.push(Ce),this.tokenStack.push([Oe,lt||void 0]),Ce.position={start:Oo(Oe.start),end:void 0}}function u(Ce){return Oe;function Oe(lt){Ce&&Ce.call(this,lt),c.call(this,lt)}}function c(Ce,Oe){const lt=this.stack.pop(),pt=this.tokenStack.pop();if(pt)pt[0].type!==Ce.type&&(Oe?Oe.call(this,Ce,pt[0]):(pt[1]||W3).call(this,Ce,pt[0]));else throw new Error("Cannot close `"+Ce.type+"` ("+Kc({start:Ce.start,end:Ce.end})+"): its not open");lt.position.end=Oo(Ce.end)}function h(){return lv(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function g(Ce){if(this.data.expectingFirstListItemValue){const Oe=this.stack[this.stack.length-2];Oe.start=Number.parseInt(this.sliceSerialize(Ce),10),this.data.expectingFirstListItemValue=void 0}}function v(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.lang=Ce}function _(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.meta=Ce}function S(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function C(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=Ce.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function j(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=Ce.replace(/(\r?\n|\r)$/g,"")}function R(Ce){const Oe=this.resume(),lt=this.stack[this.stack.length-1];lt.label=Oe,lt.identifier=Xi(this.sliceSerialize(Ce)).toLowerCase()}function A(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.title=Ce}function F(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.url=Ce}function U(Ce){const Oe=this.stack[this.stack.length-1];if(!Oe.depth){const lt=this.sliceSerialize(Ce).length;Oe.depth=lt}}function O(){this.data.setextHeadingSlurpLineEnding=!0}function $(Ce){const Oe=this.stack[this.stack.length-1];Oe.depth=this.sliceSerialize(Ce).codePointAt(0)===61?1:2}function K(){this.data.setextHeadingSlurpLineEnding=void 0}function H(Ce){const lt=this.stack[this.stack.length-1].children;let pt=lt[lt.length-1];(!pt||pt.type!=="text")&&(pt=ts(),pt.position={start:Oo(Ce.start),end:void 0},lt.push(pt)),this.stack.push(pt)}function z(Ce){const Oe=this.stack.pop();Oe.value+=this.sliceSerialize(Ce),Oe.position.end=Oo(Ce.end)}function ue(Ce){const Oe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const lt=Oe.children[Oe.children.length-1];lt.position.end=Oo(Ce.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Oe.type)&&(H.call(this,Ce),z.call(this,Ce))}function de(){this.data.atHardBreak=!0}function pe(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=Ce}function q(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=Ce}function V(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=Ce}function Z(){const Ce=this.stack[this.stack.length-1];if(this.data.inReference){const Oe=this.data.referenceType||"shortcut";Ce.type+="Reference",Ce.referenceType=Oe,delete Ce.url,delete Ce.title}else delete Ce.identifier,delete Ce.label;this.data.referenceType=void 0}function re(){const Ce=this.stack[this.stack.length-1];if(this.data.inReference){const Oe=this.data.referenceType||"shortcut";Ce.type+="Reference",Ce.referenceType=Oe,delete Ce.url,delete Ce.title}else delete Ce.identifier,delete Ce.label;this.data.referenceType=void 0}function ne(Ce){const Oe=this.sliceSerialize(Ce),lt=this.stack[this.stack.length-2];lt.label=ND(Oe),lt.identifier=Xi(Oe).toLowerCase()}function me(){const Ce=this.stack[this.stack.length-1],Oe=this.resume(),lt=this.stack[this.stack.length-1];if(this.data.inReference=!0,lt.type==="link"){const pt=Ce.children;lt.children=pt}else lt.alt=Oe}function D(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.url=Ce}function G(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.title=Ce}function ye(){this.data.inReference=void 0}function I(){this.data.referenceType="collapsed"}function Ie(Ce){const Oe=this.resume(),lt=this.stack[this.stack.length-1];lt.label=Oe,lt.identifier=Xi(this.sliceSerialize(Ce)).toLowerCase(),this.data.referenceType="full"}function Ee(Ce){this.data.characterReferenceType=Ce.type}function je(Ce){const Oe=this.sliceSerialize(Ce),lt=this.data.characterReferenceType;let pt;lt?(pt=o7(Oe,lt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):pt=cv(Oe);const Nt=this.stack[this.stack.length-1];Nt.value+=pt}function Ye(Ce){const Oe=this.stack.pop();Oe.position.end=Oo(Ce.end)}function Ke(Ce){z.call(this,Ce);const Oe=this.stack[this.stack.length-1];Oe.url=this.sliceSerialize(Ce)}function Pe(Ce){z.call(this,Ce);const Oe=this.stack[this.stack.length-1];Oe.url="mailto:"+this.sliceSerialize(Ce)}function ht(){return{type:"blockquote",children:[]}}function ln(){return{type:"code",lang:null,meta:null,value:""}}function Tt(){return{type:"inlineCode",value:""}}function fn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function un(){return{type:"emphasis",children:[]}}function En(){return{type:"heading",depth:0,children:[]}}function xs(){return{type:"break"}}function Ni(){return{type:"html",value:""}}function so(){return{type:"image",title:null,url:"",alt:null}}function es(){return{type:"link",title:null,url:"",children:[]}}function Or(Ce){return{type:"list",ordered:Ce.type==="listOrdered",start:null,spread:Ce._spread,children:[]}}function jn(Ce){return{type:"listItem",spread:Ce._spread,checked:null,children:[]}}function sr(){return{type:"paragraph",children:[]}}function or(){return{type:"strong",children:[]}}function ts(){return{type:"text",value:""}}function Ar(){return{type:"thematicBreak"}}}function Oo(t){return{line:t.line,column:t.column,offset:t.offset}}function B7(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?B7(t,r):oz(t,r)}}function oz(t,e){let n;for(n in e)if(F7.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function W3(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Kc({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Kc({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Kc({start:e.start,end:e.end})+") is still open")}function az(t){const e=this;e.parser=n;function n(r){return iz(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function lz(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function uz(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function cz(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function dz(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function hz(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function fz(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Au(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let o,a=t.footnoteCounts.get(r);a===void 0?(a=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=s+1,a+=1,t.footnoteCounts.set(r,a);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,u);const c={type:"element",tagName:"sup",properties:{},children:[u]};return t.patch(e,c),t.applyData(e,c)}function pz(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function mz(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function z7(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function gz(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return z7(t,e);const i={src:Au(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function yz(t,e){const n={src:Au(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function vz(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function xz(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return z7(t,e);const i={href:Au(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function bz(t,e){const n={href:Au(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function wz(t,e,n){const r=t.all(e),i=n?_z(n):$7(e),s={},o=[];if(typeof e.checked=="boolean"){const h=r[0];let f;h&&h.type==="element"&&h.tagName==="p"?f=h:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const h=r[a];(i||a!==0||h.type!=="element"||h.tagName!=="p")&&o.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?o.push(...h.children):o.push(h)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,c),t.applyData(e,c)}function _z(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=$7(n[r])}return e}function $7(t){const e=t.spread;return e??t.children.length>1}function Sz(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function Cz(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function kz(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function Ez(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function jz(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=mv(e.children[1]),u=P7(e.children[e.children.length-1]);a&&u&&(o.position={start:a,end:u}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function Tz(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:e.children.length;let u=-1;const c=[];for(;++u<a;){const f=e.children[u],g={},v=o?o[u]:void 0;v&&(g.align=v);let _={type:"element",tagName:s,properties:g,children:[]};f&&(_.children=t.all(f),t.patch(f,_),_=t.applyData(f,_)),c.push(_)}const h={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,h),t.applyData(e,h)}function Nz(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const K3=9,G3=32;function Pz(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(Y3(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(Y3(e.slice(i),i>0,!1)),s.join("")}function Y3(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===K3||s===G3;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===K3||s===G3;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function Oz(t,e){const n={type:"text",value:Pz(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function Az(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const Lz={blockquote:lz,break:uz,code:cz,delete:dz,emphasis:hz,footnoteReference:fz,heading:pz,html:mz,imageReference:gz,image:yz,inlineCode:vz,linkReference:xz,link:bz,listItem:wz,list:Sz,paragraph:Cz,root:kz,strong:Ez,table:jz,tableCell:Nz,tableRow:Tz,text:Oz,thematicBreak:Az,toml:uf,yaml:uf,definition:uf,footnoteDefinition:uf};function uf(){}const U7=-1,Gp=0,Gc=1,dp=2,xv=3,bv=4,wv=5,_v=6,H7=7,Q7=8,X3=typeof self=="object"?self:globalThis,Rz=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,o]=e[i];switch(s){case Gp:case U7:return n(o,i);case Gc:{const a=n([],i);for(const u of o)a.push(r(u));return a}case dp:{const a=n({},i);for(const[u,c]of o)a[r(u)]=r(c);return a}case xv:return n(new Date(o),i);case bv:{const{source:a,flags:u}=o;return n(new RegExp(a,u),i)}case wv:{const a=n(new Map,i);for(const[u,c]of o)a.set(r(u),r(c));return a}case _v:{const a=n(new Set,i);for(const u of o)a.add(r(u));return a}case H7:{const{name:a,message:u}=o;return n(new X3[a](u),i)}case Q7:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new X3[s](o),i)};return r},J3=t=>Rz(new Map,t)(0),Wl="",{toString:Mz}={},{keys:Dz}=Object,Tc=t=>{const e=typeof t;if(e!=="object"||!t)return[Gp,e];const n=Mz.call(t).slice(8,-1);switch(n){case"Array":return[Gc,Wl];case"Object":return[dp,Wl];case"Date":return[xv,Wl];case"RegExp":return[bv,Wl];case"Map":return[wv,Wl];case"Set":return[_v,Wl];case"DataView":return[Gc,n]}return n.includes("Array")?[Gc,n]:n.includes("Error")?[H7,n]:[dp,n]},cf=([t,e])=>t===Gp&&(e==="function"||e==="symbol"),Iz=(t,e,n,r)=>{const i=(o,a)=>{const u=r.push(o)-1;return n.set(a,u),u},s=o=>{if(n.has(o))return n.get(o);let[a,u]=Tc(o);switch(a){case Gp:{let h=o;switch(u){case"bigint":a=Q7,h=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+u);h=null;break;case"undefined":return i([U7],o)}return i([a,h],o)}case Gc:{if(u){let g=o;return u==="DataView"?g=new Uint8Array(o.buffer):u==="ArrayBuffer"&&(g=new Uint8Array(o)),i([u,[...g]],o)}const h=[],f=i([a,h],o);for(const g of o)h.push(s(g));return f}case dp:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const h=[],f=i([a,h],o);for(const g of Dz(o))(t||!cf(Tc(o[g])))&&h.push([s(g),s(o[g])]);return f}case xv:return i([a,o.toISOString()],o);case bv:{const{source:h,flags:f}=o;return i([a,{source:h,flags:f}],o)}case wv:{const h=[],f=i([a,h],o);for(const[g,v]of o)(t||!(cf(Tc(g))||cf(Tc(v))))&&h.push([s(g),s(v)]);return f}case _v:{const h=[],f=i([a,h],o);for(const g of o)(t||!cf(Tc(g)))&&h.push(s(g));return f}}const{message:c}=o;return i([a,{name:u,message:c}],o)};return s},Z3=(t,{json:e,lossy:n}={})=>{const r=[];return Iz(!(e||n),!!e,new Map,r)(t),r},hp=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?J3(Z3(t,e)):structuredClone(t):(t,e)=>J3(Z3(t,e));function Fz(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function Bz(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function zz(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||Fz,r=t.options.footnoteBackLabel||Bz,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let u=-1;for(;++u<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[u]);if(!c)continue;const h=t.all(c),f=String(c.identifier).toUpperCase(),g=Au(f.toLowerCase());let v=0;const _=[],S=t.footnoteCounts.get(f);for(;S!==void 0&&++v<=S;){_.length>0&&_.push({type:"text",value:" "});let R=typeof n=="string"?n:n(u,v);typeof R=="string"&&(R={type:"text",value:R}),_.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+g+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,v),className:["data-footnote-backref"]},children:Array.isArray(R)?R:[R]})}const C=h[h.length-1];if(C&&C.type==="element"&&C.tagName==="p"){const R=C.children[C.children.length-1];R&&R.type==="text"?R.value+=" ":C.children.push({type:"text",value:" "}),C.children.push(..._)}else h.push(..._);const j={type:"element",tagName:"li",properties:{id:e+"fn-"+g},children:t.wrap(h,!0)};t.patch(c,j),a.push(j)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...hp(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const D1={}.hasOwnProperty,$z={};function Uz(t,e){const n=e||$z,r=new Map,i=new Map,s=new Map,o={...Lz,...n.handlers},a={all:c,applyData:Qz,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:u,options:n,patch:Hz,wrap:qz};return av(t,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const f=h.type==="definition"?r:i,g=String(h.identifier).toUpperCase();f.has(g)||f.set(g,h)}}),a;function u(h,f){const g=h.type,v=a.handlers[g];if(D1.call(a.handlers,g)&&v)return v(a,h,f);if(a.options.passThrough&&a.options.passThrough.includes(g)){if("children"in h){const{children:S,...C}=h,j=hp(C);return j.children=a.all(h),j}return hp(h)}return(a.options.unknownHandler||Vz)(a,h,f)}function c(h){const f=[];if("children"in h){const g=h.children;let v=-1;for(;++v<g.length;){const _=a.one(g[v],h);if(_){if(v&&g[v-1].type==="break"&&(!Array.isArray(_)&&_.type==="text"&&(_.value=e5(_.value)),!Array.isArray(_)&&_.type==="element")){const S=_.children[0];S&&S.type==="text"&&(S.value=e5(S.value))}Array.isArray(_)?f.push(..._):f.push(_)}}}return f}}function Hz(t,e){t.position&&(e.position=cB(t))}function Qz(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,hp(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Vz(t,e){const n=e.data||{},r="value"in e&&!(D1.call(n,"hProperties")||D1.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function qz(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function e5(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function t5(t,e){const n=Uz(t,e),r=n.one(t,void 0),i=zz(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function Wz(t,e){return t&&"run"in t?async function(n,r){const i=t5(n,{file:r,...e});await t.run(i,r)}:function(n,r){return t5(n,{file:r,...t||e})}}function n5(t){if(t)throw t}var S0,r5;function Kz(){if(r5)return S0;r5=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):e.call(c)==="[object Array]"},s=function(c){if(!c||e.call(c)!=="[object Object]")return!1;var h=t.call(c,"constructor"),f=c.constructor&&c.constructor.prototype&&t.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!h&&!f)return!1;var g;for(g in c);return typeof g>"u"||t.call(c,g)},o=function(c,h){n&&h.name==="__proto__"?n(c,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):c[h.name]=h.newValue},a=function(c,h){if(h==="__proto__")if(t.call(c,h)){if(r)return r(c,h).value}else return;return c[h]};return S0=function u(){var c,h,f,g,v,_,S=arguments[0],C=1,j=arguments.length,R=!1;for(typeof S=="boolean"&&(R=S,S=arguments[1]||{},C=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});C<j;++C)if(c=arguments[C],c!=null)for(h in c)f=a(S,h),g=a(c,h),S!==g&&(R&&g&&(s(g)||(v=i(g)))?(v?(v=!1,_=f&&i(f)?f:[]):_=f&&s(f)?f:{},o(S,{name:h,newValue:u(R,_,g)})):typeof g<"u"&&o(S,{name:h,newValue:g}));return S},S0}var Gz=Kz();const C0=di(Gz);function I1(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Yz(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(u,...c){const h=t[++s];let f=-1;if(u){o(u);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,h?Xz(h,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function Xz(t,e){let n;return r;function r(...o){const a=t.length>o.length;let u;a&&o.push(i);try{u=t.apply(this,o)}catch(c){const h=c;if(a&&n)throw h;return i(h)}a||(u&&u.then&&typeof u.then=="function"?u.then(s,i):u instanceof Error?i(u):s(u))}function i(o,...a){n||(n=!0,e(o,...a))}function s(o){i(null,o)}}const fs={basename:Jz,dirname:Zz,extname:e$,join:t$,sep:"/"};function Jz(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Od(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function Zz(t){if(Od(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function e$(t){Od(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const a=t.codePointAt(e);if(a===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function t$(...t){let e=-1,n;for(;++e<t.length;)Od(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":n$(n)}function n$(t){Od(t);const e=t.codePointAt(0)===47;let n=r$(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function r$(t,e){let n="",r=0,i=-1,s=0,o=-1,a,u;for(;++o<=t.length;){if(o<t.length)a=t.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function Od(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const i$={cwd:s$};function s$(){return"/"}function F1(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function o$(t){if(typeof t=="string")t=new URL(t);else if(!F1(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return a$(t)}function a$(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const k0=["history","path","basename","stem","extname","dirname"];class V7{constructor(e){let n;e?F1(e)?n={path:e}:typeof e=="string"||l$(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":i$.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<k0.length;){const s=k0[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)k0.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?fs.basename(this.path):void 0}set basename(e){j0(e,"basename"),E0(e,"basename"),this.path=fs.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?fs.dirname(this.path):void 0}set dirname(e){i5(this.basename,"dirname"),this.path=fs.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?fs.extname(this.path):void 0}set extname(e){if(E0(e,"extname"),i5(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=fs.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){F1(e)&&(e=o$(e)),j0(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?fs.basename(this.path,this.extname):void 0}set stem(e){j0(e,"stem"),E0(e,"stem"),this.path=fs.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new wr(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function E0(t,e){if(t&&t.includes(fs.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+fs.sep+"`")}function j0(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function i5(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function l$(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const u$=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},c$={}.hasOwnProperty;class Sv extends u${constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Yz()}copy(){const e=new Sv;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(C0(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(P0("data",this.frozen),this.namespace[e]=n,this):c$.call(this.namespace,e)&&this.namespace[e]||void 0:e?(P0("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=df(e),r=this.parser||this.Parser;return T0("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),T0("process",this.parser||this.Parser),N0("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=df(e),u=r.parse(a);r.run(u,a,function(h,f,g){if(h||!f||!g)return c(h);const v=f,_=r.stringify(v,g);f$(_)?g.value=_:g.result=_,c(h,g)});function c(h,f){h||!f?o(h):s?s(f):n(void 0,f)}}}processSync(e){let n=!1,r;return this.freeze(),T0("processSync",this.parser||this.Parser),N0("processSync",this.compiler||this.Compiler),this.process(e,i),o5("processSync","process",n),r;function i(s,o){n=!0,n5(s),r=o}}run(e,n,r){s5(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const u=df(n);i.run(e,u,c);function c(h,f,g){const v=f||e;h?a(h):o?o(v):r(void 0,v,g)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),o5("runSync","run",r),i;function s(o,a){n5(o),i=a,r=!0}}stringify(e,n){this.freeze();const r=df(n),i=this.compiler||this.Compiler;return N0("stringify",i),s5(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(P0("use",this.frozen),e!=null)if(typeof e=="function")u(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(c){if(typeof c=="function")u(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[h,...f]=c;u(h,f)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=C0(!0,i.settings,c.settings))}function a(c){let h=-1;if(c!=null)if(Array.isArray(c))for(;++h<c.length;){const f=c[h];s(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function u(c,h){let f=-1,g=-1;for(;++f<r.length;)if(r[f][0]===c){g=f;break}if(g===-1)r.push([c,...h]);else if(h.length>0){let[v,..._]=h;const S=r[g][1];I1(S)&&I1(v)&&(v=C0(!0,S,v)),r[g]=[c,v,..._]}}}}const d$=new Sv().freeze();function T0(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function N0(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function P0(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function s5(t){if(!I1(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function o5(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function df(t){return h$(t)?t:new V7(t)}function h$(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function f$(t){return typeof t=="string"||p$(t)}function p$(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const m$="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",a5=[],l5={allowDangerousHtml:!0},g$=/^(https?|ircs?|mailto|xmpp)$/i,y$=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function v$(t){const e=x$(t),n=b$(t);return w$(e.runSync(e.parse(n),n),t)}function x$(t){const e=t.rehypePlugins||a5,n=t.remarkPlugins||a5,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...l5}:l5;return d$().use(az).use(n).use(Wz,r).use(e)}function b$(t){const e=t.children||"",n=new V7;return typeof e=="string"&&(n.value=e),n}function w$(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,s=e.disallowedElements,o=e.skipHtml,a=e.unwrapDisallowed,u=e.urlTransform||_$;for(const h of y$)Object.hasOwn(e,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+m$+h.id,void 0);return av(t,c),mB(t,{Fragment:p.Fragment,components:i,ignoreInvalidStyle:!0,jsx:p.jsx,jsxs:p.jsxs,passKeys:!0,passNode:!0});function c(h,f,g){if(h.type==="raw"&&g&&typeof f=="number")return o?g.children.splice(f,1):g.children[f]={type:"text",value:h.value},f;if(h.type==="element"){let v;for(v in _0)if(Object.hasOwn(_0,v)&&Object.hasOwn(h.properties,v)){const _=h.properties[v],S=_0[v];(S===null||S.includes(h.tagName))&&(h.properties[v]=u(String(_||""),v,h))}}if(h.type==="element"){let v=n?!n.includes(h.tagName):s?s.includes(h.tagName):!1;if(!v&&r&&typeof f=="number"&&(v=!r(h,f,g)),v&&g&&typeof f=="number")return a&&h.children?g.children.splice(f,1,...h.children):g.children.splice(f,1),f}}}function _$(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||g$.test(t.slice(0,e))?t:""}function S$(){return Zi({queryKey:["faq"],queryFn:C$,staleTime:1/0,select:t=>t.faq.map((e,n)=>({...e,id:n}))})}const C$=async()=>await Py("/faq.json"),fp=t=>P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:14,height:16,viewBox:"0 0 14 16",...t},P.createElement("defs",null,P.createElement("clipPath",{id:"master_svg0_137_3346"},P.createElement("rect",{x:0,y:0,width:14,height:16,rx:0}))),P.createElement("g",{clipPath:"url(#master_svg0_137_3346)"},P.createElement("g",{transform:"matrix(1,0,0,-1,0,26.6875)"},P.createElement("g",null,P.createElement("path",{d:"M6.28125,13.625Q6.59375,13.34375,7,13.34375Q7.40625,13.34375,7.71875,13.625L13.7188,19.625Q14,19.9375,14,20.34375Q14,20.75,13.7188,21.0625Q13.4062,21.34375,13,21.34375Q12.5938,21.34375,12.2812,21.0625L7,15.75L1.71875,21.0625Q1.40625,21.34375,1,21.34375Q0.59375,21.34375,0.28125,21.0625Q0,20.75,0,20.34375Q0,19.9375,0.28125,19.625L6.28125,13.625Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))))),k$={h2:t=>p.jsx("h2",{...t,className:"text-lg font-bold my-4"}),h3:t=>p.jsx("h3",{...t,className:"text-base font-bold my-4"}),a:t=>p.jsx("a",{...t,className:"text-blue-500 underline"})},E$=t=>P.createElement("svg",{width:10,height:6,viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},P.createElement("path",{d:"M8.25973 0.605623C8.55264 0.312924 9.02745 0.312795 9.32028 0.605623C9.61297 0.898463 9.61293 1.37331 9.32028 1.66617L5.54098 5.44449C5.24809 5.73737 4.77332 5.73738 4.48043 5.44449L0.702114 1.66617C0.409291 1.37328 0.409254 0.898495 0.702114 0.605623C0.994986 0.312752 1.46976 0.312796 1.76266 0.605623L5.01071 3.85367L8.25973 0.605623Z",fill:"#047CFE"})),j$=({className:t,selected:e=!1})=>e?p.jsx(E$,{className:t}):p.jsx(fp,{className:t}),T$=t=>P.createElement("svg",{width:12,height:13,viewBox:"0 0 12 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},P.createElement("path",{d:"M9.25946 2.20234C9.55235 1.90944 10.0271 1.90944 10.32 2.20234C10.6129 2.49523 10.6129 2.97 10.32 3.26288L7.07196 6.51093L10.32 9.75898C10.6129 10.0519 10.6129 10.5276 10.32 10.8205C10.0272 11.113 9.55228 11.1131 9.25946 10.8205L6.01044 7.57148L2.76337 10.8205C2.47049 11.1134 1.99474 11.1134 1.70184 10.8205C1.40895 10.5276 1.40896 10.0519 1.70184 9.75898L4.94989 6.51093L1.70184 3.26288C1.40922 2.97007 1.4093 2.4952 1.70184 2.20234C1.99474 1.90944 2.47047 1.90944 2.76337 2.20234L6.01044 5.44941L9.25946 2.20234Z",fill:"#047CFE"})),N$=({className:t,selected:e=!1})=>e?p.jsx(T$,{className:t}):p.jsx(Eu,{className:t});function Yi({label:t="Chip",selected:e,chipType:n,containerRef:r,onClick:i,...s}){return p.jsxs("button",{type:"button",ref:r,className:`items-center justify-center px-3 py-2 rounded-lg cursor-pointer text-sm gap-4 flex flex-row max-w-40 ${hR(e)} 
     `,"aria-pressed":e,onClick:i,...s,children:[p.jsx("span",{className:"text-xs sm:text-sm truncate",children:t}),n==="select"&&p.jsx(j$,{selected:e,className:"w-4 h-4 pointer-events-none"}),n==="cancel"&&p.jsx(N$,{selected:e,className:"w-4 h-4 pointer-events-none"})]})}const P$={all:"",timetable:"",wishes:"",simulation:"",live:""};function O$(t){return Array.from(new Set(t))}function A$(){const t=window.location.hash,e=t?parseInt(t.replace("#","")):null,[n,r]=P.useState(e),{data:i}=S$(),[s,o]=P.useState(null),a=O$(i?.map(f=>f.tag)??[]),u=s?i?.filter(f=>f.tag===s):i,c=f=>{r(n===f?null:f)},h=f=>{o(g=>g===f?null:f)};return p.jsxs(p.Fragment,{children:[p.jsx(nr,{children:p.jsx("title",{children:"ALLCLL |   "})}),p.jsxs("div",{className:"mx-auto max-w-7xl px-4 md:px-16 py-24",children:[p.jsx("h1",{className:"text-3xl font-bold mb-6",children:"  "}),p.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:a.length>0&&a.map((f,g)=>p.jsx(Yi,{label:P$[f]||f,onClick:()=>h(f),selected:s===f},"faq-chip-"+g))}),u&&u.map(f=>p.jsx(L$,{item:f,index:f.id,isOpen:n===f.id,toggleAnswer:c},f.id))]})]})}function L$({item:t,index:e,isOpen:n,toggleAnswer:r}){return p.jsxs("div",{className:"mb-4 rounded-md bg-white shadow-sm",children:[p.jsxs("button",{onClick:()=>r(e),className:"flex items-center justify-between rounded-md w-full text-left font-semibold text-md p-4 hover:bg-blue-50 focus:outline-none cursor-pointer "+(n?"text-blue-600 font-bold":""),children:[t.question,p.jsx(fp,{className:"w-4 h-4 transform transition-transform duration-150 "+(n?"rotate-180":"")})]}),n&&p.jsx("div",{className:"p-4 border-t border-gray-200 text-sm",children:p.jsx(v$,{remarkPlugins:[zF],components:k$,children:t.answer})})]},e)}function u5(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Kl=[..."".normalize("NFD")].map(t=>t.charCodeAt(0)),c5=44032,R$=55203,O0=28,d5=21,B1={"":"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},z1={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},M$=["","","","","","","","","","","","","","","","","","",""],D$=Object.values(z1),I$=["","","","","","","","","","","","","","","","","","","","","","","","","","","",""].map(t=>B1[t]);function F$(t){const e=t.charCodeAt(0);if(!(c5<=e&&e<=R$))return;const r=e-c5,i=r%O0,s=(r-i)/O0%d5,o=Math.floor((r-i)/O0/d5);return{choseong:M$[o],jungseong:D$[s],jongseong:I$[i]}}function B$(t){const e=[];for(const n of t){const r=F$(n);if(r!=null){e.push([...r.choseong,...r.jungseong,...r.jongseong]);continue}if(u5(B1,n)){const i=B1[n];e.push([...i]);continue}if(u5(z1,n)){const i=z1[n];e.push([...i]);continue}e.push([n])}return e}function Wa(t){return B$(t).reduce((e,n)=>`${e}${n.join("")}`,"")}var pp={START_CHOSEONG:Kl[0],START_JUNGSEONG:Kl[1],START_JONGSEONG:Kl[2],END_CHOSEONG:Kl[3],END_JUNGSEONG:Kl[4],END_JONGSEONG:Kl[5]};new RegExp(`[^\\u${pp.START_CHOSEONG.toString(16)}-\\u${pp.END_CHOSEONG.toString(16)}-\\s]+`,"ug");new RegExp(`[\\u${pp.START_CHOSEONG.toString(16)}-\\u${pp.END_CHOSEONG.toString(16)}]`,"g");function z$(t,e){if(!t.lesnTime)return!1;const n=RegExp(/^([-]+)/).exec(t.lesnTime);if(!n)return!1;if(e.includes("")||e.length===0)return!0;const r=n[1].split("");return e.some(i=>r.includes(i))}function $$(t,e){const n=Number(t.studentYear);return n?e.includes("")||e.length===0?!0:e.includes(n):!1}function U$(t,e){return!e||e===""||e===t.deptCd}function H$(t,e){if(!e)return!0;const n=e.replace(/[^\w\s---]/g,""),r=Wa(n).toLowerCase(),i=t.professorName?Wa(t.professorName).toLowerCase():"",s=t.subjectName.replace(/[^\w\s---]/g,""),o=Wa(s).toLowerCase();return i.includes(r)||o.includes(r)}const Q$=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>gd(async()=>{const{default:r}=await Promise.resolve().then(()=>Ru);return{default:r}},[]).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Cv extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class V$ extends Cv{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class h5 extends Cv{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class f5 extends Cv{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var $1;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})($1||($1={}));var q$=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(f){o(f)}}function u(h){try{c(r.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((r=r.apply(t,e||[])).next())})};class W${constructor(e,{headers:n={},customFetch:r,region:i=$1.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=Q$(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return q$(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let a={},{region:u}=n;u||(u=this.region);const c=new URL(`${this.url}/${e}`);u&&u!=="any"&&(a["x-region"]=u,c.searchParams.set("forceFunctionRegion",u));let h;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(a["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(a["Content-Type"]="application/json",h=JSON.stringify(o)));const f=yield this.fetch(c.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:h}).catch(S=>{throw new V$(S)}),g=f.headers.get("x-relay-error");if(g&&g==="true")throw new h5(f);if(!f.ok)throw new f5(f);let v=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),_;return v==="application/json"?_=yield f.json():v==="application/octet-stream"?_=yield f.blob():v==="text/event-stream"?_=f:v==="multipart/form-data"?_=yield f.formData():_=yield f.text(),{data:_,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof f5||i instanceof h5?i.context:void 0}}})}}var Zn={},Gl={},Yl={},Xl={},Jl={},Zl={},K$=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Su=K$();const G$=Su.fetch,q7=Su.fetch.bind(Su),W7=Su.Headers,Y$=Su.Request,X$=Su.Response,Ru=Object.freeze(Object.defineProperty({__proto__:null,Headers:W7,Request:Y$,Response:X$,default:q7,fetch:G$},Symbol.toStringTag,{value:"Module"})),J$=C8(Ru);var hf={},p5;function K7(){if(p5)return hf;p5=1,Object.defineProperty(hf,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return hf.default=t,hf}var m5;function G7(){if(m5)return Zl;m5=1;var t=Zl&&Zl.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Zl,"__esModule",{value:!0});const e=t(J$),n=t(K7());class r{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=Object.assign({},this.headers),this.headers[s]=o,this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let u=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var h,f,g;let v=null,_=null,S=null,C=c.status,j=c.statusText;if(c.ok){if(this.method!=="HEAD"){const U=await c.text();U===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?_=U:_=JSON.parse(U))}const A=(h=this.headers.Prefer)===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),F=(f=c.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");A&&F&&F.length>1&&(S=parseInt(F[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(v={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,S=null,C=406,j="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const A=await c.text();try{v=JSON.parse(A),Array.isArray(v)&&c.status===404&&(_=[],v=null,C=200,j="OK")}catch{c.status===404&&A===""?(C=204,j="No Content"):v={message:A}}if(v&&this.isMaybeSingle&&(!((g=v?.details)===null||g===void 0)&&g.includes("0 rows"))&&(v=null,C=200,j="OK"),v&&this.shouldThrowOnError)throw new n.default(v)}return{error:v,data:_,count:S,status:C,statusText:j}});return this.shouldThrowOnError||(u=u.catch(c=>{var h,f,g;return{error:{message:`${(h=c?.name)!==null&&h!==void 0?h:"FetchError"}: ${c?.message}`,details:`${(f=c?.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(g=c?.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),u.then(s,o)}returns(){return this}overrideTypes(){return this}}return Zl.default=r,Zl}var g5;function Y7(){if(g5)return Jl;g5=1;var t=Jl&&Jl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Jl,"__esModule",{value:!0});const e=t(G7());class n extends e.default{select(i){let s=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:a,referencedTable:u=a}={}){const c=u?`${u}.order`:"order",h=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${h?`${h},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:a=o}={}){const u=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(c,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:a=!1,wal:u=!1,format:c="text"}={}){var h;const f=[i?"analyze":null,s?"verbose":null,o?"settings":null,a?"buffers":null,u?"wal":null].filter(Boolean).join("|"),g=(h=this.headers.Accept)!==null&&h!==void 0?h:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${g}"; options=${f};`,c==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Jl.default=n,Jl}var y5;function kv(){if(y5)return Xl;y5=1;var t=Xl&&Xl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Xl,"__esModule",{value:!0});const e=t(Y7());class n extends e.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const o=Array.from(new Set(s)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:o,type:a}={}){let u="";a==="plain"?u="pl":a==="phrase"?u="ph":a==="websearch"&&(u="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${u}fts${c}.${s}`),this}match(i){return Object.entries(i).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(i,s,o){return this.url.searchParams.append(i,`not.${s}.${o}`),this}or(i,{foreignTable:s,referencedTable:o=s}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${i})`),this}filter(i,s,o){return this.url.searchParams.append(i,`${s}.${o}`),this}}return Xl.default=n,Xl}var v5;function X7(){if(v5)return Yl;v5=1;var t=Yl&&Yl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Yl,"__esModule",{value:!0});const e=t(kv());class n{constructor(i,{headers:s={},schema:o,fetch:a}){this.url=i,this.headers=s,this.schema=o,this.fetch=a}select(i,{head:s=!1,count:o}={}){const a=s?"HEAD":"GET";let u=!1;const c=(i??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",c),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:s,defaultToNull:o=!0}={}){const a="POST",u=[];if(this.headers.Prefer&&u.push(this.headers.Prefer),s&&u.push(`count=${s}`),o||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(i)){const c=i.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(c.length>0){const h=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:a,defaultToNull:u=!0}={}){const c="POST",h=[`resolution=${o?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&h.push(this.headers.Prefer),a&&h.push(`count=${a}`),u||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(i)){const f=i.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(f.length>0){const g=[...new Set(f)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:s}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),this.headers.Prefer=a.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const s="DELETE",o=[];return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Yl.default=n,Yl}var Nc={},Pc={},x5;function Z$(){return x5||(x5=1,Object.defineProperty(Pc,"__esModule",{value:!0}),Pc.version=void 0,Pc.version="0.0.0-automated"),Pc}var b5;function eU(){if(b5)return Nc;b5=1,Object.defineProperty(Nc,"__esModule",{value:!0}),Nc.DEFAULT_HEADERS=void 0;const t=Z$();return Nc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},Nc}var w5;function tU(){if(w5)return Gl;w5=1;var t=Gl&&Gl.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Gl,"__esModule",{value:!0});const e=t(X7()),n=t(kv()),r=eU();class i{constructor(o,{headers:a={},schema:u,fetch:c}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=u,this.fetch=c}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:u=!1,get:c=!1,count:h}={}){let f;const g=new URL(`${this.url}/rpc/${o}`);let v;u||c?(f=u?"HEAD":"GET",Object.entries(a).filter(([S,C])=>C!==void 0).map(([S,C])=>[S,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([S,C])=>{g.searchParams.append(S,C)})):(f="POST",v=a);const _=Object.assign({},this.headers);return h&&(_.Prefer=`count=${h}`),new n.default({method:f,url:g,headers:_,schema:this.schemaName,body:v,fetch:this.fetch,allowEmpty:!1})}}return Gl.default=i,Gl}var _5;function nU(){if(_5)return Zn;_5=1;var t=Zn&&Zn.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.PostgrestError=Zn.PostgrestBuilder=Zn.PostgrestTransformBuilder=Zn.PostgrestFilterBuilder=Zn.PostgrestQueryBuilder=Zn.PostgrestClient=void 0;const e=t(tU());Zn.PostgrestClient=e.default;const n=t(X7());Zn.PostgrestQueryBuilder=n.default;const r=t(kv());Zn.PostgrestFilterBuilder=r.default;const i=t(Y7());Zn.PostgrestTransformBuilder=i.default;const s=t(G7());Zn.PostgrestBuilder=s.default;const o=t(K7());return Zn.PostgrestError=o.default,Zn.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:o.default},Zn}var rU=nU();const iU=di(rU),{PostgrestClient:sU,PostgrestQueryBuilder:rW,PostgrestFilterBuilder:iW,PostgrestTransformBuilder:sW,PostgrestBuilder:oW,PostgrestError:aW}=iU;function oU(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const aU=oU(),lU="2.11.15",uU=`realtime-js/${lU}`,cU="1.0.0",J7=1e4,dU=1e3;var Yc;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Yc||(Yc={}));var pr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(pr||(pr={}));var Wi;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Wi||(Wi={}));var U1;(function(t){t.websocket="websocket"})(U1||(U1={}));var Ba;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ba||(Ba={}));class hU{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+i));o=o+i;const u=r.decode(e.slice(o,o+s));o=o+s;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:u,payload:c}}}class Z7{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var sn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(sn||(sn={}));const S5=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,o)=>(s[o]=fU(o,t,e,i),s),{})},fU=(t,e,n,r)=>{const i=e.find(a=>a.name===t),s=i?.type,o=n[t];return s&&!r.includes(s)?eS(s,o):H1(o)},eS=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return yU(e,n)}switch(t){case sn.bool:return pU(e);case sn.float4:case sn.float8:case sn.int2:case sn.int4:case sn.int8:case sn.numeric:case sn.oid:return mU(e);case sn.json:case sn.jsonb:return gU(e);case sn.timestamp:return vU(e);case sn.abstime:case sn.date:case sn.daterange:case sn.int4range:case sn.int8range:case sn.money:case sn.reltime:case sn.text:case sn.time:case sn.timestamptz:case sn.timetz:case sn.tsrange:case sn.tstzrange:return H1(e);default:return H1(e)}},H1=t=>t,pU=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},mU=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},gU=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},yU=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const o=t.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>eS(e,a))}return t},vU=t=>typeof t=="string"?t.replace(" ","T"):t,tS=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class A0{constructor(e,n,r={},i=J7){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var C5;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(C5||(C5={}));class Xc{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xc.syncState(this.state,i,s,o),this.pendingDiffs.forEach(u=>{this.state=Xc.syncDiff(this.state,u,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Xc.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),o=this.transformState(n),a={},u={};return this.map(s,(c,h)=>{o[c]||(u[c]=h)}),this.map(o,(c,h)=>{const f=s[c];if(f){const g=h.map(C=>C.presence_ref),v=f.map(C=>C.presence_ref),_=h.filter(C=>v.indexOf(C.presence_ref)<0),S=f.filter(C=>g.indexOf(C.presence_ref)<0);_.length>0&&(a[c]=_),S.length>0&&(u[c]=S)}else a[c]=h}),this.syncDiff(s,{joins:a,leaves:u},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,u)=>{var c;const h=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(u),h.length>0){const f=e[a].map(v=>v.presence_ref),g=h.filter(v=>f.indexOf(v.presence_ref)<0);e[a].unshift(...g)}r(a,h,u)}),this.map(o,(a,u)=>{let c=e[a];if(!c)return;const h=u.map(f=>f.presence_ref);c=c.filter(f=>h.indexOf(f.presence_ref)<0),e[a]=c,i(a,c,u),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var k5;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(k5||(k5={}));var E5;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(E5||(E5={}));var Hs;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Hs||(Hs={}));class Ev{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=pr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new A0(this,Wi.join,this.params,this.timeout),this.rejoinTimer=new Z7(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=pr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wi.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Xc(this),this.broadcastEndpointURL=tS(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==pr.closed){const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(h=>e?.(Hs.CHANNEL_ERROR,h)),this._onClose(()=>e?.(Hs.CLOSED));const u={},c={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},u)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var f;if(this.socket.setAuth(),h===void 0){e?.(Hs.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(f=g?.length)!==null&&f!==void 0?f:0,_=[];for(let S=0;S<v;S++){const C=g[S],{filter:{event:j,schema:R,table:A,filter:F}}=C,U=h&&h[S];if(U&&U.event===j&&U.schema===R&&U.table===A&&U.filter===F)_.push(Object.assign(Object.assign({},C),{id:U.id}));else{this.unsubscribe(),this.state=pr.errored,e?.(Hs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(Hs.SUBSCRIBED);return}}).receive("error",h=>{this.state=pr.errored,e?.(Hs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e?.(Hs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,u;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wi.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new A0(this,Wi.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new A0(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:u,leave:c,join:h}=Wi;if(r&&[a,u,c,h].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var _,S,C;return((_=v.filter)===null||_===void 0?void 0:_.event)==="*"||((C=(S=v.filter)===null||S===void 0?void 0:S.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===o}).map(v=>v.callback(g,r)):(s=this.bindings[o])===null||s===void 0||s.filter(v=>{var _,S,C,j,R,A;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const F=v.id,U=(_=v.filter)===null||_===void 0?void 0:_.event;return F&&((S=n.ids)===null||S===void 0?void 0:S.includes(F))&&(U==="*"||U?.toLocaleLowerCase()===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const F=(R=(j=v?.filter)===null||j===void 0?void 0:j.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return F==="*"||F===((A=n?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof g=="object"&&"ids"in g){const _=g.data,{schema:S,table:C,commit_timestamp:j,type:R,errors:A}=_;g=Object.assign(Object.assign({},{schema:S,table:C,commit_timestamp:j,eventType:R,new:{},old:{},errors:A}),this._getPayloadRecords(_))}v.callback(g,r)})}_isClosed(){return this.state===pr.closed}_isJoined(){return this.state===pr.joined}_isJoining(){return this.state===pr.joining}_isLeaving(){return this.state===pr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Ev.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Wi.close,{},e)}_onError(e){this._on(Wi.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=S5(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=S5(e.columns,e.old_record)),n}}const j5=()=>{},xU=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class bU{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=J7,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=j5,this.ref=0,this.logger=j5,this.conn=null,this.sendBuffer=[],this.serializer=new hU,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>gd(async()=>{const{default:u}=await Promise.resolve().then(()=>Ru);return{default:u}},void 0).then(({default:u})=>u(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${U1.websocket}`,this.httpEndpoint=tS(e),n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n?.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Z7(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch),n?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=n?.worker||!1,this.workerUrl=n?.workerUrl}this.accessToken=n?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=aU),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:cU}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Yc.connecting:return Ba.Connecting;case Yc.open:return Ba.Open;case Yc.closing:return Ba.Closing;default:return Ba.Closed}}isConnected(){return this.connectionState()===Ba.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new Ev(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var u;(u=this.conn)===null||u===void 0||u.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:uU};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Wi.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(dU,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Wi.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([xU],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class jv extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function er(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class wU extends jv{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Q1 extends jv{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var _U=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(f){o(f)}}function u(h){try{c(r.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((r=r.apply(t,e||[])).next())})};const nS=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>gd(async()=>{const{default:r}=await Promise.resolve().then(()=>Ru);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},SU=()=>_U(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield gd(()=>Promise.resolve().then(()=>Ru),void 0)).Response:Response}),V1=t=>{if(Array.isArray(t))return t.map(n=>V1(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=V1(r)}),e},CU=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var il=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(f){o(f)}}function u(h){try{c(r.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((r=r.apply(t,e||[])).next())})};const L0=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),kU=(t,e,n)=>il(void 0,void 0,void 0,function*(){const r=yield SU();t instanceof r&&!n?.noResolveJson?t.json().then(i=>{const s=t.status||500,o=i?.statusCode||s+"";e(new wU(L0(i),s,o))}).catch(i=>{e(new Q1(L0(i),i))}):e(new Q1(L0(t),t))}),EU=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!r?i:(CU(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n))};function Ad(t,e,n,r,i,s){return il(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,EU(e,r,i,s)).then(u=>{if(!u.ok)throw u;return r?.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>kU(u,a,r))})})}function mp(t,e,n,r){return il(this,void 0,void 0,function*(){return Ad(t,"GET",e,n,r)})}function Qs(t,e,n,r,i){return il(this,void 0,void 0,function*(){return Ad(t,"POST",e,r,i,n)})}function q1(t,e,n,r,i){return il(this,void 0,void 0,function*(){return Ad(t,"PUT",e,r,i,n)})}function jU(t,e,n,r){return il(this,void 0,void 0,function*(){return Ad(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function rS(t,e,n,r,i){return il(this,void 0,void 0,function*(){return Ad(t,"DELETE",e,r,i,n)})}var Ur=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(f){o(f)}}function u(h){try{c(r.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((r=r.apply(t,e||[])).next())})};const TU={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},T5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class NU{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=nS(i)}uploadOrUpdate(e,n,r,i){return Ur(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},T5),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),u&&s.append("metadata",this.encodeMetadata(u)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),u&&s.append("metadata",this.encodeMetadata(u))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,u&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),h=this._getFinalPath(c),f=yield(e=="PUT"?q1:Qs)(this.fetch,`${this.url}/object/${h}`,s,Object.assign({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(er(s))return{data:null,error:s};throw s}})}upload(e,n,r){return Ur(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return Ur(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let u;const c=Object.assign({upsert:T5.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",c.cacheControl)):(u=r,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType);const f=yield q1(this.fetch,a.toString(),u,{headers:h});return{data:{path:s,fullPath:f.Key},error:null}}catch(u){if(er(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,n){return Ur(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const s=yield Qs(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new jv("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(er(r))return{data:null,error:r};throw r}})}update(e,n,r){return Ur(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Ur(this,void 0,void 0,function*(){try{return{data:yield Qs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(er(i))return{data:null,error:i};throw i}})}copy(e,n,r){return Ur(this,void 0,void 0,function*(){try{return{data:{path:(yield Qs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(er(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return Ur(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Qs(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(er(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return Ur(this,void 0,void 0,function*(){try{const i=yield Qs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(er(i))return{data:null,error:i};throw i}})}download(e,n){return Ur(this,void 0,void 0,function*(){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(n?.transform||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield mp(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(er(a))return{data:null,error:a};throw a}})}info(e){return Ur(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield mp(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:V1(r),error:null}}catch(r){if(er(r))return{data:null,error:r};throw r}})}exists(e){return Ur(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield jU(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(er(r)&&r instanceof Q1){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n?.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof n?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(n?.transform||{});u!==""&&i.push(u);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return Ur(this,void 0,void 0,function*(){try{return{data:yield rS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(er(n))return{data:null,error:n};throw n}})}list(e,n,r){return Ur(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},TU),n),{prefix:e||""});return{data:yield Qs(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(er(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const PU="2.10.4",OU={"X-Client-Info":`storage-js/${PU}`};var eu=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(f){o(f)}}function u(h){try{c(r.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((r=r.apply(t,e||[])).next())})};class AU{constructor(e,n={},r,i){const s=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},OU),n),this.fetch=nS(r)}listBuckets(){return eu(this,void 0,void 0,function*(){try{return{data:yield mp(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(er(e))return{data:null,error:e};throw e}})}getBucket(e){return eu(this,void 0,void 0,function*(){try{return{data:yield mp(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(er(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return eu(this,void 0,void 0,function*(){try{return{data:yield Qs(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(er(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return eu(this,void 0,void 0,function*(){try{return{data:yield q1(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(er(r))return{data:null,error:r};throw r}})}emptyBucket(e){return eu(this,void 0,void 0,function*(){try{return{data:yield Qs(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(er(n))return{data:null,error:n};throw n}})}deleteBucket(e){return eu(this,void 0,void 0,function*(){try{return{data:yield rS(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(er(n))return{data:null,error:n};throw n}})}}class LU extends AU{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new NU(this.url,this.headers,e,this.fetch)}}const RU="2.53.0";let Bc="";typeof Deno<"u"?Bc="deno":typeof document<"u"?Bc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bc="react-native":Bc="node";const MU={"X-Client-Info":`supabase-js-${Bc}/${RU}`},DU={headers:MU},IU={schema:"public"},FU={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},BU={};var zU=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(f){o(f)}}function u(h){try{c(r.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((r=r.apply(t,e||[])).next())})};const $U=t=>{let e;return t?e=t:typeof fetch>"u"?e=q7:e=fetch,(...n)=>e(...n)},UU=()=>typeof Headers>"u"?W7:Headers,HU=(t,e,n)=>{const r=$U(n),i=UU();return(s,o)=>zU(void 0,void 0,void 0,function*(){var a;const u=(a=yield e())!==null&&a!==void 0?a:t;let c=new i(o?.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),r(s,Object.assign(Object.assign({},o),{headers:c}))})};var QU=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(f){o(f)}}function u(h){try{c(r.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((r=r.apply(t,e||[])).next())})};function VU(t){return t.endsWith("/")?t:t+"/"}function qU(t,e){var n,r;const{db:i,auth:s,realtime:o,global:a}=t,{db:u,auth:c,realtime:h,global:f}=e,g={db:Object.assign(Object.assign({},u),i),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},h),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(n=f?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>QU(this,void 0,void 0,function*(){return""})};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}const iS="2.71.1",lu=30*1e3,W1=3,R0=W1*lu,WU="http://localhost:9999",KU="supabase.auth.token",GU={"X-Client-Info":`gotrue-js/${iS}`},K1="X-Supabase-Api-Version",sS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},YU=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,XU=600*1e3;class Tv extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ct(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class JU extends Tv{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function ZU(t){return Ct(t)&&t.name==="AuthApiError"}class oS extends Tv{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Jo extends Tv{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Ro extends Jo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function eH(t){return Ct(t)&&t.name==="AuthSessionMissingError"}class ff extends Jo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pf extends Jo{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class mf extends Jo{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tH(t){return Ct(t)&&t.name==="AuthImplicitGrantRedirectError"}class N5 extends Jo{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class G1 extends Jo{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function M0(t){return Ct(t)&&t.name==="AuthRetryableFetchError"}class P5 extends Jo{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Y1 extends Jo{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const gp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),O5=` 	
\r=`.split(""),nH=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<O5.length;e+=1)t[O5[e].charCodeAt(0)]=-2;for(let e=0;e<gp.length;e+=1)t[gp[e].charCodeAt(0)]=e;return t})();function A5(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(gp[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(gp[r]),e.queuedBits-=6}}function aS(t,e,n){const r=nH[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function L5(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{sH(o,r,n)};for(let o=0;o<t.length;o+=1)aS(t.charCodeAt(o),i,s);return e.join("")}function rH(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function iH(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}rH(r,e)}}function sH(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function oH(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)aS(t.charCodeAt(i),n,r);return new Uint8Array(e)}function aH(t){const e=[];return iH(t,n=>e.push(n)),new Uint8Array(e)}function lH(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>A5(i,n,r)),A5(null,n,r),e.join("")}function uH(t){return Math.round(Date.now()/1e3)+t}function cH(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Vi=()=>typeof window<"u"&&typeof document<"u",Oa={tested:!1,writable:!1},lS=()=>{if(!Vi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Oa.tested)return Oa.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Oa.tested=!0,Oa.writable=!0}catch{Oa.tested=!0,Oa.writable=!1}return Oa.writable};function dH(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const uS=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>gd(async()=>{const{default:r}=await Promise.resolve().then(()=>Ru);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},hH=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",uu=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Aa=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ao=async(t,e)=>{await t.removeItem(e)};class Yp{constructor(){this.promise=new Yp.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Yp.promiseConstructor=Promise;function D0(t){const e=t.split(".");if(e.length!==3)throw new Y1("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!YU.test(e[r]))throw new Y1("JWT not in base64url format");return{header:JSON.parse(L5(e[0])),payload:JSON.parse(L5(e[1])),signature:oH(e[2]),raw:{header:e[0],payload:e[1]}}}async function fH(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function pH(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function mH(t){return("0"+t.toString(16)).substr(-2)}function gH(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,mH).join("")}async function yH(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function vH(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await yH(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function tu(t,e,n=!1){const r=gH();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await uu(t,`${e}-code-verifier`,i);const s=await vH(r);return[s,r===s?"plain":"s256"]}const xH=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function bH(t){const e=t.headers.get(K1);if(!e||!e.match(xH))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function wH(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function _H(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const SH=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function nu(t){if(!SH.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function I0(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function R5(t){return JSON.parse(JSON.stringify(t))}var CH=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Ia=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),kH=[502,503,504];async function M5(t){var e;if(!hH(t))throw new G1(Ia(t),0);if(kH.includes(t.status))throw new G1(Ia(t),t.status);let n;try{n=await t.json()}catch(s){throw new oS(Ia(s),s)}let r;const i=bH(t);if(i&&i.getTime()>=sS["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new P5(Ia(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ro}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new P5(Ia(n),t.status,n.weak_password.reasons);throw new JU(Ia(n),t.status||500,r)}const EH=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Rt(t,e,n,r){var i;const s=Object.assign({},r?.headers);s[K1]||(s[K1]=sS["2024-01-01"].name),r?.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await jH(t,e,n+a,{headers:s,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}}async function jH(t,e,n,r,i,s){const o=EH(e,r,i,s);let a;try{a=await t(n,Object.assign({},o))}catch(u){throw console.error(u),new G1(Ia(u),0)}if(a.ok||await M5(a),r?.noResolveJson)return a;try{return await a.json()}catch(u){await M5(u)}}function Us(t){var e;let n=null;OH(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=uH(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function D5(t){const e=Us(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Do(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function TH(t){return{data:t,error:null}}function NH(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,o=CH(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},u=Object.assign({},o);return{data:{properties:a,user:u},error:null}}function PH(t){return t}function OH(t){return t.access_token&&t.refresh_token&&t.expires_in}const F0=["global","local","others"];var AH=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class LH{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=uS(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=F0[0]){if(F0.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${F0.join(", ")}`);try{return await Rt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Rt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Do})}catch(r){if(Ct(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=AH(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await Rt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:NH,redirectTo:n?.redirectTo})}catch(n){if(Ct(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Rt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Do})}catch(n){if(Ct(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,o,a,u;try{const c={nextPage:null,lastPage:0,total:0},h=await Rt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:PH});if(h.error)throw h.error;const f=await h.json(),g=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(u=(a=h.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(_=>{const S=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(_.split(";")[1].split("=")[1]);c[`${C}Page`]=S}),c.total=parseInt(g)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Ct(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){nu(e);try{return await Rt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Do})}catch(n){if(Ct(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){nu(e);try{return await Rt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Do})}catch(r){if(Ct(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){nu(e);try{return await Rt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Do})}catch(r){if(Ct(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){nu(e.userId);try{const{data:n,error:r}=await Rt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ct(n))return{data:null,error:n};throw n}}async _deleteFactor(e){nu(e.userId),nu(e.id);try{return{data:await Rt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Ct(n))return{data:null,error:n};throw n}}}function I5(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function RH(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ru={debug:!!(globalThis&&lS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class cS extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class MH extends cS{}async function DH(t,e,n){ru.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ru.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){ru.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{ru.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw ru.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new MH(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ru.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}RH();const IH={url:WU,storageKey:KU,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:GU,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function F5(t,e,n){return await n()}const iu={};class pd{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=pd.nextInstanceID,pd.nextInstanceID+=1,this.instanceID>0&&Vi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},IH),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new LH({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=uS(i.fetch),this.lock=i.lock||F5,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Vi()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=DH:this.lock=F5,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:lS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=I5(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=I5(this.memoryStorage)),Vi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=iu[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){iu[this.storageKey]=Object.assign(Object.assign({},iu[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=iu[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){iu[this.storageKey]=Object.assign(Object.assign({},iu[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${iS}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=dH(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Vi()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),tH(s)){const u=(e=s.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ct(n)?{error:n}:{error:new oS("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await Rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Us}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(Ct(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:h,password:f,options:g}=e;let v=null,_=null;this.flowType==="pkce"&&([v,_]=await tu(this.storage,this.storageKey)),s=await Rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:h,password:f,data:(n=g?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:v,code_challenge_method:_},xform:Us})}else if("phone"in e){const{phone:h,password:f,options:g}=e;s=await Rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(r=g?.data)!==null&&r!==void 0?r:{},channel:(i=g?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Us})}else throw new pf("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(Ct(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:o,options:a}=e;n=await Rt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:D5})}else if("phone"in e){const{phone:s,password:o,options:a}=e;n=await Rt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:D5})}else throw new pf("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ff}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ct(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,i,s,o,a,u,c,h,f,g,v;let _,S;if("message"in e)_=e.message,S=e.signature;else{const{chain:C,wallet:j,statement:R,options:A}=e;let F;if(Vi())if(typeof j=="object")F=j;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))F=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=j}const U=new URL((n=A?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in F&&F.signIn){const O=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:U.host,uri:U.href}),R?{statement:R}:null));let $;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")$=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)$=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)_=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),S=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${U.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${U.href}`,`Issued At: ${(i=(r=A?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=A?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((o=A?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((a=A?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((u=A?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((c=A?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((f=(h=A?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",...A.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const O=await F.signMessage(new TextEncoder().encode(_),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=O}}try{const{data:C,error:j}=await Rt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:lH(S)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Us});if(j)throw j;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new ff}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:j})}catch(C){if(Ct(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(e){const n=await Aa(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await Rt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Us});if(await Ao(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new ff}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(Ct(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=e,a=await Rt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Us}),{data:u,error:c}=a;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new ff}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(n){if(Ct(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,s,o;try{if("email"in e){const{email:a,options:u}=e;let c=null,h=null;this.flowType==="pkce"&&([c,h]=await tu(this.storage,this.storageKey));const{error:f}=await Rt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(r=u?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:c,code_challenge_method:h},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:u}=e,{data:c,error:h}=await Rt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(o=u?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c?.message_id},error:h}}throw new pf("You must provide either an email or phone number.")}catch(a){if(Ct(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await Rt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Us});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,c=o.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(Ct(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await tu(this.storage,this.storageKey)),await Rt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:TH})}catch(s){if(Ct(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Ro;const{error:i}=await Rt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Ct(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:o}=await Rt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:o,error:a}=await Rt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:a}}throw new pf("You must provide either an email or phone number and a type")}catch(n){if(Ct(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Aa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<R0:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Aa(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=I0()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,c,h)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,h))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Rt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Do}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ro}:await Rt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Do})})}catch(n){if(Ct(n))return eH(n)&&(await this._removeSession(),await Ao(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Ro;const o=i.session;let a=null,u=null;this.flowType==="pkce"&&e.email!=null&&([a,u]=await tu(this.storage,this.storageKey));const{data:c,error:h}=await Rt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:u}),jwt:o.access_token,xform:Do});if(h)throw h;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Ct(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ro;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=D0(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:a,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:u}=await this._getUser(e.access_token);if(u)throw u;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(Ct(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new Ro;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ct(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Vi())throw new mf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new mf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new N5("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new mf("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new N5("No code detected.");const{data:R,error:A}=await this._exchangeCodeForSession(e.code);if(A)throw A;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:u,token_type:c}=e;if(!s||!a||!o||!c)throw new mf("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(a);let g=h+f;u&&(g=parseInt(u));const v=g-h;v*1e3<=lu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${f}s`);const _=g-f;h-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,g,h):h-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,g,h);const{data:S,error:C}=await this._getUser(s);if(C)throw C;const j={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:g,refresh_token:o,token_type:c,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:j,redirectType:e.type},error:null}}catch(r){if(Ct(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Aa(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(ZU(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ao(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=cH(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await tu(this.storage,this.storageKey,!0));try{return await Rt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(Ct(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Ct(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,u,c,h;const{data:f,error:g}=s;if(g)throw g;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Rt(this.fetch,"GET",v,{headers:this.headers,jwt:(h=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return Vi()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:e.provider,url:r?.url},error:null}}catch(r){if(Ct(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await Rt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ct(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await pH(async i=>(i>0&&await fH(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Rt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Us})),(i,s)=>{const o=200*Math.pow(2,i);return s&&M0(s)&&Date.now()+o-r<lu})}catch(r){if(this._debug(n,"error",r),Ct(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Vi()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Aa(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Aa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await uu(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o?.user)!==null&&e!==void 0?e:I0()}else if(i&&!i.user&&!i.user){const o=await Aa(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await Ao(this.storage,this.storageKey+"-user"),await uu(this.storage,this.storageKey,i)):i.user=I0()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<R0;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${R0}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),M0(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Ro;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Yp;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new Ro;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),Ct(s)){const o={session:null,error:s};return M0(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(u){s.push(u)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await uu(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=R5(i);await uu(this.storage,this.storageKey,s)}else{const i=R5(n);await uu(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ao(this.storage,this.storageKey),await Ao(this.storage,this.storageKey+"-code-verifier"),await Ao(this.storage,this.storageKey+"-user"),this.userStorage&&await Ao(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Vi()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),lu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/lu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${lu}ms, refresh threshold is ${W1} ticks`),i<=W1&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof cS)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Vi()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await tu(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r?.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Rt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ct(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:u,error:c}=await Rt(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(n){if(Ct(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:a}=await Rt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(Ct(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Rt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ct(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=e?.factors||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=D0(i.access_token);let a=null;o.aal&&(a=o.aal);let u=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const h=o.amr||[];return{data:{currentLevel:a,nextLevel:u,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+XU>i)return r;const{data:s,error:o}=await Rt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:v,error:_}=await this.getSession();if(_||!v.session)return{data:null,error:_};r=v.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:u}}=D0(r);n?.allowExpired||wH(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!c){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:s,header:i,signature:o},error:null}}const h=_H(i.alg),f=await crypto.subtle.importKey("jwk",c,h,!0,["verify"]);if(!await crypto.subtle.verify(h,f,o,aH(`${a}.${u}`)))throw new Y1("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}}}pd.nextInstanceID=0;const FH=pd;class BH extends FH{constructor(e){super(e)}}var zH=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(f){o(f)}}function u(h){try{c(r.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((r=r.apply(t,e||[])).next())})};class $H{constructor(e,n,r){var i,s,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=VU(e),u=new URL(a);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,h={db:IU,realtime:BU,auth:Object.assign(Object.assign({},FU),{storageKey:c}),global:DU},f=qU(r??{},h);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=HU(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new sU(new URL("rest/v1",u).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new LU(this.storageUrl.href,this.headers,this.fetch,r?.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new W$(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return zH(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:a,debug:u},c,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new BH({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:a,debug:u,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new bU(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const UH=(t,e,n)=>new $H(t,e,n);function HH(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const t=process.version.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}HH()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const QH=UH("https://jvbtsubxzytnjnzxmtbg.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp2YnRzdWJ4enl0bmpuenhtdGJnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQyMzMyMzgsImV4cCI6MjA2OTgwOTIzOH0.uUpg4kO7-uLmswUo8Dp_-WZwKw_xKqxRrpGmM2tN02I"),B5=60*1e3,VH=5,gf="searchLoggingData",qH="searches_dev",St={timer:null,commitDelay:B5,data:[],loadLoggingData(){if(St.data.length>0)return St.data;const t=localStorage.getItem(gf);return t&&(St.data=JSON.parse(t)),St.data},updateLoggingData(t,e,n){const r=!e||isNaN(Number(e))?-1:Number(e),s={search:t===void 0&&St.data.length>0?St.data[St.data.length-1].search:t??"",dprt_cd:r,target:n,created_at:Date.now()};if((a=>{if(St.data.length===0)return!1;const u=St.data[St.data.length-1];return u.target<0&&(B0(u.search,a.search)||B0(a.search,u.search))})(s)){const a=St.data[St.data.length-1];a.target=n,a.created_at=Date.now(),B0(s.search,a.search)&&(a.search=s.search),s.dprt_cd>=0&&(a.dprt_cd=s.dprt_cd)}else St.data.push(s);localStorage.setItem(gf,JSON.stringify(St.data)),St.submitDelayCommit()},reconcileLoggingData(){St.data=St.data.filter(t=>!!t.search&&t.dprt_cd<0&&t.target<0),St.data=St.data.filter((t,e)=>!(e>0&&t.search===St.data[e-1].search&&t.dprt_cd===St.data[e-1].dprt_cd&&t.target===-1)),localStorage.setItem(gf,JSON.stringify(St.data))},submitDelayCommit(){if(St.timer&&(clearTimeout(St.timer),St.timer=null),St.data.length>VH){const t=St.data.map(r=>r.created_at),e=t.slice(1).map((r,i)=>r-t[i]),n=e.reduce((r,i)=>r+i,0)/e.length;St.commitDelay=Math.max(B5,n+10*1e3)}St.timer=setTimeout(()=>{St.timer=null,St.commitLoggingData()},St.commitDelay)},commitLoggingData(){St.reconcileLoggingData();const t=St.data.length;if(t===0)return;const e=St.data.map(({search:n,dprt_cd:r,target:i})=>({search:n,dprt_cd:r,target:i}));QH.from(qH).insert(e).then(({error:n})=>{n?console.error("Error committing search logging data:",n):(St.data=St.data.slice(t),localStorage.setItem(gf,JSON.stringify(St.data)))})}};function B0(t,e){const n=Wa(t).toLowerCase(),r=Wa(e).toLowerCase();return n.includes(r)}function Xp(){P.useEffect(()=>{St.loadLoggingData()},[]);function t(r,i){St.updateLoggingData(r,i,-1)}function e(r,i,s){St.updateLoggingData(r,i,s)}function n(r){St.updateLoggingData(void 0,void 0,r)}return{onSearchChange:t,selectTarget:e,selectTargetOnly:n}}function Nv({subjects:t,searchKeywords:e,selectedDays:n,selectedDepartment:r,selectedGrades:i,isFavorite:s,isPinned:o,pickedFavorites:a=()=>!1}){const{onSearchChange:u}=Xp(),{data:c}=sv();if(!t||t.length===0)return[];u(e,r);const h=f=>c?.some(({subjectId:g})=>g===f);return t.filter(f=>{const g=U$(f,r),v=i?$$(f,i):!0,_=n?z$(f,n):!0,S=H$(f,e),C=!s||a(f.subjectId),j=!o||h(f.subjectId);return g&&v&&_&&S&&C&&j})}const z0=45;function dS(t,e="ref",n=".load-more-trigger"){const[r,i]=P.useState(z0),s=P.useRef(null),o=P.useRef(null);return P.useEffect(()=>{i(z0)},[t]),P.useEffect(()=>{const a=new IntersectionObserver(u=>{u.forEach(c=>{c.isIntersecting&&i(h=>h+z0)})},{root:null,rootMargin:"0px",threshold:.5});return o.current=a,e==="ref"&&s.current?a.observe(s.current):e==="selector"&&document.querySelectorAll(n).forEach(c=>a.observe(c)),()=>{a.disconnect()}},[t,e,n]),{visibleRows:r,...e==="ref"?{loadMoreRef:s}:{}}}let Kr;function hS(){return Kr||(Kr=JSON.parse(localStorage.getItem("departmentRank")??"{}"),Kr)}function WH(){Kr&&localStorage.setItem("departmentRank",JSON.stringify(Kr))}function Pv(t){Kr||(Kr=hS()),Kr[t]===void 0?Kr[t]=0:Kr[t]+=1,WH()}function KH(){return Kr||(Kr=hS()),Object.entries(Kr).sort(([,t],[,e])=>e-t)}function GH(t){return P.useMemo(()=>{if(!t)return t;const e=KH(),n=o=>{const a=e.findIndex(([u])=>u===o);return a===-1?5:a};return YH(t).map(o=>{const u=(5-n(o.departmentCode))*250+o.rank*100-Number(o.classCode);return{...o,searchScore:u}}).sort((o,a)=>a.searchScore-o.searchScore).map(({searchScore:o,...a})=>a)},[t])}function YH(t){const e=new Map;t.forEach(r=>{const i=`${r.subjectCode}-${r.departmentCode}`;e.has(i)||e.set(i,{sum:0,count:0});const s=e.get(i);s.sum+=r.totalCount,s.count+=1});const n=new Map;for(const[r,i]of e.entries())n.set(r,i.sum/i.count);return t.map(r=>{const i=`${r.subjectCode}-${r.departmentCode}`,s=n.get(i);return{...r,rank:s}})}function fS({subject:t,className:e,onClick:n,...r}){const{data:i}=sv(),{mutate:s}=z6(),{mutate:o}=FR(),{selectTargetOnly:a}=Xp(),u=i?.some(f=>f.subjectId===t.subjectId),c=u?"  ":"  ",h=f=>{if(!u){o(t.subjectId);return}s(t.subjectId),a(t.subjectId),Pv(t.deptCd),n&&n(f)};return p.jsx("button",{className:"cursor-pointer "+(e??""),title:c,"aria-label":c,onClick:h,...r,children:p.jsx(zp,{disabled:!u})})}const XH=t=>P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16.508930206298828,height:16.008333206176758,viewBox:"0 0 16.508930206298828 16.008333206176758",...t},P.createElement("g",{transform:"matrix(1,0,0,-1,0,32.016666412353516)"},P.createElement("path",{d:"M8.25446,32.016633206176756Q8.72321,31.985433206176758,8.94196,31.579133206176756L11.067,27.172933206176758L15.8482,26.485433206176758Q16.317,26.391633206176756,16.4732,25.95416320617676Q16.5982,25.51666320617676,16.2857,25.20416320617676L12.817,21.76666320617676L13.6295,16.891666206176758Q13.692,16.454166206176758,13.317,16.141666206176758Q12.942,15.891666206176758,12.5357,16.110416206176758L8.25446,18.39166320617676L3.97321,16.110416206176758Q3.56696,15.891666206176758,3.19196,16.172916206176758Q2.81696,16.454166206176758,2.87946,16.891666206176758L3.69196,21.76666320617676L0.223214,25.20416320617676Q-0.0892857,25.51666320617676,0.0357143,25.95416320617676Q0.191964,26.391633206176756,0.660714,26.485433206176758L5.44196,27.172933206176758L7.56696,31.579133206176756Q7.78571,31.985433206176758,8.25446,32.016633206176756ZM8.25446,29.547933206176758L6.59821,26.172933206176758L8.25446,29.547933206176758L6.59821,26.172933206176758Q6.44196,25.82916320617676,6.03571,25.73541320617676L2.34821,25.20416320617676L5.03571,22.54791320617676Q5.28571,22.26666320617676,5.25446,21.89166320617676L4.59821,18.14166320617676L7.91071,19.89166320617676Q8.25446,20.07916320617676,8.59821,19.89166320617676L11.8795,18.14166320617676L11.2545,21.89166320617676Q11.192,22.26666320617676,11.4732,22.54791320617676L14.1607,25.20416320617676L10.4732,25.73541320617676Q10.067,25.82916320617676,9.91071,26.172933206176758L8.25446,29.547933206176758Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),JH=t=>P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16.505903244018555,height:16.001562118530273,viewBox:"0 0 16.505903244018555 16.001562118530273",...t},P.createElement("g",{transform:"matrix(1,0,0,-1,0,32.00312423706055)"},P.createElement("path",{d:"M9.15,31.440662118530273Q8.86875,31.971862118530275,8.24375,32.00316211853027Q7.65,31.971862118530275,7.3375,31.440662118530273L5.3375,27.315662118530273L0.8375,26.628162118530273Q0.24375,26.534362118530275,0.05625,25.97187211853027Q-0.13125,25.37812211853027,0.30625,24.94062211853027L3.55625,21.72187211853027L2.775,17.159372118530275Q2.7125,16.565625118530274,3.18125,16.190625118530274Q3.68125,15.846875118530274,4.24375,16.128125118530274L8.24375,18.253122118530275L12.275,16.128125118530274Q12.8062,15.846875118530274,13.3062,16.190625118530274Q13.8062,16.565625118530274,13.7125,17.159372118530275L12.9625,21.72187211853027L16.2125,24.94062211853027Q16.6187,25.37812211853027,16.4625,25.97187211853027Q16.2437,26.534362118530275,15.65,26.628162118530273L11.15,27.315662118530273L9.15,31.440662118530273Z",fill:"#FACC15",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function pS({disabled:t}){return t?p.jsx(XH,{className:"w-4 h-4"}):p.jsx(JH,{className:"w-4 h-4"})}const X1=Gr((t,e)=>({favorites:JSON.parse(localStorage.getItem("favorites")??"[]"),toggleFavorite:n=>{const r=e().favorites.includes(n);t(i=>{const s=r?i.favorites.filter(o=>o!==n):[...i.favorites,n];return localStorage.setItem("favorites",JSON.stringify(s)),{favorites:s}})},isFavorite:n=>e().favorites.includes(n)}));function mS({subject:t,className:e,onClick:n,...r}){const i=X1(h=>h.isFavorite),s=X1(h=>h.toggleFavorite),[o,a]=P.useState(i(t.subjectId)),u=o?" ":" ",c=h=>{a(f=>!f),s(t.subjectId),n&&n(h)};return p.jsx("button",{className:"cursor-pointer "+(e??""),onClick:c,title:u,"aria-label":u,...r,children:p.jsx(pS,{disabled:!o})})}const Jp=t=>P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16,height:16,viewBox:"0 0 16 16",...t},P.createElement("g",{transform:"matrix(1,0,0,-1,0,32)"},P.createElement("path",{d:"M13,25.5Q12.9688,23.3125,11.75,21.65625L15.7188,17.71875Q16,17.40625,16,17Q16,16.59375,15.7188,16.28125Q15.4062,16,15,16Q14.5938,16,14.2812,16.28125L10.3438,20.25Q8.6875,19.03125,6.5,19Q3.75,19.0625,1.90625,20.90625Q0.0625,22.75,0,25.5Q0.0625,28.25,1.90625,30.0938Q3.75,31.9375,6.5,32Q9.25,31.9375,11.0938,30.0938Q12.9375,28.25,13,25.5ZM6.5,21Q7.71875,21,8.75,21.59375Q9.78125,22.1875,10.4062,23.25Q11,24.3125,11,25.5Q11,26.6875,10.4062,27.75Q9.78125,28.8125,8.75,29.4062Q7.71875,30,6.5,30Q5.28125,30,4.25,29.4062Q3.21875,28.8125,2.59375,27.75Q2,26.6875,2,25.5Q2,24.3125,2.59375,23.25Q3.21875,22.1875,4.25,21.59375Q5.28125,21,6.5,21Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),cu=[{name:"",key:""},{name:"",key:"subjectCode"},{name:"",key:"classCode"},{name:" ",key:"departmentName"},{name:"",key:"subjectName"},{name:"",key:"professorName"},{name:"",key:"totalCount"},{name:"",key:"seat"}];function gS({data:t,isPending:e=!1}){const r=t&&t[0]&&"seat"in t[0]?cu:cu.filter(i=>i.key!=="seat");return p.jsxs("table",{className:"w-full bg-white rounded-lg relative text-sm",children:[p.jsx("thead",{children:p.jsx("tr",{className:"bg-gray-50 sticky top-0 z-10 text-nowrap",children:r.map(({name:i})=>p.jsx("th",{className:"px-4 py-2",children:i},"table-header-name-"+i))})}),p.jsx("tbody",{children:p.jsx(ZH,{data:t,isPending:e})})]})}function ZH({data:t,isPending:e=!1}){const{visibleRows:n}=dS(t??[],"selector"),r=t?t.slice(0,n):[],s=t&&t[0]&&"seat"in t[0]?cu:cu.filter(o=>o.key!=="seat");return e||!t?p.jsx(M6,{row:5,col:cu.length}):t.length?p.jsxs(p.Fragment,{children:[r.map(o=>p.jsx(tQ,{data:o,tableHeaders:s},`${o.subjectCode} ${o.subjectId} ${o.professorName}`)),p.jsx("tr",{className:"load-more-trigger"})]}):p.jsx(eQ,{col:cu.length})}function eQ({col:t}){return p.jsx("tr",{children:p.jsx("td",{colSpan:t,className:"text-center py-4",children:p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx(Jp,{className:"w-12 h-12"}),p.jsx("p",{className:"text-gray-500 font-bold mt-4",children:"  ."}),p.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"   ."})]})})})}const tQ=({data:t,tableHeaders:e})=>{const n=t.curiLangNm==="",i=t.isDeleted?"bg-gray-200 hover:bg-gray-300":n?"bg-green-200 hover:bg-green-300":"bg-white hover:bg-gray-100";return p.jsxs("tr",{className:`border-t border-gray-200 text-black ${i}`,children:[p.jsx("td",{className:"px-4 py-2",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(mS,{subject:t}),p.jsx(fS,{subject:t})]})}),p.jsx(rQ,{data:t,tableHeaders:e})]})},nQ=(t,e)=>t.data.subjectId===e.data.subjectId&&"seat"in t=="seat"in e,rQ=P.memo(({data:t,tableHeaders:e})=>{const{selectTargetOnly:n}=Xp();function r(){n(t.subjectId),Pv(t.departmentCode)}return e.slice(1,10).map(({key:i})=>p.jsx("td",{className:"px-4 py-2 text-center",children:p.jsx(Bn,{to:`/wishes/${t.subjectId}`,onClick:r,children:p.jsx(iQ,{data:t,headerType:i})})},i))},nQ);function iQ({data:t,headerType:e}){switch(e){case"":return p.jsx(p.Fragment,{children:""});case"totalCount":return p.jsx(sQ,{wishCount:t.totalCount});case"seat":return p.jsx(oQ,{seat:t.seat});default:return t[e]?.toString()}}function sQ({wishCount:t}){const e=L6(t);return t>=0?p.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${e}`,children:t}):p.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-gray-300",children:"-"})}function oQ({seat:t}){return t>=0?p.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${Qp(t)}`,children:t}):p.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-gray-300",children:"-"})}const qi=Gr(t=>({searchInput:"",selectedDepartment:"",isFavorite:!1,isPinned:!1,searchParams:{searchInput:"",selectedDepartment:"",isFavorite:!1},setSearchInput:e=>t(()=>({searchInput:e})),setSelectedDepartment:e=>t(()=>({selectedDepartment:e})),setToggleFavorite:()=>t(e=>({isFavorite:!e.isFavorite})),setTogglePinned:()=>t(e=>({isPinned:!e.isPinned})),setSearchParams:e=>t(()=>({searchParams:e}))}));function Zp({onDelete:t,...e}){return p.jsxs("div",{className:"relative flex items-center w-full",children:[p.jsx(Jp,{className:"absolute left-3 top-3 text-gray-500"}),p.jsx("input",{type:"text",className:"pl-10 pr-6 py-2 rounded-md w-full bg-white border border-gray-400 "+(e.className??""),...e}),p.jsx("button",{className:"absolute right-2 top-0 bottom-0 cursor-pointer","aria-label":"  ",onClick:t,children:p.jsx(Eu,{className:"w-3 h-3"})})]})}function aQ(){const t=qi(v=>v.selectedDepartment),e=qi(v=>v.searchInput),n=qi(v=>v.isFavorite),r=qi(v=>v.isPinned),i=qi(v=>v.setSearchInput),s=qi(v=>v.setSelectedDepartment),o=qi(v=>v.setToggleFavorite),a=qi(v=>v.setTogglePinned),u=qi(v=>v.setSearchParams),{data:c}=Pu(),h=[{departmentName:"",departmentCode:""},...c??[]];P.useEffect(()=>{u({searchInput:e,selectedDepartment:t,isFavorite:n})},[e,t,n]);const f=v=>{i(v.target.value)},g=v=>{s(v.target.value)};return p.jsxs("div",{className:"flex flex-wrap gap-2 mt-4 text-sm lg:flex-nowrap lg:flex-row lg:items-center lg:gap-y-0 lg:gap-x-2",children:[p.jsx(Zp,{type:"text",placeholder:"   ",className:"pl-10 pr-4 py-2 rounded-md w-full bg-white border border-gray-400",value:e,onDelete:()=>i(""),onChange:f}),p.jsx("label",{htmlFor:"department",className:"hidden",children:""}),p.jsx("select",{id:"department",className:"pl-2 pr-4 py-2 rounded-md bg-white border border-gray-400",style:{maxWidth:"calc(100vw - 64px)"},value:t,onChange:g,children:h.map(({departmentName:v,departmentCode:_})=>p.jsx("option",{value:_,children:v},_))}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("button",{className:"p-2 rounded-md flex gap-2 items-center border border-gray-400 bg-white hover:bg-gray-100",onClick:o,"aria-label":n?"  ":"  ",title:n?"  ":"  ",children:p.jsx(pS,{disabled:!n})}),p.jsx("button",{className:"p-2 rounded-md flex gap-2 items-center border border-gray-400 bg-white hover:bg-gray-100",onClick:a,"aria-label":n?"  ":"  ",title:n?"  ":"  ",children:p.jsx(zp,{disabled:!r})})]})]})}function lQ(){const t=qi(a=>a.searchParams),e=X1(a=>a.isFavorite),n=qi(a=>a.isPinned),{data:r,isPending:i}=Ou(),s=GH(PR(r,iv)),o=Nv({subjects:s??[],pickedFavorites:e,searchKeywords:t.searchInput,selectedDepartment:t.selectedDepartment,isFavorite:t.isFavorite,isPinned:n});return p.jsxs(p.Fragment,{children:[p.jsx(nr,{children:p.jsx("title",{children:"ALLCLL |  "})}),p.jsx("div",{className:"mx-auto max-w-7xl px-4 md:px-16 mb-8",children:p.jsxs("div",{className:"py-12 px-2",children:[p.jsx("h1",{className:"text-2xl font-bold",children:" "}),p.jsxs("p",{className:"text-gray-500 mt-2",children:["  ",p.jsx("span",{className:"text-blue-500 font-bold",children:" "})," .   ."]}),p.jsx(aQ,{}),p.jsx("div",{className:"bg-white mt-6 shadow-md rounded-lg overflow-x-auto",children:p.jsx(gS,{data:o,isPending:i})})]})})]})}function uQ({children:t}){return p.jsxs("div",{className:"relative max-h-screen overflow-hidden",children:[p.jsx("div",{style:{filter:"blur(4px"},children:t}),p.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex justify-center items-center",children:p.jsx("p",{className:"text-xl font-bold text-gray-700",children:"  "})})]})}ro.register(Yy,Nu,Tu,kd,Ed,jd);var yS=(t=>(t.MAJOR="/",t.UNIVERSITY="",t.DEPARTMENT="",t.COLLEGE="",t))(yS||{});function cQ({data:t,majorName:e}){const[n,r]=P.useState("/"),{data:i}=Pu(),s=IL(i),{doughnutData:o,totalCount:a}=dQ(t,s,e,n);return p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h2",{className:"text-lg font-semibold",children:" "}),p.jsx("label",{className:"hidden",htmlFor:"doughnut-select",children:""}),p.jsx("select",{className:"border px-3 py-1 rounded-md",id:"doughnut-select",value:n,onChange:u=>r(u.target.value),children:Object.values(yS).map(u=>p.jsx("option",{value:u,children:u},u))})]}),a?p.jsx(E6,{data:o}):p.jsx("div",{className:"flex justify-center items-center h-48",children:p.jsx("p",{className:"text-center text-gray-500 font-semibold",children:"   ."})})]})}function dQ(t,e,n,r){let i;const{universityDict:s,collegeDict:o}=e;switch(r){case"/":i=zL(n,t);break;case"":i=$L(t,s);break;case"":i=UL(t,o);break;case"":i=f3(t);break;default:i=f3(t);break}const a=HL(t);return{doughnutData:i,totalCount:a}}function hQ(t){const{data:e}=Ou();if(!e)return{isPending:!0};const n=e?.find(r=>r.subjectId===Number(t));return{isPending:!1,data:n,isLastSemesterWish:!n}}function fQ(t,e=[]){const{data:n}=Ou();return n?{isPending:!1,data:n.filter(i=>i.subjectCode===t&&!e.includes(i.subjectId))}:{isPending:!0}}class Ov extends RangeError{constructor(e){super(e),this.name="ParamsInvalidError"}}class pQ extends Error{constructor(e){super(e),this.name="NotFoundError"}}function mQ(t){return Zi({queryKey:["detail-registers",t],queryFn:()=>gQ(t),staleTime:1/0,retry:yQ})}const gQ=async t=>{const e=await Ep(`/api/baskets/${t}`);if(!e.ok){const n=await e.text(),r=vQ(n);throw r?.status==="400 BAD_REQUEST"?new Ov(r.code):new Error(await e.text())}return e.json()},yQ=(t,e)=>t>=3?!1:!(e instanceof Ov),vQ=t=>{try{return JSON.parse(t)}catch{return null}};ro.register(Yy,Nu,Tu,kd,Ed,jd);const xQ={labels:["4","3","2","1"],datasets:[{data:[50,40,25,20],backgroundColor:"#60a5fa"}]};function bQ(){const t=P4(),{data:e,isPending:n,isLastSemesterWish:r}=hQ(t.id??"-1"),{data:i,error:s}=mQ(t.id??"-1"),{data:o}=fQ(e?.subjectCode??"",e?.subjectId?[e.subjectId]:[]),a=e??iv,u=e?.curiLangNm==="",c=e?.isDeleted??!1;if(n||!a)return p.jsxs(p.Fragment,{children:[p.jsx(nr,{children:p.jsx("title",{children:"ALLCLL |   "})}),p.jsx("div",{className:"min-h-screen bg-gray-50 flex justify-center items-center",children:p.jsx("h1",{className:"text-2xl font-bold",children:"Loading..."})})]});if(s)throw s;return p.jsxs(p.Fragment,{children:[p.jsx(nr,{children:p.jsx("title",{children:"ALLCLL |   "})}),r&&p.jsx("p",{className:"bg-red-100 text-red-500 py-2 px-4 font-bold",children:"   .   ."}),p.jsx("div",{className:"min-h-screen bg-gray-50",children:p.jsx("div",{className:"p-6 max-w-5xl mx-auto",children:p.jsxs(nv,{children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h1",{className:"text-2xl font-bold",children:a.subjectName}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(mS,{subject:a,className:"p-2 border rounded border-gray-300 hover:bg-gray-100"}),p.jsx(fS,{subject:a,className:"p-2 border rounded border-gray-300 hover:bg-gray-100"})]})]}),p.jsxs("p",{className:"text-gray-600",children:[a.subjectCode,"-",a.classCode," | ",a.departmentName," | ",a.professorName]}),p.jsxs("div",{className:"flex items-center gap-2 flex-wrap text-gray-600",children:[p.jsxs("span",{children:[a.studentYear,""]}),p.jsx("span",{children:a.curiTypeCdNm}),p.jsxs("span",{children:[Number(a.tmNum.split("/")[0].trim()),""]}),p.jsxs("span",{children:[" ","| ",a.lesnRoom," | ",a.lesnTime]}),u&&p.jsx("span",{className:"bg-green-100 rounded px-2 py-1 text-green-500 text-xs font-semibold",children:""}),c&&p.jsx("span",{className:"bg-red-100 rounded px-2 py-1 text-red-500 text-xs font-semibold",children:""})]}),p.jsx("p",{className:"text-sm text-gray-500",children:a.remark}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[p.jsx(cQ,{data:i?.eachDepartmentRegisters??[],majorName:a.departmentName}),p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h2",{className:"text-lg font-semibold",children:"  "}),p.jsxs("p",{className:`${L6(a.totalCount)} font-bold text-xl`,children:[" ",a.totalCount,""]})]}),p.jsxs(uQ,{children:[p.jsx("p",{className:"text-sm text-gray-500",children:"   20%      "}),p.jsx("div",{className:"mt-4",children:p.jsx(bL,{data:xQ})})]})]})]}),p.jsxs("div",{className:"mt-6 bg-white p-6 rounded-lg shadow-md",children:[p.jsx("h2",{className:"text-lg font-semibold",children:" "}),p.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"   "}),p.jsx("div",{className:"overflow-x-auto",children:p.jsx(gS,{data:o??[]})})]})]})})})]})}const zc=()=>{const t=cy();return P.useEffect(()=>{Qk(t,{extra:{url:window.location.href,userAgent:navigator.userAgent}})},[t]),p.jsxs(p.Fragment,{children:[p.jsx(nr,{children:p.jsx("title",{children:"ALLCLL |  "})}),p.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[p.jsx("h1",{className:"text-4xl font-bold mb-4",children:" "}),p.jsx("p",{className:"text-lg mb-4",children:" .    "}),p.jsx(Bn,{to:"/",className:"text-blue-500",children:" "}),p.jsx(Bn,{to:"/survey",className:"text-blue-500",children:""})]})]})},vS=()=>p.jsxs(p.Fragment,{children:[p.jsx(nr,{children:p.jsx("title",{children:"ALLCLL |    "})}),p.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[p.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404 -    "}),p.jsx("p",{className:"text-lg mb-4",children:"   "}),p.jsx(Bn,{to:"/",className:"text-blue-500",children:" "})]})]}),wQ=()=>{const t=cy();return t instanceof Ov||t instanceof pQ?p.jsx(vS,{}):p.jsx(zc,{})};function sl({children:t,onClose:e}){P.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}),[]);const n=r=>{r.stopPropagation(),e()};return p.jsxs("div",{className:"flex items-center justify-center fixed inset-0 w-full h-full z-40",role:"none",onClick:n,children:[p.jsx("div",{className:"fixed inset-0 justify-center opacity-30 bg-gray-300 border-b-2 border-gray-400"}),p.jsx("div",{className:"flex items-center justify-center ",children:p.jsx("div",{className:"w-[95%] sm:w-fit z-50 bg-white max-h-[90vh] border border-gray-200 overflow-y-auto",role:"dialog",onClick:r=>r.stopPropagation(),children:t})})]})}function em({title:t,onClose:e}){return p.jsxs("div",{className:"flex justify-between p-4 border-b border-gray-200 ",children:[p.jsx("h2",{className:"font-semibold sm:text-lg text-sm text-gray-900",children:t}),p.jsx("button",{className:"w-5 h-5 text-gray-500 hover:text-gray-700 cursor-pointer",onClick:e,title:"",children:p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-full h-full",children:[p.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),p.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})}const ci=Gr((t,e)=>({type:null,props:void 0,openModal:(n,r)=>{t({type:n,props:r})},closeModal:n=>{const r=e().type;(!n||r===n)&&t({type:null,props:void 0})}}));function ol(){const{data:t}=Ko(),{data:e}=Pu();return((r,i)=>!r||!i?[]:r.map(s=>{const o=i.find(u=>u.departmentCode===s.deptCd)?.departmentName||"",a=o?o.split(" ").reverse()[0]:"";return{subjectId:s.subjectId??-1,subjectCode:s.subjectCode??"",classCode:s.classCode??"",departmentName:a,subjectName:s.subjectName??"",language:s.curiLangNm??"",subjectType:s.curiTypeCdNm??"",semester_at:s.studentYear?Number(s.studentYear):-1,lesn_time:s.lesnTime??"",professorName:s.professorName??"",lesn_room:s.lesnRoom??"",tm_num:s.tmNum??""}}))(t,e)}function _Q(){return Math.floor(1e3+Math.random()*9e3).toString()}const SQ=4;function CQ(){const t=P.useRef(null),[e,n]=P.useState(),[r,i]=P.useState(""),s=P.useRef(""),o=ol(),{closeModal:a,openModal:u}=ci(),{currentSubjectId:c,setSubjectStatus:h,setCaptchaFailed:f}=$p();function g(){const C=_Q();s.current=C,setTimeout(()=>{t.current&&k1(t.current,C)},100)}function v(C){let j=C.target.value;if(/[^0-9]/.test(j)){i("0~9  "),n(j.replace(/[^0-9]/g,""));return}j.length<=SQ?(n(j),i("")):i("4  ")}P.useEffect(()=>{setTimeout(()=>{g()},100)},[]);function _(){qs({eventType:In.CAPTCHA,subjectId:c},o).then(()=>{e?.toString()===s.current?(h(c,Zt.PROGRESS),f(!1)):(h(c,Zt.PROGRESS),f(!0))}).then(()=>{a(),u("simulation")})}function S(){qs({eventType:In.CANCEL_SUBMIT,subjectId:c},o).then(()=>{a("captcha"),f(!1),h(c,Zt.PROGRESS)})}return p.jsx(sl,{onClose:()=>{},children:p.jsxs("div",{className:"sm:w-[500px] bg-white rounded shadow",children:[p.jsx(em,{title:"  (Arti-marco code input)",onClose:S}),p.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 p-4",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsxs("div",{className:"text-sm font-semibold flex flex-row items-center",children:[p.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "})," ",p.jsx("button",{onClick:g,className:"ml-2 px-2 py-1 bg-blue-500 text-white text-sm rounded-xs cursor-pointer hover:bg-blue-600",children:""})]}),p.jsx("div",{className:"flex items-center mt-1",children:p.jsx("canvas",{id:"captcha",width:"105",height:"50",ref:t})})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"text-sm font-semibold  flex flex-row items-center",children:[p.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "}),"  "]}),p.jsx("input",{type:"text",value:e,onChange:C=>v(C),className:"mt-2 w-full border-1 border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring focus:border-gray-800",placeholder:" "}),p.jsx("span",{className:"pl-1 text-xs text-red-500 ",children:r})]})]}),p.jsx("p",{className:"text-sm text-gray-800 mt-10 p-4",children:"               ."}),p.jsxs("div",{className:"flex justify-end border-t px-6 py-4 gap-3 bg-gray-100 text-xs",children:[p.jsx("button",{onClick:_,className:"px-4 py-2 bg-white hover:bg-blue-50 rounded-xs border cursor-pointer",children:""}),p.jsx("button",{onClick:S,className:"px-4 py-2 bg-white hover:bg-blue-50 rounded-xs border cursor-pointer",children:""})]})]})})}const kQ=t=>P.createElement("svg",{width:50,height:50,viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},P.createElement("circle",{cx:25,cy:25,r:25,fill:"#7890CE"}),P.createElement("path",{d:"M20.2339 29.5078L35.0317 17.4276C35.3809 17.1425 35.7883 17 36.2539 17C36.7196 17 37.127 17.1425 37.4762 17.4276C37.8254 17.7127 38 18.0515 38 18.4439C38 18.8364 37.8254 19.1747 37.4762 19.4588L21.4562 32.5724C21.107 32.8575 20.6995 33 20.2339 33C19.7683 33 19.3609 32.8575 19.0117 32.5724L11.5037 26.4432C11.1545 26.1581 10.9868 25.8198 11.0008 25.4283C11.0148 25.0368 11.1969 24.6981 11.5473 24.412C11.8977 24.126 12.3127 23.9835 12.7923 23.9844C13.2718 23.9854 13.6862 24.1279 14.0354 24.412L20.2339 29.5078Z",fill:"white"})),z5={simulationId:-1,simulatonSubjects:[],registeredSubjects:[],nonRegisteredSubjects:[],successedSubjects:[],failedSubjects:[],simulationStatus:"before",clickedTime:0},gs=Gr(t=>({currentSimulation:z5,subjectsStatus:[],setCurrentSimulation:e=>t(n=>({currentSimulation:{...n.currentSimulation,...e}})),resetSimulation:()=>t({currentSimulation:z5,subjectsStatus:[]})})),EQ=[{status:Zt.PROGRESS,topMessage:"   ?",description:"(CourseTitle):"},{status:Zt.SUCCESS,topMessage:"  .   ?",description:"    []  .         []      . []     ."},{status:Zt.FAILED,topMessage:"  !"},{status:Zt.DOUBLED,topMessage:"   !"},{status:Zt.CAPTCHA_FAILED,topMessage:"   "},{status:Zt.NOT_ELIGIBLE,topMessage:"   "}];function jQ({reloadSimulationStatus:t}){const{closeModal:e,openModal:n}=ci(),{currentSubjectId:r,setSubjectStatus:i,subjectStatusMap:s}=$p(),{setCurrentSimulation:o}=gs(),a=ol(),u=s[r],c=EQ.find(A=>A.status===u),h=c?.status??Zt.PROGRESS,f=[Zt.FAILED,Zt.DOUBLED,Zt.CAPTCHA_FAILED].includes(h);if(!c)return null;const g=(A,F=!1)=>{if("errMsg"in A)throw alert(A.errMsg),F&&qa().then(()=>{n("result")}),new Error(A.errMsg)},v=A=>{console.error(" :",A),alert(" :"+A.toString())},_=async A=>{const F=await qs({eventType:In.SUBJECT_SUBMIT,subjectId:A},a);g(F),i(A,F.status),n("simulation")},S=async A=>{const F=await qs({eventType:In.REFRESH,subjectId:A},a);g(F),t(),F.finished&&(o({simulationStatus:"finish"}),console.log(" "),n("result"))},C=async A=>{try{const F=await qs({eventType:In.SKIP_REFRESH,subjectId:A},a);"errMsg"in F?(alert(F.errMsg),await qa(),o({simulationStatus:"finish"}),n("result")):F.finished&&(o({simulationStatus:"finish"}),n("result"))}catch(F){console.error(F)}finally{e("simulation")}},j=async()=>{try{c.status===Zt.PROGRESS?await _(r):c?.status===Zt.SUCCESS?await S(r):f&&await C(r)}catch(A){v(A)}},R=async()=>{try{if(c?.status===Zt.SUCCESS){const A=await qs({eventType:In.SKIP_REFRESH,subjectId:r},a);"errMsg"in A?(alert(A.errMsg),await qa(),o({simulationStatus:"finish"}),n("result")):A.finished?(o({simulationStatus:"finish"}),n("result")):e("simulation")}else if(c?.status===Zt.PROGRESS){const A=await qs({eventType:In.CANCEL_SUBMIT,subjectId:r},a);g(A,!0)}}catch(A){v(A)}};return p.jsx(sl,{onClose:()=>{},children:p.jsxs("div",{className:"flex sm:w-[450px] border-1 border-gray-800 flex-col justify-between overflow-hidden",children:[p.jsx(em,{title:"",onClose:j}),p.jsxs("div",{className:"px-6 pb-6 text-center",children:[p.jsx("div",{className:"flex justify-center mb-4 py-5",children:p.jsx("div",{className:"w-10 h-10",children:p.jsx(kQ,{})})}),p.jsx("p",{className:"text-gray-700 text-base mb-4",children:c.topMessage}),c.description&&p.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:c.description})]}),p.jsxs("div",{className:"flex justify-end  px-6 py-4 gap-3 bg-gray-100 text-xs",children:[c.status===Zt.PROGRESS||c.status===Zt.SUCCESS&&p.jsx("button",{onClick:R,className:"px-4 py-2 bg-white hover:bg-blue-50 rounded-xs border cursor-pointer",children:""}),p.jsx("button",{onClick:j,className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-xs cursor-pointer",children:""})]})]})})}function $5(){const{closeModal:t}=ci();return p.jsx(sl,{onClose:()=>t(),children:p.jsxs("div",{className:"p-6 w-80 bg-white rounded shadow",children:[p.jsx("p",{className:"text-sm text-gray-800 mb-4",children:"  ."}),p.jsx("div",{className:"w-full h-4 bg-gray-200 rounded overflow-hidden",children:p.jsx("div",{className:"h-full bg-blue-400 bg-gradient-to-r from-blue-400 to-blue-600 animate-stripes"})})]})})}function TQ(t,e,n){var r,i;typeof t=="function"?(r=e||[],i=n):(r=[],i=e);var s=en.useRef({hasResult:!1,result:i,error:null}),o=en.useReducer(function(c){return c+1},0);o[0];var a=o[1],u=en.useMemo(function(){var c=typeof t=="function"?t():t;if(!c||typeof c.subscribe!="function")throw t===c?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!s.current.hasResult&&typeof window<"u"&&(typeof c.hasValue!="function"||c.hasValue()))if(typeof c.getValue=="function")s.current.result=c.getValue(),s.current.hasResult=!0;else{var h=c.subscribe(function(f){s.current.result=f,s.current.hasResult=!0});typeof h=="function"?h():h.unsubscribe()}return c},r);if(en.useDebugValue(s.current.result),en.useEffect(function(){var c=u.subscribe(function(h){var f=s.current;(f.error!==null||f.result!==h)&&(f.error=null,f.result=h,f.hasResult=!0,a())},function(h){var f=s.current;f.error!==h&&(f.error=h,a())});return typeof c=="function"?c:c.unsubscribe.bind(c)},r),s.current.error)throw s.current.error;return s.current.result}function Ld(t,e,n){return TQ(function(){return YL(t)},[],n)}const Oc=1/1e3;async function NQ(){return{snapshots:await He.simulation_run.filter(e=>e.ended_at!==-1).toArray()}}async function PQ(t){const e=await iR(t),n=await T6(e.snapshot_id);if(!e||!n)return null;const r=await He.simulation_run_selections.where("simulation_run_id").equals(e.simulation_run_id).toArray(),i=r.map(c=>c.run_selections_id),s=c=>{const h=n.subjects.find(f=>f.interested_id===c);return h?h.subject_id:-1},o=await He.simulation_run_events.filter(c=>i.includes(c.simulation_section_id)).toArray(),a=o.filter(c=>c.event_type===In.CAPTCHA),u=r.reduce((c,h)=>{const f=a.find(g=>g.simulation_section_id===h.run_selections_id);return f?.timestamp?c+f.timestamp-h.started_at:c},0)/r.length;return{started_at:e.started_at,ended_at:e.ended_at,user_ability:{searchBtnSpeed:(e.search_event_at-e.started_at)/1e3,totalSpeed:e.total_elapsed/e.subject_count/1e3,accuracy:e.accuracy,captchaSpeed:u/1e3},timeline:r.map(c=>({interested_id:c.interested_id,subject_id:s(c.interested_id),started_at:c.started_at,ended_at:c.ended_at,status:c.status,events:o.filter(h=>h.simulation_section_id===c.run_selections_id).sort((h,f)=>h.timestamp-f.timestamp).map(h=>({event:h.event_type,timestamp:h.timestamp}))})),subject_results:r.sort((c,h)=>h.started_at-c.started_at).reduce((c,h)=>c.some(f=>f.interested_id===h.interested_id)?c:[...c,h],[]).map(c=>({interested_id:c.interested_id,subject_id:s(c.interested_id),selected_index:c.selected_index,ended_at:c.ended_at,status:c.status}))}}async function xS(){const t=await He.simulation_run.filter(C=>C.ended_at!==-1).toArray(),e=t.length;if(e===0)throw new Error("    .");const n=await He.simulation_run_selections.toArray(),r=await Promise.all(t.map(async C=>{const j=await He.simulation_run_selections.filter($=>$.simulation_run_id===C.simulation_run_id).toArray(),R=j.map($=>$.run_selections_id),A=await He.simulation_run_events.filter($=>$.event_type===In.CAPTCHA&&R.includes($.simulation_section_id)).toArray(),F=(C.search_event_at-C.started_at)*Oc,U=A.reduce(($,K)=>{const H=j.find(z=>z.run_selections_id===K.simulation_section_id);return H?$+(K.timestamp-H.started_at):$},0)*Oc,O=j.reduce(($,K)=>K.ended_at>=0?$+(K.ended_at-K.started_at):$,0)*Oc;return{simulationRunId:C.simulation_run_id,accuracy:C.accuracy,subjectCount:C.subject_count,searchBtnTime:F,captchaTime:U+F,subjectTime:O+F,totalTime:C.total_elapsed*Oc}})),i=await He.interested_snapshot.filter(C=>C.simulated).last();if(!i)throw new Error("   .");const o=(await He.interested_subject.filter(C=>C.snapshot_id===i.snapshot_id).toArray()).map(C=>{const j=n.filter(H=>H.interested_id===C.interested_id),R=j.filter(H=>H.status===Zt.SUCCESS).length,A=j.filter(H=>H.status===Zt.FAILED).length,F=j.filter(H=>H.status===Zt.DOUBLED).length,U=j.length,O=j.reduce((H,z)=>H+z.selected_index,0)/U||0,$=j.filter(H=>H.ended_at>=0&&H.started_at>=0).map(H=>(H.ended_at-H.started_at)*Oc),K=OQ($);return{subjectId:C.subject_id,successCount:R,failedCount:A,doubledCount:F,totalCount:U,avgCompletionTime:K,avgIndex:O}}),a=new Map;for(const C of n){const j=C.simulation_run_id,R=t.find($=>$.simulation_run_id===j);if(!R)continue;const A=await T6(R.snapshot_id);if(!A)continue;const F=A.subjects.find($=>$.interested_id===C.interested_id);if(!F)continue;const U=F.subject_id;a.has(U)||a.set(U,{subject_id:U,success_count:0,total_count:0,completion_time_sum:0});const O=a.get(U);O.total_count++,C.status===1&&(O.success_count++,O.completion_time_sum+=C.ended_at-C.started_at)}const u=Array.from(a.values()).map(C=>({subject_id:C.subject_id,success_count:C.success_count,total_count:C.total_count,success_rate:C.success_count/C.total_count,avg_completion_time:C.success_count>0?C.completion_time_sum/C.success_count/1e3:0})),c=n.reduce((C,j)=>(C[j.status]=(C[j.status]||0)+1,C),{}),h=n.length,f=Object.entries(c).map(([C,j])=>({status:Number(C),count:j,percentage:j/h})),g=t.map(C=>C.simulation_run_id),v=n.filter(C=>g.includes(C.simulation_run_id)).map(C=>C.run_selections_id),_=await He.simulation_run_events.filter(C=>v.includes(C.simulation_section_id)&&C.event_type===In.CAPTCHA).toArray();let S=0;for(const C of _){const j=n.find(R=>R.run_selections_id===C.simulation_section_id);j&&(S+=C.timestamp-j.started_at)}return{total_users:e,avg_started_at:t.reduce((C,j)=>C+j.started_at,0)/e,avg_ended_at:t.reduce((C,j)=>C+j.ended_at,0)/e,avg_elapsed_time:t.reduce((C,j)=>C+(j.ended_at-j.started_at),0)/e/1e3,subject_success_rate:u,status_distribution:f,simulations:r,subjects:o}}function OQ(t){return t.length===0?0:t.reduce((e,n)=>e+n,0)/t.length}function AQ({simulationId:t}){const{closeModal:e,openModal:n}=ci(),[r,i]=P.useState(null),[s,o]=P.useState(),a=Ld(async()=>{try{return await xS()}catch(S){return{error:S.message}}});if(a&&"error"in a)return p.jsx("div",{className:"flex flex-col w-full items-center justify-center h-120 gap-3"});const{simulations:u}=a||{simulations:[]},c=a?{user_ability:{searchBtnSpeed:u.reduce((S,C)=>S+C.searchBtnTime,0)/u.length||0,totalSpeed:u.reduce((S,C)=>S+C.totalTime/C.subjectCount,0)/u.length||0,accuracy:u.reduce((S,C)=>S+C.accuracy,0)/u.length||0,captchaSpeed:u.reduce((S,C)=>S+(C.captchaTime-C.searchBtnTime)/C.subjectCount,0)/u.length||0}}:void 0;if(P.useEffect(()=>{async function S(){oR({simulationId:t}).then(C=>{"errMsg"in C?C.errMsg===N6.SIMULATION_NOT_FOUND?e():alert(C.errMsg):(i(C),o(t))})}S().then()},[]),!r)return p.jsx($5,{});const{accuracy:h,score:f,total_elapsed:g}=r,v=f>=70,_=c?.user_ability?.searchBtnSpeed??0;return!c||!a?p.jsx($5,{}):p.jsxs(sl,{onClose:()=>e(),children:[p.jsxs("div",{className:"w-[100%] sm:w-full max-w-md bg-white rounded-xl shadow-xl p-6 relative overflow-hidden",children:[v&&p.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[p.jsx("div",{className:"animate-float1 absolute top-6 left-6 w-3 h-3 bg-red-400 rounded-full"}),p.jsx("div",{className:"animate-float2 absolute top-16 right-10 w-2 h-2 bg-yellow-400 rounded-full"}),p.jsx("div",{className:"animate-float3 absolute bottom-20 left-12 w-2.5 h-2.5 bg-blue-400 rounded-full"}),p.jsx("div",{className:"animate-float4 absolute bottom-10 right-6 w-3 h-3 bg-pink-400 rounded-full"}),p.jsx("div",{className:"animate-float5 absolute top-1/2 left-1/2 w-2 h-2 bg-purple-400 rounded-full"})]}),p.jsxs("div",{className:"relative z-10 text-center",children:[p.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[" ",p.jsx("span",{className:v?"text-blue-600":"text-red-500",children:v?" !":" "})]}),p.jsxs("span",{className:"text-sm text-gray-700 mt-1",children:[" ",v?" ":" ",""]}),p.jsxs("div",{className:"flex flex-col justify-center items-center",children:[p.jsx("div",{className:"m-2 flex justify-center",children:v?p.jsx("img",{src:"/ci.svg",alt:" ",className:"w-20 h-20"}):p.jsx("span",{className:"text-[50px]",children:""})}),p.jsxs("div",{className:"flex flex-row justify-center gap-6 mt-6",children:[p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("p",{className:"text-sm text-gray-800 mb-1",children:""}),p.jsxs("p",{className:"text-xl text-blue-500 font-bold whitespace-nowrap",children:[f.toFixed(1),p.jsx("span",{className:"text-gray-600",children:""})]})]}),p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("p",{className:"text-sm text-gray-800 mb-1",children:" "}),p.jsxs("p",{className:"text-xl text-gray-600 font-bold whitespace-nowrap",children:[(g/1e3).toFixed(0),""]})]})]}),p.jsxs("div",{className:"flex flex-row justify-center gap-6 mt-6",children:[p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("p",{className:"text-sm text-gray-800 mb-1",children:"    "}),p.jsxs("p",{className:"text-xl text-blue-500 font-bold whitespace-nowrap",children:[c?.user_ability.captchaSpeed.toFixed(2),p.jsx("span",{className:"text-gray-600",children:""})]})]}),p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("p",{className:"text-sm text-gray-800 mb-1",children:"    "}),p.jsxs("p",{className:"text-xl text-blue-500 font-bold whitespace-nowrap",children:[_<=0?0:_.toFixed(2),p.jsx("span",{className:"text-gray-600",children:""})]})]})]})]}),p.jsx("div",{className:"text-left text-sm text-gray-800 mt-4 mb-1",children:""}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-full h-3 bg-gray-200 rounded-full overflow-hidden",children:p.jsx("div",{className:"h-3 bg-indigo-400 rounded-full transition-all duration-300",style:{width:`${h}%`}})}),p.jsxs("p",{className:"text-xl text-gray-600 font-bold whitespace-nowrap",children:[h,"%"]})]}),p.jsxs("div",{className:"flex justify-center gap-3 mt-6",children:[p.jsx("button",{className:"px-4 py-2 border border-gray-400 text-gray-800 rounded-md hover:bg-gray-100 text-sm",onClick:()=>{e(),n("wish")},children:" "}),p.jsx(Cu,{to:`/simulation/logs/${s}`,end:!1,className:"px-4 py-2  bg-blue-500 text-white rounded-md hover:bg-blue-600 text-sm",onClick:()=>{e()},children:"   "})]})]})]}),p.jsx("style",{children:`
        @keyframes float1 {
          0% { transform: translateY(0); }
          50% { transform: translateY(-8px); }
          100% { transform: translateY(0); }
        }
        @keyframes float2 {
          0% { transform: translateY(0); }
          50% { transform: translateY(6px); }
          100% { transform: translateY(0); }
        }
        @keyframes float3 {
          0% { transform: translateY(0); }
          50% { transform: translateY(-6px); }
          100% { transform: translateY(0); }
        }
        @keyframes float4 {
          0% { transform: translateY(0); }
          50% { transform: translateY(4px); }
          100% { transform: translateY(0); }
        }
        @keyframes float5 {
          0% { transform: translateY(0); }
          50% { transform: translateY(-5px); }
          100% { transform: translateY(0); }
        }

        .animate-float1 { animation: float1 3s ease-in-out infinite; }
        .animate-float2 { animation: float2 4s ease-in-out infinite; }
        .animate-float3 { animation: float3 2.5s ease-in-out infinite; }
        .animate-float4 { animation: float4 3.5s ease-in-out infinite; }
        .animate-float5 { animation: float5 3s ease-in-out infinite; }
      `})]})}const LQ=5;function J1(t,e){const n=new Set,r=[];for(const i of[...t].sort(()=>Math.random()-.5)){if(n.size>=e)break;n.has(i.subjectCode)||(n.add(i.subjectCode),r.push(i))}return r}function bS(t){const e=t.split(" ");return e.findIndex(r=>r.includes(""))!==-1?e.slice(1).join(" ").trim():t}function wS(t,e){const n=r=>r.replace(/(||)$/,"");return n(t)===n(e)}function RQ(t){return LQ-t+1}const MQ=(t,e)=>{if(e==="")return _S(t);const n=bS(e),r=t.filter(h=>wS(h.departmentName,n)),i=t.filter(h=>h.departmentName===""),s=r.filter(h=>h.professorName!==null&&h.lesn_time!==null),o=J1(s,3),a=i.filter(h=>h.professorName!==null&&h.lesn_time!==null),u=J1(a,RQ(o.length+1)),c=[...o,...u];for(let h=c.length-1;h>0;h--){const f=Math.floor(Math.random()*(h+1));[c[h],c[f]]=[c[f],c[h]]}return c},Z1=(t,e)=>t.find(n=>e===n.subjectId),_S=t=>J1(t,5),U5=(t,e)=>{const n=bS(e);if(n==="")return _S(t);const r=t.filter(c=>wS(c.departmentName,n)),i=t.filter(c=>c.departmentName===""),s=c=>{const h=new Set;return c.filter(f=>h.has(f.subjectCode)?!1:(h.add(f.subjectCode),!0))},o=s(r).slice(0,3),a=5-o.length,u=s(i).slice(0,a);return[...o,...u]},DQ=t=>{let e=0;const n=[];for(const r of t){const i=Number(r.tm_num.split("/")[0])||0;if(e+i>24)break;e+=i,n.push(r)}return n},IQ=t=>P.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},P.createElement("path",{d:"M8 16.3438C9.45833 16.3229 10.7917 15.9688 12 15.2812C13.2083 14.5729 14.1875 13.5938 14.9375 12.3438C15.6458 11.0729 16 9.73958 16 8.34375C16 6.94788 15.6458 5.61455 14.9375 4.34375C14.1875 3.09375 13.2083 2.11458 12 1.40625C10.7917 0.718717 9.45833 0.36455 8 0.34375C6.54167 0.36455 5.20833 0.718717 4 1.40625C2.79167 2.11458 1.8125 3.09375 1.0625 4.34375C0.354167 5.61455 0 6.94788 0 8.34375C0 9.73958 0.354167 11.0729 1.0625 12.3438C1.8125 13.5938 2.79167 14.5729 4 15.2812C5.20833 15.9688 6.54167 16.3229 8 16.3438ZM11.5312 6.875L7.53125 10.875C7.17708 11.1667 6.82292 11.1667 6.46875 10.875L4.46875 8.875C4.17708 8.52083 4.17708 8.16667 4.46875 7.8125C4.82292 7.52083 5.17708 7.52083 5.53125 7.8125L7 9.28125L10.4688 5.81256C10.8229 5.52083 11.1771 5.52083 11.5312 5.81256C11.8229 6.16669 11.8229 6.52083 11.5312 6.875Z",fill:"#22C55E"}));function FQ(){return p.jsxs("div",{className:"mt-6 text-sm text-gray-800 space-y-2",children:[p.jsxs("h2",{className:"text-left font-semibold mb-4",children:[" ",p.jsx("span",{className:"text-blue-500",children:"Tip!"})]}),["      .","    .","       !","    ."].map((t,e)=>p.jsxs("div",{className:"flex items-center sm:text-sm text-xs ",children:[p.jsx("span",{className:"text-blue-500 mr-2",children:p.jsx(IQ,{})}),p.jsx("span",{className:e===0?"font-semibold text-blue-500 animate-bounce":"",children:t})]},e))]})}function BQ({department:t,setDepartment:e,saveRandomSubjects:n}){const{data:r}=Pu(),i=s=>{if(s===""){n(s);return}r?.find(a=>a.departmentName===s)&&(e({...t,departmentName:s}),n(s))};return p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx("h2",{className:"text-left font-semibold text-sm sm:text-md",children:" "}),p.jsxs("select",{className:"cursor-pointer border border-gray-300 rounded-sm px-2 py-1 w-50 sm:w-120 bg-white mb-4",value:r?.some(s=>s.departmentName===t.departmentName)?t.departmentName:"",onChange:s=>i(s.target.value),children:[p.jsx("option",{value:"",children:"  "}),r?.map(s=>p.jsx("option",{value:s.departmentName,children:s.departmentName},s.departmentCode))]})]})}const zQ=t=>P.createElement("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},P.createElement("path",{d:"M4.50007 8.08504L2.76507 6.35004C2.67158 6.25655 2.54479 6.20403 2.41257 6.20403C2.28036 6.20403 2.15356 6.25655 2.06007 6.35004C1.96658 6.44353 1.91406 6.57033 1.91406 6.70254C1.91406 6.768 1.92696 6.83283 1.95201 6.89331C1.97706 6.95379 2.01378 7.00875 2.06007 7.05504L4.15007 9.14504C4.34507 9.34004 4.66007 9.34004 4.85507 9.14504L10.1451 3.85504C10.2386 3.76155 10.2911 3.63475 10.2911 3.50254C10.2911 3.37033 10.2386 3.24353 10.1451 3.15004C10.0516 3.05655 9.92479 3.00403 9.79257 3.00403C9.66036 3.00403 9.53356 3.05655 9.44007 3.15004L4.50007 8.08504Z",fill:"#047CFE"}));function yp({label:t="checkbox",isChecked:e=!1,onChange:n,...r}){return p.jsxs("label",{htmlFor:"checkbox-"+t,className:"flex flex-row items-center gap-3 text-md ",children:[p.jsxs("div",{className:"relative w-5 h-5",children:[p.jsx("input",{id:"checkbox-"+t,type:"checkbox",checked:e,onChange:n,className:`
            appearance-none w-5 h-5 rounded-sm border cursor-pointer transition-colors
            ${e?"bg-blue-50 border-blue-500":"bg-white border-gray-400"}
          `,...r}),e&&p.jsx(zQ,{className:"absolute inset-0 m-auto w-4 h-4 pointer-events-none text-white"})]}),p.jsx("span",{className:e?"text-blue-500":"text-gray-700",children:t})]})}function $Q({children:t,contentRef:e,className:n=""}){return p.jsx("div",{ref:e,className:`absolute top-full border border-gray-200 mt-2 left-0 z-20 bg-white rounded-lg flex flex-col shadow-lg p-2 w-auto gap-1 min-w-max ${n}`,role:"listbox",children:t})}const UQ=({elem:t,tabRefs:e,initialState:n})=>{const[r,i]=P.useState(n);return P.useEffect(()=>{const s=o=>{(Array.isArray(e)?e:[e]).some(c=>c.current&&c.current.contains(o.target))?i(!0):t.current&&!t.current.contains(o.target)&&i(!1)};return r?window.addEventListener("click",s):window.removeEventListener("click",s),()=>{window.removeEventListener("click",s)}},[r,t,e]),[r,i]};function tm({label:t,selected:e,children:n,className:r=""}){const i=P.useRef(null),s=P.useRef(null),[o,a]=UQ({elem:s,tabRefs:i,initialState:!1}),u=()=>{a(!o)};return p.jsxs("div",{className:"relative inline-block",children:[p.jsx(Yi,{label:t,containerRef:i,chipType:"select",selected:e,onClick:u}),o&&p.jsx($Q,{contentRef:s,className:r,children:n})]})}function HQ({selectedTimetable:t,onSelect:e,setSelectedTimetable:n,timetables:r}){const i=P.useRef(null),s=o=>{n(o),e(o.timeTableId)};return p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx("h2",{className:"text-left font-semibold text-sm sm:text-md",children:" ."}),p.jsxs("div",{className:"relative inline-block max-w-sm",ref:i,children:[p.jsxs(tm,{label:t?.timeTableName??" .",selected:t?.timeTableId!==-1,className:"gap-4 max-h-80 overflow-y-auto",children:[r.length===0&&p.jsx("div",{children:"   ."}),r.length!==0&&r.map(o=>p.jsx("div",{className:"flex gap-5",children:p.jsx(yp,{label:o.timeTableName,isChecked:t.timeTableId===o.timeTableId,onChange:()=>s(o)},o.timeTableId)},o.timeTableName+o.timeTableId))]}),p.jsx(Bn,{to:"/timetable",className:"px-6 py-2 hover:text-blue-500 text-gray-500 rounded-md",children:"  "})]})]})}const QQ=t=>P.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},P.createElement("path",{d:"M3.578 6.48696C4.55072 4.80817 6.1004 3.5401 7.93848 2.91885C9.77657 2.29761 11.7778 2.36554 13.5695 3.10999C15.3613 3.85444 16.8214 5.22467 17.678 6.96555C18.5347 8.70644 18.7294 10.6993 18.2261 12.5731C17.7227 14.4469 16.5556 16.0739 14.9419 17.1512C13.3282 18.2285 11.378 18.6826 9.45441 18.4291C7.53082 18.1755 5.76494 17.2315 4.48557 15.7728C3.20621 14.3141 2.50055 12.4402 2.5 10.5",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"}),P.createElement("path",{d:"M7.5 6.5H3.5V2.5",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"}));function VQ({subjects:t,subjectMode:e,handleRemakeSubjects:n}){const r=t.reduce((i,s)=>{const o=Number(s.tm_num.split("/")[0])||0;return i+o},0);return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex flex-row justify-between mb-4 w-full",children:[p.jsx("h2",{className:"text-left font-semibold",children:" "}),e==="random"&&p.jsxs("button",{onClick:n,className:"flex hover:font-bold hover:text-blue-500 items-center gap-2 cursor-pointer",children:["  ",p.jsx(QQ,{})]}),p.jsxs("p",{children:["  : ",p.jsx("span",{className:"text-blue-500",children:r}),""]})]}),p.jsx("div",{className:"max-h-[250px] max-w-[350px] overflow-x-auto overflow-y-auto sm:max-w-full",children:p.jsxs("table",{className:"min-w-full sm:text-sm text-xs text-left border-t border-b border-gray-200",children:[p.jsx("thead",{className:"bg-gray-100 text-gray-700",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-4 py-2",children:""}),p.jsx("th",{className:"px-4 py-2",children:""}),p.jsx("th",{className:"px-4 py-2",children:""}),p.jsx("th",{className:"px-4 py-2",children:""}),p.jsx("th",{className:"px-4 py-2",children:""})]})}),p.jsx("tbody",{children:t.map(i=>p.jsxs("tr",{className:"border border-gray-200",children:[p.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:i.subjectCode}),p.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:i.classCode}),p.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:i.departmentName}),p.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:i.subjectName}),p.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:i.professorName})]},i.subjectId))})]})})]})}const qQ=({simulationSubjects:t,handleStartGame:e,setToggleTip:n})=>p.jsxs("div",{className:" justify-end flex gap-2",children:[p.jsx("button",{onClick:()=>n(!0),className:`px-6 py-2 ${t.length===0?"bg-gray-300 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"} text-white font-semibold cursor-pointer rounded-md`,children:" "}),p.jsx("button",{onClick:e,disabled:t.length===0,className:`px-6 py-2 ${t.length===0?"bg-gray-300 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"} text-white font-semibold cursor-pointer rounded-md`,children:""})]});function WQ({lectures:t,timetables:e,setIsModalOpen:n}){const{setCurrentSimulation:r}=gs(),{closeModal:i}=ci(),s=vt(H=>H.currentTimetable),o=vt(H=>H.pickTimetable),[a,u]=P.useState([]),[c,h]=P.useState({departmentCode:"",departmentName:""}),[f,g]=P.useState(s),[v,_]=P.useState("timetable"),[S,C]=P.useState(!1),{data:j,isLoading:R}=Tp(f?.timeTableId),A=H=>{const z=U5(t,H);return u(z),z},F=()=>{const H=MQ(t,c.departmentName);u(H)},U=async()=>{if(a.length===0){alert("  .    .");return}try{i(),await ZL(a.map(z=>z.subjectId));const H=await sR("",c.departmentCode,c.departmentName);if("simulationId"in H&&"isRunning"in H&&H.simulationId!==-1&&H.isRunning!==void 0){const{simulationId:z,isRunning:ue}=H;r({simulationId:z,simulationStatus:ue?"start":"before",simulatonSubjects:a})}else console.error("    ",H)}catch(H){console.error("    :",H)}},O=H=>{const z=e.find(ue=>ue.timeTableId===H);if(!z){console.error("    :",H);return}g(z),o(z)},$=H=>{if(u([]),H==="timetable"){_("timetable");return}H==="random"&&_("random")},K=H=>t.find(z=>z.subjectId===H);return P.useEffect(()=>{if(!(!v||R)){if(v==="random"){const H=U5(t,c.departmentName);u(H);return}if(v==="timetable"){if(!j||j.length===0)return;const z=j.filter(de=>de.subjectId!==null&&de.scheduleType!=="custom").map(de=>K(de.subjectId??0)),ue=DQ(z);u(ue)}}},[v,j,R]),p.jsx(sl,{onClose:()=>{n(!1)},children:p.jsxs("div",{className:"flex sm:min-w-[600px] flex-col w-full max-w-[900px] px-2 sm:px-6 py-2 sm:py-6 overflow-y-auto max-h-[90vh]",children:[p.jsx(em,{title:"   ?",onClose:()=>{n(!1)}}),p.jsx("div",{className:"flex flex-row p-2 sm:p-6",children:p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx("h2",{className:"text-left font-semibold text-sm sm:text-md",children:"  ?"}),p.jsxs("div",{className:"flex gap-2 py-2",children:[p.jsx(Yi,{label:" ",selected:v==="timetable",onClick:()=>$("timetable")}),p.jsx(Yi,{label:" ",selected:v==="random",onClick:()=>$("random")})]}),v==="timetable"&&p.jsx(HQ,{timetables:e,selectedTimetable:f,onSelect:O,setSelectedTimetable:g}),v==="random"&&p.jsx(BQ,{department:c,saveRandomSubjects:A,setDepartment:h}),a.length!==0?p.jsx(VQ,{subjectMode:v,subjects:a,handleRemakeSubjects:F}):p.jsx("div",{children:"   ."}),S&&p.jsx(FQ,{})]})}),p.jsx(qQ,{simulationSubjects:a,handleStartGame:U,setToggleTip:C})]})})}function KQ(t,e,n,r,i,s){const o=Math.floor((t+e)/n);let a=r,u=0;for(let c=0;c<=o;c++){const h=c*n;let f=i,g=s;h>4&&(f=48,g=33),a+=f,u+=g}return Math.max(Math.round(a-u),0)}function GQ(){const[t,e]=P.useState(0),[n,r]=P.useState(0),[i,s]=P.useState(1),[o,a]=P.useState(0),u=P.useRef(null),{closeModal:c}=ci(),{currentSimulation:h,setCurrentSimulation:f}=gs(),g=.2,v=98,_=79;P.useEffect(()=>{let C=Math.floor(h.clickedTime/.2)*100+124;const j=C/_*g;for(let R=0;R<=Math.floor(h.clickedTime/g);R++)C+=R*v;r(C),e(Math.ceil(j))},[]),P.useEffect(()=>(u.current=setInterval(()=>{a(j=>{const R=j+1,A=KQ(R,h.clickedTime,g,i,v,_);return s(A),R});const C=Math.floor((t+h.clickedTime)/.2)*_;n<0?r(0):r(j=>j-C),e(j=>{const R=Math.max(j-1,0);return R===0&&u.current&&(clearInterval(u.current),c()),R})},1e3),()=>{u.current&&clearInterval(u.current)}),[t]);const S=()=>{f({simulationStatus:"before"}),c()};return p.jsx(sl,{onClose:()=>c(),children:p.jsxs("div",{className:"sm:w-full max-w-md bg-white rounded-sm shadow-xl p-6 text-center space-y-6",children:[p.jsxs("h2",{className:"text-lg md:text-xl font-semibold text-gray-800",children:[" ",p.jsx("span",{className:"text-blue-600 font-bold",children:" "}),"."]}),p.jsxs("div",{className:"text-sm md:text-base text-gray-600",children:[": ",p.jsx("span",{className:"text-blue-600 font-bold text-xl",children:t}),""]}),p.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:p.jsx("div",{className:"h-full bg-blue-500 transition-all duration-300",style:{width:`${o/(t+o)*100}%`}})}),p.jsxs("div",{className:"text-gray-700 text-sm md:text-base leading-relaxed",children:["  ",p.jsx("span",{className:"text-green-600 font-bold text-xl",children:n<0?0:n}),",  ",p.jsx("span",{className:"text-green-600 font-bold text-xl",children:i}),"  . ",p.jsx("br",{}),"     ,      ."]}),p.jsxs("button",{className:"inline-flex items-center justify-center border-2 border-gray-400 text-gray-800 px-2 py-1 hover:bg-gray-100",onClick:S,children:[p.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),""]}),p.jsx("p",{className:"text-xs md:text-sm text-gray-500",children:"    ."})]})})}function vp(){return p.jsx("tbody",{children:p.jsx("tr",{children:p.jsx("td",{colSpan:13,className:"text-gray-500 py-4",children:p.jsx("div",{className:"min-h-[160px] flex items-center justify-center ",children:p.jsx("p",{className:"bg-stone-100 px-15 py-1 border",children:"  ."})})})})})}const YQ=({index:t,subject:e,isRegisteredTable:n,onClickSubject:r})=>p.jsxs("tr",{className:"hover:bg-gray-50 text-nowrap",children:[p.jsx("td",{className:"border bg-blue-100 px-2 py-1 border-gray-200",children:t+1}),p.jsx("td",{className:"border py-1 border-gray-200",children:p.jsx("button",{className:"bg-blue-500 cursor-pointer text-white text-xs px-3 py-0.5 rounded-xs",disabled:!!n,onClick:()=>r(e.subjectId),children:n?"":""})}),p.jsx("td",{className:"border px-2 py-1 border-gray-200",children:e.subjectCode}),p.jsx("td",{className:"border px-2 py-1 border-gray-200",children:e.classCode}),p.jsx("td",{className:"border px-2 py-1 border-gray-200 text-left",children:e.departmentName}),p.jsx("td",{className:"border px-2 py-1 border-gray-200 text-left",children:e.subjectName}),p.jsx("td",{className:"border px-2 py-1 border-gray-200",children:p.jsx("button",{className:"bg-gray-700 text-xs text-white rounded-xs px-2 py-0.5",children:""})}),p.jsx("td",{className:"border py-1 border-gray-200",children:e.language||"-"}),p.jsx("td",{className:"border  py-1 border-gray-200",children:e.tm_num?e.tm_num.split("/").map((i,s)=>s===0?parseFloat(i).toFixed(1):i).join("/"):"-"}),p.jsx("td",{className:"border px-2 py-1 border-gray-200",children:e.subjectType}),p.jsx("td",{className:"border px-2 py-1 border-gray-200",children:e.semester_at===-1?"":e.semester_at}),p.jsx("td",{className:"border px-2 py-1 border-gray-200",children:e.lesn_time||"-"}),p.jsx("td",{className:"border py-1 border-gray-200",children:p.jsx("button",{className:"bg-gray-700 text-white text-xs px-2 py-0.5 rounded-xs",children:""})})]}),H5=({isRegisteredTable:t})=>{const{currentSimulation:e}=gs(),{openModal:n}=ci(),{setCurrentSubjectId:r}=$p(),i=ol(),s=u=>{qs({eventType:In.APPLY,subjectId:u},i).then(c=>{"errMsg"in c&&alert(c.errMsg)}).catch(c=>{console.error(" :",c)}),r(u),n("captcha")},o=e.nonRegisteredSubjects.concat(e.failedSubjects),a=t?e.successedSubjects:o;return a.length>0?a.map((u,c)=>p.jsx("tbody",{className:"min-h-[300px] border-gray-100",children:p.jsx(YQ,{index:c,subject:u,isRegisteredTable:t,onClickSubject:s})},u.subjectId)):p.jsx(vp,{})},XQ=t=>P.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},P.createElement("path",{d:"M9.5 16C7.68333 16 6.146 15.3707 4.888 14.112C3.63 12.8533 3.00067 11.316 3 9.5C2.99933 7.684 3.62867 6.14667 4.888 4.888C6.14733 3.62933 7.68467 3 9.5 3C11.3153 3 12.853 3.62933 14.113 4.888C15.373 6.14667 16.002 7.684 16 9.5C16 10.2333 15.8833 10.925 15.65 11.575C15.4167 12.225 15.1 12.8 14.7 13.3L20.3 18.9C20.4833 19.0833 20.575 19.3167 20.575 19.6C20.575 19.8833 20.4833 20.1167 20.3 20.3C20.1167 20.4833 19.8833 20.575 19.6 20.575C19.3167 20.575 19.0833 20.4833 18.9 20.3L13.3 14.7C12.8 15.1 12.225 15.4167 11.575 15.65C10.925 15.8833 10.2333 16 9.5 16ZM9.5 14C10.75 14 11.8127 13.5627 12.688 12.688C13.5633 11.8133 14.0007 10.7507 14 9.5C13.9993 8.24933 13.562 7.187 12.688 6.313C11.814 5.439 10.7513 5.00133 9.5 5C8.24867 4.99867 7.18633 5.43633 6.313 6.313C5.43967 7.18967 5.002 8.252 5 9.5C4.998 10.748 5.43567 11.8107 6.313 12.688C7.19033 13.5653 8.25267 14.0027 9.5 14Z",fill:"white"}));function SS(){const{setCurrentSimulation:t,currentSimulation:e}=gs(),{openModal:n}=ci(),r=ol(),i=(a,u,c)=>{const h=a.map(f=>Z1(r,f.subjectId)).filter(f=>f!==void 0);t({simulationId:c,[u]:h}),e.simulationStatus==="progress"&&n("waiting")};function s(a,u,c){if(u==="successedSubjects"){const h=c.filter(f=>f.status===1).map(f=>f.subjectId);return a.filter(f=>h.includes(f.subjectId))}else{const h=c.filter(f=>f.status===2).map(f=>f.subjectId);return a.filter(f=>h.includes(f.subjectId))}}return{reloadSimulationStatus:()=>{eR().then(a=>{if(!(!a||a.simulationId===-1)&&(t({simulationId:a.simulationId}),a?.nonRegisteredSubjects&&i(a.nonRegisteredSubjects,"nonRegisteredSubjects",a.simulationId),a?.registeredSubjects)){const u=s(a.registeredSubjects,"successedSubjects",a.subjectStatus),c=s(a.registeredSubjects,"failedSubejcts",a.subjectStatus);i(u,"successedSubjects",a.simulationId),i(c,"failedSubjects",a.simulationId),i(a.registeredSubjects,"registeredSubjects",a.simulationId)}}).catch(a=>{console.log(a)})}}}function JQ(){const{setCurrentSimulation:t,resetSimulation:e}=gs(),{openModal:n}=ci(),r=Ld(dd),{reloadSimulationStatus:i}=SS(),s=ol(),o=r&&"simulationId"in r?r.simulationId:-1,a=r&&"userStatus"in r?r.userStatus?.departmentName:-1,u=()=>{t({simulationStatus:"before"}),n("wish"),e()},c=()=>{dd().then(g=>{g&&"simulationId"in g&&g.simulationId!==-1&&i()})},h=async()=>{c(),qs({eventType:In.SEARCH},s).then(g=>{if("errMsg"in g)alert("  .    !");else{const v=g.elapsed_time/1e3;t({simulationStatus:"progress",clickedTime:v>10?5:v}),n("waiting")}}).catch(g=>{console.error(" :",g)})},f=async()=>{try{await qa(),t({simulationStatus:"finish"}),n("result")}catch(g){console.error(g),alert("  .")}};return p.jsx("section",{className:"border p-2 text-xs",children:p.jsxs("div",{className:"flex flex-col gap-1 sm:gap-4",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 sm:gap-8",children:[p.jsxs("div",{className:"flex justify-end items-center sm:justify-start gap-2",children:[p.jsx("span",{className:"font-bold",children:" "}),p.jsx("select",{className:"border border-gray-300 px-2 py-1 w-48 disabled:bg-gray-100",disabled:!0,children:p.jsx("option",{className:"text-gray-100"})})]}),p.jsxs("div",{className:"flex justify-end items-center sm:justify-start gap-2",children:[p.jsx("span",{className:"font-bold",children:"/"}),p.jsx("select",{className:"border-gray-300 border px-2 py-1 w-48 disabled:bg-gray-100 cursor-not-allowed",disabled:!0,children:p.jsx("option",{})})]})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 sm:gap-8",children:[p.jsxs("div",{className:"flex justify-end items-center sm:justify-start gap-2",children:[p.jsx("span",{className:"font-bold ",children:"()"}),p.jsx("select",{className:"border-gray-300 text-gray-400 border px-2 py-1 w-48 disabled:bg-gray-100 cursor-not-allowed",disabled:!0,children:p.jsx("option",{children:""})})]}),p.jsxs("div",{className:"flex justify-end items-center sm:justify-start gap-2",children:[p.jsx("span",{className:"font-bold",children:"()"}),p.jsx("select",{className:"border-gray-300 text-gray-400 border px-2 py-1 w-48 disabled:bg-gray-100 cursor-not-allowed",disabled:!0,children:p.jsx("option",{children:""})})]})]}),p.jsxs("div",{className:"flex flex-col sm:flex-col md:flex-row justify-between gap-2",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[p.jsxs("div",{className:"flex justify-end items-center sm:justify-start gap-2",children:[p.jsx("span",{className:"font-bold",children:""}),p.jsx("select",{className:"border-gray-300  text-gray-400 border px-2 py-1 w-48 disabled:bg-gray-100 cursor-not-allowed",disabled:!0,children:p.jsx("option",{children:""})})]}),p.jsxs("div",{className:"flex justify-end items-center sm:justify-start gap-1",children:[p.jsx("span",{className:"font-bold",children:""}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-1",children:[p.jsx("select",{className:"border-gray-300  text-gray-400 border px-2 py-1 w-48 sm:w-30 disabled:bg-gray-100 cursor-not-allowed",disabled:!0,children:p.jsx("option",{children:""})}),p.jsx("select",{className:"cursor-not-allowed border px-2 py-1 w-40 lg:w-90 border-gray-300 disabled:bg-gray-100 ",value:a,disabled:!0})]})]})]}),p.jsxs("div",{className:"flex flex-row justify-between gap-2",children:[p.jsx("div",{className:"flex flex-row ",children:o!==-1?p.jsx("button",{onClick:f,className:"px-3 py-2 bg-blue-500 cursor-pointer rounded flex flex-row gap-1 text-white",children:" "}):p.jsx("button",{className:"px-3 py-2 bg-blue-500 cursor-pointer rounded flex flex-row gap-1 text-white",onClick:u,children:""})}),p.jsxs("button",{onClick:h,className:`px-3 py-2 rounded flex flex-row gap-1 text-white ${o===-1?"bg-gray-400 cursor-not-allowed":"bg-gradient-animation cursor-pointer"}`,disabled:o===-1,children:[p.jsx(XQ,{className:"w-5 h-4"}),""]})]})]})]})})}function ZQ(){const[t,e]=P.useState("00:00"),n=ci(u=>u.openModal),r=gs(u=>u.currentSimulation),i=gs(u=>u.setCurrentSimulation),s=P.useRef(null),o=u=>{const c=Math.floor(u%3600/60),h=u%60;e(`${c.toString().padStart(2,"0")}:${h.toString().padStart(2,"0")}`)},a=async()=>{try{await qa(),i({simulationStatus:"finish"}),n("result")}catch(u){console.error(u),alert("   .")}};return P.useEffect(()=>((async()=>{if(r.simulationStatus==="finish"){e("00:00");return}try{const c=await Up();if(!(c?.started_at&&c.simulation_run_id===r.simulationId))return;const f=c.started_at;s.current=setInterval(()=>{const g=Date.now(),v=Math.floor((g-f)/1e3);if(v>=tv){clearInterval(s.current),alert("5    ."),a().then();return}o(v),r.simulationStatus==="finish"&&(clearInterval(s.current),e("00:00"))},1e3)}catch(c){console.error(c)}})().then(),()=>{s.current&&(clearInterval(s.current),s.current=null)}),[r.simulationStatus,r.simulationId]),p.jsx("p",{className:"font-semibold text-xl text-blue-500",children:t})}var $0,Q5;function eV(){return Q5||(Q5=1,$0=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}),$0}var tV=eV();const nV=di(tV);var yf={exports:{}},U0,V5;function rV(){if(V5)return U0;V5=1;var t;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/return t=function(){var e={},n={};return e.on=function(r,i){var s={name:r,handler:i};return n[r]=n[r]||[],n[r].unshift(s),s},e.off=function(r){var i=n[r.name].indexOf(r);i!==-1&&n[r.name].splice(i,1)},e.trigger=function(r,i){var s=n[r],o;if(s)for(o=s.length;o--;)s[o].handler(i)},e},U0=t,U0}var vf={exports:{}},H0,q5;function iV(){if(q5)return H0;q5=1,H0=function(i,s,o){var a=document.head||document.getElementsByTagName("head")[0],u=document.createElement("script");typeof s=="function"&&(o=s,s={}),s=s||{},o=o||function(){},u.type=s.type||"text/javascript",u.charset=s.charset||"utf8",u.async="async"in s?!!s.async:!0,u.src=i,s.attrs&&t(u,s.attrs),s.text&&(u.text=""+s.text);var c="onload"in u?e:n;c(u,o),u.onload||e(u,o),a.appendChild(u)};function t(r,i){for(var s in i)r.setAttribute(s,i[s])}function e(r,i){r.onload=function(){this.onerror=this.onload=null,i(null,r)},r.onerror=function(){this.onerror=this.onload=null,i(new Error("Failed to load "+this.src),r)}}function n(r,i){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,i(null,r))}}return H0}var W5;function sV(){return W5||(W5=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=iV(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}e.default=function(s){var o=new Promise(function(a){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){a(window.YT);return}else{var u=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(u+"//www.youtube.com/iframe_api",function(h){h&&s.trigger("error",h)})}var c=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){c&&c(),a(window.YT)}});return o},t.exports=e.default}(vf,vf.exports)),vf.exports}var xf={exports:{}},bf={exports:{}},wf={exports:{}},Q0,K5;function oV(){if(K5)return Q0;K5=1;var t=1e3,e=t*60,n=e*60,r=n*24,i=r*365.25;Q0=function(c,h){h=h||{};var f=typeof c;if(f==="string"&&c.length>0)return s(c);if(f==="number"&&isNaN(c)===!1)return h.long?a(c):o(c);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))};function s(c){if(c=String(c),!(c.length>100)){var h=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(c);if(h){var f=parseFloat(h[1]),g=(h[2]||"ms").toLowerCase();switch(g){case"years":case"year":case"yrs":case"yr":case"y":return f*i;case"days":case"day":case"d":return f*r;case"hours":case"hour":case"hrs":case"hr":case"h":return f*n;case"minutes":case"minute":case"mins":case"min":case"m":return f*e;case"seconds":case"second":case"secs":case"sec":case"s":return f*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}function o(c){return c>=r?Math.round(c/r)+"d":c>=n?Math.round(c/n)+"h":c>=e?Math.round(c/e)+"m":c>=t?Math.round(c/t)+"s":c+"ms"}function a(c){return u(c,r,"day")||u(c,n,"hour")||u(c,e,"minute")||u(c,t,"second")||c+" ms"}function u(c,h,f){if(!(c<h))return c<h*1.5?Math.floor(c/h)+" "+f:Math.ceil(c/h)+" "+f+"s"}return Q0}var G5;function aV(){return G5||(G5=1,function(t,e){e=t.exports=i.debug=i.default=i,e.coerce=u,e.disable=o,e.enable=s,e.enabled=a,e.humanize=oV(),e.names=[],e.skips=[],e.formatters={};var n;function r(c){var h=0,f;for(f in c)h=(h<<5)-h+c.charCodeAt(f),h|=0;return e.colors[Math.abs(h)%e.colors.length]}function i(c){function h(){if(h.enabled){var f=h,g=+new Date,v=g-(n||g);f.diff=v,f.prev=n,f.curr=g,n=g;for(var _=new Array(arguments.length),S=0;S<_.length;S++)_[S]=arguments[S];_[0]=e.coerce(_[0]),typeof _[0]!="string"&&_.unshift("%O");var C=0;_[0]=_[0].replace(/%([a-zA-Z%])/g,function(R,A){if(R==="%%")return R;C++;var F=e.formatters[A];if(typeof F=="function"){var U=_[C];R=F.call(f,U),_.splice(C,1),C--}return R}),e.formatArgs.call(f,_);var j=h.log||e.log||console.log.bind(console);j.apply(f,_)}}return h.namespace=c,h.enabled=e.enabled(c),h.useColors=e.useColors(),h.color=r(c),typeof e.init=="function"&&e.init(h),h}function s(c){e.save(c),e.names=[],e.skips=[];for(var h=(typeof c=="string"?c:"").split(/[\s,]+/),f=h.length,g=0;g<f;g++)h[g]&&(c=h[g].replace(/\*/g,".*?"),c[0]==="-"?e.skips.push(new RegExp("^"+c.substr(1)+"$")):e.names.push(new RegExp("^"+c+"$")))}function o(){e.enable("")}function a(c){var h,f;for(h=0,f=e.skips.length;h<f;h++)if(e.skips[h].test(c))return!1;for(h=0,f=e.names.length;h<f;h++)if(e.names[h].test(c))return!0;return!1}function u(c){return c instanceof Error?c.stack||c.message:c}}(wf,wf.exports)),wf.exports}var Y5;function lV(){return Y5||(Y5=1,function(t,e){var n={};e=t.exports=aV(),e.log=s,e.formatArgs=i,e.save=o,e.load=a,e.useColors=r,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:u(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(c){try{return JSON.stringify(c)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}};function i(c){var h=this.useColors;if(c[0]=(h?"%c":"")+this.namespace+(h?" %c":" ")+c[0]+(h?"%c ":" ")+"+"+e.humanize(this.diff),!!h){var f="color: "+this.color;c.splice(1,0,f,"color: inherit");var g=0,v=0;c[0].replace(/%[a-zA-Z%]/g,function(_){_!=="%%"&&(g++,_==="%c"&&(v=g))}),c.splice(v,0,f)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(c){try{c==null?e.storage.removeItem("debug"):e.storage.debug=c}catch{}}function a(){var c;try{c=e.storage.debug}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}e.enable(a());function u(){try{return window.localStorage}catch{}}}(bf,bf.exports)),bf.exports}var _f={exports:{}},X5;function uV(){return X5||(X5=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],t.exports=e.default}(_f,_f.exports)),_f.exports}var Sf={exports:{}},J5;function cV(){return J5||(J5=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],t.exports=e.default}(Sf,Sf.exports)),Sf.exports}var Cf={exports:{}},kf={exports:{}},Z5;function dV(){return Z5||(Z5=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},t.exports=e.default}(kf,kf.exports)),kf.exports}var e4;function hV(){return e4||(e4=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=dV(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}e.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},t.exports=e.default}(Cf,Cf.exports)),Cf.exports}var t4;function fV(){return t4||(t4=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=lV(),r=h(n),i=uV(),s=h(i),o=cV(),a=h(o),u=hV(),c=h(u);function h(v){return v&&v.__esModule?v:{default:v}}var f=(0,r.default)("youtube-player"),g={};g.proxyEvents=function(v){var _={},S=function($){var K="on"+$.slice(0,1).toUpperCase()+$.slice(1);_[K]=function(H){f('event "%s"',K,H),v.trigger($,H)}},C=!0,j=!1,R=void 0;try{for(var A=a.default[Symbol.iterator](),F;!(C=(F=A.next()).done);C=!0){var U=F.value;S(U)}}catch(O){j=!0,R=O}finally{try{!C&&A.return&&A.return()}finally{if(j)throw R}}return _},g.promisifyPlayer=function(v){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,S={},C=function(K){_&&c.default[K]?S[K]=function(){for(var H=arguments.length,z=Array(H),ue=0;ue<H;ue++)z[ue]=arguments[ue];return v.then(function(de){var pe=c.default[K],q=de.getPlayerState(),V=de[K].apply(de,z);return pe.stateChangeRequired||Array.isArray(pe.acceptableStates)&&pe.acceptableStates.indexOf(q)===-1?new Promise(function(Z){var re=function ne(){var me=de.getPlayerState(),D=void 0;typeof pe.timeout=="number"&&(D=setTimeout(function(){de.removeEventListener("onStateChange",ne),Z()},pe.timeout)),Array.isArray(pe.acceptableStates)&&pe.acceptableStates.indexOf(me)!==-1&&(de.removeEventListener("onStateChange",ne),clearTimeout(D),Z())};de.addEventListener("onStateChange",re)}).then(function(){return V}):V})}:S[K]=function(){for(var H=arguments.length,z=Array(H),ue=0;ue<H;ue++)z[ue]=arguments[ue];return v.then(function(de){return de[K].apply(de,z)})}},j=!0,R=!1,A=void 0;try{for(var F=s.default[Symbol.iterator](),U;!(j=(U=F.next()).done);j=!0){var O=U.value;C(O)}}catch($){R=!0,A=$}finally{try{!j&&F.return&&F.return()}finally{if(R)throw A}}return S},e.default=g,t.exports=e.default}(xf,xf.exports)),xf.exports}var n4;function pV(){return n4||(n4=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},r=rV(),i=c(r),s=sV(),o=c(s),a=fV(),u=c(a);function c(f){return f&&f.__esModule?f:{default:f}}var h=void 0;e.default=function(f){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,_=(0,i.default)();if(h||(h=(0,o.default)(_)),g.events)throw new Error("Event handlers cannot be overwritten.");if(typeof f=="string"&&!document.getElementById(f))throw new Error('Element "'+f+'" does not exist.');g.events=u.default.proxyEvents(_);var S=new Promise(function(j){if((typeof f>"u"?"undefined":n(f))==="object"&&f.playVideo instanceof Function){var R=f;j(R)}else h.then(function(A){var F=new A.Player(f,g);return _.on("ready",function(){j(F)}),null})}),C=u.default.promisifyPlayer(S,v);return C.on=_.on,C.off=_.off,C},t.exports=e.default}(yf,yf.exports)),yf.exports}var mV=pV();const gV=di(mV);var yV=Object.defineProperty,vV=Object.defineProperties,xV=Object.getOwnPropertyDescriptors,r4=Object.getOwnPropertySymbols,bV=Object.prototype.hasOwnProperty,wV=Object.prototype.propertyIsEnumerable,i4=(t,e,n)=>e in t?yV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ey=(t,e)=>{for(var n in e||(e={}))bV.call(e,n)&&i4(t,n,e[n]);if(r4)for(var n of r4(e))wV.call(e,n)&&i4(t,n,e[n]);return t},ty=(t,e)=>vV(t,xV(e)),_V=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(c){i(c)}},o=u=>{try{a(n.throw(u))}catch(c){i(c)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(t,e)).next())});function SV(t,e){var n,r;if(t.videoId!==e.videoId)return!0;const i=((n=t.opts)==null?void 0:n.playerVars)||{},s=((r=e.opts)==null?void 0:r.playerVars)||{};return i.start!==s.start||i.end!==s.end}function s4(t={}){return ty(ey({},t),{height:0,width:0,playerVars:ty(ey({},t.playerVars),{autoplay:0,start:0,end:0})})}function CV(t,e){return t.videoId!==e.videoId||!nV(s4(t.opts),s4(e.opts))}function kV(t,e){var n,r,i,s;return t.id!==e.id||t.className!==e.className||((n=t.opts)==null?void 0:n.width)!==((r=e.opts)==null?void 0:r.width)||((i=t.opts)==null?void 0:i.height)!==((s=e.opts)==null?void 0:s.height)||t.iframeClassName!==e.iframeClassName||t.title!==e.title}var EV={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},jV={videoId:jt.string,id:jt.string,className:jt.string,iframeClassName:jt.string,style:jt.object,title:jt.string,loading:jt.oneOf(["lazy","eager"]),opts:jt.objectOf(jt.any),onReady:jt.func,onError:jt.func,onPlay:jt.func,onPause:jt.func,onEnd:jt.func,onStateChange:jt.func,onPlaybackRateChange:jt.func,onPlaybackQualityChange:jt.func},zf=class extends en.Component{constructor(t){super(t),this.destroyPlayerPromise=void 0,this.onPlayerReady=e=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,e)},this.onPlayerError=e=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,e)},this.onPlayerStateChange=e=>{var n,r,i,s,o,a,u,c;switch((r=(n=this.props).onStateChange)==null||r.call(n,e),e.data){case zf.PlayerState.ENDED:(s=(i=this.props).onEnd)==null||s.call(i,e);break;case zf.PlayerState.PLAYING:(a=(o=this.props).onPlay)==null||a.call(o,e);break;case zf.PlayerState.PAUSED:(c=(u=this.props).onPause)==null||c.call(u,e);break}},this.onPlayerPlaybackRateChange=e=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,e)},this.onPlayerPlaybackQualityChange=e=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,e)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const e=ty(ey({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=gV(this.container,e),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var e;(e=this.internalPlayer)==null||e.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var e,n,r,i;if(typeof this.props.videoId>"u"||this.props.videoId===null){(e=this.internalPlayer)==null||e.stopVideo();return}let s=!1;const o={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(s=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(o.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(o.endSeconds=this.props.opts.playerVars.end)),s){(r=this.internalPlayer)==null||r.loadVideoById(o);return}(i=this.internalPlayer)==null||i.cueVideoById(o)},this.refContainer=e=>{this.container=e},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(t){return _V(this,null,function*(){kV(t,this.props)&&this.updatePlayer(),CV(t,this.props)&&(yield this.resetPlayer()),SV(t,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return en.createElement("div",{className:this.props.className,style:this.props.style},en.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},nm=zf;nm.propTypes=jV;nm.defaultProps=EV;nm.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var TV=nm;function NV(){const[t,e]=P.useState(!1);return P.useEffect(()=>{const n=()=>{e(window.innerWidth<=768)};return n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[]),t}const V0=[{id:1,videoId:"BTNgos01s1o",title:"1:   "},{id:2,videoId:"yYq-sXZmS9I",title:"2:   "},{id:3,videoId:"mEi-n2kEs94",title:"3:  "},{id:4,videoId:"xmD5YuZtJv4",title:"4:    "}];function PV(){const[t,e]=P.useState(0),{closeModal:n,openModal:r}=ci(),s=NV()?{width:"250",height:"141"}:{width:"600",height:"338"},o=()=>{e(c=>c===0?V0.length-1:c-1)},a=()=>{e(c=>c===V0.length-1?0:c+1)},u=V0[t];return p.jsxs(sl,{onClose:n,children:[p.jsx(em,{title:" ",onClose:()=>n()}),p.jsxs("div",{className:"w-full flex flex-col p-4",children:[p.jsx("div",{className:"mx-auto",style:{width:s.width+"px",height:s.height+"px"},children:p.jsx(TV,{videoId:u.videoId,opts:{width:s.width,height:s.height,playerVars:{autoplay:1,mute:1,playlist:u.videoId}},onEnd:a})}),p.jsxs("div",{className:"mt-4 flex flex-col justify-center items-center gap-2",children:[p.jsxs("div",{className:"flex justify-center items-center gap-5",children:[p.jsx("button",{className:"cursor-pointer w-5 h-5",onClick:o,children:t!==0&&p.jsx(fp,{className:"w-5 h-5 transform rotate-90"})}),p.jsx("h2",{className:"text-gray-700 text-xl font-semibold",children:u.title}),p.jsx("button",{className:"cursor-pointer",onClick:a,children:t<3&&p.jsx(fp,{className:"w-5 h-5 transform -rotate-90"})})]}),p.jsx("p",{className:"text-gray-500 text-sm",children:"         ."}),p.jsx("p",{className:"text-gray-500 text-sm",children:"     ,   ,         ."}),p.jsx("div",{className:"flex gap-4 mt-4 justify-end",children:p.jsx("button",{onClick:()=>{n(),r("wish")},className:"px-4 cursor-pointer text-white py-2 bg-blue-500 hover:bg-blue-600 rounded-md",children:" "})})]})]})]})}const OV=["","","","","","","","","//","","","",""];function o4(){return p.jsx("thead",{className:"bg-gray-100",children:p.jsx("tr",{className:"text-nowrap",children:OV.map(t=>p.jsx("th",{className:"border border-gray-300 px-2 py-1",children:t},t))})})}function AV(){const{type:t,openModal:e,closeModal:n}=ci(),r=gs(v=>v.currentSimulation),i=gs(v=>v.setCurrentSimulation),{reloadSimulationStatus:s}=SS(),o=ol(),{data:a=[]}=f_(),u=ci(v=>v.type),c=async()=>{try{await qa(),i({simulationStatus:"finish"}),alert("5    ."),e("result")}catch(v){console.error(v),alert("   .")}},h=()=>{dd().then(v=>{if(v&&"simulationId"in v&&v.simulationId!==-1){const _=v.startedAt;if(!_)return;const S=Date.now();Math.floor((S-_)/1e3)>tv?c().then():s()}else r.simulationStatus==="before"&&e("tutorial")})};P.useEffect(()=>{h()},[r.simulationStatus]);const f=r.successedSubjects.reduce((v,_)=>{const S=_.tm_num.split("/")[0];return v+parseInt(S,10)},0),g=()=>{switch(t){case"tutorial":return p.jsx(PV,{});case"waiting":return p.jsx(GQ,{});case"captcha":return p.jsx(CQ,{});case"wish":return p.jsx(WQ,{timetables:a,lectures:o,setIsModalOpen:()=>n()});case"simulation":return p.jsx(jQ,{reloadSimulationStatus:s});case"result":return p.jsx(AQ,{simulationId:r.simulationId});default:return null}};return p.jsxs(p.Fragment,{children:[p.jsx(nr,{children:p.jsx("title",{children:"ALLCLL | "})}),g(),p.jsxs("div",{className:"flex gap-5",children:[p.jsx("h1",{className:"font-bold text-lg",children:""}),p.jsx(ZQ,{})]}),p.jsx(JQ,{}),p.jsxs("section",{className:"mt-4 ",children:[p.jsx("div",{className:"font-semibold pl-2 mb-2 border-l-4 border-blue-500",children:"  "}),p.jsx("div",{className:"overflow-x-auto min-h-[300px] border-gray-300",children:p.jsxs("table",{className:"w-full border border-gray-300 border-t-3 text-xs border-t-black text-center",children:[p.jsx(o4,{}),r.simulationStatus==="progress"&&u!=="waiting"?p.jsx(H5,{isRegisteredTable:!1}):p.jsx(vp,{})]})})]}),p.jsxs("section",{className:"mt-4",children:[p.jsxs("div",{className:"w-full flex flex-col sm:flex-row sm:items-center justify-start gap-2 mb-2",children:[p.jsx("div",{className:"flex flex-col sm:flex-row items-baseline gap-2",children:p.jsx("span",{className:"font-semibold pl-2 border-l-4 border-blue-500",children:"  "})}),p.jsxs("div",{className:"flex flex-row gap-2",children:[p.jsx("button",{className:"text-xs w-14 bg-blue-500 text-white px-2 py-0.5 rounded-xs cursor-pointer",onClick:s,children:""}),p.jsxs("div",{className:"text-xs font-bold text-black",children:["  : 18 /",p.jsxs("span",{className:"text-blue-500",children:[" : ",r.registeredSubjects.length," /  : ",f]})]})]})]}),p.jsx("div",{className:"overflow-x-auto min-h-[300px] border-gray-300",children:p.jsxs("table",{className:"w-full border border-gray-300 border-t-3 text-xs border-t-black text-center",children:[p.jsx(o4,{}),r.simulationStatus==="progress"&&u!=="waiting"?p.jsx(H5,{isRegisteredTable:!0}):p.jsx(vp,{})]})})]})]})}ro.register(Ed,jd,kd,Xy,ju,v6,Nu,Tu);function LV({result:t}){const[e,n]=P.useState(!0),r=e?t.simulations.filter(g=>g.totalTime<=80&&g.searchBtnTime>0):t.simulations,i=r.map((g,v)=>` ${v+1}`),s=r.map(g=>g.searchBtnTime),o=r.map(g=>g.captchaTime-g.searchBtnTime),a=r.map(g=>g.subjectTime-g.captchaTime),u=r.map(g=>g.totalTime-g.subjectTime),c=r&&r.length<50?16:8,h={labels:i,datasets:[{type:"bar",label:"  ",data:s,barThickness:c,backgroundColor:"rgba(75, 192, 192, 0.7)",stack:"Stack 0"},{type:"bar",label:"   ",data:o,barThickness:c,backgroundColor:"rgba(255, 99, 132, 0.7)",stack:"Stack 0"},{type:"bar",label:"  ",data:a,barThickness:c,backgroundColor:"rgba(54, 162, 235, 0.7)",stack:"Stack 0"},{type:"bar",label:" ",data:u,barThickness:c,backgroundColor:"rgba(153, 102, 255, 0.7)",stack:"Stack 0"},{type:"line",label:" ",data:s,borderColor:"rgba(75, 192, 192, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(75, 192, 192, 1)",fill:!1,tension:.1},{type:"line",label:" ",data:o,borderColor:"rgba(255, 99, 132, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(255, 99, 132, 1)",fill:!1,tension:.1},{type:"line",label:"  ",data:a,borderColor:"rgba(54, 162, 235, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(54, 162, 235, 1)",fill:!1,tension:.1},{type:"line",label:"  ",data:u,borderColor:"rgba(153, 102, 255, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(153, 102, 255, 1)",fill:!1,tension:.1}]},f={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(g){const v=g.dataset.label||"",_=g.parsed.y;return`${v}: ${_.toFixed(2)}`}}}},scales:{x:{title:{display:!0,text:""}},y:{stacked:!0,title:{display:!0,text:" ()"},ticks:{callback:function(g){return(Ya(g)?g.toFixed(1):g)+""}}}}};return p.jsxs("div",{className:"w-full h-96 p-4 box-border",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("div",{}),p.jsxs("div",{className:"text-lg font-semibold",children:[p.jsx("input",{id:"normal-data",type:"checkbox",className:"cursor-pointer",onChange:g=>n(g.target.checked),checked:e}),p.jsx("label",{htmlFor:"normal-data",className:"text-sm pl-2 cursor-pointer",children:" "})]})]}),p.jsx("div",{className:"h-full pb-6 overflow-x-auto",children:p.jsx(k6,{type:"bar",data:h,options:f})})]})}function RV({result:t}){const{data:e}=Ou(),n=P.useMemo(()=>MV(e,t.subjects),[e,t]);return p.jsxs("table",{className:"min-w-full text-sm text-center text-nowrap",children:[p.jsx("thead",{className:"bg-gray-100 text-gray-600",children:p.jsxs("tr",{children:[p.jsx("th",{className:"py-2 px-2",children:""}),p.jsx("th",{className:"py-2 px-2",children:""}),p.jsx("th",{className:"py-2 px-2",children:""}),p.jsx("th",{className:"py-2 px-2",children:""}),p.jsx("th",{className:"py-2 px-2",children:""}),p.jsx("th",{className:"py-2 px-2",children:"/"})]})}),p.jsx("tbody",{className:"text-gray-700",children:n.map(r=>p.jsxs("tr",{className:"border-t border-gray-200",children:[p.jsx("td",{className:"py-2 px-1",children:r.subjectCode+"-"+r.classCode}),p.jsx("td",{className:"py-2 px-1",children:r.subjectName}),p.jsx("td",{className:"py-2 px-1",children:r.professorName}),p.jsx("td",{className:"py-2 px-1",children:r.avgIndex}),p.jsx("td",{className:"py-2 px-1",children:r.avgCompletionTime.toFixed(2)+" sec"}),p.jsxs("td",{className:"py-2 px-2",children:[p.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-green-500",children:r.successCount}),"/",p.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-red-500",children:r.failedCount}),"/",p.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-gray-500",children:r.doubledCount}),"/",p.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-black",children:r.totalCount})]})]},r.subjectId))})]})}function MV(t,e){if(!e||!t)return[];const n=r=>t.find(i=>i.subjectId===r);return e.map(r=>{const i=n(r.subjectId);return{...r,subjectName:i?.subjectName||"",departmentName:i?.departmentName||"",departmentCode:i?.departmentCode||"",subjectCode:i?.subjectCode||"",classCode:i?.classCode||"",professorName:i?.professorName||null}})}function DV(){const t=Ld(async()=>{try{return await xS()}catch(r){return{error:r.message}}});if(t&&"error"in t)return p.jsxs("div",{className:"flex flex-col w-full items-center justify-center h-120 gap-3",children:[p.jsx(_y,{className:"h-12 w-12"}),p.jsx("div",{className:"text-center text-gray-500",children:t.error}),p.jsx(Bn,{to:"/simulation",className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 cursor-pointer",children:"  "})]});const{simulations:e}=t||{simulations:[]},n=t?{user_ability:{searchBtnSpeed:e.reduce((r,i)=>r+i.searchBtnTime,0)/e.length||0,totalSpeed:e.reduce((r,i)=>r+i.totalTime/i.subjectCount,0)/e.length||0,accuracy:e.reduce((r,i)=>r+i.accuracy,0)/e.length||0,captchaSpeed:e.reduce((r,i)=>r+(i.captchaTime-i.searchBtnTime)/i.subjectCount,0)/e.length||0}}:void 0;return!n||!t?p.jsxs("div",{className:"flex flex-col w-full items-center justify-center h-120",children:[p.jsx("div",{className:"animate-spin h-16 w-16 mx-auto my-10",children:p.jsxs("svg",{className:"h-16 w-16 fill-transparent",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25 stroke-blue-500",cx:"12",cy:"12",r:"10",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75 fill-blue-500",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2.93 6.243A8.001 8.001 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3.93-1.695z"})]})}),p.jsxs("div",{className:"text-center text-gray-500 my-10",children:["    ... ",p.jsx("br",{})," "]})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex gap-3 flex-wrap",children:[p.jsx("div",{className:"relative flex-1 min-w-[240px]",children:p.jsx(ev,{result:n})}),p.jsx("div",{className:"flex-1 min-w-[240px] overflow-x-auto",children:p.jsx(RV,{result:t})})]}),p.jsx("div",{children:p.jsx(LV,{result:t})})]})}const IV=t=>P.createElement("svg",{width:26,height:26,viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},P.createElement("path",{d:"M5.54964 1.99315C5.50209 1.17248 6.41035 0.64822 7.09733 1.0996L20.3806 9.83538C21.12 10.3219 20.9092 11.4586 20.0444 11.6476L15.7086 12.5948L21.1016 21.9358C21.3775 22.4141 21.2138 23.0258 20.7356 23.3019L17.8077 24.9923C17.3295 25.2684 16.7179 25.1043 16.4417 24.6263L11.0764 15.3334L8.21097 18.4797C7.61486 19.134 6.52521 18.7482 6.47343 17.8647L5.54964 1.99315Z",fill:"#0756FF"}));function FV(){return p.jsxs(p.Fragment,{children:[p.jsx("h1",{className:"text-2xl font-bold mb-2",children:"   "}),p.jsx("p",{className:"text-gray-500 mb-4",children:"    ."}),p.jsx(BV,{})]})}function BV(){const t=Ld(NQ),e=t?t.snapshots:[],n=t===void 0,r=t===null;return n?p.jsx("div",{className:"flex justify-center items-center h-64",children:p.jsx("span",{className:"text-gray-500",children:" ..."})}):r?p.jsx("div",{className:"flex justify-center items-center h-64",children:p.jsx("span",{className:"text-red-500",children:" "})}):e.length?e.map(i=>p.jsxs(Bn,{to:`/simulation/logs/${i.simulation_run_id}`,className:"flex items-center justify-between bg-white p-3 rounded-md text-sm shadow-md shadow-gray-300 mb-2 hover:bg-gray-100",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("p",{className:"hidden",children:"id"}),p.jsx("span",{className:"font-bold",children:i.simulation_run_id}),p.jsx("p",{className:"hidden",children:""}),p.jsx("span",{children:i.department_name?i.department_name.split(" ").at(-1):"  "})]}),p.jsxs("div",{className:"flex items-center text-center",children:[p.jsxs("div",{className:"",children:[p.jsx("p",{className:"text-xs",children:" "}),p.jsxs("span",{className:"text-sm font-bold",children:[i.accuracy,"%"]})]}),p.jsxs("div",{className:"flex items-center justify-end gap-1 w-20",children:[p.jsx("p",{className:"hidden",children:""}),p.jsx(IV,{className:"w-4 h-4"}),p.jsx("span",{className:"font-bold",children:i.score.toFixed(3)})]})]})]},"simulation-log-"+i.simulation_run_id)):p.jsx("div",{className:"flex justify-center items-center",children:p.jsx("span",{className:"text-gray-500",children:" "})})}function zV(){return p.jsxs(p.Fragment,{children:[p.jsx(nr,{children:p.jsx("title",{children:"ALLCLL | "})}),p.jsxs("section",{className:"max-w-7xl mx-auto",children:[p.jsx("h1",{className:"text-2xl font-bold mb-2",children:" "}),p.jsx("p",{className:"text-gray-500 mb-4",children:"   ,    ."}),p.jsx("div",{className:"bg-white p-3 rounded-md text-sm shadow-md shadow-gray-300",children:p.jsx(DV,{})})]}),p.jsx("section",{className:"max-w-3xl mx-auto mt-12",children:p.jsx(FV,{})})]})}const md=32,a4=200;function $V({result:t}){const e=GV(t),n=(t.ended_at-t.started_at)/1e3,r=Array.from({length:Math.floor(n)+5},(i,s)=>s+1);return p.jsxs("div",{className:"relative",children:[p.jsxs("div",{className:"relative overflow-x-auto overflow-y-hidden",children:[p.jsx("div",{className:"absolute top-0 flex h-full",style:{left:`${a4}px`},children:r.map(i=>p.jsx("div",{className:"border-r border-gray-200 relative",style:{width:`${md}px`},children:p.jsx("span",{className:"absolute bottom-0 text-xs text-gray-400 left-1/2 -translate-x-1/2",children:i})},i))}),e.map((i,s)=>p.jsxs("div",{className:"flex items-center",style:{width:`${md*r.length}px`},children:[p.jsxs("div",{className:"py-2 text-sm md:sticky left-0 right-0 z-10 bg-white",style:{width:`${a4}px`},children:[p.jsx("div",{className:`font-semibold ${WV(i.color)}`,children:i.name}),p.jsx("span",{className:`text-xs ${qV(i.color)}`,children:i.code})]}),p.jsx("div",{className:"flex-1 relative h-8",children:p.jsx(UV,{timelines:i.timelines})})]},"timeline-row-"+s))]}),p.jsx("div",{className:"pointer-events-none absolute inset-y-4 left-0 md:left-[200px] w-3 bg-gradient-to-r from-white to-transparent"}),p.jsx("div",{className:"pointer-events-none absolute inset-y-4 right-0 w-3 bg-gradient-to-l from-white to-transparent"})]})}function UV({timelines:t}){return t.map((e,n)=>{const r=e.start*md-12,i=e.duration*md+24;return p.jsx("div",{className:`absolute top-1 h-6 rounded-full px-3 ${QV(e.color)}`,style:{left:`${r}px`,width:`${i}px`},children:e.events.map((s,o)=>p.jsx(HV,{event:s,startAt:e.start,color:e.color},"timeline-dot-"+o))},"timeline-bar-"+n)})}function HV({event:t,startAt:e,color:n}){const r=(t.start-e)*md+6;return p.jsxs("div",{className:"absolute top-1.5",style:{left:`${r}px`},children:[p.jsx("div",{className:`w-3 h-3 bg-white border-2 rounded-full ${VV(n)}`}),p.jsx("div",{className:"relative group cursor-pointer z-10",children:p.jsxs("div",{className:"absolute w-30 -top-10 left-1/2 -translate-x-1/2 bg-black text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition",children:[KV(t.event),p.jsx("br",{}),(t.duration+e).toFixed(2)," sec"]})})]})}function QV(t){switch(t){case"green":return"bg-green-100 border-green-500 text-green-700";case"red":return"bg-red-100 border-red-500 text-red-700";case"orange":return"bg-orange-100 border-orange-500 text-orange-700";case"yellow":return"bg-yellow-100 border-yellow-500 text-yellow-700";default:return"bg-gray-100 border-gray-500 text-gray-700"}}function VV(t){switch(t){case"green":return"border-green-500 text-green-500";case"red":return"border-red-500 text-red-500";case"orange":return"border-orange-500 text-orange-500";case"yellow":return"border-yellow-500 text-yellow-500";default:return"border-gray-500 text-gray-500"}}function qV(t){switch(t){case"green":return"text-green-500";case"red":return"text-red-500";case"orange":return"text-orange-500";case"yellow":return"text-yellow-500";default:return"text-gray-500"}}function WV(t){switch(t){case"green":return"text-green-600";case"red":return"text-red-600";case"orange":return"text-orange-600";case"yellow":return"text-yellow-600";default:return"text-gray-600"}}function KV(t){switch(t){case In.SEARCH:return"  ";case In.APPLY:return"  ";case In.CAPTCHA:return"   ";case In.SUBJECT_SUBMIT:return"   ";case In.SKIP_REFRESH:return" ";case In.REFRESH:return"  ";case In.CANCEL_SUBMIT:return"  "}}function GV(t){const{timeline:e,started_at:n,subject_results:r}=t;return r.map(i=>({name:i.subjectInfo?.subjectName,code:i.subjectInfo?.subjectCode+"-"+i.subjectInfo?.classCode,color:j1(i.status),timelines:e.filter(s=>s.subject_id===i.subject_id).map(s=>({color:j1(s.status),start:(s.started_at-n)/1e3,duration:(s.ended_at-s.started_at)/1e3,events:s.events.reduce((o,a,u)=>[...o,{event:a.event,duration:u==0?0:(a.timestamp-s.events[u-1].timestamp)/1e3,start:(a.timestamp-n)/1e3}],[])}))}))}function YV({result:t}){const{subject_results:e,started_at:n}=t;return p.jsxs("table",{className:"min-w-full text-sm text-center text-nowrap",children:[p.jsx("thead",{className:"bg-gray-100 text-gray-600",children:p.jsxs("tr",{children:[p.jsx("th",{className:"py-2 px-2",children:""}),p.jsx("th",{className:"py-2 px-2",children:""}),p.jsx("th",{className:"py-2 px-2",children:""}),p.jsx("th",{className:"py-2 px-2",children:""}),p.jsx("th",{className:"py-2 px-2",children:""}),p.jsx("th",{className:"py-2 px-2",children:"/"})]})}),p.jsx("tbody",{className:"text-gray-700",children:e.map(r=>p.jsxs("tr",{className:"border-t border-gray-200",children:[p.jsx("td",{className:"py-2 px-1",children:r.subjectInfo?.subjectCode+"-"+r.subjectInfo?.classCode}),p.jsx("td",{className:"py-2 px-1",children:r.subjectInfo?.subjectName}),p.jsx("td",{className:"py-2 px-1",children:r.subjectInfo?.professorName}),p.jsx("td",{className:"py-2 px-1",children:r.selected_index}),p.jsx("td",{className:"py-2 px-1",children:((r.ended_at-n)/1e3).toFixed(2)+" sec"}),p.jsx("td",{className:"py-2 px-2",children:p.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${cR(r.status)}`,children:r.status===Zt.SUCCESS?"":""})})]},"subject-detail-row-"+r.subject_id))})]})}function XV(){const{runId:t}=P4(),e=ol(),n=Ld(()=>PQ(Number(t))),r=P.useMemo(()=>JV(e,n),[e,n]);return p.jsxs(p.Fragment,{children:[p.jsx(nr,{children:p.jsx("title",{children:"ALLCLL |  "})}),p.jsx("h1",{className:"text-2xl font-bold mb-6",children:"   "}),p.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"relative bg-white p-6 rounded-2xl shadow-sm",children:[p.jsx("h2",{className:"text-lg font-semibold mb-4",children:"  "}),r?p.jsx(ev,{result:r}):p.jsx("div",{className:"text-center text-gray-500",children:"  ..."})]}),p.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm overflow-x-auto",children:[p.jsx("h2",{className:"text-lg font-semibold mb-4 min-w-[240px] overflow-x-auto",children:"  "}),r?p.jsx(YV,{result:r}):p.jsx("div",{className:"text-center text-gray-500",children:"  ..."})]})]}),p.jsxs("section",{className:"bg-white p-6 rounded-2xl shadow-sm",children:[p.jsx("div",{className:"flex items-start justify-between mb-4",children:p.jsx("h2",{className:"text-lg font-semibold mb-4",children:"     TimeLine"})}),r?p.jsx($V,{result:r}):p.jsx("div",{className:"text-center text-gray-500",children:"  ..."})]})]})}function JV(t,e){if(!(!e||!t))return{...e,timeline:e.timeline.map(n=>({...n,subjectInfo:Z1(t,n.subject_id)})),subject_results:e.subject_results.map(n=>({...n,subjectInfo:Z1(t,n.subject_id)}))}}const ZV=["interested_snapshot","interested_subject","simulation_run","simulation_run_selections","simulation_run_events"];async function eq(){rm();const t={interested_snapshot:await He.interested_snapshot.toArray(),interested_subject:await He.interested_subject.toArray(),simulation_run:await He.simulation_run.toArray(),simulation_run_selections:await He.simulation_run_selections.toArray(),simulation_run_events:await He.simulation_run_events.toArray()},e=new Blob([JSON.stringify(t)],{type:"application/json"}),n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download="db-backup.json",r.click(),URL.revokeObjectURL(n)}async function tq(){rm();const t=await He.simulation_run.filter(h=>h.ended_at===-1).last();if(!t)throw new Error("  .");const e=await He.simulation_run_selections.where("simulation_run_id").equals(t.simulation_run_id).toArray(),n=e.map(h=>h.run_selections_id),r=await He.simulation_run_events.filter(h=>n.includes(h.simulation_section_id)).toArray(),i=await He.interested_snapshot.where("snapshot_id").equals(t.snapshot_id).toArray(),s=await He.interested_subject.where("snapshot_id").equals(t.snapshot_id).toArray(),o={simulation_run:[t],simulation_run_selections:e,simulation_run_events:r,interested_snapshot:i,interested_subject:s},a=new Blob([JSON.stringify(o)],{type:"application/json"}),u=URL.createObjectURL(a),c=document.createElement("a");c.href=u,c.download="ongoing-simulation.json",c.click(),URL.revokeObjectURL(u)}async function nq(t){rm();const e=await t.text(),n=JSON.parse(e);await He.transaction("rw",He.interested_snapshot,He.interested_subject,async()=>{await He.interested_snapshot.clear(),await He.interested_subject.clear(),await He.interested_snapshot.bulkAdd(n.interested_snapshot||[]),await He.interested_subject.bulkAdd(n.interested_subject||[])}),await He.transaction("rw",He.simulation_run,He.simulation_run_selections,He.simulation_run_events,async()=>{await He.simulation_run.clear(),await He.simulation_run_selections.clear(),await He.simulation_run_events.clear(),await He.simulation_run.bulkAdd(n.simulation_run||[]),await He.simulation_run_selections.bulkAdd(n.simulation_run_selections||[]),await He.simulation_run_events.bulkAdd(n.simulation_run_events||[])})}async function rq(){rm(),await He.transaction("rw",He.interested_snapshot,He.interested_subject,async()=>{await He.interested_snapshot.clear(),await He.interested_subject.clear()}),await He.transaction("rw",He.simulation_run,He.simulation_run_selections,He.simulation_run_events,async()=>{await He.simulation_run.clear(),await He.simulation_run_selections.clear(),await He.simulation_run_events.clear()})}function rm(){const t=He.tables.map(n=>n.name).sort(),e=[...ZV].sort();if(JSON.stringify(t)!==JSON.stringify(e))throw new Error(`DB   : ${t.join(", ")}`)}const iq=()=>{const[t,e]=P.useState(null),n=u=>{u.target.files&&e(u.target.files[0])},r=async()=>{try{await eq(),alert("Backup completed successfully.")}catch(u){console.error(u),alert("Failed to backup the database.")}},i=async()=>{try{await tq(),alert("Backup completed successfully.")}catch(u){console.error(u),alert(u)}},s=async()=>{if(t)try{await nq(t),alert("Restore completed successfully.")}catch(u){console.error(u),alert("Failed to restore the database.")}else alert("Please select a file to restore.")},o=async()=>{try{await rq(),alert("Database cleared successfully."),window.location.href="/simulation"}catch(u){console.error(u),alert("Failed to delete the database.")}},a=async()=>{try{await qa(),window.location.href="/simulation"}catch(u){console.error(u),alert("Failed to delete the database.")}};return p.jsxs(p.Fragment,{children:[p.jsx(nr,{children:p.jsx("title",{children:"ALLCLL |    "})}),p.jsxs("div",{className:"max-w-4xl min-h-screen mx-auto p-8 space-y-6",children:[p.jsx("h2",{className:"text-2xl font-semibold text-center text-gray-900",children:" "}),p.jsxs("div",{className:"flex justify-center gap-5",children:[p.jsx("button",{onClick:i,className:"bg-slate-200 cursor-pointer text-gray-800 px-6 py-3 rounded-md shadow-md hover:bg-slate-400 hover:text-white transition-colors",children:"  "}),p.jsx("button",{onClick:a,className:"w-full md:w-auto bg-blue-600 cursor-pointer text-white px-6 py-3 rounded-md shadow-md hover:bg-blue-700 transition-colors",children:" "})]}),p.jsxs("div",{className:"flex justify-center gap-5",children:[p.jsx("button",{onClick:r,className:"bg-gray-100 cursor-pointer text-gray-800 px-6 py-3 rounded-md shadow-md hover:bg-gray-400 hover:text-white transition-colors",children:"  "}),p.jsx("button",{onClick:o,className:"bg-red-600  cursor-pointer text-white px-6 py-3 rounded-md shadow-md hover:bg-red-700 hover:text-white transition-colors",children:" "})]}),p.jsxs("div",{className:"flex items-center space-x-4 justify-center",children:[p.jsx("input",{type:"file",accept:".json",onChange:n,className:"block w-full md:w-80 cursor-pointer text-sm text-gray-700 py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500"}),p.jsx("button",{onClick:s,className:"bg-white cursor-pointer text-gray-800 px-6 py-3 rounded-md shadow-md hover:bg-gray-400 hover:text-white transition-colors",children:" "})]})]})]})},sq=()=>p.jsxs(p.Fragment,{children:[p.jsx(nr,{children:p.jsx("title",{children:"ALLCLL |   "})}),p.jsx("section",{className:"border p-2 text-xs",children:p.jsxs("div",{className:"flex flex-col gap-4",children:[p.jsx("div",{className:"flex gap-8 h-10"}),p.jsxs("div",{className:"flex justify-between",children:[p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"font-bold",children:""}),p.jsx("select",{className:"border-gray-300 border px-2 py-1 w-48 disabled:bg-gray-100",disabled:!0,children:p.jsx("option",{children:""})})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"font-bold",children:""}),p.jsx("select",{className:"border-gray-300 border px-2 py-1 w-48 disabled:bg-gray-100",disabled:!0,children:p.jsx("option",{children:""})}),p.jsx("select",{className:"cursor-pointer border px-2 py-1 w-120 border-gray-300 bg-white",onChange:()=>{},children:p.jsx("option",{value:"none",children:" "})})]})]}),p.jsx("button",{className:"px-4 py-2 rounded text-white bg-gray-700 hover:bg-gray-800 cursor-pointer",children:""})]})]})}),p.jsxs("section",{className:"grid grid-cols-2 gap-5 ",children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-semibold pl-2 mb-2 border-l-4 border-blue-500",children:"  "}),p.jsx("div",{className:"overflow-x-scroll min-h-[1000px] border-gray-300",children:p.jsxs("table",{className:"min-w-[1200px] text-center border border-gray-300 border-t-3 border-t-black text-xs",children:[p.jsx("thead",{className:"bg-gray-100",children:p.jsx("tr",{children:["","","","","","","","","//","","","",""].map((t,e)=>p.jsx("th",{className:"border border-gray-300 px-2 py-1 ",children:t},e))})}),p.jsx("tbody",{children:p.jsx(vp,{})})]})})]}),p.jsx("div",{children:p.jsxs("div",{className:"overflow-x-auto min-h-[1000px] border-gray-300",children:[p.jsxs("div",{className:"flex flex-row gap-3 items-center pl-2 mb-2 border-l-4 border-blue-500",children:[p.jsx("p",{className:"font-semibold",children:" "}),p.jsx("button",{className:"text-xs bg-blue-500 text-white px-2 py-0.5 rounded-xs cursor-pointer",children:""}),p.jsx("button",{className:"text-xs bg-gray-700 text-white px-2 py-0.5 rounded-xs cursor-pointer",children:" "}),p.jsx("button",{className:"text-xs bg-gray-700 text-white px-2 py-0.5 rounded-xs cursor-pointer",children:""})]}),p.jsxs("div",{className:"flex gap-4 w-full mb-2",children:[p.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[p.jsx("span",{className:"font-semibold whitespace-nowrap",children:"  "}),p.jsx("input",{type:"text",disabled:!0,value:"24",className:"w-full px-4 py-1 border border-gray-300 rounded bg-white-100 text-center"})]}),p.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[p.jsx("span",{className:"font-semibold whitespace-nowrap",children:":"}),p.jsx("input",{type:"text",disabled:!0,value:"",className:"w-full px-4 py-1 border border-gray-300 rounded bg-white-100 text-center"})]}),p.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[p.jsx("span",{className:"font-semibold whitespace-nowrap",children:":"}),p.jsx("input",{type:"text",disabled:!0,value:"",className:"w-full px-4 py-1 border border-gray-300 rounded bg-white-100 text-center"})]})]}),p.jsxs("table",{className:"min-w-[1200px] text-center border border-gray-300 border-t-3 border-t-black text-xs",children:[p.jsx("thead",{className:"bg-gray-100",children:p.jsx("tr",{children:["","","","","","","","","","","//","","","",""].map((t,e)=>p.jsx("th",{className:"border border-gray-300 px-2 py-1",children:t},e))})}),p.jsx("tbody",{children:p.jsx("tr",{children:p.jsx("td",{colSpan:13,className:"text-gray-400 py-4",children:p.jsx("div",{className:"min-h-[500px] flex items-center justify-center ",children:p.jsx("p",{className:"bg-stone-100 px-4 py-1 border",children:"  ."})})})})})]})]})})]})]}),oq=({timetables:t,onSelect:e,onEdit:n,onDelete:r,openCreateModal:i})=>{const s=P.useRef(null),o=vt(f=>f.currentTimetable),a=vt(f=>f.pickTimetable),u=f=>{a(f),e(f.timeTableId)},c=f=>{n&&n("",f)},h=f=>{r&&r(f)};return p.jsx("div",{className:"relative inline-block w-full max-w-sm",ref:s,children:p.jsx(p.Fragment,{children:p.jsxs(tm,{label:o?.timeTableName??" ",selected:o?.timeTableId>-1,className:"gap-4 max-w-20 max-h-80 overflow-y-auto",children:[t.length===0&&p.jsx("div",{children:"   ."}),t.length!==0&&t.map(f=>p.jsxs("div",{className:"flex gap-5",children:[p.jsx(yp,{label:f.timeTableName,isChecked:o.timeTableId===f.timeTableId,onChange:()=>u(f)},f.timeTableId),o.timeTableId===f.timeTableId&&p.jsxs("div",{className:"flex gap-4 text-sm",children:[p.jsx("button",{className:"text-stone-500 text-sm hover:text-stone-600 font-medium cursor-pointer",onClick:()=>c(f.timeTableId),children:""}),p.jsx("button",{className:"text-red-500  text-sm  hover:text-red-600 font-medium cursor-pointer",onClick:()=>h(f.timeTableId),children:""})]})]},f.timeTableName+f.timeTableId)),p.jsx("button",{className:"flex justify-center text-gray-500 text-sm hover:font-bold",onClick:i,children:"+  "})]})})})};function aq(){const t=P.useRef(null),e=P.useRef(null),n=P.useRef({touchStart:{sheetY:0,touchY:0},touchMove:{prevTouchY:0,movingDirection:"none"},isContentAreaTouched:!1});P.useEffect(()=>{const s=()=>{const{touchMove:c,isContentAreaTouched:h}=n.current;return!h||t.current.getBoundingClientRect().y!==za?!0:c.movingDirection==="down"?e.current.scrollTop<=0:!1},o=c=>{const{touchStart:h}=n.current;h.sheetY=t.current.getBoundingClientRect().y,h.touchY=c.touches[0].clientY},a=c=>{const{touchStart:h,touchMove:f}=n.current,g=c.touches[0];if(f.prevTouchY===void 0&&(f.prevTouchY=h.touchY),f.prevTouchY===0&&(f.prevTouchY=h.touchY),f.prevTouchY<g.clientY&&(f.movingDirection="down"),f.prevTouchY>g.clientY&&(f.movingDirection="up"),s()){c.stopPropagation();const v=g.clientY-h.touchY;let _=h.sheetY+v;_<=za&&(_=za),_>=Ef&&(_=Ef),t.current.style.setProperty("transform",`translateY(${_}px)`)}else document.body.style.overflowY="hidden"},u=()=>{const{touchMove:c}=n.current;t.current.getBoundingClientRect().y!==za&&(c.movingDirection==="down"&&t.current.style.setProperty("transform",`translateY(${Ef}px)`),c.movingDirection==="up"&&t.current.style.setProperty("transform",`translateY(${za}px)`)),n.current={touchStart:{sheetY:0,touchY:0},touchMove:{prevTouchY:0,movingDirection:"none"},isContentAreaTouched:!1}};t.current.addEventListener("touchstart",o),t.current.addEventListener("touchmove",a),t.current.addEventListener("touchend",u)},[]);const r=()=>{t.current&&t.current.style.setProperty("transform","translateY(400px)")},i=()=>{t.current&&t.current.style.setProperty("transform",`translateY(${Ef}px)`)};return P.useEffect(()=>{const s=()=>{n.current.isContentAreaTouched=!0};e.current.addEventListener("touchstart",s);const o=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=o}},[]),{sheet:t,content:e,expandToMax:r,collapseToMin:i}}function lq(){const{cancelSchedule:t}=br(),e=wp(),n=()=>{e("/timetable"),t()};P.useEffect(()=>(window.addEventListener("popstate",n),()=>{window.removeEventListener("popstate",n)}),[])}const za=0,Ef=window.innerHeight-300,uq=window.innerHeight-za;function im({children:t}){const{sheet:e,content:n,expandToMax:r,collapseToMin:i}=aq(),{type:s,resetBottomSheet:o}=Ys(),{cancelSchedule:a}=br();function u(){a(),o()}return lq(),p.jsxs("div",{className:"fixed inset-0 z-[200]",children:[s&&p.jsx("div",{className:"absolute inset-0 bg-black/5 bg-opacity-80",role:"presentation",onClick:u}),p.jsxs("div",{ref:e,className:"fixed rounded-t-xl bottom-0 left-0 w-full transition-transform bg-white duration-300 z-200",style:{height:`${uq}px`,transform:`translateY(${za}px)`},children:[p.jsx("div",{className:"w-full flex justify-center py-2 h-7 shrink-0",children:p.jsx("button",{className:"w-20 h-2 cursor-pointer bg-gray-300 rounded-full","aria-label":"",onClick:a})}),p.jsx("div",{ref:n,className:"flex-1 overflow-y-auto ",children:typeof t=="function"?t({expandToMax:r,collapseToMin:i}):t})]})]})}const CS=t=>P.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},P.createElement("path",{d:"M7.33335 8.66659H4.00001C3.81112 8.66659 3.6529 8.60259 3.52535 8.47459C3.39779 8.34659 3.33379 8.18837 3.33335 7.99992C3.3329 7.81148 3.3969 7.65325 3.52535 7.52525C3.65379 7.39725 3.81201 7.33325 4.00001 7.33325H7.33335V3.99992C7.33335 3.81103 7.39735 3.65281 7.52535 3.52525C7.65335 3.3977 7.81157 3.3337 8.00001 3.33325C8.18846 3.33281 8.3469 3.39681 8.47535 3.52525C8.60379 3.6537 8.66757 3.81192 8.66668 3.99992V7.33325H12C12.1889 7.33325 12.3473 7.39725 12.4753 7.52525C12.6033 7.65325 12.6671 7.81148 12.6667 7.99992C12.6662 8.18837 12.6022 8.34681 12.4747 8.47525C12.3471 8.6037 12.1889 8.66748 12 8.66659H8.66668V11.9999C8.66668 12.1888 8.60268 12.3473 8.47468 12.4753C8.34668 12.6033 8.18846 12.667 8.00001 12.6666C7.81157 12.6661 7.65335 12.6021 7.52535 12.4746C7.39735 12.347 7.33335 12.1888 7.33335 11.9999V8.66659Z",fill:"#9CA3AF"}));function sm({title:t,headerType:e,onClose:n,onClick:r}){return p.jsx("header",{className:"w-full px-5 flex items-center justify-between mb-2",children:e==="add"?p.jsxs("div",{className:"w-full h-8 flex items-center  justify-between ",children:[p.jsx(q0,{headerType:"add",onClick:r}),t&&p.jsx("h3",{className:"text-sm font-semibold",children:t}),p.jsx(q0,{headerType:"close",onClick:n})]}):p.jsx(p.Fragment,{children:p.jsxs("div",{className:"relative w-full flex items-center justify-center h-6",children:[p.jsx("h3",{className:"text-sm font-semibold",children:t}),p.jsx("div",{className:"absolute right-0",children:p.jsx(q0,{headerType:"close",onClick:n})})]})})})}function q0({headerType:t,onClick:e}){const n=t==="close"?wd:CS;return p.jsx("button",{className:"w-6 h-6 cursor-pointer flex items-center justify-center bg-gray-100 rounded-full",onClick:e,children:p.jsx(n,{})})}const cq=t=>P.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},P.createElement("path",{d:"M7.18066 10.5625C7.88416 10.5629 8.47281 11.0824 8.63086 11.7812H14.625C14.8321 11.7812 15 11.9491 15 12.1562C15 12.3634 14.8321 12.5312 14.625 12.5312H8.63086C8.47281 13.2301 7.88416 13.7496 7.18066 13.75C6.47688 13.75 5.88776 13.2303 5.72949 12.5312H1.375C1.16789 12.5312 1 12.3634 1 12.1562C1 11.9491 1.16789 11.7812 1.375 11.7812H5.72949C5.88776 11.0822 6.47688 10.5625 7.18066 10.5625ZM7.18066 11.2812C6.72774 11.2812 6.36035 11.673 6.36035 12.1562C6.36035 12.6395 6.72774 13.0312 7.18066 13.0312C7.63324 13.0308 8 12.6392 8 12.1562C8 11.6733 7.63324 11.2817 7.18066 11.2812ZM11.7197 6.40625C12.4233 6.40647 13.0117 6.92611 13.1699 7.625H14.625C14.8321 7.625 15 7.79289 15 8C15 8.20711 14.8321 8.375 14.625 8.375H13.1699C13.0117 9.0739 12.4233 9.59353 11.7197 9.59375C11.0161 9.59356 10.4277 9.07393 10.2695 8.375H1.375C1.16789 8.375 1 8.20711 1 8C1 7.79289 1.16789 7.625 1.375 7.625H10.2695C10.4277 6.92608 11.0161 6.40644 11.7197 6.40625ZM11.7197 7.125C11.267 7.12523 10.9004 7.51689 10.9004 8C10.9004 8.48311 11.267 8.87477 11.7197 8.875C12.1724 8.87474 12.54 8.48309 12.54 8C12.54 7.51691 12.1724 7.12526 11.7197 7.125ZM5.07129 2.25C5.77489 2.2502 6.36337 2.76981 6.52148 3.46875H14.625C14.8321 3.46875 15 3.63664 15 3.84375C15 4.05086 14.8321 4.21875 14.625 4.21875H6.52148C6.36337 4.91769 5.77489 5.43729 5.07129 5.4375C4.36758 5.43737 3.77832 4.9178 3.62012 4.21875H1.375C1.16789 4.21875 1 4.05086 1 3.84375C1 3.63664 1.16789 3.46875 1.375 3.46875H3.62012C3.77832 2.7697 4.36758 2.25013 5.07129 2.25ZM5.07129 2.96875C4.61849 2.9689 4.25098 3.36059 4.25098 3.84375C4.25098 4.32691 4.61849 4.7186 5.07129 4.71875C5.52402 4.71852 5.89062 4.32686 5.89062 3.84375C5.89062 3.36064 5.52402 2.96898 5.07129 2.96875Z",fill:"#9CA3AF"}));function dq(){const{openScheduleModal:t}=br(),e=new Pr().toUiData();return p.jsxs("div",{className:"flex flex-col gap-2 pt-5 w-full items-center justify-center",children:[p.jsx(Jp,{className:"w-7 h-7"}),p.jsx("p",{className:"text-md text-gray-500",children:"  ."}),p.jsx("span",{className:"text-xs text-gray-400",children:"  ?   ."}),p.jsx("button",{className:"bg-blue-500 text-white text-sm px-4 py-1 rounded-lg  hover:bg-blue-500 cursor-pointer justify-center items-center",onClick:()=>t(e),children:""})]})}function kS({subjects:t,expandToMax:e,isPending:n=!1}){const{visibleRows:r,loadMoreRef:i}=dS(t,"ref"),s=P.useRef(null),o=vt(h=>h.schedule.subjectId),{openScheduleModal:a,cancelSchedule:u}=br();if(n||!t)return p.jsx("div",{className:"w-full h-10"});if(!t.length)return p.jsx(dq,{});const c=h=>{if(o===h.subjectId){u(void 0,!1);return}const f=new Pr({...new Pr().toApiData(),scheduleType:"official",subjectId:h.subjectId??-1},h);a(f.toUiData()),console.log("official",o);const _=new _d(h.lesnTime).toUiData(9)[0]?.top;e&&(e(),setTimeout(()=>{if(_){const S=parseFloat(_);window.scrollTo({top:S,behavior:"smooth"})}},400))};return p.jsxs("div",{className:"flex flex-col gap-2",children:[t.slice(0,r).map(h=>{const f=o===h.subjectId;return p.jsx(hq,{subject:h,isActive:f,onClick:()=>c(h),forwardedRef:f?s:void 0},h.subjectId)}),r<t.length&&p.jsx("div",{ref:i,className:"load-more-trigger w-full h-10"})]})}function hq({isActive:t,subject:e,onClick:n,forwardedRef:r}){const i=t?"text-blue-500 bg-blue-50":"text-gray-700 bg-white hover:bg-gray-50",{saveSchedule:s}=br(),{selectTargetOnly:o}=Xp(),a=u=>{s(u,!1),o(e.subjectId),Pv(e.deptCd)};return p.jsxs("div",{className:`border border-gray-200 rounded-lg p-3 sm:p-4 gap-2 sm:gap-3 flex flex-col cursor-pointer ${i}`,onClick:n,ref:r,children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h3",{className:"text-sm sm:text-lg font-semibold",children:e.subjectName}),p.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:e.professorName})]}),p.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:e.lesnTime}),p.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:e.lesnRoom}),p.jsxs("span",{className:"text-xs sm:text-sm text-gray-500",children:[e.studentYear,"/",e.manageDeptNm]}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{className:`w-fit rounded-xl flex items-center text-xs sm:text-sm text-gray-500 ${t?"":"bg-gray-100 px-2 py-0.5 sm:px-2.5 sm:py-0.5"}`,children:[e.tmNum[0],""]}),t&&p.jsx("button",{onClick:a,className:"bg-blue-500 border-none cursor-pointer rounded-xl px-2 py-0.5 sm:px-2.5 sm:py-1 text-white text-xs sm:text-sm hover:bg-blue-600",children:""})]})]})}const l4={selectedDepartment:"",selectedGrades:[],isMajor:void 0,selectedDays:[],selectedTimeRange:{startHour:"9",startMinute:"00",endHour:"10",endMinute:"00"}},Js=Gr((t,e)=>({...l4,setFilterSchedule:(n,r)=>t(i=>({...i,[n]:r})),resetFilterSchedule:()=>t(l4),getFilterSchedule:()=>{const n=e(),{setFilterSchedule:r,resetFilterSchedule:i,getFilterSchedule:s,...o}=n;return o}}));function fq({onCloseSearch:t}){const[e,n]=P.useState(""),{data:r=[],isPending:i}=Ko(),{openScheduleModal:s,cancelSchedule:o}=br(),{selectedDays:a,selectedDepartment:u,selectedGrades:c}=Js(),h=Nv({subjects:r,searchKeywords:e,selectedDays:a,selectedDepartment:u,selectedGrades:c}),f=new Pr().toUiData();return p.jsx(im,{children:({expandToMax:g})=>p.jsxs(p.Fragment,{children:[p.jsx(sm,{title:"",headerType:"add",onClose:o,onClick:()=>s(f)}),p.jsxs("div",{className:"sticky px-2 top-0 bg-white z-10 flex items-center gap-2 py-3",children:[p.jsx(Zp,{type:"text",placeholder:"   ",value:e,onChange:v=>n(v.target.value),onDelete:()=>n(""),className:"pl-10 pr-6 py-2 rounded-md w-full bg-white border border-gray-400 text-[16px]"}),p.jsx("button",{className:"w-20 justify-center flex cursor-pointer",onClick:()=>t("filter"),children:p.jsx(cq,{className:"w-6 h-6"})})]}),p.jsx("div",{className:"max-h-[70vh] min-h-0 px-2 overflow-y-auto touch-auto flex flex-col",children:p.jsx(kS,{expandToMax:g,subjects:h,isPending:i})})]})})}const jf=[1,2,3,4],Tf=["","","","",""];function pq(){const{data:t}=Pu(),{openBottomSheet:e,closeBottomSheet:n}=Ys(),{selectedDepartment:r,selectedGrades:i,selectedDays:s,setFilterSchedule:o,resetFilterSchedule:a}=Js(),u=(r.length||i.length||s.length)>0;function c(f,g){return f.includes(g)?f.filter(v=>v!==g):[...f,g]}const h=()=>{n("filter"),e("search")};return p.jsxs(im,{children:[p.jsx(sm,{headerType:"close",title:"",onClose:()=>{n("filter"),e("search")}}),p.jsxs("section",{className:"w-full flex flex-col px-4 gap-5",children:[p.jsxs("div",{className:"w-full  h-15 flex gap-2 flex-col justify-center mt-2",children:[p.jsx("label",{className:"text-xs text-gray-500",children:""}),p.jsx("div",{className:"w-full flex flex-col gap-2 justify-center",children:p.jsxs("select",{className:"cursor-pointer border border-gray-300 rounded-sm px-2 py-1 w-full bg-white text-sm",value:r,onChange:f=>o("selectedDepartment",f.target.value),children:[p.jsx("option",{value:"",children:""}),t?.map(f=>p.jsx("option",{value:f.departmentCode,children:f.departmentName},f.departmentCode))]})})]}),p.jsxs("div",{className:"w-full h-15 flex gap-2 flex-col justify-center",children:[p.jsx("label",{className:"text-xs text-gray-500",children:""}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Yi,{label:"",selected:i.length===jf.length,onClick:()=>{const f=i.length===jf.length;o("selectedGrades",f?[]:jf)}}),jf.map(f=>p.jsx(Yi,{label:`${f}`,selected:i.includes(f),onClick:()=>o("selectedGrades",c(i,f))}))]})]}),p.jsxs("div",{className:"w-full h-15 flex gap-2 flex-col justify-center",children:[p.jsx("label",{className:"text-xs text-gray-500",children:""}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Yi,{label:"",selected:s.length===Tf.length,onClick:()=>{const f=s.length===Tf.length;o("selectedDays",f?[]:Tf)}}),Tf.map(f=>p.jsx(Yi,{label:f,selected:s.includes(f),onClick:()=>o("selectedDays",c(s,f))},f))]})]}),p.jsxs("div",{className:"flex justify-end items-center gap-3 mt-5",children:[u&&p.jsx("button",{className:"text-xs text-blue-500 hover:text-blue-600 hover:underline cursor-pointer",onClick:a,children:" "}),p.jsx("button",{onClick:h,type:"submit",className:"bg-blue-500 font-semibold text-xs w-15 text-white rounded px-4 py-2 cursor-pointer ",children:""})]})]})]})}function ES({label:t,required:e,id:n,...r}){return p.jsxs("div",{className:"h-12 w-full flex flex-col",children:[t&&p.jsx("label",{htmlFor:n,className:`text-xs  text-gray-400 after:ml-0.5 ${e?'after:content-["*"] after:text-red-500':""}`,children:t}),p.jsx("input",{id:n,required:e,...r,className:"text-[16px] placeholder:text-gray-400 placeholder:text-sm w-full m-2 bg-transparent focus:outline-none border-b border-gray-200 focus:border-blue-500 focus:border-b-2"})]})}const Nf=Array.from({length:24},(t,e)=>`${e}`),Pf=["00","10","20","30","40","50"];function mq({timeRange:t,onChange:e,day:n}){const r=(i,s)=>{if(n){e(i,s,n);return}e(i,s)};return p.jsx("div",{className:" w-full h-3 flex gap-2 flex-col justify-center",children:p.jsxs("div",{className:"relative w-full flex gap-2 flex-wrap",children:[p.jsx("select",{name:"startHour",value:t.startHour??Nf[8],onChange:i=>r("startHour",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:Nf.map(i=>p.jsx("option",{value:i,children:i},i))}),p.jsx("select",{name:"startMinute",value:t.startMinute??Pf[0],onChange:i=>r("startMinute",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:Pf.map(i=>p.jsx("option",{value:i,children:i},i))}),p.jsx("span",{className:"text-gray-400 text-sm mx-1",children:"~"}),p.jsx("select",{name:"endHour",value:t.endHour??Nf[9],onChange:i=>r("endHour",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:Nf.map(i=>p.jsx("option",{value:i,children:i},i))}),p.jsx("select",{name:"endMinute",value:t.endMinute??Pf[0],onChange:i=>r("endMinute",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:Pf.map(i=>p.jsx("option",{value:i,children:i},i))})]})})}function jS(){const{schedule:t,modalActionType:e}=bd(),{editSchedule:n,saveSchedule:r,deleteSchedule:i,cancelSchedule:s}=br(),o=Ys(S=>S.openBottomSheet),a=vt(S=>S.options.isMobile),u=[{id:"subjectName",name:"",value:t?.subjectName??""},{id:"professorName",name:"",value:t?.professorName??""},{id:"location",name:"",value:t?.location??""}],c=(S,C)=>{const[j,R]=S.split(":"),[A,F]=C.split(":");return{startHour:j,startMinute:R,endHour:A,endMinute:F}},h=S=>{const C=t.timeSlots.find(j=>j.dayOfWeeks===S);n(C?j=>({...j,timeSlots:j.timeSlots.filter(R=>R.dayOfWeeks!==S)}):j=>({...j,timeSlots:[...j.timeSlots,{dayOfWeeks:S,startTime:"",endTime:""}]}))},f=(S,C,j)=>{const R=F=>{let[U,O]=F.split(":").map(Number);return isNaN(U)&&(U=9),isNaN(O)&&(O=0),[U.toString(),O.toString().padStart(2,"0")]},A=F=>{const[U,O]=R(F);return`${U}:${O}`};n(F=>{const U=F.timeSlots.map(O=>{if(console.log(O),O.dayOfWeeks!==j)return O;const[$,K]=R(O.startTime),[H,z]=R(O.endTime);let ue=O.startTime,de=O.endTime;return S==="startHour"&&(ue=`${C}:${K}`),S==="startMinute"&&(ue=`${$}:${C}`),S==="endHour"&&(de=`${C}:${z}`),S==="endMinute"&&(de=`${H}:${C}`),{...O,startTime:A(ue),endTime:A(de)}});return{...F,timeSlots:U}})},g=S=>{r(S)},v=S=>{i(S)},_=()=>{s(),o("search")};return p.jsxs("form",{onSubmit:g,className:"flex flex-col gap-5",children:[u.map(({id:S,name:C,value:j})=>p.jsx("div",{className:"flex gap-6",children:p.jsx(ES,{id:S,placeholder:`${C} `,value:j,label:C,onChange:R=>n(A=>({...A,[S]:R.target.value})),required:!0})},"text-field"+S)),p.jsx("div",{className:"flex gap-2 flex-row",children:p.jsxs("div",{className:"flex gap-2 items-center",children:[p.jsx("p",{className:"text-gray-400 text-xs",children:""}),Np.map(S=>p.jsx(Yi,{label:S,selected:t.timeSlots.some(C=>C.dayOfWeeks===S),onClick:()=>h(S)},S))]})}),t.timeSlots.map(S=>p.jsxs("div",{className:"flex gap-2 ",children:[p.jsx("p",{className:"text-xs text-gray-400",children:S.dayOfWeeks}),p.jsx(mq,{day:S.dayOfWeeks,timeRange:c(S.startTime,S.endTime),onChange:f})]},S.dayOfWeeks)),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("div",{children:a&&p.jsx("button",{type:"button",className:"text-xs text-blue-500 hover:text-blue-600 hover:underline cursor-pointer",onClick:_,children:"+   "})}),p.jsxs("div",{className:"flex justify-end gap-3",children:[(e===Qn.EDIT||e===Qn.VIEW)&&p.jsx("button",{type:"button",onClick:v,className:"text-xs text-white bg-red-500 hover:bg-red-600 w-15 rounded-lg px-4 py-2 cursor-pointer ",children:""}),p.jsx("button",{type:"submit",className:"text-xs text-white bg-blue-500 hover:bg-blue-600 w-15 rounded-lg px-4 py-2 cursor-pointer ",children:""})]})]})]})}function gq(){const{modalActionType:t}=bd(),{cancelSchedule:e}=br(),n=i=>{e(i)},r=t===Qn.CREATE?"":"";return p.jsxs(im,{children:[p.jsx(sm,{title:`  ${r}`,headerType:"close",onClose:n}),p.jsx("div",{className:"flex flex-col py-5 px-5 gap-5 overflow-y-auto max-h-[70vh]",children:p.jsx(jS,{})})]})}function yq(){const{modalActionType:t}=bd(),{cancelSchedule:e}=br(),n=t===Qn.CREATE?"":"",r=i=>{i.key==="Escape"&&e(i)};return P.useEffect(()=>(document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}),[]),p.jsx("div",{className:"fixed inset-0 z-50  hidden md:flex items-center justify-center  bg-black/10",onClick:e,children:p.jsxs("div",{className:"bg-white flex border border-gray-200 rounded-xl flex-col gap-2 w-[90%] max-w-md p-8 shadow-xl relative",onClick:i=>i.stopPropagation(),role:"dialog","aria-modal":"true",children:[p.jsxs("div",{className:"flex w-full justify-between",children:[p.jsxs("h3",{className:"font-semibold",children:["  ",n]}),p.jsx("button",{className:"w-6 h-6 cursor-pointer flex items-center justify-center bg-gray-100 rounded-full",onClick:e,children:p.jsx(wd,{})})]}),p.jsx(jS,{})]})})}function vq(){const{data:t}=Pu(),[e,n]=P.useState(""),[r,i]=P.useState(""),s=P.useMemo(()=>[{departmentName:"",departmentCode:""},...t??[]],[t]);function o(g){const v=s.find(S=>S.departmentCode===g);if(!v)return" .";const _=v.departmentName.split(" ");return _[_.length-1]}const[a,u]=P.useState(s),{selectedDepartment:c,setFilterSchedule:h}=Js(),f=c===""?"":o(c);return P.useEffect(()=>{const g=s.filter(v=>r===""?v.departmentCode==="9005":r===""?v.departmentCode!=="9005":!0).filter(v=>{const _=e?.replace(/[^\w\s---]/g,""),S=Wa(_).toLowerCase(),C=v.departmentName.replace(/[^\w\s---]/g,"");return Wa(C).toLowerCase().includes(S)});u(g)},[t,e,r]),p.jsx(p.Fragment,{children:p.jsx(tm,{label:f,className:"max-h-120 overflow-y-auto",selected:c.length!==0,children:p.jsxs("div",{className:"flex flex-col h-80",children:[p.jsxs("div",{className:"shrink-0 gap-2 flex px-2 py-2 bg-white",children:[p.jsxs("select",{value:r,className:"border border-gray-300 rounded-md px-2 py-1 text-sm text-gray-700 bg-white",onChange:g=>{const v=g.target.value;i(v),h("selectedDepartment","")},children:[p.jsx("option",{value:"",children:""}),p.jsx("option",{value:"",children:""})]}),p.jsx(Zp,{type:"text",placeholder:" ",onDelete:()=>{n("")},value:e,onChange:g=>{n(g.target.value)}})]}),p.jsxs("div",{className:"overflow-y-auto flex-1 px-2 py-2",children:[(r===""||r==="")&&p.jsx(xq,{departments:a})," "]})]})})})}function xq({departments:t}){const e="",{setFilterSchedule:n}=Js(),r=i=>{n("selectedDepartment",i||"")};return p.jsx(p.Fragment,{children:t?.map(i=>p.jsx("div",{role:"option","aria-selected":e===i.departmentName,className:`flex items-center gap-1 px-2 py-2 rounded cursor-pointer text-sm ${e===i.departmentName?"bg-blue-50 text-blue-500 font-medium":"hover:bg-gray-50 text-gray-700"}`,onClick:()=>r(i.departmentCode),children:i.departmentName},i.departmentCode))})}function TS({labelPrefix:t,selectedItems:e,handleChangeCheckbox:n,options:r,selected:i}){const s=a=>e.includes(a),o=e.length===0?`${t}`:e.length>1?`${e[0]}${t}  ${e.length-1}`:`${e[0]}${t}`;return p.jsx(tm,{label:o,selected:i,children:p.jsxs(p.Fragment,{children:[p.jsx(yp,{label:`${t}`,isChecked:e.length===r.length,onChange:()=>{n("")}}),r.map(a=>p.jsx(yp,{label:`${a}${t}`,isChecked:s(a),onChange:()=>n(a)},a))]})})}const W0=[1,2,3,4];function bq(){const{selectedGrades:t,setFilterSchedule:e}=Js(),n=r=>{if(r===""){e("selectedGrades",t.length===W0.length?[]:W0);return}const s=t.includes(r)?t.filter(o=>o!==r):[...t,r];e("selectedGrades",s)};return p.jsx(TS,{labelPrefix:"",selectedItems:t,handleChangeCheckbox:n,options:W0,selected:t.length!==0})}const K0=["","","","",""];function wq(){const{selectedDays:t,setFilterSchedule:e}=Js(),n=r=>{if(r===""){e("selectedDays",t.length===K0.length?[]:K0);return}const s=t.includes(r)?t.filter(o=>o!==r):[...t,r];e("selectedDays",s)};return p.jsx(TS,{labelPrefix:"",selectedItems:t,handleChangeCheckbox:n,options:K0,selected:t.length!==0})}const _q=t=>P.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},P.createElement("path",{d:"M3 4H17L12 10.5V20L8 16V10.5L3 4Z",stroke:"#047CFE",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),P.createElement("path",{d:"M16 15L22 21",stroke:"#047CFE",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),P.createElement("path",{d:"M16 21L22 15",stroke:"#047CFE",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function Sq(){const t=Js(o=>o.resetFilterSchedule),{selectedDepartment:e,selectedGrades:n,selectedDays:r}=Js();if(!(e.length||n.length||r.length))return null;const s=()=>{t()};return p.jsx(Yi,{label:p.jsx(_q,{className:"w-4 h-4"}),selected:!0,onClick:s})}const Cq=new Pr().toUiData();function kq(){const{data:t=[],isPending:e}=Ko(),[n,r]=P.useState(""),{openScheduleModal:i}=br(),{selectedDays:s,selectedDepartment:o,selectedGrades:a}=Js(),u=Nv({subjects:t,searchKeywords:n,selectedDays:s,selectedDepartment:o,selectedGrades:a});return p.jsxs("div",{className:"w-full h-screen md:basis-1/3 p-4 md:border-t-0 flex flex-col gap-3 bg-white shadow-md rounded-lg",children:[p.jsx(Zp,{type:"text",value:n,placeholder:" ",onDelete:()=>r(""),onChange:c=>r(c.target.value)}),p.jsxs("div",{className:"flex flex-wrap gap-3 w-full",children:[p.jsx(Sq,{}),p.jsx(vq,{}),p.jsx(bq,{}),p.jsx(wq,{})]}),p.jsx("button",{type:"button",className:"text-blue-500 cursor-pointer text-sm",onClick:()=>i(Cq),children:"+   "}),p.jsx("div",{className:"flex flex-col h-full overflow-hidden",children:p.jsx("div",{className:"overflow-y-auto flex-grow",children:p.jsx(kS,{subjects:u,isPending:e})})})]})}function Eq({onClose:t,type:e}){const[n,r]=P.useState(""),i=vt(f=>f.currentTimetable),{mutate:s}=Lj(),{mutate:o}=p_(),{mutate:a}=m_(),u=()=>{e==="edit"&&i&&(o(i.timeTableId),t())},c=f=>{if(f.preventDefault(),i&&e==="edit"){s({timeTableId:i.timeTableId,timeTableName:n}),t();return}e==="create"&&(a({timeTableName:n,semester:"2025-2"}),t())},h=f=>{f.key==="Escape"&&t()};return P.useEffect(()=>(window.addEventListener("keydown",h),()=>{window.removeEventListener("keydown",h)}),[]),p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/10",onClick:t,children:p.jsxs("div",{className:"bg-white flex border border-gray-200 rounded-xl flex-col gap-2 w-[90%] max-w-md p-8 shadow-xl relative",onClick:f=>f.stopPropagation(),children:[p.jsxs("div",{className:"flex w-full justify-between",children:[p.jsxs("h3",{className:"font-semibold",children:[" ",e==="create"?"":""]}),p.jsx("button",{className:"w-6 h-6 cursor-pointer flex items-center justify-center bg-gray-100 rounded-full",onClick:t,children:p.jsx(wd,{})})]}),p.jsxs("form",{onSubmit:c,className:"flex flex-col gap-3",children:[p.jsx(Yi,{label:"2025-2",selected:!1}),p.jsx(ES,{id:"timetableName",required:!0,placeholder:"  .",value:n,onChange:f=>r(f.target.value)},"timetableName"),p.jsxs("div",{className:"flex  justify-end gap-3",children:[p.jsx("button",{type:"submit",className:"text-blue-500 text-sm w-15 rounded px-4 py-2 cursor-pointer",children:""}),i&&e==="edit"&&p.jsx("button",{type:"button",onClick:u,className:"text-red-500 text-sm w-15 rounded px-3 py-2 cursor-pointer",children:""})]})]})]})})}const NS=t=>P.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},P.createElement("path",{d:"M8.5 4.6665C8.5 4.5339 8.44732 4.40672 8.35355 4.31295C8.25979 4.21918 8.13261 4.1665 8 4.1665C7.86739 4.1665 7.74022 4.21918 7.64645 4.31295C7.55268 4.40672 7.5 4.5339 7.5 4.6665V7.99984C7.49996 8.08461 7.52148 8.168 7.56253 8.24217C7.60358 8.31634 7.66282 8.37885 7.73467 8.42384L9.73467 9.67384C9.84712 9.74421 9.98292 9.76703 10.1122 9.73727C10.1762 9.72254 10.2367 9.69534 10.2902 9.65723C10.3437 9.61912 10.3892 9.57085 10.424 9.51517C10.4588 9.45949 10.4824 9.39749 10.4933 9.33272C10.5041 9.26794 10.5022 9.20165 10.4874 9.13764C10.4727 9.07363 10.4455 9.01315 10.4074 8.95965C10.3693 8.90615 10.321 8.86068 10.2653 8.82584L8.5 7.7225V4.6665Z",fill:"#D1D5DB"}),P.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.99996 2.1665C6.45286 2.1665 4.96913 2.78109 3.87517 3.87505C2.78121 4.96901 2.16663 6.45274 2.16663 7.99984C2.16663 9.54693 2.78121 11.0307 3.87517 12.1246C4.96913 13.2186 6.45286 13.8332 7.99996 13.8332C9.54706 13.8332 11.0308 13.2186 12.1248 12.1246C13.2187 11.0307 13.8333 9.54693 13.8333 7.99984C13.8333 6.45274 13.2187 4.96901 12.1248 3.87505C11.0308 2.78109 9.54706 2.1665 7.99996 2.1665ZM3.16663 7.99984C3.16663 7.36512 3.29164 6.73661 3.53454 6.1502C3.77744 5.56379 4.13346 5.03097 4.58228 4.58215C5.03109 4.13334 5.56392 3.77732 6.15032 3.53442C6.73673 3.29152 7.36524 3.1665 7.99996 3.1665C8.63468 3.1665 9.26319 3.29152 9.8496 3.53442C10.436 3.77732 10.9688 4.13334 11.4176 4.58215C11.8665 5.03097 12.2225 5.56379 12.4654 6.1502C12.7083 6.73661 12.8333 7.36512 12.8333 7.99984C12.8333 9.28172 12.3241 10.5111 11.4176 11.4175C10.5112 12.3239 9.28184 12.8332 7.99996 12.8332C6.71808 12.8332 5.4887 12.3239 4.58228 11.4175C3.67585 10.5111 3.16663 9.28172 3.16663 7.99984Z",fill:"#D1D5DB"})),PS=t=>P.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},P.createElement("path",{d:"M13.7069 6.79266L8.70688 1.79266C8.51936 1.60527 8.26511 1.5 8.00001 1.5C7.7349 1.5 7.48065 1.60527 7.29313 1.79266L2.29313 6.79266C2.19982 6.88528 2.12586 6.99552 2.07553 7.11698C2.02521 7.23844 1.99954 7.36869 2.00001 7.50016V13.5002C2.00001 13.6328 2.05268 13.7599 2.14645 13.8537C2.24022 13.9475 2.3674 14.0002 2.50001 14.0002H6.50001C6.63261 14.0002 6.75979 13.9475 6.85356 13.8537C6.94733 13.7599 7.00001 13.6328 7.00001 13.5002V10.0002H9.00001V13.5002C9.00001 13.6328 9.05268 13.7599 9.14645 13.8537C9.24022 13.9475 9.3674 14.0002 9.50001 14.0002H13.5C13.6326 14.0002 13.7598 13.9475 13.8536 13.8537C13.9473 13.7599 14 13.6328 14 13.5002V7.50016C14.0005 7.36869 13.9748 7.23844 13.9245 7.11698C13.8742 6.99552 13.8002 6.88528 13.7069 6.79266ZM13 13.0002H10V9.50016C10 9.36755 9.94733 9.24038 9.85356 9.14661C9.75979 9.05284 9.63261 9.00016 9.50001 9.00016H6.50001C6.3674 9.00016 6.24022 9.05284 6.14645 9.14661C6.05268 9.24038 6.00001 9.36755 6.00001 9.50016V13.0002H3.00001V7.50016L8.00001 2.50016L13 7.50016V13.0002Z",fill:"#D1D5DB"}));function jq(){const{schedule:t}=bd(),{deleteSchedule:e,cancelSchedule:n}=br(),{data:r}=Ko(),i=a=>{confirm("  ?")&&e(a)},s=a=>{a.key==="Escape"&&n(a)};P.useEffect(()=>(window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s)}),[]);const o=r?.find(a=>a.subjectId===t.subjectId);return p.jsx("div",{className:"fixed inset-0 z-50  hidden md:flex items-center justify-center  bg-black/10",children:p.jsxs("div",{className:"bg-white flex flex-col border border-gray-200 rounded-xl gap-2 w-[90%] max-w-md p-8 shadow-xl relative",onClick:a=>a.stopPropagation(),role:"dialog","aria-modal":"true",children:[p.jsxs("div",{className:"flex w-full justify-between",children:[p.jsx("h3",{className:"font-semibold text-lg",children:t.subjectName}),p.jsx("button",{className:"w-6 h-6 cursor-pointer flex items-center justify-center bg-gray-100 rounded-full",onClick:n,children:p.jsx(wd,{})})]}),p.jsxs("div",{className:"flex flex-col gap-1 px-2 py-3 text-gray-500 text-sm",children:[p.jsx("p",{className:"text-sm text-gray-500",children:t.professorName??"  "}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(NS,{className:"w-4 h-4 text-gray-400"}),p.jsx("span",{className:"text-gray-500 text-sm",children:o?.lesnTime})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(PS,{className:"w-4 h-4 text-gray-400"}),p.jsx("span",{className:"text-gray-500 text-sm",children:o?.lesnRoom??"  "})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("span",{className:"text-gray-500 text-sm",children:o?.manageDeptNm}),p.jsxs("span",{className:"text-gray-500 text-sm",children:[" ",o?.studentYear+""]}),p.jsx("span",{className:"text-blue-500 text-sm",children:o?.tmNum[0]+""})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsxs("span",{className:"text-gray-500 text-sm font-bold",children:[o?.curiTypeCdNm," "]}),p.jsx("span",{className:"text-gray-500 text-sm",children:o?.remark??""})]})]}),p.jsx("div",{className:"px-4 py-4",children:p.jsx("button",{onClick:i,className:"text-sm text-red-500 cursor-pointer font-medium ml-auto block",children:""})})]})})}function Tq(){const{schedule:t}=bd(),{deleteSchedule:e,cancelSchedule:n}=br(),{data:r}=Ko(),i=o=>{confirm("  ?")&&e(o)},s=r?.find(o=>o.subjectId===t.subjectId);return p.jsxs(im,{children:[p.jsx(sm,{headerType:"close",onClose:n}),p.jsx("div",{className:"w-full flex items-center gap-2 border-b border-gray-200 p-2 h-12",children:p.jsx("h3",{className:"font-semibold text-md",children:t.subjectName})}),p.jsxs("div",{className:"flex flex-col gap-1 px-2 py-3 text-gray-500 text-sm",children:[p.jsx("p",{className:"text-sm text-gray-500",children:t.professorName??"  "}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(NS,{className:"w-4 h-4 text-gray-400"}),p.jsx("span",{className:"text-gray-500 text-sm",children:s?.lesnTime})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(PS,{className:"w-4 h-4 text-gray-400"}),p.jsx("span",{className:"text-gray-500 text-sm",children:s?.lesnRoom??"  "})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("span",{className:"text-gray-500 text-sm",children:s?.manageDeptNm}),p.jsxs("span",{className:"text-gray-500 text-sm",children:[" ",s?.studentYear+""]}),p.jsx("span",{className:"text-blue-500 text-sm",children:s?.tmNum[0]+""})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsxs("span",{className:"text-gray-500 text-sm font-bold",children:[s?.curiTypeCdNm??""," "]}),p.jsx("span",{className:"text-gray-500 text-sm",children:s?.remark??""})]})]}),p.jsx("div",{className:"px-4 py-4",children:p.jsx("button",{onClick:i,className:"text-sm text-red-500 cursor-pointer font-medium ml-auto block",children:""})})]})}var G0={exports:{}},u4;function Nq(){return u4||(u4=1,function(t){(function(e){var n=A(),r=F(),i=U(),s=O(),o={imagePlaceholder:void 0,cacheBust:!1},a={toSvg:u,toPng:h,toJpeg:f,toBlob:g,toPixelData:c,impl:{fontFaces:i,images:s,util:n,inliner:r,options:{}}};t.exports=a;function u($,K){return K=K||{},v(K),Promise.resolve($).then(function(z){return S(z,K.filter,!0)}).then(C).then(j).then(H).then(function(z){return R(z,K.width||n.width($),K.height||n.height($))});function H(z){return K.bgcolor&&(z.style.backgroundColor=K.bgcolor),K.width&&(z.style.width=K.width+"px"),K.height&&(z.style.height=K.height+"px"),K.style&&Object.keys(K.style).forEach(function(ue){z.style[ue]=K.style[ue]}),z}}function c($,K){return _($,K||{}).then(function(H){return H.getContext("2d").getImageData(0,0,n.width($),n.height($)).data})}function h($,K){return _($,K||{}).then(function(H){return H.toDataURL()})}function f($,K){return K=K||{},_($,K).then(function(H){return H.toDataURL("image/jpeg",K.quality||1)})}function g($,K){return _($,K||{}).then(n.canvasToBlob)}function v($){typeof $.imagePlaceholder>"u"?a.impl.options.imagePlaceholder=o.imagePlaceholder:a.impl.options.imagePlaceholder=$.imagePlaceholder,typeof $.cacheBust>"u"?a.impl.options.cacheBust=o.cacheBust:a.impl.options.cacheBust=$.cacheBust}function _($,K){return u($,K).then(n.makeImage).then(n.delay(100)).then(function(z){var ue=H($);return ue.getContext("2d").drawImage(z,0,0),ue});function H(z){var ue=document.createElement("canvas");if(ue.width=K.width||n.width(z),ue.height=K.height||n.height(z),K.bgcolor){var de=ue.getContext("2d");de.fillStyle=K.bgcolor,de.fillRect(0,0,ue.width,ue.height)}return ue}}function S($,K,H){if(!H&&K&&!K($))return Promise.resolve();return Promise.resolve($).then(z).then(function(pe){return ue($,pe,K)}).then(function(pe){return de($,pe)});function z(pe){return pe instanceof HTMLCanvasElement?n.makeImage(pe.toDataURL()):pe.cloneNode(!1)}function ue(pe,q,V){var Z=pe.childNodes;if(Z.length===0)return Promise.resolve(q);return re(q,n.asArray(Z),V).then(function(){return q});function re(ne,me,D){var G=Promise.resolve();return me.forEach(function(ye){G=G.then(function(){return S(ye,D)}).then(function(I){I&&ne.appendChild(I)})}),G}}function de(pe,q){if(!(q instanceof Element))return q;return Promise.resolve().then(V).then(Z).then(re).then(ne).then(function(){return q});function V(){me(window.getComputedStyle(pe),q.style);function me(D,G){D.cssText?G.cssText=D.cssText:ye(D,G);function ye(I,Ie){n.asArray(I).forEach(function(Ee){Ie.setProperty(Ee,I.getPropertyValue(Ee),I.getPropertyPriority(Ee))})}}}function Z(){[":before",":after"].forEach(function(D){me(D)});function me(D){var G=window.getComputedStyle(pe,D),ye=G.getPropertyValue("content");if(ye===""||ye==="none")return;var I=n.uid();q.className=q.className+" "+I;var Ie=document.createElement("style");Ie.appendChild(Ee(I,D,G)),q.appendChild(Ie);function Ee(je,Ye,Ke){var Pe="."+je+":"+Ye,ht=Ke.cssText?ln(Ke):Tt(Ke);return document.createTextNode(Pe+"{"+ht+"}");function ln(fn){var un=fn.getPropertyValue("content");return fn.cssText+" content: "+un+";"}function Tt(fn){return n.asArray(fn).map(un).join("; ")+";";function un(En){return En+": "+fn.getPropertyValue(En)+(fn.getPropertyPriority(En)?" !important":"")}}}}}function re(){pe instanceof HTMLTextAreaElement&&(q.innerHTML=pe.value),pe instanceof HTMLInputElement&&q.setAttribute("value",pe.value)}function ne(){q instanceof SVGElement&&(q.setAttribute("xmlns","http://www.w3.org/2000/svg"),q instanceof SVGRectElement&&["width","height"].forEach(function(me){var D=q.getAttribute(me);D&&q.style.setProperty(me,D)}))}}}function C($){return i.resolveAll().then(function(K){var H=document.createElement("style");return $.appendChild(H),H.appendChild(document.createTextNode(K)),$})}function j($){return s.inlineAll($).then(function(){return $})}function R($,K,H){return Promise.resolve($).then(function(z){return z.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(z)}).then(n.escapeXhtml).then(function(z){return'<foreignObject x="0" y="0" width="100%" height="100%">'+z+"</foreignObject>"}).then(function(z){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+K+'" height="'+H+'">'+z+"</svg>"}).then(function(z){return"data:image/svg+xml;charset=utf-8,"+z})}function A(){return{escape:ne,parseExtension:K,mimeType:H,dataAsUrl:re,isDataUrl:z,canvasToBlob:de,resolveUrl:pe,getAndEncode:Z,uid:q(),delay:me,asArray:D,escapeXhtml:G,makeImage:V,width:ye,height:I};function $(){var Ee="application/font-woff",je="image/jpeg";return{woff:Ee,woff2:Ee,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:je,jpeg:je,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function K(Ee){var je=/\.([^\.\/]*?)$/g.exec(Ee);return je?je[1]:""}function H(Ee){var je=K(Ee).toLowerCase();return $()[je]||""}function z(Ee){return Ee.search(/^(data:)/)!==-1}function ue(Ee){return new Promise(function(je){for(var Ye=window.atob(Ee.toDataURL().split(",")[1]),Ke=Ye.length,Pe=new Uint8Array(Ke),ht=0;ht<Ke;ht++)Pe[ht]=Ye.charCodeAt(ht);je(new Blob([Pe],{type:"image/png"}))})}function de(Ee){return Ee.toBlob?new Promise(function(je){Ee.toBlob(je)}):ue(Ee)}function pe(Ee,je){var Ye=document.implementation.createHTMLDocument(),Ke=Ye.createElement("base");Ye.head.appendChild(Ke);var Pe=Ye.createElement("a");return Ye.body.appendChild(Pe),Ke.href=je,Pe.href=Ee,Pe.href}function q(){var Ee=0;return function(){return"u"+je()+Ee++;function je(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function V(Ee){return new Promise(function(je,Ye){var Ke=new Image;Ke.onload=function(){je(Ke)},Ke.onerror=Ye,Ke.src=Ee})}function Z(Ee){var je=3e4;return a.impl.options.cacheBust&&(Ee+=(/\?/.test(Ee)?"&":"?")+new Date().getTime()),new Promise(function(Ye){var Ke=new XMLHttpRequest;Ke.onreadystatechange=ln,Ke.ontimeout=Tt,Ke.responseType="blob",Ke.timeout=je,Ke.open("GET",Ee,!0),Ke.send();var Pe;if(a.impl.options.imagePlaceholder){var ht=a.impl.options.imagePlaceholder.split(/,/);ht&&ht[1]&&(Pe=ht[1])}function ln(){if(Ke.readyState===4){if(Ke.status!==200){Pe?Ye(Pe):fn("cannot fetch resource: "+Ee+", status: "+Ke.status);return}var un=new FileReader;un.onloadend=function(){var En=un.result.split(/,/)[1];Ye(En)},un.readAsDataURL(Ke.response)}}function Tt(){Pe?Ye(Pe):fn("timeout of "+je+"ms occured while fetching resource: "+Ee)}function fn(un){console.error(un),Ye("")}})}function re(Ee,je){return"data:"+je+";base64,"+Ee}function ne(Ee){return Ee.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function me(Ee){return function(je){return new Promise(function(Ye){setTimeout(function(){Ye(je)},Ee)})}}function D(Ee){for(var je=[],Ye=Ee.length,Ke=0;Ke<Ye;Ke++)je.push(Ee[Ke]);return je}function G(Ee){return Ee.replace(/#/g,"%23").replace(/\n/g,"%0A")}function ye(Ee){var je=Ie(Ee,"border-left-width"),Ye=Ie(Ee,"border-right-width");return Ee.scrollWidth+je+Ye}function I(Ee){var je=Ie(Ee,"border-top-width"),Ye=Ie(Ee,"border-bottom-width");return Ee.scrollHeight+je+Ye}function Ie(Ee,je){var Ye=window.getComputedStyle(Ee).getPropertyValue(je);return parseFloat(Ye.replace("px",""))}}function F(){var $=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:ue,shouldProcess:K,impl:{readUrls:H,inline:z}};function K(de){return de.search($)!==-1}function H(de){for(var pe=[],q;(q=$.exec(de))!==null;)pe.push(q[1]);return pe.filter(function(V){return!n.isDataUrl(V)})}function z(de,pe,q,V){return Promise.resolve(pe).then(function(re){return q?n.resolveUrl(re,q):re}).then(V||n.getAndEncode).then(function(re){return n.dataAsUrl(re,n.mimeType(pe))}).then(function(re){return de.replace(Z(pe),"$1"+re+"$3")});function Z(re){return new RegExp(`(url\\(['"]?)(`+n.escape(re)+`)(['"]?\\))`,"g")}}function ue(de,pe,q){if(V())return Promise.resolve(de);return Promise.resolve(de).then(H).then(function(Z){var re=Promise.resolve(de);return Z.forEach(function(ne){re=re.then(function(me){return z(me,ne,pe,q)})}),re});function V(){return!K(de)}}}function U(){return{resolveAll:$,impl:{readAll:K}};function $(){return K().then(function(H){return Promise.all(H.map(function(z){return z.resolve()}))}).then(function(H){return H.join(`
`)})}function K(){return Promise.resolve(n.asArray(document.styleSheets)).then(z).then(H).then(function(de){return de.map(ue)});function H(de){return de.filter(function(pe){return pe.type===CSSRule.FONT_FACE_RULE}).filter(function(pe){return r.shouldProcess(pe.style.getPropertyValue("src"))})}function z(de){var pe=[];return de.forEach(function(q){try{n.asArray(q.cssRules||[]).forEach(pe.push.bind(pe))}catch(V){console.log("Error while reading CSS rules from "+q.href,V.toString())}}),pe}function ue(de){return{resolve:function(){var q=(de.parentStyleSheet||{}).href;return r.inlineAll(de.cssText,q)},src:function(){return de.style.getPropertyValue("src")}}}}}function O(){return{inlineAll:K,impl:{newImage:$}};function $(H){return{inline:z};function z(ue){return n.isDataUrl(H.src)?Promise.resolve():Promise.resolve(H.src).then(ue||n.getAndEncode).then(function(de){return n.dataAsUrl(de,n.mimeType(H.src))}).then(function(de){return new Promise(function(pe,q){H.onload=pe,H.onerror=q,H.src=de})})}}function K(H){if(!(H instanceof Element))return Promise.resolve(H);return z(H).then(function(){return H instanceof HTMLImageElement?$(H).inline():Promise.all(n.asArray(H.childNodes).map(function(ue){return K(ue)}))});function z(ue){var de=ue.style.getPropertyValue("background");return de?r.inlineAll(de).then(function(pe){ue.style.setProperty("background",pe,ue.style.getPropertyPriority("background"))}).then(function(){return ue}):Promise.resolve(ue)}}}})()}(G0)),G0.exports}var Pq=Nq();const Oq=di(Pq);var $f={exports:{}},Aq=$f.exports,c4;function Lq(){return c4||(c4=1,function(t,e){(function(n,r){r()})(Aq,function(){function n(c,h){return typeof h>"u"?h={autoBom:!1}:typeof h!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function r(c,h,f){var g=new XMLHttpRequest;g.open("GET",c),g.responseType="blob",g.onload=function(){u(g.response,h,f)},g.onerror=function(){console.error("could not download file")},g.send()}function i(c){var h=new XMLHttpRequest;h.open("HEAD",c,!1);try{h.send()}catch{}return 200<=h.status&&299>=h.status}function s(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(h)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Ac=="object"&&Ac.global===Ac?Ac:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(c,h,f){var g=o.URL||o.webkitURL,v=document.createElement("a");h=h||c.name||"download",v.download=h,v.rel="noopener",typeof c=="string"?(v.href=c,v.origin===location.origin?s(v):i(v.href)?r(c,h,f):s(v,v.target="_blank")):(v.href=g.createObjectURL(c),setTimeout(function(){g.revokeObjectURL(v.href)},4e4),setTimeout(function(){s(v)},0))}:"msSaveOrOpenBlob"in navigator?function(c,h,f){if(h=h||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(n(c,f),h);else if(i(c))r(c,h,f);else{var g=document.createElement("a");g.href=c,g.target="_blank",setTimeout(function(){s(g)})}}:function(c,h,f,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof c=="string")return r(c,h,f);var v=c.type==="application/octet-stream",_=/constructor/i.test(o.HTMLElement)||o.safari,S=/CriOS\/[\d]+/.test(navigator.userAgent);if((S||v&&_||a)&&typeof FileReader<"u"){var C=new FileReader;C.onloadend=function(){var A=C.result;A=S?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=A:location=A,g=null},C.readAsDataURL(c)}else{var j=o.URL||o.webkitURL,R=j.createObjectURL(c);g?g.location=R:location.href=R,g=null,setTimeout(function(){j.revokeObjectURL(R)},4e4)}});o.saveAs=u.saveAs=u,t.exports=u})}($f)),$f.exports}var Rq=Lq();function Mq(t,e="image.png"){if(!t){console.error("Image reference is not set");return}Oq.toBlob(t).then(n=>Rq.saveAs(n,e)).catch(n=>{console.error("Error saving image:",n)})}const Dq=t=>P.createElement("svg",{width:31,height:31,viewBox:"0 0 31 31",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},P.createElement("path",{d:"M14.2084 16.7918H7.75005C7.38407 16.7918 7.07752 16.6678 6.83038 16.4198C6.58324 16.1718 6.45924 15.8653 6.45838 15.5002C6.45752 15.1351 6.58152 14.8285 6.83038 14.5805C7.07924 14.3325 7.3858 14.2085 7.75005 14.2085H14.2084V7.75017C14.2084 7.38419 14.3324 7.07764 14.5804 6.8305C14.8284 6.58336 15.1349 6.45936 15.5 6.4585C15.8652 6.45764 16.1721 6.58164 16.421 6.8305C16.6699 7.07936 16.7934 7.38592 16.7917 7.75017V14.2085H23.25C23.616 14.2085 23.923 14.3325 24.171 14.5805C24.419 14.8285 24.5426 15.1351 24.5417 15.5002C24.5409 15.8653 24.4169 16.1723 24.1697 16.4211C23.9226 16.67 23.616 16.7936 23.25 16.7918H16.7917V23.2502C16.7917 23.6161 16.6677 23.9231 16.4197 24.1711C16.1717 24.4191 15.8652 24.5427 15.5 24.5418C15.1349 24.541 14.8284 24.417 14.5804 24.1698C14.3324 23.9227 14.2084 23.6161 14.2084 23.2502V16.7918Z",fill:"white"})),Iq=t=>P.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},P.createElement("path",{d:"M10 12.9791C9.8889 12.9791 9.78473 12.9619 9.68751 12.9274C9.59029 12.893 9.50001 12.8338 9.41668 12.7499L6.41668 9.74992C6.25001 9.58325 6.17001 9.38881 6.17668 9.16659C6.18334 8.94437 6.26334 8.74992 6.41668 8.58325C6.58334 8.41659 6.7814 8.32992 7.01084 8.32325C7.24029 8.31659 7.43807 8.39631 7.60418 8.56242L9.16668 10.1249V4.16659C9.16668 3.93048 9.24668 3.7327 9.40668 3.57325C9.56668 3.41381 9.76445 3.33381 10 3.33325C10.2356 3.3327 10.4336 3.4127 10.5942 3.57325C10.7547 3.73381 10.8345 3.93159 10.8333 4.16659V10.1249L12.3958 8.56242C12.5625 8.39575 12.7606 8.31575 12.99 8.32242C13.2195 8.32909 13.4172 8.41603 13.5833 8.58325C13.7361 8.74992 13.8161 8.94437 13.8233 9.16659C13.8306 9.38881 13.7506 9.58325 13.5833 9.74992L10.5833 12.7499C10.5 12.8333 10.4097 12.8924 10.3125 12.9274C10.2153 12.9624 10.1111 12.9796 10 12.9791ZM5.00001 16.6666C4.54168 16.6666 4.14945 16.5035 3.82334 16.1774C3.49723 15.8513 3.3339 15.4588 3.33334 14.9999V13.3333C3.33334 13.0971 3.41334 12.8994 3.57334 12.7399C3.73334 12.5805 3.93112 12.5005 4.16668 12.4999C4.40223 12.4994 4.60029 12.5794 4.76084 12.7399C4.9214 12.9005 5.00112 13.0983 5.00001 13.3333V14.9999H15V13.3333C15 13.0971 15.08 12.8994 15.24 12.7399C15.4 12.5805 15.5978 12.5005 15.8333 12.4999C16.0689 12.4994 16.267 12.5794 16.4275 12.7399C16.5881 12.9005 16.6678 13.0983 16.6667 13.3333V14.9999C16.6667 15.4583 16.5036 15.8508 16.1775 16.1774C15.8514 16.5041 15.4589 16.6671 15 16.6666H5.00001Z",fill:"#9CA3AF"}));function Fq(){const[t,e]=P.useState(null),n=Ys(o=>o.type),r=Ys(o=>o.closeBottomSheet),i=Ys(o=>o.openBottomSheet),s=o=>{r("search"),i(o)};return p.jsxs("div",{className:"w-full p-4 ",children:[p.jsx(nr,{children:p.jsx("title",{children:"ALLCLL | "})}),p.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[p.jsx("div",{className:"md:col-span-2 w-full h-full",children:p.jsxs(Zf,{className:"px-2 relative overflow-hidden",children:[p.jsx(Bq,{setIsOpenModal:e}),p.jsx(Jj,{})]})}),p.jsxs("div",{className:"md:col-span-1 w-full",children:[p.jsx("div",{className:"hidden md:block",children:p.jsx(kq,{})}),p.jsxs("div",{className:"md:hidden",children:[n==="search"&&p.jsx(fq,{onCloseSearch:s}),n==="filter"&&p.jsx(pq,{}),n==="edit"&&p.jsx(gq,{}),n==="Info"&&p.jsx(Tq,{})]})]}),n==="edit"&&p.jsx(yq,{}),n==="Info"&&p.jsx(jq,{})]}),t&&p.jsx(Eq,{type:t,onClose:()=>e(null)}),n===null&&p.jsx("button",{className:"fixed bottom-4 right-4 z-50 w-15 h-15 rounded-full bg-blue-500 flex justify-center items-center shadow-lg md:hidden",onClick:()=>i("search"),children:p.jsx(Dq,{className:"w-10 h-10 cursor-pointer"})})]})}function Bq({setIsOpenModal:t}){const{mutate:e}=p_(),{data:n=[]}=f_(),r=vt(v=>v.options.isMobile),i=vt(v=>v.pickTimetable),s=Ys(v=>v.openBottomSheet),{openScheduleModal:o}=br(),a=v=>{const _=n.find(S=>S.timeTableId===v);_&&i(_)},u=()=>{t("edit")},c=v=>{e(v)},h=()=>{const v=vt.getState()?.currentTimetable?.timeTableName,_=vt.getState().options.containerRef;Mq(_,v?v+".png":".png")},f=()=>{t("create")},g=()=>{o(new Pr().toUiData())};return p.jsxs("header",{className:"flex pb-2 justify-between items-center",children:[p.jsx(oq,{timetables:n,onSelect:a,onEdit:u,onDelete:c,openCreateModal:f}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("button",{className:"rounded-md hover:bg-gray-100 p-1 h-fit cursor-pointer",onClick:h,title:"  ",children:p.jsx(Iq,{className:"w-5 h-5"})}),p.jsx("button",{className:"rounded-md hover:bg-gray-100 p-1 h-fit cursor-pointer",onClick:g,title:"  ",children:p.jsx(CS,{className:"w-5 h-5"})}),r&&p.jsx("button",{className:"rounded-md hover:bg-gray-100 p-2 h-fit cursor-pointer",onClick:()=>s("search"),title:" ",children:p.jsx(Jp,{className:"w-3 h-3"})})]})]})}const zq=EC([{path:"/",element:p.jsx(Mb,{}),errorElement:p.jsx(zc,{}),children:[{path:"/",element:p.jsx(bR,{})},{path:"survey",element:p.jsx(JR,{})},{path:"about",element:p.jsx(XR,{})},{path:"faq",element:p.jsx(A$,{})}]},{path:"wishes",element:p.jsx(Db,{serviceId:"baskets"}),errorElement:p.jsx(wQ,{}),children:[{path:"",element:p.jsx(lQ,{})},{path:":id",element:p.jsx(bQ,{})}]},{path:"live",element:p.jsx(Db,{serviceId:"live"}),errorElement:p.jsx(zc,{}),children:[{path:"",element:p.jsx(YR,{})}]},{path:"simulation",element:p.jsx(kj,{}),errorElement:p.jsx(zc,{}),children:[{path:"",element:p.jsx(AV,{})},{path:"logs",element:p.jsx(zV,{})},{path:"logs/:runId",element:p.jsx(XV,{})},{path:"admin",element:p.jsx(iq,{})},{path:"wishlist",element:p.jsx(sq,{})}]},{path:"timetable",element:p.jsx(Mb,{}),errorElement:p.jsx(zc,{}),children:[{path:"",element:p.jsx(Fq,{})}]},{path:"*",element:p.jsx(vS,{})}]),$q=new ZC;Uq();function Uq(){A8.createRoot(document.getElementById("root")).render(p.jsx(P.StrictMode,{children:p.jsx(ik,{client:$q,children:p.jsx(IC,{router:zq})})})),"serviceWorker"in navigator&&navigator.serviceWorker.register("/serviceWorker.js").then(function(t){console.log("Service Worker registered with scope:",t.scope)}).catch(function(t){console.log("Service Worker registration failed:",t)})}
//# sourceMappingURL=index-CCVfJIZc.js.map
