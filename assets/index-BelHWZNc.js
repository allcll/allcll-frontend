try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="bd2925e4-ff25-473b-bf2e-f37ec962faa5",e._sentryDebugIdIdentifier="sentry-dbid-bd2925e4-ff25-473b-bf2e-f37ec962faa5")}catch{}function A7(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"63b618dfbb316e89d3631d0c8d7eb4b036bbc6ac"}}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Md=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ts(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sy={exports:{}},xd={},ay={exports:{}},Ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sw;function I7(){if(Sw)return Ft;Sw=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function g(Y){return Y===null||typeof Y!="object"?null:(Y=p&&Y[p]||Y["@@iterator"],typeof Y=="function"?Y:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,_={};function C(Y,ge,H){this.props=Y,this.context=ge,this.refs=_,this.updater=H||y}C.prototype.isReactComponent={},C.prototype.setState=function(Y,ge){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,ge,"setState")},C.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function k(){}k.prototype=C.prototype;function P(Y,ge,H){this.props=Y,this.context=ge,this.refs=_,this.updater=H||y}var A=P.prototype=new k;A.constructor=P,b(A,C.prototype),A.isPureReactComponent=!0;var U=Array.isArray,V=Object.prototype.hasOwnProperty,I={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function B(Y,ge,H){var Pe,ke={},Ee=null,Qe=null;if(ge!=null)for(Pe in ge.ref!==void 0&&(Qe=ge.ref),ge.key!==void 0&&(Ee=""+ge.key),ge)V.call(ge,Pe)&&!O.hasOwnProperty(Pe)&&(ke[Pe]=ge[Pe]);var Ve=arguments.length-2;if(Ve===1)ke.children=H;else if(1<Ve){for(var bt=Array(Ve),ze=0;ze<Ve;ze++)bt[ze]=arguments[ze+2];ke.children=bt}if(Y&&Y.defaultProps)for(Pe in Ve=Y.defaultProps,Ve)ke[Pe]===void 0&&(ke[Pe]=Ve[Pe]);return{$$typeof:e,type:Y,key:Ee,ref:Qe,props:ke,_owner:I.current}}function W(Y,ge){return{$$typeof:e,type:Y.type,key:ge,ref:Y.ref,props:Y.props,_owner:Y._owner}}function F(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===e}function se(Y){var ge={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(H){return ge[H]})}var J=/\/+/g;function xe(Y,ge){return typeof Y=="object"&&Y!==null&&Y.key!=null?se(""+Y.key):ge.toString(36)}function G(Y,ge,H,Pe,ke){var Ee=typeof Y;(Ee==="undefined"||Ee==="boolean")&&(Y=null);var Qe=!1;if(Y===null)Qe=!0;else switch(Ee){case"string":case"number":Qe=!0;break;case"object":switch(Y.$$typeof){case e:case t:Qe=!0}}if(Qe)return Qe=Y,ke=ke(Qe),Y=Pe===""?"."+xe(Qe,0):Pe,U(ke)?(H="",Y!=null&&(H=Y.replace(J,"$&/")+"/"),G(ke,ge,H,"",function(ze){return ze})):ke!=null&&(F(ke)&&(ke=W(ke,H+(!ke.key||Qe&&Qe.key===ke.key?"":(""+ke.key).replace(J,"$&/")+"/")+Y)),ge.push(ke)),1;if(Qe=0,Pe=Pe===""?".":Pe+":",U(Y))for(var Ve=0;Ve<Y.length;Ve++){Ee=Y[Ve];var bt=Pe+xe(Ee,Ve);Qe+=G(Ee,ge,H,bt,ke)}else if(bt=g(Y),typeof bt=="function")for(Y=bt.call(Y),Ve=0;!(Ee=Y.next()).done;)Ee=Ee.value,bt=Pe+xe(Ee,Ve++),Qe+=G(Ee,ge,H,bt,ke);else if(Ee==="object")throw ge=String(Y),Error("Objects are not valid as a React child (found: "+(ge==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":ge)+"). If you meant to render a collection of children, use an array instead.");return Qe}function $(Y,ge,H){if(Y==null)return Y;var Pe=[],ke=0;return G(Y,Pe,"","",function(Ee){return ge.call(H,Ee,ke++)}),Pe}function ee(Y){if(Y._status===-1){var ge=Y._result;ge=ge(),ge.then(function(H){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=H)},function(H){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=H)}),Y._status===-1&&(Y._status=0,Y._result=ge)}if(Y._status===1)return Y._result.default;throw Y._result}var Z={current:null},X={transition:null},pe={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:X,ReactCurrentOwner:I};function M(){throw Error("act(...) is not supported in production builds of React.")}return Ft.Children={map:$,forEach:function(Y,ge,H){$(Y,function(){ge.apply(this,arguments)},H)},count:function(Y){var ge=0;return $(Y,function(){ge++}),ge},toArray:function(Y){return $(Y,function(ge){return ge})||[]},only:function(Y){if(!F(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},Ft.Component=C,Ft.Fragment=n,Ft.Profiler=i,Ft.PureComponent=P,Ft.StrictMode=r,Ft.Suspense=u,Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,Ft.act=M,Ft.cloneElement=function(Y,ge,H){if(Y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Y+".");var Pe=b({},Y.props),ke=Y.key,Ee=Y.ref,Qe=Y._owner;if(ge!=null){if(ge.ref!==void 0&&(Ee=ge.ref,Qe=I.current),ge.key!==void 0&&(ke=""+ge.key),Y.type&&Y.type.defaultProps)var Ve=Y.type.defaultProps;for(bt in ge)V.call(ge,bt)&&!O.hasOwnProperty(bt)&&(Pe[bt]=ge[bt]===void 0&&Ve!==void 0?Ve[bt]:ge[bt])}var bt=arguments.length-2;if(bt===1)Pe.children=H;else if(1<bt){Ve=Array(bt);for(var ze=0;ze<bt;ze++)Ve[ze]=arguments[ze+2];Pe.children=Ve}return{$$typeof:e,type:Y.type,key:ke,ref:Ee,props:Pe,_owner:Qe}},Ft.createContext=function(Y){return Y={$$typeof:a,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Y.Provider={$$typeof:s,_context:Y},Y.Consumer=Y},Ft.createElement=B,Ft.createFactory=function(Y){var ge=B.bind(null,Y);return ge.type=Y,ge},Ft.createRef=function(){return{current:null}},Ft.forwardRef=function(Y){return{$$typeof:o,render:Y}},Ft.isValidElement=F,Ft.lazy=function(Y){return{$$typeof:f,_payload:{_status:-1,_result:Y},_init:ee}},Ft.memo=function(Y,ge){return{$$typeof:d,type:Y,compare:ge===void 0?null:ge}},Ft.startTransition=function(Y){var ge=X.transition;X.transition={};try{Y()}finally{X.transition=ge}},Ft.unstable_act=M,Ft.useCallback=function(Y,ge){return Z.current.useCallback(Y,ge)},Ft.useContext=function(Y){return Z.current.useContext(Y)},Ft.useDebugValue=function(){},Ft.useDeferredValue=function(Y){return Z.current.useDeferredValue(Y)},Ft.useEffect=function(Y,ge){return Z.current.useEffect(Y,ge)},Ft.useId=function(){return Z.current.useId()},Ft.useImperativeHandle=function(Y,ge,H){return Z.current.useImperativeHandle(Y,ge,H)},Ft.useInsertionEffect=function(Y,ge){return Z.current.useInsertionEffect(Y,ge)},Ft.useLayoutEffect=function(Y,ge){return Z.current.useLayoutEffect(Y,ge)},Ft.useMemo=function(Y,ge){return Z.current.useMemo(Y,ge)},Ft.useReducer=function(Y,ge,H){return Z.current.useReducer(Y,ge,H)},Ft.useRef=function(Y){return Z.current.useRef(Y)},Ft.useState=function(Y){return Z.current.useState(Y)},Ft.useSyncExternalStore=function(Y,ge,H){return Z.current.useSyncExternalStore(Y,ge,H)},Ft.useTransition=function(){return Z.current.useTransition()},Ft.version="18.3.1",Ft}var Cw;function Gm(){return Cw||(Cw=1,ay.exports=I7()),ay.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jw;function L7(){if(jw)return xd;jw=1;var e=Gm(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,u,d){var f,p={},g=null,y=null;d!==void 0&&(g=""+d),u.key!==void 0&&(g=""+u.key),u.ref!==void 0&&(y=u.ref);for(f in u)r.call(u,f)&&!s.hasOwnProperty(f)&&(p[f]=u[f]);if(o&&o.defaultProps)for(f in u=o.defaultProps,u)p[f]===void 0&&(p[f]=u[f]);return{$$typeof:t,type:o,key:g,ref:y,props:p,_owner:i.current}}return xd.Fragment=n,xd.jsx=a,xd.jsxs=a,xd}var kw;function D7(){return kw||(kw=1,sy.exports=L7()),sy.exports}var c=D7(),T=Gm();const rn=ts(T),A4=A7({__proto__:null,default:rn},[T]);var op={},oy={exports:{}},oi={},ly={exports:{}},uy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ew;function M7(){return Ew||(Ew=1,(function(e){function t(X,pe){var M=X.length;X.push(pe);e:for(;0<M;){var Y=M-1>>>1,ge=X[Y];if(0<i(ge,pe))X[Y]=pe,X[M]=ge,M=Y;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var pe=X[0],M=X.pop();if(M!==pe){X[0]=M;e:for(var Y=0,ge=X.length,H=ge>>>1;Y<H;){var Pe=2*(Y+1)-1,ke=X[Pe],Ee=Pe+1,Qe=X[Ee];if(0>i(ke,M))Ee<ge&&0>i(Qe,ke)?(X[Y]=Qe,X[Ee]=M,Y=Ee):(X[Y]=ke,X[Pe]=M,Y=Pe);else if(Ee<ge&&0>i(Qe,M))X[Y]=Qe,X[Ee]=M,Y=Ee;else break e}}return pe}function i(X,pe){var M=X.sortIndex-pe.sortIndex;return M!==0?M:X.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var u=[],d=[],f=1,p=null,g=3,y=!1,b=!1,_=!1,C=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(X){for(var pe=n(d);pe!==null;){if(pe.callback===null)r(d);else if(pe.startTime<=X)r(d),pe.sortIndex=pe.expirationTime,t(u,pe);else break;pe=n(d)}}function U(X){if(_=!1,A(X),!b)if(n(u)!==null)b=!0,ee(V);else{var pe=n(d);pe!==null&&Z(U,pe.startTime-X)}}function V(X,pe){b=!1,_&&(_=!1,k(B),B=-1),y=!0;var M=g;try{for(A(pe),p=n(u);p!==null&&(!(p.expirationTime>pe)||X&&!se());){var Y=p.callback;if(typeof Y=="function"){p.callback=null,g=p.priorityLevel;var ge=Y(p.expirationTime<=pe);pe=e.unstable_now(),typeof ge=="function"?p.callback=ge:p===n(u)&&r(u),A(pe)}else r(u);p=n(u)}if(p!==null)var H=!0;else{var Pe=n(d);Pe!==null&&Z(U,Pe.startTime-pe),H=!1}return H}finally{p=null,g=M,y=!1}}var I=!1,O=null,B=-1,W=5,F=-1;function se(){return!(e.unstable_now()-F<W)}function J(){if(O!==null){var X=e.unstable_now();F=X;var pe=!0;try{pe=O(!0,X)}finally{pe?xe():(I=!1,O=null)}}else I=!1}var xe;if(typeof P=="function")xe=function(){P(J)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,$=G.port2;G.port1.onmessage=J,xe=function(){$.postMessage(null)}}else xe=function(){C(J,0)};function ee(X){O=X,I||(I=!0,xe())}function Z(X,pe){B=C(function(){X(e.unstable_now())},pe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_continueExecution=function(){b||y||(b=!0,ee(V))},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(X){switch(g){case 1:case 2:case 3:var pe=3;break;default:pe=g}var M=g;g=pe;try{return X()}finally{g=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(X,pe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var M=g;g=X;try{return pe()}finally{g=M}},e.unstable_scheduleCallback=function(X,pe,M){var Y=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?Y+M:Y):M=Y,X){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=M+ge,X={id:f++,callback:pe,priorityLevel:X,startTime:M,expirationTime:ge,sortIndex:-1},M>Y?(X.sortIndex=M,t(d,X),n(u)===null&&X===n(d)&&(_?(k(B),B=-1):_=!0,Z(U,M-Y))):(X.sortIndex=ge,t(u,X),b||y||(b=!0,ee(V))),X},e.unstable_shouldYield=se,e.unstable_wrapCallback=function(X){var pe=g;return function(){var M=g;g=pe;try{return X.apply(this,arguments)}finally{g=M}}}})(uy)),uy}var Tw;function F7(){return Tw||(Tw=1,ly.exports=M7()),ly.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nw;function B7(){if(Nw)return oi;Nw=1;var e=Gm(),t=F7();function n(l){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(l,h){a(l,h),a(l+"Capture",h)}function a(l,h){for(i[l]=h,l=0;l<h.length;l++)r.add(h[l])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(l){return u.call(p,l)?!0:u.call(f,l)?!1:d.test(l)?p[l]=!0:(f[l]=!0,!1)}function y(l,h,m,v){if(m!==null&&m.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return v?!1:m!==null?!m.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function b(l,h,m,v){if(h===null||typeof h>"u"||y(l,h,m,v))return!0;if(v)return!1;if(m!==null)switch(m.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function _(l,h,m,v,S,E,D){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=v,this.attributeNamespace=S,this.mustUseProperty=m,this.propertyName=l,this.type=h,this.sanitizeURL=E,this.removeEmptyString=D}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){C[l]=new _(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var h=l[0];C[h]=new _(h,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){C[l]=new _(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){C[l]=new _(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){C[l]=new _(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){C[l]=new _(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){C[l]=new _(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){C[l]=new _(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){C[l]=new _(l,5,!1,l.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function P(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var h=l.replace(k,P);C[h]=new _(h,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var h=l.replace(k,P);C[h]=new _(h,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var h=l.replace(k,P);C[h]=new _(h,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){C[l]=new _(l,1,!1,l.toLowerCase(),null,!1,!1)}),C.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){C[l]=new _(l,1,!1,l.toLowerCase(),null,!0,!0)});function A(l,h,m,v){var S=C.hasOwnProperty(h)?C[h]:null;(S!==null?S.type!==0:v||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(b(h,m,S,v)&&(m=null),v||S===null?g(h)&&(m===null?l.removeAttribute(h):l.setAttribute(h,""+m)):S.mustUseProperty?l[S.propertyName]=m===null?S.type===3?!1:"":m:(h=S.attributeName,v=S.attributeNamespace,m===null?l.removeAttribute(h):(S=S.type,m=S===3||S===4&&m===!0?"":""+m,v?l.setAttributeNS(v,h,m):l.setAttribute(h,m))))}var U=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,V=Symbol.for("react.element"),I=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),se=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),xe=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),X=Symbol.iterator;function pe(l){return l===null||typeof l!="object"?null:(l=X&&l[X]||l["@@iterator"],typeof l=="function"?l:null)}var M=Object.assign,Y;function ge(l){if(Y===void 0)try{throw Error()}catch(m){var h=m.stack.trim().match(/\n( *(at )?)/);Y=h&&h[1]||""}return`
`+Y+l}var H=!1;function Pe(l,h){if(!l||H)return"";H=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(Se){var v=Se}Reflect.construct(l,[],h)}else{try{h.call()}catch(Se){v=Se}l.call(h.prototype)}else{try{throw Error()}catch(Se){v=Se}l()}}catch(Se){if(Se&&v&&typeof Se.stack=="string"){for(var S=Se.stack.split(`
`),E=v.stack.split(`
`),D=S.length-1,K=E.length-1;1<=D&&0<=K&&S[D]!==E[K];)K--;for(;1<=D&&0<=K;D--,K--)if(S[D]!==E[K]){if(D!==1||K!==1)do if(D--,K--,0>K||S[D]!==E[K]){var ne=`
`+S[D].replace(" at new "," at ");return l.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",l.displayName)),ne}while(1<=D&&0<=K);break}}}finally{H=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?ge(l):""}function ke(l){switch(l.tag){case 5:return ge(l.type);case 16:return ge("Lazy");case 13:return ge("Suspense");case 19:return ge("SuspenseList");case 0:case 2:case 15:return l=Pe(l.type,!1),l;case 11:return l=Pe(l.type.render,!1),l;case 1:return l=Pe(l.type,!0),l;default:return""}}function Ee(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case O:return"Fragment";case I:return"Portal";case W:return"Profiler";case B:return"StrictMode";case xe:return"Suspense";case G:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case se:return(l.displayName||"Context")+".Consumer";case F:return(l._context.displayName||"Context")+".Provider";case J:var h=l.render;return l=l.displayName,l||(l=h.displayName||h.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case $:return h=l.displayName||null,h!==null?h:Ee(l.type)||"Memo";case ee:h=l._payload,l=l._init;try{return Ee(l(h))}catch{}}return null}function Qe(l){var h=l.type;switch(l.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=h.render,l=l.displayName||l.name||"",h.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ee(h);case 8:return h===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function Ve(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function bt(l){var h=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function ze(l){var h=bt(l)?"checked":"value",m=Object.getOwnPropertyDescriptor(l.constructor.prototype,h),v=""+l[h];if(!l.hasOwnProperty(h)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var S=m.get,E=m.set;return Object.defineProperty(l,h,{configurable:!0,get:function(){return S.call(this)},set:function(D){v=""+D,E.call(this,D)}}),Object.defineProperty(l,h,{enumerable:m.enumerable}),{getValue:function(){return v},setValue:function(D){v=""+D},stopTracking:function(){l._valueTracker=null,delete l[h]}}}}function pr(l){l._valueTracker||(l._valueTracker=ze(l))}function ft(l){if(!l)return!1;var h=l._valueTracker;if(!h)return!0;var m=h.getValue(),v="";return l&&(v=bt(l)?l.checked?"true":"false":l.value),l=v,l!==m?(h.setValue(l),!0):!1}function sn(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function Yn(l,h){var m=h.checked;return M({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??l._wrapperState.initialChecked})}function Hn(l,h){var m=h.defaultValue==null?"":h.defaultValue,v=h.checked!=null?h.checked:h.defaultChecked;m=Ve(h.value!=null?h.value:m),l._wrapperState={initialChecked:v,initialValue:m,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function Vr(l,h){h=h.checked,h!=null&&A(l,"checked",h,!1)}function Is(l,h){Vr(l,h);var m=Ve(h.value),v=h.type;if(m!=null)v==="number"?(m===0&&l.value===""||l.value!=m)&&(l.value=""+m):l.value!==""+m&&(l.value=""+m);else if(v==="submit"||v==="reset"){l.removeAttribute("value");return}h.hasOwnProperty("value")?rs(l,h.type,m):h.hasOwnProperty("defaultValue")&&rs(l,h.type,Ve(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(l.defaultChecked=!!h.defaultChecked)}function Ha(l,h,m){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var v=h.type;if(!(v!=="submit"&&v!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+l._wrapperState.initialValue,m||h===l.value||(l.value=h),l.defaultValue=h}m=l.name,m!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,m!==""&&(l.name=m)}function rs(l,h,m){(h!=="number"||sn(l.ownerDocument)!==l)&&(m==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+m&&(l.defaultValue=""+m))}var ti=Array.isArray;function Vn(l,h,m,v){if(l=l.options,h){h={};for(var S=0;S<m.length;S++)h["$"+m[S]]=!0;for(m=0;m<l.length;m++)S=h.hasOwnProperty("$"+l[m].value),l[m].selected!==S&&(l[m].selected=S),S&&v&&(l[m].defaultSelected=!0)}else{for(m=""+Ve(m),h=null,S=0;S<l.length;S++){if(l[S].value===m){l[S].selected=!0,v&&(l[S].defaultSelected=!0);return}h!==null||l[S].disabled||(h=l[S])}h!==null&&(h.selected=!0)}}function Ls(l,h){if(h.dangerouslySetInnerHTML!=null)throw Error(n(91));return M({},h,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function Li(l,h){var m=h.value;if(m==null){if(m=h.children,h=h.defaultValue,m!=null){if(h!=null)throw Error(n(92));if(ti(m)){if(1<m.length)throw Error(n(93));m=m[0]}h=m}h==null&&(h=""),m=h}l._wrapperState={initialValue:Ve(m)}}function qr(l,h){var m=Ve(h.value),v=Ve(h.defaultValue);m!=null&&(m=""+m,m!==l.value&&(l.value=m),h.defaultValue==null&&l.defaultValue!==m&&(l.defaultValue=m)),v!=null&&(l.defaultValue=""+v)}function Or(l){var h=l.textContent;h===l._wrapperState.initialValue&&h!==""&&h!==null&&(l.value=h)}function Ce(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Le(l,h){return l==null||l==="http://www.w3.org/1999/xhtml"?Ce(h):l==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var st,pt=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,m,v,S){MSApp.execUnsafeLocalFunction(function(){return l(h,m,v,S)})}:l})(function(l,h){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=h;else{for(st=st||document.createElement("div"),st.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=st.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;h.firstChild;)l.appendChild(h.firstChild)}});function At(l,h){if(h){var m=l.firstChild;if(m&&m===l.lastChild&&m.nodeType===3){m.nodeValue=h;return}}l.textContent=h}var _n={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qn=["Webkit","ms","Moz","O"];Object.keys(_n).forEach(function(l){qn.forEach(function(h){h=h+l.charAt(0).toUpperCase()+l.substring(1),_n[h]=_n[l]})});function rr(l,h,m){return h==null||typeof h=="boolean"||h===""?"":m||typeof h!="number"||h===0||_n.hasOwnProperty(l)&&_n[l]?(""+h).trim():h+"px"}function An(l,h){l=l.style;for(var m in h)if(h.hasOwnProperty(m)){var v=m.indexOf("--")===0,S=rr(m,h[m],v);m==="float"&&(m="cssFloat"),v?l.setProperty(m,S):l[m]=S}}var ir=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qe(l,h){if(h){if(ir[l]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(n(137,l));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(n(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(n(61))}if(h.style!=null&&typeof h.style!="object")throw Error(n(62))}}function sr(l,h){if(l.indexOf("-")===-1)return typeof h.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nn=null;function is(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var He=null,_i=null,Si=null;function Va(l){if(l=rd(l)){if(typeof He!="function")throw Error(n(280));var h=l.stateNode;h&&(h=_f(h),He(l.stateNode,l.type,h))}}function qa(l){_i?Si?Si.push(l):Si=[l]:_i=l}function Wa(){if(_i){var l=_i,h=Si;if(Si=_i=null,Va(l),h)for(l=0;l<h.length;l++)Va(h[l])}}function Go(l,h){return l(h)}function ra(){}var Wr=!1;function Di(l,h,m){if(Wr)return l(h,m);Wr=!0;try{return Go(l,h,m)}finally{Wr=!1,(_i!==null||Si!==null)&&(ra(),Wa())}}function ss(l,h){var m=l.stateNode;if(m===null)return null;var v=_f(m);if(v===null)return null;m=v[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(l=l.type,v=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!v;break e;default:l=!1}if(l)return null;if(m&&typeof m!="function")throw Error(n(231,h,typeof m));return m}var Ds=!1;if(o)try{var Q={};Object.defineProperty(Q,"passive",{get:function(){Ds=!0}}),window.addEventListener("test",Q,Q),window.removeEventListener("test",Q,Q)}catch{Ds=!1}function ce(l,h,m,v,S,E,D,K,ne){var Se=Array.prototype.slice.call(arguments,3);try{h.apply(m,Se)}catch(Ae){this.onError(Ae)}}var _e=!1,Te=null,De=!1,tt=null,Ze={onError:function(l){_e=!0,Te=l}};function Ye(l,h,m,v,S,E,D,K,ne){_e=!1,Te=null,ce.apply(Ze,arguments)}function nt(l,h,m,v,S,E,D,K,ne){if(Ye.apply(this,arguments),_e){if(_e){var Se=Te;_e=!1,Te=null}else throw Error(n(198));De||(De=!0,tt=Se)}}function Je(l){var h=l,m=l;if(l.alternate)for(;h.return;)h=h.return;else{l=h;do h=l,(h.flags&4098)!==0&&(m=h.return),l=h.return;while(l)}return h.tag===3?m:null}function dt(l){if(l.tag===13){var h=l.memoizedState;if(h===null&&(l=l.alternate,l!==null&&(h=l.memoizedState)),h!==null)return h.dehydrated}return null}function ot(l){if(Je(l)!==l)throw Error(n(188))}function kt(l){var h=l.alternate;if(!h){if(h=Je(l),h===null)throw Error(n(188));return h!==l?null:l}for(var m=l,v=h;;){var S=m.return;if(S===null)break;var E=S.alternate;if(E===null){if(v=S.return,v!==null){m=v;continue}break}if(S.child===E.child){for(E=S.child;E;){if(E===m)return ot(S),l;if(E===v)return ot(S),h;E=E.sibling}throw Error(n(188))}if(m.return!==v.return)m=S,v=E;else{for(var D=!1,K=S.child;K;){if(K===m){D=!0,m=S,v=E;break}if(K===v){D=!0,v=S,m=E;break}K=K.sibling}if(!D){for(K=E.child;K;){if(K===m){D=!0,m=E,v=S;break}if(K===v){D=!0,v=E,m=S;break}K=K.sibling}if(!D)throw Error(n(189))}}if(m.alternate!==v)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?l:h}function Dt(l){return l=kt(l),l!==null?ln(l):null}function ln(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var h=ln(l);if(h!==null)return h;l=l.sibling}return null}var Sn=t.unstable_scheduleCallback,In=t.unstable_cancelCallback,gt=t.unstable_shouldYield,Ln=t.unstable_requestPaint,Lt=t.unstable_now,Ms=t.unstable_getCurrentPriorityLevel,ar=t.unstable_ImmediatePriority,mr=t.unstable_UserBlockingPriority,Mi=t.unstable_NormalPriority,as=t.unstable_LowPriority,gr=t.unstable_IdlePriority,Fi=null,Jn=null;function Mt(l){if(Jn&&typeof Jn.onCommitFiberRoot=="function")try{Jn.onCommitFiberRoot(Fi,l,void 0,(l.current.flags&128)===128)}catch{}}var rt=Math.clz32?Math.clz32:an,os=Math.log,Bi=Math.LN2;function an(l){return l>>>=0,l===0?32:31-(os(l)/Bi|0)|0}var Qr=64,Fs=4194304;function Bs(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Yo(l,h){var m=l.pendingLanes;if(m===0)return 0;var v=0,S=l.suspendedLanes,E=l.pingedLanes,D=m&268435455;if(D!==0){var K=D&~S;K!==0?v=Bs(K):(E&=D,E!==0&&(v=Bs(E)))}else D=m&~S,D!==0?v=Bs(D):E!==0&&(v=Bs(E));if(v===0)return 0;if(h!==0&&h!==v&&(h&S)===0&&(S=v&-v,E=h&-h,S>=E||S===16&&(E&4194240)!==0))return h;if((v&4)!==0&&(v|=m&16),h=l.entangledLanes,h!==0)for(l=l.entanglements,h&=v;0<h;)m=31-rt(h),S=1<<m,v|=l[m],h&=~S;return v}function un(l,h){switch(l){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jo(l,h){for(var m=l.suspendedLanes,v=l.pingedLanes,S=l.expirationTimes,E=l.pendingLanes;0<E;){var D=31-rt(E),K=1<<D,ne=S[D];ne===-1?((K&m)===0||(K&v)!==0)&&(S[D]=un(K,h)):ne<=h&&(l.expiredLanes|=K),E&=~K}}function ia(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function sa(){var l=Qr;return Qr<<=1,(Qr&4194240)===0&&(Qr=64),l}function Xo(l){for(var h=[],m=0;31>m;m++)h.push(l);return h}function aa(l,h,m){l.pendingLanes|=h,h!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,h=31-rt(h),l[h]=m}function su(l,h){var m=l.pendingLanes&~h;l.pendingLanes=h,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=h,l.mutableReadLanes&=h,l.entangledLanes&=h,h=l.entanglements;var v=l.eventTimes;for(l=l.expirationTimes;0<m;){var S=31-rt(m),E=1<<S;h[S]=0,v[S]=-1,l[S]=-1,m&=~E}}function au(l,h){var m=l.entangledLanes|=h;for(l=l.entanglements;m;){var v=31-rt(m),S=1<<v;S&h|l[v]&h&&(l[v]|=h),m&=~S}}var Qt=0;function Mc(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var tf,Vt,Fc,nf,rf,jr=!1,ls=[],Ci=null,kr=null,us=null,Qa=new Map,Cn=new Map,or=[],Zo="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ka(l,h){switch(l){case"focusin":case"focusout":Ci=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":Qa.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cn.delete(h.pointerId)}}function oa(l,h,m,v,S,E){return l===null||l.nativeEvent!==E?(l={blockedOn:h,domEventName:m,eventSystemFlags:v,nativeEvent:E,targetContainers:[S]},h!==null&&(h=rd(h),h!==null&&Vt(h)),l):(l.eventSystemFlags|=v,h=l.targetContainers,S!==null&&h.indexOf(S)===-1&&h.push(S),l)}function zs(l,h,m,v,S){switch(h){case"focusin":return Ci=oa(Ci,l,h,m,v,S),!0;case"dragenter":return kr=oa(kr,l,h,m,v,S),!0;case"mouseover":return us=oa(us,l,h,m,v,S),!0;case"pointerover":var E=S.pointerId;return Qa.set(E,oa(Qa.get(E)||null,l,h,m,v,S)),!0;case"gotpointercapture":return E=S.pointerId,Cn.set(E,oa(Cn.get(E)||null,l,h,m,v,S)),!0}return!1}function sf(l){var h=ol(l.target);if(h!==null){var m=Je(h);if(m!==null){if(h=m.tag,h===13){if(h=dt(m),h!==null){l.blockedOn=h,rf(l.priority,function(){Fc(m)});return}}else if(h===3&&m.stateNode.current.memoizedState.isDehydrated){l.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Kr(l){if(l.blockedOn!==null)return!1;for(var h=l.targetContainers;0<h.length;){var m=Ga(l.domEventName,l.eventSystemFlags,h[0],l.nativeEvent);if(m===null){m=l.nativeEvent;var v=new m.constructor(m.type,m);Nn=v,m.target.dispatchEvent(v),Nn=null}else return h=rd(m),h!==null&&Vt(h),l.blockedOn=m,!1;h.shift()}return!0}function ou(l,h,m){Kr(l)&&m.delete(h)}function af(){jr=!1,Ci!==null&&Kr(Ci)&&(Ci=null),kr!==null&&Kr(kr)&&(kr=null),us!==null&&Kr(us)&&(us=null),Qa.forEach(ou),Cn.forEach(ou)}function la(l,h){l.blockedOn===h&&(l.blockedOn=null,jr||(jr=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,af)))}function cs(l){function h(S){return la(S,l)}if(0<ls.length){la(ls[0],l);for(var m=1;m<ls.length;m++){var v=ls[m];v.blockedOn===l&&(v.blockedOn=null)}}for(Ci!==null&&la(Ci,l),kr!==null&&la(kr,l),us!==null&&la(us,l),Qa.forEach(h),Cn.forEach(h),m=0;m<or.length;m++)v=or[m],v.blockedOn===l&&(v.blockedOn=null);for(;0<or.length&&(m=or[0],m.blockedOn===null);)sf(m),m.blockedOn===null&&or.shift()}var Us=U.ReactCurrentBatchConfig,el=!0;function Hg(l,h,m,v){var S=Qt,E=Us.transition;Us.transition=null;try{Qt=1,Bc(l,h,m,v)}finally{Qt=S,Us.transition=E}}function tl(l,h,m,v){var S=Qt,E=Us.transition;Us.transition=null;try{Qt=4,Bc(l,h,m,v)}finally{Qt=S,Us.transition=E}}function Bc(l,h,m,v){if(el){var S=Ga(l,h,m,v);if(S===null)Gg(l,h,v,lu,m),Ka(l,v);else if(zs(S,l,h,m,v))v.stopPropagation();else if(Ka(l,v),h&4&&-1<Zo.indexOf(l)){for(;S!==null;){var E=rd(S);if(E!==null&&tf(E),E=Ga(l,h,m,v),E===null&&Gg(l,h,v,lu,m),E===S)break;S=E}S!==null&&v.stopPropagation()}else Gg(l,h,v,null,m)}}var lu=null;function Ga(l,h,m,v){if(lu=null,l=is(v),l=ol(l),l!==null)if(h=Je(l),h===null)l=null;else if(m=h.tag,m===13){if(l=dt(h),l!==null)return l;l=null}else if(m===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;l=null}else h!==l&&(l=null);return lu=l,null}function nl(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ms()){case ar:return 1;case mr:return 4;case Mi:case as:return 16;case gr:return 536870912;default:return 16}default:return 16}}var zi=null,zc=null,uu=null;function of(){if(uu)return uu;var l,h=zc,m=h.length,v,S="value"in zi?zi.value:zi.textContent,E=S.length;for(l=0;l<m&&h[l]===S[l];l++);var D=m-l;for(v=1;v<=D&&h[m-v]===S[E-v];v++);return uu=S.slice(l,1<v?1-v:void 0)}function Ya(l){var h=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&h===13&&(l=13)):l=h,l===10&&(l=13),32<=l||l===13?l:0}function Ja(){return!0}function Uc(){return!1}function yr(l){function h(m,v,S,E,D){this._reactName=m,this._targetInst=S,this.type=v,this.nativeEvent=E,this.target=D,this.currentTarget=null;for(var K in l)l.hasOwnProperty(K)&&(m=l[K],this[K]=m?m(E):E[K]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Ja:Uc,this.isPropagationStopped=Uc,this}return M(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Ja)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Ja)},persist:function(){},isPersistent:Ja}),h}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xa=yr(ds),Za=M({},ds,{view:0,detail:0}),Vg=yr(Za),$s,rl,ua,eo=M({},Za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mu,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==ua&&(ua&&l.type==="mousemove"?($s=l.screenX-ua.screenX,rl=l.screenY-ua.screenY):rl=$s=0,ua=l),$s)},movementY:function(l){return"movementY"in l?l.movementY:rl}}),cu=yr(eo),xr=M({},eo,{dataTransfer:0}),il=yr(xr),sl=M({},Za,{relatedTarget:0}),du=yr(sl),hu=M({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),lf=yr(hu),uf=M({},ds,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),fu=yr(uf),$c=M({},ds,{data:0}),Hs=yr($c),Hc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qc(l){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(l):(l=pu[l])?!!h[l]:!1}function mu(){return qc}var qg=M({},Za,{key:function(l){if(l.key){var h=Hc[l.key]||l.key;if(h!=="Unidentified")return h}return l.type==="keypress"?(l=Ya(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Vc[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mu,charCode:function(l){return l.type==="keypress"?Ya(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Ya(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Wc=yr(qg),gu=M({},eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cf=yr(gu),Qc=M({},Za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mu}),Kc=yr(Qc),Wg=M({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),df=yr(Wg),Qg=M({},eo,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),hf=yr(Qg),ff=[9,13,27,32],Gc=o&&"CompositionEvent"in window,to=null;o&&"documentMode"in document&&(to=document.documentMode);var Yc=o&&"TextEvent"in window&&!to,Jc=o&&(!Gc||to&&8<to&&11>=to),Xc=" ",pf=!1;function mf(l,h){switch(l){case"keyup":return ff.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gf(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var hs=!1;function fs(l,h){switch(l){case"compositionend":return gf(h);case"keypress":return h.which!==32?null:(pf=!0,Xc);case"textInput":return l=h.data,l===Xc&&pf?null:l;default:return null}}function Pn(l,h){if(hs)return l==="compositionend"||!Gc&&mf(l,h)?(l=of(),uu=zc=zi=null,hs=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return Jc&&h.locale!=="ko"?null:h.data;default:return null}}var yu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ca(l){var h=l&&l.nodeName&&l.nodeName.toLowerCase();return h==="input"?!!yu[l.type]:h==="textarea"}function yf(l,h,m,v){qa(v),h=vf(h,"onChange"),0<h.length&&(m=new Xa("onChange","change",null,m,v),l.push({event:m,listeners:h}))}var da=null,no=null;function ha(l){Bb(l,0)}function ro(l){var h=wu(l);if(ft(h))return l}function io(l,h){if(l==="change")return h}var ps=!1;if(o){var xu;if(o){var x="oninput"in document;if(!x){var w=document.createElement("div");w.setAttribute("oninput","return;"),x=typeof w.oninput=="function"}xu=x}else xu=!1;ps=xu&&(!document.documentMode||9<document.documentMode)}function j(){da&&(da.detachEvent("onpropertychange",N),no=da=null)}function N(l){if(l.propertyName==="value"&&ro(no)){var h=[];yf(h,no,l,is(l)),Di(ha,h)}}function R(l,h,m){l==="focusin"?(j(),da=h,no=m,da.attachEvent("onpropertychange",N)):l==="focusout"&&j()}function L(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return ro(no)}function z(l,h){if(l==="click")return ro(h)}function q(l,h){if(l==="input"||l==="change")return ro(h)}function oe(l,h){return l===h&&(l!==0||1/l===1/h)||l!==l&&h!==h}var he=typeof Object.is=="function"?Object.is:oe;function re(l,h){if(he(l,h))return!0;if(typeof l!="object"||l===null||typeof h!="object"||h===null)return!1;var m=Object.keys(l),v=Object.keys(h);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var S=m[v];if(!u.call(h,S)||!he(l[S],h[S]))return!1}return!0}function te(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function le(l,h){var m=te(l);l=0;for(var v;m;){if(m.nodeType===3){if(v=l+m.textContent.length,l<=h&&v>=h)return{node:m,offset:h-l};l=v}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=te(m)}}function ue(l,h){return l&&h?l===h?!0:l&&l.nodeType===3?!1:h&&h.nodeType===3?ue(l,h.parentNode):"contains"in l?l.contains(h):l.compareDocumentPosition?!!(l.compareDocumentPosition(h)&16):!1:!1}function ae(){for(var l=window,h=sn();h instanceof l.HTMLIFrameElement;){try{var m=typeof h.contentWindow.location.href=="string"}catch{m=!1}if(m)l=h.contentWindow;else break;h=sn(l.document)}return h}function ie(l){var h=l&&l.nodeName&&l.nodeName.toLowerCase();return h&&(h==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||h==="textarea"||l.contentEditable==="true")}function ve(l){var h=ae(),m=l.focusedElem,v=l.selectionRange;if(h!==m&&m&&m.ownerDocument&&ue(m.ownerDocument.documentElement,m)){if(v!==null&&ie(m)){if(h=v.start,l=v.end,l===void 0&&(l=h),"selectionStart"in m)m.selectionStart=h,m.selectionEnd=Math.min(l,m.value.length);else if(l=(h=m.ownerDocument||document)&&h.defaultView||window,l.getSelection){l=l.getSelection();var S=m.textContent.length,E=Math.min(v.start,S);v=v.end===void 0?E:Math.min(v.end,S),!l.extend&&E>v&&(S=v,v=E,E=S),S=le(m,E);var D=le(m,v);S&&D&&(l.rangeCount!==1||l.anchorNode!==S.node||l.anchorOffset!==S.offset||l.focusNode!==D.node||l.focusOffset!==D.offset)&&(h=h.createRange(),h.setStart(S.node,S.offset),l.removeAllRanges(),E>v?(l.addRange(h),l.extend(D.node,D.offset)):(h.setEnd(D.node,D.offset),l.addRange(h)))}}for(h=[],l=m;l=l.parentNode;)l.nodeType===1&&h.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<h.length;m++)l=h[m],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var we=o&&"documentMode"in document&&11>=document.documentMode,me=null,je=null,Ne=null,Ue=!1;function $e(l,h,m){var v=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Ue||me==null||me!==sn(v)||(v=me,"selectionStart"in v&&ie(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Ne&&re(Ne,v)||(Ne=v,v=vf(je,"onSelect"),0<v.length&&(h=new Xa("onSelect","select",null,h,m),l.push({event:h,listeners:v}),h.target=me)))}function Re(l,h){var m={};return m[l.toLowerCase()]=h.toLowerCase(),m["Webkit"+l]="webkit"+h,m["Moz"+l]="moz"+h,m}var Ke={animationend:Re("Animation","AnimationEnd"),animationiteration:Re("Animation","AnimationIteration"),animationstart:Re("Animation","AnimationStart"),transitionend:Re("Transition","TransitionEnd")},We={},Me={};o&&(Me=document.createElement("div").style,"AnimationEvent"in window||(delete Ke.animationend.animation,delete Ke.animationiteration.animation,delete Ke.animationstart.animation),"TransitionEvent"in window||delete Ke.transitionend.transition);function Ge(l){if(We[l])return We[l];if(!Ke[l])return l;var h=Ke[l],m;for(m in h)if(h.hasOwnProperty(m)&&m in Me)return We[l]=h[m];return l}var zt=Ge("animationend"),Wt=Ge("animationiteration"),ht=Ge("animationstart"),Tt=Ge("transitionend"),dn=new Map,Gr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nn(l,h){dn.set(l,h),s(h,[l])}for(var ms=0;ms<Gr.length;ms++){var al=Gr[ms],$8=al.toLowerCase(),H8=al[0].toUpperCase()+al.slice(1);nn($8,"on"+H8)}nn(zt,"onAnimationEnd"),nn(Wt,"onAnimationIteration"),nn(ht,"onAnimationStart"),nn("dblclick","onDoubleClick"),nn("focusin","onFocus"),nn("focusout","onBlur"),nn(Tt,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zc));function Fb(l,h,m){var v=l.type||"unknown-event";l.currentTarget=m,nt(v,h,void 0,l),l.currentTarget=null}function Bb(l,h){h=(h&4)!==0;for(var m=0;m<l.length;m++){var v=l[m],S=v.event;v=v.listeners;e:{var E=void 0;if(h)for(var D=v.length-1;0<=D;D--){var K=v[D],ne=K.instance,Se=K.currentTarget;if(K=K.listener,ne!==E&&S.isPropagationStopped())break e;Fb(S,K,Se),E=ne}else for(D=0;D<v.length;D++){if(K=v[D],ne=K.instance,Se=K.currentTarget,K=K.listener,ne!==E&&S.isPropagationStopped())break e;Fb(S,K,Se),E=ne}}}if(De)throw l=tt,De=!1,tt=null,l}function xn(l,h){var m=h[t0];m===void 0&&(m=h[t0]=new Set);var v=l+"__bubble";m.has(v)||(zb(h,l,2,!1),m.add(v))}function Kg(l,h,m){var v=0;h&&(v|=4),zb(m,l,v,h)}var xf="_reactListening"+Math.random().toString(36).slice(2);function ed(l){if(!l[xf]){l[xf]=!0,r.forEach(function(m){m!=="selectionchange"&&(V8.has(m)||Kg(m,!1,l),Kg(m,!0,l))});var h=l.nodeType===9?l:l.ownerDocument;h===null||h[xf]||(h[xf]=!0,Kg("selectionchange",!1,h))}}function zb(l,h,m,v){switch(nl(h)){case 1:var S=Hg;break;case 4:S=tl;break;default:S=Bc}m=S.bind(null,h,m,l),S=void 0,!Ds||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(S=!0),v?S!==void 0?l.addEventListener(h,m,{capture:!0,passive:S}):l.addEventListener(h,m,!0):S!==void 0?l.addEventListener(h,m,{passive:S}):l.addEventListener(h,m,!1)}function Gg(l,h,m,v,S){var E=v;if((h&1)===0&&(h&2)===0&&v!==null)e:for(;;){if(v===null)return;var D=v.tag;if(D===3||D===4){var K=v.stateNode.containerInfo;if(K===S||K.nodeType===8&&K.parentNode===S)break;if(D===4)for(D=v.return;D!==null;){var ne=D.tag;if((ne===3||ne===4)&&(ne=D.stateNode.containerInfo,ne===S||ne.nodeType===8&&ne.parentNode===S))return;D=D.return}for(;K!==null;){if(D=ol(K),D===null)return;if(ne=D.tag,ne===5||ne===6){v=E=D;continue e}K=K.parentNode}}v=v.return}Di(function(){var Se=E,Ae=is(m),Ie=[];e:{var Oe=dn.get(l);if(Oe!==void 0){var Xe=Xa,it=l;switch(l){case"keypress":if(Ya(m)===0)break e;case"keydown":case"keyup":Xe=Wc;break;case"focusin":it="focus",Xe=du;break;case"focusout":it="blur",Xe=du;break;case"beforeblur":case"afterblur":Xe=du;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Xe=cu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Xe=il;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Xe=Kc;break;case zt:case Wt:case ht:Xe=lf;break;case Tt:Xe=df;break;case"scroll":Xe=Vg;break;case"wheel":Xe=hf;break;case"copy":case"cut":case"paste":Xe=fu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Xe=cf}var at=(h&4)!==0,Wn=!at&&l==="scroll",ye=at?Oe!==null?Oe+"Capture":null:Oe;at=[];for(var de=Se,be;de!==null;){be=de;var Be=be.stateNode;if(be.tag===5&&Be!==null&&(be=Be,ye!==null&&(Be=ss(de,ye),Be!=null&&at.push(td(de,Be,be)))),Wn)break;de=de.return}0<at.length&&(Oe=new Xe(Oe,it,null,m,Ae),Ie.push({event:Oe,listeners:at}))}}if((h&7)===0){e:{if(Oe=l==="mouseover"||l==="pointerover",Xe=l==="mouseout"||l==="pointerout",Oe&&m!==Nn&&(it=m.relatedTarget||m.fromElement)&&(ol(it)||it[fa]))break e;if((Xe||Oe)&&(Oe=Ae.window===Ae?Ae:(Oe=Ae.ownerDocument)?Oe.defaultView||Oe.parentWindow:window,Xe?(it=m.relatedTarget||m.toElement,Xe=Se,it=it?ol(it):null,it!==null&&(Wn=Je(it),it!==Wn||it.tag!==5&&it.tag!==6)&&(it=null)):(Xe=null,it=Se),Xe!==it)){if(at=cu,Be="onMouseLeave",ye="onMouseEnter",de="mouse",(l==="pointerout"||l==="pointerover")&&(at=cf,Be="onPointerLeave",ye="onPointerEnter",de="pointer"),Wn=Xe==null?Oe:wu(Xe),be=it==null?Oe:wu(it),Oe=new at(Be,de+"leave",Xe,m,Ae),Oe.target=Wn,Oe.relatedTarget=be,Be=null,ol(Ae)===Se&&(at=new at(ye,de+"enter",it,m,Ae),at.target=be,at.relatedTarget=Wn,Be=at),Wn=Be,Xe&&it)t:{for(at=Xe,ye=it,de=0,be=at;be;be=vu(be))de++;for(be=0,Be=ye;Be;Be=vu(Be))be++;for(;0<de-be;)at=vu(at),de--;for(;0<be-de;)ye=vu(ye),be--;for(;de--;){if(at===ye||ye!==null&&at===ye.alternate)break t;at=vu(at),ye=vu(ye)}at=null}else at=null;Xe!==null&&Ub(Ie,Oe,Xe,at,!1),it!==null&&Wn!==null&&Ub(Ie,Wn,it,at,!0)}}e:{if(Oe=Se?wu(Se):window,Xe=Oe.nodeName&&Oe.nodeName.toLowerCase(),Xe==="select"||Xe==="input"&&Oe.type==="file")var lt=io;else if(ca(Oe))if(ps)lt=q;else{lt=L;var yt=R}else(Xe=Oe.nodeName)&&Xe.toLowerCase()==="input"&&(Oe.type==="checkbox"||Oe.type==="radio")&&(lt=z);if(lt&&(lt=lt(l,Se))){yf(Ie,lt,m,Ae);break e}yt&&yt(l,Oe,Se),l==="focusout"&&(yt=Oe._wrapperState)&&yt.controlled&&Oe.type==="number"&&rs(Oe,"number",Oe.value)}switch(yt=Se?wu(Se):window,l){case"focusin":(ca(yt)||yt.contentEditable==="true")&&(me=yt,je=Se,Ne=null);break;case"focusout":Ne=je=me=null;break;case"mousedown":Ue=!0;break;case"contextmenu":case"mouseup":case"dragend":Ue=!1,$e(Ie,m,Ae);break;case"selectionchange":if(we)break;case"keydown":case"keyup":$e(Ie,m,Ae)}var xt;if(Gc)e:{switch(l){case"compositionstart":var St="onCompositionStart";break e;case"compositionend":St="onCompositionEnd";break e;case"compositionupdate":St="onCompositionUpdate";break e}St=void 0}else hs?mf(l,m)&&(St="onCompositionEnd"):l==="keydown"&&m.keyCode===229&&(St="onCompositionStart");St&&(Jc&&m.locale!=="ko"&&(hs||St!=="onCompositionStart"?St==="onCompositionEnd"&&hs&&(xt=of()):(zi=Ae,zc="value"in zi?zi.value:zi.textContent,hs=!0)),yt=vf(Se,St),0<yt.length&&(St=new Hs(St,l,null,m,Ae),Ie.push({event:St,listeners:yt}),xt?St.data=xt:(xt=gf(m),xt!==null&&(St.data=xt)))),(xt=Yc?fs(l,m):Pn(l,m))&&(Se=vf(Se,"onBeforeInput"),0<Se.length&&(Ae=new Hs("onBeforeInput","beforeinput",null,m,Ae),Ie.push({event:Ae,listeners:Se}),Ae.data=xt))}Bb(Ie,h)})}function td(l,h,m){return{instance:l,listener:h,currentTarget:m}}function vf(l,h){for(var m=h+"Capture",v=[];l!==null;){var S=l,E=S.stateNode;S.tag===5&&E!==null&&(S=E,E=ss(l,m),E!=null&&v.unshift(td(l,E,S)),E=ss(l,h),E!=null&&v.push(td(l,E,S))),l=l.return}return v}function vu(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function Ub(l,h,m,v,S){for(var E=h._reactName,D=[];m!==null&&m!==v;){var K=m,ne=K.alternate,Se=K.stateNode;if(ne!==null&&ne===v)break;K.tag===5&&Se!==null&&(K=Se,S?(ne=ss(m,E),ne!=null&&D.unshift(td(m,ne,K))):S||(ne=ss(m,E),ne!=null&&D.push(td(m,ne,K)))),m=m.return}D.length!==0&&l.push({event:h,listeners:D})}var q8=/\r\n?/g,W8=/\u0000|\uFFFD/g;function $b(l){return(typeof l=="string"?l:""+l).replace(q8,`
`).replace(W8,"")}function bf(l,h,m){if(h=$b(h),$b(l)!==h&&m)throw Error(n(425))}function wf(){}var Yg=null,Jg=null;function Xg(l,h){return l==="textarea"||l==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var Zg=typeof setTimeout=="function"?setTimeout:void 0,Q8=typeof clearTimeout=="function"?clearTimeout:void 0,Hb=typeof Promise=="function"?Promise:void 0,K8=typeof queueMicrotask=="function"?queueMicrotask:typeof Hb<"u"?function(l){return Hb.resolve(null).then(l).catch(G8)}:Zg;function G8(l){setTimeout(function(){throw l})}function e0(l,h){var m=h,v=0;do{var S=m.nextSibling;if(l.removeChild(m),S&&S.nodeType===8)if(m=S.data,m==="/$"){if(v===0){l.removeChild(S),cs(h);return}v--}else m!=="$"&&m!=="$?"&&m!=="$!"||v++;m=S}while(m);cs(h)}function so(l){for(;l!=null;l=l.nextSibling){var h=l.nodeType;if(h===1||h===3)break;if(h===8){if(h=l.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return l}function Vb(l){l=l.previousSibling;for(var h=0;l;){if(l.nodeType===8){var m=l.data;if(m==="$"||m==="$!"||m==="$?"){if(h===0)return l;h--}else m==="/$"&&h++}l=l.previousSibling}return null}var bu=Math.random().toString(36).slice(2),Vs="__reactFiber$"+bu,nd="__reactProps$"+bu,fa="__reactContainer$"+bu,t0="__reactEvents$"+bu,Y8="__reactListeners$"+bu,J8="__reactHandles$"+bu;function ol(l){var h=l[Vs];if(h)return h;for(var m=l.parentNode;m;){if(h=m[fa]||m[Vs]){if(m=h.alternate,h.child!==null||m!==null&&m.child!==null)for(l=Vb(l);l!==null;){if(m=l[Vs])return m;l=Vb(l)}return h}l=m,m=l.parentNode}return null}function rd(l){return l=l[Vs]||l[fa],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function wu(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(n(33))}function _f(l){return l[nd]||null}var n0=[],_u=-1;function ao(l){return{current:l}}function vn(l){0>_u||(l.current=n0[_u],n0[_u]=null,_u--)}function hn(l,h){_u++,n0[_u]=l.current,l.current=h}var oo={},Rr=ao(oo),ni=ao(!1),ll=oo;function Su(l,h){var m=l.type.contextTypes;if(!m)return oo;var v=l.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===h)return v.__reactInternalMemoizedMaskedChildContext;var S={},E;for(E in m)S[E]=h[E];return v&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=h,l.__reactInternalMemoizedMaskedChildContext=S),S}function ri(l){return l=l.childContextTypes,l!=null}function Sf(){vn(ni),vn(Rr)}function qb(l,h,m){if(Rr.current!==oo)throw Error(n(168));hn(Rr,h),hn(ni,m)}function Wb(l,h,m){var v=l.stateNode;if(h=h.childContextTypes,typeof v.getChildContext!="function")return m;v=v.getChildContext();for(var S in v)if(!(S in h))throw Error(n(108,Qe(l)||"Unknown",S));return M({},m,v)}function Cf(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||oo,ll=Rr.current,hn(Rr,l),hn(ni,ni.current),!0}function Qb(l,h,m){var v=l.stateNode;if(!v)throw Error(n(169));m?(l=Wb(l,h,ll),v.__reactInternalMemoizedMergedChildContext=l,vn(ni),vn(Rr),hn(Rr,l)):vn(ni),hn(ni,m)}var pa=null,jf=!1,r0=!1;function Kb(l){pa===null?pa=[l]:pa.push(l)}function X8(l){jf=!0,Kb(l)}function lo(){if(!r0&&pa!==null){r0=!0;var l=0,h=Qt;try{var m=pa;for(Qt=1;l<m.length;l++){var v=m[l];do v=v(!0);while(v!==null)}pa=null,jf=!1}catch(S){throw pa!==null&&(pa=pa.slice(l+1)),Sn(ar,lo),S}finally{Qt=h,r0=!1}}return null}var Cu=[],ju=0,kf=null,Ef=0,Ui=[],$i=0,ul=null,ma=1,ga="";function cl(l,h){Cu[ju++]=Ef,Cu[ju++]=kf,kf=l,Ef=h}function Gb(l,h,m){Ui[$i++]=ma,Ui[$i++]=ga,Ui[$i++]=ul,ul=l;var v=ma;l=ga;var S=32-rt(v)-1;v&=~(1<<S),m+=1;var E=32-rt(h)+S;if(30<E){var D=S-S%5;E=(v&(1<<D)-1).toString(32),v>>=D,S-=D,ma=1<<32-rt(h)+S|m<<S|v,ga=E+l}else ma=1<<E|m<<S|v,ga=l}function i0(l){l.return!==null&&(cl(l,1),Gb(l,1,0))}function s0(l){for(;l===kf;)kf=Cu[--ju],Cu[ju]=null,Ef=Cu[--ju],Cu[ju]=null;for(;l===ul;)ul=Ui[--$i],Ui[$i]=null,ga=Ui[--$i],Ui[$i]=null,ma=Ui[--$i],Ui[$i]=null}var ji=null,ki=null,jn=!1,gs=null;function Yb(l,h){var m=Wi(5,null,null,0);m.elementType="DELETED",m.stateNode=h,m.return=l,h=l.deletions,h===null?(l.deletions=[m],l.flags|=16):h.push(m)}function Jb(l,h){switch(l.tag){case 5:var m=l.type;return h=h.nodeType!==1||m.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(l.stateNode=h,ji=l,ki=so(h.firstChild),!0):!1;case 6:return h=l.pendingProps===""||h.nodeType!==3?null:h,h!==null?(l.stateNode=h,ji=l,ki=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(m=ul!==null?{id:ma,overflow:ga}:null,l.memoizedState={dehydrated:h,treeContext:m,retryLane:1073741824},m=Wi(18,null,null,0),m.stateNode=h,m.return=l,l.child=m,ji=l,ki=null,!0):!1;default:return!1}}function a0(l){return(l.mode&1)!==0&&(l.flags&128)===0}function o0(l){if(jn){var h=ki;if(h){var m=h;if(!Jb(l,h)){if(a0(l))throw Error(n(418));h=so(m.nextSibling);var v=ji;h&&Jb(l,h)?Yb(v,m):(l.flags=l.flags&-4097|2,jn=!1,ji=l)}}else{if(a0(l))throw Error(n(418));l.flags=l.flags&-4097|2,jn=!1,ji=l}}}function Xb(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;ji=l}function Tf(l){if(l!==ji)return!1;if(!jn)return Xb(l),jn=!0,!1;var h;if((h=l.tag!==3)&&!(h=l.tag!==5)&&(h=l.type,h=h!=="head"&&h!=="body"&&!Xg(l.type,l.memoizedProps)),h&&(h=ki)){if(a0(l))throw Zb(),Error(n(418));for(;h;)Yb(l,h),h=so(h.nextSibling)}if(Xb(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));e:{for(l=l.nextSibling,h=0;l;){if(l.nodeType===8){var m=l.data;if(m==="/$"){if(h===0){ki=so(l.nextSibling);break e}h--}else m!=="$"&&m!=="$!"&&m!=="$?"||h++}l=l.nextSibling}ki=null}}else ki=ji?so(l.stateNode.nextSibling):null;return!0}function Zb(){for(var l=ki;l;)l=so(l.nextSibling)}function ku(){ki=ji=null,jn=!1}function l0(l){gs===null?gs=[l]:gs.push(l)}var Z8=U.ReactCurrentBatchConfig;function id(l,h,m){if(l=m.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var v=m.stateNode}if(!v)throw Error(n(147,l));var S=v,E=""+l;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===E?h.ref:(h=function(D){var K=S.refs;D===null?delete K[E]:K[E]=D},h._stringRef=E,h)}if(typeof l!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,l))}return l}function Nf(l,h){throw l=Object.prototype.toString.call(h),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":l))}function e2(l){var h=l._init;return h(l._payload)}function t2(l){function h(ye,de){if(l){var be=ye.deletions;be===null?(ye.deletions=[de],ye.flags|=16):be.push(de)}}function m(ye,de){if(!l)return null;for(;de!==null;)h(ye,de),de=de.sibling;return null}function v(ye,de){for(ye=new Map;de!==null;)de.key!==null?ye.set(de.key,de):ye.set(de.index,de),de=de.sibling;return ye}function S(ye,de){return ye=yo(ye,de),ye.index=0,ye.sibling=null,ye}function E(ye,de,be){return ye.index=be,l?(be=ye.alternate,be!==null?(be=be.index,be<de?(ye.flags|=2,de):be):(ye.flags|=2,de)):(ye.flags|=1048576,de)}function D(ye){return l&&ye.alternate===null&&(ye.flags|=2),ye}function K(ye,de,be,Be){return de===null||de.tag!==6?(de=Z0(be,ye.mode,Be),de.return=ye,de):(de=S(de,be),de.return=ye,de)}function ne(ye,de,be,Be){var lt=be.type;return lt===O?Ae(ye,de,be.props.children,Be,be.key):de!==null&&(de.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===ee&&e2(lt)===de.type)?(Be=S(de,be.props),Be.ref=id(ye,de,be),Be.return=ye,Be):(Be=Zf(be.type,be.key,be.props,null,ye.mode,Be),Be.ref=id(ye,de,be),Be.return=ye,Be)}function Se(ye,de,be,Be){return de===null||de.tag!==4||de.stateNode.containerInfo!==be.containerInfo||de.stateNode.implementation!==be.implementation?(de=ey(be,ye.mode,Be),de.return=ye,de):(de=S(de,be.children||[]),de.return=ye,de)}function Ae(ye,de,be,Be,lt){return de===null||de.tag!==7?(de=xl(be,ye.mode,Be,lt),de.return=ye,de):(de=S(de,be),de.return=ye,de)}function Ie(ye,de,be){if(typeof de=="string"&&de!==""||typeof de=="number")return de=Z0(""+de,ye.mode,be),de.return=ye,de;if(typeof de=="object"&&de!==null){switch(de.$$typeof){case V:return be=Zf(de.type,de.key,de.props,null,ye.mode,be),be.ref=id(ye,null,de),be.return=ye,be;case I:return de=ey(de,ye.mode,be),de.return=ye,de;case ee:var Be=de._init;return Ie(ye,Be(de._payload),be)}if(ti(de)||pe(de))return de=xl(de,ye.mode,be,null),de.return=ye,de;Nf(ye,de)}return null}function Oe(ye,de,be,Be){var lt=de!==null?de.key:null;if(typeof be=="string"&&be!==""||typeof be=="number")return lt!==null?null:K(ye,de,""+be,Be);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case V:return be.key===lt?ne(ye,de,be,Be):null;case I:return be.key===lt?Se(ye,de,be,Be):null;case ee:return lt=be._init,Oe(ye,de,lt(be._payload),Be)}if(ti(be)||pe(be))return lt!==null?null:Ae(ye,de,be,Be,null);Nf(ye,be)}return null}function Xe(ye,de,be,Be,lt){if(typeof Be=="string"&&Be!==""||typeof Be=="number")return ye=ye.get(be)||null,K(de,ye,""+Be,lt);if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case V:return ye=ye.get(Be.key===null?be:Be.key)||null,ne(de,ye,Be,lt);case I:return ye=ye.get(Be.key===null?be:Be.key)||null,Se(de,ye,Be,lt);case ee:var yt=Be._init;return Xe(ye,de,be,yt(Be._payload),lt)}if(ti(Be)||pe(Be))return ye=ye.get(be)||null,Ae(de,ye,Be,lt,null);Nf(de,Be)}return null}function it(ye,de,be,Be){for(var lt=null,yt=null,xt=de,St=de=0,wr=null;xt!==null&&St<be.length;St++){xt.index>St?(wr=xt,xt=null):wr=xt.sibling;var Jt=Oe(ye,xt,be[St],Be);if(Jt===null){xt===null&&(xt=wr);break}l&&xt&&Jt.alternate===null&&h(ye,xt),de=E(Jt,de,St),yt===null?lt=Jt:yt.sibling=Jt,yt=Jt,xt=wr}if(St===be.length)return m(ye,xt),jn&&cl(ye,St),lt;if(xt===null){for(;St<be.length;St++)xt=Ie(ye,be[St],Be),xt!==null&&(de=E(xt,de,St),yt===null?lt=xt:yt.sibling=xt,yt=xt);return jn&&cl(ye,St),lt}for(xt=v(ye,xt);St<be.length;St++)wr=Xe(xt,ye,St,be[St],Be),wr!==null&&(l&&wr.alternate!==null&&xt.delete(wr.key===null?St:wr.key),de=E(wr,de,St),yt===null?lt=wr:yt.sibling=wr,yt=wr);return l&&xt.forEach(function(xo){return h(ye,xo)}),jn&&cl(ye,St),lt}function at(ye,de,be,Be){var lt=pe(be);if(typeof lt!="function")throw Error(n(150));if(be=lt.call(be),be==null)throw Error(n(151));for(var yt=lt=null,xt=de,St=de=0,wr=null,Jt=be.next();xt!==null&&!Jt.done;St++,Jt=be.next()){xt.index>St?(wr=xt,xt=null):wr=xt.sibling;var xo=Oe(ye,xt,Jt.value,Be);if(xo===null){xt===null&&(xt=wr);break}l&&xt&&xo.alternate===null&&h(ye,xt),de=E(xo,de,St),yt===null?lt=xo:yt.sibling=xo,yt=xo,xt=wr}if(Jt.done)return m(ye,xt),jn&&cl(ye,St),lt;if(xt===null){for(;!Jt.done;St++,Jt=be.next())Jt=Ie(ye,Jt.value,Be),Jt!==null&&(de=E(Jt,de,St),yt===null?lt=Jt:yt.sibling=Jt,yt=Jt);return jn&&cl(ye,St),lt}for(xt=v(ye,xt);!Jt.done;St++,Jt=be.next())Jt=Xe(xt,ye,St,Jt.value,Be),Jt!==null&&(l&&Jt.alternate!==null&&xt.delete(Jt.key===null?St:Jt.key),de=E(Jt,de,St),yt===null?lt=Jt:yt.sibling=Jt,yt=Jt);return l&&xt.forEach(function(R7){return h(ye,R7)}),jn&&cl(ye,St),lt}function Wn(ye,de,be,Be){if(typeof be=="object"&&be!==null&&be.type===O&&be.key===null&&(be=be.props.children),typeof be=="object"&&be!==null){switch(be.$$typeof){case V:e:{for(var lt=be.key,yt=de;yt!==null;){if(yt.key===lt){if(lt=be.type,lt===O){if(yt.tag===7){m(ye,yt.sibling),de=S(yt,be.props.children),de.return=ye,ye=de;break e}}else if(yt.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===ee&&e2(lt)===yt.type){m(ye,yt.sibling),de=S(yt,be.props),de.ref=id(ye,yt,be),de.return=ye,ye=de;break e}m(ye,yt);break}else h(ye,yt);yt=yt.sibling}be.type===O?(de=xl(be.props.children,ye.mode,Be,be.key),de.return=ye,ye=de):(Be=Zf(be.type,be.key,be.props,null,ye.mode,Be),Be.ref=id(ye,de,be),Be.return=ye,ye=Be)}return D(ye);case I:e:{for(yt=be.key;de!==null;){if(de.key===yt)if(de.tag===4&&de.stateNode.containerInfo===be.containerInfo&&de.stateNode.implementation===be.implementation){m(ye,de.sibling),de=S(de,be.children||[]),de.return=ye,ye=de;break e}else{m(ye,de);break}else h(ye,de);de=de.sibling}de=ey(be,ye.mode,Be),de.return=ye,ye=de}return D(ye);case ee:return yt=be._init,Wn(ye,de,yt(be._payload),Be)}if(ti(be))return it(ye,de,be,Be);if(pe(be))return at(ye,de,be,Be);Nf(ye,be)}return typeof be=="string"&&be!==""||typeof be=="number"?(be=""+be,de!==null&&de.tag===6?(m(ye,de.sibling),de=S(de,be),de.return=ye,ye=de):(m(ye,de),de=Z0(be,ye.mode,Be),de.return=ye,ye=de),D(ye)):m(ye,de)}return Wn}var Eu=t2(!0),n2=t2(!1),Pf=ao(null),Of=null,Tu=null,u0=null;function c0(){u0=Tu=Of=null}function d0(l){var h=Pf.current;vn(Pf),l._currentValue=h}function h0(l,h,m){for(;l!==null;){var v=l.alternate;if((l.childLanes&h)!==h?(l.childLanes|=h,v!==null&&(v.childLanes|=h)):v!==null&&(v.childLanes&h)!==h&&(v.childLanes|=h),l===m)break;l=l.return}}function Nu(l,h){Of=l,u0=Tu=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&h)!==0&&(ii=!0),l.firstContext=null)}function Hi(l){var h=l._currentValue;if(u0!==l)if(l={context:l,memoizedValue:h,next:null},Tu===null){if(Of===null)throw Error(n(308));Tu=l,Of.dependencies={lanes:0,firstContext:l}}else Tu=Tu.next=l;return h}var dl=null;function f0(l){dl===null?dl=[l]:dl.push(l)}function r2(l,h,m,v){var S=h.interleaved;return S===null?(m.next=m,f0(h)):(m.next=S.next,S.next=m),h.interleaved=m,ya(l,v)}function ya(l,h){l.lanes|=h;var m=l.alternate;for(m!==null&&(m.lanes|=h),m=l,l=l.return;l!==null;)l.childLanes|=h,m=l.alternate,m!==null&&(m.childLanes|=h),m=l,l=l.return;return m.tag===3?m.stateNode:null}var uo=!1;function p0(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function i2(l,h){l=l.updateQueue,h.updateQueue===l&&(h.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function xa(l,h){return{eventTime:l,lane:h,tag:0,payload:null,callback:null,next:null}}function co(l,h,m){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(Gt&2)!==0){var S=v.pending;return S===null?h.next=h:(h.next=S.next,S.next=h),v.pending=h,ya(l,m)}return S=v.interleaved,S===null?(h.next=h,f0(v)):(h.next=S.next,S.next=h),v.interleaved=h,ya(l,m)}function Rf(l,h,m){if(h=h.updateQueue,h!==null&&(h=h.shared,(m&4194240)!==0)){var v=h.lanes;v&=l.pendingLanes,m|=v,h.lanes=m,au(l,m)}}function s2(l,h){var m=l.updateQueue,v=l.alternate;if(v!==null&&(v=v.updateQueue,m===v)){var S=null,E=null;if(m=m.firstBaseUpdate,m!==null){do{var D={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};E===null?S=E=D:E=E.next=D,m=m.next}while(m!==null);E===null?S=E=h:E=E.next=h}else S=E=h;m={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:E,shared:v.shared,effects:v.effects},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=h:l.next=h,m.lastBaseUpdate=h}function Af(l,h,m,v){var S=l.updateQueue;uo=!1;var E=S.firstBaseUpdate,D=S.lastBaseUpdate,K=S.shared.pending;if(K!==null){S.shared.pending=null;var ne=K,Se=ne.next;ne.next=null,D===null?E=Se:D.next=Se,D=ne;var Ae=l.alternate;Ae!==null&&(Ae=Ae.updateQueue,K=Ae.lastBaseUpdate,K!==D&&(K===null?Ae.firstBaseUpdate=Se:K.next=Se,Ae.lastBaseUpdate=ne))}if(E!==null){var Ie=S.baseState;D=0,Ae=Se=ne=null,K=E;do{var Oe=K.lane,Xe=K.eventTime;if((v&Oe)===Oe){Ae!==null&&(Ae=Ae.next={eventTime:Xe,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var it=l,at=K;switch(Oe=h,Xe=m,at.tag){case 1:if(it=at.payload,typeof it=="function"){Ie=it.call(Xe,Ie,Oe);break e}Ie=it;break e;case 3:it.flags=it.flags&-65537|128;case 0:if(it=at.payload,Oe=typeof it=="function"?it.call(Xe,Ie,Oe):it,Oe==null)break e;Ie=M({},Ie,Oe);break e;case 2:uo=!0}}K.callback!==null&&K.lane!==0&&(l.flags|=64,Oe=S.effects,Oe===null?S.effects=[K]:Oe.push(K))}else Xe={eventTime:Xe,lane:Oe,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Ae===null?(Se=Ae=Xe,ne=Ie):Ae=Ae.next=Xe,D|=Oe;if(K=K.next,K===null){if(K=S.shared.pending,K===null)break;Oe=K,K=Oe.next,Oe.next=null,S.lastBaseUpdate=Oe,S.shared.pending=null}}while(!0);if(Ae===null&&(ne=Ie),S.baseState=ne,S.firstBaseUpdate=Se,S.lastBaseUpdate=Ae,h=S.shared.interleaved,h!==null){S=h;do D|=S.lane,S=S.next;while(S!==h)}else E===null&&(S.shared.lanes=0);pl|=D,l.lanes=D,l.memoizedState=Ie}}function a2(l,h,m){if(l=h.effects,h.effects=null,l!==null)for(h=0;h<l.length;h++){var v=l[h],S=v.callback;if(S!==null){if(v.callback=null,v=m,typeof S!="function")throw Error(n(191,S));S.call(v)}}}var sd={},qs=ao(sd),ad=ao(sd),od=ao(sd);function hl(l){if(l===sd)throw Error(n(174));return l}function m0(l,h){switch(hn(od,h),hn(ad,l),hn(qs,sd),l=h.nodeType,l){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:Le(null,"");break;default:l=l===8?h.parentNode:h,h=l.namespaceURI||null,l=l.tagName,h=Le(h,l)}vn(qs),hn(qs,h)}function Pu(){vn(qs),vn(ad),vn(od)}function o2(l){hl(od.current);var h=hl(qs.current),m=Le(h,l.type);h!==m&&(hn(ad,l),hn(qs,m))}function g0(l){ad.current===l&&(vn(qs),vn(ad))}var On=ao(0);function If(l){for(var h=l;h!==null;){if(h.tag===13){var m=h.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var y0=[];function x0(){for(var l=0;l<y0.length;l++)y0[l]._workInProgressVersionPrimary=null;y0.length=0}var Lf=U.ReactCurrentDispatcher,v0=U.ReactCurrentBatchConfig,fl=0,Rn=null,lr=null,vr=null,Df=!1,ld=!1,ud=0,e7=0;function Ar(){throw Error(n(321))}function b0(l,h){if(h===null)return!1;for(var m=0;m<h.length&&m<l.length;m++)if(!he(l[m],h[m]))return!1;return!0}function w0(l,h,m,v,S,E){if(fl=E,Rn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Lf.current=l===null||l.memoizedState===null?i7:s7,l=m(v,S),ld){E=0;do{if(ld=!1,ud=0,25<=E)throw Error(n(301));E+=1,vr=lr=null,h.updateQueue=null,Lf.current=a7,l=m(v,S)}while(ld)}if(Lf.current=Bf,h=lr!==null&&lr.next!==null,fl=0,vr=lr=Rn=null,Df=!1,h)throw Error(n(300));return l}function _0(){var l=ud!==0;return ud=0,l}function Ws(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vr===null?Rn.memoizedState=vr=l:vr=vr.next=l,vr}function Vi(){if(lr===null){var l=Rn.alternate;l=l!==null?l.memoizedState:null}else l=lr.next;var h=vr===null?Rn.memoizedState:vr.next;if(h!==null)vr=h,lr=l;else{if(l===null)throw Error(n(310));lr=l,l={memoizedState:lr.memoizedState,baseState:lr.baseState,baseQueue:lr.baseQueue,queue:lr.queue,next:null},vr===null?Rn.memoizedState=vr=l:vr=vr.next=l}return vr}function cd(l,h){return typeof h=="function"?h(l):h}function S0(l){var h=Vi(),m=h.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=l;var v=lr,S=v.baseQueue,E=m.pending;if(E!==null){if(S!==null){var D=S.next;S.next=E.next,E.next=D}v.baseQueue=S=E,m.pending=null}if(S!==null){E=S.next,v=v.baseState;var K=D=null,ne=null,Se=E;do{var Ae=Se.lane;if((fl&Ae)===Ae)ne!==null&&(ne=ne.next={lane:0,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null}),v=Se.hasEagerState?Se.eagerState:l(v,Se.action);else{var Ie={lane:Ae,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null};ne===null?(K=ne=Ie,D=v):ne=ne.next=Ie,Rn.lanes|=Ae,pl|=Ae}Se=Se.next}while(Se!==null&&Se!==E);ne===null?D=v:ne.next=K,he(v,h.memoizedState)||(ii=!0),h.memoizedState=v,h.baseState=D,h.baseQueue=ne,m.lastRenderedState=v}if(l=m.interleaved,l!==null){S=l;do E=S.lane,Rn.lanes|=E,pl|=E,S=S.next;while(S!==l)}else S===null&&(m.lanes=0);return[h.memoizedState,m.dispatch]}function C0(l){var h=Vi(),m=h.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=l;var v=m.dispatch,S=m.pending,E=h.memoizedState;if(S!==null){m.pending=null;var D=S=S.next;do E=l(E,D.action),D=D.next;while(D!==S);he(E,h.memoizedState)||(ii=!0),h.memoizedState=E,h.baseQueue===null&&(h.baseState=E),m.lastRenderedState=E}return[E,v]}function l2(){}function u2(l,h){var m=Rn,v=Vi(),S=h(),E=!he(v.memoizedState,S);if(E&&(v.memoizedState=S,ii=!0),v=v.queue,j0(h2.bind(null,m,v,l),[l]),v.getSnapshot!==h||E||vr!==null&&vr.memoizedState.tag&1){if(m.flags|=2048,dd(9,d2.bind(null,m,v,S,h),void 0,null),br===null)throw Error(n(349));(fl&30)!==0||c2(m,h,S)}return S}function c2(l,h,m){l.flags|=16384,l={getSnapshot:h,value:m},h=Rn.updateQueue,h===null?(h={lastEffect:null,stores:null},Rn.updateQueue=h,h.stores=[l]):(m=h.stores,m===null?h.stores=[l]:m.push(l))}function d2(l,h,m,v){h.value=m,h.getSnapshot=v,f2(h)&&p2(l)}function h2(l,h,m){return m(function(){f2(h)&&p2(l)})}function f2(l){var h=l.getSnapshot;l=l.value;try{var m=h();return!he(l,m)}catch{return!0}}function p2(l){var h=ya(l,1);h!==null&&bs(h,l,1,-1)}function m2(l){var h=Ws();return typeof l=="function"&&(l=l()),h.memoizedState=h.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cd,lastRenderedState:l},h.queue=l,l=l.dispatch=r7.bind(null,Rn,l),[h.memoizedState,l]}function dd(l,h,m,v){return l={tag:l,create:h,destroy:m,deps:v,next:null},h=Rn.updateQueue,h===null?(h={lastEffect:null,stores:null},Rn.updateQueue=h,h.lastEffect=l.next=l):(m=h.lastEffect,m===null?h.lastEffect=l.next=l:(v=m.next,m.next=l,l.next=v,h.lastEffect=l)),l}function g2(){return Vi().memoizedState}function Mf(l,h,m,v){var S=Ws();Rn.flags|=l,S.memoizedState=dd(1|h,m,void 0,v===void 0?null:v)}function Ff(l,h,m,v){var S=Vi();v=v===void 0?null:v;var E=void 0;if(lr!==null){var D=lr.memoizedState;if(E=D.destroy,v!==null&&b0(v,D.deps)){S.memoizedState=dd(h,m,E,v);return}}Rn.flags|=l,S.memoizedState=dd(1|h,m,E,v)}function y2(l,h){return Mf(8390656,8,l,h)}function j0(l,h){return Ff(2048,8,l,h)}function x2(l,h){return Ff(4,2,l,h)}function v2(l,h){return Ff(4,4,l,h)}function b2(l,h){if(typeof h=="function")return l=l(),h(l),function(){h(null)};if(h!=null)return l=l(),h.current=l,function(){h.current=null}}function w2(l,h,m){return m=m!=null?m.concat([l]):null,Ff(4,4,b2.bind(null,h,l),m)}function k0(){}function _2(l,h){var m=Vi();h=h===void 0?null:h;var v=m.memoizedState;return v!==null&&h!==null&&b0(h,v[1])?v[0]:(m.memoizedState=[l,h],l)}function S2(l,h){var m=Vi();h=h===void 0?null:h;var v=m.memoizedState;return v!==null&&h!==null&&b0(h,v[1])?v[0]:(l=l(),m.memoizedState=[l,h],l)}function C2(l,h,m){return(fl&21)===0?(l.baseState&&(l.baseState=!1,ii=!0),l.memoizedState=m):(he(m,h)||(m=sa(),Rn.lanes|=m,pl|=m,l.baseState=!0),h)}function t7(l,h){var m=Qt;Qt=m!==0&&4>m?m:4,l(!0);var v=v0.transition;v0.transition={};try{l(!1),h()}finally{Qt=m,v0.transition=v}}function j2(){return Vi().memoizedState}function n7(l,h,m){var v=mo(l);if(m={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null},k2(l))E2(h,m);else if(m=r2(l,h,m,v),m!==null){var S=Jr();bs(m,l,v,S),T2(m,h,v)}}function r7(l,h,m){var v=mo(l),S={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null};if(k2(l))E2(h,S);else{var E=l.alternate;if(l.lanes===0&&(E===null||E.lanes===0)&&(E=h.lastRenderedReducer,E!==null))try{var D=h.lastRenderedState,K=E(D,m);if(S.hasEagerState=!0,S.eagerState=K,he(K,D)){var ne=h.interleaved;ne===null?(S.next=S,f0(h)):(S.next=ne.next,ne.next=S),h.interleaved=S;return}}catch{}finally{}m=r2(l,h,S,v),m!==null&&(S=Jr(),bs(m,l,v,S),T2(m,h,v))}}function k2(l){var h=l.alternate;return l===Rn||h!==null&&h===Rn}function E2(l,h){ld=Df=!0;var m=l.pending;m===null?h.next=h:(h.next=m.next,m.next=h),l.pending=h}function T2(l,h,m){if((m&4194240)!==0){var v=h.lanes;v&=l.pendingLanes,m|=v,h.lanes=m,au(l,m)}}var Bf={readContext:Hi,useCallback:Ar,useContext:Ar,useEffect:Ar,useImperativeHandle:Ar,useInsertionEffect:Ar,useLayoutEffect:Ar,useMemo:Ar,useReducer:Ar,useRef:Ar,useState:Ar,useDebugValue:Ar,useDeferredValue:Ar,useTransition:Ar,useMutableSource:Ar,useSyncExternalStore:Ar,useId:Ar,unstable_isNewReconciler:!1},i7={readContext:Hi,useCallback:function(l,h){return Ws().memoizedState=[l,h===void 0?null:h],l},useContext:Hi,useEffect:y2,useImperativeHandle:function(l,h,m){return m=m!=null?m.concat([l]):null,Mf(4194308,4,b2.bind(null,h,l),m)},useLayoutEffect:function(l,h){return Mf(4194308,4,l,h)},useInsertionEffect:function(l,h){return Mf(4,2,l,h)},useMemo:function(l,h){var m=Ws();return h=h===void 0?null:h,l=l(),m.memoizedState=[l,h],l},useReducer:function(l,h,m){var v=Ws();return h=m!==void 0?m(h):h,v.memoizedState=v.baseState=h,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:h},v.queue=l,l=l.dispatch=n7.bind(null,Rn,l),[v.memoizedState,l]},useRef:function(l){var h=Ws();return l={current:l},h.memoizedState=l},useState:m2,useDebugValue:k0,useDeferredValue:function(l){return Ws().memoizedState=l},useTransition:function(){var l=m2(!1),h=l[0];return l=t7.bind(null,l[1]),Ws().memoizedState=l,[h,l]},useMutableSource:function(){},useSyncExternalStore:function(l,h,m){var v=Rn,S=Ws();if(jn){if(m===void 0)throw Error(n(407));m=m()}else{if(m=h(),br===null)throw Error(n(349));(fl&30)!==0||c2(v,h,m)}S.memoizedState=m;var E={value:m,getSnapshot:h};return S.queue=E,y2(h2.bind(null,v,E,l),[l]),v.flags|=2048,dd(9,d2.bind(null,v,E,m,h),void 0,null),m},useId:function(){var l=Ws(),h=br.identifierPrefix;if(jn){var m=ga,v=ma;m=(v&~(1<<32-rt(v)-1)).toString(32)+m,h=":"+h+"R"+m,m=ud++,0<m&&(h+="H"+m.toString(32)),h+=":"}else m=e7++,h=":"+h+"r"+m.toString(32)+":";return l.memoizedState=h},unstable_isNewReconciler:!1},s7={readContext:Hi,useCallback:_2,useContext:Hi,useEffect:j0,useImperativeHandle:w2,useInsertionEffect:x2,useLayoutEffect:v2,useMemo:S2,useReducer:S0,useRef:g2,useState:function(){return S0(cd)},useDebugValue:k0,useDeferredValue:function(l){var h=Vi();return C2(h,lr.memoizedState,l)},useTransition:function(){var l=S0(cd)[0],h=Vi().memoizedState;return[l,h]},useMutableSource:l2,useSyncExternalStore:u2,useId:j2,unstable_isNewReconciler:!1},a7={readContext:Hi,useCallback:_2,useContext:Hi,useEffect:j0,useImperativeHandle:w2,useInsertionEffect:x2,useLayoutEffect:v2,useMemo:S2,useReducer:C0,useRef:g2,useState:function(){return C0(cd)},useDebugValue:k0,useDeferredValue:function(l){var h=Vi();return lr===null?h.memoizedState=l:C2(h,lr.memoizedState,l)},useTransition:function(){var l=C0(cd)[0],h=Vi().memoizedState;return[l,h]},useMutableSource:l2,useSyncExternalStore:u2,useId:j2,unstable_isNewReconciler:!1};function ys(l,h){if(l&&l.defaultProps){h=M({},h),l=l.defaultProps;for(var m in l)h[m]===void 0&&(h[m]=l[m]);return h}return h}function E0(l,h,m,v){h=l.memoizedState,m=m(v,h),m=m==null?h:M({},h,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var zf={isMounted:function(l){return(l=l._reactInternals)?Je(l)===l:!1},enqueueSetState:function(l,h,m){l=l._reactInternals;var v=Jr(),S=mo(l),E=xa(v,S);E.payload=h,m!=null&&(E.callback=m),h=co(l,E,S),h!==null&&(bs(h,l,S,v),Rf(h,l,S))},enqueueReplaceState:function(l,h,m){l=l._reactInternals;var v=Jr(),S=mo(l),E=xa(v,S);E.tag=1,E.payload=h,m!=null&&(E.callback=m),h=co(l,E,S),h!==null&&(bs(h,l,S,v),Rf(h,l,S))},enqueueForceUpdate:function(l,h){l=l._reactInternals;var m=Jr(),v=mo(l),S=xa(m,v);S.tag=2,h!=null&&(S.callback=h),h=co(l,S,v),h!==null&&(bs(h,l,v,m),Rf(h,l,v))}};function N2(l,h,m,v,S,E,D){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,E,D):h.prototype&&h.prototype.isPureReactComponent?!re(m,v)||!re(S,E):!0}function P2(l,h,m){var v=!1,S=oo,E=h.contextType;return typeof E=="object"&&E!==null?E=Hi(E):(S=ri(h)?ll:Rr.current,v=h.contextTypes,E=(v=v!=null)?Su(l,S):oo),h=new h(m,E),l.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=zf,l.stateNode=h,h._reactInternals=l,v&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=S,l.__reactInternalMemoizedMaskedChildContext=E),h}function O2(l,h,m,v){l=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(m,v),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(m,v),h.state!==l&&zf.enqueueReplaceState(h,h.state,null)}function T0(l,h,m,v){var S=l.stateNode;S.props=m,S.state=l.memoizedState,S.refs={},p0(l);var E=h.contextType;typeof E=="object"&&E!==null?S.context=Hi(E):(E=ri(h)?ll:Rr.current,S.context=Su(l,E)),S.state=l.memoizedState,E=h.getDerivedStateFromProps,typeof E=="function"&&(E0(l,h,E,m),S.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(h=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),h!==S.state&&zf.enqueueReplaceState(S,S.state,null),Af(l,m,S,v),S.state=l.memoizedState),typeof S.componentDidMount=="function"&&(l.flags|=4194308)}function Ou(l,h){try{var m="",v=h;do m+=ke(v),v=v.return;while(v);var S=m}catch(E){S=`
Error generating stack: `+E.message+`
`+E.stack}return{value:l,source:h,stack:S,digest:null}}function N0(l,h,m){return{value:l,source:null,stack:m??null,digest:h??null}}function P0(l,h){try{console.error(h.value)}catch(m){setTimeout(function(){throw m})}}var o7=typeof WeakMap=="function"?WeakMap:Map;function R2(l,h,m){m=xa(-1,m),m.tag=3,m.payload={element:null};var v=h.value;return m.callback=function(){Qf||(Qf=!0,q0=v),P0(l,h)},m}function A2(l,h,m){m=xa(-1,m),m.tag=3;var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var S=h.value;m.payload=function(){return v(S)},m.callback=function(){P0(l,h)}}var E=l.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(m.callback=function(){P0(l,h),typeof v!="function"&&(fo===null?fo=new Set([this]):fo.add(this));var D=h.stack;this.componentDidCatch(h.value,{componentStack:D!==null?D:""})}),m}function I2(l,h,m){var v=l.pingCache;if(v===null){v=l.pingCache=new o7;var S=new Set;v.set(h,S)}else S=v.get(h),S===void 0&&(S=new Set,v.set(h,S));S.has(m)||(S.add(m),l=w7.bind(null,l,h,m),h.then(l,l))}function L2(l){do{var h;if((h=l.tag===13)&&(h=l.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return l;l=l.return}while(l!==null);return null}function D2(l,h,m,v,S){return(l.mode&1)===0?(l===h?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(h=xa(-1,1),h.tag=2,co(m,h,1))),m.lanes|=1),l):(l.flags|=65536,l.lanes=S,l)}var l7=U.ReactCurrentOwner,ii=!1;function Yr(l,h,m,v){h.child=l===null?n2(h,null,m,v):Eu(h,l.child,m,v)}function M2(l,h,m,v,S){m=m.render;var E=h.ref;return Nu(h,S),v=w0(l,h,m,v,E,S),m=_0(),l!==null&&!ii?(h.updateQueue=l.updateQueue,h.flags&=-2053,l.lanes&=~S,va(l,h,S)):(jn&&m&&i0(h),h.flags|=1,Yr(l,h,v,S),h.child)}function F2(l,h,m,v,S){if(l===null){var E=m.type;return typeof E=="function"&&!X0(E)&&E.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(h.tag=15,h.type=E,B2(l,h,E,v,S)):(l=Zf(m.type,null,v,h,h.mode,S),l.ref=h.ref,l.return=h,h.child=l)}if(E=l.child,(l.lanes&S)===0){var D=E.memoizedProps;if(m=m.compare,m=m!==null?m:re,m(D,v)&&l.ref===h.ref)return va(l,h,S)}return h.flags|=1,l=yo(E,v),l.ref=h.ref,l.return=h,h.child=l}function B2(l,h,m,v,S){if(l!==null){var E=l.memoizedProps;if(re(E,v)&&l.ref===h.ref)if(ii=!1,h.pendingProps=v=E,(l.lanes&S)!==0)(l.flags&131072)!==0&&(ii=!0);else return h.lanes=l.lanes,va(l,h,S)}return O0(l,h,m,v,S)}function z2(l,h,m){var v=h.pendingProps,S=v.children,E=l!==null?l.memoizedState:null;if(v.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},hn(Au,Ei),Ei|=m;else{if((m&1073741824)===0)return l=E!==null?E.baseLanes|m:m,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:l,cachePool:null,transitions:null},h.updateQueue=null,hn(Au,Ei),Ei|=l,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=E!==null?E.baseLanes:m,hn(Au,Ei),Ei|=v}else E!==null?(v=E.baseLanes|m,h.memoizedState=null):v=m,hn(Au,Ei),Ei|=v;return Yr(l,h,S,m),h.child}function U2(l,h){var m=h.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(h.flags|=512,h.flags|=2097152)}function O0(l,h,m,v,S){var E=ri(m)?ll:Rr.current;return E=Su(h,E),Nu(h,S),m=w0(l,h,m,v,E,S),v=_0(),l!==null&&!ii?(h.updateQueue=l.updateQueue,h.flags&=-2053,l.lanes&=~S,va(l,h,S)):(jn&&v&&i0(h),h.flags|=1,Yr(l,h,m,S),h.child)}function $2(l,h,m,v,S){if(ri(m)){var E=!0;Cf(h)}else E=!1;if(Nu(h,S),h.stateNode===null)$f(l,h),P2(h,m,v),T0(h,m,v,S),v=!0;else if(l===null){var D=h.stateNode,K=h.memoizedProps;D.props=K;var ne=D.context,Se=m.contextType;typeof Se=="object"&&Se!==null?Se=Hi(Se):(Se=ri(m)?ll:Rr.current,Se=Su(h,Se));var Ae=m.getDerivedStateFromProps,Ie=typeof Ae=="function"||typeof D.getSnapshotBeforeUpdate=="function";Ie||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(K!==v||ne!==Se)&&O2(h,D,v,Se),uo=!1;var Oe=h.memoizedState;D.state=Oe,Af(h,v,D,S),ne=h.memoizedState,K!==v||Oe!==ne||ni.current||uo?(typeof Ae=="function"&&(E0(h,m,Ae,v),ne=h.memoizedState),(K=uo||N2(h,m,K,v,Oe,ne,Se))?(Ie||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(h.flags|=4194308)):(typeof D.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=v,h.memoizedState=ne),D.props=v,D.state=ne,D.context=Se,v=K):(typeof D.componentDidMount=="function"&&(h.flags|=4194308),v=!1)}else{D=h.stateNode,i2(l,h),K=h.memoizedProps,Se=h.type===h.elementType?K:ys(h.type,K),D.props=Se,Ie=h.pendingProps,Oe=D.context,ne=m.contextType,typeof ne=="object"&&ne!==null?ne=Hi(ne):(ne=ri(m)?ll:Rr.current,ne=Su(h,ne));var Xe=m.getDerivedStateFromProps;(Ae=typeof Xe=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(K!==Ie||Oe!==ne)&&O2(h,D,v,ne),uo=!1,Oe=h.memoizedState,D.state=Oe,Af(h,v,D,S);var it=h.memoizedState;K!==Ie||Oe!==it||ni.current||uo?(typeof Xe=="function"&&(E0(h,m,Xe,v),it=h.memoizedState),(Se=uo||N2(h,m,Se,v,Oe,it,ne)||!1)?(Ae||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(v,it,ne),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(v,it,ne)),typeof D.componentDidUpdate=="function"&&(h.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof D.componentDidUpdate!="function"||K===l.memoizedProps&&Oe===l.memoizedState||(h.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||K===l.memoizedProps&&Oe===l.memoizedState||(h.flags|=1024),h.memoizedProps=v,h.memoizedState=it),D.props=v,D.state=it,D.context=ne,v=Se):(typeof D.componentDidUpdate!="function"||K===l.memoizedProps&&Oe===l.memoizedState||(h.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||K===l.memoizedProps&&Oe===l.memoizedState||(h.flags|=1024),v=!1)}return R0(l,h,m,v,E,S)}function R0(l,h,m,v,S,E){U2(l,h);var D=(h.flags&128)!==0;if(!v&&!D)return S&&Qb(h,m,!1),va(l,h,E);v=h.stateNode,l7.current=h;var K=D&&typeof m.getDerivedStateFromError!="function"?null:v.render();return h.flags|=1,l!==null&&D?(h.child=Eu(h,l.child,null,E),h.child=Eu(h,null,K,E)):Yr(l,h,K,E),h.memoizedState=v.state,S&&Qb(h,m,!0),h.child}function H2(l){var h=l.stateNode;h.pendingContext?qb(l,h.pendingContext,h.pendingContext!==h.context):h.context&&qb(l,h.context,!1),m0(l,h.containerInfo)}function V2(l,h,m,v,S){return ku(),l0(S),h.flags|=256,Yr(l,h,m,v),h.child}var A0={dehydrated:null,treeContext:null,retryLane:0};function I0(l){return{baseLanes:l,cachePool:null,transitions:null}}function q2(l,h,m){var v=h.pendingProps,S=On.current,E=!1,D=(h.flags&128)!==0,K;if((K=D)||(K=l!==null&&l.memoizedState===null?!1:(S&2)!==0),K?(E=!0,h.flags&=-129):(l===null||l.memoizedState!==null)&&(S|=1),hn(On,S&1),l===null)return o0(h),l=h.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((h.mode&1)===0?h.lanes=1:l.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(D=v.children,l=v.fallback,E?(v=h.mode,E=h.child,D={mode:"hidden",children:D},(v&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=D):E=ep(D,v,0,null),l=xl(l,v,m,null),E.return=h,l.return=h,E.sibling=l,h.child=E,h.child.memoizedState=I0(m),h.memoizedState=A0,l):L0(h,D));if(S=l.memoizedState,S!==null&&(K=S.dehydrated,K!==null))return u7(l,h,D,v,K,S,m);if(E){E=v.fallback,D=h.mode,S=l.child,K=S.sibling;var ne={mode:"hidden",children:v.children};return(D&1)===0&&h.child!==S?(v=h.child,v.childLanes=0,v.pendingProps=ne,h.deletions=null):(v=yo(S,ne),v.subtreeFlags=S.subtreeFlags&14680064),K!==null?E=yo(K,E):(E=xl(E,D,m,null),E.flags|=2),E.return=h,v.return=h,v.sibling=E,h.child=v,v=E,E=h.child,D=l.child.memoizedState,D=D===null?I0(m):{baseLanes:D.baseLanes|m,cachePool:null,transitions:D.transitions},E.memoizedState=D,E.childLanes=l.childLanes&~m,h.memoizedState=A0,v}return E=l.child,l=E.sibling,v=yo(E,{mode:"visible",children:v.children}),(h.mode&1)===0&&(v.lanes=m),v.return=h,v.sibling=null,l!==null&&(m=h.deletions,m===null?(h.deletions=[l],h.flags|=16):m.push(l)),h.child=v,h.memoizedState=null,v}function L0(l,h){return h=ep({mode:"visible",children:h},l.mode,0,null),h.return=l,l.child=h}function Uf(l,h,m,v){return v!==null&&l0(v),Eu(h,l.child,null,m),l=L0(h,h.pendingProps.children),l.flags|=2,h.memoizedState=null,l}function u7(l,h,m,v,S,E,D){if(m)return h.flags&256?(h.flags&=-257,v=N0(Error(n(422))),Uf(l,h,D,v)):h.memoizedState!==null?(h.child=l.child,h.flags|=128,null):(E=v.fallback,S=h.mode,v=ep({mode:"visible",children:v.children},S,0,null),E=xl(E,S,D,null),E.flags|=2,v.return=h,E.return=h,v.sibling=E,h.child=v,(h.mode&1)!==0&&Eu(h,l.child,null,D),h.child.memoizedState=I0(D),h.memoizedState=A0,E);if((h.mode&1)===0)return Uf(l,h,D,null);if(S.data==="$!"){if(v=S.nextSibling&&S.nextSibling.dataset,v)var K=v.dgst;return v=K,E=Error(n(419)),v=N0(E,v,void 0),Uf(l,h,D,v)}if(K=(D&l.childLanes)!==0,ii||K){if(v=br,v!==null){switch(D&-D){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(v.suspendedLanes|D))!==0?0:S,S!==0&&S!==E.retryLane&&(E.retryLane=S,ya(l,S),bs(v,l,S,-1))}return J0(),v=N0(Error(n(421))),Uf(l,h,D,v)}return S.data==="$?"?(h.flags|=128,h.child=l.child,h=_7.bind(null,l),S._reactRetry=h,null):(l=E.treeContext,ki=so(S.nextSibling),ji=h,jn=!0,gs=null,l!==null&&(Ui[$i++]=ma,Ui[$i++]=ga,Ui[$i++]=ul,ma=l.id,ga=l.overflow,ul=h),h=L0(h,v.children),h.flags|=4096,h)}function W2(l,h,m){l.lanes|=h;var v=l.alternate;v!==null&&(v.lanes|=h),h0(l.return,h,m)}function D0(l,h,m,v,S){var E=l.memoizedState;E===null?l.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:S}:(E.isBackwards=h,E.rendering=null,E.renderingStartTime=0,E.last=v,E.tail=m,E.tailMode=S)}function Q2(l,h,m){var v=h.pendingProps,S=v.revealOrder,E=v.tail;if(Yr(l,h,v.children,m),v=On.current,(v&2)!==0)v=v&1|2,h.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=h.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&W2(l,m,h);else if(l.tag===19)W2(l,m,h);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===h)break e;for(;l.sibling===null;){if(l.return===null||l.return===h)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}v&=1}if(hn(On,v),(h.mode&1)===0)h.memoizedState=null;else switch(S){case"forwards":for(m=h.child,S=null;m!==null;)l=m.alternate,l!==null&&If(l)===null&&(S=m),m=m.sibling;m=S,m===null?(S=h.child,h.child=null):(S=m.sibling,m.sibling=null),D0(h,!1,S,m,E);break;case"backwards":for(m=null,S=h.child,h.child=null;S!==null;){if(l=S.alternate,l!==null&&If(l)===null){h.child=S;break}l=S.sibling,S.sibling=m,m=S,S=l}D0(h,!0,m,null,E);break;case"together":D0(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function $f(l,h){(h.mode&1)===0&&l!==null&&(l.alternate=null,h.alternate=null,h.flags|=2)}function va(l,h,m){if(l!==null&&(h.dependencies=l.dependencies),pl|=h.lanes,(m&h.childLanes)===0)return null;if(l!==null&&h.child!==l.child)throw Error(n(153));if(h.child!==null){for(l=h.child,m=yo(l,l.pendingProps),h.child=m,m.return=h;l.sibling!==null;)l=l.sibling,m=m.sibling=yo(l,l.pendingProps),m.return=h;m.sibling=null}return h.child}function c7(l,h,m){switch(h.tag){case 3:H2(h),ku();break;case 5:o2(h);break;case 1:ri(h.type)&&Cf(h);break;case 4:m0(h,h.stateNode.containerInfo);break;case 10:var v=h.type._context,S=h.memoizedProps.value;hn(Pf,v._currentValue),v._currentValue=S;break;case 13:if(v=h.memoizedState,v!==null)return v.dehydrated!==null?(hn(On,On.current&1),h.flags|=128,null):(m&h.child.childLanes)!==0?q2(l,h,m):(hn(On,On.current&1),l=va(l,h,m),l!==null?l.sibling:null);hn(On,On.current&1);break;case 19:if(v=(m&h.childLanes)!==0,(l.flags&128)!==0){if(v)return Q2(l,h,m);h.flags|=128}if(S=h.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),hn(On,On.current),v)break;return null;case 22:case 23:return h.lanes=0,z2(l,h,m)}return va(l,h,m)}var K2,M0,G2,Y2;K2=function(l,h){for(var m=h.child;m!==null;){if(m.tag===5||m.tag===6)l.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},M0=function(){},G2=function(l,h,m,v){var S=l.memoizedProps;if(S!==v){l=h.stateNode,hl(qs.current);var E=null;switch(m){case"input":S=Yn(l,S),v=Yn(l,v),E=[];break;case"select":S=M({},S,{value:void 0}),v=M({},v,{value:void 0}),E=[];break;case"textarea":S=Ls(l,S),v=Ls(l,v),E=[];break;default:typeof S.onClick!="function"&&typeof v.onClick=="function"&&(l.onclick=wf)}qe(m,v);var D;m=null;for(Se in S)if(!v.hasOwnProperty(Se)&&S.hasOwnProperty(Se)&&S[Se]!=null)if(Se==="style"){var K=S[Se];for(D in K)K.hasOwnProperty(D)&&(m||(m={}),m[D]="")}else Se!=="dangerouslySetInnerHTML"&&Se!=="children"&&Se!=="suppressContentEditableWarning"&&Se!=="suppressHydrationWarning"&&Se!=="autoFocus"&&(i.hasOwnProperty(Se)?E||(E=[]):(E=E||[]).push(Se,null));for(Se in v){var ne=v[Se];if(K=S?.[Se],v.hasOwnProperty(Se)&&ne!==K&&(ne!=null||K!=null))if(Se==="style")if(K){for(D in K)!K.hasOwnProperty(D)||ne&&ne.hasOwnProperty(D)||(m||(m={}),m[D]="");for(D in ne)ne.hasOwnProperty(D)&&K[D]!==ne[D]&&(m||(m={}),m[D]=ne[D])}else m||(E||(E=[]),E.push(Se,m)),m=ne;else Se==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,K=K?K.__html:void 0,ne!=null&&K!==ne&&(E=E||[]).push(Se,ne)):Se==="children"?typeof ne!="string"&&typeof ne!="number"||(E=E||[]).push(Se,""+ne):Se!=="suppressContentEditableWarning"&&Se!=="suppressHydrationWarning"&&(i.hasOwnProperty(Se)?(ne!=null&&Se==="onScroll"&&xn("scroll",l),E||K===ne||(E=[])):(E=E||[]).push(Se,ne))}m&&(E=E||[]).push("style",m);var Se=E;(h.updateQueue=Se)&&(h.flags|=4)}},Y2=function(l,h,m,v){m!==v&&(h.flags|=4)};function hd(l,h){if(!jn)switch(l.tailMode){case"hidden":h=l.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?h||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function Ir(l){var h=l.alternate!==null&&l.alternate.child===l.child,m=0,v=0;if(h)for(var S=l.child;S!==null;)m|=S.lanes|S.childLanes,v|=S.subtreeFlags&14680064,v|=S.flags&14680064,S.return=l,S=S.sibling;else for(S=l.child;S!==null;)m|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=l,S=S.sibling;return l.subtreeFlags|=v,l.childLanes=m,h}function d7(l,h,m){var v=h.pendingProps;switch(s0(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ir(h),null;case 1:return ri(h.type)&&Sf(),Ir(h),null;case 3:return v=h.stateNode,Pu(),vn(ni),vn(Rr),x0(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(l===null||l.child===null)&&(Tf(h)?h.flags|=4:l===null||l.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,gs!==null&&(K0(gs),gs=null))),M0(l,h),Ir(h),null;case 5:g0(h);var S=hl(od.current);if(m=h.type,l!==null&&h.stateNode!=null)G2(l,h,m,v,S),l.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!v){if(h.stateNode===null)throw Error(n(166));return Ir(h),null}if(l=hl(qs.current),Tf(h)){v=h.stateNode,m=h.type;var E=h.memoizedProps;switch(v[Vs]=h,v[nd]=E,l=(h.mode&1)!==0,m){case"dialog":xn("cancel",v),xn("close",v);break;case"iframe":case"object":case"embed":xn("load",v);break;case"video":case"audio":for(S=0;S<Zc.length;S++)xn(Zc[S],v);break;case"source":xn("error",v);break;case"img":case"image":case"link":xn("error",v),xn("load",v);break;case"details":xn("toggle",v);break;case"input":Hn(v,E),xn("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!E.multiple},xn("invalid",v);break;case"textarea":Li(v,E),xn("invalid",v)}qe(m,E),S=null;for(var D in E)if(E.hasOwnProperty(D)){var K=E[D];D==="children"?typeof K=="string"?v.textContent!==K&&(E.suppressHydrationWarning!==!0&&bf(v.textContent,K,l),S=["children",K]):typeof K=="number"&&v.textContent!==""+K&&(E.suppressHydrationWarning!==!0&&bf(v.textContent,K,l),S=["children",""+K]):i.hasOwnProperty(D)&&K!=null&&D==="onScroll"&&xn("scroll",v)}switch(m){case"input":pr(v),Ha(v,E,!0);break;case"textarea":pr(v),Or(v);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(v.onclick=wf)}v=S,h.updateQueue=v,v!==null&&(h.flags|=4)}else{D=S.nodeType===9?S:S.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=Ce(m)),l==="http://www.w3.org/1999/xhtml"?m==="script"?(l=D.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof v.is=="string"?l=D.createElement(m,{is:v.is}):(l=D.createElement(m),m==="select"&&(D=l,v.multiple?D.multiple=!0:v.size&&(D.size=v.size))):l=D.createElementNS(l,m),l[Vs]=h,l[nd]=v,K2(l,h,!1,!1),h.stateNode=l;e:{switch(D=sr(m,v),m){case"dialog":xn("cancel",l),xn("close",l),S=v;break;case"iframe":case"object":case"embed":xn("load",l),S=v;break;case"video":case"audio":for(S=0;S<Zc.length;S++)xn(Zc[S],l);S=v;break;case"source":xn("error",l),S=v;break;case"img":case"image":case"link":xn("error",l),xn("load",l),S=v;break;case"details":xn("toggle",l),S=v;break;case"input":Hn(l,v),S=Yn(l,v),xn("invalid",l);break;case"option":S=v;break;case"select":l._wrapperState={wasMultiple:!!v.multiple},S=M({},v,{value:void 0}),xn("invalid",l);break;case"textarea":Li(l,v),S=Ls(l,v),xn("invalid",l);break;default:S=v}qe(m,S),K=S;for(E in K)if(K.hasOwnProperty(E)){var ne=K[E];E==="style"?An(l,ne):E==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&pt(l,ne)):E==="children"?typeof ne=="string"?(m!=="textarea"||ne!=="")&&At(l,ne):typeof ne=="number"&&At(l,""+ne):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(i.hasOwnProperty(E)?ne!=null&&E==="onScroll"&&xn("scroll",l):ne!=null&&A(l,E,ne,D))}switch(m){case"input":pr(l),Ha(l,v,!1);break;case"textarea":pr(l),Or(l);break;case"option":v.value!=null&&l.setAttribute("value",""+Ve(v.value));break;case"select":l.multiple=!!v.multiple,E=v.value,E!=null?Vn(l,!!v.multiple,E,!1):v.defaultValue!=null&&Vn(l,!!v.multiple,v.defaultValue,!0);break;default:typeof S.onClick=="function"&&(l.onclick=wf)}switch(m){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Ir(h),null;case 6:if(l&&h.stateNode!=null)Y2(l,h,l.memoizedProps,v);else{if(typeof v!="string"&&h.stateNode===null)throw Error(n(166));if(m=hl(od.current),hl(qs.current),Tf(h)){if(v=h.stateNode,m=h.memoizedProps,v[Vs]=h,(E=v.nodeValue!==m)&&(l=ji,l!==null))switch(l.tag){case 3:bf(v.nodeValue,m,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&bf(v.nodeValue,m,(l.mode&1)!==0)}E&&(h.flags|=4)}else v=(m.nodeType===9?m:m.ownerDocument).createTextNode(v),v[Vs]=h,h.stateNode=v}return Ir(h),null;case 13:if(vn(On),v=h.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(jn&&ki!==null&&(h.mode&1)!==0&&(h.flags&128)===0)Zb(),ku(),h.flags|=98560,E=!1;else if(E=Tf(h),v!==null&&v.dehydrated!==null){if(l===null){if(!E)throw Error(n(318));if(E=h.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[Vs]=h}else ku(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Ir(h),E=!1}else gs!==null&&(K0(gs),gs=null),E=!0;if(!E)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=m,h):(v=v!==null,v!==(l!==null&&l.memoizedState!==null)&&v&&(h.child.flags|=8192,(h.mode&1)!==0&&(l===null||(On.current&1)!==0?ur===0&&(ur=3):J0())),h.updateQueue!==null&&(h.flags|=4),Ir(h),null);case 4:return Pu(),M0(l,h),l===null&&ed(h.stateNode.containerInfo),Ir(h),null;case 10:return d0(h.type._context),Ir(h),null;case 17:return ri(h.type)&&Sf(),Ir(h),null;case 19:if(vn(On),E=h.memoizedState,E===null)return Ir(h),null;if(v=(h.flags&128)!==0,D=E.rendering,D===null)if(v)hd(E,!1);else{if(ur!==0||l!==null&&(l.flags&128)!==0)for(l=h.child;l!==null;){if(D=If(l),D!==null){for(h.flags|=128,hd(E,!1),v=D.updateQueue,v!==null&&(h.updateQueue=v,h.flags|=4),h.subtreeFlags=0,v=m,m=h.child;m!==null;)E=m,l=v,E.flags&=14680066,D=E.alternate,D===null?(E.childLanes=0,E.lanes=l,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=D.childLanes,E.lanes=D.lanes,E.child=D.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=D.memoizedProps,E.memoizedState=D.memoizedState,E.updateQueue=D.updateQueue,E.type=D.type,l=D.dependencies,E.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),m=m.sibling;return hn(On,On.current&1|2),h.child}l=l.sibling}E.tail!==null&&Lt()>Iu&&(h.flags|=128,v=!0,hd(E,!1),h.lanes=4194304)}else{if(!v)if(l=If(D),l!==null){if(h.flags|=128,v=!0,m=l.updateQueue,m!==null&&(h.updateQueue=m,h.flags|=4),hd(E,!0),E.tail===null&&E.tailMode==="hidden"&&!D.alternate&&!jn)return Ir(h),null}else 2*Lt()-E.renderingStartTime>Iu&&m!==1073741824&&(h.flags|=128,v=!0,hd(E,!1),h.lanes=4194304);E.isBackwards?(D.sibling=h.child,h.child=D):(m=E.last,m!==null?m.sibling=D:h.child=D,E.last=D)}return E.tail!==null?(h=E.tail,E.rendering=h,E.tail=h.sibling,E.renderingStartTime=Lt(),h.sibling=null,m=On.current,hn(On,v?m&1|2:m&1),h):(Ir(h),null);case 22:case 23:return Y0(),v=h.memoizedState!==null,l!==null&&l.memoizedState!==null!==v&&(h.flags|=8192),v&&(h.mode&1)!==0?(Ei&1073741824)!==0&&(Ir(h),h.subtreeFlags&6&&(h.flags|=8192)):Ir(h),null;case 24:return null;case 25:return null}throw Error(n(156,h.tag))}function h7(l,h){switch(s0(h),h.tag){case 1:return ri(h.type)&&Sf(),l=h.flags,l&65536?(h.flags=l&-65537|128,h):null;case 3:return Pu(),vn(ni),vn(Rr),x0(),l=h.flags,(l&65536)!==0&&(l&128)===0?(h.flags=l&-65537|128,h):null;case 5:return g0(h),null;case 13:if(vn(On),l=h.memoizedState,l!==null&&l.dehydrated!==null){if(h.alternate===null)throw Error(n(340));ku()}return l=h.flags,l&65536?(h.flags=l&-65537|128,h):null;case 19:return vn(On),null;case 4:return Pu(),null;case 10:return d0(h.type._context),null;case 22:case 23:return Y0(),null;case 24:return null;default:return null}}var Hf=!1,Lr=!1,f7=typeof WeakSet=="function"?WeakSet:Set,et=null;function Ru(l,h){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(v){Dn(l,h,v)}else m.current=null}function F0(l,h,m){try{m()}catch(v){Dn(l,h,v)}}var J2=!1;function p7(l,h){if(Yg=el,l=ae(),ie(l)){if("selectionStart"in l)var m={start:l.selectionStart,end:l.selectionEnd};else e:{m=(m=l.ownerDocument)&&m.defaultView||window;var v=m.getSelection&&m.getSelection();if(v&&v.rangeCount!==0){m=v.anchorNode;var S=v.anchorOffset,E=v.focusNode;v=v.focusOffset;try{m.nodeType,E.nodeType}catch{m=null;break e}var D=0,K=-1,ne=-1,Se=0,Ae=0,Ie=l,Oe=null;t:for(;;){for(var Xe;Ie!==m||S!==0&&Ie.nodeType!==3||(K=D+S),Ie!==E||v!==0&&Ie.nodeType!==3||(ne=D+v),Ie.nodeType===3&&(D+=Ie.nodeValue.length),(Xe=Ie.firstChild)!==null;)Oe=Ie,Ie=Xe;for(;;){if(Ie===l)break t;if(Oe===m&&++Se===S&&(K=D),Oe===E&&++Ae===v&&(ne=D),(Xe=Ie.nextSibling)!==null)break;Ie=Oe,Oe=Ie.parentNode}Ie=Xe}m=K===-1||ne===-1?null:{start:K,end:ne}}else m=null}m=m||{start:0,end:0}}else m=null;for(Jg={focusedElem:l,selectionRange:m},el=!1,et=h;et!==null;)if(h=et,l=h.child,(h.subtreeFlags&1028)!==0&&l!==null)l.return=h,et=l;else for(;et!==null;){h=et;try{var it=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(it!==null){var at=it.memoizedProps,Wn=it.memoizedState,ye=h.stateNode,de=ye.getSnapshotBeforeUpdate(h.elementType===h.type?at:ys(h.type,at),Wn);ye.__reactInternalSnapshotBeforeUpdate=de}break;case 3:var be=h.stateNode.containerInfo;be.nodeType===1?be.textContent="":be.nodeType===9&&be.documentElement&&be.removeChild(be.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Be){Dn(h,h.return,Be)}if(l=h.sibling,l!==null){l.return=h.return,et=l;break}et=h.return}return it=J2,J2=!1,it}function fd(l,h,m){var v=h.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var S=v=v.next;do{if((S.tag&l)===l){var E=S.destroy;S.destroy=void 0,E!==void 0&&F0(h,m,E)}S=S.next}while(S!==v)}}function Vf(l,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&l)===l){var v=m.create;m.destroy=v()}m=m.next}while(m!==h)}}function B0(l){var h=l.ref;if(h!==null){var m=l.stateNode;switch(l.tag){case 5:l=m;break;default:l=m}typeof h=="function"?h(l):h.current=l}}function X2(l){var h=l.alternate;h!==null&&(l.alternate=null,X2(h)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(h=l.stateNode,h!==null&&(delete h[Vs],delete h[nd],delete h[t0],delete h[Y8],delete h[J8])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function Z2(l){return l.tag===5||l.tag===3||l.tag===4}function ew(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Z2(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function z0(l,h,m){var v=l.tag;if(v===5||v===6)l=l.stateNode,h?m.nodeType===8?m.parentNode.insertBefore(l,h):m.insertBefore(l,h):(m.nodeType===8?(h=m.parentNode,h.insertBefore(l,m)):(h=m,h.appendChild(l)),m=m._reactRootContainer,m!=null||h.onclick!==null||(h.onclick=wf));else if(v!==4&&(l=l.child,l!==null))for(z0(l,h,m),l=l.sibling;l!==null;)z0(l,h,m),l=l.sibling}function U0(l,h,m){var v=l.tag;if(v===5||v===6)l=l.stateNode,h?m.insertBefore(l,h):m.appendChild(l);else if(v!==4&&(l=l.child,l!==null))for(U0(l,h,m),l=l.sibling;l!==null;)U0(l,h,m),l=l.sibling}var Er=null,xs=!1;function ho(l,h,m){for(m=m.child;m!==null;)tw(l,h,m),m=m.sibling}function tw(l,h,m){if(Jn&&typeof Jn.onCommitFiberUnmount=="function")try{Jn.onCommitFiberUnmount(Fi,m)}catch{}switch(m.tag){case 5:Lr||Ru(m,h);case 6:var v=Er,S=xs;Er=null,ho(l,h,m),Er=v,xs=S,Er!==null&&(xs?(l=Er,m=m.stateNode,l.nodeType===8?l.parentNode.removeChild(m):l.removeChild(m)):Er.removeChild(m.stateNode));break;case 18:Er!==null&&(xs?(l=Er,m=m.stateNode,l.nodeType===8?e0(l.parentNode,m):l.nodeType===1&&e0(l,m),cs(l)):e0(Er,m.stateNode));break;case 4:v=Er,S=xs,Er=m.stateNode.containerInfo,xs=!0,ho(l,h,m),Er=v,xs=S;break;case 0:case 11:case 14:case 15:if(!Lr&&(v=m.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){S=v=v.next;do{var E=S,D=E.destroy;E=E.tag,D!==void 0&&((E&2)!==0||(E&4)!==0)&&F0(m,h,D),S=S.next}while(S!==v)}ho(l,h,m);break;case 1:if(!Lr&&(Ru(m,h),v=m.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=m.memoizedProps,v.state=m.memoizedState,v.componentWillUnmount()}catch(K){Dn(m,h,K)}ho(l,h,m);break;case 21:ho(l,h,m);break;case 22:m.mode&1?(Lr=(v=Lr)||m.memoizedState!==null,ho(l,h,m),Lr=v):ho(l,h,m);break;default:ho(l,h,m)}}function nw(l){var h=l.updateQueue;if(h!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new f7),h.forEach(function(v){var S=S7.bind(null,l,v);m.has(v)||(m.add(v),v.then(S,S))})}}function vs(l,h){var m=h.deletions;if(m!==null)for(var v=0;v<m.length;v++){var S=m[v];try{var E=l,D=h,K=D;e:for(;K!==null;){switch(K.tag){case 5:Er=K.stateNode,xs=!1;break e;case 3:Er=K.stateNode.containerInfo,xs=!0;break e;case 4:Er=K.stateNode.containerInfo,xs=!0;break e}K=K.return}if(Er===null)throw Error(n(160));tw(E,D,S),Er=null,xs=!1;var ne=S.alternate;ne!==null&&(ne.return=null),S.return=null}catch(Se){Dn(S,h,Se)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)rw(h,l),h=h.sibling}function rw(l,h){var m=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(vs(h,l),Qs(l),v&4){try{fd(3,l,l.return),Vf(3,l)}catch(at){Dn(l,l.return,at)}try{fd(5,l,l.return)}catch(at){Dn(l,l.return,at)}}break;case 1:vs(h,l),Qs(l),v&512&&m!==null&&Ru(m,m.return);break;case 5:if(vs(h,l),Qs(l),v&512&&m!==null&&Ru(m,m.return),l.flags&32){var S=l.stateNode;try{At(S,"")}catch(at){Dn(l,l.return,at)}}if(v&4&&(S=l.stateNode,S!=null)){var E=l.memoizedProps,D=m!==null?m.memoizedProps:E,K=l.type,ne=l.updateQueue;if(l.updateQueue=null,ne!==null)try{K==="input"&&E.type==="radio"&&E.name!=null&&Vr(S,E),sr(K,D);var Se=sr(K,E);for(D=0;D<ne.length;D+=2){var Ae=ne[D],Ie=ne[D+1];Ae==="style"?An(S,Ie):Ae==="dangerouslySetInnerHTML"?pt(S,Ie):Ae==="children"?At(S,Ie):A(S,Ae,Ie,Se)}switch(K){case"input":Is(S,E);break;case"textarea":qr(S,E);break;case"select":var Oe=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!E.multiple;var Xe=E.value;Xe!=null?Vn(S,!!E.multiple,Xe,!1):Oe!==!!E.multiple&&(E.defaultValue!=null?Vn(S,!!E.multiple,E.defaultValue,!0):Vn(S,!!E.multiple,E.multiple?[]:"",!1))}S[nd]=E}catch(at){Dn(l,l.return,at)}}break;case 6:if(vs(h,l),Qs(l),v&4){if(l.stateNode===null)throw Error(n(162));S=l.stateNode,E=l.memoizedProps;try{S.nodeValue=E}catch(at){Dn(l,l.return,at)}}break;case 3:if(vs(h,l),Qs(l),v&4&&m!==null&&m.memoizedState.isDehydrated)try{cs(h.containerInfo)}catch(at){Dn(l,l.return,at)}break;case 4:vs(h,l),Qs(l);break;case 13:vs(h,l),Qs(l),S=l.child,S.flags&8192&&(E=S.memoizedState!==null,S.stateNode.isHidden=E,!E||S.alternate!==null&&S.alternate.memoizedState!==null||(V0=Lt())),v&4&&nw(l);break;case 22:if(Ae=m!==null&&m.memoizedState!==null,l.mode&1?(Lr=(Se=Lr)||Ae,vs(h,l),Lr=Se):vs(h,l),Qs(l),v&8192){if(Se=l.memoizedState!==null,(l.stateNode.isHidden=Se)&&!Ae&&(l.mode&1)!==0)for(et=l,Ae=l.child;Ae!==null;){for(Ie=et=Ae;et!==null;){switch(Oe=et,Xe=Oe.child,Oe.tag){case 0:case 11:case 14:case 15:fd(4,Oe,Oe.return);break;case 1:Ru(Oe,Oe.return);var it=Oe.stateNode;if(typeof it.componentWillUnmount=="function"){v=Oe,m=Oe.return;try{h=v,it.props=h.memoizedProps,it.state=h.memoizedState,it.componentWillUnmount()}catch(at){Dn(v,m,at)}}break;case 5:Ru(Oe,Oe.return);break;case 22:if(Oe.memoizedState!==null){aw(Ie);continue}}Xe!==null?(Xe.return=Oe,et=Xe):aw(Ie)}Ae=Ae.sibling}e:for(Ae=null,Ie=l;;){if(Ie.tag===5){if(Ae===null){Ae=Ie;try{S=Ie.stateNode,Se?(E=S.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(K=Ie.stateNode,ne=Ie.memoizedProps.style,D=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,K.style.display=rr("display",D))}catch(at){Dn(l,l.return,at)}}}else if(Ie.tag===6){if(Ae===null)try{Ie.stateNode.nodeValue=Se?"":Ie.memoizedProps}catch(at){Dn(l,l.return,at)}}else if((Ie.tag!==22&&Ie.tag!==23||Ie.memoizedState===null||Ie===l)&&Ie.child!==null){Ie.child.return=Ie,Ie=Ie.child;continue}if(Ie===l)break e;for(;Ie.sibling===null;){if(Ie.return===null||Ie.return===l)break e;Ae===Ie&&(Ae=null),Ie=Ie.return}Ae===Ie&&(Ae=null),Ie.sibling.return=Ie.return,Ie=Ie.sibling}}break;case 19:vs(h,l),Qs(l),v&4&&nw(l);break;case 21:break;default:vs(h,l),Qs(l)}}function Qs(l){var h=l.flags;if(h&2){try{e:{for(var m=l.return;m!==null;){if(Z2(m)){var v=m;break e}m=m.return}throw Error(n(160))}switch(v.tag){case 5:var S=v.stateNode;v.flags&32&&(At(S,""),v.flags&=-33);var E=ew(l);U0(l,E,S);break;case 3:case 4:var D=v.stateNode.containerInfo,K=ew(l);z0(l,K,D);break;default:throw Error(n(161))}}catch(ne){Dn(l,l.return,ne)}l.flags&=-3}h&4096&&(l.flags&=-4097)}function m7(l,h,m){et=l,iw(l)}function iw(l,h,m){for(var v=(l.mode&1)!==0;et!==null;){var S=et,E=S.child;if(S.tag===22&&v){var D=S.memoizedState!==null||Hf;if(!D){var K=S.alternate,ne=K!==null&&K.memoizedState!==null||Lr;K=Hf;var Se=Lr;if(Hf=D,(Lr=ne)&&!Se)for(et=S;et!==null;)D=et,ne=D.child,D.tag===22&&D.memoizedState!==null?ow(S):ne!==null?(ne.return=D,et=ne):ow(S);for(;E!==null;)et=E,iw(E),E=E.sibling;et=S,Hf=K,Lr=Se}sw(l)}else(S.subtreeFlags&8772)!==0&&E!==null?(E.return=S,et=E):sw(l)}}function sw(l){for(;et!==null;){var h=et;if((h.flags&8772)!==0){var m=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:Lr||Vf(5,h);break;case 1:var v=h.stateNode;if(h.flags&4&&!Lr)if(m===null)v.componentDidMount();else{var S=h.elementType===h.type?m.memoizedProps:ys(h.type,m.memoizedProps);v.componentDidUpdate(S,m.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var E=h.updateQueue;E!==null&&a2(h,E,v);break;case 3:var D=h.updateQueue;if(D!==null){if(m=null,h.child!==null)switch(h.child.tag){case 5:m=h.child.stateNode;break;case 1:m=h.child.stateNode}a2(h,D,m)}break;case 5:var K=h.stateNode;if(m===null&&h.flags&4){m=K;var ne=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&m.focus();break;case"img":ne.src&&(m.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var Se=h.alternate;if(Se!==null){var Ae=Se.memoizedState;if(Ae!==null){var Ie=Ae.dehydrated;Ie!==null&&cs(Ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Lr||h.flags&512&&B0(h)}catch(Oe){Dn(h,h.return,Oe)}}if(h===l){et=null;break}if(m=h.sibling,m!==null){m.return=h.return,et=m;break}et=h.return}}function aw(l){for(;et!==null;){var h=et;if(h===l){et=null;break}var m=h.sibling;if(m!==null){m.return=h.return,et=m;break}et=h.return}}function ow(l){for(;et!==null;){var h=et;try{switch(h.tag){case 0:case 11:case 15:var m=h.return;try{Vf(4,h)}catch(ne){Dn(h,m,ne)}break;case 1:var v=h.stateNode;if(typeof v.componentDidMount=="function"){var S=h.return;try{v.componentDidMount()}catch(ne){Dn(h,S,ne)}}var E=h.return;try{B0(h)}catch(ne){Dn(h,E,ne)}break;case 5:var D=h.return;try{B0(h)}catch(ne){Dn(h,D,ne)}}}catch(ne){Dn(h,h.return,ne)}if(h===l){et=null;break}var K=h.sibling;if(K!==null){K.return=h.return,et=K;break}et=h.return}}var g7=Math.ceil,qf=U.ReactCurrentDispatcher,$0=U.ReactCurrentOwner,qi=U.ReactCurrentBatchConfig,Gt=0,br=null,Xn=null,Tr=0,Ei=0,Au=ao(0),ur=0,pd=null,pl=0,Wf=0,H0=0,md=null,si=null,V0=0,Iu=1/0,ba=null,Qf=!1,q0=null,fo=null,Kf=!1,po=null,Gf=0,gd=0,W0=null,Yf=-1,Jf=0;function Jr(){return(Gt&6)!==0?Lt():Yf!==-1?Yf:Yf=Lt()}function mo(l){return(l.mode&1)===0?1:(Gt&2)!==0&&Tr!==0?Tr&-Tr:Z8.transition!==null?(Jf===0&&(Jf=sa()),Jf):(l=Qt,l!==0||(l=window.event,l=l===void 0?16:nl(l.type)),l)}function bs(l,h,m,v){if(50<gd)throw gd=0,W0=null,Error(n(185));aa(l,m,v),((Gt&2)===0||l!==br)&&(l===br&&((Gt&2)===0&&(Wf|=m),ur===4&&go(l,Tr)),ai(l,v),m===1&&Gt===0&&(h.mode&1)===0&&(Iu=Lt()+500,jf&&lo()))}function ai(l,h){var m=l.callbackNode;Jo(l,h);var v=Yo(l,l===br?Tr:0);if(v===0)m!==null&&In(m),l.callbackNode=null,l.callbackPriority=0;else if(h=v&-v,l.callbackPriority!==h){if(m!=null&&In(m),h===1)l.tag===0?X8(uw.bind(null,l)):Kb(uw.bind(null,l)),K8(function(){(Gt&6)===0&&lo()}),m=null;else{switch(Mc(v)){case 1:m=ar;break;case 4:m=mr;break;case 16:m=Mi;break;case 536870912:m=gr;break;default:m=Mi}m=yw(m,lw.bind(null,l))}l.callbackPriority=h,l.callbackNode=m}}function lw(l,h){if(Yf=-1,Jf=0,(Gt&6)!==0)throw Error(n(327));var m=l.callbackNode;if(Lu()&&l.callbackNode!==m)return null;var v=Yo(l,l===br?Tr:0);if(v===0)return null;if((v&30)!==0||(v&l.expiredLanes)!==0||h)h=Xf(l,v);else{h=v;var S=Gt;Gt|=2;var E=dw();(br!==l||Tr!==h)&&(ba=null,Iu=Lt()+500,gl(l,h));do try{v7();break}catch(K){cw(l,K)}while(!0);c0(),qf.current=E,Gt=S,Xn!==null?h=0:(br=null,Tr=0,h=ur)}if(h!==0){if(h===2&&(S=ia(l),S!==0&&(v=S,h=Q0(l,S))),h===1)throw m=pd,gl(l,0),go(l,v),ai(l,Lt()),m;if(h===6)go(l,v);else{if(S=l.current.alternate,(v&30)===0&&!y7(S)&&(h=Xf(l,v),h===2&&(E=ia(l),E!==0&&(v=E,h=Q0(l,E))),h===1))throw m=pd,gl(l,0),go(l,v),ai(l,Lt()),m;switch(l.finishedWork=S,l.finishedLanes=v,h){case 0:case 1:throw Error(n(345));case 2:yl(l,si,ba);break;case 3:if(go(l,v),(v&130023424)===v&&(h=V0+500-Lt(),10<h)){if(Yo(l,0)!==0)break;if(S=l.suspendedLanes,(S&v)!==v){Jr(),l.pingedLanes|=l.suspendedLanes&S;break}l.timeoutHandle=Zg(yl.bind(null,l,si,ba),h);break}yl(l,si,ba);break;case 4:if(go(l,v),(v&4194240)===v)break;for(h=l.eventTimes,S=-1;0<v;){var D=31-rt(v);E=1<<D,D=h[D],D>S&&(S=D),v&=~E}if(v=S,v=Lt()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*g7(v/1960))-v,10<v){l.timeoutHandle=Zg(yl.bind(null,l,si,ba),v);break}yl(l,si,ba);break;case 5:yl(l,si,ba);break;default:throw Error(n(329))}}}return ai(l,Lt()),l.callbackNode===m?lw.bind(null,l):null}function Q0(l,h){var m=md;return l.current.memoizedState.isDehydrated&&(gl(l,h).flags|=256),l=Xf(l,h),l!==2&&(h=si,si=m,h!==null&&K0(h)),l}function K0(l){si===null?si=l:si.push.apply(si,l)}function y7(l){for(var h=l;;){if(h.flags&16384){var m=h.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var v=0;v<m.length;v++){var S=m[v],E=S.getSnapshot;S=S.value;try{if(!he(E(),S))return!1}catch{return!1}}}if(m=h.child,h.subtreeFlags&16384&&m!==null)m.return=h,h=m;else{if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function go(l,h){for(h&=~H0,h&=~Wf,l.suspendedLanes|=h,l.pingedLanes&=~h,l=l.expirationTimes;0<h;){var m=31-rt(h),v=1<<m;l[m]=-1,h&=~v}}function uw(l){if((Gt&6)!==0)throw Error(n(327));Lu();var h=Yo(l,0);if((h&1)===0)return ai(l,Lt()),null;var m=Xf(l,h);if(l.tag!==0&&m===2){var v=ia(l);v!==0&&(h=v,m=Q0(l,v))}if(m===1)throw m=pd,gl(l,0),go(l,h),ai(l,Lt()),m;if(m===6)throw Error(n(345));return l.finishedWork=l.current.alternate,l.finishedLanes=h,yl(l,si,ba),ai(l,Lt()),null}function G0(l,h){var m=Gt;Gt|=1;try{return l(h)}finally{Gt=m,Gt===0&&(Iu=Lt()+500,jf&&lo())}}function ml(l){po!==null&&po.tag===0&&(Gt&6)===0&&Lu();var h=Gt;Gt|=1;var m=qi.transition,v=Qt;try{if(qi.transition=null,Qt=1,l)return l()}finally{Qt=v,qi.transition=m,Gt=h,(Gt&6)===0&&lo()}}function Y0(){Ei=Au.current,vn(Au)}function gl(l,h){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==-1&&(l.timeoutHandle=-1,Q8(m)),Xn!==null)for(m=Xn.return;m!==null;){var v=m;switch(s0(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&Sf();break;case 3:Pu(),vn(ni),vn(Rr),x0();break;case 5:g0(v);break;case 4:Pu();break;case 13:vn(On);break;case 19:vn(On);break;case 10:d0(v.type._context);break;case 22:case 23:Y0()}m=m.return}if(br=l,Xn=l=yo(l.current,null),Tr=Ei=h,ur=0,pd=null,H0=Wf=pl=0,si=md=null,dl!==null){for(h=0;h<dl.length;h++)if(m=dl[h],v=m.interleaved,v!==null){m.interleaved=null;var S=v.next,E=m.pending;if(E!==null){var D=E.next;E.next=S,v.next=D}m.pending=v}dl=null}return l}function cw(l,h){do{var m=Xn;try{if(c0(),Lf.current=Bf,Df){for(var v=Rn.memoizedState;v!==null;){var S=v.queue;S!==null&&(S.pending=null),v=v.next}Df=!1}if(fl=0,vr=lr=Rn=null,ld=!1,ud=0,$0.current=null,m===null||m.return===null){ur=1,pd=h,Xn=null;break}e:{var E=l,D=m.return,K=m,ne=h;if(h=Tr,K.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var Se=ne,Ae=K,Ie=Ae.tag;if((Ae.mode&1)===0&&(Ie===0||Ie===11||Ie===15)){var Oe=Ae.alternate;Oe?(Ae.updateQueue=Oe.updateQueue,Ae.memoizedState=Oe.memoizedState,Ae.lanes=Oe.lanes):(Ae.updateQueue=null,Ae.memoizedState=null)}var Xe=L2(D);if(Xe!==null){Xe.flags&=-257,D2(Xe,D,K,E,h),Xe.mode&1&&I2(E,Se,h),h=Xe,ne=Se;var it=h.updateQueue;if(it===null){var at=new Set;at.add(ne),h.updateQueue=at}else it.add(ne);break e}else{if((h&1)===0){I2(E,Se,h),J0();break e}ne=Error(n(426))}}else if(jn&&K.mode&1){var Wn=L2(D);if(Wn!==null){(Wn.flags&65536)===0&&(Wn.flags|=256),D2(Wn,D,K,E,h),l0(Ou(ne,K));break e}}E=ne=Ou(ne,K),ur!==4&&(ur=2),md===null?md=[E]:md.push(E),E=D;do{switch(E.tag){case 3:E.flags|=65536,h&=-h,E.lanes|=h;var ye=R2(E,ne,h);s2(E,ye);break e;case 1:K=ne;var de=E.type,be=E.stateNode;if((E.flags&128)===0&&(typeof de.getDerivedStateFromError=="function"||be!==null&&typeof be.componentDidCatch=="function"&&(fo===null||!fo.has(be)))){E.flags|=65536,h&=-h,E.lanes|=h;var Be=A2(E,K,h);s2(E,Be);break e}}E=E.return}while(E!==null)}fw(m)}catch(lt){h=lt,Xn===m&&m!==null&&(Xn=m=m.return);continue}break}while(!0)}function dw(){var l=qf.current;return qf.current=Bf,l===null?Bf:l}function J0(){(ur===0||ur===3||ur===2)&&(ur=4),br===null||(pl&268435455)===0&&(Wf&268435455)===0||go(br,Tr)}function Xf(l,h){var m=Gt;Gt|=2;var v=dw();(br!==l||Tr!==h)&&(ba=null,gl(l,h));do try{x7();break}catch(S){cw(l,S)}while(!0);if(c0(),Gt=m,qf.current=v,Xn!==null)throw Error(n(261));return br=null,Tr=0,ur}function x7(){for(;Xn!==null;)hw(Xn)}function v7(){for(;Xn!==null&&!gt();)hw(Xn)}function hw(l){var h=gw(l.alternate,l,Ei);l.memoizedProps=l.pendingProps,h===null?fw(l):Xn=h,$0.current=null}function fw(l){var h=l;do{var m=h.alternate;if(l=h.return,(h.flags&32768)===0){if(m=d7(m,h,Ei),m!==null){Xn=m;return}}else{if(m=h7(m,h),m!==null){m.flags&=32767,Xn=m;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{ur=6,Xn=null;return}}if(h=h.sibling,h!==null){Xn=h;return}Xn=h=l}while(h!==null);ur===0&&(ur=5)}function yl(l,h,m){var v=Qt,S=qi.transition;try{qi.transition=null,Qt=1,b7(l,h,m,v)}finally{qi.transition=S,Qt=v}return null}function b7(l,h,m,v){do Lu();while(po!==null);if((Gt&6)!==0)throw Error(n(327));m=l.finishedWork;var S=l.finishedLanes;if(m===null)return null;if(l.finishedWork=null,l.finishedLanes=0,m===l.current)throw Error(n(177));l.callbackNode=null,l.callbackPriority=0;var E=m.lanes|m.childLanes;if(su(l,E),l===br&&(Xn=br=null,Tr=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||Kf||(Kf=!0,yw(Mi,function(){return Lu(),null})),E=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||E){E=qi.transition,qi.transition=null;var D=Qt;Qt=1;var K=Gt;Gt|=4,$0.current=null,p7(l,m),rw(m,l),ve(Jg),el=!!Yg,Jg=Yg=null,l.current=m,m7(m),Ln(),Gt=K,Qt=D,qi.transition=E}else l.current=m;if(Kf&&(Kf=!1,po=l,Gf=S),E=l.pendingLanes,E===0&&(fo=null),Mt(m.stateNode),ai(l,Lt()),h!==null)for(v=l.onRecoverableError,m=0;m<h.length;m++)S=h[m],v(S.value,{componentStack:S.stack,digest:S.digest});if(Qf)throw Qf=!1,l=q0,q0=null,l;return(Gf&1)!==0&&l.tag!==0&&Lu(),E=l.pendingLanes,(E&1)!==0?l===W0?gd++:(gd=0,W0=l):gd=0,lo(),null}function Lu(){if(po!==null){var l=Mc(Gf),h=qi.transition,m=Qt;try{if(qi.transition=null,Qt=16>l?16:l,po===null)var v=!1;else{if(l=po,po=null,Gf=0,(Gt&6)!==0)throw Error(n(331));var S=Gt;for(Gt|=4,et=l.current;et!==null;){var E=et,D=E.child;if((et.flags&16)!==0){var K=E.deletions;if(K!==null){for(var ne=0;ne<K.length;ne++){var Se=K[ne];for(et=Se;et!==null;){var Ae=et;switch(Ae.tag){case 0:case 11:case 15:fd(8,Ae,E)}var Ie=Ae.child;if(Ie!==null)Ie.return=Ae,et=Ie;else for(;et!==null;){Ae=et;var Oe=Ae.sibling,Xe=Ae.return;if(X2(Ae),Ae===Se){et=null;break}if(Oe!==null){Oe.return=Xe,et=Oe;break}et=Xe}}}var it=E.alternate;if(it!==null){var at=it.child;if(at!==null){it.child=null;do{var Wn=at.sibling;at.sibling=null,at=Wn}while(at!==null)}}et=E}}if((E.subtreeFlags&2064)!==0&&D!==null)D.return=E,et=D;else e:for(;et!==null;){if(E=et,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:fd(9,E,E.return)}var ye=E.sibling;if(ye!==null){ye.return=E.return,et=ye;break e}et=E.return}}var de=l.current;for(et=de;et!==null;){D=et;var be=D.child;if((D.subtreeFlags&2064)!==0&&be!==null)be.return=D,et=be;else e:for(D=de;et!==null;){if(K=et,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:Vf(9,K)}}catch(lt){Dn(K,K.return,lt)}if(K===D){et=null;break e}var Be=K.sibling;if(Be!==null){Be.return=K.return,et=Be;break e}et=K.return}}if(Gt=S,lo(),Jn&&typeof Jn.onPostCommitFiberRoot=="function")try{Jn.onPostCommitFiberRoot(Fi,l)}catch{}v=!0}return v}finally{Qt=m,qi.transition=h}}return!1}function pw(l,h,m){h=Ou(m,h),h=R2(l,h,1),l=co(l,h,1),h=Jr(),l!==null&&(aa(l,1,h),ai(l,h))}function Dn(l,h,m){if(l.tag===3)pw(l,l,m);else for(;h!==null;){if(h.tag===3){pw(h,l,m);break}else if(h.tag===1){var v=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(fo===null||!fo.has(v))){l=Ou(m,l),l=A2(h,l,1),h=co(h,l,1),l=Jr(),h!==null&&(aa(h,1,l),ai(h,l));break}}h=h.return}}function w7(l,h,m){var v=l.pingCache;v!==null&&v.delete(h),h=Jr(),l.pingedLanes|=l.suspendedLanes&m,br===l&&(Tr&m)===m&&(ur===4||ur===3&&(Tr&130023424)===Tr&&500>Lt()-V0?gl(l,0):H0|=m),ai(l,h)}function mw(l,h){h===0&&((l.mode&1)===0?h=1:(h=Fs,Fs<<=1,(Fs&130023424)===0&&(Fs=4194304)));var m=Jr();l=ya(l,h),l!==null&&(aa(l,h,m),ai(l,m))}function _7(l){var h=l.memoizedState,m=0;h!==null&&(m=h.retryLane),mw(l,m)}function S7(l,h){var m=0;switch(l.tag){case 13:var v=l.stateNode,S=l.memoizedState;S!==null&&(m=S.retryLane);break;case 19:v=l.stateNode;break;default:throw Error(n(314))}v!==null&&v.delete(h),mw(l,m)}var gw;gw=function(l,h,m){if(l!==null)if(l.memoizedProps!==h.pendingProps||ni.current)ii=!0;else{if((l.lanes&m)===0&&(h.flags&128)===0)return ii=!1,c7(l,h,m);ii=(l.flags&131072)!==0}else ii=!1,jn&&(h.flags&1048576)!==0&&Gb(h,Ef,h.index);switch(h.lanes=0,h.tag){case 2:var v=h.type;$f(l,h),l=h.pendingProps;var S=Su(h,Rr.current);Nu(h,m),S=w0(null,h,v,l,S,m);var E=_0();return h.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,ri(v)?(E=!0,Cf(h)):E=!1,h.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,p0(h),S.updater=zf,h.stateNode=S,S._reactInternals=h,T0(h,v,l,m),h=R0(null,h,v,!0,E,m)):(h.tag=0,jn&&E&&i0(h),Yr(null,h,S,m),h=h.child),h;case 16:v=h.elementType;e:{switch($f(l,h),l=h.pendingProps,S=v._init,v=S(v._payload),h.type=v,S=h.tag=j7(v),l=ys(v,l),S){case 0:h=O0(null,h,v,l,m);break e;case 1:h=$2(null,h,v,l,m);break e;case 11:h=M2(null,h,v,l,m);break e;case 14:h=F2(null,h,v,ys(v.type,l),m);break e}throw Error(n(306,v,""))}return h;case 0:return v=h.type,S=h.pendingProps,S=h.elementType===v?S:ys(v,S),O0(l,h,v,S,m);case 1:return v=h.type,S=h.pendingProps,S=h.elementType===v?S:ys(v,S),$2(l,h,v,S,m);case 3:e:{if(H2(h),l===null)throw Error(n(387));v=h.pendingProps,E=h.memoizedState,S=E.element,i2(l,h),Af(h,v,null,m);var D=h.memoizedState;if(v=D.element,E.isDehydrated)if(E={element:v,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},h.updateQueue.baseState=E,h.memoizedState=E,h.flags&256){S=Ou(Error(n(423)),h),h=V2(l,h,v,m,S);break e}else if(v!==S){S=Ou(Error(n(424)),h),h=V2(l,h,v,m,S);break e}else for(ki=so(h.stateNode.containerInfo.firstChild),ji=h,jn=!0,gs=null,m=n2(h,null,v,m),h.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(ku(),v===S){h=va(l,h,m);break e}Yr(l,h,v,m)}h=h.child}return h;case 5:return o2(h),l===null&&o0(h),v=h.type,S=h.pendingProps,E=l!==null?l.memoizedProps:null,D=S.children,Xg(v,S)?D=null:E!==null&&Xg(v,E)&&(h.flags|=32),U2(l,h),Yr(l,h,D,m),h.child;case 6:return l===null&&o0(h),null;case 13:return q2(l,h,m);case 4:return m0(h,h.stateNode.containerInfo),v=h.pendingProps,l===null?h.child=Eu(h,null,v,m):Yr(l,h,v,m),h.child;case 11:return v=h.type,S=h.pendingProps,S=h.elementType===v?S:ys(v,S),M2(l,h,v,S,m);case 7:return Yr(l,h,h.pendingProps,m),h.child;case 8:return Yr(l,h,h.pendingProps.children,m),h.child;case 12:return Yr(l,h,h.pendingProps.children,m),h.child;case 10:e:{if(v=h.type._context,S=h.pendingProps,E=h.memoizedProps,D=S.value,hn(Pf,v._currentValue),v._currentValue=D,E!==null)if(he(E.value,D)){if(E.children===S.children&&!ni.current){h=va(l,h,m);break e}}else for(E=h.child,E!==null&&(E.return=h);E!==null;){var K=E.dependencies;if(K!==null){D=E.child;for(var ne=K.firstContext;ne!==null;){if(ne.context===v){if(E.tag===1){ne=xa(-1,m&-m),ne.tag=2;var Se=E.updateQueue;if(Se!==null){Se=Se.shared;var Ae=Se.pending;Ae===null?ne.next=ne:(ne.next=Ae.next,Ae.next=ne),Se.pending=ne}}E.lanes|=m,ne=E.alternate,ne!==null&&(ne.lanes|=m),h0(E.return,m,h),K.lanes|=m;break}ne=ne.next}}else if(E.tag===10)D=E.type===h.type?null:E.child;else if(E.tag===18){if(D=E.return,D===null)throw Error(n(341));D.lanes|=m,K=D.alternate,K!==null&&(K.lanes|=m),h0(D,m,h),D=E.sibling}else D=E.child;if(D!==null)D.return=E;else for(D=E;D!==null;){if(D===h){D=null;break}if(E=D.sibling,E!==null){E.return=D.return,D=E;break}D=D.return}E=D}Yr(l,h,S.children,m),h=h.child}return h;case 9:return S=h.type,v=h.pendingProps.children,Nu(h,m),S=Hi(S),v=v(S),h.flags|=1,Yr(l,h,v,m),h.child;case 14:return v=h.type,S=ys(v,h.pendingProps),S=ys(v.type,S),F2(l,h,v,S,m);case 15:return B2(l,h,h.type,h.pendingProps,m);case 17:return v=h.type,S=h.pendingProps,S=h.elementType===v?S:ys(v,S),$f(l,h),h.tag=1,ri(v)?(l=!0,Cf(h)):l=!1,Nu(h,m),P2(h,v,S),T0(h,v,S,m),R0(null,h,v,!0,l,m);case 19:return Q2(l,h,m);case 22:return z2(l,h,m)}throw Error(n(156,h.tag))};function yw(l,h){return Sn(l,h)}function C7(l,h,m,v){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wi(l,h,m,v){return new C7(l,h,m,v)}function X0(l){return l=l.prototype,!(!l||!l.isReactComponent)}function j7(l){if(typeof l=="function")return X0(l)?1:0;if(l!=null){if(l=l.$$typeof,l===J)return 11;if(l===$)return 14}return 2}function yo(l,h){var m=l.alternate;return m===null?(m=Wi(l.tag,h,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=h,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&14680064,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,h=l.dependencies,m.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function Zf(l,h,m,v,S,E){var D=2;if(v=l,typeof l=="function")X0(l)&&(D=1);else if(typeof l=="string")D=5;else e:switch(l){case O:return xl(m.children,S,E,h);case B:D=8,S|=8;break;case W:return l=Wi(12,m,h,S|2),l.elementType=W,l.lanes=E,l;case xe:return l=Wi(13,m,h,S),l.elementType=xe,l.lanes=E,l;case G:return l=Wi(19,m,h,S),l.elementType=G,l.lanes=E,l;case Z:return ep(m,S,E,h);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case F:D=10;break e;case se:D=9;break e;case J:D=11;break e;case $:D=14;break e;case ee:D=16,v=null;break e}throw Error(n(130,l==null?l:typeof l,""))}return h=Wi(D,m,h,S),h.elementType=l,h.type=v,h.lanes=E,h}function xl(l,h,m,v){return l=Wi(7,l,v,h),l.lanes=m,l}function ep(l,h,m,v){return l=Wi(22,l,v,h),l.elementType=Z,l.lanes=m,l.stateNode={isHidden:!1},l}function Z0(l,h,m){return l=Wi(6,l,null,h),l.lanes=m,l}function ey(l,h,m){return h=Wi(4,l.children!==null?l.children:[],l.key,h),h.lanes=m,h.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},h}function k7(l,h,m,v,S){this.tag=h,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xo(0),this.expirationTimes=Xo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xo(0),this.identifierPrefix=v,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function ty(l,h,m,v,S,E,D,K,ne){return l=new k7(l,h,m,K,ne),h===1?(h=1,E===!0&&(h|=8)):h=0,E=Wi(3,null,null,h),l.current=E,E.stateNode=l,E.memoizedState={element:v,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},p0(E),l}function E7(l,h,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:v==null?null:""+v,children:l,containerInfo:h,implementation:m}}function xw(l){if(!l)return oo;l=l._reactInternals;e:{if(Je(l)!==l||l.tag!==1)throw Error(n(170));var h=l;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(ri(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(n(171))}if(l.tag===1){var m=l.type;if(ri(m))return Wb(l,m,h)}return h}function vw(l,h,m,v,S,E,D,K,ne){return l=ty(m,v,!0,l,S,E,D,K,ne),l.context=xw(null),m=l.current,v=Jr(),S=mo(m),E=xa(v,S),E.callback=h??null,co(m,E,S),l.current.lanes=S,aa(l,S,v),ai(l,v),l}function tp(l,h,m,v){var S=h.current,E=Jr(),D=mo(S);return m=xw(m),h.context===null?h.context=m:h.pendingContext=m,h=xa(E,D),h.payload={element:l},v=v===void 0?null:v,v!==null&&(h.callback=v),l=co(S,h,D),l!==null&&(bs(l,S,D,E),Rf(l,S,D)),D}function np(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function bw(l,h){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<h?m:h}}function ny(l,h){bw(l,h),(l=l.alternate)&&bw(l,h)}function T7(){return null}var ww=typeof reportError=="function"?reportError:function(l){console.error(l)};function ry(l){this._internalRoot=l}rp.prototype.render=ry.prototype.render=function(l){var h=this._internalRoot;if(h===null)throw Error(n(409));tp(l,h,null,null)},rp.prototype.unmount=ry.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var h=l.containerInfo;ml(function(){tp(null,l,null,null)}),h[fa]=null}};function rp(l){this._internalRoot=l}rp.prototype.unstable_scheduleHydration=function(l){if(l){var h=nf();l={blockedOn:null,target:l,priority:h};for(var m=0;m<or.length&&h!==0&&h<or[m].priority;m++);or.splice(m,0,l),m===0&&sf(l)}};function iy(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function ip(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function _w(){}function N7(l,h,m,v,S){if(S){if(typeof v=="function"){var E=v;v=function(){var Se=np(D);E.call(Se)}}var D=vw(h,v,l,0,null,!1,!1,"",_w);return l._reactRootContainer=D,l[fa]=D.current,ed(l.nodeType===8?l.parentNode:l),ml(),D}for(;S=l.lastChild;)l.removeChild(S);if(typeof v=="function"){var K=v;v=function(){var Se=np(ne);K.call(Se)}}var ne=ty(l,0,!1,null,null,!1,!1,"",_w);return l._reactRootContainer=ne,l[fa]=ne.current,ed(l.nodeType===8?l.parentNode:l),ml(function(){tp(h,ne,m,v)}),ne}function sp(l,h,m,v,S){var E=m._reactRootContainer;if(E){var D=E;if(typeof S=="function"){var K=S;S=function(){var ne=np(D);K.call(ne)}}tp(h,D,l,S)}else D=N7(m,h,l,S,v);return np(D)}tf=function(l){switch(l.tag){case 3:var h=l.stateNode;if(h.current.memoizedState.isDehydrated){var m=Bs(h.pendingLanes);m!==0&&(au(h,m|1),ai(h,Lt()),(Gt&6)===0&&(Iu=Lt()+500,lo()))}break;case 13:ml(function(){var v=ya(l,1);if(v!==null){var S=Jr();bs(v,l,1,S)}}),ny(l,1)}},Vt=function(l){if(l.tag===13){var h=ya(l,134217728);if(h!==null){var m=Jr();bs(h,l,134217728,m)}ny(l,134217728)}},Fc=function(l){if(l.tag===13){var h=mo(l),m=ya(l,h);if(m!==null){var v=Jr();bs(m,l,h,v)}ny(l,h)}},nf=function(){return Qt},rf=function(l,h){var m=Qt;try{return Qt=l,h()}finally{Qt=m}},He=function(l,h,m){switch(h){case"input":if(Is(l,m),h=m.name,m.type==="radio"&&h!=null){for(m=l;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<m.length;h++){var v=m[h];if(v!==l&&v.form===l.form){var S=_f(v);if(!S)throw Error(n(90));ft(v),Is(v,S)}}}break;case"textarea":qr(l,m);break;case"select":h=m.value,h!=null&&Vn(l,!!m.multiple,h,!1)}},Go=G0,ra=ml;var P7={usingClientEntryPoint:!1,Events:[rd,wu,_f,qa,Wa,G0]},yd={findFiberByHostInstance:ol,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},O7={bundleType:yd.bundleType,version:yd.version,rendererPackageName:yd.rendererPackageName,rendererConfig:yd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=Dt(l),l===null?null:l.stateNode},findFiberByHostInstance:yd.findFiberByHostInstance||T7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ap=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ap.isDisabled&&ap.supportsFiber)try{Fi=ap.inject(O7),Jn=ap}catch{}}return oi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P7,oi.createPortal=function(l,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iy(h))throw Error(n(200));return E7(l,h,null,m)},oi.createRoot=function(l,h){if(!iy(l))throw Error(n(299));var m=!1,v="",S=ww;return h!=null&&(h.unstable_strictMode===!0&&(m=!0),h.identifierPrefix!==void 0&&(v=h.identifierPrefix),h.onRecoverableError!==void 0&&(S=h.onRecoverableError)),h=ty(l,1,!1,null,null,m,!1,v,S),l[fa]=h.current,ed(l.nodeType===8?l.parentNode:l),new ry(h)},oi.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var h=l._reactInternals;if(h===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=Dt(h),l=l===null?null:l.stateNode,l},oi.flushSync=function(l){return ml(l)},oi.hydrate=function(l,h,m){if(!ip(h))throw Error(n(200));return sp(null,l,h,!0,m)},oi.hydrateRoot=function(l,h,m){if(!iy(l))throw Error(n(405));var v=m!=null&&m.hydratedSources||null,S=!1,E="",D=ww;if(m!=null&&(m.unstable_strictMode===!0&&(S=!0),m.identifierPrefix!==void 0&&(E=m.identifierPrefix),m.onRecoverableError!==void 0&&(D=m.onRecoverableError)),h=vw(h,null,l,1,m??null,S,!1,E,D),l[fa]=h.current,ed(l),v)for(l=0;l<v.length;l++)m=v[l],S=m._getVersion,S=S(m._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[m,S]:h.mutableSourceEagerHydrationData.push(m,S);return new rp(h)},oi.render=function(l,h,m){if(!ip(h))throw Error(n(200));return sp(null,l,h,!1,m)},oi.unmountComponentAtNode=function(l){if(!ip(l))throw Error(n(40));return l._reactRootContainer?(ml(function(){sp(null,null,l,!1,function(){l._reactRootContainer=null,l[fa]=null})}),!0):!1},oi.unstable_batchedUpdates=G0,oi.unstable_renderSubtreeIntoContainer=function(l,h,m,v){if(!ip(m))throw Error(n(200));if(l==null||l._reactInternals===void 0)throw Error(n(38));return sp(l,h,m,!1,v)},oi.version="18.3.1-next-f1338f8080-20240426",oi}var Pw;function I4(){if(Pw)return oy.exports;Pw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),oy.exports=B7(),oy.exports}var Ow;function z7(){if(Ow)return op;Ow=1;var e=I4();return op.createRoot=e.createRoot,op.hydrateRoot=e.hydrateRoot,op}var U7=z7();/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var L4=e=>{throw TypeError(e)},$7=(e,t,n)=>t.has(e)||L4("Cannot "+n),cy=(e,t,n)=>($7(e,t,"read from private field"),n?n.call(e):t.get(e)),H7=(e,t,n)=>t.has(e)?L4("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Rw="popstate";function V7(e={}){function t(r,i){let{pathname:s,search:a,hash:o}=r.location;return ih("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ea(i)}return W7(t,n,null,e)}function Bt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Gn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function q7(){return Math.random().toString(36).substring(2,10)}function Aw(e,t){return{usr:e.state,key:e.key,idx:t}}function ih(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Uo(t):t,state:n,key:t&&t.key||r||q7()}}function ea({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Uo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function W7(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o="POP",u=null,d=f();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function f(){return(a.state||{idx:null}).idx}function p(){o="POP";let C=f(),k=C==null?null:C-d;d=C,u&&u({action:o,location:_.location,delta:k})}function g(C,k){o="PUSH";let P=ih(_.location,C,k);d=f()+1;let A=Aw(P,d),U=_.createHref(P);try{a.pushState(A,"",U)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(U)}s&&u&&u({action:o,location:_.location,delta:1})}function y(C,k){o="REPLACE";let P=ih(_.location,C,k);d=f();let A=Aw(P,d),U=_.createHref(P);a.replaceState(A,"",U),s&&u&&u({action:o,location:_.location,delta:0})}function b(C){return D4(C)}let _={get action(){return o},get location(){return e(i,a)},listen(C){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Rw,p),u=C,()=>{i.removeEventListener(Rw,p),u=null}},createHref(C){return t(i,C)},createURL:b,encodeLocation(C){let k=b(C);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:g,replace:y,go(C){return a.go(C)}};return _}function D4(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Bt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:ea(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var Fd,Iw=class{constructor(e){if(H7(this,Fd,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(cy(this,Fd).has(e))return cy(this,Fd).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){cy(this,Fd).set(e,t)}};Fd=new WeakMap;var Q7=new Set(["lazy","caseSensitive","path","id","index","children"]);function K7(e){return Q7.has(e)}var G7=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function Y7(e){return G7.has(e)}function J7(e){return e.index===!0}function sh(e,t,n=[],r={},i=!1){return e.map((s,a)=>{let o=[...n,String(a)],u=typeof s.id=="string"?s.id:o.join("-");if(Bt(s.index!==!0||!s.children,"Cannot specify children on an index route"),Bt(i||!r[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),J7(s)){let d={...s,id:u};return r[u]=Lw(d,t(d)),d}else{let d={...s,id:u,children:void 0};return r[u]=Lw(d,t(d)),s.children&&(d.children=sh(s.children,t,o,r,i)),d}})}function Lw(e,t){return Object.assign(e,{...t,...typeof t.lazy=="object"&&t.lazy!=null?{lazy:{...e.lazy,...t.lazy}}:{}})}function So(e,t,n="/"){return Bd(e,t,n,!1)}function Bd(e,t,n,r){let i=typeof t=="string"?Uo(t):t,s=Zi(i.pathname||"/",n);if(s==null)return null;let a=M4(e);Z7(a);let o=null;for(let u=0;o==null&&u<a.length;++u){let d=cE(s);o=lE(a[u],d,r)}return o}function X7(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],loaderData:t[n.id],handle:n.handle}}function M4(e,t=[],n=[],r="",i=!1){let s=(a,o,u=i,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&u)return;Bt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let p=Js([r,f.relativePath]),g=n.concat(f);a.children&&a.children.length>0&&(Bt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),M4(a.children,t,g,p,u)),!(a.path==null&&!a.index)&&t.push({path:p,score:aE(p,a.index),routesMeta:g})};return e.forEach((a,o)=>{if(a.path===""||!a.path?.includes("?"))s(a,o);else for(let u of F4(a.path))s(a,o,!0,u)}),t}function F4(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=F4(r.join("/")),o=[];return o.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&o.push(...a),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function Z7(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:oE(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var eE=/^:[\w-]+$/,tE=3,nE=2,rE=1,iE=10,sE=-2,Dw=e=>e==="*";function aE(e,t){let n=e.split("/"),r=n.length;return n.some(Dw)&&(r+=sE),t&&(r+=nE),n.filter(i=>!Dw(i)).reduce((i,s)=>i+(eE.test(s)?tE:s===""?rE:iE),r)}function oE(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function lE(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let u=r[o],d=o===r.length-1,f=s==="/"?t:t.slice(s.length)||"/",p=mm({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),g=u.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=mm({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),a.push({params:i,pathname:Js([s,p.pathname]),pathnameBase:fE(Js([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=Js([s,p.pathnameBase]))}return a}function mm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=uE(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((d,{paramName:f,isOptional:p},g)=>{if(f==="*"){let b=o[g]||"";a=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const y=o[g];return p&&!y?d[f]=void 0:d[f]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:e}}function uE(e,t=!1,n=!0){Gn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,u)=>(r.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function cE(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Gn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Zi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function dE({basename:e,pathname:t}){return t==="/"?e:Js([e,t])}var B4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gx=e=>B4.test(e);function hE(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Uo(e):e,s;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?s=Mw(n.substring(1),"/"):s=Mw(n,t)):s=t,{pathname:s,search:pE(r),hash:mE(i)}}function Mw(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function dy(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function z4(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Yx(e){let t=z4(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Jx(e,t,n,r=!1){let i;typeof e=="string"?i=Uo(e):(i={...e},Bt(!i.pathname||!i.pathname.includes("?"),dy("?","pathname","search",i)),Bt(!i.pathname||!i.pathname.includes("#"),dy("#","pathname","hash",i)),Bt(!i.search||!i.search.includes("#"),dy("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let p=t.length-1;if(!r&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}o=p>=0?t[p]:"/"}let u=hE(i,o),d=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}var Js=e=>e.join("/").replace(/\/\/+/g,"/"),fE=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),pE=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,mE=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Nh=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ah(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function Ph(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var U4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function $4(e,t){let n=e;if(typeof n!="string"||!B4.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(U4)try{let s=new URL(window.location.href),a=n.startsWith("//")?new URL(s.protocol+n):new URL(n),o=Zi(a.pathname,t);a.origin===s.origin&&o!=null?n=o+a.search+a.hash:i=!0}catch{Gn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}var ko=Symbol("Uninstrumented");function gE(e,t){let n={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};e.forEach(i=>i({id:t.id,index:t.index,path:t.path,instrument(s){let a=Object.keys(n);for(let o of a)s[o]&&n[o].push(s[o])}}));let r={};if(typeof t.lazy=="function"&&n.lazy.length>0){let i=lc(n.lazy,t.lazy,()=>{});i&&(r.lazy=i)}if(typeof t.lazy=="object"){let i=t.lazy;["middleware","loader","action"].forEach(s=>{let a=i[s],o=n[`lazy.${s}`];if(typeof a=="function"&&o.length>0){let u=lc(o,a,()=>{});u&&(r.lazy=Object.assign(r.lazy||{},{[s]:u}))}})}return["loader","action"].forEach(i=>{let s=t[i];if(typeof s=="function"&&n[i].length>0){let a=s[ko]??s,o=lc(n[i],a,(...u)=>Fw(u[0]));o&&(i==="loader"&&a.hydrate===!0&&(o.hydrate=!0),o[ko]=a,r[i]=o)}}),t.middleware&&t.middleware.length>0&&n.middleware.length>0&&(r.middleware=t.middleware.map(i=>{let s=i[ko]??i,a=lc(n.middleware,s,(...o)=>Fw(o[0]));return a?(a[ko]=s,a):i})),r}function yE(e,t){let n={navigate:[],fetch:[]};if(t.forEach(r=>r({instrument(i){let s=Object.keys(i);for(let a of s)i[a]&&n[a].push(i[a])}})),n.navigate.length>0){let r=e.navigate[ko]??e.navigate,i=lc(n.navigate,r,(...s)=>{let[a,o]=s;return{to:typeof a=="number"||typeof a=="string"?a:a?ea(a):".",...Bw(e,o??{})}});i&&(i[ko]=r,e.navigate=i)}if(n.fetch.length>0){let r=e.fetch[ko]??e.fetch,i=lc(n.fetch,r,(...s)=>{let[a,,o,u]=s;return{href:o??".",fetcherKey:a,...Bw(e,u??{})}});i&&(i[ko]=r,e.fetch=i)}return e}function lc(e,t,n){return e.length===0?null:async(...r)=>{let i=await H4(e,n(...r),()=>t(...r),e.length-1);if(i.type==="error")throw i.value;return i.value}}async function H4(e,t,n,r){let i=e[r],s;if(i){let a,o=async()=>(a?console.error("You cannot call instrumented handlers more than once"):a=H4(e,t,n,r-1),s=await a,Bt(s,"Expected a result"),s.type==="error"&&s.value instanceof Error?{status:"error",error:s.value}:{status:"success",error:void 0});try{await i(o,t)}catch(u){console.error("An instrumentation function threw an error:",u)}a||await o(),await a}else try{s={type:"success",value:await n()}}catch(a){s={type:"error",value:a}}return s||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function Fw(e){let{request:t,context:n,params:r,unstable_pattern:i}=e;return{request:xE(t),params:{...r},unstable_pattern:i,context:vE(n)}}function Bw(e,t){return{currentUrl:ea(e.state.location),..."formMethod"in t?{formMethod:t.formMethod}:{},..."formEncType"in t?{formEncType:t.formEncType}:{},..."formData"in t?{formData:t.formData}:{},..."body"in t?{body:t.body}:{}}}function xE(e){return{method:e.method,url:e.url,headers:{get:(...t)=>e.headers.get(...t)}}}function vE(e){if(wE(e)){let t={...e};return Object.freeze(t),t}else return{get:t=>e.get(t)}}var bE=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function wE(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null||Object.getOwnPropertyNames(t).sort().join("\0")===bE}var V4=["POST","PUT","PATCH","DELETE"],_E=new Set(V4),SE=["GET",...V4],CE=new Set(SE),q4=new Set([301,302,303,307,308]),jE=new Set([307,308]),hy={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},kE={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},vd={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},EE=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),W4="remix-router-transitions",Q4=Symbol("ResetLoaderData");function TE(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Bt(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=e.hydrationRouteProperties||[],i=e.mapRouteProperties||EE,s=i;if(e.unstable_instrumentations){let Q=e.unstable_instrumentations;s=ce=>({...i(ce),...gE(Q.map(_e=>_e.route).filter(Boolean),ce)})}let a={},o=sh(e.routes,s,void 0,a),u,d=e.basename||"/";d.startsWith("/")||(d=`/${d}`);let f=e.dataStrategy||AE,p={...e.future},g=null,y=new Set,b=null,_=null,C=null,k=e.hydrationData!=null,P=So(o,e.history.location,d),A=!1,U=null,V;if(P==null&&!e.patchRoutesOnNavigation){let Q=Ki(404,{pathname:e.history.location.pathname}),{matches:ce,route:_e}=lp(o);V=!0,P=ce,U={[_e.id]:Q}}else if(P&&!e.hydrationData&&ra(P,o,e.history.location.pathname).active&&(P=null),P)if(P.some(Q=>Q.route.lazy))V=!1;else if(!P.some(Q=>Xx(Q.route)))V=!0;else{let Q=e.hydrationData?e.hydrationData.loaderData:null,ce=e.hydrationData?e.hydrationData.errors:null;if(ce){let _e=P.findIndex(Te=>ce[Te.route.id]!==void 0);V=P.slice(0,_e+1).every(Te=>!L1(Te.route,Q,ce))}else V=P.every(_e=>!L1(_e.route,Q,ce))}else{V=!1,P=[];let Q=ra(null,o,e.history.location.pathname);Q.active&&Q.matches&&(A=!0,P=Q.matches)}let I,O={historyAction:e.history.action,location:e.history.location,matches:P,initialized:V,navigation:hy,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||U,fetchers:new Map,blockers:new Map},B="POP",W=null,F=!1,se,J=!1,xe=new Map,G=null,$=!1,ee=!1,Z=new Set,X=new Map,pe=0,M=-1,Y=new Map,ge=new Set,H=new Map,Pe=new Map,ke=new Set,Ee=new Map,Qe,Ve=null;function bt(){if(g=e.history.listen(({action:Q,location:ce,delta:_e})=>{if(Qe){Qe(),Qe=void 0;return}Gn(Ee.size===0||_e!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Te=_i({currentLocation:O.location,nextLocation:ce,historyAction:Q});if(Te&&_e!=null){let De=new Promise(tt=>{Qe=tt});e.history.go(_e*-1),He(Te,{state:"blocked",location:ce,proceed(){He(Te,{state:"proceeding",proceed:void 0,reset:void 0,location:ce}),De.then(()=>e.history.go(_e))},reset(){let tt=new Map(O.blockers);tt.set(Te,vd),ft({blockers:tt})}}),W?.resolve(),W=null;return}return Vr(Q,ce)}),n){JE(t,xe);let Q=()=>XE(t,xe);t.addEventListener("pagehide",Q),G=()=>t.removeEventListener("pagehide",Q)}return O.initialized||Vr("POP",O.location,{initialHydration:!0}),I}function ze(){g&&g(),G&&G(),y.clear(),se&&se.abort(),O.fetchers.forEach((Q,ce)=>qn(ce)),O.blockers.forEach((Q,ce)=>is(ce))}function pr(Q){return y.add(Q),()=>y.delete(Q)}function ft(Q,ce={}){Q.matches&&(Q.matches=Q.matches.map(De=>{let tt=a[De.route.id],Ze=De.route;return Ze.element!==tt.element||Ze.errorElement!==tt.errorElement||Ze.hydrateFallbackElement!==tt.hydrateFallbackElement?{...De,route:tt}:De})),O={...O,...Q};let _e=[],Te=[];O.fetchers.forEach((De,tt)=>{De.state==="idle"&&(ke.has(tt)?_e.push(tt):Te.push(tt))}),ke.forEach(De=>{!O.fetchers.has(De)&&!X.has(De)&&_e.push(De)}),[...y].forEach(De=>De(O,{deletedFetchers:_e,newErrors:Q.errors??null,viewTransitionOpts:ce.viewTransitionOpts,flushSync:ce.flushSync===!0})),_e.forEach(De=>qn(De)),Te.forEach(De=>O.fetchers.delete(De))}function sn(Q,ce,{flushSync:_e}={}){let Te=O.actionData!=null&&O.navigation.formMethod!=null&&Mr(O.navigation.formMethod)&&O.navigation.state==="loading"&&Q.state?._isRedirect!==!0,De;ce.actionData?Object.keys(ce.actionData).length>0?De=ce.actionData:De=null:Te?De=O.actionData:De=null;let tt=ce.loaderData?Gw(O.loaderData,ce.loaderData,ce.matches||[],ce.errors):O.loaderData,Ze=O.blockers;Ze.size>0&&(Ze=new Map(Ze),Ze.forEach((dt,ot)=>Ze.set(ot,vd)));let Ye=$?!1:Go(Q,ce.matches||O.matches),nt=F===!0||O.navigation.formMethod!=null&&Mr(O.navigation.formMethod)&&Q.state?._isRedirect!==!0;u&&(o=u,u=void 0),$||B==="POP"||(B==="PUSH"?e.history.push(Q,Q.state):B==="REPLACE"&&e.history.replace(Q,Q.state));let Je;if(B==="POP"){let dt=xe.get(O.location.pathname);dt&&dt.has(Q.pathname)?Je={currentLocation:O.location,nextLocation:Q}:xe.has(Q.pathname)&&(Je={currentLocation:Q,nextLocation:O.location})}else if(J){let dt=xe.get(O.location.pathname);dt?dt.add(Q.pathname):(dt=new Set([Q.pathname]),xe.set(O.location.pathname,dt)),Je={currentLocation:O.location,nextLocation:Q}}ft({...ce,actionData:De,loaderData:tt,historyAction:B,location:Q,initialized:!0,navigation:hy,revalidation:"idle",restoreScrollPosition:Ye,preventScrollReset:nt,blockers:Ze},{viewTransitionOpts:Je,flushSync:_e===!0}),B="POP",F=!1,J=!1,$=!1,ee=!1,W?.resolve(),W=null,Ve?.resolve(),Ve=null}async function Yn(Q,ce){if(W?.resolve(),W=null,typeof Q=="number"){W||(W=Zw());let Dt=W.promise;return e.history.go(Q),Dt}let _e=I1(O.location,O.matches,d,Q,ce?.fromRouteId,ce?.relative),{path:Te,submission:De,error:tt}=zw(!1,_e,ce),Ze=O.location,Ye=ih(O.location,Te,ce&&ce.state);Ye={...Ye,...e.history.encodeLocation(Ye)};let nt=ce&&ce.replace!=null?ce.replace:void 0,Je="PUSH";nt===!0?Je="REPLACE":nt===!1||De!=null&&Mr(De.formMethod)&&De.formAction===O.location.pathname+O.location.search&&(Je="REPLACE");let dt=ce&&"preventScrollReset"in ce?ce.preventScrollReset===!0:void 0,ot=(ce&&ce.flushSync)===!0,kt=_i({currentLocation:Ze,nextLocation:Ye,historyAction:Je});if(kt){He(kt,{state:"blocked",location:Ye,proceed(){He(kt,{state:"proceeding",proceed:void 0,reset:void 0,location:Ye}),Yn(Q,ce)},reset(){let Dt=new Map(O.blockers);Dt.set(kt,vd),ft({blockers:Dt})}});return}await Vr(Je,Ye,{submission:De,pendingError:tt,preventScrollReset:dt,replace:ce&&ce.replace,enableViewTransition:ce&&ce.viewTransition,flushSync:ot,callSiteDefaultShouldRevalidate:ce&&ce.unstable_defaultShouldRevalidate})}function Hn(){Ve||(Ve=Zw()),Le(),ft({revalidation:"loading"});let Q=Ve.promise;return O.navigation.state==="submitting"?Q:O.navigation.state==="idle"?(Vr(O.historyAction,O.location,{startUninterruptedRevalidation:!0}),Q):(Vr(B||O.historyAction,O.navigation.location,{overrideNavigation:O.navigation,enableViewTransition:J===!0}),Q)}async function Vr(Q,ce,_e){se&&se.abort(),se=null,B=Q,$=(_e&&_e.startUninterruptedRevalidation)===!0,Wa(O.location,O.matches),F=(_e&&_e.preventScrollReset)===!0,J=(_e&&_e.enableViewTransition)===!0;let Te=u||o,De=_e&&_e.overrideNavigation,tt=_e?.initialHydration&&O.matches&&O.matches.length>0&&!A?O.matches:So(Te,ce,d),Ze=(_e&&_e.flushSync)===!0;if(tt&&O.initialized&&!ee&&UE(O.location,ce)&&!(_e&&_e.submission&&Mr(_e.submission.formMethod))){sn(ce,{matches:tt},{flushSync:Ze});return}let Ye=ra(tt,Te,ce.pathname);if(Ye.active&&Ye.matches&&(tt=Ye.matches),!tt){let{error:Sn,notFoundMatches:In,route:gt}=Si(ce.pathname);sn(ce,{matches:In,loaderData:{},errors:{[gt.id]:Sn}},{flushSync:Ze});return}se=new AbortController;let nt=tc(e.history,ce,se.signal,_e&&_e.submission),Je=e.getContext?await e.getContext():new Iw,dt;if(_e&&_e.pendingError)dt=[Co(tt).route.id,{type:"error",error:_e.pendingError}];else if(_e&&_e.submission&&Mr(_e.submission.formMethod)){let Sn=await Is(nt,ce,_e.submission,tt,Je,Ye.active,_e&&_e.initialHydration===!0,{replace:_e.replace,flushSync:Ze});if(Sn.shortCircuited)return;if(Sn.pendingActionResult){let[In,gt]=Sn.pendingActionResult;if(Oi(gt)&&ah(gt.error)&&gt.error.status===404){se=null,sn(ce,{matches:Sn.matches,loaderData:{},errors:{[In]:gt.error}});return}}tt=Sn.matches||tt,dt=Sn.pendingActionResult,De=fy(ce,_e.submission),Ze=!1,Ye.active=!1,nt=tc(e.history,nt.url,nt.signal)}let{shortCircuited:ot,matches:kt,loaderData:Dt,errors:ln}=await Ha(nt,ce,tt,Je,Ye.active,De,_e&&_e.submission,_e&&_e.fetcherSubmission,_e&&_e.replace,_e&&_e.initialHydration===!0,Ze,dt,_e&&_e.callSiteDefaultShouldRevalidate);ot||(se=null,sn(ce,{matches:kt||tt,...Yw(dt),loaderData:Dt,errors:ln}))}async function Is(Q,ce,_e,Te,De,tt,Ze,Ye={}){Le();let nt=GE(ce,_e);if(ft({navigation:nt},{flushSync:Ye.flushSync===!0}),tt){let ot=await Wr(Te,ce.pathname,Q.signal);if(ot.type==="aborted")return{shortCircuited:!0};if(ot.type==="error"){if(ot.partialMatches.length===0){let{matches:Dt,route:ln}=lp(o);return{matches:Dt,pendingActionResult:[ln.id,{type:"error",error:ot.error}]}}let kt=Co(ot.partialMatches).route.id;return{matches:ot.partialMatches,pendingActionResult:[kt,{type:"error",error:ot.error}]}}else if(ot.matches)Te=ot.matches;else{let{notFoundMatches:kt,error:Dt,route:ln}=Si(ce.pathname);return{matches:kt,pendingActionResult:[ln.id,{type:"error",error:Dt}]}}}let Je,dt=nm(Te,ce);if(!dt.route.action&&!dt.route.lazy)Je={type:"error",error:Ki(405,{method:Q.method,pathname:ce.pathname,routeId:dt.route.id})};else{let ot=dc(s,a,Q,Te,dt,Ze?[]:r,De),kt=await Or(Q,ot,De,null);if(Je=kt[dt.route.id],!Je){for(let Dt of Te)if(kt[Dt.route.id]){Je=kt[Dt.route.id];break}}if(Q.signal.aborted)return{shortCircuited:!0}}if(Dl(Je)){let ot;return Ye&&Ye.replace!=null?ot=Ye.replace:ot=Ww(Je.response.headers.get("Location"),new URL(Q.url),d,e.history)===O.location.pathname+O.location.search,await qr(Q,Je,!0,{submission:_e,replace:ot}),{shortCircuited:!0}}if(Oi(Je)){let ot=Co(Te,dt.route.id);return(Ye&&Ye.replace)!==!0&&(B="PUSH"),{matches:Te,pendingActionResult:[ot.route.id,Je,dt.route.id]}}return{matches:Te,pendingActionResult:[dt.route.id,Je]}}async function Ha(Q,ce,_e,Te,De,tt,Ze,Ye,nt,Je,dt,ot,kt){let Dt=tt||fy(ce,Ze),ln=Ze||Ye||Xw(Dt),Sn=!$&&!Je;if(De){if(Sn){let rt=rs(ot);ft({navigation:Dt,...rt!==void 0?{actionData:rt}:{}},{flushSync:dt})}let Mt=await Wr(_e,ce.pathname,Q.signal);if(Mt.type==="aborted")return{shortCircuited:!0};if(Mt.type==="error"){if(Mt.partialMatches.length===0){let{matches:os,route:Bi}=lp(o);return{matches:os,loaderData:{},errors:{[Bi.id]:Mt.error}}}let rt=Co(Mt.partialMatches).route.id;return{matches:Mt.partialMatches,loaderData:{},errors:{[rt]:Mt.error}}}else if(Mt.matches)_e=Mt.matches;else{let{error:rt,notFoundMatches:os,route:Bi}=Si(ce.pathname);return{matches:os,loaderData:{},errors:{[Bi.id]:rt}}}}let In=u||o,{dsMatches:gt,revalidatingFetchers:Ln}=Uw(Q,Te,s,a,e.history,O,_e,ln,ce,Je?[]:r,Je===!0,ee,Z,ke,H,ge,In,d,e.patchRoutesOnNavigation!=null,ot,kt);if(M=++pe,!e.dataStrategy&&!gt.some(Mt=>Mt.shouldLoad)&&!gt.some(Mt=>Mt.route.middleware&&Mt.route.middleware.length>0)&&Ln.length===0){let Mt=qe();return sn(ce,{matches:_e,loaderData:{},errors:ot&&Oi(ot[1])?{[ot[0]]:ot[1].error}:null,...Yw(ot),...Mt?{fetchers:new Map(O.fetchers)}:{}},{flushSync:dt}),{shortCircuited:!0}}if(Sn){let Mt={};if(!De){Mt.navigation=Dt;let rt=rs(ot);rt!==void 0&&(Mt.actionData=rt)}Ln.length>0&&(Mt.fetchers=ti(Ln)),ft(Mt,{flushSync:dt})}Ln.forEach(Mt=>{An(Mt.key),Mt.controller&&X.set(Mt.key,Mt.controller)});let Lt=()=>Ln.forEach(Mt=>An(Mt.key));se&&se.signal.addEventListener("abort",Lt);let{loaderResults:Ms,fetcherResults:ar}=await Ce(gt,Ln,Q,Te);if(Q.signal.aborted)return{shortCircuited:!0};se&&se.signal.removeEventListener("abort",Lt),Ln.forEach(Mt=>X.delete(Mt.key));let mr=up(Ms);if(mr)return await qr(Q,mr.result,!0,{replace:nt}),{shortCircuited:!0};if(mr=up(ar),mr)return ge.add(mr.key),await qr(Q,mr.result,!0,{replace:nt}),{shortCircuited:!0};let{loaderData:Mi,errors:as}=Kw(O,_e,Ms,ot,Ln,ar);Je&&O.errors&&(as={...O.errors,...as});let gr=qe(),Fi=sr(M),Jn=gr||Fi||Ln.length>0;return{matches:_e,loaderData:Mi,errors:as,...Jn?{fetchers:new Map(O.fetchers)}:{}}}function rs(Q){if(Q&&!Oi(Q[1]))return{[Q[0]]:Q[1].data};if(O.actionData)return Object.keys(O.actionData).length===0?null:O.actionData}function ti(Q){return Q.forEach(ce=>{let _e=O.fetchers.get(ce.key),Te=bd(void 0,_e?_e.data:void 0);O.fetchers.set(ce.key,Te)}),new Map(O.fetchers)}async function Vn(Q,ce,_e,Te){An(Q);let De=(Te&&Te.flushSync)===!0,tt=u||o,Ze=I1(O.location,O.matches,d,_e,ce,Te?.relative),Ye=So(tt,Ze,d),nt=ra(Ye,tt,Ze);if(nt.active&&nt.matches&&(Ye=nt.matches),!Ye){pt(Q,ce,Ki(404,{pathname:Ze}),{flushSync:De});return}let{path:Je,submission:dt,error:ot}=zw(!0,Ze,Te);if(ot){pt(Q,ce,ot,{flushSync:De});return}let kt=e.getContext?await e.getContext():new Iw,Dt=(Te&&Te.preventScrollReset)===!0;if(dt&&Mr(dt.formMethod)){await Ls(Q,ce,Je,Ye,kt,nt.active,De,Dt,dt,Te&&Te.unstable_defaultShouldRevalidate);return}H.set(Q,{routeId:ce,path:Je}),await Li(Q,ce,Je,Ye,kt,nt.active,De,Dt,dt)}async function Ls(Q,ce,_e,Te,De,tt,Ze,Ye,nt,Je){Le(),H.delete(Q);let dt=O.fetchers.get(Q);st(Q,YE(nt,dt),{flushSync:Ze});let ot=new AbortController,kt=tc(e.history,_e,ot.signal,nt);if(tt){let an=await Wr(Te,new URL(kt.url).pathname,kt.signal,Q);if(an.type==="aborted")return;if(an.type==="error"){pt(Q,ce,an.error,{flushSync:Ze});return}else if(an.matches)Te=an.matches;else{pt(Q,ce,Ki(404,{pathname:_e}),{flushSync:Ze});return}}let Dt=nm(Te,_e);if(!Dt.route.action&&!Dt.route.lazy){let an=Ki(405,{method:nt.formMethod,pathname:_e,routeId:ce});pt(Q,ce,an,{flushSync:Ze});return}X.set(Q,ot);let ln=pe,Sn=dc(s,a,kt,Te,Dt,r,De),In=await Or(kt,Sn,De,Q),gt=In[Dt.route.id];if(!gt){for(let an of Sn)if(In[an.route.id]){gt=In[an.route.id];break}}if(kt.signal.aborted){X.get(Q)===ot&&X.delete(Q);return}if(ke.has(Q)){if(Dl(gt)||Oi(gt)){st(Q,Sa(void 0));return}}else{if(Dl(gt))if(X.delete(Q),M>ln){st(Q,Sa(void 0));return}else return ge.add(Q),st(Q,bd(nt)),qr(kt,gt,!1,{fetcherSubmission:nt,preventScrollReset:Ye});if(Oi(gt)){pt(Q,ce,gt.error);return}}let Ln=O.navigation.location||O.location,Lt=tc(e.history,Ln,ot.signal),Ms=u||o,ar=O.navigation.state!=="idle"?So(Ms,O.navigation.location,d):O.matches;Bt(ar,"Didn't find any matches after fetcher action");let mr=++pe;Y.set(Q,mr);let Mi=bd(nt,gt.data);O.fetchers.set(Q,Mi);let{dsMatches:as,revalidatingFetchers:gr}=Uw(Lt,De,s,a,e.history,O,ar,nt,Ln,r,!1,ee,Z,ke,H,ge,Ms,d,e.patchRoutesOnNavigation!=null,[Dt.route.id,gt],Je);gr.filter(an=>an.key!==Q).forEach(an=>{let Qr=an.key,Fs=O.fetchers.get(Qr),Bs=bd(void 0,Fs?Fs.data:void 0);O.fetchers.set(Qr,Bs),An(Qr),an.controller&&X.set(Qr,an.controller)}),ft({fetchers:new Map(O.fetchers)});let Fi=()=>gr.forEach(an=>An(an.key));ot.signal.addEventListener("abort",Fi);let{loaderResults:Jn,fetcherResults:Mt}=await Ce(as,gr,Lt,De);if(ot.signal.aborted)return;if(ot.signal.removeEventListener("abort",Fi),Y.delete(Q),X.delete(Q),gr.forEach(an=>X.delete(an.key)),O.fetchers.has(Q)){let an=Sa(gt.data);O.fetchers.set(Q,an)}let rt=up(Jn);if(rt)return qr(Lt,rt.result,!1,{preventScrollReset:Ye});if(rt=up(Mt),rt)return ge.add(rt.key),qr(Lt,rt.result,!1,{preventScrollReset:Ye});let{loaderData:os,errors:Bi}=Kw(O,ar,Jn,void 0,gr,Mt);sr(mr),O.navigation.state==="loading"&&mr>M?(Bt(B,"Expected pending action"),se&&se.abort(),sn(O.navigation.location,{matches:ar,loaderData:os,errors:Bi,fetchers:new Map(O.fetchers)})):(ft({errors:Bi,loaderData:Gw(O.loaderData,os,ar,Bi),fetchers:new Map(O.fetchers)}),ee=!1)}async function Li(Q,ce,_e,Te,De,tt,Ze,Ye,nt){let Je=O.fetchers.get(Q);st(Q,bd(nt,Je?Je.data:void 0),{flushSync:Ze});let dt=new AbortController,ot=tc(e.history,_e,dt.signal);if(tt){let gt=await Wr(Te,new URL(ot.url).pathname,ot.signal,Q);if(gt.type==="aborted")return;if(gt.type==="error"){pt(Q,ce,gt.error,{flushSync:Ze});return}else if(gt.matches)Te=gt.matches;else{pt(Q,ce,Ki(404,{pathname:_e}),{flushSync:Ze});return}}let kt=nm(Te,_e);X.set(Q,dt);let Dt=pe,ln=dc(s,a,ot,Te,kt,r,De),In=(await Or(ot,ln,De,Q))[kt.route.id];if(X.get(Q)===dt&&X.delete(Q),!ot.signal.aborted){if(ke.has(Q)){st(Q,Sa(void 0));return}if(Dl(In))if(M>Dt){st(Q,Sa(void 0));return}else{ge.add(Q),await qr(ot,In,!1,{preventScrollReset:Ye});return}if(Oi(In)){pt(Q,ce,In.error);return}st(Q,Sa(In.data))}}async function qr(Q,ce,_e,{submission:Te,fetcherSubmission:De,preventScrollReset:tt,replace:Ze}={}){_e||(W?.resolve(),W=null),ce.response.headers.has("X-Remix-Revalidate")&&(ee=!0);let Ye=ce.response.headers.get("Location");Bt(Ye,"Expected a Location header on the redirect Response"),Ye=Ww(Ye,new URL(Q.url),d,e.history);let nt=ih(O.location,Ye,{_isRedirect:!0});if(n){let ln=!1;if(ce.response.headers.has("X-Remix-Reload-Document"))ln=!0;else if(Gx(Ye)){const Sn=D4(Ye,!0);ln=Sn.origin!==t.location.origin||Zi(Sn.pathname,d)==null}if(ln){Ze?t.location.replace(Ye):t.location.assign(Ye);return}}se=null;let Je=Ze===!0||ce.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:dt,formAction:ot,formEncType:kt}=O.navigation;!Te&&!De&&dt&&ot&&kt&&(Te=Xw(O.navigation));let Dt=Te||De;if(jE.has(ce.response.status)&&Dt&&Mr(Dt.formMethod))await Vr(Je,nt,{submission:{...Dt,formAction:Ye},preventScrollReset:tt||F,enableViewTransition:_e?J:void 0});else{let ln=fy(nt,Te);await Vr(Je,nt,{overrideNavigation:ln,fetcherSubmission:De,preventScrollReset:tt||F,enableViewTransition:_e?J:void 0})}}async function Or(Q,ce,_e,Te){let De,tt={};try{De=await LE(f,Q,ce,Te,_e,!1)}catch(Ze){return ce.filter(Ye=>Ye.shouldLoad).forEach(Ye=>{tt[Ye.route.id]={type:"error",error:Ze}}),tt}if(Q.signal.aborted)return tt;if(!Mr(Q.method))for(let Ze of ce){if(De[Ze.route.id]?.type==="error")break;!De.hasOwnProperty(Ze.route.id)&&!O.loaderData.hasOwnProperty(Ze.route.id)&&(!O.errors||!O.errors.hasOwnProperty(Ze.route.id))&&Ze.shouldCallHandler()&&(De[Ze.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${Ze.route.id}`)})}for(let[Ze,Ye]of Object.entries(De))if(qE(Ye)){let nt=Ye.result;tt[Ze]={type:"redirect",response:BE(nt,Q,Ze,ce,d)}}else tt[Ze]=await FE(Ye);return tt}async function Ce(Q,ce,_e,Te){let De=Or(_e,Q,Te,null),tt=Promise.all(ce.map(async nt=>{if(nt.matches&&nt.match&&nt.request&&nt.controller){let dt=(await Or(nt.request,nt.matches,Te,nt.key))[nt.match.route.id];return{[nt.key]:dt}}else return Promise.resolve({[nt.key]:{type:"error",error:Ki(404,{pathname:nt.path})}})})),Ze=await De,Ye=(await tt).reduce((nt,Je)=>Object.assign(nt,Je),{});return{loaderResults:Ze,fetcherResults:Ye}}function Le(){ee=!0,H.forEach((Q,ce)=>{X.has(ce)&&Z.add(ce),An(ce)})}function st(Q,ce,_e={}){O.fetchers.set(Q,ce),ft({fetchers:new Map(O.fetchers)},{flushSync:(_e&&_e.flushSync)===!0})}function pt(Q,ce,_e,Te={}){let De=Co(O.matches,ce);qn(Q),ft({errors:{[De.route.id]:_e},fetchers:new Map(O.fetchers)},{flushSync:(Te&&Te.flushSync)===!0})}function At(Q){return Pe.set(Q,(Pe.get(Q)||0)+1),ke.has(Q)&&ke.delete(Q),O.fetchers.get(Q)||kE}function _n(Q,ce){An(Q,ce?.reason),st(Q,Sa(null))}function qn(Q){let ce=O.fetchers.get(Q);X.has(Q)&&!(ce&&ce.state==="loading"&&Y.has(Q))&&An(Q),H.delete(Q),Y.delete(Q),ge.delete(Q),ke.delete(Q),Z.delete(Q),O.fetchers.delete(Q)}function rr(Q){let ce=(Pe.get(Q)||0)-1;ce<=0?(Pe.delete(Q),ke.add(Q)):Pe.set(Q,ce),ft({fetchers:new Map(O.fetchers)})}function An(Q,ce){let _e=X.get(Q);_e&&(_e.abort(ce),X.delete(Q))}function ir(Q){for(let ce of Q){let _e=At(ce),Te=Sa(_e.data);O.fetchers.set(ce,Te)}}function qe(){let Q=[],ce=!1;for(let _e of ge){let Te=O.fetchers.get(_e);Bt(Te,`Expected fetcher: ${_e}`),Te.state==="loading"&&(ge.delete(_e),Q.push(_e),ce=!0)}return ir(Q),ce}function sr(Q){let ce=[];for(let[_e,Te]of Y)if(Te<Q){let De=O.fetchers.get(_e);Bt(De,`Expected fetcher: ${_e}`),De.state==="loading"&&(An(_e),Y.delete(_e),ce.push(_e))}return ir(ce),ce.length>0}function Nn(Q,ce){let _e=O.blockers.get(Q)||vd;return Ee.get(Q)!==ce&&Ee.set(Q,ce),_e}function is(Q){O.blockers.delete(Q),Ee.delete(Q)}function He(Q,ce){let _e=O.blockers.get(Q)||vd;Bt(_e.state==="unblocked"&&ce.state==="blocked"||_e.state==="blocked"&&ce.state==="blocked"||_e.state==="blocked"&&ce.state==="proceeding"||_e.state==="blocked"&&ce.state==="unblocked"||_e.state==="proceeding"&&ce.state==="unblocked",`Invalid blocker state transition: ${_e.state} -> ${ce.state}`);let Te=new Map(O.blockers);Te.set(Q,ce),ft({blockers:Te})}function _i({currentLocation:Q,nextLocation:ce,historyAction:_e}){if(Ee.size===0)return;Ee.size>1&&Gn(!1,"A router only supports one blocker at a time");let Te=Array.from(Ee.entries()),[De,tt]=Te[Te.length-1],Ze=O.blockers.get(De);if(!(Ze&&Ze.state==="proceeding")&&tt({currentLocation:Q,nextLocation:ce,historyAction:_e}))return De}function Si(Q){let ce=Ki(404,{pathname:Q}),_e=u||o,{matches:Te,route:De}=lp(_e);return{notFoundMatches:Te,route:De,error:ce}}function Va(Q,ce,_e){if(b=Q,C=ce,_=_e||null,!k&&O.navigation===hy){k=!0;let Te=Go(O.location,O.matches);Te!=null&&ft({restoreScrollPosition:Te})}return()=>{b=null,C=null,_=null}}function qa(Q,ce){return _&&_(Q,ce.map(Te=>X7(Te,O.loaderData)))||Q.key}function Wa(Q,ce){if(b&&C){let _e=qa(Q,ce);b[_e]=C()}}function Go(Q,ce){if(b){let _e=qa(Q,ce),Te=b[_e];if(typeof Te=="number")return Te}return null}function ra(Q,ce,_e){if(e.patchRoutesOnNavigation)if(Q){if(Object.keys(Q[0].params).length>0)return{active:!0,matches:Bd(ce,_e,d,!0)}}else return{active:!0,matches:Bd(ce,_e,d,!0)||[]};return{active:!1,matches:null}}async function Wr(Q,ce,_e,Te){if(!e.patchRoutesOnNavigation)return{type:"success",matches:Q};let De=Q;for(;;){let tt=u==null,Ze=u||o,Ye=a;try{await e.patchRoutesOnNavigation({signal:_e,path:ce,matches:De,fetcherKey:Te,patch:(dt,ot)=>{_e.aborted||$w(dt,ot,Ze,Ye,s,!1)}})}catch(dt){return{type:"error",error:dt,partialMatches:De}}finally{tt&&!_e.aborted&&(o=[...o])}if(_e.aborted)return{type:"aborted"};let nt=So(Ze,ce,d),Je=null;if(nt){if(Object.keys(nt[0].params).length===0)return{type:"success",matches:nt};if(Je=Bd(Ze,ce,d,!0),!(Je&&De.length<Je.length&&Di(De,Je.slice(0,De.length))))return{type:"success",matches:nt}}if(Je||(Je=Bd(Ze,ce,d,!0)),!Je||Di(De,Je))return{type:"success",matches:null};De=Je}}function Di(Q,ce){return Q.length===ce.length&&Q.every((_e,Te)=>_e.route.id===ce[Te].route.id)}function ss(Q){a={},u=sh(Q,s,void 0,a)}function Ds(Q,ce,_e=!1){let Te=u==null;$w(Q,ce,u||o,a,s,_e),Te&&(o=[...o],ft({}))}return I={get basename(){return d},get future(){return p},get state(){return O},get routes(){return o},get window(){return t},initialize:bt,subscribe:pr,enableScrollRestoration:Va,navigate:Yn,fetch:Vn,revalidate:Hn,createHref:Q=>e.history.createHref(Q),encodeLocation:Q=>e.history.encodeLocation(Q),getFetcher:At,resetFetcher:_n,deleteFetcher:rr,dispose:ze,getBlocker:Nn,deleteBlocker:is,patchRoutes:Ds,_internalFetchControllers:X,_internalSetRoutes:ss,_internalSetStateDoNotUseOrYouWillBreakYourApp(Q){ft(Q)}},e.unstable_instrumentations&&(I=yE(I,e.unstable_instrumentations.map(Q=>Q.router).filter(Boolean))),I}function NE(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function I1(e,t,n,r,i,s){let a,o;if(i){a=[];for(let d of t)if(a.push(d),d.route.id===i){o=d;break}}else a=t,o=t[t.length-1];let u=Jx(r||".",Yx(a),Zi(e.pathname,n)||e.pathname,s==="path");if(r==null&&(u.search=e.search,u.hash=e.hash),(r==null||r===""||r===".")&&o){let d=ev(u.search);if(o.route.index&&!d)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!o.route.index&&d){let f=new URLSearchParams(u.search),p=f.getAll("index");f.delete("index"),p.filter(y=>y).forEach(y=>f.append("index",y));let g=f.toString();u.search=g?`?${g}`:""}}return n!=="/"&&(u.pathname=dE({basename:n,pathname:u.pathname})),ea(u)}function zw(e,t,n){if(!n||!NE(n))return{path:t};if(n.formMethod&&!KE(n.formMethod))return{path:t,error:Ki(405,{method:n.formMethod})};let r=()=>({path:t,error:Ki(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),a=Z4(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Mr(s))return r();let p=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((g,[y,b])=>`${g}${y}=${b}
`,""):String(n.body);return{path:t,submission:{formMethod:s,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:p}}}else if(n.formEncType==="application/json"){if(!Mr(s))return r();try{let p=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:s,formAction:a,formEncType:n.formEncType,formData:void 0,json:p,text:void 0}}}catch{return r()}}}Bt(typeof FormData=="function","FormData is not available in this environment");let o,u;if(n.formData)o=M1(n.formData),u=n.formData;else if(n.body instanceof FormData)o=M1(n.body),u=n.body;else if(n.body instanceof URLSearchParams)o=n.body,u=Qw(o);else if(n.body==null)o=new URLSearchParams,u=new FormData;else try{o=new URLSearchParams(n.body),u=Qw(o)}catch{return r()}let d={formMethod:s,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Mr(d.formMethod))return{path:t,submission:d};let f=Uo(t);return e&&f.search&&ev(f.search)&&o.append("index",""),f.search=`?${o}`,{path:ea(f),submission:d}}function Uw(e,t,n,r,i,s,a,o,u,d,f,p,g,y,b,_,C,k,P,A,U){let V=A?Oi(A[1])?A[1].error:A[1].data:void 0,I=i.createURL(s.location),O=i.createURL(u),B;if(f&&s.errors){let $=Object.keys(s.errors)[0];B=a.findIndex(ee=>ee.route.id===$)}else if(A&&Oi(A[1])){let $=A[0];B=a.findIndex(ee=>ee.route.id===$)-1}let W=A?A[1].statusCode:void 0,F=W&&W>=400,se={currentUrl:I,currentParams:s.matches[0]?.params||{},nextUrl:O,nextParams:a[0].params,...o,actionResult:V,actionStatus:W},J=Ph(a),xe=a.map(($,ee)=>{let{route:Z}=$,X=null;if(B!=null&&ee>B?X=!1:Z.lazy?X=!0:Xx(Z)?f?X=L1(Z,s.loaderData,s.errors):PE(s.loaderData,s.matches[ee],$)&&(X=!0):X=!1,X!==null)return D1(n,r,e,J,$,d,t,X);let pe=!1;typeof U=="boolean"?pe=U:F?pe=!1:(p||I.pathname+I.search===O.pathname+O.search||I.search!==O.search||OE(s.matches[ee],$))&&(pe=!0);let M={...se,defaultShouldRevalidate:pe},Y=Qd($,M);return D1(n,r,e,J,$,d,t,Y,M,U)}),G=[];return b.forEach(($,ee)=>{if(f||!a.some(Pe=>Pe.route.id===$.routeId)||y.has(ee))return;let Z=s.fetchers.get(ee),X=Z&&Z.state!=="idle"&&Z.data===void 0,pe=So(C,$.path,k);if(!pe){if(P&&X)return;G.push({key:ee,routeId:$.routeId,path:$.path,matches:null,match:null,request:null,controller:null});return}if(_.has(ee))return;let M=nm(pe,$.path),Y=new AbortController,ge=tc(i,$.path,Y.signal),H=null;if(g.has(ee))g.delete(ee),H=dc(n,r,ge,pe,M,d,t);else if(X)p&&(H=dc(n,r,ge,pe,M,d,t));else{let Pe;typeof U=="boolean"?Pe=U:F?Pe=!1:Pe=p;let ke={...se,defaultShouldRevalidate:Pe};Qd(M,ke)&&(H=dc(n,r,ge,pe,M,d,t,ke))}H&&G.push({key:ee,routeId:$.routeId,path:$.path,matches:H,match:M,request:ge,controller:Y})}),{dsMatches:xe,revalidatingFetchers:G}}function Xx(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function L1(e,t,n){if(e.lazy)return!0;if(!Xx(e))return!1;let r=t!=null&&e.id in t,i=n!=null&&n[e.id]!==void 0;return!r&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!i}function PE(e,t,n){let r=!t||n.route.id!==t.route.id,i=!e.hasOwnProperty(n.route.id);return r||i}function OE(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Qd(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function $w(e,t,n,r,i,s){let a;if(e){let d=r[e];Bt(d,`No route found to patch children into: routeId = ${e}`),d.children||(d.children=[]),a=d.children}else a=n;let o=[],u=[];if(t.forEach(d=>{let f=a.find(p=>K4(d,p));f?u.push({existingRoute:f,newRoute:d}):o.push(d)}),o.length>0){let d=sh(o,i,[e||"_","patch",String(a?.length||"0")],r);a.push(...d)}if(s&&u.length>0)for(let d=0;d<u.length;d++){let{existingRoute:f,newRoute:p}=u[d],g=f,[y]=sh([p],i,[],{},!0);Object.assign(g,{element:y.element?y.element:g.element,errorElement:y.errorElement?y.errorElement:g.errorElement,hydrateFallbackElement:y.hydrateFallbackElement?y.hydrateFallbackElement:g.hydrateFallbackElement})}}function K4(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>t.children?.some(i=>K4(n,i))):!1}var Hw=new WeakMap,G4=({key:e,route:t,manifest:n,mapRouteProperties:r})=>{let i=n[t.id];if(Bt(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[e];if(!s)return;let a=Hw.get(i);a||(a={},Hw.set(i,a));let o=a[e];if(o)return o;let u=(async()=>{let d=K7(e),p=i[e]!==void 0&&e!=="hasErrorBoundary";if(d)Gn(!d,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),a[e]=Promise.resolve();else if(p)Gn(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let g=await s();g!=null&&(Object.assign(i,{[e]:g}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(g=>g===void 0)&&(i.lazy=void 0))})();return a[e]=u,u},Vw=new WeakMap;function RE(e,t,n,r,i){let s=n[e.id];if(Bt(s,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let f=Vw.get(s);if(f)return{lazyRoutePromise:f,lazyHandlerPromise:f};let p=(async()=>{Bt(typeof e.lazy=="function","No lazy route function found");let g=await e.lazy(),y={};for(let b in g){let _=g[b];if(_===void 0)continue;let C=Y7(b),P=s[b]!==void 0&&b!=="hasErrorBoundary";C?Gn(!C,"Route property "+b+" is not a supported property to be returned from a lazy route function. This property will be ignored."):P?Gn(!P,`Route "${s.id}" has a static property "${b}" defined but its lazy function is also returning a value for this property. The lazy route property "${b}" will be ignored.`):y[b]=_}Object.assign(s,y),Object.assign(s,{...r(s),lazy:void 0})})();return Vw.set(s,p),p.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:p}}let a=Object.keys(e.lazy),o=[],u;for(let f of a){if(i&&i.includes(f))continue;let p=G4({key:f,route:e,manifest:n,mapRouteProperties:r});p&&(o.push(p),f===t&&(u=p))}let d=o.length>0?Promise.all(o).then(()=>{}):void 0;return d?.catch(()=>{}),u?.catch(()=>{}),{lazyRoutePromise:d,lazyHandlerPromise:u}}async function qw(e){let t=e.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(t.map(i=>i.resolve()))).forEach((i,s)=>{n[t[s].route.id]=i}),n}async function AE(e){return e.matches.some(t=>t.route.middleware)?Y4(e,()=>qw(e)):qw(e)}function Y4(e,t){return IE(e,t,r=>{if(QE(r))throw r;return r},HE,n);function n(r,i,s){if(s)return Promise.resolve(Object.assign(s.value,{[i]:{type:"error",result:r}}));{let{matches:a}=e,o=Math.min(Math.max(a.findIndex(d=>d.route.id===i),0),Math.max(a.findIndex(d=>d.shouldCallHandler()),0)),u=Co(a,a[o].route.id).route.id;return Promise.resolve({[u]:{type:"error",result:r}})}}}async function IE(e,t,n,r,i){let{matches:s,request:a,params:o,context:u,unstable_pattern:d}=e,f=s.flatMap(g=>g.route.middleware?g.route.middleware.map(y=>[g.route.id,y]):[]);return await J4({request:a,params:o,context:u,unstable_pattern:d},f,t,n,r,i)}async function J4(e,t,n,r,i,s,a=0){let{request:o}=e;if(o.signal.aborted)throw o.signal.reason??new Error(`Request aborted: ${o.method} ${o.url}`);let u=t[a];if(!u)return await n();let[d,f]=u,p,g=async()=>{if(p)throw new Error("You may only call `next()` once per middleware");try{return p={value:await J4(e,t,n,r,i,s,a+1)},p.value}catch(y){return p={value:await s(y,d,p)},p.value}};try{let y=await f(e,g),b=y!=null?r(y):void 0;return i(b)?b:p?b??p.value:(p={value:await g()},p.value)}catch(y){return await s(y,d,p)}}function X4(e,t,n,r,i){let s=G4({key:"middleware",route:r.route,manifest:t,mapRouteProperties:e}),a=RE(r.route,Mr(n.method)?"action":"loader",t,e,i);return{middleware:s,route:a.lazyRoutePromise,handler:a.lazyHandlerPromise}}function D1(e,t,n,r,i,s,a,o,u=null,d){let f=!1,p=X4(e,t,n,i,s);return{...i,_lazyPromises:p,shouldLoad:o,shouldRevalidateArgs:u,shouldCallHandler(g){return f=!0,u?typeof d=="boolean"?Qd(i,{...u,defaultShouldRevalidate:d}):typeof g=="boolean"?Qd(i,{...u,defaultShouldRevalidate:g}):Qd(i,u):o},resolve(g){let{lazy:y,loader:b,middleware:_}=i.route,C=f||o||g&&!Mr(n.method)&&(y||b),k=_&&_.length>0&&!b&&!y;return C&&(Mr(n.method)||!k)?DE({request:n,unstable_pattern:r,match:i,lazyHandlerPromise:p?.handler,lazyRoutePromise:p?.route,handlerOverride:g,scopedContext:a}):Promise.resolve({type:"data",result:void 0})}}}function dc(e,t,n,r,i,s,a,o=null){return r.map(u=>u.route.id!==i.route.id?{...u,shouldLoad:!1,shouldRevalidateArgs:o,shouldCallHandler:()=>!1,_lazyPromises:X4(e,t,n,u,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:D1(e,t,n,Ph(r),u,s,a,!0,o))}async function LE(e,t,n,r,i,s){n.some(d=>d._lazyPromises?.middleware)&&await Promise.all(n.map(d=>d._lazyPromises?.middleware));let a={request:t,unstable_pattern:Ph(n),params:n[0].params,context:i,matches:n},u=await e({...a,fetcherKey:r,runClientMiddleware:d=>{let f=a;return Y4(f,()=>d({...f,fetcherKey:r,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(d=>[d._lazyPromises?.handler,d._lazyPromises?.route]))}catch{}return u}async function DE({request:e,unstable_pattern:t,match:n,lazyHandlerPromise:r,lazyRoutePromise:i,handlerOverride:s,scopedContext:a}){let o,u,d=Mr(e.method),f=d?"action":"loader",p=g=>{let y,b=new Promise((k,P)=>y=P);u=()=>y(),e.signal.addEventListener("abort",u);let _=k=>typeof g!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${f}" [routeId: ${n.route.id}]`)):g({request:e,unstable_pattern:t,params:n.params,context:a},...k!==void 0?[k]:[]),C=(async()=>{try{return{type:"data",result:await(s?s(P=>_(P)):_())}}catch(k){return{type:"error",result:k}}})();return Promise.race([C,b])};try{let g=d?n.route.action:n.route.loader;if(r||i)if(g){let y,[b]=await Promise.all([p(g).catch(_=>{y=_}),r,i]);if(y!==void 0)throw y;o=b}else{await r;let y=d?n.route.action:n.route.loader;if(y)[o]=await Promise.all([p(y),i]);else if(f==="action"){let b=new URL(e.url),_=b.pathname+b.search;throw Ki(405,{method:e.method,pathname:_,routeId:n.route.id})}else return{type:"data",result:void 0}}else if(g)o=await p(g);else{let y=new URL(e.url),b=y.pathname+y.search;throw Ki(404,{pathname:b})}}catch(g){return{type:"error",result:g}}finally{u&&e.signal.removeEventListener("abort",u)}return o}async function ME(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function FE(e){let{result:t,type:n}=e;if(Zx(t)){let r;try{r=await ME(t)}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new Nh(t.status,t.statusText,r),statusCode:t.status,headers:t.headers}:{type:"data",data:r,statusCode:t.status,headers:t.headers}}return n==="error"?Jw(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:$E(t),statusCode:ah(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:ah(t)?t.status:void 0}:Jw(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function BE(e,t,n,r,i){let s=e.headers.get("Location");if(Bt(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!Gx(s)){let a=r.slice(0,r.findIndex(o=>o.route.id===n)+1);s=I1(new URL(t.url),a,i,s),e.headers.set("Location",s)}return e}function Ww(e,t,n,r){let i=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(Gx(e)){let s=e,a=s.startsWith("//")?new URL(t.protocol+s):new URL(s);if(i.includes(a.protocol))throw new Error("Invalid redirect location");let o=Zi(a.pathname,n)!=null;if(a.origin===t.origin&&o)return a.pathname+a.search+a.hash}try{let s=r.createURL(e);if(i.includes(s.protocol))throw new Error("Invalid redirect location")}catch{}return e}function tc(e,t,n,r){let i=e.createURL(Z4(t)).toString(),s={signal:n};if(r&&Mr(r.formMethod)){let{formMethod:a,formEncType:o}=r;s.method=a.toUpperCase(),o==="application/json"?(s.headers=new Headers({"Content-Type":o}),s.body=JSON.stringify(r.json)):o==="text/plain"?s.body=r.text:o==="application/x-www-form-urlencoded"&&r.formData?s.body=M1(r.formData):s.body=r.formData}return new Request(i,s)}function M1(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function Qw(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function zE(e,t,n,r=!1,i=!1){let s={},a=null,o,u=!1,d={},f=n&&Oi(n[1])?n[1].error:void 0;return e.forEach(p=>{if(!(p.route.id in t))return;let g=p.route.id,y=t[g];if(Bt(!Dl(y),"Cannot handle redirect results in processLoaderData"),Oi(y)){let b=y.error;if(f!==void 0&&(b=f,f=void 0),a=a||{},i)a[g]=b;else{let _=Co(e,g);a[_.route.id]==null&&(a[_.route.id]=b)}r||(s[g]=Q4),u||(u=!0,o=ah(y.error)?y.error.status:500),y.headers&&(d[g]=y.headers)}else s[g]=y.data,y.statusCode&&y.statusCode!==200&&!u&&(o=y.statusCode),y.headers&&(d[g]=y.headers)}),f!==void 0&&n&&(a={[n[0]]:f},n[2]&&(s[n[2]]=void 0)),{loaderData:s,errors:a,statusCode:o||200,loaderHeaders:d}}function Kw(e,t,n,r,i,s){let{loaderData:a,errors:o}=zE(t,n,r);return i.filter(u=>!u.matches||u.matches.some(d=>d.shouldLoad)).forEach(u=>{let{key:d,match:f,controller:p}=u;if(p&&p.signal.aborted)return;let g=s[d];if(Bt(g,"Did not find corresponding fetcher result"),Oi(g)){let y=Co(e.matches,f?.route.id);o&&o[y.route.id]||(o={...o,[y.route.id]:g.error}),e.fetchers.delete(d)}else if(Dl(g))Bt(!1,"Unhandled fetcher revalidation redirect");else{let y=Sa(g.data);e.fetchers.set(d,y)}}),{loaderData:a,errors:o}}function Gw(e,t,n,r){let i=Object.entries(t).filter(([,s])=>s!==Q4).reduce((s,[a,o])=>(s[a]=o,s),{});for(let s of n){let a=s.route.id;if(!t.hasOwnProperty(a)&&e.hasOwnProperty(a)&&s.route.loader&&(i[a]=e[a]),r&&r.hasOwnProperty(a))break}return i}function Yw(e){return e?Oi(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Co(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function lp(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Ki(e,{pathname:t,routeId:n,method:r,type:i,message:s}={}){let a="Unknown Server Error",o="Unknown @remix-run/router error";return e===400?(a="Bad Request",r&&t&&n?o=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(o="Unable to encode submission body")):e===403?(a="Forbidden",o=`Route "${n}" does not match URL "${t}"`):e===404?(a="Not Found",o=`No route matches URL "${t}"`):e===405&&(a="Method Not Allowed",r&&t&&n?o=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(o=`Invalid request method "${r.toUpperCase()}"`)),new Nh(e||500,a,new Error(o),!0)}function up(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,i]=t[n];if(Dl(i))return{key:r,result:i}}}function Z4(e){let t=typeof e=="string"?Uo(e):e;return ea({...t,hash:""})}function UE(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function $E(e){return new Nh(e.init?.status??500,e.init?.statusText??"Internal Server Error",e.data)}function HE(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,n])=>typeof t=="string"&&VE(n))}function VE(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function qE(e){return Zx(e.result)&&q4.has(e.result.status)}function Oi(e){return e.type==="error"}function Dl(e){return(e&&e.type)==="redirect"}function Jw(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function Zx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function WE(e){return q4.has(e)}function QE(e){return Zx(e)&&WE(e.status)&&e.headers.has("Location")}function KE(e){return CE.has(e.toUpperCase())}function Mr(e){return _E.has(e.toUpperCase())}function ev(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function nm(e,t){let n=typeof t=="string"?Uo(t).search:t.search;if(e[e.length-1].route.index&&ev(n||""))return e[e.length-1];let r=z4(e);return r[r.length-1]}function Xw(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:a}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function fy(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function GE(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function bd(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function YE(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Sa(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function JE(e,t){try{let n=e.sessionStorage.getItem(W4);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&t.set(i,new Set(s||[]))}}catch{}}function XE(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(W4,JSON.stringify(n))}catch(r){Gn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function Zw(){let e,t,n=new Promise((r,i)=>{e=async s=>{r(s);try{await n}catch{}},t=async s=>{i(s);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var Xl=T.createContext(null);Xl.displayName="DataRouter";var Oh=T.createContext(null);Oh.displayName="DataRouterState";var eC=T.createContext(!1);function ZE(){return T.useContext(eC)}var tv=T.createContext({isTransitioning:!1});tv.displayName="ViewTransition";var tC=T.createContext(new Map);tC.displayName="Fetchers";var e9=T.createContext(null);e9.displayName="Await";var ns=T.createContext(null);ns.displayName="Navigation";var Ym=T.createContext(null);Ym.displayName="Location";var Ns=T.createContext({outlet:null,matches:[],isDataRoute:!1});Ns.displayName="Route";var nv=T.createContext(null);nv.displayName="RouteError";var nC="REACT_ROUTER_ERROR",t9="REDIRECT",n9="ROUTE_ERROR_RESPONSE";function r9(e){if(e.startsWith(`${nC}:${t9}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function i9(e){if(e.startsWith(`${nC}:${n9}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Nh(t.status,t.statusText,t.data)}catch{}}function s9(e,{relative:t}={}){Bt(Rh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(ns),{hash:i,pathname:s,search:a}=Ah(e,{relative:t}),o=s;return n!=="/"&&(o=s==="/"?n:Js([n,s])),r.createHref({pathname:o,search:a,hash:i})}function Rh(){return T.useContext(Ym)!=null}function Ps(){return Bt(Rh(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Ym).location}var rC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function iC(e){T.useContext(ns).static||T.useLayoutEffect(e)}function Da(){let{isDataRoute:e}=T.useContext(Ns);return e?v9():a9()}function a9(){Bt(Rh(),"useNavigate() may be used only in the context of a <Router> component.");let e=T.useContext(Xl),{basename:t,navigator:n}=T.useContext(ns),{matches:r}=T.useContext(Ns),{pathname:i}=Ps(),s=JSON.stringify(Yx(r)),a=T.useRef(!1);return iC(()=>{a.current=!0}),T.useCallback((u,d={})=>{if(Gn(a.current,rC),!a.current)return;if(typeof u=="number"){n.go(u);return}let f=Jx(u,JSON.parse(s),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Js([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,s,i,e])}var o9=T.createContext(null);function l9(e){let t=T.useContext(Ns).outlet;return T.useMemo(()=>t&&T.createElement(o9.Provider,{value:e},t),[t,e])}function sC(){let{matches:e}=T.useContext(Ns),t=e[e.length-1];return t?t.params:{}}function Ah(e,{relative:t}={}){let{matches:n}=T.useContext(Ns),{pathname:r}=Ps(),i=JSON.stringify(Yx(n));return T.useMemo(()=>Jx(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function u9(e,t,n,r,i){Bt(Rh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=T.useContext(ns),{matches:a}=T.useContext(Ns),o=a[a.length-1],u=o?o.params:{},d=o?o.pathname:"/",f=o?o.pathnameBase:"/",p=o&&o.route;{let P=p&&p.path||"";oC(d,!p||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let g=Ps(),y;y=g;let b=y.pathname||"/",_=b;if(f!=="/"){let P=f.replace(/^\//,"").split("/");_="/"+b.replace(/^\//,"").split("/").slice(P.length).join("/")}let C=So(e,{pathname:_});return Gn(p||C!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Gn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),p9(C&&C.map(P=>Object.assign({},P,{params:Object.assign({},u,P.params),pathname:Js([f,s.encodeLocation?s.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?f:Js([f,s.encodeLocation?s.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),a,n,r,i)}function c9(){let e=sv(),t=ah(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:s},"ErrorBoundary")," or"," ",T.createElement("code",{style:s},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),n?T.createElement("pre",{style:i},n):null,a)}var d9=T.createElement(c9,null),aC=class extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=i9(e.digest);n&&(e=n)}let t=e!==void 0?T.createElement(Ns.Provider,{value:this.props.routeContext},T.createElement(nv.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?T.createElement(h9,{error:e},t):t}};aC.contextType=eC;var py=new WeakMap;function h9({children:e,error:t}){let{basename:n}=T.useContext(ns);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=r9(t.digest);if(r){let i=py.get(t);if(i)throw i;let s=$4(r.location,n);if(U4&&!py.get(t))if(s.isExternal||r.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:r.replace}));throw py.set(t,a),a}return T.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return e}function f9({routeContext:e,match:t,children:n}){let r=T.useContext(Xl);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),T.createElement(Ns.Provider,{value:e},n)}function p9(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=n?.errors;if(a!=null){let f=s.findIndex(p=>p.route.id&&a?.[p.route.id]!==void 0);Bt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let o=!1,u=-1;if(n)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=f),p.route.id){let{loaderData:g,errors:y}=n,b=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||b){o=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}let d=n&&r?(f,p)=>{r(f,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Ph(n.matches),errorInfo:p})}:void 0;return s.reduceRight((f,p,g)=>{let y,b=!1,_=null,C=null;n&&(y=a&&p.route.id?a[p.route.id]:void 0,_=p.route.errorElement||d9,o&&(u<0&&g===0?(oC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,C=null):u===g&&(b=!0,C=p.route.hydrateFallbackElement||null)));let k=t.concat(s.slice(0,g+1)),P=()=>{let A;return y?A=_:b?A=C:p.route.Component?A=T.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=f,T.createElement(f9,{match:p,routeContext:{outlet:f,matches:k,isDataRoute:n!=null},children:A})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?T.createElement(aC,{location:n.location,revalidation:n.revalidation,component:_,error:y,children:P(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:d}):P()},null)}function rv(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m9(e){let t=T.useContext(Xl);return Bt(t,rv(e)),t}function g9(e){let t=T.useContext(Oh);return Bt(t,rv(e)),t}function y9(e){let t=T.useContext(Ns);return Bt(t,rv(e)),t}function iv(e){let t=y9(e),n=t.matches[t.matches.length-1];return Bt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function x9(){return iv("useRouteId")}function sv(){let e=T.useContext(nv),t=g9("useRouteError"),n=iv("useRouteError");return e!==void 0?e:t.errors?.[n]}function v9(){let{router:e}=m9("useNavigate"),t=iv("useNavigate"),n=T.useRef(!1);return iC(()=>{n.current=!0}),T.useCallback(async(i,s={})=>{Gn(n.current,rC),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var e3={};function oC(e,t,n){!t&&!e3[e]&&(e3[e]=!0,Gn(!1,n))}var t3={};function n3(e,t){!e&&!t3[t]&&(t3[t]=!0,console.warn(t))}var b9="useOptimistic",r3=A4[b9],w9=()=>{};function _9(e){return r3?r3(e):[e,w9]}function S9(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Gn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:T.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Gn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:T.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Gn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:T.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var C9=["HydrateFallback","hydrateFallbackElement"],j9=class{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function k9({router:e,flushSync:t,onError:n,unstable_useTransitions:r}){r=ZE()||r;let[s,a]=T.useState(e.state),[o,u]=_9(s),[d,f]=T.useState(),[p,g]=T.useState({isTransitioning:!1}),[y,b]=T.useState(),[_,C]=T.useState(),[k,P]=T.useState(),A=T.useRef(new Map),U=T.useCallback((B,{deletedFetchers:W,newErrors:F,flushSync:se,viewTransitionOpts:J})=>{F&&n&&Object.values(F).forEach(G=>n(G,{location:B.location,params:B.matches[0]?.params??{},unstable_pattern:Ph(B.matches)})),B.fetchers.forEach((G,$)=>{G.data!==void 0&&A.current.set($,G.data)}),W.forEach(G=>A.current.delete(G)),n3(se===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let xe=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(n3(J==null||xe,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!J||!xe){t&&se?t(()=>a(B)):r===!1?a(B):T.startTransition(()=>{r===!0&&u(G=>i3(G,B)),a(B)});return}if(t&&se){t(()=>{_&&(y?.resolve(),_.skipTransition()),g({isTransitioning:!0,flushSync:!0,currentLocation:J.currentLocation,nextLocation:J.nextLocation})});let G=e.window.document.startViewTransition(()=>{t(()=>a(B))});G.finished.finally(()=>{t(()=>{b(void 0),C(void 0),f(void 0),g({isTransitioning:!1})})}),t(()=>C(G));return}_?(y?.resolve(),_.skipTransition(),P({state:B,currentLocation:J.currentLocation,nextLocation:J.nextLocation})):(f(B),g({isTransitioning:!0,flushSync:!1,currentLocation:J.currentLocation,nextLocation:J.nextLocation}))},[e.window,t,_,y,r,u,n]);T.useLayoutEffect(()=>e.subscribe(U),[e,U]),T.useEffect(()=>{p.isTransitioning&&!p.flushSync&&b(new j9)},[p]),T.useEffect(()=>{if(y&&d&&e.window){let B=d,W=y.promise,F=e.window.document.startViewTransition(async()=>{r===!1?a(B):T.startTransition(()=>{r===!0&&u(se=>i3(se,B)),a(B)}),await W});F.finished.finally(()=>{b(void 0),C(void 0),f(void 0),g({isTransitioning:!1})}),C(F)}},[d,y,e.window,r,u]),T.useEffect(()=>{y&&d&&o.location.key===d.location.key&&y.resolve()},[y,_,o.location,d]),T.useEffect(()=>{!p.isTransitioning&&k&&(f(k.state),g({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}),P(void 0))},[p.isTransitioning,k]);let V=T.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:B=>e.navigate(B),push:(B,W,F)=>e.navigate(B,{state:W,preventScrollReset:F?.preventScrollReset}),replace:(B,W,F)=>e.navigate(B,{replace:!0,state:W,preventScrollReset:F?.preventScrollReset})}),[e]),I=e.basename||"/",O=T.useMemo(()=>({router:e,navigator:V,static:!1,basename:I,onError:n}),[e,V,I,n]);return T.createElement(T.Fragment,null,T.createElement(Xl.Provider,{value:O},T.createElement(Oh.Provider,{value:o},T.createElement(tC.Provider,{value:A.current},T.createElement(tv.Provider,{value:p},T.createElement(N9,{basename:I,location:o.location,navigationType:o.historyAction,navigator:V,unstable_useTransitions:r},T.createElement(E9,{routes:e.routes,future:e.future,state:o,onError:n})))))),null)}function i3(e,t){return{...e,navigation:t.navigation.state!=="idle"?t.navigation:e.navigation,revalidation:t.revalidation!=="idle"?t.revalidation:e.revalidation,actionData:t.navigation.state!=="submitting"?t.actionData:e.actionData,fetchers:t.fetchers}}var E9=T.memo(T9);function T9({routes:e,future:t,state:n,onError:r}){return u9(e,void 0,n,r,t)}function av(e){return l9(e.context)}function N9({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:a}){Bt(!Rh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:o,navigator:i,static:s,unstable_useTransitions:a,future:{}}),[o,i,s,a]);typeof n=="string"&&(n=Uo(n));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:y="default"}=n,b=T.useMemo(()=>{let _=Zi(d,o);return _==null?null:{location:{pathname:_,search:f,hash:p,state:g,key:y},navigationType:r}},[o,d,f,p,g,y,r]);return Gn(b!=null,`<Router basename="${o}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:T.createElement(ns.Provider,{value:u},T.createElement(Ym.Provider,{children:t,value:b}))}var rm="get",im="application/x-www-form-urlencoded";function Jm(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function P9(e){return Jm(e)&&e.tagName.toLowerCase()==="button"}function O9(e){return Jm(e)&&e.tagName.toLowerCase()==="form"}function R9(e){return Jm(e)&&e.tagName.toLowerCase()==="input"}function A9(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function I9(e,t){return e.button===0&&(!t||t==="_self")&&!A9(e)}function F1(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function L9(e,t){let n=F1(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}var cp=null;function D9(){if(cp===null)try{new FormData(document.createElement("form"),0),cp=!1}catch{cp=!0}return cp}var M9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function my(e){return e!=null&&!M9.has(e)?(Gn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${im}"`),null):e}function F9(e,t){let n,r,i,s,a;if(O9(e)){let o=e.getAttribute("action");r=o?Zi(o,t):null,n=e.getAttribute("method")||rm,i=my(e.getAttribute("enctype"))||im,s=new FormData(e)}else if(P9(e)||R9(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||o.getAttribute("action");if(r=u?Zi(u,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||rm,i=my(e.getAttribute("formenctype"))||my(o.getAttribute("enctype"))||im,s=new FormData(o,e),!D9()){let{name:d,type:f,value:p}=e;if(f==="image"){let g=d?`${d}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else d&&s.append(d,p)}}else{if(Jm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=rm,r=null,i=im,a=e}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ov(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function B9(e,t,n,r){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:t&&Zi(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function z9(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function U9(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function $9(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let a=await z9(s,n);return a.links?a.links():[]}return[]}));return W9(r.flat(1).filter(U9).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function s3(e,t,n,r,i,s){let a=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,o=(u,d)=>n[d].pathname!==u.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==u.params["*"];return s==="assets"?t.filter((u,d)=>a(u,d)||o(u,d)):s==="data"?t.filter((u,d)=>{let f=r.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(a(u,d)||o(u,d))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function H9(e,t,{includeHydrateFallback:n}={}){return V9(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function V9(e){return[...new Set(e)]}function q9(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function W9(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(q9(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function lC(){let e=T.useContext(Xl);return ov(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Q9(){let e=T.useContext(Oh);return ov(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var lv=T.createContext(void 0);lv.displayName="FrameworkContext";function uC(){let e=T.useContext(lv);return ov(e,"You must render this element inside a <HydratedRouter> element"),e}function K9(e,t){let n=T.useContext(lv),[r,i]=T.useState(!1),[s,a]=T.useState(!1),{onFocus:o,onBlur:u,onMouseEnter:d,onMouseLeave:f,onTouchStart:p}=t,g=T.useRef(null);T.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let _=k=>{k.forEach(P=>{a(P.isIntersecting)})},C=new IntersectionObserver(_,{threshold:.5});return g.current&&C.observe(g.current),()=>{C.disconnect()}}},[e]),T.useEffect(()=>{if(r){let _=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(_)}}},[r]);let y=()=>{i(!0)},b=()=>{i(!1),a(!1)};return n?e!=="intent"?[s,g,{}]:[s,g,{onFocus:wd(o,y),onBlur:wd(u,b),onMouseEnter:wd(d,y),onMouseLeave:wd(f,b),onTouchStart:wd(p,y)}]:[!1,g,{}]}function wd(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function G9({page:e,...t}){let{router:n}=lC(),r=T.useMemo(()=>So(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?T.createElement(J9,{page:e,matches:r,...t}):null}function Y9(e){let{manifest:t,routeModules:n}=uC(),[r,i]=T.useState([]);return T.useEffect(()=>{let s=!1;return $9(e,t,n).then(a=>{s||i(a)}),()=>{s=!0}},[e,t,n]),r}function J9({page:e,matches:t,...n}){let r=Ps(),{future:i,manifest:s,routeModules:a}=uC(),{basename:o}=lC(),{loaderData:u,matches:d}=Q9(),f=T.useMemo(()=>s3(e,t,d,s,r,"data"),[e,t,d,s,r]),p=T.useMemo(()=>s3(e,t,d,s,r,"assets"),[e,t,d,s,r]),g=T.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let _=new Set,C=!1;if(t.forEach(P=>{let A=s.routes[P.route.id];!A||!A.hasLoader||(!f.some(U=>U.route.id===P.route.id)&&P.route.id in u&&a[P.route.id]?.shouldRevalidate||A.hasClientLoader?C=!0:_.add(P.route.id))}),_.size===0)return[];let k=B9(e,o,i.unstable_trailingSlashAwareDataRequests,"data");return C&&_.size>0&&k.searchParams.set("_routes",t.filter(P=>_.has(P.route.id)).map(P=>P.route.id).join(",")),[k.pathname+k.search]},[o,i.unstable_trailingSlashAwareDataRequests,u,r,s,f,t,e,a]),y=T.useMemo(()=>H9(p,s),[p,s]),b=Y9(p);return T.createElement(T.Fragment,null,g.map(_=>T.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),y.map(_=>T.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),b.map(({key:_,link:C})=>T.createElement("link",{key:_,nonce:n.nonce,...C,crossOrigin:C.crossOrigin??n.crossOrigin})))}function X9(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Z9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Z9&&(window.__reactRouterVersion="7.13.0")}catch{}function eT(e,t){return TE({basename:t?.basename,getContext:t?.getContext,future:t?.future,history:V7({window:t?.window}),hydrationData:tT(),routes:e,mapRouteProperties:S9,hydrationRouteProperties:C9,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window,unstable_instrumentations:t?.unstable_instrumentations}).initialize()}function tT(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:nT(e.errors)}),e}function nT(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new Nh(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let a=new s(i.message);a.stack="",n[r]=a}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}var cC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sr=T.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:o,target:u,to:d,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:g,...y},b){let{basename:_,unstable_useTransitions:C}=T.useContext(ns),k=typeof d=="string"&&cC.test(d),P=$4(d,_);d=P.to;let A=s9(d,{relative:i}),[U,V,I]=K9(r,y),O=sT(d,{replace:a,state:o,target:u,preventScrollReset:f,relative:i,viewTransition:p,unstable_defaultShouldRevalidate:g,unstable_useTransitions:C});function B(F){t&&t(F),F.defaultPrevented||O(F)}let W=T.createElement("a",{...y,...I,href:P.absoluteURL||A,onClick:P.isExternal||s?t:B,ref:X9(b,V),target:u,"data-discover":!k&&n==="render"?"true":void 0});return U&&!k?T.createElement(T.Fragment,null,W,T.createElement(G9,{page:A})):W});Sr.displayName="Link";var Ma=T.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:o,children:u,...d},f){let p=Ah(a,{relative:d.relative}),g=Ps(),y=T.useContext(Oh),{navigator:b,basename:_}=T.useContext(ns),C=y!=null&&cT(p)&&o===!0,k=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,P=g.pathname,A=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(P=P.toLowerCase(),A=A?A.toLowerCase():null,k=k.toLowerCase()),A&&_&&(A=Zi(A,_)||A);const U=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let V=P===k||!i&&P.startsWith(k)&&P.charAt(U)==="/",I=A!=null&&(A===k||!i&&A.startsWith(k)&&A.charAt(k.length)==="/"),O={isActive:V,isPending:I,isTransitioning:C},B=V?t:void 0,W;typeof r=="function"?W=r(O):W=[r,V?"active":null,I?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let F=typeof s=="function"?s(O):s;return T.createElement(Sr,{...d,"aria-current":B,className:W,ref:f,style:F,to:a,viewTransition:o},typeof u=="function"?u(O):u)});Ma.displayName="NavLink";var rT=T.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:a=rm,action:o,onSubmit:u,relative:d,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:g,...y},b)=>{let{unstable_useTransitions:_}=T.useContext(ns),C=lT(),k=uT(o,{relative:d}),P=a.toLowerCase()==="get"?"get":"post",A=typeof o=="string"&&cC.test(o),U=V=>{if(u&&u(V),V.defaultPrevented)return;V.preventDefault();let I=V.nativeEvent.submitter,O=I?.getAttribute("formmethod")||a,B=()=>C(I||V.currentTarget,{fetcherKey:t,method:O,navigate:n,replace:i,state:s,relative:d,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:g});_&&n!==!1?T.startTransition(()=>B()):B()};return T.createElement("form",{ref:b,method:P,action:k,onSubmit:r?u:U,...y,"data-discover":!A&&e==="render"?"true":void 0})});rT.displayName="Form";function iT(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dC(e){let t=T.useContext(Xl);return Bt(t,iT(e)),t}function sT(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:a,unstable_defaultShouldRevalidate:o,unstable_useTransitions:u}={}){let d=Da(),f=Ps(),p=Ah(e,{relative:s});return T.useCallback(g=>{if(I9(g,t)){g.preventDefault();let y=n!==void 0?n:ea(f)===ea(p),b=()=>d(e,{replace:y,state:r,preventScrollReset:i,relative:s,viewTransition:a,unstable_defaultShouldRevalidate:o});u?T.startTransition(()=>b()):b()}},[f,d,p,n,r,t,e,i,s,a,o,u])}function uv(e){Gn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=T.useRef(F1(e)),n=T.useRef(!1),r=Ps(),i=T.useMemo(()=>L9(r.search,n.current?null:t.current),[r.search]),s=Da(),a=T.useCallback((o,u)=>{const d=F1(typeof o=="function"?o(new URLSearchParams(i)):o);n.current=!0,s("?"+d,u)},[s,i]);return[i,a]}var aT=0,oT=()=>`__${String(++aT)}__`;function lT(){let{router:e}=dC("useSubmit"),{basename:t}=T.useContext(ns),n=x9(),r=e.fetch,i=e.navigate;return T.useCallback(async(s,a={})=>{let{action:o,method:u,encType:d,formData:f,body:p}=F9(s,t);if(a.navigate===!1){let g=a.fetcherKey||oT();await r(g,n,a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||u,formEncType:a.encType||d,flushSync:a.flushSync})}else await i(a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||u,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,i,t,n])}function uT(e,{relative:t}={}){let{basename:n}=T.useContext(ns),r=T.useContext(Ns);Bt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Ah(e||".",{relative:t})},a=Ps();if(e==null){s.search=a.search;let o=new URLSearchParams(s.search),u=o.getAll("index");if(u.some(f=>f==="")){o.delete("index"),u.filter(p=>p).forEach(p=>o.append("index",p));let f=o.toString();s.search=f?`?${f}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Js([n,s.pathname])),ea(s)}function cT(e,{relative:t}={}){let n=T.useContext(tv);Bt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=dC("useViewTransitionState"),i=Ah(e,{relative:t});if(!n.isTransitioning)return!1;let s=Zi(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Zi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return mm(i.pathname,a)!=null||mm(i.pathname,s)!=null}var Xm=I4();const dp=ts(Xm);function dT(e){return T.createElement(k9,{flushSync:Xm.flushSync,...e})}var Tc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},hT={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},fT=class{#e=hT;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},Ml=new fT;function pT(e){setTimeout(e,0)}var Vl=typeof window>"u"||"Deno"in globalThis;function Xr(){}function mT(e,t){return typeof e=="function"?e(t):e}function B1(e){return typeof e=="number"&&e>=0&&e!==1/0}function hC(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ro(e,t){return typeof e=="function"?e(t):e}function Yi(e,t){return typeof e=="function"?e(t):e}function a3(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:o}=e;if(a){if(r){if(t.queryHash!==cv(a,t.options))return!1}else if(!oh(t.queryKey,a))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||i&&i!==t.state.fetchStatus||s&&!s(t))}function o3(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(ql(t.options.mutationKey)!==ql(s))return!1}else if(!oh(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function cv(e,t){return(t?.queryKeyHashFn||ql)(e)}function ql(e){return JSON.stringify(e,(t,n)=>z1(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function oh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>oh(e[n],t[n])):!1}var gT=Object.prototype.hasOwnProperty;function fC(e,t,n=0){if(e===t)return e;if(n>500)return t;const r=l3(e)&&l3(t);if(!r&&!(z1(e)&&z1(t)))return t;const s=(r?e:Object.keys(e)).length,a=r?t:Object.keys(t),o=a.length,u=r?new Array(o):{};let d=0;for(let f=0;f<o;f++){const p=r?f:a[f],g=e[p],y=t[p];if(g===y){u[p]=g,(r?f<s:gT.call(e,p))&&d++;continue}if(g===null||y===null||typeof g!="object"||typeof y!="object"){u[p]=y;continue}const b=fC(g,y,n+1);u[p]=b,b===g&&d++}return s===o&&d===s?e:u}function gm(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function l3(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function z1(e){if(!u3(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!u3(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function u3(e){return Object.prototype.toString.call(e)==="[object Object]"}function yT(e){return new Promise(t=>{Ml.setTimeout(t,e)})}function U1(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?fC(e,t):t}function xT(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function vT(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var dv=Symbol();function pC(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===dv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function hv(e,t){return typeof e=="function"?e(...t):!!e}function bT(e,t,n){let r=!1,i;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(i??=t(),r||(r=!0,i.aborted?n():i.addEventListener("abort",n,{once:!0})),i)}),e}var wT=class extends Tc{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Vl&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},fv=new wT;function $1(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}var _T=pT;function ST(){let e=[],t=0,n=o=>{o()},r=o=>{o()},i=_T;const s=o=>{t?e.push(o):i(()=>{n(o)})},a=()=>{const o=e;e=[],o.length&&i(()=>{r(()=>{o.forEach(u=>{n(u)})})})};return{batch:o=>{let u;t++;try{u=o()}finally{t--,t||a()}return u},batchCalls:o=>(...u)=>{s(()=>{o(...u)})},schedule:s,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var dr=ST(),CT=class extends Tc{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Vl&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},ym=new CT;function jT(e){return Math.min(1e3*2**e,3e4)}function mC(e){return(e??"online")==="online"?ym.isOnline():!0}var H1=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function gC(e){let t=!1,n=0,r;const i=$1(),s=()=>i.status!=="pending",a=_=>{if(!s()){const C=new H1(_);g(C),e.onCancel?.(C)}},o=()=>{t=!0},u=()=>{t=!1},d=()=>fv.isFocused()&&(e.networkMode==="always"||ym.isOnline())&&e.canRun(),f=()=>mC(e.networkMode)&&e.canRun(),p=_=>{s()||(r?.(),i.resolve(_))},g=_=>{s()||(r?.(),i.reject(_))},y=()=>new Promise(_=>{r=C=>{(s()||d())&&_(C)},e.onPause?.()}).then(()=>{r=void 0,s()||e.onContinue?.()}),b=()=>{if(s())return;let _;const C=n===0?e.initialPromise:void 0;try{_=C??e.fn()}catch(k){_=Promise.reject(k)}Promise.resolve(_).then(p).catch(k=>{if(s())return;const P=e.retry??(Vl?0:3),A=e.retryDelay??jT,U=typeof A=="function"?A(n,k):A,V=P===!0||typeof P=="number"&&n<P||typeof P=="function"&&P(n,k);if(t||!V){g(k);return}n++,e.onFail?.(n,k),yT(U).then(()=>d()?void 0:y()).then(()=>{t?g(k):b()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(r?.(),i),cancelRetry:o,continueRetry:u,canStart:f,start:()=>(f()?b():y().then(b),i)}}var yC=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),B1(this.gcTime)&&(this.#e=Ml.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Vl?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Ml.clearTimeout(this.#e),this.#e=void 0)}},kT=class extends yC{#e;#t;#n;#i;#r;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#n=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=d3(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=d3(this.options);t.data!==void 0&&(this.setState(c3(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=U1(this.state.data,e,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(Xr).catch(Xr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Yi(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===dv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ro(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!hC(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const o=this.observers.find(u=>u.options.queryFn);o&&this.setOptions(o.options)}const n=new AbortController,r=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},i=()=>{const o=pC(this.options,t),d=(()=>{const f={client:this.#i,queryKey:this.queryKey,meta:this.meta};return r(f),f})();return this.#o=!1,this.options.persister?this.options.persister(o,d,this):o(d)},a=(()=>{const o={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:i};return r(o),o})();this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#s({type:"fetch",meta:a.fetchOptions?.meta}),this.#r=gC({initialPromise:t?.initialPromise,fn:a.fetchFn,onCancel:o=>{o instanceof H1&&o.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(o,u)=>{this.#s({type:"failed",failureCount:o,error:u})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{const o=await this.#r.start();if(o===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(o),this.#n.config.onSuccess?.(o,this),this.#n.config.onSettled?.(o,this.state.error,this),o}catch(o){if(o instanceof H1){if(o.silent)return this.#r.promise;if(o.revert){if(this.state.data===void 0)throw o;return this.state.data}}throw this.#s({type:"error",error:o}),this.#n.config.onError?.(o,this),this.#n.config.onSettled?.(this.state.data,o,this),o}finally{this.scheduleGc()}}#s(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...xC(n.data,this.options),fetchMeta:e.meta??null};case"success":const r={...n,...c3(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?r:void 0,r;case"error":const i=e.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),dr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function xC(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:mC(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function c3(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function d3(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ET=class extends Tc{constructor(e,t){super(),this.options=t,this.#e=e,this.#s=null,this.#o=$1(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#i=void 0;#r;#a;#o;#s;#m;#h;#f;#u;#c;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),h3(this.#t,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return V1(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return V1(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Yi(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#t.setOptions(this.options),t._defaulted&&!gm(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&f3(this.#t,n,this.options,t)&&this.#d(),this.updateResult(),r&&(this.#t!==n||Yi(this.options.enabled,this.#t)!==Yi(t.enabled,this.#t)||Ro(this.options.staleTime,this.#t)!==Ro(t.staleTime,this.#t))&&this.#g();const i=this.#y();r&&(this.#t!==n||Yi(this.options.enabled,this.#t)!==Yi(t.enabled,this.#t)||i!==this.#l)&&this.#x(i)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(t,e);return NT(this,n)&&(this.#i=n,this.#a=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#i}trackResult(e,t){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),t?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#d(e){this.#_();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Xr)),t}#g(){this.#b();const e=Ro(this.options.staleTime,this.#t);if(Vl||this.#i.isStale||!B1(e))return;const n=hC(this.#i.dataUpdatedAt,e)+1;this.#u=Ml.setTimeout(()=>{this.#i.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#x(e){this.#w(),this.#l=e,!(Vl||Yi(this.options.enabled,this.#t)===!1||!B1(this.#l)||this.#l===0)&&(this.#c=Ml.setInterval(()=>{(this.options.refetchIntervalInBackground||fv.isFocused())&&this.#d()},this.#l))}#v(){this.#g(),this.#x(this.#y())}#b(){this.#u&&(Ml.clearTimeout(this.#u),this.#u=void 0)}#w(){this.#c&&(Ml.clearInterval(this.#c),this.#c=void 0)}createResult(e,t){const n=this.#t,r=this.options,i=this.#i,s=this.#r,a=this.#a,u=e!==n?e.state:this.#n,{state:d}=e;let f={...d},p=!1,g;if(t._optimisticResults){const B=this.hasListeners(),W=!B&&h3(e,t),F=B&&f3(e,n,t,r);(W||F)&&(f={...f,...xC(d.data,e.options)}),t._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:b,status:_}=f;g=f.data;let C=!1;if(t.placeholderData!==void 0&&g===void 0&&_==="pending"){let B;i?.isPlaceholderData&&t.placeholderData===a?.placeholderData?(B=i.data,C=!0):B=typeof t.placeholderData=="function"?t.placeholderData(this.#f?.state.data,this.#f):t.placeholderData,B!==void 0&&(_="success",g=U1(i?.data,B,t),p=!0)}if(t.select&&g!==void 0&&!C)if(i&&g===s?.data&&t.select===this.#m)g=this.#h;else try{this.#m=t.select,g=t.select(g),g=U1(i?.data,g,t),this.#h=g,this.#s=null}catch(B){this.#s=B}this.#s&&(y=this.#s,g=this.#h,b=Date.now(),_="error");const k=f.fetchStatus==="fetching",P=_==="pending",A=_==="error",U=P&&k,V=g!==void 0,O={status:_,fetchStatus:f.fetchStatus,isPending:P,isSuccess:_==="success",isError:A,isInitialLoading:U,isLoading:U,data:g,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:b,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:k,isRefetching:k&&!P,isLoadingError:A&&!V,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:A&&V,isStale:pv(e,t),refetch:this.refetch,promise:this.#o,isEnabled:Yi(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const B=O.data!==void 0,W=O.status==="error"&&!B,F=xe=>{W?xe.reject(O.error):B&&xe.resolve(O.data)},se=()=>{const xe=this.#o=O.promise=$1();F(xe)},J=this.#o;switch(J.status){case"pending":e.queryHash===n.queryHash&&F(J);break;case"fulfilled":(W||O.data!==J.value)&&se();break;case"rejected":(!W||O.error!==J.reason)&&se();break}}return O}updateResult(){const e=this.#i,t=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#a=this.options,this.#r.data!==void 0&&(this.#f=this.#t),gm(t,e))return;this.#i=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#p.size)return!0;const s=new Set(i??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#i).some(a=>{const o=a;return this.#i[o]!==e[o]&&s.has(o)})};this.#S({listeners:n()})}#_(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#S(e){dr.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function TT(e,t){return Yi(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function h3(e,t){return TT(e,t)||e.state.data!==void 0&&V1(e,t,t.refetchOnMount)}function V1(e,t,n){if(Yi(t.enabled,e)!==!1&&Ro(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&pv(e,t)}return!1}function f3(e,t,n,r){return(e!==t||Yi(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&pv(e,n)}function pv(e,t){return Yi(t.enabled,e)!==!1&&e.isStaleByTime(Ro(t.staleTime,e))}function NT(e,t){return!gm(e.getCurrentResult(),t)}function p3(e){return{onFetch:(t,n)=>{const r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],a=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},u=0;const d=async()=>{let f=!1;const p=b=>{bT(b,()=>t.signal,()=>f=!0)},g=pC(t.options,t.fetchOptions),y=async(b,_,C)=>{if(f)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const P=(()=>{const I={client:t.client,queryKey:t.queryKey,pageParam:_,direction:C?"backward":"forward",meta:t.options.meta};return p(I),I})(),A=await g(P),{maxPages:U}=t.options,V=C?vT:xT;return{pages:V(b.pages,A,U),pageParams:V(b.pageParams,_,U)}};if(i&&s.length){const b=i==="backward",_=b?PT:m3,C={pages:s,pageParams:a},k=_(r,C);o=await y(C,k,b)}else{const b=e??s.length;do{const _=u===0?a[0]??r.initialPageParam:m3(r,o);if(u>0&&_==null)break;o=await y(o,_),u++}while(u<b)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=d}}}function m3(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function PT(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var OT=class extends yC{#e;#t;#n;#i;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||vC(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=gC({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(s,a)=>{this.#r({type:"failed",failureCount:s,error:a})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",i=!this.#i.canStart();try{if(r)t();else{this.#r({type:"pending",variables:e,isPaused:i}),this.#n.config.onMutate&&await this.#n.config.onMutate(e,this,n);const a=await this.options.onMutate?.(e,n);a!==this.state.context&&this.#r({type:"pending",context:a,variables:e,isPaused:i})}const s=await this.#i.start();return await this.#n.config.onSuccess?.(s,e,this.state.context,this,n),await this.options.onSuccess?.(s,e,this.state.context,n),await this.#n.config.onSettled?.(s,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(s,null,e,this.state.context,n),this.#r({type:"success",data:s}),s}catch(s){try{await this.#n.config.onError?.(s,e,this.state.context,this,n)}catch(a){Promise.reject(a)}try{await this.options.onError?.(s,e,this.state.context,n)}catch(a){Promise.reject(a)}try{await this.#n.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this,n)}catch(a){Promise.reject(a)}try{await this.options.onSettled?.(void 0,s,e,this.state.context,n)}catch(a){Promise.reject(a)}throw this.#r({type:"error",error:s}),s}finally{this.#n.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),dr.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function vC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var RT=class extends Tc{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,n){const r=new OT({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#e.add(e);const t=hp(e);if(typeof t=="string"){const n=this.#t.get(t);n?n.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=hp(e);if(typeof t=="string"){const n=this.#t.get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=hp(e);if(typeof t=="string"){const r=this.#t.get(t)?.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=hp(e);return typeof t=="string"?this.#t.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){dr.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>o3(t,n))}findAll(e={}){return this.getAll().filter(t=>o3(e,t))}notify(e){dr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return dr.batch(()=>Promise.all(e.map(t=>t.continue().catch(Xr))))}};function hp(e){return e.options.scope?.id}var AT=class extends Tc{#e;#t=void 0;#n;#i;constructor(t,n){super(),this.#e=t,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#e.defaultMutationOptions(t),gm(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&ql(n.mutationKey)!==ql(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#r(),this.#a(t)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#a()}mutate(t,n){return this.#i=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(t)}#r(){const t=this.#n?.state??vC();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#a(t){dr.batch(()=>{if(this.#i&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(t?.type==="success"){try{this.#i.onSuccess?.(t.data,n,r,i)}catch(s){Promise.reject(s)}try{this.#i.onSettled?.(t.data,null,n,r,i)}catch(s){Promise.reject(s)}}else if(t?.type==="error"){try{this.#i.onError?.(t.error,n,r,i)}catch(s){Promise.reject(s)}try{this.#i.onSettled?.(void 0,t.error,n,r,i)}catch(s){Promise.reject(s)}}}this.listeners.forEach(n=>{n(this.#t)})})}},IT=class extends Tc{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const r=t.queryKey,i=t.queryHash??cv(r,t);let s=this.get(i);return s||(s=new kT({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(s)),s}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){dr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>a3(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>a3(e,n)):t}notify(e){dr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){dr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){dr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},LT=class{#e;#t;#n;#i;#r;#a;#o;#s;constructor(e={}){this.#e=e.queryCache||new IT,this.#t=e.mutationCache||new RT,this.#n=e.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=fv.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=ym.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#e.build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Ro(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=this.#e.get(r.queryHash)?.state.data,a=mT(t,s);if(a!==void 0)return this.#e.build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return dr.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;dr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e;return dr.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=dr.batch(()=>this.#e.findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Xr).catch(Xr)}invalidateQueries(e,t={}){return dr.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=dr.batch(()=>this.#e.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Xr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Xr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(Ro(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Xr).catch(Xr)}fetchInfiniteQuery(e){return e.behavior=p3(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Xr).catch(Xr)}ensureInfiniteQueryData(e){return e.behavior=p3(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ym.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#i.set(ql(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#i.values()],n={};return t.forEach(r=>{oh(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){this.#r.set(ql(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(r=>{oh(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=cv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===dv&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},bC=T.createContext(void 0),$n=e=>{const t=T.useContext(bC);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},DT=({client:e,children:t})=>(T.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx(bC.Provider,{value:e,children:t})),wC=T.createContext(!1),MT=()=>T.useContext(wC);wC.Provider;function FT(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var BT=T.createContext(FT()),zT=()=>T.useContext(BT),UT=(e,t,n)=>{const r=n?.state.error&&typeof e.throwOnError=="function"?hv(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||r)&&(t.isReset()||(e.retryOnMount=!1))},$T=e=>{T.useEffect(()=>{e.clearReset()},[e])},HT=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||hv(n,[e.error,r])),VT=e=>{if(e.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},qT=(e,t)=>e.isLoading&&e.isFetching&&!t,WT=(e,t)=>e?.suspense&&t.isPending,g3=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function QT(e,t,n){const r=MT(),i=zT(),s=$n(),a=s.defaultQueryOptions(e);s.getDefaultOptions().queries?._experimental_beforeQuery?.(a);const o=s.getQueryCache().get(a.queryHash);a._optimisticResults=r?"isRestoring":"optimistic",VT(a),UT(a,i,o),$T(i);const u=!s.getQueryCache().get(a.queryHash),[d]=T.useState(()=>new t(s,a)),f=d.getOptimisticResult(a),p=!r&&e.subscribed!==!1;if(T.useSyncExternalStore(T.useCallback(g=>{const y=p?d.subscribe(dr.batchCalls(g)):Xr;return d.updateResult(),y},[d,p]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),T.useEffect(()=>{d.setOptions(a)},[a,d]),WT(a,f))throw g3(a,d,i);if(HT({result:f,errorResetBoundary:i,throwOnError:a.throwOnError,query:o,suspense:a.suspense}))throw f.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(a,f),a.experimental_prefetchInRender&&!Vl&&qT(f,r)&&(u?g3(a,d,i):o?.promise)?.catch(Xr).finally(()=>{d.updateResult()}),a.notifyOnChangeProps?f:d.trackResult(f)}function Cr(e,t){return QT(e,ET)}function xi(e,t){const n=$n(),[r]=T.useState(()=>new AT(n,e));T.useEffect(()=>{r.setOptions(e)},[r,e]);const i=T.useSyncExternalStore(T.useCallback(a=>r.subscribe(dr.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=T.useCallback((a,o)=>{r.mutate(a,o).catch(Xr)},[r]);if(i.error&&hv(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}var gy={},yy={},xy={},y3;function KT(){return y3||(y3=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];if(typeof window<"u"){var o;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(o=window).gtag.apply(o,s)}},n=t;e.default=n})(xy)),xy}var vy={},x3;function GT(){return x3||(x3=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function n(o){return o.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(u,d,f){return d>0&&d+u.length!==f.length&&u.search(t)>-1&&f.charAt(d-2)!==":"&&(f.charAt(d+u.length)!=="-"||f.charAt(d-1)==="-")&&f.charAt(d-1).search(/[^\s-]/)<0?u.toLowerCase():u.substr(1).search(/[A-Z]|\../)>-1?u:u.charAt(0).toUpperCase()+u.substr(1)})}function r(o){return typeof o=="string"&&o.indexOf("@")!==-1}var i="REDACTED (Potential Email Address)";function s(o){return r(o)?(console.warn("This arg looks like an email address, redacting."),i):o}function a(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,f=o||"";return u&&(f=n(o)),d&&(f=s(f)),f}})(vy)),vy}var v3;function YT(){return v3||(v3=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.GA4=void 0;var t=a(KT()),n=a(GT()),r=["eventCategory","eventAction","eventLabel","eventValue","hitType"],i=["title","location"],s=["page","hitType"];function a(G){return G&&G.__esModule?G:{default:G}}function o(G,$){if(G==null)return{};var ee=u(G,$),Z,X;if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(G);for(X=0;X<pe.length;X++)Z=pe[X],!($.indexOf(Z)>=0)&&Object.prototype.propertyIsEnumerable.call(G,Z)&&(ee[Z]=G[Z])}return ee}function u(G,$){if(G==null)return{};var ee={},Z=Object.keys(G),X,pe;for(pe=0;pe<Z.length;pe++)X=Z[pe],!($.indexOf(X)>=0)&&(ee[X]=G[X]);return ee}function d(G){"@babel/helpers - typeof";return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},d(G)}function f(G){return y(G)||g(G)||P(G)||p()}function p(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g(G){if(typeof Symbol<"u"&&G[Symbol.iterator]!=null||G["@@iterator"]!=null)return Array.from(G)}function y(G){if(Array.isArray(G))return A(G)}function b(G,$){var ee=Object.keys(G);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(G);$&&(Z=Z.filter(function(X){return Object.getOwnPropertyDescriptor(G,X).enumerable})),ee.push.apply(ee,Z)}return ee}function _(G){for(var $=1;$<arguments.length;$++){var ee=arguments[$]!=null?arguments[$]:{};$%2?b(Object(ee),!0).forEach(function(Z){W(G,Z,ee[Z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(ee)):b(Object(ee)).forEach(function(Z){Object.defineProperty(G,Z,Object.getOwnPropertyDescriptor(ee,Z))})}return G}function C(G,$){return V(G)||U(G,$)||P(G,$)||k()}function k(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P(G,$){if(G){if(typeof G=="string")return A(G,$);var ee=Object.prototype.toString.call(G).slice(8,-1);if(ee==="Object"&&G.constructor&&(ee=G.constructor.name),ee==="Map"||ee==="Set")return Array.from(G);if(ee==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ee))return A(G,$)}}function A(G,$){($==null||$>G.length)&&($=G.length);for(var ee=0,Z=new Array($);ee<$;ee++)Z[ee]=G[ee];return Z}function U(G,$){var ee=G==null?null:typeof Symbol<"u"&&G[Symbol.iterator]||G["@@iterator"];if(ee!=null){var Z,X,pe,M,Y=[],ge=!0,H=!1;try{if(pe=(ee=ee.call(G)).next,$!==0)for(;!(ge=(Z=pe.call(ee)).done)&&(Y.push(Z.value),Y.length!==$);ge=!0);}catch(Pe){H=!0,X=Pe}finally{try{if(!ge&&ee.return!=null&&(M=ee.return(),Object(M)!==M))return}finally{if(H)throw X}}return Y}}function V(G){if(Array.isArray(G))return G}function I(G,$){if(!(G instanceof $))throw new TypeError("Cannot call a class as a function")}function O(G,$){for(var ee=0;ee<$.length;ee++){var Z=$[ee];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(G,F(Z.key),Z)}}function B(G,$,ee){return $&&O(G.prototype,$),Object.defineProperty(G,"prototype",{writable:!1}),G}function W(G,$,ee){return $=F($),$ in G?Object.defineProperty(G,$,{value:ee,enumerable:!0,configurable:!0,writable:!0}):G[$]=ee,G}function F(G){var $=se(G,"string");return d($)==="symbol"?$:String($)}function se(G,$){if(d(G)!=="object"||G===null)return G;var ee=G[Symbol.toPrimitive];if(ee!==void 0){var Z=ee.call(G,$);if(d(Z)!=="object")return Z;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(G)}var J=(function(){function G(){var $=this;I(this,G),W(this,"reset",function(){$.isInitialized=!1,$._testMode=!1,$._currentMeasurementId,$._hasLoadedGA=!1,$._isQueuing=!1,$._queueGtag=[]}),W(this,"_gtag",function(){for(var ee=arguments.length,Z=new Array(ee),X=0;X<ee;X++)Z[X]=arguments[X];$._testMode||$._isQueuing?$._queueGtag.push(Z):t.default.apply(void 0,Z)}),W(this,"_loadGA",function(ee,Z){var X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!$._hasLoadedGA){var pe=document.createElement("script");pe.async=!0,pe.src="".concat(X,"?id=").concat(ee),Z&&pe.setAttribute("nonce",Z),document.body.appendChild(pe),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},$._hasLoadedGA=!0}}),W(this,"_toGtagOptions",function(ee){if(ee){var Z={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},X=Object.entries(ee).reduce(function(pe,M){var Y=C(M,2),ge=Y[0],H=Y[1];return Z[ge]?pe[Z[ge]]=H:pe[ge]=H,pe},{});return X}}),W(this,"initialize",function(ee){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ee)throw new Error("Require GA_MEASUREMENT_ID");var X=typeof ee=="string"?[{trackingId:ee}]:ee;$._currentMeasurementId=X[0].trackingId;var pe=Z.gaOptions,M=Z.gtagOptions,Y=Z.nonce,ge=Z.testMode,H=ge===void 0?!1:ge,Pe=Z.gtagUrl;if($._testMode=H,H||$._loadGA($._currentMeasurementId,Y,Pe),$.isInitialized||($._gtag("js",new Date),X.forEach(function(Qe){var Ve=_(_(_({},$._toGtagOptions(_(_({},pe),Qe.gaOptions))),M),Qe.gtagOptions);Object.keys(Ve).length?$._gtag("config",Qe.trackingId,Ve):$._gtag("config",Qe.trackingId)})),$.isInitialized=!0,!H){var ke=f($._queueGtag);for($._queueGtag=[],$._isQueuing=!1;ke.length;){var Ee=ke.shift();$._gtag.apply($,f(Ee)),Ee[0]==="get"&&($._isQueuing=!0)}}}),W(this,"set",function(ee){if(!ee){console.warn("`fieldsObject` is required in .set()");return}if(d(ee)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(ee).length===0&&console.warn("empty `fieldsObject` given to .set()"),$._gaCommand("set",ee)}),W(this,"_gaCommandSendEvent",function(ee,Z,X,pe,M){$._gtag("event",Z,_(_({event_category:ee,event_label:X,value:pe},M&&{non_interaction:M.nonInteraction}),$._toGtagOptions(M)))}),W(this,"_gaCommandSendEventParameters",function(){for(var ee=arguments.length,Z=new Array(ee),X=0;X<ee;X++)Z[X]=arguments[X];if(typeof Z[0]=="string")$._gaCommandSendEvent.apply($,f(Z.slice(1)));else{var pe=Z[0],M=pe.eventCategory,Y=pe.eventAction,ge=pe.eventLabel,H=pe.eventValue;pe.hitType;var Pe=o(pe,r);$._gaCommandSendEvent(M,Y,ge,H,Pe)}}),W(this,"_gaCommandSendTiming",function(ee,Z,X,pe){$._gtag("event","timing_complete",{name:Z,value:X,event_category:ee,event_label:pe})}),W(this,"_gaCommandSendPageview",function(ee,Z){if(Z&&Object.keys(Z).length){var X=$._toGtagOptions(Z),pe=X.title,M=X.location,Y=o(X,i);$._gtag("event","page_view",_(_(_(_({},ee&&{page_path:ee}),pe&&{page_title:pe}),M&&{page_location:M}),Y))}else ee?$._gtag("event","page_view",{page_path:ee}):$._gtag("event","page_view")}),W(this,"_gaCommandSendPageviewParameters",function(){for(var ee=arguments.length,Z=new Array(ee),X=0;X<ee;X++)Z[X]=arguments[X];if(typeof Z[0]=="string")$._gaCommandSendPageview.apply($,f(Z.slice(1)));else{var pe=Z[0],M=pe.page;pe.hitType;var Y=o(pe,s);$._gaCommandSendPageview(M,Y)}}),W(this,"_gaCommandSend",function(){for(var ee=arguments.length,Z=new Array(ee),X=0;X<ee;X++)Z[X]=arguments[X];var pe=typeof Z[0]=="string"?Z[0]:Z[0].hitType;switch(pe){case"event":$._gaCommandSendEventParameters.apply($,Z);break;case"pageview":$._gaCommandSendPageviewParameters.apply($,Z);break;case"timing":$._gaCommandSendTiming.apply($,f(Z.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(pe));break;default:console.warn("Send command doesn't exist: ".concat(pe))}}),W(this,"_gaCommandSet",function(){for(var ee=arguments.length,Z=new Array(ee),X=0;X<ee;X++)Z[X]=arguments[X];typeof Z[0]=="string"&&(Z[0]=W({},Z[0],Z[1])),$._gtag("set",$._toGtagOptions(Z[0]))}),W(this,"_gaCommand",function(ee){for(var Z=arguments.length,X=new Array(Z>1?Z-1:0),pe=1;pe<Z;pe++)X[pe-1]=arguments[pe];switch(ee){case"send":$._gaCommandSend.apply($,X);break;case"set":$._gaCommandSet.apply($,X);break;default:console.warn("Command doesn't exist: ".concat(ee))}}),W(this,"ga",function(){for(var ee=arguments.length,Z=new Array(ee),X=0;X<ee;X++)Z[X]=arguments[X];if(typeof Z[0]=="string")$._gaCommand.apply($,Z);else{var pe=Z[0];$._gtag("get",$._currentMeasurementId,"client_id",function(M){$._isQueuing=!1;var Y=$._queueGtag;for(pe({get:function(Pe){return Pe==="clientId"?M:Pe==="trackingId"?$._currentMeasurementId:Pe==="apiVersion"?"1":void 0}});Y.length;){var ge=Y.shift();$._gtag.apply($,f(ge))}}),$._isQueuing=!0}return $.ga}),W(this,"event",function(ee,Z){if(typeof ee=="string")$._gtag("event",ee,$._toGtagOptions(Z));else{var X=ee.action,pe=ee.category,M=ee.label,Y=ee.value,ge=ee.nonInteraction,H=ee.transport;if(!pe||!X){console.warn("args.category AND args.action are required in event()");return}var Pe={hitType:"event",eventCategory:(0,n.default)(pe),eventAction:(0,n.default)(X)};M&&(Pe.eventLabel=(0,n.default)(M)),typeof Y<"u"&&(typeof Y!="number"?console.warn("Expected `args.value` arg to be a Number."):Pe.eventValue=Y),typeof ge<"u"&&(typeof ge!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):Pe.nonInteraction=ge),typeof H<"u"&&(typeof H!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(H)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),Pe.transport=H)),$._gaCommand("send",Pe)}}),W(this,"send",function(ee){$._gaCommand("send",ee)}),this.reset()}return B(G,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),G})();e.GA4=J;var xe=new J;e.default=xe})(yy)),yy}var b3;function JT(){return b3||(b3=1,(function(e){function t(o){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},t(o)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ReactGAImplementation=void 0;var n=i(YT());function r(o){if(typeof WeakMap!="function")return null;var u=new WeakMap,d=new WeakMap;return(r=function(p){return p?d:u})(o)}function i(o,u){if(o&&o.__esModule)return o;if(o===null||t(o)!=="object"&&typeof o!="function")return{default:o};var d=r(u);if(d&&d.has(o))return d.get(o);var f={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in o)if(g!=="default"&&Object.prototype.hasOwnProperty.call(o,g)){var y=p?Object.getOwnPropertyDescriptor(o,g):null;y&&(y.get||y.set)?Object.defineProperty(f,g,y):f[g]=o[g]}return f.default=o,d&&d.set(o,f),f}var s=n.GA4;e.ReactGAImplementation=s;var a=n.default;e.default=a})(gy)),gy}JT();const Kd="8.55.0",Aa=globalThis;function mv(e,t,n){const r=n||Aa,i=r.__SENTRY__=r.__SENTRY__||{},s=i[Kd]=i[Kd]||{};return s[e]||(s[e]=t())}const _C=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,XT="Sentry Logger ",w3=["debug","info","warn","error","log","assert","trace"],_3={};function ZT(e){if(!("console"in Aa))return e();const t=Aa.console,n={},r=Object.keys(_3);r.forEach(i=>{const s=_3[i];n[i]=t[i],t[i]=s});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function eN(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return _C?w3.forEach(n=>{t[n]=(...r)=>{e&&ZT(()=>{Aa.console[n](`${XT}[${n}]:`,...r)})}}):w3.forEach(n=>{t[n]=()=>{}}),t}const sm=mv("logger",eN);function SC(){return gv(Aa),Aa}function gv(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Kd,t[Kd]=t[Kd]||{}}const tN=Object.prototype.toString;function nN(e,t){return tN.call(e)===`[object ${t}]`}function rN(e){return nN(e,"Object")}function iN(e){return!!(e&&e.then&&typeof e.then=="function")}function sN(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{_C&&sm.log(`Failed to add non-enumerable property "${t}" to object`,e)}}const CC=1e3;function jC(){return Date.now()/CC}function aN(){const{performance:e}=Aa;if(!e||!e.now)return jC;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/CC}const oN=aN();(()=>{const{performance:e}=Aa;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=i<t,a=e.timing&&e.timing.navigationStart,u=typeof a=="number"?Math.abs(a+n-r):t,d=u<t;return s||d?i<=u?e.timeOrigin:a:r})();function hc(){const e=Aa,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function lN(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||oN(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:hc()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function S3(){return hc()}function C3(){return hc().substring(16)}function kC(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const r={...e};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=kC(r[i],t[i],n-1));return r}const q1="_sentrySpan";function j3(e,t){t?sN(e,q1,t):delete e[q1]}function k3(e){return e[q1]}const uN=100;class yv{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:S3(),spanId:C3()}}clone(){const t=new yv;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,j3(t,k3(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&lN(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,i]=n instanceof vc?[n.getScopeData(),n.getRequestSession()]:rN(n)?[t,t.requestSession]:[],{tags:s,extra:a,user:o,contexts:u,level:d,fingerprint:f=[],propagationContext:p}=r||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...a},this._contexts={...this._contexts,...u},o&&Object.keys(o).length&&(this._user=o),d&&(this._level=d),f.length&&(this._fingerprint=f),p&&(this._propagationContext=p),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,j3(this,void 0),this._attachments=[],this.setPropagationContext({traceId:S3()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:uN;if(r<=0)return this;const i={timestamp:jC(),...t};return this._breadcrumbs.push(i),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:k3(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=kC(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:C3(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:hc();if(!this._client)return sm.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r&&r.event_id?r.event_id:hc();if(!this._client)return sm.warn("No client configured on scope - will not capture message!"),i;const s=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i},this),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:hc();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(sm.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const vc=yv;function cN(){return mv("defaultCurrentScope",()=>new vc)}function dN(){return mv("defaultIsolationScope",()=>new vc)}class hN{constructor(t,n){let r;t?r=t:r=new vc;let i;n?i=n:i=new vc,this._stack=[{scope:r}],this._isolationScope=i}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(i){throw this._popScope(),i}return iN(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function bc(){const e=SC(),t=gv(e);return t.stack=t.stack||new hN(cN(),dN())}function fN(e){return bc().withScope(e)}function pN(e,t){const n=bc();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function E3(e){return bc().withScope(()=>e(bc().getIsolationScope()))}function mN(){return{withIsolationScope:E3,withScope:fN,withSetScope:pN,withSetIsolationScope:(e,t)=>E3(t),getCurrentScope:()=>bc().getScope(),getIsolationScope:()=>bc().getIsolationScope()}}function gN(e){const t=gv(e);return t.acs?t.acs:mN()}function yN(){const e=SC();return gN(e).getCurrentScope()}function xN(e){if(e)return vN(e)?{captureContext:e}:wN(e)?{captureContext:e}:e}function vN(e){return e instanceof vc||typeof e=="function"}const bN=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function wN(e){return Object.keys(e).some(t=>bN.includes(t))}function _N(e,t){return yN().captureException(e,xN(t))}var by={exports:{}},wy,T3;function SN(){if(T3)return wy;T3=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return wy=e,wy}var _y,N3;function CN(){if(N3)return _y;N3=1;var e=SN();function t(){}function n(){}return n.resetWarningCache=t,_y=function(){function r(a,o,u,d,f,p){if(p!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},_y}var P3;function jN(){return P3||(P3=1,by.exports=CN()()),by.exports}var kN=jN();const Ot=ts(kN);var Sy,O3;function EN(){if(O3)return Sy;O3=1;function e(o){return o&&typeof o=="object"&&"default"in o?o.default:o}var t=Gm(),n=e(t);function r(o,u,d){return u in o?Object.defineProperty(o,u,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[u]=d,o}function i(o,u){o.prototype=Object.create(u.prototype),o.prototype.constructor=o,o.__proto__=u}var s=!!(typeof window<"u"&&window.document&&window.document.createElement);function a(o,u,d){if(typeof o!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof u!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof d<"u"&&typeof d!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function f(p){return p.displayName||p.name||"Component"}return function(g){if(typeof g!="function")throw new Error("Expected WrappedComponent to be a React component.");var y=[],b;function _(){b=o(y.map(function(k){return k.props})),C.canUseDOM?u(b):d&&(b=d(b))}var C=(function(k){i(P,k);function P(){return k.apply(this,arguments)||this}P.peek=function(){return b},P.rewind=function(){if(P.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var V=b;return b=void 0,y=[],V};var A=P.prototype;return A.UNSAFE_componentWillMount=function(){y.push(this),_()},A.componentDidUpdate=function(){_()},A.componentWillUnmount=function(){var V=y.indexOf(this);y.splice(V,1),_()},A.render=function(){return n.createElement(g,this.props)},P})(t.PureComponent);return r(C,"displayName","SideEffect("+f(g)+")"),r(C,"canUseDOM",s),C}}return Sy=a,Sy}var TN=EN();const NN=ts(TN);var Cy,R3;function PN(){if(R3)return Cy;R3=1;var e=typeof Element<"u",t=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(s,a){if(s===a)return!0;if(s&&a&&typeof s=="object"&&typeof a=="object"){if(s.constructor!==a.constructor)return!1;var o,u,d;if(Array.isArray(s)){if(o=s.length,o!=a.length)return!1;for(u=o;u--!==0;)if(!i(s[u],a[u]))return!1;return!0}var f;if(t&&s instanceof Map&&a instanceof Map){if(s.size!==a.size)return!1;for(f=s.entries();!(u=f.next()).done;)if(!a.has(u.value[0]))return!1;for(f=s.entries();!(u=f.next()).done;)if(!i(u.value[1],a.get(u.value[0])))return!1;return!0}if(n&&s instanceof Set&&a instanceof Set){if(s.size!==a.size)return!1;for(f=s.entries();!(u=f.next()).done;)if(!a.has(u.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(a)){if(o=s.length,o!=a.length)return!1;for(u=o;u--!==0;)if(s[u]!==a[u])return!1;return!0}if(s.constructor===RegExp)return s.source===a.source&&s.flags===a.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof a.valueOf=="function")return s.valueOf()===a.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof a.toString=="function")return s.toString()===a.toString();if(d=Object.keys(s),o=d.length,o!==Object.keys(a).length)return!1;for(u=o;u--!==0;)if(!Object.prototype.hasOwnProperty.call(a,d[u]))return!1;if(e&&s instanceof Element)return!1;for(u=o;u--!==0;)if(!((d[u]==="_owner"||d[u]==="__v"||d[u]==="__o")&&s.$$typeof)&&!i(s[d[u]],a[d[u]]))return!1;return!0}return s!==s&&a!==a}return Cy=function(a,o){try{return i(a,o)}catch(u){if((u.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw u}},Cy}var ON=PN();const RN=ts(ON);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var jy,A3;function AN(){if(A3)return jy;A3=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function i(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var a={},o=0;o<10;o++)a["_"+String.fromCharCode(o)]=o;var u=Object.getOwnPropertyNames(a).map(function(f){return a[f]});if(u.join("")!=="0123456789")return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach(function(f){d[f]=f}),Object.keys(Object.assign({},d)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return jy=i()?Object.assign:function(s,a){for(var o,u=r(s),d,f=1;f<arguments.length;f++){o=Object(arguments[f]);for(var p in o)t.call(o,p)&&(u[p]=o[p]);if(e){d=e(o);for(var g=0;g<d.length;g++)n.call(o,d[g])&&(u[d[g]]=o[d[g]])}}return u},jy}var IN=AN();const LN=ts(IN);var Ul={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Et={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Et).map(function(e){return Et[e]});var kn={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},xm={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},lh={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},DN=Object.keys(xm).reduce(function(e,t){return e[xm[t]]=t,e},{}),MN=[Et.NOSCRIPT,Et.SCRIPT,Et.STYLE],js="data-react-helmet",FN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BN=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},zN=(function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),ui=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UN=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},I3=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},$N=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},W1=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},HN=function(t){var n=fc(t,Et.TITLE),r=fc(t,lh.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=fc(t,lh.DEFAULT_TITLE);return n||i||void 0},VN=function(t){return fc(t,lh.ON_CHANGE_CLIENT_STATE)||function(){}},ky=function(t,n){return n.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,i){return ui({},r,i)},{})},qN=function(t,n){return n.filter(function(r){return typeof r[Et.BASE]<"u"}).map(function(r){return r[Et.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),a=0;a<s.length;a++){var o=s[a],u=o.toLowerCase();if(t.indexOf(u)!==-1&&i[u])return r.concat(i)}return r},[])},_d=function(t,n,r){var i={};return r.filter(function(s){return Array.isArray(s[t])?!0:(typeof s[t]<"u"&&GN("Helmet: "+t+' should be of type "Array". Instead found type "'+FN(s[t])+'"'),!1)}).map(function(s){return s[t]}).reverse().reduce(function(s,a){var o={};a.filter(function(g){for(var y=void 0,b=Object.keys(g),_=0;_<b.length;_++){var C=b[_],k=C.toLowerCase();n.indexOf(k)!==-1&&!(y===kn.REL&&g[y].toLowerCase()==="canonical")&&!(k===kn.REL&&g[k].toLowerCase()==="stylesheet")&&(y=k),n.indexOf(C)!==-1&&(C===kn.INNER_HTML||C===kn.CSS_TEXT||C===kn.ITEM_PROP)&&(y=C)}if(!y||!g[y])return!1;var P=g[y].toLowerCase();return i[y]||(i[y]={}),o[y]||(o[y]={}),i[y][P]?!1:(o[y][P]=!0,!0)}).reverse().forEach(function(g){return s.push(g)});for(var u=Object.keys(o),d=0;d<u.length;d++){var f=u[d],p=LN({},i[f],o[f]);i[f]=p}return s},[]).reverse()},fc=function(t,n){for(var r=t.length-1;r>=0;r--){var i=t[r];if(i.hasOwnProperty(n))return i[n]}return null},WN=function(t){return{baseTag:qN([kn.HREF,kn.TARGET],t),bodyAttributes:ky(Ul.BODY,t),defer:fc(t,lh.DEFER),encode:fc(t,lh.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:ky(Ul.HTML,t),linkTags:_d(Et.LINK,[kn.REL,kn.HREF],t),metaTags:_d(Et.META,[kn.NAME,kn.CHARSET,kn.HTTPEQUIV,kn.PROPERTY,kn.ITEM_PROP],t),noscriptTags:_d(Et.NOSCRIPT,[kn.INNER_HTML],t),onChangeClientState:VN(t),scriptTags:_d(Et.SCRIPT,[kn.SRC,kn.INNER_HTML],t),styleTags:_d(Et.STYLE,[kn.CSS_TEXT],t),title:HN(t),titleAttributes:ky(Ul.TITLE,t)}},Q1=(function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){Q1(t)},0)}})(),L3=function(t){return clearTimeout(t)},QN=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Q1:global.requestAnimationFrame||Q1,KN=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||L3:global.cancelAnimationFrame||L3,GN=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},Sd=null,YN=function(t){Sd&&KN(Sd),t.defer?Sd=QN(function(){D3(t,function(){Sd=null})}):(D3(t),Sd=null)},D3=function(t,n){var r=t.baseTag,i=t.bodyAttributes,s=t.htmlAttributes,a=t.linkTags,o=t.metaTags,u=t.noscriptTags,d=t.onChangeClientState,f=t.scriptTags,p=t.styleTags,g=t.title,y=t.titleAttributes;K1(Et.BODY,i),K1(Et.HTML,s),JN(g,y);var b={baseTag:Du(Et.BASE,r),linkTags:Du(Et.LINK,a),metaTags:Du(Et.META,o),noscriptTags:Du(Et.NOSCRIPT,u),scriptTags:Du(Et.SCRIPT,f),styleTags:Du(Et.STYLE,p)},_={},C={};Object.keys(b).forEach(function(k){var P=b[k],A=P.newTags,U=P.oldTags;A.length&&(_[k]=A),U.length&&(C[k]=b[k].oldTags)}),n&&n(),d(t,_,C)},EC=function(t){return Array.isArray(t)?t.join(""):t},JN=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=EC(t)),K1(Et.TITLE,n)},K1=function(t,n){var r=document.getElementsByTagName(t)[0];if(r){for(var i=r.getAttribute(js),s=i?i.split(","):[],a=[].concat(s),o=Object.keys(n),u=0;u<o.length;u++){var d=o[u],f=n[d]||"";r.getAttribute(d)!==f&&r.setAttribute(d,f),s.indexOf(d)===-1&&s.push(d);var p=a.indexOf(d);p!==-1&&a.splice(p,1)}for(var g=a.length-1;g>=0;g--)r.removeAttribute(a[g]);s.length===a.length?r.removeAttribute(js):r.getAttribute(js)!==o.join(",")&&r.setAttribute(js,o.join(","))}},Du=function(t,n){var r=document.head||document.querySelector(Et.HEAD),i=r.querySelectorAll(t+"["+js+"]"),s=Array.prototype.slice.call(i),a=[],o=void 0;return n&&n.length&&n.forEach(function(u){var d=document.createElement(t);for(var f in u)if(u.hasOwnProperty(f))if(f===kn.INNER_HTML)d.innerHTML=u.innerHTML;else if(f===kn.CSS_TEXT)d.styleSheet?d.styleSheet.cssText=u.cssText:d.appendChild(document.createTextNode(u.cssText));else{var p=typeof u[f]>"u"?"":u[f];d.setAttribute(f,p)}d.setAttribute(js,"true"),s.some(function(g,y){return o=y,d.isEqualNode(g)})?s.splice(o,1):a.push(d)}),s.forEach(function(u){return u.parentNode.removeChild(u)}),a.forEach(function(u){return r.appendChild(u)}),{oldTags:s,newTags:a}},TC=function(t){return Object.keys(t).reduce(function(n,r){var i=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return n?n+" "+i:i},"")},XN=function(t,n,r,i){var s=TC(r),a=EC(n);return s?"<"+t+" "+js+'="true" '+s+">"+W1(a,i)+"</"+t+">":"<"+t+" "+js+'="true">'+W1(a,i)+"</"+t+">"},ZN=function(t,n,r){return n.reduce(function(i,s){var a=Object.keys(s).filter(function(d){return!(d===kn.INNER_HTML||d===kn.CSS_TEXT)}).reduce(function(d,f){var p=typeof s[f]>"u"?f:f+'="'+W1(s[f],r)+'"';return d?d+" "+p:p},""),o=s.innerHTML||s.cssText||"",u=MN.indexOf(t)===-1;return i+"<"+t+" "+js+'="true" '+a+(u?"/>":">"+o+"</"+t+">")},"")},NC=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[xm[i]||i]=t[i],r},n)},eP=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[DN[i]||i]=t[i],r},n)},tP=function(t,n,r){var i,s=(i={key:n},i[js]=!0,i),a=NC(r,s);return[rn.createElement(Et.TITLE,a,n)]},nP=function(t,n){return n.map(function(r,i){var s,a=(s={key:i},s[js]=!0,s);return Object.keys(r).forEach(function(o){var u=xm[o]||o;if(u===kn.INNER_HTML||u===kn.CSS_TEXT){var d=r.innerHTML||r.cssText;a.dangerouslySetInnerHTML={__html:d}}else a[u]=r[o]}),rn.createElement(t,a)})},wa=function(t,n,r){switch(t){case Et.TITLE:return{toComponent:function(){return tP(t,n.title,n.titleAttributes)},toString:function(){return XN(t,n.title,n.titleAttributes,r)}};case Ul.BODY:case Ul.HTML:return{toComponent:function(){return NC(n)},toString:function(){return TC(n)}};default:return{toComponent:function(){return nP(t,n)},toString:function(){return ZN(t,n,r)}}}},PC=function(t){var n=t.baseTag,r=t.bodyAttributes,i=t.encode,s=t.htmlAttributes,a=t.linkTags,o=t.metaTags,u=t.noscriptTags,d=t.scriptTags,f=t.styleTags,p=t.title,g=p===void 0?"":p,y=t.titleAttributes;return{base:wa(Et.BASE,n,i),bodyAttributes:wa(Ul.BODY,r,i),htmlAttributes:wa(Ul.HTML,s,i),link:wa(Et.LINK,a,i),meta:wa(Et.META,o,i),noscript:wa(Et.NOSCRIPT,u,i),script:wa(Et.SCRIPT,d,i),style:wa(Et.STYLE,f,i),title:wa(Et.TITLE,{title:g,titleAttributes:y},i)}},rP=function(t){var n,r;return r=n=(function(i){UN(s,i);function s(){return BN(this,s),$N(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(o){return!RN(this.props,o)},s.prototype.mapNestedChildrenToProps=function(o,u){if(!u)return null;switch(o.type){case Et.SCRIPT:case Et.NOSCRIPT:return{innerHTML:u};case Et.STYLE:return{cssText:u}}throw new Error("<"+o.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(o){var u,d=o.child,f=o.arrayTypeChildren,p=o.newChildProps,g=o.nestedChildren;return ui({},f,(u={},u[d.type]=[].concat(f[d.type]||[],[ui({},p,this.mapNestedChildrenToProps(d,g))]),u))},s.prototype.mapObjectTypeChildren=function(o){var u,d,f=o.child,p=o.newProps,g=o.newChildProps,y=o.nestedChildren;switch(f.type){case Et.TITLE:return ui({},p,(u={},u[f.type]=y,u.titleAttributes=ui({},g),u));case Et.BODY:return ui({},p,{bodyAttributes:ui({},g)});case Et.HTML:return ui({},p,{htmlAttributes:ui({},g)})}return ui({},p,(d={},d[f.type]=ui({},g),d))},s.prototype.mapArrayTypeChildrenToProps=function(o,u){var d=ui({},u);return Object.keys(o).forEach(function(f){var p;d=ui({},d,(p={},p[f]=o[f],p))}),d},s.prototype.warnOnInvalidChildren=function(o,u){return!0},s.prototype.mapChildrenToProps=function(o,u){var d=this,f={};return rn.Children.forEach(o,function(p){if(!(!p||!p.props)){var g=p.props,y=g.children,b=I3(g,["children"]),_=eP(b);switch(d.warnOnInvalidChildren(p,y),p.type){case Et.LINK:case Et.META:case Et.NOSCRIPT:case Et.SCRIPT:case Et.STYLE:f=d.flattenArrayTypeChildren({child:p,arrayTypeChildren:f,newChildProps:_,nestedChildren:y});break;default:u=d.mapObjectTypeChildren({child:p,newProps:u,newChildProps:_,nestedChildren:y});break}}}),u=this.mapArrayTypeChildrenToProps(f,u),u},s.prototype.render=function(){var o=this.props,u=o.children,d=I3(o,["children"]),f=ui({},d);return u&&(f=this.mapChildrenToProps(u,f)),rn.createElement(t,f)},zN(s,null,[{key:"canUseDOM",set:function(o){t.canUseDOM=o}}]),s})(rn.Component),n.propTypes={base:Ot.object,bodyAttributes:Ot.object,children:Ot.oneOfType([Ot.arrayOf(Ot.node),Ot.node]),defaultTitle:Ot.string,defer:Ot.bool,encodeSpecialCharacters:Ot.bool,htmlAttributes:Ot.object,link:Ot.arrayOf(Ot.object),meta:Ot.arrayOf(Ot.object),noscript:Ot.arrayOf(Ot.object),onChangeClientState:Ot.func,script:Ot.arrayOf(Ot.object),style:Ot.arrayOf(Ot.object),title:Ot.string,titleAttributes:Ot.object,titleTemplate:Ot.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var i=t.rewind();return i||(i=PC({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},iP=function(){return null},sP=NN(WN,YN,PC)(iP),Un=rP(sP);Un.renderStatic=Un.rewind;const xv=e=>T.createElement("svg",{width:240,height:240,viewBox:"0 0 240 240",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M35.0767 27.9936C36.2709 9.99373 56.1517 -0.303892 71.5425 9.10587L213.791 96.0756C231.278 106.768 228.18 133.047 208.685 139.378L169.934 151.963L186.77 185.839C193.06 198.497 187.616 213.848 174.755 219.712L148.361 231.747C136.289 237.252 122.02 232.368 115.853 220.621L96.5356 183.827L61.2319 205.402C44.6261 215.55 23.4817 202.753 24.77 183.334L35.0767 27.9936Z",fill:"#047CFE"}),T.createElement("ellipse",{cx:81.7143,cy:99.4285,rx:9.71429,ry:13.7143,fill:"white"}),T.createElement("path",{d:"M144 99.4285C144 107.003 139.651 113.143 134.286 113.143C128.921 113.143 124.571 107.003 124.571 99.4285C124.571 91.8543 128.921 85.7142 134.286 85.7142C139.651 85.7142 144 91.8543 144 99.4285Z",fill:"white"}),T.createElement("path",{d:"M86.7687 125.246C88.6759 123.021 92.0636 122.863 94.1695 124.901L99.9237 130.47C104.528 134.926 111.74 135.226 116.699 131.169L123.261 125.8C125.281 124.147 128.239 124.354 130.009 126.272V126.272C131.991 128.419 131.682 131.81 129.344 133.563L122.999 138.322C122.524 138.678 122.024 138.999 121.502 139.281L118.258 141.039C112.227 144.305 104.944 144.254 98.9601 140.903L95.3516 138.883C94.6427 138.486 93.973 138.022 93.3515 137.499L87.3544 132.449C85.1919 130.628 84.9288 127.393 86.7687 125.246V125.246Z",fill:"white"})),OC=e=>T.createElement("svg",{id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"100%",viewBox:"740 350 700 190",enableBackground:"new 0 0 1506 862",xmlSpace:"preserve",...e},T.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M766.615112,463.466736 C775.870483,435.054810 785.533081,407.176788 793.924072,378.921143 C799.456543,360.291321 821.375366,357.141083 832.881592,364.663513 C838.142395,368.102875 840.908264,372.891174 842.764648,378.570496 C853.528076,411.499817 864.314026,444.421814 875.109436,477.340668 C878.939270,489.019165 882.817444,500.681793 886.885071,512.991760 C873.401611,512.991760 860.604980,513.082825 847.814941,512.834106 C846.683838,512.812195 845.029419,510.751434 844.583618,509.333893 C842.385803,502.345581 840.389465,495.286346 838.588135,488.184601 C837.875916,485.376556 836.496521,484.498810 833.699890,484.534851 C823.536499,484.665802 813.369263,484.669006 803.205994,484.533264 C800.346008,484.495056 799.085388,485.557281 798.384705,488.289246 C796.564392,495.386353 794.554382,502.439484 792.396301,509.441223 C791.983948,510.779236 790.565674,512.800781 789.581299,512.818420 C776.821838,513.046875 764.056885,512.969788 750.549133,512.969788 C756.023682,496.088989 761.252869,479.964600 766.615112,463.466736 M816.931274,421.410614 C814.112549,431.575104 811.293823,441.739594 808.392944,452.200287 C815.599854,452.200287 821.902649,452.200287 828.658752,452.200287 C825.389221,440.483582 822.289490,429.375366 818.869080,417.118134 C817.911804,419.080017 817.519409,419.884216 816.931274,421.410614 z"}),T.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M897.499634,440.999878 C897.503479,420.519745 897.488831,400.539612 897.519775,380.559540 C897.531799,372.795044 900.376282,366.496521 907.660461,363.030640 C915.127136,359.477966 922.528442,359.846069 929.464539,364.563080 C935.259399,368.503876 937.055176,374.335907 937.048035,381.039062 C937.015198,411.841675 937.034424,442.644379 937.040466,473.447052 C937.041748,480.073792 937.052368,480.081238 943.492004,480.087067 C954.814026,480.097321 966.136658,480.028900 977.457947,480.122711 C987.208801,480.203491 993.256531,486.339630 993.423340,496.088531 C993.591736,505.931396 987.323730,512.874146 977.673828,512.951233 C959.526672,513.096191 941.377319,512.994263 923.229065,512.925903 C921.079651,512.917786 918.917908,512.564026 916.785522,512.222961 C904.801392,510.306244 898.913025,504.603821 898.202148,492.417206 C897.427734,479.139282 897.678284,465.801117 897.506409,452.488892 C897.459106,448.826477 897.499329,445.162903 897.499634,440.999878 z"}),T.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1040.002319,513.009888 C1032.386597,512.472046 1025.194824,512.401672 1018.174561,511.268555 C1010.726318,510.066406 1006.177002,504.925751 1004.404785,497.720428 C1003.459595,493.877228 1002.968811,489.824890 1002.956421,485.864838 C1002.846130,450.709564 1002.826050,415.553650 1002.916931,380.398285 C1002.954224,365.950378 1016.559753,356.896027 1030.130249,362.060669 C1038.365479,365.194824 1042.187012,370.979767 1042.201660,380.770782 C1042.247070,411.094543 1042.204346,441.418396 1042.235718,471.742188 C1042.245239,480.981537 1041.247803,480.051331 1050.482178,480.082153 C1061.312012,480.118286 1072.142578,480.025299 1082.971680,480.121033 C1092.570557,480.205902 1098.845581,486.620514 1098.907471,496.184052 C1098.970459,505.922485 1092.541992,512.866394 1082.988037,512.962402 C1068.827148,513.104797 1054.663940,513.006042 1040.002319,513.009888 z"}),T.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1105.599854,424.091034 C1105.678223,419.273590 1105.675537,414.939514 1105.848022,410.612366 C1106.679688,389.750092 1118.775146,372.818024 1138.406616,365.732941 C1156.549072,359.185303 1175.012329,358.583527 1193.188843,365.323273 C1198.110229,367.148071 1202.772949,370.721100 1206.466431,374.543121 C1211.164673,379.404846 1211.106934,386.678192 1207.716797,392.221375 C1204.392090,397.657684 1197.251099,400.903137 1190.883667,399.580627 C1188.301636,399.044403 1185.815430,397.977692 1183.339355,397.013916 C1175.530396,393.974335 1167.541260,392.816956 1159.379639,395.154175 C1150.777954,397.617371 1145.223511,403.980804 1145.017212,412.911163 C1144.628296,429.729340 1144.585449,446.570526 1145.007446,463.386902 C1145.269531,473.829987 1153.125732,481.281250 1163.625244,482.137146 C1171.722046,482.797241 1179.477173,481.553802 1186.986572,478.140991 C1190.366577,476.604889 1194.360962,475.323792 1197.962524,475.572998 C1209.802612,476.392456 1216.308594,490.454346 1208.927490,499.752319 C1205.559448,503.994965 1200.648315,507.757538 1195.646484,509.828613 C1174.556763,518.560974 1153.221802,518.122009 1132.727783,508.061493 C1115.403931,499.557190 1106.508057,484.852997 1105.894775,465.561035 C1105.460938,451.910522 1105.674927,438.239471 1105.599854,424.091034 z"}),T.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1320.434326,500.172791 C1317.639038,509.503052 1313.229980,512.955139 1304.061890,512.987305 C1286.908081,513.047424 1269.753784,513.003906 1252.599731,512.992737 C1251.268433,512.991882 1249.933105,512.956604 1248.606323,512.853210 C1231.926514,511.553131 1225.143188,504.528259 1225.061279,487.516205 C1224.887939,451.543427 1224.944946,415.569183 1225.023804,379.595795 C1225.048584,368.329468 1233.036743,360.816620 1244.539917,360.809937 C1256.112671,360.803192 1264.062378,368.157135 1264.114258,379.536163 C1264.256104,410.679382 1264.172607,441.823578 1264.180786,472.967407 C1264.182617,480.081787 1264.187012,480.085663 1271.141602,480.088776 C1281.967041,480.093628 1292.792480,480.061768 1303.617798,480.102203 C1315.913452,480.148132 1322.019409,487.278107 1320.434326,500.172791 z"}),T.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1378.000000,513.014893 C1368.192139,512.765503 1358.816406,513.130859 1349.593384,512.112854 C1337.746338,510.805237 1332.660767,505.204010 1330.947388,493.507568 C1330.538574,490.717987 1330.280029,487.878601 1330.276367,485.061737 C1330.230103,450.432434 1330.286133,415.802979 1330.212158,381.173767 C1330.194580,372.958893 1332.967651,366.428131 1340.685059,362.882050 C1348.394409,359.339600 1355.924683,359.980255 1362.863892,365.047699 C1368.391602,369.084473 1369.760742,374.936981 1369.757690,381.368835 C1369.743286,412.002502 1369.751465,442.636139 1369.756226,473.269806 C1369.757324,480.076080 1369.766113,480.079834 1376.503418,480.083557 C1387.658081,480.089752 1398.813110,480.033844 1409.967285,480.110382 C1420.152832,480.180267 1426.172729,486.207733 1426.218872,496.197205 C1426.266479,506.515289 1420.200684,512.875610 1409.966064,512.983093 C1399.478394,513.093262 1388.988770,513.012207 1378.000000,513.014893 z"})),aP=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M4 11.5L3.515 11.621C3.08232 11.7292 2.69821 11.9788 2.4237 12.3303C2.1492 12.6818 2.00007 13.115 2 13.561V15.438C2.00007 15.884 2.1492 16.3172 2.4237 16.6687C2.69821 17.0202 3.08232 17.2698 3.515 17.378L5.255 17.813C5.34342 17.835 5.43569 17.8366 5.52481 17.8177C5.61393 17.7987 5.69757 17.7597 5.76937 17.7036C5.84118 17.6475 5.89926 17.5758 5.93922 17.4939C5.97918 17.412 5.99997 17.3221 6 17.231V11.768C6.00001 11.6768 5.97921 11.5868 5.93919 11.5048C5.89918 11.4228 5.84099 11.351 5.76907 11.2949C5.69714 11.2388 5.61337 11.1998 5.52412 11.1809C5.43486 11.1621 5.34248 11.1638 5.254 11.186L4 11.5ZM4 11.5V11C4 8.87827 4.84285 6.84344 6.34315 5.34315C7.84344 3.84285 9.87827 3 12 3C14.1217 3 16.1566 3.84285 17.6569 5.34315C19.1571 6.84344 20 8.87827 20 11V11.5M20 11.5L20.485 11.621C20.9177 11.7292 21.3018 11.9788 21.5763 12.3303C21.8508 12.6818 21.9999 13.115 22 13.561V15.438C21.9999 15.884 21.8508 16.3172 21.5763 16.6687C21.3018 17.0202 20.9177 17.2698 20.485 17.378L20 17.5M20 11.5L18.745 11.186C18.6566 11.164 18.5643 11.1624 18.4752 11.1813C18.3861 11.2003 18.3024 11.2393 18.2306 11.2954C18.1588 11.3515 18.1007 11.4232 18.0608 11.5051C18.0208 11.587 18 11.6769 18 11.768V17.231C18 17.3221 18.0208 17.412 18.0608 17.4939C18.1007 17.5758 18.1588 17.6475 18.2306 17.7036C18.3024 17.7597 18.3861 17.7987 18.4752 17.8177C18.5643 17.8366 18.6566 17.835 18.745 17.813L20 17.5M20 17.5V18.5C20 19.0304 19.7893 19.5391 19.4142 19.9142C19.0391 20.2893 18.5304 20.5 18 20.5H15M15 20.5C15 20.1022 14.842 19.7206 14.5607 19.4393C14.2794 19.158 13.8978 19 13.5 19H10.5C10.1022 19 9.72064 19.158 9.43934 19.4393C9.15804 19.7206 9 20.1022 9 20.5C9 20.8978 9.15804 21.2794 9.43934 21.5607C9.72064 21.842 10.1022 22 10.5 22H13.5C13.8978 22 14.2794 21.842 14.5607 21.5607C14.842 21.2794 15 20.8978 15 20.5Z",stroke:"#6B7280",strokeWidth:1.5})),oP=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M12 3C9.61306 3 7.32388 3.94821 5.63605 5.63604C3.94822 7.32387 3.00001 9.61305 3.00001 12C3.00001 14.397 3.93501 16.573 5.46301 18.186L5.96701 18.718L4.70001 21H12C13.1819 21 14.3522 20.7672 15.4442 20.3149C16.5361 19.8626 17.5282 19.1997 18.364 18.364C19.1997 17.5282 19.8626 16.5361 20.3149 15.4442C20.7672 14.3522 21 13.1819 21 12C21 10.8181 20.7672 9.64778 20.3149 8.55585C19.8626 7.46392 19.1997 6.47177 18.364 5.63604C17.5282 4.80031 16.5361 4.13738 15.4442 3.68508C14.3522 3.23279 13.1819 3 12 3ZM1.00001 12C1.00001 5.925 5.92501 1 12 1C18.075 1 23 5.925 23 12C23 18.075 18.075 23 12 23H1.30001L3.52001 19.006C1.88821 17.0363 0.996743 14.5578 1.00001 12ZM12 7.5C11.5864 7.4999 11.1829 7.62803 10.8452 7.86676C10.5074 8.10549 10.2519 8.44307 10.114 8.833L9.78001 9.776L7.89501 9.11L8.22801 8.167C8.43446 7.58155 8.77432 7.05216 9.22069 6.62073C9.66706 6.1893 10.2077 5.86765 10.7998 5.68124C11.392 5.49483 12.0194 5.44876 12.6324 5.54668C13.2454 5.64461 13.8272 5.88383 14.3318 6.24544C14.8364 6.60704 15.25 7.08111 15.5397 7.63013C15.8295 8.17915 15.9875 8.78806 16.0013 9.4087C16.0151 10.0293 15.8843 10.6447 15.6192 11.206C15.3541 11.7674 14.962 12.2593 14.474 12.643C14.043 12.983 13.657 13.309 13.378 13.652C13.104 13.99 13 14.262 13 14.5V15.75H11V14.5C11 13.633 11.39 12.927 11.826 12.39C12.258 11.86 12.8 11.416 13.236 11.072C13.5628 10.8149 13.8014 10.4624 13.9185 10.0634C14.0357 9.66449 14.0256 9.23894 13.8896 8.846C13.7536 8.45305 13.4986 8.11226 13.1599 7.87102C12.8212 7.62978 12.4158 7.50009 12 7.5ZM11 16.75H13.004V18.754H11V16.75Z",fill:"#6B7280"})),lP=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",...e},T.createElement("path",{d:"M4 5h16"}),T.createElement("path",{d:"M4 12h16"}),T.createElement("path",{d:"M4 19h16"}));function Xi({variant:e,children:t}){const n=uP(e);return c.jsx("div",{className:`${n} px-2 py-1 font-semibold text-xs rounded-full inline-flex`,children:t})}function uP(e){switch(e){case"success":return"bg-green-100 text-green-700 ";case"warning":return"bg-yellow-100 text-yellow-700 ";case"danger":return"bg-secondary-100 text-secondary-700 ";case"default":return"bg-gray-100 text-gray-700 ";default:return""}}const cP=e=>T.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M10 7V11M10 14V14.01M1 10C1 11.1819 1.23279 12.3522 1.68508 13.4442C2.13738 14.5361 2.80031 15.5282 3.63604 16.364C4.47177 17.1997 5.46392 17.8626 6.55585 18.3149C7.64778 18.7672 8.8181 19 10 19C11.1819 19 12.3522 18.7672 13.4442 18.3149C14.5361 17.8626 15.5282 17.1997 16.364 16.364C17.1997 15.5282 17.8626 14.5361 18.3149 13.4442C18.7672 12.3522 19 11.1819 19 10C19 8.8181 18.7672 7.64778 18.3149 6.55585C17.8626 5.46392 17.1997 4.47177 16.364 3.63604C15.5282 2.80031 14.5361 2.13738 13.4442 1.68508C12.3522 1.23279 11.1819 1 10 1C8.8181 1 7.64778 1.23279 6.55585 1.68508C5.46392 2.13738 4.47177 2.80031 3.63604 3.63604C2.80031 4.47177 2.13738 5.46392 1.68508 6.55585C1.23279 7.64778 1 8.8181 1 10Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),vm=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function zn({icon:e,variant:t="plain",label:n,className:r="",...i}){const o=`flex flex-row items-center justify-center gap-1 cursor-pointer rounded-md  ${dP(t)} ${r}`;return c.jsx("button",{type:"button","aria-label":n,className:o,...i,children:e&&c.jsx("span",{children:e})})}function dP(e){switch(e){case"contain":return"px-2 py-2 border border-gray-400 hover:bg-gray-100";case"plain":return"bg-transparent text-gray-700";default:return""}}function hP({children:e}){return c.jsx("div",{className:"mr-3 flex-shrink-0 flex items-center justify-center",children:e})}function fP({children:e}){return c.jsx("div",{className:"flex-1",children:e})}function pP({children:e}){return c.jsx("div",{className:"ml-3 flex-shrink-0 flex items-center justify-center",children:e})}function mP({tag:e="div",withPadding:t,left:n,center:r,right:i,className:s,...a}){const o=e,u=r?"justify-start":"justify-between";return c.jsxs(o,{className:`flex items-center w-full ${u} ${t?"px-4 py-3":""} ${s??""}`,...a,children:[n,r,i]})}function RC({left:e,center:t,right:n,className:r,withPadding:i}){return c.jsx(mP,{className:r,withPadding:i,left:c.jsx(hP,{children:e}),center:t?c.jsx(fP,{children:t}):null,right:c.jsx(pP,{children:n})})}function AC({variant:e="info",children:t,deleteBanner:n}){const r=gP(e);return c.jsx(RC,{withPadding:!0,className:`${r} items-center`,left:c.jsx(cP,{className:"text-gray-500 w-4 h-4"}),center:c.jsx("span",{className:"text-xs",children:t}),right:c.jsx(zn,{label:" ",variant:"plain",icon:c.jsx(vm,{className:"text-gray-500 w-5 h-5"}),onClick:n,className:"rounded-full"})})}function gP(e){switch(e){case"warning":return"bg-secondary-100";case"info":return"bg-blue-100";default:return"bg-gray-100"}}function M3(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function yP(...e){return t=>{let n=!1;const r=e.map(i=>{const s=M3(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():M3(e[i],null)}}}}var xP=Symbol.for("react.lazy"),bm=A4[" use ".trim().toString()];function vP(e){return typeof e=="object"&&e!==null&&"then"in e}function IC(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===xP&&"_payload"in e&&vP(e._payload)}function bP(e){const t=_P(e),n=T.forwardRef((r,i)=>{let{children:s,...a}=r;IC(s)&&typeof bm=="function"&&(s=bm(s._payload));const o=T.Children.toArray(s),u=o.find(CP);if(u){const d=u.props.children,f=o.map(p=>p===u?T.Children.count(d)>1?T.Children.only(null):T.isValidElement(d)?d.props.children:null:p);return c.jsx(t,{...a,ref:i,children:T.isValidElement(d)?T.cloneElement(d,void 0,f):null})}return c.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}var wP=bP("Slot");function _P(e){const t=T.forwardRef((n,r)=>{let{children:i,...s}=n;if(IC(i)&&typeof bm=="function"&&(i=bm(i._payload)),T.isValidElement(i)){const a=kP(i),o=jP(s,i.props);return i.type!==T.Fragment&&(o.ref=r?yP(r,a):a),T.cloneElement(i,o)}return T.Children.count(i)>1?T.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var SP=Symbol("radix.slottable");function CP(e){return T.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SP}function jP(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const u=s(...o);return i(...o),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function kP(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const wm={pressable:"transition-colors duration-300 ease-out active:scale-[0.97]",hoverable:"transition-colors duration-200 ease-out"};function ct({variant:e,size:t,children:n,disabled:r,textColor:i,asChild:s,...a}){const o=s?wP:"button",u=e==="circle"?"":`flex flex-row gap-1 items-center justify-center cursor-pointer disabled:cursor-not-allowed ${wm.hoverable} ${wm.pressable}`,d=i?F3(e,i):F3(e,"primary"),f=e==="circle"?"":TP(t),p=`${u} ${d} ${f}`.trim();return c.jsx(o,{className:p,disabled:r,...a,children:n})}function EP(e){switch(e){case"primary":return"bg-transparent text-primary-500 hover:text-primary-600";case"secondary":return"bg-transparent text-secondary-500 hover:text-secondary-600";case"gray":return"bg-transparent text-gray-700 hover:text-gray-800";default:return""}}function F3(e,t){switch(e){case"primary":return"bg-primary-500 text-white hover:bg-primary-600 rounded-md px-4 py-2 disabled:bg-gray-100 disabled:text-gray-300";case"secondary":return"bg-gray-100  hover:bg-gray-300 rounded-md px-4 py-2 disabled:text-white";case"outlined":return"bg-transparent border border-gray-700 hover:bg-gray-100 rounded-md px-4 py-2 disabled:border-gray-200  disabled:text-gray-400";case"danger":return"bg-secondary-500 text-white hover:bg-secondary-600 rounded-md px-4 py-2 disabled:bg-gray-100";case"ghost":return"bg-gray-50 border border-gray-200 text-gray-700 hover:bg-gray-200 rounded-full px-4 py-2";case"circle":return"px-2 py-2 bg-primary-500 text-white hover:bg-primary-600 rounded-full shadow-md ";case"text":return`${EP(t)} px-0 py-2  disabled:text-gray-400`;default:return""}}function TP(e){switch(e){case"small":return"text-sm px-2";case"medium":return"text-sm";case"large":return"text-md";default:return""}}function NP({children:e}){return c.jsx("div",{className:"flex flex-col space-y-3 text-gray-600 text-sm",children:e})}function PP({children:e}){return c.jsx("div",{className:"flex flex-col items-start justify-between mb-3",children:e})}function OP({children:e,size:t,variant:n,className:r}){const i=RP(t||"medium"),s=AP(n);return c.jsx("div",{className:`card rounded-lg ${i} ${s} ${r||""}`,children:e})}const Yt=Object.assign(OP,{Header:PP,Content:NP});function RP(e){switch(e){case"small":return"px-4 py-4 text-sm";case"medium":return"p-4 text-base";case"large":return"px-10 py-4 text-lg";default:return""}}function AP(e="elevated"){switch(e){case"elevated":return"bg-white shadow-md";case"outlined":return"bg-white border border-gray-200";case"filled":return"bg-gray-50 shadow-sm rounded-lg p-4 border border-gray-200 hover:shadow-md";default:return""}}const IP=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M5 12L10 17L20 7",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function Ih({label:e,...t}){const n=T.useId(),r=e?`checkbox-${e}`:`checkbox-${n}`,i=`w-5 h-5 rounded-sm border flex-shrink-0 appearance-none flex items-center justify-center
    ${LP(!!t.checked)}`,s=a=>{a.key==="Enter"&&(a.preventDefault(),a.currentTarget.click()),t.onKeyDown?.(a)};return c.jsxs("label",{htmlFor:r,className:"flex flex-row items-center gap-3 text-sm md:text-base cursor-pointer select-none",children:[c.jsxs("div",{className:"relative w-5 h-5",children:[c.jsx("input",{id:r,type:"checkbox","aria-checked":t.checked,"aria-label":e?void 0:"toggle checkbox",className:i,onKeyDown:s,...t}),t.checked&&c.jsx(IP,{className:"text-blue-500 w-4 h-4 absolute inset-0 m-auto pointer-events-none"})]}),e&&c.jsx("span",{className:`${t.checked?"text-blue-500":"text-gray-600"}`,children:e})]})}Ih.layout="flex";function LP(e){return e?`
      bg-blue-50
      border-blue-500
    `:`
      bg-white
      border-gray-400
      hover:bg-gray-50
    `}const B3=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),DP=({className:e,selected:t=!1})=>{const n=t?e+" text-blue-500":e+" text-gray-400";return t?c.jsx(B3,{className:n}):c.jsx(B3,{className:n})},MP=({className:e,selected:t=!1})=>{const n=t?e+" text-blue-500":e+" text-gray-400";return t?c.jsx(vm,{className:n}):c.jsx(vm,{className:n})};function yn({label:e="Chip",selected:t,variant:n="none",containerRef:r,onClick:i,isChipOpen:s,...a}){return c.jsxs("button",{type:"button",ref:r,className:`flex flex-row justify-center items-center cursor-pointer gap-4 transition-colors duration-300 ease-out active:scale-[0.97] ${BP(n)} ${FP(t,n)}`,"aria-pressed":t,onClick:i,...a,children:[c.jsx("span",{className:"text-xs sm:text-sm",children:e}),n==="select"&&c.jsx(DP,{"aria-hidden":"true",selected:t,className:`w-5 h-5 pointer-events-none transition-transform text-blue-500 duration-200 ${s?"rotate-180":"rotate-0"}`}),n==="cancel"&&c.jsx(MP,{"aria-hidden":"true",selected:t,className:"pointer-events-none w-4 h-4"})]})}yn.layout="grid";function FP(e,t){return e?`
      bg-primary-100
      text-primary-500
      hover:bg-primary-200
      focus:outline-primary-500
    `:t==="none"?`
      bg-transparent
      text-gray-700
      border border-gray-200
      hover:bg-gray-100
      focus:outline-gray-400
    `:`
    bg-gray-100
    text-gray-700
    hover:bg-gray-200
    focus:outline-gray-400
  `}function BP(e){return e==="cancel"?"rounded-full text-xs py-1.5 px-4":"rounded-lg text-sm py-2 px-4"}function zP({children:e}){return c.jsx("h2",{id:"dialog-title",className:"font-semibold",children:e})}function LC({children:e,onClose:t}){return c.jsxs("div",{className:"w-full px-4 sm:px-6 py-4 sm:py-4 border-b border-gray-100 flex flex-row justify-between",children:[e,c.jsx("button",{type:"button","aria-label":"",className:"w-6 h-6 cursor-pointer flex items-center justify-center bg-gray-100 rounded-full",onClick:t,children:c.jsx(vm,{className:"text-gray-600 w-3 h-3"})})]})}function DC({children:e,onClose:t}){const n=T.useRef(null),r=i=>{i.stopPropagation(),t()};return c.jsx("div",{className:"fixed inset-0 flex items-center bg-transparent justify-center z-50",role:"none",ref:n,onClick:r,children:e})}function MC({children:e,width:t,height:n}){const r=UP(t,n);return c.jsx("div",{className:`flex flex-col justify-center item bg-white min-w-80 max-w-[90%] max-h-[90vh] rounded-lg sm:${r}`,onClick:i=>i.stopPropagation(),children:e})}function UP(e,t){const n=e?`w-${e}`:"max-w-[90%]",r=t?`h-${t}`:"auto";return`${n} ${r}`}function $P({children:e}){return c.jsx("div",{className:"flex flex-col px-6 sm:py-4 py-4 gap-2 max-h-150 overflow-y-auto",children:e})}function HP({children:e}){return c.jsx("div",{className:"py-3 px-8 border-t border-gray-100 flex justify-end gap-2",children:e})}function VP({children:e,isOpen:t=!0,title:n,onClose:r}){const i=T.useRef(null),s=T.useId();return T.useEffect(()=>{const a=i.current;a&&(t?a.showModal():a.close())},[t]),T.useEffect(()=>{const a=o=>{o.key==="Escape"&&r()};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[r]),Xm.createPortal(c.jsx("dialog",{ref:i,role:"dialog","aria-labelledby":s,onCancel:a=>{a.preventDefault(),r()},children:c.jsx(DC,{onClose:r,children:c.jsxs(MC,{children:[c.jsx(LC,{onClose:r,children:c.jsx(tn.Title,{id:s,children:n})}),e]})})}),document.body)}const tn=Object.assign(VP,{Title:zP,Header:LC,Overlay:DC,Content:$P,Contents:MC,Footer:HP});function G1({className:e="",leftIcon:t,rightIcon:n,...r}){const i=T.useRef(null),s=t?"pl-10":"pl-3",a=n?"pr-10":"pr-3";return c.jsxs("div",{className:"relative flex items-center w-full",children:[t&&c.jsx("div",{children:t}),c.jsx("input",{ref:i,type:"text",className:`py-2 border rounded-md border-gray-400 py-2 px-3 focus:outline-none focus:ring-0 focus:border-primary-500 ${s} ${a} ${e}`,...r}),n&&c.jsx("div",{children:n})]})}const wn=({id:e,required:t,children:n,className:r="",...i})=>{const s=`text-sm sm:text-base text-text-200 after:ml-0.5 ${t?'after:content-["*"] after:text-red-500':""}`;return c.jsx("label",{htmlFor:e,className:`${s} ${r}`,...i,children:n})};function qP({label:e,selected:t}){const{isOpen:n,triggerRef:r,open:i,close:s}=BC(),a=()=>{n?s():i()};return c.jsx(yn,{type:"button",label:e,isChipOpen:n,variant:"select",selected:t??!1,onClick:a,containerRef:r})}const WP=({elem:e,tabRefs:t,isOpen:n,open:r,close:i})=>{T.useEffect(()=>{const s=a=>{(Array.isArray(t)?t:[t]).some(d=>d.current&&d.current.contains(a.target))?r():e.current&&!e.current.contains(a.target)&&i()};return n?window.addEventListener("click",s):window.removeEventListener("click",s),()=>{window.removeEventListener("click",s)}},[n,e,t])};function QP({children:e}){const{isOpen:t,close:n,open:r,triggerRef:i}=BC(),s=T.useRef(null);if(WP({elem:s,tabRefs:i,isOpen:t,open:r,close:n}),!t||!i.current)return null;const a=i.current.getBoundingClientRect();return Xm.createPortal(c.jsx("div",{ref:s,className:`
        fixed rounded-md bg-white shadow-lg border border-gray-200 px-4 py-4
        transition-all duration-150 ease-out
        ${t?"opacity-100 translate-y-0 scale-100 pointer-events-auto":"opacity-0 -translate-y-1 scale-95 pointer-events-none"}
      `,style:{zIndex:120,top:a.bottom+8,left:a.left},onMouseDown:o=>o.stopPropagation(),onClick:o=>o.stopPropagation(),children:e}),document.body)}const FC=T.createContext(null);function KP({children:e}){const[t,n]=T.useState(null);return c.jsx(FC.Provider,{value:{openId:t,setOpenId:n},children:e})}function GP(){const e=T.useContext(FC);if(!e)throw new Error("PopoverGroup  PopoverGroupContext.Provider   .");return e}const BC=()=>{const e=T.useContext(zC);if(!e)throw new Error("Popover Component PopoverContext.Provider   .");return e},zC=T.createContext(null),YP=({children:e})=>{const t=T.useId(),{openId:n,setOpenId:r}=GP(),i=T.useRef(null),s=n===t,a=()=>r(t),o=()=>r(null),u=()=>r(s?null:t);return c.jsx(zC.Provider,{value:{id:t,isOpen:n===t,open:a,close:o,toggle:u,triggerRef:i},children:e})},pc=Object.assign(YP,{Trigger:qP,Content:QP});function fe({as:e,direction:t="flex-row",justify:n="justify-start",align:r="items-stretch",gap:i="gap-2",className:s,children:a,...o}){const u=e||"div",d=`flex ${t} ${n} ${r} ${i}`+(s?` ${s}`:"");return c.jsx(u,{className:d,...o,children:a})}function _m({label:e,isError:t,errorMessage:n,required:r,id:i,size:s="medium",className:a="",...o}){return c.jsxs(fe,{direction:"flex-col",gap:"gap-2",className:a,children:[e&&c.jsx(wn,{required:r,id:i,children:e}),c.jsx("input",{id:i,type:"text","aria-invalid":t,required:r,...o,className:`rounded-md w-full bg-white border border-gray-300 py-2 px-3 focus:outline-none focus:ring-0 focus:border-primary-500 ${JP(s)}`}),t&&c.jsx("span",{className:"text-secondary-500 text-xs",children:n})]})}function JP(e){switch(e){case"small":return"text-sm py-1";case"medium":return"text-base py-1";case"large":return"text-lg py-1";default:return""}}const XP=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M12 16V16.01M12 13C12.4498 13.0014 12.8868 12.8511 13.2407 12.5734C13.5945 12.2958 13.8444 11.907 13.95 11.4698C14.0557 11.0327 14.0109 10.5726 13.8229 10.1641C13.6349 9.75549 13.3147 9.42219 12.914 9.21801C12.5162 9.01422 12.0611 8.95103 11.6228 9.03873C11.1845 9.12642 10.7888 9.35984 10.5 9.70101M3 12C3 13.1819 3.23279 14.3522 3.68508 15.4442C4.13738 16.5361 4.80031 17.5282 5.63604 18.364C6.47177 19.1997 7.46392 19.8626 8.55585 20.3149C9.64778 20.7672 10.8181 21 12 21C13.1819 21 14.3522 20.7672 15.4442 20.3149C16.5361 19.8626 17.5282 19.1997 18.364 18.364C19.1997 17.5282 19.8626 16.5361 20.3149 15.4442C20.7672 14.3522 21 13.1819 21 12C21 9.61305 20.0518 7.32387 18.364 5.63604C16.6761 3.94821 14.3869 3 12 3C9.61305 3 7.32387 3.94821 5.63604 5.63604C3.94821 7.32387 3 9.61305 3 12Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function ZP({children:e}){return c.jsx("div",{className:"relative inline-block",children:c.jsxs("div",{className:"group inline-block",children:[c.jsx(zn,{label:"Tooltip",variant:"plain",icon:c.jsx(XP,{className:"w-6 h-6 text-gray-400 background-gray-200"})}),c.jsx("span",{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-gray-900 text-white p-3 rounded w-64 text-center pointer-events-none",children:e})]})})}function mt({level:e=1,size:t,as:n,className:r,children:i,...s}){const a=n??`h${e}`,o=t??eO(e);return c.jsx(a,{className:`${r??""} ${tO(o)} text-text-200`,...s,children:i})}function eO(e){return{1:"xxl",2:"xl",3:"lg",4:"md",5:"sm"}[e]}function tO(e){return{xxl:"text-lg font-semibold md:text-xl",xl:"text-base md:text-lg font-semibold",lg:"text-base font-semibold",md:"text-sm font-semibold",sm:"text-xs font-semibold",xs:"text-[11px] font-semibold"}[e]}function Xt({className:e,children:t,...n}){return c.jsx("p",{className:`text-gray-500 text-sm leading-relaxed ${e??""}`,...n,children:t})}function Os({columns:e,gap:t="gap-0",className:n,children:r,...i}){const s=["grid",t],a=e.base??2;s.push(`grid-cols-${a}`),e.base&&s.push(`grid-cols-${e.base}`),e.sm&&s.push(`sm:grid-cols-${e.sm}`),e.md&&s.push(`md:grid-cols-${e.md}`),e.lg&&s.push(`lg:grid-cols-${e.lg}`),e.xl&&s.push(`xl:grid-cols-${e.xl}`);const o=s.join(" ")+(n?` ${n}`:"");return c.jsx("div",{className:o,...i,children:r})}function Sm({selected:e=!1,onSelect:t,left:n,right:r}){const i=a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),t?.())},s=`flex px-2 py-2 rounded-sm cursor-pointer text-sm ${wm.pressable} ${wm.hoverable}`;return c.jsx("div",{role:"option","aria-selected":e,tabIndex:0,onClick:t,onKeyDown:i,className:`${s} ${nO(e)}`,children:c.jsx(RC,{left:c.jsx("div",{className:"flex items-center",children:n}),right:e?r:null})})}function nO(e){return e?"bg-blue-50 text-blue-500 font-medium hover:bg-blue-100":"hover:bg-gray-50 text-gray-700"}const vv={primary:{500:"#3B82F6"}};function Cm(){return Cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cm.apply(null,arguments)}function bv(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Y1(e,t){return Y1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Y1(e,t)}function wv(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Y1(e,t)}function rO(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function iO(e,t){e.classList?e.classList.add(t):rO(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function z3(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function sO(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=z3(e.className,t):e.setAttribute("class",z3(e.className&&e.className.baseVal||"",t))}const U3={disabled:!1},jm=rn.createContext(null);var UC=function(t){return t.scrollTop},zd="unmounted",kl="exited",El="entering",nc="entered",J1="exiting",Fa=(function(e){wv(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var a=i,o=a&&!a.isMounting?r.enter:r.appear,u;return s.appearStatus=null,r.in?o?(u=kl,s.appearStatus=El):u=nc:r.unmountOnExit||r.mountOnEnter?u=zd:u=kl,s.state={status:u},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var a=i.in;return a&&s.status===zd?{status:kl}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==El&&a!==nc&&(s=El):(a===El||a===nc)&&(s=J1)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,a,o;return s=a=o=i,i!=null&&typeof i!="number"&&(s=i.exit,a=i.enter,o=i.appear!==void 0?i.appear:a),{exit:s,enter:a,appear:o}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===El){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:dp.findDOMNode(this);a&&UC(a)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===kl&&this.setState({status:zd})},n.performEnter=function(i){var s=this,a=this.props.enter,o=this.context?this.context.isMounting:i,u=this.props.nodeRef?[o]:[dp.findDOMNode(this),o],d=u[0],f=u[1],p=this.getTimeouts(),g=o?p.appear:p.enter;if(!i&&!a||U3.disabled){this.safeSetState({status:nc},function(){s.props.onEntered(d)});return}this.props.onEnter(d,f),this.safeSetState({status:El},function(){s.props.onEntering(d,f),s.onTransitionEnd(g,function(){s.safeSetState({status:nc},function(){s.props.onEntered(d,f)})})})},n.performExit=function(){var i=this,s=this.props.exit,a=this.getTimeouts(),o=this.props.nodeRef?void 0:dp.findDOMNode(this);if(!s||U3.disabled){this.safeSetState({status:kl},function(){i.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:J1},function(){i.props.onExiting(o),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:kl},function(){i.props.onExited(o)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,a=!0;return this.nextCallback=function(o){a&&(a=!1,s.nextCallback=null,i(o))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var a=this.props.nodeRef?this.props.nodeRef.current:dp.findDOMNode(this),o=i==null&&!this.props.addEndListener;if(!a||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],d=u[0],f=u[1];this.props.addEndListener(d,f)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===zd)return null;var s=this.props,a=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var o=bv(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return rn.createElement(jm.Provider,{value:null},typeof a=="function"?a(i,o):rn.cloneElement(rn.Children.only(a),o))},t})(rn.Component);Fa.contextType=jm;Fa.propTypes={};function Mu(){}Fa.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Mu,onEntering:Mu,onEntered:Mu,onExit:Mu,onExiting:Mu,onExited:Mu};Fa.UNMOUNTED=zd;Fa.EXITED=kl;Fa.ENTERING=El;Fa.ENTERED=nc;Fa.EXITING=J1;var aO=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return iO(t,r)})},Ey=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return sO(t,r)})},Wl=(function(e){wv(t,e);function t(){for(var r,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(o,u){var d=r.resolveArguments(o,u),f=d[0],p=d[1];r.removeClasses(f,"exit"),r.addClass(f,p?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(o,u)},r.onEntering=function(o,u){var d=r.resolveArguments(o,u),f=d[0],p=d[1],g=p?"appear":"enter";r.addClass(f,g,"active"),r.props.onEntering&&r.props.onEntering(o,u)},r.onEntered=function(o,u){var d=r.resolveArguments(o,u),f=d[0],p=d[1],g=p?"appear":"enter";r.removeClasses(f,g),r.addClass(f,g,"done"),r.props.onEntered&&r.props.onEntered(o,u)},r.onExit=function(o){var u=r.resolveArguments(o),d=u[0];r.removeClasses(d,"appear"),r.removeClasses(d,"enter"),r.addClass(d,"exit","base"),r.props.onExit&&r.props.onExit(o)},r.onExiting=function(o){var u=r.resolveArguments(o),d=u[0];r.addClass(d,"exit","active"),r.props.onExiting&&r.props.onExiting(o)},r.onExited=function(o){var u=r.resolveArguments(o),d=u[0];r.removeClasses(d,"exit"),r.addClass(d,"exit","done"),r.props.onExited&&r.props.onExited(o)},r.resolveArguments=function(o,u){return r.props.nodeRef?[r.props.nodeRef.current,o]:[o,u]},r.getClassNames=function(o){var u=r.props.classNames,d=typeof u=="string",f=d&&u?u+"-":"",p=d?""+f+o:u[o],g=d?p+"-active":u[o+"Active"],y=d?p+"-done":u[o+"Done"];return{baseClassName:p,activeClassName:g,doneClassName:y}},r}var n=t.prototype;return n.addClass=function(i,s,a){var o=this.getClassNames(s)[a+"ClassName"],u=this.getClassNames("enter"),d=u.doneClassName;s==="appear"&&a==="done"&&d&&(o+=" "+d),a==="active"&&i&&UC(i),o&&(this.appliedClasses[s][a]=o,aO(i,o))},n.removeClasses=function(i,s){var a=this.appliedClasses[s],o=a.base,u=a.active,d=a.done;this.appliedClasses[s]={},o&&Ey(i,o),u&&Ey(i,u),d&&Ey(i,d)},n.render=function(){var i=this.props;i.classNames;var s=bv(i,["classNames"]);return rn.createElement(Fa,Cm({},s,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t})(rn.Component);Wl.defaultProps={classNames:""};Wl.propTypes={};function oO(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _v(e,t){var n=function(s){return t&&T.isValidElement(s)?t(s):s},r=Object.create(null);return e&&T.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function lO(e,t){e=e||{},t=t||{};function n(f){return f in t?t[f]:e[f]}var r=Object.create(null),i=[];for(var s in e)s in t?i.length&&(r[s]=i,i=[]):i.push(s);var a,o={};for(var u in t){if(r[u])for(a=0;a<r[u].length;a++){var d=r[u][a];o[r[u][a]]=n(d)}o[u]=n(u)}for(a=0;a<i.length;a++)o[i[a]]=n(i[a]);return o}function Fl(e,t,n){return n[t]!=null?n[t]:e.props[t]}function uO(e,t){return _v(e.children,function(n){return T.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Fl(n,"appear",e),enter:Fl(n,"enter",e),exit:Fl(n,"exit",e)})})}function cO(e,t,n){var r=_v(e.children),i=lO(t,r);return Object.keys(i).forEach(function(s){var a=i[s];if(T.isValidElement(a)){var o=s in t,u=s in r,d=t[s],f=T.isValidElement(d)&&!d.props.in;u&&(!o||f)?i[s]=T.cloneElement(a,{onExited:n.bind(null,a),in:!0,exit:Fl(a,"exit",e),enter:Fl(a,"enter",e)}):!u&&o&&!f?i[s]=T.cloneElement(a,{in:!1}):u&&o&&T.isValidElement(d)&&(i[s]=T.cloneElement(a,{onExited:n.bind(null,a),in:d.props.in,exit:Fl(a,"exit",e),enter:Fl(a,"enter",e)}))}}),i}var dO=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},hO={component:"div",childFactory:function(t){return t}},Zm=(function(e){wv(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var a=s.handleExited.bind(oO(s));return s.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},s}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,s){var a=s.children,o=s.handleExited,u=s.firstRender;return{children:u?uO(i,o):cO(i,a,o),firstRender:!1}},n.handleExited=function(i,s){var a=_v(this.props.children);i.key in a||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(o){var u=Cm({},o.children);return delete u[i.key],{children:u}}))},n.render=function(){var i=this.props,s=i.component,a=i.childFactory,o=bv(i,["component","childFactory"]),u=this.state.contextValue,d=dO(this.state.children).map(a);return delete o.appear,delete o.enter,delete o.exit,s===null?rn.createElement(jm.Provider,{value:u},d):rn.createElement(jm.Provider,{value:u},rn.createElement(s,o,d))},t})(rn.Component);Zm.propTypes={};Zm.defaultProps=hO;const eg=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M18 6L6 18M6 6L18 18",stroke:"#354052",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function Lh(e){T.useEffect(()=>{if(!e)return;const t=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=t}},[e])}function fO({isOpen:e,onClose:t}){const n=Da(),r=T.useRef(null),i=T.useRef(null),s=T.useRef(null),a=(u,d)=>{d.preventDefault(),s.current=u,t()},o=()=>{s.current&&(n(s.current),s.current=null)};return Lh(e),c.jsxs(c.Fragment,{children:[c.jsx(Wl,{in:e,timeout:300,classNames:"mobile-menu-overlay",unmountOnExit:!0,nodeRef:i,children:c.jsx("div",{ref:i,className:"fixed inset-0 z-40 md:hidden bg-black/30","aria-hidden":"true"})}),c.jsx(Wl,{in:e,timeout:300,classNames:"mobile-menu",unmountOnExit:!0,nodeRef:r,onExited:o,children:c.jsxs("nav",{ref:r,role:"dialog","aria-modal":"true","aria-labelledby":"mobile-menu-title",tabIndex:-1,className:"fixed top-0 right-0 h-full w-full bg-white shadow-lg z-50 md:hidden flex flex-col",children:[c.jsx("h2",{id:"mobile-menu-title",className:"sr-only",children:" "}),c.jsxs(fe,{justify:"justify-between",align:"items-center",gap:"gap-0",className:"p-4",children:[c.jsxs(Sr,{to:"/",onClick:u=>a("/",u),className:"flex items-center gap-2","aria-label":" ",children:[c.jsx(xv,{className:"w-6 h-6"}),c.jsx(OC,{className:"h-5"})]}),c.jsx(zn,{className:"p-2 hover:bg-gray-100 active:bg-gray-100",variant:"plain",icon:c.jsx(eg,{className:"w-6 h-6"}),label:" ",onClick:t})]}),c.jsx("hr",{className:"mx-4 border-gray-300"}),c.jsx(fe,{as:"ul",direction:"flex-col",gap:"gap-1",className:"flex-1 p-4",children:Sv.map(({title:u,path:d,end:f})=>c.jsx("li",{children:c.jsx(Ma,{to:d,end:f,onClick:p=>a(d,p),className:({isActive:p})=>`block py-3 px-4 rounded-lg text-base font-medium transition-colors ${p?"bg-blue-50 text-blue-500":"text-gray-700 active:bg-gray-100"}`,children:u})},d))}),c.jsx("hr",{className:"mx-4 border-gray-300"}),c.jsx(fe,{gap:"gap-2",className:"p-4",children:$C.map(({icon:u,title:d,path:f})=>c.jsxs("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:"flex flex-1 items-center justify-center gap-2 py-3 px-4 rounded-lg border border-gray-200 text-gray-600 active:bg-gray-100 transition-colors",children:[u,c.jsx("span",{className:"text-sm",children:d})]},f))})]})})]})}const Sv=[{title:"",path:"/timetable",end:!1},{title:"",path:"/wishes",end:!0},{title:"",path:"/simulation",end:!1},{title:"",path:"/live",end:!1},{title:"",path:"/graduation",end:!1}],$C=[{icon:c.jsx(aP,{className:"w-4 h-4"}),title:"  ",path:"https://forms.gle/bCDTVujEHunnvHe88"},{icon:c.jsx(oP,{className:"w-4 h-4"}),title:" ",path:"https://open.kakao.com/o/g3MztXfh"}];function Cv(){const[e,t]=T.useState(!1),n=()=>t(!0),r=T.useCallback(()=>t(!1),[]);return c.jsxs("header",{className:"bg-white shadow-sm z-50 sticky top-0",children:[c.jsxs("div",{className:"container flex items-center justify-between mx-auto max-w-7xl px-4 md:px-16",children:[c.jsxs("div",{className:"flex items-center space-x-4 py-4",children:[c.jsxs(Sr,{to:"/",className:"flex items-center gap-1 space-x-2","aria-label":" ",children:[c.jsx("h2",{className:"hidden",children:"ALLCLL"}),c.jsx(xv,{className:"w-6 h-6 m-0"}),c.jsx(OC,{className:"h-5"})]}),c.jsx("ul",{className:"hidden md:flex space-x-4 text-sm sm:text-base",children:Sv.map(({title:i,path:s,end:a})=>c.jsx("li",{className:"font-bold",children:c.jsx(Ma,{to:s,end:a,className:({isActive:o})=>o?"text-blue-500 font-semibold":"text-gray-500",children:i})},s))})]}),c.jsx("div",{className:"items-center space-x-2 hidden md:flex",children:$C.map(({icon:i,title:s,path:a})=>c.jsx("a",{href:a,target:"_blank","aria-label":s,title:s,className:"p-2 rounded-md hover:bg-gray-100",children:i},a))}),c.jsx(zn,{className:"md:hidden p-2 hover:bg-gray-100 active:bg-gray-100",variant:"plain",icon:c.jsx(lP,{className:"w-6 h-6"}),label:" ",onClick:n,"aria-expanded":e})]}),c.jsx(fO,{isOpen:e,onClose:r})]})}const $3=e=>{let t;const n=new Set,r=(d,f)=>{const p=typeof d=="function"?d(t):d;if(!Object.is(p,t)){const g=t;t=f??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(y=>y(t,g))}},i=()=>t,o={setState:r,getState:i,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d))},u=t=e(r,i,o);return o},pO=(e=>e?$3(e):$3),mO=e=>e;function gO(e,t=mO){const n=rn.useSyncExternalStore(e.subscribe,rn.useCallback(()=>t(e.getState()),[e,t]),rn.useCallback(()=>t(e.getInitialState()),[e,t]));return rn.useDebugValue(n),n}const H3=e=>{const t=pO(e),n=r=>gO(t,r);return Object.assign(n,t),n},fr=(e=>e?H3(e):H3),km=fr(e=>({banner:null,onClose:void 0,setBanner:(t,n)=>e({banner:t,onClose:n}),closeBanner:()=>e({banner:null})}));function HC(){const e=km(n=>n.banner),t=km(n=>n.closeBanner);return e&&c.jsx(AC,{deleteBanner:t,children:e})}const VC=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:10,height:10,viewBox:"0. 0. 11 11",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,20)"},T.createElement("path",{d:"M9.71875,18.28125Q10,18.59375,10,19Q10,19.40625,9.71875,19.71875Q9.40625,20,9,20Q8.59375,20,8.28125,19.71875L5,16.40625L1.71875,19.71875Q1.40625,20,1,20Q0.59375,20,0.28125,19.71875Q0,19.40625,0,19Q0,18.59375,0.28125,18.28125L3.59375,15L0.28125,11.71875Q0,11.40625,0,11Q0,10.59375,0.28125,10.28125Q0.59375,10,1,10Q1.40625,10,1.71875,10.28125L5,13.59375L8.28125,10.28125Q8.59375,10,9,10Q9.40625,10,9.71875,10.28125Q10,10.59375,10,11Q10,11.40625,9.71875,11.71875L6.40625,15L9.71875,18.28125Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),jv=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17,height:17,viewBox:"-0.1 -1.2 11.985078811645508 17",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,27.999998092651367)"},T.createElement("path",{d:"M5.99254,27.999999046325684Q5.61809,27.999999046325684,5.37737,27.753899046325685Q5.13664,27.507799046325683,5.13664,27.124999046325684L5.13664,26.605499046325683Q3.63883,26.277299046325684,2.70269,25.10159904632568Q1.73981,23.925779046325683,1.71306,22.312499046325684L1.71306,21.792969046325684Q1.68632,19.824219046325684,0.429221,18.320309046325683L0.215247,18.074219046325684Q-0.13246,17.664059046325683,0.0815138,17.144529046325683Q0.322234,16.652339046325682,0.857169,16.624999046325684L11.1279,16.624999046325684Q11.6628,16.652339046325682,11.9036,17.144529046325683Q12.1175,17.664059046325683,11.7698,18.074219046325684L11.5826,18.320309046325683Q10.2988,19.796869046325682,10.272,21.792969046325684L10.272,22.312499046325684Q10.2453,23.925779046325683,9.28239,25.10159904632568Q8.34625,26.277299046325684,6.84843,26.605499046325683L6.84843,27.124999046325684Q6.84843,27.507799046325683,6.60771,27.753899046325685Q6.36699,27.999999046325684,5.99254,27.999999046325684ZM7.19614,14.519530046325684Q7.70433,15.039059046325683,7.70433,15.749999046325684L5.99254,15.749999046325684L4.28075,15.749999046325684Q4.28075,15.039059046325683,4.78894,14.519530046325684Q5.29713,13.999999046325684,5.99254,13.999999046325684Q6.68796,13.999999046325684,7.19614,14.519530046325684Z",fill:"currentColor",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),Ia=fr((e,t)=>({isActivated:!1,messages:[],addToast:(n,r)=>{e(i=>({messages:[...i.messages,{message:n,tag:r}]})),r&&setTimeout(()=>t().clearToast(r),3e3)},clearToast:n=>e(r=>(typeof n=="number"?r.messages=[...r.messages.slice(0,n),...r.messages.slice(n+1)]:r.messages=r.messages.filter(i=>i.tag!==n),{messages:r.messages}))}));function kv(){const e=Ia(n=>n.messages),t=Ia(n=>n.clearToast);return c.jsx("div",{className:"fixed top-2 right-2 z-100 max-w-screen",children:c.jsx(Zm,{className:"flex gap-2 flex-col-reverse",children:e.slice(-3).map((n,r)=>c.jsx(Wl,{timeout:300,classNames:"toast",children:c.jsx(yO,{toast:n,closeToast:()=>t(r)})},`${r} : ${n}`))})})}function yO({toast:e,closeToast:t}){return c.jsxs("div",{className:"flex justify-between items-center gap-2 p-4 ml-2 bg-white text-black rounded-lg shadow-md",children:[c.jsx(jv,{className:"w-4 h-4 text-blue-500"}),c.jsx("span",{className:"flex-1 text-sm font-bold truncate max-w-72",children:e.message}),c.jsx("button",{"aria-label":"",onClick:t,className:"p-2 rounded-full hover:bg-blue-100",children:c.jsx(VC,{})})]})}const xO=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("g",{clipPath:"url(#clip0_3195_1180)"},T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3.66667C7.3975 3.66667 3.66667 7.3975 3.66667 12C3.66667 16.6025 7.3975 20.3333 12 20.3333C16.6025 20.3333 20.3333 16.6025 20.3333 12C20.3333 7.3975 16.6025 3.66667 12 3.66667ZM2 12C2 6.47708 6.47708 2 12 2C17.5229 2 22 6.47708 22 12C22 17.5229 17.5229 22 12 22C6.47708 22 2 17.5229 2 12Z",fill:"#9CA3AF"}),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.9929 20.9465C9.91235 20.8424 9.91235 19.9154 9.9929 18.1657C9.12985 18.1957 8.58443 18.1359 8.35665 17.9861C8.0154 17.7615 7.67332 17.0695 7.3704 16.5815C7.06749 16.0936 6.39415 16.0165 6.12249 15.9074C5.85082 15.7986 5.78249 15.354 6.87124 15.6899C7.95999 16.0261 8.0129 16.942 8.35665 17.1557C8.7004 17.3699 9.52165 17.2765 9.89374 17.1049C10.2658 16.9332 10.2383 16.2949 10.305 16.042C10.3887 15.8057 10.0929 15.7532 10.0867 15.7515C9.7229 15.7515 7.81415 15.3361 7.28957 13.4878C6.7654 11.639 7.44082 10.4307 7.80124 9.91155C8.04124 9.56488 8.01999 8.82682 7.73749 7.69738C8.76415 7.56571 9.55624 7.88877 10.1137 8.66655C10.1146 8.67071 10.8454 8.23196 12 8.23196C13.1546 8.23196 13.5646 8.58946 13.8808 8.66655C14.1971 8.74363 14.45 7.30571 16.4029 7.69738C15.995 8.49863 15.6537 9.49988 15.9142 9.91155C16.175 10.3228 17.1975 11.6311 16.5696 13.4878C16.1504 14.7253 15.3269 15.4799 14.0992 15.7515C13.9586 15.7965 13.8883 15.869 13.8883 15.969C13.8883 16.119 14.0783 16.1353 14.3525 16.8382C14.5358 17.3065 14.5492 18.6447 14.3925 20.8528C13.9961 20.9536 13.6878 21.0214 13.4675 21.0561C13.0771 21.1174 12.6529 21.152 12.2362 21.1649C11.8196 21.1782 11.675 21.177 11.0987 21.1232C10.7266 21.0892 10.3571 21.0302 9.9929 20.9465Z",fill:"#9CA3AF"}))),vO=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M7.8 2H16.2C19.4 2 22 4.6 22 7.8V16.2C22 17.7383 21.3889 19.2135 20.3012 20.3012C19.2135 21.3889 17.7383 22 16.2 22H7.8C4.6 22 2 19.4 2 16.2V7.8C2 6.26174 2.61107 4.78649 3.69878 3.69878C4.78649 2.61107 6.26174 2 7.8 2ZM7.6 4C6.64522 4 5.72955 4.37928 5.05442 5.05442C4.37928 5.72955 4 6.64522 4 7.6V16.4C4 18.39 5.61 20 7.6 20H16.4C17.3548 20 18.2705 19.6207 18.9456 18.9456C19.6207 18.2705 20 17.3548 20 16.4V7.6C20 5.61 18.39 4 16.4 4H7.6ZM17.25 5.5C17.5815 5.5 17.8995 5.6317 18.1339 5.86612C18.3683 6.10054 18.5 6.41848 18.5 6.75C18.5 7.08152 18.3683 7.39946 18.1339 7.63388C17.8995 7.8683 17.5815 8 17.25 8C16.9185 8 16.6005 7.8683 16.3661 7.63388C16.1317 7.39946 16 7.08152 16 6.75C16 6.41848 16.1317 6.10054 16.3661 5.86612C16.6005 5.6317 16.9185 5.5 17.25 5.5ZM12 7C13.3261 7 14.5979 7.52678 15.5355 8.46447C16.4732 9.40215 17 10.6739 17 12C17 13.3261 16.4732 14.5979 15.5355 15.5355C14.5979 16.4732 13.3261 17 12 17C10.6739 17 9.40215 16.4732 8.46447 15.5355C7.52678 14.5979 7 13.3261 7 12C7 10.6739 7.52678 9.40215 8.46447 8.46447C9.40215 7.52678 10.6739 7 12 7ZM12 9C11.2044 9 10.4413 9.31607 9.87868 9.87868C9.31607 10.4413 9 11.2044 9 12C9 12.7956 9.31607 13.5587 9.87868 14.1213C10.4413 14.6839 11.2044 15 12 15C12.7956 15 13.5587 14.6839 14.1213 14.1213C14.6839 13.5587 15 12.7956 15 12C15 11.2044 14.6839 10.4413 14.1213 9.87868C13.5587 9.31607 12.7956 9 12 9Z",fill:"#9CA3AF"})),bO=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M5.679 18.123C3.093 16.566 1.5 14.112 1.5 11.405C1.501 6.701 6.249 3 12.001 3C17.753 3 22.501 6.701 22.501 11.405C22.501 16.109 17.753 19.81 12.001 19.81C11.559 19.81 11.1197 19.7883 10.683 19.745L6.918 22.203C6.303 22.529 5.961 22.628 5.433 22.269C4.813 21.845 4.837 21.377 5.051 20.709L5.679 18.123ZM3.5 11.405C3.5 13.537 4.918 15.528 7.281 16.725L7.987 17.084L7.801 17.854L7.4 19.502L10.2 17.672L10.565 17.718C11.039 17.7793 11.5173 17.81 12 17.81C16.741 17.81 20.5 14.88 20.5 11.405C20.5 7.93 16.742 5 12.001 5C7.26 5 3.5 7.93 3.5 11.405ZM17.908 11.059L19.422 13.214C19.4577 13.2648 19.483 13.322 19.4965 13.3826C19.51 13.4431 19.5115 13.5057 19.5008 13.5668C19.4901 13.6279 19.4675 13.6863 19.4342 13.7387C19.401 13.791 19.3578 13.8363 19.307 13.872C19.2562 13.9077 19.199 13.933 19.1384 13.9465C19.0779 13.96 19.0153 13.9615 18.9542 13.9508C18.8931 13.9401 18.8347 13.9175 18.7823 13.8842C18.73 13.851 18.6847 13.8078 18.649 13.757L17.221 11.724L16.794 12.137V13.5C16.794 13.6252 16.7443 13.7452 16.6558 13.8338C16.5672 13.9223 16.4472 13.972 16.322 13.972C16.1968 13.972 16.0768 13.9223 15.9882 13.8338C15.8997 13.7452 15.85 13.6252 15.85 13.5V12.061C15.8334 11.9879 15.8334 11.9121 15.85 11.839V9.282C15.85 9.15682 15.8997 9.03676 15.9882 8.94825C16.0768 8.85973 16.1968 8.81 16.322 8.81C16.4472 8.81 16.5672 8.85973 16.6558 8.94825C16.7443 9.03676 16.794 9.15682 16.794 9.282V10.824L18.722 8.958C18.8128 8.87613 18.9319 8.83271 19.0541 8.83689C19.1763 8.84107 19.2922 8.89252 19.3772 8.98041C19.4622 9.06829 19.5098 9.18575 19.51 9.30804C19.5101 9.43033 19.4628 9.54791 19.378 9.636L17.908 11.059ZM14.95 12.984C15.0752 12.984 15.1952 13.0337 15.2838 13.1222C15.3723 13.2108 15.422 13.3308 15.422 13.456C15.422 13.5812 15.3723 13.7012 15.2838 13.7898C15.1952 13.8783 15.0752 13.928 14.95 13.928H13.018C12.956 13.9281 12.8946 13.916 12.8374 13.8923C12.7801 13.8686 12.7281 13.8339 12.6843 13.79C12.6405 13.7461 12.6059 13.694 12.5823 13.6367C12.5587 13.5794 12.5467 13.518 12.547 13.456V9.297C12.5441 9.23325 12.5541 9.16958 12.5765 9.10981C12.5988 9.05005 12.6331 8.99544 12.6772 8.9493C12.7212 8.90315 12.7742 8.86641 12.8329 8.84132C12.8915 8.81622 12.9547 8.80328 13.0185 8.80328C13.0823 8.80328 13.1455 8.81622 13.2041 8.84132C13.2628 8.86641 13.3158 8.90315 13.3598 8.9493C13.4039 8.99544 13.4382 9.05005 13.4605 9.10981C13.4829 9.16958 13.4929 9.23325 13.49 9.297V12.984H14.95ZM9.093 11.893H10.427L9.789 10.185L9.093 11.893ZM11.616 12.38L11.961 13.305C11.9848 13.3635 11.9967 13.4262 11.9958 13.4893C11.995 13.5525 11.9815 13.6148 11.9561 13.6727C11.9308 13.7305 11.8941 13.7827 11.8482 13.8261C11.8023 13.8694 11.7481 13.9032 11.689 13.9253C11.6298 13.9474 11.5668 13.9574 11.5037 13.9546C11.4406 13.9519 11.3787 13.9366 11.3216 13.9095C11.2645 13.8825 11.2135 13.8442 11.1715 13.7971C11.1295 13.7499 11.0973 13.6948 11.077 13.635L10.779 12.836H8.709L8.377 13.649C8.35356 13.7064 8.31904 13.7586 8.27543 13.8026C8.23181 13.8467 8.17994 13.8817 8.12279 13.9057C8.06563 13.9297 8.00431 13.9422 7.94232 13.9425C7.88033 13.9428 7.81889 13.9309 7.7615 13.9075C7.70411 13.8841 7.6519 13.8495 7.60785 13.8059C7.56381 13.7623 7.52878 13.7104 7.50478 13.6533C7.48077 13.5961 7.46826 13.5348 7.46796 13.4728C7.46765 13.4108 7.47956 13.3494 7.503 13.292L9.165 9.217C9.21605 9.08531 9.30573 8.97215 9.42227 8.89237C9.53882 8.81259 9.67677 8.76994 9.818 8.77C9.95833 8.7758 10.0936 8.8243 10.2056 8.90899C10.3176 8.99369 10.4012 9.11057 10.445 9.244L11.491 12.044C11.5723 12.1308 11.6177 12.2451 11.618 12.364L11.616 12.38ZM8.294 9.302C8.294 9.562 8.084 9.774 7.823 9.774H6.683V13.51C6.683 13.6353 6.63322 13.7555 6.54461 13.8441C6.456 13.9327 6.33581 13.9825 6.2105 13.9825C6.08518 13.9825 5.965 13.9327 5.87639 13.8441C5.78778 13.7555 5.738 13.6353 5.738 13.51V9.774H4.578C4.45282 9.774 4.33276 9.72427 4.24425 9.63575C4.15573 9.54724 4.106 9.42718 4.106 9.302C4.106 9.17682 4.15573 9.05676 4.24425 8.96825C4.33276 8.87973 4.45282 8.83 4.578 8.83H7.823C8.083 8.83 8.294 9.041 8.294 9.302Z",fill:"#9CA3AF"})),wO=[{title:"",children:[{title:"ALLCLL ",href:"/about"},{title:"  ",href:"/faq"},{title:"  ",href:"https://forms.gle/bCDTVujEHunnvHe88"},{title:"allcllclla@google.com"}]}],_O=[{icon:c.jsx(xO,{className:"w-8 h-8 m-2"}),title:" github",href:"https://github.com/allcll"},{icon:c.jsx(bO,{className:"w-8 h-8 m-2"}),title:" ",href:"https://open.kakao.com/o/g3MztXfh"},{icon:c.jsx(vO,{className:"w-8 h-8 m-2"}),title:" instagram",href:"https://www.instagram.com/sejong_allcll"}];function Ev(){return c.jsxs("footer",{className:"bg-white text-center text-sm text-gray-500",children:[c.jsxs("div",{className:"mx-auto max-w-7xl px-4 md:px-16 py-12 grid md:grid-cols-3 gap-6 text-center md:text-left",children:[c.jsxs("div",{className:"mx-auto md:mx-0",children:[c.jsxs("div",{className:"flex items-center mb-2 h-fit justify-center md:justify-start",children:[c.jsx("img",{src:"/ci.svg",className:"w-6 h-6 mr-2",alt:"ci"}),c.jsx("img",{src:"/logo-name.svg",alt:"logo",className:"h-5"})]}),c.jsx("ul",{className:"flex items-center",children:_O.map(({icon:e,title:t,href:n})=>c.jsx("li",{children:c.jsx("a",{href:n,className:"h-fit rounded-md hover:bg-gray-200","aria-label":t,title:t,children:e})},t))})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold mb-4",children:""}),c.jsx("ul",{children:Sv.map(({title:e,path:t,end:n})=>c.jsx("li",{className:"mb-1",children:c.jsx(Ma,{to:t,end:n,className:"hover:text-blue-500 hover:underline hover:font-bold",children:e})},e))})]}),wO.map((e,t)=>c.jsxs("div",{className:"mb-4",children:[c.jsx("h3",{className:"font-bold mb-4",children:e.title}),c.jsx("ul",{children:e.children.map((n,r)=>c.jsx("li",{className:"mb-1",children:n.href?n.href.startsWith("http")?c.jsx("a",{className:"hover:text-blue-500 hover:underline hover:font-bold",href:n.href,target:"_blank",children:n.title}):c.jsx(Sr,{to:n.href,className:"hover:text-blue-500 hover:underline hover:font-bold",children:n.title}):c.jsx("p",{children:n.title})},r))})]},t))]}),c.jsx("p",{className:"pb-12",children:" 2025 ALLCLL. All rights reserved."})]})}const SO=1.5*1e3,qC=5,Zr=fr(e=>({needCount:0,alwaysReload:!1,forceReloadNumber:0,errorCount:0,isError:!1,isPending:!0,addNeedCount:()=>e(t=>({needCount:t.needCount+1})),deleteNeedCount:()=>e(t=>({needCount:Math.max(0,t.needCount-1)})),setAlwaysReload:t=>e({alwaysReload:t}),setForceReload:()=>e(t=>({forceReloadNumber:t.forceReloadNumber+1,errorCount:0,isError:!1})),setError:()=>e(({errorCount:t,isPending:n})=>({errorCount:t+1,isError:t+1>=qC,isPending:n||t>1})),resetError:()=>e({errorCount:0,isError:!1,isPending:!1})}));function Tv(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var s;const a=u=>u===null?null:JSON.parse(u,void 0),o=(s=n.getItem(i))!=null?s:null;return o instanceof Promise?o.then(a):a(o)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const X1=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return X1(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return X1(r)(n)}}}},CO=(e,t)=>(n,r,i)=>{let s={storage:Tv(()=>window.localStorage),partialize:C=>C,version:0,merge:(C,k)=>({...k,...C}),...t},a=!1,o=0;const u=new Set,d=new Set;let f=s.storage;if(!f)return e((...C)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...C)},r,i);const p=()=>{const C=s.partialize({...r()});return f.setItem(s.name,{state:C,version:s.version})},g=i.setState;i.setState=(C,k)=>(g(C,k),p());const y=e((...C)=>(n(...C),p()),r,i);i.getInitialState=()=>y;let b;const _=()=>{var C,k;if(!f)return;const P=++o;a=!1,u.forEach(U=>{var V;return U((V=r())!=null?V:y)});const A=((k=s.onRehydrateStorage)==null?void 0:k.call(s,(C=r())!=null?C:y))||void 0;return X1(f.getItem.bind(f))(s.name).then(U=>{if(U)if(typeof U.version=="number"&&U.version!==s.version){if(s.migrate){const V=s.migrate(U.state,U.version);return V instanceof Promise?V.then(I=>[!0,I]):[!0,V]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,U.state];return[!1,void 0]}).then(U=>{var V;if(P!==o)return;const[I,O]=U;if(b=s.merge(O,(V=r())!=null?V:y),n(b,!0),I)return p()}).then(()=>{P===o&&(A?.(b,void 0),b=r(),a=!0,d.forEach(U=>U(b)))}).catch(U=>{P===o&&A?.(void 0,U)})};return i.persist={setOptions:C=>{s={...s,...C},C.storage&&(f=C.storage)},clearStorage:()=>{f?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>_(),hasHydrated:()=>a,onHydrate:C=>(u.add(C),()=>{u.delete(C)}),onFinishHydration:C=>(d.add(C),()=>{d.delete(C)})},s.skipHydration||_(),b||y},tg=CO,jO=()=>{if(!(typeof window>"u"||typeof navigator>"u"))return navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate},Cd=jO(),Nv={canNotify(){return!!Cd},isGranted(){return this.canNotify()},requestPermission(e){this.isGranted()?e?.("granted"):e?.("denied")},getDeniedMessage(){return this.canNotify()?[]:["     ."]},show(e,t){const n=uh(Eo.VIBRATE);Cd&&n&&Cd.call(navigator,[200])},close(e){Cd&&Cd.call(navigator,0)}};var fi=(e=>(e[e.NONE=0]="NONE",e[e.BROWSER=1]="BROWSER",e[e.TOAST=2]="TOAST",e[e.BOTH=3]="BOTH",e))(fi||{}),Eo=(e=>(e[e.NONE=0]="NONE",e[e.VIBRATE=1]="VIBRATE",e[e.SOUND=2]="SOUND",e[e.ALL=3]="ALL",e))(Eo||{});const kO=()=>/Mobi|Android/i.test(navigator.userAgent),V3=()=>{const e="Notification"in window,t=kO();return 1*Number(e)+2*Number(t)},q3=()=>{const e=Nv.canNotify();return 1*Number(e)+2},Xs=fr()(tg(e=>({alarmType:V3(),subAlarmType:q3(),saveSettings:t=>e(n=>({...n,...t})),resetSettings:()=>e(()=>({alarmType:V3(),subAlarmType:q3()}))}),{name:"AlarmSettings",partialize:e=>({alarmType:e.alarmType,subAlarmType:e.subAlarmType})}));function Z1(e){return!!(Xs.getState().alarmType&e)}function uh(e){return!!(Xs.getState().subAlarmType&e)}const Lo=fr(e=>({isOpen:!1,isPermitted:!1,open:()=>e({isOpen:!0}),close:()=>e({isOpen:!1}),setPermitted:t=>e({isPermitted:t})}));function EO(){return c.jsxs(c.Fragment,{children:["  ? ",c.jsx(Sr,{to:"/faq#0",className:"text-blue-500 underline hover:text-blue-600",children:" "})]})}const fp=()=>Notification??window.Notification,Gi={canNotify(){return"Notification"in window||!!fp()},isGranted(){return Gi.canNotify()&&fp().permission==="granted"},requestPermission(e){const t=fp();if(!Gi.canNotify()){alert("      .   ");return}if(!Gi.isGranted()){t.requestPermission().then(n=>{e&&e(n),Lo.getState().setPermitted(n==="granted")});return}e&&e(t.permission)},getDeniedMessage(){return Gi.canNotify()?Gi.isGranted()?[]:["   .    "]:["     "]},show(e,t){const n=Gi.canNotify(),r=Z1(fi.BROWSER),i=km.getState().setBanner,s=fp();n&&r&&s.permission==="granted"&&(NO(i),navigator.serviceWorker.ready.then(function(a){a.showNotification(e,{badge:"/ci.svg",tag:t}).then()}))},close(e){!Gi.canNotify()||!Gi.isGranted()||navigator.serviceWorker.ready.then(function(t){t.getNotifications({tag:e}).then(function(n){n.forEach(function(r){r.close()})})})}},TO=1e3*60*60*24;function NO(e){const t="alarm-check",n=localStorage.getItem(t);n&&Date.now()-Number(n)<100*TO||setTimeout(()=>{e(EO(),()=>{localStorage.setItem(t,Date.now().toString())})},5e3)}const ex={canNotify(){return!0},isGranted(){return!0},requestPermission(e){},getDeniedMessage(){return[]},show(e,t){const n=Ia.getState().addToast;n&&n(e,t)},close(e){const t=Ia.getState().clearToast;t(e)}},PO="/notification.mp3";let Cs=null;const OO=()=>{typeof Audio<"u"&&!Cs&&(Cs=new Audio(PO),Cs.preload="auto",Cs.volume=1,Cs.load())};OO();const RO={canNotify(){return typeof Audio<"u"},isGranted(){return this.canNotify()},requestPermission(e){this.isGranted()?e?.("granted"):e?.("denied")},getDeniedMessage(){return this.canNotify()?[]:["     ."]},show(e,t){this.canNotify()&&Cs&&(Cs.currentTime=0,Cs.play().catch(n=>{console.warn("Failed to play notification sound:",n)}))},close(e){Cs&&(Cs.pause(),Cs.currentTime=0)}},ng="https://dev.allcll.kr";async function $o(e,t){return await fetch(ng+e,{credentials:"include",...t})}async function vi(e,t){const n=await fetch(ng+e,{credentials:"include",...t,headers:{"Content-Type":"application/json",...t?.headers}});if(!n.ok)throw new Error(await n.text());return await n.json()}async function WC(e,t,n){const r=await fetch(ng+e,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"},body:t?JSON.stringify(t):void 0,...n});if(!r.ok)throw new Error(await r.text());return r.status===204?null:await r.json()}function AO(e,t){return new EventSource(ng+e,{withCredentials:!0,...t})}async function rg(e,t){const n=await fetch(e,{credentials:"include",...t});if(!n.ok)throw new Error(await n.text());return await n.json()}async function IO(e,t){const n=await fetch(e,t);if(!n.ok)throw new Error(await n.text());return await n.text()}const LO=async()=>await vi("/api/subjects"),DO=async e=>await rg(`/${e}/subjects.json`),MO=async()=>FO,ig=[{semesterCode:"SPRING_26",semesterValue:"2026-1"},{semesterCode:"WINTER_25",semesterValue:"2025-"},{semesterCode:"FALL_25",semesterValue:"2025-2"},{semesterCode:"SUMMER_25",semesterValue:"2025-"},{semesterCode:"SPRING_25",semesterValue:"2025-1"}],es=ig[0],FO={semesterCode:"SPRING_26",semesterValue:"2026-1",services:[{id:"timetable",startDate:"2026-01-23",endDate:"2099-12-31",message:null},{id:"baskets",startDate:"2026-01-23",endDate:"2099-12-31",message:null},{id:"simulation",startDate:"2026-01-23",endDate:"2099-12-31",message:null},{id:"live",startDate:"2026-01-23",endDate:"2026-03-09",message:null},{id:"preSeat",startDate:"2026-02-10",endDate:"2026-03-09",message:null}]},sg={subjectId:-1,subjectName:"",subjectCode:"",classCode:"",professorName:"",deptCd:"",manageDeptNm:"",studentYear:"",lesnTime:"",lesnRoom:"",tmNum:"",remark:null,curiTypeCdNm:"",curiLangNm:null,isDeleted:!0};function Rs(e){e=e??es.semesterCode;const t=e===es.semesterCode;return Cr({queryKey:["subjects",e],queryFn:()=>t?LO():DO(e),staleTime:1/0,select:n=>n.subjectResponses})}function BO(e){return e.getQueryData(["subjects",es.semesterCode])?.subjectResponses??[]}let W3=!1;function Fu(){const e=[],t=Z1(fi.BROWSER),n=Z1(fi.TOAST),r=uh(Eo.VIBRATE),i=uh(Eo.SOUND);return t&&e.push(Gi),n&&e.push(ex),r&&e.push(Nv),i&&e.push(RO),e}const Ai={canNotify(){return Fu().every(e=>e.canNotify())},isGranted(){const e=Fu().every(t=>t.isGranted());return Lo.getState().setPermitted(e),e},requestPermission(e){Ai.isGranted()||(Fu().forEach(t=>t.requestPermission(e)),Lo.getState().open())},getDeniedMessage(){return Fu().flatMap(e=>e.getDeniedMessage())},show(e,t){Xs.getState().alarmType!==fi.NONE&&Fu().forEach(r=>r.show(e,t))},close(e){Fu().forEach(t=>t.close(e))}};function zO(e,t,n){const{alwaysReload:r}=Zr.getState();if(!(!e||!t||!r)){for(const i of t)if(e.some(a=>a.subjectId===i.subjectId&&a.seatCount===0&&i.seatCount>0)){const a=UO(n,i.subjectId);if(!a){Ai.show("unknown subject  ");return}Ai.show(`${a.subjectCode}-${a.classCode} ${a.subjectName}  `)}}}function UO(e,t){return BO(e).find(r=>r.subjectId===t)}let pp=null,Q3=1;function K3(e){const t="global-notification_"+Q3,n="global-notification_"+ ++Q3;pp&&(clearTimeout(pp),Ai.close(t),pp=null),Ai.show(e,n),pp=setTimeout(()=>Ai.close(n),3e3)}function $O(){const e=Zr(i=>i.alwaysReload),t=Zr(i=>i.setAlwaysReload),n=e;return T.useEffect(()=>{W3||(Ai.isGranted()&&(K3("  .     "),t(!0)),W3=!0)},[]),{isAlarm:n,changeAlarm:()=>{if(!n){if(Xs.getState().alarmType===fi.NONE){if(!confirm("   ?"))return;Xs.getState().resetSettings()}Ai.requestPermission()}const i=n?"  ":"  ";t(!n),K3(i)}}}var Pv=(e=>(e.IDLE="idle",e.LIVE="live",e))(Pv||{});const HO=3e3;let mp=null;const uc=fr(e=>({lastUpdate:new Date,sseState:"live",updated:()=>{e({lastUpdate:new Date,sseState:"live"}),mp&&clearInterval(mp),mp=setTimeout(()=>{e({sseState:"idle"}),mp=null},HO)}}));function G3(e,t){const n=[];for(const r of t){const i=e.find(a=>a.subjectId===r.subjectId);!i||i.seatCount!==r.seatCount||i.queryTime!==r.queryTime?n.push(r):n.push(i)}return n}function VO(e,t){const n=new Set;[...e,...t].forEach(i=>{n.add(i.subjectId)});const r=[];return n.forEach(i=>{const s=e.find(u=>u.subjectId===i),a=t.find(u=>u.subjectId===i);a&&(!s||s.queryTime!==a.queryTime||s.seatCount!==a.seatCount)?r.push(a):s&&r.push(s)}),r}var ag=(e=>(e.NON_MAJOR="nonMajorSeats",e.MAJOR="majorSeats",e.PINNED="pinSeats",e))(ag||{});let gp=!1;const qO=()=>{const e=$n(),t=Zr(u=>u.needCount),n=Zr(u=>u.alwaysReload),r=Zr(u=>u.forceReloadNumber),i=Zr(u=>u.errorCount),s=Zr(u=>u.setError),a=Zr(u=>u.resetError),o=Zr(u=>u.isError);T.useEffect(()=>{const u=n||t>0;gp||!u||i>=qC||(gp=!0,WO(e,a).then(()=>{a(),gp=!1}).catch(()=>{gp=!1,i===0?s():setTimeout(s,SO)}))},[n,t,e,s,r,a,i]),T.useEffect(()=>{o&&Ai.show(" .  .")},[o])},WO=(e,t)=>new Promise((n,r)=>{const i=AO("/api/connect");return i.addEventListener("nonMajorSeats",s=>{const a=JSON.parse(s.data);if(!a)return;const o=a.seatResponses??[];e.setQueryData(["nonMajorSeats"],(u=[])=>G3(u,o)),uc.getState().updated()}),i.addEventListener("majorSeats",s=>{const a=JSON.parse(s.data);if(!a)return;const o=a.seatResponses??[];e.setQueryData(["majorSeats"],(u=[])=>G3(u,o)),uc.getState().updated()}),i.addEventListener("pinSeats",s=>{const a=JSON.parse(s.data);if(!a)return;const o=a.seatResponses??[];e.setQueryData(["pinSeats"],(u=[])=>{const d=VO(u,o);return zO(u,d,e),d}),uc.getState().updated()}),i.onopen=()=>{t(),uc.getState().updated()},i.onerror=s=>{i.close(),r(new Error("SSE connection error: "+(s.type??"Unknown error")))},()=>{i.close(),n("SSE connection closed")}}),Ov=e=>{const t=$n(),n=Zr(u=>u.addNeedCount),r=Zr(u=>u.deleteNeedCount),i=Zr(u=>u.isPending),s=Zr(u=>u.isError),a=Zr(u=>u.setForceReload);return T.useEffect(()=>{const u=()=>{document.visibilityState==="visible"?n():r()};return n(),document.addEventListener("visibilitychange",u),()=>{r(),document.removeEventListener("visibilitychange",u)}},[n,r]),{...Cr({queryKey:[e],queryFn:()=>Promise.resolve(t.getQueryData([e])??[])}),isPending:i,isError:s,refetch:a}},Y3={idx:-1,key:""};function Rv(){const e=Ps(),t=T.useRef(Y3);T.useEffect(()=>{const n=window.history.state;(!n||n.idx>=t.current.idx)&&window.scrollTo(0,0),t.current=n??Y3},[e.pathname]),qO()}function Ty(){return Rv(),c.jsxs("div",{className:"flex flex-col min-h-screen",children:[c.jsx(Un,{children:c.jsx("title",{children:"(ALLCLL) |   "})}),c.jsx(kv,{}),c.jsx(Cv,{}),c.jsx(HC,{}),c.jsx(av,{}),c.jsx(Ev,{})]})}function Zl(e){const t=Cr({queryKey:["serviceSemester"],queryFn:MO,staleTime:1/0,select:r=>r?{...r,services:r.services.map(QO)}:null});if(!e||!t.data)return t;const n=t.data.services.find(r=>r.id===e);return{...t,data:{semesterCode:t.data.semesterCode,semesterValue:t.data.semesterValue,service:n}}}const QO=e=>{const t=new Date,n=new Date(e.startDate),r=new Date(e.endDate);n.setHours(0,0,0,0),r.setHours(23,59,59,999);const i=n<=t&&t<=r;return{id:e.id,startDate:n,endDate:r,withinPeriod:i,startDateStr:e.startDate,endDateStr:e.endDate,message:e.message}},KO=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17.971202850341797,height:16.003124237060547,viewBox:"0 0 17.971202850341797 16.003124237060547",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,32.006248474121094)"},T.createElement("path",{d:"M17.9688,24.003124237060547Q17.9376,23.596874237060547,17.6568,23.315624237060547Q17.3761,23.034374237060547,16.9705,23.003124237060547L15.9723,23.003124237060547L16.0035,18.003124237060547Q15.9723,17.878124237060547,15.9723,17.753124237060547L15.9723,17.253124237060547Q15.9723,16.721874237060547,15.5979,16.378124237060547Q15.2548,16.003124237060547,14.7244,16.003124237060547L14.2253,16.003124237060547Q14.1629,16.003124237060547,14.1317,16.003124237060547Q14.0693,16.003124237060547,14.0069,16.003124237060547L12.9775,16.003124237060547L12.2288,16.003124237060547Q11.6984,16.003124237060547,11.3553,16.378124237060547Q10.9809,16.721874237060547,10.9809,17.253124237060547L10.9809,18.003124237060547L10.9809,20.003124237060547Q10.9809,20.440624237060547,10.7002,20.721874237060547Q10.4194,21.003124237060547,9.98267,21.003124237060547L7.98614,21.003124237060547Q7.54939,21.003124237060547,7.26863,20.721874237060547Q6.98787,20.440624237060547,6.98787,20.003124237060547L6.98787,18.003124237060547L6.98787,17.253124237060547Q6.98787,16.721874237060547,6.61352,16.378124237060547Q6.27036,16.003124237060547,5.74003,16.003124237060547L4.99133,16.003124237060547L3.99307,16.003124237060547Q3.96187,16.003124237060547,3.93068,16.003124237060547Q3.89948,16.003124237060547,3.86828,16.003124237060547Q3.80589,16.003124237060547,3.7435,16.003124237060547L3.24437,16.003124237060547Q2.71404,16.003124237060547,2.37088,16.378124237060547Q1.99653,16.721874237060547,1.99653,17.253124237060547L1.99653,20.753124237060547Q1.99653,20.784374237060547,1.99653,20.846874237060547L1.99653,23.003124237060547L0.998267,23.003124237060547Q0.561525,23.034374237060547,0.280763,23.315624237060547Q0,23.596874237060547,0,24.034374237060547Q0,24.440624237060547,0.311958,24.784374237060547L8.29809,31.753124237060547Q8.64125,32.034324237060545,8.9844,32.00312423706055Q9.35875,32.00312423706055,9.63952,31.78442423706055L17.6257,24.753124237060547Q18,24.440624237060547,17.9688,24.003124237060547Z",fill:"#FFFFFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function GO({data:e}){const t=e.service?.endDate&&e.service.endDate<new Date;return c.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen min-w-[250px] bg-gray-100 px-4",children:c.jsxs("main",{className:"text-center",children:[c.jsx(mt,{level:1,children:t?"  .":" ."}),c.jsxs(Xt,{children:["   .",c.jsx("br",{}),"       :)"]}),c.jsxs(Yt,{className:"mt-2",children:[t?c.jsxs(c.Fragment,{children:[c.jsxs(mt,{level:2,children:[e.semesterValue,"  ."]}),c.jsxs(Xt,{children:["     .",c.jsx("br",{})]}),c.jsx(Xt,{children:"    ."})]}):c.jsxs(c.Fragment,{children:[c.jsx(mt,{level:2,children:"   "}),c.jsxs(Xt,{children:[e.semesterValue," "]}),c.jsxs(Xt,{children:[e.service?.startDateStr," ~ ",e.service?.endDateStr]})]}),c.jsx("hr",{className:"my-4 border-gray-200"}),c.jsx(mt,{level:3,children:""}),c.jsx(Xt,{className:"flex items-center justify-center gap-2 mt-2",children:"allcllclla@google.com"}),c.jsx(ct,{variant:"text",size:"medium",textColor:"primary",asChild:!0,children:c.jsx("a",{href:"https://forms.gle/bCDTVujEHunnvHe88",target:"_blank",children:"  "})}),c.jsx(ct,{variant:"text",size:"medium",textColor:"primary",asChild:!0,children:c.jsx("a",{href:"https://open.kakao.com/o/g3MztXfh",target:"_blank",children:" "})})]}),c.jsx(fe,{className:"mt-6",justify:"justify-center",children:c.jsx(ct,{variant:"primary",size:"medium",asChild:!0,children:c.jsxs(Sr,{to:"/",children:[c.jsx(KO,{className:"w-4 h-4"}),"  "]})})})]})})}function QC({serviceId:e,children:t}){const{data:n,error:r}=Zl(e);return r&&console.error("Semester service error:",r),!n||!("service"in n)||!n.service||n.service.withinPeriod?t:c.jsx(GO,{data:n})}function Ny({serviceId:e}){return Rv(),c.jsxs("div",{className:"flex min-h-screen flex-col",children:[c.jsx(kv,{}),c.jsx(Cv,{}),c.jsxs(QC,{serviceId:e,children:[c.jsx(HC,{}),c.jsx("div",{className:"flex-1",children:c.jsx(av,{})})]}),c.jsx(Ev,{})]})}const YO=[{name:"  ",children:[{name:"  ",children:[{name:"",path:"/simulation"},{name:" ",path:"/simulation/logs"},{name:" ",path:"#"},{name:"/ ",path:"#"},{name:"/",path:"#"},{name:"(,)",path:"#"}]}]}],tx=[{title:"",urlPath:"/simulation"},{title:" ",urlPath:"/simulation/logs"},{title:" ",urlPath:"/simulation/logs/"},{title:" ",urlPath:"/simulation/interest"},{title:" ",urlPath:"/simulation/admin"}];({...tx[0],realUrl:tx[0].urlPath});function KC({className:e,essential:t,disabled:n,children:r}){const s=(t?"relative inline-block w-autobefore:content-[''] before:absolute before:top-0 before:left-0 before:w-0 before:h-0 before:z-5 "+(n?"before:border-t-[8px] before:border-t-gray-400 before:border-r-[8px] before:border-r-transparent ":"before:border-t-[8px] before:border-t-red-500 before:border-r-[8px] before:border-r-transparent "):"")+e;return c.jsx("div",{className:s,children:r})}function JO({type:e="text",className:t="",essential:n=!1,disabled:r=!1,...i}){return c.jsx(KC,{className:t,essential:n,disabled:r,children:c.jsx("input",{type:e,className:"relative border-1 border-gray-300 px-2 text-xs w-full h-6 focus:outline-none focus:rounded focus:ring focus:border-gray-800 disabled:bg-gray-100 disabled:cursor-not-allowed ",disabled:r,...i})})}function XO({variant:e="primary",size:t="md",className:n="",children:r,...i}){const s="flex flex-row gap-1 cursor-pointer rounded",a=ZO(e),o=eR(t),u=`${s} ${a} ${o} ${n}`.trim();return c.jsx("button",{className:u,...i,children:r})}function ZO(e){switch(e){case"primary":return"bg-blue-500 text-white hover:bg-blue-600";case"secondary":return"bg-gray-500 text-white hover:bg-gray-600";case"dark":return"bg-gray-700 text-white hover:bg-gray-900";case"cancel":return"bg-white border border-gray-700 hover:bg-gray-100";case"danger":return"bg-red-500 text-white hover:bg-red-600";default:return""}}function eR(e){switch(e){case"sm":return"px-2 py-0.5 text-xs rounded-xs";case"md":return"px-3 py-2 text-sm";case"lg":return"px-4 py-3 text-base";default:return""}}function tR({className:e="",essential:t=!1,children:n,...r}){const i="px-2 h-6 text-gray-400 text-xs border border-gray-300 disabled:bg-gray-100 disabled:cursor-not-allowed "+e;return c.jsx(KC,{className:e,essential:t,disabled:r.disabled??!1,children:c.jsx("select",{className:i,...r,children:n})})}function nR({children:e,onBackdropClick:t,preventAutoFocus:n,noBorder:r}){const i=T.useRef(null),s=r?"":"border-[3px] border-slate-800 ";T.useEffect(()=>(document.body.style.overflow="hidden",n||i.current?.focus(),()=>{document.body.style.overflow=""}),[n]);const a=o=>{o.stopPropagation(),t&&t()};return c.jsxs("div",{className:"fixed inset-0 z-100 flex items-center justify-center",children:[c.jsx("button",{type:"button","aria-label":"Close dialog",className:"absolute inset-0 bg-black/5 cursor-default",onClick:a}),c.jsx("div",{className:"fixed inset-x-0 top-0 bottom-0 flex items-center justify-center bg-black/5",children:c.jsx("div",{ref:i,role:"dialog",tabIndex:-1,"aria-labelledby":"modal-title","aria-describedby":"modal-desc",className:`
          relative
          max-h-[100vh]
          min-w-[390px]
          bg-white
          overflow-y-auto
          ${s}
        `,onClick:o=>o.stopPropagation(),children:e})})]})}const GC=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e},T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px",d:"M4 20L20 4M4 4l16 16"}));function rR({title:e,onClose:t=()=>{}}){return c.jsxs("div",{className:"flex justify-between items-center p-3 border-b border-gray-200 ",children:[c.jsx("h2",{className:"font-semibold sm:text-lg text-sm text-gray-900",children:e}),c.jsx("button",{className:"w-5 h-5 text-gray-500 hover:text-gray-700 cursor-pointer",onClick:t,title:"",tabIndex:-1,children:c.jsx(GC,{className:"w-full h-full"})})]})}function iR({variant:e="primary",className:t="",children:n,...r}){const i="px-4 h-6 text-xs flex items-center gap-1 rounded-xs cursor-pointer",s=sR(e),a=`${i} ${s} ${t}`.trim();return c.jsx("button",{className:a,...r,children:n})}function sR(e){switch(e){case"primary":return"bg-blue-500 text-white hover:bg-blue-600";case"secondary":return"bg-gray-500 text-white hover:bg-gray-600";case"cancel":return"bg-white border border-gray-700 hover:bg-blue-50 hover:border-blue-500";case"danger":return"bg-red-500 text-white hover:bg-red-600";default:return""}}function aR({children:e,className:t="",...n}){const r="flex justify-end gap-4 w-full border-3 border-white "+t;return c.jsx("div",{className:r,...n,children:e})}const oR=Object.assign(nR,{Header:rR,Button:iR,ButtonContainer:aR});function lR({columns:e}){return c.jsx("thead",{className:"bg-gray-100",children:c.jsx("tr",{className:"text-nowrap",children:e.map(t=>c.jsx("th",{className:"border border-gray-300 px-2 py-1",children:t.header},String(t.header)))})})}function uR({columns:e,data:t,keyInfo:n}){return c.jsx("tbody",{children:t.map((r,i)=>{const s=typeof n=="function"?n(r):r[n];return c.jsx("tr",{children:e.map(a=>c.jsx("td",{className:"border border-gray-300 px-2 py-1",children:a.cell(r,i)},`cell-${s}-${a.header}`))},`row-${s}`)})})}function cR(){return c.jsx("tbody",{children:c.jsx("tr",{children:c.jsx("td",{colSpan:99,className:"text-gray-500 py-4",children:c.jsx("div",{className:"min-h-[160px] flex items-center justify-center ",children:c.jsx("p",{className:"bg-gray-100 px-15 py-1 border",children:"  ."})})})})})}function dR({columns:e,data:t,className:n="w-full border border-gray-300 border-t-3 border-t-black text-center text-xs text-nowrap",keyInfo:r,emptyComponent:i=c.jsx(cR,{})}){const s=t&&t.length>0;return c.jsx("div",{className:"overflow-x-auto min-h-[300px] border-gray-300",children:c.jsxs("table",{className:n,children:[c.jsx(lR,{columns:e}),s?c.jsx(uR,{columns:e,data:t,keyInfo:r}):i]})})}function hR({children:e,className:t=""}){const r=`font-semibold pl-2 border-l-4 border-blue-500 ${t}`.trim();return c.jsx("div",{className:r,children:e})}const YC=T.createContext(null);function fR(){const e=T.useContext(YC);if(!e)throw new Error("useTabsContext must be used within a TabsProvider");return e}function pR({tabList:e,initialTabs:t=[],children:n}){const[r,i]=T.useState(t),s=Da(),a=Ps();T.useEffect(()=>{if(r.length===0){const f=o(a);u(f),s(f.realUrl)}},[r]),T.useEffect(()=>{u(o(a))},[a.pathname]);function o(f){const p=f.pathname.replace(/\d+/,"");return{title:e.find(g=>g.urlPath===p)?.title||"   ",urlPath:p,realUrl:f.pathname}}const u=f=>{i(p=>{const g=p.findIndex(b=>b.urlPath===f.urlPath);if(g===-1)return[...p,f];const y=[...p];return y[g]=f,y})},d=f=>{i(p=>{const g=p.find(b=>b.urlPath===f);if(!g)return p;const y=p.filter(b=>b.urlPath!==f);if(window.location.pathname.includes(g.realUrl)){const b=y[y.length-1];s(b?b.realUrl:"/")}return y})};return c.jsx(YC.Provider,{value:{tabs:r,setTab:u,deleteTab:d},children:n})}function mR({tab:e,onDelete:t}){return c.jsxs(Ma,{to:e.realUrl,className:({isActive:n})=>"group px-2.5 flex items-center gap-2.5 w-1/4 sm:w-1/8 border-r-1 border-r-neutral-300 cursor-pointer focus:outline-none"+(n?" mb-[-1px] bg-white border-b-2 border-b-white border-t-4 border-t-blue-500 font-semibold text-blue-500":" text-gray-500 hover:bg-white"),end:!0,children:[c.jsx("span",{className:"flex-1 text-center overflow-hidden text-ellipsis text-nowrap rounded-xs group-focus:outline-black group-focus:outline-2",children:e.title}),c.jsx("button",{tabIndex:-1,"aria-label":" ",className:"w-4 text-gray-700 hover:text-blue-500 cursor-pointer",onClick:n=>{n.preventDefault(),n.stopPropagation(),t(e.urlPath)},children:c.jsx(GC,{className:"w-3 h-3"})})]})}function gR(){const{tabs:e,deleteTab:t}=fR();return c.jsx("div",{className:"flex border-b border-neutral-300 bg-gray-100 text-sm h-12",children:e.map(n=>c.jsx(mR,{tab:n,onDelete:t},n.urlPath))})}function yR({tabList:e,initialTabs:t=[]}){return c.jsx(pR,{tabList:e,initialTabs:t,children:c.jsx(gR,{})})}function xR({menu:e}){return c.jsx("li",{children:e.path==="#"?c.jsx("div",{className:"block px-2 py-2 text-xs text-gray-400 cursor-not-allowed",children:e.name}):c.jsx(Ma,{to:e.path??"#",className:({isActive:t})=>`block px-2 py-2 text-xs cursor-pointer hover:bg-blue-500 hover:text-white ${t?"bg-blue-500 text-white":""}`,end:!0,children:e.name})})}const vR=!0;function bR({menu:e}){const[t,n]=T.useState(vR);return c.jsxs("li",{className:"",children:[c.jsxs("button",{className:"px-4 py-2 h-10 flex items-center gap-4 w-full border-b border-neutral-300 cursor-pointer hover:bg-gray-100 "+(t?"font-semibold":"font-normal"),onClick:()=>n(r=>!r),children:[c.jsx("span",{children:t?"-":"+"}),c.jsx("span",{children:e.name})]}),t&&e.children&&c.jsx("ul",{className:"ml-1 pl-4 bg-neutral-100 font-semibold",children:e.children.map(r=>c.jsx(xR,{menu:r},r.name))})]})}const wR=!0;function _R({menu:e}){const[t,n]=T.useState(wR);return c.jsxs("li",{children:[c.jsxs("button",{className:"px-4 py-2 h-12 flex items-center justify-between w-full border-b border-neutral-300 cursor-pointer hover:bg-gray-100 "+(t?"font-semibold":"font-normal"),onClick:()=>n(r=>!r),children:[e.name,e.children&&c.jsx("span",{className:"ml-auto text-gray-500",children:t?"":""})]}),t&&e.children&&c.jsx("ul",{className:"",children:e.children.map(r=>c.jsx(bR,{menu:r},r.name))})]})}function SR({menus:e}){const[t,n]=T.useState(!0),[r]=T.useState(/Android|iPhone/i.test(navigator.userAgent)),i=()=>{n(s=>!s)};return c.jsx("aside",{className:(t?"relative z-10":"relative bg-blue-50 z-10")+(!t||r?" w-[20px] min-w-[20px] h-[calc(100vh-60px)]":" w-[230px] min-w-[230px]"),children:t?c.jsxs("div",{className:r?"absolute w-[300px] min-w-[300px] h-full bg-white shadow-gray-800 shadow-md":"bg-white",children:[c.jsxs("div",{className:"h-12 bg-blue-500 text-white text-lg font-semibold flex items-center justify-between px-4",children:[c.jsx("span",{children:""}),c.jsx("button",{className:"text-white hover:text-gray-200 cursor-pointer",onClick:i,children:"<"})]}),c.jsx("ul",{className:"flex flex-col text-sm",children:e.map(s=>c.jsx(_R,{menu:s},s.name))})]}):c.jsx("div",{children:c.jsx("button",{className:"w-full h-12 bg-blue-500 text-white text-lg font-semibold text-center cursor-pointer hover:text-gray-200",onClick:i,children:">"})})})}const Zt={Input:JO,Button:XO,Select:tR,Modal:oR,SectionHeader:hR,Tab:yR,AsideMenu:SR,DataTable:dR};function CR(){return Rv(),c.jsxs(c.Fragment,{children:[c.jsx(kv,{}),c.jsx(Cv,{}),c.jsx(QC,{serviceId:"simulation",children:c.jsx("div",{className:"w-full bg-white text-sm text-gray-800 font-sans",children:c.jsxs("div",{className:"flex",children:[c.jsx(Zt.AsideMenu,{menus:YO}),c.jsxs("div",{className:"flex-auto min-w-0",children:[c.jsx(Zt.Tab,{tabList:tx}),c.jsx("main",{className:"flex-1 p-4 space-y-4 mx-auto max-w-screen-2xl overflow-x-hidden",children:c.jsx(av,{})})]})]})})}),c.jsx(Ev,{})]})}function Ho({bgColor:e,className:t,children:n}){const r=e??"even:bg-white ",i=t?` ${t}`:"";return c.jsx("section",{className:r,children:c.jsx("div",{className:`mx-auto max-w-7xl px-4 md:px-8 py-10 ${i}`,children:n})})}const jR="02 10()",kR="02 13()";function ER(){const{data:e}=Zl();return c.jsxs(Ho,{className:"flex flex-col md:flex-row items-center justify-between",bgColor:"bg-banner-skysoft",children:[c.jsxs("div",{className:"max-w-xl",children:[c.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[c.jsx("img",{src:"/calendar.png",alt:"2026-1    ",className:"w-10 h-10"}),c.jsxs("span",{className:"italic text-xs text-stone-500 ",children:[e?.semesterValue,"    ",c.jsx("br",{}),jR," ~ ",kR]})]}),c.jsx("h1",{className:"text-lg mt-10 sm:text-xl md:text-2xl leading-snug font-bold mb-3 ",children:"      "}),c.jsxs("div",{className:"flex flex-row justify-start items-center text-xl sm:text-2xl md:text-4xl leading-snug font-bold mb-3",children:[c.jsx("img",{src:"/logo-name.svg",alt:"(ALLCLL)    ",className:"w-20 sm:w-32 md:w-40 lg:w-48 mr-2 animate-updown"})," !"]}),c.jsx(Xt,{children:"    ,    (ALLCLL)  ."}),c.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mt-4",children:[c.jsx(ct,{variant:"primary",size:"medium",asChild:!0,children:c.jsx(Sr,{to:"/live",children:"   "})}),c.jsx(ct,{variant:"outlined",size:"medium",asChild:!0,children:c.jsx(Sr,{to:"/simulation",children:"  "})})]})]}),c.jsx("img",{src:"/summer-banner.png",alt:"","aria-hidden":"true",className:"w-90 hidden sm:block  mt-8 md:mt-4"})]})}const TR=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:15,height:15,viewBox:"0 0 15 15",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,30)"},T.createElement("path",{d:"M10.3125,30Q9.69727,29.9707,9.43359,29.414099999999998Q9.22852,28.8574,9.63867,28.3887L10.8691,27.1875L5.88867,22.23633Q5.625,21.94336,5.625,21.5625Q5.625,21.18164,5.88867,20.88867Q6.18164,20.625,6.5625,20.625Q6.94336,20.625,7.23633,20.88867L12.1875,25.8691L13.3887,24.638669999999998Q13.8574,24.22852,14.4141,24.433590000000002Q14.9707,24.69727,15,25.3125L15,29.0625Q15,29.4727,14.7363,29.7363Q14.4727,30,14.0625,30L10.3125,30ZM2.34375,29.0625Q1.34766,29.0332,0.673828,28.3887Q0.0292969,27.7148,0,26.7188L0,17.34375Q0.0292969,16.34766,0.673828,15.673828Q1.34766,15.0292969,2.34375,15L11.7188,15Q12.7148,15.0292969,13.3887,15.673828Q14.0332,16.34766,14.0625,17.34375L14.0625,20.625Q14.0625,21.03516,13.7988,21.29883Q13.5352,21.5625,13.125,21.5625Q12.7148,21.5625,12.4512,21.29883Q12.1875,21.03516,12.1875,20.625L12.1875,17.34375Q12.1582,16.9043,11.7188,16.875L2.34375,16.875Q1.9043,16.9043,1.875,17.34375L1.875,26.7188Q1.9043,27.1582,2.34375,27.1875L5.625,27.1875Q6.03516,27.1875,6.29883,27.4512Q6.5625,27.7148,6.5625,28.125Q6.5625,28.5352,6.29883,28.7988Q6.03516,29.0625,5.625,29.0625L2.34375,29.0625Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function Dh({title:e,subtitle:t,href:n,disabled:r=!1}){const i=!!n&&!r;return c.jsxs(c.Fragment,{children:[i?c.jsxs(Sr,{to:n,className:"flex items-center gap-2 hover:underline focus:underline",children:[c.jsx(mt,{level:2,children:e}),c.jsx(TR,{className:"w-4 h-4"})]}):c.jsx(mt,{level:2,children:e}),t&&c.jsx(Xt,{children:t})]})}function JC(e,t){const n=It(d=>d.options),[r,i]=T.useState({dragging:!1,startX:0,startY:0}),s=T.useCallback(d=>{d.stopPropagation();const{x:f,y:p}=yp(d,n);e&&e(f,p,f,p),i({startX:f,startY:p,dragging:!0})},[e]),a=d=>{d.stopPropagation();const{x:f,y:p}=yp(d,n);t&&t(r.startX,r.startY,f,p),i(g=>({...g,dragging:!1}))},o=d=>{d.stopPropagation();const{x:f,y:p}=yp(d,n);e&&e(r.startX,r.startY,f,p)},u=d=>{d.stopPropagation();const f=d.touches[0],{x:p,y:g}=yp(f,n);e&&e(r.startX,r.startY,p,g)};return T.useEffect(()=>{if(r.dragging)return document.addEventListener("mouseup",a),document.addEventListener("touchmove",u),document.addEventListener("mousemove",o),()=>{document.removeEventListener("mouseup",a),document.removeEventListener("touchmove",u),document.removeEventListener("mousemove",o)}},[r,e,t]),{dragging:r.dragging,onMouseDown:s}}const J3=6;function yp(e,t){const{tableX:n,tableY:r,width:i,height:s,cols:a,rows:o}=t,{pageX:u,pageY:d}=e,f=i/a||1,p=s/o||1,g=Math.floor((u-n)/f),y=Math.floor((d-r)/p*J3)/J3,b=Math.max(0,Math.min(a-1,g)),_=Math.max(0,Math.min(o,y));return{x:b,y:_}}function NR(e){return new Promise(t=>setTimeout(t,e))}function PR(e,t=9){const n=t*60,r=new Date,i=new Date(e);return i.setMonth(i.getMonth()-n-r.getTimezoneOffset()),i}class Bu{time;constructor(t){switch(typeof t){case"string":const[r,i]=t.split(":").map(Number);this.time=r*60+i;break;case"object":const{hours:s,minutes:a}=t;this.time=s*60+a;break;case"number":this.time=t;break}if(Number.isNaN(this.time)||this.time<0||this.time>=1440)throw this.time=0,new Error("Invalid time value")}toObject(){const t=Math.floor(this.time/60),n=this.time%60;return{hours:t,minutes:n}}toString(){const{hours:t,minutes:n}=this.toObject(),r=t.toString().padStart(2,"0"),i=n.toString().padStart(2,"0");return`${r}:${i}`}compare(t){const n=this.time-t.time;return n===0?0:n>0?1:-1}}const Av={timeTableId:-1,timeTableName:" ",semesterCode:"",schedules:[]},OR=async e=>await vi(`/api/timetables?semesterCode=${encodeURIComponent(e)}`,{method:"GET"}),XC=e=>Cr({queryKey:["timetableList",e],queryFn:()=>OR(e),select:t=>t.timeTables,staleTime:1e3*60*5});function ZC(e,t){t=t??es.semesterCode;const{data:n}=Rs(t);return Cr({queryKey:["timetableData",e],queryFn:async()=>!e||e<=0?{timetableId:-1,timetableName:" ",semesterCode:"",schedules:[]}:await vi(`/api/timetables/${e}/schedules`),select:i=>DR(i,n),refetchOnWindowFocus:!1,staleTime:1e3*60*5})}function RR(){const e=$n(),{currentTimetable:t,pickTimetable:n}=It.getState();return xi({mutationFn:async({timeTableId:r,timeTableName:i})=>await vi(`/api/timetables/${r}`,{method:"PATCH",body:JSON.stringify({timeTableName:i})}),onMutate:async({timeTableId:r})=>(await e.cancelQueries({queryKey:["timetableList",r]}),{timeTableId:r}),onSuccess:async(r,i,s)=>{const a=s?.timeTableId;t?.timeTableId===a&&n({timeTableId:r.timeTableId,timeTableName:r.timeTableName,semesterCode:r.semesterCode}),await e.invalidateQueries({queryKey:["timetableList"]}),await e.invalidateQueries({queryKey:["timetableList",a]})},onError:async(r,i,s)=>{console.error(`   (id: ${s?.timeTableId})`,r),await e.invalidateQueries({queryKey:["timetableList"]}),await e.invalidateQueries({queryKey:["timetableList",s?.timeTableId]})}})}function e6(){const e=$n();return xi({mutationFn:async t=>await $o(`/api/timetables/${t}`,{method:"DELETE"}),onMutate:async t=>(await e.cancelQueries({queryKey:["timetableList"]}),await e.cancelQueries({queryKey:["timetableData",t]}),{timeTableId:t}),onError:async(t,n,r)=>{console.error(`   (id: ${r?.timeTableId})`,t),await e.invalidateQueries({queryKey:["timetableList",r?.timeTableId]}),await e.invalidateQueries({queryKey:["timetableList"]})},onSuccess:async(t,n,r)=>{await e.invalidateQueries({queryKey:["timetableList"]}),await e.invalidateQueries({queryKey:["timetableData",r?.timeTableId]})}})}function t6(){const e=$n();return xi({mutationFn:async({timeTableName:t,semesterCode:n})=>await vi("/api/timetables",{method:"POST",body:JSON.stringify({timeTableName:t,semesterCode:n})}),onSuccess:async t=>{const{pickTimetable:n}=It.getState();n({timeTableId:t.timeTableId,timeTableName:t.timeTableName,semesterCode:t.semesterCode}),await e.invalidateQueries({queryKey:["timetableList"]})},onError:async t=>{try{const n=JSON.parse(t.message);alert(n.message)}catch{alert("Error adding Timetable")}await e.invalidateQueries({queryKey:["timetableList"]})}})}function AR(e,t){t=t??es.semesterCode;const n=$n(),r=It(s=>s.changeScheduleData),{mutateAsync:i}=t6();return xi({mutationFn:async({schedule:s})=>{let a=e;if(!a||a<=0){const u=await i({timeTableName:" ",semesterCode:t});a=u.timeTableId,await NR(300),n.setQueryData(["timetableData",a],{timetableId:a,timetableName:u.timeTableName,semesterCode:u.semesterCode,schedules:[s]})}return{schedule:await vi(`/api/timetables/${a}/schedules`,{method:"POST",body:JSON.stringify(s)}),targetTimetableId:a}},onMutate:async s=>{if(!e||e<=0)return;const a=n.getQueryData(["timetableData",e])??{...Av};return e&&e>0&&(await n.cancelQueries({queryKey:["timetableData",e]}),n.setQueryData(["timetableData",e],{...a,schedules:[...a.schedules,s.schedule]}),r(new gi().toUiData(),Qn.NONE)),{...s,prevTimetableSchedules:a}},onError:(s,a,o)=>{n.setQueryData(["timetableData",e],o?.prevTimetableSchedules),console.error(s)},onSuccess:async({schedule:s,targetTimetableId:a},o,u)=>{const d=n.getQueryData(["timetableData",a]);r(new gi().toUiData(),Qn.NONE),n.setQueryData(["timetableData",a],{...d,schedules:d?.schedules.map(f=>f.scheduleId===u?.schedule.scheduleId?s:f)})}})}function IR(e){const t=$n();return xi({mutationFn:async({schedule:n})=>await vi(`/api/timetables/${e}/schedules/${n.scheduleId}`,{method:"PATCH",body:JSON.stringify(n)}),onMutate:async n=>{const r=t.getQueryData(["timetableData",e])??{...Av};return await t.cancelQueries({queryKey:["timetableData",e]}),{...n,prevTimetableSchedules:r}},onError:(n,r,i)=>{t.setQueryData(["timetableData",e],i?.prevTimetableSchedules),console.error(n)},onSuccess:async(n,r,i)=>{if(!i?.prevTimetableSchedules){await t.invalidateQueries({queryKey:["timetableList"]}),await t.invalidateQueries({queryKey:["timetableData",e]});return}t.setQueryData(["timetableData",e],{...i.prevTimetableSchedules,schedules:i.prevTimetableSchedules.schedules.map(s=>s.scheduleId===n.scheduleId?{...s,...n}:s)})}})}function LR(e){const t=$n();return xi({mutationFn:async({schedule:n})=>await WC(`/api/timetables/${e}/schedules/${n.scheduleId}`,{scheduleType:n.scheduleType}),onMutate:async n=>{const r=t.getQueryData(["timetableData",e])??{...Av};return await t.cancelQueries({queryKey:["timetableData",e]}),{...n,prevTimetableSchedules:r}},onError:(n,r,i)=>{t.setQueryData(["timetableData",e],i?.prevTimetableSchedules),console.error(n)},onSuccess:async(n,{schedule:r},i)=>{if(console.log("  ! timetableId:",e),!i?.prevTimetableSchedules){await t.invalidateQueries({queryKey:["timetableList"]}),await t.invalidateQueries({queryKey:["timetableData",e]});return}console.log("  !   . timetableId:",e,i.prevTimetableSchedules),t.setQueryData(["timetableData",e],{...i.prevTimetableSchedules,schedules:i.prevTimetableSchedules.schedules.filter(s=>s.scheduleId!==r.scheduleId)}),await t.invalidateQueries({queryKey:["timetableData",e]})}})}function DR(e,t){if(!e||!t)return[];const{schedules:n}=e;return n.map(r=>new gi(r,t).toUiData())}function n6(e,t=9){const n=It(o=>o.schedule),r=It(o=>o.mode),i=["rose","amber","green","emerald","blue","violet"],s={};if(!e)return;let a=e;return(r===Qn.EDIT||r===Qn.VIEW)&&(a=e.map(o=>o.scheduleId===n.scheduleId?n:o)),a.forEach((o,u)=>{const d=o.isDeleted?"gray":i[u%i.length],{subjectName:f,professorName:p,location:g}=o;new Nc(o.timeSlots).toUiData(t).forEach(b=>{s[b.dayOfWeek]||(s[b.dayOfWeek]=[]),s[b.dayOfWeek].push({title:f,professor:p,location:g,schedule:o,color:d,...b})})}),Object.keys(s).forEach(o=>{s[o]=MR(s[o])}),s}function MR(e){const n=It.getState().options.isMobile?8:16,r=a=>Number.parseFloat(a.replace("px",""));return e.sort((a,o)=>{const u=r(a.height);return r(o.height)-u}).reduce((a,o)=>{const u=r(o.top),d=u+r(o.height),p=a.reduce((g,y)=>{const b=r(y.top),_=b+r(y.height);return b<=u&&u<_||b<d&&d<=_?Math.max(g,y.depth):g},-1)+1;return[...a,{...o,depth:p}]},[]).map(a=>{const o=n*a.depth;return{...a,left:`${o}px`,right:"0px",height:a.height,top:a.top}})}function FR(e){const t=It(i=>i.schedule),n=It(i=>i.mode);if(!e)return[];const r=e.filter(i=>i.timeSlots===null||i.timeSlots.length===0);return n===Qn.NONE||t.timeSlots.length>0?r.map(i=>({...i,selected:!1})):t.scheduleId<=0?[...r.map(i=>({...i,selected:!1})),{...t,selected:!0}]:r.map(i=>({...i,selected:i.scheduleId===t.scheduleId}))}const X3={search:{isOpen:!1},filter:{isOpen:!1},edit:{isOpen:!1},info:{isOpen:!1}},Ra=fr(e=>({type:X3,openBottomSheet:t=>e(n=>({type:{...n.type,[t]:{isOpen:!0}}})),closeBottomSheet:t=>e(n=>({type:{...n.type,[t]:{isOpen:!1}}})),resetBottomSheet:()=>e({type:X3})}));function Ba(){const[e]=uv();return e.get("semester")??es.semesterCode}const Py=()=>new gi().toUiData();let Oy;function $r(){const e=$n(),t=It(k=>k.changeScheduleData),n=Ba(),i=It(k=>k.currentTimetable)?.timeTableId??-1,s=Ra(k=>k.openBottomSheet),a=Ra(k=>k.closeBottomSheet),[,o]=T.useTransition(),{mutate:u}=AR(i,n),{mutate:d}=IR(i),{mutate:f}=LR(i);return{setOptimisticSchedule:k=>{o(()=>t(k,Qn.NONE))},openScheduleModal:k=>{Oy=e.getQueryData(["timetableData",i]);let P;!k.scheduleId||k.scheduleId<=0?(P=Qn.CREATE,k.scheduleType!=="official"&&s("edit")):k.scheduleType==="official"?(P=Qn.VIEW,console.log(Oy),s("info")):(P=Qn.EDIT,s("edit")),t(k,P)},editSchedule:k=>{const P=It.getState().schedule;let A=k instanceof Function?k(P):k;t(A)},saveSchedule:(k,P=!0)=>{const A=It.getState().schedule,U=It.getState().mode;if(k&&k.preventDefault(),!new Nc(A.timeSlots).validate()){alert("       .");return}const I=A.timeSlots.length!==0;if(A.scheduleType==="custom"&&!I){alert(" !.");return}const B=new gi(A).toApiData();U===Qn.CREATE?(B.scheduleId=zR(Oy?.schedules??[]),u({schedule:B})):U===Qn.EDIT&&(d({schedule:B}),t({...Py()},Qn.NONE)),P&&a("edit")},deleteSchedule:k=>{const P=It.getState().schedule;k&&k.preventDefault();const A=new gi(P).toApiData();f({schedule:A}),t({...Py()},Qn.NONE),a("edit"),a("info")},cancelSchedule:(k,P=!0)=>{k&&k.preventDefault(),t({...Py()},Qn.NONE),P&&a("edit")}}}function Mh(){const e=It(n=>n.mode),t=It(n=>n.schedule);return{modalActionType:e,schedule:t}}function BR(){const{minTime:e}=It(n=>n.options);return{getTimeslot:(n,r,i)=>{n>r&&([n,r]=[r,n]),i!==void 0&&r-n<i&&(r=n+i);const s=Z3(e,n),a=Z3(e,r);return{startTime:s,endTime:a}}}}function Z3(e,t){const n=e+Math.floor(t),r=Math.floor((t-Math.floor(t))*60);return n<0?"00:00":n>23?"23:50":`${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}function zR(e){let t=-Math.floor(Math.random()*1e6);for(;e.some(n=>n.scheduleId===t);)t=-Math.floor(Math.random()*1e6);return t}function r6({title:e,professor:t,location:n,color:r="blue",schedule:i,selected:s=!1,timeslotIndex:a,fixed:o=!1,...u}){const{text:d,bgLight:f,bg:p}=UR(r),g=T.useRef(null),{openScheduleModal:y}=$r(),b=It(V=>V.schedule),_=s||b.scheduleId===i.scheduleId,C=(V,I,O,B)=>{if(!g.current||o)return;const W=O-V,F=(B-I)*ch;g.current.style.setProperty("transform",`translate(calc(100% * ${W}), ${F}px)`)},k=(V,I,O,B)=>{if(!g.current||o)return;i.scheduleType==="official"&&g.current.style.setProperty("transform","");const W={...i,timeSlots:i.timeSlots.map((F,se)=>se!==a?F:tA(F,O-V,B-I))};y(W),g.current.style.setProperty("transform","")},P=V=>{(V.key==="Enter"||V.key===" ")&&(V.preventDefault(),V.stopPropagation(),k(0,0,0,0))},{dragging:A,onMouseDown:U}=JC(C,k);return c.jsxs("div",{ref:g,className:`flex absolute ${f} rounded-l-xs cursor-pointer hover:z-20 focus:z-20 `+u.className,onMouseDown:U,onKeyDown:P,tabIndex:0,...u,children:[c.jsx("div",{className:`w-[2px] h-full sm:w-1 sm:rounded-xs  ${p}`}),c.jsxs("div",{className:"flex-auto sm:p-2 p-[1px] "+(_?"animate-pulse":"")+(A?"opacity-50":""),children:[c.jsx("h3",{className:`${d} font-semibold text-[9px] sm:text-sm`,children:e}),c.jsxs("p",{className:"sm:text-xs text-[7px] text-gray-500",children:[t," ",n]})]})]})}function UR(e){switch(e){case"rose":return{text:"text-rose-500",bgLight:"bg-rose-50",bg:"bg-rose-500"};case"amber":return{text:"text-amber-500",bgLight:"bg-amber-50",bg:"bg-amber-500"};case"green":return{text:"text-green-500",bgLight:"bg-green-50",bg:"bg-green-500"};case"emerald":return{text:"text-emerald-500",bgLight:"bg-emerald-50",bg:"bg-emerald-500"};case"blue":return{text:"text-blue-500",bgLight:"bg-blue-50",bg:"bg-blue-500"};case"violet":return{text:"text-violet-500",bgLight:"bg-violet-50",bg:"bg-violet-500"};default:return{text:"text-gray-500",bgLight:"bg-gray-50",bg:"bg-gray-500"}}}function $R({dayOfWeeks:e}){const t=Ba(),n=It(g=>g.schedule),r=It(g=>g.options),{data:i}=Rs(t);if(!i||n.scheduleId>0||!n.timeSlots||n.timeSlots.length<=0)return null;let s=Number.parseInt(r.rowNames[0].replace("",""));Number.isNaN(s)&&(s=9);const a=new gi(n,i).toUiData(),u=new Nc(a.timeSlots).toUiData(s).filter(({dayOfWeek:g})=>g===e);if(!u)return null;const{subjectName:d,professorName:f,location:p}=a;return u.map(({height:g,top:y,left:b,right:_},C)=>c.jsx(HR,{timeslotIndex:C,title:d??"",professor:f??"",location:p??"",schedule:n,style:{height:g,top:y,left:b,right:_}},`wire-schedule-${e}-${C}`))}function HR({title:e,professor:t,location:n,...r}){const{timeslotIndex:i,...s}=r;return c.jsx("div",{className:`flex absolute rounded-md z-20 
      border-violet-500 border-2 md:border-4
      ${r.className}`,style:{...r.style},...s,children:c.jsxs("div",{className:"flex-auto p-2 bg-violet-50  rounded-md animate-pulse",children:[c.jsx("h3",{className:"text-violet-500 font-semibold  text-[10px] sm:text-sm",children:e}),c.jsxs("p",{className:" sm:text-xs text-[8px]  text-gray-500",children:[t," ",n]})]})})}const Ry=()=>new gi().toUiData(),VR=({dayOfWeeks:e,scheduleTimes:t})=>{const n=t,{setOptimisticSchedule:r,openScheduleModal:i}=$r(),{getTimeslot:s}=BR(),a=(f,p,g,y)=>{const{startTime:b,endTime:_}=s(p,y,1);r({...Ry(),timeSlots:[{dayOfWeeks:e,startTime:b,endTime:_}]})},o=(f,p,g,y)=>{const{startTime:b,endTime:_}=s(p,y,1);i({...Ry(),timeSlots:[{dayOfWeeks:e,startTime:b,endTime:_}]})},u=f=>{(f.key==="Enter"||f.key===" ")&&i({...Ry()})},{onMouseDown:d}=JC(a,o);return c.jsxs("div",{className:"relative flex-auto px-[2px]",tabIndex:0,onMouseDown:d,onKeyDown:u,children:[c.jsx($R,{dayOfWeeks:e}),n.map(({title:f,professor:p,location:g,color:y,height:b,top:_,left:C,right:k,schedule:P},A)=>c.jsx(r6,{timeslotIndex:A,title:f,professor:p??"",location:g??"",schedule:P,color:y,style:{height:b,top:_,left:C,right:k}},"schedule-"+A))]})};function qR({schedules:e}){const t=e?.reduce((n,r)=>{if(r.scheduleType!=="official"||!r.tmNum)return n;const i=r.tmNum.split("/").map(s=>{const a=Number(s);return Number.isNaN(a)?0:a});return n.map((s,a)=>s+(i[a]??0))},[0,0,0])??[0,0,0];return c.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 bg-blue-50 rounded-md p-2 mt-3",children:[c.jsxs("span",{children:[" : ",t[0]??0]}),c.jsxs("span",{children:[": ",t[1]??0]}),c.jsxs("span",{children:[": ",t[2]??0]})]})}const i6=e=>T.createElement("svg",{width:23,height:23,viewBox:"0 0 23 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M10.3669 11.3356L7.94579 9.04443C7.8086 8.9146 7.73766 8.75936 7.733 8.57871C7.72833 8.39807 7.79059 8.23915 7.9198 8.10198C8.049 7.9648 8.20424 7.89386 8.38551 7.88918C8.56678 7.88449 8.7257 7.94676 8.86225 8.07598L11.2834 10.3671L13.5745 7.94599C13.7043 7.80879 13.8596 7.73786 14.0402 7.73319C14.2209 7.72852 14.3798 7.79079 14.517 7.91999C14.6541 8.04919 14.7252 8.20458 14.7302 8.38616C14.7352 8.56774 14.6728 8.7265 14.5429 8.86244L12.2518 11.2836L14.6729 13.5747C14.8101 13.7045 14.8812 13.8599 14.8862 14.0409C14.8912 14.2218 14.8288 14.3806 14.6989 14.5171C14.5691 14.6537 14.4137 14.7248 14.2328 14.7304C14.0518 14.736 13.8931 14.6736 13.7565 14.5431L11.3354 12.252L9.04423 14.6731C8.9144 14.8103 8.75901 14.8814 8.57806 14.8864C8.39711 14.8914 8.23835 14.829 8.10178 14.6991C7.96521 14.5693 7.89428 14.414 7.88898 14.2334C7.88369 14.0528 7.94595 13.8939 8.07578 13.7567L10.3669 11.3356Z",fill:"#6B7280"}));function WR({schedules:e}){const t=FR(e);return c.jsx(fe,{direction:"flex-col",gap:"gap-2",className:"mt-3",children:t.map(n=>c.jsx(QR,{schedule:n,selected:n.selected},n.scheduleId))})}function QR({schedule:e,selected:t}){const{openScheduleModal:n}=$r(),r=()=>{n(e)};return c.jsxs("div",{className:"h-10 w-full p-4 flex justify-between items-center rounded border "+(t?"bg-blue-100 border-blue-500":"border-gray-200"),children:[c.jsxs(fe,{gap:"gap-5",children:[c.jsx("p",{children:e.subjectName}),c.jsx("p",{className:"text-stone-400",children:e.professorName})]}),c.jsx(zn,{"aria-label":"delete",variant:"plain",label:"delete",icon:c.jsx(i6,{className:"w-5 h-5"}),onClick:r})]},e.scheduleId)}const og=["","","","","","",""];function KR(e){const t=It(o=>o.schedule),n=It(o=>o.setOptions),r=[...e??[],t],i=r.reduce((o,u)=>{let d=o;return u.timeSlots?(u.timeSlots.some(f=>f.dayOfWeeks==="")&&(d=Math.max(d,6)),u.timeSlots.some(f=>f.dayOfWeeks==="")&&(d=Math.max(d,7)),d):o},5),{minTime:s,maxTime:a}=r.reduce((o,u)=>(u.timeSlots.forEach(d=>{const f=Number.parseInt(d.startTime.split(":")[0]),p=Number.parseInt(d.endTime.split(":")[0]);Number.isNaN(f)||Number.isNaN(p)||(o.minTime=Math.min(o.minTime,f),o.maxTime=Math.max(o.maxTime,p))}),o),{minTime:9,maxTime:20});return T.useEffect(()=>{n({rowNames:Array.from({length:a-s+1},(o,u)=>`${s+u}`),minTime:s,maxTime:a,rows:a-s+1})},[s,a]),T.useEffect(()=>{n({colNames:og.slice(0,i),cols:i})},[i]),{}}let Ay=null;const GR=e=>{const t=It(r=>r.setOptions),n=()=>{if(!e.current)return;const r=e.current.getBoundingClientRect();t({width:r.width,height:r.height,tableX:r.left+window.pageXOffset,tableY:r.top+window.pageYOffset}),Ay=null};T.useEffect(()=>{if(!e.current)return;const r=()=>{Ay||(Ay=setTimeout(n,300),t({isMobile:window.innerWidth<768}))};return r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[e])};function YR(e){const t=T.useRef(!1),n=km(r=>r.setBanner);T.useEffect(()=>{e?.some(i=>i.isDeleted)&&!t.current&&(t.current=!0,n("  !    "))},[e])}const ch=40;function JR({schedules:e}){const t=T.useRef(null),n=It(r=>r.setOptions);return T.useEffect(()=>{n({containerRef:t?.current??null})},[t]),c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"bg-white",ref:t,children:[c.jsx(eA,{children:c.jsx(ZR,{schedules:e})}),c.jsx(WR,{schedules:e})]}),c.jsx(qR,{schedules:e})]})}const XR=og.reduce((e,t)=>(e[t]=[],e),{});function ZR({schedules:e}){const{colNames:t,minTime:n}=It(i=>i.options),r=n6(e,n)??XR;return YR(e),KR(e),t.map(i=>c.jsx(VR,{scheduleTimes:r[i]??[],dayOfWeeks:i},"day-schedule-"+i))}function eA({rowHeight:e=ch,children:t}){const{colNames:n,rowNames:r}=It(i=>i.options);return c.jsx(s6,{colNames:n,rowNames:r,rowHeight:e,children:t})}class gi{data;constructor(t,n){if(!t){this.data=this.#e();return}if(t.scheduleType==="official"&&!t.subjectName){this.data=this.#t(t,n);return}this.data=t,this.data.timeSlots||(this.data.timeSlots=[])}#e(){return{scheduleId:-1,scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"",tmNum:"",isDeleted:!1,timeSlots:[]}}#t(t,n){if(!n)throw new TypeError("Subjects must be provided for API to UI conversion");const r=n instanceof Array?n.find(i=>i.subjectId===t.subjectId):n;return{scheduleId:t.scheduleId,scheduleType:t.scheduleType,subjectId:t.subjectId,subjectName:r?.subjectName??"",professorName:r?.professorName??"",location:r?.lesnRoom??"",tmNum:r?.tmNum??"",isDeleted:r?.isDeleted??!1,timeSlots:new Nc(r?.lesnTime).toApiData()}}toApiData(){const t=this.data;return t.scheduleType==="official"?{scheduleId:t.scheduleId,scheduleType:"official",subjectId:t.subjectId??0,subjectName:null,professorName:null,location:null,timeSlots:[]}:{...t,scheduleType:"custom",subjectId:null}}toUiData(){return this.data}}class Nc{data;constructor(t){if(!t){this.data=[];return}if(typeof t=="string"){this.data=this.#t(t);return}if(Array.isArray(t)){this.data=t.map(n=>this.#e(n));return}this.data=[this.#e(t)]}#e(t){const[n,r]=t.startTime.split(":"),[i,s]=t.endTime.split(":");return{dayOfWeeks:t.dayOfWeeks,startHour:Number.parseInt(n),startMinute:Number.parseInt(r),endHour:Number.parseInt(i),endMinute:Number.parseInt(s)}}#t(t){const n=/([]+)(\d{1,2}:\d{2})-(\d{1,2}:\d{2})/g,r=[];let i;for(;(i=n.exec(t))!==null;){const s=i[1],a=i[2],o=i[3],u=s.split("");for(const d of u)r.push(this.#e({dayOfWeeks:d,startTime:a,endTime:o}))}return r}validate(){return this.data.every(t=>{const{startHour:n,startMinute:r,endHour:i,endMinute:s}=t;return n<i||n===i&&r<s})}toApiData(){const t=n=>n.toString().padStart(2,"0");return this.data.map(n=>({dayOfWeeks:n.dayOfWeeks,startTime:`${t(n.startHour)}:${t(n.startMinute)}`,endTime:`${t(n.endHour)}:${t(n.endMinute)}`}))}toUiData(t){return this.data.map(({startHour:n,startMinute:r,endHour:i,endMinute:s,dayOfWeeks:a})=>{const o=(n*60+r)/60,u=(i*60+s)/60;return{dayOfWeek:a,depth:0,left:"0px",right:"0px",height:`${(u-o)*ch}px`,top:`${(o-t)*ch}px`}})}}function tA(e,t,n){const{dayOfWeeks:r,startTime:i,endTime:s}=e,[a,o]=i.split(":").map(Number),[u,d]=s.split(":").map(Number),f=Math.min(24,a+o/60+n),p=Math.min(24,u+d/60+n),g=Math.floor(f),y=Math.round((f-g)*60),b=Math.floor(p),_=Math.round((p-b)*60),C=["","","","","","",""],P=(C.indexOf(r)+t+C.length)%C.length;return{dayOfWeeks:C[P],startTime:`${g.toString().padStart(2,"0")}:${y.toString().padStart(2,"0")}`,endTime:`${b.toString().padStart(2,"0")}:${_.toString().padStart(2,"0")}`}}var Qn=(e=>(e.NONE="none",e.CREATE="create",e.EDIT="edit",e.VIEW="view",e))(Qn||{});const It=fr(e=>({currentTimetable:null,options:{containerRef:null,timetableRef:null,colNames:og.slice(0,5),rowNames:Array.from({length:12},(t,n)=>`${n+9}`),minTime:9,maxTime:20,tableX:0,tableY:0,width:0,height:0,cols:5,rows:11,isMobile:!1},mode:"none",schedule:new gi().toUiData(),pickTimetable:t=>{e(n=>({...n,currentTimetable:t}))},setOptions:t=>{e(n=>({...n,options:{...n.options,...t}}))},changeScheduleData:(t,n)=>{e(r=>({...r,mode:n??r.mode,schedule:{...r.schedule,...t}}))}}));function s6({rowHeight:e=ch,colNames:t,rowNames:n,children:r}){const i=T.useRef(null),{isMobile:s}=It(u=>u.options);GR(i);const{headerWidth:a,headerHeight:o}=s?{headerWidth:20,headerHeight:20}:{headerWidth:60,headerHeight:40};return c.jsxs("div",{className:"relative w-full bg-white",children:[c.jsxs("div",{className:"flex bg-gray-50 rounded-t-md",style:{height:`${o}px`},children:[c.jsx("div",{className:"flex items-center justify-center font-semibold text-gray-700",style:{width:`${a}px`}}),t.map((u,d)=>c.jsx("div",{className:"flex flex-auto items-center justify-center font-semibold text-gray-400 text-[10px] md:text-sm",children:u},"timetable-grid-header-"+d))]}),c.jsx("div",{className:"flex absolute inset-0",style:{top:`${o}px`,left:`${a}px`},children:t.map((u,d)=>c.jsx("div",{className:"flex-auto border-l border-gray-200 h-full"},"timetable-grid-col-"+d))}),n.map((u,d)=>c.jsx("div",{className:"border-b border-gray-200",style:{height:`${e}px`},children:c.jsx("span",{className:"flex items-center justify-center h-full text-gray-400 w-[20px] md:w-[60px] text-[10px] md:text-sm",children:u})},"timetable-grid-row-"+d)),c.jsx("div",{id:"timetable",ref:i,className:"absolute inset-0 flex z-10",style:{top:`${o}px`,left:`${a}px`},children:r})]})}const e_=["","","","",""],nA=Array.from({length:5},(e,t)=>`${t+9}`),rA=[{scheduleId:"1",scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"B209",tmNum:"3/1/0",isDeleted:!1,timeSlots:[{dayOfWeeks:"",startTime:"09:00",endTime:"10:30"},{dayOfWeeks:"",startTime:"09:00",endTime:"10:30"}]},{scheduleId:"2",scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"B209",tmNum:"3/1/0",isDeleted:!1,timeSlots:[{dayOfWeeks:"",startTime:"11:00",endTime:"12:30"},{dayOfWeeks:"",startTime:"11:00",endTime:"12:30"}]},{scheduleId:3,scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"B209",tmNum:"3/1/0",isDeleted:!1,timeSlots:[{dayOfWeeks:"",startTime:"12:00",endTime:"13:30"},{dayOfWeeks:"",startTime:"12:00",endTime:"13:30"}]}];function iA(){const e=n6(rA,9);return c.jsxs(Ho,{children:[c.jsx(Dh,{title:"",subtitle:"     ",href:"/timetable"}),c.jsx(Yt,{className:"mt-6",children:c.jsx(s6,{colNames:e_,rowNames:nA,children:e_.map(t=>c.jsx(sA,{data:e?e[t]:[]},t))})})]})}function sA({data:e}){return e?c.jsx("div",{className:"relative flex-auto px-[2px]",children:e.map(({title:t,professor:n,location:r,color:i,height:s,top:a,left:o,right:u,schedule:d},f)=>c.jsx(r6,{timeslotIndex:f,title:t,professor:n??"",location:r??"",schedule:d,color:i,style:{height:s,top:a,left:o,right:u},selected:!1,fixed:!0},"schedule-"+f))}):c.jsx("div",{className:"relative flex-auto px-[2px]"})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Fh(e){return e+.5|0}const To=(e,t,n)=>Math.max(Math.min(e,n),t);function Ud(e){return To(Fh(e*2.55),0,255)}function Ao(e){return To(Fh(e*255),0,255)}function Ea(e){return To(Fh(e/2.55)/100,0,1)}function t_(e){return To(Fh(e*100),0,100)}const Qi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},nx=[..."0123456789ABCDEF"],aA=e=>nx[e&15],oA=e=>nx[(e&240)>>4]+nx[e&15],xp=e=>(e&240)>>4===(e&15),lA=e=>xp(e.r)&&xp(e.g)&&xp(e.b)&&xp(e.a);function uA(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&Qi[e[1]]*17,g:255&Qi[e[2]]*17,b:255&Qi[e[3]]*17,a:t===5?Qi[e[4]]*17:255}:(t===7||t===9)&&(n={r:Qi[e[1]]<<4|Qi[e[2]],g:Qi[e[3]]<<4|Qi[e[4]],b:Qi[e[5]]<<4|Qi[e[6]],a:t===9?Qi[e[7]]<<4|Qi[e[8]]:255})),n}const cA=(e,t)=>e<255?t(e):"";function dA(e){var t=lA(e)?aA:oA;return e?"#"+t(e.r)+t(e.g)+t(e.b)+cA(e.a,t):void 0}const hA=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function a6(e,t,n){const r=t*Math.min(n,1-n),i=(s,a=(s+e/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function fA(e,t,n){const r=(i,s=(i+e/60)%6)=>n-n*t*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function pA(e,t,n){const r=a6(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function mA(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}function Iv(e){const n=e.r/255,r=e.g/255,i=e.b/255,s=Math.max(n,r,i),a=Math.min(n,r,i),o=(s+a)/2;let u,d,f;return s!==a&&(f=s-a,d=o>.5?f/(2-s-a):f/(s+a),u=mA(n,r,i,f,s),u=u*60+.5),[u|0,d||0,o]}function Lv(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(Ao)}function Dv(e,t,n){return Lv(a6,e,t,n)}function gA(e,t,n){return Lv(pA,e,t,n)}function yA(e,t,n){return Lv(fA,e,t,n)}function o6(e){return(e%360+360)%360}function xA(e){const t=hA.exec(e);let n=255,r;if(!t)return;t[5]!==r&&(n=t[6]?Ud(+t[5]):Ao(+t[5]));const i=o6(+t[2]),s=+t[3]/100,a=+t[4]/100;return t[1]==="hwb"?r=gA(i,s,a):t[1]==="hsv"?r=yA(i,s,a):r=Dv(i,s,a),{r:r[0],g:r[1],b:r[2],a:n}}function vA(e,t){var n=Iv(e);n[0]=o6(n[0]+t),n=Dv(n),e.r=n[0],e.g=n[1],e.b=n[2]}function bA(e){if(!e)return;const t=Iv(e),n=t[0],r=t_(t[1]),i=t_(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${i}%, ${Ea(e.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const n_={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},r_={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function wA(){const e={},t=Object.keys(r_),n=Object.keys(n_);let r,i,s,a,o;for(r=0;r<t.length;r++){for(a=o=t[r],i=0;i<n.length;i++)s=n[i],o=o.replace(s,n_[s]);s=parseInt(r_[a],16),e[o]=[s>>16&255,s>>8&255,s&255]}return e}let vp;function _A(e){vp||(vp=wA(),vp.transparent=[0,0,0,0]);const t=vp[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const SA=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function CA(e){const t=SA.exec(e);let n=255,r,i,s;if(t){if(t[7]!==r){const a=+t[7];n=t[8]?Ud(a):To(a*255,0,255)}return r=+t[1],i=+t[3],s=+t[5],r=255&(t[2]?Ud(r):To(r,0,255)),i=255&(t[4]?Ud(i):To(i,0,255)),s=255&(t[6]?Ud(s):To(s,0,255)),{r,g:i,b:s,a:n}}}function jA(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Ea(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Iy=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,zu=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function kA(e,t,n){const r=zu(Ea(e.r)),i=zu(Ea(e.g)),s=zu(Ea(e.b));return{r:Ao(Iy(r+n*(zu(Ea(t.r))-r))),g:Ao(Iy(i+n*(zu(Ea(t.g))-i))),b:Ao(Iy(s+n*(zu(Ea(t.b))-s))),a:e.a+n*(t.a-e.a)}}function bp(e,t,n){if(e){let r=Iv(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,t===0?360:1)),r=Dv(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function l6(e,t){return e&&Object.assign(t||{},e)}function i_(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Ao(e[3]))):(t=l6(e,{r:0,g:0,b:0,a:1}),t.a=Ao(t.a)),t}function EA(e){return e.charAt(0)==="r"?CA(e):xA(e)}class dh{constructor(t){if(t instanceof dh)return t;const n=typeof t;let r;n==="object"?r=i_(t):n==="string"&&(r=uA(t)||_A(t)||EA(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=l6(this._rgb);return t&&(t.a=Ea(t.a)),t}set rgb(t){this._rgb=i_(t)}rgbString(){return this._valid?jA(this._rgb):void 0}hexString(){return this._valid?dA(this._rgb):void 0}hslString(){return this._valid?bA(this._rgb):void 0}mix(t,n){if(t){const r=this.rgb,i=t.rgb;let s;const a=n===s?.5:n,o=2*a-1,u=r.a-i.a,d=((o*u===-1?o:(o+u)/(1+o*u))+1)/2;s=1-d,r.r=255&d*r.r+s*i.r+.5,r.g=255&d*r.g+s*i.g+.5,r.b=255&d*r.b+s*i.b+.5,r.a=a*r.a+(1-a)*i.a,this.rgb=r}return this}interpolate(t,n){return t&&(this._rgb=kA(this._rgb,t._rgb,n)),this}clone(){return new dh(this.rgb)}alpha(t){return this._rgb.a=Ao(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Fh(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return bp(this._rgb,2,t),this}darken(t){return bp(this._rgb,2,-t),this}saturate(t){return bp(this._rgb,1,t),this}desaturate(t){return bp(this._rgb,1,-t),this}rotate(t){return vA(this._rgb,t),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function _a(){}const TA=(()=>{let e=0;return()=>e++})();function Ht(e){return e==null}function En(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function qt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Bn(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Pi(e,t){return Bn(e)?e:t}function jt(e,t){return typeof e>"u"?t:e}const NA=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,u6=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function mn(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function on(e,t,n,r){let i,s,a;if(En(e))for(s=e.length,i=0;i<s;i++)t.call(n,e[i],i);else if(qt(e))for(a=Object.keys(e),s=a.length,i=0;i<s;i++)t.call(n,e[a[i]],a[i])}function Em(e,t){let n,r,i,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],s=t[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Tm(e){if(En(e))return e.map(Tm);if(qt(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=Tm(e[n[i]]);return t}return e}function c6(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function PA(e,t,n,r){if(!c6(e))return;const i=t[e],s=n[e];qt(i)&&qt(s)?hh(i,s,r):t[e]=Tm(s)}function hh(e,t,n){const r=En(t)?t:[t],i=r.length;if(!qt(e))return e;n=n||{};const s=n.merger||PA;let a;for(let o=0;o<i;++o){if(a=r[o],!qt(a))continue;const u=Object.keys(a);for(let d=0,f=u.length;d<f;++d)s(u[d],e,a,n)}return e}function Gd(e,t){return hh(e,t,{merger:OA})}function OA(e,t,n){if(!c6(e))return;const r=t[e],i=n[e];qt(r)&&qt(i)?Gd(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Tm(i))}const s_={"":e=>e,x:e=>e.x,y:e=>e.y};function RA(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function AA(e){const t=RA(e);return n=>{for(const r of t){if(r==="")break;n=n&&n[r]}return n}}function Do(e,t){return(s_[t]||(s_[t]=AA(t)))(e)}function Mv(e){return e.charAt(0).toUpperCase()+e.slice(1)}const fh=e=>typeof e<"u",Mo=e=>typeof e=="function",a_=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function IA(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const en=Math.PI,bn=2*en,LA=bn+en,Nm=Number.POSITIVE_INFINITY,DA=en/180,Kn=en/2,vl=en/4,o_=en*2/3,No=Math.log10,Zs=Math.sign;function Yd(e,t,n){return Math.abs(e-t)<n}function l_(e){const t=Math.round(e);e=Yd(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(No(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function MA(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(n|0)&&t.push(n),t.sort((i,s)=>i-s).pop(),t}function FA(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Ql(e){return!FA(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function BA(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function d6(e,t,n){let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function ks(e){return e*(en/180)}function Fv(e){return e*(180/en)}function u_(e){if(!Bn(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function h6(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*en&&(s+=bn),{angle:s,distance:i}}function rx(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function zA(e,t){return(e-t+LA)%bn-en}function Fr(e){return(e%bn+bn)%bn}function ph(e,t,n,r){const i=Fr(e),s=Fr(t),a=Fr(n),o=Fr(s-i),u=Fr(a-i),d=Fr(i-s),f=Fr(i-a);return i===s||i===a||r&&s===a||o>u&&d<f}function _r(e,t,n){return Math.max(t,Math.min(n,e))}function UA(e){return _r(e,-32768,32767)}function Na(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function Bv(e,t,n){n=n||(a=>e[a]<t);let r=e.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const Pa=(e,t,n,r)=>Bv(e,n,r?i=>{const s=e[i][t];return s<n||s===n&&e[i+1][t]===n}:i=>e[i][t]<n),$A=(e,t,n)=>Bv(e,n,r=>e[r][t]>=n);function HA(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}const f6=["push","pop","shift","splice","unshift"];function VA(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),f6.forEach(n=>{const r="_onData"+Mv(n),i=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...s){const a=i.apply(this,s);return e._chartjs.listeners.forEach(o=>{typeof o[r]=="function"&&o[r](...s)}),a}})})}function c_(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);i!==-1&&r.splice(i,1),!(r.length>0)&&(f6.forEach(s=>{delete e[s]}),delete e._chartjs)}function p6(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const m6=(function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame})();function g6(e,t){let n=[],r=!1;return function(...i){n=i,r||(r=!0,m6.call(window,()=>{r=!1,e.apply(t,n)}))}}function qA(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const zv=e=>e==="start"?"left":e==="end"?"right":"center",Dr=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,WA=(e,t,n,r)=>e===(r?"left":"right")?n:e==="center"?(t+n)/2:t;function y6(e,t,n){const r=t.length;let i=0,s=r;if(e._sorted){const{iScale:a,vScale:o,_parsed:u}=e,d=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,f=a.axis,{min:p,max:g,minDefined:y,maxDefined:b}=a.getUserBounds();if(y){if(i=Math.min(Pa(u,f,p).lo,n?r:Pa(t,f,a.getPixelForValue(p)).lo),d){const _=u.slice(0,i+1).reverse().findIndex(C=>!Ht(C[o.axis]));i-=Math.max(0,_)}i=_r(i,0,r-1)}if(b){let _=Math.max(Pa(u,a.axis,g,!0).hi+1,n?0:Pa(t,f,a.getPixelForValue(g),!0).hi+1);if(d){const C=u.slice(_-1).findIndex(k=>!Ht(k[o.axis]));_+=Math.max(0,C)}s=_r(_,i,r)-i}else s=r-i}return{start:i,count:s}}function x6(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const s=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const wp=e=>e===0||e===1,d_=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*bn/n)),h_=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*bn/n)+1,Jd={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Kn)+1,easeOutSine:e=>Math.sin(e*Kn),easeInOutSine:e=>-.5*(Math.cos(en*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>wp(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>wp(e)?e:d_(e,.075,.3),easeOutElastic:e=>wp(e)?e:h_(e,.075,.3),easeInOutElastic(e){return wp(e)?e:e<.5?.5*d_(e*2,.1125,.45):.5+.5*h_(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Jd.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Jd.easeInBounce(e*2)*.5:Jd.easeOutBounce(e*2-1)*.5+.5};function Uv(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function f_(e){return Uv(e)?e:new dh(e)}function Ly(e){return Uv(e)?e:new dh(e).saturate(.5).darken(.1).hexString()}const QA=["x","y","borderWidth","radius","tension"],KA=["color","borderColor","backgroundColor"];function GA(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:KA},numbers:{type:"number",properties:QA}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function YA(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const p_=new Map;function JA(e,t){t=t||{};const n=e+JSON.stringify(t);let r=p_.get(n);return r||(r=new Intl.NumberFormat(e,t),p_.set(n,r)),r}function Bh(e,t,n){return JA(t,n).format(e)}const v6={values(e){return En(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const r=this.chart.options.locale;let i,s=e;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(i="scientific"),s=XA(e,n)}const a=No(Math.abs(s)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),u={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(u,this.options.ticks.format),Bh(e,r,u)},logarithmic(e,t,n){if(e===0)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(No(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?v6.numeric.call(this,e,t,n):""}};function XA(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var lg={formatters:v6};function ZA(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:lg.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Kl=Object.create(null),ix=Object.create(null);function Xd(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];e=e[s]||(e[s]=Object.create(null))}return e}function Dy(e,t,n){return typeof t=="string"?hh(Xd(e,t),n):hh(Xd(e,""),t)}class eI{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Ly(i.backgroundColor),this.hoverBorderColor=(r,i)=>Ly(i.borderColor),this.hoverColor=(r,i)=>Ly(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Dy(this,t,n)}get(t){return Xd(this,t)}describe(t,n){return Dy(ix,t,n)}override(t,n){return Dy(Kl,t,n)}route(t,n,r,i){const s=Xd(this,t),a=Xd(this,r),o="_"+n;Object.defineProperties(s,{[o]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[o],d=a[i];return qt(u)?Object.assign({},d,u):jt(u,d)},set(u){this[o]=u}}})}apply(t){t.forEach(n=>n(this))}}var Tn=new eI({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[GA,YA,ZA]);function tI(e){return!e||Ht(e.size)||Ht(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Pm(e,t,n,r,i){let s=t[i];return s||(s=t[i]=e.measureText(i).width,n.push(i)),s>r&&(r=s),r}function nI(e,t,n,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},s=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let a=0;const o=n.length;let u,d,f,p,g;for(u=0;u<o;u++)if(p=n[u],p!=null&&!En(p))a=Pm(e,i,s,a,p);else if(En(p))for(d=0,f=p.length;d<f;d++)g=p[d],g!=null&&!En(g)&&(a=Pm(e,i,s,a,g));e.restore();const y=s.length/2;if(y>n.length){for(u=0;u<y;u++)delete i[s[u]];s.splice(0,y)}return a}function bl(e,t,n){const r=e.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function m_(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function sx(e,t,n,r){b6(e,t,n,r,null)}function b6(e,t,n,r,i){let s,a,o,u,d,f,p,g;const y=t.pointStyle,b=t.rotation,_=t.radius;let C=(b||0)*DA;if(y&&typeof y=="object"&&(s=y.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){e.save(),e.translate(n,r),e.rotate(C),e.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),e.restore();return}if(!(isNaN(_)||_<=0)){switch(e.beginPath(),y){default:i?e.ellipse(n,r,i/2,_,0,0,bn):e.arc(n,r,_,0,bn),e.closePath();break;case"triangle":f=i?i/2:_,e.moveTo(n+Math.sin(C)*f,r-Math.cos(C)*_),C+=o_,e.lineTo(n+Math.sin(C)*f,r-Math.cos(C)*_),C+=o_,e.lineTo(n+Math.sin(C)*f,r-Math.cos(C)*_),e.closePath();break;case"rectRounded":d=_*.516,u=_-d,a=Math.cos(C+vl)*u,p=Math.cos(C+vl)*(i?i/2-d:u),o=Math.sin(C+vl)*u,g=Math.sin(C+vl)*(i?i/2-d:u),e.arc(n-p,r-o,d,C-en,C-Kn),e.arc(n+g,r-a,d,C-Kn,C),e.arc(n+p,r+o,d,C,C+Kn),e.arc(n-g,r+a,d,C+Kn,C+en),e.closePath();break;case"rect":if(!b){u=Math.SQRT1_2*_,f=i?i/2:u,e.rect(n-f,r-u,2*f,2*u);break}C+=vl;case"rectRot":p=Math.cos(C)*(i?i/2:_),a=Math.cos(C)*_,o=Math.sin(C)*_,g=Math.sin(C)*(i?i/2:_),e.moveTo(n-p,r-o),e.lineTo(n+g,r-a),e.lineTo(n+p,r+o),e.lineTo(n-g,r+a),e.closePath();break;case"crossRot":C+=vl;case"cross":p=Math.cos(C)*(i?i/2:_),a=Math.cos(C)*_,o=Math.sin(C)*_,g=Math.sin(C)*(i?i/2:_),e.moveTo(n-p,r-o),e.lineTo(n+p,r+o),e.moveTo(n+g,r-a),e.lineTo(n-g,r+a);break;case"star":p=Math.cos(C)*(i?i/2:_),a=Math.cos(C)*_,o=Math.sin(C)*_,g=Math.sin(C)*(i?i/2:_),e.moveTo(n-p,r-o),e.lineTo(n+p,r+o),e.moveTo(n+g,r-a),e.lineTo(n-g,r+a),C+=vl,p=Math.cos(C)*(i?i/2:_),a=Math.cos(C)*_,o=Math.sin(C)*_,g=Math.sin(C)*(i?i/2:_),e.moveTo(n-p,r-o),e.lineTo(n+p,r+o),e.moveTo(n+g,r-a),e.lineTo(n-g,r+a);break;case"line":a=i?i/2:Math.cos(C)*_,o=Math.sin(C)*_,e.moveTo(n-a,r-o),e.lineTo(n+a,r+o);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(C)*(i?i/2:_),r+Math.sin(C)*_);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Oa(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function ug(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function cg(e){e.restore()}function rI(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if(i==="middle"){const s=(t.x+n.x)/2;e.lineTo(s,t.y),e.lineTo(s,n.y)}else i==="after"!=!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function iI(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function sI(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Ht(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function aI(e,t,n,r,i){if(i.strikethrough||i.underline){const s=e.measureText(r),a=t-s.actualBoundingBoxLeft,o=t+s.actualBoundingBoxRight,u=n-s.actualBoundingBoxAscent,d=n+s.actualBoundingBoxDescent,f=i.strikethrough?(u+d)/2:d;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(a,f),e.lineTo(o,f),e.stroke()}}function oI(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Gl(e,t,n,r,i,s={}){const a=En(t)?t:[t],o=s.strokeWidth>0&&s.strokeColor!=="";let u,d;for(e.save(),e.font=i.string,sI(e,s),u=0;u<a.length;++u)d=a[u],s.backdrop&&oI(e,s.backdrop),o&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),Ht(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(d,n,r,s.maxWidth)),e.fillText(d,n,r,s.maxWidth),aI(e,n,r,d,s),r+=Number(i.lineHeight);e.restore()}function mh(e,t){const{x:n,y:r,w:i,h:s,radius:a}=t;e.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*en,en,!0),e.lineTo(n,r+s-a.bottomLeft),e.arc(n+a.bottomLeft,r+s-a.bottomLeft,a.bottomLeft,en,Kn,!0),e.lineTo(n+i-a.bottomRight,r+s),e.arc(n+i-a.bottomRight,r+s-a.bottomRight,a.bottomRight,Kn,0,!0),e.lineTo(n+i,r+a.topRight),e.arc(n+i-a.topRight,r+a.topRight,a.topRight,0,-Kn,!0),e.lineTo(n+a.topLeft,r)}const lI=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,uI=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function cI(e,t){const n=(""+e).match(lI);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const dI=e=>+e||0;function $v(e,t){const n={},r=qt(t),i=r?Object.keys(t):t,s=qt(e)?r?a=>jt(e[a],e[t[a]]):a=>e[a]:()=>e;for(const a of i)n[a]=dI(s(a));return n}function w6(e){return $v(e,{top:"y",right:"x",bottom:"y",left:"x"})}function $l(e){return $v(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Ur(e){const t=w6(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function hr(e,t){e=e||{},t=t||Tn.font;let n=jt(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let r=jt(e.style,t.style);r&&!(""+r).match(uI)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:jt(e.family,t.family),lineHeight:cI(jt(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:jt(e.weight,t.weight),string:""};return i.string=tI(i),i}function $d(e,t,n,r){let i,s,a;for(i=0,s=e.length;i<s;++i)if(a=e[i],a!==void 0&&a!==void 0)return a}function hI(e,t,n){const{min:r,max:i}=e,s=u6(t,(i-r)/2),a=(o,u)=>n&&o===0?0:o+u;return{min:a(r,-Math.abs(s)),max:a(i,s)}}function Vo(e,t){return Object.assign(Object.create(e),t)}function Hv(e,t=[""],n,r,i=()=>e[0]){const s=n||e;typeof r>"u"&&(r=j6("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:r,_getTarget:i,override:o=>Hv([o,...e],t,s,r)};return new Proxy(a,{deleteProperty(o,u){return delete o[u],delete o._keys,delete e[0][u],!0},get(o,u){return S6(o,u,()=>bI(u,t,e,o))},getOwnPropertyDescriptor(o,u){return Reflect.getOwnPropertyDescriptor(o._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(o,u){return y_(o).includes(u)},ownKeys(o){return y_(o)},set(o,u,d){const f=o._storage||(o._storage=i());return o[u]=f[u]=d,delete o._keys,!0}})}function wc(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:_6(e,r),setContext:s=>wc(e,s,n,r),override:s=>wc(e.override(s),t,n,r)};return new Proxy(i,{deleteProperty(s,a){return delete s[a],delete e[a],!0},get(s,a,o){return S6(s,a,()=>pI(s,a,o))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(e,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,a)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(s,a){return Reflect.has(e,a)},ownKeys(){return Reflect.ownKeys(e)},set(s,a,o){return e[a]=o,delete s[a],!0}})}function _6(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Mo(n)?n:()=>n,isIndexable:Mo(r)?r:()=>r}}const fI=(e,t)=>e?e+Mv(t):t,Vv=(e,t)=>qt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function S6(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=n();return e[t]=r,r}function pI(e,t,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:a}=e;let o=r[t];return Mo(o)&&a.isScriptable(t)&&(o=mI(t,o,e,n)),En(o)&&o.length&&(o=gI(t,o,e,a.isIndexable)),Vv(t,o)&&(o=wc(o,i,s&&s[t],a)),o}function mI(e,t,n,r){const{_proxy:i,_context:s,_subProxy:a,_stack:o}=n;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let u=t(s,a||r);return o.delete(e),Vv(e,u)&&(u=qv(i._scopes,i,e,u)),u}function gI(e,t,n,r){const{_proxy:i,_context:s,_subProxy:a,_descriptors:o}=n;if(typeof s.index<"u"&&r(e))return t[s.index%t.length];if(qt(t[0])){const u=t,d=i._scopes.filter(f=>f!==u);t=[];for(const f of u){const p=qv(d,i,e,f);t.push(wc(p,s,a&&a[e],o))}}return t}function C6(e,t,n){return Mo(e)?e(t,n):e}const yI=(e,t)=>e===!0?t:typeof e=="string"?Do(t,e):void 0;function xI(e,t,n,r,i){for(const s of t){const a=yI(n,s);if(a){e.add(a);const o=C6(a._fallback,n,i);if(typeof o<"u"&&o!==n&&o!==r)return o}else if(a===!1&&typeof r<"u"&&n!==r)return null}return!1}function qv(e,t,n,r){const i=t._rootScopes,s=C6(t._fallback,n,r),a=[...e,...i],o=new Set;o.add(r);let u=g_(o,a,n,s||n,r);return u===null||typeof s<"u"&&s!==n&&(u=g_(o,a,s,u,r),u===null)?!1:Hv(Array.from(o),[""],i,s,()=>vI(t,n,r))}function g_(e,t,n,r,i){for(;n;)n=xI(e,t,n,r,i);return n}function vI(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];return En(i)&&qt(n)?n:i||{}}function bI(e,t,n,r){let i;for(const s of t)if(i=j6(fI(s,e),n),typeof i<"u")return Vv(e,i)?qv(n,r,e,i):i}function j6(e,t){for(const n of t){if(!n)continue;const r=n[e];if(typeof r<"u")return r}}function y_(e){let t=e._keys;return t||(t=e._keys=wI(e._scopes)),t}function wI(e){const t=new Set;for(const n of e)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))t.add(r);return Array.from(t)}function k6(e,t,n,r){const{iScale:i}=e,{key:s="r"}=this._parsing,a=new Array(r);let o,u,d,f;for(o=0,u=r;o<u;++o)d=o+n,f=t[d],a[o]={r:i.parse(Do(f,s),d)};return a}const _I=Number.EPSILON||1e-14,_c=(e,t)=>t<e.length&&!e[t].skip&&e[t],E6=e=>e==="x"?"y":"x";function SI(e,t,n,r){const i=e.skip?t:e,s=t,a=n.skip?t:n,o=rx(s,i),u=rx(a,s);let d=o/(o+u),f=u/(o+u);d=isNaN(d)?0:d,f=isNaN(f)?0:f;const p=r*d,g=r*f;return{previous:{x:s.x-p*(a.x-i.x),y:s.y-p*(a.y-i.y)},next:{x:s.x+g*(a.x-i.x),y:s.y+g*(a.y-i.y)}}}function CI(e,t,n){const r=e.length;let i,s,a,o,u,d=_c(e,0);for(let f=0;f<r-1;++f)if(u=d,d=_c(e,f+1),!(!u||!d)){if(Yd(t[f],0,_I)){n[f]=n[f+1]=0;continue}i=n[f]/t[f],s=n[f+1]/t[f],o=Math.pow(i,2)+Math.pow(s,2),!(o<=9)&&(a=3/Math.sqrt(o),n[f]=i*a*t[f],n[f+1]=s*a*t[f])}}function jI(e,t,n="x"){const r=E6(n),i=e.length;let s,a,o,u=_c(e,0);for(let d=0;d<i;++d){if(a=o,o=u,u=_c(e,d+1),!o)continue;const f=o[n],p=o[r];a&&(s=(f-a[n])/3,o[`cp1${n}`]=f-s,o[`cp1${r}`]=p-s*t[d]),u&&(s=(u[n]-f)/3,o[`cp2${n}`]=f+s,o[`cp2${r}`]=p+s*t[d])}}function kI(e,t="x"){const n=E6(t),r=e.length,i=Array(r).fill(0),s=Array(r);let a,o,u,d=_c(e,0);for(a=0;a<r;++a)if(o=u,u=d,d=_c(e,a+1),!!u){if(d){const f=d[t]-u[t];i[a]=f!==0?(d[n]-u[n])/f:0}s[a]=o?d?Zs(i[a-1])!==Zs(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}CI(e,i,s),jI(e,s,t)}function _p(e,t,n){return Math.max(Math.min(e,n),t)}function EI(e,t){let n,r,i,s,a,o=Oa(e[0],t);for(n=0,r=e.length;n<r;++n)a=s,s=o,o=n<r-1&&Oa(e[n+1],t),s&&(i=e[n],a&&(i.cp1x=_p(i.cp1x,t.left,t.right),i.cp1y=_p(i.cp1y,t.top,t.bottom)),o&&(i.cp2x=_p(i.cp2x,t.left,t.right),i.cp2y=_p(i.cp2y,t.top,t.bottom)))}function TI(e,t,n,r,i){let s,a,o,u;if(t.spanGaps&&(e=e.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")kI(e,i);else{let d=r?e[e.length-1]:e[0];for(s=0,a=e.length;s<a;++s)o=e[s],u=SI(d,o,e[Math.min(s+1,a-(r?0:1))%a],t.tension),o.cp1x=u.previous.x,o.cp1y=u.previous.y,o.cp2x=u.next.x,o.cp2y=u.next.y,d=o}t.capBezierPoints&&EI(e,n)}function Wv(){return typeof window<"u"&&typeof document<"u"}function Qv(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Om(e,t,n){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}const dg=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function NI(e,t){return dg(e).getPropertyValue(t)}const PI=["top","right","bottom","left"];function Hl(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=PI[i];r[s]=parseFloat(e[t+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const OI=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function RI(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:s}=r;let a=!1,o,u;if(OI(i,s,e.target))o=i,u=s;else{const d=t.getBoundingClientRect();o=r.clientX-d.left,u=r.clientY-d.top,a=!0}return{x:o,y:u,box:a}}function Tl(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=dg(n),s=i.boxSizing==="border-box",a=Hl(i,"padding"),o=Hl(i,"border","width"),{x:u,y:d,box:f}=RI(e,n),p=a.left+(f&&o.left),g=a.top+(f&&o.top);let{width:y,height:b}=t;return s&&(y-=a.width+o.width,b-=a.height+o.height),{x:Math.round((u-p)/y*n.width/r),y:Math.round((d-g)/b*n.height/r)}}function AI(e,t,n){let r,i;if(t===void 0||n===void 0){const s=e&&Qv(e);if(!s)t=e.clientWidth,n=e.clientHeight;else{const a=s.getBoundingClientRect(),o=dg(s),u=Hl(o,"border","width"),d=Hl(o,"padding");t=a.width-d.width-u.width,n=a.height-d.height-u.height,r=Om(o.maxWidth,s,"clientWidth"),i=Om(o.maxHeight,s,"clientHeight")}}return{width:t,height:n,maxWidth:r||Nm,maxHeight:i||Nm}}const Po=e=>Math.round(e*10)/10;function II(e,t,n,r){const i=dg(e),s=Hl(i,"margin"),a=Om(i.maxWidth,e,"clientWidth")||Nm,o=Om(i.maxHeight,e,"clientHeight")||Nm,u=AI(e,t,n);let{width:d,height:f}=u;if(i.boxSizing==="content-box"){const g=Hl(i,"border","width"),y=Hl(i,"padding");d-=y.width+g.width,f-=y.height+g.height}return d=Math.max(0,d-s.width),f=Math.max(0,r?d/r:f-s.height),d=Po(Math.min(d,a,u.maxWidth)),f=Po(Math.min(f,o,u.maxHeight)),d&&!f&&(f=Po(d/2)),(t!==void 0||n!==void 0)&&r&&u.height&&f>u.height&&(f=u.height,d=Po(Math.floor(f*r))),{width:d,height:f}}function x_(e,t,n){const r=t||1,i=Po(e.height*r),s=Po(e.width*r);e.height=Po(e.height),e.width=Po(e.width);const a=e.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${e.height}px`,a.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||a.height!==i||a.width!==s?(e.currentDevicePixelRatio=r,a.height=i,a.width=s,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const LI=(function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Wv()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e})();function v_(e,t){const n=NI(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Nl(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function DI(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:r==="middle"?n<.5?e.y:t.y:r==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function MI(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},a=Nl(e,i,n),o=Nl(i,s,n),u=Nl(s,t,n),d=Nl(a,o,n),f=Nl(o,u,n);return Nl(d,f,n)}const FI=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},BI=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function mc(e,t,n){return e?FI(t,n):BI()}function T6(e,t){let n,r;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function N6(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function P6(e){return e==="angle"?{between:ph,compare:zA,normalize:Fr}:{between:Na,compare:(t,n)=>t-n,normalize:t=>t}}function b_({start:e,end:t,count:n,loop:r,style:i}){return{start:e%n,end:t%n,loop:r&&(t-e+1)%n===0,style:i}}function zI(e,t,n){const{property:r,start:i,end:s}=n,{between:a,normalize:o}=P6(r),u=t.length;let{start:d,end:f,loop:p}=e,g,y;if(p){for(d+=u,f+=u,g=0,y=u;g<y&&a(o(t[d%u][r]),i,s);++g)d--,f--;d%=u,f%=u}return f<d&&(f+=u),{start:d,end:f,loop:p,style:e.style}}function O6(e,t,n){if(!n)return[e];const{property:r,start:i,end:s}=n,a=t.length,{compare:o,between:u,normalize:d}=P6(r),{start:f,end:p,loop:g,style:y}=zI(e,t,n),b=[];let _=!1,C=null,k,P,A;const U=()=>u(i,A,k)&&o(i,A)!==0,V=()=>o(s,k)===0||u(s,A,k),I=()=>_||U(),O=()=>!_||V();for(let B=f,W=f;B<=p;++B)P=t[B%a],!P.skip&&(k=d(P[r]),k!==A&&(_=u(k,i,s),C===null&&I()&&(C=o(k,i)===0?B:W),C!==null&&O()&&(b.push(b_({start:C,end:B,loop:g,count:a,style:y})),C=null),W=B,A=k));return C!==null&&b.push(b_({start:C,end:p,loop:g,count:a,style:y})),b}function R6(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const s=O6(r[i],e.points,t);s.length&&n.push(...s)}return n}function UI(e,t,n,r){let i=0,s=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(s+=i);s>i&&e[s%t].skip;)s--;return s%=t,{start:i,end:s}}function $I(e,t,n,r){const i=e.length,s=[];let a=t,o=e[t],u;for(u=t+1;u<=n;++u){const d=e[u%i];d.skip||d.stop?o.skip||(r=!1,s.push({start:t%i,end:(u-1)%i,loop:r}),t=a=d.stop?u:null):(a=u,o.skip&&(t=u)),o=d}return a!==null&&s.push({start:t%i,end:a%i,loop:r}),s}function HI(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const s=!!e._loop,{start:a,end:o}=UI(n,i,s,r);if(r===!0)return w_(e,[{start:a,end:o,loop:s}],n,t);const u=o<a?o+i:o,d=!!e._fullLoop&&a===0&&o===i-1;return w_(e,$I(n,a,u,d),n,t)}function w_(e,t,n,r){return!r||!r.setContext||!n?t:VI(e,t,n,r)}function VI(e,t,n,r){const i=e._chart.getContext(),s=__(e.options),{_datasetIndex:a,options:{spanGaps:o}}=e,u=n.length,d=[];let f=s,p=t[0].start,g=p;function y(b,_,C,k){const P=o?-1:1;if(b!==_){for(b+=u;n[b%u].skip;)b-=P;for(;n[_%u].skip;)_+=P;b%u!==_%u&&(d.push({start:b%u,end:_%u,loop:C,style:k}),f=k,p=_%u)}}for(const b of t){p=o?p:b.start;let _=n[p%u],C;for(g=p+1;g<=b.end;g++){const k=n[g%u];C=__(r.setContext(Vo(i,{type:"segment",p0:_,p1:k,p0DataIndex:(g-1)%u,p1DataIndex:g%u,datasetIndex:a}))),qI(C,f)&&y(p,g-1,b.loop,f),_=k,f=C}p<g-1&&y(p,g-1,b.loop,f)}return d}function __(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function qI(e,t){if(!t)return!1;const n=[],r=function(i,s){return Uv(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function Sp(e,t,n){return e.options.clip?e[n]:t[n]}function WI(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:Sp(n,t,"left"),right:Sp(n,t,"right"),top:Sp(r,t,"top"),bottom:Sp(r,t,"bottom")}:t}function A6(e,t){const n=t._clip;if(n.disabled)return!1;const r=WI(t,e.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class QI{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,r,i){const s=n.listeners[i],a=n.duration;s.forEach(o=>o({chart:t,initial:n.initial,numSteps:a,currentStep:Math.min(r-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=m6.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let a=s.length-1,o=!1,u;for(;a>=0;--a)u=s[a],u._active?(u._total>r.duration&&(r.duration=u._total),u.tick(t),o=!0):(s[a]=s[s.length-1],s.pop());o&&(i.draw(),this._notify(i,r,t,"progress")),s.length||(r.running=!1,this._notify(i,r,t,"complete"),r.initial=!1),n+=s.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let r=n.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,r)),r}listen(t,n,r){this._getAnims(t).listeners[n].push(r)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ca=new QI;const S_="transparent",KI={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const r=f_(e||S_),i=r.valid&&f_(t||S_);return i&&i.valid?i.mix(r,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class GI{constructor(t,n,r,i){const s=n[r];i=$d([t.to,i,s,t.from]);const a=$d([t.from,s,i]);this._active=!0,this._fn=t.fn||KI[t.type||typeof a],this._easing=Jd[t.easing]||Jd.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(t,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,a=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=$d([t.to,n,i,t.from]),this._from=$d([t.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,r=this._duration,i=this._prop,s=this._from,a=this._loop,o=this._to;let u;if(this._active=s!==o&&(a||n<r),!this._active){this._target[i]=o,this._notify(!0);return}if(n<0){this._target[i]=s;return}u=n/r%2,u=a&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[i]=this._fn(s,o,u)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,r)=>{t.push({res:n,rej:r})})}_notify(t){const n=t?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class I6{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!qt(t))return;const n=Object.keys(Tn.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const s=t[i];if(!qt(s))return;const a={};for(const o of n)a[o]=s[o];(En(s.properties)&&s.properties||[i]).forEach(o=>{(o===i||!r.has(o))&&r.set(o,a)})})}_animateOptions(t,n){const r=n.options,i=JI(t,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&YI(t.options.$animations,r).then(()=>{t.options=r},()=>{}),s}_createAnimations(t,n){const r=this._properties,i=[],s=t.$animations||(t.$animations={}),a=Object.keys(n),o=Date.now();let u;for(u=a.length-1;u>=0;--u){const d=a[u];if(d.charAt(0)==="$")continue;if(d==="options"){i.push(...this._animateOptions(t,n));continue}const f=n[d];let p=s[d];const g=r.get(d);if(p)if(g&&p.active()){p.update(g,f,o);continue}else p.cancel();if(!g||!g.duration){t[d]=f;continue}s[d]=p=new GI(g,t,d,f),i.push(p)}return i}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const r=this._createAnimations(t,n);if(r.length)return Ca.add(this._chart,r),!0}}function YI(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const s=e[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function JI(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function C_(e,t){const n=e&&e.options||{},r=n.reverse,i=n.min===void 0?t:0,s=n.max===void 0?t:0;return{start:r?s:i,end:r?i:s}}function XI(e,t,n){if(n===!1)return!1;const r=C_(e,n),i=C_(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function ZI(e){let t,n,r,i;return qt(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:e===!1}}function L6(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function j_(e,t,n,r={}){const i=e.keys,s=r.mode==="single";let a,o,u,d;if(t===null)return;let f=!1;for(a=0,o=i.length;a<o;++a){if(u=+i[a],u===n){if(f=!0,r.all)continue;break}d=e.values[u],Bn(d)&&(s||t===0||Zs(t)===Zs(d))&&(t+=d)}return!f&&!r.all?0:t}function eL(e,t){const{iScale:n,vScale:r}=t,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",a=Object.keys(e),o=new Array(a.length);let u,d,f;for(u=0,d=a.length;u<d;++u)f=a[u],o[u]={[i]:f,[s]:e[f]};return o}function My(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function tL(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function nL(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function rL(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function k_(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const s=e[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function E_(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:s,vScale:a,index:o}=r,u=s.axis,d=a.axis,f=tL(s,a,r),p=t.length;let g;for(let y=0;y<p;++y){const b=t[y],{[u]:_,[d]:C}=b,k=b._stacks||(b._stacks={});g=k[d]=rL(i,f,_),g[o]=C,g._top=k_(g,a,!0,r.type),g._bottom=k_(g,a,!1,r.type);const P=g._visualValues||(g._visualValues={});P[o]=C}}function Fy(e,t){const n=e.scales;return Object.keys(n).filter(r=>n[r].axis===t).shift()}function iL(e,t){return Vo(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function sL(e,t,n){return Vo(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function jd(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const i of t){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const By=e=>e==="reset"||e==="none",T_=(e,t)=>t?e:Object.assign({},e),aL=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:L6(n,!0),values:null};class qo{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=My(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&jd(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(p,g,y,b)=>p==="x"?g:p==="r"?b:y,s=n.xAxisID=jt(r.xAxisID,Fy(t,"x")),a=n.yAxisID=jt(r.yAxisID,Fy(t,"y")),o=n.rAxisID=jt(r.rAxisID,Fy(t,"r")),u=n.indexAxis,d=n.iAxisID=i(u,s,a,o),f=n.vAxisID=i(u,a,s,o);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(o),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&c_(this._data,this),t._stacked&&jd(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(qt(n)){const i=this._cachedMeta;this._data=eL(n,i)}else if(r!==n){if(r){c_(r,this);const i=this._cachedMeta;jd(i),i._parsed=[]}n&&Object.isExtensible(n)&&VA(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=My(n.vScale,n),n.stack!==r.stack&&(i=!0,jd(n),n.stack=r.stack),this._resyncElements(t),(i||s!==n._stacked)&&(E_(this,n._parsed),n._stacked=My(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:a}=r,o=s.axis;let u=t===0&&n===i.length?!0:r._sorted,d=t>0&&r._parsed[t-1],f,p,g;if(this._parsing===!1)r._parsed=i,r._sorted=!0,g=i;else{En(i[t])?g=this.parseArrayData(r,i,t,n):qt(i[t])?g=this.parseObjectData(r,i,t,n):g=this.parsePrimitiveData(r,i,t,n);const y=()=>p[o]===null||d&&p[o]<d[o];for(f=0;f<n;++f)r._parsed[f+t]=p=g[f],u&&(y()&&(u=!1),d=p);r._sorted=u}a&&E_(this,g)}parsePrimitiveData(t,n,r,i){const{iScale:s,vScale:a}=t,o=s.axis,u=a.axis,d=s.getLabels(),f=s===a,p=new Array(i);let g,y,b;for(g=0,y=i;g<y;++g)b=g+r,p[g]={[o]:f||s.parse(d[b],b),[u]:a.parse(n[b],b)};return p}parseArrayData(t,n,r,i){const{xScale:s,yScale:a}=t,o=new Array(i);let u,d,f,p;for(u=0,d=i;u<d;++u)f=u+r,p=n[f],o[u]={x:s.parse(p[0],f),y:a.parse(p[1],f)};return o}parseObjectData(t,n,r,i){const{xScale:s,yScale:a}=t,{xAxisKey:o="x",yAxisKey:u="y"}=this._parsing,d=new Array(i);let f,p,g,y;for(f=0,p=i;f<p;++f)g=f+r,y=n[g],d[f]={x:s.parse(Do(y,o),g),y:a.parse(Do(y,u),g)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const i=this.chart,s=this._cachedMeta,a=n[t.axis],o={keys:L6(i,!0),values:n._stacks[t.axis]._visualValues};return j_(o,a,s.index,{mode:r})}updateRangeFromParsed(t,n,r,i){const s=r[n.axis];let a=s===null?NaN:s;const o=i&&r._stacks[n.axis];i&&o&&(i.values=o,a=j_(i,s,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&t===r.iScale,a=i.length,o=this._getOtherScale(t),u=aL(n,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:p}=nL(o);let g,y;function b(){y=i[g];const _=y[o.axis];return!Bn(y[t.axis])||f>_||p<_}for(g=0;g<a&&!(!b()&&(this.updateRangeFromParsed(d,t,y,u),s));++g);if(s){for(g=a-1;g>=0;--g)if(!b()){this.updateRangeFromParsed(d,t,y,u);break}}return d}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let i,s,a;for(i=0,s=n.length;i<s;++i)a=n[i][t.axis],Bn(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(t);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=ZI(jt(this.options.clip,XI(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,a=[],o=this._drawStart||0,u=this._drawCount||i.length-o,d=this.options.drawActiveElementsOnTop;let f;for(r.dataset&&r.dataset.draw(t,s,o,u),f=o;f<o+u;++f){const p=i[f];p.hidden||(p.active&&d?a.push(p):p.draw(t,s))}for(f=0;f<a.length;++f)a[f].draw(t,s)}getStyle(t,n){const r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const i=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const a=this._cachedMeta.data[t];s=a.$context||(a.$context=sL(this.getContext(),t,a)),s.parsed=this.getParsed(t),s.raw=i.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=iL(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const i=n==="active",s=this._cachedDataOpts,a=t+"-"+n,o=s[a],u=this.enableOptionSharing&&fh(r);if(o)return T_(o,u);const d=this.chart.config,f=d.datasetElementScopeKeys(this._type,t),p=i?[`${t}Hover`,"hover",t,""]:[t,""],g=d.getOptionScopes(this.getDataset(),f),y=Object.keys(Tn.elements[t]),b=()=>this.getContext(r,i,n),_=d.resolveNamedOptions(g,y,b,p);return _.$shared&&(_.$shared=u,s[a]=Object.freeze(T_(_,u))),_}_resolveAnimations(t,n,r){const i=this.chart,s=this._cachedDataOpts,a=`animation-${n}`,o=s[a];if(o)return o;let u;if(i.options.animation!==!1){const f=this.chart.config,p=f.datasetAnimationScopeKeys(this._type,n),g=f.getOptionScopes(this.getDataset(),p);u=f.createResolver(g,this.getContext(t,r,n))}const d=new I6(i,u&&u.animations);return u&&u._cacheable&&(s[a]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||By(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),i=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:a}}updateElement(t,n,r,i){By(i)?Object.assign(t,r):this._resolveAnimations(n,i).update(t,r)}updateSharedOptions(t,n,r){t&&!By(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,i){t.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(t,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[o,u,d]of this._syncList)this[o](u,d);this._syncList=[];const i=r.length,s=n.length,a=Math.min(s,i);a&&this.parse(0,a),s>i?this._insertElements(i,s-i,t):s<i&&this._removeElements(s,i-s)}_insertElements(t,n,r=!0){const i=this._cachedMeta,s=i.data,a=t+n;let o;const u=d=>{for(d.length+=n,o=d.length-1;o>=a;o--)d[o]=d[o-n]};for(u(s),o=t;o<a;++o)s[o]=new this.dataElementType;this._parsing&&u(i._parsed),this.parse(t,n),r&&this.updateElements(s,t,n,"reset")}updateElements(t,n,r,i){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(t,n);r._stacked&&jd(r,i)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,i]=t;this[n](r,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function oL(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(e));e._cache.$bar=p6(r.sort((i,s)=>i-s))}return e._cache.$bar}function lL(e){const t=e.iScale,n=oL(t,e.type);let r=t._length,i,s,a,o;const u=()=>{a===32767||a===-32768||(fh(o)&&(r=Math.min(r,Math.abs(a-o)||r)),o=a)};for(i=0,s=n.length;i<s;++i)a=t.getPixelForValue(n[i]),u();for(o=void 0,i=0,s=t.ticks.length;i<s;++i)a=t.getPixelForTick(i),u();return r}function uL(e,t,n,r){const i=n.barThickness;let s,a;return Ht(i)?(s=t.min*n.categoryPercentage,a=n.barPercentage):(s=i*r,a=1),{chunk:s/r,ratio:a,start:t.pixels[e]-s/2}}function cL(e,t,n,r){const i=t.pixels,s=i[e];let a=e>0?i[e-1]:null,o=e<i.length-1?i[e+1]:null;const u=n.categoryPercentage;a===null&&(a=s-(o===null?t.end-t.start:o-s)),o===null&&(o=s+s-a);const d=s-(s-Math.min(a,o))/2*u;return{chunk:Math.abs(o-a)/2*u/r,ratio:n.barPercentage,start:d}}function dL(e,t,n,r){const i=n.parse(e[0],r),s=n.parse(e[1],r),a=Math.min(i,s),o=Math.max(i,s);let u=a,d=o;Math.abs(a)>Math.abs(o)&&(u=o,d=a),t[n.axis]=d,t._custom={barStart:u,barEnd:d,start:i,end:s,min:a,max:o}}function D6(e,t,n,r){return En(e)?dL(e,t,n,r):t[n.axis]=n.parse(e,r),t}function N_(e,t,n,r){const i=e.iScale,s=e.vScale,a=i.getLabels(),o=i===s,u=[];let d,f,p,g;for(d=n,f=n+r;d<f;++d)g=t[d],p={},p[i.axis]=o||i.parse(a[d],d),u.push(D6(g,p,s,d));return u}function zy(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function hL(e,t,n){return e!==0?Zs(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function fL(e){let t,n,r,i,s;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:t,top:i,bottom:s}}function pL(e,t,n,r){let i=t.borderSkipped;const s={};if(!i){e.borderSkipped=s;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:u,top:d,bottom:f}=fL(e);i==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?i=d:(n._bottom||0)===r?i=f:(s[P_(f,a,o,u)]=!0,i=d)),s[P_(i,a,o,u)]=!0,e.borderSkipped=s}function P_(e,t,n,r){return r?(e=mL(e,t,n),e=O_(e,n,t)):e=O_(e,t,n),e}function mL(e,t,n){return e===t?n:e===n?t:e}function O_(e,t,n){return e==="start"?t:e==="end"?n:e}function gL(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class M6 extends qo{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,n,r,i){return N_(t,n,r,i)}parseArrayData(t,n,r,i){return N_(t,n,r,i)}parseObjectData(t,n,r,i){const{iScale:s,vScale:a}=t,{xAxisKey:o="x",yAxisKey:u="y"}=this._parsing,d=s.axis==="x"?o:u,f=a.axis==="x"?o:u,p=[];let g,y,b,_;for(g=r,y=r+i;g<y;++g)_=n[g],b={},b[s.axis]=s.parse(Do(_,d),g),p.push(D6(Do(_,f),b,a,g));return p}updateRangeFromParsed(t,n,r,i){super.updateRangeFromParsed(t,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(t),a=s._custom,o=zy(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,r,i){const s=i==="reset",{index:a,_cachedMeta:{vScale:o}}=this,u=o.getBasePixel(),d=o.isHorizontal(),f=this._getRuler(),{sharedOptions:p,includeOptions:g}=this._getSharedOptions(n,i);for(let y=n;y<n+r;y++){const b=this.getParsed(y),_=s||Ht(b[o.axis])?{base:u,head:u}:this._calculateBarValuePixels(y),C=this._calculateBarIndexPixels(y,f),k=(b._stacks||{})[o.axis],P={horizontal:d,base:_.base,enableBorderRadius:!k||zy(b._custom)||a===k._top||a===k._bottom,x:d?_.head:C.center,y:d?C.center:_.head,height:d?C.size:Math.abs(_.size),width:d?Math.abs(_.size):C.size};g&&(P.options=p||this.resolveDataElementOptions(y,t[y].active?"active":i));const A=P.options||t[y].options;pL(P,A,k,a),gL(P,A,f.ratio),this.updateElement(t[y],y,P,i)}}_getStacks(t,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),s=r.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(n),u=o&&o[r.axis],d=f=>{const p=f._parsed.find(y=>y[r.axis]===u),g=p&&p[f.vScale.axis];if(Ht(g)||isNaN(g))return!0};for(const f of i)if(!(n!==void 0&&d(f))&&((s===!1||a.indexOf(f.stack)===-1||s===void 0&&f.stack===void 0)&&a.push(f.stack),f.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(r=>t[r].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)t[jt(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,r){const i=this._getStacks(t,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const t=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,a;for(s=0,a=n.data.length;s<a;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const o=t.barThickness;return{min:o||lL(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:s,minBarLength:a}}=this,o=s||0,u=this.getParsed(t),d=u._custom,f=zy(d);let p=u[n.axis],g=0,y=r?this.applyStack(n,u,r):p,b,_;y!==p&&(g=y-p,y=p),f&&(p=d.barStart,y=d.barEnd-d.barStart,p!==0&&Zs(p)!==Zs(d.barEnd)&&(g=0),g+=p);const C=!Ht(s)&&!f?s:g;let k=n.getPixelForValue(C);if(this.chart.getDataVisibility(t)?b=n.getPixelForValue(g+y):b=k,_=b-k,Math.abs(_)<a){_=hL(_,n,o)*a,p===o&&(k-=_/2);const P=n.getPixelForDecimal(0),A=n.getPixelForDecimal(1),U=Math.min(P,A),V=Math.max(P,A);k=Math.max(Math.min(k,V),U),b=k+_,r&&!f&&(u._stacks[n.axis]._visualValues[i]=n.getValueForPixel(b)-n.getValueForPixel(k))}if(k===n.getPixelForValue(o)){const P=Zs(_)*n.getLineWidthForValue(o)/2;k+=P,_-=P}return{size:_,base:k,head:b,center:b+_/2}}_calculateBarIndexPixels(t,n){const r=n.scale,i=this.options,s=i.skipNull,a=jt(i.maxBarThickness,1/0);let o,u;const d=this._getAxisCount();if(n.grouped){const f=s?this._getStackCount(t):n.stackCount,p=i.barThickness==="flex"?cL(t,n,i,f*d):uL(t,n,i,f*d),g=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,y=this._getAxis().indexOf(jt(g,this.getFirstScaleIdForIndexAxis())),b=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0)+y;o=p.start+p.chunk*b+p.chunk/2,u=Math.min(a,p.chunk*p.ratio)}else o=r.getPixelForValue(this.getParsed(t)[r.axis],t),u=Math.min(a,n.min*n.ratio);return{base:o-u/2,head:o+u/2,center:o,size:u}}draw(){const t=this._cachedMeta,n=t.vScale,r=t.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}class yL extends qo{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,r,i){const s=super.parsePrimitiveData(t,n,r,i);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+r).radius;return s}parseArrayData(t,n,r,i){const s=super.parseArrayData(t,n,r,i);for(let a=0;a<s.length;a++){const o=n[r+a];s[a]._custom=jt(o[2],this.resolveDataElementOptions(a+r).radius)}return s}parseObjectData(t,n,r,i){const s=super.parseObjectData(t,n,r,i);for(let a=0;a<s.length;a++){const o=n[r+a];s[a]._custom=jt(o&&o.r&&+o.r,this.resolveDataElementOptions(a+r).radius)}return s}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let r=t.length-1;r>=0;--r)n=Math.max(n,t[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,a=this.getParsed(t),o=i.getLabelForValue(a.x),u=s.getLabelForValue(a.y),d=a._custom;return{label:r[t]||"",value:"("+o+", "+u+(d?", "+d:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,r,i){const s=i==="reset",{iScale:a,vScale:o}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,i),f=a.axis,p=o.axis;for(let g=n;g<n+r;g++){const y=t[g],b=!s&&this.getParsed(g),_={},C=_[f]=s?a.getPixelForDecimal(.5):a.getPixelForValue(b[f]),k=_[p]=s?o.getBasePixel():o.getPixelForValue(b[p]);_.skip=isNaN(C)||isNaN(k),d&&(_.options=u||this.resolveDataElementOptions(g,y.active?"active":i),s&&(_.options.radius=0)),this.updateElement(y,g,_,i)}}resolveDataElementOptions(t,n){const r=this.getParsed(t);let i=super.resolveDataElementOptions(t,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const s=i.radius;return n!=="active"&&(i.radius=0),i.radius+=jt(r&&r._custom,s),i}}function xL(e,t,n){let r=1,i=1,s=0,a=0;if(t<bn){const o=e,u=o+t,d=Math.cos(o),f=Math.sin(o),p=Math.cos(u),g=Math.sin(u),y=(A,U,V)=>ph(A,o,u,!0)?1:Math.max(U,U*n,V,V*n),b=(A,U,V)=>ph(A,o,u,!0)?-1:Math.min(U,U*n,V,V*n),_=y(0,d,p),C=y(Kn,f,g),k=b(en,d,p),P=b(en+Kn,f,g);r=(_-k)/2,i=(C-P)/2,s=-(_+k)/2,a=-(C+P)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:a}}class hg extends qo{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data,{labels:{pointStyle:r,textAlign:i,color:s,useBorderRadius:a,borderRadius:o}}=t.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((u,d)=>{const p=t.getDatasetMeta(0).controller.getStyle(d);return{text:u,fillStyle:p.backgroundColor,fontColor:s,hidden:!t.getDataVisibility(d),lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:p.borderWidth,strokeStyle:p.borderColor,textAlign:i,pointStyle:r,borderRadius:a&&(o||p.borderRadius),index:d}}):[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=u=>+r[u];if(qt(r[t])){const{key:u="value"}=this._parsing;s=d=>+Do(r[d],u)}let a,o;for(a=t,o=t+n;a<o;++a)i._parsed[a]=s(a)}}_getRotation(){return ks(this.options.rotation-90)}_getCircumference(){return ks(this.options.circumference)}_getRotationExtents(){let t=bn,n=-bn;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),a=i._getCircumference();t=Math.min(t,s),n=Math.max(n,s+a)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,o=Math.max((Math.min(r.width,r.height)-a)/2,0),u=Math.min(NA(this.options.cutout,o),1),d=this._getRingWeight(this.index),{circumference:f,rotation:p}=this._getRotationExtents(),{ratioX:g,ratioY:y,offsetX:b,offsetY:_}=xL(p,f,u),C=(r.width-a)/g,k=(r.height-a)/y,P=Math.max(Math.min(C,k)/2,0),A=u6(this.options.radius,P),U=Math.max(A*u,0),V=(A-U)/this._getVisibleDatasetWeightTotal();this.offsetX=b*A,this.offsetY=_*A,i.total=this.calculateTotal(),this.outerRadius=A-V*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-V*d,0),this.updateElements(s,0,s.length,t)}_circumference(t,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*s/bn)}updateElements(t,n,r,i){const s=i==="reset",a=this.chart,o=a.chartArea,d=a.options.animation,f=(o.left+o.right)/2,p=(o.top+o.bottom)/2,g=s&&d.animateScale,y=g?0:this.innerRadius,b=g?0:this.outerRadius,{sharedOptions:_,includeOptions:C}=this._getSharedOptions(n,i);let k=this._getRotation(),P;for(P=0;P<n;++P)k+=this._circumference(P,s);for(P=n;P<n+r;++P){const A=this._circumference(P,s),U=t[P],V={x:f+this.offsetX,y:p+this.offsetY,startAngle:k,endAngle:k+A,circumference:A,outerRadius:b,innerRadius:y};C&&(V.options=_||this.resolveDataElementOptions(P,U.active?"active":i)),k+=A,this.updateElement(U,P,V,i)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let r=0,i;for(i=0;i<n.length;i++){const s=t._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?bn*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Bh(n._parsed[t],r.options.locale);return{label:i[t]||"",value:s}}getMaxBorderWidth(t){let n=0;const r=this.chart;let i,s,a,o,u;if(!t){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){a=r.getDatasetMeta(i),t=a.data,o=a.controller;break}}if(!t)return 0;for(i=0,s=t.length;i<s;++i)u=o.resolveDataElementOptions(i),u.borderAlign!=="inner"&&(n=Math.max(n,u.borderWidth||0,u.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let r=0,i=t.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(t){return Math.max(jt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class vL extends qo{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,a=this.chart._animationsDisabled;let{start:o,count:u}=y6(n,i,a);this._drawStart=o,this._drawCount=u,x6(n)&&(o=0,u=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:d},t),this.updateElements(i,o,u,t)}updateElements(t,n,r,i){const s=i==="reset",{iScale:a,vScale:o,_stacked:u,_dataset:d}=this._cachedMeta,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(n,i),g=a.axis,y=o.axis,{spanGaps:b,segment:_}=this.options,C=Ql(b)?b:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||s||i==="none",P=n+r,A=t.length;let U=n>0&&this.getParsed(n-1);for(let V=0;V<A;++V){const I=t[V],O=k?I:{};if(V<n||V>=P){O.skip=!0;continue}const B=this.getParsed(V),W=Ht(B[y]),F=O[g]=a.getPixelForValue(B[g],V),se=O[y]=s||W?o.getBasePixel():o.getPixelForValue(u?this.applyStack(o,B,u):B[y],V);O.skip=isNaN(F)||isNaN(se)||W,O.stop=V>0&&Math.abs(B[g]-U[g])>C,_&&(O.parsed=B,O.raw=d.data[V]),p&&(O.options=f||this.resolveDataElementOptions(V,I.active?"active":i)),k||this.updateElement(I,V,O,i),U=B}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,r=n.options&&n.options.borderWidth||0,i=t.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,a)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class F6 extends qo{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=t.legend.options;return n.labels.map((s,a)=>{const u=t.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:i,lineWidth:u.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Bh(n._parsed[t].r,r.options.locale);return{label:i[t]||"",value:s}}parseObjectData(t,n,r,i){return k6.bind(this)(t,n,r,i)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((r,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,r=t.options,i=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(i/2,0),a=Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0),o=(s-a)/t.getVisibleDatasetCount();this.outerRadius=s-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(t,n,r,i){const s=i==="reset",a=this.chart,u=a.options.animation,d=this._cachedMeta.rScale,f=d.xCenter,p=d.yCenter,g=d.getIndexAngle(0)-.5*en;let y=g,b;const _=360/this.countVisibleElements();for(b=0;b<n;++b)y+=this._computeAngle(b,i,_);for(b=n;b<n+r;b++){const C=t[b];let k=y,P=y+this._computeAngle(b,i,_),A=a.getDataVisibility(b)?d.getDistanceFromCenterForValue(this.getParsed(b).r):0;y=P,s&&(u.animateScale&&(A=0),u.animateRotate&&(k=P=g));const U={x:f,y:p,innerRadius:0,outerRadius:A,startAngle:k,endAngle:P,options:this.resolveDataElementOptions(b,C.active?"active":i)};this.updateElement(C,b,U,i)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((r,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(t,n,r){return this.chart.getDataVisibility(t)?ks(this.resolveDataElementOptions(t,n).angle||r):0}}class bL extends hg{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class B6 extends qo{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const n=this._cachedMeta.vScale,r=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(t,n,r,i){return k6.bind(this)(t,n,r,i)}update(t){const n=this._cachedMeta,r=n.dataset,i=n.data||[],s=n.iScale.getLabels();if(r.points=i,t!=="resize"){const a=this.resolveDatasetElementOptions(t);this.options.showLine||(a.borderWidth=0);const o={_loop:!0,_fullLoop:s.length===i.length,options:a};this.updateElement(r,void 0,o,t)}this.updateElements(i,0,i.length,t)}updateElements(t,n,r,i){const s=this._cachedMeta.rScale,a=i==="reset";for(let o=n;o<n+r;o++){const u=t[o],d=this.resolveDataElementOptions(o,u.active?"active":i),f=s.getPointPositionForValue(o,this.getParsed(o).r),p=a?s.xCenter:f.x,g=a?s.yCenter:f.y,y={x:p,y:g,angle:f.angle,skip:isNaN(p)||isNaN(g),options:d};this.updateElement(u,o,y,i)}}}class wL extends qo{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,a=this.getParsed(t),o=i.getLabelForValue(a.x),u=s.getLabelForValue(a.y);return{label:r[t]||"",value:"("+o+", "+u+")"}}update(t){const n=this._cachedMeta,{data:r=[]}=n,i=this.chart._animationsDisabled;let{start:s,count:a}=y6(n,r,i);if(this._drawStart=s,this._drawCount=a,x6(n)&&(s=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:o,_dataset:u}=n;o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!u._decimated,o.points=r;const d=this.resolveDatasetElementOptions(t);d.segment=this.options.segment,this.updateElement(o,void 0,{animated:!i,options:d},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,s,a,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,r,i){const s=i==="reset",{iScale:a,vScale:o,_stacked:u,_dataset:d}=this._cachedMeta,f=this.resolveDataElementOptions(n,i),p=this.getSharedOptions(f),g=this.includeOptions(i,p),y=a.axis,b=o.axis,{spanGaps:_,segment:C}=this.options,k=Ql(_)?_:Number.POSITIVE_INFINITY,P=this.chart._animationsDisabled||s||i==="none";let A=n>0&&this.getParsed(n-1);for(let U=n;U<n+r;++U){const V=t[U],I=this.getParsed(U),O=P?V:{},B=Ht(I[b]),W=O[y]=a.getPixelForValue(I[y],U),F=O[b]=s||B?o.getBasePixel():o.getPixelForValue(u?this.applyStack(o,I,u):I[b],U);O.skip=isNaN(W)||isNaN(F)||B,O.stop=U>0&&Math.abs(I[y]-A[y])>k,C&&(O.parsed=I,O.raw=d.data[U]),g&&(O.options=p||this.resolveDataElementOptions(U,V.active?"active":i)),P||this.updateElement(V,U,O,i),A=I}this.updateSharedOptions(p,i,f)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let o=0;for(let u=n.length-1;u>=0;--u)o=Math.max(o,n[u].size(this.resolveDataElementOptions(u))/2);return o>0&&o}const r=t.dataset,i=r.options&&r.options.borderWidth||0;if(!n.length)return i;const s=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,s,a)/2}}var _L=Object.freeze({__proto__:null,BarController:M6,BubbleController:yL,DoughnutController:hg,LineController:vL,PieController:bL,PolarAreaController:F6,RadarController:B6,ScatterController:wL});function wl(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Kv{static override(t){Object.assign(Kv.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return wl()}parse(){return wl()}format(){return wl()}add(){return wl()}diff(){return wl()}startOf(){return wl()}endOf(){return wl()}}var SL={_date:Kv};function CL(e,t,n,r){const{controller:i,data:s,_sorted:a}=e,o=i._cachedMeta.iScale,u=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&t!=="r"&&a&&s.length){const d=o._reversePixels?$A:Pa;if(r){if(i._sharedOptions){const f=s[0],p=typeof f.getRange=="function"&&f.getRange(t);if(p){const g=d(s,t,n-p),y=d(s,t,n+p);return{lo:g.lo,hi:y.hi}}}}else{const f=d(s,t,n);if(u){const{vScale:p}=i._cachedMeta,{_parsed:g}=e,y=g.slice(0,f.lo+1).reverse().findIndex(_=>!Ht(_[p.axis]));f.lo-=Math.max(0,y);const b=g.slice(f.hi).findIndex(_=>!Ht(_[p.axis]));f.hi+=Math.max(0,b)}return f}}return{lo:0,hi:s.length-1}}function fg(e,t,n,r,i){const s=e.getSortedVisibleDatasetMetas(),a=n[t];for(let o=0,u=s.length;o<u;++o){const{index:d,data:f}=s[o],{lo:p,hi:g}=CL(s[o],t,a,i);for(let y=p;y<=g;++y){const b=f[y];b.skip||r(b,d,y)}}}function jL(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(r,i){const s=t?Math.abs(r.x-i.x):0,a=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function Uy(e,t,n,r,i){const s=[];return!i&&!e.isPointInArea(t)||fg(e,n,t,function(o,u,d){!i&&!Oa(o,e.chartArea,0)||o.inRange(t.x,t.y,r)&&s.push({element:o,datasetIndex:u,index:d})},!0),s}function kL(e,t,n,r){let i=[];function s(a,o,u){const{startAngle:d,endAngle:f}=a.getProps(["startAngle","endAngle"],r),{angle:p}=h6(a,{x:t.x,y:t.y});ph(p,d,f)&&i.push({element:a,datasetIndex:o,index:u})}return fg(e,n,t,s),i}function EL(e,t,n,r,i,s){let a=[];const o=jL(n);let u=Number.POSITIVE_INFINITY;function d(f,p,g){const y=f.inRange(t.x,t.y,i);if(r&&!y)return;const b=f.getCenterPoint(i);if(!(!!s||e.isPointInArea(b))&&!y)return;const C=o(t,b);C<u?(a=[{element:f,datasetIndex:p,index:g}],u=C):C===u&&a.push({element:f,datasetIndex:p,index:g})}return fg(e,n,t,d),a}function $y(e,t,n,r,i,s){return!s&&!e.isPointInArea(t)?[]:n==="r"&&!r?kL(e,t,n,i):EL(e,t,n,r,i,s)}function R_(e,t,n,r,i){const s=[],a=n==="x"?"inXRange":"inYRange";let o=!1;return fg(e,n,t,(u,d,f)=>{u[a]&&u[a](t[n],i)&&(s.push({element:u,datasetIndex:d,index:f}),o=o||u.inRange(t.x,t.y,i))}),r&&!o?[]:s}var TL={modes:{index(e,t,n,r){const i=Tl(t,e),s=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?Uy(e,i,s,r,a):$y(e,i,s,!1,r,a),u=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(d=>{const f=o[0].index,p=d.data[f];p&&!p.skip&&u.push({element:p,datasetIndex:d.index,index:f})}),u):[]},dataset(e,t,n,r){const i=Tl(t,e),s=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?Uy(e,i,s,r,a):$y(e,i,s,!1,r,a);if(o.length>0){const u=o[0].datasetIndex,d=e.getDatasetMeta(u).data;o=[];for(let f=0;f<d.length;++f)o.push({element:d[f],datasetIndex:u,index:f})}return o},point(e,t,n,r){const i=Tl(t,e),s=n.axis||"xy",a=n.includeInvisible||!1;return Uy(e,i,s,r,a)},nearest(e,t,n,r){const i=Tl(t,e),s=n.axis||"xy",a=n.includeInvisible||!1;return $y(e,i,s,n.intersect,r,a)},x(e,t,n,r){const i=Tl(t,e);return R_(e,i,"x",n.intersect,r)},y(e,t,n,r){const i=Tl(t,e);return R_(e,i,"y",n.intersect,r)}}};const z6=["left","top","right","bottom"];function kd(e,t){return e.filter(n=>n.pos===t)}function A_(e,t){return e.filter(n=>z6.indexOf(n.pos)===-1&&n.box.axis===t)}function Ed(e,t){return e.sort((n,r)=>{const i=t?r:n,s=t?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function NL(e){const t=[];let n,r,i,s,a,o;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],{position:s,options:{stack:a,stackWeight:o=1}}=i,t.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:o});return t}function PL(e){const t={};for(const n of e){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!z6.includes(i))continue;const a=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return t}function OL(e,t){const n=PL(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let s,a,o;for(s=0,a=e.length;s<a;++s){o=e[s];const{fullSize:u}=o.box,d=n[o.stack],f=d&&o.stackWeight/d.weight;o.horizontal?(o.width=f?f*r:u&&t.availableWidth,o.height=i):(o.width=r,o.height=f?f*i:u&&t.availableHeight)}return n}function RL(e){const t=NL(e),n=Ed(t.filter(d=>d.box.fullSize),!0),r=Ed(kd(t,"left"),!0),i=Ed(kd(t,"right")),s=Ed(kd(t,"top"),!0),a=Ed(kd(t,"bottom")),o=A_(t,"x"),u=A_(t,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(u).concat(a).concat(o),chartArea:kd(t,"chartArea"),vertical:r.concat(i).concat(u),horizontal:s.concat(a).concat(o)}}function I_(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function U6(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function AL(e,t,n,r){const{pos:i,box:s}=n,a=e.maxPadding;if(!qt(i)){n.size&&(e[i]-=n.size);const p=r[n.stack]||{size:0,count:1};p.size=Math.max(p.size,n.horizontal?s.height:s.width),n.size=p.size/p.count,e[i]+=n.size}s.getPadding&&U6(a,s.getPadding());const o=Math.max(0,t.outerWidth-I_(a,e,"left","right")),u=Math.max(0,t.outerHeight-I_(a,e,"top","bottom")),d=o!==e.w,f=u!==e.h;return e.w=o,e.h=u,n.horizontal?{same:d,other:f}:{same:f,other:d}}function IL(e){const t=e.maxPadding;function n(r){const i=Math.max(t[r]-e[r],0);return e[r]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function LL(e,t){const n=t.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{s[a]=Math.max(t[a],n[a])}),s}return r(e?["left","right"]:["top","bottom"])}function Hd(e,t,n,r){const i=[];let s,a,o,u,d,f;for(s=0,a=e.length,d=0;s<a;++s){o=e[s],u=o.box,u.update(o.width||t.w,o.height||t.h,LL(o.horizontal,t));const{same:p,other:g}=AL(t,n,o,r);d|=p&&i.length,f=f||g,u.fullSize||i.push(o)}return d&&Hd(i,t,n,r)||f}function Cp(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function L_(e,t,n,r){const i=n.padding;let{x:s,y:a}=t;for(const o of e){const u=o.box,d=r[o.stack]||{placed:0,weight:1},f=o.stackWeight/d.weight||1;if(o.horizontal){const p=t.w*f,g=d.size||u.height;fh(d.start)&&(a=d.start),u.fullSize?Cp(u,i.left,a,n.outerWidth-i.right-i.left,g):Cp(u,t.left+d.placed,a,p,g),d.start=a,d.placed+=p,a=u.bottom}else{const p=t.h*f,g=d.size||u.width;fh(d.start)&&(s=d.start),u.fullSize?Cp(u,s,i.top,g,n.outerHeight-i.bottom-i.top):Cp(u,s,t.top+d.placed,g,p),d.start=s,d.placed+=p,s=u.right}}t.x=s,t.y=a}var Br={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=Ur(e.options.layout.padding),s=Math.max(t-i.width,0),a=Math.max(n-i.height,0),o=RL(e.boxes),u=o.vertical,d=o.horizontal;on(e.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const f=u.reduce((_,C)=>C.box.options&&C.box.options.display===!1?_:_+1,0)||1,p=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/f,hBoxMaxHeight:a/2}),g=Object.assign({},i);U6(g,Ur(r));const y=Object.assign({maxPadding:g,w:s,h:a,x:i.left,y:i.top},i),b=OL(u.concat(d),p);Hd(o.fullSize,y,p,b),Hd(u,y,p,b),Hd(d,y,p,b)&&Hd(u,y,p,b),IL(y),L_(o.leftAndTop,y,p,b),y.x+=y.w,y.y+=y.h,L_(o.rightAndBottom,y,p,b),e.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},on(o.chartArea,_=>{const C=_.box;Object.assign(C,e.chartArea),C.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class $6{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,r){}removeEventListener(t,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,r,i){return n=Math.max(0,n||t.width),r=r||t.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(t){return!0}updateConfig(t){}}class DL extends $6{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const am="$chartjs",ML={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},D_=e=>e===null||e==="";function FL(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[am]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",D_(i)){const s=v_(e,"width");s!==void 0&&(e.width=s)}if(D_(r))if(e.style.height==="")e.height=e.width/(t||2);else{const s=v_(e,"height");s!==void 0&&(e.height=s)}return e}const H6=LI?{passive:!0}:!1;function BL(e,t,n){e&&e.addEventListener(t,n,H6)}function zL(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,H6)}function UL(e,t){const n=ML[e.type]||e.type,{x:r,y:i}=Tl(e,t);return{type:n,chart:t,native:e,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Rm(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function $L(e,t,n){const r=e.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||Rm(o.addedNodes,r),a=a&&!Rm(o.removedNodes,r);a&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function HL(e,t,n){const r=e.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||Rm(o.removedNodes,r),a=a&&!Rm(o.addedNodes,r);a&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const gh=new Map;let M_=0;function V6(){const e=window.devicePixelRatio;e!==M_&&(M_=e,gh.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function VL(e,t){gh.size||window.addEventListener("resize",V6),gh.set(e,t)}function qL(e){gh.delete(e),gh.size||window.removeEventListener("resize",V6)}function WL(e,t,n){const r=e.canvas,i=r&&Qv(r);if(!i)return;const s=g6((o,u)=>{const d=i.clientWidth;n(o,u),d<i.clientWidth&&n()},window),a=new ResizeObserver(o=>{const u=o[0],d=u.contentRect.width,f=u.contentRect.height;d===0&&f===0||s(d,f)});return a.observe(i),VL(e,s),a}function Hy(e,t,n){n&&n.disconnect(),t==="resize"&&qL(e)}function QL(e,t,n){const r=e.canvas,i=g6(s=>{e.ctx!==null&&n(UL(s,e))},e);return BL(r,t,i),i}class KL extends $6{acquireContext(t,n){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(FL(t,n),r):null}releaseContext(t){const n=t.canvas;if(!n[am])return!1;const r=n[am].initial;["height","width"].forEach(s=>{const a=r[s];Ht(a)?n.removeAttribute(s):n.setAttribute(s,a)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[am],!0}addEventListener(t,n,r){this.removeEventListener(t,n);const i=t.$proxies||(t.$proxies={}),a={attach:$L,detach:HL,resize:WL}[n]||QL;i[n]=a(t,n,r)}removeEventListener(t,n){const r=t.$proxies||(t.$proxies={}),i=r[n];if(!i)return;({attach:Hy,detach:Hy,resize:Hy}[n]||zL)(t,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,r,i){return II(t,n,r,i)}isAttached(t){const n=t&&Qv(t);return!!(n&&n.isConnected)}}function GL(e){return!Wv()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?DL:KL}let za=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}hasValue(){return Ql(this.x)&&Ql(this.y)}getProps(t,n){const r=this.$animations;if(!n||!r)return this;const i={};return t.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}};function YL(e,t){const n=e.options.ticks,r=JL(e),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?ZL(t):[],a=s.length,o=s[0],u=s[a-1],d=[];if(a>i)return eD(t,d,s,a/i),d;const f=XL(s,t,i);if(a>0){let p,g;const y=a>1?Math.round((u-o)/(a-1)):null;for(jp(t,d,f,Ht(y)?0:o-y,o),p=0,g=a-1;p<g;p++)jp(t,d,f,s[p],s[p+1]);return jp(t,d,f,u,Ht(y)?t.length:u+y),d}return jp(t,d,f),d}function JL(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}function XL(e,t,n){const r=tD(e),i=t.length/n;if(!r)return Math.max(i,1);const s=MA(r);for(let a=0,o=s.length-1;a<o;a++){const u=s[a];if(u>i)return u}return Math.max(i,1)}function ZL(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}function eD(e,t,n,r){let i=0,s=n[0],a;for(r=Math.ceil(r),a=0;a<e.length;a++)a===s&&(t.push(e[a]),i++,s=n[i*r])}function jp(e,t,n,r,i){const s=jt(r,0),a=Math.min(jt(i,e.length),e.length);let o=0,u,d,f;for(n=Math.ceil(n),i&&(u=i-r,n=u/Math.floor(u/n)),f=s;f<0;)o++,f=Math.round(s+o*n);for(d=Math.max(s,0);d<a;d++)d===f&&(t.push(e[d]),o++,f=Math.round(s+o*n))}function tD(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}const nD=e=>e==="left"?"right":e==="right"?"left":e,F_=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,B_=(e,t)=>Math.min(t||e,e);function z_(e,t){const n=[],r=e.length/t,i=e.length;let s=0;for(;s<i;s+=r)n.push(e[Math.floor(s)]);return n}function rD(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),s=e._startPixel,a=e._endPixel,o=1e-6;let u=e.getPixelForTick(i),d;if(!(n&&(r===1?d=Math.max(u-s,a-u):t===0?d=(e.getPixelForTick(1)-u)/2:d=(u-e.getPixelForTick(i-1))/2,u+=i<t?d:-d,u<s-o||u>a+o)))return u}function iD(e,t){on(e,n=>{const r=n.gc,i=r.length/2;let s;if(i>t){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function Td(e){return e.drawTicks?e.tickLength:0}function U_(e,t){if(!e.display)return 0;const n=hr(e.font,t),r=Ur(e.padding);return(En(e.text)?e.text.length:1)*n.lineHeight+r.height}function sD(e,t){return Vo(e,{scale:t,type:"scale"})}function aD(e,t,n){return Vo(e,{tick:n,index:t,type:"tick"})}function oD(e,t,n){let r=zv(e);return(n&&t!=="right"||!n&&t==="right")&&(r=nD(r)),r}function lD(e,t,n,r){const{top:i,left:s,bottom:a,right:o,chart:u}=e,{chartArea:d,scales:f}=u;let p=0,g,y,b;const _=a-i,C=o-s;if(e.isHorizontal()){if(y=Dr(r,s,o),qt(n)){const k=Object.keys(n)[0],P=n[k];b=f[k].getPixelForValue(P)+_-t}else n==="center"?b=(d.bottom+d.top)/2+_-t:b=F_(e,n,t);g=o-s}else{if(qt(n)){const k=Object.keys(n)[0],P=n[k];y=f[k].getPixelForValue(P)-C+t}else n==="center"?y=(d.left+d.right)/2-C+t:y=F_(e,n,t);b=Dr(r,a,i),p=n==="left"?-Kn:Kn}return{titleX:y,titleY:b,maxWidth:g,rotation:p}}class eu extends za{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return t=Pi(t,Number.POSITIVE_INFINITY),n=Pi(n,Number.NEGATIVE_INFINITY),r=Pi(r,Number.POSITIVE_INFINITY),i=Pi(i,Number.NEGATIVE_INFINITY),{min:Pi(t,r),max:Pi(n,i),minDefined:Bn(t),maxDefined:Bn(n)}}getMinMax(t){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),a;if(i&&s)return{min:n,max:r};const o=this.getMatchingVisibleMetas();for(let u=0,d=o.length;u<d;++u)a=o[u].controller.getMinMax(this,t),i||(n=Math.min(n,a.min)),s||(r=Math.max(r,a.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:Pi(n,Pi(r,n)),max:Pi(r,Pi(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){mn(this.options.beforeUpdate,[this])}update(t,n,r){const{beginAtZero:i,grace:s,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=hI(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=o<this.ticks.length;this._convertTicksToLabels(u?z_(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=YL(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,t=!t),this._startPixel=n,this._endPixel=r,this._reversePixels=t,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){mn(this.options.afterUpdate,[this])}beforeSetDimensions(){mn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){mn(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),mn(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){mn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r],s.label=mn(n.callback,[s.value,r,t],this)}afterTickToLabelConversion(){mn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){mn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,r=B_(this.ticks.length,t.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let a=i,o,u,d;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const f=this._getLabelSizes(),p=f.widest.width,g=f.highest.height,y=_r(this.chart.width-p,0,this.maxWidth);o=t.offset?this.maxWidth/r:y/(r-1),p+6>o&&(o=y/(r-(t.offset?.5:1)),u=this.maxHeight-Td(t.grid)-n.padding-U_(t.title,this.chart.options.font),d=Math.sqrt(p*p+g*g),a=Fv(Math.min(Math.asin(_r((f.highest.height+6)/o,-1,1)),Math.asin(_r(u/d,-1,1))-Math.asin(_r(g/d,-1,1)))),a=Math.max(i,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){mn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){mn(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const u=U_(i,n.options.font);if(o?(t.width=this.maxWidth,t.height=Td(s)+u):(t.height=this.maxHeight,t.width=Td(s)+u),r.display&&this.ticks.length){const{first:d,last:f,widest:p,highest:g}=this._getLabelSizes(),y=r.padding*2,b=ks(this.labelRotation),_=Math.cos(b),C=Math.sin(b);if(o){const k=r.mirror?0:C*p.width+_*g.height;t.height=Math.min(this.maxHeight,t.height+k+y)}else{const k=r.mirror?0:_*p.width+C*g.height;t.width=Math.min(this.maxWidth,t.width+k+y)}this._calculatePadding(d,f,C,_)}}this._handleMargins(),o?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,r,i){const{ticks:{align:s,padding:a},position:o}=this.options,u=this.labelRotation!==0,d=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,y=0;u?d?(g=i*t.width,y=r*n.height):(g=r*t.height,y=i*n.width):s==="start"?y=n.width:s==="end"?g=t.width:s!=="inner"&&(g=t.width/2,y=n.width/2),this.paddingLeft=Math.max((g-f+a)*this.width/(this.width-f),0),this.paddingRight=Math.max((y-p+a)*this.width/(this.width-p),0)}else{let f=n.height/2,p=t.height/2;s==="start"?(f=0,p=t.height):s==="end"&&(f=n.height,p=0),this.paddingTop=f+a,this.paddingBottom=p+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){mn(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,r;for(n=0,r=t.length;n<r;n++)Ht(t[n].label)&&(t.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=z_(r,n)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,r){const{ctx:i,_longestTextCache:s}=this,a=[],o=[],u=Math.floor(n/B_(n,r));let d=0,f=0,p,g,y,b,_,C,k,P,A,U,V;for(p=0;p<n;p+=u){if(b=t[p].label,_=this._resolveTickFontOptions(p),i.font=C=_.string,k=s[C]=s[C]||{data:{},gc:[]},P=_.lineHeight,A=U=0,!Ht(b)&&!En(b))A=Pm(i,k.data,k.gc,A,b),U=P;else if(En(b))for(g=0,y=b.length;g<y;++g)V=b[g],!Ht(V)&&!En(V)&&(A=Pm(i,k.data,k.gc,A,V),U+=P);a.push(A),o.push(U),d=Math.max(A,d),f=Math.max(U,f)}iD(s,n);const I=a.indexOf(d),O=o.indexOf(f),B=W=>({width:a[W]||0,height:o[W]||0});return{first:B(0),last:B(n-1),widest:B(I),highest:B(O),widths:a,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return UA(this._alignToPixels?bl(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const r=n[t];return r.$context||(r.$context=aD(this.getContext(),t,r))}return this.$context||(this.$context=sD(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=ks(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),a=t.autoSkipPadding||0,o=s?s.widest.width+a:0,u=s?s.highest.height+a:0;return this.isHorizontal()?u*r>o*i?o/r:u/i:u*i<o*r?u/r:o/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:a,border:o}=i,u=s.offset,d=this.isHorizontal(),p=this.ticks.length+(u?1:0),g=Td(s),y=[],b=o.setContext(this.getContext()),_=b.display?b.width:0,C=_/2,k=function(ee){return bl(r,ee,_)};let P,A,U,V,I,O,B,W,F,se,J,xe;if(a==="top")P=k(this.bottom),O=this.bottom-g,W=P-C,se=k(t.top)+C,xe=t.bottom;else if(a==="bottom")P=k(this.top),se=t.top,xe=k(t.bottom)-C,O=P+C,W=this.top+g;else if(a==="left")P=k(this.right),I=this.right-g,B=P-C,F=k(t.left)+C,J=t.right;else if(a==="right")P=k(this.left),F=t.left,J=k(t.right)-C,I=P+C,B=this.left+g;else if(n==="x"){if(a==="center")P=k((t.top+t.bottom)/2+.5);else if(qt(a)){const ee=Object.keys(a)[0],Z=a[ee];P=k(this.chart.scales[ee].getPixelForValue(Z))}se=t.top,xe=t.bottom,O=P+C,W=O+g}else if(n==="y"){if(a==="center")P=k((t.left+t.right)/2);else if(qt(a)){const ee=Object.keys(a)[0],Z=a[ee];P=k(this.chart.scales[ee].getPixelForValue(Z))}I=P-C,B=I-g,F=t.left,J=t.right}const G=jt(i.ticks.maxTicksLimit,p),$=Math.max(1,Math.ceil(p/G));for(A=0;A<p;A+=$){const ee=this.getContext(A),Z=s.setContext(ee),X=o.setContext(ee),pe=Z.lineWidth,M=Z.color,Y=X.dash||[],ge=X.dashOffset,H=Z.tickWidth,Pe=Z.tickColor,ke=Z.tickBorderDash||[],Ee=Z.tickBorderDashOffset;U=rD(this,A,u),U!==void 0&&(V=bl(r,U,pe),d?I=B=F=J=V:O=W=se=xe=V,y.push({tx1:I,ty1:O,tx2:B,ty2:W,x1:F,y1:se,x2:J,y2:xe,width:pe,color:M,borderDash:Y,borderDashOffset:ge,tickWidth:H,tickColor:Pe,tickBorderDash:ke,tickBorderDashOffset:Ee}))}return this._ticksLength=p,this._borderValue=P,y}_computeLabelItems(t){const n=this.axis,r=this.options,{position:i,ticks:s}=r,a=this.isHorizontal(),o=this.ticks,{align:u,crossAlign:d,padding:f,mirror:p}=s,g=Td(r.grid),y=g+f,b=p?-f:y,_=-ks(this.labelRotation),C=[];let k,P,A,U,V,I,O,B,W,F,se,J,xe="middle";if(i==="top")I=this.bottom-b,O=this._getXAxisLabelAlignment();else if(i==="bottom")I=this.top+b,O=this._getXAxisLabelAlignment();else if(i==="left"){const $=this._getYAxisLabelAlignment(g);O=$.textAlign,V=$.x}else if(i==="right"){const $=this._getYAxisLabelAlignment(g);O=$.textAlign,V=$.x}else if(n==="x"){if(i==="center")I=(t.top+t.bottom)/2+y;else if(qt(i)){const $=Object.keys(i)[0],ee=i[$];I=this.chart.scales[$].getPixelForValue(ee)+y}O=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")V=(t.left+t.right)/2-y;else if(qt(i)){const $=Object.keys(i)[0],ee=i[$];V=this.chart.scales[$].getPixelForValue(ee)}O=this._getYAxisLabelAlignment(g).textAlign}n==="y"&&(u==="start"?xe="top":u==="end"&&(xe="bottom"));const G=this._getLabelSizes();for(k=0,P=o.length;k<P;++k){A=o[k],U=A.label;const $=s.setContext(this.getContext(k));B=this.getPixelForTick(k)+s.labelOffset,W=this._resolveTickFontOptions(k),F=W.lineHeight,se=En(U)?U.length:1;const ee=se/2,Z=$.color,X=$.textStrokeColor,pe=$.textStrokeWidth;let M=O;a?(V=B,O==="inner"&&(k===P-1?M=this.options.reverse?"left":"right":k===0?M=this.options.reverse?"right":"left":M="center"),i==="top"?d==="near"||_!==0?J=-se*F+F/2:d==="center"?J=-G.highest.height/2-ee*F+F:J=-G.highest.height+F/2:d==="near"||_!==0?J=F/2:d==="center"?J=G.highest.height/2-ee*F:J=G.highest.height-se*F,p&&(J*=-1),_!==0&&!$.showLabelBackdrop&&(V+=F/2*Math.sin(_))):(I=B,J=(1-se)*F/2);let Y;if($.showLabelBackdrop){const ge=Ur($.backdropPadding),H=G.heights[k],Pe=G.widths[k];let ke=J-ge.top,Ee=0-ge.left;switch(xe){case"middle":ke-=H/2;break;case"bottom":ke-=H;break}switch(O){case"center":Ee-=Pe/2;break;case"right":Ee-=Pe;break;case"inner":k===P-1?Ee-=Pe:k>0&&(Ee-=Pe/2);break}Y={left:Ee,top:ke,width:Pe+ge.width,height:H+ge.height,color:$.backdropColor}}C.push({label:U,font:W,textOffset:J,options:{rotation:_,color:Z,strokeColor:X,strokeWidth:pe,textAlign:M,textBaseline:xe,translation:[V,I],backdrop:Y}})}return C}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-ks(this.labelRotation))return t==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,a=this._getLabelSizes(),o=t+s,u=a.widest.width;let d,f;return n==="left"?i?(f=this.right+s,r==="near"?d="left":r==="center"?(d="center",f+=u/2):(d="right",f+=u)):(f=this.right-o,r==="near"?d="right":r==="center"?(d="center",f-=u/2):(d="left",f=this.left)):n==="right"?i?(f=this.left+s,r==="near"?d="right":r==="center"?(d="center",f-=u/2):(d="left",f-=u)):(f=this.left+o,r==="near"?d="left":r==="center"?(d="center",f+=u/2):(d="right",f=this.right)):d="right",{textAlign:d,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:r,top:i,width:s,height:a}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(r,i,s,a),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===t);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,a;const o=(u,d,f)=>{!f.width||!f.color||(r.save(),r.lineWidth=f.width,r.strokeStyle=f.color,r.setLineDash(f.borderDash||[]),r.lineDashOffset=f.borderDashOffset,r.beginPath(),r.moveTo(u.x,u.y),r.lineTo(d.x,d.y),r.stroke(),r.restore())};if(n.display)for(s=0,a=i.length;s<a;++s){const u=i[s];n.drawOnChartArea&&o({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&o({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),a=r.display?s.width:0;if(!a)return;const o=i.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let d,f,p,g;this.isHorizontal()?(d=bl(t,this.left,a)-a/2,f=bl(t,this.right,o)+o/2,p=g=u):(p=bl(t,this.top,a)-a/2,g=bl(t,this.bottom,o)+o/2,d=f=u),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(d,p),n.lineTo(f,g),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&ug(r,i);const s=this.getLabelItems(t);for(const a of s){const o=a.options,u=a.font,d=a.label,f=a.textOffset;Gl(r,d,0,f,u,o)}i&&cg(r)}drawTitle(){const{ctx:t,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=hr(r.font),a=Ur(r.padding),o=r.align;let u=s.lineHeight/2;n==="bottom"||n==="center"||qt(n)?(u+=a.bottom,En(r.text)&&(u+=s.lineHeight*(r.text.length-1))):u+=a.top;const{titleX:d,titleY:f,maxWidth:p,rotation:g}=lD(this,u,n,o);Gl(t,r.text,0,0,s,{color:r.color,maxWidth:p,rotation:g,textAlign:oD(o,n,i),textBaseline:"middle",translation:[d,f]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,r=jt(t.grid&&t.grid.z,-1),i=jt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==eu.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,a;for(s=0,a=n.length;s<a;++s){const o=n[s];o[r]===this.id&&(!t||o.type===t)&&i.push(o)}return i}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return hr(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class kp{constructor(t,n,r){this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let r;dD(n)&&(r=this.register(n));const i=this.items,s=t.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in i||(i[s]=t,uD(t,a,r),this.override&&Tn.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const n=this.items,r=t.id,i=this.scope;r in n&&delete n[r],i&&r in Tn[i]&&(delete Tn[i][r],this.override&&delete Kl[r])}}function uD(e,t,n){const r=hh(Object.create(null),[n?Tn.get(n):{},Tn.get(t),e.defaults]);Tn.set(t,r),e.defaultRoutes&&cD(t,e.defaultRoutes),e.descriptors&&Tn.describe(t,e.descriptors)}function cD(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),i=r.pop(),s=[e].concat(r).join("."),a=t[n].split("."),o=a.pop(),u=a.join(".");Tn.route(s,i,u,o)})}function dD(e){return"id"in e&&"defaults"in e}class hD{constructor(){this.controllers=new kp(qo,"datasets",!0),this.elements=new kp(za,"elements"),this.plugins=new kp(Object,"plugins"),this.scales=new kp(eu,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(t,s,i):on(i,a=>{const o=r||this._getRegistryForType(a);this._exec(t,o,a)})})}_exec(t,n,r){const i=Mv(t);mn(r["before"+i],[],r),n[t](r),mn(r["after"+i],[],r)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(t))return r}return this.plugins}_get(t,n,r){const i=n.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return i}}var Gs=new hD;class fD{constructor(){this._init=void 0}notify(t,n,r,i){if(n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const s=i?this._descriptors(t).filter(i):this._descriptors(t),a=this._notify(s,t,n,r);return n==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),a}_notify(t,n,r,i){i=i||{};for(const s of t){const a=s.plugin,o=a[r],u=[n,i,s.options];if(mn(o,u,a)===!1&&i.cancelable)return!1}return!0}invalidate(){Ht(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const r=t&&t.config,i=jt(r.options&&r.options.plugins,{}),s=pD(r);return i===!1&&!n?[]:gD(t,s,i,n)}_notifyStateChanges(t){const n=this._oldCache||[],r=this._cache,i=(s,a)=>s.filter(o=>!a.some(u=>o.plugin.id===u.plugin.id));this._notify(i(n,r),t,"stop"),this._notify(i(r,n),t,"start")}}function pD(e){const t={},n=[],r=Object.keys(Gs.plugins.items);for(let s=0;s<r.length;s++)n.push(Gs.getPlugin(r[s]));const i=e.plugins||[];for(let s=0;s<i.length;s++){const a=i[s];n.indexOf(a)===-1&&(n.push(a),t[a.id]=!0)}return{plugins:n,localIds:t}}function mD(e,t){return!t&&e===!1?null:e===!0?{}:e}function gD(e,{plugins:t,localIds:n},r,i){const s=[],a=e.getContext();for(const o of t){const u=o.id,d=mD(r[u],i);d!==null&&s.push({plugin:o,options:yD(e.config,{plugin:o,local:n[u]},d,a)})}return s}function yD(e,{plugin:t,local:n},r,i){const s=e.pluginScopeKeys(t),a=e.getOptionScopes(r,s);return n&&t.defaults&&a.push(t.defaults),e.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ax(e,t){const n=Tn.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function xD(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function vD(e,t){return e===t?"_index_":"_value_"}function $_(e){if(e==="x"||e==="y"||e==="r")return e}function bD(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function ox(e,...t){if($_(e))return e;for(const n of t){const r=n.axis||bD(n.position)||e.length>1&&$_(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function H_(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function wD(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(n.length)return H_(e,"x",n[0])||H_(e,"y",n[0])}return{}}function _D(e,t){const n=Kl[e.type]||{scales:{}},r=t.scales||{},i=ax(e.type,t),s=Object.create(null);return Object.keys(r).forEach(a=>{const o=r[a];if(!qt(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const u=ox(a,o,wD(a,e),Tn.scales[o.type]),d=vD(u,i),f=n.scales||{};s[a]=Gd(Object.create(null),[{axis:u},o,f[u],f[d]])}),e.data.datasets.forEach(a=>{const o=a.type||e.type,u=a.indexAxis||ax(o,t),f=(Kl[o]||{}).scales||{};Object.keys(f).forEach(p=>{const g=xD(p,u),y=a[g+"AxisID"]||g;s[y]=s[y]||Object.create(null),Gd(s[y],[{axis:g},r[y],f[p]])})}),Object.keys(s).forEach(a=>{const o=s[a];Gd(o,[Tn.scales[o.type],Tn.scale])}),s}function q6(e){const t=e.options||(e.options={});t.plugins=jt(t.plugins,{}),t.scales=_D(e,t)}function W6(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function SD(e){return e=e||{},e.data=W6(e.data),q6(e),e}const V_=new Map,Q6=new Set;function Ep(e,t){let n=V_.get(e);return n||(n=t(),V_.set(e,n),Q6.add(n)),n}const Nd=(e,t,n)=>{const r=Do(t,n);r!==void 0&&e.add(r)};class CD{constructor(t){this._config=SD(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=W6(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),q6(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Ep(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Ep(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Ep(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,r=this.type;return Ep(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const r=this._scopeCache;let i=r.get(t);return(!i||n)&&(i=new Map,r.set(t,i)),i}getOptionScopes(t,n,r){const{options:i,type:s}=this,a=this._cachedScopes(t,r),o=a.get(n);if(o)return o;const u=new Set;n.forEach(f=>{t&&(u.add(t),f.forEach(p=>Nd(u,t,p))),f.forEach(p=>Nd(u,i,p)),f.forEach(p=>Nd(u,Kl[s]||{},p)),f.forEach(p=>Nd(u,Tn,p)),f.forEach(p=>Nd(u,ix,p))});const d=Array.from(u);return d.length===0&&d.push(Object.create(null)),Q6.has(n)&&a.set(n,d),d}chartOptionScopes(){const{options:t,type:n}=this;return[t,Kl[n]||{},Tn.datasets[n]||{},{type:n},Tn,ix]}resolveNamedOptions(t,n,r,i=[""]){const s={$shared:!0},{resolver:a,subPrefixes:o}=q_(this._resolverCache,t,i);let u=a;if(kD(a,n)){s.$shared=!1,r=Mo(r)?r():r;const d=this.createResolver(t,r,o);u=wc(a,r,d)}for(const d of n)s[d]=u[d];return s}createResolver(t,n,r=[""],i){const{resolver:s}=q_(this._resolverCache,t,r);return qt(n)?wc(s,n,void 0,i):s}}function q_(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let s=r.get(i);return s||(s={resolver:Hv(t,n),subPrefixes:n.filter(o=>!o.toLowerCase().includes("hover"))},r.set(i,s)),s}const jD=e=>qt(e)&&Object.getOwnPropertyNames(e).some(t=>Mo(e[t]));function kD(e,t){const{isScriptable:n,isIndexable:r}=_6(e);for(const i of t){const s=n(i),a=r(i),o=(a||s)&&e[i];if(s&&(Mo(o)||jD(o))||a&&En(o))return!0}return!1}var ED="4.5.1";const TD=["top","bottom","left","right","chartArea"];function W_(e,t){return e==="top"||e==="bottom"||TD.indexOf(e)===-1&&t==="x"}function Q_(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function K_(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),mn(n&&n.onComplete,[e],t)}function ND(e){const t=e.chart,n=t.options.animation;mn(n&&n.onProgress,[e],t)}function K6(e){return Wv()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const om={},G_=e=>{const t=K6(e);return Object.values(om).filter(n=>n.canvas===t).pop()};function PD(e,t,n){const r=Object.keys(e);for(const i of r){const s=+i;if(s>=t){const a=e[i];delete e[i],(n>0||s>t)&&(e[s+n]=a)}}}function OD(e,t,n,r){return!n||e.type==="mouseout"?null:r?t:e}let As=class{static defaults=Tn;static instances=om;static overrides=Kl;static registry=Gs;static version=ED;static getChart=G_;static register(...t){Gs.add(...t),Y_()}static unregister(...t){Gs.remove(...t),Y_()}constructor(t,n){const r=this.config=new CD(n),i=K6(t),s=G_(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||GL(i)),this.platform.updateConfig(r);const o=this.platform.acquireContext(i,a.aspectRatio),u=o&&o.canvas,d=u&&u.height,f=u&&u.width;if(this.id=TA(),this.ctx=o,this.canvas=u,this.width=f,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new fD,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=qA(p=>this.update(p),a.resizeDelay||0),this._dataChanges=[],om[this.id]=this,!o||!u){console.error("Failed to create chart: can't acquire context from the given item");return}Ca.listen(this,"complete",K_),Ca.listen(this,"progress",ND),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return Ht(t)?n&&s?s:i?r/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Gs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():x_(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return m_(this.canvas,this.ctx),this}stop(){return Ca.stop(this),this}resize(t,n){Ca.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,t,n,s),o=r.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,x_(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),mn(r.onResize,[this,a],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};on(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,i=Object.keys(r).reduce((a,o)=>(a[o]=!1,a),{});let s=[];n&&(s=s.concat(Object.keys(n).map(a=>{const o=n[a],u=ox(a,o),d=u==="r",f=u==="x";return{options:o,dposition:d?"chartArea":f?"bottom":"left",dtype:d?"radialLinear":f?"category":"linear"}}))),on(s,a=>{const o=a.options,u=o.id,d=ox(u,o),f=jt(o.type,a.dtype);(o.position===void 0||W_(o.position,d)!==W_(a.dposition))&&(o.position=a.dposition),i[u]=!0;let p=null;if(u in r&&r[u].type===f)p=r[u];else{const g=Gs.getScale(f);p=new g({id:u,type:f,ctx:this.ctx,chart:this}),r[p.id]=p}p.init(o,t)}),on(i,(a,o)=>{a||delete r[o]}),on(r,a=>{Br.configure(this,a,a.options),Br.addBox(this,a)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(Q_("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let a=this.getDatasetMeta(r);const o=s.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=o,a.indexAxis=s.indexAxis||ax(o,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const u=Gs.getController(o),{datasetElementType:d,dataElementType:f}=Tn.datasets[o];Object.assign(u,{dataElementType:Gs.getElement(f),datasetElementType:d&&Gs.getElement(d)}),a.controller=new u(this,r),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){on(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,f=this.data.datasets.length;d<f;d++){const{controller:p}=this.getDatasetMeta(d),g=!i&&s.indexOf(p)===-1;p.buildOrUpdateElements(g),a=Math.max(+p.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),i||on(s,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Q_("z","_idx"));const{_active:o,_lastEvent:u}=this;u?this._eventHandler(u,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){on(this.scales,t=>{Br.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!a_(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const a=r==="_removeElements"?-s:s;PD(t,i,a)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(t.filter(a=>a[0]===s).map((a,o)=>o+","+a.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!a_(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Br.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],on(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Mo(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),i={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ca.has(this)?this.attached&&!Ca.running(this)&&Ca.start(this):(this.draw(),K_({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const a=n[i];(!t||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r={meta:t,index:t.index,cancelable:!0},i=A6(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&ug(n,i),t.controller.draw(),i&&cg(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return Oa(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,i){const s=TL.modes[n];return typeof s=="function"?s(this,t,r,i):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Vo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){const r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(t),a=s.controller._resolveAnimations(void 0,i);fh(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),a.update(s,{visible:r}),this.update(o=>o.datasetIndex===t?i:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Ca.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),m_(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete om[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(s,a)=>{n.addEventListener(this,s,a),t[s]=a},i=(s,a,o)=>{s.offsetX=a,s.offsetY=o,this._eventHandler(s)};on(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(u,d)=>{n.addEventListener(this,u,d),t[u]=d},i=(u,d)=>{t[u]&&(n.removeEventListener(this,u,d),delete t[u])},s=(u,d)=>{this.canvas&&this.resize(u,d)};let a;const o=()=>{i("attach",o),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",o)},n.isAttached(this.canvas)?o():a()}unbindEvents(){on(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},on(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const i=r?"set":"remove";let s,a,o,u;for(n==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),o=0,u=t.length;o<u;++o){a=t[o];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:s,index:a})=>{const o=this.getDatasetMeta(s);if(!o)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:o.data[a],index:a}});!Em(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,r){const i=this.options.hover,s=(u,d)=>u.filter(f=>!d.some(p=>f.datasetIndex===p.datasetIndex&&f.index===p.index)),a=s(n,t),o=r?t:s(t,n);a.length&&this.updateHoverStyle(a,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},i=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:i=[],options:s}=this,a=n,o=this._getActiveElements(t,i,r,a),u=IA(t),d=OD(t,this._lastEvent,r,u);r&&(this._lastEvent=null,mn(s.onHover,[t,o,this],this),u&&mn(s.onClick,[t,o,this],this));const f=!Em(o,i);return(f||n)&&(this._active=o,this._updateHoverStyles(o,i,n)),this._lastEvent=d,f}_getActiveElements(t,n,r,i){if(t.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,i)}};function Y_(){return on(As.instances,e=>e._plugins.invalidate())}function RD(e,t,n){const{startAngle:r,x:i,y:s,outerRadius:a,innerRadius:o,options:u}=t,{borderWidth:d,borderJoinStyle:f}=u,p=Math.min(d/a,Fr(r-n));if(e.beginPath(),e.arc(i,s,a-d/2,r+p/2,n-p/2),o>0){const g=Math.min(d/o,Fr(r-n));e.arc(i,s,o+d/2,n-g/2,r+g/2,!0)}else{const g=Math.min(d/2,a*Fr(r-n));if(f==="round")e.arc(i,s,g,n-en/2,r+en/2,!0);else if(f==="bevel"){const y=2*g*g,b=-y*Math.cos(n+en/2)+i,_=-y*Math.sin(n+en/2)+s,C=y*Math.cos(r+en/2)+i,k=y*Math.sin(r+en/2)+s;e.lineTo(b,_),e.lineTo(C,k)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function AD(e,t,n){const{startAngle:r,pixelMargin:i,x:s,y:a,outerRadius:o,innerRadius:u}=t;let d=i/o;e.beginPath(),e.arc(s,a,o,r-d,n+d),u>i?(d=i/u,e.arc(s,a,u,n+d,r-d,!0)):e.arc(s,a,i,n+Kn,r-Kn),e.closePath(),e.clip()}function ID(e){return $v(e,["outerStart","outerEnd","innerStart","innerEnd"])}function LD(e,t,n,r){const i=ID(e.options.borderRadius),s=(n-t)/2,a=Math.min(s,r*t/2),o=u=>{const d=(n-Math.min(s,u))*r/2;return _r(u,0,Math.min(s,d))};return{outerStart:o(i.outerStart),outerEnd:o(i.outerEnd),innerStart:_r(i.innerStart,0,a),innerEnd:_r(i.innerEnd,0,a)}}function Uu(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function Am(e,t,n,r,i,s){const{x:a,y:o,startAngle:u,pixelMargin:d,innerRadius:f}=t,p=Math.max(t.outerRadius+r+n-d,0),g=f>0?f+r+n+d:0;let y=0;const b=i-u;if(r){const $=f>0?f-r:0,ee=p>0?p-r:0,Z=($+ee)/2,X=Z!==0?b*Z/(Z+r):b;y=(b-X)/2}const _=Math.max(.001,b*p-n/en)/p,C=(b-_)/2,k=u+C+y,P=i-C-y,{outerStart:A,outerEnd:U,innerStart:V,innerEnd:I}=LD(t,g,p,P-k),O=p-A,B=p-U,W=k+A/O,F=P-U/B,se=g+V,J=g+I,xe=k+V/se,G=P-I/J;if(e.beginPath(),s){const $=(W+F)/2;if(e.arc(a,o,p,W,$),e.arc(a,o,p,$,F),U>0){const pe=Uu(B,F,a,o);e.arc(pe.x,pe.y,U,F,P+Kn)}const ee=Uu(J,P,a,o);if(e.lineTo(ee.x,ee.y),I>0){const pe=Uu(J,G,a,o);e.arc(pe.x,pe.y,I,P+Kn,G+Math.PI)}const Z=(P-I/g+(k+V/g))/2;if(e.arc(a,o,g,P-I/g,Z,!0),e.arc(a,o,g,Z,k+V/g,!0),V>0){const pe=Uu(se,xe,a,o);e.arc(pe.x,pe.y,V,xe+Math.PI,k-Kn)}const X=Uu(O,k,a,o);if(e.lineTo(X.x,X.y),A>0){const pe=Uu(O,W,a,o);e.arc(pe.x,pe.y,A,k-Kn,W)}}else{e.moveTo(a,o);const $=Math.cos(W)*p+a,ee=Math.sin(W)*p+o;e.lineTo($,ee);const Z=Math.cos(F)*p+a,X=Math.sin(F)*p+o;e.lineTo(Z,X)}e.closePath()}function DD(e,t,n,r,i){const{fullCircles:s,startAngle:a,circumference:o}=t;let u=t.endAngle;if(s){Am(e,t,n,r,u,i);for(let d=0;d<s;++d)e.fill();isNaN(o)||(u=a+(o%bn||bn))}return Am(e,t,n,r,u,i),e.fill(),u}function MD(e,t,n,r,i){const{fullCircles:s,startAngle:a,circumference:o,options:u}=t,{borderWidth:d,borderJoinStyle:f,borderDash:p,borderDashOffset:g,borderRadius:y}=u,b=u.borderAlign==="inner";if(!d)return;e.setLineDash(p||[]),e.lineDashOffset=g,b?(e.lineWidth=d*2,e.lineJoin=f||"round"):(e.lineWidth=d,e.lineJoin=f||"bevel");let _=t.endAngle;if(s){Am(e,t,n,r,_,i);for(let C=0;C<s;++C)e.stroke();isNaN(o)||(_=a+(o%bn||bn))}b&&AD(e,t,_),u.selfJoin&&_-a>=en&&y===0&&f!=="miter"&&RD(e,t,_),s||(Am(e,t,n,r,_,i),e.stroke())}class zh extends za{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,r){const i=this.getProps(["x","y"],r),{angle:s,distance:a}=h6(i,{x:t,y:n}),{startAngle:o,endAngle:u,innerRadius:d,outerRadius:f,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),g=(this.options.spacing+this.options.borderWidth)/2,y=jt(p,u-o),b=ph(s,o,u)&&o!==u,_=y>=bn||b,C=Na(a,d+g,f+g);return _&&C}getCenterPoint(t){const{x:n,y:r,startAngle:i,endAngle:s,innerRadius:a,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:u,spacing:d}=this.options,f=(i+s)/2,p=(a+o+d+u)/2;return{x:n+Math.cos(f)*p,y:r+Math.sin(f)*p}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:r}=this,i=(n.offset||0)/4,s=(n.spacing||0)/2,a=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>bn?Math.floor(r/bn):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const o=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(o)*i,Math.sin(o)*i);const u=1-Math.sin(Math.min(en,r||0)),d=i*u;t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,DD(t,this,d,s,a),MD(t,this,d,s,a),t.restore()}}function G6(e,t,n=t){e.lineCap=jt(n.borderCapStyle,t.borderCapStyle),e.setLineDash(jt(n.borderDash,t.borderDash)),e.lineDashOffset=jt(n.borderDashOffset,t.borderDashOffset),e.lineJoin=jt(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=jt(n.borderWidth,t.borderWidth),e.strokeStyle=jt(n.borderColor,t.borderColor)}function FD(e,t,n){e.lineTo(n.x,n.y)}function BD(e){return e.stepped?rI:e.tension||e.cubicInterpolationMode==="monotone"?iI:FD}function Y6(e,t,n={}){const r=e.length,{start:i=0,end:s=r-1}=n,{start:a,end:o}=t,u=Math.max(i,a),d=Math.min(s,o),f=i<a&&s<a||i>o&&s>o;return{count:r,start:u,loop:t.loop,ilen:d<u&&!f?r+d-u:d-u}}function zD(e,t,n,r){const{points:i,options:s}=t,{count:a,start:o,loop:u,ilen:d}=Y6(i,n,r),f=BD(s);let{move:p=!0,reverse:g}=r||{},y,b,_;for(y=0;y<=d;++y)b=i[(o+(g?d-y:y))%a],!b.skip&&(p?(e.moveTo(b.x,b.y),p=!1):f(e,_,b,g,s.stepped),_=b);return u&&(b=i[(o+(g?d:0))%a],f(e,_,b,g,s.stepped)),!!u}function UD(e,t,n,r){const i=t.points,{count:s,start:a,ilen:o}=Y6(i,n,r),{move:u=!0,reverse:d}=r||{};let f=0,p=0,g,y,b,_,C,k;const P=U=>(a+(d?o-U:U))%s,A=()=>{_!==C&&(e.lineTo(f,C),e.lineTo(f,_),e.lineTo(f,k))};for(u&&(y=i[P(0)],e.moveTo(y.x,y.y)),g=0;g<=o;++g){if(y=i[P(g)],y.skip)continue;const U=y.x,V=y.y,I=U|0;I===b?(V<_?_=V:V>C&&(C=V),f=(p*f+U)/++p):(A(),e.lineTo(U,V),b=I,p=0,_=C=V),k=V}A()}function lx(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?UD:zD}function $D(e){return e.stepped?DI:e.tension||e.cubicInterpolationMode==="monotone"?MI:Nl}function HD(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),G6(e,t.options),e.stroke(i)}function VD(e,t,n,r){const{segments:i,options:s}=t,a=lx(t);for(const o of i)G6(e,s,o.style),e.beginPath(),a(e,t,o,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}const qD=typeof Path2D=="function";function WD(e,t,n,r){qD&&!t.options.segment?HD(e,t,n,r):VD(e,t,n,r)}class Pc extends za{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;TI(this._points,r,t,i,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=HI(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,r=t.length;return r&&n[t[r-1].end]}interpolate(t,n){const r=this.options,i=t[n],s=this.points,a=R6(this,{property:n,start:i,end:i});if(!a.length)return;const o=[],u=$D(r);let d,f;for(d=0,f=a.length;d<f;++d){const{start:p,end:g}=a[d],y=s[p],b=s[g];if(y===b){o.push(y);continue}const _=Math.abs((i-y[n])/(b[n]-y[n])),C=u(y,b,_,r.stepped);C[n]=t[n],o.push(C)}return o.length===1?o[0]:o}pathSegment(t,n,r){return lx(this)(t,this,n,r)}path(t,n,r){const i=this.segments,s=lx(this);let a=this._loop;n=n||0,r=r||this.points.length-n;for(const o of i)a&=s(t,this,o,{start:n,end:n+r-1});return!!a}draw(t,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),WD(t,this,r,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function J_(e,t,n,r){const i=e.options,{[n]:s}=e.getProps([n],r);return Math.abs(t-s)<i.radius+i.hitRadius}class Gv extends za{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,r){const i=this.options,{x:s,y:a}=this.getProps(["x","y"],r);return Math.pow(t-s,2)+Math.pow(n-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,n){return J_(this,t,"x",n)}inYRange(t,n){return J_(this,t,"y",n)}getCenterPoint(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const r=n&&t.borderWidth||0;return(n+r)*2}draw(t,n){const r=this.options;this.skip||r.radius<.1||!Oa(this,n,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,sx(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function J6(e,t){const{x:n,y:r,base:i,width:s,height:a}=e.getProps(["x","y","base","width","height"],t);let o,u,d,f,p;return e.horizontal?(p=a/2,o=Math.min(n,i),u=Math.max(n,i),d=r-p,f=r+p):(p=s/2,o=n-p,u=n+p,d=Math.min(r,i),f=Math.max(r,i)),{left:o,top:d,right:u,bottom:f}}function Oo(e,t,n,r){return e?0:_r(t,n,r)}function QD(e,t,n){const r=e.options.borderWidth,i=e.borderSkipped,s=w6(r);return{t:Oo(i.top,s.top,0,n),r:Oo(i.right,s.right,0,t),b:Oo(i.bottom,s.bottom,0,n),l:Oo(i.left,s.left,0,t)}}function KD(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,s=$l(i),a=Math.min(t,n),o=e.borderSkipped,u=r||qt(i);return{topLeft:Oo(!u||o.top||o.left,s.topLeft,0,a),topRight:Oo(!u||o.top||o.right,s.topRight,0,a),bottomLeft:Oo(!u||o.bottom||o.left,s.bottomLeft,0,a),bottomRight:Oo(!u||o.bottom||o.right,s.bottomRight,0,a)}}function GD(e){const t=J6(e),n=t.right-t.left,r=t.bottom-t.top,i=QD(e,n/2,r/2),s=KD(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:s},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function Vy(e,t,n,r){const i=t===null,s=n===null,o=e&&!(i&&s)&&J6(e,r);return o&&(i||Na(t,o.left,o.right))&&(s||Na(n,o.top,o.bottom))}function YD(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function JD(e,t){e.rect(t.x,t.y,t.w,t.h)}function qy(e,t,n={}){const r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,s=(e.x+e.w!==n.x+n.w?t:0)-r,a=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+s,h:e.h+a,radius:e.radius}}class Uh extends za{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:a}=GD(this),o=YD(a.radius)?mh:JD;t.save(),(a.w!==s.w||a.h!==s.h)&&(t.beginPath(),o(t,qy(a,n,s)),t.clip(),o(t,qy(s,-n,a)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),o(t,qy(s,n)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,n,r){return Vy(this,t,n,r)}inXRange(t,n){return Vy(this,t,null,n)}inYRange(t,n){return Vy(this,null,t,n)}getCenterPoint(t){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}var XD=Object.freeze({__proto__:null,ArcElement:zh,BarElement:Uh,LineElement:Pc,PointElement:Gv});const ux=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],X_=ux.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function X6(e){return ux[e%ux.length]}function Z6(e){return X_[e%X_.length]}function ZD(e,t){return e.borderColor=X6(t),e.backgroundColor=Z6(t),++t}function eM(e,t){return e.backgroundColor=e.data.map(()=>X6(t++)),t}function tM(e,t){return e.backgroundColor=e.data.map(()=>Z6(t++)),t}function nM(e){let t=0;return(n,r)=>{const i=e.getDatasetMeta(r).controller;i instanceof hg?t=eM(n,t):i instanceof F6?t=tM(n,t):i&&(t=ZD(n,t))}}function Z_(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function rM(e){return e&&(e.borderColor||e.backgroundColor)}function iM(){return Tn.borderColor!=="rgba(0,0,0,0.1)"||Tn.backgroundColor!=="rgba(0,0,0,0.1)"}var sM={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:r},options:i}=e.config,{elements:s}=i,a=Z_(r)||rM(i)||s&&Z_(s)||iM();if(!n.forceOverride&&a)return;const o=nM(e);r.forEach(o)}};function aM(e,t,n,r,i){const s=i.samples||r;if(s>=n)return e.slice(t,t+n);const a=[],o=(n-2)/(s-2);let u=0;const d=t+n-1;let f=t,p,g,y,b,_;for(a[u++]=e[f],p=0;p<s-2;p++){let C=0,k=0,P;const A=Math.floor((p+1)*o)+1+t,U=Math.min(Math.floor((p+2)*o)+1,n)+t,V=U-A;for(P=A;P<U;P++)C+=e[P].x,k+=e[P].y;C/=V,k/=V;const I=Math.floor(p*o)+1+t,O=Math.min(Math.floor((p+1)*o)+1,n)+t,{x:B,y:W}=e[f];for(y=b=-1,P=I;P<O;P++)b=.5*Math.abs((B-C)*(e[P].y-W)-(B-e[P].x)*(k-W)),b>y&&(y=b,g=e[P],_=P);a[u++]=g,f=_}return a[u++]=e[d],a}function oM(e,t,n,r){let i=0,s=0,a,o,u,d,f,p,g,y,b,_;const C=[],k=t+n-1,P=e[t].x,U=e[k].x-P;for(a=t;a<t+n;++a){o=e[a],u=(o.x-P)/U*r,d=o.y;const V=u|0;if(V===f)d<b?(b=d,p=a):d>_&&(_=d,g=a),i=(s*i+o.x)/++s;else{const I=a-1;if(!Ht(p)&&!Ht(g)){const O=Math.min(p,g),B=Math.max(p,g);O!==y&&O!==I&&C.push({...e[O],x:i}),B!==y&&B!==I&&C.push({...e[B],x:i})}a>0&&I!==y&&C.push(e[I]),C.push(o),f=V,s=0,b=_=d,p=g=y=a}}return C}function ej(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function e5(e){e.data.datasets.forEach(t=>{ej(t)})}function lM(e,t){const n=t.length;let r=0,i;const{iScale:s}=e,{min:a,max:o,minDefined:u,maxDefined:d}=s.getUserBounds();return u&&(r=_r(Pa(t,s.axis,a).lo,0,n-1)),d?i=_r(Pa(t,s.axis,o).hi+1,r,n)-r:i=n-r,{start:r,count:i}}var uM={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){e5(e);return}const r=e.width;e.data.datasets.forEach((i,s)=>{const{_data:a,indexAxis:o}=i,u=e.getDatasetMeta(s),d=a||i.data;if($d([o,e.options.indexAxis])==="y"||!u.controller.supportsDecimation)return;const f=e.scales[u.xAxisID];if(f.type!=="linear"&&f.type!=="time"||e.options.parsing)return;let{start:p,count:g}=lM(u,d);const y=n.threshold||4*r;if(g<=y){ej(i);return}Ht(a)&&(i._data=d,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(_){this._data=_}}));let b;switch(n.algorithm){case"lttb":b=aM(d,p,g,r,n);break;case"min-max":b=oM(d,p,g,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}i._decimated=b})},destroy(e){e5(e)}};function cM(e,t,n){const r=e.segments,i=e.points,s=t.points,a=[];for(const o of r){let{start:u,end:d}=o;d=pg(u,d,i);const f=cx(n,i[u],i[d],o.loop);if(!t.segments){a.push({source:o,target:f,start:i[u],end:i[d]});continue}const p=R6(t,f);for(const g of p){const y=cx(n,s[g.start],s[g.end],g.loop),b=O6(o,i,y);for(const _ of b)a.push({source:_,target:g,start:{[n]:t5(f,y,"start",Math.max)},end:{[n]:t5(f,y,"end",Math.min)}})}}return a}function cx(e,t,n,r){if(r)return;let i=t[e],s=n[e];return e==="angle"&&(i=Fr(i),s=Fr(s)),{property:e,start:i,end:s}}function dM(e,t){const{x:n=null,y:r=null}=e||{},i=t.points,s=[];return t.segments.forEach(({start:a,end:o})=>{o=pg(a,o,i);const u=i[a],d=i[o];r!==null?(s.push({x:u.x,y:r}),s.push({x:d.x,y:r})):n!==null&&(s.push({x:n,y:u.y}),s.push({x:n,y:d.y}))}),s}function pg(e,t,n){for(;t>e;t--){const r=n[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function t5(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function tj(e,t){let n=[],r=!1;return En(e)?(r=!0,n=e):n=dM(e,t),n.length?new Pc({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function n5(e){return e&&e.fill!==!1}function hM(e,t,n){let i=e[t].fill;const s=[t];let a;if(!n)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!Bn(i))return i;if(a=e[i],!a)return!1;if(a.visible)return i;s.push(i),i=a.fill}return!1}function fM(e,t,n){const r=yM(e);if(qt(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return Bn(i)&&Math.floor(i)===i?pM(r[0],t,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function pM(e,t,n,r){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=r?!1:n}function mM(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:qt(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function gM(e,t,n){let r;return e==="start"?r=n:e==="end"?r=t.options.reverse?t.min:t.max:qt(e)?r=e.value:r=t.getBaseValue(),r}function yM(e){const t=e.options,n=t.fill;let r=jt(n&&n.target,n);return r===void 0&&(r=!!t.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function xM(e){const{scale:t,index:n,line:r}=e,i=[],s=r.segments,a=r.points,o=vM(t,n);o.push(tj({x:null,y:t.bottom},r));for(let u=0;u<s.length;u++){const d=s[u];for(let f=d.start;f<=d.end;f++)bM(i,a[f],o)}return new Pc({points:i,options:{}})}function vM(e,t){const n=[],r=e.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===t)break;s.hidden||n.unshift(s.dataset)}return n}function bM(e,t,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:a,last:o,point:u}=wM(s,t,"x");if(!(!u||a&&o)){if(a)r.unshift(u);else if(e.push(u),!o)break}}e.push(...r)}function wM(e,t,n){const r=e.interpolate(t,n);if(!r)return{};const i=r[n],s=e.segments,a=e.points;let o=!1,u=!1;for(let d=0;d<s.length;d++){const f=s[d],p=a[f.start][n],g=a[f.end][n];if(Na(i,p,g)){o=i===p,u=i===g;break}}return{first:o,last:u,point:r}}class nj{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,r){const{x:i,y:s,radius:a}=this;return n=n||{start:0,end:bn},t.arc(i,s,a,n.end,n.start,!0),!r.bounds}interpolate(t){const{x:n,y:r,radius:i}=this,s=t.angle;return{x:n+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function _M(e){const{chart:t,fill:n,line:r}=e;if(Bn(n))return SM(t,n);if(n==="stack")return xM(e);if(n==="shape")return!0;const i=CM(e);return i instanceof nj?i:tj(i,r)}function SM(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function CM(e){return(e.scale||{}).getPointPositionForValue?kM(e):jM(e)}function jM(e){const{scale:t={},fill:n}=e,r=mM(n,t);if(Bn(r)){const i=t.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function kM(e){const{scale:t,fill:n}=e,r=t.options,i=t.getLabels().length,s=r.reverse?t.max:t.min,a=gM(n,t,s),o=[];if(r.grid.circular){const u=t.getPointPositionForValue(0,s);return new nj({x:u.x,y:u.y,radius:t.getDistanceFromCenterForValue(a)})}for(let u=0;u<i;++u)o.push(t.getPointPositionForValue(u,a));return o}function Wy(e,t,n){const r=_M(t),{chart:i,index:s,line:a,scale:o,axis:u}=t,d=a.options,f=d.fill,p=d.backgroundColor,{above:g=p,below:y=p}=f||{},b=i.getDatasetMeta(s),_=A6(i,b);r&&a.points.length&&(ug(e,n),EM(e,{line:a,target:r,above:g,below:y,area:n,scale:o,axis:u,clip:_}),cg(e))}function EM(e,t){const{line:n,target:r,above:i,below:s,area:a,scale:o,clip:u}=t,d=n._loop?"angle":t.axis;e.save();let f=s;s!==i&&(d==="x"?(r5(e,r,a.top),Qy(e,{line:n,target:r,color:i,scale:o,property:d,clip:u}),e.restore(),e.save(),r5(e,r,a.bottom)):d==="y"&&(i5(e,r,a.left),Qy(e,{line:n,target:r,color:s,scale:o,property:d,clip:u}),e.restore(),e.save(),i5(e,r,a.right),f=i)),Qy(e,{line:n,target:r,color:f,scale:o,property:d,clip:u}),e.restore()}function r5(e,t,n){const{segments:r,points:i}=t;let s=!0,a=!1;e.beginPath();for(const o of r){const{start:u,end:d}=o,f=i[u],p=i[pg(u,d,i)];s?(e.moveTo(f.x,f.y),s=!1):(e.lineTo(f.x,n),e.lineTo(f.x,f.y)),a=!!t.pathSegment(e,o,{move:a}),a?e.closePath():e.lineTo(p.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function i5(e,t,n){const{segments:r,points:i}=t;let s=!0,a=!1;e.beginPath();for(const o of r){const{start:u,end:d}=o,f=i[u],p=i[pg(u,d,i)];s?(e.moveTo(f.x,f.y),s=!1):(e.lineTo(n,f.y),e.lineTo(f.x,f.y)),a=!!t.pathSegment(e,o,{move:a}),a?e.closePath():e.lineTo(n,p.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function Qy(e,t){const{line:n,target:r,property:i,color:s,scale:a,clip:o}=t,u=cM(n,r,i);for(const{source:d,target:f,start:p,end:g}of u){const{style:{backgroundColor:y=s}={}}=d,b=r!==!0;e.save(),e.fillStyle=y,TM(e,a,o,b&&cx(i,p,g)),e.beginPath();const _=!!n.pathSegment(e,d);let C;if(b){_?e.closePath():s5(e,r,g,i);const k=!!r.pathSegment(e,f,{move:_,reverse:!0});C=_&&k,C||s5(e,r,p,i)}e.closePath(),e.fill(C?"evenodd":"nonzero"),e.restore()}}function TM(e,t,n,r){const i=t.chart.chartArea,{property:s,start:a,end:o}=r||{};if(s==="x"||s==="y"){let u,d,f,p;s==="x"?(u=a,d=i.top,f=o,p=i.bottom):(u=i.left,d=a,f=i.right,p=o),e.beginPath(),n&&(u=Math.max(u,n.left),f=Math.min(f,n.right),d=Math.max(d,n.top),p=Math.min(p,n.bottom)),e.rect(u,d,f-u,p-d),e.clip()}}function s5(e,t,n,r){const i=t.interpolate(n,r);i&&e.lineTo(i.x,i.y)}var rj={id:"filler",afterDatasetsUpdate(e,t,n){const r=(e.data.datasets||[]).length,i=[];let s,a,o,u;for(a=0;a<r;++a)s=e.getDatasetMeta(a),o=s.dataset,u=null,o&&o.options&&o instanceof Pc&&(u={visible:e.isDatasetVisible(a),index:a,fill:fM(o,a,r),chart:e,axis:s.controller.options.indexAxis,scale:s.vScale,line:o}),s.$filler=u,i.push(u);for(a=0;a<r;++a)u=i[a],!(!u||u.fill===!1)&&(u.fill=hM(i,a,n.propagate))},beforeDraw(e,t,n){const r=n.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),s=e.chartArea;for(let a=i.length-1;a>=0;--a){const o=i[a].$filler;o&&(o.line.updateControlPoints(s,o.axis),r&&o.fill&&Wy(e.ctx,o,s))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=e.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;n5(s)&&Wy(e.ctx,s,e.chartArea)}},beforeDatasetDraw(e,t,n){const r=t.meta.$filler;!n5(r)||n.drawTime!=="beforeDatasetDraw"||Wy(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const a5=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}},NM=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class o5 extends za{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,r){this.maxWidth=t,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=mn(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(r=>t.filter(r,this.chart.data))),t.sort&&(n=n.sort((r,i)=>t.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,i=hr(r.font),s=i.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:u}=a5(r,s);let d,f;n.font=i.string,this.isHorizontal()?(d=this.maxWidth,f=this._fitRows(a,s,o,u)+10):(f=this.maxHeight,d=this._fitCols(a,i,o,u)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(f,t.maxHeight||this.maxHeight)}_fitRows(t,n,r,i){const{ctx:s,maxWidth:a,options:{labels:{padding:o}}}=this,u=this.legendHitBoxes=[],d=this.lineWidths=[0],f=i+o;let p=t;s.textAlign="left",s.textBaseline="middle";let g=-1,y=-f;return this.legendItems.forEach((b,_)=>{const C=r+n/2+s.measureText(b.text).width;(_===0||d[d.length-1]+C+2*o>a)&&(p+=f,d[d.length-(_>0?0:1)]=0,y+=f,g++),u[_]={left:0,top:y,row:g,width:C,height:i},d[d.length-1]+=C+o}),p}_fitCols(t,n,r,i){const{ctx:s,maxHeight:a,options:{labels:{padding:o}}}=this,u=this.legendHitBoxes=[],d=this.columnSizes=[],f=a-t;let p=o,g=0,y=0,b=0,_=0;return this.legendItems.forEach((C,k)=>{const{itemWidth:P,itemHeight:A}=PM(r,n,s,C,i);k>0&&y+A+2*o>f&&(p+=g+o,d.push({width:g,height:y}),b+=g+o,_++,g=y=0),u[k]={left:b,top:y,col:_,width:P,height:A},g=Math.max(g,P),y+=A+o}),p+=g,d.push({width:g,height:y}),p}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,a=mc(s,this.left,this.width);if(this.isHorizontal()){let o=0,u=Dr(r,this.left+i,this.right-this.lineWidths[o]);for(const d of n)o!==d.row&&(o=d.row,u=Dr(r,this.left+i,this.right-this.lineWidths[o])),d.top+=this.top+t+i,d.left=a.leftForLtr(a.x(u),d.width),u+=d.width+i}else{let o=0,u=Dr(r,this.top+t+i,this.bottom-this.columnSizes[o].height);for(const d of n)d.col!==o&&(o=d.col,u=Dr(r,this.top+t+i,this.bottom-this.columnSizes[o].height)),d.top=u,d.left+=this.left+i,d.left=a.leftForLtr(a.x(d.left),d.width),u+=d.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;ug(t,this),this._draw(),cg(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:a}=t,o=Tn.color,u=mc(t.rtl,this.left,this.width),d=hr(a.font),{padding:f}=a,p=d.size,g=p/2;let y;this.drawTitle(),i.textAlign=u.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=d.string;const{boxWidth:b,boxHeight:_,itemHeight:C}=a5(a,p),k=function(I,O,B){if(isNaN(b)||b<=0||isNaN(_)||_<0)return;i.save();const W=jt(B.lineWidth,1);if(i.fillStyle=jt(B.fillStyle,o),i.lineCap=jt(B.lineCap,"butt"),i.lineDashOffset=jt(B.lineDashOffset,0),i.lineJoin=jt(B.lineJoin,"miter"),i.lineWidth=W,i.strokeStyle=jt(B.strokeStyle,o),i.setLineDash(jt(B.lineDash,[])),a.usePointStyle){const F={radius:_*Math.SQRT2/2,pointStyle:B.pointStyle,rotation:B.rotation,borderWidth:W},se=u.xPlus(I,b/2),J=O+g;b6(i,F,se,J,a.pointStyleWidth&&b)}else{const F=O+Math.max((p-_)/2,0),se=u.leftForLtr(I,b),J=$l(B.borderRadius);i.beginPath(),Object.values(J).some(xe=>xe!==0)?mh(i,{x:se,y:F,w:b,h:_,radius:J}):i.rect(se,F,b,_),i.fill(),W!==0&&i.stroke()}i.restore()},P=function(I,O,B){Gl(i,B.text,I,O+C/2,d,{strikethrough:B.hidden,textAlign:u.textAlign(B.textAlign)})},A=this.isHorizontal(),U=this._computeTitleHeight();A?y={x:Dr(s,this.left+f,this.right-r[0]),y:this.top+f+U,line:0}:y={x:this.left+f,y:Dr(s,this.top+U+f,this.bottom-n[0].height),line:0},T6(this.ctx,t.textDirection);const V=C+f;this.legendItems.forEach((I,O)=>{i.strokeStyle=I.fontColor,i.fillStyle=I.fontColor;const B=i.measureText(I.text).width,W=u.textAlign(I.textAlign||(I.textAlign=a.textAlign)),F=b+g+B;let se=y.x,J=y.y;u.setWidth(this.width),A?O>0&&se+F+f>this.right&&(J=y.y+=V,y.line++,se=y.x=Dr(s,this.left+f,this.right-r[y.line])):O>0&&J+V>this.bottom&&(se=y.x=se+n[y.line].width+f,y.line++,J=y.y=Dr(s,this.top+U+f,this.bottom-n[y.line].height));const xe=u.x(se);if(k(xe,J,I),se=WA(W,se+b+g,A?se+F:this.right,t.rtl),P(u.x(se),J,I),A)y.x+=F+f;else if(typeof I.text!="string"){const G=d.lineHeight;y.y+=ij(I,G)+f}else y.y+=V}),N6(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,r=hr(n.font),i=Ur(n.padding);if(!n.display)return;const s=mc(t.rtl,this.left,this.width),a=this.ctx,o=n.position,u=r.size/2,d=i.top+u;let f,p=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),f=this.top+d,p=Dr(t.align,p,this.right-g);else{const b=this.columnSizes.reduce((_,C)=>Math.max(_,C.height),0);f=d+Dr(t.align,this.top,this.bottom-b-t.labels.padding-this._computeTitleHeight())}const y=Dr(o,p,p+g);a.textAlign=s.textAlign(zv(o)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=r.string,Gl(a,n.text,y,f,r)}_computeTitleHeight(){const t=this.options.title,n=hr(t.font),r=Ur(t.padding);return t.display?n.lineHeight+r.height:0}_getLegendItemAt(t,n){let r,i,s;if(Na(t,this.left,this.right)&&Na(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],Na(t,i.left,i.left+i.width)&&Na(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(t){const n=this.options;if(!AM(t.type,n))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,s=NM(i,r);i&&!s&&mn(n.onLeave,[t,i,this],this),this._hoveredItem=r,r&&!s&&mn(n.onHover,[t,r,this],this)}else r&&mn(n.onClick,[t,r,this],this)}}function PM(e,t,n,r,i){const s=OM(r,e,t,n),a=RM(i,r,t.lineHeight);return{itemWidth:s,itemHeight:a}}function OM(e,t,n,r){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((s,a)=>s.length>a.length?s:a)),t+n.size/2+r.measureText(i).width}function RM(e,t,n){let r=e;return typeof t.text!="string"&&(r=ij(t,n)),r}function ij(e,t){const n=e.text?e.text.length:0;return t*n}function AM(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var Wo={id:"legend",_element:o5,start(e,t,n){const r=e.legend=new o5({ctx:e.ctx,options:n,chart:e});Br.configure(e,r,n),Br.addBox(e,r)},stop(e){Br.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;Br.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:a,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map(u=>{const d=u.controller.getStyle(n?0:void 0),f=Ur(d.borderWidth);return{text:t[u.index].label,fillStyle:d.backgroundColor,fontColor:s,hidden:!u.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:d.borderColor,pointStyle:r||d.pointStyle,rotation:d.rotation,textAlign:i||d.textAlign,borderRadius:a&&(o||d.borderRadius),datasetIndex:u.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Yv extends za{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const i=En(r.text)?r.text.length:1;this._padding=Ur(r.padding);const s=i*hr(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:r,bottom:i,right:s,options:a}=this,o=a.align;let u=0,d,f,p;return this.isHorizontal()?(f=Dr(o,r,s),p=n+t,d=s-r):(a.position==="left"?(f=r+t,p=Dr(o,i,n),u=en*-.5):(f=s-t,p=Dr(o,n,i),u=en*.5),d=i-n),{titleX:f,titleY:p,maxWidth:d,rotation:u}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const r=hr(n.font),s=r.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:u,rotation:d}=this._drawArgs(s);Gl(t,n.text,0,0,r,{color:n.color,maxWidth:u,rotation:d,textAlign:zv(n.align),textBaseline:"middle",translation:[a,o]})}}function IM(e,t){const n=new Yv({ctx:e.ctx,options:t,chart:e});Br.configure(e,n,t),Br.addBox(e,n),e.titleBlock=n}var sj={id:"title",_element:Yv,start(e,t,n){IM(e,n)},stop(e){const t=e.titleBlock;Br.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;Br.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Tp=new WeakMap;var LM={id:"subtitle",start(e,t,n){const r=new Yv({ctx:e.ctx,options:n,chart:e});Br.configure(e,r,n),Br.addBox(e,r),Tp.set(e,r)},stop(e){Br.removeBox(e,Tp.get(e)),Tp.delete(e)},beforeUpdate(e,t,n){const r=Tp.get(e);Br.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Vd={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,s=0;for(t=0,n=e.length;t<n;++t){const o=e[t].element;if(o&&o.hasValue()){const u=o.tooltipPosition();r.add(u.x),i+=u.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((o,u)=>o+u)/r.size,y:i/s}},nearest(e,t){if(!e.length)return!1;let n=t.x,r=t.y,i=Number.POSITIVE_INFINITY,s,a,o;for(s=0,a=e.length;s<a;++s){const u=e[s].element;if(u&&u.hasValue()){const d=u.getCenterPoint(),f=rx(t,d);f<i&&(i=f,o=u)}}if(o){const u=o.tooltipPosition();n=u.x,r=u.y}return{x:n,y:r}}};function Ks(e,t){return t&&(En(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function ja(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function DM(e,t){const{element:n,datasetIndex:r,index:i}=t,s=e.getDatasetMeta(r).controller,{label:a,value:o}=s.getLabelAndValue(i);return{chart:e,label:a,parsed:s.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:o,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function l5(e,t){const n=e.chart.ctx,{body:r,footer:i,title:s}=e,{boxWidth:a,boxHeight:o}=t,u=hr(t.bodyFont),d=hr(t.titleFont),f=hr(t.footerFont),p=s.length,g=i.length,y=r.length,b=Ur(t.padding);let _=b.height,C=0,k=r.reduce((U,V)=>U+V.before.length+V.lines.length+V.after.length,0);if(k+=e.beforeBody.length+e.afterBody.length,p&&(_+=p*d.lineHeight+(p-1)*t.titleSpacing+t.titleMarginBottom),k){const U=t.displayColors?Math.max(o,u.lineHeight):u.lineHeight;_+=y*U+(k-y)*u.lineHeight+(k-1)*t.bodySpacing}g&&(_+=t.footerMarginTop+g*f.lineHeight+(g-1)*t.footerSpacing);let P=0;const A=function(U){C=Math.max(C,n.measureText(U).width+P)};return n.save(),n.font=d.string,on(e.title,A),n.font=u.string,on(e.beforeBody.concat(e.afterBody),A),P=t.displayColors?a+2+t.boxPadding:0,on(r,U=>{on(U.before,A),on(U.lines,A),on(U.after,A)}),P=0,n.font=f.string,on(e.footer,A),n.restore(),C+=b.width,{width:C,height:_}}function MM(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}function FM(e,t,n,r){const{x:i,width:s}=r,a=n.caretSize+n.caretPadding;if(e==="left"&&i+s+a>t.width||e==="right"&&i-s-a<0)return!0}function BM(e,t,n,r){const{x:i,width:s}=n,{width:a,chartArea:{left:o,right:u}}=e;let d="center";return r==="center"?d=i<=(o+u)/2?"left":"right":i<=s/2?d="left":i>=a-s/2&&(d="right"),FM(d,e,t,n)&&(d="center"),d}function u5(e,t,n){const r=n.yAlign||t.yAlign||MM(e,n);return{xAlign:n.xAlign||t.xAlign||BM(e,t,n,r),yAlign:r}}function zM(e,t){let{x:n,width:r}=e;return t==="right"?n-=r:t==="center"&&(n-=r/2),n}function UM(e,t,n){let{y:r,height:i}=e;return t==="top"?r+=n:t==="bottom"?r-=i+n:r-=i/2,r}function c5(e,t,n,r){const{caretSize:i,caretPadding:s,cornerRadius:a}=e,{xAlign:o,yAlign:u}=n,d=i+s,{topLeft:f,topRight:p,bottomLeft:g,bottomRight:y}=$l(a);let b=zM(t,o);const _=UM(t,u,d);return u==="center"?o==="left"?b+=d:o==="right"&&(b-=d):o==="left"?b-=Math.max(f,g)+i:o==="right"&&(b+=Math.max(p,y)+i),{x:_r(b,0,r.width-t.width),y:_r(_,0,r.height-t.height)}}function Np(e,t,n){const r=Ur(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function d5(e){return Ks([],ja(e))}function $M(e,t,n){return Vo(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function h5(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const aj={beforeTitle:_a,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:_a,beforeBody:_a,beforeLabel:_a,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Ht(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:_a,afterBody:_a,beforeFooter:_a,footer:_a,afterFooter:_a};function li(e,t,n,r){const i=e[t].call(n,r);return typeof i>"u"?aj[t].call(n,r):i}class f5 extends za{static positioners=Vd;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new I6(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=$M(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,i=li(r,"beforeTitle",this,t),s=li(r,"title",this,t),a=li(r,"afterTitle",this,t);let o=[];return o=Ks(o,ja(i)),o=Ks(o,ja(s)),o=Ks(o,ja(a)),o}getBeforeBody(t,n){return d5(li(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:r}=n,i=[];return on(t,s=>{const a={before:[],lines:[],after:[]},o=h5(r,s);Ks(a.before,ja(li(o,"beforeLabel",this,s))),Ks(a.lines,li(o,"label",this,s)),Ks(a.after,ja(li(o,"afterLabel",this,s))),i.push(a)}),i}getAfterBody(t,n){return d5(li(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:r}=n,i=li(r,"beforeFooter",this,t),s=li(r,"footer",this,t),a=li(r,"afterFooter",this,t);let o=[];return o=Ks(o,ja(i)),o=Ks(o,ja(s)),o=Ks(o,ja(a)),o}_createItems(t){const n=this._active,r=this.chart.data,i=[],s=[],a=[];let o=[],u,d;for(u=0,d=n.length;u<d;++u)o.push(DM(this.chart,n[u]));return t.filter&&(o=o.filter((f,p,g)=>t.filter(f,p,g,r))),t.itemSort&&(o=o.sort((f,p)=>t.itemSort(f,p,r))),on(o,f=>{const p=h5(t.callbacks,f);i.push(li(p,"labelColor",this,f)),s.push(li(p,"labelPointStyle",this,f)),a.push(li(p,"labelTextColor",this,f))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=o,o}update(t,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,a=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const o=Vd[r.position].call(this,i,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const u=this._size=l5(this,r),d=Object.assign({},o,u),f=u5(this.chart,r,d),p=c5(r,d,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,s={opacity:1,x:p.x,y:p.y,width:u.width,height:u.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,i){const s=this.getCaretPosition(t,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(t,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:a,cornerRadius:o}=r,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:p}=$l(o),{x:g,y}=t,{width:b,height:_}=n;let C,k,P,A,U,V;return s==="center"?(U=y+_/2,i==="left"?(C=g,k=C-a,A=U+a,V=U-a):(C=g+b,k=C+a,A=U-a,V=U+a),P=C):(i==="left"?k=g+Math.max(u,f)+a:i==="right"?k=g+b-Math.max(d,p)-a:k=this.caretX,s==="top"?(A=y,U=A-a,C=k-a,P=k+a):(A=y+_,U=A+a,C=k+a,P=k-a),V=A),{x1:C,x2:k,x3:P,y1:A,y2:U,y3:V}}drawTitle(t,n,r){const i=this.title,s=i.length;let a,o,u;if(s){const d=mc(r.rtl,this.x,this.width);for(t.x=Np(this,r.titleAlign,r),n.textAlign=d.textAlign(r.titleAlign),n.textBaseline="middle",a=hr(r.titleFont),o=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,u=0;u<s;++u)n.fillText(i[u],d.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+o,u+1===s&&(t.y+=r.titleMarginBottom-o)}}_drawColorBox(t,n,r,i,s){const a=this.labelColors[r],o=this.labelPointStyles[r],{boxHeight:u,boxWidth:d}=s,f=hr(s.bodyFont),p=Np(this,"left",s),g=i.x(p),y=u<f.lineHeight?(f.lineHeight-u)/2:0,b=n.y+y;if(s.usePointStyle){const _={radius:Math.min(d,u)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},C=i.leftForLtr(g,d)+d/2,k=b+u/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,sx(t,_,C,k),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,sx(t,_,C,k)}else{t.lineWidth=qt(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const _=i.leftForLtr(g,d),C=i.leftForLtr(i.xPlus(g,1),d-2),k=$l(a.borderRadius);Object.values(k).some(P=>P!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,mh(t,{x:_,y:b,w:d,h:u,radius:k}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),mh(t,{x:C,y:b+1,w:d-2,h:u-2,radius:k}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(_,b,d,u),t.strokeRect(_,b,d,u),t.fillStyle=a.backgroundColor,t.fillRect(C,b+1,d-2,u-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:a,displayColors:o,boxHeight:u,boxWidth:d,boxPadding:f}=r,p=hr(r.bodyFont);let g=p.lineHeight,y=0;const b=mc(r.rtl,this.x,this.width),_=function(B){n.fillText(B,b.x(t.x+y),t.y+g/2),t.y+=g+s},C=b.textAlign(a);let k,P,A,U,V,I,O;for(n.textAlign=a,n.textBaseline="middle",n.font=p.string,t.x=Np(this,C,r),n.fillStyle=r.bodyColor,on(this.beforeBody,_),y=o&&C!=="right"?a==="center"?d/2+f:d+2+f:0,U=0,I=i.length;U<I;++U){for(k=i[U],P=this.labelTextColors[U],n.fillStyle=P,on(k.before,_),A=k.lines,o&&A.length&&(this._drawColorBox(n,t,U,b,r),g=Math.max(p.lineHeight,u)),V=0,O=A.length;V<O;++V)_(A[V]),g=p.lineHeight;on(k.after,_)}y=0,g=p.lineHeight,on(this.afterBody,_),t.y-=s}drawFooter(t,n,r){const i=this.footer,s=i.length;let a,o;if(s){const u=mc(r.rtl,this.x,this.width);for(t.x=Np(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=u.textAlign(r.footerAlign),n.textBaseline="middle",a=hr(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,o=0;o<s;++o)n.fillText(i[o],u.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+r.footerSpacing}}drawBackground(t,n,r,i){const{xAlign:s,yAlign:a}=this,{x:o,y:u}=t,{width:d,height:f}=r,{topLeft:p,topRight:g,bottomLeft:y,bottomRight:b}=$l(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(o+p,u),a==="top"&&this.drawCaret(t,n,r,i),n.lineTo(o+d-g,u),n.quadraticCurveTo(o+d,u,o+d,u+g),a==="center"&&s==="right"&&this.drawCaret(t,n,r,i),n.lineTo(o+d,u+f-b),n.quadraticCurveTo(o+d,u+f,o+d-b,u+f),a==="bottom"&&this.drawCaret(t,n,r,i),n.lineTo(o+y,u+f),n.quadraticCurveTo(o,u+f,o,u+f-y),a==="center"&&s==="left"&&this.drawCaret(t,n,r,i),n.lineTo(o,u+p),n.quadraticCurveTo(o,u,o+p,u),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const a=Vd[t.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=l5(this,t),u=Object.assign({},a,this._size),d=u5(n,t,u),f=c5(t,u,d,n);(i._to!==f.x||s._to!==f.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=Ur(n.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&o&&(t.save(),t.globalAlpha=r,this.drawBackground(s,t,i,n),T6(t,n.textDirection),s.y+=a.top,this.drawTitle(s,t,n),this.drawBody(s,t,n),this.drawFooter(s,t,n),N6(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,i=t.map(({datasetIndex:o,index:u})=>{const d=this.chart.getDatasetMeta(o);if(!d)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:d.data[u],index:u}}),s=!Em(r,i),a=this._positionChanged(i,n);(s||a)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],a=this._getActiveElements(t,s,n,r),o=this._positionChanged(a,t),u=n||!Em(a,s)||o;return u&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),u}_getActiveElements(t,n,r,i){const s=this.options;if(t.type==="mouseout")return[];if(!i)return n.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(t,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(t,n){const{caretX:r,caretY:i,options:s}=this,a=Vd[s.position].call(this,t,n);return a!==!1&&(r!==a.x||i!==a.y)}}var Qo={id:"tooltip",_element:f5,positioners:Vd,afterInit(e,t,n){n&&(e.tooltip=new f5({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:aj},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},HM=Object.freeze({__proto__:null,Colors:sM,Decimation:uM,Filler:rj,Legend:Wo,SubTitle:LM,Title:sj,Tooltip:Qo});const VM=(e,t,n,r)=>(typeof t=="string"?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function qM(e,t,n,r){const i=e.indexOf(t);if(i===-1)return VM(e,t,n,r);const s=e.lastIndexOf(t);return i!==s?n:i}const WM=(e,t)=>e===null?null:_r(Math.round(e),0,t);function p5(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class $h extends eu{static id="category";static defaults={ticks:{callback:p5}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Ht(t))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===t?n:qM(r,t,jt(n,t),this._addedLabels),WM(n,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const t=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=t===0&&n===s.length-1?s:s.slice(t,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=t;a<=n;a++)i.push({value:a});return i}getLabelForValue(t){return p5.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function QM(e,t){const n=[],{bounds:i,step:s,min:a,max:o,precision:u,count:d,maxTicks:f,maxDigits:p,includeBounds:g}=e,y=s||1,b=f-1,{min:_,max:C}=t,k=!Ht(a),P=!Ht(o),A=!Ht(d),U=(C-_)/(p+1);let V=l_((C-_)/b/y)*y,I,O,B,W;if(V<1e-14&&!k&&!P)return[{value:_},{value:C}];W=Math.ceil(C/V)-Math.floor(_/V),W>b&&(V=l_(W*V/b/y)*y),Ht(u)||(I=Math.pow(10,u),V=Math.ceil(V*I)/I),i==="ticks"?(O=Math.floor(_/V)*V,B=Math.ceil(C/V)*V):(O=_,B=C),k&&P&&s&&BA((o-a)/s,V/1e3)?(W=Math.round(Math.min((o-a)/V,f)),V=(o-a)/W,O=a,B=o):A?(O=k?a:O,B=P?o:B,W=d-1,V=(B-O)/W):(W=(B-O)/V,Yd(W,Math.round(W),V/1e3)?W=Math.round(W):W=Math.ceil(W));const F=Math.max(u_(V),u_(O));I=Math.pow(10,Ht(u)?F:u),O=Math.round(O*I)/I,B=Math.round(B*I)/I;let se=0;for(k&&(g&&O!==a?(n.push({value:a}),O<a&&se++,Yd(Math.round((O+se*V)*I)/I,a,m5(a,U,e))&&se++):O<a&&se++);se<W;++se){const J=Math.round((O+se*V)*I)/I;if(P&&J>o)break;n.push({value:J})}return P&&g&&B!==o?n.length&&Yd(n[n.length-1].value,o,m5(o,U,e))?n[n.length-1].value=o:n.push({value:o}):(!P||B===o)&&n.push({value:B}),n}function m5(e,t,{horizontal:n,minRotation:r}){const i=ks(r),s=(n?Math.sin(i):Math.cos(i))||.001,a=.75*t*(""+e).length;return Math.min(t/s,a)}class Im extends eu{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Ht(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const a=u=>i=n?i:u,o=u=>s=r?s:u;if(t){const u=Zs(i),d=Zs(s);u<0&&d<0?o(0):u>0&&d>0&&a(0)}if(i===s){let u=s===0?1:Math.abs(s*.05);o(s+u),t||a(i-u)}this.min=i,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=t,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,a=QM(i,s);return t.bounds==="ticks"&&d6(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const t=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const i=(r-n)/Math.max(t.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(t){return Bh(t,this.chart.options.locale,this.options.ticks.format)}}class Hh extends Im{static id="linear";static defaults={ticks:{callback:lg.formatters.numeric}};determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Bn(t)?t:0,this.max=Bn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,r=ks(this.options.ticks.minRotation),i=(t?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const yh=e=>Math.floor(No(e)),_l=(e,t)=>Math.pow(10,yh(e)+t);function g5(e){return e/Math.pow(10,yh(e))===1}function y5(e,t,n){const r=Math.pow(10,n),i=Math.floor(e/r);return Math.ceil(t/r)-i}function KM(e,t){const n=t-e;let r=yh(n);for(;y5(e,t,r)>10;)r++;for(;y5(e,t,r)<10;)r--;return Math.min(r,yh(e))}function GM(e,{min:t,max:n}){t=Pi(e.min,t);const r=[],i=yh(t);let s=KM(t,n),a=s<0?Math.pow(10,Math.abs(s)):1;const o=Math.pow(10,s),u=i>s?Math.pow(10,i):0,d=Math.round((t-u)*a)/a,f=Math.floor((t-u)/o/10)*o*10;let p=Math.floor((d-f)/Math.pow(10,s)),g=Pi(e.min,Math.round((u+f+p*Math.pow(10,s))*a)/a);for(;g<n;)r.push({value:g,major:g5(g),significand:p}),p>=10?p=p<15?15:20:p++,p>=20&&(s++,p=2,a=s>=0?1:a),g=Math.round((u+f+p*Math.pow(10,s))*a)/a;const y=Pi(e.max,g);return r.push({value:y,major:g5(y),significand:p}),r}class YM extends eu{static id="logarithmic";static defaults={ticks:{callback:lg.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const r=Im.prototype.parse.apply(this,[t,n]);if(r===0){this._zero=!0;return}return Bn(r)&&r>0?r:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Bn(t)?Math.max(0,t):null,this.max=Bn(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Bn(this._userMin)&&(this.min=t===_l(this.min,0)?_l(this.min,-1):_l(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let r=this.min,i=this.max;const s=o=>r=t?r:o,a=o=>i=n?i:o;r===i&&(r<=0?(s(1),a(10)):(s(_l(r,-1)),a(_l(i,1)))),r<=0&&s(_l(i,-1)),i<=0&&a(_l(r,1)),this.min=r,this.max=i}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},r=GM(n,this);return t.bounds==="ticks"&&d6(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(t){return t===void 0?"0":Bh(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=No(t),this._valueRange=No(this.max)-No(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(No(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}function dx(e){const t=e.ticks;if(t.display&&e.display){const n=Ur(t.backdropPadding);return jt(t.font&&t.font.size,Tn.font.size)+n.height}return 0}function JM(e,t,n){return n=En(n)?n:[n],{w:nI(e,t.string,n),h:n.length*t.lineHeight}}function x5(e,t,n,r,i){return e===r||e===i?{start:t-n/2,end:t+n/2}:e<r||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function XM(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),r=[],i=[],s=e._pointLabels.length,a=e.options.pointLabels,o=a.centerPointLabels?en/s:0;for(let u=0;u<s;u++){const d=a.setContext(e.getPointLabelContext(u));i[u]=d.padding;const f=e.getPointPosition(u,e.drawingArea+i[u],o),p=hr(d.font),g=JM(e.ctx,p,e._pointLabels[u]);r[u]=g;const y=Fr(e.getIndexAngle(u)+o),b=Math.round(Fv(y)),_=x5(b,f.x,g.w,0,180),C=x5(b,f.y,g.h,90,270);ZM(n,t,y,_,C)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=nF(e,r,i)}function ZM(e,t,n,r,i){const s=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let o=0,u=0;r.start<t.l?(o=(t.l-r.start)/s,e.l=Math.min(e.l,t.l-o)):r.end>t.r&&(o=(r.end-t.r)/s,e.r=Math.max(e.r,t.r+o)),i.start<t.t?(u=(t.t-i.start)/a,e.t=Math.min(e.t,t.t-u)):i.end>t.b&&(u=(i.end-t.b)/a,e.b=Math.max(e.b,t.b+u))}function eF(e,t,n){const r=e.drawingArea,{extra:i,additionalAngle:s,padding:a,size:o}=n,u=e.getPointPosition(t,r+i+a,s),d=Math.round(Fv(Fr(u.angle+Kn))),f=sF(u.y,o.h,d),p=rF(d),g=iF(u.x,o.w,p);return{visible:!0,x:u.x,y:f,textAlign:p,left:g,top:f,right:g+o.w,bottom:f+o.h}}function tF(e,t){if(!t)return!0;const{left:n,top:r,right:i,bottom:s}=e;return!(Oa({x:n,y:r},t)||Oa({x:n,y:s},t)||Oa({x:i,y:r},t)||Oa({x:i,y:s},t))}function nF(e,t,n){const r=[],i=e._pointLabels.length,s=e.options,{centerPointLabels:a,display:o}=s.pointLabels,u={extra:dx(s)/2,additionalAngle:a?en/i:0};let d;for(let f=0;f<i;f++){u.padding=n[f],u.size=t[f];const p=eF(e,f,u);r.push(p),o==="auto"&&(p.visible=tF(p,d),p.visible&&(d=p))}return r}function rF(e){return e===0||e===180?"center":e<180?"left":"right"}function iF(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function sF(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function aF(e,t,n){const{left:r,top:i,right:s,bottom:a}=n,{backdropColor:o}=t;if(!Ht(o)){const u=$l(t.borderRadius),d=Ur(t.backdropPadding);e.fillStyle=o;const f=r-d.left,p=i-d.top,g=s-r+d.width,y=a-i+d.height;Object.values(u).some(b=>b!==0)?(e.beginPath(),mh(e,{x:f,y:p,w:g,h:y,radius:u}),e.fill()):e.fillRect(f,p,g,y)}}function oF(e,t){const{ctx:n,options:{pointLabels:r}}=e;for(let i=t-1;i>=0;i--){const s=e._pointLabelItems[i];if(!s.visible)continue;const a=r.setContext(e.getPointLabelContext(i));aF(n,a,s);const o=hr(a.font),{x:u,y:d,textAlign:f}=s;Gl(n,e._pointLabels[i],u,d+o.lineHeight/2,o,{color:a.color,textAlign:f,textBaseline:"middle"})}}function oj(e,t,n,r){const{ctx:i}=e;if(n)i.arc(e.xCenter,e.yCenter,t,0,bn);else{let s=e.getPointPosition(0,t);i.moveTo(s.x,s.y);for(let a=1;a<r;a++)s=e.getPointPosition(a,t),i.lineTo(s.x,s.y)}}function lF(e,t,n,r,i){const s=e.ctx,a=t.circular,{color:o,lineWidth:u}=t;!a&&!r||!o||!u||n<0||(s.save(),s.strokeStyle=o,s.lineWidth=u,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),oj(e,n,a,r),s.closePath(),s.stroke(),s.restore())}function uF(e,t,n){return Vo(e,{label:n,index:t,type:"pointLabel"})}class lj extends Im{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:lg.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Ur(dx(this.options)/2),n=this.width=this.maxWidth-t.width,r=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+r/2+t.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=Bn(t)&&!isNaN(t)?t:0,this.max=Bn(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/dx(this.options))}generateTickLabels(t){Im.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,r)=>{const i=mn(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const t=this.options;t.display&&t.pointLabels.display?XM(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,r,i){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,r,i))}getIndexAngle(t){const n=bn/(this._pointLabels.length||1),r=this.options.startAngle||0;return Fr(t*n+ks(r))}getDistanceFromCenterForValue(t){if(Ht(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(Ht(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const r=n[t];return uF(this.getContext(),t,r)}}getPointPosition(t,n,r=0){const i=this.getIndexAngle(t)-Kn+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:r,right:i,bottom:s}=this._pointLabelItems[t];return{left:n,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const r=this.ctx;r.save(),r.beginPath(),oj(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=t,r.fill(),r.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:r,grid:i,border:s}=n,a=this._pointLabels.length;let o,u,d;if(n.pointLabels.display&&oF(this,a),i.display&&this.ticks.forEach((f,p)=>{if(p!==0||p===0&&this.min<0){u=this.getDistanceFromCenterForValue(f.value);const g=this.getContext(p),y=i.setContext(g),b=s.setContext(g);lF(this,y,u,a,b)}}),r.display){for(t.save(),o=a-1;o>=0;o--){const f=r.setContext(this.getPointLabelContext(o)),{color:p,lineWidth:g}=f;!g||!p||(t.lineWidth=g,t.strokeStyle=p,t.setLineDash(f.borderDash),t.lineDashOffset=f.borderDashOffset,u=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),d=this.getPointPosition(o,u),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,a;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((o,u)=>{if(u===0&&this.min>=0&&!n.reverse)return;const d=r.setContext(this.getContext(u)),f=hr(d.font);if(s=this.getDistanceFromCenterForValue(this.ticks[u].value),d.showLabelBackdrop){t.font=f.string,a=t.measureText(o.label).width,t.fillStyle=d.backdropColor;const p=Ur(d.backdropPadding);t.fillRect(-a/2-p.left,-s-f.size/2-p.top,a+p.width,f.size+p.height)}Gl(t,o.label,0,-s,f,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),t.restore()}drawTitle(){}}const mg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},di=Object.keys(mg);function v5(e,t){return e-t}function b5(e,t){if(Ht(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:s}=e._parseOpts;let a=t;return typeof r=="function"&&(a=r(a)),Bn(a)||(a=typeof r=="string"?n.parse(a,r):n.parse(a)),a===null?null:(i&&(a=i==="week"&&(Ql(s)||s===!0)?n.startOf(a,"isoWeek",s):n.startOf(a,i)),+a)}function w5(e,t,n,r){const i=di.length;for(let s=di.indexOf(e);s<i-1;++s){const a=mg[di[s]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-t)/(o*a.size))<=r)return di[s]}return di[i-1]}function cF(e,t,n,r,i){for(let s=di.length-1;s>=di.indexOf(n);s--){const a=di[s];if(mg[a].common&&e._adapter.diff(i,r,a)>=t-1)return a}return di[n?di.indexOf(n):0]}function dF(e){for(let t=di.indexOf(e)+1,n=di.length;t<n;++t)if(mg[di[t]].common)return di[t]}function _5(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:r,hi:i}=Bv(n,t),s=n[r]>=t?n[r]:n[i];e[s]=!0}}function hF(e,t,n,r){const i=e._adapter,s=+i.startOf(t[0].value,r),a=t[t.length-1].value;let o,u;for(o=s;o<=a;o=+i.add(o,1,r))u=n[o],u>=0&&(t[u].major=!0);return t}function S5(e,t,n){const r=[],i={},s=t.length;let a,o;for(a=0;a<s;++a)o=t[a],i[o]=a,r.push({value:o,major:!1});return s===0||!n?r:hF(e,r,i,n)}class hx extends eu{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),i=this._adapter=new SL._date(t.adapters.date);i.init(n),Gd(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:b5(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:i,max:s,minDefined:a,maxDefined:o}=this.getUserBounds();function u(d){!a&&!isNaN(d.min)&&(i=Math.min(i,d.min)),!o&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!a||!o)&&(u(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&u(this.getMinMax(!1))),i=Bn(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=Bn(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,a=this.max,o=HA(i,s,a);return this._unit=n.unit||(r.autoSkip?w5(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):cF(this,o.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:dF(this._unit),this.initOffsets(i),t.reverse&&o.reverse(),S5(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,r=0,i,s;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?n=1-i:n=(this.getDecimalForValue(t[1])-i)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?r=s:r=(s-this.getDecimalForValue(t[t.length-2]))/2);const a=t.length<3?.5:.25;n=_r(n,0,a),r=_r(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,a=s.unit||w5(s.minUnit,n,r,this._getLabelCapacity(n)),o=jt(i.ticks.stepSize,1),u=a==="week"?s.isoWeekday:!1,d=Ql(u)||u===!0,f={};let p=n,g,y;if(d&&(p=+t.startOf(p,"isoWeek",u)),p=+t.startOf(p,d?"day":a),t.diff(r,n,a)>1e5*o)throw new Error(n+" and "+r+" are too far apart with stepSize of "+o+" "+a);const b=i.ticks.source==="data"&&this.getDataTimestamps();for(g=p,y=0;g<r;g=+t.add(g,o,a),y++)_5(f,g,b);return(g===r||i.bounds==="ticks"||y===1)&&_5(f,g,b),Object.keys(f).sort(v5).map(_=>+_)}getLabelForValue(t){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}format(t,n){const i=this.options.time.displayFormats,s=this._unit,a=n||i[s];return this._adapter.format(t,a)}_tickFormatFunction(t,n,r,i){const s=this.options,a=s.ticks.callback;if(a)return mn(a,[t,n,r],this);const o=s.time.displayFormats,u=this._unit,d=this._majorUnit,f=u&&o[u],p=d&&o[d],g=r[n],y=d&&p&&g&&g.major;return this._adapter.format(t,i||(y?p:f))}generateTickLabels(t){let n,r,i;for(n=0,r=t.length;n<r;++n)i=t[n],i.label=this._tickFormatFunction(i.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,i=ks(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),a=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:r*s+o*a,h:r*a+o*s}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(t,0,S5(this,[t],this._majorUnit),i),a=this._getLabelSize(s),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)t=t.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)t.push(b5(this,i[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return p6(t.sort(v5))}}function Pp(e,t,n){let r=0,i=e.length-1,s,a,o,u;n?(t>=e[r].pos&&t<=e[i].pos&&({lo:r,hi:i}=Pa(e,"pos",t)),{pos:s,time:o}=e[r],{pos:a,time:u}=e[i]):(t>=e[r].time&&t<=e[i].time&&({lo:r,hi:i}=Pa(e,"time",t)),{time:s,pos:o}=e[r],{time:a,pos:u}=e[i]);const d=a-s;return d?o+(u-o)*(t-s)/d:o}class fF extends hx{static id="timeseries";static defaults=hx.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Pp(n,this.min),this._tableRange=Pp(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:r}=this,i=[],s=[];let a,o,u,d,f;for(a=0,o=t.length;a<o;++a)d=t[a],d>=n&&d<=r&&i.push(d);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(a=0,o=i.length;a<o;++a)f=i[a+1],u=i[a-1],d=i[a],Math.round((f+u)/2)!==d&&s.push({time:d,pos:a/(o-1)});return s}_generate(){const t=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?t=this.normalize(n.concat(r)):t=n.length?n:r,t=this._cache.all=t,t}getDecimalForValue(t){return(Pp(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return Pp(this._table,r*this._tableRange+this._minPos,!0)}}var pF=Object.freeze({__proto__:null,CategoryScale:$h,LinearScale:Hh,LogarithmicScale:YM,RadialLinearScale:lj,TimeScale:hx,TimeSeriesScale:fF});const mF=[_L,XD,HM,pF];As.register(...mF);const uj="label";function C5(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function gF(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function cj(e,t){e.labels=t}function dj(e,t,n=uj){const r=[];e.datasets=t.map(i=>{const s=e.datasets.find(a=>a[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function yF(e,t=uj){const n={labels:[],datasets:[]};return cj(n,e.labels),dj(n,e.datasets,t),n}function xF(e,t){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:a,data:o,options:u,plugins:d=[],fallbackContent:f,updateMode:p,...g}=e,y=T.useRef(null),b=T.useRef(null),_=()=>{y.current&&(b.current=new As(y.current,{type:a,data:yF(o,s),options:u&&{...u},plugins:d}),C5(t,b.current))},C=()=>{C5(t,null),b.current&&(b.current.destroy(),b.current=null)};return T.useEffect(()=>{!i&&b.current&&u&&gF(b.current,u)},[i,u]),T.useEffect(()=>{!i&&b.current&&cj(b.current.config.data,o.labels)},[i,o.labels]),T.useEffect(()=>{!i&&b.current&&o.datasets&&dj(b.current.config.data,o.datasets,s)},[i,o.datasets]),T.useEffect(()=>{b.current&&(i?(C(),setTimeout(_)):b.current.update(p))},[i,u,o.labels,o.datasets,p]),T.useEffect(()=>{b.current&&(C(),setTimeout(_))},[a]),T.useEffect(()=>(_(),()=>C()),[]),c.jsx("canvas",{ref:y,role:"img",height:n,width:r,...g,children:f})}const hj=T.forwardRef(xF);function Jv(e,t){return As.register(t),T.forwardRef((n,r)=>c.jsx(hj,{...n,ref:r,type:e}))}const vF=Jv("bar",M6),bF=Jv("radar",B6),gg=Jv("doughnut",hg),Sc={searchBtnSpeed:{mu:1.457,sigma:.7362},captchaSpeed:{mu:3.6415,sigma:.4057},totalSpeed:{mu:8.6367,sigma:.5422}};function fj(e,t,n){if(e<=0)return 0;const r=(Math.log(e)-Math.log(t))/n,i=1/(1+.2316419*Math.abs(r)),a=.3989423*Math.exp(-r*r/2)*i*(.3193815+i*(-.3565638+i*(1.781478+i*(-1.821256+i*1.330274))));return r>0?1-a:a}function yg(e,t=7.5,n=.3){const s=e>3e3?e/1e3:e,o=1-fj(s,t,n);return Math.max(Math.min(o*100,100),0)}function wF(e){const n=Math.min(Math.max(e,0),100)/100,i=-fj(n,.4,.1);return Math.round(i*5)}function _F(e,t){const n=(e-2*t)/(e-t);return Math.max(0,Math.round(n*100))}function SF(e){return yg(e,Sc.searchBtnSpeed.mu,Sc.searchBtnSpeed.sigma)}function CF(e){return yg(e,Sc.captchaSpeed.mu,Sc.captchaSpeed.sigma)}function jF(e){return Math.max(0,Math.min(e,100))}function kF(e){return yg(e,Sc.totalSpeed.mu,Sc.totalSpeed.sigma)}As.register(lj,Gv,Pc,rj,Qo,Wo);const EF={responsive:!0,scales:{r:{angleLines:{display:!0},suggestedMin:0,suggestedMax:100,ticks:{display:!1},pointLabels:{font:{size:14},color:"#4B5563"},grid:{color:"#E5E7EB"}}},plugins:{legend:{display:!1},tooltip:{enabled:!0}}};function TF(e){const{user_ability:t}=e,{searchBtnSpeed:n,totalSpeed:r,accuracy:i,captchaSpeed:s}=t,a=["   "," ","","  "],o=[n,r,i,s];return{labels:a,datasets:[{label:"",data:j5([1.776296,9.30268,93.58,3.843947]),backgroundColor:"rgba(5, 223, 114, 0.2)",borderColor:"rgba(5, 223, 114, 1)",borderWidth:2,pointBackgroundColor:"rgba(5, 223, 114, 1)"},{label:" ",data:j5(o),backgroundColor:"rgb(0, 122, 255, 0.2)",borderColor:"rgba(0, 122, 255, 1)",borderWidth:2,pointBackgroundColor:"rgba(0, 122, 255, 1)"}]}}function j5(e){return[SF(e[0]),kF(e[1]),jF(e[2]),CF(e[3])]}function Xv({result:e}){const t=TF(e),{searchBtnSpeed:n,totalSpeed:r,accuracy:i,captchaSpeed:s}=e.user_ability;return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"h-90",children:c.jsx(bF,{data:t,className:"mx-auto",options:EF})}),c.jsxs("div",{className:"absolute bottom-6 right-6 bg-white shadow-lg rounded-lg px-4 py-3 text-xs text-gray-800",children:[c.jsx("div",{className:"font-bold text-sm mb-1",children:" "}),c.jsxs("ul",{className:"space-y-1",children:[c.jsxs("li",{className:"flex justify-between",children:[c.jsx("span",{children:"    "})," ",c.jsxs("span",{children:[n.toFixed(2)," sec"]})]}),c.jsxs("li",{className:"flex justify-between",children:[c.jsx("span",{children:"   "})," ",c.jsxs("span",{children:[r.toFixed(2)," sec"]})]}),c.jsxs("li",{className:"flex justify-between",children:[c.jsx("span",{children:" "})," ",c.jsxs("span",{children:[i.toFixed(2)," %"]})]}),c.jsxs("li",{className:"flex justify-between",children:[c.jsx("span",{children:"     "})," ",c.jsxs("span",{children:[s.toFixed(2)," sec"]})]})]})]})]})}function fx(e,t){const n=e.getContext("2d");if(!n)return;n.clearRect(0,0,e.width,e.height);const r=n.createLinearGradient(0,0,e.width,0);r.addColorStop(0,"#4a4a4a"),r.addColorStop(1,"#bcbcbc"),n.fillStyle=r,n.fillRect(0,0,e.width,e.height),n.font="bold 32px Arial Black, Impact, sans-serif",n.fillStyle="black",n.textAlign="center",n.textBaseline="middle",n.fillText(t,e.width/2,e.height/2)}const NF={user_ability:{searchBtnSpeed:1.076296,totalSpeed:6.70268,accuracy:98.58,captchaSpeed:4.843947}};function PF(){const[e,t]=T.useState(NF);return c.jsxs(Ho,{children:[c.jsx(Dh,{title:"   ()",subtitle:"   ,    ",href:"/simulation"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[c.jsxs(Yt,{children:[c.jsx(mt,{level:3,children:"  "}),c.jsx(Xt,{children:"       ."}),c.jsx(RF,{setRadarData:t})]}),c.jsxs(Yt,{className:"relative",children:[c.jsx(mt,{level:3,children:"  "}),c.jsx(Xt,{children:"      ."}),c.jsx(Xv,{result:e})]})]})]})}function k5(){return Math.floor(1e3+Math.random()*9e3).toString()}const OF=4;function RF({setRadarData:e}){const t=T.useRef(null),[n,r]=T.useState(),[i,s]=T.useState({message:"",color:"red"}),a=T.useRef(""),o=IF(e);function u(){a.current=k5(),r(""),s({message:"",color:"red"}),o.resetResult(),t.current&&fx(t.current,a.current)}function d(){setTimeout(u,200)}function f(g){let y=g.target.value;if(o.updateResult(),/\D/.test(y)){s({message:"0~9  ",color:"red"}),r(y.replace(/\D/g,""));return}if(y.length>OF){s({message:"4  ",color:"red"});return}r(y),s({message:"",color:"red"})}T.useEffect(()=>{setTimeout(()=>{a.current=k5(),o.initResult(),t.current&&fx(t.current,a.current)},100)},[]);function p(){n?.toString()===a.current?(s({message:"  .",color:"green"}),o.endResult(!0),setTimeout(u,700)):(s({message:"  .",color:"red"}),o.endResult(!1),setTimeout(u,700))}return c.jsxs("div",{className:"flex flex-col justify-center h-4/5",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 p-4",children:[c.jsxs("div",{className:"flex flex-col",children:[c.jsxs("div",{className:"text-sm font-semibold flex flex-row items-center gap-2",children:[c.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "})," ",c.jsx(AF,{onClick:d,children:""})]}),c.jsx("div",{className:"flex items-center mt-1",children:c.jsx("canvas",{id:"captcha",width:"105",height:"50",ref:t})})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"text-sm font-semibold  flex flex-row items-center",children:[c.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "}),"  "]}),c.jsx(Zt.Input,{value:n,className:"mt-2 w-full",onChange:g=>f(g),placeholder:" ",essential:!0}),c.jsx("span",{className:"pl-1 text-xs "+(i.color==="green"?"text-green-500":"text-red-500"),children:i.message})]})]}),c.jsx("div",{className:"flex justify-end p-4",children:c.jsx("button",{onClick:p,className:"px-4 py-2 bg-white hover:bg-blue-50 rounded-xs border cursor-pointer",children:""})})]})}function AF({className:e,children:t,...n}){return c.jsx("button",{className:"px-2 py-1 bg-blue-500 text-white text-sm rounded-xs cursor-pointer hover:bg-blue-600 "+e,...n,children:t})}function IF(e){const t=T.useRef({tryCount:0,successCount:0,avgTime:0,startTime:-1});function n(){t.current.startTime=-1}function r(){t.current.startTime=Date.now()}function i(){t.current.startTime===-1&&(t.current.startTime=Date.now())}function s(a){const o=Date.now(),u=t.current.startTime===-1?4.843947:1+(o-t.current.startTime)/1e3;t.current.startTime=-1,t.current.tryCount+=1,t.current.avgTime=1+(u-t.current.avgTime)/t.current.tryCount,t.current.successCount+=a?1:0,e&&e(d=>({user_ability:{...d.user_ability,captchaSpeed:t.current.avgTime,accuracy:100*(t.current.successCount/t.current.tryCount)}}))}return{initResult:n,resetResult:r,updateResult:i,endResult:s}}const LF="";function tu(){return Cr({queryKey:["departments"],queryFn:DF,staleTime:1/0,select:e=>(e?.departments.map(n=>({...n,departmentName:n.departmentName??LF}))??[]).sort((n,r)=>n.departmentName.localeCompare(r.departmentName))})}const DF=async()=>await vi("/api/departments"),MF=e=>{if(!e)return{universityDict:{},collegeDict:{}};const t={},n={};return e.forEach(r=>{const[i,s,a]=r.departmentName.split(" "),o=i.trim(),u=s?.trim(),d=a?.trim();u&&(t[o]||(t[o]=[]),t[o]=[...t[o],u],d||(n[u]=[u])),d&&(t[o]||(t[o]=[]),t[o]=[...t[o],d],n[u]||(n[u]=[]),n[u]=[...n[u],d])}),{universityDict:t,collegeDict:n}},FF=(e,t)=>{const n=e.split(" ").map(r=>r.trim());for(const r in t)if(n.some(i=>t[r].includes(i)))return r;return console.error("No university found",e),""},BF=(e,t)=>{const n=e.split(" ").map(r=>r.trim());for(const r in t)if(n.some(i=>r.includes(i)))return r;return console.error("No college found",e),""},xg={labels:["","","",""],datasets:[{data:[40,25,20,15]}]},Vh=["#f97316","#3b82f6","#facc15","#22c55e","#60b6d4"];function E5(e){if(!e)return xg;const t={};return e.forEach(n=>{t[n.registerDepartment??""]||(t[n.registerDepartment??""]=0),t[n.registerDepartment??""]+=Number(n.eachCount)}),{labels:Object.keys(t).map(n=>n||""),datasets:[{data:Object.values(t),backgroundColor:Vh}]}}function zF(e,t){if(!t)return xg;const n={major:0,"non-major":0},r=e.split(" ").map(a=>a.trim()),i=a=>a.split(" ").map(u=>u.trim()).some(u=>r.includes(u));t.forEach(a=>{const o=i(a.registerDepartment??"")?"major":"non-major";n[o]+=Number(a.eachCount)});const s={major:"","non-major":""};return{labels:Object.keys(n).map(a=>s[a]),datasets:[{data:Object.values(n),backgroundColor:Vh}]}}function UF(e,t){if(!e||!t)return xg;const n={};return e.forEach(r=>{const i=FF(r.registerDepartment??"",t);n[i]||(n[i]=0),n[i]+=Number(r.eachCount)}),{labels:Object.keys(n).map(r=>r||""),datasets:[{data:Object.values(n),backgroundColor:Vh}]}}function $F(e,t){if(!e||!t)return xg;const n={};return e.forEach(r=>{const i=BF(r.registerDepartment??"",t);n[i]||(n[i]=0),n[i]+=Number(r.eachCount)}),{labels:Object.keys(n).map(r=>r||""),datasets:[{data:Object.values(n),backgroundColor:Vh}]}}function HF(e){return e?e.reduce((t,n)=>t+Number(n.eachCount),0):-1}var lm={exports:{}},VF=lm.exports,T5;function qF(){return T5||(T5=1,(function(e,t){((n,r)=>{e.exports=r()})(VF,function(){var n=function(x,w){return(n=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(j,N){j.__proto__=N}:function(j,N){for(var R in N)Object.prototype.hasOwnProperty.call(N,R)&&(j[R]=N[R])}))(x,w)},r=function(){return(r=Object.assign||function(x){for(var w,j=1,N=arguments.length;j<N;j++)for(var R in w=arguments[j])Object.prototype.hasOwnProperty.call(w,R)&&(x[R]=w[R]);return x}).apply(this,arguments)};function i(x,w,j){for(var N,R=0,L=w.length;R<L;R++)!N&&R in w||((N=N||Array.prototype.slice.call(w,0,R))[R]=w[R]);return x.concat(N||Array.prototype.slice.call(w))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Md,a=Object.keys,o=Array.isArray;function u(x,w){return typeof w=="object"&&a(w).forEach(function(j){x[j]=w[j]}),x}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var d=Object.getPrototypeOf,f={}.hasOwnProperty;function p(x,w){return f.call(x,w)}function g(x,w){typeof w=="function"&&(w=w(d(x))),(typeof Reflect>"u"?a:Reflect.ownKeys)(w).forEach(function(j){b(x,j,w[j])})}var y=Object.defineProperty;function b(x,w,j,N){y(x,w,u(j&&p(j,"get")&&typeof j.get=="function"?{get:j.get,set:j.set,configurable:!0}:{value:j,configurable:!0,writable:!0},N))}function _(x){return{from:function(w){return x.prototype=Object.create(w.prototype),b(x.prototype,"constructor",x),{extend:g.bind(null,x.prototype)}}}}var C=Object.getOwnPropertyDescriptor,k=[].slice;function P(x,w,j){return k.call(x,w,j)}function A(x,w){return w(x)}function U(x){if(!x)throw new Error("Assertion Failed")}function V(x){s.setImmediate?setImmediate(x):setTimeout(x,0)}function I(x,w){if(typeof w=="string"&&p(x,w))return x[w];if(!w)return x;if(typeof w!="string"){for(var j=[],N=0,R=w.length;N<R;++N){var L=I(x,w[N]);j.push(L)}return j}var z,q=w.indexOf(".");return q===-1||(z=x[w.substr(0,q)])==null?void 0:I(z,w.substr(q+1))}function O(x,w,j){if(x&&w!==void 0&&!("isFrozen"in Object&&Object.isFrozen(x)))if(typeof w!="string"&&"length"in w){U(typeof j!="string"&&"length"in j);for(var N=0,R=w.length;N<R;++N)O(x,w[N],j[N])}else{var L,z,q=w.indexOf(".");q!==-1?(L=w.substr(0,q),(q=w.substr(q+1))===""?j===void 0?o(x)&&!isNaN(parseInt(L))?x.splice(L,1):delete x[L]:x[L]=j:O(z=(z=x[L])&&p(x,L)?z:x[L]={},q,j)):j===void 0?o(x)&&!isNaN(parseInt(w))?x.splice(w,1):delete x[w]:x[w]=j}}function B(x){var w,j={};for(w in x)p(x,w)&&(j[w]=x[w]);return j}var W=[].concat;function F(x){return W.apply([],x)}var ge="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(F([8,16,32,64].map(function(x){return["Int","Uint","Float"].map(function(w){return w+x+"Array"})}))).filter(function(x){return s[x]}),se=new Set(ge.map(function(x){return s[x]})),J=null;function xe(x){return J=new WeakMap,x=(function w(j){if(!j||typeof j!="object")return j;var N=J.get(j);if(N)return N;if(o(j)){N=[],J.set(j,N);for(var R=0,L=j.length;R<L;++R)N.push(w(j[R]))}else if(se.has(j.constructor))N=j;else{var z,q=d(j);for(z in N=q===Object.prototype?{}:Object.create(q),J.set(j,N),j)p(j,z)&&(N[z]=w(j[z]))}return N})(x),J=null,x}var G={}.toString;function $(x){return G.call(x).slice(8,-1)}var ee=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Z=typeof ee=="symbol"?function(x){var w;return x!=null&&(w=x[ee])&&w.apply(x)}:function(){return null};function X(x,w){w=x.indexOf(w),0<=w&&x.splice(w,1)}var pe={};function M(x){var w,j,N,R;if(arguments.length===1){if(o(x))return x.slice();if(this===pe&&typeof x=="string")return[x];if(R=Z(x))for(j=[];!(N=R.next()).done;)j.push(N.value);else{if(x==null)return[x];if(typeof(w=x.length)!="number")return[x];for(j=new Array(w);w--;)j[w]=x[w]}}else for(w=arguments.length,j=new Array(w);w--;)j[w]=arguments[w];return j}var Y=typeof Symbol<"u"?function(x){return x[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},ge=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ce=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(ge),H={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Pe(x,w){this.name=x,this.message=w}function ke(x,w){return x+". Errors: "+Object.keys(w).map(function(j){return w[j].toString()}).filter(function(j,N,R){return R.indexOf(j)===N}).join(`
`)}function Ee(x,w,j,N){this.failures=w,this.failedKeys=N,this.successCount=j,this.message=ke(x,w)}function Qe(x,w){this.name="BulkError",this.failures=Object.keys(w).map(function(j){return w[j]}),this.failuresByPos=w,this.message=ke(x,this.failures)}_(Pe).from(Error).extend({toString:function(){return this.name+": "+this.message}}),_(Ee).from(Pe),_(Qe).from(Pe);var Ve=Ce.reduce(function(x,w){return x[w]=w+"Error",x},{}),bt=Pe,ze=Ce.reduce(function(x,w){var j=w+"Error";function N(R,L){this.name=j,R?typeof R=="string"?(this.message="".concat(R).concat(L?`
 `+L:""),this.inner=L||null):typeof R=="object"&&(this.message="".concat(R.name," ").concat(R.message),this.inner=R):(this.message=H[w]||j,this.inner=null)}return _(N).from(bt),x[w]=N,x},{}),pr=(ze.Syntax=SyntaxError,ze.Type=TypeError,ze.Range=RangeError,ge.reduce(function(x,w){return x[w+"Error"]=ze[w],x},{}));ge=Ce.reduce(function(x,w){return["Syntax","Type","Range"].indexOf(w)===-1&&(x[w+"Error"]=ze[w]),x},{});function ft(){}function sn(x){return x}function Yn(x,w){return x==null||x===sn?w:function(j){return w(x(j))}}function Hn(x,w){return function(){x.apply(this,arguments),w.apply(this,arguments)}}function Vr(x,w){return x===ft?w:function(){var j=x.apply(this,arguments),N=(j!==void 0&&(arguments[0]=j),this.onsuccess),R=this.onerror,L=(this.onsuccess=null,this.onerror=null,w.apply(this,arguments));return N&&(this.onsuccess=this.onsuccess?Hn(N,this.onsuccess):N),R&&(this.onerror=this.onerror?Hn(R,this.onerror):R),L!==void 0?L:j}}function Is(x,w){return x===ft?w:function(){x.apply(this,arguments);var j=this.onsuccess,N=this.onerror;this.onsuccess=this.onerror=null,w.apply(this,arguments),j&&(this.onsuccess=this.onsuccess?Hn(j,this.onsuccess):j),N&&(this.onerror=this.onerror?Hn(N,this.onerror):N)}}function Ha(x,w){return x===ft?w:function(R){var N=x.apply(this,arguments),R=(u(R,N),this.onsuccess),L=this.onerror,z=(this.onsuccess=null,this.onerror=null,w.apply(this,arguments));return R&&(this.onsuccess=this.onsuccess?Hn(R,this.onsuccess):R),L&&(this.onerror=this.onerror?Hn(L,this.onerror):L),N===void 0?z===void 0?void 0:z:u(N,z)}}function rs(x,w){return x===ft?w:function(){return w.apply(this,arguments)!==!1&&x.apply(this,arguments)}}function ti(x,w){return x===ft?w:function(){var j=x.apply(this,arguments);if(j&&typeof j.then=="function"){for(var N=this,R=arguments.length,L=new Array(R);R--;)L[R]=arguments[R];return j.then(function(){return w.apply(N,L)})}return w.apply(this,arguments)}}ge.ModifyError=Ee,ge.DexieError=Pe,ge.BulkError=Qe;var Vn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ls(x){Vn=x}var Li={},qr=100,Or=typeof Promise>"u"?[]:(Ce=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[Or=crypto.subtle.digest("SHA-512",new Uint8Array([0])),d(Or),Ce]:[Ce,d(Ce),Ce]),Ce=Or[0],ca=Or[1],ca=ca&&ca.then,Le=Ce&&Ce.constructor,st=!!Or[2],pt=function(x,w){sr.push([x,w]),_n&&(queueMicrotask(ra),_n=!1)},At=!0,_n=!0,qn=[],rr=[],An=sn,ir={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ft,pgp:!1,env:{},finalize:ft},qe=ir,sr=[],Nn=0,is=[];function He(x){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var w=this._PSD=qe;if(typeof x!="function"){if(x!==Li)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&Va(this,this._value)}else this._state=null,this._value=null,++w.ref,(function j(N,R){try{R(function(L){if(N._state===null){if(L===N)throw new TypeError("A promise cannot be resolved with itself.");var z=N._lib&&Wr();L&&typeof L.then=="function"?j(N,function(q,oe){L instanceof He?L._then(q,oe):L.then(q,oe)}):(N._state=!0,N._value=L,qa(N)),z&&Di()}},Va.bind(null,N))}catch(L){Va(N,L)}})(this,x)}var _i={get:function(){var x=qe,w=tt;function j(N,R){var L=this,z=!x.global&&(x!==qe||w!==tt),q=z&&!Je(),oe=new He(function(he,re){Wa(L,new Si(Sn(N,x,z,q),Sn(R,x,z,q),he,re,x))});return this._consoleTask&&(oe._consoleTask=this._consoleTask),oe}return j.prototype=Li,j},set:function(x){b(this,"then",x&&x.prototype===Li?_i:{get:function(){return x},set:_i.set})}};function Si(x,w,j,N,R){this.onFulfilled=typeof x=="function"?x:null,this.onRejected=typeof w=="function"?w:null,this.resolve=j,this.reject=N,this.psd=R}function Va(x,w){var j,N;rr.push(w),x._state===null&&(j=x._lib&&Wr(),w=An(w),x._state=!1,x._value=w,N=x,qn.some(function(R){return R._value===N._value})||qn.push(N),qa(x),j)&&Di()}function qa(x){var w=x._listeners;x._listeners=[];for(var j=0,N=w.length;j<N;++j)Wa(x,w[j]);var R=x._PSD;--R.ref||R.finalize(),Nn===0&&(++Nn,pt(function(){--Nn==0&&ss()},[]))}function Wa(x,w){if(x._state===null)x._listeners.push(w);else{var j=x._state?w.onFulfilled:w.onRejected;if(j===null)return(x._state?w.resolve:w.reject)(x._value);++w.psd.ref,++Nn,pt(Go,[j,x,w])}}function Go(x,w,j){try{var N,R=w._value;!w._state&&rr.length&&(rr=[]),N=Vn&&w._consoleTask?w._consoleTask.run(function(){return x(R)}):x(R),w._state||rr.indexOf(R)!==-1||(L=>{for(var z=qn.length;z;)if(qn[--z]._value===L._value)return qn.splice(z,1)})(w),j.resolve(N)}catch(L){j.reject(L)}finally{--Nn==0&&ss(),--j.psd.ref||j.psd.finalize()}}function ra(){ln(ir,function(){Wr()&&Di()})}function Wr(){var x=At;return _n=At=!1,x}function Di(){var x,w,j;do for(;0<sr.length;)for(x=sr,sr=[],j=x.length,w=0;w<j;++w){var N=x[w];N[0].apply(null,N[1])}while(0<sr.length);_n=At=!0}function ss(){for(var x=qn,w=(qn=[],x.forEach(function(N){N._PSD.onunhandled.call(null,N._value,N)}),is.slice(0)),j=w.length;j;)w[--j]()}function Ds(x){return new He(Li,!1,x)}function Q(x,w){var j=qe;return function(){var N=Wr(),R=qe;try{return kt(j,!0),x.apply(this,arguments)}catch(L){w&&w(L)}finally{kt(R,!1),N&&Di()}}}g(He.prototype,{then:_i,_then:function(x,w){Wa(this,new Si(null,null,x,w,qe))},catch:function(x){var w,j;return arguments.length===1?this.then(null,x):(w=x,j=arguments[1],typeof w=="function"?this.then(null,function(N){return(N instanceof w?j:Ds)(N)}):this.then(null,function(N){return(N&&N.name===w?j:Ds)(N)}))},finally:function(x){return this.then(function(w){return He.resolve(x()).then(function(){return w})},function(w){return He.resolve(x()).then(function(){return Ds(w)})})},timeout:function(x,w){var j=this;return x<1/0?new He(function(N,R){var L=setTimeout(function(){return R(new ze.Timeout(w))},x);j.then(N,R).finally(clearTimeout.bind(null,L))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&b(He.prototype,Symbol.toStringTag,"Dexie.Promise"),ir.env=Dt(),g(He,{all:function(){var x=M.apply(null,arguments).map(dt);return new He(function(w,j){x.length===0&&w([]);var N=x.length;x.forEach(function(R,L){return He.resolve(R).then(function(z){x[L]=z,--N||w(x)},j)})})},resolve:function(x){return x instanceof He?x:x&&typeof x.then=="function"?new He(function(w,j){x.then(w,j)}):new He(Li,!0,x)},reject:Ds,race:function(){var x=M.apply(null,arguments).map(dt);return new He(function(w,j){x.map(function(N){return He.resolve(N).then(w,j)})})},PSD:{get:function(){return qe},set:function(x){return qe=x}},totalEchoes:{get:function(){return tt}},newPSD:Ye,usePSD:ln,scheduler:{get:function(){return pt},set:function(x){pt=x}},rejectionMapper:{get:function(){return An},set:function(x){An=x}},follow:function(x,w){return new He(function(j,N){return Ye(function(R,L){var z=qe;z.unhandleds=[],z.onunhandled=L,z.finalize=Hn(function(){var q,oe=this;q=function(){oe.unhandleds.length===0?R():L(oe.unhandleds[0])},is.push(function he(){q(),is.splice(is.indexOf(he),1)}),++Nn,pt(function(){--Nn==0&&ss()},[])},z.finalize),x()},w,j,N)})}}),Le&&(Le.allSettled&&b(He,"allSettled",function(){var x=M.apply(null,arguments).map(dt);return new He(function(w){x.length===0&&w([]);var j=x.length,N=new Array(j);x.forEach(function(R,L){return He.resolve(R).then(function(z){return N[L]={status:"fulfilled",value:z}},function(z){return N[L]={status:"rejected",reason:z}}).then(function(){return--j||w(N)})})})}),Le.any&&typeof AggregateError<"u"&&b(He,"any",function(){var x=M.apply(null,arguments).map(dt);return new He(function(w,j){x.length===0&&j(new AggregateError([]));var N=x.length,R=new Array(N);x.forEach(function(L,z){return He.resolve(L).then(function(q){return w(q)},function(q){R[z]=q,--N||j(new AggregateError(R))})})})}),Le.withResolvers)&&(He.withResolvers=Le.withResolvers);var ce={awaits:0,echoes:0,id:0},_e=0,Te=[],De=0,tt=0,Ze=0;function Ye(x,z,j,N){var R=qe,L=Object.create(R),z=(L.parent=R,L.ref=0,L.global=!1,L.id=++Ze,ir.env,L.env=st?{Promise:He,PromiseProp:{value:He,configurable:!0,writable:!0},all:He.all,race:He.race,allSettled:He.allSettled,any:He.any,resolve:He.resolve,reject:He.reject}:{},z&&u(L,z),++R.ref,L.finalize=function(){--this.parent.ref||this.parent.finalize()},ln(L,x,j,N));return L.ref===0&&L.finalize(),z}function nt(){return ce.id||(ce.id=++_e),++ce.awaits,ce.echoes+=qr,ce.id}function Je(){return!!ce.awaits&&(--ce.awaits==0&&(ce.id=0),ce.echoes=ce.awaits*qr,!0)}function dt(x){return ce.echoes&&x&&x.constructor===Le?(nt(),x.then(function(w){return Je(),w},function(w){return Je(),gt(w)})):x}function ot(){var x=Te[Te.length-1];Te.pop(),kt(x,!1)}function kt(x,w){var j,N,R=qe;(w?!ce.echoes||De++&&x===qe:!De||--De&&x===qe)||queueMicrotask(w?(function(L){++tt,ce.echoes&&--ce.echoes!=0||(ce.echoes=ce.awaits=ce.id=0),Te.push(qe),kt(L,!0)}).bind(null,x):ot),x!==qe&&(qe=x,R===ir&&(ir.env=Dt()),st)&&(j=ir.env.Promise,N=x.env,R.global||x.global)&&(Object.defineProperty(s,"Promise",N.PromiseProp),j.all=N.all,j.race=N.race,j.resolve=N.resolve,j.reject=N.reject,N.allSettled&&(j.allSettled=N.allSettled),N.any)&&(j.any=N.any)}function Dt(){var x=s.Promise;return st?{Promise:x,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:x.all,race:x.race,allSettled:x.allSettled,any:x.any,resolve:x.resolve,reject:x.reject}:{}}function ln(x,w,j,N,R){var L=qe;try{return kt(x,!0),w(j,N,R)}finally{kt(L,!1)}}function Sn(x,w,j,N){return typeof x!="function"?x:function(){var R=qe;j&&nt(),kt(w,!0);try{return x.apply(this,arguments)}finally{kt(R,!1),N&&queueMicrotask(Je)}}}function In(x){Promise===Le&&ce.echoes===0?De===0?x():enqueueNativeMicroTask(x):setTimeout(x,0)}(""+ca).indexOf("[native code]")===-1&&(nt=Je=ft);var gt=He.reject,Ln="",Lt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ms="String expected.",ar=[],mr="__dbnames",Mi="readonly",as="readwrite";function gr(x,w){return x?w?function(){return x.apply(this,arguments)&&w.apply(this,arguments)}:x:w}var Fi={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Jn(x){return typeof x!="string"||/\./.test(x)?function(w){return w}:function(w){return w[x]===void 0&&x in w&&delete(w=xe(w))[x],w}}function Mt(){throw ze.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function rt(x,w){try{var j=os(x),N=os(w);if(j!==N)return j==="Array"?1:N==="Array"?-1:j==="binary"?1:N==="binary"?-1:j==="string"?1:N==="string"?-1:j==="Date"?1:N!=="Date"?NaN:-1;switch(j){case"number":case"Date":case"string":return w<x?1:x<w?-1:0;case"binary":for(var R=Bi(x),L=Bi(w),z=R.length,q=L.length,oe=z<q?z:q,he=0;he<oe;++he)if(R[he]!==L[he])return R[he]<L[he]?-1:1;return z===q?0:z<q?-1:1;case"Array":for(var re=x,te=w,le=re.length,ue=te.length,ae=le<ue?le:ue,ie=0;ie<ae;++ie){var ve=rt(re[ie],te[ie]);if(ve!==0)return ve}return le===ue?0:le<ue?-1:1}}catch{}return NaN}function os(x){var w=typeof x;return w=="object"&&(ArrayBuffer.isView(x)||(w=$(x))==="ArrayBuffer")?"binary":w}function Bi(x){return x instanceof Uint8Array?x:ArrayBuffer.isView(x)?new Uint8Array(x.buffer,x.byteOffset,x.byteLength):new Uint8Array(x)}function an(x,w,j){var N=x.schema.yProps;return N?(w&&0<j.numFailures&&(w=w.filter(function(R,L){return!j.failures[L]})),Promise.all(N.map(function(R){return R=R.updatesTable,w?x.db.table(R).where("k").anyOf(w).delete():x.db.table(R).clear()})).then(function(){return j})):j}Fs.prototype.execute=function(x){var w=this["@@propmod"];if(w.add!==void 0){var j=w.add;if(o(j))return i(i([],o(x)?x:[],!0),j).sort();if(typeof j=="number")return(Number(x)||0)+j;if(typeof j=="bigint")try{return BigInt(x)+j}catch{return BigInt(0)+j}throw new TypeError("Invalid term ".concat(j))}if(w.remove!==void 0){var N=w.remove;if(o(N))return o(x)?x.filter(function(R){return!N.includes(R)}).sort():[];if(typeof N=="number")return Number(x)-N;if(typeof N=="bigint")try{return BigInt(x)-N}catch{return BigInt(0)-N}throw new TypeError("Invalid subtrahend ".concat(N))}return j=(j=w.replacePrefix)==null?void 0:j[0],j&&typeof x=="string"&&x.startsWith(j)?w.replacePrefix[1]+x.substring(j.length):x};var Qr=Fs;function Fs(x){this["@@propmod"]=x}function Bs(x,w){for(var j=a(w),N=j.length,R=!1,L=0;L<N;++L){var z=j[L],q=w[z],oe=I(x,z);q instanceof Qr?(O(x,z,q.execute(oe)),R=!0):oe!==q&&(O(x,z,q),R=!0)}return R}un.prototype._trans=function(x,w,j){var N=this._tx||qe.trans,R=this.name,L=Vn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(x==="readonly"?"read":"write"," ").concat(this.name));function z(he,re,te){if(te.schema[R])return w(te.idbtrans,te);throw new ze.NotFound("Table "+R+" not part of transaction")}var q=Wr();try{var oe=N&&N.db._novip===this.db._novip?N===qe.trans?N._promise(x,z,j):Ye(function(){return N._promise(x,z,j)},{trans:N,transless:qe.transless||qe}):(function he(re,te,le,ue){if(re.idbdb&&(re._state.openComplete||qe.letThrough||re._vip)){var ae=re._createTransaction(te,le,re._dbSchema);try{ae.create(),re._state.PR1398_maxLoop=3}catch(ie){return ie.name===Ve.InvalidState&&re.isOpen()&&0<--re._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),re.close({disableAutoOpen:!1}),re.open().then(function(){return he(re,te,le,ue)})):gt(ie)}return ae._promise(te,function(ie,ve){return Ye(function(){return qe.trans=ae,ue(ie,ve,ae)})}).then(function(ie){if(te==="readwrite")try{ae.idbtrans.commit()}catch{}return te==="readonly"?ie:ae._completion.then(function(){return ie})})}if(re._state.openComplete)return gt(new ze.DatabaseClosed(re._state.dbOpenError));if(!re._state.isBeingOpened){if(!re._state.autoOpen)return gt(new ze.DatabaseClosed);re.open().catch(ft)}return re._state.dbReadyPromise.then(function(){return he(re,te,le,ue)})})(this.db,x,[this.name],z);return L&&(oe._consoleTask=L,oe=oe.catch(function(he){return console.trace(he),gt(he)})),oe}finally{q&&Di()}},un.prototype.get=function(x,w){var j=this;return x&&x.constructor===Object?this.where(x).first(w):x==null?gt(new ze.Type("Invalid argument to Table.get()")):this._trans("readonly",function(N){return j.core.get({trans:N,key:x}).then(function(R){return j.hook.reading.fire(R)})}).then(w)},un.prototype.where=function(x){if(typeof x=="string")return new this.db.WhereClause(this,x);if(o(x))return new this.db.WhereClause(this,"[".concat(x.join("+"),"]"));var w=a(x);if(w.length===1)return this.where(w[0]).equals(x[w[0]]);var j=this.schema.indexes.concat(this.schema.primKey).filter(function(q){if(q.compound&&w.every(function(he){return 0<=q.keyPath.indexOf(he)})){for(var oe=0;oe<w.length;++oe)if(w.indexOf(q.keyPath[oe])===-1)return!1;return!0}return!1}).sort(function(q,oe){return q.keyPath.length-oe.keyPath.length})[0];if(j&&this.db._maxKey!==Ln)return z=j.keyPath.slice(0,w.length),this.where(z).equals(z.map(function(q){return x[q]}));!j&&Vn&&console.warn("The query ".concat(JSON.stringify(x)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(w.join("+"),"]"));var N=this.schema.idxByName;function R(q,oe){return rt(q,oe)===0}var z=w.reduce(function(re,oe){var he=re[0],re=re[1],te=N[oe],le=x[oe];return[he||te,he||!te?gr(re,te&&te.multi?function(ue){return ue=I(ue,oe),o(ue)&&ue.some(function(ae){return R(le,ae)})}:function(ue){return R(le,I(ue,oe))}):re]},[null,null]),L=z[0],z=z[1];return L?this.where(L.name).equals(x[L.keyPath]).filter(z):j?this.filter(z):this.where(w).equals("")},un.prototype.filter=function(x){return this.toCollection().and(x)},un.prototype.count=function(x){return this.toCollection().count(x)},un.prototype.offset=function(x){return this.toCollection().offset(x)},un.prototype.limit=function(x){return this.toCollection().limit(x)},un.prototype.each=function(x){return this.toCollection().each(x)},un.prototype.toArray=function(x){return this.toCollection().toArray(x)},un.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},un.prototype.orderBy=function(x){return new this.db.Collection(new this.db.WhereClause(this,o(x)?"[".concat(x.join("+"),"]"):x))},un.prototype.reverse=function(){return this.toCollection().reverse()},un.prototype.mapToClass=function(x){for(var w=this.db,j=this.name,N=((this.schema.mappedClass=x).prototype instanceof Mt&&(x=(z=>{var q=re,oe=z;if(typeof oe!="function"&&oe!==null)throw new TypeError("Class extends value "+String(oe)+" is not a constructor or null");function he(){this.constructor=q}function re(){return z!==null&&z.apply(this,arguments)||this}return n(q,oe),q.prototype=oe===null?Object.create(oe):(he.prototype=oe.prototype,new he),Object.defineProperty(re.prototype,"db",{get:function(){return w},enumerable:!1,configurable:!0}),re.prototype.table=function(){return j},re})(x)),new Set),R=x.prototype;R;R=d(R))Object.getOwnPropertyNames(R).forEach(function(z){return N.add(z)});function L(z){if(!z)return z;var q,oe=Object.create(x.prototype);for(q in z)if(!N.has(q))try{oe[q]=z[q]}catch{}return oe}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=L,this.hook("reading",L),x},un.prototype.defineClass=function(){return this.mapToClass(function(x){u(this,x)})},un.prototype.add=function(x,w){var j=this,N=this.schema.primKey,R=N.auto,L=N.keyPath,z=x;return L&&R&&(z=Jn(L)(x)),this._trans("readwrite",function(q){return j.core.mutate({trans:q,type:"add",keys:w!=null?[w]:null,values:[z]})}).then(function(q){return q.numFailures?He.reject(q.failures[0]):q.lastResult}).then(function(q){if(L)try{O(x,L,q)}catch{}return q})},un.prototype.upsert=function(x,w){var j=this,N=this.schema.primKey.keyPath;return this._trans("readwrite",function(R){return j.core.get({trans:R,key:x}).then(function(L){var z=L??{};return Bs(z,w),N&&O(z,N,x),j.core.mutate({trans:R,type:"put",values:[z],keys:[x],upsert:!0,updates:{keys:[x],changeSpecs:[w]}}).then(function(q){return q.numFailures?He.reject(q.failures[0]):!!L})})})},un.prototype.update=function(x,w){return typeof x!="object"||o(x)?this.where(":id").equals(x).modify(w):(x=I(x,this.schema.primKey.keyPath))===void 0?gt(new ze.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(x).modify(w)},un.prototype.put=function(x,w){var j=this,N=this.schema.primKey,R=N.auto,L=N.keyPath,z=x;return L&&R&&(z=Jn(L)(x)),this._trans("readwrite",function(q){return j.core.mutate({trans:q,type:"put",values:[z],keys:w!=null?[w]:null})}).then(function(q){return q.numFailures?He.reject(q.failures[0]):q.lastResult}).then(function(q){if(L)try{O(x,L,q)}catch{}return q})},un.prototype.delete=function(x){var w=this;return this._trans("readwrite",function(j){return w.core.mutate({trans:j,type:"delete",keys:[x]}).then(function(N){return an(w,[x],N)}).then(function(N){return N.numFailures?He.reject(N.failures[0]):void 0})})},un.prototype.clear=function(){var x=this;return this._trans("readwrite",function(w){return x.core.mutate({trans:w,type:"deleteRange",range:Fi}).then(function(j){return an(x,null,j)})}).then(function(w){return w.numFailures?He.reject(w.failures[0]):void 0})},un.prototype.bulkGet=function(x){var w=this;return this._trans("readonly",function(j){return w.core.getMany({keys:x,trans:j}).then(function(N){return N.map(function(R){return w.hook.reading.fire(R)})})})},un.prototype.bulkAdd=function(x,w,j){var N=this,R=Array.isArray(w)?w:void 0,L=(j=j||(R?void 0:w))?j.allKeys:void 0;return this._trans("readwrite",function(z){var q=N.schema.primKey,he=q.auto,q=q.keyPath;if(q&&R)throw new ze.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(R&&R.length!==x.length)throw new ze.InvalidArgument("Arguments objects and keys must have the same length");var oe=x.length,he=q&&he?x.map(Jn(q)):x;return N.core.mutate({trans:z,type:"add",keys:R,values:he,wantResults:L}).then(function(re){var te=re.numFailures,le=re.failures;if(te===0)return L?re.results:re.lastResult;throw new Qe("".concat(N.name,".bulkAdd(): ").concat(te," of ").concat(oe," operations failed"),le)})})},un.prototype.bulkPut=function(x,w,j){var N=this,R=Array.isArray(w)?w:void 0,L=(j=j||(R?void 0:w))?j.allKeys:void 0;return this._trans("readwrite",function(z){var q=N.schema.primKey,he=q.auto,q=q.keyPath;if(q&&R)throw new ze.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(R&&R.length!==x.length)throw new ze.InvalidArgument("Arguments objects and keys must have the same length");var oe=x.length,he=q&&he?x.map(Jn(q)):x;return N.core.mutate({trans:z,type:"put",keys:R,values:he,wantResults:L}).then(function(re){var te=re.numFailures,le=re.failures;if(te===0)return L?re.results:re.lastResult;throw new Qe("".concat(N.name,".bulkPut(): ").concat(te," of ").concat(oe," operations failed"),le)})})},un.prototype.bulkUpdate=function(x){var w=this,j=this.core,N=x.map(function(z){return z.key}),R=x.map(function(z){return z.changes}),L=[];return this._trans("readwrite",function(z){return j.getMany({trans:z,keys:N,cache:"clone"}).then(function(q){var oe=[],he=[],re=(x.forEach(function(te,le){var ue=te.key,ae=te.changes,ie=q[le];if(ie){for(var ve=0,we=Object.keys(ae);ve<we.length;ve++){var me=we[ve],je=ae[me];if(me===w.schema.primKey.keyPath){if(rt(je,ue)!==0)throw new ze.Constraint("Cannot update primary key in bulkUpdate()")}else O(ie,me,je)}L.push(le),oe.push(ue),he.push(ie)}}),oe.length);return j.mutate({trans:z,type:"put",keys:oe,values:he,updates:{keys:N,changeSpecs:R}}).then(function(te){var le=te.numFailures,ue=te.failures;if(le===0)return re;for(var ae=0,ie=Object.keys(ue);ae<ie.length;ae++){var ve,we=ie[ae],me=L[Number(we)];me!=null&&(ve=ue[we],delete ue[we],ue[me]=ve)}throw new Qe("".concat(w.name,".bulkUpdate(): ").concat(le," of ").concat(re," operations failed"),ue)})})})},un.prototype.bulkDelete=function(x){var w=this,j=x.length;return this._trans("readwrite",function(N){return w.core.mutate({trans:N,type:"delete",keys:x}).then(function(R){return an(w,x,R)})}).then(function(N){var R=N.numFailures,L=N.failures;if(R===0)return N.lastResult;throw new Qe("".concat(w.name,".bulkDelete(): ").concat(R," of ").concat(j," operations failed"),L)})};var Yo=un;function un(){}function Jo(x){function w(z,q){if(q){for(var oe=arguments.length,he=new Array(oe-1);--oe;)he[oe-1]=arguments[oe];return j[z].subscribe.apply(null,he),x}if(typeof z=="string")return j[z]}var j={};w.addEventType=L;for(var N=1,R=arguments.length;N<R;++N)L(arguments[N]);return w;function L(z,q,oe){var he,re;if(typeof z!="object")return q=q||rs,re={subscribers:[],fire:oe=oe||ft,subscribe:function(te){re.subscribers.indexOf(te)===-1&&(re.subscribers.push(te),re.fire=q(re.fire,te))},unsubscribe:function(te){re.subscribers=re.subscribers.filter(function(le){return le!==te}),re.fire=re.subscribers.reduce(q,oe)}},j[z]=w[z]=re;a(he=z).forEach(function(te){var le=he[te];if(o(le))L(te,he[te][0],he[te][1]);else{if(le!=="asap")throw new ze.InvalidArgument("Invalid event config");var ue=L(te,sn,function(){for(var ae=arguments.length,ie=new Array(ae);ae--;)ie[ae]=arguments[ae];ue.subscribers.forEach(function(ve){V(function(){ve.apply(null,ie)})})})}})}}function ia(x,w){return _(w).from({prototype:x}),w}function sa(x,w){return!(x.filter||x.algorithm||x.or)&&(w?x.justLimit:!x.replayFilter)}function Xo(x,w){x.filter=gr(x.filter,w)}function aa(x,w,j){var N=x.replayFilter;x.replayFilter=N?function(){return gr(N(),w())}:w,x.justLimit=j&&!N}function su(x,w){if(x.isPrimKey)return w.primaryKey;var j=w.getIndexByKeyPath(x.index);if(j)return j;throw new ze.Schema("KeyPath "+x.index+" on object store "+w.name+" is not indexed")}function au(x,w,j){var N=su(x,w.schema);return w.openCursor({trans:j,values:!x.keysOnly,reverse:x.dir==="prev",unique:!!x.unique,query:{index:N,range:x.range}})}function Qt(x,w,j,N){var R,L,z=x.replayFilter?gr(x.filter,x.replayFilter()):x.filter;return x.or?(R={},L=function(q,oe,he){var re,te;z&&!z(oe,he,function(le){return oe.stop(le)},function(le){return oe.fail(le)})||((te=""+(re=oe.primaryKey))=="[object ArrayBuffer]"&&(te=""+new Uint8Array(re)),p(R,te))||(R[te]=!0,w(q,oe,he))},Promise.all([x.or._iterate(L,j),Mc(au(x,N,j),x.algorithm,L,!x.keysOnly&&x.valueMapper)])):Mc(au(x,N,j),gr(x.algorithm,z),w,!x.keysOnly&&x.valueMapper)}function Mc(x,w,j,N){var R=Q(N?function(L,z,q){return j(N(L),z,q)}:j);return x.then(function(L){if(L)return L.start(function(){var z=function(){return L.continue()};w&&!w(L,function(q){return z=q},function(q){L.stop(q),z=ft},function(q){L.fail(q),z=ft})||R(L.value,L,function(q){return z=q}),z()})})}Vt.prototype._read=function(x,w){var j=this._ctx;return j.error?j.table._trans(null,gt.bind(null,j.error)):j.table._trans("readonly",x).then(w)},Vt.prototype._write=function(x){var w=this._ctx;return w.error?w.table._trans(null,gt.bind(null,w.error)):w.table._trans("readwrite",x,"locked")},Vt.prototype._addAlgorithm=function(x){var w=this._ctx;w.algorithm=gr(w.algorithm,x)},Vt.prototype._iterate=function(x,w){return Qt(this._ctx,x,w,this._ctx.table.core)},Vt.prototype.clone=function(x){var w=Object.create(this.constructor.prototype),j=Object.create(this._ctx);return x&&u(j,x),w._ctx=j,w},Vt.prototype.raw=function(){return this._ctx.valueMapper=null,this},Vt.prototype.each=function(x){var w=this._ctx;return this._read(function(j){return Qt(w,x,j,w.table.core)})},Vt.prototype.count=function(x){var w=this;return this._read(function(j){var N,R=w._ctx,L=R.table.core;return sa(R,!0)?L.count({trans:j,query:{index:su(R,L.schema),range:R.range}}).then(function(z){return Math.min(z,R.limit)}):(N=0,Qt(R,function(){return++N,!1},j,L).then(function(){return N}))}).then(x)},Vt.prototype.sortBy=function(x,w){var j=x.split(".").reverse(),N=j[0],R=j.length-1;function L(oe,he){return he?L(oe[j[he]],he-1):oe[N]}var z=this._ctx.dir==="next"?1:-1;function q(oe,he){return rt(L(oe,R),L(he,R))*z}return this.toArray(function(oe){return oe.sort(q)}).then(w)},Vt.prototype.toArray=function(x){var w=this;return this._read(function(j){var N,R,L,z=w._ctx;return z.dir==="next"&&sa(z,!0)&&0<z.limit?(N=z.valueMapper,R=su(z,z.table.core.schema),z.table.core.query({trans:j,limit:z.limit,values:!0,query:{index:R,range:z.range}}).then(function(q){return q=q.result,N?q.map(N):q})):(L=[],Qt(z,function(q){return L.push(q)},j,z.table.core).then(function(){return L}))},x)},Vt.prototype.offset=function(x){var w=this._ctx;return x<=0||(w.offset+=x,sa(w)?aa(w,function(){var j=x;return function(N,R){return j===0||(j===1?--j:R(function(){N.advance(j),j=0}),!1)}}):aa(w,function(){var j=x;return function(){return--j<0}})),this},Vt.prototype.limit=function(x){return this._ctx.limit=Math.min(this._ctx.limit,x),aa(this._ctx,function(){var w=x;return function(j,N,R){return--w<=0&&N(R),0<=w}},!0),this},Vt.prototype.until=function(x,w){return Xo(this._ctx,function(j,N,R){return!x(j.value)||(N(R),w)}),this},Vt.prototype.first=function(x){return this.limit(1).toArray(function(w){return w[0]}).then(x)},Vt.prototype.last=function(x){return this.reverse().first(x)},Vt.prototype.filter=function(x){var w;return Xo(this._ctx,function(j){return x(j.value)}),(w=this._ctx).isMatch=gr(w.isMatch,x),this},Vt.prototype.and=function(x){return this.filter(x)},Vt.prototype.or=function(x){return new this.db.WhereClause(this._ctx.table,x,this)},Vt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Vt.prototype.desc=function(){return this.reverse()},Vt.prototype.eachKey=function(x){var w=this._ctx;return w.keysOnly=!w.isMatch,this.each(function(j,N){x(N.key,N)})},Vt.prototype.eachUniqueKey=function(x){return this._ctx.unique="unique",this.eachKey(x)},Vt.prototype.eachPrimaryKey=function(x){var w=this._ctx;return w.keysOnly=!w.isMatch,this.each(function(j,N){x(N.primaryKey,N)})},Vt.prototype.keys=function(x){var w=this._ctx,j=(w.keysOnly=!w.isMatch,[]);return this.each(function(N,R){j.push(R.key)}).then(function(){return j}).then(x)},Vt.prototype.primaryKeys=function(x){var w=this._ctx;if(w.dir==="next"&&sa(w,!0)&&0<w.limit)return this._read(function(N){var R=su(w,w.table.core.schema);return w.table.core.query({trans:N,values:!1,limit:w.limit,query:{index:R,range:w.range}})}).then(function(N){return N.result}).then(x);w.keysOnly=!w.isMatch;var j=[];return this.each(function(N,R){j.push(R.primaryKey)}).then(function(){return j}).then(x)},Vt.prototype.uniqueKeys=function(x){return this._ctx.unique="unique",this.keys(x)},Vt.prototype.firstKey=function(x){return this.limit(1).keys(function(w){return w[0]}).then(x)},Vt.prototype.lastKey=function(x){return this.reverse().firstKey(x)},Vt.prototype.distinct=function(){var x,w=this._ctx,w=w.index&&w.table.schema.idxByName[w.index];return w&&w.multi&&(x={},Xo(this._ctx,function(N){var N=N.primaryKey.toString(),R=p(x,N);return x[N]=!0,!R})),this},Vt.prototype.modify=function(x){var w=this,j=this._ctx;return this._write(function(N){function R(ie,ve){var we=ve.failures;le+=ie-ve.numFailures;for(var me=0,je=a(we);me<je.length;me++){var Ne=je[me];te.push(we[Ne])}}var L=typeof x=="function"?x:function(ie){return Bs(ie,x)},z=j.table.core,re=z.schema.primaryKey,q=re.outbound,oe=re.extractKey,he=200,re=w.db._options.modifyChunkSize,te=(re&&(he=typeof re=="object"?re[z.name]||re["*"]||200:re),[]),le=0,ue=[],ae=x===Fc;return w.clone().primaryKeys().then(function(ie){function ve(me){var je=Math.min(he,ie.length-me),Ne=ie.slice(me,me+je);return(ae?Promise.resolve([]):z.getMany({trans:N,keys:Ne,cache:"immutable"})).then(function(Ue){var $e=[],Re=[],Ke=q?[]:null,We=ae?Ne:[];if(!ae)for(var Me=0;Me<je;++Me){var Ge=Ue[Me],zt={value:xe(Ge),primKey:ie[me+Me]};L.call(zt,zt.value,zt)!==!1&&(zt.value==null?We.push(ie[me+Me]):q||rt(oe(Ge),oe(zt.value))===0?(Re.push(zt.value),q&&Ke.push(ie[me+Me])):(We.push(ie[me+Me]),$e.push(zt.value)))}return Promise.resolve(0<$e.length&&z.mutate({trans:N,type:"add",values:$e}).then(function(Wt){for(var ht in Wt.failures)We.splice(parseInt(ht),1);R($e.length,Wt)})).then(function(){return(0<Re.length||we&&typeof x=="object")&&z.mutate({trans:N,type:"put",keys:Ke,values:Re,criteria:we,changeSpec:typeof x!="function"&&x,isAdditionalChunk:0<me}).then(function(Wt){return R(Re.length,Wt)})}).then(function(){return(0<We.length||we&&ae)&&z.mutate({trans:N,type:"delete",keys:We,criteria:we,isAdditionalChunk:0<me}).then(function(Wt){return an(j.table,We,Wt)}).then(function(Wt){return R(We.length,Wt)})}).then(function(){return ie.length>me+je&&ve(me+he)})})}var we=sa(j)&&j.limit===1/0&&(typeof x!="function"||ae)&&{index:j.index,range:j.range};return ve(0).then(function(){if(0<te.length)throw new Ee("Error modifying one or more objects",te,le,ue);return ie.length})})})},Vt.prototype.delete=function(){var x=this._ctx,w=x.range;return!sa(x)||x.table.schema.yProps||!x.isPrimKey&&w.type!==3?this.modify(Fc):this._write(function(j){var N=x.table.core.schema.primaryKey,R=w;return x.table.core.count({trans:j,query:{index:N,range:R}}).then(function(L){return x.table.core.mutate({trans:j,type:"deleteRange",range:R}).then(function(oe){var q=oe.failures,oe=oe.numFailures;if(oe)throw new Ee("Could not delete some values",Object.keys(q).map(function(he){return q[he]}),L-oe);return L-oe})})})};var tf=Vt;function Vt(){}var Fc=function(x,w){return w.value=null};function nf(x,w){return x<w?-1:x===w?0:1}function rf(x,w){return w<x?-1:x===w?0:1}function jr(x,w,j){return x=x instanceof Qa?new x.Collection(x):x,x._ctx.error=new(j||TypeError)(w),x}function ls(x){return new x.Collection(x,function(){return us("")}).limit(0)}function Ci(ue,w,j,N){var R,L,z,q,oe,he,re,te=j.length;if(!j.every(function(ie){return typeof ie=="string"}))return jr(ue,Ms);function le(ie){R=ie==="next"?function(we){return we.toUpperCase()}:function(we){return we.toLowerCase()},L=ie==="next"?function(we){return we.toLowerCase()}:function(we){return we.toUpperCase()},z=ie==="next"?nf:rf;var ve=j.map(function(we){return{lower:L(we),upper:R(we)}}).sort(function(we,me){return z(we.lower,me.lower)});q=ve.map(function(we){return we.upper}),oe=ve.map(function(we){return we.lower}),re=(he=ie)==="next"?"":N}le("next");var ue=new ue.Collection(ue,function(){return kr(q[0],oe[te-1]+N)}),ae=(ue._ondirectionchange=function(ie){le(ie)},0);return ue._addAlgorithm(function(ie,ve,we){var me=ie.key;if(typeof me=="string"){var je=L(me);if(w(je,oe,ae))return!0;for(var Ne=null,Ue=ae;Ue<te;++Ue){var $e=((Re,Ke,We,Me,Ge,zt)=>{for(var Wt=Math.min(Re.length,Me.length),ht=-1,Tt=0;Tt<Wt;++Tt){var dn=Ke[Tt];if(dn!==Me[Tt])return Ge(Re[Tt],We[Tt])<0?Re.substr(0,Tt)+We[Tt]+We.substr(Tt+1):Ge(Re[Tt],Me[Tt])<0?Re.substr(0,Tt)+Me[Tt]+We.substr(Tt+1):0<=ht?Re.substr(0,ht)+Ke[ht]+We.substr(ht+1):null;Ge(Re[Tt],dn)<0&&(ht=Tt)}return Wt<Me.length&&zt==="next"?Re+We.substr(Re.length):Wt<Re.length&&zt==="prev"?Re.substr(0,We.length):ht<0?null:Re.substr(0,ht)+Me[ht]+We.substr(ht+1)})(me,je,q[Ue],oe[Ue],z,he);$e===null&&Ne===null?ae=Ue+1:(Ne===null||0<z(Ne,$e))&&(Ne=$e)}ve(Ne!==null?function(){ie.continue(Ne+re)}:we)}return!1}),ue}function kr(x,w,j,N){return{type:2,lower:x,upper:w,lowerOpen:j,upperOpen:N}}function us(x){return{type:1,lower:x,upper:x}}Object.defineProperty(Cn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Cn.prototype.between=function(x,w,j,N){j=j!==!1,N=N===!0;try{return 0<this._cmp(x,w)||this._cmp(x,w)===0&&(j||N)&&(!j||!N)?ls(this):new this.Collection(this,function(){return kr(x,w,!j,!N)})}catch{return jr(this,Lt)}},Cn.prototype.equals=function(x){return x==null?jr(this,Lt):new this.Collection(this,function(){return us(x)})},Cn.prototype.above=function(x){return x==null?jr(this,Lt):new this.Collection(this,function(){return kr(x,void 0,!0)})},Cn.prototype.aboveOrEqual=function(x){return x==null?jr(this,Lt):new this.Collection(this,function(){return kr(x,void 0,!1)})},Cn.prototype.below=function(x){return x==null?jr(this,Lt):new this.Collection(this,function(){return kr(void 0,x,!1,!0)})},Cn.prototype.belowOrEqual=function(x){return x==null?jr(this,Lt):new this.Collection(this,function(){return kr(void 0,x)})},Cn.prototype.startsWith=function(x){return typeof x!="string"?jr(this,Ms):this.between(x,x+Ln,!0,!0)},Cn.prototype.startsWithIgnoreCase=function(x){return x===""?this.startsWith(x):Ci(this,function(w,j){return w.indexOf(j[0])===0},[x],Ln)},Cn.prototype.equalsIgnoreCase=function(x){return Ci(this,function(w,j){return w===j[0]},[x],"")},Cn.prototype.anyOfIgnoreCase=function(){var x=M.apply(pe,arguments);return x.length===0?ls(this):Ci(this,function(w,j){return j.indexOf(w)!==-1},x,"")},Cn.prototype.startsWithAnyOfIgnoreCase=function(){var x=M.apply(pe,arguments);return x.length===0?ls(this):Ci(this,function(w,j){return j.some(function(N){return w.indexOf(N)===0})},x,Ln)},Cn.prototype.anyOf=function(){var x,w,j=this,N=M.apply(pe,arguments),R=this._cmp;try{N.sort(R)}catch{return jr(this,Lt)}return N.length===0?ls(this):((x=new this.Collection(this,function(){return kr(N[0],N[N.length-1])}))._ondirectionchange=function(L){R=L==="next"?j._ascending:j._descending,N.sort(R)},w=0,x._addAlgorithm(function(L,z,q){for(var oe=L.key;0<R(oe,N[w]);)if(++w===N.length)return z(q),!1;return R(oe,N[w])===0||(z(function(){L.continue(N[w])}),!1)}),x)},Cn.prototype.notEqual=function(x){return this.inAnyRange([[-1/0,x],[x,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Cn.prototype.noneOf=function(){var x=M.apply(pe,arguments);if(x.length===0)return new this.Collection(this);try{x.sort(this._ascending)}catch{return jr(this,Lt)}var w=x.reduce(function(j,N){return j?j.concat([[j[j.length-1][1],N]]):[[-1/0,N]]},null);return w.push([x[x.length-1],this.db._maxKey]),this.inAnyRange(w,{includeLowers:!1,includeUppers:!1})},Cn.prototype.inAnyRange=function(x,we){var j=this,N=this._cmp,R=this._ascending,L=this._descending,z=this._min,q=this._max;if(x.length===0)return ls(this);if(!x.every(function(me){return me[0]!==void 0&&me[1]!==void 0&&R(me[0],me[1])<=0}))return jr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ze.InvalidArgument);var oe=!we||we.includeLowers!==!1,he=we&&we.includeUppers===!0,re,te=R;function le(me,je){return te(me[0],je[0])}try{(re=x.reduce(function(me,je){for(var Ne=0,Ue=me.length;Ne<Ue;++Ne){var $e=me[Ne];if(N(je[0],$e[1])<0&&0<N(je[1],$e[0])){$e[0]=z($e[0],je[0]),$e[1]=q($e[1],je[1]);break}}return Ne===Ue&&me.push(je),me},[])).sort(le)}catch{return jr(this,Lt)}var ue=0,ae=he?function(me){return 0<R(me,re[ue][1])}:function(me){return 0<=R(me,re[ue][1])},ie=oe?function(me){return 0<L(me,re[ue][0])}:function(me){return 0<=L(me,re[ue][0])},ve=ae,we=new this.Collection(this,function(){return kr(re[0][0],re[re.length-1][1],!oe,!he)});return we._ondirectionchange=function(me){te=me==="next"?(ve=ae,R):(ve=ie,L),re.sort(le)},we._addAlgorithm(function(me,je,Ne){for(var Ue,$e=me.key;ve($e);)if(++ue===re.length)return je(Ne),!1;return!ae(Ue=$e)&&!ie(Ue)||(j._cmp($e,re[ue][1])===0||j._cmp($e,re[ue][0])===0||je(function(){te===R?me.continue(re[ue][0]):me.continue(re[ue][1])}),!1)}),we},Cn.prototype.startsWithAnyOf=function(){var x=M.apply(pe,arguments);return x.every(function(w){return typeof w=="string"})?x.length===0?ls(this):this.inAnyRange(x.map(function(w){return[w,w+Ln]})):jr(this,"startsWithAnyOf() only works with strings")};var Qa=Cn;function Cn(){}function or(x){return Q(function(w){return Zo(w),x(w.target.error),!1})}function Zo(x){x.stopPropagation&&x.stopPropagation(),x.preventDefault&&x.preventDefault()}var Ka="storagemutated",oa="x-storagemutated-1",zs=Jo(null,Ka),sf=(Kr.prototype._lock=function(){return U(!qe.global),++this._reculock,this._reculock!==1||qe.global||(qe.lockOwnerFor=this),this},Kr.prototype._unlock=function(){if(U(!qe.global),--this._reculock==0)for(qe.global||(qe.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var x=this._blockedFuncs.shift();try{ln(x[1],x[0])}catch{}}return this},Kr.prototype._locked=function(){return this._reculock&&qe.lockOwnerFor!==this},Kr.prototype.create=function(x){var w=this;if(this.mode){var j=this.db.idbdb,N=this.db._state.dbOpenError;if(U(!this.idbtrans),!x&&!j)switch(N&&N.name){case"DatabaseClosedError":throw new ze.DatabaseClosed(N);case"MissingAPIError":throw new ze.MissingAPI(N.message,N);default:throw new ze.OpenFailed(N)}if(!this.active)throw new ze.TransactionInactive;U(this._completion._state===null),(x=this.idbtrans=x||(this.db.core||j).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Q(function(R){Zo(R),w._reject(x.error)}),x.onabort=Q(function(R){Zo(R),w.active&&w._reject(new ze.Abort(x.error)),w.active=!1,w.on("abort").fire(R)}),x.oncomplete=Q(function(){w.active=!1,w._resolve(),"mutatedParts"in x&&zs.storagemutated.fire(x.mutatedParts)})}return this},Kr.prototype._promise=function(x,w,j){var N,R=this;return x==="readwrite"&&this.mode!=="readwrite"?gt(new ze.ReadOnly("Transaction is readonly")):this.active?this._locked()?new He(function(L,z){R._blockedFuncs.push([function(){R._promise(x,w,j).then(L,z)},qe])}):j?Ye(function(){var L=new He(function(z,q){R._lock();var oe=w(z,q,R);oe&&oe.then&&oe.then(z,q)});return L.finally(function(){return R._unlock()}),L._lib=!0,L}):((N=new He(function(L,z){var q=w(L,z,R);q&&q.then&&q.then(L,z)}))._lib=!0,N):gt(new ze.TransactionInactive)},Kr.prototype._root=function(){return this.parent?this.parent._root():this},Kr.prototype.waitFor=function(x){var w,j=this._root(),N=He.resolve(x),R=(j._waitingFor?j._waitingFor=j._waitingFor.then(function(){return N}):(j._waitingFor=N,j._waitingQueue=[],w=j.idbtrans.objectStore(j.storeNames[0]),(function L(){for(++j._spinCount;j._waitingQueue.length;)j._waitingQueue.shift()();j._waitingFor&&(w.get(-1/0).onsuccess=L)})()),j._waitingFor);return new He(function(L,z){N.then(function(q){return j._waitingQueue.push(Q(L.bind(null,q)))},function(q){return j._waitingQueue.push(Q(z.bind(null,q)))}).finally(function(){j._waitingFor===R&&(j._waitingFor=null)})})},Kr.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ze.Abort))},Kr.prototype.table=function(x){var w=this._memoizedTables||(this._memoizedTables={});if(p(w,x))return w[x];var j=this.schema[x];if(j)return(j=new this.db.Table(x,j,this)).core=this.db.core.table(x),w[x]=j;throw new ze.NotFound("Table "+x+" not part of transaction")},Kr);function Kr(){}function ou(x,w,j,N,R,L,z,q){return{name:x,keyPath:w,unique:j,multi:N,auto:R,compound:L,src:(j&&!z?"&":"")+(N?"*":"")+(R?"++":"")+af(w),type:q}}function af(x){return typeof x=="string"?x:x?"["+[].join.call(x,"+")+"]":""}function la(x,w,j){return{name:x,primKey:w,indexes:j,mappedClass:null,idxByName:(N=function(R){return[R.name,R]},j.reduce(function(R,L,z){return L=N(L,z),L&&(R[L[0]]=L[1]),R},{}))};var N}var cs=function(x){try{return x.only([[]]),cs=function(){return[[]]},[[]]}catch{return cs=function(){return Ln},Ln}};function Us(x){return x==null?function(){}:typeof x=="string"?(w=x).split(".").length===1?function(j){return j[w]}:function(j){return I(j,w)}:function(j){return I(j,x)};var w}function el(x){return[].slice.call(x)}var Hg=0;function tl(x){return x==null?":id":typeof x=="string"?x:"[".concat(x.join("+"),"]")}function Bc(x,w,oe){function N(ae){if(ae.type===3)return null;if(ae.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var te=ae.lower,le=ae.upper,ue=ae.lowerOpen,ae=ae.upperOpen;return te===void 0?le===void 0?null:w.upperBound(le,!!ae):le===void 0?w.lowerBound(te,!!ue):w.bound(te,le,!!ue,!!ae)}function R(re){var te,le=re.name;return{name:le,schema:re,mutate:function(ue){var ae=ue.trans,ie=ue.type,ve=ue.keys,we=ue.values,me=ue.range;return new Promise(function(je,Ne){je=Q(je);var Ue=ae.objectStore(le),$e=Ue.keyPath==null,Re=ie==="put"||ie==="add";if(!Re&&ie!=="delete"&&ie!=="deleteRange")throw new Error("Invalid operation type: "+ie);var Ke,We=(ve||we||{length:1}).length;if(ve&&we&&ve.length!==we.length)throw new Error("Given keys array must have same length as given values array.");if(We===0)return je({numFailures:0,failures:{},results:[],lastResult:void 0});function Me(nn){++Wt,Zo(nn)}var Ge=[],zt=[],Wt=0;if(ie==="deleteRange"){if(me.type===4)return je({numFailures:Wt,failures:zt,results:[],lastResult:void 0});me.type===3?Ge.push(Ke=Ue.clear()):Ge.push(Ke=Ue.delete(N(me)))}else{var $e=Re?$e?[we,ve]:[we,null]:[ve,null],ht=$e[0],Tt=$e[1];if(Re)for(var dn=0;dn<We;++dn)Ge.push(Ke=Tt&&Tt[dn]!==void 0?Ue[ie](ht[dn],Tt[dn]):Ue[ie](ht[dn])),Ke.onerror=Me;else for(dn=0;dn<We;++dn)Ge.push(Ke=Ue[ie](ht[dn])),Ke.onerror=Me}function Gr(nn){nn=nn.target.result,Ge.forEach(function(ms,al){return ms.error!=null&&(zt[al]=ms.error)}),je({numFailures:Wt,failures:zt,results:ie==="delete"?ve:Ge.map(function(ms){return ms.result}),lastResult:nn})}Ke.onerror=function(nn){Me(nn),Gr(nn)},Ke.onsuccess=Gr})},getMany:function(ue){var ae=ue.trans,ie=ue.keys;return new Promise(function(ve,we){ve=Q(ve);for(var me,je=ae.objectStore(le),Ne=ie.length,Ue=new Array(Ne),$e=0,Re=0,Ke=function(Ge){Ge=Ge.target,Ue[Ge._pos]=Ge.result,++Re===$e&&ve(Ue)},We=or(we),Me=0;Me<Ne;++Me)ie[Me]!=null&&((me=je.get(ie[Me]))._pos=Me,me.onsuccess=Ke,me.onerror=We,++$e);$e===0&&ve(Ue)})},get:function(ue){var ae=ue.trans,ie=ue.key;return new Promise(function(ve,we){ve=Q(ve);var me=ae.objectStore(le).get(ie);me.onsuccess=function(je){return ve(je.target.result)},me.onerror=or(we)})},query:(te=q,function(ue){return new Promise(function(ae,ie){ae=Q(ae);var ve,we,me,Re=ue.trans,je=ue.values,Ne=ue.limit,$e=ue.query,Ue=Ne===1/0?void 0:Ne,Ke=$e.index,$e=$e.range,Re=Re.objectStore(le),Re=Ke.isPrimaryKey?Re:Re.index(Ke.name),Ke=N($e);if(Ne===0)return ae({result:[]});te?(($e=je?Re.getAll(Ke,Ue):Re.getAllKeys(Ke,Ue)).onsuccess=function(We){return ae({result:We.target.result})},$e.onerror=or(ie)):(ve=0,we=!je&&"openKeyCursor"in Re?Re.openKeyCursor(Ke):Re.openCursor(Ke),me=[],we.onsuccess=function(We){var Me=we.result;return!Me||(me.push(je?Me.value:Me.primaryKey),++ve===Ne)?ae({result:me}):void Me.continue()},we.onerror=or(ie))})}),openCursor:function(ue){var ae=ue.trans,ie=ue.values,ve=ue.query,we=ue.reverse,me=ue.unique;return new Promise(function(je,Ne){je=Q(je);var Re=ve.index,Ue=ve.range,$e=ae.objectStore(le),$e=Re.isPrimaryKey?$e:$e.index(Re.name),Re=we?me?"prevunique":"prev":me?"nextunique":"next",Ke=!ie&&"openKeyCursor"in $e?$e.openKeyCursor(N(Ue),Re):$e.openCursor(N(Ue),Re);Ke.onerror=or(Ne),Ke.onsuccess=Q(function(We){var Me,Ge,zt,Wt,ht=Ke.result;ht?(ht.___id=++Hg,ht.done=!1,Me=ht.continue.bind(ht),Ge=(Ge=ht.continuePrimaryKey)&&Ge.bind(ht),zt=ht.advance.bind(ht),Wt=function(){throw new Error("Cursor not stopped")},ht.trans=ae,ht.stop=ht.continue=ht.continuePrimaryKey=ht.advance=function(){throw new Error("Cursor not started")},ht.fail=Q(Ne),ht.next=function(){var Tt=this,dn=1;return this.start(function(){return dn--?Tt.continue():Tt.stop()}).then(function(){return Tt})},ht.start=function(Tt){function dn(){if(Ke.result)try{Tt()}catch(nn){ht.fail(nn)}else ht.done=!0,ht.start=function(){throw new Error("Cursor behind last entry")},ht.stop()}var Gr=new Promise(function(nn,ms){nn=Q(nn),Ke.onerror=or(ms),ht.fail=ms,ht.stop=function(al){ht.stop=ht.continue=ht.continuePrimaryKey=ht.advance=Wt,nn(al)}});return Ke.onsuccess=Q(function(nn){Ke.onsuccess=dn,dn()}),ht.continue=Me,ht.continuePrimaryKey=Ge,ht.advance=zt,dn(),Gr},je(ht)):je(null)},Ne)})},count:function(ue){var ae=ue.query,ie=ue.trans,ve=ae.index,we=ae.range;return new Promise(function(me,je){var Ne=ie.objectStore(le),Ne=ve.isPrimaryKey?Ne:Ne.index(ve.name),Ue=N(we),Ue=Ue?Ne.count(Ue):Ne.count();Ue.onsuccess=Q(function($e){return me($e.target.result)}),Ue.onerror=or(je)})}}}L=oe,z=el((oe=x).objectStoreNames);var L,oe={schema:{name:oe.name,tables:z.map(function(re){return L.objectStore(re)}).map(function(re){var te=re.keyPath,le=re.autoIncrement,ae=o(te),ue={},ae={name:re.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:te==null,compound:ae,keyPath:te,autoIncrement:le,unique:!0,extractKey:Us(te)},indexes:el(re.indexNames).map(function(ie){return re.index(ie)}).map(function(me){var je=me.name,ve=me.unique,we=me.multiEntry,me=me.keyPath,je={name:je,compound:o(me),keyPath:me,unique:ve,multiEntry:we,extractKey:Us(me)};return ue[tl(me)]=je}),getIndexByKeyPath:function(ie){return ue[tl(ie)]}};return ue[":id"]=ae.primaryKey,te!=null&&(ue[tl(te)]=ae.primaryKey),ae})},hasGetAll:0<z.length&&"getAll"in L.objectStore(z[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},z=oe.schema,q=oe.hasGetAll,oe=z.tables.map(R),he={};return oe.forEach(function(re){return he[re.name]=re}),{stack:"dbcore",transaction:x.transaction.bind(x),table:function(re){if(he[re])return he[re];throw new Error("Table '".concat(re,"' not found"))},MIN_KEY:-1/0,MAX_KEY:cs(w),schema:z}}function lu(x,w,j,N){return j=j.IDBKeyRange,w=Bc(w,j,N),{dbcore:x.dbcore.reduce(function(R,L){return L=L.create,r(r({},R),L(R))},w)}}function Ga(x,w){var j=w.db,j=lu(x._middlewares,j,x._deps,w);x.core=j.dbcore,x.tables.forEach(function(N){var R=N.name;x.core.schema.tables.some(function(L){return L.name===R})&&(N.core=x.core.table(R),x[R]instanceof x.Table)&&(x[R].core=N.core)})}function nl(x,w,j,N){j.forEach(function(R){var L=N[R];w.forEach(function(z){var q=(function oe(he,re){return C(he,re)||(he=d(he))&&oe(he,re)})(z,R);(!q||"value"in q&&q.value===void 0)&&(z===x.Transaction.prototype||z instanceof x.Transaction?b(z,R,{get:function(){return this.table(R)},set:function(oe){y(this,R,{value:oe,writable:!0,configurable:!0,enumerable:!0})}}):z[R]=new x.Table(R,L))})})}function zi(x,w){w.forEach(function(j){for(var N in j)j[N]instanceof x.Table&&delete j[N]})}function zc(x,w){return x._cfg.version-w._cfg.version}function uu(x,w,j,N){var R=x._dbSchema,L=(j.objectStoreNames.contains("$meta")&&!R.$meta&&(R.$meta=la("$meta",Za("")[0],[]),x._storeNames.push("$meta")),x._createTransaction("readwrite",x._storeNames,R)),z=(L.create(j),L._completion.catch(N),L._reject.bind(L)),q=qe.transless||qe;Ye(function(){if(qe.trans=L,qe.transless=q,w!==0)return Ga(x,j),he=w,((oe=L).storeNames.includes("$meta")?oe.table("$meta").get("version").then(function(re){return re??he}):He.resolve(he)).then(function(ve){var te=x,le=ve,ue=L,ae=j,ie=[],ve=te._versions,we=te._dbSchema=ds(0,te.idbdb,ae);return(ve=ve.filter(function(me){return me._cfg.version>=le})).length===0?He.resolve():(ve.forEach(function(me){ie.push(function(){var je,Ne,Ue,$e=we,Re=me._cfg.dbschema,Ke=(Xa(te,$e,ae),Xa(te,Re,ae),we=te._dbSchema=Re,Ya($e,Re)),We=(Ke.add.forEach(function(Me){Ja(ae,Me[0],Me[1].primKey,Me[1].indexes)}),Ke.change.forEach(function(Me){if(Me.recreate)throw new ze.Upgrade("Not yet support for changing primary key");var Ge=ae.objectStore(Me.name);Me.add.forEach(function(zt){return yr(Ge,zt)}),Me.change.forEach(function(zt){Ge.deleteIndex(zt.name),yr(Ge,zt)}),Me.del.forEach(function(zt){return Ge.deleteIndex(zt)})}),me._cfg.contentUpgrade);if(We&&me._cfg.version>le)return Ga(te,ae),ue._memoizedTables={},je=B(Re),Ke.del.forEach(function(Me){je[Me]=$e[Me]}),zi(te,[te.Transaction.prototype]),nl(te,[te.Transaction.prototype],a(je),je),ue.schema=je,(Ne=Y(We))&&nt(),Re=He.follow(function(){var Me;(Ue=We(ue))&&Ne&&(Me=Je.bind(null,null),Ue.then(Me,Me))}),Ue&&typeof Ue.then=="function"?He.resolve(Ue):Re.then(function(){return Ue})}),ie.push(function(je){var Ne,Ue,$e=me._cfg.dbschema;Ne=$e,Ue=je,[].slice.call(Ue.db.objectStoreNames).forEach(function(Re){return Ne[Re]==null&&Ue.db.deleteObjectStore(Re)}),zi(te,[te.Transaction.prototype]),nl(te,[te.Transaction.prototype],te._storeNames,te._dbSchema),ue.schema=te._dbSchema}),ie.push(function(je){te.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(te.idbdb.version/10)===me._cfg.version?(te.idbdb.deleteObjectStore("$meta"),delete te._dbSchema.$meta,te._storeNames=te._storeNames.filter(function(Ne){return Ne!=="$meta"})):je.objectStore("$meta").put(me._cfg.version,"version"))})}),(function me(){return ie.length?He.resolve(ie.shift()(ue.idbtrans)).then(me):He.resolve()})().then(function(){Uc(we,ae)}))}).catch(z);var oe,he;a(R).forEach(function(re){Ja(j,re,R[re].primKey,R[re].indexes)}),Ga(x,j),He.follow(function(){return x.on.populate.fire(L)}).catch(z)})}function of(x,w){Uc(x._dbSchema,w),w.db.version%10!=0||w.objectStoreNames.contains("$meta")||w.db.createObjectStore("$meta").add(Math.ceil(w.db.version/10-1),"version");var j=ds(0,x.idbdb,w);Xa(x,x._dbSchema,w);for(var N=0,R=Ya(j,x._dbSchema).change;N<R.length;N++){var L=(z=>{if(z.change.length||z.recreate)return console.warn("Unable to patch indexes of table ".concat(z.name," because it has changes on the type of index or primary key.")),{value:void 0};var q=w.objectStore(z.name);z.add.forEach(function(oe){Vn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(z.name,".").concat(oe.src)),yr(q,oe)})})(R[N]);if(typeof L=="object")return L.value}}function Ya(x,w){var j,N={del:[],add:[],change:[]};for(j in x)w[j]||N.del.push(j);for(j in w){var R=x[j],L=w[j];if(R){var z={name:j,def:L,recreate:!1,del:[],add:[],change:[]};if(""+(R.primKey.keyPath||"")!=""+(L.primKey.keyPath||"")||R.primKey.auto!==L.primKey.auto)z.recreate=!0,N.change.push(z);else{var q=R.idxByName,oe=L.idxByName,he=void 0;for(he in q)oe[he]||z.del.push(he);for(he in oe){var re=q[he],te=oe[he];re?re.src!==te.src&&z.change.push(te):z.add.push(te)}(0<z.del.length||0<z.add.length||0<z.change.length)&&N.change.push(z)}}else N.add.push([j,L])}return N}function Ja(x,w,j,N){var R=x.db.createObjectStore(w,j.keyPath?{keyPath:j.keyPath,autoIncrement:j.auto}:{autoIncrement:j.auto});N.forEach(function(L){return yr(R,L)})}function Uc(x,w){a(x).forEach(function(j){w.db.objectStoreNames.contains(j)||(Vn&&console.debug("Dexie: Creating missing table",j),Ja(w,j,x[j].primKey,x[j].indexes))})}function yr(x,w){x.createIndex(w.name,w.keyPath,{unique:w.unique,multiEntry:w.multi})}function ds(x,w,j){var N={};return P(w.objectStoreNames,0).forEach(function(R){for(var L=j.objectStore(R),z=ou(af(he=L.keyPath),he||"",!0,!1,!!L.autoIncrement,he&&typeof he!="string",!0),q=[],oe=0;oe<L.indexNames.length;++oe){var re=L.index(L.indexNames[oe]),he=re.keyPath,re=ou(re.name,he,!!re.unique,!!re.multiEntry,!1,he&&typeof he!="string",!1);q.push(re)}N[R]=la(R,z,q)}),N}function Xa(x,w,j){for(var N=j.db.objectStoreNames,R=0;R<N.length;++R){var L=N[R],z=j.objectStore(L);x._hasGetAll="getAll"in z;for(var q=0;q<z.indexNames.length;++q){var oe,he=z.indexNames[q],re=z.index(he).keyPath,re=typeof re=="string"?re:"["+P(re).join("+")+"]";w[L]&&(oe=w[L].idxByName[re])&&(oe.name=he,delete w[L].idxByName[re],w[L].idxByName[he]=oe)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(x._hasGetAll=!1)}function Za(x){return x.split(",").map(function(w,j){var R=w.split(":"),N=(N=R[1])==null?void 0:N.trim(),R=(w=R[0].trim()).replace(/([&*]|\+\+)/g,""),L=/^\[/.test(R)?R.match(/^\[(.*)\]$/)[1].split("+"):R;return ou(R,L||null,/\&/.test(w),/\*/.test(w),/\+\+/.test(w),o(L),j===0,N)})}$s.prototype._createTableSchema=la,$s.prototype._parseIndexSyntax=Za,$s.prototype._parseStoresSpec=function(x,w){var j=this;a(x).forEach(function(N){if(x[N]!==null){var R=j._parseIndexSyntax(x[N]),L=R.shift();if(!L)throw new ze.Schema("Invalid schema for table "+N+": "+x[N]);if(L.unique=!0,L.multi)throw new ze.Schema("Primary key cannot be multiEntry*");R.forEach(function(z){if(z.auto)throw new ze.Schema("Only primary key can be marked as autoIncrement (++)");if(!z.keyPath)throw new ze.Schema("Index must have a name and cannot be an empty string")}),L=j._createTableSchema(N,L,R),w[N]=L}})},$s.prototype.stores=function(j){var w=this.db,j=(this._cfg.storesSource=this._cfg.storesSource?u(this._cfg.storesSource,j):j,w._versions),N={},R={};return j.forEach(function(L){u(N,L._cfg.storesSource),R=L._cfg.dbschema={},L._parseStoresSpec(N,R)}),w._dbSchema=R,zi(w,[w._allTables,w,w.Transaction.prototype]),nl(w,[w._allTables,w,w.Transaction.prototype,this._cfg.tables],a(R),R),w._storeNames=a(R),this},$s.prototype.upgrade=function(x){return this._cfg.contentUpgrade=ti(this._cfg.contentUpgrade||ft,x),this};var Vg=$s;function $s(){}function rl(x,w){var j=x._dbNamesDB;return j||(j=x._dbNamesDB=new fs(mr,{addons:[],indexedDB:x,IDBKeyRange:w})).version(1).stores({dbnames:"name"}),j.table("dbnames")}function ua(x){return x&&typeof x.databases=="function"}function eo(x){return Ye(function(){return qe.letThrough=!0,x()})}function cu(x){return!("from"in x)}var xr=function(x,w){var j;if(!this)return j=new xr,x&&"d"in x&&u(j,x),j;u(this,arguments.length?{d:1,from:x,to:1<arguments.length?w:x}:{d:0})};function il(x,w,j){var N=rt(w,j);if(!isNaN(N)){if(0<N)throw RangeError();if(cu(x))return u(x,{from:w,to:j,d:1});var N=x.l,R=x.r;if(rt(j,x.from)<0)return N?il(N,w,j):x.l={from:w,to:j,d:1,l:null,r:null},lf(x);if(0<rt(w,x.to))return R?il(R,w,j):x.r={from:w,to:j,d:1,l:null,r:null},lf(x);rt(w,x.from)<0&&(x.from=w,x.l=null,x.d=R?R.d+1:1),0<rt(j,x.to)&&(x.to=j,x.r=null,x.d=x.l?x.l.d+1:1),w=!x.r,N&&!x.l&&sl(x,N),R&&w&&sl(x,R)}}function sl(x,w){cu(w)||(function j(N,R){var L=R.from,z=R.l,q=R.r;il(N,L,R.to),z&&j(N,z),q&&j(N,q)})(x,w)}function du(x,w){var j=hu(w),N=j.next();if(!N.done)for(var R=N.value,L=hu(x),z=L.next(R.from),q=z.value;!N.done&&!z.done;){if(rt(q.from,R.to)<=0&&0<=rt(q.to,R.from))return!0;rt(R.from,q.from)<0?R=(N=j.next(q.from)).value:q=(z=L.next(R.from)).value}return!1}function hu(x){var w=cu(x)?null:{s:0,n:x};return{next:function(j){for(var N=0<arguments.length;w;)switch(w.s){case 0:if(w.s=1,N)for(;w.n.l&&rt(j,w.n.from)<0;)w={up:w,n:w.n.l,s:1};else for(;w.n.l;)w={up:w,n:w.n.l,s:1};case 1:if(w.s=2,!N||rt(j,w.n.to)<=0)return{value:w.n,done:!1};case 2:if(w.n.r){w.s=3,w={up:w,n:w.n.r,s:0};continue}case 3:w=w.up}return{done:!0}}}}function lf(x){var w,j,N,R=(((R=x.r)==null?void 0:R.d)||0)-(((R=x.l)==null?void 0:R.d)||0),R=1<R?"r":R<-1?"l":"";R&&(w=R=="r"?"l":"r",j=r({},x),N=x[R],x.from=N.from,x.to=N.to,x[R]=N[R],j[R]=N[w],(x[w]=j).d=uf(j)),x.d=uf(x)}function uf(j){var w=j.r,j=j.l;return(w?j?Math.max(w.d,j.d):w.d:j?j.d:0)+1}function fu(x,w){return a(w).forEach(function(j){x[j]?sl(x[j],w[j]):x[j]=(function N(R){var L,z,q={};for(L in R)p(R,L)&&(z=R[L],q[L]=!z||typeof z!="object"||se.has(z.constructor)?z:N(z));return q})(w[j])}),x}function $c(x,w){return x.all||w.all||Object.keys(x).some(function(j){return w[j]&&du(w[j],x[j])})}g(xr.prototype,((Ce={add:function(x){return sl(this,x),this},addKey:function(x){return il(this,x,x),this},addKeys:function(x){var w=this;return x.forEach(function(j){return il(w,j,j)}),this},hasKey:function(x){var w=hu(this).next(x).value;return w&&rt(w.from,x)<=0&&0<=rt(w.to,x)}})[ee]=function(){return hu(this)},Ce));var Hs={},Hc={},Vc=!1;function pu(x){fu(Hc,x),Vc||(Vc=!0,setTimeout(function(){Vc=!1,qc(Hc,!(Hc={}))},0))}function qc(x,w){w===void 0&&(w=!1);var j=new Set;if(x.all)for(var N=0,R=Object.values(Hs);N<R.length;N++)mu(q=R[N],x,j,w);else for(var L in x){var z,q,L=/^idb\:\/\/(.*)\/(.*)\//.exec(L);L&&(z=L[1],L=L[2],q=Hs["idb://".concat(z,"/").concat(L)])&&mu(q,x,j,w)}j.forEach(function(oe){return oe()})}function mu(x,w,j,N){for(var R=[],L=0,z=Object.entries(x.queries.query);L<z.length;L++){for(var q=z[L],oe=q[0],he=[],re=0,te=q[1];re<te.length;re++){var le=te[re];$c(w,le.obsSet)?le.subscribers.forEach(function(ve){return j.add(ve)}):N&&he.push(le)}N&&R.push([oe,he])}if(N)for(var ue=0,ae=R;ue<ae.length;ue++){var ie=ae[ue],oe=ie[0],he=ie[1];x.queries.query[oe]=he}}function qg(x){var w=x._state,j=x._deps.indexedDB;if(w.isBeingOpened||x.idbdb)return w.dbReadyPromise.then(function(){return w.dbOpenError?gt(w.dbOpenError):x});w.isBeingOpened=!0,w.dbOpenError=null,w.openComplete=!1;var N=w.openCanceller,R=Math.round(10*x.verno),L=!1;function z(){if(w.openCanceller!==N)throw new ze.DatabaseClosed("db.open() was cancelled")}function q(){return new He(function(le,ue){if(z(),!j)throw new ze.MissingAPI;var ae=x.name,ie=w.autoSchema||!R?j.open(ae):j.open(ae,R);if(!ie)throw new ze.MissingAPI;ie.onerror=or(ue),ie.onblocked=Q(x._fireOnBlocked),ie.onupgradeneeded=Q(function(ve){var we;re=ie.transaction,w.autoSchema&&!x._options.allowEmptyDB?(ie.onerror=Zo,re.abort(),ie.result.close(),(we=j.deleteDatabase(ae)).onsuccess=we.onerror=Q(function(){ue(new ze.NoSuchDatabase("Database ".concat(ae," doesnt exist")))})):(re.onerror=or(ue),we=ve.oldVersion>Math.pow(2,62)?0:ve.oldVersion,te=we<1,x.idbdb=ie.result,L&&of(x,re),uu(x,we/10,re,ue))},ue),ie.onsuccess=Q(function(){re=null;var ve,we,me,je,Ne,Ue,$e=x.idbdb=ie.result,Re=P($e.objectStoreNames);if(0<Re.length)try{var Ke=$e.transaction((Ne=Re).length===1?Ne[0]:Ne,"readonly");if(w.autoSchema)Ue=$e,je=Ke,(me=x).verno=Ue.version/10,je=me._dbSchema=ds(0,Ue,je),me._storeNames=P(Ue.objectStoreNames,0),nl(me,[me._allTables],a(je),je);else if(Xa(x,x._dbSchema,Ke),we=Ke,((we=Ya(ds(0,(ve=x).idbdb,we),ve._dbSchema)).add.length||we.change.some(function(We){return We.add.length||We.change.length}))&&!L)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),$e.close(),R=$e.version+1,L=!0,le(q());Ga(x,Ke)}catch{}ar.push(x),$e.onversionchange=Q(function(We){w.vcFired=!0,x.on("versionchange").fire(We)}),$e.onclose=Q(function(){x.close({disableAutoOpen:!1})}),te&&(Re=x._deps,Ne=ae,ua(Ue=Re.indexedDB)||Ne===mr||rl(Ue,Re.IDBKeyRange).put({name:Ne}).catch(ft)),le()},ue)}).catch(function(le){switch(le?.name){case"UnknownError":if(0<w.PR1398_maxLoop)return w.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),q();break;case"VersionError":if(0<R)return R=0,q()}return He.reject(le)})}var oe,he=w.dbReadyResolve,re=null,te=!1;return He.race([N,(typeof navigator>"u"?He.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(le){function ue(){return indexedDB.databases().finally(le)}oe=setInterval(ue,100),ue()}).finally(function(){return clearInterval(oe)}):Promise.resolve()).then(q)]).then(function(){return z(),w.onReadyBeingFired=[],He.resolve(eo(function(){return x.on.ready.fire(x.vip)})).then(function le(){var ue;if(0<w.onReadyBeingFired.length)return ue=w.onReadyBeingFired.reduce(ti,ft),w.onReadyBeingFired=[],He.resolve(eo(function(){return ue(x.vip)})).then(le)})}).finally(function(){w.openCanceller===N&&(w.onReadyBeingFired=null,w.isBeingOpened=!1)}).catch(function(le){w.dbOpenError=le;try{re&&re.abort()}catch{}return N===w.openCanceller&&x._close(),gt(le)}).finally(function(){w.openComplete=!0,he()}).then(function(){var le;return te&&(le={},x.tables.forEach(function(ue){ue.schema.indexes.forEach(function(ae){ae.name&&(le["idb://".concat(x.name,"/").concat(ue.name,"/").concat(ae.name)]=new xr(-1/0,[[[]]]))}),le["idb://".concat(x.name,"/").concat(ue.name,"/")]=le["idb://".concat(x.name,"/").concat(ue.name,"/:dels")]=new xr(-1/0,[[[]]])}),zs(Ka).fire(le),qc(le,!0)),x})}function Wc(x){function w(L){return x.next(L)}var j=R(w),N=R(function(L){return x.throw(L)});function R(L){return function(q){var q=L(q),oe=q.value;return q.done?oe:oe&&typeof oe.then=="function"?oe.then(j,N):o(oe)?Promise.all(oe).then(j,N):j(oe)}}return R(w)()}function gu(x,w,j){for(var N=o(x)?x.slice():[x],R=0;R<j;++R)N.push(w);return N}var cf={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(x){return r(r({},x),{table:function(N){var j=x.table(N),N=j.schema,R={},L=[];function z(le,ue,ae){var me=tl(le),ie=R[me]=R[me]||[],ve=le==null?0:typeof le=="string"?1:le.length,we=0<ue,me=r(r({},ae),{name:we?"".concat(me,"(virtual-from:").concat(ae.name,")"):ae.name,lowLevelIndex:ae,isVirtual:we,keyTail:ue,keyLength:ve,extractKey:Us(le),unique:!we&&ae.unique});return ie.push(me),me.isPrimaryKey||L.push(me),1<ve&&z(ve===2?le[0]:le.slice(0,ve-1),ue+1,ae),ie.sort(function(je,Ne){return je.keyTail-Ne.keyTail}),me}var q=z(N.primaryKey.keyPath,0,N.primaryKey);R[":id"]=[q];for(var oe=0,he=N.indexes;oe<he.length;oe++){var re=he[oe];z(re.keyPath,0,re)}function te(le){var ue,ae=le.query.index;return ae.isVirtual?r(r({},le),{query:{index:ae.lowLevelIndex,range:(ue=le.query.range,ae=ae.keyTail,{type:ue.type===1?2:ue.type,lower:gu(ue.lower,ue.lowerOpen?x.MAX_KEY:x.MIN_KEY,ae),lowerOpen:!0,upper:gu(ue.upper,ue.upperOpen?x.MIN_KEY:x.MAX_KEY,ae),upperOpen:!0})}}):le}return r(r({},j),{schema:r(r({},N),{primaryKey:q,indexes:L,getIndexByKeyPath:function(le){return(le=R[tl(le)])&&le[0]}}),count:function(le){return j.count(te(le))},query:function(le){return j.query(te(le))},openCursor:function(le){var ue=le.query.index,ae=ue.keyTail,ie=ue.keyLength;return ue.isVirtual?j.openCursor(te(le)).then(function(we){return we&&ve(we)}):j.openCursor(le);function ve(we){return Object.create(we,{continue:{value:function(me){me!=null?we.continue(gu(me,le.reverse?x.MAX_KEY:x.MIN_KEY,ae)):le.unique?we.continue(we.key.slice(0,ie).concat(le.reverse?x.MIN_KEY:x.MAX_KEY,ae)):we.continue()}},continuePrimaryKey:{value:function(me,je){we.continuePrimaryKey(gu(me,x.MAX_KEY,ae),je)}},primaryKey:{get:function(){return we.primaryKey}},key:{get:function(){var me=we.key;return ie===1?me[0]:me.slice(0,ie)}},value:{get:function(){return we.value}}})}}})}})}};function Qc(x,w,j,N){return j=j||{},N=N||"",a(x).forEach(function(R){var L,z,q;p(w,R)?(L=x[R],z=w[R],typeof L=="object"&&typeof z=="object"&&L&&z?(q=$(L))!==$(z)?j[N+R]=w[R]:q==="Object"?Qc(L,z,j,N+R+"."):L!==z&&(j[N+R]=w[R]):L!==z&&(j[N+R]=w[R])):j[N+R]=void 0}),a(w).forEach(function(R){p(x,R)||(j[N+R]=w[R])}),j}function Kc(x,w){return w.type==="delete"?w.keys:w.keys||w.values.map(x.extractKey)}var Wg={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(x){return r(r({},x),{table:function(w){var j=x.table(w),N=j.schema.primaryKey;return r(r({},j),{mutate:function(R){var L=qe.trans,z=L.table(w).hook,q=z.deleting,oe=z.creating,he=z.updating;switch(R.type){case"add":if(oe.fire===ft)break;return L._promise("readwrite",function(){return re(R)},!0);case"put":if(oe.fire===ft&&he.fire===ft)break;return L._promise("readwrite",function(){return re(R)},!0);case"delete":if(q.fire===ft)break;return L._promise("readwrite",function(){return re(R)},!0);case"deleteRange":if(q.fire===ft)break;return L._promise("readwrite",function(){return(function te(le,ue,ae){return j.query({trans:le,values:!1,query:{index:N,range:ue},limit:ae}).then(function(ie){var ve=ie.result;return re({type:"delete",keys:ve,trans:le}).then(function(we){return 0<we.numFailures?Promise.reject(we.failures[0]):ve.length<ae?{failures:[],numFailures:0,lastResult:void 0}:te(le,r(r({},ue),{lower:ve[ve.length-1],lowerOpen:!0}),ae)})})})(R.trans,R.range,1e4)},!0)}return j.mutate(R);function re(te){var le,ue,ae,ie=qe.trans,ve=te.keys||Kc(N,te);if(ve)return(te=te.type==="add"||te.type==="put"?r(r({},te),{keys:ve}):r({},te)).type!=="delete"&&(te.values=i([],te.values)),te.keys&&(te.keys=i([],te.keys)),le=j,ae=ve,((ue=te).type==="add"?Promise.resolve([]):le.getMany({trans:ue.trans,keys:ae,cache:"immutable"})).then(function(we){var me=ve.map(function(je,Ne){var Ue,$e,Re,Ke=we[Ne],We={onerror:null,onsuccess:null};return te.type==="delete"?q.fire.call(We,je,Ke,ie):te.type==="add"||Ke===void 0?(Ue=oe.fire.call(We,je,te.values[Ne],ie),je==null&&Ue!=null&&(te.keys[Ne]=je=Ue,N.outbound||O(te.values[Ne],N.keyPath,je))):(Ue=Qc(Ke,te.values[Ne]),($e=he.fire.call(We,Ue,je,Ke,ie))&&(Re=te.values[Ne],Object.keys($e).forEach(function(Me){p(Re,Me)?Re[Me]=$e[Me]:O(Re,Me,$e[Me])}))),We});return j.mutate(te).then(function(je){for(var Ne=je.failures,Ue=je.results,$e=je.numFailures,je=je.lastResult,Re=0;Re<ve.length;++Re){var Ke=(Ue||ve)[Re],We=me[Re];Ke==null?We.onerror&&We.onerror(Ne[Re]):We.onsuccess&&We.onsuccess(te.type==="put"&&we[Re]?te.values[Re]:Ke)}return{failures:Ne,results:Ue,numFailures:$e,lastResult:je}}).catch(function(je){return me.forEach(function(Ne){return Ne.onerror&&Ne.onerror(je)}),Promise.reject(je)})});throw new Error("Keys missing")}}})}})}};function df(x,w,j){try{if(!w||w.keys.length<x.length)return null;for(var N=[],R=0,L=0;R<w.keys.length&&L<x.length;++R)rt(w.keys[R],x[L])===0&&(N.push(j?xe(w.values[R]):w.values[R]),++L);return N.length===x.length?N:null}catch{return null}}var Qg={stack:"dbcore",level:-1,create:function(x){return{table:function(w){var j=x.table(w);return r(r({},j),{getMany:function(N){var R;return N.cache?(R=df(N.keys,N.trans._cache,N.cache==="clone"))?He.resolve(R):j.getMany(N).then(function(L){return N.trans._cache={keys:N.keys,values:N.cache==="clone"?xe(L):L},L}):j.getMany(N)},mutate:function(N){return N.type!=="add"&&(N.trans._cache=null),j.mutate(N)}})}}}};function hf(x,w){return x.trans.mode==="readonly"&&!!x.subscr&&!x.trans.explicit&&x.trans.db._options.cache!=="disabled"&&!w.schema.primaryKey.outbound}function ff(x,w){switch(x){case"query":return w.values&&!w.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Gc={stack:"dbcore",level:0,name:"Observability",create:function(x){var w=x.schema.name,j=new xr(x.MIN_KEY,x.MAX_KEY);return r(r({},x),{transaction:function(N,R,L){if(qe.subscr&&R!=="readonly")throw new ze.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(qe.querier));return x.transaction(N,R,L)},table:function(N){function R(ve){var ie,ve=ve.query;return[ie=ve.index,new xr((ie=(ve=ve.range).lower)!=null?ie:x.MIN_KEY,(ie=ve.upper)!=null?ie:x.MAX_KEY)]}var L=x.table(N),z=L.schema,q=z.primaryKey,oe=z.indexes,he=q.extractKey,re=q.outbound,te=q.autoIncrement&&oe.filter(function(ae){return ae.compound&&ae.keyPath.includes(q.keyPath)}),le=r(r({},L),{mutate:function(ae){function ie(Ge){return Ge="idb://".concat(w,"/").concat(N,"/").concat(Ge),Ne[Ge]||(Ne[Ge]=new xr)}var ve,we,me,je=ae.trans,Ne=ae.mutatedParts||(ae.mutatedParts={}),Ue=ie(""),$e=ie(":dels"),Re=ae.type,We=ae.type==="deleteRange"?[ae.range]:ae.type==="delete"?[ae.keys]:ae.values.length<50?[Kc(q,ae).filter(function(Ge){return Ge}),ae.values]:[],Ke=We[0],We=We[1],Me=ae.trans._cache;return o(Ke)?(Ue.addKeys(Ke),(Re=Re==="delete"||Ke.length===We.length?df(Ke,Me):null)||$e.addKeys(Ke),(Re||We)&&(ve=ie,we=Re,me=We,z.indexes.forEach(function(Ge){var zt=ve(Ge.name||"");function Wt(Tt){return Tt!=null?Ge.extractKey(Tt):null}function ht(Tt){Ge.multiEntry&&o(Tt)?Tt.forEach(function(dn){return zt.addKey(dn)}):zt.addKey(Tt)}(we||me).forEach(function(Tt,nn){var Gr=we&&Wt(we[nn]),nn=me&&Wt(me[nn]);rt(Gr,nn)!==0&&(Gr!=null&&ht(Gr),nn!=null)&&ht(nn)})}))):Ke?(We={from:(Me=Ke.lower)!=null?Me:x.MIN_KEY,to:(Re=Ke.upper)!=null?Re:x.MAX_KEY},$e.add(We),Ue.add(We)):(Ue.add(j),$e.add(j),z.indexes.forEach(function(Ge){return ie(Ge.name).add(j)})),L.mutate(ae).then(function(Ge){return!Ke||ae.type!=="add"&&ae.type!=="put"||(Ue.addKeys(Ge.results),te&&te.forEach(function(zt){for(var Wt=ae.values.map(function(Gr){return zt.extractKey(Gr)}),ht=zt.keyPath.findIndex(function(Gr){return Gr===q.keyPath}),Tt=0,dn=Ge.results.length;Tt<dn;++Tt)Wt[Tt][ht]=Ge.results[Tt];ie(zt.name).addKeys(Wt)})),je.mutatedParts=fu(je.mutatedParts||{},Ne),Ge})}}),ue={get:function(ae){return[q,new xr(ae.key)]},getMany:function(ae){return[q,new xr().addKeys(ae.keys)]},count:R,query:R,openCursor:R};return a(ue).forEach(function(ae){le[ae]=function(ie){var ve=qe.subscr,we=!!ve,me=hf(qe,L)&&ff(ae,ie)?ie.obsSet={}:ve;if(we){var je,ve=function(We){return We="idb://".concat(w,"/").concat(N,"/").concat(We),me[We]||(me[We]=new xr)},Ne=ve(""),Ue=ve(":dels"),we=ue[ae](ie),$e=we[0],we=we[1];if((ae==="query"&&$e.isPrimaryKey&&!ie.values?Ue:ve($e.name||"")).add(we),!$e.isPrimaryKey){if(ae!=="count")return je=ae==="query"&&re&&ie.values&&L.query(r(r({},ie),{values:!1})),L[ae].apply(this,arguments).then(function(We){if(ae==="query"){if(re&&ie.values)return je.then(function(Wt){return Wt=Wt.result,Ne.addKeys(Wt),We});var Me=ie.values?We.result.map(he):We.result;(ie.values?Ne:Ue).addKeys(Me)}else{var Ge,zt;if(ae==="openCursor")return zt=ie.values,(Ge=We)&&Object.create(Ge,{key:{get:function(){return Ue.addKey(Ge.primaryKey),Ge.key}},primaryKey:{get:function(){var Wt=Ge.primaryKey;return Ue.addKey(Wt),Wt}},value:{get:function(){return zt&&Ne.addKey(Ge.primaryKey),Ge.value}}})}return We});Ue.add(j)}}return L[ae].apply(this,arguments)}}),le}})}};function to(x,w,j){var N;return j.numFailures===0?w:w.type==="deleteRange"||(N=w.keys?w.keys.length:"values"in w&&w.values?w.values.length:1,j.numFailures===N)?null:(N=r({},w),o(N.keys)&&(N.keys=N.keys.filter(function(R,L){return!(L in j.failures)})),"values"in N&&o(N.values)&&(N.values=N.values.filter(function(R,L){return!(L in j.failures)})),N)}function Yc(x,w){return j=x,((N=w).lower===void 0||(N.lowerOpen?0<rt(j,N.lower):0<=rt(j,N.lower)))&&(j=x,(N=w).upper===void 0||(N.upperOpen?rt(j,N.upper)<0:rt(j,N.upper)<=0));var j,N}function Jc(x,w,j,N,R,L){var z,q,oe,he,re,te;return!j||j.length===0||(z=w.query.index,q=z.multiEntry,oe=w.query.range,he=N.schema.primaryKey.extractKey,re=z.extractKey,te=(z.lowLevelIndex||z).extractKey,(N=j.reduce(function(le,ue){var ae=le,ie=[];if(ue.type==="add"||ue.type==="put")for(var ve=new xr,we=ue.values.length-1;0<=we;--we){var me,je=ue.values[we],Ne=he(je);!ve.hasKey(Ne)&&(me=re(je),q&&o(me)?me.some(function(We){return Yc(We,oe)}):Yc(me,oe))&&(ve.addKey(Ne),ie.push(je))}switch(ue.type){case"add":var Ue=new xr().addKeys(w.values?le.map(function(Me){return he(Me)}):le),ae=le.concat(w.values?ie.filter(function(Me){return Me=he(Me),!Ue.hasKey(Me)&&(Ue.addKey(Me),!0)}):ie.map(function(Me){return he(Me)}).filter(function(Me){return!Ue.hasKey(Me)&&(Ue.addKey(Me),!0)}));break;case"put":var $e=new xr().addKeys(ue.values.map(function(Me){return he(Me)}));ae=le.filter(function(Me){return!$e.hasKey(w.values?he(Me):Me)}).concat(w.values?ie:ie.map(function(Me){return he(Me)}));break;case"delete":var Re=new xr().addKeys(ue.keys);ae=le.filter(function(Me){return!Re.hasKey(w.values?he(Me):Me)});break;case"deleteRange":var Ke=ue.range;ae=le.filter(function(Me){return!Yc(he(Me),Ke)})}return ae},x))===x)?x:(N.sort(function(le,ue){return rt(te(le),te(ue))||rt(he(le),he(ue))}),w.limit&&w.limit<1/0&&(N.length>w.limit?N.length=w.limit:x.length===w.limit&&N.length<w.limit&&(R.dirty=!0)),L?Object.freeze(N):N)}function Xc(x,w){return rt(x.lower,w.lower)===0&&rt(x.upper,w.upper)===0&&!!x.lowerOpen==!!w.lowerOpen&&!!x.upperOpen==!!w.upperOpen}function pf(x,w){return((j,N,R,L)=>{if(j===void 0)return N!==void 0?-1:0;if(N===void 0)return 1;if((j=rt(j,N))===0){if(R&&L)return 0;if(R)return 1;if(L)return-1}return j})(x.lower,w.lower,x.lowerOpen,w.lowerOpen)<=0&&0<=((j,N,R,L)=>{if(j===void 0)return N!==void 0?1:0;if(N===void 0)return-1;if((j=rt(j,N))===0){if(R&&L)return 0;if(R)return-1;if(L)return 1}return j})(x.upper,w.upper,x.upperOpen,w.upperOpen)}function mf(x,w,j,N){x.subscribers.add(j),N.addEventListener("abort",function(){var R,L;x.subscribers.delete(j),x.subscribers.size===0&&(R=x,L=w,setTimeout(function(){R.subscribers.size===0&&X(L,R)},3e3))})}var gf={stack:"dbcore",level:0,name:"Cache",create:function(x){var w=x.schema.name;return r(r({},x),{transaction:function(j,N,R){var L,z,q=x.transaction(j,N,R);return N==="readwrite"&&(R=(L=new AbortController).signal,q.addEventListener("abort",(z=function(oe){return function(){if(L.abort(),N==="readwrite"){for(var he=new Set,re=0,te=j;re<te.length;re++){var le=te[re],ue=Hs["idb://".concat(w,"/").concat(le)];if(ue){var ae=x.table(le),ie=ue.optimisticOps.filter(function(Ge){return Ge.trans===q});if(q._explicit&&oe&&q.mutatedParts)for(var ve=0,we=Object.values(ue.queries.query);ve<we.length;ve++)for(var me=0,je=($e=we[ve]).slice();me<je.length;me++)$c((Re=je[me]).obsSet,q.mutatedParts)&&(X($e,Re),Re.subscribers.forEach(function(Ge){return he.add(Ge)}));else if(0<ie.length){ue.optimisticOps=ue.optimisticOps.filter(function(Ge){return Ge.trans!==q});for(var Ne=0,Ue=Object.values(ue.queries.query);Ne<Ue.length;Ne++)for(var $e,Re,Ke,We=0,Me=($e=Ue[Ne]).slice();We<Me.length;We++)(Re=Me[We]).res!=null&&q.mutatedParts&&(oe&&!Re.dirty?(Ke=Object.isFrozen(Re.res),Ke=Jc(Re.res,Re.req,ie,ae,Re,Ke),Re.dirty?(X($e,Re),Re.subscribers.forEach(function(Ge){return he.add(Ge)})):Ke!==Re.res&&(Re.res=Ke,Re.promise=He.resolve({result:Ke}))):(Re.dirty&&X($e,Re),Re.subscribers.forEach(function(Ge){return he.add(Ge)})))}}}he.forEach(function(Ge){return Ge()})}}})(!1),{signal:R}),q.addEventListener("error",z(!1),{signal:R}),q.addEventListener("complete",z(!0),{signal:R})),q},table:function(j){var N=x.table(j),R=N.schema.primaryKey;return r(r({},N),{mutate:function(L){var z,q=qe.trans;return!R.outbound&&q.db._options.cache!=="disabled"&&!q.explicit&&q.idbtrans.mode==="readwrite"&&(z=Hs["idb://".concat(w,"/").concat(j)])?(q=N.mutate(L),L.type!=="add"&&L.type!=="put"||!(50<=L.values.length||Kc(R,L).some(function(oe){return oe==null}))?(z.optimisticOps.push(L),L.mutatedParts&&pu(L.mutatedParts),q.then(function(oe){0<oe.numFailures&&(X(z.optimisticOps,L),(oe=to(0,L,oe))&&z.optimisticOps.push(oe),L.mutatedParts)&&pu(L.mutatedParts)}),q.catch(function(){X(z.optimisticOps,L),L.mutatedParts&&pu(L.mutatedParts)})):q.then(function(oe){var he=to(0,r(r({},L),{values:L.values.map(function(re,te){var le;return oe.failures[te]?re:(O(le=(le=R.keyPath)!=null&&le.includes(".")?xe(re):r({},re),R.keyPath,oe.results[te]),le)})}),oe);z.optimisticOps.push(he),queueMicrotask(function(){return L.mutatedParts&&pu(L.mutatedParts)})}),q):N.mutate(L)},query:function(L){var z,q,oe,he,re,te,le;return hf(qe,N)&&ff("query",L)?(z=((oe=qe.trans)==null?void 0:oe.db._options.cache)==="immutable",q=(oe=qe).requery,oe=oe.signal,te=((ue,ae,ie,ve)=>{var we=Hs["idb://".concat(ue,"/").concat(ae)];if(!we)return[];if(!(ue=we.queries[ie]))return[null,!1,we,null];var me=ue[(ve.query?ve.query.index.name:null)||""];if(!me)return[null,!1,we,null];switch(ie){case"query":var je=me.find(function(Ne){return Ne.req.limit===ve.limit&&Ne.req.values===ve.values&&Xc(Ne.req.query.range,ve.query.range)});return je?[je,!0,we,me]:[me.find(function(Ne){return("limit"in Ne.req?Ne.req.limit:1/0)>=ve.limit&&(!ve.values||Ne.req.values)&&pf(Ne.req.query.range,ve.query.range)}),!1,we,me];case"count":return je=me.find(function(Ne){return Xc(Ne.req.query.range,ve.query.range)}),[je,!!je,we,me]}})(w,j,"query",L),le=te[0],he=te[2],re=te[3],le&&te[1]?le.obsSet=L.obsSet:(te=N.query(L).then(function(ue){var ae=ue.result;if(le&&(le.res=ae),z){for(var ie=0,ve=ae.length;ie<ve;++ie)Object.freeze(ae[ie]);Object.freeze(ae)}else ue.result=xe(ae);return ue}).catch(function(ue){return re&&le&&X(re,le),Promise.reject(ue)}),le={obsSet:L.obsSet,promise:te,subscribers:new Set,type:"query",req:L,dirty:!1},re?re.push(le):(re=[le],(he=he||(Hs["idb://".concat(w,"/").concat(j)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[L.query.index.name||""]=re)),mf(le,re,q,oe),le.promise.then(function(ue){return{result:Jc(ue.result,L,he?.optimisticOps,N,le,z)}})):N.query(L)}})}})}};function hs(x,w){return new Proxy(x,{get:function(j,N,R){return N==="db"?w:Reflect.get(j,N,R)}})}Pn.prototype.version=function(x){if(isNaN(x)||x<.1)throw new ze.Type("Given version is not a positive number");if(x=Math.round(10*x)/10,this.idbdb||this._state.isBeingOpened)throw new ze.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,x);var w=this._versions,j=w.filter(function(N){return N._cfg.version===x})[0];return j||(j=new this.Version(x),w.push(j),w.sort(zc),j.stores({}),this._state.autoSchema=!1),j},Pn.prototype._whenReady=function(x){var w=this;return this.idbdb&&(this._state.openComplete||qe.letThrough||this._vip)?x():new He(function(j,N){if(w._state.openComplete)return N(new ze.DatabaseClosed(w._state.dbOpenError));if(!w._state.isBeingOpened){if(!w._state.autoOpen)return void N(new ze.DatabaseClosed);w.open().catch(ft)}w._state.dbReadyPromise.then(j,N)}).then(x)},Pn.prototype.use=function(R){var w=R.stack,j=R.create,N=R.level,R=R.name,L=(R&&this.unuse({stack:w,name:R}),this._middlewares[w]||(this._middlewares[w]=[]));return L.push({stack:w,create:j,level:N??10,name:R}),L.sort(function(z,q){return z.level-q.level}),this},Pn.prototype.unuse=function(x){var w=x.stack,j=x.name,N=x.create;return w&&this._middlewares[w]&&(this._middlewares[w]=this._middlewares[w].filter(function(R){return N?R.create!==N:!!j&&R.name!==j})),this},Pn.prototype.open=function(){var x=this;return ln(ir,function(){return qg(x)})},Pn.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var x=this._state,w=ar.indexOf(this);if(0<=w&&ar.splice(w,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}x.isBeingOpened||(x.dbReadyPromise=new He(function(j){x.dbReadyResolve=j}),x.openCanceller=new He(function(j,N){x.cancelOpen=N}))},Pn.prototype.close=function(w){var w=(w===void 0?{disableAutoOpen:!0}:w).disableAutoOpen,j=this._state;w?(j.isBeingOpened&&j.cancelOpen(new ze.DatabaseClosed),this._close(),j.autoOpen=!1,j.dbOpenError=new ze.DatabaseClosed):(this._close(),j.autoOpen=this._options.autoOpen||j.isBeingOpened,j.openComplete=!1,j.dbOpenError=null)},Pn.prototype.delete=function(x){var w=this,j=(x===void 0&&(x={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),N=this._state;return new He(function(R,L){function z(){w.close(x);var q=w._deps.indexedDB.deleteDatabase(w.name);q.onsuccess=Q(function(){var oe,he,re;oe=w._deps,he=w.name,ua(re=oe.indexedDB)||he===mr||rl(re,oe.IDBKeyRange).delete(he).catch(ft),R()}),q.onerror=or(L),q.onblocked=w._fireOnBlocked}if(j)throw new ze.InvalidArgument("Invalid closeOptions argument to db.delete()");N.isBeingOpened?N.dbReadyPromise.then(z):z()})},Pn.prototype.backendDB=function(){return this.idbdb},Pn.prototype.isOpen=function(){return this.idbdb!==null},Pn.prototype.hasBeenClosed=function(){var x=this._state.dbOpenError;return x&&x.name==="DatabaseClosed"},Pn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Pn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Pn.prototype,"tables",{get:function(){var x=this;return a(this._allTables).map(function(w){return x._allTables[w]})},enumerable:!1,configurable:!0}),Pn.prototype.transaction=function(){var x=(function(w,j,N){var R=arguments.length;if(R<2)throw new ze.InvalidArgument("Too few arguments");for(var L=new Array(R-1);--R;)L[R-1]=arguments[R];return N=L.pop(),[w,F(L),N]}).apply(this,arguments);return this._transaction.apply(this,x)},Pn.prototype._transaction=function(x,w,j){var N,R,L=this,z=qe.trans,q=(z&&z.db===this&&x.indexOf("!")===-1||(z=null),x.indexOf("?")!==-1);x=x.replace("!","").replace("?","");try{if(R=w.map(function(he){if(he=he instanceof L.Table?he.name:he,typeof he!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return he}),x=="r"||x===Mi)N=Mi;else{if(x!="rw"&&x!=as)throw new ze.InvalidArgument("Invalid transaction mode: "+x);N=as}if(z){if(z.mode===Mi&&N===as){if(!q)throw new ze.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");z=null}z&&R.forEach(function(he){if(z&&z.storeNames.indexOf(he)===-1){if(!q)throw new ze.SubTransaction("Table "+he+" not included in parent transaction.");z=null}}),q&&z&&!z.active&&(z=null)}}catch(he){return z?z._promise(null,function(re,te){te(he)}):gt(he)}var oe=(function he(re,te,le,ue,ae){return He.resolve().then(function(){var me=qe.transless||qe,ie=re._createTransaction(te,le,re._dbSchema,ue),me=(ie.explicit=!0,{trans:ie,transless:me});if(ue)ie.idbtrans=ue.idbtrans;else try{ie.create(),ie.idbtrans._explicit=!0,re._state.PR1398_maxLoop=3}catch(je){return je.name===Ve.InvalidState&&re.isOpen()&&0<--re._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),re.close({disableAutoOpen:!1}),re.open().then(function(){return he(re,te,le,null,ae)})):gt(je)}var ve,we=Y(ae),me=(we&&nt(),He.follow(function(){var je;(ve=ae.call(ie,ie))&&(we?(je=Je.bind(null,null),ve.then(je,je)):typeof ve.next=="function"&&typeof ve.throw=="function"&&(ve=Wc(ve)))},me));return(ve&&typeof ve.then=="function"?He.resolve(ve).then(function(je){return ie.active?je:gt(new ze.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):me.then(function(){return ve})).then(function(je){return ue&&ie._resolve(),ie._completion.then(function(){return je})}).catch(function(je){return ie._reject(je),gt(je)})})}).bind(null,this,N,R,z,j);return z?z._promise(N,oe,"lock"):qe.trans?ln(qe.transless,function(){return L._whenReady(oe)}):this._whenReady(oe)},Pn.prototype.table=function(x){if(p(this._allTables,x))return this._allTables[x];throw new ze.InvalidTable("Table ".concat(x," does not exist"))};var fs=Pn;function Pn(x,w){var j,N,R,L,z,q=this,oe=(this._middlewares={},this.verno=0,Pn.dependencies),oe=(this._options=w=r({addons:Pn.addons,autoOpen:!0,indexedDB:oe.indexedDB,IDBKeyRange:oe.IDBKeyRange,cache:"cloned"},w),this._deps={indexedDB:w.indexedDB,IDBKeyRange:w.IDBKeyRange},w.addons),he=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ft,dbReadyPromise:null,cancelOpen:ft,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:w.autoOpen}),re=(he.dbReadyPromise=new He(function(te){he.dbReadyResolve=te}),he.openCanceller=new He(function(te,le){he.cancelOpen=le}),this._state=he,this.name=x,this.on=Jo(this,"populate","blocked","versionchange","close",{ready:[ti,ft]}),this.once=function(te,le){var ue=function(){for(var ae=[],ie=0;ie<arguments.length;ie++)ae[ie]=arguments[ie];q.on(te).unsubscribe(ue),le.apply(q,ae)};return q.on(te,ue)},this.on.ready.subscribe=A(this.on.ready.subscribe,function(te){return function(le,ue){Pn.vip(function(){var ae,ie=q._state;ie.openComplete?(ie.dbOpenError||He.resolve().then(le),ue&&te(le)):ie.onReadyBeingFired?(ie.onReadyBeingFired.push(le),ue&&te(le)):(te(le),ae=q,ue||te(function ve(){ae.on.ready.unsubscribe(le),ae.on.ready.unsubscribe(ve)}))})}}),this.Collection=(j=this,ia(tf.prototype,function(ve,ie){this.db=j;var ue=Fi,ae=null;if(ie)try{ue=ie()}catch(me){ae=me}var ie=ve._ctx,ve=ie.table,we=ve.hook.reading.fire;this._ctx={table:ve,index:ie.index,isPrimKey:!ie.index||ve.schema.primKey.keyPath&&ie.index===ve.schema.primKey.name,range:ue,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:ae,or:ie.or,valueMapper:we!==sn?we:null}})),this.Table=(N=this,ia(Yo.prototype,function(te,le,ue){this.db=N,this._tx=ue,this.name=te,this.schema=le,this.hook=N._allTables[te]?N._allTables[te].hook:Jo(null,{creating:[Vr,ft],reading:[Yn,sn],updating:[Ha,ft],deleting:[Is,ft]})})),this.Transaction=(R=this,ia(sf.prototype,function(te,le,ue,ae,ie){var ve=this;te!=="readonly"&&le.forEach(function(we){we=(we=ue[we])==null?void 0:we.yProps,we&&(le=le.concat(we.map(function(me){return me.updatesTable})))}),this.db=R,this.mode=te,this.storeNames=le,this.schema=ue,this.chromeTransactionDurability=ae,this.idbtrans=null,this.on=Jo(this,"complete","error","abort"),this.parent=ie||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new He(function(we,me){ve._resolve=we,ve._reject=me}),this._completion.then(function(){ve.active=!1,ve.on.complete.fire()},function(we){var me=ve.active;return ve.active=!1,ve.on.error.fire(we),ve.parent?ve.parent._reject(we):me&&ve.idbtrans&&ve.idbtrans.abort(),gt(we)})})),this.Version=(L=this,ia(Vg.prototype,function(te){this.db=L,this._cfg={version:te,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(z=this,ia(Qa.prototype,function(te,le,ue){if(this.db=z,this._ctx={table:te,index:le===":id"?null:le,or:ue},this._cmp=this._ascending=rt,this._descending=function(ae,ie){return rt(ie,ae)},this._max=function(ae,ie){return 0<rt(ae,ie)?ae:ie},this._min=function(ae,ie){return rt(ae,ie)<0?ae:ie},this._IDBKeyRange=z._deps.IDBKeyRange,!this._IDBKeyRange)throw new ze.MissingAPI})),this.on("versionchange",function(te){0<te.newVersion?console.warn("Another connection wants to upgrade database '".concat(q.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(q.name,"'. Closing db now to resume the delete request.")),q.close({disableAutoOpen:!1})}),this.on("blocked",function(te){!te.newVersion||te.newVersion<te.oldVersion?console.warn("Dexie.delete('".concat(q.name,"') was blocked")):console.warn("Upgrade '".concat(q.name,"' blocked by other connection holding version ").concat(te.oldVersion/10))}),this._maxKey=cs(w.IDBKeyRange),this._createTransaction=function(te,le,ue,ae){return new q.Transaction(te,le,ue,q._options.chromeTransactionDurability,ae)},this._fireOnBlocked=function(te){q.on("blocked").fire(te),ar.filter(function(le){return le.name===q.name&&le!==q&&!le._state.vcFired}).map(function(le){return le.on("versionchange").fire(te)})},this.use(Qg),this.use(gf),this.use(Gc),this.use(cf),this.use(Wg),new Proxy(this,{get:function(te,le,ue){var ae;return le==="_vip"||(le==="table"?function(ie){return hs(q.table(ie),re)}:(ae=Reflect.get(te,le,ue))instanceof Yo?hs(ae,re):le==="tables"?ae.map(function(ie){return hs(ie,re)}):le==="_createTransaction"?function(){return hs(ae.apply(this,arguments),re)}:ae)}}));this.vip=re,oe.forEach(function(te){return te(q)})}var yu,ca=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",yf=(da.prototype.subscribe=function(x,w,j){return this._subscribe(x&&typeof x!="function"?x:{next:x,error:w,complete:j})},da.prototype[ca]=function(){return this},da);function da(x){this._subscribe=x}try{yu={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{yu={indexedDB:null,IDBKeyRange:null}}function no(x){var w,j=!1,N=new yf(function(R){var L=Y(x),z,q=!1,oe={},he={},re={get closed(){return q},unsubscribe:function(){q||(q=!0,z&&z.abort(),te&&zs.storagemutated.unsubscribe(ue))}},te=(R.start&&R.start(re),!1),le=function(){return In(ae)},ue=function(ie){fu(oe,ie),$c(he,oe)&&le()},ae=function(){var ie,ve,we;!q&&yu.indexedDB&&(oe={},ie={},z&&z.abort(),z=new AbortController,we=(me=>{var je=Wr();try{L&&nt();var Ne=Ye(x,me);return Ne=L?Ne.finally(Je):Ne}finally{je&&Di()}})(ve={subscr:ie,signal:z.signal,requery:le,querier:x,trans:null}),Promise.resolve(we).then(function(me){j=!0,w=me,q||ve.signal.aborted||(oe={},(je=>{for(var Ne in je)if(p(je,Ne))return;return 1})(he=ie)||te||(zs(Ka,ue),te=!0),In(function(){return!q&&R.next&&R.next(me)}))},function(me){j=!1,["DatabaseClosedError","AbortError"].includes(me?.name)||q||In(function(){q||R.error&&R.error(me)})}))};return setTimeout(le,0),re});return N.hasValue=function(){return j},N.getValue=function(){return w},N}var ha=fs;function ro(x){var w=ps;try{ps=!0,zs.storagemutated.fire(x),qc(x,!0)}finally{ps=w}}g(ha,r(r({},ge),{delete:function(x){return new ha(x,{addons:[]}).delete()},exists:function(x){return new ha(x,{addons:[]}).open().then(function(w){return w.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(x){try{return w=ha.dependencies,j=w.indexedDB,w=w.IDBKeyRange,(ua(j)?Promise.resolve(j.databases()).then(function(N){return N.map(function(R){return R.name}).filter(function(R){return R!==mr})}):rl(j,w).toCollection().primaryKeys()).then(x)}catch{return gt(new ze.MissingAPI)}var w,j},defineClass:function(){return function(x){u(this,x)}},ignoreTransaction:function(x){return qe.trans?ln(qe.transless,x):x()},vip:eo,async:function(x){return function(){try{var w=Wc(x.apply(this,arguments));return w&&typeof w.then=="function"?w:He.resolve(w)}catch(j){return gt(j)}}},spawn:function(x,w,j){try{var N=Wc(x.apply(j,w||[]));return N&&typeof N.then=="function"?N:He.resolve(N)}catch(R){return gt(R)}},currentTransaction:{get:function(){return qe.trans||null}},waitFor:function(x,w){return x=He.resolve(typeof x=="function"?ha.ignoreTransaction(x):x).timeout(w||6e4),qe.trans?qe.trans.waitFor(x):x},Promise:He,debug:{get:function(){return Vn},set:function(x){Ls(x)}},derive:_,extend:u,props:g,override:A,Events:Jo,on:zs,liveQuery:no,extendObservabilitySet:fu,getByKeyPath:I,setByKeyPath:O,delByKeyPath:function(x,w){typeof w=="string"?O(x,w,void 0):"length"in w&&[].map.call(w,function(j){O(x,j,void 0)})},shallowClone:B,deepClone:xe,getObjectDiff:Qc,cmp:rt,asap:V,minKey:-1/0,addons:[],connections:ar,errnames:Ve,dependencies:yu,cache:Hs,semVer:"4.3.0",version:"4.3.0".split(".").map(function(x){return parseInt(x)}).reduce(function(x,w,j){return x+w/Math.pow(10,2*j)})})),ha.maxKey=cs(ha.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(zs(Ka,function(x){ps||(x=new CustomEvent(oa,{detail:x}),ps=!0,dispatchEvent(x),ps=!1)}),addEventListener(oa,function(x){x=x.detail,ps||ro(x)}));var io,ps=!1,xu=function(){};return typeof BroadcastChannel<"u"&&((xu=function(){(io=new BroadcastChannel(oa)).onmessage=function(x){return x.data&&ro(x.data)}})(),typeof io.unref=="function"&&io.unref(),zs(Ka,function(x){ps||io.postMessage(x)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(x){if(!fs.disableBfCache&&x.persisted){Vn&&console.debug("Dexie: handling persisted pagehide"),io?.close();for(var w=0,j=ar;w<j.length;w++)j[w].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(x){!fs.disableBfCache&&x.persisted&&(Vn&&console.debug("Dexie: handling persisted pageshow"),xu(),ro({all:new xr(-1/0,[[]])}))})),He.rejectionMapper=function(x,w){return!x||x instanceof Pe||x instanceof TypeError||x instanceof SyntaxError||!x.name||!pr[x.name]?x:(w=new pr[x.name](w||x.message,x),"stack"in x&&b(w,"stack",{get:function(){return this.inner.stack}}),w)},Ls(Vn),r(fs,Object.freeze({__proto__:null,Dexie:fs,Entity:Mt,PropModification:Qr,RangeSet:xr,add:function(x){return new Qr({add:x})},cmp:rt,default:fs,liveQuery:no,mergeRanges:sl,rangesOverlap:du,remove:function(x){return new Qr({remove:x})},replacePrefix:function(x,w){return new Qr({replacePrefix:[x,w]})}}),{default:fs}),fs})})(lm)),lm.exports}var WF=qF();const px=ts(WF),N5=Symbol.for("Dexie"),Lm=globalThis[N5]||(globalThis[N5]=px);if(px.semVer!==Lm.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${px.semVer} and ${Lm.semVer}`);const{liveQuery:QF,mergeRanges:Cte,rangesOverlap:jte,RangeSet:kte,cmp:Ete,Entity:Tte,PropModification:Nte,replacePrefix:Pte,add:Ote,remove:Rte,DexieYProvider:Ate}=Lm;class KF extends Lm{interested_snapshot;interested_subject;simulation_run;simulation_run_selections;simulation_run_events;constructor(){super("ALLCLL_Simulation"),this.version(1).stores({interested_snapshot:"++snapshot_id,user_id,created_at,simulated",interested_subject:"++interested_id,snapshot_id,subject_id",simulation_run:"++simulation_run_id,snapshot_id,user_id,department_name,success_subject_count,subject_count,accuracy,score,total_elapsed,started_at,ended_at",simulation_run_selections:"++run_selections_id,simulation_run_id,interested_id,selected_index,status,started_at,ended_at",simulation_run_events:"++event_id,simulation_section_id,event_type,timestamp"})}}const Ct=new KF;async function pj(){const e=await Ct.interested_snapshot.orderBy("created_at").last();if(!e)return null;const t=await Ct.interested_subject.where("snapshot_id").equals(e.snapshot_id).toArray();return{...e,subjects:t}}async function mj(e){const t=await Ct.interested_snapshot.get(e);if(!t)return null;const n=await Ct.interested_subject.where("snapshot_id").equals(e).toArray();return{...t,subjects:n}}async function GF(e){const t=await Ct.interested_snapshot.orderBy("created_at").last(),n=t&&!t.simulated?t.snapshot_id:await Ct.interested_snapshot.add({user_id:"Todo: user_id",created_at:Date.now(),simulated:!1});t&&!t.simulated&&(await Ct.interested_snapshot.update(t.snapshot_id,{created_at:Date.now()}),await Ct.interested_subject.where("snapshot_id").equals(t.snapshot_id).delete()),await Ct.interested_subject.bulkAdd(e.map(r=>({snapshot_id:n,subject_id:r})))}async function P5(e,t){const n=await Ct.interested_subject.where("snapshot_id").equals(e).filter(r=>r.subject_id===t).first();return n?n.interested_id:-1}async function YF(){const e=await xh();if("errMsg"in e)throw new Error(e.errMsg);return e}const JF=["","","1","","","","","","","","","","","","","","","English Listening","English Reading"],XF=(e,t,n)=>{const r=e.find(s=>s.subjectId===t);let i=40;return r?.departmentName===""&&(JF.includes(r.subjectName)?i=4.6*3:i=4.6*4),console.log(n,i),n<i},vg=fr(e=>({currentSubjectId:0,isCaptchaFailed:!1,subjectStatusMap:{},setCurrentSubjectId:t=>e({currentSubjectId:t}),setSubjectStatus:(t,n)=>e(r=>({subjectStatusMap:{...r.subjectStatusMap,[t]:n}})),setCaptchaFailed:t=>e({isCaptchaFailed:t})}));var tr=(e=>(e[e.SEARCH=0]="SEARCH",e[e.APPLY=1]="APPLY",e[e.CAPTCHA=2]="CAPTCHA",e[e.CANCEL_SUBMIT=3]="CANCEL_SUBMIT",e[e.SUBJECT_SUBMIT=4]="SUBJECT_SUBMIT",e[e.REFRESH=5]="REFRESH",e[e.SKIP_REFRESH=6]="SKIP_REFRESH",e))(tr||{}),Ut=(e=>(e[e.PROGRESS=0]="PROGRESS",e[e.SUCCESS=1]="SUCCESS",e[e.FAILED=2]="FAILED",e[e.DOUBLED=3]="DOUBLED",e[e.CAPTCHA_FAILED=4]="CAPTCHA_FAILED",e[e.NOT_ELIGIBLE=5]="NOT_ELIGIBLE",e[e.CANCELED=6]="CANCELED",e))(Ut||{}),gj=(e=>(e.SNAPSHOT_NOT_EXIST="SNAPSHOT_NOT_EXIST",e.ONGOING_SIMULATION_NOT_FOUND="ONGOING_SIMULATION_NOT_FOUND",e.SELECTION_NOT_FOUND="SELECTION_NOT_FOUND",e.SIMULATION_NOT_FOUND="SIMULATION_NOT_FOUND",e.MULTIPLE_SIMULATION_FOUND="MULTIPLE_SIMULATION_FOUND",e.SIMULATION_IS_NOT_FINISHED="SIMULATION_IS_NOT_FINISHED",e.MULTIPLE_SIMULATION_RUNNING="MULTIPLE_SIMULATION_RUNNING",e.UNKNOWN_ERROR="UNKNOWN_ERROR",e))(gj||{});const Zv=300,ZF=Zv*1e3;function Fo(e){return{errMsg:e}}function yj(e){return e instanceof Error?Fo(e.message):Fo("UNKNOWN_ERROR")}async function xh(){try{const e=await bg();if(!e)return{simulationId:-1};const t=await Ct.simulation_run_selections.filter(o=>wg(o,e.simulation_run_id)).toArray(),n=await Ct.interested_subject.where("snapshot_id").equals(e.snapshot_id).toArray();if(!n)return Fo("SNAPSHOT_NOT_EXIST");const r=t.filter(o=>o.status===1),i=n.filter(o=>r.some(u=>u.interested_id===o.interested_id)).map(o=>({subjectId:o.subject_id})),s=n.filter(o=>!r.some(u=>u.interested_id===o.interested_id)).map(o=>({subjectId:o.subject_id})),a=t.map(o=>{const u=n.find(d=>d.interested_id===o.interested_id);return u?{subjectId:u.subject_id,status:o.status}:{subjectId:-1,status:2}});return{simulationId:e.simulation_run_id,userStatus:{userPK:e.user_id,departmentCode:e.department_code,departmentName:e.department_name},searchEventAt:e.search_event_at,startedAt:e.started_at,nonRegisteredSubjects:s,registeredSubjects:i,subjectStatus:a}}catch(e){return yj(e)}}async function bg(){const e=await Ct.simulation_run.filter(t=>t.ended_at===-1).toArray();if(e&&e.length>1)throw new Error("MULTIPLE_SIMULATION_RUNNING");return e[0]??null}async function eB(e){const t=await Ct.simulation_run.where("simulation_run_id").equals(e).filter(n=>n.ended_at!==-1).toArray();if(!t.length)throw new Error("SIMULATION_NOT_FOUND");if(t.length>1)throw new Error("MULTIPLE_SIMULATION_FOUND");return t[0]}async function tB(e,t,n){const r=await xh();if(r&&"errMsg"in r)return r;if(r.simulationId!==-1)return{simulationId:r.simulationId,isRunning:!0};const i=await pj();if(!i)return Fo("SNAPSHOT_NOT_EXIST");await Ct.interested_snapshot.update(i.snapshot_id,{simulated:!0});const s=i.subjects;return{simulationId:await Ct.simulation_run.add({snapshot_id:i.snapshot_id,user_id:e,department_code:t,department_name:n,success_subject_count:0,subject_count:s.length,accuracy:-1,score:-1,total_elapsed:-1,search_event_at:-1,started_at:Date.now(),ended_at:-1}),started_at:Date.now(),isRunning:!0}}async function Ta(e,t){const{eventType:n}=e;console.log("BUTTON EVENT",e);let r;try{if(r=await bg(),!r)throw new Error("ONGOING_SIMULATION_NOT_FOUND")}catch(d){return yj(d)}const i=r.simulation_run_id;if(n===0){const d=Date.now();return await Ct.simulation_run.update(i,{search_event_at:d}),{elapsed_time:d-r.started_at}}const{subjectId:s}=e;if(n===1){const d=await Ct.simulation_run_selections.filter(p=>p.simulation_run_id===r.simulation_run_id&&p.ended_at>=0).count(),f=await Ct.simulation_run_selections.add({simulation_run_id:r.simulation_run_id,interested_id:await P5(r.snapshot_id,s),selected_index:d+1,status:0,started_at:Date.now(),ended_at:-1});return await Ct.simulation_run_events.add({simulation_section_id:f,event_type:n,timestamp:Date.now()}),{}}const a=await Ct.simulation_run_selections.filter(d=>d.simulation_run_id===i).toArray(),o=a.filter(d=>d.ended_at===-1).sort((d,f)=>f.started_at-d.started_at)[0];if(!o)return Fo("SELECTION_NOT_FOUND");const u=Date.now();if(await Ct.simulation_run_events.add({simulation_section_id:o.run_selections_id,event_type:n,timestamp:u}),n===4){const d=await P5(r.snapshot_id,s);if(!await Ct.simulation_run_selections.filter(k=>k.simulation_run_id===i&&k.interested_id===d).last())return Fo("SELECTION_NOT_FOUND");const p=async k=>(await Ct.simulation_run_selections.update(o.run_selections_id,{status:k}),console.log("saved section",o.run_selections_id,k),{status:k});if(vg.getState().isCaptchaFailed)return await p(4);if(a.some(k=>k.interested_id===d&&k.status===2))return await p(3),{status:2};if(a.some(k=>k.interested_id===d&&k.ended_at>=0&&wg(k,i)))return await p(3);const _=Math.floor(u-r.started_at)/1e3;return XF(t,s,_)?await p(1):await p(2)}if(n===3&&await Ct.simulation_run_selections.update(o.run_selections_id,{status:6,ended_at:Date.now()}),n===5||n===6){await Ct.simulation_run_selections.update(o.run_selections_id,{ended_at:Date.now()});const d=await rB();return d&&await xj(),{finished:d}}return{}}async function gc(){await xj()}async function xj(){const e=await Ct.simulation_run.filter(u=>u.ended_at<=-1).last();if(!e)return;const t=await Ct.simulation_run_selections.filter(u=>u.simulation_run_id===e.simulation_run_id).toArray(),n=t.filter(u=>wg(u,e.simulation_run_id)).length,i=t.filter(u=>sB(u,e.simulation_run_id)).reduce((u,d)=>d.ended_at===-1?u+4600:u+(d.ended_at-d.started_at),0),s=Date.now()-e.started_at,a=_F(s/1e3,i/1e3),o=yg(s/1e3/n)+wF(a);await Ct.simulation_run.update(e.simulation_run_id,{ended_at:Date.now(),accuracy:a,score:Math.min(100,Math.max(0,o)),total_elapsed:s}),await iB(e)}async function nB({simulationId:e}){const t=await Ct.simulation_run.get(e);return t?t.ended_at===-1?Fo("SIMULATION_IS_NOT_FINISHED"):{accuracy:t.accuracy,score:t.score,total_elapsed:t.total_elapsed}:Fo("SIMULATION_NOT_FOUND")}async function rB(){let e;try{e=await bg()}catch{return!0}if(!e)return!0;const t=await Ct.simulation_run_selections.filter(n=>wg(n,e.simulation_run_id)).toArray();return e.subject_count<=t.length}async function iB(e){const t=e.simulation_run_id;return e.search_event_at<0?(await Ct.simulation_run_selections.where("simulation_run_id").equals(t).delete(),await Ct.simulation_run.delete(t),!0):(e.started_at+ZF<Date.now()&&await Ct.simulation_run.update(t,{ended_at:Date.now()}),!1)}const vj=(e,t)=>e.simulation_run_id===t,wg=(e,t)=>vj(e,t)&&[1,2].includes(e.status),sB=(e,t)=>vj(e,t)&&![1,2].includes(e.status);function _g(e){return e>5?"text-green-500 bg-green-100":e>0?"text-yellow-500 bg-yellow-100":e==0?"text-red-500 bg-red-100":"text-gray-500 bg-gray-100"}function aB(e){return e>=100?"text-red-500 bg-red-100":e>=50?"text-yellow-500 bg-yellow-100":e>=0?"text-green-500 bg-green-100":"text-gray-500 bg-gray-100"}function oB(e){return lB(mx(e))}function mx(e){switch(e){case Ut.SUCCESS:return"green";case Ut.FAILED:return"red";case Ut.CAPTCHA_FAILED:return"orange";case Ut.PROGRESS:return"yellow";default:return"gray"}}function lB(e){switch(e){case"green":return"bg-green-100 text-green-500";case"red":return"bg-red-100 text-red-500";case"orange":return"bg-orange-100 text-orange-500";case"yellow":return"bg-yellow-100 text-yellow-500";default:return"bg-gray-100 text-gray-500"}}function bj(e){return e==null?"default":e>5?"success":e>0?"warning":e==0?"danger":"default"}function uB(e){return e==null?"default":e>=100?"danger":e>=50?"warning":e>=0?"success":"default"}function eb({wishCount:e,formatter:t=n=>n}){const n=e!=null&&e>=0,r=uB(e),i=n?e:"-";return c.jsx(Xi,{variant:r,children:t(i)})}As.register(Uh,$h,Hh,Qo,Wo);const cB={labels:["","","",""],datasets:[{data:[40,25,20,15],backgroundColor:Vh}]};function dB(){return c.jsxs(Ho,{children:[c.jsx(Dh,{title:" ",href:"/wishes"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[c.jsx(mt,{level:3,children:" "}),c.jsx("div",{className:"flex align-center justify-center max-h-96",children:c.jsx(gg,{data:cB})})]}),c.jsxs("div",{className:"bg-white p-6 shadow-md rounded-md",children:[c.jsx(mt,{level:3,children:"  "}),[{name:"",dept:" ",status:30},{name:"",dept:"",status:14}].map((e,t)=>c.jsxs("div",{className:"mt-4 flex justify-between p-2 rounded-md border border-gray-200",children:[c.jsxs("div",{children:[c.jsx(mt,{level:4,children:e.name}),c.jsx("p",{className:"text-sm text-gray-500",children:e.dept})]}),c.jsx("span",{children:c.jsx(eb,{wishCount:e.status,formatter:n=>`: ${n}`})})]},"recommend-course-"+t))]})]})]})}function gx({seat:e,formatter:t=n=>n}){const n=e!=null&&e>=0,r=bj(e),i=n?e:"-";return c.jsx(Xi,{variant:r,children:t(i)})}const Bo=({className:e,disabled:t=!1})=>{const n=t?"text-gray-400 ":"text-blue-500 ";return c.jsx(jv,{className:n+e})};function hB(){return c.jsxs(Ho,{children:[c.jsx(Dh,{title:"   ",subtitle:"    ,  ",href:"/live"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[c.jsx(mt,{level:3,children:"  "}),c.jsxs(Xt,{children:["   ,   ",c.jsx("span",{className:"text-blue-500 font-bold",children:""})," "]}),c.jsx("div",{className:"flex flex-col gap-4 mt-4",children:[{name:"",prof:"003281 | "},{name:"",prof:"004310 | LEE KANGWON"}].map(({name:e,prof:t})=>c.jsxs("div",{className:"bg-gray-50 shadow-sm rounded-lg p-4 w-full",children:[c.jsxs(fe,{justify:"justify-between",className:"mb-2",children:[c.jsx(mt,{level:4,children:e}),c.jsx(Bo,{})]}),c.jsxs(fe,{justify:"justify-between",children:[c.jsx("p",{className:"text-sm text-gray-500",children:t}),c.jsx(gx,{seat:0,formatter:n=>`: ${n}`})]})]},t))})]}),c.jsxs("div",{className:"bg-white p-6 shadow-md rounded-md",children:[c.jsx(mt,{level:3,children:"  TOP 10"}),c.jsx(Xt,{children:"    !"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full bg-white rounded-lg text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 z-10 text-nowrap",children:[c.jsx("th",{className:"px-4 py-2",children:""}),c.jsx("th",{className:"px-4 py-2",children:""}),c.jsx("th",{className:"px-4 py-2",children:""}),c.jsx("th",{className:"px-4 py-2",children:""})]})}),c.jsx("tbody",{children:[{id:"004310-004",name:"",prof:"",seats:22},{id:"003281-001",name:"",prof:"",seats:15},{id:"004118-007",name:"",prof:"Rajendra Dhakal",seats:6},{id:"009912-006",name:"C",prof:"",seats:5},{id:"007330-001",name:"",prof:"",seats:4}].map(({id:e,name:t,prof:n,seats:r},i)=>c.jsxs("tr",{className:"border-t border-gray-200 text-black",children:[c.jsx("td",{className:"px-4 py-2 text-center",children:e}),c.jsx("td",{className:"px-4 py-2 text-center",children:t}),c.jsx("td",{className:"px-4 py-2 text-center",children:n}),c.jsx("td",{className:"px-4 py-2 text-center",children:c.jsx(gx,{seat:r})})]},"live-non-major-"+i))})]})})]})]})]})}const fB=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,72)"},T.createElement("path",{d:"M18,72Q22.9219,71.9297,27,69.6094Q31.0781,67.2188,33.6094,63Q36,58.710899999999995,36,54Q36,49.2891,33.6094,45Q31.0781,40.78125,27,38.39062Q22.9219,36.0703125,18,36Q13.0781,36.0703125,9,38.39062Q4.92188,40.78125,2.39062,45Q0,49.2891,0,54Q0,58.710899999999995,2.39062,63Q4.92188,67.2188,9,69.6094Q13.0781,71.9297,18,72ZM16.3125,63.5625L16.3125,54L16.3125,63.5625L16.3125,54Q16.3125,53.085899999999995,17.0859,52.5938L23.8359,48.0938Q25.1719,47.3203,26.1562,48.5859Q26.9297,49.9219,25.6641,50.9062L19.6875,54.914100000000005L19.6875,63.5625Q19.5469,65.1094,18,65.25Q16.4531,65.1094,16.3125,63.5625Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),pB=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,72)"},T.createElement("path",{d:"M25.8047,42.96094L7.03125,61.8047L25.8047,42.96094L7.03125,61.8047Q4.57031,58.4297,4.5,54Q4.64062,48.2344,8.4375,44.4375Q12.2344,40.64062,18,40.5Q22.4297,40.57031,25.8047,42.96094ZM29.0391,46.1953Q31.4297,49.5703,31.5,54Q31.3594,59.7656,27.5625,63.5625Q23.7656,67.3594,18,67.5Q13.5703,67.4297,10.1953,64.9688L29.0391,46.1953ZM0,54Q0.0703125,58.9219,2.39062,63Q4.78125,67.0781,9,69.6094Q13.2891,72,18,72Q22.7109,72,27,69.6094Q31.2188,67.0781,33.6094,63Q35.9297,58.9219,36,54Q35.9297,49.0781,33.6094,45Q32.4141,42.96094,30.7617,41.30859Q29.1094,39.65625,27,38.39062Q22.7109,36,18,36Q13.2891,36,9,38.39062Q4.78125,40.92188,2.39062,45Q0.0703125,49.0781,0,54Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),wj=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:33.75,height:36,viewBox:"0 0 33.75 36",...e},T.createElement("defs",null,T.createElement("clipPath",{id:"master_svg0_85_3284"},T.createElement("rect",{x:0,y:0,width:33.75,height:36,rx:0}))),T.createElement("g",{clipPath:"url(#master_svg0_85_3284)"},T.createElement("g",{transform:"matrix(1,0,0,-1,0,69.046875)"},T.createElement("g",null,T.createElement("path",{d:"M6.25781,54.000037500000005Q7.10156,56.3906375,8.92969,58.2187375Q12.375,61.5234375,16.875,61.5234375Q21.375,61.5234375,24.8203,58.2187375L26.0156,57.0234375L23.625,57.0234375Q22.6406,57.0234375,22.0078,56.3906375Q21.375,55.7578375,21.375,54.7734375Q21.375,53.7890375,22.0078,53.1562375Q22.6406,52.5234375,23.625,52.5234375L31.5,52.5234375Q32.4844,52.5234375,33.1172,53.1562375Q33.75,53.7890375,33.75,54.7734375L33.75,62.6484375Q33.75,63.6328375,33.1172,64.2656375Q32.4844,64.8984375,31.5,64.8984375Q30.5156,64.8984375,29.8828,64.2656375Q29.25,63.6328375,29.25,62.6484375L29.25,60.187537500000005L27.9844,61.3828375Q24.8906,64.4765375,20.8828,65.5312375Q16.875,66.5156375,12.8672,65.5312375Q8.85938,64.4765375,5.76562,61.3828375Q3.16406,58.7812375,2.03906,55.546837499999995Q1.75781,54.6328375,2.10938,53.7890375Q2.53125,53.0156375,3.375,52.6640375Q4.28906,52.3828375,5.13281,52.734337499999995Q5.90625,53.1562375,6.25781,54.000037500000005ZM1.61719,47.9531375Q1.05469,47.7422375,0.632812,47.3203375Q0.210938,46.8984375,0.0703125,46.3359375Q0.0703125,46.2656375,0,46.1250375Q0,45.9140375,0,45.7734375L0,37.8984375Q0,36.9140575,0.632812,36.2812475Q1.26562,35.6484375,2.25,35.6484375Q3.23438,35.6484375,3.86719,36.2812475Q4.5,36.9140575,4.5,37.8984375L4.5,40.3593775L5.76562,39.1640575Q8.85938,36.0703175,12.8672,35.0156255Q16.875,34.0312495,20.8828,35.0156255Q24.8906,36.0703175,27.9844,39.1640575Q30.5859,41.7656275,31.7109,45.0000375Q31.9922,45.9140375,31.6406,46.7578375Q31.2188,47.5312375,30.375,47.8828375Q29.4609,48.1640375,28.6172,47.8125375Q27.8438,47.3906375,27.4922,46.5468375Q26.6484,44.2265575,24.8203,42.3281275Q21.375,39.0234375,16.875,39.0234375Q12.375,39.0234375,8.92969,42.3281275L7.73438,43.5234375L10.125,43.5234375Q11.1094,43.5234375,11.7422,44.1562475Q12.375,44.7890375,12.375,45.7734375Q12.375,46.7578375,11.7422,47.3906375Q11.1094,48.0234375,10.125,48.0234375L2.25,48.0234375Q2.10938,48.0234375,1.96875,48.0234375Q1.75781,47.9531375,1.61719,47.9531375Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})))));function mB(){return c.jsxs(Ho,{className:"text-center",children:[c.jsx(mt,{level:2,children:"  "}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[{icon:c.jsx(fB,{className:"w-6 h-6"}),title:"6     ...",text:"       "},{icon:c.jsx(pB,{className:"w-6 h-6"}),title:"   ...",text:"  ,      "},{icon:c.jsx(wj,{className:"w-6 h-6"}),title:"      ...",text:"   ,     "}].map(({icon:e,title:t,text:n},r)=>c.jsxs("div",{className:"flex flex-col gap-4 p-6 rounded-md bg-gray-50 text-left",children:[e,c.jsx(mt,{level:3,className:"font-extrabold",children:t}),c.jsx(Xt,{children:n})]},"pain-point-"+r))}),c.jsxs("div",{className:"text-gray-900 mt-16",children:[c.jsx("p",{children:"   ."}),c.jsx("p",{children:"   ,      . "})]})]})}const gB=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:24,height:24,viewBox:"0 0 24 24",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,48)"},T.createElement("path",{d:"M18.7031,30Q17.9062,31.35938,16.5469,32.15625Q15.1875,33,13.5,33L10.5,33Q8.8125,33,7.45312,32.15625Q6.09375,31.35938,5.29688,30Q6.5625,28.59375,8.25,27.79688Q9.98438,27,12,27Q14.0156,27,15.75,27.79688Q17.4375,28.59375,18.7031,30ZM0,36Q0.046875,39.2812,1.59375,42Q3.1875,44.7188,6,46.4062Q8.85938,48,12,48Q15.1406,48,18,46.4062Q20.8125,44.7188,22.4062,42Q23.9531,39.2812,24,36Q23.9531,32.71875,22.4062,30Q20.8125,27.28125,18,25.59375Q15.1406,24,12,24Q8.85938,24,6,25.59375Q3.1875,27.28125,1.59375,30Q0.046875,32.71875,0,36ZM12,35.25Q13.9219,35.2969,14.9062,36.9375Q15.8438,38.625,14.9062,40.3125Q13.9219,41.9531,12,42Q10.0781,41.9531,9.09375,40.3125Q8.15625,38.625,9.09375,36.9375Q10.0781,35.2969,12,35.25Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function yB(){return c.jsxs(Ho,{className:"text-center",children:[c.jsx(mt,{level:2,children:"   !"}),c.jsxs("div",{className:"overflow-hidden mt-6 relative",children:[c.jsx("div",{className:"absolute top-0 left-0 w-12 h-full bg-gradient-to-r from-gray-50 to-transparent z-10"}),c.jsxs("div",{className:"animate-marquee flex gap-6 flex-nowrap w-fit",children:[O5.map((e,t)=>c.jsx(R5,{...e},"feedback-left-"+t)),O5.map((e,t)=>c.jsx(R5,{...e},"feedback-right-"+t))]}),c.jsx("div",{className:"absolute top-0 right-0 w-12 h-full bg-gradient-to-l from-gray-50 to-transparent z-10"})]})]})}const O5=[{name:"O",department:" 2",review:"        !"},{name:"O",department:" 4",review:"         !"},{name:"O",department:" 3",review:"     !"}];function R5({name:e,department:t,review:n}){return c.jsxs("div",{className:"w-screen md:w-xs flex flex-col gap-4 p-6 rounded-md bg-white text-left text-sm",children:[c.jsxs("div",{className:"flex gap-4 items-center",children:[c.jsx(gB,{className:"w-6 h-6"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold",children:e}),c.jsx("p",{className:"text-xs text-gray-500",children:t})]})]}),c.jsxs("p",{className:"text-gray-950",children:['"',n,'"']})]})}As.register(zh,Qo,Wo);function xB(){return c.jsxs(Ho,{children:[c.jsx(Dh,{title:"   ",subtitle:"      .    ,  ."}),c.jsx(Xi,{variant:"danger",children:"  "}),c.jsx(fe,{className:"mt-6",direction:"flex-col",gap:"gap-2",children:c.jsxs(Yt,{children:[c.jsxs(fe,{direction:"flex-row",gap:"gap-4",children:[c.jsx(mt,{level:3,children:"  "}),c.jsx(Xi,{variant:"default",children:" "})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mt-6 justify-items-center",children:[c.jsx(Op,{earned:vo.totalCredits.earned,required:vo.totalCredits.required,label:" "}),c.jsx(Op,{earned:vo.majorCredits.earned,required:vo.majorCredits.required,label:" "}),c.jsx("div",{className:"hidden md:block",children:c.jsx(Op,{earned:vo.generalCredits.earned,required:vo.generalCredits.required,label:" "})}),c.jsx("div",{className:"hidden md:block",children:c.jsx(Op,{earned:vo.liberalCredits.earned,required:vo.liberalCredits.required,label:" "})})]})]})})]})}function Op({earned:e,required:t,label:n}){const r=t===0?100:Math.round(e/t*100),i=Math.max(0,t-e),s={datasets:[{data:[e,i],backgroundColor:[vv.primary[500],"#E5E7EB"],borderWidth:0,cutout:"75%"}]},a={responsive:!0,maintainAspectRatio:!0,plugins:{legend:{display:!1},tooltip:{enabled:!1}}};return c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsxs("div",{className:"relative flex items-center justify-center",style:{width:120,height:120},children:[c.jsx(gg,{data:s,options:a}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsxs("span",{className:"text-xl font-bold text-primary-500",children:[r,"%"]})})]}),c.jsxs("div",{className:"mt-2 text-center",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700",children:n}),c.jsxs("p",{className:"text-xs text-gray-500",children:[e," / ",t," "]})]})]})}const vo={totalCredits:{earned:98,required:130},majorCredits:{earned:18,required:24},generalCredits:{earned:20,required:32},liberalCredits:{earned:60,required:74}};function vB(){return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx(ER,{}),c.jsx(xB,{}),c.jsx(iA,{}),c.jsx(dB,{}),c.jsx(PF,{}),c.jsx(hB,{}),c.jsx(mB,{}),c.jsx(yB,{})]})}function bi(){const[e,t]=T.useState(!1);return T.useEffect(()=>{const n=()=>{t(window.innerWidth<=768)};return n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[]),e}const bB=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:13.836064338684082,height:14,viewBox:"-1 -1 15.5 16.5",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,28)"},T.createElement("path",{d:"M13.8033,23.433590000000002Q13.918,23.05078,13.6311,22.777340000000002L12.3689,21.68359Q12.4262,21.35547,12.4262,21Q12.4262,20.64453,12.3689,20.31641L13.6311,19.22266Q13.918,18.94922,13.8033,18.56641Q13.6025,18.07422,13.3443,17.60938L13.2008,17.39062Q12.9139,16.95312,12.5697,16.54297Q12.2828,16.24219,11.8811,16.35156L10.2746,16.84375Q9.70082,16.40625,9.01229,16.16016L8.66803,14.574219Q8.55328,14.191406,8.12295,14.109375Q7.54918,14,6.91803,14Q6.28688,14,5.68443,14.109375Q5.28279,14.191406,5.16803,14.574219L4.82377,16.16016Q4.13525,16.40625,3.56148,16.84375L1.95492,16.35156Q1.55328,16.24219,1.26639,16.54297Q0.893443,16.95312,0.635246,17.39062L0.491803,17.60938Q0.233607,18.07422,0.0327869,18.53906Q-0.0819672,18.94922,0.204918,19.22266L1.46721,20.28906Q1.40984,20.64453,1.40984,21Q1.40984,21.35547,1.46721,21.68359L0.204918,22.777340000000002Q-0.0819672,23.05078,0.0327869,23.433590000000002Q0.233607,23.92578,0.491803,24.3906L0.635246,24.6094Q0.893443,25.0469,1.26639,25.457Q1.55328,25.7578,1.95492,25.648400000000002L3.56148,25.1562Q4.13525,25.5937,4.82377,25.8672L5.16803,27.425800000000002Q5.28279,27.8086,5.71311,27.8906Q6.28688,28,6.91803,28Q7.54918,28,8.15164,27.8906Q8.55328,27.8086,8.66803,27.425800000000002L9.01229,25.8672Q9.70082,25.5937,10.2746,25.1562L11.8811,25.648400000000002Q12.2828,25.7578,12.5697,25.457Q12.9426,25.0469,13.2295,24.6094L13.3443,24.3906Q13.6025,23.92578,13.8033,23.433590000000002ZM6.91803,18.8125Q8.20902,18.83984,8.89754,19.90625Q9.52869,21,8.89754,22.09375Q8.20902,23.160159999999998,6.91803,23.1875Q5.62705,23.160159999999998,4.93852,22.09375Q4.30738,21,4.93852,19.90625Q5.62705,18.83984,6.91803,18.8125Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),wB=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M5 12L10 17L20 7",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function _B({number:e,finish:t,active:n,label:r}){return c.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-0.5 md:gap-2 shrink-0",children:[c.jsx("div",{className:`w-8 h-8 flex items-center justify-center rounded-full border
          ${n?"bg-blue-500 border-blue-500 text-white":"bg-white border-gray-300 text-gray-400"}
        `,children:t?c.jsx(wB,{className:"w-4 h-4"}):c.jsx("span",{className:"text-xs",children:e})}),c.jsx("span",{className:"text-xs md:text-sm text-gray-600 whitespace-nowrap",children:r})]})}function SB({active:e}){return c.jsx("div",{className:`flex-1 h-[2px] mt-[15px] md:mt-0 ${e?"bg-blue-500":"bg-gray-300"}`})}function Sg({label:e,selected:t,children:n,className:r=""}){return c.jsxs(pc,{children:[c.jsx(pc.Trigger,{selected:t,label:e}),c.jsx(pc.Content,{children:c.jsx(fe,{direction:"flex-col",gap:"gap-4",className:r,children:n})})]})}function _j({label:e,selected:t,onClick:n}){return c.jsx(Ih,{label:e,checked:t,onChange:n})}_j.layout="flex";function A5({children:e,checked:t,onChange:n,...r}){return c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",className:"sr-only peer",checked:t,onChange:n,...r}),c.jsx("div",{className:"w-12 h-6 rounded-full transition-colors duration-150 bg-gray-300 peer-checked:bg-blue-500 peer-disabled:bg-gray-200"}),c.jsx("div",{className:"absolute top-1 left-1 w-4 h-4 bg-white rounded-full shadow-md transform transition-transform duration-150 peer-checked:translate-x-6"}),e]})}fr((e,t)=>({isActivated:!1,messages:[],addToast:(n,r)=>{e(i=>({messages:[...i.messages,{message:n,tag:r}]})),r&&setTimeout(()=>t().clearToast(r),3e3)},clearToast:n=>e(r=>(typeof n=="number"?r.messages=[...r.messages.slice(0,n),...r.messages.slice(n+1)]:r.messages=r.messages.filter(i=>i.tag!==n),{messages:r.messages}))}));function Sj({enabled:e=!0,onClose:t}){T.useEffect(()=>{if(!e)return;const n=i=>{i.key==="Escape"&&t&&t()},r=i=>{i.preventDefault(),t&&t()};return window.addEventListener("keydown",n),window.addEventListener("popstate",r),()=>{window.removeEventListener("keydown",n),window.removeEventListener("popstate",r)}},[])}const CB=[{title:" ",value:fi.NONE,disabled:()=>!1},{title:" ",value:fi.BROWSER,disabled:()=>!Gi.canNotify()},{title:" ",value:fi.TOAST,disabled:()=>!ex.canNotify()},{title:" +  ",value:fi.BOTH,disabled:()=>!Gi.canNotify()||!ex.canNotify()}];function jB({isOpen:e,close:t}){const n=Lo(s=>s.isPermitted),r=()=>{Ai.show("  ","test-alarm")},i=()=>{Ai.requestPermission(),t()};return Sj({enabled:e,onClose:i}),e?c.jsx(tn,{title:"",onClose:i,isOpen:e,children:c.jsxs(tn.Content,{children:[c.jsx(kB,{}),c.jsx(EB,{}),c.jsx("div",{className:"mt-4 flex justify-end",children:c.jsx(ct,{variant:"outlined",size:"medium",onClick:r,disabled:!n,children:""})})]})}):null}function kB(){const e=Xs(s=>s.alarmType),t=Xs(s=>s.saveSettings),n=Lo(s=>s.isPermitted),r=Gi.canNotify(),i=s=>{t({alarmType:Number(s.target.value)})};return c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block mb-2 font-bold text-md",htmlFor:"alarm-type-select",children:" "}),c.jsx("select",{id:"alarm-type-select",className:"w-full mb-2 p-2 border border-gray-300 rounded",value:e,onChange:i,children:CB.map(s=>c.jsx("option",{className:"disabled:text-gray-500",value:s.value,disabled:s.disabled(),children:s.title},s.value))}),(e===fi.BROWSER||e===fi.BOTH)&&!n&&c.jsx("p",{className:"pl-2 pb-2 text-sm text-red-600",children:"  ."}),e===fi.TOAST&&c.jsx("p",{className:"pl-2 pb-2 text-sm text-red-600",children:"      ."}),!r&&c.jsx("p",{className:"pl-2 pb-2 text-xs text-gray-600",children:"     ."})]})}function EB(){const t=Xs(f=>f.alarmType)===fi.NONE,n=uh(Eo.SOUND),r=uh(Eo.VIBRATE),i=Nv.canNotify(),s=Xs(f=>f.subAlarmType),a=Xs(f=>f.saveSettings),o=t,u=t||!i,d=f=>{const p=f.target.id==="select-sound"?Eo.SOUND:Eo.VIBRATE,g=f.target.checked?s|p:s&~p;a({subAlarmType:g})};return c.jsxs("div",{children:[c.jsx("h3",{className:"block mb-2 font-bold text-md",children:"  "}),c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsxs("label",{className:"my-1 flex items-center justify-between",htmlFor:"select-sound",children:[c.jsx("span",{className:o?"text-gray-300":"",children:""}),c.jsx(A5,{id:"select-sound",name:"sound",checked:n,onChange:d,disabled:o})]}),c.jsxs("label",{className:"my-1 flex items-center justify-between",htmlFor:"select-vibrate",children:[c.jsx("span",{className:u?"text-gray-300":"",children:""}),c.jsx(A5,{id:"select-vibrate",name:"vibrate",checked:r,onChange:d,disabled:u})]}),!i&&c.jsx("p",{className:"pl-2 pb-2 text-sm text-red-600",children:"     ."})]})]})}const TB=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 3C7.88696 2.99977 8.74883 3.29435 9.4501 3.83741C10.1514 4.38047 10.6523 5.14121 10.874 6H19V8H10.874C10.6283 8.94049 10.0486 9.75939 9.24333 10.3038C8.43802 10.8482 7.46209 11.0809 6.49778 10.9584C5.53346 10.836 4.64669 10.3667 4.00303 9.63828C3.35937 8.90985 3.00284 7.97206 3 7C3 5.93913 3.42143 4.92172 4.17157 4.17157C4.92172 3.42143 5.93913 3 7 3ZM7 9C7.53043 9 8.03914 8.78929 8.41421 8.41421C8.78929 8.03914 9 7.53043 9 7C9 6.46957 8.78929 5.96086 8.41421 5.58579C8.03914 5.21071 7.53043 5 7 5C6.46957 5 5.96086 5.21071 5.58579 5.58579C5.21071 5.96086 5 6.46957 5 7C5 7.53043 5.21071 8.03914 5.58579 8.41421C5.96086 8.78929 6.46957 9 7 9ZM17 20C16.113 20.0002 15.2512 19.7056 14.5499 19.1626C13.8486 18.6195 13.3477 17.8588 13.126 17H5V15H13.126C13.3717 14.0595 13.9514 13.2406 14.7567 12.6962C15.562 12.1518 16.5379 11.9191 17.5022 12.0416C18.4665 12.164 19.3533 12.6333 19.997 13.3617C20.6406 14.0901 20.9972 15.0279 21 16C21 17.0609 20.5786 18.0783 19.8284 18.8284C19.0783 19.5786 18.0609 20 17 20ZM17 18C17.5304 18 18.0391 17.7893 18.4142 17.4142C18.7893 17.0391 19 16.5304 19 16C19 15.4696 18.7893 14.9609 18.4142 14.5858C18.0391 14.2107 17.5304 14 17 14C16.4696 14 15.9609 14.2107 15.5858 14.5858C15.2107 14.9609 15 15.4696 15 16C15 16.5304 15.2107 17.0391 15.5858 17.4142C15.9609 17.7893 16.4696 18 17 18Z",fill:"currentColor"})),NB=()=>{if(typeof navigator>"u")return"chrome";const e=navigator.userAgent.toLowerCase();return e.includes("firefox")?"firefox":e.includes("edg")?"edge":e.includes("safari")&&!e.includes("chrome")?"safari":"chrome"},PB=()=>{if(typeof navigator>"u")return"macos";const e=navigator.platform.toLowerCase(),t=navigator.userAgent.toLowerCase();return e.startsWith("mac")||t.includes("mac os x")?"macos":e.startsWith("win")?"windows":/android|iphone|ipad|ipod/.test(t)?"mobile":"macos"};function OB(){const e=Lo(s=>s.isOpen),t=Lo(s=>s.close),[n,r]=T.useState(0),i=1;return T.useEffect(()=>{e||r(0)},[e]),c.jsx(tn,{title:"  ",onClose:t,isOpen:e,children:c.jsxs("div",{className:"p-4 text-sm text-gray-700 w-lg max-w-full",children:[n===0&&c.jsx(RB,{}),n===1&&c.jsx(AB,{}),c.jsxs("div",{className:"flex justify-between items-center mt-6",children:[c.jsxs("span",{className:"text-xs text-gray-500",children:[n+1," / ",i+1]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[n>0&&c.jsx("button",{className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",onClick:()=>r(n-1),children:""}),n<i&&c.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>r(n+1),children:""}),n===i&&c.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:t,children:""})]})]})]})})}function RB(){const[e,t]=T.useState(NB());return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-base text-gray-800",children:"1:    "}),c.jsx("p",{className:"mt-1",children:" 'ALLCLL'    ."})]}),c.jsxs("div",{className:"flex border-b border-gray-500",children:[c.jsx(Bl,{name:"Chrome",id:"chrome",selected:e,onClick:t}),c.jsx(Bl,{name:"Firefox",id:"firefox",selected:e,onClick:t}),c.jsx(Bl,{name:"Safari",id:"safari",selected:e,onClick:t}),c.jsx(Bl,{name:"Edge",id:"edge",selected:e,onClick:t})]}),c.jsxs("div",{className:"p-2 bg-gray-50 rounded-md h-64 overflow-y-auto",children:[e==="chrome"&&c.jsx(IB,{}),e==="firefox"&&c.jsx(DB,{}),e==="safari"&&c.jsx(MB,{}),e==="edge"&&c.jsx(LB,{})]})]})}function AB(){const[e,t]=T.useState(PB());return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-base text-gray-800",children:"2: OS    "}),c.jsx("p",{className:"mt-1",children:"  OS   ."})]}),c.jsxs("div",{className:"flex border-b border-gray-500",children:[c.jsx(Bl,{name:"macOS",id:"macos",selected:e,onClick:t}),c.jsx(Bl,{name:"Windows",id:"windows",selected:e,onClick:t}),c.jsx(Bl,{name:"",id:"mobile",selected:e,onClick:t})]}),c.jsxs("div",{className:"p-2 bg-gray-50 rounded-md h-64 overflow-y-auto",children:[e==="macos"&&c.jsx(FB,{}),e==="windows"&&c.jsx(BB,{}),e==="mobile"&&c.jsx(zB,{})]})]})}const Bl=({name:e,id:t,selected:n,onClick:r})=>c.jsx("button",{className:`px-4 py-2 text-sm ${n===t?"border-b-2 border-blue-500 text-blue-600 font-semibold":"text-gray-500 font-medium"}`,onClick:()=>r(t),children:e}),Yl=({title:e,children:t})=>c.jsxs("div",{className:"space-y-1",children:[c.jsx("h4",{className:"font-semibold text-gray-800",children:e}),c.jsx("div",{className:"pl-2 space-y-1 text-gray-600",children:t})]}),IB=()=>c.jsxs("div",{className:"space-y-3",children:[c.jsx(Yl,{title:" 1:   ()",children:c.jsxs("ol",{className:"list-decimal list-inside",children:[c.jsxs("li",{children:["    (",c.jsx(TB,{className:"inline-block w-4 h-4"}),")  ."]}),c.jsx("li",{children:"  ''    '' ."})]})}),c.jsx(Yl,{title:" 2:   ",children:c.jsxs("ol",{className:"list-decimal list-inside",children:[c.jsx("li",{children:"   3()  > '' ."}),c.jsx("li",{children:"'  ' > ' ' > '' ."}),c.jsx("li",{children:"'  '  ''   'allcll.com' ."})]})})]}),LB=()=>c.jsxs("div",{className:"space-y-3",children:[c.jsx(Yl,{title:" 1:   ()",children:c.jsxs("ol",{className:"list-decimal list-inside",children:[c.jsx("li",{children:"  ()  ."}),c.jsx("li",{children:"'   '  '' '' ."})]})}),c.jsx(Yl,{title:" 2:   ",children:c.jsxs("ol",{className:"list-decimal list-inside",children:[c.jsx("li",{children:"   3()  > '' ."}),c.jsx("li",{children:"'   ' > '' ."}),c.jsx("li",{children:"''  ''   'allcll.com' ."})]})})]}),DB=()=>c.jsxs("div",{className:"space-y-3",children:[c.jsx(Yl,{title:" 1:   ()",children:c.jsxs("ol",{className:"list-decimal list-inside",children:[c.jsx("li",{children:"  ()  ."}),c.jsx("li",{children:"' '  '' ."})]})}),c.jsx(Yl,{title:" 2:   ",children:c.jsxs("ol",{className:"list-decimal list-inside",children:[c.jsx("li",{children:"   3()  > '' ."}),c.jsx("li",{children:"'  '  ''  ."}),c.jsx("li",{children:"''  '...'  ."}),c.jsx("li",{children:"'allcll.com'   ''  '  ' ."})]})})]}),MB=()=>c.jsx("div",{className:"space-y-3",children:c.jsx(Yl,{title:"Safari  ",children:c.jsxs("ol",{className:"list-decimal list-inside",children:[c.jsx("li",{children:"    'Safari' > '...' ( '...') ."}),c.jsx("li",{children:"''  ."}),c.jsx("li",{children:"  '' ."}),c.jsx("li",{children:" 'allcll.com'   '' ."})]})})}),FB=()=>c.jsx("div",{className:"space-y-2",children:c.jsxs("ol",{className:"list-decimal list-inside pl-2 mt-2 space-y-1",children:[c.jsx("li",{children:"    ()   ' ' ."}),c.jsx("li",{children:"  '' ."}),c.jsx("li",{children:"    (Chrome, Safari )  ."}),c.jsx("li",{children:"' '  ."})]})}),BB=()=>c.jsx("div",{className:"space-y-2",children:c.jsxs("ol",{className:"list-decimal list-inside pl-2 mt-2 space-y-1",children:[c.jsx("li",{children:"''  '' ."}),c.jsx("li",{children:"''   ''  ."}),c.jsx("li",{children:"'     '   ."}),c.jsx("li",{children:"        ."})]})}),zB=()=>c.jsxs("div",{className:"pl-2 mt-2 space-y-2",children:[c.jsx("p",{children:"  PC        .  iOS Safari     ."}),c.jsx("p",{className:"font-medium",children:"       ' '   ."})]}),UB=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17,height:17,viewBox:"0 0 17 14.5",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,28.015625)"},T.createElement("path",{d:"M1.0474,27.8750125Q0.538991,28.2031125,0.137615,27.7656125Q-0.183486,27.246112500000002,0.244648,26.8359125L16.0856,14.1484375Q16.594,13.8203125,16.9954,14.2578125Q17.3165,14.7773435,16.8884,15.1875025L14.4801,17.1289025Q14.4801,17.1562525,14.4801,17.1562525Q14.6942,17.6757825,14.3463,18.0859325L14.159,18.3320325Q12.8746,19.8085925,12.8479,21.8046925L12.8479,22.324222499999998Q12.8211,23.9375025,11.8578,25.1133125Q10.9213,26.2890125,9.42278,26.6172125L9.42278,27.1367125Q9.42278,27.519512499999998,9.18196,27.7656125Q8.94113,28.0117125,8.56651,28.0117125Q8.1919,28.0117125,7.95107,27.7656125Q7.71025,27.519512499999998,7.71025,27.1367125L7.71025,26.6172125Q5.94419,26.207012499999998,4.98089,24.7031125L1.0474,27.8750125ZM10.8677,16.6367225L4.28517,21.9414025L10.8677,16.6367225L4.28517,21.9414025L4.28517,21.8046925Q4.25841,19.8085925,3.00077,18.3046925L2.7867,18.0859325Q2.43884,17.6757825,2.65291,17.1562525Q2.89373,16.6640625,3.4289,16.6367225L10.8677,16.6367225ZM9.77064,14.5312505Q10.2791,15.0507825,10.2791,15.7617225L8.56651,15.7617225L6.85398,15.7617225Q6.85398,15.0507825,7.36239,14.5312505Q7.8708,14.01171884,8.56651,14.01171884Q9.26223,14.01171884,9.77064,14.5312505Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function $B({isAlarm:e}){const t=uc(s=>s.sseState),n=Lo(s=>s.isPermitted),r=t===Pv.LIVE,i=r?Ai.getDeniedMessage():[...Ai.getDeniedMessage(),"  "];return e?n&&r?c.jsx(Bo,{className:"w-5 h-5 text-primary-500"}):c.jsxs(c.Fragment,{children:[c.jsx(Bo,{className:"w-5 h-5 text-secondary-500 animate-pulse"}),i.length>0&&c.jsx("span",{className:"absolute left-full -bottom-2 transform -translate-x-full translate-y-full opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-gray-900 text-white text-sm p-2 rounded w-64 h-fit text-center pointer-events-none",children:i.map((s,a)=>c.jsx("p",{className:"pt-1 first:pt-0",children:s},"tooltip-line-"+a))})]}):c.jsx(UB,{className:"w-5 h-5"})}const HB=async()=>await vi("/api/pins"),VB=async e=>{const t=await $o(`/api/pin?subjectId=${e}`,{method:"POST"});if(!t.ok)throw new Error(await t.text())},qB=async e=>{const t=await $o(`/api/pin/${e}`,{method:"DELETE"});if(!t.ok)throw new Error(await t.text())},I5=5;function Cg(){return Cr({queryKey:["pinnedSubjects"],queryFn:HB,select:e=>e.subjects})}const Cj=()=>{const e=$n();return xi({mutationFn:VB,onMutate:async t=>{await e.cancelQueries({queryKey:["pinnedSubjects"]});const n=e.getQueryData(["pinnedSubjects"])?.subjects??[];if(n&&n.length>=I5)throw new Error(JSON.stringify({message:`   ${I5} .`}));if(n){const r={...n[0],subjectId:t};e.setQueryData(["pinnedSubjects"],{subjects:[...n,r]}),n.push(r)}return{previousUsers:n}},onSuccess:()=>{e.invalidateQueries({queryKey:["pinnedSubjects"]}).then()},onError:t=>{try{const n=JSON.parse(t.message);alert(n.message)}catch{alert("Error adding pinned subject")}}})},tb=()=>{const e=$n();return xi({mutationFn:qB,onMutate:async t=>{await e.cancelQueries({queryKey:["pinnedSubjects"]});const n=e.getQueryData(["pinnedSubjects"]);if(n){const r=n.subjects.filter(i=>i.subjectId!==t);e.setQueryData(["pinnedSubjects"],{subjects:r})}return{previousData:n}},onSettled:()=>{console.log("pin removed onSettled"),e.invalidateQueries({queryKey:["pinnedSubjects"]}).then()},onError:t=>{console.error("Error removing pinned subject:",t)}})},WB=1e3,QB=60*WB,KB={subjectId:-1,seat:-1};function GB(){return Cr({queryKey:["preRealSeats"],queryFn:YB,staleTime:10*QB,select:e=>e?.preSeats??null})}async function YB(){return await rg("/pre-seats.json?date=20260215")}function jj(e,t,n,r){if(!e||!t)return e||t;const i=e.sort((d,f)=>d.subjectId-f.subjectId),s=t.sort((d,f)=>d.subjectId-f.subjectId),a=[];let o=0,u=0;for(;o<i.length&&u<s.length;)i[o].subjectId===s[u].subjectId?a.push({...i[o++],...s[u++]}):i[o].subjectId<s[u].subjectId?a.push({...r,...i[o++]}):a.push({...n,...s[u++]});for(;o<i.length;)a.push({...r,...i[o++]});for(;u<s.length;)a.push({...n,...s[u++]});return a}function jg(e,t){const{data:n}=GB();return T.useMemo(()=>!e||!n?.length?e:jj(e,n,t??sg,KB),[e,n,t])}class nb extends RangeError{constructor(t){super(t),this.name="ParamsInvalidError"}}class JB extends Error{constructor(t){super(t),this.name="NotFoundError"}}const XB="SPRING_26_20260131",ZB=async e=>await rg(`/${e}/baskets.json?v=${XB}`),ez=async e=>{const t=await $o(`/api/baskets/${e}`);if(!t.ok){const n=await t.text(),r=tz(n);throw r?.status==="400 BAD_REQUEST"?new nb(r.code):new Error(await t.text())}return t.json()},tz=e=>{try{return JSON.parse(e)}catch{return null}},nu={...sg,departmentCode:"",departmentName:"",totalCount:-1};function ta(e){e=e??es.semesterCode;const{data:t,isPending:n,isLoading:r}=Rs(e),i=Cr({queryKey:["wishlist",e],queryFn:()=>ZB(e),staleTime:1/0,select:s=>nz(s,t)});return{...i,isPending:i.isPending||n,isLoading:i.isLoading||r}}const nz=(e,t)=>{if(!t)return[];const n=e?.baskets??[];return jj(t,n,sg,nu).map(i=>({...i,departmentCode:i.deptCd,departmentName:i.manageDeptNm}))};function rz(e){const{data:t}=ta();return t?.filter(n=>e.includes(n.subjectId))??[]}let Pd=null,$u=0;const Ky=fr(e=>{const t=()=>{Pd||(Pd=setInterval(()=>{e(r=>({tick:r.tick+1}))},1e3))},n=()=>{Pd&&clearInterval(Pd),Pd=null};return{tick:0,addRefCount:()=>{$u===0&&t(),$u=$u+1},removeRefCount:()=>{$u<=1&&n(),$u=Math.max(0,$u-1)}}}),kj=e=>{const t=Ky(i=>i.tick),n=Ky(i=>i.addRefCount),r=Ky(i=>i.removeRefCount);T.useEffect(()=>(n(),()=>{r()}),[]),T.useEffect(()=>{},[t])};function rb(e){if(!e)return"  ";const t=new Date,n=new Date(e),r=t.getTime()-n.getTime(),i=Math.floor(r/1e3),s=Math.floor(i/60),a=Math.floor(s/60),o=Math.floor(a/24),u=Math.floor(o/30),d=Math.floor(u/12);return d>0?`${d} `:u>0?`${u} `:o>0?`${o} `:a>0?`${a} `:s>0?`${s} `:i>0?`${i} `:" "}function iz({subject:e,seats:t,queryTime:n,disableSeat:r=!1}){const{mutate:i}=tb(),s=()=>{i(e.subjectId)};return c.jsxs(Yt,{variant:"filled",children:[c.jsxs(fe,{justify:"justify-between",children:[c.jsx(mt,{level:3,children:e.subjectName}),c.jsx(zn,{variant:"plain","aria-label":"  ",icon:c.jsx(eg,{className:"text-gray-400 w-3 h-3"}),onClick:s})]}),c.jsxs("div",{className:"mb-2 text-xs text-gray-500",children:[c.jsx("p",{children:e.departmentName}),c.jsxs("p",{children:[e.subjectCode,"-",e.classCode," | ",e.professorName]})]}),!r&&c.jsxs(fe,{justify:"justify-between",children:[c.jsx(az,{seats:t}),c.jsx(sz,{queryTime:n})]})]})}function sz({queryTime:e}){kj();const t=rb(e);return c.jsx("p",{className:"text-xs text-gray-500",children:e?`${t} `:t})}function az({seats:e}){const t=e!=null&&e>=0,n=bj(e),r=t?e:"???";return c.jsxs(Xi,{variant:n,children:[": ",r]})}const yx=fr(e=>({isSearchOpen:!1,setIsSearchOpen:t=>e(()=>({isSearchOpen:t}))}));function Ej(){const e=yx(t=>t.setIsSearchOpen);return c.jsx(fe,{justify:"justify-center",align:"items-center",children:c.jsx(ct,{variant:"ghost",size:"medium",onClick:()=>e(!0),children:"+   "})})}function kg({icon:e,title:t,description:n,children:r}){return c.jsx("div",{className:"flex flex-col items-center justify-center w-full bg-gray-50 rounded-md",children:c.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 p-12",children:[c.jsx("div",{children:e}),c.jsx("div",{className:"text-gray-600",children:t}),c.jsx("div",{className:"text-xs text-gray-500",children:n}),r]})})}const qh=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,72)"},T.createElement("g",null,T.createElement("path",{d:"M18,36Q22.9219,36.0703125,27,38.39062Q31.0781,40.78125,33.6094,45Q36,49.2891,36,54Q36,58.710899999999995,33.6094,63Q31.0781,67.2188,27,69.6094Q22.9219,71.9297,18,72Q13.0781,71.9297,9,69.6094Q4.92188,67.2188,2.39062,63Q0,58.710899999999995,0,54Q0,49.2891,2.39062,45Q4.92188,40.78125,9,38.39062Q13.0781,36.0703125,18,36ZM18,63Q19.5469,62.8594,19.6875,61.3125L19.6875,53.4375Q19.5469,51.8906,18,51.75Q16.4531,51.8906,16.3125,53.4375L16.3125,61.3125Q16.4531,62.8594,18,63ZM15.75,47.25Q15.75,48.2344,16.3828,48.8672Q17.0156,49.5,18,49.5Q18.9844,49.5,19.6172,48.8672Q20.25,48.2344,20.25,47.25Q20.25,46.2656,19.6172,45.63281Q18.9844,45,18,45Q17.0156,45,16.3828,45.63281Q15.75,46.2656,15.75,47.25Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})))),oz=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:12.68359375,height:12.25,viewBox:"0 0 12.68359375 12.25",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,24.5)"},T.createElement("g",null,T.createElement("path",{d:"M9.67675,21L8.30998,21L9.67675,21L8.30998,21Q7.92728,21,7.68126,20.753909999999998Q7.43524,20.50781,7.43524,20.125Q7.43524,19.74219,7.68126,19.49609Q7.92728,19.25,8.30998,19.25L11.8089,19.25Q12.1916,19.25,12.4376,19.49609Q12.6837,19.74219,12.6837,20.125L12.6837,23.625Q12.6837,24.0078,12.4376,24.2539Q12.1916,24.5,11.8089,24.5Q11.4262,24.5,11.1802,24.2539Q10.9342,24.0078,10.9342,23.625L10.9342,22.23047L10.4421,22.6953Q9.23938,23.898400000000002,7.68126,24.3086Q6.12314,24.6914,4.56502,24.3086Q3.0069,23.898400000000002,1.80414,22.6953Q0.60138,21.49219,0.191348,19.93359Q-0.191348,18.375,0.191348,16.81641Q0.60138,15.25781,1.80414,14.05469Q3.0069,12.851562,4.56502,12.441406Q6.12314,12.058594,7.68126,12.441406Q9.23938,12.851562,10.4421,14.05469Q10.7155,14.30078,10.7155,14.65625Q10.7155,15.01172,10.4421,15.28516Q10.1961,15.53125,9.84076,15.53125Q9.4854,15.53125,9.21205,15.28516Q7.87261,14,6.12314,14Q4.37367,14,3.03424,15.28516Q1.74947,16.625,1.74947,18.375Q1.74947,20.125,3.03424,21.464840000000002Q4.37367,22.75,6.12314,22.75Q7.87261,22.75,9.21205,21.464840000000002L9.67675,21Z",fill:"#FFFFFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))));function Tj({onReload:e}){return c.jsx(kg,{title:"    ",description:"  ",icon:c.jsx(qh,{className:"w-7 h-7"}),children:c.jsxs("button",{className:"mt-4 flex items-center gap-2 bg-blue-500 text-white px-4 py-2 rounded cursor-pointer hover:bg-blue-600",onClick:e,children:[c.jsx(oz,{className:"w-3 h-3"}),""]})})}function lz(){return c.jsx(kg,{title:"   ",description:"    .     .",icon:c.jsx(Bo,{className:"w-7 h-7",disabled:!0}),children:c.jsx(Ej,{})})}function uz(){return c.jsx(fe,{justify:"justify-center",align:"items-center",children:c.jsx(ct,{variant:"ghost",size:"medium",disabled:!0,children:"   5   ."})})}function cz(){const{data:e,isPending:t,isError:n,refetch:r}=Cg(),{data:i}=Ov(ag.PINNED),s=rz(e?.map(u=>u.subjectId)??[]),a=u=>i?.find(f=>f.subjectId===u)?.seatCount??-1,o=u=>i?.find(f=>f.subjectId===u)?.queryTime??"";return t?c.jsx(dz,{}):n?c.jsx(Tj,{onReload:r}):!s||s.length===0?c.jsx(lz,{}):c.jsxs(Os,{columns:{base:1,md:3},gap:"gap-4",children:[s.map(u=>c.jsx(iz,{subject:u,seats:a(u.subjectId),queryTime:o(u.subjectId)},`${u.subjectId}_${u.subjectCode}_${u.professorName}`)),s.length<5?c.jsx(Ej,{}):c.jsx(uz,{})]})}function dz(){return c.jsx("div",{className:"animate-pulse grid grid-cols-1 md:grid-cols-3 gap-4",children:[0,0,0].map((e,t)=>c.jsx("div",{className:"bg-gray-300 shadow-sm rounded-lg p-4 h-24"},"skeleton-card-"+t))})}const hz=()=>{const[e,t]=T.useState(!1);return c.jsxs(Yt,{children:[c.jsx(jB,{isOpen:e,close:()=>t(!1)}),c.jsx(OB,{}),c.jsx(fz,{setIsAlarmSettingOpen:t}),c.jsx(cz,{})]})};function fz({setIsAlarmSettingOpen:e}){const{isAlarm:t,changeAlarm:n}=$O(),{isError:r,refetch:i}=Ov(ag.PINNED);return c.jsxs(fe,{direction:"flex-row",justify:"justify-between",align:"align-top",className:"mb-4",children:[c.jsxs(fe,{align:"items-center",justify:"justify-center",gap:"gap-2",children:[c.jsx(mt,{level:3,children:"  "}),c.jsx(ZP,{children:c.jsxs("p",{className:"text-sm",children:["    ",c.jsx("br",{}),c.jsx("span",{className:"text-red-500",children:"*     "})]})})]}),c.jsxs(fe,{align:"items-center",gap:"gap-1",children:[r&&c.jsx(zn,{icon:c.jsx(wj,{className:"w-5 h-5"}),"aria-label":" ",label:" ",onClick:i}),c.jsx(zn,{icon:c.jsx(bB,{className:"w-5 h-5"}),"aria-label":" ",label:" ",onClick:()=>e(!0)}),c.jsx(zn,{icon:c.jsx($B,{isAlarm:t}),"aria-label":t?" ":" ",label:t?" ":" ",onClick:n})]})]})}const pz=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:15.75,height:18,viewBox:"0 0 15.75 18",...e},T.createElement("defs",null,T.createElement("clipPath",{id:"master_svg0_85_3269"},T.createElement("rect",{x:0,y:0,width:15.75,height:18,rx:0}))),T.createElement("g",{clipPath:"url(#master_svg0_85_3269)"},T.createElement("g",{transform:"matrix(1,0,0,-1,0,32.2734375)"},T.createElement("g",null,T.createElement("path",{d:"M15.4336,22.07812875Q15.75,22.42968875,15.75,22.88671875Q15.75,23.34374875,15.4336,23.69530875L9.80859,29.32031875Q9.45703,29.63671875,9,29.63671875Q8.54297,29.63671875,8.19141,29.32031875Q7.875,28.96871875,7.875,28.51171875Q7.875,28.05471875,8.19141,27.70311875L11.918,24.01171875L1.125,24.01171875Q0.632812,24.01171875,0.316406,23.69530875Q0,23.37890875,0,22.88671875Q0,22.39452875,0.316406,22.07812875Q0.632812,21.76171875,1.125,21.76171875L11.918,21.76171875L8.19141,18.07030875Q7.875,17.71874875,7.875,17.26171875Q7.875,16.80468775,8.19141,16.45312475Q8.54297,16.13671875,9,16.13671875Q9.45703,16.13671875,9.80859,16.45312475L15.4336,22.07812875Z",fill:"#FFFFFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})))));function mz(e=200){const[t,n]=T.useState(!1);return T.useEffect(()=>{const i=()=>n(window.scrollY>e);return i(),window.addEventListener("scroll",i,{passive:!0}),()=>window.removeEventListener("scroll",i)},[e]),{isVisible:t,scrollToTop:()=>{window.scrollTo({top:0,behavior:"smooth"})}}}function Nj({right:e="right-2 sm:right-10",bottom:t="bottom-4"}){const{isVisible:n,scrollToTop:r}=mz(200);return c.jsx("button",{"aria-label":"  ",className:`fixed ${t} ${e} z-50 w-12 h-12 rounded-full bg-blue-500 text-white shadow-lg 
                  flex justify-center items-center cursor-pointer transition-opacity duration-200
                  ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:r,children:c.jsx(pz,{className:"w-6 h-6 -rotate-90"})})}const zo={keywords:"",department:"",grades:[],credits:[],categories:[],seatRange:null,wishRange:null,time:[],days:[],classroom:[],note:[],language:[],alarmOnly:!1,favoriteOnly:!1},ib=()=>fr(e=>({filters:{...zo},setFilter:(t,n)=>e(r=>({filters:{...r.filters,[t]:n}})),resetFilters:()=>e({filters:zo})})),Es=ib(),rc=ib(),qd=ib();function sb(){return c.jsxs("div",{className:"flex justify-end items-center mt-2 text-xs text-gray-500",children:[c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"block w-4 h-4 rounded bg-green-100 ml-1","aria-label":" "}),"  "]}),c.jsxs("span",{className:"flex items-center gap-2 ml-4",children:[c.jsx("span",{className:"block w-4 h-4 rounded bg-gray-100 ml-1","aria-label":" "})," "]})]})}function Pj(e){const{data:t,isPending:n}=ta(),r=jg(t,nu),i=r&&r[0]&&"seat"in r[0],s=T.useMemo(()=>i?[...e,{title:"",key:"seat"}]:e,[r,e]);return{data:r,titles:s,isPending:n,hasRealSeats:i}}let hi;function Oj(){return hi||(hi=JSON.parse(localStorage.getItem("departmentRank")??"{}"),hi)}function gz(){hi&&localStorage.setItem("departmentRank",JSON.stringify(hi))}function Eg(e){hi||(hi=Oj()),hi[e]===void 0?hi[e]=0:hi[e]+=1,gz()}function Rj(){return hi||(hi=Oj()),Object.entries(hi).sort(([,e],[,t])=>t-e)}function Oc(e){const t=T.useMemo(()=>{const r=Rj();return new Map(r.map(([i,s],a)=>[i,a]))},[]),n=T.useMemo(()=>{if(e)return yz(e)},[e]);return T.useMemo(()=>{if(!n)return;const r=a=>{const o=t.get(a);return o===void 0?5:o};return n.map(a=>{const u=(5-r(a.departmentCode??a.deptCd))*250+a.rank*100-Number(a.classCode);return{...a,searchScore:u}}).sort((a,o)=>o.searchScore-a.searchScore).map(({searchScore:a,...o})=>o)},[t,n])}function yz(e){const t=new Map;for(const n of e){const r=`${n.subjectCode}-${n.departmentCode}`,i=t.get(r);i?(i.sum+=n.totalCount??0,i.count+=1):t.set(r,{sum:n.totalCount??0,count:1})}return e.map(n=>{const r=`${n.subjectCode}-${n.departmentCode}`,i=t.get(r),s=i.sum/i.count;return{...n,rank:s}})}function Tg(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function xz(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(f){try{d(r.next(f))}catch(p){a(p)}}function u(f){try{d(r.throw(f))}catch(p){a(p)}}function d(f){f.done?s(f.value):i(f.value).then(o,u)}d((r=r.apply(e,t||[])).next())})}const vz=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class ab extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class bz extends ab{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class L5 extends ab{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class D5 extends ab{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var xx;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(xx||(xx={}));class wz{constructor(t,{headers:n={},customFetch:r,region:i=xx.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=vz(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return xz(this,arguments,void 0,function*(n,r={}){var i;let s,a;try{const{headers:o,method:u,body:d,signal:f,timeout:p}=r;let g={},{region:y}=r;y||(y=this.region);const b=new URL(`${this.url}/${n}`);y&&y!=="any"&&(g["x-region"]=y,b.searchParams.set("forceFunctionRegion",y));let _;d&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",_=d):typeof d=="string"?(g["Content-Type"]="text/plain",_=d):typeof FormData<"u"&&d instanceof FormData?_=d:(g["Content-Type"]="application/json",_=JSON.stringify(d)):d&&typeof d!="string"&&!(typeof Blob<"u"&&d instanceof Blob)&&!(d instanceof ArrayBuffer)&&!(typeof FormData<"u"&&d instanceof FormData)?_=JSON.stringify(d):_=d;let C=f;p&&(a=new AbortController,s=setTimeout(()=>a.abort(),p),f?(C=a.signal,f.addEventListener("abort",()=>a.abort())):C=a.signal);const k=yield this.fetch(b.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),o),body:_,signal:C}).catch(V=>{throw new bz(V)}),P=k.headers.get("x-relay-error");if(P&&P==="true")throw new L5(k);if(!k.ok)throw new D5(k);let A=((i=k.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),U;return A==="application/json"?U=yield k.json():A==="application/octet-stream"||A==="application/pdf"?U=yield k.blob():A==="text/event-stream"?U=k:A==="multipart/form-data"?U=yield k.formData():U=yield k.text(),{data:U,error:null,response:k}}catch(o){return{data:null,error:o,response:o instanceof D5||o instanceof L5?o.context:void 0}}finally{s&&clearTimeout(s)}})}}var _z=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Sz=class{constructor(e){var t,n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=e.urlLengthLimit)!==null&&r!==void 0?r:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let a=null,o=null,u=null,d=s.status,f=s.statusText;if(s.ok){var p,g;if(n.method!=="HEAD"){var y;const k=await s.text();k===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((y=n.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?o=k:o=JSON.parse(k))}const _=(p=n.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),C=(g=s.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");_&&C&&C.length>1&&(u=parseInt(C[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,u=null,d=406,f="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var b;const _=await s.text();try{a=JSON.parse(_),Array.isArray(a)&&s.status===404&&(o=[],a=null,d=200,f="OK")}catch{s.status===404&&_===""?(d=204,f="No Content"):a={message:_}}if(a&&n.isMaybeSingle&&(!(a==null||(b=a.details)===null||b===void 0)&&b.includes("0 rows"))&&(a=null,d=200,f="OK"),a&&n.shouldThrowOnError)throw new _z(a)}return{error:a,data:o,count:u,status:d,statusText:f}});return this.shouldThrowOnError||(i=i.catch(s=>{var a;let o="",u="",d="";const f=s?.cause;if(f){var p,g,y,b;const k=(p=f?.message)!==null&&p!==void 0?p:"",P=(g=f?.code)!==null&&g!==void 0?g:"";o=`${(y=s?.name)!==null&&y!==void 0?y:"FetchError"}: ${s?.message}`,o+=`

Caused by: ${(b=f?.name)!==null&&b!==void 0?b:"Error"}: ${k}`,P&&(o+=` (${P})`),f?.stack&&(o+=`
${f.stack}`)}else{var _;o=(_=s?.stack)!==null&&_!==void 0?_:""}const C=this.url.toString().length;return s?.name==="AbortError"||s?.code==="ABORT_ERR"?(d="",u="Request was aborted (timeout or manual cancellation)",C>this.urlLengthLimit&&(u+=`. Note: Your request URL is ${C} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(f?.name==="HeadersOverflowError"||f?.code==="UND_ERR_HEADERS_OVERFLOW")&&(d="",u="HTTP headers exceeded server limits (typically 16KB)",C>this.urlLengthLimit&&(u+=`. Your request URL is ${C} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(a=s?.name)!==null&&a!==void 0?a:"FetchError"}: ${s?.message}`,details:o,hint:u,code:d},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},Cz=class extends Sz{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:s="text"}={}){var a;const o=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${u}"; options=${o};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const M5=new RegExp("[,()]");var ic=class extends Cz{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&M5.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&M5.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},jz=class{constructor(e,{headers:t={},schema:n,fetch:r,urlLengthLimit:i=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},i=n?"HEAD":"GET";let s=!1;const a=(e??"*").split("").map(d=>/\s/.test(d)&&!s?"":(d==='"'&&(s=!s),d)).join(""),{url:o,headers:u}=this.cloneRequestState();return o.searchParams.set("select",a),r&&u.append("Prefer",`count=${r}`),new ic({method:i,url:o,headers:u,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const i="POST",{url:s,headers:a}=this.cloneRequestState();if(t&&a.append("Prefer",`count=${t}`),n||a.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(o.length>0){const u=[...new Set(o)].map(d=>`"${d}"`);s.searchParams.set("columns",u.join(","))}}return new ic({method:i,url:s,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var s;const a="POST",{url:o,headers:u}=this.cloneRequestState();if(u.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&o.searchParams.set("on_conflict",t),r&&u.append("Prefer",`count=${r}`),i||u.append("Prefer","missing=default"),Array.isArray(e)){const d=e.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(d.length>0){const f=[...new Set(d)].map(p=>`"${p}"`);o.searchParams.set("columns",f.join(","))}}return new ic({method:a,url:o,headers:u,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var n;const r="PATCH",{url:i,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new ic({method:r,url:i,headers:s,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new ic({method:n,url:r,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function vh(e){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vh(e)}function kz(e,t){if(vh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ez(e){var t=kz(e,"string");return vh(t)=="symbol"?t:t+""}function Tz(e,t,n){return(t=Ez(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F5(Object(n),!0).forEach(function(r){Tz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Nz=class Aj{constructor(t,{headers:n={},schema:r,fetch:i,timeout:s,urlLengthLimit:a=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=a;const o=i??globalThis.fetch;s!==void 0&&s>0?this.fetch=(u,d)=>{const f=new AbortController,p=setTimeout(()=>f.abort(),s),g=d?.signal;if(g){if(g.aborted)return clearTimeout(p),o(u,d);const y=()=>{clearTimeout(p),f.abort()};return g.addEventListener("abort",y,{once:!0}),o(u,Rp(Rp({},d),{},{signal:f.signal})).finally(()=>{clearTimeout(p),g.removeEventListener("abort",y)})}return o(u,Rp(Rp({},d),{},{signal:f.signal})).finally(()=>clearTimeout(p))}:this.fetch=o}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new jz(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new Aj(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:r=!1,get:i=!1,count:s}={}){var a;let o;const u=new URL(`${this.url}/rpc/${t}`);let d;const f=y=>y!==null&&typeof y=="object"&&(!Array.isArray(y)||y.some(f)),p=r&&Object.values(n).some(f);p?(o="POST",d=n):r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([y,b])=>b!==void 0).map(([y,b])=>[y,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([y,b])=>{u.searchParams.append(y,b)})):(o="POST",d=n);const g=new Headers(this.headers);return p?g.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&g.set("Prefer",`count=${s}`),new ic({method:o,url:u,headers:g,schema:this.schemaName,body:d,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};class Pz{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Oz="2.95.3",Rz=`realtime-js/${Oz}`,Az="1.0.0",Ij="2.0.0",B5=Ij,vx=1e4,Iz=1e3,Lz=100;var _o;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(_o||(_o={}));var cr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(cr||(cr={}));var Ss;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ss||(Ss={}));var bx;(function(e){e.websocket="websocket"})(bx||(bx={}));var Rl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Rl||(Rl={}));class Dz{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,n,r){var i,s;const a=t.topic,o=(i=t.ref)!==null&&i!==void 0?i:"",u=(s=t.join_ref)!==null&&s!==void 0?s:"",d=t.payload.event,f=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},p=Object.keys(f).length===0?"":JSON.stringify(f);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+o.length+a.length+d.length+p.length,y=new ArrayBuffer(this.HEADER_LENGTH+g);let b=new DataView(y),_=0;b.setUint8(_++,this.KINDS.userBroadcastPush),b.setUint8(_++,u.length),b.setUint8(_++,o.length),b.setUint8(_++,a.length),b.setUint8(_++,d.length),b.setUint8(_++,p.length),b.setUint8(_++,n),Array.from(u,k=>b.setUint8(_++,k.charCodeAt(0))),Array.from(o,k=>b.setUint8(_++,k.charCodeAt(0))),Array.from(a,k=>b.setUint8(_++,k.charCodeAt(0))),Array.from(d,k=>b.setUint8(_++,k.charCodeAt(0))),Array.from(p,k=>b.setUint8(_++,k.charCodeAt(0)));var C=new Uint8Array(y.byteLength+r.byteLength);return C.set(new Uint8Array(y),0),C.set(new Uint8Array(r),y.byteLength),C.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,s,a,o,u]=r;return n({join_ref:i,ref:s,topic:a,event:o,payload:u})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2),a=n.getUint8(3),o=n.getUint8(4);let u=this.HEADER_LENGTH+4;const d=r.decode(t.slice(u,u+i));u=u+i;const f=r.decode(t.slice(u,u+s));u=u+s;const p=r.decode(t.slice(u,u+a));u=u+a;const g=t.slice(u,t.byteLength),y=o===this.JSON_ENCODING?JSON.parse(r.decode(g)):g,b={type:this.BROADCAST_EVENT,event:f,payload:y};return a>0&&(b.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class Lj{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var fn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(fn||(fn={}));const z5=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((s,a)=>(s[a]=Mz(a,e,t,i),s),{}):{}},Mz=(e,t,n,r)=>{const i=t.find(o=>o.name===e),s=i?.type,a=n[e];return s&&!r.includes(s)?Dj(s,a):wx(a)},Dj=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Uz(t,n)}switch(e){case fn.bool:return Fz(t);case fn.float4:case fn.float8:case fn.int2:case fn.int4:case fn.int8:case fn.numeric:case fn.oid:return Bz(t);case fn.json:case fn.jsonb:return zz(t);case fn.timestamp:return $z(t);case fn.abstime:case fn.date:case fn.daterange:case fn.int4range:case fn.int8range:case fn.money:case fn.reltime:case fn.text:case fn.time:case fn.timestamptz:case fn.timetz:case fn.tsrange:case fn.tstzrange:return wx(t);default:return wx(t)}},wx=e=>e,Fz=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Bz=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},zz=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Uz=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const a=e.slice(1,n);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>Dj(t,o))}return e},$z=e=>typeof e=="string"?e.replace(" ","T"):e,Mj=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Gy{constructor(t,n,r={},i=vx){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var U5;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(U5||(U5={}));class Zd{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zd.syncState(this.state,i,s,a),this.pendingDiffs.forEach(u=>{this.state=Zd.syncDiff(this.state,u,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Zd.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),a=this.transformState(n),o={},u={};return this.map(s,(d,f)=>{a[d]||(u[d]=f)}),this.map(a,(d,f)=>{const p=s[d];if(p){const g=f.map(C=>C.presence_ref),y=p.map(C=>C.presence_ref),b=f.filter(C=>y.indexOf(C.presence_ref)<0),_=p.filter(C=>g.indexOf(C.presence_ref)<0);b.length>0&&(o[d]=b),_.length>0&&(u[d]=_)}else o[d]=f}),this.syncDiff(s,{joins:o,leaves:u},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(o,u)=>{var d;const f=(d=t[o])!==null&&d!==void 0?d:[];if(t[o]=this.cloneDeep(u),f.length>0){const p=t[o].map(y=>y.presence_ref),g=f.filter(y=>p.indexOf(y.presence_ref)<0);t[o].unshift(...g)}r(o,f,u)}),this.map(a,(o,u)=>{let d=t[o];if(!d)return;const f=u.map(p=>p.presence_ref);d=d.filter(p=>f.indexOf(p.presence_ref)<0),t[o]=d,i(o,d,u),d.length===0&&delete t[o]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var $5;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})($5||($5={}));var eh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(eh||(eh={}));var ka;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ka||(ka={}));class cc{constructor(t,n={config:{}},r){var i,s;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=cr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Gy(this,Ss.join,this.params,this.timeout),this.rejoinTimer=new Lj(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=cr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=cr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=cr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=cr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=cr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ss.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new Zd(this),this.broadcastEndpointURL=Mj(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==cr.closed){const{config:{broadcast:a,presence:o,private:u}}=this.params,d=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[eh.PRESENCE]&&this.bindings[eh.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,p={},g={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:f}),postgres_changes:d,private:u};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(y=>t?.(ka.CHANNEL_ERROR,y)),this._onClose(()=>t?.(ka.CLOSED)),this.updateJoinPayload(Object.assign({config:g},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),y===void 0){t?.(ka.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,C=(b=_?.length)!==null&&b!==void 0?b:0,k=[];for(let P=0;P<C;P++){const A=_[P],{filter:{event:U,schema:V,table:I,filter:O}}=A,B=y&&y[P];if(B&&B.event===U&&cc.isFilterValueEqual(B.schema,V)&&cc.isFilterValueEqual(B.table,I)&&cc.isFilterValueEqual(B.filter,O))k.push(Object.assign(Object.assign({},A),{id:B.id}));else{this.unsubscribe(),this.state=cr.errored,t?.(ka.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,t&&t(ka.SUBSCRIBED);return}}).receive("error",y=>{this.state=cr.errored,t?.(ka.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t?.(ka.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===cr.joined&&t===eh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let u=o.statusText;try{const d=await o.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=t,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,u;const d=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),d.receive("ok",()=>s("ok")),d.receive("error",()=>s("error")),d.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=cr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ss.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Gy(this,Ss.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=cr.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Gy(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Lz){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const a=t.toLocaleLowerCase(),{close:o,error:u,leave:d,join:f}=Ss;if(r&&[o,u,d,f].indexOf(a)>=0&&r!==this._joinRef())return;let g=this._onMessage(a,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var b,_,C;return((b=y.filter)===null||b===void 0?void 0:b.event)==="*"||((C=(_=y.filter)===null||_===void 0?void 0:_.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===a}).map(y=>y.callback(g,r)):(s=this.bindings[a])===null||s===void 0||s.filter(y=>{var b,_,C,k,P,A;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in y){const U=y.id,V=(b=y.filter)===null||b===void 0?void 0:b.event;return U&&((_=n.ids)===null||_===void 0?void 0:_.includes(U))&&(V==="*"||V?.toLocaleLowerCase()===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const U=(P=(k=y?.filter)===null||k===void 0?void 0:k.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return U==="*"||U===((A=n?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===a}).map(y=>{if(typeof g=="object"&&"ids"in g){const b=g.data,{schema:_,table:C,commit_timestamp:k,type:P,errors:A}=b;g=Object.assign(Object.assign({},{schema:_,table:C,commit_timestamp:k,eventType:P,new:{},old:{},errors:A}),this._getPayloadRecords(b))}y.callback(g,r)})}_isClosed(){return this.state===cr.closed}_isJoined(){return this.state===cr.joined}_isJoining(){return this.state===cr.joining}_isLeaving(){return this.state===cr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&cc.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ss.close,{},t)}_onError(t){this._on(Ss.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=cr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=z5(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=z5(t.columns,t.old_record)),n}}const Yy=()=>{},Ap={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Hz=[1e3,2e3,5e3,1e4],Vz=1e4,qz=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Wz{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=vx,this.transport=null,this.heartbeatIntervalMs=Ap.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Yy,this.ref=0,this.reconnectTimer=null,this.vsn=B5,this.logger=Yy,this.conn=null,this.sendBuffer=[],this.serializer=new Dz,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${bx.websocket}`,this.httpEndpoint=Mj(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Pz.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return n==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case _o.connecting:return Rl.Connecting;case _o.open:return Rl.Open;case _o.closing:return Rl.Closing;default:return Rl.Closed}}isConnected(){return this.connectionState()===Rl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new cc(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,a=()=>{this.encode(t,o=>{var u;(u=this.conn)===null||u===void 0||u.send(o)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Iz,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ap.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const d=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",d)}catch(f){this.log("error","error in heartbeat callback",f)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:s,ref:a}=n,o=a?`(${a})`:"",u=s.status||"";this.log("receive",`${u} ${r} ${i} ${o}`.trim(),s),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(i,s,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===_o.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===_o.open||this.conn.readyState===_o.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ss.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([qz],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const s={access_token:n,version:Rz};n&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(Ss.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Lj(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ap.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,s,a,o,u,d,f,p,g,y;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:vx,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:Ap.HEARTBEAT_INTERVAL,this.worker=(s=t?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=t?.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=t?.heartbeatCallback)!==null&&o!==void 0?o:Yy,this.vsn=(u=t?.vsn)!==null&&u!==void 0?u:B5,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t?.reconnectAfterMs)!==null&&d!==void 0?d:(b=>Hz[b-1]||Vz),this.vsn){case Az:this.encode=(f=t?.encode)!==null&&f!==void 0?f:((b,_)=>_(JSON.stringify(b))),this.decode=(p=t?.decode)!==null&&p!==void 0?p:((b,_)=>_(JSON.parse(b)));break;case Ij:this.encode=(g=t?.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(y=t?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var bh=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Qz(e,t,n){const r=new URL(t,e);if(n)for(const[i,s]of Object.entries(n))s!==void 0&&r.searchParams.set(i,s);return r.toString()}async function Kz(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Gz(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:s,headers:a}){const o=Qz(e.baseUrl,r,i),u=await Kz(e.auth),d=await t(o,{method:n,headers:{...s?{"Content-Type":"application/json"}:{},...u,...a},body:s?JSON.stringify(s):void 0}),f=await d.text(),p=(d.headers.get("content-type")||"").includes("application/json"),g=p&&f?JSON.parse(f):f;if(!d.ok){const y=p?g:void 0,b=y?.error;throw new bh(b?.message??`Request failed with status ${d.status}`,{status:d.status,icebergType:b?.type,icebergCode:b?.code,details:y})}return{status:d.status,headers:d.headers,data:g}}}}function Ip(e){return e.join("")}var Yz=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Ip(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ip(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ip(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ip(e.namespace)}`}),!0}catch(t){if(t instanceof bh&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof bh&&n.status===409)return;throw n}}};function Hu(e){return e.join("")}var Jz=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hu(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Hu(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Hu(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Hu(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hu(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Hu(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof bh&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof bh&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},Xz=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Gz({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new Yz(this.client,t),this.tableOps=new Jz(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Ng=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function Pg(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Lp=class extends Ng{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Fj=class extends Ng{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const Zz=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),eU=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},_x=e=>{if(Array.isArray(e))return e.map(n=>_x(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=_x(r)}),t},tU=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function wh(e){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wh(e)}function nU(e,t){if(wh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rU(e){var t=nU(e,"string");return wh(t)=="symbol"?t:t+""}function iU(e,t,n){return(t=rU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H5(Object(n),!0).forEach(function(r){iU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const V5=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},sU=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const i=e,s=i.status||500;if(typeof i.json=="function")i.json().then(a=>{const o=a?.statusCode||a?.code||s+"";t(new Lp(V5(a),s,o,r))}).catch(()=>{if(r==="vectors"){const a=s+"";t(new Lp(i.statusText||`HTTP ${s} error`,s,a,r))}else{const a=s+"";t(new Lp(i.statusText||`HTTP ${s} error`,s,a,r))}});else{const a=s+"";t(new Lp(i.statusText||`HTTP ${s} error`,s,a,r))}}else t(new Fj(V5(e),e,r))},aU=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||e==="HEAD"||!r?_t(_t({},i),n):(eU(r)?(i.headers=_t({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),_t(_t({},i),n))};async function Od(e,t,n,r,i,s,a){return new Promise((o,u)=>{e(n,aU(t,r,i,s)).then(d=>{if(!d.ok)throw d;if(r?.noResolveJson)return d;if(a==="vectors"){const f=d.headers.get("content-type");if(d.headers.get("content-length")==="0"||d.status===204)return{};if(!f||!f.includes("application/json"))return{}}return d.json()}).then(d=>o(d)).catch(d=>sU(d,u,r,a))})}function Bj(e="storage"){return{get:async(t,n,r,i)=>Od(t,"GET",n,r,i,void 0,e),post:async(t,n,r,i,s)=>Od(t,"POST",n,i,s,r,e),put:async(t,n,r,i,s)=>Od(t,"PUT",n,i,s,r,e),head:async(t,n,r,i)=>Od(t,"HEAD",n,_t(_t({},r),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,n,r,i,s)=>Od(t,"DELETE",n,i,s,r,e)}}const oU=Bj("storage"),{get:_h,post:_s,put:Sx,head:lU,remove:ob}=oU,Ri=Bj("vectors");var Rc=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=Zz(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Pg(n))return{data:null,error:n};throw n}}},uU=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Pg(t))return{data:null,error:t};throw t}}};let zj;zj=Symbol.toStringTag;var cU=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[zj]="BlobDownloadBuilder",this.promise=null}asStream(){return new uU(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Pg(t))return{data:null,error:t};throw t}}};const dU={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},q5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var hU=class extends Rc{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var i=this;return i.handleOperation(async()=>{let s;const a=_t(_t({},q5),r);let o=_t(_t({},i.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),u&&s.append("metadata",i.encodeMetadata(u)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),u&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(u))):(s=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,u&&(o["x-metadata"]=i.toBase64(i.encodeMetadata(u))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),r?.headers&&(o=_t(_t({},o),r.headers));const d=i._removeEmptyFolders(t),f=i._getFinalPath(d),p=await(e=="PUT"?Sx:_s)(i.fetch,`${i.url}/object/${f}`,s,_t({headers:o},a?.duplex?{duplex:a.duplex}:{}));return{path:d,id:p.Id,fullPath:p.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;const s=i._removeEmptyFolders(e),a=i._getFinalPath(s),o=new URL(i.url+`/object/upload/sign/${a}`);return o.searchParams.set("token",t),i.handleOperation(async()=>{let u;const d=_t({upsert:q5.upsert},r),f=_t(_t({},i.headers),{"x-upsert":String(d.upsert)});return typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",d.cacheControl)):(u=n,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType),{path:s,fullPath:(await Sx(i.fetch,o.toString(),u,{headers:f})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const i=_t({},n.headers);t?.upsert&&(i["x-upsert"]="true");const s=await _s(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(n.url+s.url),o=a.searchParams.get("token");if(!o)throw new Ng("No token returned by API");return{signedUrl:a.toString(),path:e,token:o}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await _s(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await _s(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(e),s=await _s(r.fetch,`${r.url}/object/sign/${i}`,_t({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${s.signedURL}${a}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const i=await _s(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i.map(a=>_t(_t({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${s}`):null}))})}download(e,t,n){const r=typeof t?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(t?.transform||{}),s=i?`?${i}`:"",a=this._getFinalPath(e),o=()=>_h(this.fetch,`${this.url}/${r}/${a}${s}`,{headers:this.headers,noResolveJson:!0},n);return new cU(o,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>_x(await _h(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await lU(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pg(r)&&r instanceof Fj){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=t?.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);const s=typeof t?.transform<"u"?"render/image":"object",a=this.transformOptsToQueryString(t?.transform||{});a!==""&&r.push(a);let o=r.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${o}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await ob(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const i=_t(_t(_t({},dU),t),{},{prefix:e||""});return await _s(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=_t({},e);return await _s(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const fU="2.95.3",Wh={"X-Client-Info":`storage-js/${fU}`};var pU=class extends Rc{constructor(e,t={},n,r){const i=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const s=i.href.replace(/\/$/,""),a=_t(_t({},Wh),t);super(s,a,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await _h(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await _h(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await _s(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await Sx(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await _s(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ob(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},mU=class extends Rc{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=_t(_t({},Wh),t);super(r,i,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await _s(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await _h(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ob(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!tU(e))throw new Ng("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new Xz({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,s){const a=i[s];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(i,o),error:null}}catch(u){if(r)throw u;return{data:null,error:u}}}}})}},gU=class extends Rc{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=_t(_t({},Wh),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Ri.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await Ri.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Ri.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await Ri.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},yU=class extends Rc{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=_t(_t({},Wh),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Ri.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Ri.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Ri.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Ri.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Ri.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},xU=class extends Rc{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=_t(_t({},Wh),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Ri.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Ri.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Ri.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Ri.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},vU=class extends xU{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new bU(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},bU=class extends gU{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,_t(_t({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,_t(_t({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new wU(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},wU=class extends yU{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,_t(_t({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,_t(_t({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,_t(_t({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,_t(_t({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,_t(_t({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},_U=class extends pU{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new hU(this.url,this.headers,e,this.fetch)}get vectors(){return new vU(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new mU(this.url+"/iceberg",this.headers,this.fetch)}};const Uj="2.95.3",sc=30*1e3,Cx=3,Jy=Cx*sc,SU="http://localhost:9999",CU="supabase.auth.token",jU={"X-Client-Info":`gotrue-js/${Uj}`},jx="X-Supabase-Api-Version",$j={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kU=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,EU=600*1e3;class Sh extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ut(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class TU extends Sh{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function NU(e){return ut(e)&&e.name==="AuthApiError"}class Al extends Sh{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Ua extends Sh{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Ti extends Ua{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Xy(e){return ut(e)&&e.name==="AuthSessionMissingError"}class Vu extends Ua{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Dp extends Ua{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Mp extends Ua{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function PU(e){return ut(e)&&e.name==="AuthImplicitGrantRedirectError"}class W5 extends Ua{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class OU extends Ua{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class kx extends Ua{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Zy(e){return ut(e)&&e.name==="AuthRetryableFetchError"}class Q5 extends Ua{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ex extends Ua{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Dm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),K5=` 	
\r=`.split(""),RU=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<K5.length;t+=1)e[K5[t].charCodeAt(0)]=-2;for(let t=0;t<Dm.length;t+=1)e[Dm[t].charCodeAt(0)]=t;return e})();function G5(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Dm[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Dm[r]),t.queuedBits-=6}}function Hj(e,t,n){const r=RU[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Y5(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{LU(a,r,n)};for(let a=0;a<e.length;a+=1)Hj(e.charCodeAt(a),i,s);return t.join("")}function AU(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function IU(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}AU(r,t)}}function LU(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function yc(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Hj(e.charCodeAt(i),n,r);return new Uint8Array(t)}function DU(e){const t=[];return IU(e,n=>t.push(n)),new Uint8Array(t)}function zl(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>G5(i,n,r)),G5(null,n,r),t.join("")}function MU(e){return Math.round(Date.now()/1e3)+e}function FU(){return Symbol("auth-callback")}const Pr=()=>typeof window<"u"&&typeof document<"u",Sl={tested:!1,writable:!1},Vj=()=>{if(!Pr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Sl.tested)return Sl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Sl.tested=!0,Sl.writable=!0}catch{Sl.tested=!0,Sl.writable=!1}return Sl.writable};function BU(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const qj=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),zU=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ac=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Cl=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Nr=async(e,t)=>{await e.removeItem(t)};class Og{constructor(){this.promise=new Og.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Og.promiseConstructor=Promise;function Fp(e){const t=e.split(".");if(t.length!==3)throw new Ex("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!kU.test(t[r]))throw new Ex("JWT not in base64url format");return{header:JSON.parse(Y5(t[0])),payload:JSON.parse(Y5(t[1])),signature:yc(t[2]),raw:{header:t[0],payload:t[1]}}}async function UU(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function $U(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){r(a);return}}catch(a){if(!t(s,a)){i(a);return}}})()})}function HU(e){return("0"+e.toString(16)).substr(-2)}function VU(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,HU).join("")}async function qU(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function WU(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await qU(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qu(e,t,n=!1){const r=VU();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await ac(e,`${t}-code-verifier`,i);const s=await WU(r);return[s,r===s?"plain":"s256"]}const QU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function KU(e){const t=e.headers.get(jx);if(!t||!t.match(QU))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function GU(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function YU(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const JU=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Wu(e){if(!JU.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function e1(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function XU(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function J5(e){return JSON.parse(JSON.stringify(e))}const Pl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ZU=[502,503,504];async function X5(e){var t;if(!zU(e))throw new kx(Pl(e),0);if(ZU.includes(e.status))throw new kx(Pl(e),e.status);let n;try{n=await e.json()}catch(s){throw new Al(Pl(s),s)}let r;const i=KU(e);if(i&&i.getTime()>=$j["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Q5(Pl(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Ti}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new Q5(Pl(n),e.status,n.weak_password.reasons);throw new TU(Pl(n),e.status||500,r)}const e$=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function wt(e,t,n,r){var i;const s=Object.assign({},r?.headers);s[jx]||(s[jx]=$j["2024-01-01"].name),r?.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await t$(e,t,n+o,{headers:s,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}}async function t$(e,t,n,r,i,s){const a=e$(t,r,i,s);let o;try{o=await e(n,Object.assign({},a))}catch(u){throw console.error(u),new kx(Pl(u),0)}if(o.ok||await X5(o),r?.noResolveJson)return o;try{return await o.json()}catch(u){await X5(u)}}function ws(e){var t;let n=null;i$(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=MU(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Z5(e){const t=ws(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function jo(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function n$(e){return{data:e,error:null}}function r$(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,a=Tg(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},u=Object.assign({},a);return{data:{properties:o,user:u},error:null}}function eS(e){return e}function i$(e){return e.access_token&&e.refresh_token&&e.expires_in}const t1=["global","local","others"];class s${constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=qj(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=t1[0]){if(t1.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${t1.join(", ")}`);try{return await wt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ut(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await wt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:jo})}catch(r){if(ut(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Tg(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await wt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:r$,redirectTo:n?.redirectTo})}catch(n){if(ut(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await wt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:jo})}catch(n){if(ut(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,a,o,u;try{const d={nextPage:null,lastPage:0,total:0},f=await wt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:eS});if(f.error)throw f.error;const p=await f.json(),g=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,y=(u=(o=f.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(b=>{const _=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(b.split(";")[1].split("=")[1]);d[`${C}Page`]=_}),d.total=parseInt(g)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(ut(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Wu(t);try{return await wt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:jo})}catch(n){if(ut(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Wu(t);try{return await wt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:jo})}catch(r){if(ut(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Wu(t);try{return await wt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:jo})}catch(r){if(ut(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Wu(t.userId);try{const{data:n,error:r}=await wt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Wu(t.userId),Wu(t.id);try{return{data:await wt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,s,a,o,u;try{const d={nextPage:null,lastPage:0,total:0},f=await wt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:eS});if(f.error)throw f.error;const p=await f.json(),g=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,y=(u=(o=f.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(b=>{const _=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(b.split(";")[1].split("=")[1]);d[`${C}Page`]=_}),d.total=parseInt(g)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(ut(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await wt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await wt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await wt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ut(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await wt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await wt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ut(n))return{data:null,error:n};throw n}}}function tS(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Qu={debug:!!(globalThis&&Vj()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Wj extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class a$ extends Wj{}async function o$(e,t,n){Qu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Qu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Qu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Qu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Qu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new a$(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Qu.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function l$(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Qj(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function u$(e){return parseInt(e,16)}function c$(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function d$(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:o,requestId:u,resources:d,scheme:f,uri:p,version:g}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=Qj(e.address),b=f?`${f}://${r}`:r,_=e.statement?`${e.statement}
`:"",C=`${b} wants you to sign in with your Ethereum account:
${y}

${_}`;let k=`URI: ${p}
Version: ${g}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(k+=`
Expiration Time: ${i.toISOString()}`),o&&(k+=`
Not Before: ${o.toISOString()}`),u&&(k+=`
Request ID: ${u}`),d){let P=`
Resources:`;for(const A of d){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);P+=`
- ${A}`}k+=P}return`${C}
${k}`}class er extends Error{constructor({message:t,code:n,cause:r,name:i}){var s;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class Mm extends er{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function h$({error:e,options:t}){var n,r,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new er({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new er({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new er({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new er({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new er({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new er({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new er({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new er({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(Kj(a)){if(s.rp.id!==a)return new er({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new er({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new er({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new er({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new er({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function f$({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new er({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new er({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(Kj(r)){if(n.rpId!==r)return new er({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new er({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new er({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new er({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class p${createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const m$=new p$;function g$(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=Tg(e,["challenge","user","excludeCredentials"]),s=yc(t).buffer,a=Object.assign(Object.assign({},n),{id:yc(n.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:s,user:a});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const d=r[u];o.excludeCredentials[u]=Object.assign(Object.assign({},d),{id:yc(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return o}function y$(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Tg(e,["challenge","allowCredentials"]),i=yc(t).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const o=n[a];s.allowCredentials[a]=Object.assign(Object.assign({},o),{id:yc(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function x$(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:zl(new Uint8Array(e.response.attestationObject)),clientDataJSON:zl(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function v$(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:zl(new Uint8Array(i.authenticatorData)),clientDataJSON:zl(new Uint8Array(i.clientDataJSON)),signature:zl(new Uint8Array(i.signature)),userHandle:i.userHandle?zl(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Kj(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function nS(){var e,t;return!!(Pr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function b$(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Mm("Browser returned unexpected credential type",t)}:{data:null,error:new Mm("Empty credential response",t)}}catch(t){return{data:null,error:h$({error:t,options:e})}}}async function w$(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Mm("Browser returned unexpected credential type",t)}:{data:null,error:new Mm("Empty credential response",t)}}catch(t){return{data:null,error:f$({error:t,options:e})}}}const _$={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},S$={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Fm(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))r[s]=a;else if(n(a))r[s]=a;else if(t(a)){const o=r[s];t(o)?r[s]=Fm(o,a):r[s]=Fm(a)}else r[s]=a}return r}function C$(e,t){return Fm(_$,e,t||{})}function j$(e,t){return Fm(S$,e,t||{})}class k${constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},s){var a;try{const{data:o,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:u};const d=i??m$.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:f}=o.webauthn.credential_options.publicKey;if(!f.name){const p=r;if(p)f.name=`${f.id}:${p}`;else{const y=(await this.client.getUser()).data.user,b=((a=y?.user_metadata)===null||a===void 0?void 0:a.name)||y?.email||y?.id||"User";f.name=`${f.id}:${b}`}}f.displayName||(f.displayName=f.name)}switch(o.webauthn.type){case"create":{const f=C$(o.webauthn.credential_options.publicKey,s?.create),{data:p,error:g}=await b$({publicKey:f,signal:d});return p?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}case"request":{const f=j$(o.webauthn.credential_options.publicKey,s?.request),{data:p,error:g}=await w$(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:f,signal:d}));return p?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}}}catch(o){return ut(o)?{data:null,error:o}:{data:null,error:new Al("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new Sh("rpId is required for WebAuthn authentication")};try{if(!nS())return{data:null,error:new Al("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!a)return{data:null,error:o};const{webauthn:u}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(a){return ut(a)?{data:null,error:a}:{data:null,error:new Al("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new Sh("rpId is required for WebAuthn registration")};try{if(!nS())return{data:null,error:new Al("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(f=>{var p;return(p=f.data)===null||p===void 0?void 0:p.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f?.id}):void 0),{data:null,error:o};const{data:u,error:d}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return u?this._verify({factorId:a.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(a){return ut(a)?{data:null,error:a}:{data:null,error:new Al("Unexpected error in register",a)}}}}l$();const E$={url:SU,storageKey:CU,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:jU,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function rS(e,t,n){return await n()}const Ku={};class Ch{get jwks(){var t,n;return(n=(t=Ku[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Ku[this.storageKey]=Object.assign(Object.assign({},Ku[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Ku[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ku[this.storageKey]=Object.assign(Object.assign({},Ku[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},E$),t);if(this.storageKey=s.storageKey,this.instanceID=(n=Ch.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Ch.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Pr()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new s$({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=qj(s.fetch),this.lock=s.lock||rS,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&Pr()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=o$:this.lock=rS,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new k$(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Vj()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=tS(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=tS(this.memoryStorage)),Pr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(o){this._debug("#broadcastChannel","error",o)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Uj}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Pr()&&(n=BU(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Pr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),PU(s)){const u=(t=s.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ut(n)?this._returnResult({error:n}):this._returnResult({error:new Al("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:ws}),{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const u=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(s){if(ut(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:f,password:p,options:g}=t;let y=null,b=null;this.flowType==="pkce"&&([y,b]=await qu(this.storage,this.storageKey)),s=await wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:f,password:p,data:(n=g?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:y,code_challenge_method:b},xform:ws})}else if("phone"in t){const{phone:f,password:p,options:g}=t;s=await wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:p,data:(r=g?.data)!==null&&r!==void 0?r:{},channel:(i=g?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:ws})}else throw new Dp("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return await Nr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const u=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(s){if(await Nr(this.storage,`${this.storageKey}-code-verifier`),ut(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:a,options:o}=t;n=await wt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Z5})}else if("phone"in t){const{phone:s,password:a,options:o}=t;n=await wt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Z5})}else throw new Dp("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const s=new Vu;return this._returnResult({data:{user:null,session:null},error:s})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ut(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,s,a,o,u,d,f,p,g;let y,b;if("message"in t)y=t.message,b=t.signature;else{const{chain:_,wallet:C,statement:k,options:P}=t;let A;if(Pr())if(typeof C=="object")A=C;else{const W=window;if("ethereum"in W&&typeof W.ethereum=="object"&&"request"in W.ethereum&&typeof W.ethereum.request=="function")A=W.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=C}const U=new URL((n=P?.url)!==null&&n!==void 0?n:window.location.href),V=await A.request({method:"eth_requestAccounts"}).then(W=>W).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!V||V.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=Qj(V[0]);let O=(r=P?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!O){const W=await A.request({method:"eth_chainId"});O=u$(W)}const B={domain:U.host,address:I,statement:k,uri:U.href,version:"1",chainId:O,nonce:(i=P?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=P?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=P?.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(u=P?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(d=P?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(f=P?.signInWithEthereum)===null||f===void 0?void 0:f.resources};y=d$(B),b=await A.request({method:"personal_sign",params:[c$(y),I]})}try{const{data:_,error:C}=await wt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:b},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:ws});if(C)throw C;if(!_||!_.session||!_.user){const k=new Vu;return this._returnResult({data:{user:null,session:null},error:k})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:C})}catch(_){if(ut(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(t){var n,r,i,s,a,o,u,d,f,p,g,y;let b,_;if("message"in t)b=t.message,_=t.signature;else{const{chain:C,wallet:k,statement:P,options:A}=t;let U;if(Pr())if(typeof k=="object")U=k;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))U=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=k}const V=new URL((n=A?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in U&&U.signIn){const I=await U.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:V.host,uri:V.href}),P?{statement:P}:null));let O;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")O=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)O=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)b=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),_=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in U)||typeof U.signMessage!="function"||!("publicKey"in U)||typeof U!="object"||!U.publicKey||!("toBase58"in U.publicKey)||typeof U.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${V.host} wants you to sign in with your Solana account:`,U.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${V.href}`,`Issued At: ${(i=(r=A?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=A?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((a=A?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((o=A?.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((u=A?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((d=A?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((p=(f=A?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||p===void 0)&&p.length?["Resources",...A.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const I=await U.signMessage(new TextEncoder().encode(b),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=I}}try{const{data:C,error:k}=await wt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:zl(_)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:ws});if(k)throw k;if(!C||!C.session||!C.user){const P=new Vu;return this._returnResult({data:{user:null,session:null},error:P})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:k})}catch(C){if(ut(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(t){const n=await Cl(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new OU;const{data:s,error:a}=await wt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:ws});if(await Nr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const o=new Vu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(await Nr(this.storage,`${this.storageKey}-code-verifier`),ut(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:a}=t,o=await wt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:ws}),{data:u,error:d}=o;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u||!u.session||!u.user){const f=new Vu;return this._returnResult({data:{user:null,session:null},error:f})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:d})}catch(n){if(ut(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,s,a;try{if("email"in t){const{email:o,options:u}=t;let d=null,f=null;this.flowType==="pkce"&&([d,f]=await qu(this.storage,this.storageKey));const{error:p}=await wt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(r=u?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:d,code_challenge_method:f},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:o,options:u}=t,{data:d,error:f}=await wt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(a=u?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:f})}throw new Dp("You must provide either an email or phone number.")}catch(o){if(await Nr(this.storage,`${this.storageKey}-code-verifier`),ut(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await wt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:ws});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,d=a.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(i){if(ut(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,s,a;try{let o=null,u=null;this.flowType==="pkce"&&([o,u]=await qu(this.storage,this.storageKey));const d=await wt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:u}),headers:this.headers,xform:n$});return!((s=d.data)===null||s===void 0)&&s.url&&Pr()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(o){if(await Nr(this.storage,`${this.storageKey}-code-verifier`),ut(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Ti;const{error:i}=await wt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(ut(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:a}=await wt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:a,error:o}=await wt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:o})}throw new Dp("You must provide either an email or phone number and a type")}catch(n){if(ut(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Cl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Jy:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await Cl(this.userStorage,this.storageKey+"-user");a?.user?t.user=a.user:t.user=e1()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=XU(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await wt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:jo}):await this._useSession(async n=>{var r,i,s;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ti}:await wt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:jo})})}catch(n){if(ut(n))return Xy(n)&&(await this._removeSession(),await Nr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Ti;const a=i.session;let o=null,u=null;this.flowType==="pkce"&&t.email!=null&&([o,u]=await qu(this.storage,this.storageKey));const{data:d,error:f}=await wt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:u}),jwt:a.access_token,xform:jo});if(f)throw f;return a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await Nr(this.storage,`${this.storageKey}-code-verifier`),ut(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ti;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:a}=Fp(t.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:o,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:u}=await this._getUser(t.access_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});s={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(n){if(ut(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:o}=n;if(o)throw o;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new Ti;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ut(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Pr())throw new Mp("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Mp(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new W5("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Mp("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new W5("No code detected.");const{data:P,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:u,token_type:d}=t;if(!s||!o||!a||!d)throw new Mp("No session defined in URL");const f=Math.round(Date.now()/1e3),p=parseInt(o);let g=f+p;u&&(g=parseInt(u));const y=g-f;y*1e3<=sc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);const b=g-p;f-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,g,f):f-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,g,f);const{data:_,error:C}=await this._getUser(s);if(C)throw C;const k={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:g,refresh_token:a,token_type:d,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:t.type},error:null})}catch(r){if(ut(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Cl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s&&!Xy(s))return this._returnResult({error:s});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(NU(o)&&(o.status===404||o.status===401||o.status===403)||Xy(o)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await Nr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=FU(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await qu(this.storage,this.storageKey,!0));try{return await wt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(await Nr(this.storage,`${this.storageKey}-code-verifier`),ut(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var a,o,u,d,f;const{data:p,error:g}=s;if(g)throw g;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await wt(this.fetch,"GET",y,{headers:this.headers,jwt:(f=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return Pr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(ut(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:a,provider:o,token:u,access_token:d,nonce:f}=t,p=await wt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:o,id_token:u,access_token:d,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:ws}),{data:g,error:y}=p;return y?this._returnResult({data:{user:null,session:null},error:y}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new Vu}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:y}))}catch(i){if(await Nr(this.storage,`${this.storageKey}-code-verifier`),ut(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)throw a;return await wt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await $U(async i=>(i>0&&await UU(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await wt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ws})),(i,s)=>{const a=200*Math.pow(2,i);return s&&Zy(s)&&Date.now()+a-r<sc})}catch(r){if(this._debug(n,"error",r),ut(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Pr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Cl(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Cl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await ac(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a?.user)!==null&&t!==void 0?t:e1()}else if(i&&!i.user&&!i.user){const a=await Cl(this.storage,this.storageKey+"-user");a&&a?.user?(i.user=a.user,await Nr(this.storage,this.storageKey+"-user"),await ac(this.storage,this.storageKey,i)):i.user=e1()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Jy;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Jy}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Zy(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&a?.user?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Ti;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Og;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new Ti;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),ut(s)){const a={data:null,error:s};return Zy(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,n)}catch(u){s.push(u)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Nr(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ac(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=J5(i);await ac(this.storage,this.storageKey,s)}else{const i=J5(n);await ac(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Nr(this.storage,this.storageKey),await Nr(this.storage,this.storageKey+"-code-verifier"),await Nr(this.storage,this.storageKey+"-user"),this.userStorage&&await Nr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Pr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),sc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/sc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${sc}ms, refresh threshold is ${Cx} ticks`),i<=Cx&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Wj)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=await qu(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(r?.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?this._returnResult({data:null,error:s}):await wt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:d}=await wt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?x$(t.webauthn.credential_response):v$(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:u}=await wt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:u}))})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const a=await wt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:g$(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:y$(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=n?.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,r,i,s;if(t)try{const{payload:y}=Fp(t);let b=null;y.aal&&(b=y.aal);let _=b;const{data:{user:C},error:k}=await this.getUser(t);if(k)return this._returnResult({data:null,error:k});((r=(n=C?.factors)===null||n===void 0?void 0:n.filter(U=>U.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(_="aal2");const A=y.amr||[];return{data:{currentLevel:b,nextLevel:_,currentAuthenticationMethods:A},error:null}}catch(y){if(ut(y))return this._returnResult({data:null,error:y});throw y}const{data:{session:a},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Fp(a.access_token);let d=null;u.aal&&(d=u.aal);let f=d;((s=(i=a.user.factors)===null||i===void 0?void 0:i.filter(y=>y.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(f="aal2");const g=u.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await wt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Ti})})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Ti});const a=await wt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Pr()&&!n?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(r){if(ut(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Ti});const a=await wt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Pr()&&!n?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(r){if(ut(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await wt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ti})})}catch(t){if(ut(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await wt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ti})})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+EU>i)return r;const{data:s,error:a}=await wt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(o=>o.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:y,error:b}=await this.getSession();if(b||!y.session)return this._returnResult({data:null,error:b});r=y.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:u}}=Fp(r);n?.allowExpired||GU(s.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!d){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:s,header:i,signature:a},error:null}}const f=YU(i.alg),p=await crypto.subtle.importKey("jwk",d,f,!0,["verify"]);if(!await crypto.subtle.verify(f,p,a,DU(`${o}.${u}`)))throw new Ex("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(r){if(ut(r))return this._returnResult({data:null,error:r});throw r}}}Ch.nextInstanceID={};const T$=Ch,N$="2.95.3";let Wd="";typeof Deno<"u"?Wd="deno":typeof document<"u"?Wd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wd="react-native":Wd="node";const P$={"X-Client-Info":`supabase-js-${Wd}/${N$}`},O$={headers:P$},R$={schema:"public"},A$={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},I$={};function jh(e){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jh(e)}function L$(e,t){if(jh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D$(e){var t=L$(e,"string");return jh(t)=="symbol"?t:t+""}function M$(e,t,n){return(t=D$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iS(Object(n),!0).forEach(function(r){M$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const F$=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),B$=()=>Headers,z$=(e,t,n)=>{const r=F$(n),i=B$();return async(s,a)=>{var o;const u=(o=await t())!==null&&o!==void 0?o:e;let d=new i(a?.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${u}`),r(s,Mn(Mn({},a),{},{headers:d}))}};function U$(e){return e.endsWith("/")?e:e+"/"}function $$(e,t){var n,r;const{db:i,auth:s,realtime:a,global:o}=e,{db:u,auth:d,realtime:f,global:p}=t,g={db:Mn(Mn({},u),i),auth:Mn(Mn({},d),s),realtime:Mn(Mn({},f),a),storage:{},global:Mn(Mn(Mn({},p),o),{},{headers:Mn(Mn({},(n=p?.headers)!==null&&n!==void 0?n:{}),(r=o?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}function H$(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(U$(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var V$=class extends T${constructor(e){super(e)}},q$=class{constructor(e,t,n){var r,i;this.supabaseUrl=e,this.supabaseKey=t;const s=H$(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const a=`sb-${s.hostname.split(".")[0]}-auth-token`,o={db:R$,realtime:I$,auth:Mn(Mn({},A$),{},{storageKey:a}),global:O$},u=$$(n??{},o);if(this.storageKey=(r=u.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken)this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}});else{var d;this.auth=this._initSupabaseAuthClient((d=u.auth)!==null&&d!==void 0?d:{},this.headers,u.global.fetch)}this.fetch=z$(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Mn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new Nz(new URL("rest/v1",s).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch,timeout:u.db.timeout,urlLengthLimit:u.db.urlLengthLimit}),this.storage=new _U(this.storageUrl.href,this.headers,this.fetch,n?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new wz(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:s,flowType:a,lock:o,debug:u,throwOnError:d},f,p){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new V$({url:this.authUrl.href,headers:Mn(Mn({},g),f),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:a,lock:o,debug:u,throwOnError:d,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Wz(this.realtimeUrl.href,Mn(Mn({},e),{},{params:Mn(Mn({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const W$=(e,t,n)=>new q$(e,t,n);function Q$(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}Q$()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");function sS(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Gu=[..."".normalize("NFD")].map(e=>e.charCodeAt(0)),aS=44032,K$=55203,n1=28,oS=21,Tx={"":"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Nx={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},G$=["","","","","","","","","","","","","","","","","","",""],Y$=Object.values(Nx),J$=["","","","","","","","","","","","","","","","","","","","","","","","","","","",""].map(e=>Tx[e]);function X$(e){const t=e.charCodeAt(0);if(!(aS<=t&&t<=K$))return;const r=t-aS,i=r%n1,s=(r-i)/n1%oS,a=Math.floor((r-i)/n1/oS);return{choseong:G$[a],jungseong:Y$[s],jongseong:J$[i]}}function Z$(e){const t=[];for(const n of e){const r=X$(n);if(r!=null){t.push([...r.choseong,...r.jungseong,...r.jongseong]);continue}if(sS(Tx,n)){const i=Tx[n];t.push([...i]);continue}if(sS(Nx,n)){const i=Nx[n];t.push([...i]);continue}t.push([n])}return t}function Cc(e){return Z$(e).reduce((t,n)=>`${t}${n.join("")}`,"")}var Bm={START_CHOSEONG:Gu[0],START_JUNGSEONG:Gu[1],START_JONGSEONG:Gu[2],END_CHOSEONG:Gu[3],END_JUNGSEONG:Gu[4],END_JONGSEONG:Gu[5]};new RegExp(`[^\\u${Bm.START_CHOSEONG.toString(16)}-\\u${Bm.END_CHOSEONG.toString(16)}-\\s]+`,"ug");new RegExp(`[\\u${Bm.START_CHOSEONG.toString(16)}-\\u${Bm.END_CHOSEONG.toString(16)}]`,"g");const eH=W$("https://jvbtsubxzytnjnzxmtbg.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp2YnRzdWJ4enl0bmpuenhtdGJnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQyMzMyMzgsImV4cCI6MjA2OTgwOTIzOH0.uUpg4kO7-uLmswUo8Dp_-WZwKw_xKqxRrpGmM2tN02I"),tH=30*1e3,nH=10*1e3,rH=60*1e3,iH=5,Bp="searchLoggingData",sH="searches_dev",Nt={timer:null,commitDelay:tH,data:[],loadLoggingData(){if(Nt.data.length>0)return Nt.data;const e=localStorage.getItem(Bp);return e&&(Nt.data=JSON.parse(e)),Nt.data},updateLoggingData(e,t,n){const r=!t||Number.isNaN(Number(t))?-1:Number(t),s={search:e===void 0&&Nt.data.length>0?Nt.data[Nt.data.length-1].search:e??"",dprt_cd:r,target:n,created_at:Date.now()};if((o=>{if(Nt.data.length===0)return!1;const u=Nt.data[Nt.data.length-1];return u.target<0&&(r1(u.search,o.search)||r1(o.search,u.search))})(s)){const o=Nt.data[Nt.data.length-1];o.target=n,o.created_at=Date.now(),r1(s.search,o.search)&&(o.search=s.search),s.dprt_cd>=0&&(o.dprt_cd=s.dprt_cd)}else Nt.data.push(s);localStorage.setItem(Bp,JSON.stringify(Nt.data)),Nt.submitDelayCommit()},reconcileLoggingData(){Nt.data=Nt.data.filter(e=>!(e.search&&e.dprt_cd<0&&e.target<0)),Nt.data=Nt.data.filter((e,t)=>!(t>0&&e.search===Nt.data[t-1].search&&e.dprt_cd===Nt.data[t-1].dprt_cd&&e.target===-1)),localStorage.setItem(Bp,JSON.stringify(Nt.data))},submitDelayCommit(){if(Nt.timer&&(clearTimeout(Nt.timer),Nt.timer=null),Nt.data.length>iH){const e=Nt.data.map(r=>r.created_at),t=e.slice(1).map((r,i)=>r-e[i]),n=t.reduce((r,i)=>r+i,0)/t.length;Nt.commitDelay=Math.min(rH,Math.max(nH,n+10*1e3))}Nt.timer=setTimeout(()=>{Nt.timer=null,Nt.commitLoggingData()},Nt.commitDelay)},commitLoggingData(){Nt.reconcileLoggingData();const e=Nt.data.length;if(e===0)return;const t=Nt.data.map(({search:n,dprt_cd:r,target:i})=>({search:n,dprt_cd:r,target:i}));eH.from(sH).insert(t).then(({error:n})=>{n?console.error("Error committing search logging data:",n):(Nt.data=Nt.data.slice(e),localStorage.setItem(Bp,JSON.stringify(Nt.data)))})}};function r1(e,t){const n=Cc(e).toLowerCase(),r=Cc(t).toLowerCase();return n.includes(r)}function Qh(){T.useEffect(()=>{Nt.loadLoggingData()},[]);function e(r,i){Nt.updateLoggingData(r,i,-1)}function t(r,i,s){Nt.updateLoggingData(r,i,s)}function n(r){Nt.updateLoggingData(void 0,void 0,r)}return{onSearchChange:e,selectTarget:t,selectTargetOnly:n}}const Px=fr((e,t)=>({favorites:JSON.parse(localStorage.getItem("favorites")??"[]"),toggleFavorite:n=>{const r=t().favorites.includes(n);e(i=>{const s=r?i.favorites.filter(a=>a!==n):[...i.favorites,n];return localStorage.setItem("favorites",JSON.stringify(s)),{favorites:s}})},isFavorite:n=>t().favorites.includes(n)})),gn={grades:[1,2,3,4],credits:[1,2,3],days:["","","","",""],remark:["","SHP",""],classRoom:["","","","","AI","()","","","","","","","","","","","","","","","",""],wishRange:[{min:10},{min:50},{min:100},{min:200}],seatRange:[{min:1},{max:2},{max:5},{max:10}]},aH={classRoom:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"AI",value:""},{label:"()",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]};function Kh(e){return oH(e.map(n=>n.curiTypeCdNm)).filter(n=>!!n)}function oH(e){return Array.from(new Set(e))}const pi={keywords:"",department:"",grades:"",credits:"",classroom:"",seatRange:"",wishRange:" ",time:"",days:"",categories:" ",note:"",language:"",alarmOnly:"",favoriteOnly:""};function lH(e,t){if(t.length===0)return pi[e];const n=t[0];return t.length===1?Io()[e]?.(n)??pi[e]:`${Io()[e]?.(n)??pi[e]}  ${t.length-1}`}function uH(e,t){if(t==null)return pi[e];const n=t;return e==="seatRange"?` ${Io()[e]?.(n)??pi[e]}`:e==="wishRange"?`  ${Io()[e]?.(n)??pi[e]}`:Io()[e]?.(n)??pi[e]}function lS(e,t,n){if(t==null)return"";const r=t,i=Io(n)[e]?.(r);return i?e==="seatRange"?` ${i}`:e==="wishRange"?` ${i}`:i:""}function Io(e){const t=n=>e?e.find(i=>i.departmentCode===n)?.departmentName||n:"";return{keywords:n=>typeof n=="string"?n:"",department:n=>t(n),grades:n=>cS(n,pi.grades),credits:n=>cS(n,pi.credits),classroom:cH,seatRange:uS,wishRange:uS,time:dH,days:hH,categories:n=>n,note:n=>n,language:n=>n,alarmOnly:()=>pi.alarmOnly,favoriteOnly:()=>pi.favoriteOnly}}const cH=e=>!e||typeof e!="string"?"":aH.classRoom.find(t=>t.value===e)?.label||e,uS=e=>{if(!e)return"";const{min:t,max:n}=e;return t!==void 0&&n!==void 0?`${t}  ~ ${n} `:t!==void 0?`${t} `:n!==void 0?`${n} `:""},dH=e=>`${e.day}${pi.time} ${e.start}~${e.end}`,hH=e=>e+"",cS=(e,t)=>e+t;function Gj(e,t){return e==="time"&&Array.isArray(t)?t.length===0||t.length===1&&t[0].day==="":Array.isArray(zo[e])&&Array.isArray(t)?t.length===0:!t}function dS(e){return Array.isArray(e)?e.length>0:e!=null&&e!==""&&e!==!1}function lb(e,t){const n=[];for(const r in e){const i=e[r];if(r==="time"){const{day:s,type:a}=i;if(!s||!a)continue}r==="keywords"||r==="favoriteOnly"||r==="alarmOnly"||(Array.isArray(i)&&i.length>0&&i.forEach(s=>{dS(s)&&n.push({filterKey:r,values:s,label:lS(r,s,t)})}),!Array.isArray(i)&&dS(i)&&n.push({filterKey:r,values:i,label:i!==null?lS(r,i,t):""}))}return n}function fH(e){const{data:t}=Cg(),n=Px(a=>a.isFavorite),r=pH(e,t,n),s=Object.keys(e).filter(a=>!Gj(a,e[a]));return(a,o)=>s.every(u=>{const d=r[u];return d?d(a,o[u]):!0})}function pH(e,t,n){const r=a=>t?.some(({subjectId:o})=>o===a)??!0,i=Jj(e.keywords),s=e.keywords.replace(/[-\s]/g,"").toLowerCase();return{keywords:a=>wH(a,i,s),department:bH,grades:gH,credits:yH,categories:jH,seatRange:xH,wishRange:vH,time:CH,days:mH,classroom:_H,note:SH,language:kH,alarmOnly:a=>n(a.subjectId),favoriteOnly:a=>r(a.subjectId)}}function Yj(e,t){if(!t)return!0;const{min:n,max:r}=t;return(n===void 0||e>=n)&&(r===void 0||e<=r)}function ub(e,t){return!t.length||t.includes(e)}function Jj(e){const t=e.replace(/[^\w---]/g,"");return Cc(t).toLowerCase()}function mH(e,t){if(!e.lesnTime||!t||t.length===0)return!0;const n=RegExp(/^([-]+)/).exec(e.lesnTime);if(!n)return!0;const r=n[1].split("");return t.some(i=>r.includes(i))}function gH(e,t){const n=Number(e.studentYear);return!n||t.includes("")||t.length===0?!0:t.includes(n)}function yH(e,t){const n=Number(e.tmNum.split("/")[0]);return!n||Number.isNaN(n)?!0:ub(n,t)}function xH(e,t){const n=e;return"seat"in n?Yj(n.seat??0,t):!0}function vH(e,t){return"totalCount"in e?Yj(e.totalCount??0,t):!0}function bH(e,t){return!t||t===""||t===e.deptCd}function wH(e,t,n){if(!t)return!0;const r=e.professorName?Cc(e.professorName).toLowerCase():"",i=Jj(e.subjectName),a=(e.subjectCode+e.classCode).toLowerCase().includes(n);return r.includes(t)||i.includes(t)||a}function _H(e,t){return t.length?e.lesnRoom?t.some(n=>new RegExp(`^${n}[\\w]`,"i").test(e.lesnRoom)):!1:!0}function SH(e,t){return!t||t.length===0?!0:t.some(n=>{switch(n){case"":return e.remark?.includes("")??!1;case"SHP":return["SHP","Honor"].some(r=>e.remark?.includes(r)??!1);case"":return!e.remark||!["","SHP","Honor"].some(r=>e.remark?.includes(r)??!1)}})}function CH(e,t){if(!t||t.length===0||!e.lesnTime)return!0;const r=new Nc(e.lesnTime).toApiData().map(i=>({day:i.dayOfWeeks,start:new Bu(i.startTime),end:new Bu(i.endTime)}));return t.some(i=>{if(i.day==="")return!0;const s=r.filter(a=>a.day===i.day);if(i.type==="all"||!s.length)return!!s.length;if(i.type==="before"&&i.start){const a=new Bu(i.start);return s.some(o=>o.end.compare(a)<=0)}if(i.type==="after"&&i.start){const a=new Bu(i.start);return s.some(o=>a.compare(o.start)<=0)}if(i.type==="between"&&i.start&&i.end){const a=new Bu(i.start),o=new Bu(i.end);return s.some(u=>a.compare(u.start)<=0&&u.end.compare(o)<=0)}})}function jH(e,t){return ub(e.curiTypeCdNm,t)}function kH(e,t){return ub(e.curiLangNm??"",t)}function Ac(e,t){const n=fH(t),{onSearchChange:r}=Qh(),{keywords:i,department:s}=t;return!e||e.length===0?[]:(r(i,s),e.filter(a=>n(a,t)))}const Xj="2026-02-27",EH="10:00";function Rg(e){const{hasSeats:t}=e??{},n=new Date>PR(`${Xj}T10:00:00`);return{isPreSeatAvailable:!n}}function Ag({col:e,row:t}){return c.jsx(c.Fragment,{children:Array.from({length:t}).map((n,r)=>c.jsx("tr",{className:"animate-pulse border-t border-gray-200 h-10",children:Array.from({length:e}).map((i,s)=>c.jsx("td",{className:"bg-gray-300",colSpan:-1},`skeleton-td-${s}-${r}`))},"skeleton-row-"+r))})}const i1=45;function Ig(e,t="ref",n=".load-more-trigger"){const[r,i]=T.useState(i1),s=T.useRef(null),a=T.useRef(null);return T.useEffect(()=>{i(i1)},[e]),T.useEffect(()=>{const o=new IntersectionObserver(u=>{u.forEach(d=>{d.isIntersecting&&i(f=>f>=e.length?f:f+i1)})},{root:null,rootMargin:"0px",threshold:.5});return a.current=o,t==="ref"&&s.current?o.observe(s.current):t==="selector"&&document.querySelectorAll(n).forEach(d=>o.observe(d)),()=>{o.disconnect()}},[e,t,n]),{visibleRows:r,...t==="ref"?{loadMoreRef:s}:{}}}const Lg=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16,height:16,viewBox:"0 0 16 16",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,32)"},T.createElement("path",{d:"M13,25.5Q12.9688,23.3125,11.75,21.65625L15.7188,17.71875Q16,17.40625,16,17Q16,16.59375,15.7188,16.28125Q15.4062,16,15,16Q14.5938,16,14.2812,16.28125L10.3438,20.25Q8.6875,19.03125,6.5,19Q3.75,19.0625,1.90625,20.90625Q0.0625,22.75,0,25.5Q0.0625,28.25,1.90625,30.0938Q3.75,31.9375,6.5,32Q9.25,31.9375,11.0938,30.0938Q12.9375,28.25,13,25.5ZM6.5,21Q7.71875,21,8.75,21.59375Q9.78125,22.1875,10.4062,23.25Q11,24.3125,11,25.5Q11,26.6875,10.4062,27.75Q9.78125,28.8125,8.75,29.4062Q7.71875,30,6.5,30Q5.28125,30,4.25,29.4062Q3.21875,28.8125,2.59375,27.75Q2,26.6875,2,25.5Q2,24.3125,2.59375,23.25Q3.21875,22.1875,4.25,21.59375Q5.28125,21,6.5,21Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function jc({title:e,description:t}){return c.jsxs(fe,{direction:"flex-col",align:"items-center",gap:"gap-1",className:"mt-2",children:[c.jsx(Lg,{className:"w-7 h-7"}),c.jsx("p",{className:"text-gray-500 font-medium",children:e}),t&&c.jsx("p",{className:"text-gray-400 text-xs",children:t})]})}function cb({col:e,title:t,description:n}){return c.jsx("tr",{children:c.jsx("td",{colSpan:e,className:"py-4 text-center",children:c.jsx(jc,{title:t,description:n})})})}function TH({titles:e,subjects:t,isPending:n=!1}){return c.jsxs("table",{className:"w-full bg-white rounded-lg relative text-sm",children:[c.jsx("thead",{children:c.jsx("tr",{className:"bg-gray-50 text-nowrap",children:e.map(({title:r})=>c.jsx("th",{className:"px-4 py-2",children:r},r))})}),c.jsx("tbody",{children:c.jsx(NH,{titles:e,subjects:t,isPending:n})})]})}function NH({titles:e,subjects:t,isPending:n=!1}){const{visibleRows:r}=Ig(t??[],"selector"),i=(t??[]).filter(a=>!a.isDeleted),s=i?i.slice(0,r):[];return n||!i?c.jsx(Ag,{row:5,col:e.length}):i.length?c.jsxs(c.Fragment,{children:[s.map(a=>c.jsx(PH,{subject:a},`${a.subjectCode} ${a.subjectId} ${a.professorName}`)),c.jsx("tr",{className:"load-more-trigger"})]}):c.jsx(cb,{col:e.length,title:"  .",description:"   ."})}function PH({subject:e}){const t=e.curiLangNm==="",r=e.isDeleted?"bg-gray-100 hover:bg-gray-200":t?"bg-green-50 hover:bg-green-100":"bg-white hover:bg-gray-100",{data:i}=Cg(),{mutate:s}=tb(),{mutate:a}=Cj(),{selectTargetOnly:o}=Qh(),u=i?.some(f=>f.subjectId===e.subjectId),d=()=>{if(!u){a(e.subjectId);return}s(e.subjectId),o(e.subjectId),Eg(e.deptCd)};return c.jsxs("tr",{className:`border-t border-gray-200 text-black ${r}`,children:[c.jsx("td",{className:"px-4 py-2 text-center",children:c.jsx("button",{className:"cursor-pointer","aria-label":u?"  ":"  ",onClick:d,children:c.jsx(Bo,{disabled:!u})})}),c.jsxs("td",{className:"px-2 py-2 text-center",children:[e.subjectCode,"-",e.classCode]}),c.jsx("td",{className:"px-2 py-2 text-center",children:e.departmentName}),c.jsx("td",{className:"px-2 py-2 text-center",children:e.subjectName}),c.jsx("td",{className:"px-2 py-2 text-center",children:e.professorName}),e.seat!==void 0?c.jsx("td",{className:"px-2 py-2 text-center",children:e.seat>=0?c.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${_g(e.seat)}`,children:e.seat}):c.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-gray-300",children:"-"})}):null]})}function Zj({subject:e,variant:t="contain",className:n,onClick:r,...i}){const{data:s}=Cg(),{mutate:a}=tb(),{mutate:o}=Cj(),{selectTargetOnly:u}=Qh(),d=s?.some(g=>g.subjectId===e.subjectId),f=d?"  ":"  ",p=g=>{if(u(e.subjectId),Eg(e.deptCd),r&&r(g),!d){o(e.subjectId);return}a(e.subjectId)};return c.jsx(zn,{"aria-label":f,title:f,variant:t==="contain"?"contain":"plain",onClick:p,icon:c.jsx(Bo,{disabled:!d}),className:n,...i})}function OH({subject:e,seats:t,queryTime:n,disableSeat:r=!1,isLive:i=!1}){const s=e.isDeleted,a=e.curiLangNm==="",o=typeof e.tmNum=="string"&&Number(e.tmNum.split("/")[0])||0;return c.jsxs(Yt,{variant:"elevated",children:[c.jsxs(fe,{justify:"justify-between",children:[c.jsx(mt,{level:3,children:e.subjectName}),c.jsx(Zj,{subject:e,variant:"plain"})]}),c.jsxs(fe,{className:"text-xs text-gray-500",direction:"flex-col",children:[c.jsx("p",{children:e.departmentName}),c.jsxs("p",{children:[e.subjectCode,"-",e.classCode," | ",e.professorName]})]}),c.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:[e.studentYear," ",e.curiTypeCdNm," | ",o," | ",e.lesnTime]}),!r&&c.jsxs(fe,{gap:"gap-2",align:"items-baseline",justify:"justify-between",children:[c.jsxs("p",{className:`text-sm px-2 py-1 rounded-full font-bold ${_g(t)}`,children:[": ",t<0?"???":t]}),!i&&c.jsx(Xi,{variant:"default",children:rb(n)}),s&&c.jsx(Xi,{variant:"danger",children:""}),a&&c.jsx(Xi,{variant:"success",children:""})]})]})}function db({subjects:e,isPending:t=!1,className:n="",isLive:r=!1}){return c.jsx(fe,{direction:"flex-col",gap:"gap-2",className:n,children:c.jsx(RH,{subjects:e,isPending:t,isLive:r})})}function RH({subjects:e,isPending:t=!1,isLive:n=!1}){const{visibleRows:r,loadMoreRef:i}=Ig(e),s=e?e.slice(0,r):[];return t||!e?c.jsx(Os,{columns:{base:1,md:3},gap:"gap-4",className:"animate-pulse",children:[0,0,0].map((a,o)=>c.jsx("div",{className:"bg-gray-300 shadow-sm rounded-lg p-4 h-24"},"skeleton-card-"+o))}):e.length?c.jsxs(c.Fragment,{children:[s.map(a=>c.jsx(OH,{subject:a,seats:"seat"in a?a.seat??-1:-1,disableSeat:!("seat"in a),className:"bg-white",isLive:n},a.subjectId)),c.jsx("div",{ref:i,className:"load-more-trigger opacity-0",children:" "})]}):c.jsxs(fe,{direction:"flex-col",align:"items-center",gap:"gap-2",className:"text-center py-4",children:[c.jsx(Lg,{className:"w-12 h-12"}),c.jsx("p",{className:"text-gray-500 font-bold mt-4",children:"  ."}),c.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"   ."})]})}function La({onDelete:e,...t}){const n=T.useRef(null);return c.jsx(G1,{leftIcon:c.jsx(zn,{variant:"plain",icon:c.jsx(Lg,{className:"w-5 h-5"}),className:"absolute left-3 top-3",onClick:r=>{r.preventDefault(),n.current?.focus()}}),rightIcon:c.jsx(zn,{variant:"plain",icon:c.jsx(VC,{className:"w-5 h-5"}),"aria-label":"  ",className:"absolute right-3 top-4",onClick:()=>{e(),n.current?.focus()}}),...t})}const s1=9;function um({selectedValues:e,filterKey:t,setFilter:n,options:r,ItemComponent:i}){const s=Io(),a=i.layout??"grid",o=bi(),[u,d]=T.useState(!1),f=y=>{const _=e?.includes(y)?e?.filter(C=>C!==y):[...e??[],y];n(t,_??null)},p=()=>{n(t,null)},g=!u&&r.length>s1?r.slice(0,s1):r;return c.jsxs("div",{className:"relative inline-block w-full",children:[c.jsxs(fe,{direction:"flex-col",gap:"gap-2",children:[c.jsx(wn,{children:pi[t]}),a==="grid"?c.jsx(Os,{columns:{md:3},gap:"gap-2",children:g.map(y=>c.jsx(i,{label:s[t]?.(y)??String(y),selected:e?.includes(y)??!1,onClick:()=>f(y)},String(y)))}):c.jsx(fe,{direction:"flex-col",gap:"gap-2",className:"pr-4",children:g.map(y=>c.jsx(i,{label:s[t]?.(y)??String(y),selected:e?.includes(y)??!1,onClick:()=>f(y)},String(y)))})]}),r.length>s1&&c.jsx(ct,{variant:"text",size:"small",textColor:"gray",onClick:()=>d(y=>!y),children:u?"- ":"+ "}),!o&&c.jsx(fe,{justify:"justify-end",children:c.jsx(ct,{variant:"text",size:"small",textColor:"gray",disabled:e==null||e.length===0,onClick:()=>p(),children:""})})]})}function Fn({filterKey:e,selectedValues:t,options:n,setFilter:r,ItemComponent:i,className:s}){const a=bi(),o=lH(e,t),u=a?yn:_j,d=c.jsx(um,{filterKey:e,selectedValues:t,setFilter:(f,p)=>r(f,p),options:n,ItemComponent:i||u});return a?d:c.jsx(Sg,{label:o,selected:t.length>0,className:s,children:d})}const AH=e=>T.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M9 14C10.1867 14 11.3467 13.6481 12.3334 12.9888C13.3201 12.3295 14.0892 11.3925 14.5433 10.2961C14.9974 9.19975 15.1162 7.99335 14.8847 6.82946C14.6532 5.66558 14.0818 4.59648 13.2426 3.75736C12.4035 2.91825 11.3344 2.3468 10.1705 2.11529C9.00666 1.88378 7.80026 2.0026 6.7039 2.45673C5.60754 2.91085 4.67047 3.67989 4.01118 4.66658C3.35189 5.65328 3 6.81331 3 8V11.1L1.2 9.3L0.5 10L3.5 13L6.5 10L5.8 9.3L4 11.1V8C4 7.0111 4.29324 6.0444 4.84265 5.22215C5.39206 4.39991 6.17295 3.75904 7.08658 3.38061C8.00021 3.00217 9.00555 2.90315 9.97545 3.09608C10.9454 3.289 11.8363 3.76521 12.5355 4.46447C13.2348 5.16373 13.711 6.05465 13.9039 7.02455C14.0969 7.99446 13.9978 8.99979 13.6194 9.91342C13.241 10.8271 12.6001 11.6079 11.7779 12.1574C10.9556 12.7068 9.98891 13 9 13V14Z",fill:"#047CFE"}));function IH({selectedValue:e,filterKey:t,setFilter:n}){const[r,i]=T.useState({min:e?.min??0,max:e?.max??0}),s=(a,o)=>{const u={...r,[a]:o};i(u),n(t,u)};return c.jsxs("div",{className:"relative inline-block w-full space-y-2",children:[c.jsx(wn,{children:" "}),c.jsxs(fe,{gap:"gap-2",children:[c.jsx(G1,{type:"text",placeholder:"",value:r.min,onChange:a=>{const o=a.target.value.replace(/[^\d]/g,"");s("min",o)},className:"w-full"}),c.jsx("span",{className:"flex items-center text-gray-400",children:"~"}),c.jsx(G1,{type:"text",placeholder:"",value:r.max,onChange:a=>{const o=a.target.value.replace(/[^\d]/g,"");s("max",o)},className:"w-full"})]})]})}function LH({selectedValue:e,filterKey:t,setFilter:n,options:r,ItemComponent:i,isMinMax:s=!1}){const a=bi(),o=f=>{n(t,e===f?null:f)},u=()=>{n(t,null)},d=Io();return c.jsxs("div",{className:"relative inline-block",children:[c.jsxs(fe,{direction:"flex-col",gap:"gap-2",children:[c.jsx(wn,{children:pi[t]}),c.jsx(Os,{columns:{md:3},gap:"gap-2",children:r.map(f=>c.jsx(i,{label:d[t]?.(f)??String(f),selected:e===f,onClick:()=>o(f)},String(f)))}),s&&c.jsx("div",{className:"mt-2",children:c.jsx(IH,{selectedValue:e,filterKey:t,setFilter:(f,p)=>n(f,p),options:r})})]}),!a&&c.jsx(fe,{justify:"justify-end",children:c.jsxs(ct,{variant:"text",size:"small",textColor:"gray",onClick:()=>u(),children:[c.jsx(AH,{className:"inline w-3 h-3 mr-1",stroke:"currentColor"}),""]})})]})}function kc({filterKey:e,options:t,ItemComponent:n,selectedValue:r,setFilter:i,className:s,isMinMax:a}){const o=bi(),u=uH(e,r),d=c.jsx(LH,{selectedValue:r,filterKey:e,setFilter:(f,p)=>i(f,p),options:t,ItemComponent:n,isMinMax:a});return o?d:c.jsx(Sg,{label:u,selected:!!r,className:s,children:d})}const ek=e=>T.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M7.18066 10.5625C7.88416 10.5629 8.47281 11.0824 8.63086 11.7812H14.625C14.8321 11.7812 15 11.9491 15 12.1562C15 12.3634 14.8321 12.5312 14.625 12.5312H8.63086C8.47281 13.2301 7.88416 13.7496 7.18066 13.75C6.47688 13.75 5.88776 13.2303 5.72949 12.5312H1.375C1.16789 12.5312 1 12.3634 1 12.1562C1 11.9491 1.16789 11.7812 1.375 11.7812H5.72949C5.88776 11.0822 6.47688 10.5625 7.18066 10.5625ZM7.18066 11.2812C6.72774 11.2812 6.36035 11.673 6.36035 12.1562C6.36035 12.6395 6.72774 13.0312 7.18066 13.0312C7.63324 13.0308 8 12.6392 8 12.1562C8 11.6733 7.63324 11.2817 7.18066 11.2812ZM11.7197 6.40625C12.4233 6.40647 13.0117 6.92611 13.1699 7.625H14.625C14.8321 7.625 15 7.79289 15 8C15 8.20711 14.8321 8.375 14.625 8.375H13.1699C13.0117 9.0739 12.4233 9.59353 11.7197 9.59375C11.0161 9.59356 10.4277 9.07393 10.2695 8.375H1.375C1.16789 8.375 1 8.20711 1 8C1 7.79289 1.16789 7.625 1.375 7.625H10.2695C10.4277 6.92608 11.0161 6.40644 11.7197 6.40625ZM11.7197 7.125C11.267 7.12523 10.9004 7.51689 10.9004 8C10.9004 8.48311 11.267 8.87477 11.7197 8.875C12.1724 8.87474 12.54 8.48309 12.54 8C12.54 7.51691 12.1724 7.12526 11.7197 7.125ZM5.07129 2.25C5.77489 2.2502 6.36337 2.76981 6.52148 3.46875H14.625C14.8321 3.46875 15 3.63664 15 3.84375C15 4.05086 14.8321 4.21875 14.625 4.21875H6.52148C6.36337 4.91769 5.77489 5.43729 5.07129 5.4375C4.36758 5.43737 3.77832 4.9178 3.62012 4.21875H1.375C1.16789 4.21875 1 4.05086 1 3.84375C1 3.63664 1.16789 3.46875 1.375 3.46875H3.62012C3.77832 2.7697 4.36758 2.25013 5.07129 2.25ZM5.07129 2.96875C4.61849 2.9689 4.25098 3.36059 4.25098 3.84375C4.25098 4.32691 4.61849 4.7186 5.07129 4.71875C5.52402 4.71852 5.89062 4.32686 5.89062 3.84375C5.89062 3.36064 5.52402 2.96898 5.07129 2.96875Z",fill:"#9CA3AF"}));function hb({handleOpenFilter:e}){return c.jsx(zn,{"aria-label":" ",title:" ",label:" ",variant:"contain",icon:c.jsx(ek,{className:"w-4 h-4 "}),onClick:e})}function DH({alarmOnly:e,setFilter:t}){return c.jsxs(ct,{variant:"outlined",size:"medium",onClick:()=>t("alarmOnly",!e),children:[c.jsx(Bo,{disabled:!e}),""]})}function Ox({departments:e,category:t,setCategory:n,searchKeywords:r,setSearchKeywords:i}={}){const s=T.useMemo(()=>[{departmentName:"",departmentCode:""},...e??[]],[e]),a=T.useMemo(()=>s.filter(o=>t===""?o.departmentCode==="9005":t===""?o.departmentCode!=="9005":!0).filter(o=>{if(!r)return!0;const u=r.replace(/[^\w\s---]/g,""),d=Cc(u).toLowerCase(),f=o.departmentName.replace(/[^\w\s---]/g,"");return Cc(f).toLowerCase().includes(d)}),[s,t,r]);return{category:t,setCategory:n,searchKeywords:r,setSearchKeywords:i,departmentsList:s,filteredDepartments:a}}const zm=e=>T.createElement("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M4.50007 8.08504L2.76507 6.35004C2.67158 6.25655 2.54479 6.20403 2.41257 6.20403C2.28036 6.20403 2.15356 6.25655 2.06007 6.35004C1.96658 6.44353 1.91406 6.57033 1.91406 6.70254C1.91406 6.768 1.92696 6.83283 1.95201 6.89331C1.97706 6.95379 2.01378 7.00875 2.06007 7.05504L4.15007 9.14504C4.34507 9.34004 4.66007 9.34004 4.85507 9.14504L10.1451 3.85504C10.2386 3.76155 10.2911 3.63475 10.2911 3.50254C10.2911 3.37033 10.2386 3.24353 10.1451 3.15004C10.0516 3.05655 9.92479 3.00403 9.79257 3.00403C9.66036 3.00403 9.53356 3.05655 9.44007 3.15004L4.50007 8.08504Z",fill:"#047CFE"}));function fb({setFilter:e,selectedValue:t}){const{data:n}=tu(),[r,i]=T.useState(""),[s,a]=T.useState(""),{departmentsList:o,filteredDepartments:u}=Ox({category:s,setCategory:a,searchKeywords:r,setSearchKeywords:i,departments:n});return c.jsxs(Sg,{label:tk(t,o),selected:!!t,children:[c.jsxs(fe,{direction:"flex-col",className:"h-80 w-80 overflow-y-auto",children:[c.jsx(wn,{children:""}),c.jsxs(fe,{className:"shrink-0 bg-white",gap:"gap-2",children:[c.jsxs("select",{value:s,className:"border border-gray-300 rounded-md text-sm text-gray-700 bg-white",onChange:d=>{const f=d.target.value;a(f),e("department","")},children:[c.jsx("option",{value:"",children:""}),c.jsx("option",{value:"",children:""})]}),c.jsx(La,{type:"text",placeholder:" ",onDelete:()=>{i("")},value:r,onChange:d=>{i(d.target.value)},className:"w-full"})]}),c.jsx("div",{className:"overflow-y-auto flex-1 py-2 ",children:(s===""||s==="")&&c.jsx(MH,{departments:u,setFilter:e,selectedValue:t})})]}),c.jsx(fe,{justify:"justify-end",className:"w-full pt-1",children:c.jsx(ct,{variant:"text",size:"small",textColor:"gray",disabled:!t,onClick:()=>e("department",""),children:""})})]})}function MH({departments:e,setFilter:t,selectedValue:n}){if(!e)return c.jsx(jc,{title:"  ."});const r=i=>{t("department",i||"")};return e.length===0?c.jsx(jc,{title:"  .",description:"   ."}):c.jsx(c.Fragment,{children:e.map(i=>{const s=tk(n,e)===i.departmentName,a=i.departmentName?i.departmentName.split(" ").slice(-1)[0]:"  ";return c.jsx(Sm,{selected:s,left:a,right:s?c.jsx(zm,{className:"w-4 h-4 shrink-0"}):null,onSelect:()=>r(i.departmentCode)},i.departmentCode)})})}function tk(e,t){const n=t?.find(r=>r.departmentCode===e)?.departmentName;return n||" ."}function hS({className:e,onChange:t,...n}){return c.jsx("input",{type:"time",className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:outline-blue-500 "+e,placeholder:"HH:MM",step:600,onChange:r=>{r.target.value=FH(r.target.value),console.log("Time changed:",r.target.value),t&&t(r)},...n})}function FH(e){const[t,n]=e.split(":").map(Number);if(Number.isNaN(t)||Number.isNaN(n))return"00:00";const r=Math.round(n/10)%6*10,i=String(t).padStart(2,"0"),s=String(r).padStart(2,"0");return`${i}:${s}`}function Rx({items:e,onChange:t}){T.useEffect(()=>{if(e.length===0){t([{day:"",type:"all"}]);return}const i=zH(e);i&&t(i)},[e]);const n=i=>s=>{const{name:a,value:o}=s.target,u=[...e];u[i]={...u[i],[a]:o},t(u)},r=i=>()=>{const s=e.filter((a,o)=>o!==i);t(s)};return c.jsxs(c.Fragment,{children:[c.jsxs(fe,{direction:"flex-col",gap:"gap-2",children:[c.jsx(wn,{children:""}),e.map((i,s)=>c.jsx(BH,{item:i,onChange:n(s),onDelete:r(s)},`${i.day}-${i.type}-${i.start}-${i.end}`))]}),c.jsx(ct,{variant:"text",size:"small",textColor:"gray",onClick:()=>t([...e,{day:"",type:"all"}]),children:" "})]})}function BH({item:e,onChange:t,onDelete:n}){const r=!!e.day,i=e.type!="all",s=e.type==="between";return c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("select",{name:"day",value:e.day,onChange:t,className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:[c.jsx("option",{value:"",children:""}),["","","","","","",""].map(a=>c.jsx("option",{value:a,children:a},a))]}),r&&c.jsxs("select",{name:"type",value:e.type,onChange:t,className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:[c.jsx("option",{value:"all",children:""}),c.jsx("option",{value:"before",children:""}),c.jsx("option",{value:"after",children:""}),c.jsx("option",{value:"between",children:""})]}),i&&c.jsx(hS,{name:"start",value:e.start||"00:00",onChange:t}),s&&c.jsx(hS,{name:"end",value:e.end||"00:00",onChange:t}),c.jsx(ct,{variant:"text",size:"small",textColor:"secondary",onClick:n,children:""})]})}function zH(e){return e.some(n=>n.day===""?n.type!=="all"||n.start||n.end:n.type==="all"?n.start||n.end:n.type==="before"||n.type==="after"?!n.start||n.end:n.type==="between"?!n.start||!n.end:!1)?e.map(n=>n.day===""?{day:"",type:"all"}:n.type==="all"?{day:n.day,type:"all"}:n.type==="before"||n.type==="after"?{day:n.day,type:n.type,start:n.start||"00:00"}:n.type==="between"?{day:n.day,type:n.type,start:n.start||"00:00",end:n.end||"00:00"}:n):e}function nk({times:e,setFilter:t}){const n=(a,o)=>{t("time",o)},r=bi(),s=e.length===1&&e[0].type==="all"&&e[0].day===""?"":e.length===1?` ${e[0].day}`:e.length>1?` ${e[0].day}  ${e.length-1}`:"";return r?c.jsx(Rx,{items:e,onChange:a=>n("time",a)}):c.jsx(Sg,{label:s,selected:e.length>0&&e[0].day!=="",className:"min-w-max",children:c.jsxs(fe,{direction:"flex-col",gap:"gap-2",children:[c.jsx(wn,{children:" "}),c.jsx(Rx,{items:e,onChange:a=>n("time",a)})]})})}const UH=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M3 4H17L12 10.5V20L8 16V10.5L3 4Z",stroke:"#047CFE",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),T.createElement("path",{d:"M16 15L22 21",stroke:"#047CFE",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),T.createElement("path",{d:"M16 21L22 15",stroke:"#047CFE",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function pb({filters:e,resetFilter:t}){return Object.keys(e).some(i=>!Gj(i,e[i]))?c.jsx(yn,{label:c.jsxs(fe,{align:"items-center",gap:"gap-1",children:[c.jsx("span",{children:" "}),c.jsx(UH,{className:"w-4 h-4"})]}),selected:!0,onClick:t}):null}function mb({filterStore:e,onClose:t}){const n=Ba(),{classroom:r,note:i,categories:s,time:a}=e(_=>_.filters),o=tu(),u=e(_=>_.filters),d=e(_=>_.setFilter),f=e(_=>_.resetFilters),p=lb(u,o.data),{data:g}=Rs(n),y=Kh(g??[]).sort((_,C)=>_.localeCompare(C)).map(_=>_),b=(_,C)=>{const k=u[_];Array.isArray(k)?d(_,k.filter(P=>P!==C)):d(_,zo[_])};return c.jsxs(tn,{title:" ",onClose:t,isOpen:!0,children:[c.jsx(tn.Content,{children:c.jsxs(fe,{direction:"flex-col",gap:"gap-4",className:"w-130",children:[p.length>0&&c.jsx(Yt,{variant:"outlined",children:c.jsxs(fe,{direction:"flex-col",gap:"gap-2",children:[c.jsx(wn,{children:" "}),c.jsx(fe,{gap:"gap-2",direction:"flex-wrap",justify:"justify-start",className:"w-120",children:p.map(_=>c.jsx(yn,{variant:"cancel",label:_.label,selected:!0,onClick:()=>b(_.filterKey,_.values)},`${_.filterKey}-${_.values}`))})]})}),c.jsx(Yt,{variant:"outlined",children:c.jsx(um,{selectedValues:s,options:y,filterKey:"categories",setFilter:d,ItemComponent:yn})}),c.jsx(Yt,{variant:"outlined",children:c.jsx(Rx,{items:a,onChange:_=>d("time",_)})}),c.jsx(Yt,{variant:"outlined",children:c.jsx(um,{selectedValues:i,options:gn.remark,filterKey:"note",setFilter:d,ItemComponent:yn})}),c.jsx(Yt,{variant:"outlined",children:c.jsx(um,{selectedValues:r,options:gn.classRoom,filterKey:"classroom",setFilter:d,ItemComponent:yn})})]})}),c.jsx(tn.Footer,{children:c.jsx(fe,{direction:"flex-col",gap:"gap-2",children:c.jsx(fe,{justify:"justify-end",children:c.jsx(ct,{variant:"primary",size:"medium",onClick:f,disabled:p.length===0,children:" "})})})})]})}function $H(){const e=T.useRef(null),t=T.useRef(null),n=T.useRef({touchStart:{sheetY:0,touchY:0},touchMove:{prevTouchY:0,movingDirection:"none"},isContentAreaTouched:!1});T.useEffect(()=>{const s=()=>{const{touchMove:d,isContentAreaTouched:f}=n.current,p=e.current?.getBoundingClientRect().y;if(!p)return!1;if(!f||p!==Il)return!0;const g=t.current,y=g.scrollTop<=0,b=g.scrollTop+g.clientHeight>=g.scrollHeight;return d.movingDirection==="down"&&y||d.movingDirection==="up"&&b,!1},a=d=>{const{touchStart:f}=n.current;f.sheetY=e.current.getBoundingClientRect().y,f.touchY=d.touches[0].clientY},o=d=>{const{touchStart:f,touchMove:p}=n.current,g=d.touches[0];if(p.prevTouchY===void 0&&(p.prevTouchY=f.touchY),p.prevTouchY===0&&(p.prevTouchY=f.touchY),p.prevTouchY<g.clientY&&(p.movingDirection="down"),p.prevTouchY>g.clientY&&(p.movingDirection="up"),s()){d.stopPropagation();const y=g.clientY-f.touchY;let b=f.sheetY+y;b<=Il&&(b=Il),b>=zp&&(b=zp),e.current.style.setProperty("transform",`translateY(${b}px)`)}else document.body.style.overflowY="hidden"},u=()=>{const{touchMove:d}=n.current;(e.current?.getBoundingClientRect().y??0)!==Il&&(d.movingDirection==="down"&&e.current.style.setProperty("transform",`translateY(${zp}px)`),d.movingDirection==="up"&&e.current.style.setProperty("transform",`translateY(${Il}px)`)),n.current={touchStart:{sheetY:0,touchY:0},touchMove:{prevTouchY:0,movingDirection:"none"},isContentAreaTouched:!1}};return e.current.addEventListener("touchstart",a),e.current.addEventListener("touchmove",o),e.current.addEventListener("touchend",u),()=>{e.current?.removeEventListener("touchstart",a),e.current?.removeEventListener("touchmove",o),e.current?.removeEventListener("touchend",u)}},[]);const r=()=>{e.current&&e.current.style.setProperty("transform","translateY(400px)")},i=()=>{e.current&&e.current.style.setProperty("transform",`translateY(${zp}px)`)};return Lh(!0),T.useEffect(()=>{const s=()=>{n.current.isContentAreaTouched=!0};return t.current.addEventListener("touchstart",s),()=>{t.current?.removeEventListener("touchstart",s)}},[]),{sheet:e,content:t,expandToMax:r,collapseToMin:i}}function HH(){const{cancelSchedule:e}=$r(),t=Da(),n=()=>{t("/timetable"),e()};T.useEffect(()=>(window.addEventListener("popstate",n),()=>{window.removeEventListener("popstate",n)}),[])}const Il=0,zp=window.innerHeight-300,VH=window.innerHeight-Il;function Gh({children:e}){const{sheet:t,content:n,expandToMax:r,collapseToMin:i}=$H(),{type:s,resetBottomSheet:a}=Ra(),{cancelSchedule:o}=$r();function u(){o(),a()}return HH(),c.jsxs("div",{className:"fixed inset-0 z-[200]",children:[s&&c.jsx("div",{className:"absolute inset-0 bg-black/5 bg-opacity-80",role:"presentation",onClick:u}),c.jsxs("div",{ref:t,className:"fixed rounded-t-xl bottom-0 left-0 w-full transition-transform bg-white duration-300 z-200",style:{height:`${VH}px`,transform:`translateY(${Il}px)`},children:[c.jsx("div",{className:"w-full flex justify-center py-2 h-7 shrink-0",children:c.jsx("button",{className:"w-20 h-2 cursor-pointer bg-gray-300 rounded-full","aria-label":"",onClick:o})}),c.jsx("div",{ref:n,className:"flex-1 overflow-y-auto ",children:typeof e=="function"?e({expandToMax:r,collapseToMin:i}):e})]})]})}const rk=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M12 5V19M5 12H19",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function Yh({title:e,headerType:t,onClose:n,onClick:r}){return c.jsx("header",{className:"w-full px-2 flex items-center justify-between mb-2",children:t==="add"?c.jsxs("div",{className:"w-full h-8 flex items-center  justify-between ",children:[c.jsx(a1,{headerType:"add",onClick:r}),e&&c.jsx(mt,{level:3,children:e}),c.jsx(a1,{headerType:"close",onClick:n})]}):c.jsx(c.Fragment,{children:c.jsxs("div",{className:"relative w-full flex items-center justify-center h-6",children:[c.jsx(mt,{level:3,children:e}),c.jsx("div",{className:"absolute right-0",children:c.jsx(a1,{headerType:"close",onClick:n})})]})})})}function a1({headerType:e,onClick:t}){const n=e==="close"?c.jsx(i6,{}):c.jsx(rk,{className:"text-gray-400",width:16,height:16});return c.jsx("button",{className:"w-6 h-6 cursor-pointer flex items-center justify-center bg-gray-100 rounded-full",onClick:t,children:n})}function Dg({id:e,className:t,value:n,defaultValue:r="",...i}){const{data:s}=tu(),a=[{departmentName:r,departmentCode:""},...s??[]],o=e??"department-filter";return c.jsxs(c.Fragment,{children:[c.jsx(wn,{htmlFor:o,hidden:!0,children:""}),c.jsx("select",{id:o,className:"w-full p-2 rounded-md bg-white border border-gray-400 "+t,value:n,...i,children:a.map(({departmentName:u,departmentCode:d})=>c.jsx("option",{value:d,children:u},d))})]})}function gb({onCloseFiltering:e,filters:t,setFilter:n,resetFilter:r}){const i=()=>{e()},s=Ba(),{data:a}=Rs(s),o=tu(),u=Kh(a??[]).sort((p,g)=>p.localeCompare(g)).map(p=>p),d=lb(t,o.data),f=(p,g)=>{const y=t[p];Array.isArray(y)?n(p,y.filter(b=>b!==g)):n(p,zo[p])};return c.jsxs(Gh,{children:[c.jsx(Yh,{headerType:"close",title:"",onClose:()=>{e()}}),c.jsxs("div",{className:"w-full flex px-4 flex-col h-[85vh] gap-5 overflow-y-auto overscroll-contain",children:[c.jsx(fe,{direction:"flex-wrap",gap:"gap-2",children:d.map(p=>c.jsx(yn,{variant:"cancel",label:p.label,selected:!0,onClick:()=>f(p.filterKey,p.values)},`${p.filterKey}-${p.values}`))}),c.jsxs(fe,{direction:"flex-col",justify:"justify-center",gap:"gap-8",className:"w-full",children:[c.jsx(Dg,{className:"cursor-pointer border-gray-100 rounded-sm py-1 text-sm",value:t.department,onChange:p=>n("department",p.target.value)}),c.jsx(kc,{filterKey:"wishRange",options:gn.wishRange,selectedValue:t.wishRange??null,setFilter:n,ItemComponent:yn}),c.jsx(kc,{filterKey:"seatRange",options:gn.seatRange,selectedValue:t.seatRange??null,setFilter:n,ItemComponent:yn}),c.jsx(fe,{direction:"flex-col",gap:"gap-2",children:c.jsx(nk,{times:t.time,setFilter:n})}),c.jsx(Fn,{filterKey:"credits",options:gn.credits,selectedValues:t.credits??[],setFilter:n}),c.jsx(Fn,{filterKey:"grades",options:gn.grades,selectedValues:t.grades??[],setFilter:n}),c.jsx(Fn,{filterKey:"classroom",options:gn.classRoom,selectedValues:t.classroom??[],setFilter:n}),c.jsx(Fn,{filterKey:"note",options:gn.remark,selectedValues:t.note??[],setFilter:n}),c.jsx(Fn,{filterKey:"categories",options:u,selectedValues:t.categories??[],setFilter:n}),c.jsxs("div",{className:"sticky bottom-0 py-3 bg-white flex justify-end items-center gap-2 border-gray-200",children:[c.jsx(ct,{variant:"outlined",size:"medium",onClick:r,disabled:d.length===0,children:" "}),c.jsx(ct,{type:"submit",variant:"primary",size:"medium",onClick:i,children:""})]})]})]})]})}function qH(){const[e,t]=T.useState(!1),[n,r]=T.useState(!1),i=rc(b=>b.setFilter),{keywords:s,alarmOnly:a,time:o}=rc(b=>b.filters),u=rc(b=>b.filters),d=rc(b=>b.resetFilters),f=bi(),{data:p}=Rs(),g=Kh(p??[]).sort((b,_)=>b.localeCompare(_)).map(b=>b),y=()=>{f?r(!0):t(!0)};return c.jsxs(fe,{direction:"flex-wrap",gap:"gap-2",children:[c.jsx(wn,{className:"hidden",htmlFor:"searchOption",children:" "}),c.jsx(La,{placeholder:",      ",value:s,className:"w-full",onDelete:()=>i("keywords",""),onChange:b=>i("keywords",b.target.value)}),e&&c.jsx(mb,{filterStore:rc,onClose:()=>t(!1)}),n&&c.jsx(gb,{onCloseFiltering:()=>r(!1),filters:u,setFilter:i,resetFilter:d}),c.jsxs(fe,{align:"items-center",direction:"flex-wrap",gap:"gap-2",children:[c.jsxs(fe,{direction:"flex-wrap",gap:"gap-2",className:"hidden md:flex",children:[c.jsx(fb,{selectedValue:u.department??"",setFilter:i}),c.jsx(nk,{times:o,setFilter:i}),c.jsx(Fn,{filterKey:"credits",options:gn.credits,selectedValues:u.credits??[],setFilter:i}),c.jsx(Fn,{filterKey:"grades",options:gn.grades,selectedValues:u.grades??[],setFilter:i}),u.classroom.length>0&&c.jsx(Fn,{filterKey:"classroom",options:gn.classRoom,selectedValues:u.classroom??[],setFilter:i,className:"min-w-max"}),c.jsx(Fn,{filterKey:"note",options:gn.remark,selectedValues:u.note??[],setFilter:i}),u.categories.length>0&&c.jsx(Fn,{filterKey:"categories",options:g,selectedValues:u.categories??[],setFilter:i,className:"min-w-max"}),c.jsx(kc,{filterKey:"wishRange",options:gn.wishRange,selectedValue:u.wishRange??null,setFilter:i,ItemComponent:yn}),c.jsx(kc,{filterKey:"seatRange",options:gn.seatRange,selectedValue:u.seatRange??null,setFilter:i,ItemComponent:yn})]}),c.jsx(pb,{filters:u,resetFilter:d}),c.jsx(hb,{handleOpenFilter:y}),c.jsx(DH,{alarmOnly:a,setFilter:i})]})]})}const WH=[{title:"",key:"pin"},{title:"",key:"code"},{title:"",key:"departmentName"},{title:"",key:"name"},{title:"",key:"professor"}];function QH(){const e=rc(t=>t.filters);return c.jsxs(c.Fragment,{children:[c.jsx(Un,{children:c.jsx("title",{children:"ALLCLL |  "})}),c.jsxs(fe,{direction:"flex-col",className:"mb-4",children:[c.jsx(mt,{level:2,children:" "}),c.jsxs(Xt,{children:["  ,    .",c.jsx("br",{}),"  ",Xj,", ",EH,"  ."]}),c.jsxs(Yt,{children:[c.jsx(qH,{}),c.jsx(sb,{})]}),c.jsx(KH,{filters:e}),c.jsx(Nj,{right:"right-2 sm:right-10"})]})]})}function KH({filters:e}){const{data:t,titles:n,isPending:r}=Pj(WH),i=Oc(t),s=T.useDeferredValue(Ac(i??[],e)),a=bi();return c.jsx(Yt,{children:a?c.jsx(db,{subjects:s,isPending:r,isLive:!0}):c.jsx(TH,{titles:n,subjects:s,isPending:r})})}const GH={enter:"sidebar-transition-enter",enterActive:"sidebar-transition-enter-active",exit:"sidebar-transition-exit",exitActive:"sidebar-transition-exit-active"};function YH({isOpen:e,onClose:t}){return c.jsx(Wl,{in:e,timeout:100,classNames:GH,unmountOnExit:!0,children:c.jsxs(fe,{direction:"flex-col",className:"w-92 flex-auto bg-gray-50 shadow-lg z-10",children:[c.jsxs("div",{className:"flex justify-between items-center py-2 pl-4 pr-2 bg-white border-b border-gray-200",children:[c.jsx(mt,{level:2,children:" "}),c.jsx(zn,{"aria-label":"  ",icon:c.jsx(eg,{className:"w-4 h-4"}),onClick:t})]}),c.jsx(JH,{})]})})}function JH(){const[e,t]=T.useState(""),[n,r]=T.useState(""),{data:i,isPending:s}=ta(),a=Oc(i),o=T.useDeferredValue(Ac(a??[],{...zo,keywords:e,department:n}));return c.jsx(fe,{direction:"flex-col",className:"flex-1 p-2",children:c.jsxs(fe,{direction:"flex-col",className:"mb-4",gap:"gap-2",children:[c.jsx(La,{placeholder:"  ",value:e,onChange:u=>t(u.target.value),onDelete:()=>t(""),className:"w-full"}),c.jsx(Dg,{className:"flex-auto",value:n,onChange:u=>r(u.target.value)}),c.jsx(db,{className:"flex flex-full overflow-auto max-h-screen",subjects:o,isPending:s})]})})}function XH({onCloseSearch:e}){const[t,n]=T.useState(""),[r,i]=T.useState(""),{data:s,isPending:a}=ta(),o=Oc(s),u=T.useDeferredValue(Ac(o??[],{...zo,keywords:t,department:r}));return c.jsx(Gh,{children:({expandToMax:d})=>c.jsxs(c.Fragment,{children:[c.jsx(Yh,{title:"",headerType:"close",onClose:()=>e(),onClick:d}),c.jsxs("div",{className:"sticky py-3 px-2 top-0 bg-white z-10 flex flex-col gap-2 mb-4 flex-auto",children:[c.jsx(La,{placeholder:"  ",onChange:f=>n(f.target.value),onDelete:()=>n(""),className:"w-full"}),c.jsx(Dg,{className:"flex-auto",value:r,onChange:f=>i(f.target.value)})]}),c.jsx("div",{className:"max-h-[70vh] min-h-0 px-2 overflow-y-auto touch-auto flex flex-col",children:c.jsx(db,{className:"flex flex-full overflow-auto max-h-screen",subjects:u,isPending:a})})]})})}const yb=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},T.createElement("defs",null,T.createElement("clipPath",{id:"master_svg0_106_2202"},T.createElement("rect",{x:0,y:0,width:36,height:36,rx:0}))),T.createElement("g",{clipPath:"url(#master_svg0_106_2202)"},T.createElement("g",{transform:"matrix(1,0,0,-1,0,69.046875)"},T.createElement("g",null,T.createElement("path",{d:"M2.25,66.0234375Q3.23438,66.0234375,3.86719,65.3906375Q4.5,64.7578375,4.5,63.7734375L4.5,40.1484375Q4.57031,39.0937475,5.625,39.0234375L33.75,39.0234375Q34.7344,39.0234375,35.3672,38.3906275Q36,37.7578175,36,36.7734375Q36,35.7890575,35.3672,35.1562495Q34.7344,34.5234375,33.75,34.5234375L5.625,34.5234375Q3.23438,34.59375,1.61719,36.1406275Q0.0703125,37.7578175,0,40.1484375L0,63.7734375Q0,64.7578375,0.632812,65.3906375Q1.26562,66.0234375,2.25,66.0234375ZM9,59.2734375Q9,60.2578375,9.63281,60.8906375Q10.2656,61.5234375,11.25,61.5234375L24.75,61.5234375Q25.7344,61.5234375,26.3672,60.8906375Q27,60.2578375,27,59.2734375Q27,58.2890375,26.3672,57.6562375Q25.7344,57.0234375,24.75,57.0234375L11.25,57.0234375Q10.2656,57.0234375,9.63281,57.6562375Q9,58.2890375,9,59.2734375ZM11.25,54.7734375L20.25,54.7734375L11.25,54.7734375L20.25,54.7734375Q21.2344,54.7734375,21.8672,54.1406375Q22.5,53.5078375,22.5,52.5234375Q22.5,51.5390375,21.8672,50.9062375Q21.2344,50.2734375,20.25,50.2734375L11.25,50.2734375Q10.2656,50.2734375,9.63281,50.9062375Q9,51.5390375,9,52.5234375Q9,53.5078375,9.63281,54.1406375Q10.2656,54.7734375,11.25,54.7734375ZM11.25,48.0234375L29.25,48.0234375L11.25,48.0234375L29.25,48.0234375Q30.2344,48.0234375,30.8672,47.3906375Q31.5,46.7578375,31.5,45.7734375Q31.5,44.7890375,30.8672,44.1562475Q30.2344,43.5234375,29.25,43.5234375L11.25,43.5234375Q10.2656,43.5234375,9.63281,44.1562475Q9,44.7890375,9,45.7734375Q9,46.7578375,9.63281,47.3906375Q10.2656,48.0234375,11.25,48.0234375Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))))),ZH=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e},T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})),eV=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e},T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.477 0-8.268-2.943-9.542-7a9.957 9.957 0 012.043-3.36m3.237-2.347A9.956 9.956 0 0112 5c4.478 0 8.268 2.943 9.542 7a9.954 9.954 0 01-4.043 5.132M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3l18 18"}));function tV({initialItems:e,onChange:t}){const[n,r]=T.useState(e),i=T.useRef(null),s=T.useRef([]),[a,o]=T.useState(null),u=T.useRef(null),[d,f]=T.useState(null),[p,g]=T.useState(null);T.useEffect(()=>{t?.(n)},[n,t]),T.useEffect(()=>{if(a){const I=n.findIndex(O=>O.title===a);I!==-1&&s.current[I]?.focus(),o(null)}},[n,a]),T.useEffect(()=>{const I=()=>requestAnimationFrame(_),O=new ResizeObserver(I);return i.current&&O.observe(i.current),window.addEventListener("scroll",I,!0),window.addEventListener("resize",I),I(),()=>{O.disconnect(),window.removeEventListener("scroll",I,!0),window.removeEventListener("resize",I)}},[]);function y(I){r(O=>{const B=[...O];return B[I]={...B[I],visible:!B[I].visible},B})}const b=T.useRef([]);function _(){const I=i.current;if(!I)return;const O=Array.from(I.children);b.current=O.map(B=>{const W=B.getBoundingClientRect();return W.top+W.height/2})}function C(I,O){if(I.key==="ArrowUp"||I.key==="ArrowDown"){I.preventDefault(),I.stopPropagation();const B=O;let W;if(I.key==="ArrowUp"){if(B===0)return;W=B-1}else{if(B===n.length-1)return;W=B+1}const F=n[B].title;r(se=>{const J=[...se],[xe]=J.splice(B,1);return J.splice(W,0,xe),J}),o(F)}}function k(I,O){if(!i.current)return;const B=I.target.closest(".draggable-item");if(!B)return;I.target.setPointerCapture(I.pointerId);const W=B.getBoundingClientRect(),F=i.current.getBoundingClientRect();u.current={currentIndex:O,height:W.height,offsetY:I.clientY-W.top,containerRect:F},f({item:n[O],initialIndex:O}),g({width:W.width,left:W.left,top:W.top,position:"fixed",zIndex:50,pointerEvents:"none",transition:"none"}),window.addEventListener("pointermove",P),window.addEventListener("pointerup",A,{once:!0})}function P(I){if(u.current===null)return;const{height:O,offsetY:B,containerRect:W}=u.current;let F=I.clientY-B;F=Math.max(W.top,F),F=Math.min(W.bottom-O,F),g(ee=>({...ee||{},top:F})),_();const se=I.clientY;let xe=b.current.findIndex(ee=>se<ee);xe===-1&&(xe=n.length);const G=u.current.currentIndex;let $=Math.max(0,Math.min(n.length-1,xe>G?xe-1:xe));$!==G&&(u.current.currentIndex=$,r(ee=>{const Z=[...ee],[X]=Z.splice(G,1);return Z.splice($,0,X),Z}))}function A(){window.removeEventListener("pointermove",P),u.current=null,f(null),g(null)}const U=T.useMemo(()=>d?n.findIndex(I=>I.title===d.item.title):-1,[n,d]);function V(I){if(!d||!u.current||U===-1)return"";const O=U,B=u.current.currentIndex,W=u.current.height;if(I===O)return"";if(O<B){if(I>O&&I<=B)return`translateY(-${W}px)`}else if(I>=B&&I<O)return`translateY(${W}px)`;return""}return c.jsxs(c.Fragment,{children:[c.jsx("ul",{ref:i,className:"bg-white divide-y divide-gray-100 relative",children:n.map((I,O)=>c.jsxs("li",{ref:B=>{s.current[O]=B},className:"draggable-item flex items-center gap-2 rounded-md px-2 transition-transform duration-1000",tabIndex:0,onKeyDown:B=>C(B,O),style:{transform:V(O),opacity:U===O?.4:1},children:[c.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700 cursor-grab",onPointerDown:B=>k(B,O),"aria-label":`Drag ${I.title}`,title:" ",children:""}),c.jsxs("div",{className:"flex items-center justify-between flex-auto",children:[c.jsx("span",{className:"font-medium",children:I.title}),c.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700 cursor-pointer","aria-label":I.visible?"":"",title:I.visible?"":"",onClick:()=>y(O),children:I.visible?c.jsx(ZH,{className:"w-4 h-4"}):c.jsx(eV,{className:"w-4 h-4"})})]})]},I.title))}),p&&d&&c.jsx("div",{style:p,className:"bg-blue-50 rounded-md shadow-lg w-full max-w-lg m-auto px-2",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"p-1 text-gray-700",children:""}),c.jsx("span",{className:"font-medium",children:d.item.title})]})}),c.jsx("div",{className:"mt-4 text-sm text-gray-500",children:"Tip:    /    ."})]})}function ik({initialItems:e,onChange:t,onClose:n}){return Sj({enabled:!0,onClose:n}),c.jsx(tn,{title:" ",onClose:n,isOpen:!0,children:c.jsx(tn.Content,{children:c.jsx(tV,{initialItems:e,onChange:t})})})}function nV(e){const{data:t}=Rs(),{data:n,...r}=Ov(e);return{data:n?.map(s=>{const{subjectId:a,seatCount:o,queryTime:u}=s,d=t?.find(b=>b.subjectId===a)||sg,{subjectName:f,subjectCode:p,classCode:g,professorName:y}=d;return{...d,code:`${p}-${g}`,name:f,professor:y,seat:o,queryTime:u}}),...r}}function rV(){return c.jsx(kg,{title:"   TOP 10  ",description:"   ",icon:c.jsx(yb,{className:"w-7 h-7"})})}function iV(){return c.jsx(kg,{title:"   ",description:"   .   .",icon:c.jsx(jv,{className:"w-7 h-7 text-gray-400"}),children:c.jsx(fe,{justify:"justify-center",children:c.jsx("a",{className:"bg-gray-50 rounded-full px-4 py-2 text-sm border border-gray-200 hover:shadow-md cursor-pointer",href:"https://open.kakao.com/o/g3MztXfh",children:"  "})})})}const sk=(e,t)=>fr()(tg(n=>({tableTitles:t,setTableTitles:r=>n({tableTitles:r}),resetTableTitles:()=>n({tableTitles:t})}),{name:`${e}-table-head-store`})),sV=[{title:"",visible:!0,key:"code"},{title:"",visible:!0,key:"name"},{title:"",visible:!0,key:"professor"},{title:"",visible:!0,key:"seat"},{title:"",visible:!0,key:"queryTime"},{title:"",visible:!1,key:"manageDeptNm"},{title:"",visible:!1,key:"studentYear"},{title:"",visible:!1,key:"lesnTime"},{title:"",visible:!1,key:"lesnRoom"},{title:"",visible:!1,key:"tmNum"},{title:"",visible:!1,key:"remark"},{title:"",visible:!1,key:"curiTypeCdNm"},{title:"",visible:!1,key:"curiLangNm"}],fS=sk("live",sV),aV=({title:e=""})=>{const[t,n]=T.useState(!1),r=fS(s=>s.setTableTitles),i=fS(s=>s.tableTitles);return c.jsxs(Yt,{children:[t&&c.jsx(ik,{initialItems:i,onChange:r,onClose:()=>n(!1)}),c.jsxs(fe,{justify:"justify-between",align:"items-center",className:"mb-2",children:[c.jsxs(mt,{level:3,children:[e," "]}),c.jsx(zn,{label:" ",variant:"plain","aria-label":" ",icon:c.jsx(yb,{className:"w-4 h-4"}),onClick:()=>n(!0)})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full bg-white rounded-lg text-sm",children:[c.jsx("thead",{children:c.jsx("tr",{className:"bg-gray-50 sticky top-0 z-10 text-nowrap",children:i.filter(s=>s.visible).map(({title:s})=>c.jsx("th",{className:"px-4 py-2",children:s},s))})}),c.jsx("tbody",{children:c.jsx(oV,{tableTitles:i})})]})}),c.jsx(sb,{})]})};function oV({tableTitles:e}){const{data:t,isError:n,isPending:r,refetch:i}=nV(ag.NON_MAJOR),s=e.filter(d=>d.visible),{data:a}=Zl("live"),o=a&&"service"in a&&a.service&&!a.service.withinPeriod?a.service:null,u=uc(d=>d.sseState);return n?c.jsx("tr",{children:c.jsx("td",{colSpan:s.length,children:c.jsx(Tj,{onReload:i})})}):r||!t?c.jsx(Ag,{row:5,col:s.length}):u===Pv.IDLE&&o?c.jsx("tr",{children:c.jsx("td",{colSpan:s.length,className:"text-center",children:c.jsx(iV,{})})}):t.length?c.jsx(Zm,{component:null,children:t.map(d=>c.jsx(Wl,{timeout:500,classNames:"row-change",children:c.jsx(lV,{subject:d,HeadTitles:s},d.code)},d.code))}):c.jsx("tr",{children:c.jsx("td",{colSpan:s.length,className:"text-center",children:c.jsx(rV,{})})})}function lV({subject:e,HeadTitles:t}){const n=T.useRef(e.seat),[r,i]=T.useState(!1),s=e.isDeleted,a=e.curiLangNm==="",o=r?"bg-blue-50":s?"bg-gray-100":a?"bg-green-50":"",u=new Date(e.queryTime??0).getTime();return T.useEffect(()=>{if(n.current!==e.seat){i(!0);const d=setTimeout(()=>i(!1),1e3);return n.current=e.seat,()=>clearTimeout(d)}},[e.seat]),c.jsx("tr",{className:`border-t border-gray-200 text-black transition-colors duration-500 text-nowrap ${o}`,"data-testid":"crawl-row","data-crawled-at":u,children:t.map(({key:d})=>{switch(d){case"seat":return c.jsx("td",{className:"px-4 py-2 text-center",children:c.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold "+_g(e.seat??-1),children:e[d]})},d);case"queryTime":return c.jsx(uV,{queryTime:e.queryTime},d);default:return c.jsx("td",{className:"px-4 py-2 text-center",children:e[d]},d)}})})}function uV({queryTime:e}){return kj(),c.jsx("td",{className:"w-18 px-4 py-2 text-center text-xs",children:c.jsx("span",{className:"text-gray-500",children:rb(e)})})}function cV(){const e=yx(i=>i.isSearchOpen),t=yx(i=>i.setIsSearchOpen),n=bi(),{isPreSeatAvailable:r}=Rg();return c.jsxs(c.Fragment,{children:[c.jsxs(Un,{children:[c.jsx("title",{children:"ALLCLL |   "}),c.jsx("meta",{name:"description",content:"    ,    !"})]}),c.jsxs(fe,{className:"overflow-hidden min-h-screen",children:[c.jsxs(fe,{direction:"flex-col",className:"max-w-screen-xl mx-auto p-4 mb-8 container",children:[c.jsxs(fe,{direction:"flex-col",gap:"gap-0",children:[c.jsx(mt,{level:1,children:"  "}),c.jsxs(Xt,{children:["     .    ",c.jsx("a",{href:"https://forms.gle/bCDTVujEHunnvHe88",target:"_blank",className:"text-blue-500 underline hover:text-blue-600",children:""})]})]}),c.jsx(hz,{}),c.jsx(Os,{columns:{base:1},gap:"gap-4",children:c.jsx(dV,{isPreSeatAvailable:r})})]}),c.jsx(hV,{isMobile:n,isOpen:e,onClose:()=>t(!1)})]})]})}function dV({isPreSeatAvailable:e}){return e?c.jsx(QH,{}):c.jsx(aV,{title:""})}function hV({isMobile:e,isOpen:t,onClose:n}){return t?e?c.jsx(XH,{onCloseSearch:n}):c.jsx(YH,{isOpen:t,onClose:n}):null}function fV(){const[e,t]=T.useState(!1);return c.jsxs(c.Fragment,{children:[c.jsx(Un,{children:c.jsx("title",{children:"ALLCLL | "})}),c.jsxs("div",{className:"mx-auto flex flex-col justify-center bg-blue-100 h-max",children:[c.jsx("iframe",{src:"https://resilient-may-c73.notion.site/ebd/1f2acf7c316280939afed2657259c817",width:"100%",height:e?"1000":"0",onLoad:()=>t(!0),children:" "}),!e&&c.jsx("div",{className:"w-4xl mx-auto h-screen flex justify-center items-center text-3xl",children:" ..."})]})]})}function pV(){const[e,t]=T.useState(!1);return c.jsxs(c.Fragment,{children:[c.jsxs(Un,{children:[c.jsx("title",{children:"ALLCLL |   "}),c.jsx("meta",{name:"description",content:"     ,  ."})]}),c.jsxs("div",{className:"mx-auto flex justify-center bg-blue-100 pt-4",children:[c.jsx("iframe",{src:"https://docs.google.com/forms/d/e/1FAIpQLSdk7MxNYVyzPyJLecQdJU5wGSgdE7rUWtRfcrPBY2ioKbtW2Q/viewform?embedded=true",width:"640",height:e?"1100":"0",onLoad:()=>t(!0),children:" "}),!e&&c.jsx("div",{className:"w-4xl h-screen flex items-center text-3xl",children:" ..."})]})]})}function pS(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}const ei=Ko(/[A-Za-z]/),zr=Ko(/[\dA-Za-z]/),mV=Ko(/[#-'*+\--9=?A-Z^-~]/);function Um(e){return e!==null&&(e<32||e===127)}const Ax=Ko(/\d/),gV=Ko(/[\dA-Fa-f]/),yV=Ko(/[!-/:-@[-`{-~]/);function vt(e){return e!==null&&e<-2}function cn(e){return e!==null&&(e<0||e===32)}function $t(e){return e===-2||e===-1||e===32}const Mg=Ko(new RegExp("\\p{P}|\\p{S}","u")),Jl=Ko(/\s/);function Ko(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function xV(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const Fg=(function(e){if(e==null)return _V;if(typeof e=="function")return Bg(e);if(typeof e=="object")return Array.isArray(e)?vV(e):bV(e);if(typeof e=="string")return wV(e);throw new Error("Expected function, string, or object as test")});function vV(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Fg(e[n]);return Bg(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function bV(e){const t=e;return Bg(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function wV(e){return Bg(t);function t(n){return n&&n.type===e}}function Bg(e){return t;function t(n,r,i){return!!(SV(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function _V(){return!0}function SV(e){return e!==null&&typeof e=="object"&&"type"in e}const ak=[],CV=!0,Ix=!1,jV="skip";function ok(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=Fg(i),a=r?-1:1;o(e,void 0,[])();function o(u,d,f){const p=u&&typeof u=="object"?u:{};if(typeof p.type=="string"){const y=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(u.type+(y?"<"+y+">":""))+")"})}return g;function g(){let y=ak,b,_,C;if((!t||s(u,d,f[f.length-1]||void 0))&&(y=kV(n(u,f)),y[0]===Ix))return y;if("children"in u&&u.children){const k=u;if(k.children&&y[0]!==jV)for(_=(r?k.children.length:-1)+a,C=f.concat(k);_>-1&&_<k.children.length;){const P=k.children[_];if(b=o(P,_,C)(),b[0]===Ix)return b;_=typeof b[1]=="number"?b[1]:_+a}}return y}}}function kV(e){return Array.isArray(e)?e:typeof e=="number"?[CV,e]:e==null?ak:[e]}function EV(e,t,n){const i=Fg((n||{}).ignore||[]),s=TV(t);let a=-1;for(;++a<s.length;)ok(e,"text",o);function o(d,f){let p=-1,g;for(;++p<f.length;){const y=f[p],b=g?g.children:void 0;if(i(y,b?b.indexOf(y):void 0,g))return;g=y}if(g)return u(d,f)}function u(d,f){const p=f[f.length-1],g=s[a][0],y=s[a][1];let b=0;const C=p.children.indexOf(d);let k=!1,P=[];g.lastIndex=0;let A=g.exec(d.value);for(;A;){const U=A.index,V={index:A.index,input:A.input,stack:[...f,d]};let I=y(...A,V);if(typeof I=="string"&&(I=I.length>0?{type:"text",value:I}:void 0),I===!1?g.lastIndex=U+1:(b!==U&&P.push({type:"text",value:d.value.slice(b,U)}),Array.isArray(I)?P.push(...I):I&&P.push(I),b=U+A[0].length,k=!0),!g.global)break;A=g.exec(d.value)}return k?(b<d.value.length&&P.push({type:"text",value:d.value.slice(b)}),p.children.splice(C,1,...P)):P=[d],C+P.length}}function TV(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([NV(i[0]),PV(i[1])])}return t}function NV(e){return typeof e=="string"?new RegExp(xV(e),"g"):e}function PV(e){return typeof e=="function"?e:function(){return e}}const o1="phrasing",l1=["autolink","link","image","label"];function OV(){return{transforms:[FV],enter:{literalAutolink:AV,literalAutolinkEmail:u1,literalAutolinkHttp:u1,literalAutolinkWww:u1},exit:{literalAutolink:MV,literalAutolinkEmail:DV,literalAutolinkHttp:IV,literalAutolinkWww:LV}}}function RV(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:o1,notInConstruct:l1},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:o1,notInConstruct:l1},{character:":",before:"[ps]",after:"\\/",inConstruct:o1,notInConstruct:l1}]}}function AV(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function u1(e){this.config.enter.autolinkProtocol.call(this,e)}function IV(e){this.config.exit.autolinkProtocol.call(this,e)}function LV(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function DV(e){this.config.exit.autolinkEmail.call(this,e)}function MV(e){this.exit(e)}function FV(e){EV(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,BV],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),zV]],{ignore:["link","linkReference"]})}function BV(e,t,n,r,i){let s="";if(!lk(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!UV(n)))return!1;const a=$V(n+r);if(!a[0])return!1;const o={type:"link",title:null,url:s+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[o,{type:"text",value:a[1]}]:o}function zV(e,t,n,r){return!lk(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function UV(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function $V(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=pS(e,"(");let s=pS(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function lk(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Jl(n)||Mg(n))&&(!t||n!==47)}function Ts(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}uk.peek=JV;function HV(){this.buffer()}function VV(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function qV(){this.buffer()}function WV(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function QV(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ts(this.sliceSerialize(e)).toLowerCase(),n.label=t}function KV(e){this.exit(e)}function GV(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ts(this.sliceSerialize(e)).toLowerCase(),n.label=t}function YV(e){this.exit(e)}function JV(){return"["}function uk(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const a=n.enter("footnoteReference"),o=n.enter("reference");return s+=i.move(n.safe(n.associationId(e),{after:"]",before:s})),o(),a(),s+=i.move("]"),s}function XV(){return{enter:{gfmFootnoteCallString:HV,gfmFootnoteCall:VV,gfmFootnoteDefinitionLabelString:qV,gfmFootnoteDefinition:WV},exit:{gfmFootnoteCallString:QV,gfmFootnoteCall:KV,gfmFootnoteDefinitionLabelString:GV,gfmFootnoteDefinition:YV}}}function ZV(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:uk},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,a){const o=s.createTracker(a);let u=o.move("[^");const d=s.enter("footnoteDefinition"),f=s.enter("label");return u+=o.move(s.safe(s.associationId(r),{before:u,after:"]"})),f(),u+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),u+=o.move((t?`
`:" ")+s.indentLines(s.containerFlow(r,o.current()),t?ck:eq))),d(),u}}function eq(e,t,n){return t===0?e:ck(e,t,n)}function ck(e,t,n){return(n?"":"    ")+e}const tq=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];dk.peek=aq;function nq(){return{canContainEols:["delete"],enter:{strikethrough:iq},exit:{strikethrough:sq}}}function rq(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:tq}],handlers:{delete:dk}}}function iq(e){this.enter({type:"delete",children:[]},e)}function sq(e){this.exit(e)}function dk(e,t,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(e,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),s(),a}function aq(){return"~"}function oq(e){return e.length}function lq(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||oq,s=[],a=[],o=[],u=[];let d=0,f=-1;for(;++f<e.length;){const _=[],C=[];let k=-1;for(e[f].length>d&&(d=e[f].length);++k<e[f].length;){const P=uq(e[f][k]);if(n.alignDelimiters!==!1){const A=i(P);C[k]=A,(u[k]===void 0||A>u[k])&&(u[k]=A)}_.push(P)}a[f]=_,o[f]=C}let p=-1;if(typeof r=="object"&&"length"in r)for(;++p<d;)s[p]=mS(r[p]);else{const _=mS(r);for(;++p<d;)s[p]=_}p=-1;const g=[],y=[];for(;++p<d;){const _=s[p];let C="",k="";_===99?(C=":",k=":"):_===108?C=":":_===114&&(k=":");let P=n.alignDelimiters===!1?1:Math.max(1,u[p]-C.length-k.length);const A=C+"-".repeat(P)+k;n.alignDelimiters!==!1&&(P=C.length+P+k.length,P>u[p]&&(u[p]=P),y[p]=P),g[p]=A}a.splice(1,0,g),o.splice(1,0,y),f=-1;const b=[];for(;++f<a.length;){const _=a[f],C=o[f];p=-1;const k=[];for(;++p<d;){const P=_[p]||"";let A="",U="";if(n.alignDelimiters!==!1){const V=u[p]-(C[p]||0),I=s[p];I===114?A=" ".repeat(V):I===99?V%2?(A=" ".repeat(V/2+.5),U=" ".repeat(V/2-.5)):(A=" ".repeat(V/2),U=A):U=" ".repeat(V)}n.delimiterStart!==!1&&!p&&k.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&P==="")&&(n.delimiterStart!==!1||p)&&k.push(" "),n.alignDelimiters!==!1&&k.push(A),k.push(P),n.alignDelimiters!==!1&&k.push(U),n.padding!==!1&&k.push(" "),(n.delimiterEnd!==!1||p!==d-1)&&k.push("|")}b.push(n.delimiterEnd===!1?k.join("").replace(/ +$/,""):k.join(""))}return b.join(`
`)}function uq(e){return e==null?"":String(e)}function mS(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function cq(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const a=n.indentLines(n.containerFlow(e,s.current()),dq);return i(),a}function dq(e,t,n){return">"+(n?"":" ")+e}function hq(e,t){return gS(e,t.inConstruct,!0)&&!gS(e,t.notInConstruct,!1)}function gS(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function yS(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&hq(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function fq(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>a&&(a=s):s=1,i=r+t.length,r=n.indexOf(t,i);return a}function pq(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function mq(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function gq(e,t,n,r){const i=mq(n),s=e.value||"",a=i==="`"?"GraveAccent":"Tilde";if(pq(e,n)){const p=n.enter("codeIndented"),g=n.indentLines(s,yq);return p(),g}const o=n.createTracker(r),u=i.repeat(Math.max(fq(s,i)+1,3)),d=n.enter("codeFenced");let f=o.move(u);if(e.lang){const p=n.enter(`codeFencedLang${a}`);f+=o.move(n.safe(e.lang,{before:f,after:" ",encode:["`"],...o.current()})),p()}if(e.lang&&e.meta){const p=n.enter(`codeFencedMeta${a}`);f+=o.move(" "),f+=o.move(n.safe(e.meta,{before:f,after:`
`,encode:["`"],...o.current()})),p()}return f+=o.move(`
`),s&&(f+=o.move(s+`
`)),f+=o.move(u),d(),f}function yq(e,t,n){return(n?"":"    ")+e}function xb(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function xq(e,t,n,r){const i=xb(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("definition");let o=n.enter("label");const u=n.createTracker(r);let d=u.move("[");return d+=u.move(n.safe(n.associationId(e),{before:d,after:"]",...u.current()})),d+=u.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),d+=u.move("<"),d+=u.move(n.safe(e.url,{before:d,after:">",...u.current()})),d+=u.move(">")):(o=n.enter("destinationRaw"),d+=u.move(n.safe(e.url,{before:d,after:e.title?" ":`
`,...u.current()}))),o(),e.title&&(o=n.enter(`title${s}`),d+=u.move(" "+i),d+=u.move(n.safe(e.title,{before:d,after:i,...u.current()})),d+=u.move(i),o()),a(),d}function vq(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function kh(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Ec(e){if(e===null||cn(e)||Jl(e))return 1;if(Mg(e))return 2}function $m(e,t,n){const r=Ec(e),i=Ec(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}hk.peek=bq;function hk(e,t,n,r){const i=vq(n),s=n.enter("emphasis"),a=n.createTracker(r),o=a.move(i);let u=a.move(n.containerPhrasing(e,{after:i,before:o,...a.current()}));const d=u.charCodeAt(0),f=$m(r.before.charCodeAt(r.before.length-1),d,i);f.inside&&(u=kh(d)+u.slice(1));const p=u.charCodeAt(u.length-1),g=$m(r.after.charCodeAt(0),p,i);g.inside&&(u=u.slice(0,-1)+kh(p));const y=a.move(i);return s(),n.attentionEncodeSurroundingInfo={after:g.outside,before:f.outside},o+u+y}function bq(e,t,n){return n.options.emphasis||"*"}function vb(e,t,n,r){let i,s,a;typeof t=="function"&&typeof n!="function"?(s=void 0,a=t,i=n):(s=t,a=n,i=r),ok(e,s,o,i);function o(u,d){const f=d[d.length-1],p=f?f.children.indexOf(u):void 0;return a(u,p,f)}}const wq={};function bb(e,t){const n=wq,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return fk(e,r,i)}function fk(e,t,n){if(_q(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return xS(e.children,t,n)}return Array.isArray(e)?xS(e,t,n):""}function xS(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=fk(e[i],t,n);return r.join("")}function _q(e){return!!(e&&typeof e=="object")}function Sq(e,t){let n=!1;return vb(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Ix}),!!((!e.depth||e.depth<3)&&bb(e)&&(t.options.setext||n))}function Cq(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(Sq(e,n)){const f=n.enter("headingSetext"),p=n.enter("phrasing"),g=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return p(),f(),g+`
`+(i===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}const a="#".repeat(i),o=n.enter("headingAtx"),u=n.enter("phrasing");s.move(a+" ");let d=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(d)&&(d=kh(d.charCodeAt(0))+d.slice(1)),d=d?a+" "+d:a,n.options.closeAtx&&(d+=" "+a),u(),o(),d}pk.peek=jq;function pk(e){return e.value||""}function jq(){return"<"}mk.peek=kq;function mk(e,t,n,r){const i=xb(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("image");let o=n.enter("label");const u=n.createTracker(r);let d=u.move("![");return d+=u.move(n.safe(e.alt,{before:d,after:"]",...u.current()})),d+=u.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),d+=u.move("<"),d+=u.move(n.safe(e.url,{before:d,after:">",...u.current()})),d+=u.move(">")):(o=n.enter("destinationRaw"),d+=u.move(n.safe(e.url,{before:d,after:e.title?" ":")",...u.current()}))),o(),e.title&&(o=n.enter(`title${s}`),d+=u.move(" "+i),d+=u.move(n.safe(e.title,{before:d,after:i,...u.current()})),d+=u.move(i),o()),d+=u.move(")"),a(),d}function kq(){return"!"}gk.peek=Eq;function gk(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let a=n.enter("label");const o=n.createTracker(r);let u=o.move("![");const d=n.safe(e.alt,{before:u,after:"]",...o.current()});u+=o.move(d+"]["),a();const f=n.stack;n.stack=[],a=n.enter("reference");const p=n.safe(n.associationId(e),{before:u,after:"]",...o.current()});return a(),n.stack=f,s(),i==="full"||!d||d!==p?u+=o.move(p+"]"):i==="shortcut"?u=u.slice(0,-1):u+=o.move("]"),u}function Eq(){return"!"}yk.peek=Tq;function yk(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const a=n.unsafe[s],o=n.compilePattern(a);let u;if(a.atBreak)for(;u=o.exec(r);){let d=u.index;r.charCodeAt(d)===10&&r.charCodeAt(d-1)===13&&d--,r=r.slice(0,d)+" "+r.slice(u.index+1)}}return i+r+i}function Tq(){return"`"}function xk(e,t){const n=bb(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}vk.peek=Nq;function vk(e,t,n,r){const i=xb(n),s=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let o,u;if(xk(e,n)){const f=n.stack;n.stack=[],o=n.enter("autolink");let p=a.move("<");return p+=a.move(n.containerPhrasing(e,{before:p,after:">",...a.current()})),p+=a.move(">"),o(),n.stack=f,p}o=n.enter("link"),u=n.enter("label");let d=a.move("[");return d+=a.move(n.containerPhrasing(e,{before:d,after:"](",...a.current()})),d+=a.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),d+=a.move("<"),d+=a.move(n.safe(e.url,{before:d,after:">",...a.current()})),d+=a.move(">")):(u=n.enter("destinationRaw"),d+=a.move(n.safe(e.url,{before:d,after:e.title?" ":")",...a.current()}))),u(),e.title&&(u=n.enter(`title${s}`),d+=a.move(" "+i),d+=a.move(n.safe(e.title,{before:d,after:i,...a.current()})),d+=a.move(i),u()),d+=a.move(")"),o(),d}function Nq(e,t,n){return xk(e,n)?"<":"["}bk.peek=Pq;function bk(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let a=n.enter("label");const o=n.createTracker(r);let u=o.move("[");const d=n.containerPhrasing(e,{before:u,after:"]",...o.current()});u+=o.move(d+"]["),a();const f=n.stack;n.stack=[],a=n.enter("reference");const p=n.safe(n.associationId(e),{before:u,after:"]",...o.current()});return a(),n.stack=f,s(),i==="full"||!d||d!==p?u+=o.move(p+"]"):i==="shortcut"?u=u.slice(0,-1):u+=o.move("]"),u}function Pq(){return"["}function wb(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Oq(e){const t=wb(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Rq(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function wk(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Aq(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let a=e.ordered?Rq(n):wb(n);const o=e.ordered?a==="."?")":".":Oq(n);let u=t&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!e.ordered){const f=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&f&&(!f.children||!f.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(u=!0),wk(n)===a&&f){let p=-1;for(;++p<e.children.length;){const g=e.children[p];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(a=o),n.bulletCurrent=a;const d=n.containerFlow(e,r);return n.bulletLastUsed=a,n.bulletCurrent=s,i(),d}function Iq(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Lq(e,t,n,r){const i=Iq(n);let s=n.bulletCurrent||wb(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let a=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const o=n.createTracker(r);o.move(s+" ".repeat(a-s.length)),o.shift(a);const u=n.enter("listItem"),d=n.indentLines(n.containerFlow(e,o.current()),f);return u(),d;function f(p,g,y){return g?(y?"":" ".repeat(a))+p:(y?s:s+" ".repeat(a-s.length))+p}}function Dq(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),a=n.containerPhrasing(e,r);return s(),i(),a}const Mq=Fg(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Fq(e,t,n,r){return(e.children.some(function(a){return Mq(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function Bq(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}_k.peek=zq;function _k(e,t,n,r){const i=Bq(n),s=n.enter("strong"),a=n.createTracker(r),o=a.move(i+i);let u=a.move(n.containerPhrasing(e,{after:i,before:o,...a.current()}));const d=u.charCodeAt(0),f=$m(r.before.charCodeAt(r.before.length-1),d,i);f.inside&&(u=kh(d)+u.slice(1));const p=u.charCodeAt(u.length-1),g=$m(r.after.charCodeAt(0),p,i);g.inside&&(u=u.slice(0,-1)+kh(p));const y=a.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:g.outside,before:f.outside},o+u+y}function zq(e,t,n){return n.options.strong||"*"}function Uq(e,t,n,r){return n.safe(e.value,r)}function $q(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Hq(e,t,n){const r=(wk(n)+(n.options.ruleSpaces?" ":"")).repeat($q(n));return n.options.ruleSpaces?r.slice(0,-1):r}const Sk={blockquote:cq,break:yS,code:gq,definition:xq,emphasis:hk,hardBreak:yS,heading:Cq,html:pk,image:mk,imageReference:gk,inlineCode:yk,link:vk,linkReference:bk,list:Aq,listItem:Lq,paragraph:Dq,root:Fq,strong:_k,text:Uq,thematicBreak:Hq},vS=document.createElement("i");function _b(e){const t="&"+e+";";vS.innerHTML=t;const n=vS.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Ck(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}const Vq=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function qq(e){return e.replace(Vq,Wq)}function Wq(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return Ck(n.slice(s?2:1),s?16:10)}return _b(n)||e}function Qq(){return{enter:{table:Kq,tableData:bS,tableHeader:bS,tableRow:Yq},exit:{codeText:Jq,table:Gq,tableData:c1,tableHeader:c1,tableRow:c1}}}function Kq(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function Gq(e){this.exit(e),this.data.inTable=void 0}function Yq(e){this.enter({type:"tableRow",children:[]},e)}function c1(e){this.exit(e)}function bS(e){this.enter({type:"tableCell",children:[]},e)}function Jq(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Xq));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Xq(e,t){return t==="|"?t:e}function Zq(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:g,table:a,tableCell:u,tableRow:o}};function a(y,b,_,C){return d(f(y,_,C),y.align)}function o(y,b,_,C){const k=p(y,_,C),P=d([k]);return P.slice(0,P.indexOf(`
`))}function u(y,b,_,C){const k=_.enter("tableCell"),P=_.enter("phrasing"),A=_.containerPhrasing(y,{...C,before:s,after:s});return P(),k(),A}function d(y,b){return lq(y,{align:b,alignDelimiters:r,padding:n,stringLength:i})}function f(y,b,_){const C=y.children;let k=-1;const P=[],A=b.enter("table");for(;++k<C.length;)P[k]=p(C[k],b,_);return A(),P}function p(y,b,_){const C=y.children;let k=-1;const P=[],A=b.enter("tableRow");for(;++k<C.length;)P[k]=u(C[k],y,b,_);return A(),P}function g(y,b,_){let C=Sk.inlineCode(y,b,_);return _.stack.includes("tableCell")&&(C=C.replace(/\|/g,"\\$&")),C}}function eW(){return{exit:{taskListCheckValueChecked:wS,taskListCheckValueUnchecked:wS,paragraph:nW}}}function tW(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:rW}}}function wS(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function nW(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,a;for(;++s<i.length;){const o=i[s];if(o.type==="paragraph"){a=o;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function rW(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",o=n.createTracker(r);s&&o.move(a);let u=Sk.listItem(e,t,n,{...r,...o.current()});return s&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,d)),u;function d(f){return f+a}}function iW(){return[OV(),XV(),nq(),Qq(),eW()]}function sW(e){return{extensions:[RV(),ZV(e),rq(),Zq(e),tW()]}}function Ii(e,t,n,r){const i=e.length;let s=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(t,0),e.splice(...a),s+=1e4,t+=1e4}function Ji(e,t){return e.length>0?(Ii(e,e.length,0,t),e):t}const _S={}.hasOwnProperty;function jk(e){const t={};let n=-1;for(;++n<e.length;)aW(t,e[n]);return t}function aW(e,t){let n;for(n in t){const i=(_S.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let a;if(s)for(a in s){_S.call(i,a)||(i[a]=[]);const o=s[a];oW(i[a],Array.isArray(o)?o:o?[o]:[])}}}function oW(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Ii(e,0,0,r)}const lW={tokenize:pW,partial:!0},kk={tokenize:mW,partial:!0},Ek={tokenize:gW,partial:!0},Tk={tokenize:yW,partial:!0},uW={tokenize:xW,partial:!0},Nk={name:"wwwAutolink",tokenize:hW,previous:Ok},Pk={name:"protocolAutolink",tokenize:fW,previous:Rk},$a={name:"emailAutolink",tokenize:dW,previous:Ak},na={};function cW(){return{text:na}}let jl=48;for(;jl<123;)na[jl]=$a,jl++,jl===58?jl=65:jl===91&&(jl=97);na[43]=$a;na[45]=$a;na[46]=$a;na[95]=$a;na[72]=[$a,Pk];na[104]=[$a,Pk];na[87]=[$a,Nk];na[119]=[$a,Nk];function dW(e,t,n){const r=this;let i,s;return a;function a(p){return!Lx(p)||!Ak.call(r,r.previous)||Sb(r.events)?n(p):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(p))}function o(p){return Lx(p)?(e.consume(p),o):p===64?(e.consume(p),u):n(p)}function u(p){return p===46?e.check(uW,f,d)(p):p===45||p===95||zr(p)?(s=!0,e.consume(p),u):f(p)}function d(p){return e.consume(p),i=!0,u}function f(p){return s&&i&&ei(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(p)):n(p)}}function hW(e,t,n){const r=this;return i;function i(a){return a!==87&&a!==119||!Ok.call(r,r.previous)||Sb(r.events)?n(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(lW,e.attempt(kk,e.attempt(Ek,s),n),n)(a))}function s(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function fW(e,t,n){const r=this;let i="",s=!1;return a;function a(p){return(p===72||p===104)&&Rk.call(r,r.previous)&&!Sb(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(p),e.consume(p),o):n(p)}function o(p){if(ei(p)&&i.length<5)return i+=String.fromCodePoint(p),e.consume(p),o;if(p===58){const g=i.toLowerCase();if(g==="http"||g==="https")return e.consume(p),u}return n(p)}function u(p){return p===47?(e.consume(p),s?d:(s=!0,u)):n(p)}function d(p){return p===null||Um(p)||cn(p)||Jl(p)||Mg(p)?n(p):e.attempt(kk,e.attempt(Ek,f),n)(p)}function f(p){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(p)}}function pW(e,t,n){let r=0;return i;function i(a){return(a===87||a===119)&&r<3?(r++,e.consume(a),i):a===46&&r===3?(e.consume(a),s):n(a)}function s(a){return a===null?n(a):t(a)}}function mW(e,t,n){let r,i,s;return a;function a(d){return d===46||d===95?e.check(Tk,u,o)(d):d===null||cn(d)||Jl(d)||d!==45&&Mg(d)?u(d):(s=!0,e.consume(d),a)}function o(d){return d===95?r=!0:(i=r,r=void 0),e.consume(d),a}function u(d){return i||r||!s?n(d):t(d)}}function gW(e,t){let n=0,r=0;return i;function i(a){return a===40?(n++,e.consume(a),i):a===41&&r<n?s(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(Tk,t,s)(a):a===null||cn(a)||Jl(a)?t(a):(e.consume(a),i)}function s(a){return a===41&&r++,e.consume(a),i}}function yW(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),s):o===93?(e.consume(o),i):o===60||o===null||cn(o)||Jl(o)?t(o):n(o)}function i(o){return o===null||o===40||o===91||cn(o)||Jl(o)?t(o):r(o)}function s(o){return ei(o)?a(o):n(o)}function a(o){return o===59?(e.consume(o),r):ei(o)?(e.consume(o),a):n(o)}}function xW(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return zr(s)?n(s):t(s)}}function Ok(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||cn(e)}function Rk(e){return!ei(e)}function Ak(e){return!(e===47||Lx(e))}function Lx(e){return e===43||e===45||e===46||e===95||zr(e)}function Sb(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}function Ic(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let a="";if(s===37&&zr(e.charCodeAt(n+1))&&zr(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=e.charCodeAt(n+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),i=1):a=""}else a=String.fromCharCode(s);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function zg(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const Dx={name:"attention",resolveAll:vW,tokenize:bW};function vW(e,t){let n=-1,r,i,s,a,o,u,d,f;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p={...e[r][1].end},g={...e[n][1].start};SS(p,-u),SS(g,u),a={type:u>1?"strongSequence":"emphasisSequence",start:p,end:{...e[r][1].end}},o={type:u>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:g},s={type:u>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:u>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},e[r][1].end={...a.start},e[n][1].start={...o.end},d=[],e[r][1].end.offset-e[r][1].start.offset&&(d=Ji(d,[["enter",e[r][1],t],["exit",e[r][1],t]])),d=Ji(d,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",s,t]]),d=Ji(d,zg(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),d=Ji(d,[["exit",s,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(f=2,d=Ji(d,[["enter",e[n][1],t],["exit",e[n][1],t]])):f=0,Ii(e,r-1,n-r+3,d),n=r+d.length-f-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function bW(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Ec(r);let s;return a;function a(u){return s=u,e.enter("attentionSequence"),o(u)}function o(u){if(u===s)return e.consume(u),o;const d=e.exit("attentionSequence"),f=Ec(u),p=!f||f===2&&i||n.includes(u),g=!i||i===2&&f||n.includes(r);return d._open=!!(s===42?p:p&&(i||!g)),d._close=!!(s===42?g:g&&(f||!p)),t(u)}}function SS(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const wW={name:"autolink",tokenize:_W};function _W(e,t,n){let r=0;return i;function i(y){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(y){return ei(y)?(e.consume(y),a):y===64?n(y):d(y)}function a(y){return y===43||y===45||y===46||zr(y)?(r=1,o(y)):d(y)}function o(y){return y===58?(e.consume(y),r=0,u):(y===43||y===45||y===46||zr(y))&&r++<32?(e.consume(y),o):(r=0,d(y))}function u(y){return y===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):y===null||y===32||y===60||Um(y)?n(y):(e.consume(y),u)}function d(y){return y===64?(e.consume(y),f):mV(y)?(e.consume(y),d):n(y)}function f(y){return zr(y)?p(y):n(y)}function p(y){return y===46?(e.consume(y),r=0,f):y===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):g(y)}function g(y){if((y===45||zr(y))&&r++<63){const b=y===45?g:p;return e.consume(y),b}return n(y)}}function Kt(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(u){return $t(u)?(e.enter(n),o(u)):t(u)}function o(u){return $t(u)&&s++<i?(e.consume(u),o):(e.exit(n),t(u))}}const Jh={partial:!0,tokenize:SW};function SW(e,t,n){return r;function r(s){return $t(s)?Kt(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||vt(s)?t(s):n(s)}}const Ik={continuation:{tokenize:jW},exit:kW,name:"blockQuote",tokenize:CW};function CW(e,t,n){const r=this;return i;function i(a){if(a===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),s}return n(a)}function s(a){return $t(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function jW(e,t,n){const r=this;return i;function i(a){return $t(a)?Kt(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return e.attempt(Ik,t,n)(a)}}function kW(e){e.exit("blockQuote")}const Lk={name:"characterEscape",tokenize:EW};function EW(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return yV(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const Dk={name:"characterReference",tokenize:TW};function TW(e,t,n){const r=this;let i=0,s,a;return o;function o(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),u}function u(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),d):(e.enter("characterReferenceValue"),s=31,a=zr,f(p))}function d(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=gV,f):(e.enter("characterReferenceValue"),s=7,a=Ax,f(p))}function f(p){if(p===59&&i){const g=e.exit("characterReferenceValue");return a===zr&&!_b(r.sliceSerialize(g))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(p)&&i++<s?(e.consume(p),f):n(p)}}const CS={partial:!0,tokenize:PW},jS={concrete:!0,name:"codeFenced",tokenize:NW};function NW(e,t,n){const r=this,i={partial:!0,tokenize:V};let s=0,a=0,o;return u;function u(I){return d(I)}function d(I){const O=r.events[r.events.length-1];return s=O&&O[1].type==="linePrefix"?O[2].sliceSerialize(O[1],!0).length:0,o=I,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),f(I)}function f(I){return I===o?(a++,e.consume(I),f):a<3?n(I):(e.exit("codeFencedFenceSequence"),$t(I)?Kt(e,p,"whitespace")(I):p(I))}function p(I){return I===null||vt(I)?(e.exit("codeFencedFence"),r.interrupt?t(I):e.check(CS,_,U)(I)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(I))}function g(I){return I===null||vt(I)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(I)):$t(I)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Kt(e,y,"whitespace")(I)):I===96&&I===o?n(I):(e.consume(I),g)}function y(I){return I===null||vt(I)?p(I):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),b(I))}function b(I){return I===null||vt(I)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(I)):I===96&&I===o?n(I):(e.consume(I),b)}function _(I){return e.attempt(i,U,C)(I)}function C(I){return e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),k}function k(I){return s>0&&$t(I)?Kt(e,P,"linePrefix",s+1)(I):P(I)}function P(I){return I===null||vt(I)?e.check(CS,_,U)(I):(e.enter("codeFlowValue"),A(I))}function A(I){return I===null||vt(I)?(e.exit("codeFlowValue"),P(I)):(e.consume(I),A)}function U(I){return e.exit("codeFenced"),t(I)}function V(I,O,B){let W=0;return F;function F($){return I.enter("lineEnding"),I.consume($),I.exit("lineEnding"),se}function se($){return I.enter("codeFencedFence"),$t($)?Kt(I,J,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):J($)}function J($){return $===o?(I.enter("codeFencedFenceSequence"),xe($)):B($)}function xe($){return $===o?(W++,I.consume($),xe):W>=a?(I.exit("codeFencedFenceSequence"),$t($)?Kt(I,G,"whitespace")($):G($)):B($)}function G($){return $===null||vt($)?(I.exit("codeFencedFence"),O($)):B($)}}}function PW(e,t,n){const r=this;return i;function i(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const d1={name:"codeIndented",tokenize:RW},OW={partial:!0,tokenize:AW};function RW(e,t,n){const r=this;return i;function i(d){return e.enter("codeIndented"),Kt(e,s,"linePrefix",5)(d)}function s(d){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?a(d):n(d)}function a(d){return d===null?u(d):vt(d)?e.attempt(OW,a,u)(d):(e.enter("codeFlowValue"),o(d))}function o(d){return d===null||vt(d)?(e.exit("codeFlowValue"),a(d)):(e.consume(d),o)}function u(d){return e.exit("codeIndented"),t(d)}}function AW(e,t,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):vt(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):Kt(e,s,"linePrefix",5)(a)}function s(a){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):vt(a)?i(a):n(a)}}const IW={name:"codeText",previous:DW,resolve:LW,tokenize:MW};function LW(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function DW(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function MW(e,t,n){let r=0,i,s;return a;function a(p){return e.enter("codeText"),e.enter("codeTextSequence"),o(p)}function o(p){return p===96?(e.consume(p),r++,o):(e.exit("codeTextSequence"),u(p))}function u(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),u):p===96?(s=e.enter("codeTextSequence"),i=0,f(p)):vt(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),u):(e.enter("codeTextData"),d(p))}function d(p){return p===null||p===32||p===96||vt(p)?(e.exit("codeTextData"),u(p)):(e.consume(p),d)}function f(p){return p===96?(e.consume(p),i++,f):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(s.type="codeTextData",d(p))}}class FW{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Rd(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Rd(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Rd(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Rd(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Rd(this.left,n.reverse())}}}function Rd(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Mk(e){const t={};let n=-1,r,i,s,a,o,u,d;const f=new FW(e);for(;++n<f.length;){for(;n in t;)n=t[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,BW(f,n)),n=t[n],d=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(a=f.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...f.get(i)[1].start},o=f.slice(i,n),o.unshift(r),f.splice(i,n-i+1,o))}}return Ii(e,0,Number.POSITIVE_INFINITY,f.slice(0)),!d}function BW(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,u=[],d={};let f,p,g=-1,y=n,b=0,_=0;const C=[_];for(;y;){for(;e.get(++i)[1]!==y;);s.push(i),y._tokenizer||(f=r.sliceStream(y),y.next||f.push(null),p&&a.defineSkip(y.start),y._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(f),y._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),p=y,y=y.next}for(y=n;++g<o.length;)o[g][0]==="exit"&&o[g-1][0]==="enter"&&o[g][1].type===o[g-1][1].type&&o[g][1].start.line!==o[g][1].end.line&&(_=g+1,C.push(_),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(a.events=[],y?(y._tokenizer=void 0,y.previous=void 0):C.pop(),g=C.length;g--;){const k=o.slice(C[g],C[g+1]),P=s.pop();u.push([P,P+k.length-1]),e.splice(P,2,k)}for(u.reverse(),g=-1;++g<u.length;)d[b+u[g][0]]=b+u[g][1],b+=u[g][1]-u[g][0]-1;return d}const zW={resolve:$W,tokenize:HW},UW={partial:!0,tokenize:VW};function $W(e){return Mk(e),e}function HW(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):vt(o)?e.check(UW,a,s)(o):(e.consume(o),i)}function s(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function a(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function VW(e,t,n){const r=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Kt(e,s,"linePrefix")}function s(a){if(a===null||vt(a))return n(a);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function Fk(e,t,n,r,i,s,a,o,u){const d=u||Number.POSITIVE_INFINITY;let f=0;return p;function p(k){return k===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(k),e.exit(s),g):k===null||k===32||k===41||Um(k)?n(k):(e.enter(r),e.enter(a),e.enter(o),e.enter("chunkString",{contentType:"string"}),_(k))}function g(k){return k===62?(e.enter(s),e.consume(k),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),y(k))}function y(k){return k===62?(e.exit("chunkString"),e.exit(o),g(k)):k===null||k===60||vt(k)?n(k):(e.consume(k),k===92?b:y)}function b(k){return k===60||k===62||k===92?(e.consume(k),y):y(k)}function _(k){return!f&&(k===null||k===41||cn(k))?(e.exit("chunkString"),e.exit(o),e.exit(a),e.exit(r),t(k)):f<d&&k===40?(e.consume(k),f++,_):k===41?(e.consume(k),f--,_):k===null||k===32||k===40||Um(k)?n(k):(e.consume(k),k===92?C:_)}function C(k){return k===40||k===41||k===92?(e.consume(k),_):_(k)}}function Bk(e,t,n,r,i,s){const a=this;let o=0,u;return d;function d(y){return e.enter(r),e.enter(i),e.consume(y),e.exit(i),e.enter(s),f}function f(y){return o>999||y===null||y===91||y===93&&!u||y===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?n(y):y===93?(e.exit(s),e.enter(i),e.consume(y),e.exit(i),e.exit(r),t):vt(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),f):(e.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===null||y===91||y===93||vt(y)||o++>999?(e.exit("chunkString"),f(y)):(e.consume(y),u||(u=!$t(y)),y===92?g:p)}function g(y){return y===91||y===92||y===93?(e.consume(y),o++,p):p(y)}}function zk(e,t,n,r,i,s){let a;return o;function o(g){return g===34||g===39||g===40?(e.enter(r),e.enter(i),e.consume(g),e.exit(i),a=g===40?41:g,u):n(g)}function u(g){return g===a?(e.enter(i),e.consume(g),e.exit(i),e.exit(r),t):(e.enter(s),d(g))}function d(g){return g===a?(e.exit(s),u(a)):g===null?n(g):vt(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),Kt(e,d,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),f(g))}function f(g){return g===a||g===null||vt(g)?(e.exit("chunkString"),d(g)):(e.consume(g),g===92?p:f)}function p(g){return g===a||g===92?(e.consume(g),f):f(g)}}function th(e,t){let n;return r;function r(i){return vt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):$t(i)?Kt(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const qW={name:"definition",tokenize:QW},WW={partial:!0,tokenize:KW};function QW(e,t,n){const r=this;let i;return s;function s(y){return e.enter("definition"),a(y)}function a(y){return Bk.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function o(y){return i=Ts(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),u):n(y)}function u(y){return cn(y)?th(e,d)(y):d(y)}function d(y){return Fk(e,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function f(y){return e.attempt(WW,p,p)(y)}function p(y){return $t(y)?Kt(e,g,"whitespace")(y):g(y)}function g(y){return y===null||vt(y)?(e.exit("definition"),r.parser.defined.push(i),t(y)):n(y)}}function KW(e,t,n){return r;function r(o){return cn(o)?th(e,i)(o):n(o)}function i(o){return zk(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return $t(o)?Kt(e,a,"whitespace")(o):a(o)}function a(o){return o===null||vt(o)?t(o):n(o)}}const GW={name:"hardBreakEscape",tokenize:YW};function YW(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return vt(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const JW={name:"headingAtx",resolve:XW,tokenize:ZW};function XW(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Ii(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function ZW(e,t,n){let r=0;return i;function i(f){return e.enter("atxHeading"),s(f)}function s(f){return e.enter("atxHeadingSequence"),a(f)}function a(f){return f===35&&r++<6?(e.consume(f),a):f===null||cn(f)?(e.exit("atxHeadingSequence"),o(f)):n(f)}function o(f){return f===35?(e.enter("atxHeadingSequence"),u(f)):f===null||vt(f)?(e.exit("atxHeading"),t(f)):$t(f)?Kt(e,o,"whitespace")(f):(e.enter("atxHeadingText"),d(f))}function u(f){return f===35?(e.consume(f),u):(e.exit("atxHeadingSequence"),o(f))}function d(f){return f===null||f===35||cn(f)?(e.exit("atxHeadingText"),o(f)):(e.consume(f),d)}}const eQ=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],kS=["pre","script","style","textarea"],tQ={concrete:!0,name:"htmlFlow",resolveTo:iQ,tokenize:sQ},nQ={partial:!0,tokenize:oQ},rQ={partial:!0,tokenize:aQ};function iQ(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function sQ(e,t,n){const r=this;let i,s,a,o,u;return d;function d(H){return f(H)}function f(H){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(H),p}function p(H){return H===33?(e.consume(H),g):H===47?(e.consume(H),s=!0,_):H===63?(e.consume(H),i=3,r.interrupt?t:M):ei(H)?(e.consume(H),a=String.fromCharCode(H),C):n(H)}function g(H){return H===45?(e.consume(H),i=2,y):H===91?(e.consume(H),i=5,o=0,b):ei(H)?(e.consume(H),i=4,r.interrupt?t:M):n(H)}function y(H){return H===45?(e.consume(H),r.interrupt?t:M):n(H)}function b(H){const Pe="CDATA[";return H===Pe.charCodeAt(o++)?(e.consume(H),o===Pe.length?r.interrupt?t:J:b):n(H)}function _(H){return ei(H)?(e.consume(H),a=String.fromCharCode(H),C):n(H)}function C(H){if(H===null||H===47||H===62||cn(H)){const Pe=H===47,ke=a.toLowerCase();return!Pe&&!s&&kS.includes(ke)?(i=1,r.interrupt?t(H):J(H)):eQ.includes(a.toLowerCase())?(i=6,Pe?(e.consume(H),k):r.interrupt?t(H):J(H)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(H):s?P(H):A(H))}return H===45||zr(H)?(e.consume(H),a+=String.fromCharCode(H),C):n(H)}function k(H){return H===62?(e.consume(H),r.interrupt?t:J):n(H)}function P(H){return $t(H)?(e.consume(H),P):F(H)}function A(H){return H===47?(e.consume(H),F):H===58||H===95||ei(H)?(e.consume(H),U):$t(H)?(e.consume(H),A):F(H)}function U(H){return H===45||H===46||H===58||H===95||zr(H)?(e.consume(H),U):V(H)}function V(H){return H===61?(e.consume(H),I):$t(H)?(e.consume(H),V):A(H)}function I(H){return H===null||H===60||H===61||H===62||H===96?n(H):H===34||H===39?(e.consume(H),u=H,O):$t(H)?(e.consume(H),I):B(H)}function O(H){return H===u?(e.consume(H),u=null,W):H===null||vt(H)?n(H):(e.consume(H),O)}function B(H){return H===null||H===34||H===39||H===47||H===60||H===61||H===62||H===96||cn(H)?V(H):(e.consume(H),B)}function W(H){return H===47||H===62||$t(H)?A(H):n(H)}function F(H){return H===62?(e.consume(H),se):n(H)}function se(H){return H===null||vt(H)?J(H):$t(H)?(e.consume(H),se):n(H)}function J(H){return H===45&&i===2?(e.consume(H),ee):H===60&&i===1?(e.consume(H),Z):H===62&&i===4?(e.consume(H),Y):H===63&&i===3?(e.consume(H),M):H===93&&i===5?(e.consume(H),pe):vt(H)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(nQ,ge,xe)(H)):H===null||vt(H)?(e.exit("htmlFlowData"),xe(H)):(e.consume(H),J)}function xe(H){return e.check(rQ,G,ge)(H)}function G(H){return e.enter("lineEnding"),e.consume(H),e.exit("lineEnding"),$}function $(H){return H===null||vt(H)?xe(H):(e.enter("htmlFlowData"),J(H))}function ee(H){return H===45?(e.consume(H),M):J(H)}function Z(H){return H===47?(e.consume(H),a="",X):J(H)}function X(H){if(H===62){const Pe=a.toLowerCase();return kS.includes(Pe)?(e.consume(H),Y):J(H)}return ei(H)&&a.length<8?(e.consume(H),a+=String.fromCharCode(H),X):J(H)}function pe(H){return H===93?(e.consume(H),M):J(H)}function M(H){return H===62?(e.consume(H),Y):H===45&&i===2?(e.consume(H),M):J(H)}function Y(H){return H===null||vt(H)?(e.exit("htmlFlowData"),ge(H)):(e.consume(H),Y)}function ge(H){return e.exit("htmlFlow"),t(H)}}function aQ(e,t,n){const r=this;return i;function i(a){return vt(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function oQ(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Jh,t,n)}}const lQ={name:"htmlText",tokenize:uQ};function uQ(e,t,n){const r=this;let i,s,a;return o;function o(M){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(M),u}function u(M){return M===33?(e.consume(M),d):M===47?(e.consume(M),V):M===63?(e.consume(M),A):ei(M)?(e.consume(M),B):n(M)}function d(M){return M===45?(e.consume(M),f):M===91?(e.consume(M),s=0,b):ei(M)?(e.consume(M),P):n(M)}function f(M){return M===45?(e.consume(M),y):n(M)}function p(M){return M===null?n(M):M===45?(e.consume(M),g):vt(M)?(a=p,Z(M)):(e.consume(M),p)}function g(M){return M===45?(e.consume(M),y):p(M)}function y(M){return M===62?ee(M):M===45?g(M):p(M)}function b(M){const Y="CDATA[";return M===Y.charCodeAt(s++)?(e.consume(M),s===Y.length?_:b):n(M)}function _(M){return M===null?n(M):M===93?(e.consume(M),C):vt(M)?(a=_,Z(M)):(e.consume(M),_)}function C(M){return M===93?(e.consume(M),k):_(M)}function k(M){return M===62?ee(M):M===93?(e.consume(M),k):_(M)}function P(M){return M===null||M===62?ee(M):vt(M)?(a=P,Z(M)):(e.consume(M),P)}function A(M){return M===null?n(M):M===63?(e.consume(M),U):vt(M)?(a=A,Z(M)):(e.consume(M),A)}function U(M){return M===62?ee(M):A(M)}function V(M){return ei(M)?(e.consume(M),I):n(M)}function I(M){return M===45||zr(M)?(e.consume(M),I):O(M)}function O(M){return vt(M)?(a=O,Z(M)):$t(M)?(e.consume(M),O):ee(M)}function B(M){return M===45||zr(M)?(e.consume(M),B):M===47||M===62||cn(M)?W(M):n(M)}function W(M){return M===47?(e.consume(M),ee):M===58||M===95||ei(M)?(e.consume(M),F):vt(M)?(a=W,Z(M)):$t(M)?(e.consume(M),W):ee(M)}function F(M){return M===45||M===46||M===58||M===95||zr(M)?(e.consume(M),F):se(M)}function se(M){return M===61?(e.consume(M),J):vt(M)?(a=se,Z(M)):$t(M)?(e.consume(M),se):W(M)}function J(M){return M===null||M===60||M===61||M===62||M===96?n(M):M===34||M===39?(e.consume(M),i=M,xe):vt(M)?(a=J,Z(M)):$t(M)?(e.consume(M),J):(e.consume(M),G)}function xe(M){return M===i?(e.consume(M),i=void 0,$):M===null?n(M):vt(M)?(a=xe,Z(M)):(e.consume(M),xe)}function G(M){return M===null||M===34||M===39||M===60||M===61||M===96?n(M):M===47||M===62||cn(M)?W(M):(e.consume(M),G)}function $(M){return M===47||M===62||cn(M)?W(M):n(M)}function ee(M){return M===62?(e.consume(M),e.exit("htmlTextData"),e.exit("htmlText"),t):n(M)}function Z(M){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),X}function X(M){return $t(M)?Kt(e,pe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):pe(M)}function pe(M){return e.enter("htmlTextData"),a(M)}}const Cb={name:"labelEnd",resolveAll:fQ,resolveTo:pQ,tokenize:mQ},cQ={tokenize:gQ},dQ={tokenize:yQ},hQ={tokenize:xQ};function fQ(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Ii(e,0,e.length,n),e}function pQ(e,t){let n=e.length,r=0,i,s,a,o;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const u={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},d={type:"label",start:{...e[s][1].start},end:{...e[a][1].end}},f={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[a-2][1].start}};return o=[["enter",u,t],["enter",d,t]],o=Ji(o,e.slice(s+1,s+r+3)),o=Ji(o,[["enter",f,t]]),o=Ji(o,zg(t.parser.constructs.insideSpan.null,e.slice(s+r+4,a-3),t)),o=Ji(o,[["exit",f,t],e[a-2],e[a-1],["exit",d,t]]),o=Ji(o,e.slice(a+1)),o=Ji(o,[["exit",u,t]]),Ii(e,s,e.length,o),e}function mQ(e,t,n){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return o;function o(g){return s?s._inactive?p(g):(a=r.parser.defined.includes(Ts(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),u):n(g)}function u(g){return g===40?e.attempt(cQ,f,a?f:p)(g):g===91?e.attempt(dQ,f,a?d:p)(g):a?f(g):p(g)}function d(g){return e.attempt(hQ,f,p)(g)}function f(g){return t(g)}function p(g){return s._balanced=!0,n(g)}}function gQ(e,t,n){return r;function r(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),i}function i(p){return cn(p)?th(e,s)(p):s(p)}function s(p){return p===41?f(p):Fk(e,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function a(p){return cn(p)?th(e,u)(p):f(p)}function o(p){return n(p)}function u(p){return p===34||p===39||p===40?zk(e,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):f(p)}function d(p){return cn(p)?th(e,f)(p):f(p)}function f(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function yQ(e,t,n){const r=this;return i;function i(o){return Bk.call(r,e,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(Ts(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function a(o){return n(o)}}function xQ(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const vQ={name:"labelStartImage",resolveAll:Cb.resolveAll,tokenize:bQ};function bQ(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),s}function s(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),a):n(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const wQ={name:"labelStartLink",resolveAll:Cb.resolveAll,tokenize:_Q};function _Q(e,t,n){const r=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const h1={name:"lineEnding",tokenize:SQ};function SQ(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Kt(e,t,"linePrefix")}}const cm={name:"thematicBreak",tokenize:CQ};function CQ(e,t,n){let r=0,i;return s;function s(d){return e.enter("thematicBreak"),a(d)}function a(d){return i=d,o(d)}function o(d){return d===i?(e.enter("thematicBreakSequence"),u(d)):r>=3&&(d===null||vt(d))?(e.exit("thematicBreak"),t(d)):n(d)}function u(d){return d===i?(e.consume(d),r++,u):(e.exit("thematicBreakSequence"),$t(d)?Kt(e,o,"whitespace")(d):o(d))}}const ci={continuation:{tokenize:TQ},exit:PQ,name:"list",tokenize:EQ},jQ={partial:!0,tokenize:OQ},kQ={partial:!0,tokenize:NQ};function EQ(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(y){const b=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(b==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:Ax(y)){if(r.containerState.type||(r.containerState.type=b,e.enter(b,{_container:!0})),b==="listUnordered")return e.enter("listItemPrefix"),y===42||y===45?e.check(cm,n,d)(y):d(y);if(!r.interrupt||y===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(y)}return n(y)}function u(y){return Ax(y)&&++a<10?(e.consume(y),u):(!r.interrupt||a<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(e.exit("listItemValue"),d(y)):n(y)}function d(y){return e.enter("listItemMarker"),e.consume(y),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,e.check(Jh,r.interrupt?n:f,e.attempt(jQ,g,p))}function f(y){return r.containerState.initialBlankLine=!0,s++,g(y)}function p(y){return $t(y)?(e.enter("listItemPrefixWhitespace"),e.consume(y),e.exit("listItemPrefixWhitespace"),g):n(y)}function g(y){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(y)}}function TQ(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Jh,i,s);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Kt(e,t,"listItemIndent",r.containerState.size+1)(o)}function s(o){return r.containerState.furtherBlankLines||!$t(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(kQ,t,a)(o))}function a(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,Kt(e,e.attempt(ci,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function NQ(e,t,n){const r=this;return Kt(e,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(s):n(s)}}function PQ(e){e.exit(this.containerState.type)}function OQ(e,t,n){const r=this;return Kt(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=r.events[r.events.length-1];return!$t(s)&&a&&a[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const ES={name:"setextUnderline",resolveTo:RQ,tokenize:AQ};function RQ(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",a,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}function AQ(e,t,n){const r=this;let i;return s;function s(d){let f=r.events.length,p;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){p=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(e.enter("setextHeadingLine"),i=d,a(d)):n(d)}function a(d){return e.enter("setextHeadingLineSequence"),o(d)}function o(d){return d===i?(e.consume(d),o):(e.exit("setextHeadingLineSequence"),$t(d)?Kt(e,u,"lineSuffix")(d):u(d))}function u(d){return d===null||vt(d)?(e.exit("setextHeadingLine"),t(d)):n(d)}}const IQ={tokenize:$Q,partial:!0};function LQ(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:BQ,continuation:{tokenize:zQ},exit:UQ}},text:{91:{name:"gfmFootnoteCall",tokenize:FQ},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:DQ,resolveTo:MQ}}}}function DQ(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const u=r.events[i][1];if(u.type==="labelImage"){a=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return o;function o(u){if(!a||!a._balanced)return n(u);const d=Ts(r.sliceSerialize({start:a.end,end:r.now()}));return d.codePointAt(0)!==94||!s.includes(d.slice(1))?n(u):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),t(u))}}function MQ(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",a,t],["exit",a,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function FQ(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,a;return o;function o(p){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),u}function u(p){return p!==94?n(p):(e.enter("gfmFootnoteCallMarker"),e.consume(p),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",d)}function d(p){if(s>999||p===93&&!a||p===null||p===91||cn(p))return n(p);if(p===93){e.exit("chunkString");const g=e.exit("gfmFootnoteCallString");return i.includes(Ts(r.sliceSerialize(g)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(p)}return cn(p)||(a=!0),s++,e.consume(p),p===92?f:d}function f(p){return p===91||p===92||p===93?(e.consume(p),s++,d):d(p)}}function BQ(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,a=0,o;return u;function u(b){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionLabelMarker"),d}function d(b){return b===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",f):n(b)}function f(b){if(a>999||b===93&&!o||b===null||b===91||cn(b))return n(b);if(b===93){e.exit("chunkString");const _=e.exit("gfmFootnoteDefinitionLabelString");return s=Ts(r.sliceSerialize(_)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),g}return cn(b)||(o=!0),a++,e.consume(b),b===92?p:f}function p(b){return b===91||b===92||b===93?(e.consume(b),a++,f):f(b)}function g(b){return b===58?(e.enter("definitionMarker"),e.consume(b),e.exit("definitionMarker"),i.includes(s)||i.push(s),Kt(e,y,"gfmFootnoteDefinitionWhitespace")):n(b)}function y(b){return t(b)}}function zQ(e,t,n){return e.check(Jh,t,e.attempt(IQ,t,n))}function UQ(e){e.exit("gfmFootnoteDefinition")}function $Q(e,t,n){const r=this;return Kt(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(s):n(s)}}function HQ(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(a,o){let u=-1;for(;++u<a.length;)if(a[u][0]==="enter"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._close){let d=u;for(;d--;)if(a[d][0]==="exit"&&a[d][1].type==="strikethroughSequenceTemporary"&&a[d][1]._open&&a[u][1].end.offset-a[u][1].start.offset===a[d][1].end.offset-a[d][1].start.offset){a[u][1].type="strikethroughSequence",a[d][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},a[d][1].start),end:Object.assign({},a[u][1].end)},p={type:"strikethroughText",start:Object.assign({},a[d][1].end),end:Object.assign({},a[u][1].start)},g=[["enter",f,o],["enter",a[d][1],o],["exit",a[d][1],o],["enter",p,o]],y=o.parser.constructs.insideSpan.null;y&&Ii(g,g.length,0,zg(y,a.slice(d+1,u),o)),Ii(g,g.length,0,[["exit",p,o],["enter",a[u][1],o],["exit",a[u][1],o],["exit",f,o]]),Ii(a,d-1,u-d+3,g),u=d+g.length-2;break}}for(u=-1;++u<a.length;)a[u][1].type==="strikethroughSequenceTemporary"&&(a[u][1].type="data");return a}function s(a,o,u){const d=this.previous,f=this.events;let p=0;return g;function g(b){return d===126&&f[f.length-1][1].type!=="characterEscape"?u(b):(a.enter("strikethroughSequenceTemporary"),y(b))}function y(b){const _=Ec(d);if(b===126)return p>1?u(b):(a.consume(b),p++,y);if(p<2&&!n)return u(b);const C=a.exit("strikethroughSequenceTemporary"),k=Ec(b);return C._open=!k||k===2&&!!_,C._close=!_||_===2&&!!k,o(b)}}}class VQ{constructor(){this.map=[]}add(t,n,r){qQ(this,t,n,r)}consume(t){if(this.map.sort(function(s,a){return s[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const s of i)t.push(s);i=r.pop()}this.map.length=0}}function qQ(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function WQ(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function QQ(){return{flow:{null:{name:"table",tokenize:KQ,resolveAll:GQ}}}}function KQ(e,t,n){const r=this;let i=0,s=0,a;return o;function o(F){let se=r.events.length-1;for(;se>-1;){const G=r.events[se][1].type;if(G==="lineEnding"||G==="linePrefix")se--;else break}const J=se>-1?r.events[se][1].type:null,xe=J==="tableHead"||J==="tableRow"?I:u;return xe===I&&r.parser.lazy[r.now().line]?n(F):xe(F)}function u(F){return e.enter("tableHead"),e.enter("tableRow"),d(F)}function d(F){return F===124||(a=!0,s+=1),f(F)}function f(F){return F===null?n(F):vt(F)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),y):n(F):$t(F)?Kt(e,f,"whitespace")(F):(s+=1,a&&(a=!1,i+=1),F===124?(e.enter("tableCellDivider"),e.consume(F),e.exit("tableCellDivider"),a=!0,f):(e.enter("data"),p(F)))}function p(F){return F===null||F===124||cn(F)?(e.exit("data"),f(F)):(e.consume(F),F===92?g:p)}function g(F){return F===92||F===124?(e.consume(F),p):p(F)}function y(F){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(F):(e.enter("tableDelimiterRow"),a=!1,$t(F)?Kt(e,b,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):b(F))}function b(F){return F===45||F===58?C(F):F===124?(a=!0,e.enter("tableCellDivider"),e.consume(F),e.exit("tableCellDivider"),_):V(F)}function _(F){return $t(F)?Kt(e,C,"whitespace")(F):C(F)}function C(F){return F===58?(s+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(F),e.exit("tableDelimiterMarker"),k):F===45?(s+=1,k(F)):F===null||vt(F)?U(F):V(F)}function k(F){return F===45?(e.enter("tableDelimiterFiller"),P(F)):V(F)}function P(F){return F===45?(e.consume(F),P):F===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(F),e.exit("tableDelimiterMarker"),A):(e.exit("tableDelimiterFiller"),A(F))}function A(F){return $t(F)?Kt(e,U,"whitespace")(F):U(F)}function U(F){return F===124?b(F):F===null||vt(F)?!a||i!==s?V(F):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(F)):V(F)}function V(F){return n(F)}function I(F){return e.enter("tableRow"),O(F)}function O(F){return F===124?(e.enter("tableCellDivider"),e.consume(F),e.exit("tableCellDivider"),O):F===null||vt(F)?(e.exit("tableRow"),t(F)):$t(F)?Kt(e,O,"whitespace")(F):(e.enter("data"),B(F))}function B(F){return F===null||F===124||cn(F)?(e.exit("data"),O(F)):(e.consume(F),F===92?W:B)}function W(F){return F===92||F===124?(e.consume(F),B):B(F)}}function GQ(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],a=[0,0,0,0],o=!1,u=0,d,f,p;const g=new VQ;for(;++n<e.length;){const y=e[n],b=y[1];y[0]==="enter"?b.type==="tableHead"?(o=!1,u!==0&&(TS(g,t,u,d,f),f=void 0,u=0),d={type:"table",start:Object.assign({},b.start),end:Object.assign({},b.end)},g.add(n,0,[["enter",d,t]])):b.type==="tableRow"||b.type==="tableDelimiterRow"?(r=!0,p=void 0,s=[0,0,0,0],a=[0,n+1,0,0],o&&(o=!1,f={type:"tableBody",start:Object.assign({},b.start),end:Object.assign({},b.end)},g.add(n,0,[["enter",f,t]])),i=b.type==="tableDelimiterRow"?2:f?3:1):i&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(s[1]!==0&&(a[0]=a[1],p=Up(g,t,s,i,void 0,p),s=[0,0,0,0]),a[2]=n)):b.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(a[0]=a[1],p=Up(g,t,s,i,void 0,p)),s=a,a=[s[1],n,0,0])):b.type==="tableHead"?(o=!0,u=n):b.type==="tableRow"||b.type==="tableDelimiterRow"?(u=n,s[1]!==0?(a[0]=a[1],p=Up(g,t,s,i,n,p)):a[1]!==0&&(p=Up(g,t,a,i,n,p)),i=0):i&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")&&(a[3]=n)}for(u!==0&&TS(g,t,u,d,f),g.consume(t.events),n=-1;++n<t.events.length;){const y=t.events[n];y[0]==="enter"&&y[1].type==="table"&&(y[1]._align=WQ(t.events,n))}return e}function Up(e,t,n,r,i,s){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(s.end=Object.assign({},oc(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const u=oc(t.events,n[1]);if(s={type:a,start:Object.assign({},u),end:Object.assign({},u)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const d=oc(t.events,n[2]),f=oc(t.events,n[3]),p={type:o,start:Object.assign({},d),end:Object.assign({},f)};if(e.add(n[2],0,[["enter",p,t]]),r!==2){const g=t.events[n[2]],y=t.events[n[3]];if(g[1].end=Object.assign({},y[1].end),g[1].type="chunkText",g[1].contentType="text",n[3]>n[2]+1){const b=n[2]+1,_=n[3]-n[2]-1;e.add(b,_,[])}}e.add(n[3]+1,0,[["exit",p,t]])}return i!==void 0&&(s.end=Object.assign({},oc(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function TS(e,t,n,r,i){const s=[],a=oc(t.events,n);i&&(i.end=Object.assign({},a),s.push(["exit",i,t])),r.end=Object.assign({},a),s.push(["exit",r,t]),e.add(n+1,0,s)}function oc(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const YQ={name:"tasklistCheck",tokenize:XQ};function JQ(){return{text:{91:YQ}}}function XQ(e,t,n){const r=this;return i;function i(u){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(u):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),s)}function s(u){return cn(u)?(e.enter("taskListCheckValueUnchecked"),e.consume(u),e.exit("taskListCheckValueUnchecked"),a):u===88||u===120?(e.enter("taskListCheckValueChecked"),e.consume(u),e.exit("taskListCheckValueChecked"),a):n(u)}function a(u){return u===93?(e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(u)}function o(u){return vt(u)?t(u):$t(u)?e.check({tokenize:ZQ},t,n)(u):n(u)}}function ZQ(e,t,n){return Kt(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function eK(e){return jk([cW(),LQ(),HQ(e),QQ(),JQ()])}const tK={};function Uk(e){const t=this,n=e||tK,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(eK(n)),s.push(iW()),a.push(sW(n))}function nK(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const rK=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,iK=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,sK={};function NS(e,t){return(sK.jsx?iK:rK).test(e)}const aK=/[ \t\n\f\r]/g;function oK(e){return typeof e=="object"?e.type==="text"?PS(e.value):!1:PS(e)}function PS(e){return e.replace(aK,"")===""}class Xh{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Xh.prototype.normal={};Xh.prototype.property={};Xh.prototype.space=void 0;function $k(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Xh(n,r,t)}function Mx(e){return e.toLowerCase()}class wi{constructor(t,n){this.attribute=n,this.property=t}}wi.prototype.attribute="";wi.prototype.booleanish=!1;wi.prototype.boolean=!1;wi.prototype.commaOrSpaceSeparated=!1;wi.prototype.commaSeparated=!1;wi.prototype.defined=!1;wi.prototype.mustUseProperty=!1;wi.prototype.number=!1;wi.prototype.overloadedBoolean=!1;wi.prototype.property="";wi.prototype.spaceSeparated=!1;wi.prototype.space=void 0;let lK=0;const Pt=ru(),Zn=ru(),Fx=ru(),Fe=ru(),pn=ru(),xc=ru(),Ni=ru();function ru(){return 2**++lK}const Bx=Object.freeze(Object.defineProperty({__proto__:null,boolean:Pt,booleanish:Zn,commaOrSpaceSeparated:Ni,commaSeparated:xc,number:Fe,overloadedBoolean:Fx,spaceSeparated:pn},Symbol.toStringTag,{value:"Module"})),f1=Object.keys(Bx);class jb extends wi{constructor(t,n,r,i){let s=-1;if(super(t,n),OS(this,"space",i),typeof r=="number")for(;++s<f1.length;){const a=f1[s];OS(this,f1[s],(r&Bx[a])===Bx[a])}}}jb.prototype.defined=!0;function OS(e,t,n){n&&(e[t]=n)}function Lc(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new jb(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Mx(r)]=r,n[Mx(s.attribute)]=r}return new Xh(t,n,e.space)}const Hk=Lc({properties:{ariaActiveDescendant:null,ariaAtomic:Zn,ariaAutoComplete:null,ariaBusy:Zn,ariaChecked:Zn,ariaColCount:Fe,ariaColIndex:Fe,ariaColSpan:Fe,ariaControls:pn,ariaCurrent:null,ariaDescribedBy:pn,ariaDetails:null,ariaDisabled:Zn,ariaDropEffect:pn,ariaErrorMessage:null,ariaExpanded:Zn,ariaFlowTo:pn,ariaGrabbed:Zn,ariaHasPopup:null,ariaHidden:Zn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:pn,ariaLevel:Fe,ariaLive:null,ariaModal:Zn,ariaMultiLine:Zn,ariaMultiSelectable:Zn,ariaOrientation:null,ariaOwns:pn,ariaPlaceholder:null,ariaPosInSet:Fe,ariaPressed:Zn,ariaReadOnly:Zn,ariaRelevant:null,ariaRequired:Zn,ariaRoleDescription:pn,ariaRowCount:Fe,ariaRowIndex:Fe,ariaRowSpan:Fe,ariaSelected:Zn,ariaSetSize:Fe,ariaSort:null,ariaValueMax:Fe,ariaValueMin:Fe,ariaValueNow:Fe,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Vk(e,t){return t in e?e[t]:t}function qk(e,t){return Vk(e,t.toLowerCase())}const uK=Lc({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:xc,acceptCharset:pn,accessKey:pn,action:null,allow:null,allowFullScreen:Pt,allowPaymentRequest:Pt,allowUserMedia:Pt,alt:null,as:null,async:Pt,autoCapitalize:null,autoComplete:pn,autoFocus:Pt,autoPlay:Pt,blocking:pn,capture:null,charSet:null,checked:Pt,cite:null,className:pn,cols:Fe,colSpan:null,content:null,contentEditable:Zn,controls:Pt,controlsList:pn,coords:Fe|xc,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Pt,defer:Pt,dir:null,dirName:null,disabled:Pt,download:Fx,draggable:Zn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Pt,formTarget:null,headers:pn,height:Fe,hidden:Fx,high:Fe,href:null,hrefLang:null,htmlFor:pn,httpEquiv:pn,id:null,imageSizes:null,imageSrcSet:null,inert:Pt,inputMode:null,integrity:null,is:null,isMap:Pt,itemId:null,itemProp:pn,itemRef:pn,itemScope:Pt,itemType:pn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Pt,low:Fe,manifest:null,max:null,maxLength:Fe,media:null,method:null,min:null,minLength:Fe,multiple:Pt,muted:Pt,name:null,nonce:null,noModule:Pt,noValidate:Pt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Pt,optimum:Fe,pattern:null,ping:pn,placeholder:null,playsInline:Pt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Pt,referrerPolicy:null,rel:pn,required:Pt,reversed:Pt,rows:Fe,rowSpan:Fe,sandbox:pn,scope:null,scoped:Pt,seamless:Pt,selected:Pt,shadowRootClonable:Pt,shadowRootDelegatesFocus:Pt,shadowRootMode:null,shape:null,size:Fe,sizes:null,slot:null,span:Fe,spellCheck:Zn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Fe,step:null,style:null,tabIndex:Fe,target:null,title:null,translate:null,type:null,typeMustMatch:Pt,useMap:null,value:Zn,width:Fe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:pn,axis:null,background:null,bgColor:null,border:Fe,borderColor:null,bottomMargin:Fe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Pt,declare:Pt,event:null,face:null,frame:null,frameBorder:null,hSpace:Fe,leftMargin:Fe,link:null,longDesc:null,lowSrc:null,marginHeight:Fe,marginWidth:Fe,noResize:Pt,noHref:Pt,noShade:Pt,noWrap:Pt,object:null,profile:null,prompt:null,rev:null,rightMargin:Fe,rules:null,scheme:null,scrolling:Zn,standby:null,summary:null,text:null,topMargin:Fe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Fe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Pt,disableRemotePlayback:Pt,prefix:null,property:null,results:Fe,security:null,unselectable:null},space:"html",transform:qk}),cK=Lc({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ni,accentHeight:Fe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Fe,amplitude:Fe,arabicForm:null,ascent:Fe,attributeName:null,attributeType:null,azimuth:Fe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Fe,by:null,calcMode:null,capHeight:Fe,className:pn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Fe,diffuseConstant:Fe,direction:null,display:null,dur:null,divisor:Fe,dominantBaseline:null,download:Pt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Fe,enableBackground:null,end:null,event:null,exponent:Fe,externalResourcesRequired:null,fill:null,fillOpacity:Fe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:xc,g2:xc,glyphName:xc,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Fe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Fe,horizOriginX:Fe,horizOriginY:Fe,id:null,ideographic:Fe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Fe,k:Fe,k1:Fe,k2:Fe,k3:Fe,k4:Fe,kernelMatrix:Ni,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Fe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Fe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Fe,overlineThickness:Fe,paintOrder:null,panose1:null,path:null,pathLength:Fe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:pn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Fe,pointsAtY:Fe,pointsAtZ:Fe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ni,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ni,rev:Ni,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ni,requiredFeatures:Ni,requiredFonts:Ni,requiredFormats:Ni,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Fe,specularExponent:Fe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Fe,strikethroughThickness:Fe,string:null,stroke:null,strokeDashArray:Ni,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Fe,strokeOpacity:Fe,strokeWidth:null,style:null,surfaceScale:Fe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ni,tabIndex:Fe,tableValues:null,target:null,targetX:Fe,targetY:Fe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ni,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Fe,underlineThickness:Fe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Fe,values:null,vAlphabetic:Fe,vMathematical:Fe,vectorEffect:null,vHanging:Fe,vIdeographic:Fe,version:null,vertAdvY:Fe,vertOriginX:Fe,vertOriginY:Fe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Fe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Vk}),Wk=Lc({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Qk=Lc({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:qk}),Kk=Lc({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),dK={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},hK=/[A-Z]/g,RS=/-[a-z]/g,fK=/^data[-\w.:]+$/i;function pK(e,t){const n=Mx(t);let r=t,i=wi;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&fK.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(RS,gK);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!RS.test(s)){let a=s.replace(hK,mK);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=jb}return new i(r,t)}function mK(e){return"-"+e.toLowerCase()}function gK(e){return e.charAt(1).toUpperCase()}const yK=$k([Hk,uK,Wk,Qk,Kk],"html"),kb=$k([Hk,cK,Wk,Qk,Kk],"svg");function xK(e){return e.join(" ").trim()}var Yu={},p1,AS;function vK(){if(AS)return p1;AS=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,o=/^\s+|\s+$/g,u=`
`,d="/",f="*",p="",g="comment",y="declaration";function b(C,k){if(typeof C!="string")throw new TypeError("First argument must be a string");if(!C)return[];k=k||{};var P=1,A=1;function U(G){var $=G.match(t);$&&(P+=$.length);var ee=G.lastIndexOf(u);A=~ee?G.length-ee:A+G.length}function V(){var G={line:P,column:A};return function($){return $.position=new I(G),W(),$}}function I(G){this.start=G,this.end={line:P,column:A},this.source=k.source}I.prototype.content=C;function O(G){var $=new Error(k.source+":"+P+":"+A+": "+G);if($.reason=G,$.filename=k.source,$.line=P,$.column=A,$.source=C,!k.silent)throw $}function B(G){var $=G.exec(C);if($){var ee=$[0];return U(ee),C=C.slice(ee.length),$}}function W(){B(n)}function F(G){var $;for(G=G||[];$=se();)$!==!1&&G.push($);return G}function se(){var G=V();if(!(d!=C.charAt(0)||f!=C.charAt(1))){for(var $=2;p!=C.charAt($)&&(f!=C.charAt($)||d!=C.charAt($+1));)++$;if($+=2,p===C.charAt($-1))return O("End of comment missing");var ee=C.slice(2,$-2);return A+=2,U(ee),C=C.slice($),A+=2,G({type:g,comment:ee})}}function J(){var G=V(),$=B(r);if($){if(se(),!B(i))return O("property missing ':'");var ee=B(s),Z=G({type:y,property:_($[0].replace(e,p)),value:ee?_(ee[0].replace(e,p)):p});return B(a),Z}}function xe(){var G=[];F(G);for(var $;$=J();)$!==!1&&(G.push($),F(G));return G}return W(),xe()}function _(C){return C?C.replace(o,p):p}return p1=b,p1}var IS;function bK(){if(IS)return Yu;IS=1;var e=Yu&&Yu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.default=n;const t=e(vK());function n(r,i){let s=null;if(!r||typeof r!="string")return s;const a=(0,t.default)(r),o=typeof i=="function";return a.forEach(u=>{if(u.type!=="declaration")return;const{property:d,value:f}=u;o?i(d,f,u):f&&(s=s||{},s[d]=f)}),s}return Yu}var Ad={},LS;function wK(){if(LS)return Ad;LS=1,Object.defineProperty(Ad,"__esModule",{value:!0}),Ad.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(d){return!d||n.test(d)||e.test(d)},a=function(d,f){return f.toUpperCase()},o=function(d,f){return"".concat(f,"-")},u=function(d,f){return f===void 0&&(f={}),s(d)?d:(d=d.toLowerCase(),f.reactCompat?d=d.replace(i,o):d=d.replace(r,o),d.replace(t,a))};return Ad.camelCase=u,Ad}var Id,DS;function _K(){if(DS)return Id;DS=1;var e=Id&&Id.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(bK()),n=wK();function r(i,s){var a={};return!i||typeof i!="string"||(0,t.default)(i,function(o,u){o&&u&&(a[(0,n.camelCase)(o,s)]=u)}),a}return r.default=r,Id=r,Id}var SK=_K();const CK=ts(SK),Gk=Yk("end"),Eb=Yk("start");function Yk(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function jK(e){const t=Eb(e),n=Gk(e);if(t&&n)return{start:t,end:n}}function nh(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?MS(e.position):"start"in e||"end"in e?MS(e):"line"in e||"column"in e?zx(e):""}function zx(e){return FS(e&&e.line)+":"+FS(e&&e.column)}function MS(e){return zx(e&&e.start)+"-"+zx(e&&e.end)}function FS(e){return e&&typeof e=="number"?e:1}class Hr extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(a=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?s.ruleId=r:(s.source=r.slice(0,u),s.ruleId=r.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){const u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=nh(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Hr.prototype.file="";Hr.prototype.name="";Hr.prototype.reason="";Hr.prototype.message="";Hr.prototype.stack="";Hr.prototype.column=void 0;Hr.prototype.line=void 0;Hr.prototype.ancestors=void 0;Hr.prototype.cause=void 0;Hr.prototype.fatal=void 0;Hr.prototype.place=void 0;Hr.prototype.ruleId=void 0;Hr.prototype.source=void 0;const Tb={}.hasOwnProperty,kK=new Map,EK=/[A-Z]/g,TK=new Set(["table","tbody","thead","tfoot","tr"]),NK=new Set(["td","th"]),Jk="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function PK(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=FK(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=MK(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?kb:yK,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=Xk(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function Xk(e,t,n){if(t.type==="element")return OK(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return RK(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return IK(e,t,n);if(t.type==="mdxjsEsm")return AK(e,t);if(t.type==="root")return LK(e,t,n);if(t.type==="text")return DK(e,t)}function OK(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=kb,e.schema=i),e.ancestors.push(t);const s=e8(e,t.tagName,!1),a=BK(e,t);let o=Pb(e,t);return TK.has(t.tagName)&&(o=o.filter(function(u){return typeof u=="string"?!oK(u):!0})),Zk(e,a,s,t),Nb(a,o),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function RK(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Eh(e,t.position)}function AK(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Eh(e,t.position)}function IK(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=kb,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:e8(e,t.name,!0),a=zK(e,t),o=Pb(e,t);return Zk(e,a,s,t),Nb(a,o),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function LK(e,t,n){const r={};return Nb(r,Pb(e,t)),e.create(t,e.Fragment,r,n)}function DK(e,t){return t.value}function Zk(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Nb(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function MK(e,t,n){return r;function r(i,s,a,o){const d=Array.isArray(a.children)?n:t;return o?d(s,a,o):d(s,a)}}function FK(e,t){return n;function n(r,i,s,a){const o=Array.isArray(s.children),u=Eb(r);return t(i,s,a,o,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function BK(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&Tb.call(t.properties,i)){const s=UK(e,i,t.properties[i]);if(s){const[a,o]=s;e.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&NK.has(t.tagName)?r=o:n[a]=o}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function zK(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const a=s.expression;a.type;const o=a.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else Eh(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,s=e.evaluater.evaluateExpression(o.expression)}else Eh(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function Pb(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:kK;for(;++r<t.children.length;){const s=t.children[r];let a;if(e.passKeys){const u=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(u){const d=i.get(u)||0;a=u+"-"+d,i.set(u,d+1)}}const o=Xk(e,s,a);o!==void 0&&n.push(o)}return n}function UK(e,t,n){const r=pK(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?nK(n):xK(n)),r.property==="style"){let i=typeof n=="object"?n:$K(e,String(n));return e.stylePropertyNameCase==="css"&&(i=HK(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?dK[r.property]||r.property:r.attribute,n]}}function $K(e,t){try{return CK(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Hr("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=Jk+"#cannot-parse-style-attribute",i}}function e8(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,a;for(;++s<i.length;){const o=NS(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}r=a}else r=NS(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return Tb.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Eh(e)}function Eh(e,t){const n=new Hr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Jk+"#cannot-handle-mdx-estrees-without-createevaluater",n}function HK(e){const t={};let n;for(n in e)Tb.call(e,n)&&(t[VK(n)]=e[n]);return t}function VK(e){let t=e.replace(EK,qK);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function qK(e){return"-"+e.toLowerCase()}const m1={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},WK={tokenize:QK};function QK(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Kt(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),s(o)}function s(o){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,a(o)}function a(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return vt(o)?(e.consume(o),e.exit("chunkText"),s):(e.consume(o),a)}}const KK={tokenize:GK},BS={tokenize:YK};function GK(e){const t=this,n=[];let r=0,i,s,a;return o;function o(A){if(r<n.length){const U=n[r];return t.containerState=U[1],e.attempt(U[0].continuation,u,d)(A)}return d(A)}function u(A){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&P();const U=t.events.length;let V=U,I;for(;V--;)if(t.events[V][0]==="exit"&&t.events[V][1].type==="chunkFlow"){I=t.events[V][1].end;break}k(r);let O=U;for(;O<t.events.length;)t.events[O][1].end={...I},O++;return Ii(t.events,V+1,0,t.events.slice(U)),t.events.length=O,d(A)}return o(A)}function d(A){if(r===n.length){if(!i)return g(A);if(i.currentConstruct&&i.currentConstruct.concrete)return b(A);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(BS,f,p)(A)}function f(A){return i&&P(),k(r),g(A)}function p(A){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,b(A)}function g(A){return t.containerState={},e.attempt(BS,y,b)(A)}function y(A){return r++,n.push([t.currentConstruct,t.containerState]),g(A)}function b(A){if(A===null){i&&P(),k(0),e.consume(A);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),_(A)}function _(A){if(A===null){C(e.exit("chunkFlow"),!0),k(0),e.consume(A);return}return vt(A)?(e.consume(A),C(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(A),_)}function C(A,U){const V=t.sliceStream(A);if(U&&V.push(null),A.previous=s,s&&(s.next=A),s=A,i.defineSkip(A.start),i.write(V),t.parser.lazy[A.start.line]){let I=i.events.length;for(;I--;)if(i.events[I][1].start.offset<a&&(!i.events[I][1].end||i.events[I][1].end.offset>a))return;const O=t.events.length;let B=O,W,F;for(;B--;)if(t.events[B][0]==="exit"&&t.events[B][1].type==="chunkFlow"){if(W){F=t.events[B][1].end;break}W=!0}for(k(r),I=O;I<t.events.length;)t.events[I][1].end={...F},I++;Ii(t.events,B+1,0,t.events.slice(O)),t.events.length=I}}function k(A){let U=n.length;for(;U-- >A;){const V=n[U];t.containerState=V[1],V[0].exit.call(t,e)}n.length=A}function P(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function YK(e,t,n){return Kt(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}const JK={tokenize:XK};function XK(e){const t=this,n=e.attempt(Jh,r,e.attempt(this.parser.constructs.flowInitial,i,Kt(e,e.attempt(this.parser.constructs.flow,i,e.attempt(zW,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const ZK={resolveAll:n8()},eG=t8("string"),tG=t8("text");function t8(e){return{resolveAll:n8(e==="text"?nG:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,a,o);return a;function a(f){return d(f)?s(f):o(f)}function o(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),u}function u(f){return d(f)?(n.exit("data"),s(f)):(n.consume(f),u)}function d(f){if(f===null)return!0;const p=i[f];let g=-1;if(p)for(;++g<p.length;){const y=p[g];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function n8(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function nG(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,a=-1,o=0,u;for(;s--;){const d=i[s];if(typeof d=="string"){for(a=d.length;d.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(d===-2)u=!0,o++;else if(d!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const d={type:n===e.length||u||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(e.splice(n,0,["enter",d,t],["exit",d,t]),n+=2)}n++}return e}const rG={42:ci,43:ci,45:ci,48:ci,49:ci,50:ci,51:ci,52:ci,53:ci,54:ci,55:ci,56:ci,57:ci,62:Ik},iG={91:qW},sG={[-2]:d1,[-1]:d1,32:d1},aG={35:JW,42:cm,45:[ES,cm],60:tQ,61:ES,95:cm,96:jS,126:jS},oG={38:Dk,92:Lk},lG={[-5]:h1,[-4]:h1,[-3]:h1,33:vQ,38:Dk,42:Dx,60:[wW,lQ],91:wQ,92:[GW,Lk],93:Cb,95:Dx,96:IW},uG={null:[Dx,ZK]},cG={null:[42,95]},dG={null:[]},hG=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:cG,contentInitial:iG,disable:dG,document:rG,flow:aG,flowInitial:sG,insideSpan:uG,string:oG,text:lG},Symbol.toStringTag,{value:"Module"}));function fG(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let a=[],o=[];const u={attempt:O(V),check:O(I),consume:P,enter:A,exit:U,interrupt:O(I,{interrupt:!0})},d={code:null,containerState:{},defineSkip:_,events:[],now:b,parser:e,previous:null,sliceSerialize:g,sliceStream:y,write:p};let f=t.tokenize.call(d,u);return t.resolveAll&&s.push(t),d;function p(se){return a=Ji(a,se),C(),a[a.length-1]!==null?[]:(B(t,0),d.events=zg(s,d.events,d),d.events)}function g(se,J){return mG(y(se),J)}function y(se){return pG(a,se)}function b(){const{_bufferIndex:se,_index:J,line:xe,column:G,offset:$}=r;return{_bufferIndex:se,_index:J,line:xe,column:G,offset:$}}function _(se){i[se.line]=se.column,F()}function C(){let se;for(;r._index<a.length;){const J=a[r._index];if(typeof J=="string")for(se=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===se&&r._bufferIndex<J.length;)k(J.charCodeAt(r._bufferIndex));else k(J)}}function k(se){f=f(se)}function P(se){vt(se)?(r.line++,r.column=1,r.offset+=se===-3?2:1,F()):se!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=se}function A(se,J){const xe=J||{};return xe.type=se,xe.start=b(),d.events.push(["enter",xe,d]),o.push(xe),xe}function U(se){const J=o.pop();return J.end=b(),d.events.push(["exit",J,d]),J}function V(se,J){B(se,J.from)}function I(se,J){J.restore()}function O(se,J){return xe;function xe(G,$,ee){let Z,X,pe,M;return Array.isArray(G)?ge(G):"tokenize"in G?ge([G]):Y(G);function Y(Ee){return Qe;function Qe(Ve){const bt=Ve!==null&&Ee[Ve],ze=Ve!==null&&Ee.null,pr=[...Array.isArray(bt)?bt:bt?[bt]:[],...Array.isArray(ze)?ze:ze?[ze]:[]];return ge(pr)(Ve)}}function ge(Ee){return Z=Ee,X=0,Ee.length===0?ee:H(Ee[X])}function H(Ee){return Qe;function Qe(Ve){return M=W(),pe=Ee,Ee.partial||(d.currentConstruct=Ee),Ee.name&&d.parser.constructs.disable.null.includes(Ee.name)?ke():Ee.tokenize.call(J?Object.assign(Object.create(d),J):d,u,Pe,ke)(Ve)}}function Pe(Ee){return se(pe,M),$}function ke(Ee){return M.restore(),++X<Z.length?H(Z[X]):ee}}}function B(se,J){se.resolveAll&&!s.includes(se)&&s.push(se),se.resolve&&Ii(d.events,J,d.events.length-J,se.resolve(d.events.slice(J),d)),se.resolveTo&&(d.events=se.resolveTo(d.events,d))}function W(){const se=b(),J=d.previous,xe=d.currentConstruct,G=d.events.length,$=Array.from(o);return{from:G,restore:ee};function ee(){r=se,d.previous=J,d.currentConstruct=xe,d.events.length=G,o=$,F()}}function F(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function pG(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let a;if(n===i)a=[e[n].slice(r,s)];else{if(a=e.slice(n,i),r>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(r):a.shift()}s>0&&a.push(e[i].slice(0,s))}return a}function mG(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}function gG(e){const r={constructs:jk([hG,...(e||{}).extensions||[]]),content:i(WK),defined:[],document:i(KK),flow:i(JK),lazy:{},string:i(eG),text:i(tG)};return r;function i(s){return a;function a(o){return fG(r,s,o)}}}function yG(e){for(;!Mk(e););return e}const zS=/[\0\t\n\r]/g;function xG(){let e=1,t="",n=!0,r;return i;function i(s,a,o){const u=[];let d,f,p,g,y;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),p=0,t="",n&&(s.charCodeAt(0)===65279&&p++,n=void 0);p<s.length;){if(zS.lastIndex=p,d=zS.exec(s),g=d&&d.index!==void 0?d.index:s.length,y=s.charCodeAt(g),!d){t=s.slice(p);break}if(y===10&&p===g&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),p<g&&(u.push(s.slice(p,g)),e+=g-p),y){case 0:{u.push(65533),e++;break}case 9:{for(f=Math.ceil(e/4)*4,u.push(-2);e++<f;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}p=g+1}return o&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}const r8={}.hasOwnProperty;function vG(e,t,n){return typeof t!="string"&&(n=t,t=void 0),bG(n)(yG(gG(n).document().write(xG()(e,t,!0))))}function bG(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(rs),autolinkProtocol:W,autolinkEmail:W,atxHeading:s(Hn),blockQuote:s(ze),characterEscape:W,characterReference:W,codeFenced:s(pr),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(pr,a),codeText:s(ft,a),codeTextData:W,data:W,codeFlowValue:W,definition:s(sn),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(Yn),hardBreakEscape:s(Vr),hardBreakTrailing:s(Vr),htmlFlow:s(Is,a),htmlFlowData:W,htmlText:s(Is,a),htmlTextData:W,image:s(Ha),label:a,link:s(rs),listItem:s(Vn),listItemValue:g,listOrdered:s(ti,p),listUnordered:s(ti),paragraph:s(Ls),reference:H,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(Hn),strong:s(Li),thematicBreak:s(Or)},exit:{atxHeading:u(),atxHeadingSequence:V,autolink:u(),autolinkEmail:bt,autolinkProtocol:Ve,blockQuote:u(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:ke,characterReferenceMarkerNumeric:ke,characterReferenceValue:Ee,characterReference:Qe,codeFenced:u(C),codeFencedFence:_,codeFencedFenceInfo:y,codeFencedFenceMeta:b,codeFlowValue:F,codeIndented:u(k),codeText:u($),codeTextData:F,data:F,definition:u(),definitionDestinationString:U,definitionLabelString:P,definitionTitleString:A,emphasis:u(),hardBreakEscape:u(J),hardBreakTrailing:u(J),htmlFlow:u(xe),htmlFlowData:F,htmlText:u(G),htmlTextData:F,image:u(Z),label:pe,labelText:X,lineEnding:se,link:u(ee),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:Pe,resourceDestinationString:M,resourceTitleString:Y,resource:ge,setextHeading:u(B),setextHeadingLineSequence:O,setextHeadingText:I,strong:u(),thematicBreak:u()}};i8(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Ce){let Le={type:"root",children:[]};const st={stack:[Le],tokenStack:[],config:t,enter:o,exit:d,buffer:a,resume:f,data:n},pt=[];let At=-1;for(;++At<Ce.length;)if(Ce[At][1].type==="listOrdered"||Ce[At][1].type==="listUnordered")if(Ce[At][0]==="enter")pt.push(At);else{const _n=pt.pop();At=i(Ce,_n,At)}for(At=-1;++At<Ce.length;){const _n=t[Ce[At][0]];r8.call(_n,Ce[At][1].type)&&_n[Ce[At][1].type].call(Object.assign({sliceSerialize:Ce[At][2].sliceSerialize},st),Ce[At][1])}if(st.tokenStack.length>0){const _n=st.tokenStack[st.tokenStack.length-1];(_n[1]||US).call(st,void 0,_n[0])}for(Le.position={start:bo(Ce.length>0?Ce[0][1].start:{line:1,column:1,offset:0}),end:bo(Ce.length>0?Ce[Ce.length-2][1].end:{line:1,column:1,offset:0})},At=-1;++At<t.transforms.length;)Le=t.transforms[At](Le)||Le;return Le}function i(Ce,Le,st){let pt=Le-1,At=-1,_n=!1,qn,rr,An,ir;for(;++pt<=st;){const qe=Ce[pt];switch(qe[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{qe[0]==="enter"?At++:At--,ir=void 0;break}case"lineEndingBlank":{qe[0]==="enter"&&(qn&&!ir&&!At&&!An&&(An=pt),ir=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ir=void 0}if(!At&&qe[0]==="enter"&&qe[1].type==="listItemPrefix"||At===-1&&qe[0]==="exit"&&(qe[1].type==="listUnordered"||qe[1].type==="listOrdered")){if(qn){let sr=pt;for(rr=void 0;sr--;){const Nn=Ce[sr];if(Nn[1].type==="lineEnding"||Nn[1].type==="lineEndingBlank"){if(Nn[0]==="exit")continue;rr&&(Ce[rr][1].type="lineEndingBlank",_n=!0),Nn[1].type="lineEnding",rr=sr}else if(!(Nn[1].type==="linePrefix"||Nn[1].type==="blockQuotePrefix"||Nn[1].type==="blockQuotePrefixWhitespace"||Nn[1].type==="blockQuoteMarker"||Nn[1].type==="listItemIndent"))break}An&&(!rr||An<rr)&&(qn._spread=!0),qn.end=Object.assign({},rr?Ce[rr][1].start:qe[1].end),Ce.splice(rr||pt,0,["exit",qn,qe[2]]),pt++,st++}if(qe[1].type==="listItemPrefix"){const sr={type:"listItem",_spread:!1,start:Object.assign({},qe[1].start),end:void 0};qn=sr,Ce.splice(pt,0,["enter",sr,qe[2]]),pt++,st++,An=void 0,ir=!0}}}return Ce[Le][1]._spread=_n,st}function s(Ce,Le){return st;function st(pt){o.call(this,Ce(pt),pt),Le&&Le.call(this,pt)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(Ce,Le,st){this.stack[this.stack.length-1].children.push(Ce),this.stack.push(Ce),this.tokenStack.push([Le,st||void 0]),Ce.position={start:bo(Le.start),end:void 0}}function u(Ce){return Le;function Le(st){Ce&&Ce.call(this,st),d.call(this,st)}}function d(Ce,Le){const st=this.stack.pop(),pt=this.tokenStack.pop();if(pt)pt[0].type!==Ce.type&&(Le?Le.call(this,Ce,pt[0]):(pt[1]||US).call(this,Ce,pt[0]));else throw new Error("Cannot close `"+Ce.type+"` ("+nh({start:Ce.start,end:Ce.end})+"): its not open");st.position.end=bo(Ce.end)}function f(){return bb(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function g(Ce){if(this.data.expectingFirstListItemValue){const Le=this.stack[this.stack.length-2];Le.start=Number.parseInt(this.sliceSerialize(Ce),10),this.data.expectingFirstListItemValue=void 0}}function y(){const Ce=this.resume(),Le=this.stack[this.stack.length-1];Le.lang=Ce}function b(){const Ce=this.resume(),Le=this.stack[this.stack.length-1];Le.meta=Ce}function _(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function C(){const Ce=this.resume(),Le=this.stack[this.stack.length-1];Le.value=Ce.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const Ce=this.resume(),Le=this.stack[this.stack.length-1];Le.value=Ce.replace(/(\r?\n|\r)$/g,"")}function P(Ce){const Le=this.resume(),st=this.stack[this.stack.length-1];st.label=Le,st.identifier=Ts(this.sliceSerialize(Ce)).toLowerCase()}function A(){const Ce=this.resume(),Le=this.stack[this.stack.length-1];Le.title=Ce}function U(){const Ce=this.resume(),Le=this.stack[this.stack.length-1];Le.url=Ce}function V(Ce){const Le=this.stack[this.stack.length-1];if(!Le.depth){const st=this.sliceSerialize(Ce).length;Le.depth=st}}function I(){this.data.setextHeadingSlurpLineEnding=!0}function O(Ce){const Le=this.stack[this.stack.length-1];Le.depth=this.sliceSerialize(Ce).codePointAt(0)===61?1:2}function B(){this.data.setextHeadingSlurpLineEnding=void 0}function W(Ce){const st=this.stack[this.stack.length-1].children;let pt=st[st.length-1];(!pt||pt.type!=="text")&&(pt=qr(),pt.position={start:bo(Ce.start),end:void 0},st.push(pt)),this.stack.push(pt)}function F(Ce){const Le=this.stack.pop();Le.value+=this.sliceSerialize(Ce),Le.position.end=bo(Ce.end)}function se(Ce){const Le=this.stack[this.stack.length-1];if(this.data.atHardBreak){const st=Le.children[Le.children.length-1];st.position.end=bo(Ce.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Le.type)&&(W.call(this,Ce),F.call(this,Ce))}function J(){this.data.atHardBreak=!0}function xe(){const Ce=this.resume(),Le=this.stack[this.stack.length-1];Le.value=Ce}function G(){const Ce=this.resume(),Le=this.stack[this.stack.length-1];Le.value=Ce}function $(){const Ce=this.resume(),Le=this.stack[this.stack.length-1];Le.value=Ce}function ee(){const Ce=this.stack[this.stack.length-1];if(this.data.inReference){const Le=this.data.referenceType||"shortcut";Ce.type+="Reference",Ce.referenceType=Le,delete Ce.url,delete Ce.title}else delete Ce.identifier,delete Ce.label;this.data.referenceType=void 0}function Z(){const Ce=this.stack[this.stack.length-1];if(this.data.inReference){const Le=this.data.referenceType||"shortcut";Ce.type+="Reference",Ce.referenceType=Le,delete Ce.url,delete Ce.title}else delete Ce.identifier,delete Ce.label;this.data.referenceType=void 0}function X(Ce){const Le=this.sliceSerialize(Ce),st=this.stack[this.stack.length-2];st.label=qq(Le),st.identifier=Ts(Le).toLowerCase()}function pe(){const Ce=this.stack[this.stack.length-1],Le=this.resume(),st=this.stack[this.stack.length-1];if(this.data.inReference=!0,st.type==="link"){const pt=Ce.children;st.children=pt}else st.alt=Le}function M(){const Ce=this.resume(),Le=this.stack[this.stack.length-1];Le.url=Ce}function Y(){const Ce=this.resume(),Le=this.stack[this.stack.length-1];Le.title=Ce}function ge(){this.data.inReference=void 0}function H(){this.data.referenceType="collapsed"}function Pe(Ce){const Le=this.resume(),st=this.stack[this.stack.length-1];st.label=Le,st.identifier=Ts(this.sliceSerialize(Ce)).toLowerCase(),this.data.referenceType="full"}function ke(Ce){this.data.characterReferenceType=Ce.type}function Ee(Ce){const Le=this.sliceSerialize(Ce),st=this.data.characterReferenceType;let pt;st?(pt=Ck(Le,st==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):pt=_b(Le);const At=this.stack[this.stack.length-1];At.value+=pt}function Qe(Ce){const Le=this.stack.pop();Le.position.end=bo(Ce.end)}function Ve(Ce){F.call(this,Ce);const Le=this.stack[this.stack.length-1];Le.url=this.sliceSerialize(Ce)}function bt(Ce){F.call(this,Ce);const Le=this.stack[this.stack.length-1];Le.url="mailto:"+this.sliceSerialize(Ce)}function ze(){return{type:"blockquote",children:[]}}function pr(){return{type:"code",lang:null,meta:null,value:""}}function ft(){return{type:"inlineCode",value:""}}function sn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Yn(){return{type:"emphasis",children:[]}}function Hn(){return{type:"heading",depth:0,children:[]}}function Vr(){return{type:"break"}}function Is(){return{type:"html",value:""}}function Ha(){return{type:"image",title:null,url:"",alt:null}}function rs(){return{type:"link",title:null,url:"",children:[]}}function ti(Ce){return{type:"list",ordered:Ce.type==="listOrdered",start:null,spread:Ce._spread,children:[]}}function Vn(Ce){return{type:"listItem",spread:Ce._spread,checked:null,children:[]}}function Ls(){return{type:"paragraph",children:[]}}function Li(){return{type:"strong",children:[]}}function qr(){return{type:"text",value:""}}function Or(){return{type:"thematicBreak"}}}function bo(e){return{line:e.line,column:e.column,offset:e.offset}}function i8(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?i8(e,r):wG(e,r)}}function wG(e,t){let n;for(n in t)if(r8.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function US(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+nh({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+nh({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+nh({start:t.start,end:t.end})+") is still open")}function _G(e){const t=this;t.parser=n;function n(r){return vG(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function SG(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function CG(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function jG(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function kG(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function EG(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function TG(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Ic(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let a,o=e.footnoteCounts.get(r);o===void 0?(o=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=s+1,o+=1,e.footnoteCounts.set(r,o);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,u);const d={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,d),e.applyData(t,d)}function NG(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function PG(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function s8(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function OG(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return s8(e,t);const i={src:Ic(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function RG(e,t){const n={src:Ic(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function AG(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function IG(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return s8(e,t);const i={href:Ic(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function LG(e,t){const n={href:Ic(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function DG(e,t,n){const r=e.all(t),i=n?MG(n):a8(t),s={},a=[];if(typeof t.checked=="boolean"){const f=r[0];let p;f&&f.type==="element"&&f.tagName==="p"?p=f:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const f=r[o];(i||o!==0||f.type!=="element"||f.tagName!=="p")&&a.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?a.push(...f.children):a.push(f)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&a.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:s,children:a};return e.patch(t,d),e.applyData(t,d)}function MG(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=a8(n[r])}return t}function a8(e){const t=e.spread;return t??e.children.length>1}function FG(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function BG(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function zG(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function UG(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function $G(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=Eb(t.children[1]),u=Gk(t.children[t.children.length-1]);o&&u&&(a.position={start:o,end:u}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function HG(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,o=a?a.length:t.children.length;let u=-1;const d=[];for(;++u<o;){const p=t.children[u],g={},y=a?a[u]:void 0;y&&(g.align=y);let b={type:"element",tagName:s,properties:g,children:[]};p&&(b.children=e.all(p),e.patch(p,b),b=e.applyData(p,b)),d.push(b)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(d,!0)};return e.patch(t,f),e.applyData(t,f)}function VG(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const $S=9,HS=32;function qG(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(VS(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(VS(t.slice(i),i>0,!1)),s.join("")}function VS(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===$S||s===HS;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===$S||s===HS;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function WG(e,t){const n={type:"text",value:qG(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function QG(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const KG={blockquote:SG,break:CG,code:jG,delete:kG,emphasis:EG,footnoteReference:TG,heading:NG,html:PG,imageReference:OG,image:RG,inlineCode:AG,linkReference:IG,link:LG,listItem:DG,list:FG,paragraph:BG,root:zG,strong:UG,table:$G,tableCell:VG,tableRow:HG,text:WG,thematicBreak:QG,toml:$p,yaml:$p,definition:$p,footnoteDefinition:$p};function $p(){}const o8=-1,Ug=0,rh=1,Hm=2,Ob=3,Rb=4,Ab=5,Ib=6,l8=7,u8=8,qS=typeof self=="object"?self:globalThis,GG=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,a]=t[i];switch(s){case Ug:case o8:return n(a,i);case rh:{const o=n([],i);for(const u of a)o.push(r(u));return o}case Hm:{const o=n({},i);for(const[u,d]of a)o[r(u)]=r(d);return o}case Ob:return n(new Date(a),i);case Rb:{const{source:o,flags:u}=a;return n(new RegExp(o,u),i)}case Ab:{const o=n(new Map,i);for(const[u,d]of a)o.set(r(u),r(d));return o}case Ib:{const o=n(new Set,i);for(const u of a)o.add(r(u));return o}case l8:{const{name:o,message:u}=a;return n(new qS[o](u),i)}case u8:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return n(new DataView(o),a)}}return n(new qS[s](a),i)};return r},WS=e=>GG(new Map,e)(0),Ju="",{toString:YG}={},{keys:JG}=Object,Ld=e=>{const t=typeof e;if(t!=="object"||!e)return[Ug,t];const n=YG.call(e).slice(8,-1);switch(n){case"Array":return[rh,Ju];case"Object":return[Hm,Ju];case"Date":return[Ob,Ju];case"RegExp":return[Rb,Ju];case"Map":return[Ab,Ju];case"Set":return[Ib,Ju];case"DataView":return[rh,n]}return n.includes("Array")?[rh,n]:n.includes("Error")?[l8,n]:[Hm,n]},Hp=([e,t])=>e===Ug&&(t==="function"||t==="symbol"),XG=(e,t,n,r)=>{const i=(a,o)=>{const u=r.push(a)-1;return n.set(o,u),u},s=a=>{if(n.has(a))return n.get(a);let[o,u]=Ld(a);switch(o){case Ug:{let f=a;switch(u){case"bigint":o=u8,f=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);f=null;break;case"undefined":return i([o8],a)}return i([o,f],a)}case rh:{if(u){let g=a;return u==="DataView"?g=new Uint8Array(a.buffer):u==="ArrayBuffer"&&(g=new Uint8Array(a)),i([u,[...g]],a)}const f=[],p=i([o,f],a);for(const g of a)f.push(s(g));return p}case Hm:{if(u)switch(u){case"BigInt":return i([u,a.toString()],a);case"Boolean":case"Number":case"String":return i([u,a.valueOf()],a)}if(t&&"toJSON"in a)return s(a.toJSON());const f=[],p=i([o,f],a);for(const g of JG(a))(e||!Hp(Ld(a[g])))&&f.push([s(g),s(a[g])]);return p}case Ob:return i([o,a.toISOString()],a);case Rb:{const{source:f,flags:p}=a;return i([o,{source:f,flags:p}],a)}case Ab:{const f=[],p=i([o,f],a);for(const[g,y]of a)(e||!(Hp(Ld(g))||Hp(Ld(y))))&&f.push([s(g),s(y)]);return p}case Ib:{const f=[],p=i([o,f],a);for(const g of a)(e||!Hp(Ld(g)))&&f.push(s(g));return p}}const{message:d}=a;return i([o,{name:u,message:d}],a)};return s},QS=(e,{json:t,lossy:n}={})=>{const r=[];return XG(!(t||n),!!t,new Map,r)(e),r},Vm=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?WS(QS(e,t)):structuredClone(e):(e,t)=>WS(QS(e,t));function ZG(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function eY(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function tY(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||ZG,r=e.options.footnoteBackLabel||eY,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let u=-1;for(;++u<e.footnoteOrder.length;){const d=e.footnoteById.get(e.footnoteOrder[u]);if(!d)continue;const f=e.all(d),p=String(d.identifier).toUpperCase(),g=Ic(p.toLowerCase());let y=0;const b=[],_=e.footnoteCounts.get(p);for(;_!==void 0&&++y<=_;){b.length>0&&b.push({type:"text",value:" "});let P=typeof n=="string"?n:n(u,y);typeof P=="string"&&(P={type:"text",value:P}),b.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,y),className:["data-footnote-backref"]},children:Array.isArray(P)?P:[P]})}const C=f[f.length-1];if(C&&C.type==="element"&&C.tagName==="p"){const P=C.children[C.children.length-1];P&&P.type==="text"?P.value+=" ":C.children.push({type:"text",value:" "}),C.children.push(...b)}else f.push(...b);const k={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(f,!0)};e.patch(d,k),o.push(k)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Vm(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const Ux={}.hasOwnProperty,nY={};function rY(e,t){const n=t||nY,r=new Map,i=new Map,s=new Map,a={...KG,...n.handlers},o={all:d,applyData:sY,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:u,options:n,patch:iY,wrap:oY};return vb(e,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const p=f.type==="definition"?r:i,g=String(f.identifier).toUpperCase();p.has(g)||p.set(g,f)}}),o;function u(f,p){const g=f.type,y=o.handlers[g];if(Ux.call(o.handlers,g)&&y)return y(o,f,p);if(o.options.passThrough&&o.options.passThrough.includes(g)){if("children"in f){const{children:_,...C}=f,k=Vm(C);return k.children=o.all(f),k}return Vm(f)}return(o.options.unknownHandler||aY)(o,f,p)}function d(f){const p=[];if("children"in f){const g=f.children;let y=-1;for(;++y<g.length;){const b=o.one(g[y],f);if(b){if(y&&g[y-1].type==="break"&&(!Array.isArray(b)&&b.type==="text"&&(b.value=KS(b.value)),!Array.isArray(b)&&b.type==="element")){const _=b.children[0];_&&_.type==="text"&&(_.value=KS(_.value))}Array.isArray(b)?p.push(...b):p.push(b)}}}return p}}function iY(e,t){e.position&&(t.position=jK(e))}function sY(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&s&&Object.assign(n.properties,Vm(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function aY(e,t){const n=t.data||{},r="value"in t&&!(Ux.call(n,"hProperties")||Ux.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function oY(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function KS(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function GS(e,t){const n=rY(e,t),r=n.one(e,void 0),i=tY(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function lY(e,t){return e&&"run"in e?async function(n,r){const i=GS(n,{file:r,...t});await e.run(i,r)}:function(n,r){return GS(n,{file:r,...e||t})}}function YS(e){if(e)throw e}var g1,JS;function uY(){if(JS)return g1;JS=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(d){return typeof Array.isArray=="function"?Array.isArray(d):t.call(d)==="[object Array]"},s=function(d){if(!d||t.call(d)!=="[object Object]")return!1;var f=e.call(d,"constructor"),p=d.constructor&&d.constructor.prototype&&e.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!f&&!p)return!1;var g;for(g in d);return typeof g>"u"||e.call(d,g)},a=function(d,f){n&&f.name==="__proto__"?n(d,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):d[f.name]=f.newValue},o=function(d,f){if(f==="__proto__")if(e.call(d,f)){if(r)return r(d,f).value}else return;return d[f]};return g1=function u(){var d,f,p,g,y,b,_=arguments[0],C=1,k=arguments.length,P=!1;for(typeof _=="boolean"&&(P=_,_=arguments[1]||{},C=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});C<k;++C)if(d=arguments[C],d!=null)for(f in d)p=o(_,f),g=o(d,f),_!==g&&(P&&g&&(s(g)||(y=i(g)))?(y?(y=!1,b=p&&i(p)?p:[]):b=p&&s(p)?p:{},a(_,{name:f,newValue:u(P,b,g)})):typeof g<"u"&&a(_,{name:f,newValue:g}));return _},g1}var cY=uY();const y1=ts(cY);function $x(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function dY(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(u,...d){const f=e[++s];let p=-1;if(u){a(u);return}for(;++p<i.length;)(d[p]===null||d[p]===void 0)&&(d[p]=i[p]);i=d,f?hY(f,o)(...d):a(null,...d)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function hY(e,t){let n;return r;function r(...a){const o=e.length>a.length;let u;o&&a.push(i);try{u=e.apply(this,a)}catch(d){const f=d;if(o&&n)throw f;return i(f)}o||(u&&u.then&&typeof u.then=="function"?u.then(s,i):u instanceof Error?i(u):s(u))}function i(a,...o){n||(n=!0,t(a,...o))}function s(a){i(null,a)}}const Ys={basename:fY,dirname:pY,extname:mY,join:gY,sep:"/"};function fY(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Zh(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(r=i):(o=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function pY(e){if(Zh(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function mY(e){Zh(e);let t=e.length,n=-1,r=0,i=-1,s=0,a;for(;t--;){const o=e.codePointAt(t);if(o===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),o===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function gY(...e){let t=-1,n;for(;++t<e.length;)Zh(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":yY(n)}function yY(e){Zh(e);const t=e.codePointAt(0)===47;let n=xY(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function xY(e,t){let n="",r=0,i=-1,s=0,a=-1,o,u;for(;++a<=e.length;){if(a<e.length)o=e.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length>0){n="",r=0,i=a,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,a):n=e.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return n}function Zh(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const vY={cwd:bY};function bY(){return"/"}function Hx(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function wY(e){if(typeof e=="string")e=new URL(e);else if(!Hx(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return _Y(e)}function _Y(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const x1=["history","path","basename","stem","extname","dirname"];class c8{constructor(t){let n;t?Hx(t)?n={path:t}:typeof t=="string"||SY(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":vY.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<x1.length;){const s=x1[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)x1.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Ys.basename(this.path):void 0}set basename(t){b1(t,"basename"),v1(t,"basename"),this.path=Ys.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Ys.dirname(this.path):void 0}set dirname(t){XS(this.basename,"dirname"),this.path=Ys.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Ys.extname(this.path):void 0}set extname(t){if(v1(t,"extname"),XS(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ys.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Hx(t)&&(t=wY(t)),b1(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Ys.basename(this.path,this.extname):void 0}set stem(t){b1(t,"stem"),v1(t,"stem"),this.path=Ys.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Hr(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function v1(e,t){if(e&&e.includes(Ys.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Ys.sep+"`")}function b1(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function XS(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function SY(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const CY=(function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s}),jY={}.hasOwnProperty;class Lb extends CY{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=dY()}copy(){const t=new Lb;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(y1(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(S1("data",this.frozen),this.namespace[t]=n,this):jY.call(this.namespace,t)&&this.namespace[t]||void 0:t?(S1("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Vp(t),r=this.parser||this.Parser;return w1("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),w1("process",this.parser||this.Parser),_1("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,a){const o=Vp(t),u=r.parse(o);r.run(u,o,function(f,p,g){if(f||!p||!g)return d(f);const y=p,b=r.stringify(y,g);TY(b)?g.value=b:g.result=b,d(f,g)});function d(f,p){f||!p?a(f):s?s(p):n(void 0,p)}}}processSync(t){let n=!1,r;return this.freeze(),w1("processSync",this.parser||this.Parser),_1("processSync",this.compiler||this.Compiler),this.process(t,i),e4("processSync","process",n),r;function i(s,a){n=!0,YS(s),r=a}}run(t,n,r){ZS(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,o){const u=Vp(n);i.run(t,u,d);function d(f,p,g){const y=p||t;f?o(f):a?a(y):r(void 0,y,g)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),e4("runSync","run",r),i;function s(a,o){YS(a),i=o,r=!0}}stringify(t,n){this.freeze();const r=Vp(n),i=this.compiler||this.Compiler;return _1("stringify",i),ZS(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(S1("use",this.frozen),t!=null)if(typeof t=="function")u(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(d){if(typeof d=="function")u(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[f,...p]=d;u(f,p)}else a(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function a(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(d.plugins),d.settings&&(i.settings=y1(!0,i.settings,d.settings))}function o(d){let f=-1;if(d!=null)if(Array.isArray(d))for(;++f<d.length;){const p=d[f];s(p)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function u(d,f){let p=-1,g=-1;for(;++p<r.length;)if(r[p][0]===d){g=p;break}if(g===-1)r.push([d,...f]);else if(f.length>0){let[y,...b]=f;const _=r[g][1];$x(_)&&$x(y)&&(y=y1(!0,_,y)),r[g]=[d,y,...b]}}}}const kY=new Lb().freeze();function w1(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function _1(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function S1(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function ZS(e){if(!$x(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function e4(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Vp(e){return EY(e)?e:new c8(e)}function EY(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function TY(e){return typeof e=="string"||NY(e)}function NY(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const PY="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",t4=[],n4={allowDangerousHtml:!0},OY=/^(https?|ircs?|mailto|xmpp)$/i,RY=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function d8(e){const t=AY(e),n=IY(e);return LY(t.runSync(t.parse(n),n),e)}function AY(e){const t=e.rehypePlugins||t4,n=e.remarkPlugins||t4,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...n4}:n4;return kY().use(_G).use(n).use(lY,r).use(t)}function IY(e){const t=e.children||"",n=new c8;return typeof t=="string"&&(n.value=t),n}function LY(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,a=t.skipHtml,o=t.unwrapDisallowed,u=t.urlTransform||DY;for(const f of RY)Object.hasOwn(t,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+PY+f.id,void 0);return vb(e,d),PK(e,{Fragment:c.Fragment,components:i,ignoreInvalidStyle:!0,jsx:c.jsx,jsxs:c.jsxs,passKeys:!0,passNode:!0});function d(f,p,g){if(f.type==="raw"&&g&&typeof p=="number")return a?g.children.splice(p,1):g.children[p]={type:"text",value:f.value},p;if(f.type==="element"){let y;for(y in m1)if(Object.hasOwn(m1,y)&&Object.hasOwn(f.properties,y)){const b=f.properties[y],_=m1[y];(_===null||_.includes(f.tagName))&&(f.properties[y]=u(String(b||""),y,f))}}if(f.type==="element"){let y=n?!n.includes(f.tagName):s?s.includes(f.tagName):!1;if(!y&&r&&typeof p=="number"&&(y=!r(f,p,g)),y&&g&&typeof p=="number")return o&&f.children?g.children.splice(p,1,...f.children):g.children.splice(p,1),p}}}function DY(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||OY.test(e.slice(0,t))?e:""}const MY=async()=>await rg("/faq.json");function FY(){return Cr({queryKey:["faq"],queryFn:MY,staleTime:1/0,select:e=>e.faq.map((t,n)=>({...t,id:n}))})}const BY=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:14,height:16,viewBox:"0 0 14 16",...e},T.createElement("defs",null,T.createElement("clipPath",{id:"master_svg0_137_3346"},T.createElement("rect",{x:0,y:0,width:14,height:16,rx:0}))),T.createElement("g",{clipPath:"url(#master_svg0_137_3346)"},T.createElement("g",{transform:"matrix(1,0,0,-1,0,26.6875)"},T.createElement("g",null,T.createElement("path",{d:"M6.28125,13.625Q6.59375,13.34375,7,13.34375Q7.40625,13.34375,7.71875,13.625L13.7188,19.625Q14,19.9375,14,20.34375Q14,20.75,13.7188,21.0625Q13.4062,21.34375,13,21.34375Q12.5938,21.34375,12.2812,21.0625L7,15.75L1.71875,21.0625Q1.40625,21.34375,1,21.34375Q0.59375,21.34375,0.28125,21.0625Q0,20.75,0,20.34375Q0,19.9375,0.28125,19.625L6.28125,13.625Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))))),h8={h1:e=>c.jsx("h1",{...e,className:"text-2xl md:text-3xl font-bold mb-4 tracking-wide",children:e.children}),h2:e=>c.jsx("h2",{...e,className:"text-lg font-bold mt-8 mb-4 tracking-wide",children:e.children}),h3:e=>c.jsx("h3",{...e,className:"text-base font-bold mt-6 mb-4 tracking-wide",children:e.children}),a:e=>c.jsx("a",{...e,className:"text-blue-500 underline",children:e.children}),p:e=>c.jsx("p",{...e,className:"mb-5 md:text-md text-sm text-gray-700 leading-loose tracking-normal",children:e.children}),ul:e=>c.jsx("ul",{...e,className:"list-disc list-inside space-y-3 mb-6 ml-2 md:text-md text-sm text-gray-700 tracking-normal",children:e.children}),ol:e=>c.jsx("ol",{...e,className:"list-decimal list-inside space-y-3 mb-6 ml-2 md:text-md text-sm text-gray-700 tracking-normal",children:e.children}),li:e=>c.jsx("li",{...e,className:"leading-loose tracking-normal"}),blockquote:e=>c.jsx("blockquote",{...e,className:"bg-gray-50 border-l-4 border-gray-300 rounded md:text-md text-sm text-gray-600 tracking-normal",children:c.jsx("div",{className:"px-4 py-2 italic",children:e.children})}),strong:e=>c.jsx("strong",{...e,className:"font-semibold text-gray-800"}),hr:()=>c.jsx("hr",{className:"my-8 border-gray-200"}),table:e=>c.jsx("div",{className:"overflow-x-auto mb-6",children:c.jsx("table",{...e,className:"w-full border-collapse md:text-md text-sm",children:e.children})}),thead:e=>c.jsx("thead",{...e,className:"bg-gray-50",children:e.children}),tbody:e=>c.jsx("tbody",{...e,children:e.children}),th:e=>c.jsx("th",{...e,className:"border border-gray-200 px-3 py-2 text-left font-semibold text-gray-800 tracking-normal",children:e.children}),td:e=>c.jsx("td",{...e,className:"border border-gray-200 px-3 py-2 tracking-normal",children:e.children})},zY={all:"",timetable:"",wishes:"",simulation:"",live:""};function UY(e){return Array.from(new Set(e))}function $Y(){const e=Ps(),t=e.hash,n=t?Number.parseInt(t.replace("#","")):null,[r,i]=T.useState(n),{data:s}=FY(),[a,o]=T.useState(null),u=UY(s?.map(g=>g.tag)??[]),d=a?s?.filter(g=>g.tag===a):s,f=g=>{i(r===g?null:g)};T.useEffect(()=>{if(e.hash){const g=Number.parseInt(e.hash.replace("#",""));setTimeout(()=>{const y=document.getElementById("faq-container-"+g);y&&(y.scrollIntoView({behavior:"smooth"}),i(g))},300)}},[e.hash]);const p=g=>{o(y=>y===g?null:g)};return c.jsxs(c.Fragment,{children:[c.jsxs(Un,{children:[c.jsx("title",{children:"ALLCLL |   "}),c.jsx("meta",{name:"description",content:"    ."})]}),c.jsx("div",{className:"mx-auto max-w-7xl px-4 md:px-16 py-24",children:c.jsxs(fe,{direction:"flex-col",gap:"gap-4",children:[c.jsx(mt,{level:1,children:"  "}),c.jsx(fe,{direction:"flex-wrap",gap:"gap-2",className:"mb-6",children:u.length>0&&u.map((g,y)=>c.jsx(yn,{label:zY[g]||g,onClick:()=>p(g),selected:a===g},"faq-chip-"+y))}),d&&d.map(g=>c.jsx(HY,{item:g,index:g.id,isOpen:r===g.id,toggleAnswer:f},g.id))]})})]})}function HY({item:e,index:t,isOpen:n,toggleAnswer:r}){return c.jsxs("div",{id:"faq-container-"+t,className:"mb-4 rounded-md bg-white shadow-sm",children:[c.jsxs("button",{onClick:()=>r(t),className:"flex items-center justify-between rounded-md w-full text-left font-semibold text-md p-4 hover:bg-blue-50 focus:outline-none cursor-pointer "+(n?"text-blue-600 font-bold":""),children:[e.question,c.jsx(BY,{className:"w-4 h-4 transform transition-transform duration-150 "+(n?"rotate-180":"")})]}),n&&c.jsx("div",{className:"p-4 border-t border-gray-200 text-sm",children:c.jsx(d8,{remarkPlugins:[Uk],components:h8,children:e.answer})})]},t)}const VY=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16.508930206298828,height:16.008333206176758,viewBox:"0 0 16.508930206298828 16.008333206176758",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,32.016666412353516)"},T.createElement("path",{d:"M8.25446,32.016633206176756Q8.72321,31.985433206176758,8.94196,31.579133206176756L11.067,27.172933206176758L15.8482,26.485433206176758Q16.317,26.391633206176756,16.4732,25.95416320617676Q16.5982,25.51666320617676,16.2857,25.20416320617676L12.817,21.76666320617676L13.6295,16.891666206176758Q13.692,16.454166206176758,13.317,16.141666206176758Q12.942,15.891666206176758,12.5357,16.110416206176758L8.25446,18.39166320617676L3.97321,16.110416206176758Q3.56696,15.891666206176758,3.19196,16.172916206176758Q2.81696,16.454166206176758,2.87946,16.891666206176758L3.69196,21.76666320617676L0.223214,25.20416320617676Q-0.0892857,25.51666320617676,0.0357143,25.95416320617676Q0.191964,26.391633206176756,0.660714,26.485433206176758L5.44196,27.172933206176758L7.56696,31.579133206176756Q7.78571,31.985433206176758,8.25446,32.016633206176756ZM8.25446,29.547933206176758L6.59821,26.172933206176758L8.25446,29.547933206176758L6.59821,26.172933206176758Q6.44196,25.82916320617676,6.03571,25.73541320617676L2.34821,25.20416320617676L5.03571,22.54791320617676Q5.28571,22.26666320617676,5.25446,21.89166320617676L4.59821,18.14166320617676L7.91071,19.89166320617676Q8.25446,20.07916320617676,8.59821,19.89166320617676L11.8795,18.14166320617676L11.2545,21.89166320617676Q11.192,22.26666320617676,11.4732,22.54791320617676L14.1607,25.20416320617676L10.4732,25.73541320617676Q10.067,25.82916320617676,9.91071,26.172933206176758L8.25446,29.547933206176758Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),qY=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16.505903244018555,height:16.001562118530273,viewBox:"0 0 16.505903244018555 16.001562118530273",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,32.00312423706055)"},T.createElement("path",{d:"M9.15,31.440662118530273Q8.86875,31.971862118530275,8.24375,32.00316211853027Q7.65,31.971862118530275,7.3375,31.440662118530273L5.3375,27.315662118530273L0.8375,26.628162118530273Q0.24375,26.534362118530275,0.05625,25.97187211853027Q-0.13125,25.37812211853027,0.30625,24.94062211853027L3.55625,21.72187211853027L2.775,17.159372118530275Q2.7125,16.565625118530274,3.18125,16.190625118530274Q3.68125,15.846875118530274,4.24375,16.128125118530274L8.24375,18.253122118530275L12.275,16.128125118530274Q12.8062,15.846875118530274,13.3062,16.190625118530274Q13.8062,16.565625118530274,13.7125,17.159372118530275L12.9625,21.72187211853027L16.2125,24.94062211853027Q16.6187,25.37812211853027,16.4625,25.97187211853027Q16.2437,26.534362118530275,15.65,26.628162118530273L11.15,27.315662118530273L9.15,31.440662118530273Z",fill:"#FACC15",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function f8({disabled:e}){return e?c.jsx(VY,{className:"w-4 h-4"}):c.jsx(qY,{className:"w-4 h-4"})}function p8({subject:e,variant:t="contain",className:n,onClick:r,...i}){const s=Px(d=>d.isFavorite(e.subjectId)),a=Px(d=>d.toggleFavorite),o=s?" ":" ",u=d=>{a(e.subjectId),r&&r(d)};return c.jsx(zn,{variant:t,onClick:u,label:o,icon:c.jsx(f8,{disabled:!s}),"aria-label":o,className:n,...i})}const WY=[{title:"",visible:!0,key:"subjectCode"},{title:"",visible:!0,key:"classCode"},{title:" ",visible:!0,key:"departmentName"},{title:"",visible:!0,key:"subjectName"},{title:"",visible:!0,key:"professorName"},{title:"",visible:!0,key:"totalCount"},{title:"",visible:!0,key:"seat"},{title:"",visible:!1,key:"studentYear"},{title:"",visible:!1,key:"lesnTime"},{title:"",visible:!1,key:"lesnRoom"},{title:"",visible:!1,key:"tmNum"},{title:"",visible:!1,key:"remark"},{title:"",visible:!1,key:"curiTypeCdNm"},{title:"",visible:!1,key:"curiLangNm"}],Vx=sk("wishes",WY);function QY(e){const t=Vx(a=>a.tableTitles),n=!!(e&&e[0]&&"seat"in e[0]),r=e&&e[0]&&"totalCount"in e[0],{isPreSeatAvailable:i}=Rg({hasSeats:n});let s=[{title:"",visible:!0,key:""},...t.filter(a=>a.visible)];return r||(s=s.filter(a=>a.key!=="totalCount")),i||(s=s.filter(a=>a.key!=="seat")),s}function KY(e,t=!0){const n=e.curiLangNm==="";return e.isDeleted?t?"bg-gray-100 hover:bg-gray-200":"bg-gray-100":n?t?"bg-green-50 hover:bg-green-100":"bg-green-50":t?"bg-white hover:bg-gray-100":"bg-white"}function m8({data:e,isPending:t=!1,placeholder:n}){const r=QY(e);return c.jsxs("table",{className:"w-full bg-white rounded-lg relative text-sm",children:[c.jsx("thead",{children:c.jsx("tr",{className:"bg-gray-50 sticky top-0 z-10 text-nowrap",children:r.map(({title:i})=>c.jsx("th",{className:"px-4 py-2",children:i},"table-header-name-"+i))})}),c.jsx("tbody",{children:c.jsx(GY,{headers:r,data:e,isPending:t,placeholder:n})})]})}function GY({headers:e,data:t,isPending:n=!1,placeholder:r}){const{visibleRows:i}=Ig(t??[],"selector"),s=t?t.slice(0,i):[];return n||!t?c.jsx(Ag,{row:5,col:e.length}):t.length?c.jsxs(c.Fragment,{children:[s.map(a=>c.jsx(YY,{data:a,tableHeaders:e},`${a.subjectCode} ${a.subjectId} ${a.professorName}`)),c.jsx("tr",{className:"load-more-trigger"})]}):c.jsx(cb,{col:e.length,...r})}const YY=({data:e,tableHeaders:t})=>{const n=KY(e,!0);return c.jsxs("tr",{className:`border-t border-gray-200 text-black ${n}`,children:[c.jsx("td",{className:"px-4 py-2",children:c.jsx(fe,{align:"items-center",gap:"gap-2",children:c.jsx(p8,{subject:e,variant:"plain"})})}),c.jsx(XY,{data:e,tableHeaders:t})]})},JY=(e,t)=>e.data.subjectId===t.data.subjectId&&"seat"in e=="seat"in t&&e.tableHeaders===t.tableHeaders,XY=T.memo(({data:e,tableHeaders:t})=>{const{selectTargetOnly:n}=Qh();function r(){n(e.subjectId),Eg(e.departmentCode??e.deptCd)}return t.slice(1,20).map(({key:i})=>c.jsx("td",{className:"px-4 py-2 text-center",children:c.jsx(Sr,{to:`/wishes/${e.subjectId}`,onClick:r,children:c.jsx(ZY,{data:e,headerType:i})})},i))},JY);function ZY({data:e,headerType:t}){switch(t){case"":return c.jsx(c.Fragment,{children:""});case"totalCount":return c.jsx(eb,{wishCount:e.totalCount??-1});case"seat":return c.jsx(gx,{seat:e.seat});default:return e[t]?.toString()}}function eJ(){const[e,t]=T.useState(!1),[n,r]=T.useState(!1),i=qd(O=>O.filters),s=qd(O=>O.setFilter),a=qd(O=>O.resetFilters),{keywords:o,favoriteOnly:u}=i,d=Vx(O=>O.tableTitles),f=Vx(O=>O.setTableTitles),p=bi(),[g,y]=T.useState(!1),{data:b}=Pj([]),_=Kh(b??[]).sort((O,B)=>O.localeCompare(B)).map(O=>O),C=lb(i),k=b&&"seat"in b,{isPreSeatAvailable:P}=Rg({hasSeats:k}),A=b&&"totalCount"in b,U=()=>s("favoriteOnly",!u),V=()=>{p?y(!0):r(!0)},I=(O,B)=>{const W=i[O];Array.isArray(W)?s(O,W.filter(F=>F!==B)):s(O,zo[O])};return c.jsxs("div",{className:"flex flex-wrap gap-2 mt-4 lg:flex-wrap lg:flex-row lg:items-center lg:gap-y-0 lg:gap-x-2",children:[e&&c.jsx(ik,{initialItems:d,onChange:f,onClose:()=>t(!1)}),n&&c.jsx(mb,{filterStore:qd,onClose:()=>r(!1)}),g&&c.jsx(gb,{onCloseFiltering:()=>y(!1),filters:i,setFilter:s,resetFilter:a}),c.jsx(La,{type:"text",placeholder:",      ",value:o,onDelete:()=>s("keywords",""),onChange:O=>s("keywords",O.target.value),className:"w-full"}),c.jsxs("div",{className:"flex items-center flex-wrap mt-2 gap-2",children:[c.jsxs("div",{className:"hidden md:flex flex-wrap gap-2",children:[c.jsx(fb,{setFilter:s,selectedValue:i.department??""}),A&&c.jsx(kc,{filterKey:"wishRange",options:gn.wishRange,selectedValue:i.wishRange??null,setFilter:s,ItemComponent:yn,isMinMax:!0}),P&&c.jsx(kc,{filterKey:"seatRange",options:gn.seatRange,selectedValue:i.seatRange??null,setFilter:s,ItemComponent:yn,isMinMax:!0}),c.jsx(Fn,{filterKey:"days",options:gn.days,selectedValues:i.days??[],setFilter:s}),c.jsx(Fn,{filterKey:"credits",options:gn.credits,selectedValues:i.credits??[],setFilter:s}),c.jsx(Fn,{filterKey:"grades",options:gn.grades,selectedValues:i.grades??[],setFilter:s}),i.classroom.length>0&&c.jsx(Fn,{filterKey:"classroom",options:gn.classRoom,selectedValues:i.classroom??[],setFilter:s,className:"min-w-max"}),i.note.length>0&&c.jsx(Fn,{filterKey:"note",options:gn.remark,selectedValues:i.note??[],setFilter:s}),i.categories.length>0&&c.jsx(Fn,{filterKey:"categories",options:_,selectedValues:i.categories??[],setFilter:s,className:"min-w-max"})]}),c.jsx(pb,{filters:i,resetFilter:a}),c.jsx(hb,{handleOpenFilter:V}),c.jsx(zn,{variant:"contain",icon:c.jsx(f8,{disabled:!u}),"aria-label":u?"  ":"  ",label:u?"  ":"  ",onClick:U}),c.jsx(zn,{variant:"contain",label:" ",icon:c.jsx(yb,{className:"w-5 h-5"}),onClick:()=>t(!0)}),c.jsx(fe,{direction:"flex-wrap",gap:"gap-2",className:"w-fit md:hidden",children:C.map(O=>c.jsx(yn,{variant:"cancel",label:O.label,selected:!0,onClick:()=>I(O.filterKey,O.values)},`${O.filterKey}-${O.values}`))})]})]})}function tJ(){return c.jsxs(Ma,{to:"/live",state:{openSearch:!0},className:"inline-flex items-center gap-2 rounded-md border border-blue-500 px-3 py-2 text-sm text-blue-500 hover:bg-blue-50",children:[c.jsx(Bo,{}),""]})}function nJ(){return c.jsxs(c.Fragment,{children:[c.jsxs(Un,{children:[c.jsx("title",{children:"ALLCLL |  "}),c.jsx("meta",{name:"description",content:"    ."})]}),c.jsxs("div",{className:"mx-auto max-w-7xl px-4 md:px-16 mb-8 min-h-screen",children:[c.jsx(mt,{level:1,className:"mt-2",children:" "}),c.jsxs(Xt,{children:["  ",c.jsx("span",{className:"text-blue-500 font-bold",children:" "})," .   ."]}),c.jsxs(fe,{gap:"gap-4",direction:"flex-col",className:"mt-6",children:[c.jsxs(Yt,{children:[c.jsx(tJ,{}),c.jsx(eJ,{}),c.jsx(sb,{})]}),c.jsx(Yt,{variant:"elevated",className:"mt-6 overflow-x-auto",children:c.jsx(rJ,{})}),c.jsx(Nj,{right:"right-2 sm:right-20"})]})]})]})}function rJ(){const{data:e,isPending:t}=ta(),n=Oc(jg(e,nu)),r=qd(a=>a.filters),i=T.useDeferredValue(Ac(n??[],r)),s={title:"  .",description:"   ."};return c.jsx(m8,{data:i,isPending:t,placeholder:s})}function iJ({children:e}){return c.jsxs("div",{className:"relative max-h-screen overflow-hidden",children:[c.jsx("div",{style:{filter:"blur(4px"},children:e}),c.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex justify-center items-center",children:c.jsx("p",{className:"text-xl font-bold text-gray-700",children:"  "})})]})}As.register(zh,Qo,Wo,Uh,$h,Hh);const sJ={labels:["4","3","2","1"],datasets:[{data:[50,40,25,20],backgroundColor:"#60a5fa"}]};function aJ(){return c.jsxs(iJ,{children:[c.jsx("p",{className:"text-sm text-gray-500",children:"   20%      "}),c.jsx("div",{className:"mt-4",children:c.jsx(vF,{data:sJ})})]})}As.register(zh,Qo,Wo,Uh,$h,Hh);var g8=(e=>(e.MAJOR="/",e.UNIVERSITY="",e.DEPARTMENT="",e.COLLEGE="",e))(g8||{});function oJ({data:e,majorName:t}){const[n,r]=T.useState("/"),{data:i}=tu(),s=MF(i),{doughnutData:a,totalCount:o}=lJ(e,s,t,n);return c.jsxs(c.Fragment,{children:[c.jsxs(fe,{justify:"justify-between",align:"items-center",children:[c.jsx(mt,{level:2,children:" "}),c.jsx(wn,{className:"hidden",htmlFor:"doughnut-select",children:""}),c.jsx("select",{className:"border px-3 py-1 rounded-md",id:"doughnut-select",value:n,onChange:u=>r(u.target.value),children:Object.values(g8).map(u=>c.jsx("option",{value:u,children:u},u))})]}),o?c.jsx(gg,{data:a}):c.jsx(fe,{justify:"justify-center",align:"items-center",className:"h-48",children:c.jsx("p",{className:"text-center text-gray-500 font-semibold",children:"   ."})})]})}function lJ(e,t,n,r){let i;const{universityDict:s,collegeDict:a}=t;switch(r){case"/":i=zF(n,e);break;case"":i=UF(e,s);break;case"":i=$F(e,a);break;case"":i=E5(e);break;default:i=E5(e);break}const o=HF(e);return{doughnutData:i,totalCount:o}}function uJ({wishes:e}){const t=e??nu,n=e&&"seat"in e,{isPreSeatAvailable:r}=Rg({hasSeats:n}),i=n?e.seat:-1,s=e?.curiLangNm==="",a=e?.isDeleted??!1;return c.jsxs(c.Fragment,{children:[c.jsxs("p",{className:"text-gray-600",children:[t.subjectCode,"-",t.classCode," | ",t.departmentName," | ",t.professorName]}),c.jsxs(fe,{gap:"gap-2",align:"items-center",direction:"flex-wrap",className:"text-gray-600 text-sm",children:[c.jsxs("span",{children:[t.studentYear,""]}),c.jsx("span",{children:t.curiTypeCdNm}),c.jsxs("span",{children:[Number(t.tmNum.split("/")[0].trim()),""]}),c.jsxs("span",{children:[" ","| ",t.lesnRoom," | ",t.lesnTime]}),r&&c.jsxs("p",{className:`text-sm px-2 py-1 rounded-full font-bold ${_g(i??-1)}`,children:[": ",(i??-1)<0?"???":i]}),s&&c.jsx(r4,{variant:"success",children:""}),a&&c.jsx(r4,{variant:"danger",children:""})]}),c.jsx("p",{className:"text-sm text-gray-500",children:t.remark})]})}function r4({variant:e,children:t}){const n=cJ(e);return c.jsx("div",{className:`${n} rounded px-2 py-1 text-xs font-semibold`,children:t})}function cJ(e){switch(e){case"success":return"bg-green-100 text-green-500 ";case"warning":return"bg-yellow-100 text-yellow-500 ";case"danger":return"bg-red-100 text-red-500 ";case"default":return"bg-gray-100 text-gray-500 ";default:return""}}function y8(e){const{data:t}=ta(),n=jg(t,nu);if(!n)return{isPending:!0};const r=n?.find(i=>i.subjectId===e);return{isPending:!1,data:r,isLastSemesterWish:!r}}function dJ(e){const{data:t}=ta(),{data:n}=y8(e),r=jg(t,nu),i=n?.subjectCode??"";return r?{isPending:!1,data:r.filter(a=>a.subjectCode===i&&a.subjectId!==e)}:{isPending:!0}}function hJ(e){return Cr({queryKey:["detail-registers",e],queryFn:()=>ez(e),staleTime:1/0,retry:fJ})}const fJ=(e,t)=>e>=3?!1:!(t instanceof nb);function pJ(){const e=sC(),t=Number(e.id??"-1"),{data:n,isPending:r,isLastSemesterWish:i}=y8(t),{data:s,error:a}=hJ(t),o=n??nu,u=n&&"totalCount"in n;if(r||!o)return c.jsxs(c.Fragment,{children:[c.jsxs(Un,{children:[c.jsx("title",{children:"ALLCLL |   "}),c.jsx("meta",{name:"description",content:"    ."})]}),c.jsx("div",{className:"min-h-screen bg-gray-50 flex justify-center items-center",children:c.jsx("h1",{className:"text-2xl font-bold",children:"Loading..."})})]});if(a)throw a;return c.jsxs(c.Fragment,{children:[c.jsx(Un,{children:c.jsx("title",{children:"ALLCLL |   "})}),i&&c.jsx("p",{className:"bg-red-100 text-red-500 py-2 px-4 font-bold",children:"   .   ."}),c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsx("div",{className:"p-6 max-w-5xl mx-auto",children:c.jsxs(Yt,{children:[c.jsxs(fe,{justify:"justify-between",align:"items-center",children:[c.jsx(mt,{level:1,children:o.subjectName}),c.jsxs(fe,{gap:"gap-2",children:[c.jsx(p8,{subject:o}),c.jsx(Zj,{subject:o})]})]}),c.jsx(uJ,{wishes:n}),c.jsxs(Os,{columns:{md:2,base:1},gap:"gap-6",className:" mt-6",children:[c.jsx(Yt,{className:"p-6",children:c.jsx(oJ,{data:s?.eachDepartmentRegisters??[],majorName:o.departmentName??o.manageDeptNm})}),c.jsxs(Yt,{children:[c.jsxs(fe,{gap:"gap-2",align:"items-center",className:"mb-4",children:[c.jsx(mt,{level:2,children:"  "}),u&&c.jsxs("p",{className:`${aB(o.totalCount??-1)} font-bold text-xl`,children:[" ",o.totalCount,""]})]}),c.jsx(aJ,{})]})]}),c.jsxs(Yt,{children:[c.jsx(mt,{level:2,className:"mt-2",children:" "}),c.jsx(Xt,{children:"   "}),c.jsx("div",{className:"overflow-x-auto",children:c.jsx(mJ,{subjectId:t})})]})]})})})]})}function mJ({subjectId:e}){const{data:t}=dJ(e),n={title:"   ."};return c.jsx(m8,{data:t??[],placeholder:n})}const Ol=()=>{const e=sv();return T.useEffect(()=>{_N(e,{extra:{url:window.location.href,userAgent:navigator.userAgent}})},[e]),c.jsxs(c.Fragment,{children:[c.jsx(Un,{children:c.jsx("title",{children:"ALLCLL |  "})}),c.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[c.jsx("h1",{className:"text-4xl font-bold mb-4",children:" "}),c.jsx("p",{className:"text-lg mb-4",children:" .    "}),c.jsx(Sr,{to:"/",className:"text-blue-500",children:" "}),c.jsx("a",{href:"https://forms.gle/bCDTVujEHunnvHe88",target:"_blank",className:"text-blue-500",children:""})]})]})},x8=()=>c.jsxs(c.Fragment,{children:[c.jsx(Un,{children:c.jsx("title",{children:"ALLCLL |    "})}),c.jsxs(fe,{direction:"flex-col",align:"items-center",justify:"justify-center",gap:"gap-2",className:"h-screen",children:[c.jsx(mt,{level:1,children:"404 -    "}),c.jsx("p",{className:"text-lg mb-4",children:"   "}),c.jsx(Sr,{to:"/",className:"text-blue-500",children:" "})]})]}),gJ=()=>{const e=sv();return e instanceof nb||e instanceof JB?c.jsx(x8,{}):c.jsx(Ol,{})},nr=fr((e,t)=>({type:null,props:void 0,openModal:(n,r)=>{e({type:n,props:r})},closeModal:n=>{const r=t().type;(!n||r===n)&&e({type:null,props:void 0})}}));function iu(){const{data:e,isLoading:t}=Rs(),{data:n,isLoading:r}=tu(),i=t||r;return i||!e||!n?{data:[],isLoading:i}:{data:yJ(e,n),isLoading:!1}}function yJ(e,t){return e.map(n=>{const r=t.find(s=>s.departmentCode===n.deptCd)?.departmentName||"",i=r?r.split(" ").reverse()[0]:"";return{subjectId:n.subjectId??-1,subjectCode:n.subjectCode??"",classCode:n.classCode??"",departmentName:i,subjectName:n.subjectName??"",language:n.curiLangNm??"",subjectType:n.curiTypeCdNm??"",semester_at:n.studentYear?Number(n.studentYear):-1,lesn_time:n.lesnTime??"",professorName:n.professorName??"",lesn_room:n.lesnRoom??"",tm_num:n.tmNum??""}})}function xJ(){return Math.floor(1e3+Math.random()*9e3).toString()}const vJ=4;function bJ(){const e=T.useRef(null),[t,n]=T.useState(),[r,i]=T.useState(""),s=T.useRef(""),{data:a}=iu(),o=nr(C=>C.openModal),u=nr(C=>C.closeModal),{currentSubjectId:d,setSubjectStatus:f,setCaptchaFailed:p}=vg();function g(){const C=xJ();s.current=C,setTimeout(()=>{e.current&&fx(e.current,C)},100)}function y(C){let k=C.target.value;if(/[^0-9]/.test(k)){i("0~9  "),n(k.replace(/[^0-9]/g,""));return}k.length<=vJ?(n(k),i("")):i("4  ")}T.useEffect(()=>{setTimeout(()=>{g()},100)},[]);function b(){Ta({eventType:tr.CAPTCHA,subjectId:d},a).then(()=>{t?.toString()===s.current?(f(d,Ut.PROGRESS),p(!1)):(f(d,Ut.PROGRESS),p(!0))}).then(()=>{u(),o("simulation")})}function _(){Ta({eventType:tr.CANCEL_SUBMIT,subjectId:d},a).then(()=>{u("captcha"),p(!1),f(d,Ut.PROGRESS)})}return c.jsx(Zt.Modal,{preventAutoFocus:!0,children:c.jsxs("div",{className:"sm:w-[460px]",children:[c.jsx(Zt.Modal.Header,{title:"  (Arti-marco code input)",onClose:_}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[c.jsxs("div",{className:"flex flex-col px-1",children:[c.jsxs("div",{className:"text-sm font-semibold flex flex-row items-center",children:[c.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "})," ",c.jsx("button",{onClick:g,className:"ml-2 px-2 py-1 bg-blue-500 text-white text-sm rounded-xs cursor-pointer hover:bg-blue-600",children:""})]}),c.jsx("div",{className:"flex items-center mt-1",children:c.jsx("canvas",{id:"captcha",width:"105",height:"50",ref:e})})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"text-sm font-semibold flex flex-row items-center",children:[c.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500"}),"  "]}),c.jsx(Zt.Input,{value:t,onChange:C=>y(C),className:"mt-2 w-full",placeholder:" ",essential:!0}),c.jsx("span",{className:"pl-1 text-xs text-red-500 ",children:r})]})]}),c.jsx("p",{className:"text-sm text-gray-800 mt-10",children:"               ."}),c.jsxs(Zt.Modal.ButtonContainer,{className:"px-6 py-2 bg-gray-100",children:[c.jsx(Zt.Modal.Button,{variant:"cancel",onClick:b,children:""}),c.jsx(Zt.Modal.Button,{variant:"cancel",onClick:_,children:""})]})]})})}const wJ=e=>T.createElement("svg",{width:50,height:50,viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("circle",{cx:25,cy:25,r:25,fill:"#7890CE"}),T.createElement("path",{d:"M20.2339 29.5078L35.0317 17.4276C35.3809 17.1425 35.7883 17 36.2539 17C36.7196 17 37.127 17.1425 37.4762 17.4276C37.8254 17.7127 38 18.0515 38 18.4439C38 18.8364 37.8254 19.1747 37.4762 19.4588L21.4562 32.5724C21.107 32.8575 20.6995 33 20.2339 33C19.7683 33 19.3609 32.8575 19.0117 32.5724L11.5037 26.4432C11.1545 26.1581 10.9868 25.8198 11.0008 25.4283C11.0148 25.0368 11.1969 24.6981 11.5473 24.412C11.8977 24.126 12.3127 23.9835 12.7923 23.9844C13.2718 23.9854 13.6862 24.1279 14.0354 24.412L20.2339 29.5078Z",fill:"white"})),i4={simulationId:-1,registeredSubjects:[],nonRegisteredSubjects:[],simulationStatus:"before",clickedTime:0},yi=fr(e=>({currentSimulation:i4,setCurrentSimulation:t=>e(n=>({currentSimulation:{...n.currentSimulation,...t}})),resetSimulation:()=>e({currentSimulation:i4})})),_J=[{status:Ut.PROGRESS,topMessage:"   ?",description:"(CourseTitle):"},{status:Ut.SUCCESS,topMessage:"  .   ?",description:`    []  . 

              []  
          . []  
        .`},{status:Ut.FAILED,topMessage:"  !"},{status:Ut.DOUBLED,topMessage:"   !"},{status:Ut.CAPTCHA_FAILED,topMessage:"   "},{status:Ut.NOT_ELIGIBLE,topMessage:"   "}],SJ=[Ut.PROGRESS,Ut.SUCCESS,Ut.FAILED,Ut.CAPTCHA_FAILED];function CJ({reloadSimulationStatus:e}){const t=nr(I=>I.openModal),n=nr(I=>I.closeModal),{currentSubjectId:r,setSubjectStatus:i,subjectStatusMap:s}=vg(),a=yi(I=>I.setCurrentSimulation),{data:o}=iu(),u=s[r],d=_J.find(I=>I.status===u),f=d?.status??Ut.PROGRESS,p=[Ut.FAILED,Ut.DOUBLED,Ut.CAPTCHA_FAILED].includes(f),g=SJ.includes(f),y=T.useRef(null);if(!d)return null;y.current?.focus();const b=(I,O=!1)=>{if("errMsg"in I)throw alert(I.errMsg),O&&gc().then(()=>{t("result")}),new Error(I.errMsg)},_=I=>{console.error(" :",I),alert(" :"+I.toString())},C=async I=>{const O=await Ta({eventType:tr.SUBJECT_SUBMIT,subjectId:I},o);b(O),i(I,O.status),t("simulation")},k=async I=>{const O=await Ta({eventType:tr.REFRESH,subjectId:I},o);b(O),e(),O.finished&&(a({simulationStatus:"finish"}),console.log(" "),t("result"))},P=async I=>{try{const O=await Ta({eventType:tr.SKIP_REFRESH,subjectId:I},o);"errMsg"in O?(alert(O.errMsg),await gc(),a({simulationStatus:"finish"}),t("result")):O.finished&&(a({simulationStatus:"finish"}),t("result"))}catch(O){console.error(O)}finally{n("simulation")}},A=async()=>{try{d.status===Ut.PROGRESS?await C(r):d?.status===Ut.SUCCESS?await k(r):p&&await P(r)}catch(I){_(I)}},U=async()=>{try{if(d?.status===Ut.SUCCESS){const I=await Ta({eventType:tr.SKIP_REFRESH,subjectId:r},o);"errMsg"in I?(alert(I.errMsg),await gc(),a({simulationStatus:"finish"}),t("result")):I.finished?(a({simulationStatus:"finish"}),t("result")):n("simulation")}else if(d?.status===Ut.PROGRESS){const I=await Ta({eventType:tr.CANCEL_SUBMIT,subjectId:r},o);b(I,!0)}}catch(I){_(I)}},V=()=>{g||n("simulation")};return c.jsxs(Zt.Modal,{modalCassName:"max-w-md",children:[c.jsx(Zt.Modal.Header,{title:"",onClose:V}),c.jsxs("div",{className:`px-6 pb-6 items-center flex-col flex ${jJ(f)}`,children:[c.jsx("div",{className:"flex justify-center mb-2 py-2",children:d.status===Ut.SUCCESS||d.status===Ut.PROGRESS?c.jsx(wJ,{className:"w-12 h-12"}):c.jsx(qh,{className:"w-12 h-12",fill:"#C4C4C4"})}),c.jsx("p",{className:"text-gray-700 text-sm mb-4",children:d.topMessage}),d.description&&c.jsxs("p",{className:"text-sm text-gray-700 whitespace-pre-line text-center",children:[d.description," ",d.status===Ut.PROGRESS&&c.jsx("span",{children:o?.find(I=>I.subjectId===r)?.subjectName})]})]}),c.jsxs(Zt.Modal.ButtonContainer,{className:"px-6 py-2 bg-gray-100",children:[d.status===Ut.PROGRESS||d.status===Ut.SUCCESS&&c.jsx(Zt.Modal.Button,{variant:"cancel",onClick:U,children:""}),c.jsx(Zt.Modal.Button,{variant:"primary",onClick:A,children:""})]})]})}const jJ=e=>e===Ut.FAILED||e===Ut.DOUBLED?"sm:min-h-[200px] min-h-[80vh]":"sm:min-h-[230px] min-h-[80vh]";function kJ(e,t,n){var r,i;typeof e=="function"?(r=t||[],i=n):(r=[],i=t);var s=rn.useRef({hasResult:!1,result:i,error:null}),a=rn.useReducer(function(d){return d+1},0);a[0];var o=a[1],u=rn.useMemo(function(){var d=typeof e=="function"?e():e;if(!d||typeof d.subscribe!="function")throw e===d?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!s.current.hasResult&&typeof window<"u"&&(typeof d.hasValue!="function"||d.hasValue()))if(typeof d.getValue=="function")s.current.result=d.getValue(),s.current.hasResult=!0;else{var f=d.subscribe(function(p){s.current.result=p,s.current.hasResult=!0});typeof f=="function"?f():f.unsubscribe()}return d},r);if(rn.useDebugValue(s.current.result),rn.useEffect(function(){var d=u.subscribe(function(f){var p=s.current;(p.error!==null||p.result!==f)&&(p.error=null,p.result=f,p.hasResult=!0,o())},function(f){var p=s.current;p.error!==f&&(p.error=f,o())});return typeof d=="function"?d:d.unsubscribe.bind(d)},r),s.current.error)throw s.current.error;return s.current.result}function Dc(e,t,n){return kJ(function(){return QF(e)},[],n)}function s4(){const e=nr(t=>t.closeModal);return c.jsx(Zt.Modal,{onBackdropClick:()=>e(),noBorder:!0,children:c.jsxs("div",{className:"p-6 w-80 bg-white rounded shadow",children:[c.jsx("p",{className:"text-sm text-gray-800 mb-4",children:"  ."}),c.jsx("div",{className:"w-full h-4 bg-gray-200 rounded overflow-hidden",children:c.jsx("div",{className:"h-full bg-blue-400 bg-gradient-to-r from-blue-400 to-blue-600 animate-stripes"})})]})})}const Dd=1/1e3;async function EJ(){return{snapshots:(await Ct.simulation_run.filter(n=>n.ended_at!==-1).toArray()).sort((n,r)=>r.simulation_run_id-n.simulation_run_id)}}async function TJ(e){const t=await eB(e),n=await mj(t.snapshot_id);if(!t||!n)return null;const r=await Ct.simulation_run_selections.where("simulation_run_id").equals(t.simulation_run_id).toArray(),i=r.map(d=>d.run_selections_id),s=d=>{const f=n.subjects.find(p=>p.interested_id===d);return f?f.subject_id:-1},a=await Ct.simulation_run_events.filter(d=>i.includes(d.simulation_section_id)).toArray(),o=a.filter(d=>d.event_type===tr.CAPTCHA),u=r.reduce((d,f)=>{const p=o.find(g=>g.simulation_section_id===f.run_selections_id);return p?.timestamp?d+p.timestamp-f.started_at:d},0)/r.length;return{started_at:t.started_at,ended_at:t.ended_at,user_ability:{searchBtnSpeed:(t.search_event_at-t.started_at)/1e3,totalSpeed:t.total_elapsed/t.subject_count/1e3,accuracy:t.accuracy,captchaSpeed:u/1e3},timeline:r.map(d=>({interested_id:d.interested_id,subject_id:s(d.interested_id),started_at:d.started_at,ended_at:d.ended_at,status:d.status,events:a.filter(f=>f.simulation_section_id===d.run_selections_id).sort((f,p)=>f.timestamp-p.timestamp).map(f=>({event:f.event_type,timestamp:f.timestamp}))})),subject_results:r.sort((d,f)=>f.started_at-d.started_at).reduce((d,f)=>d.some(p=>p.interested_id===f.interested_id)?d:[...d,f],[]).map(d=>({interested_id:d.interested_id,subject_id:s(d.interested_id),selected_index:d.selected_index,ended_at:d.ended_at,status:d.status}))}}async function v8(){const e=await Ct.simulation_run.filter(C=>C.ended_at!==-1).toArray(),t=e.length;if(t===0)throw new Error("    .");const n=await Ct.simulation_run_selections.toArray(),r=await Promise.all(e.map(async C=>{const k=await Ct.simulation_run_selections.filter(O=>O.simulation_run_id===C.simulation_run_id).toArray(),P=k.map(O=>O.run_selections_id),A=await Ct.simulation_run_events.filter(O=>O.event_type===tr.CAPTCHA&&P.includes(O.simulation_section_id)).toArray(),U=(C.search_event_at-C.started_at)*Dd,V=A.reduce((O,B)=>{const W=k.find(F=>F.run_selections_id===B.simulation_section_id);return W?O+(B.timestamp-W.started_at):O},0)*Dd,I=k.reduce((O,B)=>B.ended_at>=0?O+(B.ended_at-B.started_at):O,0)*Dd;return{simulationRunId:C.simulation_run_id,accuracy:C.accuracy,subjectCount:C.subject_count,searchBtnTime:U,captchaTime:V+U,subjectTime:I+U,totalTime:C.total_elapsed*Dd}})),i=await Ct.interested_snapshot.filter(C=>C.simulated).last();if(!i)throw new Error("   .");const a=(await Ct.interested_subject.filter(C=>C.snapshot_id===i.snapshot_id).toArray()).map(C=>{const k=n.filter(W=>W.interested_id===C.interested_id),P=k.filter(W=>W.status===Ut.SUCCESS).length,A=k.filter(W=>W.status===Ut.FAILED).length,U=k.filter(W=>W.status===Ut.DOUBLED).length,V=k.length,I=k.reduce((W,F)=>W+F.selected_index,0)/V||0,O=k.filter(W=>W.ended_at>=0&&W.started_at>=0).map(W=>(W.ended_at-W.started_at)*Dd),B=NJ(O);return{subjectId:C.subject_id,successCount:P,failedCount:A,doubledCount:U,totalCount:V,avgCompletionTime:B,avgIndex:I}}),o=new Map;for(const C of n){const k=C.simulation_run_id,P=e.find(O=>O.simulation_run_id===k);if(!P)continue;const A=await mj(P.snapshot_id);if(!A)continue;const U=A.subjects.find(O=>O.interested_id===C.interested_id);if(!U)continue;const V=U.subject_id;o.has(V)||o.set(V,{subject_id:V,success_count:0,total_count:0,completion_time_sum:0});const I=o.get(V);I.total_count++,C.status===1&&(I.success_count++,I.completion_time_sum+=C.ended_at-C.started_at)}const u=Array.from(o.values()).map(C=>({subject_id:C.subject_id,success_count:C.success_count,total_count:C.total_count,success_rate:C.success_count/C.total_count,avg_completion_time:C.success_count>0?C.completion_time_sum/C.success_count/1e3:0})),d=n.reduce((C,k)=>(C[k.status]=(C[k.status]||0)+1,C),{}),f=n.length,p=Object.entries(d).map(([C,k])=>({status:Number(C),count:k,percentage:k/f})),g=e.map(C=>C.simulation_run_id),y=n.filter(C=>g.includes(C.simulation_run_id)).map(C=>C.run_selections_id),b=await Ct.simulation_run_events.filter(C=>y.includes(C.simulation_section_id)&&C.event_type===tr.CAPTCHA).toArray();let _=0;for(const C of b){const k=n.find(P=>P.run_selections_id===C.simulation_section_id);k&&(_+=C.timestamp-k.started_at)}return{total_users:t,avg_started_at:e.reduce((C,k)=>C+k.started_at,0)/t,avg_ended_at:e.reduce((C,k)=>C+k.ended_at,0)/t,avg_elapsed_time:e.reduce((C,k)=>C+(k.ended_at-k.started_at),0)/t/1e3,subject_success_rate:u,status_distribution:p,simulations:r,subjects:a}}function NJ(e){return e.length===0?0:e.reduce((t,n)=>t+n,0)/e.length}function PJ({simulationId:e}){const t=nr(k=>k.type),n=nr(k=>k.openModal),r=nr(k=>k.closeModal),[i,s]=T.useState(null),[a,o]=T.useState(),u=t==="result",d=Dc(async()=>{try{return await v8()}catch(k){return{error:k.message}}});if(d&&"error"in d)return c.jsx("div",{className:"flex flex-col w-full items-center justify-center h-120 gap-3"});const{simulations:f}=d||{simulations:[]},p=d?{user_ability:{searchBtnSpeed:f.reduce((k,P)=>k+P.searchBtnTime,0)/f.length||0,totalSpeed:f.reduce((k,P)=>k+P.totalTime/P.subjectCount,0)/f.length||0,accuracy:f.reduce((k,P)=>k+P.accuracy,0)/f.length||0,captchaSpeed:f.reduce((k,P)=>k+(P.captchaTime-P.searchBtnTime)/P.subjectCount,0)/f.length||0}}:void 0;if(T.useEffect(()=>{async function k(){nB({simulationId:e}).then(P=>{"errMsg"in P?P.errMsg===gj.SIMULATION_NOT_FOUND?r():alert(P.errMsg):(s(P),o(e))})}k().then()},[]),!i)return c.jsx(s4,{});const{accuracy:g,score:y,total_elapsed:b}=i,_=y>=70,C=p?.user_ability?.searchBtnSpeed??0;return!p||!d?c.jsx(s4,{}):c.jsx(tn,{title:" ",onClose:()=>r("result"),isOpen:u,children:c.jsxs(tn.Content,{children:[_&&c.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[c.jsx("div",{className:"animate-float1 absolute top-6 left-6 w-3 h-3 bg-red-400 rounded-full"}),c.jsx("div",{className:"animate-float2 absolute top-16 right-10 w-2 h-2 bg-yellow-400 rounded-full"}),c.jsx("div",{className:"animate-float3 absolute bottom-20 left-12 w-2.5 h-2.5 bg-blue-400 rounded-full"}),c.jsx("div",{className:"animate-float4 absolute bottom-10 right-6 w-3 h-3 bg-pink-400 rounded-full"}),c.jsx("div",{className:"animate-float5 absolute top-1/2 left-1/2 w-2 h-2 bg-purple-400 rounded-full"})]}),c.jsxs("div",{className:"relative z-10 text-center",children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[" ",c.jsx("span",{className:_?"text-blue-600":"text-red-500",children:_?" !":" "})]}),c.jsxs("span",{className:"text-sm text-gray-700 mt-1",children:[" ",_?" ":" ",""]}),c.jsxs("div",{className:"flex flex-col justify-center items-center",children:[c.jsx("div",{className:"m-2 flex justify-center",children:_?c.jsx("img",{src:"/ci.svg",alt:" ",className:"w-20 h-20"}):c.jsx("span",{className:"text-[50px]",children:""})}),c.jsxs("div",{className:"flex flex-row justify-center gap-6 mt-6",children:[c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("p",{className:"text-sm text-gray-800 mb-1",children:""}),c.jsxs("p",{className:"text-xl text-blue-500 font-bold whitespace-nowrap",children:[y.toFixed(1),c.jsx("span",{className:"text-gray-600",children:""})]})]}),c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("p",{className:"text-sm text-gray-800 mb-1",children:" "}),c.jsxs("p",{className:"text-xl text-gray-600 font-bold whitespace-nowrap",children:[(b/1e3).toFixed(0),""]})]})]}),c.jsxs("div",{className:"flex flex-row justify-center gap-6 mt-6",children:[c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("p",{className:"text-sm text-gray-800 mb-1",children:"    "}),c.jsxs("p",{className:"text-xl text-blue-500 font-bold whitespace-nowrap",children:[p?.user_ability.captchaSpeed.toFixed(2),c.jsx("span",{className:"text-gray-600",children:""})]})]}),c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("p",{className:"text-sm text-gray-800 mb-1",children:"    "}),c.jsxs("p",{className:"text-xl text-blue-500 font-bold whitespace-nowrap",children:[C<=0?0:C.toFixed(2),c.jsx("span",{className:"text-gray-600",children:""})]})]})]})]}),c.jsx("div",{className:"text-left text-sm text-gray-800 mt-4 mb-1",children:""}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-full h-3 bg-gray-200 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-3 bg-indigo-400 rounded-full transition-all duration-300",style:{width:`${g}%`}})}),c.jsxs("p",{className:"text-xl text-gray-600 font-bold whitespace-nowrap",children:[g,"%"]})]}),c.jsxs("div",{className:"flex justify-center gap-3 mt-6",children:[c.jsx("button",{className:"px-4 py-2 border border-gray-400 text-gray-800 rounded-md hover:bg-gray-100 text-sm",onClick:()=>{r(),n("wish")},children:" "}),c.jsx(Ma,{to:`/simulation/logs/${a}`,end:!1,className:"px-4 py-2  bg-blue-500 text-white rounded-md hover:bg-blue-600 text-sm",onClick:()=>{r()},children:"   "})]})]}),c.jsx("style",{children:`
        @keyframes float1 {
          0% { transform: translateY(0); }
          50% { transform: translateY(-8px); }
          100% { transform: translateY(0); }
        }
        @keyframes float2 {
          0% { transform: translateY(0); }
          50% { transform: translateY(6px); }
          100% { transform: translateY(0); }
        }
        @keyframes float3 {
          0% { transform: translateY(0); }
          50% { transform: translateY(-6px); }
          100% { transform: translateY(0); }
        }
        @keyframes float4 {
          0% { transform: translateY(0); }
          50% { transform: translateY(4px); }
          100% { transform: translateY(0); }
        }
        @keyframes float5 {
          0% { transform: translateY(0); }
          50% { transform: translateY(-5px); }
          100% { transform: translateY(0); }
        }

        .animate-float1 { animation: float1 3s ease-in-out infinite; }
        .animate-float2 { animation: float2 4s ease-in-out infinite; }
        .animate-float3 { animation: float3 2.5s ease-in-out infinite; }
        .animate-float4 { animation: float4 3.5s ease-in-out infinite; }
        .animate-float5 { animation: float5 3s ease-in-out infinite; }
      `})]})})}function OJ(){return c.jsxs("div",{className:"mt-6 text-sm text-gray-800 space-y-2",children:[c.jsx(mt,{level:4,children:" Tip!"}),["      .","    .","       !","    ."].map((e,t)=>c.jsxs(fe,{className:"text-xs",children:[c.jsx("span",{className:"text-blue-500 mr-2",children:c.jsx(zm,{})}),c.jsx("span",{className:t===0?"font-semibold text-blue-500 animate-bounce":"text-gray-600",children:e})]},t))]})}function RJ({department:e,setDepartment:t}){const{data:n}=tu(),r=i=>{const s=i.target.value,a=n?.find(o=>o.departmentCode===s)?.departmentName??"";t({departmentName:a,departmentCode:s})};return T.useEffect(()=>{if(!n)return;const s=Rj().filter(([u])=>u!=="9005");if(s.length<=0)return;const a=s[0][0],o=n.find(u=>u.departmentCode===a)?.departmentName??"";t({departmentName:o,departmentCode:a})},[n]),c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx(wn,{children:" "}),c.jsx(Dg,{className:"cursor-pointer rounded-sm px-2 py-1 w-50 sm:w-120 bg-white",value:e.departmentCode,onChange:r})]})}function AJ({selectedTimetable:e,onSelect:t,timetables:n}){const{data:r}=Zl(),i=r??es,s=n.filter(a=>a.semesterCode===i.semesterCode);return s.length===0?c.jsx(LJ,{semesterValue:i.semesterValue}):c.jsx(IJ,{semesterValue:i.semesterValue,timetables:s,selectedTimetableId:e.timeTableId,onSelect:t})}function IJ({semesterValue:e,timetables:t,selectedTimetableId:n,onSelect:r}){return c.jsxs(fe,{direction:"flex-col",gap:"gap-2",children:[c.jsxs(wn,{children:[e," "]}),c.jsxs(fe,{gap:"gap-2",children:[c.jsx(Os,{columns:{sm:2,md:3},gap:"gap-2",className:"flex-1",children:t.map(i=>c.jsx(yn,{label:i.timeTableName,selected:n===i.timeTableId,onClick:()=>r(i.timeTableId)},i.timeTableId))}),c.jsx(ct,{variant:"text",size:"small",textColor:"primary",children:c.jsx(Sr,{to:"/timetable",children:"+   "})})]})]})}function LJ({semesterValue:e}){return c.jsxs(fe,{direction:"flex-col",gap:"gap-4",children:[c.jsx(wn,{children:" "}),c.jsxs(fe,{direction:"flex-col",gap:"gap-2",align:"items-center",children:[c.jsx(qh,{className:"w-7 h-7",fill:"#C4C4C4"}),c.jsxs("p",{className:"text-gray-500 text-sm",children:[e,"  ."]}),c.jsx(ct,{asChild:!0,variant:"secondary",size:"small",children:c.jsx(Sr,{to:"/timetable",children:"  "})})]})]})}const DJ=5;function qx(e,t){const n=new Set,r=[];for(const i of[...e].sort(()=>Math.random()-.5)){if(n.size>=t)break;n.has(i.subjectCode)||(n.add(i.subjectCode),r.push(i))}return r}function b8(e){const t=e.split(" ");return t.findIndex(r=>r.includes(""))!==-1?t.slice(1).join(" ").trim():e}function w8(e,t){const n=r=>r.replace(/(||)$/,"");return n(e)===n(t)}function MJ(e){return DJ-e+1}const FJ=(e,t)=>{if(t==="")return _8(e);const n=b8(t),r=e.filter(f=>w8(f.departmentName,n)),i=e.filter(f=>f.departmentName===""),s=r.filter(f=>f.professorName!==null&&f.lesn_time!==null),a=qx(s,3),o=i.filter(f=>f.professorName!==null&&f.lesn_time!==null),u=qx(o,MJ(a.length+1)),d=[...a,...u];for(let f=d.length-1;f>0;f--){const p=Math.floor(Math.random()*(f+1));[d[f],d[p]]=[d[p],d[f]]}return d},Wx=(e,t)=>e.find(n=>t===n.subjectId),_8=e=>qx(e,5),BJ=(e,t)=>{const n=b8(t);if(n==="")return _8(e);const r=e.filter(d=>w8(d.departmentName,n)),i=e.filter(d=>d.departmentName===""),s=d=>{const f=new Set;return d.filter(p=>f.has(p.subjectCode)?!1:(f.add(p.subjectCode),!0))},a=s(r).slice(0,3),o=5-a.length,u=s(i).slice(0,o);return[...a,...u]},zJ=e=>{let t=0;const n=[];for(const r of e){const i=Number(r.tm_num.split("/")[0])||0;if(t+i>24)break;t+=i,n.push(r)}return n};function UJ({subjects:e,handleRemakeSubjects:t,isLoadingLectures:n}){const r=e?.reduce((i,s)=>{if(!s.tm_num)return i;const a=s?.tm_num.split("/")[0]??"0",o=Number(a)||0;return i+o},0);return c.jsxs(c.Fragment,{children:[c.jsxs(fe,{direction:"flex-row",justify:"justify-between",align:"items-center",children:[c.jsxs(fe,{align:"items-center",children:[c.jsx(wn,{children:"   "}),t&&c.jsx(ct,{onClick:t,size:"small",variant:"text",children:" "})]}),c.jsxs(Xt,{children:[c.jsx("span",{className:"text-blue-500",children:r})," "]})]}),c.jsx("div",{className:"overflow-x-auto overflow-y-auto sm:max-w-full",children:c.jsxs("table",{className:"min-w-full table-fixed sm:text-sm text-xs text-left whitespace-nowrap border-t border-b border-gray-200",children:[c.jsx("thead",{className:"bg-gray-100 text-gray-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-2",children:""}),c.jsx("th",{className:"px-4 py-2",children:""}),c.jsx("th",{className:"px-4 py-2",children:""}),c.jsx("th",{className:"px-4 py-2",children:""}),c.jsx("th",{className:"px-4 py-2",children:""})]})}),c.jsx("tbody",{className:"h-[250px]",children:c.jsx($J,{subjects:e,isLoadingLectures:n})})]})})]})}function $J({subjects:e,isLoadingLectures:t}){return t?c.jsx(Ag,{col:5,row:8}):e.length===0?c.jsx(cb,{col:5,title:"  .",description:"       ."}):c.jsx(c.Fragment,{children:e.map((n,r)=>c.jsxs("tr",{className:"border border-gray-200 h-[40px]",children:[c.jsx("td",{className:"px-4 py-2 w-[30px] truncate",children:n.subjectCode}),c.jsx("td",{className:"px-4 py-2 w-[30px] truncate",children:n.classCode}),c.jsx("td",{className:"px-4 py-2 w-[100px] truncate",children:n.departmentName}),c.jsx("td",{className:"px-4 py-2  w-[150px] truncate",children:n.subjectName}),c.jsx("td",{className:"px-4 py-2",children:n.professorName})]},n.subjectId??r))})}const HJ=({simulationSubjects:e,handleStartGame:t,setToggleTip:n})=>c.jsxs("div",{className:"flex justify-end gap-2 px-2 pb-2 sm:px-6 sm:pb-6",children:[c.jsx(ct,{variant:"primary",size:"medium",onClick:()=>n(!0),children:" "}),c.jsx(ct,{variant:"outlined",size:"medium",onClick:t,disabled:e.length===0,children:""})]}),VJ=(e,t)=>e?"previous":t.length>0?"timetable":"random",qJ={departmentCode:"",departmentName:""};function WJ({timetables:e,setIsModalOpen:t}){const n=yi(F=>F.setCurrentSimulation),r=nr(F=>F.closeModal),{data:i,isLoading:s}=iu(),a=It(F=>F.currentTimetable),o=It(F=>F.pickTimetable),[u,d]=T.useState([]),[f,p]=T.useState({...qJ}),[g,y]=T.useState(a??{timeTableId:-1,timeTableName:"  ",semesterCode:es.semesterCode}),b=Dc(pj),[_,C]=T.useState(VJ(!!b,e)),[k,P]=T.useState(!1),{data:A,isLoading:U}=ZC(g?.timeTableId),V=()=>{d(FJ(i,f.departmentName))},I=async()=>{if(u.length===0){alert("  .    .");return}try{r(),_!=="previous"&&await GF(u.map(J=>J.subjectId));const F=await tB("",f.departmentCode,f.departmentName);if("simulationId"in F&&"isRunning"in F&&F.simulationId!==-1&&F.isRunning!==void 0){const{simulationId:J,isRunning:xe}=F;n({simulationId:J,simulationStatus:xe?"start":"before"})}else console.error("    ",F)}catch(F){console.error("    :",F)}},O=F=>{const se=e.find(J=>J.timeTableId===F)??{timeTableId:-1,timeTableName:"  ",semesterCode:es.semesterCode};if(!se){console.error("    :",F);return}y(se),o(se)},B=F=>{d([]),C(F)},W=F=>i.find(se=>se.subjectId===F);return T.useEffect(()=>{if(U||_!=="timetable"||!A||A.length===0)return;const se=A.filter(xe=>xe.scheduleType!=="custom").map(xe=>W(xe.subjectId??0)).filter(xe=>!!xe),J=zJ(se);d(J)},[_,A,U,g]),T.useEffect(()=>{_==="random"&&d(BJ(i,f.departmentName))},[_,f]),T.useEffect(()=>{if(_!=="previous"||!b||b.snapshot_id<0||s)return;const se=b.subjects.map(J=>J.subject_id).map(J=>W(J)).filter(J=>!!J);d(se)},[_,b,s]),c.jsx(tn,{title:"   ",onClose:()=>t(!1),children:c.jsxs("div",{className:"flex flex-col overflow-y-auto max-h-[90vh] w-[600px] max-w-[90vw]",children:[c.jsxs("div",{className:"flex flex-col gap-2 p-2 sm:p-4",children:[c.jsx(wn,{children:"  ?"}),c.jsxs("div",{className:"flex gap-2 py-2",children:[b&&c.jsx(yn,{label:" ",selected:_==="previous",onClick:()=>B("previous")}),c.jsx(yn,{label:" ",selected:_==="timetable",onClick:()=>B("timetable")}),c.jsx(yn,{label:" ",selected:_==="random",onClick:()=>B("random")})]}),_==="timetable"&&c.jsx(AJ,{timetables:e,selectedTimetable:g,onSelect:O}),_==="random"&&c.jsx(RJ,{department:f,setDepartment:p}),c.jsx(UJ,{isLoadingLectures:s,subjects:u,handleRemakeSubjects:_==="random"?V:void 0}),k&&c.jsx(OJ,{})]}),c.jsx(HJ,{simulationSubjects:u,handleStartGame:I,setToggleTip:P})]})})}function QJ(e,t,n,r,i,s){const a=Math.floor((e+t)/n);let o=r,u=0;for(let d=0;d<=a;d++){const f=d*n;let p=i,g=s;f>4&&(p=48,g=33),o+=p,u+=g}return Math.max(Math.round(o-u),0)}function KJ(){const[e,t]=T.useState(0),[n,r]=T.useState(0),[i,s]=T.useState(1),[a,o]=T.useState(0),u=T.useRef(null),d=nr(C=>C.closeModal),f=yi(C=>C.currentSimulation),p=yi(C=>C.setCurrentSimulation),g=.2,y=98,b=79;T.useEffect(()=>{let C=Math.floor(f.clickedTime/.2)*100+124;const k=C/b*g;for(let P=0;P<=Math.floor(f.clickedTime/g);P++)C+=P*y;r(C),t(Math.ceil(k))},[]),T.useEffect(()=>(u.current=setInterval(()=>{o(k=>{const P=k+1,A=QJ(P,f.clickedTime,g,i,y,b);return s(A),P});const C=Math.floor((e+f.clickedTime)/.2)*b;n<0?r(0):r(k=>k-C),t(k=>{const P=Math.max(k-1,0);return P===0&&u.current&&(clearInterval(u.current),d()),P})},1e3),()=>{u.current&&clearInterval(u.current)}),[e]);const _=()=>{p({simulationStatus:"before"}),d()};return c.jsx(Zt.Modal,{noBorder:!0,children:c.jsxs("div",{className:"bg-white p-6 text-center space-y-6 max-w-md",children:[c.jsxs("h2",{className:"text-lg md:text-xl font-semibold text-gray-800",children:[" ",c.jsx("span",{className:"text-blue-600 font-bold",children:" "}),"."]}),c.jsxs("div",{className:"text-sm md:text-base text-gray-600",children:[": ",c.jsx("span",{className:"text-blue-600 font-bold text-xl",children:e}),""]}),c.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-blue-500 transition-all duration-300",style:{width:`${a/(e+a)*100}%`}})}),c.jsxs("div",{className:"text-gray-700 text-sm md:text-base leading-relaxed",children:["  ",c.jsx("span",{className:"text-green-600 font-bold text-xl",children:n<0?0:n}),",  ",c.jsx("span",{className:"text-green-600 font-bold text-xl",children:i}),"  . ",c.jsx("br",{}),"     ,      ."]}),c.jsxs("button",{className:"inline-flex items-center justify-center border-2 border-gray-400 text-gray-800 px-2 py-1 hover:bg-gray-100",onClick:_,children:[c.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),""]}),c.jsx("p",{className:"text-xs md:text-sm text-gray-500",children:"    ."})]})})}var C1,a4;function GJ(){return a4||(a4=1,C1=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var a=s[i];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n}),C1}var YJ=GJ();const JJ=ts(YJ);var qp={exports:{}},j1,o4;function XJ(){if(o4)return j1;o4=1;var e;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/return e=function(){var t={},n={};return t.on=function(r,i){var s={name:r,handler:i};return n[r]=n[r]||[],n[r].unshift(s),s},t.off=function(r){var i=n[r.name].indexOf(r);i!==-1&&n[r.name].splice(i,1)},t.trigger=function(r,i){var s=n[r],a;if(s)for(a=s.length;a--;)s[a].handler(i)},t},j1=e,j1}var Wp={exports:{}},k1,l4;function ZJ(){if(l4)return k1;l4=1,k1=function(i,s,a){var o=document.head||document.getElementsByTagName("head")[0],u=document.createElement("script");typeof s=="function"&&(a=s,s={}),s=s||{},a=a||function(){},u.type=s.type||"text/javascript",u.charset=s.charset||"utf8",u.async="async"in s?!!s.async:!0,u.src=i,s.attrs&&e(u,s.attrs),s.text&&(u.text=""+s.text);var d="onload"in u?t:n;d(u,a),u.onload||t(u,a),o.appendChild(u)};function e(r,i){for(var s in i)r.setAttribute(s,i[s])}function t(r,i){r.onload=function(){this.onerror=this.onload=null,i(null,r)},r.onerror=function(){this.onerror=this.onload=null,i(new Error("Failed to load "+this.src),r)}}function n(r,i){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,i(null,r))}}return k1}var u4;function eX(){return u4||(u4=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=ZJ(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default=function(s){var a=new Promise(function(o){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){o(window.YT);return}else{var u=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(u+"//www.youtube.com/iframe_api",function(f){f&&s.trigger("error",f)})}var d=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){d&&d(),o(window.YT)}});return a},e.exports=t.default})(Wp,Wp.exports)),Wp.exports}var Qp={exports:{}},Kp={exports:{}},Gp={exports:{}},E1,c4;function tX(){if(c4)return E1;c4=1;var e=1e3,t=e*60,n=t*60,r=n*24,i=r*365.25;E1=function(d,f){f=f||{};var p=typeof d;if(p==="string"&&d.length>0)return s(d);if(p==="number"&&isNaN(d)===!1)return f.long?o(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function s(d){if(d=String(d),!(d.length>100)){var f=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(d);if(f){var p=parseFloat(f[1]),g=(f[2]||"ms").toLowerCase();switch(g){case"years":case"year":case"yrs":case"yr":case"y":return p*i;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function a(d){return d>=r?Math.round(d/r)+"d":d>=n?Math.round(d/n)+"h":d>=t?Math.round(d/t)+"m":d>=e?Math.round(d/e)+"s":d+"ms"}function o(d){return u(d,r,"day")||u(d,n,"hour")||u(d,t,"minute")||u(d,e,"second")||d+" ms"}function u(d,f,p){if(!(d<f))return d<f*1.5?Math.floor(d/f)+" "+p:Math.ceil(d/f)+" "+p+"s"}return E1}var d4;function nX(){return d4||(d4=1,(function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=u,t.disable=a,t.enable=s,t.enabled=o,t.humanize=tX(),t.names=[],t.skips=[],t.formatters={};var n;function r(d){var f=0,p;for(p in d)f=(f<<5)-f+d.charCodeAt(p),f|=0;return t.colors[Math.abs(f)%t.colors.length]}function i(d){function f(){if(f.enabled){var p=f,g=+new Date,y=g-(n||g);p.diff=y,p.prev=n,p.curr=g,n=g;for(var b=new Array(arguments.length),_=0;_<b.length;_++)b[_]=arguments[_];b[0]=t.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");var C=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,function(P,A){if(P==="%%")return P;C++;var U=t.formatters[A];if(typeof U=="function"){var V=b[C];P=U.call(p,V),b.splice(C,1),C--}return P}),t.formatArgs.call(p,b);var k=f.log||t.log||console.log.bind(console);k.apply(p,b)}}return f.namespace=d,f.enabled=t.enabled(d),f.useColors=t.useColors(),f.color=r(d),typeof t.init=="function"&&t.init(f),f}function s(d){t.save(d),t.names=[],t.skips=[];for(var f=(typeof d=="string"?d:"").split(/[\s,]+/),p=f.length,g=0;g<p;g++)f[g]&&(d=f[g].replace(/\*/g,".*?"),d[0]==="-"?t.skips.push(new RegExp("^"+d.substr(1)+"$")):t.names.push(new RegExp("^"+d+"$")))}function a(){t.enable("")}function o(d){var f,p;for(f=0,p=t.skips.length;f<p;f++)if(t.skips[f].test(d))return!1;for(f=0,p=t.names.length;f<p;f++)if(t.names[f].test(d))return!0;return!1}function u(d){return d instanceof Error?d.stack||d.message:d}})(Gp,Gp.exports)),Gp.exports}var h4;function rX(){return h4||(h4=1,(function(e,t){var n={};t=e.exports=nX(),t.log=s,t.formatArgs=i,t.save=a,t.load=o,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:u(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(d){try{return JSON.stringify(d)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}};function i(d){var f=this.useColors;if(d[0]=(f?"%c":"")+this.namespace+(f?" %c":" ")+d[0]+(f?"%c ":" ")+"+"+t.humanize(this.diff),!!f){var p="color: "+this.color;d.splice(1,0,p,"color: inherit");var g=0,y=0;d[0].replace(/%[a-zA-Z%]/g,function(b){b!=="%%"&&(g++,b==="%c"&&(y=g))}),d.splice(y,0,p)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(d){try{d==null?t.storage.removeItem("debug"):t.storage.debug=d}catch{}}function o(){var d;try{d=t.storage.debug}catch{}return!d&&typeof process<"u"&&"env"in process&&(d=n.DEBUG),d}t.enable(o());function u(){try{return window.localStorage}catch{}}})(Kp,Kp.exports)),Kp.exports}var Yp={exports:{}},f4;function iX(){return f4||(f4=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default})(Yp,Yp.exports)),Yp.exports}var Jp={exports:{}},p4;function sX(){return p4||(p4=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default})(Jp,Jp.exports)),Jp.exports}var Xp={exports:{}},Zp={exports:{}},m4;function aX(){return m4||(m4=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default})(Zp,Zp.exports)),Zp.exports}var g4;function oX(){return g4||(g4=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=aX(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default})(Xp,Xp.exports)),Xp.exports}var y4;function lX(){return y4||(y4=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=rX(),r=f(n),i=iX(),s=f(i),a=sX(),o=f(a),u=oX(),d=f(u);function f(y){return y&&y.__esModule?y:{default:y}}var p=(0,r.default)("youtube-player"),g={};g.proxyEvents=function(y){var b={},_=function(O){var B="on"+O.slice(0,1).toUpperCase()+O.slice(1);b[B]=function(W){p('event "%s"',B,W),y.trigger(O,W)}},C=!0,k=!1,P=void 0;try{for(var A=o.default[Symbol.iterator](),U;!(C=(U=A.next()).done);C=!0){var V=U.value;_(V)}}catch(I){k=!0,P=I}finally{try{!C&&A.return&&A.return()}finally{if(k)throw P}}return b},g.promisifyPlayer=function(y){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_={},C=function(B){b&&d.default[B]?_[B]=function(){for(var W=arguments.length,F=Array(W),se=0;se<W;se++)F[se]=arguments[se];return y.then(function(J){var xe=d.default[B],G=J.getPlayerState(),$=J[B].apply(J,F);return xe.stateChangeRequired||Array.isArray(xe.acceptableStates)&&xe.acceptableStates.indexOf(G)===-1?new Promise(function(ee){var Z=function X(){var pe=J.getPlayerState(),M=void 0;typeof xe.timeout=="number"&&(M=setTimeout(function(){J.removeEventListener("onStateChange",X),ee()},xe.timeout)),Array.isArray(xe.acceptableStates)&&xe.acceptableStates.indexOf(pe)!==-1&&(J.removeEventListener("onStateChange",X),clearTimeout(M),ee())};J.addEventListener("onStateChange",Z)}).then(function(){return $}):$})}:_[B]=function(){for(var W=arguments.length,F=Array(W),se=0;se<W;se++)F[se]=arguments[se];return y.then(function(J){return J[B].apply(J,F)})}},k=!0,P=!1,A=void 0;try{for(var U=s.default[Symbol.iterator](),V;!(k=(V=U.next()).done);k=!0){var I=V.value;C(I)}}catch(O){P=!0,A=O}finally{try{!k&&U.return&&U.return()}finally{if(P)throw A}}return _},t.default=g,e.exports=t.default})(Qp,Qp.exports)),Qp.exports}var x4;function uX(){return x4||(x4=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},r=XJ(),i=d(r),s=eX(),a=d(s),o=lX(),u=d(o);function d(p){return p&&p.__esModule?p:{default:p}}var f=void 0;t.default=function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,b=(0,i.default)();if(f||(f=(0,a.default)(b)),g.events)throw new Error("Event handlers cannot be overwritten.");if(typeof p=="string"&&!document.getElementById(p))throw new Error('Element "'+p+'" does not exist.');g.events=u.default.proxyEvents(b);var _=new Promise(function(k){if((typeof p>"u"?"undefined":n(p))==="object"&&p.playVideo instanceof Function){var P=p;k(P)}else f.then(function(A){var U=new A.Player(p,g);return b.on("ready",function(){k(U)}),null})}),C=u.default.promisifyPlayer(_,y);return C.on=b.on,C.off=b.off,C},e.exports=t.default})(qp,qp.exports)),qp.exports}var cX=uX();const dX=ts(cX);var hX=Object.defineProperty,fX=Object.defineProperties,pX=Object.getOwnPropertyDescriptors,v4=Object.getOwnPropertySymbols,mX=Object.prototype.hasOwnProperty,gX=Object.prototype.propertyIsEnumerable,b4=(e,t,n)=>t in e?hX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qx=(e,t)=>{for(var n in t||(t={}))mX.call(t,n)&&b4(e,n,t[n]);if(v4)for(var n of v4(t))gX.call(t,n)&&b4(e,n,t[n]);return e},Kx=(e,t)=>fX(e,pX(t)),yX=(e,t,n)=>new Promise((r,i)=>{var s=u=>{try{o(n.next(u))}catch(d){i(d)}},a=u=>{try{o(n.throw(u))}catch(d){i(d)}},o=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,a);o((n=n.apply(e,t)).next())});function xX(e,t){var n,r;if(e.videoId!==t.videoId)return!0;const i=((n=e.opts)==null?void 0:n.playerVars)||{},s=((r=t.opts)==null?void 0:r.playerVars)||{};return i.start!==s.start||i.end!==s.end}function w4(e={}){return Kx(Qx({},e),{height:0,width:0,playerVars:Kx(Qx({},e.playerVars),{autoplay:0,start:0,end:0})})}function vX(e,t){return e.videoId!==t.videoId||!JJ(w4(e.opts),w4(t.opts))}function bX(e,t){var n,r,i,s;return e.id!==t.id||e.className!==t.className||((n=e.opts)==null?void 0:n.width)!==((r=t.opts)==null?void 0:r.width)||((i=e.opts)==null?void 0:i.height)!==((s=t.opts)==null?void 0:s.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title}var wX={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},_X={videoId:Ot.string,id:Ot.string,className:Ot.string,iframeClassName:Ot.string,style:Ot.object,title:Ot.string,loading:Ot.oneOf(["lazy","eager"]),opts:Ot.objectOf(Ot.any),onReady:Ot.func,onError:Ot.func,onPlay:Ot.func,onPause:Ot.func,onEnd:Ot.func,onStateChange:Ot.func,onPlaybackRateChange:Ot.func,onPlaybackQualityChange:Ot.func},dm=class extends rn.Component{constructor(e){super(e),this.destroyPlayerPromise=void 0,this.onPlayerReady=t=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,t)},this.onPlayerError=t=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,t)},this.onPlayerStateChange=t=>{var n,r,i,s,a,o,u,d;switch((r=(n=this.props).onStateChange)==null||r.call(n,t),t.data){case dm.PlayerState.ENDED:(s=(i=this.props).onEnd)==null||s.call(i,t);break;case dm.PlayerState.PLAYING:(o=(a=this.props).onPlay)==null||o.call(a,t);break;case dm.PlayerState.PAUSED:(d=(u=this.props).onPause)==null||d.call(u,t);break}},this.onPlayerPlaybackRateChange=t=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,t)},this.onPlayerPlaybackQualityChange=t=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,t)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const t=Kx(Qx({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=dX(this.container,t),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var t;(t=this.internalPlayer)==null||t.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var t,n,r,i;if(typeof this.props.videoId>"u"||this.props.videoId===null){(t=this.internalPlayer)==null||t.stopVideo();return}let s=!1;const a={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(s=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(a.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(a.endSeconds=this.props.opts.playerVars.end)),s){(r=this.internalPlayer)==null||r.loadVideoById(a);return}(i=this.internalPlayer)==null||i.cueVideoById(a)},this.refContainer=t=>{this.container=t},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(e){return yX(this,null,function*(){bX(e,this.props)&&this.updatePlayer(),vX(e,this.props)&&(yield this.resetPlayer()),xX(e,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return rn.createElement("div",{className:this.props.className,style:this.props.style},rn.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},$g=dm;$g.propTypes=_X;$g.defaultProps=wX;$g.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var SX=$g;const _4=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M6 9L12 15L18 9",stroke:"#354052",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),CX="visitedTutorial",jX=1440*60*1e3,kX=7*jX,qm=fr()(tg(e=>({visitedAt:null,shouldSkipTutorial:!1,setVisited:()=>e({visitedAt:Date.now(),shouldSkipTutorial:!0}),resetVisited:()=>e({visitedAt:null,shouldSkipTutorial:!1})}),{name:CX,storage:Tv(()=>localStorage),onRehydrateStorage:()=>e=>{if(e){const t=Date.now();!e.visitedAt||t-e.visitedAt>kX?e.resetVisited():e.shouldSkipTutorial=!0}}})),T1=[{id:1,videoId:"BTNgos01s1o",title:"1:   "},{id:2,videoId:"yYq-sXZmS9I",title:"2:   "},{id:3,videoId:"mEi-n2kEs94",title:"3:  "},{id:4,videoId:"xmD5YuZtJv4",title:"4:    "}];function EX(){const[e,t]=T.useState(0),[n,r]=T.useState(!1),i=nr(C=>C.openModal),s=nr(C=>C.closeModal),o=bi()?{width:"250",height:"141"}:{width:"600",height:"338"},u=qm(C=>C.shouldSkipTutorial),d=qm(C=>C.setVisited);u&&i("wish");const f=()=>{t(C=>C===0?T1.length-1:C-1)},p=()=>{t(C=>C===T1.length-1?0:C+1)},g=()=>{n&&(d(),r(!0))},y=T1[e],b=()=>{s()},_=()=>{g(),s(),i("wish")};return c.jsx(tn,{title:" ",onClose:b,isOpen:!u,children:c.jsxs(tn.Content,{children:[c.jsxs(fe,{className:"w-full",direction:"flex-col",children:[c.jsx(Xt,{children:"        ."}),c.jsx("div",{className:"mx-auto",style:{width:o.width+"px",height:o.height+"px"},children:c.jsx(SX,{videoId:y.videoId,opts:{width:o.width,height:o.height,playerVars:{autoplay:1,mute:1,playlist:y.videoId}},onEnd:p})})]}),c.jsxs("div",{className:"mt-4 flex flex-col justify-center items-center gap-2",children:[c.jsxs(fe,{justify:"justify-center",align:"items-center",className:"gap-4",children:[c.jsx(ct,{variant:"text",size:"medium","aria-label":" ",onClick:f,children:e!==0&&c.jsx(_4,{className:"w-5 h-5 transform rotate-90"})}),c.jsx(mt,{level:3,children:y.title}),c.jsx(ct,{variant:"text",size:"medium","aria-label":" ",onClick:p,children:e<3&&c.jsx(_4,{className:"w-5 h-5 transform -rotate-90"})})]}),c.jsx(Xt,{children:"     ,   ,         ."}),c.jsxs(Zt.Modal.ButtonContainer,{className:"mt-4",children:[c.jsx(Ih,{label:"   ",checked:n,onChange:()=>r(!n)}),c.jsx(ct,{variant:"primary",size:"medium",onClick:_,children:" "})]})]})]})})}function S8(e){if(!e)return"-";const t=e.split("/");return t[0]=Number.parseFloat(t[0]).toFixed(1),t.join("/")}function TX(e){return e===-1?"":e}const NX=[{header:"",cell:(e,t)=>t+1},{header:"",cell:e=>c.jsx(OX,{subjectId:e.subjectId})},{header:"",cell:e=>e.subjectCode},{header:"",cell:e=>e.classCode},{header:"",cell:e=>c.jsx("div",{className:"text-left",children:e.departmentName})},{header:"",cell:e=>c.jsx("div",{className:"text-left",children:e.subjectName})},{header:"",cell:()=>c.jsx("div",{className:"flex justify-center",children:c.jsx(Zt.Button,{size:"sm",variant:"dark",children:""})})},{header:"",cell:e=>e.language},{header:"//",cell:e=>S8(e.tm_num)},{header:"",cell:e=>e.subjectType},{header:"",cell:e=>TX(e.semester_at)},{header:"",cell:e=>e.lesn_time},{header:"",cell:()=>c.jsx("div",{className:"flex justify-center",children:c.jsx(Zt.Button,{size:"sm",variant:"dark",children:""})})}],PX=()=>{const e=yi(r=>r.currentSimulation),t=nr(r=>r.type),n=e.simulationStatus==="progress"&&t!=="waiting"?e.nonRegisteredSubjects:[];return c.jsx(Zt.DataTable,{columns:NX,data:n,keyInfo:"subjectId"})},OX=({subjectId:e})=>{const t=nr(s=>s.openModal),n=vg(s=>s.setCurrentSubjectId),{data:r}=iu(),i=s=>{Ta({eventType:tr.APPLY,subjectId:s},r).then(a=>{"errMsg"in a&&alert(a.errMsg)}).catch(a=>{console.error(" :",a)}),n(s),t("captcha")};return c.jsx("div",{className:"flex justify-center",children:c.jsx(Zt.Button,{size:"sm",onClick:()=>i(e),children:""})})},RX=[{header:"",cell:(e,t)=>t+1},{header:"",cell:()=>c.jsx(Zt.Button,{size:"sm",children:""})},{header:"",cell:e=>e.subjectCode},{header:"",cell:e=>e.classCode},{header:"",cell:e=>c.jsx("div",{className:"text-left",children:e.departmentName})},{header:"",cell:e=>c.jsx("div",{className:"text-left",children:e.subjectName})},{header:"",cell:()=>c.jsx(Zt.Button,{size:"sm",variant:"dark",children:""})},{header:"",cell:e=>e.language},{header:"//",cell:e=>S8(e.tm_num)},{header:"",cell:e=>e.subjectType},{header:"",cell:()=>"-"},{header:"",cell:e=>e.lesn_time},{header:"",cell:()=>c.jsx(Zt.Button,{size:"sm",variant:"dark",children:""})}],AX=()=>{const e=yi(r=>r.currentSimulation),t=nr(r=>r.type),n=e.simulationStatus==="progress"&&t!=="waiting"?e.registeredSubjects:[];return c.jsx(Zt.DataTable,{columns:RX,data:n,keyInfo:"subjectId"})};function Db(){const e=yi(a=>a.setCurrentSimulation),t=yi(a=>a.currentSimulation),n=nr(a=>a.openModal),{data:r}=iu(),i=(a,o,u)=>{const d=a.map(f=>Wx(r,f.subjectId)).filter(f=>f!==void 0);e({simulationId:u,[o]:d}),t.simulationStatus==="progress"&&n("waiting")};return{reloadSimulationStatus:()=>{YF().then(a=>{!a||a.simulationId===-1||(e({simulationId:a.simulationId}),a?.nonRegisteredSubjects&&i(a.nonRegisteredSubjects,"nonRegisteredSubjects",a.simulationId),a?.registeredSubjects&&i(a.registeredSubjects,"registeredSubjects",a.simulationId))}).catch(a=>{console.log(a)})}}}const IX=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M9.5 16C7.68333 16 6.146 15.3707 4.888 14.112C3.63 12.8533 3.00067 11.316 3 9.5C2.99933 7.684 3.62867 6.14667 4.888 4.888C6.14733 3.62933 7.68467 3 9.5 3C11.3153 3 12.853 3.62933 14.113 4.888C15.373 6.14667 16.002 7.684 16 9.5C16 10.2333 15.8833 10.925 15.65 11.575C15.4167 12.225 15.1 12.8 14.7 13.3L20.3 18.9C20.4833 19.0833 20.575 19.3167 20.575 19.6C20.575 19.8833 20.4833 20.1167 20.3 20.3C20.1167 20.4833 19.8833 20.575 19.6 20.575C19.3167 20.575 19.0833 20.4833 18.9 20.3L13.3 14.7C12.8 15.1 12.225 15.4167 11.575 15.65C10.925 15.8833 10.2333 16 9.5 16ZM9.5 14C10.75 14 11.8127 13.5627 12.688 12.688C13.5633 11.8133 14.0007 10.7507 14 9.5C13.9993 8.24933 13.562 7.187 12.688 6.313C11.814 5.439 10.7513 5.00133 9.5 5C8.24867 4.99867 7.18633 5.43633 6.313 6.313C5.43967 7.18967 5.002 8.252 5 9.5C4.998 10.748 5.43567 11.8107 6.313 12.688C7.19033 13.5653 8.25267 14.0027 9.5 14Z",fill:"white"}));function LX(){const{setCurrentSimulation:e,currentSimulation:t,resetSimulation:n}=yi(),r=nr(b=>b.openModal),i=Dc(xh),{reloadSimulationStatus:s}=Db(),{data:a}=iu(),u=(i&&"simulationId"in i?i.simulationId:-1)!==-1,d=i&&"userStatus"in i?i.userStatus?.departmentName:-1,f=()=>{e({simulationStatus:"before"}),r("tutorial"),n()},p=()=>{xh().then(b=>{b&&"simulationId"in b&&b.simulationId!==-1&&s()})},g=async()=>{p(),Ta({eventType:tr.SEARCH},a).then(b=>{if("errMsg"in b)alert("  .    !");else{const _=b.elapsed_time/1e3;e({simulationStatus:"progress",clickedTime:_>10?5:_}),r("waiting")}}).catch(b=>{console.error(" :",b)})},y=async()=>{try{await gc(),e({simulationStatus:"finish"}),r("result")}catch(b){console.error(b),alert("  .")}};return c.jsx("section",{className:"border p-2 text-xs",children:c.jsxs("div",{className:"flex flex-col gap-1 sm:gap-2",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 sm:gap-8",children:[c.jsx("div",{className:"flex justify-end items-center sm:justify-start gap-2",children:c.jsx(Xu,{id:"organization-type",label:" ",className:"w-48",essential:!0,disabled:!0,children:c.jsx("option",{})})}),c.jsx("div",{className:"flex justify-end items-center sm:justify-start gap-2",children:c.jsx(Xu,{id:"semester-type",label:"/",className:"w-48",essential:!0,disabled:!0,children:c.jsx("option",{})})})]}),c.jsx("div",{className:"flex flex-col justify-between sm:flex-row gap-1 sm:gap-8",children:c.jsxs("div",{className:"flex flex-col sm:items-end sm:flex-row gap-2 ",children:[c.jsx("div",{className:"flex items-center justify-end sm:justify-start gap-2",children:c.jsx(Xu,{id:"my-major-department",label:"()",className:"w-48",disabled:!0,children:c.jsx("option",{children:""})})}),c.jsx("div",{className:"flex items-center justify-end sm:justify-start gap-2",children:c.jsx(Xu,{id:"my-sub-department",label:"()",className:"w-48",disabled:!0,children:c.jsx("option",{children:""})})})]})}),c.jsxs("div",{className:"flex flex-col sm:flex-col md:flex-row justify-between gap-2",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[c.jsx("div",{className:"flex justify-end items-center sm:justify-start gap-2",children:c.jsx(Xu,{id:"search-division",label:"",className:"w-48",essential:!0,disabled:!0,children:c.jsx("option",{children:""})})}),c.jsxs("div",{className:"flex justify-end items-center sm:justify-start gap-1",children:[c.jsx("label",{htmlFor:"search-major",className:"font-bold",children:""}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-1",children:[c.jsx(Zt.Select,{id:"search-major",className:"w-48 sm:w-30",essential:!0,disabled:!0,children:c.jsx("option",{children:""})}),c.jsx(Xu,{id:"search-department",label:" ",className:"w-40 lg:w-90",value:d,disabled:!0,hideLabel:!0})]})]})]}),c.jsxs("div",{className:"flex flex-row justify-between gap-2",children:[c.jsx("div",{className:"flex flex-row ",children:u?c.jsx(Zt.Button,{variant:"cancel",onClick:y,children:" "}):c.jsx(Zt.Button,{variant:"primary",onClick:f,children:""})}),c.jsxs("button",{onClick:g,className:`relative px-3 py-2 rounded flex flex-row items-center gap-1 text-white ${u?"bg-gradient-animation cursor-pointer":"bg-gray-400 cursor-not-allowed"}`,disabled:!u,children:[t.simulationStatus==="start"&&c.jsx(xv,{className:"absolute -top-20 right-8 w-15 h-15 animate-bounce rotate-170"}),c.jsx(IX,{className:"w-5 h-4"}),""]})]})]})]})})}function Xu({label:e,hideLabel:t=!1,children:n,id:r,className:i,...s}){const a=r||"muted-select-"+e;return c.jsxs(c.Fragment,{children:[c.jsx("label",{htmlFor:a,className:t?"hidden":"font-bold",children:e}),c.jsx(Zt.Select,{id:a,...s,className:i,children:n})]})}function DX(){const[e,t]=T.useState("00:00"),n=nr(u=>u.openModal),r=yi(u=>u.currentSimulation),i=yi(u=>u.setCurrentSimulation),s=T.useRef(null),a=u=>{const d=Math.floor(u%3600/60),f=u%60;t(`${d.toString().padStart(2,"0")}:${f.toString().padStart(2,"0")}`)},o=async()=>{try{await gc(),i({simulationStatus:"finish"}),n("result")}catch(u){console.error(u),alert("   .")}};return T.useEffect(()=>((async()=>{if(r.simulationStatus==="finish"){t("00:00");return}try{const d=await bg();if(!(d?.started_at&&d.simulation_run_id===r.simulationId))return;const p=d.started_at;s.current=setInterval(()=>{const g=Date.now(),y=Math.floor((g-p)/1e3);if(y>=Zv){clearInterval(s.current),alert("5    ."),o().then();return}a(y),r.simulationStatus==="finish"&&(clearInterval(s.current),t("00:00"))},1e3)}catch(d){console.error(d)}})().then(),()=>{s.current&&(clearInterval(s.current),s.current=null)}),[r.simulationStatus,r.simulationId]),c.jsx("p",{className:"font-semibold text-xl text-blue-500",children:e})}function MX({onClick:e}){const t=qm(i=>i.shouldSkipTutorial),n=qm(i=>i.resetVisited),r=()=>{n(),e&&e()};return t&&c.jsx("button",{className:"text-gray-600 hover:text-blue-500 cursor-pointer",onClick:r,children:" "})}function FX(){const e=nr(o=>o.openModal),t=yi(o=>o.currentSimulation),n=yi(o=>o.setCurrentSimulation),{reloadSimulationStatus:r}=Db(),i=async()=>{try{await gc(),n({simulationStatus:"finish"}),alert("5    ."),e("result")}catch(o){console.error(o),alert("   .")}},s=()=>{xh().then(o=>{if(o&&"simulationId"in o&&o.simulationId!==-1){const u=o.startedAt;if(!u)return;const d=Date.now();Math.floor((d-u)/1e3)>Zv?i().then():r()}else t.simulationStatus==="before"&&e("tutorial")})};T.useEffect(()=>{s()},[t.simulationStatus]);const a=t.registeredSubjects.reduce((o,u)=>{const d=u.tm_num.split("/")[0];return o+Number.parseInt(d,10)},0);return c.jsxs(c.Fragment,{children:[c.jsxs(Un,{children:[c.jsx("title",{children:"ALLCLL |  -   "}),c.jsx("meta",{name:"description",content:"       !"})]}),c.jsx(BX,{}),c.jsxs("div",{className:"flex justify-between gap-5",children:[c.jsxs("div",{className:"flex gap-5",children:[c.jsx("h1",{className:"font-bold text-lg",children:" "}),c.jsx(DX,{})]}),c.jsx(MX,{onClick:()=>e("tutorial")})]}),c.jsx(LX,{}),c.jsxs("section",{className:"mt-4 ",children:[c.jsx("div",{className:"mb-2",children:c.jsx(Zt.SectionHeader,{children:"  "})}),c.jsx(PX,{})]}),c.jsxs("section",{className:"mt-4",children:[c.jsxs("div",{className:"w-full flex flex-col sm:flex-row sm:items-center justify-start gap-2 mb-2",children:[c.jsx(Zt.SectionHeader,{children:"  "}),c.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[c.jsx(Zt.Button,{size:"sm",onClick:r,children:""}),c.jsxs("span",{className:"text-xs font-bold text-black",children:["  : 18 /",c.jsxs("span",{className:"text-blue-500",children:[" : ",t.registeredSubjects.length," /  : ",a]})]})]})]}),c.jsx(AX,{})]})]})}function BX(){const e=yi(a=>a.currentSimulation),{type:t,closeModal:n}=nr(),{reloadSimulationStatus:r}=Db(),{data:i}=Zl("timetable"),{data:s=[]}=XC(i?.semesterCode??es.semesterCode);switch(t){case"tutorial":return c.jsx(EX,{});case"waiting":return c.jsx(KJ,{});case"captcha":return c.jsx(bJ,{});case"wish":return c.jsx(WJ,{timetables:s,setIsModalOpen:()=>n()});case"simulation":return c.jsx(CJ,{reloadSimulationStatus:r});case"result":return c.jsx(PJ,{simulationId:e.simulationId});default:return null}}As.register($h,Hh,Uh,Gv,Pc,sj,Qo,Wo);function zX({result:e}){const[t,n]=T.useState(!0),r=t?e.simulations.filter(g=>g.totalTime<=80&&g.searchBtnTime>0):e.simulations,i=r.map((g,y)=>` ${y+1}`),s=r.map(g=>g.searchBtnTime),a=r.map(g=>g.captchaTime-g.searchBtnTime),o=r.map(g=>g.subjectTime-g.captchaTime),u=r.map(g=>g.totalTime-g.subjectTime),d=r&&r.length<50?16:8,f={labels:i,datasets:[{type:"bar",label:"  ",data:s,barThickness:d,backgroundColor:"rgba(75, 192, 192, 0.7)",stack:"Stack 0"},{type:"bar",label:"   ",data:a,barThickness:d,backgroundColor:"rgba(255, 99, 132, 0.7)",stack:"Stack 0"},{type:"bar",label:"  ",data:o,barThickness:d,backgroundColor:"rgba(54, 162, 235, 0.7)",stack:"Stack 0"},{type:"bar",label:" ",data:u,barThickness:d,backgroundColor:"rgba(153, 102, 255, 0.7)",stack:"Stack 0"},{type:"line",label:" ",data:s,borderColor:"rgba(75, 192, 192, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(75, 192, 192, 1)",fill:!1,tension:.1},{type:"line",label:" ",data:a,borderColor:"rgba(255, 99, 132, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(255, 99, 132, 1)",fill:!1,tension:.1},{type:"line",label:"  ",data:o,borderColor:"rgba(54, 162, 235, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(54, 162, 235, 1)",fill:!1,tension:.1},{type:"line",label:"  ",data:u,borderColor:"rgba(153, 102, 255, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(153, 102, 255, 1)",fill:!1,tension:.1}]},p={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(g){const y=g.dataset.label||"",b=g.parsed.y;return`${y}: ${b.toFixed(2)}`}}}},scales:{x:{title:{display:!0,text:""}},y:{stacked:!0,title:{display:!0,text:" ()"},ticks:{callback:function(g){return(Ql(g)?g.toFixed(1):g)+""}}}}};return c.jsxs("div",{className:"w-full h-96 p-4 box-border",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("div",{}),c.jsxs("div",{className:"text-lg font-semibold",children:[c.jsx("input",{id:"normal-data",type:"checkbox",className:"cursor-pointer",onChange:g=>n(g.target.checked),checked:t}),c.jsx("label",{htmlFor:"normal-data",className:"text-sm pl-2 cursor-pointer",children:" "})]})]}),c.jsx("div",{className:"h-full pb-6 overflow-x-auto",children:c.jsx(hj,{type:"bar",data:f,options:p})})]})}function UX({result:e}){const{data:t}=ta(),n=T.useMemo(()=>$X(t,e.subjects),[t,e]);return c.jsxs("table",{className:"min-w-full text-sm text-center text-nowrap",children:[c.jsx("thead",{className:"bg-gray-100 text-gray-600",children:c.jsxs("tr",{children:[c.jsx("th",{className:"py-2 px-2",children:""}),c.jsx("th",{className:"py-2 px-2",children:""}),c.jsx("th",{className:"py-2 px-2",children:""}),c.jsx("th",{className:"py-2 px-2",children:""}),c.jsx("th",{className:"py-2 px-2",children:""}),c.jsx("th",{className:"py-2 px-2",children:"/"})]})}),c.jsx("tbody",{className:"text-gray-700",children:n.map(r=>c.jsxs("tr",{className:"border-t border-gray-200",children:[c.jsx("td",{className:"py-2 px-1",children:r.subjectCode+"-"+r.classCode}),c.jsx("td",{className:"py-2 px-1",children:r.subjectName}),c.jsx("td",{className:"py-2 px-1",children:r.professorName}),c.jsx("td",{className:"py-2 px-1",children:r.avgIndex.toFixed(2)}),c.jsx("td",{className:"py-2 px-1",children:r.avgCompletionTime.toFixed(2)+" sec"}),c.jsxs("td",{className:"py-2 px-2",children:[c.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-green-500",children:r.successCount}),"/",c.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-red-500",children:r.failedCount}),"/",c.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-gray-500",children:r.doubledCount}),"/",c.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-black",children:r.totalCount})]})]},r.subjectId))})]})}function $X(e,t){if(!t||!e)return[];const n=r=>e.find(i=>i.subjectId===r);return t.map(r=>{const i=n(r.subjectId);return{...r,subjectName:i?.subjectName||"",departmentName:i?.departmentName||"",departmentCode:i?.departmentCode||"",subjectCode:i?.subjectCode||"",classCode:i?.classCode||"",professorName:i?.professorName||null}})}function HX(){const e=Dc(async()=>{try{return await v8()}catch(r){return{error:r.message}}});if(e&&"error"in e)return c.jsxs("div",{className:"flex flex-col w-full items-center justify-center h-120 gap-3",children:[c.jsx(qh,{className:"h-12 w-12"}),c.jsx("div",{className:"text-center text-gray-500",children:e.error}),c.jsx(Sr,{to:"/simulation",className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 cursor-pointer",children:"  "})]});const{simulations:t}=e||{simulations:[]},n=e?{user_ability:{searchBtnSpeed:t.reduce((r,i)=>r+i.searchBtnTime,0)/t.length||0,totalSpeed:t.reduce((r,i)=>r+i.totalTime/i.subjectCount,0)/t.length||0,accuracy:t.reduce((r,i)=>r+i.accuracy,0)/t.length||0,captchaSpeed:t.reduce((r,i)=>r+(i.captchaTime-i.searchBtnTime)/i.subjectCount,0)/t.length||0}}:void 0;return!n||!e?c.jsxs("div",{className:"flex flex-col w-full items-center justify-center h-120",children:[c.jsx("div",{className:"animate-spin h-16 w-16 mx-auto my-10",children:c.jsxs("svg",{className:"h-16 w-16 fill-transparent",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25 stroke-blue-500",cx:"12",cy:"12",r:"10",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75 fill-blue-500",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2.93 6.243A8.001 8.001 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3.93-1.695z"})]})}),c.jsxs("div",{className:"text-center text-gray-500 my-10",children:["    ... ",c.jsx("br",{})," "]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex gap-3 flex-wrap",children:[c.jsx("div",{className:"relative flex-1 min-w-[240px]",children:c.jsx(Xv,{result:n})}),c.jsx("div",{className:"flex-1 min-w-[240px] overflow-x-auto",children:c.jsx(UX,{result:e})})]}),c.jsx("div",{children:c.jsx(zX,{result:e})})]})}const VX=e=>T.createElement("svg",{width:26,height:26,viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M5.54964 1.99315C5.50209 1.17248 6.41035 0.64822 7.09733 1.0996L20.3806 9.83538C21.12 10.3219 20.9092 11.4586 20.0444 11.6476L15.7086 12.5948L21.1016 21.9358C21.3775 22.4141 21.2138 23.0258 20.7356 23.3019L17.8077 24.9923C17.3295 25.2684 16.7179 25.1043 16.4417 24.6263L11.0764 15.3334L8.21097 18.4797C7.61486 19.134 6.52521 18.7482 6.47343 17.8647L5.54964 1.99315Z",fill:"#0756FF"}));function qX(){return c.jsxs(c.Fragment,{children:[c.jsx("h1",{className:"text-2xl font-bold mb-2",children:"   "}),c.jsx("p",{className:"text-gray-500 mb-4",children:"    ."}),c.jsx(WX,{})]})}function WX(){const e=Dc(EJ),t=e?e.snapshots:[],n=e===void 0,r=e===null;return n?c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx("span",{className:"text-gray-500",children:" ..."})}):r?c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx("span",{className:"text-red-500",children:" "})}):t.length?t.map(i=>c.jsxs(Sr,{to:`/simulation/logs/${i.simulation_run_id}`,className:"flex items-center justify-between bg-white p-3 rounded-md text-sm shadow-md shadow-gray-300 mb-2 hover:bg-gray-100",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("p",{className:"hidden",children:"id"}),c.jsx("span",{className:"font-bold",children:i.simulation_run_id}),c.jsx("p",{className:"hidden",children:""}),c.jsx("span",{children:i.department_name?i.department_name.split(" ")[i.department_name.split(" ").length-1]:"  "})]}),c.jsxs("div",{className:"flex items-center text-center",children:[c.jsxs("div",{className:"",children:[c.jsx("p",{className:"text-xs",children:" "}),c.jsxs("span",{className:"text-sm font-bold",children:[i.accuracy,"%"]})]}),c.jsxs("div",{className:"flex items-center justify-end gap-1 w-20",children:[c.jsx("p",{className:"hidden",children:""}),c.jsx(VX,{className:"w-4 h-4"}),c.jsx("span",{className:"font-bold",children:i.score.toFixed(3)})]})]})]},"simulation-log-"+i.simulation_run_id)):c.jsx("div",{className:"flex justify-center items-center",children:c.jsx("span",{className:"text-gray-500",children:" "})})}function QX(){return c.jsxs(c.Fragment,{children:[c.jsxs(Un,{children:[c.jsx("title",{children:"ALLCLL |  -  "}),c.jsx("meta",{name:"description",content:"  ,    ."})]}),c.jsxs("section",{className:"max-w-7xl mx-auto",children:[c.jsx("h1",{className:"text-2xl font-bold mb-2",children:" "}),c.jsx("p",{className:"text-gray-500 mb-4",children:"   ,    ."}),c.jsx("div",{className:"bg-white p-3 rounded-md text-sm shadow-md shadow-gray-300",children:c.jsx(HX,{})})]}),c.jsx("section",{className:"max-w-3xl mx-auto mt-12",children:c.jsx(qX,{})})]})}const Th=32,S4=200;function KX({result:e}){const t=nZ(e),n=(e.ended_at-e.started_at)/1e3,r=Array.from({length:Math.floor(n)+5},(i,s)=>s+1);return c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"relative overflow-x-auto overflow-y-hidden",children:[c.jsx("div",{className:"absolute top-0 flex h-full",style:{left:`${S4}px`},children:r.map(i=>c.jsx("div",{className:"border-r border-gray-200 relative",style:{width:`${Th}px`},children:c.jsx("span",{className:"absolute text-xs text-gray-400 bg-white bottom-0 right-0 translate-x-1/2",children:i})},i))}),t.map((i,s)=>c.jsxs("div",{className:"flex items-center",style:{width:`${Th*r.length}px`},children:[c.jsxs("div",{className:"py-2 text-sm md:sticky left-0 right-0 z-10 bg-white",style:{width:`${S4}px`},children:[c.jsx("div",{className:`font-semibold ${eZ(i.color)}`,children:i.name}),c.jsx("span",{className:`text-xs ${ZX(i.color)}`,children:i.code})]}),c.jsx("div",{className:"flex-1 relative h-8",children:c.jsx(GX,{timelines:i.timelines})})]},"timeline-row-"+s))]}),c.jsx("div",{className:"pointer-events-none absolute inset-y-4 left-0 md:left-[200px] w-3 bg-gradient-to-r from-white to-transparent"}),c.jsx("div",{className:"pointer-events-none absolute inset-y-4 right-0 w-3 bg-gradient-to-l from-white to-transparent"})]})}function GX({timelines:e}){return e.map((t,n)=>{const r=t.start*Th-12,i=t.duration*Th+24;return c.jsx("div",{className:`absolute top-1 h-6 rounded-full px-3 ${JX(t.color)}`,style:{left:`${r}px`,width:`${i}px`},children:t.events.map((s,a)=>c.jsx(YX,{event:s,startAt:t.start,color:t.color,isTop:t.isTop},"timeline-dot-"+a))},"timeline-bar-"+n)})}function YX({event:e,startAt:t,color:n,isTop:r}){const i=(e.start-t)*Th+6,s=tZ(e.event),a=e.start,o=r?"top-4":"bottom-4";return c.jsxs("div",{className:"absolute top-1.5",style:{left:`${i}px`},children:[c.jsx("div",{className:`w-3 h-3 peer bg-white border-2 rounded-full hover:shadow cursor-pointer ${XX(n)}`}),c.jsxs("div",{className:`absolute z-10 ${o} left-1/2 -translate-x-1/2 px-2 py-1 rounded bg-black text-white text-nowrap text-xs text-center opacity-0 peer-hover:opacity-100 transition-opacity duration-200`,children:[s,c.jsx("br",{}),a.toFixed(2)," sec"]})]})}function JX(e){switch(e){case"green":return"bg-green-100 border-green-500 text-green-700";case"red":return"bg-red-100 border-red-500 text-red-700";case"orange":return"bg-orange-100 border-orange-500 text-orange-700";case"yellow":return"bg-yellow-100 border-yellow-500 text-yellow-700";default:return"bg-gray-100 border-gray-500 text-gray-700"}}function XX(e){switch(e){case"green":return"border-green-500 text-green-500 shadow-green-500";case"red":return"border-red-500 text-red-500 shadow-red-500";case"orange":return"border-orange-500 text-orange-500 shadow-orange-500";case"yellow":return"border-yellow-500 text-yellow-500 shadow-yellow-500";default:return"border-gray-500 text-gray-500 shadow-gray-500"}}function ZX(e){switch(e){case"green":return"text-green-500";case"red":return"text-red-500";case"orange":return"text-orange-500";case"yellow":return"text-yellow-500";default:return"text-gray-500"}}function eZ(e){switch(e){case"green":return"text-green-600";case"red":return"text-red-600";case"orange":return"text-orange-600";case"yellow":return"text-yellow-600";default:return"text-gray-600"}}function tZ(e){switch(e){case tr.SEARCH:return"  ";case tr.APPLY:return"  ";case tr.CAPTCHA:return"   ";case tr.SUBJECT_SUBMIT:return"   ";case tr.SKIP_REFRESH:return" ";case tr.REFRESH:return"  ";case tr.CANCEL_SUBMIT:return"  "}}function nZ(e){const{timeline:t,started_at:n,subject_results:r}=e;return r.map(i=>({name:i.subjectInfo?.subjectName,code:i.subjectInfo?.subjectCode+"-"+i.subjectInfo?.classCode,color:mx(i.status),timelines:t.filter(s=>s.subject_id===i.subject_id).map(s=>({color:mx(s.status),start:(s.started_at-n)/1e3,duration:(s.ended_at-s.started_at)/1e3,isTop:r[0].subject_id===s.subject_id,events:s.events.reduce((a,o,u)=>[...a,{event:o.event,duration:u==0?0:(o.timestamp-s.events[u-1].timestamp)/1e3,start:(o.timestamp-n)/1e3}],[])}))}))}function rZ({result:e}){const{subject_results:t,started_at:n}=e;return c.jsxs("table",{className:"min-w-full text-sm text-center text-nowrap",children:[c.jsx("thead",{className:"bg-gray-100 text-gray-600",children:c.jsxs("tr",{children:[c.jsx("th",{className:"py-2 px-2",children:""}),c.jsx("th",{className:"py-2 px-2",children:""}),c.jsx("th",{className:"py-2 px-2",children:""}),c.jsx("th",{className:"py-2 px-2",children:""}),c.jsx("th",{className:"py-2 px-2",children:""}),c.jsx("th",{className:"py-2 px-2",children:"/"})]})}),c.jsx("tbody",{className:"text-gray-700",children:t.map(r=>c.jsxs("tr",{className:"border-t border-gray-200",children:[c.jsx("td",{className:"py-2 px-1",children:r.subjectInfo?.subjectCode+"-"+r.subjectInfo?.classCode}),c.jsx("td",{className:"py-2 px-1",children:r.subjectInfo?.subjectName}),c.jsx("td",{className:"py-2 px-1",children:r.subjectInfo?.professorName}),c.jsx("td",{className:"py-2 px-1",children:r.selected_index}),c.jsx("td",{className:"py-2 px-1",children:((r.ended_at-n)/1e3).toFixed(2)+" sec"}),c.jsx("td",{className:"py-2 px-2",children:c.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${oB(r.status)}`,children:r.status===Ut.SUCCESS?"":""})})]},"subject-detail-row-"+r.subject_id))})]})}function iZ(){const{runId:e}=sC(),{data:t}=iu(),n=Dc(()=>TJ(Number(e))),r=T.useMemo(()=>sZ(t,n),[t,n]);return c.jsxs(c.Fragment,{children:[c.jsxs(Un,{children:[c.jsx("title",{children:"ALLCLL |  -   "}),c.jsx("meta",{name:"description",content:"  ,    ."})]}),c.jsx("h1",{className:"text-2xl font-bold mb-6",children:"   "}),c.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"relative bg-white p-6 rounded-2xl shadow-sm",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"  "}),r?c.jsx(Xv,{result:r}):c.jsx("div",{className:"text-center text-gray-500",children:"  ..."})]}),c.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm overflow-x-auto",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4 min-w-[240px] overflow-x-auto",children:"  "}),r?c.jsx(rZ,{result:r}):c.jsx("div",{className:"text-center text-gray-500",children:"  ..."})]})]}),c.jsxs("section",{className:"bg-white p-6 rounded-2xl shadow-sm",children:[c.jsx("div",{className:"flex items-start justify-between mb-4",children:c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"     TimeLine"})}),r?c.jsx(KX,{result:r}):c.jsx("div",{className:"text-center text-gray-500",children:"  ..."})]})]})}function sZ(e,t){if(!(!t||!e))return{...t,timeline:t.timeline.map(n=>({...n,subjectInfo:Wx(e,n.subject_id)})),subject_results:t.subject_results.map(n=>({...n,subjectInfo:Wx(e,n.subject_id)}))}}function aZ(){const e=Ba(),[t,n]=T.useState(!1),r=Es(u=>u.filters),i=Es(u=>u.setFilter),s=Es(u=>u.resetFilters),{data:a}=Rs(e),o=Kh(a??[]).sort((u,d)=>u.localeCompare(d)).map(u=>u);return c.jsxs(fe,{direction:"flex-wrap",align:"items-center",gap:"gap-2",className:"w-full",children:[c.jsx(hb,{handleOpenFilter:()=>n(!0)}),c.jsx(fb,{setFilter:i,selectedValue:r.department}),c.jsx(Fn,{filterKey:"days",options:gn.days,selectedValues:r.days??[],setFilter:i}),c.jsx(Fn,{filterKey:"credits",options:gn.credits,selectedValues:r.credits??[],setFilter:i}),c.jsx(Fn,{filterKey:"grades",options:gn.grades,selectedValues:r.grades??[],setFilter:i}),r.note?.length>0&&c.jsx(Fn,{filterKey:"note",options:gn.remark,selectedValues:r.note??[],setFilter:i}),r.categories?.length>0&&c.jsx(Fn,{filterKey:"categories",options:o,selectedValues:r.categories??[],setFilter:i}),r.classroom?.length>0&&c.jsx(Fn,{filterKey:"classroom",options:gn.classRoom,selectedValues:r.classroom??[],setFilter:i}),c.jsx(pb,{filters:r,resetFilter:s}),t&&c.jsx(mb,{filterStore:Es,onClose:()=>n(!1)})]})}function oZ(){const{openScheduleModal:e}=$r(),t=new gi().toUiData();return c.jsxs("div",{className:"flex flex-col items-center gap-3 pt-5",children:[c.jsx(jc,{title:"  .",description:"  ?   ."}),c.jsx(ct,{variant:"primary",size:"medium",onClick:()=>e(t),children:""})]})}function lZ({isActive:e,subject:t,onClick:n,forwardedRef:r}){const i=e?"text-blue-500 bg-blue-50":"text-gray-700 bg-white hover:bg-gray-50",{saveSchedule:s}=$r(),{selectTargetOnly:a}=Qh(),o=u=>{s(u,!1),a(t.subjectId),Eg(t.deptCd)};return c.jsx("button",{type:"button",className:`border border-gray-200 rounded-lg p-3 sm:p-4 gap-2 sm:gap-3 ${i} cursor-pointer w-full text-left`,onClick:n,ref:r,children:c.jsxs(fe,{direction:"flex-col",children:[c.jsxs(fe,{justify:"justify-between",align:"items-center",gap:"gap-2 ",children:[c.jsx(mt,{level:3,children:t.subjectName}),c.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:t.professorName})]}),c.jsxs(fe,{direction:"flex-col",justify:"justify-start",align:"items-start",gap:"gap-2 ",children:[c.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:t.lesnTime}),c.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:t.lesnRoom}),c.jsxs("span",{className:"text-xs sm:text-sm text-gray-500",children:[t.studentYear,"/",t.manageDeptNm]})]}),c.jsxs(fe,{justify:"justify-between",align:"items-center",children:[c.jsxs(Xi,{variant:"default",children:[t.tmNum[0],""]}),!e&&t.totalCount!==-1&&c.jsx(eb,{wishCount:t.totalCount??-1,formatter:u=>`: ${u}`}),e&&c.jsx(ct,{variant:"primary",size:"medium",onClick:o,children:""})]})]})})}var uZ={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function cZ(e){if(typeof e=="number")return{value:e,unit:"px"};var t,n=(e.match(/^[0-9.]*/)||"").toString();n.includes(".")?t=parseFloat(n):t=parseInt(n,10);var r=(e.match(/[^0-9]*$/)||"").toString();return uZ[r]?{value:t,unit:r}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}function C4(e){var t=cZ(e);return"".concat(t.value).concat(t.unit)}var dZ=function(e,t,n){var r="react-spinners-".concat(e,"-").concat(n);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,a=`
    @keyframes `.concat(r,` {
      `).concat(t,`
    }
  `);return s&&s.insertRule(a,0),r},Wm=function(){return Wm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Wm.apply(this,arguments)},hZ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},fZ=dZ("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function pZ(e){var t=e.loading,n=t===void 0?!0:t,r=e.color,i=r===void 0?"#000000":r,s=e.speedMultiplier,a=s===void 0?1:s,o=e.cssOverride,u=o===void 0?{}:o,d=e.size,f=d===void 0?35:d,p=hZ(e,["loading","color","speedMultiplier","cssOverride","size"]),g=Wm({background:"transparent !important",width:C4(f),height:C4(f),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(fZ," ").concat(.75/a,"s 0s infinite linear"),animationFillMode:"both"},u);return n?T.createElement("span",Wm({style:g},p)):null}function mZ({children:e}){return c.jsx("div",{className:"w-screen h-screen fixed top-0 left-0 flex items-center justify-center z-[12] bg-[rgba(93,92,92,0.05)]",children:e})}function C8(){return c.jsxs(mZ,{children:[c.jsx(pZ,{color:vv.primary[500],size:"60px","aria-label":"Loading Spinner","data-testid":"loader"}),c.jsx("p",{})]})}function j8({subjects:e,expandToMax:t,isPending:n=!1}){const{visibleRows:r,loadMoreRef:i}=Ig(e,"ref"),s=T.useRef(null),a=It(f=>f.schedule.subjectId),{openScheduleModal:o,cancelSchedule:u}=$r();if(n)return c.jsx(C8,{});if(!e.length)return c.jsx(oZ,{});const d=f=>{if(a===f.subjectId){u(void 0,!1);return}const p=new gi({...new gi().toApiData(),scheduleType:"official",subjectId:f.subjectId??-1},f);o(p.toUiData()),console.log("official",a);const b=new Nc(f.lesnTime).toUiData(9)[0]?.top;t&&(t(),setTimeout(()=>{if(b){const _=Number.parseFloat(b);window.scrollTo({top:_,behavior:"smooth"})}},400))};return c.jsxs(fe,{direction:"flex-col",justify:"justify-end",gap:"gap-2",children:[e.slice(0,r).map(f=>{const p=a===f.subjectId;return c.jsx(lZ,{subject:f,isActive:p,onClick:()=>d(f),forwardedRef:p?s:void 0},f.subjectId)}),r<e.length&&c.jsx("div",{ref:i,className:"load-more-trigger w-full h-10"})]})}const gZ=new gi().toUiData();function yZ(){const e=Ba(),{openScheduleModal:t}=$r(),{data:n,isPending:r}=ta(e),i=Oc(n)??[],s=Es(u=>u.filters),a=Es(u=>u.setFilter),o=T.useDeferredValue(Ac(i,s));return c.jsx(Yt,{children:c.jsxs(fe,{direction:"flex-col",gap:"gap-3",className:"w-full bg-white h-screen md:border-t-0",children:[c.jsx(La,{type:"text",value:s.keywords,placeholder:" ",onDelete:()=>a("keywords",""),onChange:u=>a("keywords",u.target.value),className:"w-full"}),c.jsx(aZ,{}),c.jsx(ct,{variant:"text",size:"small",onClick:()=>t(gZ),children:"+   "}),c.jsx(fe,{direction:"flex-col",className:"h-full overflow-hidden overflow-y-auto",children:c.jsx(j8,{subjects:o,isPending:r})})]})})}const xZ="FALL_25",j4=ig.findIndex(e=>e.semesterCode===xZ),vZ=j4!==-1?ig.slice(0,j4+1):[];function bZ({currentSemester:e}){const t="border-b-2 border-primary text-primary pb-2";return c.jsx(fe,{gap:"gap-4",className:"border-b text-sm border-gray-200",children:vZ.map(n=>{const r=e===n.semesterCode;return c.jsxs(Sr,{to:`/timetable?semester=${n.semesterCode}`,className:r?t:"text-gray-500 pb-2",children:[n.semesterValue,""]},n.semesterCode)})})}var N1={exports:{}},k4;function wZ(){return k4||(k4=1,(function(e){(function(t){var n=A(),r=U(),i=V(),s=I(),a={imagePlaceholder:void 0,cacheBust:!1},o={toSvg:u,toPng:f,toJpeg:p,toBlob:g,toPixelData:d,impl:{fontFaces:i,images:s,util:n,inliner:r,options:{}}};e.exports=o;function u(O,B){return B=B||{},y(B),Promise.resolve(O).then(function(F){return _(F,B.filter,!0)}).then(C).then(k).then(W).then(function(F){return P(F,B.width||n.width(O),B.height||n.height(O))});function W(F){return B.bgcolor&&(F.style.backgroundColor=B.bgcolor),B.width&&(F.style.width=B.width+"px"),B.height&&(F.style.height=B.height+"px"),B.style&&Object.keys(B.style).forEach(function(se){F.style[se]=B.style[se]}),F}}function d(O,B){return b(O,B||{}).then(function(W){return W.getContext("2d").getImageData(0,0,n.width(O),n.height(O)).data})}function f(O,B){return b(O,B||{}).then(function(W){return W.toDataURL()})}function p(O,B){return B=B||{},b(O,B).then(function(W){return W.toDataURL("image/jpeg",B.quality||1)})}function g(O,B){return b(O,B||{}).then(n.canvasToBlob)}function y(O){typeof O.imagePlaceholder>"u"?o.impl.options.imagePlaceholder=a.imagePlaceholder:o.impl.options.imagePlaceholder=O.imagePlaceholder,typeof O.cacheBust>"u"?o.impl.options.cacheBust=a.cacheBust:o.impl.options.cacheBust=O.cacheBust}function b(O,B){return u(O,B).then(n.makeImage).then(n.delay(100)).then(function(F){var se=W(O);return se.getContext("2d").drawImage(F,0,0),se});function W(F){var se=document.createElement("canvas");if(se.width=B.width||n.width(F),se.height=B.height||n.height(F),B.bgcolor){var J=se.getContext("2d");J.fillStyle=B.bgcolor,J.fillRect(0,0,se.width,se.height)}return se}}function _(O,B,W){if(!W&&B&&!B(O))return Promise.resolve();return Promise.resolve(O).then(F).then(function(xe){return se(O,xe,B)}).then(function(xe){return J(O,xe)});function F(xe){return xe instanceof HTMLCanvasElement?n.makeImage(xe.toDataURL()):xe.cloneNode(!1)}function se(xe,G,$){var ee=xe.childNodes;if(ee.length===0)return Promise.resolve(G);return Z(G,n.asArray(ee),$).then(function(){return G});function Z(X,pe,M){var Y=Promise.resolve();return pe.forEach(function(ge){Y=Y.then(function(){return _(ge,M)}).then(function(H){H&&X.appendChild(H)})}),Y}}function J(xe,G){if(!(G instanceof Element))return G;return Promise.resolve().then($).then(ee).then(Z).then(X).then(function(){return G});function $(){pe(window.getComputedStyle(xe),G.style);function pe(M,Y){M.cssText?Y.cssText=M.cssText:ge(M,Y);function ge(H,Pe){n.asArray(H).forEach(function(ke){Pe.setProperty(ke,H.getPropertyValue(ke),H.getPropertyPriority(ke))})}}}function ee(){[":before",":after"].forEach(function(M){pe(M)});function pe(M){var Y=window.getComputedStyle(xe,M),ge=Y.getPropertyValue("content");if(ge===""||ge==="none")return;var H=n.uid();G.className=G.className+" "+H;var Pe=document.createElement("style");Pe.appendChild(ke(H,M,Y)),G.appendChild(Pe);function ke(Ee,Qe,Ve){var bt="."+Ee+":"+Qe,ze=Ve.cssText?pr(Ve):ft(Ve);return document.createTextNode(bt+"{"+ze+"}");function pr(sn){var Yn=sn.getPropertyValue("content");return sn.cssText+" content: "+Yn+";"}function ft(sn){return n.asArray(sn).map(Yn).join("; ")+";";function Yn(Hn){return Hn+": "+sn.getPropertyValue(Hn)+(sn.getPropertyPriority(Hn)?" !important":"")}}}}}function Z(){xe instanceof HTMLTextAreaElement&&(G.innerHTML=xe.value),xe instanceof HTMLInputElement&&G.setAttribute("value",xe.value)}function X(){G instanceof SVGElement&&(G.setAttribute("xmlns","http://www.w3.org/2000/svg"),G instanceof SVGRectElement&&["width","height"].forEach(function(pe){var M=G.getAttribute(pe);M&&G.style.setProperty(pe,M)}))}}}function C(O){return i.resolveAll().then(function(B){var W=document.createElement("style");return O.appendChild(W),W.appendChild(document.createTextNode(B)),O})}function k(O){return s.inlineAll(O).then(function(){return O})}function P(O,B,W){return Promise.resolve(O).then(function(F){return F.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(F)}).then(n.escapeXhtml).then(function(F){return'<foreignObject x="0" y="0" width="100%" height="100%">'+F+"</foreignObject>"}).then(function(F){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+B+'" height="'+W+'">'+F+"</svg>"}).then(function(F){return"data:image/svg+xml;charset=utf-8,"+F})}function A(){return{escape:X,parseExtension:B,mimeType:W,dataAsUrl:Z,isDataUrl:F,canvasToBlob:J,resolveUrl:xe,getAndEncode:ee,uid:G(),delay:pe,asArray:M,escapeXhtml:Y,makeImage:$,width:ge,height:H};function O(){var ke="application/font-woff",Ee="image/jpeg";return{woff:ke,woff2:ke,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Ee,jpeg:Ee,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function B(ke){var Ee=/\.([^\.\/]*?)$/g.exec(ke);return Ee?Ee[1]:""}function W(ke){var Ee=B(ke).toLowerCase();return O()[Ee]||""}function F(ke){return ke.search(/^(data:)/)!==-1}function se(ke){return new Promise(function(Ee){for(var Qe=window.atob(ke.toDataURL().split(",")[1]),Ve=Qe.length,bt=new Uint8Array(Ve),ze=0;ze<Ve;ze++)bt[ze]=Qe.charCodeAt(ze);Ee(new Blob([bt],{type:"image/png"}))})}function J(ke){return ke.toBlob?new Promise(function(Ee){ke.toBlob(Ee)}):se(ke)}function xe(ke,Ee){var Qe=document.implementation.createHTMLDocument(),Ve=Qe.createElement("base");Qe.head.appendChild(Ve);var bt=Qe.createElement("a");return Qe.body.appendChild(bt),Ve.href=Ee,bt.href=ke,bt.href}function G(){var ke=0;return function(){return"u"+Ee()+ke++;function Ee(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function $(ke){return new Promise(function(Ee,Qe){var Ve=new Image;Ve.onload=function(){Ee(Ve)},Ve.onerror=Qe,Ve.src=ke})}function ee(ke){var Ee=3e4;return o.impl.options.cacheBust&&(ke+=(/\?/.test(ke)?"&":"?")+new Date().getTime()),new Promise(function(Qe){var Ve=new XMLHttpRequest;Ve.onreadystatechange=pr,Ve.ontimeout=ft,Ve.responseType="blob",Ve.timeout=Ee,Ve.open("GET",ke,!0),Ve.send();var bt;if(o.impl.options.imagePlaceholder){var ze=o.impl.options.imagePlaceholder.split(/,/);ze&&ze[1]&&(bt=ze[1])}function pr(){if(Ve.readyState===4){if(Ve.status!==200){bt?Qe(bt):sn("cannot fetch resource: "+ke+", status: "+Ve.status);return}var Yn=new FileReader;Yn.onloadend=function(){var Hn=Yn.result.split(/,/)[1];Qe(Hn)},Yn.readAsDataURL(Ve.response)}}function ft(){bt?Qe(bt):sn("timeout of "+Ee+"ms occured while fetching resource: "+ke)}function sn(Yn){console.error(Yn),Qe("")}})}function Z(ke,Ee){return"data:"+Ee+";base64,"+ke}function X(ke){return ke.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function pe(ke){return function(Ee){return new Promise(function(Qe){setTimeout(function(){Qe(Ee)},ke)})}}function M(ke){for(var Ee=[],Qe=ke.length,Ve=0;Ve<Qe;Ve++)Ee.push(ke[Ve]);return Ee}function Y(ke){return ke.replace(/#/g,"%23").replace(/\n/g,"%0A")}function ge(ke){var Ee=Pe(ke,"border-left-width"),Qe=Pe(ke,"border-right-width");return ke.scrollWidth+Ee+Qe}function H(ke){var Ee=Pe(ke,"border-top-width"),Qe=Pe(ke,"border-bottom-width");return ke.scrollHeight+Ee+Qe}function Pe(ke,Ee){var Qe=window.getComputedStyle(ke).getPropertyValue(Ee);return parseFloat(Qe.replace("px",""))}}function U(){var O=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:se,shouldProcess:B,impl:{readUrls:W,inline:F}};function B(J){return J.search(O)!==-1}function W(J){for(var xe=[],G;(G=O.exec(J))!==null;)xe.push(G[1]);return xe.filter(function($){return!n.isDataUrl($)})}function F(J,xe,G,$){return Promise.resolve(xe).then(function(Z){return G?n.resolveUrl(Z,G):Z}).then($||n.getAndEncode).then(function(Z){return n.dataAsUrl(Z,n.mimeType(xe))}).then(function(Z){return J.replace(ee(xe),"$1"+Z+"$3")});function ee(Z){return new RegExp(`(url\\(['"]?)(`+n.escape(Z)+`)(['"]?\\))`,"g")}}function se(J,xe,G){if($())return Promise.resolve(J);return Promise.resolve(J).then(W).then(function(ee){var Z=Promise.resolve(J);return ee.forEach(function(X){Z=Z.then(function(pe){return F(pe,X,xe,G)})}),Z});function $(){return!B(J)}}}function V(){return{resolveAll:O,impl:{readAll:B}};function O(){return B().then(function(W){return Promise.all(W.map(function(F){return F.resolve()}))}).then(function(W){return W.join(`
`)})}function B(){return Promise.resolve(n.asArray(document.styleSheets)).then(F).then(W).then(function(J){return J.map(se)});function W(J){return J.filter(function(xe){return xe.type===CSSRule.FONT_FACE_RULE}).filter(function(xe){return r.shouldProcess(xe.style.getPropertyValue("src"))})}function F(J){var xe=[];return J.forEach(function(G){try{n.asArray(G.cssRules||[]).forEach(xe.push.bind(xe))}catch($){console.log("Error while reading CSS rules from "+G.href,$.toString())}}),xe}function se(J){return{resolve:function(){var G=(J.parentStyleSheet||{}).href;return r.inlineAll(J.cssText,G)},src:function(){return J.style.getPropertyValue("src")}}}}}function I(){return{inlineAll:B,impl:{newImage:O}};function O(W){return{inline:F};function F(se){return n.isDataUrl(W.src)?Promise.resolve():Promise.resolve(W.src).then(se||n.getAndEncode).then(function(J){return n.dataAsUrl(J,n.mimeType(W.src))}).then(function(J){return new Promise(function(xe,G){W.onload=xe,W.onerror=G,W.src=J})})}}function B(W){if(!(W instanceof Element))return Promise.resolve(W);return F(W).then(function(){return W instanceof HTMLImageElement?O(W).inline():Promise.all(n.asArray(W.childNodes).map(function(se){return B(se)}))});function F(se){var J=se.style.getPropertyValue("background");return J?r.inlineAll(J).then(function(xe){se.style.setProperty("background",xe,se.style.getPropertyPriority("background"))}).then(function(){return se}):Promise.resolve(se)}}}})()})(N1)),N1.exports}var _Z=wZ();const SZ=ts(_Z);var hm={exports:{}},CZ=hm.exports,E4;function jZ(){return E4||(E4=1,(function(e,t){(function(n,r){r()})(CZ,function(){function n(d,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function r(d,f,p){var g=new XMLHttpRequest;g.open("GET",d),g.responseType="blob",g.onload=function(){u(g.response,f,p)},g.onerror=function(){console.error("could not download file")},g.send()}function i(d){var f=new XMLHttpRequest;f.open("HEAD",d,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function s(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(f)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Md=="object"&&Md.global===Md?Md:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(d,f,p){var g=a.URL||a.webkitURL,y=document.createElement("a");f=f||d.name||"download",y.download=f,y.rel="noopener",typeof d=="string"?(y.href=d,y.origin===location.origin?s(y):i(y.href)?r(d,f,p):s(y,y.target="_blank")):(y.href=g.createObjectURL(d),setTimeout(function(){g.revokeObjectURL(y.href)},4e4),setTimeout(function(){s(y)},0))}:"msSaveOrOpenBlob"in navigator?function(d,f,p){if(f=f||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(n(d,p),f);else if(i(d))r(d,f,p);else{var g=document.createElement("a");g.href=d,g.target="_blank",setTimeout(function(){s(g)})}}:function(d,f,p,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof d=="string")return r(d,f,p);var y=d.type==="application/octet-stream",b=/constructor/i.test(a.HTMLElement)||a.safari,_=/CriOS\/[\d]+/.test(navigator.userAgent);if((_||y&&b||o)&&typeof FileReader<"u"){var C=new FileReader;C.onloadend=function(){var A=C.result;A=_?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=A:location=A,g=null},C.readAsDataURL(d)}else{var k=a.URL||a.webkitURL,P=k.createObjectURL(d);g?g.location=P:location.href=P,g=null,setTimeout(function(){k.revokeObjectURL(P)},4e4)}});a.saveAs=u.saveAs=u,e.exports=u})})(hm)),hm.exports}var kZ=jZ();function EZ(e,t="image.png"){if(!e){console.error("Image reference is not set");return}SZ.toBlob(e).then(n=>kZ.saveAs(n,t)).catch(n=>{console.error("Error saving image:",n)})}const TZ=e=>T.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M10 12.9791C9.8889 12.9791 9.78473 12.9619 9.68751 12.9274C9.59029 12.893 9.50001 12.8338 9.41668 12.7499L6.41668 9.74992C6.25001 9.58325 6.17001 9.38881 6.17668 9.16659C6.18334 8.94437 6.26334 8.74992 6.41668 8.58325C6.58334 8.41659 6.7814 8.32992 7.01084 8.32325C7.24029 8.31659 7.43807 8.39631 7.60418 8.56242L9.16668 10.1249V4.16659C9.16668 3.93048 9.24668 3.7327 9.40668 3.57325C9.56668 3.41381 9.76445 3.33381 10 3.33325C10.2356 3.3327 10.4336 3.4127 10.5942 3.57325C10.7547 3.73381 10.8345 3.93159 10.8333 4.16659V10.1249L12.3958 8.56242C12.5625 8.39575 12.7606 8.31575 12.99 8.32242C13.2195 8.32909 13.4172 8.41603 13.5833 8.58325C13.7361 8.74992 13.8161 8.94437 13.8233 9.16659C13.8306 9.38881 13.7506 9.58325 13.5833 9.74992L10.5833 12.7499C10.5 12.8333 10.4097 12.8924 10.3125 12.9274C10.2153 12.9624 10.1111 12.9796 10 12.9791ZM5.00001 16.6666C4.54168 16.6666 4.14945 16.5035 3.82334 16.1774C3.49723 15.8513 3.3339 15.4588 3.33334 14.9999V13.3333C3.33334 13.0971 3.41334 12.8994 3.57334 12.7399C3.73334 12.5805 3.93112 12.5005 4.16668 12.4999C4.40223 12.4994 4.60029 12.5794 4.76084 12.7399C4.9214 12.9005 5.00112 13.0983 5.00001 13.3333V14.9999H15V13.3333C15 13.0971 15.08 12.8994 15.24 12.7399C15.4 12.5805 15.5978 12.5005 15.8333 12.4999C16.0689 12.4994 16.267 12.5794 16.4275 12.7399C16.5881 12.9005 16.6678 13.0983 16.6667 13.3333V14.9999C16.6667 15.4583 16.5036 15.8508 16.1775 16.1774C15.8514 16.5041 15.4589 16.6671 15 16.6666H5.00001Z",fill:"#9CA3AF"}));function NZ({setIsOpenModal:e,timetables:t}){const n=It(a=>a.options.isMobile),r=Ra(a=>a.openBottomSheet),i=()=>{const a=It.getState()?.currentTimetable?.timeTableName,o=It.getState().options.containerRef;EZ(o,a?a+".png":".png")},s=()=>{e("create")};return c.jsxs(fe,{children:[c.jsx(zn,{icon:c.jsx(TZ,{className:"w-5 h-5"}),variant:"plain",label:"  ",onClick:i}),n&&c.jsx(zn,{icon:c.jsx(Lg,{className:"w-5 h-5"}),variant:"plain",label:" ",onClick:()=>r("search")}),!n&&t&&t.length>=0&&c.jsx(ct,{variant:"text",size:"medium",onClick:s,children:"+  "})]})}const PZ=({setIsOpenModal:e,openCreateModal:t,timetables:n,currentTimetable:r})=>{const i=It(d=>d.pickTimetable),{mutate:s}=e6(),a=d=>{const f=n.find(p=>p.timeTableId===d.timeTableId);f&&i(f)},o=()=>{e("edit")},u=d=>{s(d)};return!r&&n.length===0?c.jsx(ct,{variant:"primary",size:"medium",onClick:t,children:" "}):c.jsxs(pc,{children:[c.jsx(pc.Trigger,{label:r?r.timeTableName:" "}),c.jsx(pc.Content,{children:c.jsxs(fe,{direction:"flex-col",gap:"gap-4",children:[n.length===0&&c.jsx(Xt,{children:"  ."}),n.map(d=>c.jsxs(fe,{gap:"gap-4",children:[c.jsx(Ih,{label:d.timeTableName,checked:r?.timeTableId===d.timeTableId,onChange:()=>a(d)},d.timeTableId),r?.timeTableId===d.timeTableId&&c.jsxs(fe,{gap:"gap-4",children:[c.jsx(ct,{variant:"text",size:"small",onClick:o,children:""}),c.jsx(ct,{variant:"text",size:"small",textColor:"secondary",onClick:()=>u(d.timeTableId),children:""})]})]},d.timeTableName+d.timeTableId)),r&&c.jsx(ct,{variant:"text",size:"small",textColor:"gray",onClick:t,children:"+  "})]})})]})};function OZ({onClose:e,type:t}){const[n,r]=T.useState(""),i=It(_=>_.currentTimetable),s=Zl(),[a,o]=T.useState(i?.semesterCode??s.data?.semesterCode??""),{mutate:u}=RR(),{mutate:d}=e6(),{mutate:f}=t6(),p=()=>{t==="edit"&&i&&(d(i.timeTableId),e())},g=_=>{if(_.preventDefault(),i&&t==="edit"){u({timeTableId:i.timeTableId,timeTableName:n}),e();return}t==="create"&&(f({timeTableName:n,semesterCode:a}),e())},y=_=>{_.key==="Escape"&&e()};T.useEffect(()=>(window.addEventListener("keydown",y),()=>{window.removeEventListener("keydown",y)}),[]);const b=_=>{if(t==="edit"){alert("   .");return}o(_)};return c.jsx(tn,{title:`${t==="edit"?" ":" "}`,onClose:e,isOpen:!0,children:c.jsxs("form",{onSubmit:g,children:[c.jsxs(tn.Content,{children:[c.jsx(wn,{children:" "}),c.jsx(Os,{columns:{base:2},gap:"gap-2",children:ig.map(_=>c.jsx(yn,{label:_.semesterValue,selected:_.semesterCode===a,onClick:()=>b(_.semesterCode)},_.semesterCode))}),c.jsx(_m,{id:"timetableName",required:!0,size:"medium",placeholder:"  .",value:n,onChange:_=>r(_.target.value)},"timetableName")]}),c.jsxs(tn.Footer,{children:[c.jsx(ct,{type:"submit",variant:"primary",size:"medium",children:""}),i&&t==="edit"&&c.jsx(ct,{type:"button",variant:"secondary",textColor:"secondary",size:"medium",onClick:p,children:""})]})]})})}const RZ=(e,t)=>{const n=It(i=>i.currentTimetable),r=It(i=>i.pickTimetable);return T.useEffect(()=>{r(t[0])},[e]),{currentSemester:e,currentTimetable:n}};function AZ({currentSemester:e}){const{data:t}=XC(e),{currentTimetable:n}=RZ(e,t??[]),r=It(d=>d.pickTimetable),{data:i}=ZC(n?.timeTableId,e),[s,a]=T.useState(null),{cancelSchedule:o}=$r(),u=()=>{a("create")};return T.useEffect(()=>{o(void 0,!0)},[e,o]),T.useEffect(()=>{if(!t)return;!n&&t.length>0&&r(t[0]),t.find(f=>f.timeTableId===n?.timeTableId)||r(t[t.length-1])},[t]),c.jsxs(Yt,{className:"px-2 flex flex-col gap-2 relative overflow-hidden",children:[c.jsx("header",{children:c.jsxs(fe,{align:"items-center",justify:"justify-between",gap:"gap-2",children:[c.jsx(PZ,{timetables:t??[],currentTimetable:n,setIsOpenModal:a,openCreateModal:u}),c.jsx(NZ,{setIsOpenModal:a}),s&&c.jsx(OZ,{type:s,onClose:()=>a(null)})]})}),c.jsx(JR,{schedules:i??[]})]})}function IZ({onCloseSearch:e,onOpenFiltering:t}){const n=Ba(),{openScheduleModal:r}=$r(),{data:i,isPending:s}=ta(n),a=Oc(i)??[],o=Es(g=>g.filters),u=Es(g=>g.setFilter),d=T.useDeferredValue(Ac(a,o)),f=new gi().toUiData(),{keywords:p}=o;return c.jsx(Gh,{children:({expandToMax:g})=>c.jsxs(c.Fragment,{children:[c.jsx(Yh,{title:"",headerType:"add",onClose:e,onClick:()=>r(f)}),c.jsxs("div",{className:"sticky px-2 top-0 bg-white z-10 flex items-center gap-2 py-3",children:[c.jsx(La,{type:"text",placeholder:"   ",value:p,onChange:y=>u("keywords",y.target.value),onDelete:()=>u("keywords",""),className:"w-full"}),c.jsx(zn,{"aria-label":"filter",variant:"plain",label:"filter",icon:c.jsx(ek,{className:"w-6 h-6"}),onClick:()=>t()})]}),c.jsx(fe,{direction:"flex-col",className:"max-h-[70vh] min-h-0 px-2 overflow-y-auto touch-auto",children:c.jsx(j8,{expandToMax:g,subjects:d,isPending:s})})]})})}const LZ=(e,t)=>{const n=Qm(e),r=Qm(t);return{startHour:n.hour,startMinute:n.minute,endHour:r.hour,endMinute:r.minute}},DZ={hour:"10",minute:"00"},Qm=(e,t=DZ)=>{if(!e)return t;let[n,r]=e.split(":").map(Number);return Number.isNaN(n)&&(n=Number(t.hour)),Number.isNaN(r)&&(r=Number(t.minute)),{hour:n.toString(),minute:r.toString().padStart(2,"0")}},T4=e=>{const{hour:t,minute:n}=e;return`${t}:${n}`};function MZ(e,t){return e.some(r=>r.dayOfWeeks===t)?e.filter(r=>r.dayOfWeeks!==t):[...e,{dayOfWeeks:t,startTime:"",endTime:""}]}function FZ(e,t,n){const r=Qm(e.startTime),i=Qm(e.endTime);let s=r,a=i;switch(t){case"startHour":s={...r,hour:n};break;case"startMinute":s={...r,minute:n};break;case"endHour":a={...i,hour:n};break;case"endMinute":a={...i,minute:n};break}return{...e,startTime:T4(s),endTime:T4(a)}}const em=Array.from({length:24},(e,t)=>`${t}`),tm=["00","10","20","30","40","50"];function BZ({timeRange:e,onChange:t,day:n}){const r=(i,s)=>{if(n){t(i,s,n);return}t(i,s)};return c.jsx("div",{className:" w-full h-3 flex gap-2 flex-col justify-center",children:c.jsxs("div",{className:"relative w-full flex gap-2 flex-wrap",children:[c.jsx("select",{name:"startHour",value:e.startHour??em[8],onChange:i=>r("startHour",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:em.map(i=>c.jsx("option",{value:i,children:i},i))}),c.jsx("select",{name:"startMinute",value:e.startMinute??tm[0],onChange:i=>r("startMinute",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:tm.map(i=>c.jsx("option",{value:i,children:i},i))}),c.jsx("span",{className:"text-gray-400 text-sm mx-1",children:"~"}),c.jsx("select",{name:"endHour",value:e.endHour??em[9],onChange:i=>r("endHour",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:em.map(i=>c.jsx("option",{value:i,children:i},i))}),c.jsx("select",{name:"endMinute",value:e.endMinute??tm[0],onChange:i=>r("endMinute",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:tm.map(i=>c.jsx("option",{value:i,children:i},i))})]})})}function k8(){const e=It(a=>a.options.isMobile),{schedule:t}=Mh(),{editSchedule:n}=$r(),r=[{id:"subjectName",name:"",value:t?.subjectName??""},{id:"professorName",name:"",value:t?.professorName??""},{id:"location",name:"",value:t?.location??""}],i=a=>{n(o=>({...o,timeSlots:MZ(o.timeSlots,a)}))},s=(a,o,u)=>{n(d=>{const f=d.timeSlots.map(p=>p.dayOfWeeks===u?FZ(p,a,o):p);return{...d,timeSlots:f}})};return c.jsxs(fe,{direction:"flex-col",gap:e?"gap-4":"gap-5",children:[r.map(({id:a,name:o,value:u})=>c.jsx(_m,{size:"medium",id:a,placeholder:`${o} `,value:u,label:o,onChange:d=>n(f=>({...f,[a]:d.target.value})),required:!0},a)),c.jsxs(fe,{gap:"gap-2",direction:"flex-col",children:[c.jsx(wn,{children:""}),c.jsx(fe,{direction:"flex-wrap",children:og.map(a=>c.jsx(yn,{label:a,selected:t.timeSlots.some(o=>o.dayOfWeeks===a),onClick:()=>i(a)},a))})]}),t.timeSlots.map(a=>c.jsxs(fe,{direction:"flex-col",gap:"gap-4",children:[c.jsx(wn,{children:a.dayOfWeeks}),c.jsx(BZ,{day:a.dayOfWeeks,timeRange:LZ(a.startTime,a.endTime),onChange:s})]},a.dayOfWeeks))]})}function zZ(){const{modalActionType:e}=Mh(),t=e===Qn.CREATE?"":"",{saveSchedule:n,deleteSchedule:r,cancelSchedule:i}=$r(),s=bi(),a=d=>{d.key==="Escape"&&i(d)};T.useEffect(()=>(document.addEventListener("keydown",a),()=>{document.removeEventListener("keydown",a)}),[]);const o=d=>{n(d)},u=d=>{r(d)};return c.jsx(tn,{title:`  ${t}`,onClose:i,isOpen:!0,children:c.jsxs("form",{onSubmit:o,className:"flex flex-col gap-5",children:[c.jsx(tn.Content,{children:c.jsx(k8,{})}),c.jsxs(tn.Footer,{children:[(e===Qn.EDIT||e===Qn.VIEW)&&c.jsx(ct,{variant:"secondary",size:s?"small":"medium",onClick:u,children:""}),c.jsx(ct,{type:"submit",variant:"primary",size:s?"small":"medium",children:""})]})]})})}const E8=e=>T.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M8.5 4.6665C8.5 4.5339 8.44732 4.40672 8.35355 4.31295C8.25979 4.21918 8.13261 4.1665 8 4.1665C7.86739 4.1665 7.74022 4.21918 7.64645 4.31295C7.55268 4.40672 7.5 4.5339 7.5 4.6665V7.99984C7.49996 8.08461 7.52148 8.168 7.56253 8.24217C7.60358 8.31634 7.66282 8.37885 7.73467 8.42384L9.73467 9.67384C9.84712 9.74421 9.98292 9.76703 10.1122 9.73727C10.1762 9.72254 10.2367 9.69534 10.2902 9.65723C10.3437 9.61912 10.3892 9.57085 10.424 9.51517C10.4588 9.45949 10.4824 9.39749 10.4933 9.33272C10.5041 9.26794 10.5022 9.20165 10.4874 9.13764C10.4727 9.07363 10.4455 9.01315 10.4074 8.95965C10.3693 8.90615 10.321 8.86068 10.2653 8.82584L8.5 7.7225V4.6665Z",fill:"#D1D5DB"}),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.99996 2.1665C6.45286 2.1665 4.96913 2.78109 3.87517 3.87505C2.78121 4.96901 2.16663 6.45274 2.16663 7.99984C2.16663 9.54693 2.78121 11.0307 3.87517 12.1246C4.96913 13.2186 6.45286 13.8332 7.99996 13.8332C9.54706 13.8332 11.0308 13.2186 12.1248 12.1246C13.2187 11.0307 13.8333 9.54693 13.8333 7.99984C13.8333 6.45274 13.2187 4.96901 12.1248 3.87505C11.0308 2.78109 9.54706 2.1665 7.99996 2.1665ZM3.16663 7.99984C3.16663 7.36512 3.29164 6.73661 3.53454 6.1502C3.77744 5.56379 4.13346 5.03097 4.58228 4.58215C5.03109 4.13334 5.56392 3.77732 6.15032 3.53442C6.73673 3.29152 7.36524 3.1665 7.99996 3.1665C8.63468 3.1665 9.26319 3.29152 9.8496 3.53442C10.436 3.77732 10.9688 4.13334 11.4176 4.58215C11.8665 5.03097 12.2225 5.56379 12.4654 6.1502C12.7083 6.73661 12.8333 7.36512 12.8333 7.99984C12.8333 9.28172 12.3241 10.5111 11.4176 11.4175C10.5112 12.3239 9.28184 12.8332 7.99996 12.8332C6.71808 12.8332 5.4887 12.3239 4.58228 11.4175C3.67585 10.5111 3.16663 9.28172 3.16663 7.99984Z",fill:"#D1D5DB"})),T8=e=>T.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M13.7069 6.79266L8.70688 1.79266C8.51936 1.60527 8.26511 1.5 8.00001 1.5C7.7349 1.5 7.48065 1.60527 7.29313 1.79266L2.29313 6.79266C2.19982 6.88528 2.12586 6.99552 2.07553 7.11698C2.02521 7.23844 1.99954 7.36869 2.00001 7.50016V13.5002C2.00001 13.6328 2.05268 13.7599 2.14645 13.8537C2.24022 13.9475 2.3674 14.0002 2.50001 14.0002H6.50001C6.63261 14.0002 6.75979 13.9475 6.85356 13.8537C6.94733 13.7599 7.00001 13.6328 7.00001 13.5002V10.0002H9.00001V13.5002C9.00001 13.6328 9.05268 13.7599 9.14645 13.8537C9.24022 13.9475 9.3674 14.0002 9.50001 14.0002H13.5C13.6326 14.0002 13.7598 13.9475 13.8536 13.8537C13.9473 13.7599 14 13.6328 14 13.5002V7.50016C14.0005 7.36869 13.9748 7.23844 13.9245 7.11698C13.8742 6.99552 13.8002 6.88528 13.7069 6.79266ZM13 13.0002H10V9.50016C10 9.36755 9.94733 9.24038 9.85356 9.14661C9.75979 9.05284 9.63261 9.00016 9.50001 9.00016H6.50001C6.3674 9.00016 6.24022 9.05284 6.14645 9.14661C6.05268 9.24038 6.00001 9.36755 6.00001 9.50016V13.0002H3.00001V7.50016L8.00001 2.50016L13 7.50016V13.0002Z",fill:"#D1D5DB"}));function UZ(){const e=Ba(),{schedule:t}=Mh(),{deleteSchedule:n}=$r(),r=Ra(o=>o.closeBottomSheet),{data:i}=Rs(e),s=o=>{confirm("  ?")&&n(o)},a=i?.find(o=>o.subjectId===t.subjectId);return c.jsxs(tn,{title:t.subjectName,onClose:()=>r("info"),isOpen:!0,children:[c.jsx(tn.Content,{children:c.jsxs(fe,{direction:"flex-col",gap:"gap-1",className:"w-80 text-sm text-gray-500",children:[c.jsx("p",{children:t.professorName??"  "}),c.jsxs(fe,{align:"items-center",gap:"gap-2",children:[c.jsx(E8,{className:"w-4 h-4 text-gray-400"}),c.jsx("p",{children:a?.lesnTime})]}),c.jsxs(fe,{align:"items-center",gap:"gap-2",children:[c.jsx(T8,{className:"w-4 h-4 text-gray-400"}),c.jsx("p",{children:a?.lesnRoom??"  "})]}),c.jsxs("p",{children:[a?.manageDeptNm," ",a?.studentYear+""," ",c.jsx("span",{className:"text-blue-500",children:a?.tmNum[0]+""})]})]})}),c.jsx(tn.Footer,{children:c.jsx(ct,{variant:"text",size:"medium",textColor:"secondary",onClick:s,children:""})})]})}function $Z(){const{modalActionType:e}=Mh(),{cancelSchedule:t,deleteSchedule:n,saveSchedule:r}=$r(),i=u=>{t(u)},s=e===Qn.CREATE?"":"",a=bi(),o=u=>{r(u)};return c.jsxs(Gh,{children:[c.jsx(Yh,{title:`  ${s}`,headerType:"close",onClose:i}),c.jsxs("form",{onSubmit:o,className:"flex flex-col gap-5",children:[c.jsx(fe,{direction:"flex-col",className:"py-5 px-2 overflow-y-auto max-h-[80vh]",children:c.jsx(k8,{})}),c.jsxs(fe,{justify:"justify-end",gap:a?"gap-2":"gap-4",className:"p-4",children:[(e===Qn.EDIT||e===Qn.VIEW)&&c.jsx(ct,{variant:"secondary",size:a?"small":"medium",onClick:n,children:""}),c.jsx(ct,{type:"submit",variant:"primary",size:a?"small":"medium",children:""})]})]})]})}function HZ(){const e=Ba(),{schedule:t}=Mh(),{deleteSchedule:n,cancelSchedule:r}=$r(),{data:i}=Rs(e),s=o=>{confirm("  ?")&&n(o)},a=i?.find(o=>o.subjectId===t.subjectId);return c.jsxs(Gh,{children:[c.jsx(Yh,{headerType:"close",onClose:r}),c.jsxs(fe,{direction:"flex-col",className:"px-2 py-3 w-full text-sm text-gray-500 gap-2",children:[c.jsx(mt,{level:3,children:t.subjectName}),c.jsx("p",{className:"text-sm text-gray-500",children:t.professorName??"  "}),c.jsxs(fe,{align:"items-center",children:[c.jsx(E8,{className:"w-4 h-4 text-gray-400"}),c.jsx("span",{children:a?.lesnTime})]}),c.jsxs(fe,{align:"items-center",children:[c.jsx(T8,{className:"w-4 h-4 text-gray-400"}),c.jsx("span",{children:a?.lesnRoom??"  "})]}),c.jsxs(fe,{children:[c.jsx("span",{children:a?.manageDeptNm}),c.jsxs("span",{children:[" ",a?.studentYear+""]}),c.jsx("span",{className:"text-blue-500 text-sm",children:a?.tmNum[0]+""})]}),c.jsxs(fe,{children:[c.jsxs("span",{children:[a?.curiTypeCdNm??""," "]}),c.jsx("span",{children:a?.remark??""})]}),c.jsx(fe,{justify:"justify-end",className:"px-2",children:c.jsx(ct,{variant:"text",size:"medium",textColor:"secondary",onClick:s,children:""})})]})]})}function VZ(){return bi()?c.jsx(qZ,{}):c.jsx(WZ,{})}function qZ(){const e=Ra(f=>f.type),t=Ra(f=>f.closeBottomSheet),n=Ra(f=>f.openBottomSheet),r=()=>{t("search")},i=()=>{t("filter"),n("search")},s=()=>{n("search")},a=()=>{n("filter")},o=Es(f=>f.filters),u=Es(f=>f.setFilter),d=Es(f=>f.resetFilters);return c.jsxs(c.Fragment,{children:[c.jsx(Ll,{when:e.search.isOpen,children:c.jsx(IZ,{onCloseSearch:r,onOpenFiltering:a})}),c.jsx(Ll,{when:e.filter.isOpen,children:c.jsx(gb,{onCloseFiltering:i,filters:o,setFilter:u,resetFilter:d})}),c.jsx(Ll,{when:e.edit.isOpen,children:c.jsx($Z,{})}),c.jsx(Ll,{when:e.info.isOpen,children:c.jsx(HZ,{})}),c.jsx(Ll,{when:!e.search.isOpen&&!e.filter.isOpen&&!e.edit.isOpen&&!e.info.isOpen,children:c.jsx("div",{className:"fixed bottom-4 right-4 z-5",children:c.jsx(ct,{size:"small",variant:"circle",onClick:s,children:c.jsx(rk,{fill:"#ffffff",className:"w-6 h-6 cursor-pointer"})})})})]})}function WZ(){const e=Ra(t=>t.type);return c.jsxs(c.Fragment,{children:[c.jsx(Ll,{when:e.edit.isOpen,children:c.jsx(zZ,{})}),c.jsx(Ll,{when:e.info.isOpen,children:c.jsx(UZ,{})})]})}function Ll({when:e,children:t}){return e?c.jsx(c.Fragment,{children:t}):null}function QZ(){const{data:e}=Zl("timetable"),[t,n]=uv(),r=e?.semesterCode,i=t.get("semester")??r;return T.useEffect(()=>{!t.has("semester")&&r&&n({semester:r},{replace:!0})},[t,r,n]),{currentSemester:i??es.semesterCode,defaultSemester:r,isLoading:!e}}function KZ(){const{currentSemester:e}=QZ();return c.jsxs("div",{className:"px-4 py-2",children:[c.jsxs(Un,{children:[c.jsx("title",{children:"ALLCLL | "}),c.jsx("meta",{name:"description",content:"  , !"})]}),c.jsxs("div",{className:"grid md:grid-cols-5 gap-4 mb-4",children:[c.jsx("div",{className:"md:col-span-3 w-full",children:c.jsxs(fe,{direction:"flex-col",gap:"gap-2",children:[c.jsx(mt,{level:1,children:""}),c.jsx(bZ,{currentSemester:e}),c.jsx(AZ,{currentSemester:e})]})}),c.jsx("div",{className:"w-full md:col-span-2 hidden md:block",children:c.jsx(yZ,{})})]}),c.jsx(VZ,{})]})}async function Mb(){return await vi("/api/graduation/check")}async function GZ(){return await vi("/api/graduation/certifications/criteria")}async function YZ(){return await vi("/api/graduation/departments")}async function JZ(){return await vi("/api/graduation/criteria/categories")}const mi={all:["graduation"],check:()=>[...mi.all,"check"],certificationCriteria:()=>[...mi.all,"certificationCriteria"],departments:()=>[...mi.all,"departments"],criteriaCategories:()=>[...mi.all,"criteriaCategories"]};function N8(e=!0){return Cr({queryKey:mi.check(),queryFn:Mb,staleTime:1/0,enabled:e})}function XZ(e){return Cr({queryKey:mi.certificationCriteria(),queryFn:GZ,staleTime:1/0,enabled:e})}function P8(){return Cr({queryKey:mi.departments(),queryFn:YZ,staleTime:1/0,select:e=>e.departments.map(t=>({departmentCode:t.deptCd,departmentName:t.deptNm}))})}function ZZ(){return Cr({queryKey:mi.criteriaCategories(),queryFn:JZ,staleTime:1/0})}var Rt=(e=>(e.LOGIN="LOGIN",e.DEPARTMENT_INFO="DEPARTMENT_INFO",e.FILE_UPLOAD="FILE_UPLOAD",e.UPLOADING="UPLOADING",e.RESULT="RESULT",e))(Rt||{});const O8=fr()(tg(e=>({step:"LOGIN",isDepartmentNotFound:!1,setStep:t=>{e({step:t})},setIsDepartmentNotFound:t=>e({isDepartmentNotFound:t}),reset:()=>e({step:"LOGIN",isDepartmentNotFound:!1})}),{name:"jolup-step",storage:Tv(()=>sessionStorage),partialize:e=>({step:e.step})}));function eee(e=!1,t=!1){const n=$n(),r=Cr({queryKey:["initial","graduationCheck"],queryFn:Mb,refetchOnWindowFocus:!1,retry:!1,staleTime:0,gcTime:0});T.useEffect(()=>{r.data&&n.setQueryData(mi.check(),r.data)},[r.data,n]);const i=T.useMemo(()=>r.isLoading?null:tee(r.isError,r.error,!!r.data,e,t),[r.isLoading,r.isError,r.error,r.data,e,t]);return{...r,initialStep:i}}function tee(e,t,n,r,i){if(e&&t){const s=t.message;return s.includes("401")||s.includes("Unauthorized")||s.includes(" ")?Rt.LOGIN:s.includes("")||s.includes("Major")||s.includes(" ")?Rt.DEPARTMENT_INFO:s.includes("")?Rt.FILE_UPLOAD:s.includes("GRADUATION_CHECK_NOT_FOUND")||s.includes("    ")?Rt.DEPARTMENT_INFO:Rt.LOGIN}return n?r?i?Rt.FILE_UPLOAD:Rt.DEPARTMENT_INFO:Rt.RESULT:Rt.LOGIN}function R8(){const{step:e,setStep:t,isDepartmentNotFound:n,setIsDepartmentNotFound:r}=O8(),i=Da(),s=$n(),[a]=uv(),o=a.get("retry")==="true",u=a.get("skipInfo")==="true",{initialStep:d,isLoading:f}=eee(o,u);T.useEffect(()=>{f||!d||(d===Rt.RESULT?(t(Rt.RESULT),i("/graduation/result")):t(d))},[d,f,i,t]);const p=T.useCallback(async()=>{try{const b=await Mb();if(b&&!o){s.setQueryData(mi.check(),b),t(Rt.RESULT),i("/graduation/result");return}}catch{}t(u?Rt.FILE_UPLOAD:Rt.DEPARTMENT_INFO)},[o,u,i,s,t]);function g(){switch(e){case Rt.LOGIN:p().then();break;case Rt.DEPARTMENT_INFO:t(Rt.FILE_UPLOAD);break;case Rt.FILE_UPLOAD:t(Rt.UPLOADING);break;case Rt.UPLOADING:t(Rt.RESULT),i("/graduation/result");break;default:console.error(`Unknown step ${e}`);break}}function y(){switch(e){case Rt.DEPARTMENT_INFO:t(Rt.LOGIN);break;case Rt.FILE_UPLOAD:t(Rt.DEPARTMENT_INFO);break;case Rt.UPLOADING:t(Rt.FILE_UPLOAD);break;case Rt.LOGIN:break;default:console.error(`Unknown step ${e}`);break}}return{step:e,nextStep:g,prevStep:y,setStep:t,isLoading:f,isDepartmentNotFound:n,setIsDepartmentNotFound:r}}class A8 extends T.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,n){const{setStep:r}=O8.getState(),i=t.message;i.includes("401")||i.includes("Unauthorized")?r(Rt.LOGIN):i.includes("")||i.includes("Major")||i.includes(" ")?r(Rt.DEPARTMENT_INFO):r(Rt.FILE_UPLOAD)}componentDidUpdate(t){this.props.resetKey!==t.resetKey&&this.setState({hasError:!1})}render(){return this.state.hasError?null:this.props.children}}const P1=[{id:Rt.LOGIN,label:""},{id:Rt.DEPARTMENT_INFO,label:" "},{id:Rt.FILE_UPLOAD,label:" "},{id:Rt.UPLOADING,label:" "}],nee=({currentStep:e})=>{const t=P1.findIndex(n=>n.id===e);return c.jsx("div",{className:"flex items-start md:items-center w-full py-4 px-2 gap-2",children:P1.map((n,r)=>{const i=r<t,s=r<=t,a=r===P1.length-1;return c.jsxs(rn.Fragment,{children:[c.jsx(_B,{number:r+1,finish:i,active:s,label:n.label}),!a&&c.jsx(SB,{active:r+1<=t})]},n.id)})})},ree=()=>c.jsx(Yt,{variant:"outlined",className:"w-full mx-auto p-8 mt-2",children:c.jsxs(fe,{direction:"flex-col",gap:"gap-3",children:[c.jsxs(fe,{align:"items-center",gap:"gap-2",children:[c.jsx(qh,{className:"w-5 h-5"}),c.jsx(mt,{level:3,className:"text-gray-800",children:"    "})]}),c.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-1 text-gray-600",children:[c.jsx("li",{className:"text-sm",children:c.jsxs("span",{className:"text-xs sm:text-sm",children:[c.jsx(Ma,{to:"https://sjpt.sejong.ac.kr/main/view/Login/doSsoLogin.do?p=",target:"_blank",rel:"noopener noreferrer",className:"text-primary underline font-semibold",children:"  "}),"   ",c.jsx("strong",{children:"[ ]"}),"  ."]})}),c.jsx("li",{className:"text-sm",children:c.jsxs("span",{className:"text-xs sm:text-sm",children:["   ",c.jsx("strong",{children:"[/] > [  ] > []"})," ."]})}),c.jsx("li",{className:"text-sm",children:c.jsxs("span",{className:"text-xs sm:text-sm",children:["   ",c.jsx("strong",{children:"[  ]"}),"    ."]})})]}),c.jsxs("div",{className:"space-y-1 ml-1 text-gray-600 text-xs sm:text-sm",children:[c.jsxs("p",{children:["   ",c.jsx("span",{className:"text-primary font-semibold",children:"  "}),"  ."]}),c.jsxs("p",{children:["  ",c.jsx("span",{className:"text-primary font-semibold",children:"F  NP"}),"   "," ",c.jsx("span",{className:"text-primary  font-semibold",children:" "}),"."]}),c.jsxs("p",{children:["    ",c.jsx("span",{className:"text-primary font-semibold",children:"   ."})]})]})]})}),iee=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",...e},T.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),T.createElement("polyline",{points:"17 8 12 3 7 8"}),T.createElement("line",{x1:12,x2:12,y1:3,y2:15})),see=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",...e},T.createElement("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),T.createElement("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),T.createElement("path",{d:"M8 13h2"}),T.createElement("path",{d:"M14 13h2"}),T.createElement("path",{d:"M8 17h2"}),T.createElement("path",{d:"M14 17h2"})),aee=({onFileSelect:e,selectedFile:t,onDeleteFile:n,accept:r})=>{const i=Ia(_=>_.addToast),s=T.useRef(null),[a,o]=T.useState(!1),u=1*1024*1024,d=_=>{if(_){if(_.size>u){i("  1MB   ."),s.current&&(s.current.value="");return}e(_)}},f=_=>{_.preventDefault(),o(!0)},p=()=>{o(!1)},g=_=>{_.preventDefault(),o(!1),d(_.dataTransfer.files?.[0])},y=_=>{d(_.target.files?.[0]),s.current&&(s.current.value="")},b=_=>{_.stopPropagation(),n(),s.current&&(s.current.value="")};return c.jsxs("button",{type:"button",className:`
        relative w-full border-2 rounded-lg p-10 text-left
        transition-colors duration-200 cursor-pointer outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2
        ${t?"border-solid bg-green-50 border-green-400 hover:bg-green-100 hover:border-green-500":"border-dashed"}
        ${a?"border-primary-500 bg-primary-50":""}
        ${!a&&!t?"border-gray-300 hover:border-primary-400 hover:bg-gray-50":""}
      `,onDragOver:f,onDragLeave:p,onDrop:g,onClick:()=>s.current?.click(),"aria-label":t?" ":" ",children:[c.jsx("input",{type:"file",accept:r,ref:s,className:"absolute w-px h-px p-0 -m-px overflow-hidden whitespace-nowrap border-0 opacity-0",onChange:y,onClick:_=>_.stopPropagation()}),t?c.jsx(lee,{file:t,onDelete:b}):c.jsx(oee,{})]})},oee=()=>c.jsxs(fe,{direction:"flex-col",align:"items-center",justify:"justify-center",gap:"gap-3",children:[c.jsx("div",{className:"w-14 h-14 bg-gray-100 rounded-full flex items-center justify-center text-gray-400",children:c.jsx(iee,{className:"w-7 h-7"})}),c.jsxs("div",{className:"text-center",children:[c.jsxs("p",{className:"text-base font-medium text-gray-700",children:["   ",c.jsx("span",{className:"text-primary-500 font-semibold",children:""})," ",c.jsx("span",{className:"text-primary-500 font-semibold",children:""})," "]}),c.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"XLSX   ( 1MB)"})]})]}),lee=({file:e,onDelete:t})=>c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"absolute top-2 right-2",children:c.jsx(zn,{variant:"plain",onClick:t,icon:c.jsx(eg,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"}),label:" "})}),c.jsxs(fe,{direction:"flex-col",align:"items-center",justify:"justify-center",gap:"gap-3",children:[c.jsx("div",{className:"w-14 h-14 bg-green-100 rounded-full flex items-center justify-center text-green-500",children:c.jsx(see,{className:"w-7 h-7"})}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-base font-semibold text-gray-900",children:e.name}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"' '    "}),c.jsx("p",{className:"mt-0.5 text-xs text-gray-400",children:"   "})]})]})]});function uee({nextStep:e,file:t,onFileSelected:n}){const r=()=>{t&&e()};return c.jsx(Yt,{variant:"outlined",className:"w-full mx-auto p-8",children:c.jsxs(fe,{direction:"flex-col",gap:"gap-6",align:"items-center",children:[c.jsxs(fe,{direction:"flex-col",gap:"gap-2",align:"items-center",children:[c.jsx(mt,{level:2,size:"xxl",children:" "}),c.jsx(Xt,{children:"      ."}),c.jsx("p",{className:"text-xs text-gray-400",children:"       ."})]}),c.jsx(aee,{onFileSelect:n,selectedFile:t,onDeleteFile:()=>n(null),accept:".xlsx"}),c.jsxs(fe,{justify:"justify-end",gap:"gap-3",className:"w-full mt-2",children:[c.jsx(ct,{variant:"secondary",size:"medium",onClick:()=>n(null),children:""}),c.jsx(ct,{variant:"primary",size:"medium",onClick:r,disabled:!t,children:" "})]})]})})}const cee=async e=>{const t=new FormData;if(t.append("file",e),!(await $o("/api/graduation/check",{method:"POST",body:t})).ok)throw new Error("Network response was not ok")},dee=()=>xi({mutationFn:cee});function hee(e,t,n){const r=$n(),{mutate:i}=dee(),[s,a]=T.useState("uploading"),{data:o,isError:u}=N8(s==="fetching"),[d,f]=T.useState(!1),p=Ia(y=>y.addToast);return T.useEffect(()=>{!n||d||(f(!0),i(n,{onSuccess:()=>{r.removeQueries({queryKey:mi.check()}),a("fetching")},onError:()=>{p("  .  .","file-upload-error"),t()}}))},[n,d,i,r,p,t]),T.useEffect(()=>{o&&s==="fetching"&&(a("done"),e())},[o,s,e]),T.useEffect(()=>{u&&s==="fetching"&&(p("     .","fetching-graduation-result-error"),t())},[u,s,p,t]),{message:{uploading:"  ...",fetching:"   ...",done:" .   ."}[s]}}const I8=({message:e})=>c.jsx(fe,{"flex-direction":"column","justify-content":"center","align-item":"center",style:{height:"100%"},children:c.jsxs(fe,{direction:"flex-col",align:"items-center",justify:"justify-center",children:[c.jsx(fee,{}),c.jsx("p",{className:"font-semibold text-lg",children:e||" "}),c.jsx(Xt,{children:"  ."})]})});function fee(){return c.jsxs(c.Fragment,{children:[c.jsx("img",{src:"/ci.svg",alt:"Loading",style:{width:80,height:80,animation:"spin 1.5s linear infinite"}}),c.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `})]})}function pee({nextStep:e,prevStep:t,file:n}){const{message:r}=hee(e,t,n);return c.jsx(Yt,{variant:"outlined",className:"w-full mx-auto p-8",children:c.jsx(fe,{direction:"flex-col",align:"items-center",justify:"justify-center",className:"py-4 px-4",children:c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx(mt,{level:2,size:"xxl",className:"text-gray-900",children:"   "}),c.jsx(fe,{direction:"flex-col",gap:"gap-6",className:"py-8",children:c.jsx(I8,{message:r})})]})})})}const Zu={NO_STUDENT_ID:" ",INVALID_STUDENT_ID:"   ",INVALID_STUDENT_ID_LENGTH:" 8  ",NO_PASSWORD:" ",SHORT_PASSWORD:"  4  ",NO_AGREE_TO_TERMS:"  "},wo=(e,t)=>{switch(e){case"studentId":{const n=t;return n.trim()?/^\d+$/.test(n)?n.length!==8?Zu.INVALID_STUDENT_ID_LENGTH:void 0:Zu.INVALID_STUDENT_ID:Zu.NO_STUDENT_ID}case"password":{const n=t;return n.trim()?n.length<4?Zu.SHORT_PASSWORD:void 0:Zu.NO_PASSWORD}case"agreeToTerms":return t?void 0:Zu.NO_AGREE_TO_TERMS;default:return}},mee=e=>{const[t,n]=T.useState(e);return{values:t,onChange:i=>{const{name:s,type:a,value:o,checked:u}=i.target;n(d=>({...d,[s]:a==="checkbox"?u:a==="number"?parseInt(o):o}))},setValues:n}},gee=()=>{const{values:e,onChange:t}=mee({studentId:"",password:"",agreeToTerms:!1}),[n,r]=T.useState({}),i=T.useRef({studentId:!1,password:!1,agreeToTerms:!1}),s=(d,f)=>{const{type:p,checked:g,value:y}=f.target,b=p==="checkbox"?g:y;t(f),r(_=>({..._,[d]:wo(d,b)}))},a=d=>{i.current[d]=!0,r(f=>({...f,[d]:wo(d,e[d])}))},o=d=>f=>{f.preventDefault();const p={studentId:wo("studentId",e.studentId),password:wo("password",e.password),agreeToTerms:wo("agreeToTerms",e.agreeToTerms)};r(p),Object.values(p).some(Boolean)||d(e)},u=!wo("studentId",e.studentId)&&!wo("password",e.password)&&!wo("agreeToTerms",e.agreeToTerms);return{values:e,errors:n,touched:i.current,onChange:s,onBlur:a,submit:o,isValid:u}},yee=async({studentId:e,password:t})=>{const n=await $o("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({studentId:e,password:t})});if(!n.ok)throw new Error(await n.text())},xee=async()=>{const e=await $o("/api/auth/logout",{method:"POST"});if(!e.ok)throw new Error(await e.text())},vee=async()=>vi("/api/auth/me"),L8=async e=>{const t=await $o("/api/auth/me",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(await t.text())},bee=async()=>{await WC("/api/auth/me")},ef=["auth","me"];function wee(){return Cr({queryKey:ef,queryFn:vee,retry:!1,staleTime:1/0})}function _ee(){const e=$n();return xi({mutationFn:t=>yee(t),onSuccess:()=>{e.invalidateQueries({queryKey:ef})}})}function See(){const e=$n();return xi({mutationFn:xee,onSuccess:()=>{e.removeQueries({queryKey:ef})}})}function Cee(){const e=$n();return xi({mutationFn:t=>L8(t),onSuccess:()=>{e.invalidateQueries({queryKey:ef})}})}function jee(){const e=$n();return xi({mutationFn:bee,onSuccess:()=>{e.removeQueries({queryKey:ef})}})}function kee(e){try{const{message:t}=JSON.parse(e.message);return t==="DEPARTMENT_NOT_FOUND"}catch{return!1}}function Eee({onSuccess:e,onDepartmentNotFound:t}){const{values:n,errors:r,touched:i,onChange:s,onBlur:a,submit:o,isValid:u}=gee(),{mutate:d,isPending:f}=_ee(),p=Ia(_=>_.addToast),g=()=>{e?.(),p(" .","login-success")},y=_=>{kee(_)?(t?.(),e?.(),p("    .    .","login-dept-not-found")):p(" .   .","login-error")},b=_=>{d({studentId:_.studentId,password:_.password},{onSuccess:g,onError:y})};return c.jsxs(Yt,{variant:"outlined",className:"w-full  mx-auto p-8",children:[c.jsx(mt,{level:2,size:"xxl",className:"mb-6 text-center",children:"   "}),c.jsxs(Xt,{className:"mb-6 text-center",children:["    ,     .",c.jsx("br",{}),c.jsx("span",{className:"font-semibold text-primary",children:"  "}),",  ."]}),c.jsxs("form",{onSubmit:o(b),className:"flex flex-col gap-6",children:[c.jsx(_m,{label:"",name:"studentId",id:"studentId",size:"medium",value:n.studentId,onChange:_=>s("studentId",_),onBlur:()=>a("studentId"),isError:i.studentId&&!!r.studentId,errorMessage:r.studentId,required:!0,placeholder:" "}),c.jsx(_m,{label:"",name:"password",id:"password",type:"password",size:"medium",value:n.password,onChange:_=>s("password",_),onBlur:()=>a("password"),isError:i.password&&!!r.password,errorMessage:r.password,required:!0,placeholder:"    ."}),c.jsx(fe,{direction:"flex-col",gap:"gap-2",children:c.jsxs(fe,{align:"items-center",gap:"gap-2",children:[c.jsx(Ih,{label:"  .",name:"agreeToTerms",checked:n.agreeToTerms,onChange:_=>s("agreeToTerms",_),onBlur:()=>a("agreeToTerms")}),c.jsx(ct,{asChild:!0,variant:"text",textColor:"primary",size:"small",children:c.jsx("a",{href:"/privacy-policy",target:"_blank",rel:"noopener noreferrer",children:" "})})]})}),c.jsx(ct,{type:"submit",variant:"primary",size:"medium",disabled:!u||f,children:f?" ...":""})]})]})}const Tee=({nextStep:e,prevStep:t,isDepartmentNotFound:n})=>{const[r,i]=T.useState("SINGLE"),[s,a]=T.useState(""),[o,u]=T.useState(""),[d,f]=T.useState(!1),[p,g]=T.useState(""),[y,b]=T.useState(""),[_,C]=T.useState(""),[k,P]=T.useState(!1),[A,U]=T.useState(""),{data:V}=P8(),{mutate:I,isPending:O}=xi({mutationFn:L8}),B=Ia.getState().addToast,{filteredDepartments:W}=Ox({category:"",searchKeywords:p,departments:V}),{filteredDepartments:F}=Ox({category:"",searchKeywords:A,departments:V}),se=Z=>{i(Z),Z==="SINGLE"&&(a(""),u(""))},J=(Z,X)=>{a(Z),u(X),g(X),f(!1)},xe=(Z,X)=>{b(Z),C(X),U(X),P(!1)},G=(r==="SINGLE"||r==="DOUBLE"&&s!=="")&&(!n||y!==""),$=r==="DOUBLE"||n,ee=()=>{if(!$){e();return}I({deptNm:n?_:null,majorType:r,doubleDeptNm:r==="DOUBLE"?o:null},{onSuccess:()=>{e()},onError:()=>{B("   .  .","department-set-errror")}})};return c.jsx(Yt,{variant:"outlined",className:"w-full mx-auto p-8",children:c.jsxs(fe,{direction:"flex-col",gap:"gap-8",children:[c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx(mt,{level:2,size:"xl",children:"  "}),c.jsx(Xt,{children:"       ."})]}),c.jsxs(fe,{direction:"flex-col",gap:"gap-6",children:[c.jsxs(fe,{direction:"flex-col",gap:"gap-2",children:[c.jsx(wn,{required:!0,children:" "}),c.jsxs(Os,{columns:{base:2},gap:"gap-2",children:[c.jsx(yn,{label:"",selected:r==="SINGLE",onClick:()=>se("SINGLE")}),c.jsx(yn,{label:"",selected:r==="DOUBLE",onClick:()=>se("DOUBLE")})]})]}),n&&c.jsxs(fe,{direction:"flex-col",gap:"gap-2",children:[c.jsxs(Xt,{children:[c.jsx("span",{className:"text-primary",children:"26  "}),"    ,  ."]}),c.jsx(wn,{required:!0,children:" "}),c.jsxs("div",{className:"relative",children:[c.jsx(La,{placeholder:" ",value:A,onChange:Z=>{U(Z.target.value),P(!0),y&&b("")},onFocus:()=>P(!0),onDelete:()=>{U(""),b(""),C(""),P(!1)},className:"w-full"}),k&&c.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-auto",children:F&&F.length>0?F.map(Z=>{const X=Z.departmentName||"  ",pe=y===Z.departmentCode;return c.jsx(Sm,{selected:pe,left:c.jsx("span",{children:X}),right:pe?c.jsx(zm,{className:"w-4 h-4 shrink-0"}):null,onSelect:()=>xe(Z.departmentCode,X)},Z.departmentCode)}):c.jsx("div",{className:"p-4",children:c.jsx(jc,{title:"  .",description:"   ."})})})]})]}),r==="DOUBLE"&&c.jsxs(fe,{direction:"flex-col",gap:"gap-2",children:[c.jsx(wn,{required:!0,children:" "}),c.jsxs("div",{className:"relative",children:[c.jsx(La,{placeholder:" ",value:p,onChange:Z=>{g(Z.target.value),f(!0),s&&a("")},onFocus:()=>f(!0),onDelete:()=>{g(""),a(""),u(""),f(!1)},className:"w-full"}),d&&c.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-auto",children:W&&W.length>0?W.map(Z=>{const X=Z.departmentName||"  ",pe=s===Z.departmentCode;return c.jsx(Sm,{selected:pe,left:c.jsx("span",{children:X}),right:pe?c.jsx(zm,{className:"w-4 h-4 shrink-0"}):null,onSelect:()=>J(Z.departmentCode,X)},Z.departmentCode)}):c.jsx("div",{className:"p-4",children:c.jsx(jc,{title:"  .",description:"   ."})})})]})]})]}),c.jsxs(fe,{justify:"justify-end",className:"mt-4 w-full",children:[c.jsx(ct,{onClick:t,variant:"secondary",size:"small",children:" "}),c.jsx(ct,{variant:"primary",size:"medium",onClick:ee,disabled:!G||O,children:O?" ...":" "})]})]})})},Nee=({step:e,nextStep:t,prevStep:n,isDepartmentNotFound:r,setIsDepartmentNotFound:i})=>{const[s,a]=T.useState(null);switch(e){case Rt.LOGIN:return c.jsx(Eee,{onSuccess:t,onDepartmentNotFound:()=>i?.(!0)});case Rt.DEPARTMENT_INFO:return c.jsx(Tee,{nextStep:t,prevStep:n,isDepartmentNotFound:r});case Rt.FILE_UPLOAD:return c.jsxs(fe,{direction:"flex-col",gap:"gap-6",children:[c.jsx(uee,{nextStep:t,prevStep:n,file:s,onFileSelected:a}),c.jsx(ree,{})]});case Rt.UPLOADING:return c.jsx(pee,{nextStep:t,prevStep:n,file:s});default:return c.jsx(Pee,{nextStep:t,prevStep:n,children:"Unknown Step"})}};function Pee({nextStep:e,children:t}){return c.jsxs("div",{children:[c.jsx("h1",{children:t}),c.jsx(ct,{onClick:e,variant:"primary",size:"small",children:""})]})}function Oee(){const{step:e,nextStep:t,prevStep:n,isLoading:r,isDepartmentNotFound:i,setIsDepartmentNotFound:s}=R8();return r?c.jsx(fe,{direction:"flex-col",justify:"justify-center",align:"items-center",className:"min-h-[50vh]",children:c.jsx(C8,{})}):c.jsxs(fe,{direction:"flex-col",gap:"gap-4",className:"w-full max-w-4xl mx-auto p-4",children:[c.jsx(nee,{currentStep:e}),c.jsx(A8,{resetKey:e,children:c.jsx(Nee,{step:e,nextStep:t,prevStep:n,isDepartmentNotFound:i,setIsDepartmentNotFound:s})})]})}function Ree(){return c.jsxs(c.Fragment,{children:[c.jsxs(Un,{children:[c.jsx("title",{children:"ALLCLL | "}),c.jsx("meta",{name:"description",content:"  ."})]}),c.jsx(Oee,{})]})}function Aee({onSuccess:e,variant:t="secondary",size:n="medium"}){const{mutate:r,isPending:i}=See(),s=Ia.getState().addToast,a=()=>{window.confirm("?")&&r(void 0,{onSuccess:()=>{e?.(),s(" .","logout")},onError:()=>{s(" .  .","error")}})};return c.jsx(ct,{variant:t,size:n,onClick:a,disabled:i,children:i?" ...":""})}function Iee(){const e=wee(),t=N8();return{user:e.data,graduationData:t.data,isPending:e.isPending||t.isPending,isLoading:e.isLoading||t.isLoading,isError:e.isError||t.isError,error:e.error||t.error}}const fm=["MAJOR_REQUIRED","MAJOR_ELECTIVE","MAJOR_BASIC"],D8=["COMMON_REQUIRED","BALANCE_REQUIRED","ACADEMIC_BASIC","GENERAL_ELECTIVE"];function Km(e,t){return e.filter(n=>t.includes(n.categoryType))}function Lee(e){return Km(e,fm).every(n=>n.satisfied)}function Dee(e){return Km(e,D8).every(n=>n.satisfied)}function Mee(e){switch(e){case"SINGLE":return["PRIMARY"];case"DOUBLE":return["PRIMARY","SECONDARY"];case"MINOR":return["PRIMARY","MINOR"];default:return["PRIMARY"]}}function N4(e,t,n){return e.filter(r=>r.majorScope===t&&n.includes(r.categoryType))}const M8={COMMON_REQUIRED:"",BALANCE_REQUIRED:"",ACADEMIC_BASIC:"",GENERAL_ELECTIVE:"",MAJOR_REQUIRED:"",MAJOR_ELECTIVE:"",MAJOR_BASIC:"",TOTAL_COMPLETION:""},Fee={WESTERN_HISTORY_THOUGHT:"",EASTERN_HISTORY_THOUGHT:"",EAST_WEST_LITERATURE:" ",SCIENCE_THOUGHT:" "},P4={PRIMARY:"",SECONDARY:"",MINOR:""},O4={HISTORY_THOUGHT:" ",CULTURE_ARTS:" ",ECONOMY_SOCIETY:" ",NATURE_SCIENCE:" "};function Bee(e){return e?" ":""}const zee=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",...e},T.createElement("circle",{cx:12,cy:12,r:10}),T.createElement("path",{d:"m9 12 2 2 4-4"})),Uee=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",...e},T.createElement("circle",{cx:12,cy:12,r:10}),T.createElement("path",{d:"m15 9-6 6"}),T.createElement("path",{d:"m9 9 6 6"}));As.register(zh,Qo,Wo);function F8({earned:e,required:t,size:n="medium",showPercentage:r=!0}){const i=t===0?100:Math.min(100,Math.round(e/t*100)),s=Math.max(0,t-e),a=Math.min(e,t),u={small:{width:100,height:100,fontSize:"text-lg"},medium:{width:140,height:140,fontSize:"text-2xl"},large:{width:180,height:180,fontSize:"text-3xl"}}[n],d={datasets:[{data:[a,s],backgroundColor:[vv.primary[500],"#E5E7EB"],borderWidth:0,cutout:"75%"}]},f={responsive:!0,maintainAspectRatio:!0,plugins:{legend:{display:!1},tooltip:{enabled:!1}}};return c.jsxs("div",{className:"relative flex items-center justify-center",style:{width:u.width,height:u.height},children:[c.jsx(gg,{data:d,options:f}),r&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsxs("span",{className:`${u.fontSize} font-bold text-primary-500`,children:[i,"%"]})})]})}function O1({passed:e,label:t}){return c.jsxs(fe,{direction:"flex-col",align:"items-center",gap:"gap-2",className:"md:flex-row",children:[c.jsx("div",{className:e?"text-primary-500":"text-gray-400",children:e?c.jsx(zee,{className:"w-8 h-8"}):c.jsx(Uee,{className:"w-8 h-8"})}),c.jsx("span",{className:"text-xs md:text-sm text-gray-600",children:t})]})}function $ee({user:e,graduationData:t}){const{summary:n,categories:r,certifications:i}=t,s=Lee(r),a=Dee(r),o=i.isSatisfied;return c.jsx(Yt,{variant:"outlined",className:"p-6 md:p-10",children:c.jsxs(fe,{direction:"flex-col",gap:"gap-4",className:"md:flex-row md:justify-between md:items-center",children:[c.jsxs(fe,{direction:"flex-col",gap:"gap-3",className:"md:flex-1",children:[c.jsxs(fe,{align:"items-center",gap:"gap-3",children:[c.jsx(Xt,{children:" "}),c.jsx(Xi,{variant:t.isGraduatable?"success":"warning",children:t.isGraduatable?" ":" "})]}),c.jsx("div",{children:t.isGraduatable?c.jsxs("p",{className:"text-xl md:text-2xl font-bold",children:["  ",c.jsx("span",{className:"text-primary-500",children:"ALLCLL"})]}):c.jsxs(c.Fragment,{children:[c.jsxs("p",{className:"text-xl md:text-2xl font-bold",children:[""," ",c.jsxs("span",{className:"text-primary-500",children:[n.totalMyCredits,"/",n.requiredTotalCredits,""]})," "," "]}),c.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[" ",n.remainingCredits," ."]})]})}),c.jsxs(fe,{direction:"flex-col",gap:"gap-1",className:"text-sm text-gray-600 md:mt-2",children:[c.jsxs(fe,{gap:"gap-2",children:[c.jsx("span",{className:"text-gray-500 w-16 shrink-0",children:""}),c.jsx("span",{children:e.name})]}),c.jsxs(fe,{gap:"gap-2",children:[c.jsx("span",{className:"text-gray-500 w-16 shrink-0",children:""}),c.jsx("span",{children:e.studentId})]}),c.jsxs(fe,{gap:"gap-2",children:[c.jsx("span",{className:"text-gray-500 w-16 shrink-0",children:""}),c.jsxs("span",{children:[e.deptName,"(",e.collegeName,")"]})]}),e.doubleDeptName&&c.jsxs(fe,{gap:"gap-2",children:[c.jsx("span",{className:"text-gray-500 w-16 shrink-0",children:""}),c.jsxs("span",{children:[e.doubleDeptName,"(",e.doubleCollegeName,")"]})]})]})]}),c.jsxs(fe,{direction:"flex-col",className:"md:flex-row md:items-center md:gap-24",children:[c.jsxs(fe,{justify:"justify-between",className:"md:flex-col md:gap-6 py-4 px-5 md:p-0",children:[c.jsx(O1,{passed:s,label:""}),c.jsx(O1,{passed:a,label:""}),c.jsx(O1,{passed:o,label:""})]}),c.jsx(fe,{justify:"justify-center",className:"py-4 md:py-0",children:c.jsx(F8,{earned:n.totalMyCredits,required:n.requiredTotalCredits,size:"large"})})]})]})})}function Hee({category:e}){return c.jsxs(fe,{direction:"flex-col",gap:"gap-1",className:"text-sm",children:[c.jsxs(fe,{justify:"justify-end",align:"items-center",gap:"gap-6",children:[c.jsx("span",{className:"text-gray-500",children:" "}),c.jsxs("span",{children:[c.jsx("span",{className:"text-primary-500 text-xl font-semibold",children:e.earnedAreasCnt??0}),c.jsx("span",{className:"text-gray-400 mx-1",children:"/"}),c.jsx("span",{className:"text-lg font-semibold text-gray-600",children:e.requiredAreasCnt??0})]})]}),c.jsxs(fe,{justify:"justify-end",align:"items-center",gap:"gap-6",children:[c.jsx("span",{className:"text-gray-500",children:" "}),c.jsxs("span",{children:[c.jsx("span",{className:"text-primary-500 text-xl font-semibold",children:e.earnedCredits}),c.jsx("span",{className:"text-gray-400 mx-1",children:"/"}),c.jsx("span",{className:"text-lg font-semibold text-gray-600",children:e.requiredCredits})]})]})]})}function Vee({category:e}){return c.jsxs(fe,{direction:"flex-col",gap:"gap-1",className:"text-sm",children:[c.jsxs(fe,{justify:"justify-end",align:"items-center",gap:"gap-6",children:[c.jsx("span",{className:"text-gray-500",children:" "}),c.jsx("span",{className:"text-primary-500 text-xl font-semibold",children:e.earnedCredits})]}),c.jsxs(fe,{justify:"justify-end",align:"items-center",gap:"gap-6",children:[c.jsx("span",{className:"text-gray-500",children:" "}),c.jsx("span",{className:"text-lg font-semibold text-gray-600",children:e.requiredCredits})]})]})}function ec({category:e,criteriaCategory:t,onViewCourses:n}){const r=M8[e.categoryType],i=Bee(e.satisfied),s=e.categoryType==="BALANCE_REQUIRED"&&e.requiredAreasCnt!=null,a=()=>{n?.(e.categoryType,t,e.earnedAreas??void 0)};return c.jsx(Yt,{variant:"outlined",className:"h-full",children:c.jsxs(fe,{direction:"flex-col",gap:"gap-2",className:"h-full",children:[c.jsx("div",{className:"text-center",children:c.jsx("span",{className:"text-lg font-bold",children:r})}),c.jsx(fe,{justify:"justify-center",children:c.jsx(F8,{earned:s?e.earnedAreasCnt??0:e.earnedCredits,required:s?e.requiredAreasCnt??0:e.requiredCredits,size:"medium"})}),s?c.jsx(Hee,{category:e}):c.jsx(Vee,{category:e}),c.jsx("div",{className:"w-full",children:c.jsx("div",{className:`w-full py-2 text-center rounded-md text-sm font-semibold ${e.satisfied?"bg-primary-50 text-primary":"bg-secondary-50 text-secondary-500"}`,children:i})}),c.jsx("div",{className:"w-full mt-auto [&>button]:w-full",children:c.jsx(ct,{variant:"outlined",size:"small",onClick:a,disabled:e.satisfied,children:" "})})]})})}function B8({targetType:e}){const t=e!=="NON_MAJOR";return c.jsx("div",{children:c.jsx(Xi,{variant:t?"success":"default",children:t?"":""})})}function z8({headers:e,rows:t}){return c.jsx("div",{className:"text-sm",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-gray-200",children:[c.jsx("th",{className:"py-2 text-left text-gray-500 font-medium",children:e[0]}),c.jsx("th",{className:"py-2 text-right text-gray-500 font-medium",children:e[1]})]})}),c.jsx("tbody",{children:t.map(n=>c.jsxs("tr",{className:"border-b border-gray-50",children:[c.jsx("td",{className:"py-2 text-gray-700",children:n.label}),c.jsx("td",{className:"py-2 text-right font-medium",children:n.value})]},n.key))})]})})}function pm({label:e,value:t}){return c.jsxs("div",{className:"bg-gray-50 rounded-md p-3",children:[c.jsx("p",{className:"text-xs text-gray-500 mb-1",children:e}),c.jsx("p",{className:"text-sm font-medium",children:t})]})}const qee=[{key:"toeic",label:"TOEIC",field:"toeicMinScore",unit:""},{key:"toefl",label:"TOEFL iBT",field:"toeflIbtMinScore",unit:""},{key:"teps",label:"TEPS",field:"tepsMinScore",unit:""},{key:"newTeps",label:"New TEPS",field:"newTepsMinScore",unit:""},{key:"opic",label:"OPIc",field:"opicMinLevel",unit:""},{key:"toeicSpeaking",label:"TOEIC Speaking",field:"toeicSpeakingMinLevel",unit:""}];function Wee({data:e}){const{englishCertCriteria:t}=e;return t?c.jsxs(c.Fragment,{children:[c.jsx(B8,{targetType:t.englishTargetType}),c.jsxs("p",{className:"text-sm text-gray-600",children:["   ",c.jsx("span",{className:"font-semibold text-primary-500",children:"1"}),"   ."]}),c.jsx(z8,{headers:["",""],rows:[...qee.map(n=>({key:n.key,label:n.label,value:`${t[n.field]}${n.unit} `})),{key:"gtelp",label:`G-TELP Level ${t.gtelpLevel}`,value:`${t.gtelpMinScore} `},{key:"gtelpSpeaking",label:`G-TELP Speaking Level ${t.gtelpSpeakingLevel}`,value:""}]}),c.jsx("p",{className:"text-xs text-gray-500 font-medium",children:" "}),c.jsx(pm,{label:t.altCourse.altCuriNm,value:`${t.altCourse.altCuriCredit}`})]}):c.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"   ."})}const Qee=[{key:"western",label:"  ",field:"requiredCountWestern"},{key:"eastern",label:"  ",field:"requiredCountEastern"},{key:"eastWest",label:" ",field:"requiredCountEasternAndWestern"},{key:"science",label:" ",field:"requiredCountScience"}];function Kee({data:e}){const{classicCertCriteria:t}=e;return c.jsxs(c.Fragment,{children:[c.jsxs("p",{className:"text-sm text-gray-600",children:[" ",c.jsxs("span",{className:"font-semibold text-primary-500",children:[t.totalRequiredCount,""]}),"  .      ."]}),c.jsx(z8,{headers:[""," "],rows:Qee.map(n=>({key:n.key,label:n.label,value:`${t[n.field]}`}))}),c.jsxs("div",{className:"flex justify-between items-center bg-gray-50 rounded-md px-3 py-2",children:[c.jsx("span",{className:"text-sm text-gray-600 font-medium",children:""}),c.jsxs("span",{className:"text-sm font-bold text-primary-600",children:[t.totalRequiredCount,""]})]})]})}function Gee({data:e}){const{codingCertCriteria:t}=e;if(!t)return c.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"   ."});const{altCourse:n}=t;return c.jsxs(c.Fragment,{children:[c.jsx(B8,{targetType:t.codingTargetType}),c.jsxs("p",{className:"text-sm text-gray-600",children:["   ",c.jsx("span",{className:"font-semibold text-primary-500",children:"1"}),"  ."]}),c.jsx(pm,{label:"TOSC (SW)",value:`Level ${t.toscMinLevel} `}),c.jsx("p",{className:"text-xs text-gray-500 font-medium",children:" "}),c.jsx(pm,{label:n.alt1CuriNm,value:`${n.alt1MinGrade} `}),n.alt2CuriNo&&c.jsx(pm,{label:n.alt2CuriNm,value:`${n.alt2MinGrade} `})]})}const Yee={english:"  ",classic:"  ",coding:"SW  "},Jee={english:Wee,classic:Kee,coding:Gee};function Xee({isOpen:e,onClose:t,criteriaType:n}){const{data:r,isPending:i,isError:s}=XZ(e);Lh(e);const a=Yee[n],o=Jee[n];return c.jsxs(tn,{title:a,onClose:t,isOpen:e,children:[c.jsx(tn.Content,{children:c.jsxs(fe,{direction:"flex-col",gap:"gap-3",className:"min-w-64 md:min-w-96 h-80 overflow-y-auto",children:[i&&c.jsx("p",{className:"text-sm text-gray-400 text-center py-8",children:" ..."}),s&&c.jsx("p",{className:"text-sm text-secondary-500 text-center py-8",children:"    ."}),r&&c.jsx(o,{data:r})]})}),c.jsx(tn.Footer,{children:c.jsx(ct,{variant:"primary",size:"small",onClick:t,children:""})})]})}function R1({title:e,passed:t,customStatus:n,children:r,onViewStandards:i,certificationType:s}){const a=t?"":n??"";return c.jsx(Yt,{variant:"outlined",className:"h-full",children:c.jsxs(fe,{direction:"flex-col",gap:"gap-4",className:"h-full",children:[c.jsx("div",{className:"text-center",children:c.jsx("span",{className:"text-lg font-bold",children:e})}),c.jsx("div",{className:"flex-1",children:r}),c.jsx("div",{className:`w-full py-2 text-center rounded-md text-sm font-semibold ${t?"bg-primary-50 text-primary":"bg-secondary-50 text-secondary-500"}`,children:a}),c.jsx("div",{className:"w-full [&>button]:w-full",children:c.jsx(ct,{variant:"outlined",size:"small",onClick:()=>i?.(s),children:" "})})]})})}function Zee({domains:e}){return c.jsx("div",{className:"text-sm",children:c.jsx("table",{className:"w-full",children:c.jsx("tbody",{children:e.map(t=>c.jsxs("tr",{children:[c.jsx("td",{className:"py-1 text-gray-600",children:Fee[t.domainType]}),c.jsx("td",{className:"py-1 text-right",children:c.jsxs("span",{className:t.satisfied?"text-primary-500":"text-gray-900",children:[t.myCount,"/",t.requiredCount,""]})})]},t.domainType))})})})}function R4({certifications:e}){const{english:t,coding:n,classic:r,passedCount:i,requiredPassCount:s}=e,[a,o]=T.useState(null),u=y=>{o(y)},d={english:" ",coding:"  ",classic:"  "},f=Object.keys(d).filter(y=>e[y].isRequired).map(y=>d[y]),p=s>=f.length?`${f.join(" ")}     .`:`${f.join(", ")}  ${s}     .`,g={requiredCount:r.totalRequiredCount,myCount:r.totalMyCount};return c.jsxs("section",{children:[c.jsxs(fe,{align:"items-center",gap:"gap-3",children:[c.jsx(mt,{level:2,children:""}),c.jsxs(Xi,{variant:e.isSatisfied?"success":"danger",children:[i,"/",s]})]}),c.jsx(Xt,{className:"mb-6",children:p}),c.jsxs(Os,{columns:{base:1,md:3},gap:"gap-4",children:[t.isRequired&&c.jsx(R1,{title:"",passed:t.isPassed,onViewStandards:u,certificationType:"english",children:c.jsx(fe,{justify:"justify-center",align:"items-center",className:"h-full",children:t.isPassed?c.jsx("span",{className:"text-primary",children:" "}):c.jsx("span",{className:"text-gray-500",children:"  "})})}),r.isRequired&&c.jsx(R1,{title:"",passed:r.isPassed,customStatus:`${g.myCount}/${g.requiredCount}`,onViewStandards:u,certificationType:"classic",children:c.jsx(Zee,{domains:r.domains})}),n.isRequired&&c.jsx(R1,{title:"SW",passed:n.isPassed,onViewStandards:u,certificationType:"coding",children:c.jsx(fe,{justify:"justify-center",align:"items-center",className:"h-full",children:n.isPassed?c.jsx("span",{className:"text-primary",children:" "}):c.jsx("span",{className:"text-gray-500",children:"  "})})})]}),a&&c.jsx(Xee,{isOpen:!0,onClose:()=>o(null),criteriaType:a})]})}const ete=[{key:"major",label:""},{key:"general",label:""},{key:"certification",label:""}];function tte({activeTab:e,onTabChange:t}){return c.jsx(fe,{className:"border-b border-gray-200 mb-6",children:ete.map(n=>c.jsxs("button",{type:"button",onClick:()=>t(n.key),className:`flex-1 py-3 text-sm font-medium transition-colors relative ${e===n.key?"text-primary-500":"text-gray-500 hover:text-gray-700"}`,children:[n.label,e===n.key&&c.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary-500"})]},n.key))})}function nte(e="major"){const[t,n]=T.useState(e);return{activeTab:t,setActiveTab:n}}function U8({courses:e}){return c.jsx("div",{className:"flex flex-col gap-2",children:e.map((t,n)=>c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-gray-50 rounded-md",children:[c.jsx("span",{className:"text-sm font-medium",children:t.curiNm}),c.jsx("span",{className:"text-xs text-gray-400 ml-4 shrink-0",children:t.curiNo})]},`${t.curiNo}-${n}`))})}function rte({criteriaCategory:e,earnedAreas:t=[]}){const{balanceAreaCourses:n,requiredAreasCnt:r,excludedArea:i}=e;return c.jsxs(fe,{direction:"flex-col",gap:"gap-4",className:"min-w-64 md:min-w-96",children:[c.jsxs("p",{className:"text-sm text-gray-600",children:["   ",c.jsxs("span",{className:"text-primary-500 font-semibold",children:[r," "]}),"  .",i&&c.jsxs("span",{className:"text-gray-400",children:[" (",O4[i],"  )"]})]}),c.jsx("div",{className:"flex flex-col gap-4 max-h-80 overflow-y-auto",children:n?.map(s=>{const a=t.includes(s.balanceRequiredArea);return c.jsxs("div",{children:[c.jsxs("h4",{className:"flex items-center gap-2 text-sm font-semibold mb-2",children:[a?c.jsx("svg",{className:"w-4 h-4 text-primary-500 shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):c.jsx("svg",{className:"w-4 h-4 text-gray-300 shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("circle",{cx:"12",cy:"12",r:"9",strokeWidth:2})}),c.jsx("span",{className:a?"text-primary-600":"text-gray-700",children:O4[s.balanceRequiredArea]}),!a&&c.jsxs("span",{className:"text-xs text-gray-400",children:[s.requiredCourses.length," "]}),a&&c.jsx("span",{className:"text-xs text-primary-500",children:" "})]}),c.jsx(U8,{courses:s.requiredCourses})]},s.balanceRequiredArea)})})]})}function ite({categoryLabel:e,courses:t}){return t.length>0?c.jsxs(fe,{direction:"flex-col",gap:"gap-2",className:"min-w-64 md:min-w-96",children:[c.jsxs("p",{className:"text-sm text-gray-600",children:["   ",c.jsx("span",{className:"text-primary-500 font-semibold",children:e}),"    ."]}),c.jsxs("span",{className:"text-xs text-gray-400",children:[t.length," "]}),c.jsx("div",{className:"h-72 overflow-y-auto",children:c.jsx(U8,{courses:t})})]}):c.jsx(fe,{justify:"justify-center",align:"items-center",className:"min-w-64 md:min-w-96 h-72",children:c.jsx("p",{className:"text-sm text-gray-400",children:"  ."})})}function ste({isOpen:e,onClose:t,categoryType:n,criteriaCategory:r,earnedAreas:i}){const s=M8[n],a=n==="BALANCE_REQUIRED"&&r?.balanceAreaCourses!=null;return Lh(e),c.jsxs(tn,{title:`${s}  `,onClose:t,isOpen:e,children:[c.jsx(tn.Content,{children:a?c.jsx(rte,{criteriaCategory:r,earnedAreas:i}):c.jsx(ite,{categoryLabel:s,courses:r?.requiredCourses??[]})}),c.jsx(tn.Footer,{children:c.jsx(ct,{variant:"primary",size:"small",onClick:t,children:""})})]})}function A1({value:e,placeholder:t,options:n,isOpen:r,onToggle:i,onSelect:s}){const a=(e?n.find(o=>o.value===e)?.label:null)??t??"";return c.jsxs("div",{children:[c.jsx(yn,{label:a,selected:r,variant:"select",isChipOpen:r,onClick:i}),r&&c.jsx("div",{className:"mt-1 max-h-48 overflow-auto border border-gray-200 rounded-md",children:n.map(o=>c.jsx(Sm,{selected:o.value===e,left:c.jsx("span",{children:o.label}),onSelect:()=>s(o.value)},o.value))})]})}function ate(e,t,n){const r=$n(),i=Cee(),s=jee(),a=Da(),{data:o}=P8(),d=(o?.filter(O=>O.departmentCode!=="9005").map(O=>O.departmentName||"  ")??[]).map(O=>({value:O,label:O})),[f,p]=T.useState(e.majorType),[g,y]=T.useState(e.deptName),[b,_]=T.useState(e.doubleDeptName);T.useEffect(()=>{t&&(p(e.majorType),y(e.deptName),_(e.doubleDeptName))},[t]);const C=f==="SINGLE"||b!==null,k=g!==e.deptName,P=f!==e.majorType,A=b!==e.doubleDeptName,U=k||P||A;return{majorType:f,setMajorType:p,deptNm:g,setDeptNm:y,doubleDeptNm:b,setDoubleDeptNm:_,deptOptions:d,canSave:C,handleSave:()=>{if(!C)return;if(!U){n();return}if(!window.confirm("            . ?"))return;const O=f==="SINGLE"&&e.majorType!=="SINGLE",B={deptNm:k||O?g:null,majorType:f,doubleDeptNm:f==="DOUBLE"?b:null};i.mutate(B,{onSuccess:()=>{r.removeQueries({queryKey:mi.all}),n(),a("/graduation?retry=true&skipInfo=true")}})},handleDelete:()=>{window.confirm("  ?     .")&&s.mutate(void 0,{onSuccess:()=>{r.invalidateQueries({queryKey:mi.all}),n(),a("/")}})},isSaving:i.isPending,isDeleting:s.isPending}}const ote=[{value:"SINGLE",label:""},{value:"DOUBLE",label:""}];function lte({isOpen:e,onClose:t,user:n}){const{majorType:r,setMajorType:i,deptNm:s,setDeptNm:a,doubleDeptNm:o,setDoubleDeptNm:u,deptOptions:d,canSave:f,handleSave:p,handleDelete:g,isSaving:y,isDeleting:b}=ate(n,e,t);Lh(e);const[_,C]=T.useState(null);return c.jsxs(tn,{title:"  ",onClose:t,isOpen:e,children:[c.jsx(tn.Content,{children:c.jsxs(fe,{direction:"flex-col",gap:"gap-4",className:"min-w-64 md:min-w-80",children:[c.jsxs(fe,{direction:"flex-col",gap:"gap-1.5",children:[c.jsx(wn,{children:" "}),c.jsx(A1,{value:r,options:ote,isOpen:_==="majorType",onToggle:()=>C(_==="majorType"?null:"majorType"),onSelect:k=>{i(k),k==="SINGLE"&&u(null),C(null)}})]}),c.jsxs(fe,{direction:"flex-col",gap:"gap-1.5",children:[c.jsx(wn,{children:""}),c.jsx(A1,{value:s,options:d,isOpen:_==="dept",onToggle:()=>C(_==="dept"?null:"dept"),onSelect:k=>{a(k),C(null)}})]}),r==="DOUBLE"&&c.jsxs(fe,{direction:"flex-col",gap:"gap-1.5",children:[c.jsx(wn,{children:" "}),c.jsx(A1,{value:o,placeholder:" ",options:d,isOpen:_==="doubleDept",onToggle:()=>C(_==="doubleDept"?null:"doubleDept"),onSelect:k=>{u(k),C(null)}})]})]})}),c.jsx(tn.Footer,{children:c.jsxs(fe,{justify:"justify-between",className:"w-full",children:[c.jsx(ct,{variant:"secondary",size:"small",onClick:g,disabled:b,children:b?" ...":" "}),c.jsx(ct,{variant:"primary",size:"small",onClick:p,disabled:!f||y,children:y?" ...":""})]})})]})}function ute(){return c.jsx(fe,{justify:"justify-center",align:"items-center",className:"min-h-[50vh]",children:c.jsx(I8,{message:"    ."})})}function cte(){const e=bi(),t=$n(),n=Da(),[r,i]=T.useState(!0),[s,a]=T.useState(!1),[o,u]=T.useState(null),{activeTab:d,setActiveTab:f}=nte("major"),{user:p,graduationData:g,isPending:y,isError:b,error:_}=Iee(),{data:C}=ZZ(),k=()=>{window.confirm("   ?")&&n("/graduation?retry=true")},P=()=>{a(!0)},A=()=>{i(!1)},U=(J,xe,G)=>{u({categoryType:J,criteriaCategory:xe,earnedAreas:G})},V=()=>{u(null)};if(y)return c.jsxs(c.Fragment,{children:[c.jsx(Un,{children:c.jsx("title",{children:"ALLCLL |  "})}),c.jsx(ute,{})]});if(b||!p||!g)throw _||new Error("     .");const I=Km(g.categories,fm),O=Km(g.categories,D8),B=Mee(p.majorType),W=p.majorType==="SINGLE",F=(J,xe)=>C?.categories.find(G=>G.categoryType===J&&G.majorScope===xe),se=()=>{switch(d){case"major":return W?c.jsxs("section",{children:[c.jsx(mt,{level:2,className:"mb-4",children:"  "}),c.jsx(fe,{direction:"flex-col",gap:"gap-4",children:I.map(J=>c.jsx(ec,{category:J,criteriaCategory:F(J.categoryType,J.majorScope),onViewCourses:U},J.categoryType))})]}):c.jsx(fe,{direction:"flex-col",gap:"gap-6",children:B.map(J=>{const xe=N4(g.categories,J,fm),G=P4[J];return c.jsxs("section",{children:[c.jsxs(mt,{level:2,className:"mb-4",children:[G,"  "]}),c.jsx(fe,{direction:"flex-col",gap:"gap-4",children:xe.map($=>c.jsx(ec,{category:$,criteriaCategory:F($.categoryType,$.majorScope),onViewCourses:U},`${$.majorScope}-${$.categoryType}`))})]},J)})});case"general":return c.jsxs("section",{children:[c.jsx(mt,{level:2,className:"mb-4",children:"  "}),c.jsx(fe,{direction:"flex-col",gap:"gap-4",children:O.map(J=>c.jsx(ec,{category:J,criteriaCategory:F(J.categoryType,J.majorScope),onViewCourses:U},J.categoryType))})]});case"certification":return c.jsx(R4,{certifications:g.certifications});default:return null}};return c.jsxs(c.Fragment,{children:[c.jsxs(Un,{children:[c.jsx("title",{children:"ALLCLL |  "}),c.jsx("meta",{name:"description",content:"   ."})]}),r&&c.jsx(AC,{deleteBanner:A,children:"     .         ."}),c.jsxs("div",{className:"max-w-5xl mx-auto mt-2 px-4",children:[c.jsxs(fe,{justify:"justify-between",align:"items-center",children:[c.jsx(mt,{level:1,children:" "}),c.jsxs(fe,{gap:"gap-2",children:[c.jsx(ct,{variant:"text",size:"small",onClick:P,children:"  "}),c.jsx(Aee,{size:"small",onSuccess:()=>{t.removeQueries({queryKey:mi.all}),n("/graduation")}})]})]}),c.jsxs(Xt,{children:[p.name,"   ."]}),c.jsxs(fe,{direction:"flex-col",gap:"gap-2",className:"mb-4 mt-2",children:[c.jsx($ee,{user:p,graduationData:g}),c.jsx(fe,{justify:"justify-end",children:c.jsx("div",{className:"bg-white rounded-md",children:c.jsx(ct,{variant:"outlined",size:"medium",onClick:k,children:" "})})}),e?c.jsxs(c.Fragment,{children:[c.jsx(tte,{activeTab:d,onTabChange:f}),se()]}):c.jsxs(fe,{direction:"flex-col",gap:"gap-4",children:[W?c.jsxs("section",{children:[c.jsx(mt,{level:2,className:"mb-2",children:"  "}),c.jsx("div",{className:"flex flex-col md:flex-row gap-4",children:I.map(J=>c.jsx("div",{className:"flex-1",children:c.jsx(ec,{category:J,criteriaCategory:F(J.categoryType,J.majorScope),onViewCourses:U})},J.categoryType))})]}):c.jsx(c.Fragment,{children:B.map(J=>{const xe=N4(g.categories,J,fm),G=P4[J];return c.jsxs("section",{children:[c.jsxs(mt,{level:2,className:"mb-2",children:[G,"  "]}),c.jsx("div",{className:"flex flex-col md:flex-row gap-4",children:xe.map($=>c.jsx("div",{className:"flex-1",children:c.jsx(ec,{category:$,criteriaCategory:F($.categoryType,$.majorScope),onViewCourses:U})},`${$.majorScope}-${$.categoryType}`))})]},J)})}),c.jsxs("section",{children:[c.jsx(mt,{level:2,className:"mb-2",children:"  "}),c.jsx("div",{className:"flex flex-col md:flex-row gap-4",children:O.map(J=>c.jsx("div",{className:"flex-1",children:c.jsx(ec,{category:J,criteriaCategory:F(J.categoryType,J.majorScope),onViewCourses:U})},J.categoryType))})]}),c.jsx(R4,{certifications:g.certifications})]})]})]}),o&&c.jsx(ste,{isOpen:!0,onClose:V,categoryType:o.categoryType,criteriaCategory:o.criteriaCategory,earnedAreas:o.earnedAreas}),p&&c.jsx(lte,{isOpen:s,onClose:()=>a(!1),user:p})]})}function dte(){const{step:e}=R8(),t=Da();return T.useEffect(()=>{e!==Rt.RESULT&&t("/graduation")},[e]),c.jsxs(c.Fragment,{children:[c.jsxs(Un,{children:[c.jsx("title",{children:"ALLCLL |  "}),c.jsx("meta",{name:"description",content:"  ."})]}),c.jsx(A8,{resetKey:e,children:c.jsx(cte,{})})]})}const hte=async()=>await IO("/privacy-policy.md");function fte(){return Cr({queryKey:["privacyPolicy"],queryFn:hte,staleTime:1/0})}const pte=[{title:" ",desc:" , ,  "},{title:"  ",desc:"  ,      "},{title:"  ",desc:"  ,  "},{title:" 3 ",desc:"  "},{title:" ",desc:"    "},{title:" ",desc:"(ALLCLL)  (allclllclla@gmail.com)"}];function mte(){return c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden mb-10",children:[c.jsx(fe,{justify:"justify-center",className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:c.jsx(mt,{level:2,children:"    "})}),c.jsx(Os,{columns:{base:1,md:3},className:"divide-x divide-y divide-gray-100",children:pte.map(e=>c.jsxs(fe,{direction:"flex-col",align:"items-center",className:"px-4 py-6 gap-2",children:[c.jsx(Xt,{className:"font-semibold text-gray-700 text-lg",children:e.title}),c.jsx(Xt,{className:"text-gray-500 text-xs leading-relaxed text-center",children:e.desc})]},e.title))})]})}function gte(){const{data:e}=fte();return e?c.jsxs(c.Fragment,{children:[c.jsxs(Un,{children:[c.jsx("title",{children:"ALLCLL |  "}),c.jsx("meta",{name:"description",content:"ALLCLL  "})]}),c.jsxs("div",{className:"max-w-5xl mx-auto md:px-4 md:py-4 px-2 py-1 md:py-12",children:[c.jsxs(fe,{gap:"gap-2",direction:"flex-col",className:"mb-6",children:[c.jsx(mt,{level:1,size:"xxl",children:"ALLCLL  "}),c.jsx(Xt,{children:"          ."})]}),c.jsxs(Yt,{variant:"outlined",children:[c.jsx(mte,{}),c.jsx(d8,{remarkPlugins:[Uk],components:h8,children:e})]})]})]}):null}const yte=eT([{path:"/",element:c.jsx(Ty,{}),errorElement:c.jsx(Ol,{}),children:[{path:"/",element:c.jsx(vB,{})},{path:"survey",element:c.jsx(pV,{})},{path:"about",element:c.jsx(fV,{})},{path:"faq",element:c.jsx($Y,{})}]},{path:"wishes",element:c.jsx(Ny,{serviceId:"baskets"}),errorElement:c.jsx(gJ,{}),children:[{path:"",element:c.jsx(nJ,{})},{path:":id",element:c.jsx(pJ,{})}]},{path:"live",element:c.jsx(Ny,{serviceId:"live"}),errorElement:c.jsx(Ol,{}),children:[{path:"",element:c.jsx(cV,{})}]},{path:"simulation",element:c.jsx(CR,{}),errorElement:c.jsx(Ol,{}),children:[{path:"",element:c.jsx(FX,{})},{path:"logs",element:c.jsx(QX,{})},{path:"logs/:runId",element:c.jsx(iZ,{})}]},{path:"timetable",element:c.jsx(Ty,{}),errorElement:c.jsx(Ol,{}),children:[{index:!0,element:c.jsx(KZ,{})}]},{path:"graduation",element:c.jsx(Ny,{serviceId:"graduation"}),errorElement:c.jsx(Ol,{}),children:[{path:"",element:c.jsx(Ree,{})},{path:"result",element:c.jsx(dte,{})}]},{path:"privacy-policy",element:c.jsx(Ty,{}),children:[{index:!0,element:c.jsx(gte,{})}],errorElement:c.jsx(Ol,{})},{path:"*",element:c.jsx(x8,{})}]),xte=new LT;vte();function vte(){U7.createRoot(document.getElementById("root")).render(c.jsx(T.StrictMode,{children:c.jsx(DT,{client:xte,children:c.jsx(KP,{children:c.jsx(dT,{router:yte})})})})),"serviceWorker"in navigator&&navigator.serviceWorker.register("/serviceWorker.js").then(function(e){console.log("Service Worker registered with scope:",e.scope)}).catch(function(e){console.log("Service Worker registration failed:",e)})}
//# sourceMappingURL=index-BelHWZNc.js.map
