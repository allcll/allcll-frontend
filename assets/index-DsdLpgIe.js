try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="a61f25ef-ec73-4573-9f7a-cd605d69acd7",e._sentryDebugIdIdentifier="sentry-dbid-a61f25ef-ec73-4573-9f7a-cd605d69acd7")}catch{}{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"72e016023961e9257811945e8c59a677db417cf9"}}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const aC="modulepreload",lC=function(e){return"/"+e},kb={},Zd=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let c=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};var o=c;document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=a?.nonce||a?.getAttribute("nonce");i=c(n.map(f=>{if(f=lC(f),f in kb)return;kb[f]=!0;const p=f.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const x=document.createElement("link");if(x.rel=p?"stylesheet":aC,p||(x.as="script"),x.crossOrigin="",x.href=f,u&&x.setAttribute("nonce",u),document.head.appendChild(x),p)return new Promise((w,S)=>{x.addEventListener("load",w),x.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return i.then(a=>{for(const u of a||[])u.status==="rejected"&&s(u.reason);return t().catch(s)})};var pd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ki(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function uC(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var v0={exports:{}},Kc={},x0={exports:{}},Lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jb;function cC(){if(jb)return Lt;jb=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function g(G){return G===null||typeof G!="object"?null:(G=p&&G[p]||G["@@iterator"],typeof G=="function"?G:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function k(G,ye,B){this.props=G,this.context=ye,this.refs=S,this.updater=B||x}k.prototype.isReactComponent={},k.prototype.setState=function(G,ye){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ye,"setState")},k.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function E(){}E.prototype=k.prototype;function L(G,ye,B){this.props=G,this.context=ye,this.refs=S,this.updater=B||x}var R=L.prototype=new E;R.constructor=L,w(R,k.prototype),R.isPureReactComponent=!0;var z=Array.isArray,U=Object.prototype.hasOwnProperty,P={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function H(G,ye,B){var De,je={},Ee=null,Xe=null;if(ye!=null)for(De in ye.ref!==void 0&&(Xe=ye.ref),ye.key!==void 0&&(Ee=""+ye.key),ye)U.call(ye,De)&&!I.hasOwnProperty(De)&&(je[De]=ye[De]);var Ge=arguments.length-2;if(Ge===1)je.children=B;else if(1<Ge){for(var Pe=Array(Ge),ft=0;ft<Ge;ft++)Pe[ft]=arguments[ft+2];je.children=Pe}if(G&&G.defaultProps)for(De in Ge=G.defaultProps,Ge)je[De]===void 0&&(je[De]=Ge[De]);return{$$typeof:e,type:G,key:Ee,ref:Xe,props:je,_owner:P.current}}function Q(G,ye){return{$$typeof:e,type:G.type,key:ye,ref:G.ref,props:G.props,_owner:G._owner}}function F(G){return typeof G=="object"&&G!==null&&G.$$typeof===e}function le(G){var ye={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(B){return ye[B]})}var ue=/\/+/g;function ae(G,ye){return typeof G=="object"&&G!==null&&G.key!=null?le(""+G.key):ye.toString(36)}function q(G,ye,B,De,je){var Ee=typeof G;(Ee==="undefined"||Ee==="boolean")&&(G=null);var Xe=!1;if(G===null)Xe=!0;else switch(Ee){case"string":case"number":Xe=!0;break;case"object":switch(G.$$typeof){case e:case t:Xe=!0}}if(Xe)return Xe=G,je=je(Xe),G=De===""?"."+ae(Xe,0):De,z(je)?(B="",G!=null&&(B=G.replace(ue,"$&/")+"/"),q(je,ye,B,"",function(ft){return ft})):je!=null&&(F(je)&&(je=Q(je,B+(!je.key||Xe&&Xe.key===je.key?"":(""+je.key).replace(ue,"$&/")+"/")+G)),ye.push(je)),1;if(Xe=0,De=De===""?".":De+":",z(G))for(var Ge=0;Ge<G.length;Ge++){Ee=G[Ge];var Pe=De+ae(Ee,Ge);Xe+=q(Ee,ye,B,Pe,je)}else if(Pe=g(G),typeof Pe=="function")for(G=Pe.call(G),Ge=0;!(Ee=G.next()).done;)Ee=Ee.value,Pe=De+ae(Ee,Ge++),Xe+=q(Ee,ye,B,Pe,je);else if(Ee==="object")throw ye=String(G),Error("Objects are not valid as a React child (found: "+(ye==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ye)+"). If you meant to render a collection of children, use an array instead.");return Xe}function V(G,ye,B){if(G==null)return G;var De=[],je=0;return q(G,De,"","",function(Ee){return ye.call(B,Ee,je++)}),De}function J(G){if(G._status===-1){var ye=G._result;ye=ye(),ye.then(function(B){(G._status===0||G._status===-1)&&(G._status=1,G._result=B)},function(B){(G._status===0||G._status===-1)&&(G._status=2,G._result=B)}),G._status===-1&&(G._status=0,G._result=ye)}if(G._status===1)return G._result.default;throw G._result}var te={current:null},ne={transition:null},me={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:ne,ReactCurrentOwner:P};function D(){throw Error("act(...) is not supported in production builds of React.")}return Lt.Children={map:V,forEach:function(G,ye,B){V(G,function(){ye.apply(this,arguments)},B)},count:function(G){var ye=0;return V(G,function(){ye++}),ye},toArray:function(G){return V(G,function(ye){return ye})||[]},only:function(G){if(!F(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Lt.Component=k,Lt.Fragment=n,Lt.Profiler=i,Lt.PureComponent=L,Lt.StrictMode=r,Lt.Suspense=u,Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Lt.act=D,Lt.cloneElement=function(G,ye,B){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var De=w({},G.props),je=G.key,Ee=G.ref,Xe=G._owner;if(ye!=null){if(ye.ref!==void 0&&(Ee=ye.ref,Xe=P.current),ye.key!==void 0&&(je=""+ye.key),G.type&&G.type.defaultProps)var Ge=G.type.defaultProps;for(Pe in ye)U.call(ye,Pe)&&!I.hasOwnProperty(Pe)&&(De[Pe]=ye[Pe]===void 0&&Ge!==void 0?Ge[Pe]:ye[Pe])}var Pe=arguments.length-2;if(Pe===1)De.children=B;else if(1<Pe){Ge=Array(Pe);for(var ft=0;ft<Pe;ft++)Ge[ft]=arguments[ft+2];De.children=Ge}return{$$typeof:e,type:G.type,key:je,ref:Ee,props:De,_owner:Xe}},Lt.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:s,_context:G},G.Consumer=G},Lt.createElement=H,Lt.createFactory=function(G){var ye=H.bind(null,G);return ye.type=G,ye},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function(G){return{$$typeof:a,render:G}},Lt.isValidElement=F,Lt.lazy=function(G){return{$$typeof:f,_payload:{_status:-1,_result:G},_init:J}},Lt.memo=function(G,ye){return{$$typeof:c,type:G,compare:ye===void 0?null:ye}},Lt.startTransition=function(G){var ye=ne.transition;ne.transition={};try{G()}finally{ne.transition=ye}},Lt.unstable_act=D,Lt.useCallback=function(G,ye){return te.current.useCallback(G,ye)},Lt.useContext=function(G){return te.current.useContext(G)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function(G){return te.current.useDeferredValue(G)},Lt.useEffect=function(G,ye){return te.current.useEffect(G,ye)},Lt.useId=function(){return te.current.useId()},Lt.useImperativeHandle=function(G,ye,B){return te.current.useImperativeHandle(G,ye,B)},Lt.useInsertionEffect=function(G,ye){return te.current.useInsertionEffect(G,ye)},Lt.useLayoutEffect=function(G,ye){return te.current.useLayoutEffect(G,ye)},Lt.useMemo=function(G,ye){return te.current.useMemo(G,ye)},Lt.useReducer=function(G,ye,B){return te.current.useReducer(G,ye,B)},Lt.useRef=function(G){return te.current.useRef(G)},Lt.useState=function(G){return te.current.useState(G)},Lt.useSyncExternalStore=function(G,ye,B){return te.current.useSyncExternalStore(G,ye,B)},Lt.useTransition=function(){return te.current.useTransition()},Lt.version="18.3.1",Lt}var Eb;function um(){return Eb||(Eb=1,x0.exports=cC()),x0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tb;function dC(){if(Tb)return Kc;Tb=1;var e=um(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,u,c){var f,p={},g=null,x=null;c!==void 0&&(g=""+c),u.key!==void 0&&(g=""+u.key),u.ref!==void 0&&(x=u.ref);for(f in u)r.call(u,f)&&!s.hasOwnProperty(f)&&(p[f]=u[f]);if(a&&a.defaultProps)for(f in u=a.defaultProps,u)p[f]===void 0&&(p[f]=u[f]);return{$$typeof:t,type:a,key:g,ref:x,props:p,_owner:i.current}}return Kc.Fragment=n,Kc.jsx=o,Kc.jsxs=o,Kc}var Nb;function hC(){return Nb||(Nb=1,v0.exports=dC()),v0.exports}var h=hC(),T=um();const nn=ki(T);var Pf={},b0={exports:{}},Yr={},w0={exports:{}},_0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pb;function fC(){return Pb||(Pb=1,function(e){function t(ne,me){var D=ne.length;ne.push(me);e:for(;0<D;){var G=D-1>>>1,ye=ne[G];if(0<i(ye,me))ne[G]=me,ne[D]=ye,D=G;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var me=ne[0],D=ne.pop();if(D!==me){ne[0]=D;e:for(var G=0,ye=ne.length,B=ye>>>1;G<B;){var De=2*(G+1)-1,je=ne[De],Ee=De+1,Xe=ne[Ee];if(0>i(je,D))Ee<ye&&0>i(Xe,je)?(ne[G]=Xe,ne[Ee]=D,G=Ee):(ne[G]=je,ne[De]=D,G=De);else if(Ee<ye&&0>i(Xe,D))ne[G]=Xe,ne[Ee]=D,G=Ee;else break e}}return me}function i(ne,me){var D=ne.sortIndex-me.sortIndex;return D!==0?D:ne.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],c=[],f=1,p=null,g=3,x=!1,w=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(ne){for(var me=n(c);me!==null;){if(me.callback===null)r(c);else if(me.startTime<=ne)r(c),me.sortIndex=me.expirationTime,t(u,me);else break;me=n(c)}}function z(ne){if(S=!1,R(ne),!w)if(n(u)!==null)w=!0,J(U);else{var me=n(c);me!==null&&te(z,me.startTime-ne)}}function U(ne,me){w=!1,S&&(S=!1,E(H),H=-1),x=!0;var D=g;try{for(R(me),p=n(u);p!==null&&(!(p.expirationTime>me)||ne&&!le());){var G=p.callback;if(typeof G=="function"){p.callback=null,g=p.priorityLevel;var ye=G(p.expirationTime<=me);me=e.unstable_now(),typeof ye=="function"?p.callback=ye:p===n(u)&&r(u),R(me)}else r(u);p=n(u)}if(p!==null)var B=!0;else{var De=n(c);De!==null&&te(z,De.startTime-me),B=!1}return B}finally{p=null,g=D,x=!1}}var P=!1,I=null,H=-1,Q=5,F=-1;function le(){return!(e.unstable_now()-F<Q)}function ue(){if(I!==null){var ne=e.unstable_now();F=ne;var me=!0;try{me=I(!0,ne)}finally{me?ae():(P=!1,I=null)}}else P=!1}var ae;if(typeof L=="function")ae=function(){L(ue)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,V=q.port2;q.port1.onmessage=ue,ae=function(){V.postMessage(null)}}else ae=function(){k(ue,0)};function J(ne){I=ne,P||(P=!0,ae())}function te(ne,me){H=k(function(){ne(e.unstable_now())},me)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ne){ne.callback=null},e.unstable_continueExecution=function(){w||x||(w=!0,J(U))},e.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<ne?Math.floor(1e3/ne):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(ne){switch(g){case 1:case 2:case 3:var me=3;break;default:me=g}var D=g;g=me;try{return ne()}finally{g=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ne,me){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var D=g;g=ne;try{return me()}finally{g=D}},e.unstable_scheduleCallback=function(ne,me,D){var G=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?G+D:G):D=G,ne){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=D+ye,ne={id:f++,callback:me,priorityLevel:ne,startTime:D,expirationTime:ye,sortIndex:-1},D>G?(ne.sortIndex=D,t(c,ne),n(u)===null&&ne===n(c)&&(S?(E(H),H=-1):S=!0,te(z,D-G))):(ne.sortIndex=ye,t(u,ne),w||x||(w=!0,J(U))),ne},e.unstable_shouldYield=le,e.unstable_wrapCallback=function(ne){var me=g;return function(){var D=g;g=me;try{return ne.apply(this,arguments)}finally{g=D}}}}(_0)),_0}var Ob;function pC(){return Ob||(Ob=1,w0.exports=fC()),w0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lb;function mC(){if(Lb)return Yr;Lb=1;var e=um(),t=pC();function n(l){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(l,d){o(l,d),o(l+"Capture",d)}function o(l,d){for(i[l]=d,l=0;l<d.length;l++)r.add(d[l])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(l){return u.call(p,l)?!0:u.call(f,l)?!1:c.test(l)?p[l]=!0:(f[l]=!0,!1)}function x(l,d,m,v){if(m!==null&&m.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return v?!1:m!==null?!m.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function w(l,d,m,v){if(d===null||typeof d>"u"||x(l,d,m,v))return!0;if(v)return!1;if(m!==null)switch(m.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function S(l,d,m,v,_,j,A){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=v,this.attributeNamespace=_,this.mustUseProperty=m,this.propertyName=l,this.type=d,this.sanitizeURL=j,this.removeEmptyString=A}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){k[l]=new S(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var d=l[0];k[d]=new S(d,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){k[l]=new S(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){k[l]=new S(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){k[l]=new S(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){k[l]=new S(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){k[l]=new S(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){k[l]=new S(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){k[l]=new S(l,5,!1,l.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function L(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var d=l.replace(E,L);k[d]=new S(d,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var d=l.replace(E,L);k[d]=new S(d,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var d=l.replace(E,L);k[d]=new S(d,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){k[l]=new S(l,1,!1,l.toLowerCase(),null,!1,!1)}),k.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){k[l]=new S(l,1,!1,l.toLowerCase(),null,!0,!0)});function R(l,d,m,v){var _=k.hasOwnProperty(d)?k[d]:null;(_!==null?_.type!==0:v||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(w(d,m,_,v)&&(m=null),v||_===null?g(d)&&(m===null?l.removeAttribute(d):l.setAttribute(d,""+m)):_.mustUseProperty?l[_.propertyName]=m===null?_.type===3?!1:"":m:(d=_.attributeName,v=_.attributeNamespace,m===null?l.removeAttribute(d):(_=_.type,m=_===3||_===4&&m===!0?"":""+m,v?l.setAttributeNS(v,d,m):l.setAttribute(d,m))))}var z=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),P=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),le=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),ne=Symbol.iterator;function me(l){return l===null||typeof l!="object"?null:(l=ne&&l[ne]||l["@@iterator"],typeof l=="function"?l:null)}var D=Object.assign,G;function ye(l){if(G===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);G=d&&d[1]||""}return`
`+G+l}var B=!1;function De(l,d){if(!l||B)return"";B=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(be){var v=be}Reflect.construct(l,[],d)}else{try{d.call()}catch(be){v=be}l.call(d.prototype)}else{try{throw Error()}catch(be){v=be}l()}}catch(be){if(be&&v&&typeof be.stack=="string"){for(var _=be.stack.split(`
`),j=v.stack.split(`
`),A=_.length-1,W=j.length-1;1<=A&&0<=W&&_[A]!==j[W];)W--;for(;1<=A&&0<=W;A--,W--)if(_[A]!==j[W]){if(A!==1||W!==1)do if(A--,W--,0>W||_[A]!==j[W]){var Z=`
`+_[A].replace(" at new "," at ");return l.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",l.displayName)),Z}while(1<=A&&0<=W);break}}}finally{B=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?ye(l):""}function je(l){switch(l.tag){case 5:return ye(l.type);case 16:return ye("Lazy");case 13:return ye("Suspense");case 19:return ye("SuspenseList");case 0:case 2:case 15:return l=De(l.type,!1),l;case 11:return l=De(l.type.render,!1),l;case 1:return l=De(l.type,!0),l;default:return""}}function Ee(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case I:return"Fragment";case P:return"Portal";case Q:return"Profiler";case H:return"StrictMode";case ae:return"Suspense";case q:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case le:return(l.displayName||"Context")+".Consumer";case F:return(l._context.displayName||"Context")+".Provider";case ue:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case V:return d=l.displayName||null,d!==null?d:Ee(l.type)||"Memo";case J:d=l._payload,l=l._init;try{return Ee(l(d))}catch{}}return null}function Xe(l){var d=l.type;switch(l.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=d.render,l=l.displayName||l.name||"",d.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ee(d);case 8:return d===H?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function Ge(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Pe(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function ft(l){var d=Pe(l)?"checked":"value",m=Object.getOwnPropertyDescriptor(l.constructor.prototype,d),v=""+l[d];if(!l.hasOwnProperty(d)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var _=m.get,j=m.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return _.call(this)},set:function(A){v=""+A,j.call(this,A)}}),Object.defineProperty(l,d,{enumerable:m.enumerable}),{getValue:function(){return v},setValue:function(A){v=""+A},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function dn(l){l._valueTracker||(l._valueTracker=ft(l))}function Nt(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var m=d.getValue(),v="";return l&&(v=Pe(l)?l.checked?"true":"false":l.value),l=v,l!==m?(d.setValue(l),!0):!1}function yn(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function hn(l,d){var m=d.checked;return D({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??l._wrapperState.initialChecked})}function Ln(l,d){var m=d.defaultValue==null?"":d.defaultValue,v=d.checked!=null?d.checked:d.defaultChecked;m=Ge(d.value!=null?d.value:m),l._wrapperState={initialChecked:v,initialValue:m,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function Fs(l,d){d=d.checked,d!=null&&R(l,"checked",d,!1)}function Gi(l,d){Fs(l,d);var m=Ge(d.value),v=d.type;if(m!=null)v==="number"?(m===0&&l.value===""||l.value!=m)&&(l.value=""+m):l.value!==""+m&&(l.value=""+m);else if(v==="submit"||v==="reset"){l.removeAttribute("value");return}d.hasOwnProperty("value")?bs(l,d.type,m):d.hasOwnProperty("defaultValue")&&bs(l,d.type,Ge(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(l.defaultChecked=!!d.defaultChecked)}function Co(l,d,m){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var v=d.type;if(!(v!=="submit"&&v!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+l._wrapperState.initialValue,m||d===l.value||(l.value=d),l.defaultValue=d}m=l.name,m!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,m!==""&&(l.name=m)}function bs(l,d,m){(d!=="number"||yn(l.ownerDocument)!==l)&&(m==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+m&&(l.defaultValue=""+m))}var $r=Array.isArray;function Rn(l,d,m,v){if(l=l.options,d){d={};for(var _=0;_<m.length;_++)d["$"+m[_]]=!0;for(m=0;m<l.length;m++)_=d.hasOwnProperty("$"+l[m].value),l[m].selected!==_&&(l[m].selected=_),_&&v&&(l[m].defaultSelected=!0)}else{for(m=""+Ge(m),d=null,_=0;_<l.length;_++){if(l[_].value===m){l[_].selected=!0,v&&(l[_].defaultSelected=!0);return}d!==null||l[_].disabled||(d=l[_])}d!==null&&(d.selected=!0)}}function hr(l,d){if(d.dangerouslySetInnerHTML!=null)throw Error(n(91));return D({},d,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function fr(l,d){var m=d.value;if(m==null){if(m=d.children,d=d.defaultValue,m!=null){if(d!=null)throw Error(n(92));if($r(m)){if(1<m.length)throw Error(n(93));m=m[0]}d=m}d==null&&(d=""),m=d}l._wrapperState={initialValue:Ge(m)}}function ws(l,d){var m=Ge(d.value),v=Ge(d.defaultValue);m!=null&&(m=""+m,m!==l.value&&(l.value=m),d.defaultValue==null&&l.defaultValue!==m&&(l.defaultValue=m)),v!=null&&(l.defaultValue=""+v)}function Ur(l){var d=l.textContent;d===l._wrapperState.initialValue&&d!==""&&d!==null&&(l.value=d)}function Ce(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oe(l,d){return l==null||l==="http://www.w3.org/1999/xhtml"?Ce(d):l==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var ut,mt=function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,m,v,_){MSApp.execUnsafeLocalFunction(function(){return l(d,m,v,_)})}:l}(function(l,d){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=d;else{for(ut=ut||document.createElement("div"),ut.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=ut.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;d.firstChild;)l.appendChild(d.firstChild)}});function Pt(l,d){if(d){var m=l.firstChild;if(m&&m===l.lastChild&&m.nodeType===3){m.nodeValue=d;return}}l.textContent=d}var Yt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fn=["Webkit","ms","Moz","O"];Object.keys(Yt).forEach(function(l){Fn.forEach(function(d){d=d+l.charAt(0).toUpperCase()+l.substring(1),Yt[d]=Yt[l]})});function Bn(l,d,m){return d==null||typeof d=="boolean"||d===""?"":m||typeof d!="number"||d===0||Yt.hasOwnProperty(l)&&Yt[l]?(""+d).trim():d+"px"}function Or(l,d){l=l.style;for(var m in d)if(d.hasOwnProperty(m)){var v=m.indexOf("--")===0,_=Bn(m,d[m],v);m==="float"&&(m="cssFloat"),v?l.setProperty(m,_):l[m]=_}}var Zn=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function We(l,d){if(d){if(Zn[l]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(n(137,l));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(n(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(n(61))}if(d.style!=null&&typeof d.style!="object")throw Error(n(62))}}function An(l,d){if(l.indexOf("-")===-1)return typeof d.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vn=null;function Ei(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var qe=null,ci=null,Yi=null;function Bs(l){if(l=Rc(l)){if(typeof qe!="function")throw Error(n(280));var d=l.stateNode;d&&(d=Qh(d),qe(l.stateNode,l.type,d))}}function _s(l){ci?Yi?Yi.push(l):Yi=[l]:ci=l}function Xi(){if(ci){var l=ci,d=Yi;if(Yi=ci=null,Bs(l),d)for(l=0;l<d.length;l++)Bs(d[l])}}function Ml(l,d){return l(d)}function Il(){}var X=!1;function pe(l,d,m){if(X)return l(d,m);X=!0;try{return Ml(l,d,m)}finally{X=!1,(ci!==null||Yi!==null)&&(Il(),Xi())}}function _e(l,d){var m=l.stateNode;if(m===null)return null;var v=Qh(m);if(v===null)return null;m=v[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(l=l.type,v=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!v;break e;default:l=!1}if(l)return null;if(m&&typeof m!="function")throw Error(n(231,d,typeof m));return m}var Re=!1;if(a)try{var Te={};Object.defineProperty(Te,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Te,Te),window.removeEventListener("test",Te,Te)}catch{Re=!1}function Ke(l,d,m,v,_,j,A,W,Z){var be=Array.prototype.slice.call(arguments,3);try{d.apply(m,be)}catch(Le){this.onError(Le)}}var it=!1,Ze=null,nt=!1,lt=null,at={onError:function(l){it=!0,Ze=l}};function tt(l,d,m,v,_,j,A,W,Z){it=!1,Ze=null,Ke.apply(at,arguments)}function St(l,d,m,v,_,j,A,W,Z){if(tt.apply(this,arguments),it){if(it){var be=Ze;it=!1,Ze=null}else throw Error(n(198));nt||(nt=!0,lt=be)}}function Ot(l){var d=l,m=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(m=d.return),l=d.return;while(l)}return d.tag===3?m:null}function xn(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function zn(l){if(Ot(l)!==l)throw Error(n(188))}function Qt(l){var d=l.alternate;if(!d){if(d=Ot(l),d===null)throw Error(n(188));return d!==l?null:l}for(var m=l,v=d;;){var _=m.return;if(_===null)break;var j=_.alternate;if(j===null){if(v=_.return,v!==null){m=v;continue}break}if(_.child===j.child){for(j=_.child;j;){if(j===m)return zn(_),l;if(j===v)return zn(_),d;j=j.sibling}throw Error(n(188))}if(m.return!==v.return)m=_,v=j;else{for(var A=!1,W=_.child;W;){if(W===m){A=!0,m=_,v=j;break}if(W===v){A=!0,v=_,m=j;break}W=W.sibling}if(!A){for(W=j.child;W;){if(W===m){A=!0,m=j,v=_;break}if(W===v){A=!0,v=j,m=_;break}W=W.sibling}if(!A)throw Error(n(189))}}if(m.alternate!==v)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?l:d}function Xt(l){return l=Qt(l),l!==null?er(l):null}function er(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var d=er(l);if(d!==null)return d;l=l.sibling}return null}var Ji=t.unstable_scheduleCallback,Lr=t.unstable_cancelCallback,Ut=t.unstable_shouldYield,di=t.unstable_requestPaint,At=t.unstable_now,Ti=t.unstable_getCurrentPriorityLevel,Rr=t.unstable_ImmediatePriority,Ni=t.unstable_UserBlockingPriority,Mt=t.unstable_NormalPriority,En=t.unstable_LowPriority,Ar=t.unstable_IdlePriority,hi=null,zt=null;function zs(l){if(zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(hi,l,void 0,(l.current.flags&128)===128)}catch{}}var pt=Math.clz32?Math.clz32:kh,Dl=Math.log,Ch=Math.LN2;function kh(l){return l>>>=0,l===0?32:31-(Dl(l)/Ch|0)|0}var Zt=64,Ss=4194304;function Zi(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function es(l,d){var m=l.pendingLanes;if(m===0)return 0;var v=0,_=l.suspendedLanes,j=l.pingedLanes,A=m&268435455;if(A!==0){var W=A&~_;W!==0?v=Zi(W):(j&=A,j!==0&&(v=Zi(j)))}else A=m&~_,A!==0?v=Zi(A):j!==0&&(v=Zi(j));if(v===0)return 0;if(d!==0&&d!==v&&(d&_)===0&&(_=v&-v,j=d&-d,_>=j||_===16&&(j&4194240)!==0))return d;if((v&4)!==0&&(v|=m&16),d=l.entangledLanes,d!==0)for(l=l.entanglements,d&=v;0<d;)m=31-pt(d),_=1<<m,v|=l[m],d&=~_;return v}function gc(l,d){switch(l){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yc(l,d){for(var m=l.suspendedLanes,v=l.pingedLanes,_=l.expirationTimes,j=l.pendingLanes;0<j;){var A=31-pt(j),W=1<<A,Z=_[A];Z===-1?((W&m)===0||(W&v)!==0)&&(_[A]=gc(W,d)):Z<=d&&(l.expiredLanes|=W),j&=~W}}function ko(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function vc(){var l=Zt;return Zt<<=1,(Zt&4194240)===0&&(Zt=64),l}function jo(l){for(var d=[],m=0;31>m;m++)d.push(l);return d}function Eo(l,d,m){l.pendingLanes|=d,d!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,d=31-pt(d),l[d]=m}function wa(l,d){var m=l.pendingLanes&~d;l.pendingLanes=d,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=d,l.mutableReadLanes&=d,l.entangledLanes&=d,d=l.entanglements;var v=l.eventTimes;for(l=l.expirationTimes;0<m;){var _=31-pt(m),j=1<<_;d[_]=0,v[_]=-1,l[_]=-1,m&=~j}}function Fl(l,d){var m=l.entangledLanes|=d;for(l=l.entanglements;m;){var v=31-pt(m),_=1<<v;_&d|l[v]&d&&(l[v]|=d),m&=~_}}var Jt=0;function $t(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var Bl,xc,jh,pr,$s,To=!1,fi=[],ts=null,ns=null,rn=null,mr=new Map,rs=new Map,Hr=[],bc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function is(l,d){switch(l){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":rn=null;break;case"pointerover":case"pointerout":mr.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":rs.delete(d.pointerId)}}function _a(l,d,m,v,_,j){return l===null||l.nativeEvent!==j?(l={blockedOn:d,domEventName:m,eventSystemFlags:v,nativeEvent:j,targetContainers:[_]},d!==null&&(d=Rc(d),d!==null&&xc(d)),l):(l.eventSystemFlags|=v,d=l.targetContainers,_!==null&&d.indexOf(_)===-1&&d.push(_),l)}function Pi(l,d,m,v,_){switch(d){case"focusin":return ts=_a(ts,l,d,m,v,_),!0;case"dragenter":return ns=_a(ns,l,d,m,v,_),!0;case"mouseover":return rn=_a(rn,l,d,m,v,_),!0;case"pointerover":var j=_.pointerId;return mr.set(j,_a(mr.get(j)||null,l,d,m,v,_)),!0;case"gotpointercapture":return j=_.pointerId,rs.set(j,_a(rs.get(j)||null,l,d,m,v,_)),!0}return!1}function zl(l){var d=Ia(l.target);if(d!==null){var m=Ot(d);if(m!==null){if(d=m.tag,d===13){if(d=xn(m),d!==null){l.blockedOn=d,$s(l.priority,function(){jh(m)});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){l.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Sa(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var m=ka(l.domEventName,l.eventSystemFlags,d[0],l.nativeEvent);if(m===null){m=l.nativeEvent;var v=new m.constructor(m.type,m);vn=v,m.target.dispatchEvent(v),vn=null}else return d=Rc(m),d!==null&&xc(d),l.blockedOn=m,!1;d.shift()}return!0}function $l(l,d,m){Sa(l)&&m.delete(d)}function Ca(){To=!1,ts!==null&&Sa(ts)&&(ts=null),ns!==null&&Sa(ns)&&(ns=null),rn!==null&&Sa(rn)&&(rn=null),mr.forEach($l),rs.forEach($l)}function Us(l,d){l.blockedOn===d&&(l.blockedOn=null,To||(To=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Ca)))}function No(l){function d(_){return Us(_,l)}if(0<fi.length){Us(fi[0],l);for(var m=1;m<fi.length;m++){var v=fi[m];v.blockedOn===l&&(v.blockedOn=null)}}for(ts!==null&&Us(ts,l),ns!==null&&Us(ns,l),rn!==null&&Us(rn,l),mr.forEach(d),rs.forEach(d),m=0;m<Hr.length;m++)v=Hr[m],v.blockedOn===l&&(v.blockedOn=null);for(;0<Hr.length&&(m=Hr[0],m.blockedOn===null);)zl(m),m.blockedOn===null&&Hr.shift()}var Po=z.ReactCurrentBatchConfig,Cs=!0;function Zm(l,d,m,v){var _=Jt,j=Po.transition;Po.transition=null;try{Jt=1,Oo(l,d,m,v)}finally{Jt=_,Po.transition=j}}function eg(l,d,m,v){var _=Jt,j=Po.transition;Po.transition=null;try{Jt=4,Oo(l,d,m,v)}finally{Jt=_,Po.transition=j}}function Oo(l,d,m,v){if(Cs){var _=ka(l,d,m,v);if(_===null)lg(l,d,v,Hs,m),is(l,v);else if(Pi(_,l,d,m,v))v.stopPropagation();else if(is(l,v),d&4&&-1<bc.indexOf(l)){for(;_!==null;){var j=Rc(_);if(j!==null&&Bl(j),j=ka(l,d,m,v),j===null&&lg(l,d,v,Hs,m),j===_)break;_=j}_!==null&&v.stopPropagation()}else lg(l,d,v,null,m)}}var Hs=null;function ka(l,d,m,v){if(Hs=null,l=Ei(v),l=Ia(l),l!==null)if(d=Ot(l),d===null)l=null;else if(m=d.tag,m===13){if(l=xn(d),l!==null)return l;l=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null);return Hs=l,null}function Eh(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ti()){case Rr:return 1;case Ni:return 4;case Mt:case En:return 16;case Ar:return 536870912;default:return 16}default:return 16}}var ks=null,wc=null,Lo=null;function Ul(){if(Lo)return Lo;var l,d=wc,m=d.length,v,_="value"in ks?ks.value:ks.textContent,j=_.length;for(l=0;l<m&&d[l]===_[l];l++);var A=m-l;for(v=1;v<=A&&d[m-v]===_[j-v];v++);return Lo=_.slice(l,1<v?1-v:void 0)}function ja(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function Qs(){return!0}function Ea(){return!1}function tr(l){function d(m,v,_,j,A){this._reactName=m,this._targetInst=_,this.type=v,this.nativeEvent=j,this.target=A,this.currentTarget=null;for(var W in l)l.hasOwnProperty(W)&&(m=l[W],this[W]=m?m(j):j[W]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Qs:Ea,this.isPropagationStopped=Ea,this}return D(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Qs)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Qs)},persist:function(){},isPersistent:Qs}),d}var Vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_c=tr(Vs),js=D({},Vs,{view:0,detail:0}),Sc=tr(js),Ta,Na,Ws,Mn=D({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oa,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Ws&&(Ws&&l.type==="mousemove"?(Ta=l.screenX-Ws.screenX,Na=l.screenY-Ws.screenY):Na=Ta=0,Ws=l),Ta)},movementY:function(l){return"movementY"in l?l.movementY:Na}}),Ro=tr(Mn),Pa=D({},Mn,{dataTransfer:0}),Th=tr(Pa),Hl=D({},js,{relatedTarget:0}),Ql=tr(Hl),Nh=D({},Vs,{animationName:0,elapsedTime:0,pseudoElement:0}),Vl=tr(Nh),Cc=D({},Vs,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),qs=tr(Cc),kc=D({},Vs,{data:0}),Wl=tr(kc),ql={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ph={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tg(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=Ph[l])?!!d[l]:!1}function Oa(){return tg}var Kl=D({},js,{key:function(l){if(l.key){var d=ql[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=ja(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?jc[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oa,charCode:function(l){return l.type==="keypress"?ja(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?ja(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),ng=tr(Kl),Ec=D({},Mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gl=tr(Ec),rg=D({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oa}),Oh=tr(rg),ig=D({},Vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lh=tr(ig),Rh=D({},Mn,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),sg=tr(Rh),Ah=[9,13,27,32],La=a&&"CompositionEvent"in window,Ao=null;a&&"documentMode"in document&&(Ao=document.documentMode);var Mh=a&&"TextEvent"in window&&!Ao,Ih=a&&(!La||Ao&&8<Ao&&11>=Ao),Dh=" ",Fh=!1;function Ra(l,d){switch(l){case"keyup":return Ah.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oi(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var tn=!1;function Yl(l,d){switch(l){case"compositionend":return Oi(d);case"keypress":return d.which!==32?null:(Fh=!0,Dh);case"textInput":return l=d.data,l===Dh&&Fh?null:l;default:return null}}function Qr(l,d){if(tn)return l==="compositionend"||!La&&Ra(l,d)?(l=Ul(),Lo=wc=ks=null,tn=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Ih&&d.locale!=="ko"?null:d.data;default:return null}}var og={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xl(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!og[l.type]:d==="textarea"}function Tc(l,d,m,v){_s(v),d=$h(d,"onChange"),0<d.length&&(m=new _c("onChange","change",null,m,v),l.push({event:m,listeners:d}))}var pi=null,Ks=null;function Mo(l){$x(l,0)}function mi(l){var d=eu(l);if(Nt(d))return l}function Bh(l,d){if(l==="change")return d}var y=!1;if(a){var b;if(a){var C="oninput"in document;if(!C){var N=document.createElement("div");N.setAttribute("oninput","return;"),C=typeof N.oninput=="function"}b=C}else b=!1;y=b&&(!document.documentMode||9<document.documentMode)}function O(){pi&&(pi.detachEvent("onpropertychange",M),Ks=pi=null)}function M(l){if(l.propertyName==="value"&&mi(Ks)){var d=[];Tc(d,Ks,l,Ei(l)),pe(Mo,d)}}function $(l,d,m){l==="focusin"?(O(),pi=d,Ks=m,pi.attachEvent("onpropertychange",M)):l==="focusout"&&O()}function K(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return mi(Ks)}function ee(l,d){if(l==="click")return mi(d)}function ie(l,d){if(l==="input"||l==="change")return mi(d)}function de(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var Y=typeof Object.is=="function"?Object.is:de;function he(l,d){if(Y(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var m=Object.keys(l),v=Object.keys(d);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var _=m[v];if(!u.call(d,_)||!Y(l[_],d[_]))return!1}return!0}function re(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function ce(l,d){var m=re(l);l=0;for(var v;m;){if(m.nodeType===3){if(v=l+m.textContent.length,l<=d&&v>=d)return{node:m,offset:d-l};l=v}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=re(m)}}function fe(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?fe(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function oe(){for(var l=window,d=yn();d instanceof l.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch{m=!1}if(m)l=d.contentWindow;else break;d=yn(l.document)}return d}function ve(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}function we(l){var d=oe(),m=l.focusedElem,v=l.selectionRange;if(d!==m&&m&&m.ownerDocument&&fe(m.ownerDocument.documentElement,m)){if(v!==null&&ve(m)){if(d=v.start,l=v.end,l===void 0&&(l=d),"selectionStart"in m)m.selectionStart=d,m.selectionEnd=Math.min(l,m.value.length);else if(l=(d=m.ownerDocument||document)&&d.defaultView||window,l.getSelection){l=l.getSelection();var _=m.textContent.length,j=Math.min(v.start,_);v=v.end===void 0?j:Math.min(v.end,_),!l.extend&&j>v&&(_=v,v=j,j=_),_=ce(m,j);var A=ce(m,v);_&&A&&(l.rangeCount!==1||l.anchorNode!==_.node||l.anchorOffset!==_.offset||l.focusNode!==A.node||l.focusOffset!==A.offset)&&(d=d.createRange(),d.setStart(_.node,_.offset),l.removeAllRanges(),j>v?(l.addRange(d),l.extend(A.node,A.offset)):(d.setEnd(A.node,A.offset),l.addRange(d)))}}for(d=[],l=m;l=l.parentNode;)l.nodeType===1&&d.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<d.length;m++)l=d[m],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var Se=a&&"documentMode"in document&&11>=document.documentMode,ke=null,Me=null,Ue=null,Ie=!1;function Be(l,d,m){var v=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Ie||ke==null||ke!==yn(v)||(v=ke,"selectionStart"in v&&ve(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Ue&&he(Ue,v)||(Ue=v,v=$h(Me,"onSelect"),0<v.length&&(d=new _c("onSelect","select",null,d,m),l.push({event:d,listeners:v}),d.target=ke)))}function Ve(l,d){var m={};return m[l.toLowerCase()]=d.toLowerCase(),m["Webkit"+l]="webkit"+d,m["Moz"+l]="moz"+d,m}var ze={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Ye={},vt={};a&&(vt=document.createElement("div").style,"AnimationEvent"in window||(delete ze.animationend.animation,delete ze.animationiteration.animation,delete ze.animationstart.animation),"TransitionEvent"in window||delete ze.transitionend.transition);function wt(l){if(Ye[l])return Ye[l];if(!ze[l])return l;var d=ze[l],m;for(m in d)if(d.hasOwnProperty(m)&&m in vt)return Ye[l]=d[m];return l}var jt=wt("animationend"),gr=wt("animationiteration"),yt=wt("animationstart"),Qn=wt("transitionend"),Vn=new Map,Aa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bn(l,d){Vn.set(l,d),s(d,[l])}for(var ss=0;ss<Aa.length;ss++){var Ma=Aa[ss],g9=Ma.toLowerCase(),y9=Ma[0].toUpperCase()+Ma.slice(1);bn(g9,"on"+y9)}bn(jt,"onAnimationEnd"),bn(gr,"onAnimationIteration"),bn(yt,"onAnimationStart"),bn("dblclick","onDoubleClick"),bn("focusin","onFocus"),bn("focusout","onBlur"),bn(Qn,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v9=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nc));function zx(l,d,m){var v=l.type||"unknown-event";l.currentTarget=m,St(v,d,void 0,l),l.currentTarget=null}function $x(l,d){d=(d&4)!==0;for(var m=0;m<l.length;m++){var v=l[m],_=v.event;v=v.listeners;e:{var j=void 0;if(d)for(var A=v.length-1;0<=A;A--){var W=v[A],Z=W.instance,be=W.currentTarget;if(W=W.listener,Z!==j&&_.isPropagationStopped())break e;zx(_,W,be),j=Z}else for(A=0;A<v.length;A++){if(W=v[A],Z=W.instance,be=W.currentTarget,W=W.listener,Z!==j&&_.isPropagationStopped())break e;zx(_,W,be),j=Z}}}if(nt)throw l=lt,nt=!1,lt=null,l}function fn(l,d){var m=d[pg];m===void 0&&(m=d[pg]=new Set);var v=l+"__bubble";m.has(v)||(Ux(d,l,2,!1),m.add(v))}function ag(l,d,m){var v=0;d&&(v|=4),Ux(m,l,v,d)}var zh="_reactListening"+Math.random().toString(36).slice(2);function Pc(l){if(!l[zh]){l[zh]=!0,r.forEach(function(m){m!=="selectionchange"&&(v9.has(m)||ag(m,!1,l),ag(m,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[zh]||(d[zh]=!0,ag("selectionchange",!1,d))}}function Ux(l,d,m,v){switch(Eh(d)){case 1:var _=Zm;break;case 4:_=eg;break;default:_=Oo}m=_.bind(null,d,m,l),_=void 0,!Re||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(_=!0),v?_!==void 0?l.addEventListener(d,m,{capture:!0,passive:_}):l.addEventListener(d,m,!0):_!==void 0?l.addEventListener(d,m,{passive:_}):l.addEventListener(d,m,!1)}function lg(l,d,m,v,_){var j=v;if((d&1)===0&&(d&2)===0&&v!==null)e:for(;;){if(v===null)return;var A=v.tag;if(A===3||A===4){var W=v.stateNode.containerInfo;if(W===_||W.nodeType===8&&W.parentNode===_)break;if(A===4)for(A=v.return;A!==null;){var Z=A.tag;if((Z===3||Z===4)&&(Z=A.stateNode.containerInfo,Z===_||Z.nodeType===8&&Z.parentNode===_))return;A=A.return}for(;W!==null;){if(A=Ia(W),A===null)return;if(Z=A.tag,Z===5||Z===6){v=j=A;continue e}W=W.parentNode}}v=v.return}pe(function(){var be=j,Le=Ei(m),Ae=[];e:{var Ne=Vn.get(l);if(Ne!==void 0){var Je=_c,rt=l;switch(l){case"keypress":if(ja(m)===0)break e;case"keydown":case"keyup":Je=ng;break;case"focusin":rt="focus",Je=Ql;break;case"focusout":rt="blur",Je=Ql;break;case"beforeblur":case"afterblur":Je=Ql;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Je=Ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Je=Th;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Je=Oh;break;case jt:case gr:case yt:Je=Vl;break;case Qn:Je=Lh;break;case"scroll":Je=Sc;break;case"wheel":Je=sg;break;case"copy":case"cut":case"paste":Je=qs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Je=Gl}var st=(d&4)!==0,In=!st&&l==="scroll",ge=st?Ne!==null?Ne+"Capture":null:Ne;st=[];for(var se=be,xe;se!==null;){xe=se;var $e=xe.stateNode;if(xe.tag===5&&$e!==null&&(xe=$e,ge!==null&&($e=_e(se,ge),$e!=null&&st.push(Oc(se,$e,xe)))),In)break;se=se.return}0<st.length&&(Ne=new Je(Ne,rt,null,m,Le),Ae.push({event:Ne,listeners:st}))}}if((d&7)===0){e:{if(Ne=l==="mouseover"||l==="pointerover",Je=l==="mouseout"||l==="pointerout",Ne&&m!==vn&&(rt=m.relatedTarget||m.fromElement)&&(Ia(rt)||rt[Gs]))break e;if((Je||Ne)&&(Ne=Le.window===Le?Le:(Ne=Le.ownerDocument)?Ne.defaultView||Ne.parentWindow:window,Je?(rt=m.relatedTarget||m.toElement,Je=be,rt=rt?Ia(rt):null,rt!==null&&(In=Ot(rt),rt!==In||rt.tag!==5&&rt.tag!==6)&&(rt=null)):(Je=null,rt=be),Je!==rt)){if(st=Ro,$e="onMouseLeave",ge="onMouseEnter",se="mouse",(l==="pointerout"||l==="pointerover")&&(st=Gl,$e="onPointerLeave",ge="onPointerEnter",se="pointer"),In=Je==null?Ne:eu(Je),xe=rt==null?Ne:eu(rt),Ne=new st($e,se+"leave",Je,m,Le),Ne.target=In,Ne.relatedTarget=xe,$e=null,Ia(Le)===be&&(st=new st(ge,se+"enter",rt,m,Le),st.target=xe,st.relatedTarget=In,$e=st),In=$e,Je&&rt)t:{for(st=Je,ge=rt,se=0,xe=st;xe;xe=Jl(xe))se++;for(xe=0,$e=ge;$e;$e=Jl($e))xe++;for(;0<se-xe;)st=Jl(st),se--;for(;0<xe-se;)ge=Jl(ge),xe--;for(;se--;){if(st===ge||ge!==null&&st===ge.alternate)break t;st=Jl(st),ge=Jl(ge)}st=null}else st=null;Je!==null&&Hx(Ae,Ne,Je,st,!1),rt!==null&&In!==null&&Hx(Ae,In,rt,st,!0)}}e:{if(Ne=be?eu(be):window,Je=Ne.nodeName&&Ne.nodeName.toLowerCase(),Je==="select"||Je==="input"&&Ne.type==="file")var ot=Bh;else if(Xl(Ne))if(y)ot=ie;else{ot=K;var ct=$}else(Je=Ne.nodeName)&&Je.toLowerCase()==="input"&&(Ne.type==="checkbox"||Ne.type==="radio")&&(ot=ee);if(ot&&(ot=ot(l,be))){Tc(Ae,ot,m,Le);break e}ct&&ct(l,Ne,be),l==="focusout"&&(ct=Ne._wrapperState)&&ct.controlled&&Ne.type==="number"&&bs(Ne,"number",Ne.value)}switch(ct=be?eu(be):window,l){case"focusin":(Xl(ct)||ct.contentEditable==="true")&&(ke=ct,Me=be,Ue=null);break;case"focusout":Ue=Me=ke=null;break;case"mousedown":Ie=!0;break;case"contextmenu":case"mouseup":case"dragend":Ie=!1,Be(Ae,m,Le);break;case"selectionchange":if(Se)break;case"keydown":case"keyup":Be(Ae,m,Le)}var dt;if(La)e:{switch(l){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else tn?Ra(l,m)&&(gt="onCompositionEnd"):l==="keydown"&&m.keyCode===229&&(gt="onCompositionStart");gt&&(Ih&&m.locale!=="ko"&&(tn||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&tn&&(dt=Ul()):(ks=Le,wc="value"in ks?ks.value:ks.textContent,tn=!0)),ct=$h(be,gt),0<ct.length&&(gt=new Wl(gt,l,null,m,Le),Ae.push({event:gt,listeners:ct}),dt?gt.data=dt:(dt=Oi(m),dt!==null&&(gt.data=dt)))),(dt=Mh?Yl(l,m):Qr(l,m))&&(be=$h(be,"onBeforeInput"),0<be.length&&(Le=new Wl("onBeforeInput","beforeinput",null,m,Le),Ae.push({event:Le,listeners:be}),Le.data=dt))}$x(Ae,d)})}function Oc(l,d,m){return{instance:l,listener:d,currentTarget:m}}function $h(l,d){for(var m=d+"Capture",v=[];l!==null;){var _=l,j=_.stateNode;_.tag===5&&j!==null&&(_=j,j=_e(l,m),j!=null&&v.unshift(Oc(l,j,_)),j=_e(l,d),j!=null&&v.push(Oc(l,j,_))),l=l.return}return v}function Jl(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function Hx(l,d,m,v,_){for(var j=d._reactName,A=[];m!==null&&m!==v;){var W=m,Z=W.alternate,be=W.stateNode;if(Z!==null&&Z===v)break;W.tag===5&&be!==null&&(W=be,_?(Z=_e(m,j),Z!=null&&A.unshift(Oc(m,Z,W))):_||(Z=_e(m,j),Z!=null&&A.push(Oc(m,Z,W)))),m=m.return}A.length!==0&&l.push({event:d,listeners:A})}var x9=/\r\n?/g,b9=/\u0000|\uFFFD/g;function Qx(l){return(typeof l=="string"?l:""+l).replace(x9,`
`).replace(b9,"")}function Uh(l,d,m){if(d=Qx(d),Qx(l)!==d&&m)throw Error(n(425))}function Hh(){}var ug=null,cg=null;function dg(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var hg=typeof setTimeout=="function"?setTimeout:void 0,w9=typeof clearTimeout=="function"?clearTimeout:void 0,Vx=typeof Promise=="function"?Promise:void 0,_9=typeof queueMicrotask=="function"?queueMicrotask:typeof Vx<"u"?function(l){return Vx.resolve(null).then(l).catch(S9)}:hg;function S9(l){setTimeout(function(){throw l})}function fg(l,d){var m=d,v=0;do{var _=m.nextSibling;if(l.removeChild(m),_&&_.nodeType===8)if(m=_.data,m==="/$"){if(v===0){l.removeChild(_),No(d);return}v--}else m!=="$"&&m!=="$?"&&m!=="$!"||v++;m=_}while(m);No(d)}function Io(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return l}function Wx(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var m=l.data;if(m==="$"||m==="$!"||m==="$?"){if(d===0)return l;d--}else m==="/$"&&d++}l=l.previousSibling}return null}var Zl=Math.random().toString(36).slice(2),Es="__reactFiber$"+Zl,Lc="__reactProps$"+Zl,Gs="__reactContainer$"+Zl,pg="__reactEvents$"+Zl,C9="__reactListeners$"+Zl,k9="__reactHandles$"+Zl;function Ia(l){var d=l[Es];if(d)return d;for(var m=l.parentNode;m;){if(d=m[Gs]||m[Es]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(l=Wx(l);l!==null;){if(m=l[Es])return m;l=Wx(l)}return d}l=m,m=l.parentNode}return null}function Rc(l){return l=l[Es]||l[Gs],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function eu(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(n(33))}function Qh(l){return l[Lc]||null}var mg=[],tu=-1;function Do(l){return{current:l}}function pn(l){0>tu||(l.current=mg[tu],mg[tu]=null,tu--)}function on(l,d){tu++,mg[tu]=l.current,l.current=d}var Fo={},yr=Do(Fo),Vr=Do(!1),Da=Fo;function nu(l,d){var m=l.type.contextTypes;if(!m)return Fo;var v=l.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===d)return v.__reactInternalMemoizedMaskedChildContext;var _={},j;for(j in m)_[j]=d[j];return v&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=d,l.__reactInternalMemoizedMaskedChildContext=_),_}function Wr(l){return l=l.childContextTypes,l!=null}function Vh(){pn(Vr),pn(yr)}function qx(l,d,m){if(yr.current!==Fo)throw Error(n(168));on(yr,d),on(Vr,m)}function Kx(l,d,m){var v=l.stateNode;if(d=d.childContextTypes,typeof v.getChildContext!="function")return m;v=v.getChildContext();for(var _ in v)if(!(_ in d))throw Error(n(108,Xe(l)||"Unknown",_));return D({},m,v)}function Wh(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Fo,Da=yr.current,on(yr,l),on(Vr,Vr.current),!0}function Gx(l,d,m){var v=l.stateNode;if(!v)throw Error(n(169));m?(l=Kx(l,d,Da),v.__reactInternalMemoizedMergedChildContext=l,pn(Vr),pn(yr),on(yr,l)):pn(Vr),on(Vr,m)}var Ys=null,qh=!1,gg=!1;function Yx(l){Ys===null?Ys=[l]:Ys.push(l)}function j9(l){qh=!0,Yx(l)}function Bo(){if(!gg&&Ys!==null){gg=!0;var l=0,d=Jt;try{var m=Ys;for(Jt=1;l<m.length;l++){var v=m[l];do v=v(!0);while(v!==null)}Ys=null,qh=!1}catch(_){throw Ys!==null&&(Ys=Ys.slice(l+1)),Ji(Rr,Bo),_}finally{Jt=d,gg=!1}}return null}var ru=[],iu=0,Kh=null,Gh=0,Li=[],Ri=0,Fa=null,Xs=1,Js="";function Ba(l,d){ru[iu++]=Gh,ru[iu++]=Kh,Kh=l,Gh=d}function Xx(l,d,m){Li[Ri++]=Xs,Li[Ri++]=Js,Li[Ri++]=Fa,Fa=l;var v=Xs;l=Js;var _=32-pt(v)-1;v&=~(1<<_),m+=1;var j=32-pt(d)+_;if(30<j){var A=_-_%5;j=(v&(1<<A)-1).toString(32),v>>=A,_-=A,Xs=1<<32-pt(d)+_|m<<_|v,Js=j+l}else Xs=1<<j|m<<_|v,Js=l}function yg(l){l.return!==null&&(Ba(l,1),Xx(l,1,0))}function vg(l){for(;l===Kh;)Kh=ru[--iu],ru[iu]=null,Gh=ru[--iu],ru[iu]=null;for(;l===Fa;)Fa=Li[--Ri],Li[Ri]=null,Js=Li[--Ri],Li[Ri]=null,Xs=Li[--Ri],Li[Ri]=null}var gi=null,yi=null,wn=!1,os=null;function Jx(l,d){var m=Di(5,null,null,0);m.elementType="DELETED",m.stateNode=d,m.return=l,d=l.deletions,d===null?(l.deletions=[m],l.flags|=16):d.push(m)}function Zx(l,d){switch(l.tag){case 5:var m=l.type;return d=d.nodeType!==1||m.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(l.stateNode=d,gi=l,yi=Io(d.firstChild),!0):!1;case 6:return d=l.pendingProps===""||d.nodeType!==3?null:d,d!==null?(l.stateNode=d,gi=l,yi=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(m=Fa!==null?{id:Xs,overflow:Js}:null,l.memoizedState={dehydrated:d,treeContext:m,retryLane:1073741824},m=Di(18,null,null,0),m.stateNode=d,m.return=l,l.child=m,gi=l,yi=null,!0):!1;default:return!1}}function xg(l){return(l.mode&1)!==0&&(l.flags&128)===0}function bg(l){if(wn){var d=yi;if(d){var m=d;if(!Zx(l,d)){if(xg(l))throw Error(n(418));d=Io(m.nextSibling);var v=gi;d&&Zx(l,d)?Jx(v,m):(l.flags=l.flags&-4097|2,wn=!1,gi=l)}}else{if(xg(l))throw Error(n(418));l.flags=l.flags&-4097|2,wn=!1,gi=l}}}function e2(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;gi=l}function Yh(l){if(l!==gi)return!1;if(!wn)return e2(l),wn=!0,!1;var d;if((d=l.tag!==3)&&!(d=l.tag!==5)&&(d=l.type,d=d!=="head"&&d!=="body"&&!dg(l.type,l.memoizedProps)),d&&(d=yi)){if(xg(l))throw t2(),Error(n(418));for(;d;)Jx(l,d),d=Io(d.nextSibling)}if(e2(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));e:{for(l=l.nextSibling,d=0;l;){if(l.nodeType===8){var m=l.data;if(m==="/$"){if(d===0){yi=Io(l.nextSibling);break e}d--}else m!=="$"&&m!=="$!"&&m!=="$?"||d++}l=l.nextSibling}yi=null}}else yi=gi?Io(l.stateNode.nextSibling):null;return!0}function t2(){for(var l=yi;l;)l=Io(l.nextSibling)}function su(){yi=gi=null,wn=!1}function wg(l){os===null?os=[l]:os.push(l)}var E9=z.ReactCurrentBatchConfig;function Ac(l,d,m){if(l=m.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var v=m.stateNode}if(!v)throw Error(n(147,l));var _=v,j=""+l;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===j?d.ref:(d=function(A){var W=_.refs;A===null?delete W[j]:W[j]=A},d._stringRef=j,d)}if(typeof l!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,l))}return l}function Xh(l,d){throw l=Object.prototype.toString.call(d),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l))}function n2(l){var d=l._init;return d(l._payload)}function r2(l){function d(ge,se){if(l){var xe=ge.deletions;xe===null?(ge.deletions=[se],ge.flags|=16):xe.push(se)}}function m(ge,se){if(!l)return null;for(;se!==null;)d(ge,se),se=se.sibling;return null}function v(ge,se){for(ge=new Map;se!==null;)se.key!==null?ge.set(se.key,se):ge.set(se.index,se),se=se.sibling;return ge}function _(ge,se){return ge=qo(ge,se),ge.index=0,ge.sibling=null,ge}function j(ge,se,xe){return ge.index=xe,l?(xe=ge.alternate,xe!==null?(xe=xe.index,xe<se?(ge.flags|=2,se):xe):(ge.flags|=2,se)):(ge.flags|=1048576,se)}function A(ge){return l&&ge.alternate===null&&(ge.flags|=2),ge}function W(ge,se,xe,$e){return se===null||se.tag!==6?(se=h0(xe,ge.mode,$e),se.return=ge,se):(se=_(se,xe),se.return=ge,se)}function Z(ge,se,xe,$e){var ot=xe.type;return ot===I?Le(ge,se,xe.props.children,$e,xe.key):se!==null&&(se.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===J&&n2(ot)===se.type)?($e=_(se,xe.props),$e.ref=Ac(ge,se,xe),$e.return=ge,$e):($e=_f(xe.type,xe.key,xe.props,null,ge.mode,$e),$e.ref=Ac(ge,se,xe),$e.return=ge,$e)}function be(ge,se,xe,$e){return se===null||se.tag!==4||se.stateNode.containerInfo!==xe.containerInfo||se.stateNode.implementation!==xe.implementation?(se=f0(xe,ge.mode,$e),se.return=ge,se):(se=_(se,xe.children||[]),se.return=ge,se)}function Le(ge,se,xe,$e,ot){return se===null||se.tag!==7?(se=qa(xe,ge.mode,$e,ot),se.return=ge,se):(se=_(se,xe),se.return=ge,se)}function Ae(ge,se,xe){if(typeof se=="string"&&se!==""||typeof se=="number")return se=h0(""+se,ge.mode,xe),se.return=ge,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case U:return xe=_f(se.type,se.key,se.props,null,ge.mode,xe),xe.ref=Ac(ge,null,se),xe.return=ge,xe;case P:return se=f0(se,ge.mode,xe),se.return=ge,se;case J:var $e=se._init;return Ae(ge,$e(se._payload),xe)}if($r(se)||me(se))return se=qa(se,ge.mode,xe,null),se.return=ge,se;Xh(ge,se)}return null}function Ne(ge,se,xe,$e){var ot=se!==null?se.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number")return ot!==null?null:W(ge,se,""+xe,$e);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case U:return xe.key===ot?Z(ge,se,xe,$e):null;case P:return xe.key===ot?be(ge,se,xe,$e):null;case J:return ot=xe._init,Ne(ge,se,ot(xe._payload),$e)}if($r(xe)||me(xe))return ot!==null?null:Le(ge,se,xe,$e,null);Xh(ge,xe)}return null}function Je(ge,se,xe,$e,ot){if(typeof $e=="string"&&$e!==""||typeof $e=="number")return ge=ge.get(xe)||null,W(se,ge,""+$e,ot);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case U:return ge=ge.get($e.key===null?xe:$e.key)||null,Z(se,ge,$e,ot);case P:return ge=ge.get($e.key===null?xe:$e.key)||null,be(se,ge,$e,ot);case J:var ct=$e._init;return Je(ge,se,xe,ct($e._payload),ot)}if($r($e)||me($e))return ge=ge.get(xe)||null,Le(se,ge,$e,ot,null);Xh(se,$e)}return null}function rt(ge,se,xe,$e){for(var ot=null,ct=null,dt=se,gt=se=0,ir=null;dt!==null&&gt<xe.length;gt++){dt.index>gt?(ir=dt,dt=null):ir=dt.sibling;var qt=Ne(ge,dt,xe[gt],$e);if(qt===null){dt===null&&(dt=ir);break}l&&dt&&qt.alternate===null&&d(ge,dt),se=j(qt,se,gt),ct===null?ot=qt:ct.sibling=qt,ct=qt,dt=ir}if(gt===xe.length)return m(ge,dt),wn&&Ba(ge,gt),ot;if(dt===null){for(;gt<xe.length;gt++)dt=Ae(ge,xe[gt],$e),dt!==null&&(se=j(dt,se,gt),ct===null?ot=dt:ct.sibling=dt,ct=dt);return wn&&Ba(ge,gt),ot}for(dt=v(ge,dt);gt<xe.length;gt++)ir=Je(dt,ge,gt,xe[gt],$e),ir!==null&&(l&&ir.alternate!==null&&dt.delete(ir.key===null?gt:ir.key),se=j(ir,se,gt),ct===null?ot=ir:ct.sibling=ir,ct=ir);return l&&dt.forEach(function(Ko){return d(ge,Ko)}),wn&&Ba(ge,gt),ot}function st(ge,se,xe,$e){var ot=me(xe);if(typeof ot!="function")throw Error(n(150));if(xe=ot.call(xe),xe==null)throw Error(n(151));for(var ct=ot=null,dt=se,gt=se=0,ir=null,qt=xe.next();dt!==null&&!qt.done;gt++,qt=xe.next()){dt.index>gt?(ir=dt,dt=null):ir=dt.sibling;var Ko=Ne(ge,dt,qt.value,$e);if(Ko===null){dt===null&&(dt=ir);break}l&&dt&&Ko.alternate===null&&d(ge,dt),se=j(Ko,se,gt),ct===null?ot=Ko:ct.sibling=Ko,ct=Ko,dt=ir}if(qt.done)return m(ge,dt),wn&&Ba(ge,gt),ot;if(dt===null){for(;!qt.done;gt++,qt=xe.next())qt=Ae(ge,qt.value,$e),qt!==null&&(se=j(qt,se,gt),ct===null?ot=qt:ct.sibling=qt,ct=qt);return wn&&Ba(ge,gt),ot}for(dt=v(ge,dt);!qt.done;gt++,qt=xe.next())qt=Je(dt,ge,gt,qt.value,$e),qt!==null&&(l&&qt.alternate!==null&&dt.delete(qt.key===null?gt:qt.key),se=j(qt,se,gt),ct===null?ot=qt:ct.sibling=qt,ct=qt);return l&&dt.forEach(function(oC){return d(ge,oC)}),wn&&Ba(ge,gt),ot}function In(ge,se,xe,$e){if(typeof xe=="object"&&xe!==null&&xe.type===I&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case U:e:{for(var ot=xe.key,ct=se;ct!==null;){if(ct.key===ot){if(ot=xe.type,ot===I){if(ct.tag===7){m(ge,ct.sibling),se=_(ct,xe.props.children),se.return=ge,ge=se;break e}}else if(ct.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===J&&n2(ot)===ct.type){m(ge,ct.sibling),se=_(ct,xe.props),se.ref=Ac(ge,ct,xe),se.return=ge,ge=se;break e}m(ge,ct);break}else d(ge,ct);ct=ct.sibling}xe.type===I?(se=qa(xe.props.children,ge.mode,$e,xe.key),se.return=ge,ge=se):($e=_f(xe.type,xe.key,xe.props,null,ge.mode,$e),$e.ref=Ac(ge,se,xe),$e.return=ge,ge=$e)}return A(ge);case P:e:{for(ct=xe.key;se!==null;){if(se.key===ct)if(se.tag===4&&se.stateNode.containerInfo===xe.containerInfo&&se.stateNode.implementation===xe.implementation){m(ge,se.sibling),se=_(se,xe.children||[]),se.return=ge,ge=se;break e}else{m(ge,se);break}else d(ge,se);se=se.sibling}se=f0(xe,ge.mode,$e),se.return=ge,ge=se}return A(ge);case J:return ct=xe._init,In(ge,se,ct(xe._payload),$e)}if($r(xe))return rt(ge,se,xe,$e);if(me(xe))return st(ge,se,xe,$e);Xh(ge,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"?(xe=""+xe,se!==null&&se.tag===6?(m(ge,se.sibling),se=_(se,xe),se.return=ge,ge=se):(m(ge,se),se=h0(xe,ge.mode,$e),se.return=ge,ge=se),A(ge)):m(ge,se)}return In}var ou=r2(!0),i2=r2(!1),Jh=Do(null),Zh=null,au=null,_g=null;function Sg(){_g=au=Zh=null}function Cg(l){var d=Jh.current;pn(Jh),l._currentValue=d}function kg(l,d,m){for(;l!==null;){var v=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,v!==null&&(v.childLanes|=d)):v!==null&&(v.childLanes&d)!==d&&(v.childLanes|=d),l===m)break;l=l.return}}function lu(l,d){Zh=l,_g=au=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&d)!==0&&(qr=!0),l.firstContext=null)}function Ai(l){var d=l._currentValue;if(_g!==l)if(l={context:l,memoizedValue:d,next:null},au===null){if(Zh===null)throw Error(n(308));au=l,Zh.dependencies={lanes:0,firstContext:l}}else au=au.next=l;return d}var za=null;function jg(l){za===null?za=[l]:za.push(l)}function s2(l,d,m,v){var _=d.interleaved;return _===null?(m.next=m,jg(d)):(m.next=_.next,_.next=m),d.interleaved=m,Zs(l,v)}function Zs(l,d){l.lanes|=d;var m=l.alternate;for(m!==null&&(m.lanes|=d),m=l,l=l.return;l!==null;)l.childLanes|=d,m=l.alternate,m!==null&&(m.childLanes|=d),m=l,l=l.return;return m.tag===3?m.stateNode:null}var zo=!1;function Eg(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function o2(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function eo(l,d){return{eventTime:l,lane:d,tag:0,payload:null,callback:null,next:null}}function $o(l,d,m){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(Vt&2)!==0){var _=v.pending;return _===null?d.next=d:(d.next=_.next,_.next=d),v.pending=d,Zs(l,m)}return _=v.interleaved,_===null?(d.next=d,jg(v)):(d.next=_.next,_.next=d),v.interleaved=d,Zs(l,m)}function ef(l,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194240)!==0)){var v=d.lanes;v&=l.pendingLanes,m|=v,d.lanes=m,Fl(l,m)}}function a2(l,d){var m=l.updateQueue,v=l.alternate;if(v!==null&&(v=v.updateQueue,m===v)){var _=null,j=null;if(m=m.firstBaseUpdate,m!==null){do{var A={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};j===null?_=j=A:j=j.next=A,m=m.next}while(m!==null);j===null?_=j=d:j=j.next=d}else _=j=d;m={baseState:v.baseState,firstBaseUpdate:_,lastBaseUpdate:j,shared:v.shared,effects:v.effects},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=d:l.next=d,m.lastBaseUpdate=d}function tf(l,d,m,v){var _=l.updateQueue;zo=!1;var j=_.firstBaseUpdate,A=_.lastBaseUpdate,W=_.shared.pending;if(W!==null){_.shared.pending=null;var Z=W,be=Z.next;Z.next=null,A===null?j=be:A.next=be,A=Z;var Le=l.alternate;Le!==null&&(Le=Le.updateQueue,W=Le.lastBaseUpdate,W!==A&&(W===null?Le.firstBaseUpdate=be:W.next=be,Le.lastBaseUpdate=Z))}if(j!==null){var Ae=_.baseState;A=0,Le=be=Z=null,W=j;do{var Ne=W.lane,Je=W.eventTime;if((v&Ne)===Ne){Le!==null&&(Le=Le.next={eventTime:Je,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var rt=l,st=W;switch(Ne=d,Je=m,st.tag){case 1:if(rt=st.payload,typeof rt=="function"){Ae=rt.call(Je,Ae,Ne);break e}Ae=rt;break e;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=st.payload,Ne=typeof rt=="function"?rt.call(Je,Ae,Ne):rt,Ne==null)break e;Ae=D({},Ae,Ne);break e;case 2:zo=!0}}W.callback!==null&&W.lane!==0&&(l.flags|=64,Ne=_.effects,Ne===null?_.effects=[W]:Ne.push(W))}else Je={eventTime:Je,lane:Ne,tag:W.tag,payload:W.payload,callback:W.callback,next:null},Le===null?(be=Le=Je,Z=Ae):Le=Le.next=Je,A|=Ne;if(W=W.next,W===null){if(W=_.shared.pending,W===null)break;Ne=W,W=Ne.next,Ne.next=null,_.lastBaseUpdate=Ne,_.shared.pending=null}}while(!0);if(Le===null&&(Z=Ae),_.baseState=Z,_.firstBaseUpdate=be,_.lastBaseUpdate=Le,d=_.shared.interleaved,d!==null){_=d;do A|=_.lane,_=_.next;while(_!==d)}else j===null&&(_.shared.lanes=0);Ha|=A,l.lanes=A,l.memoizedState=Ae}}function l2(l,d,m){if(l=d.effects,d.effects=null,l!==null)for(d=0;d<l.length;d++){var v=l[d],_=v.callback;if(_!==null){if(v.callback=null,v=m,typeof _!="function")throw Error(n(191,_));_.call(v)}}}var Mc={},Ts=Do(Mc),Ic=Do(Mc),Dc=Do(Mc);function $a(l){if(l===Mc)throw Error(n(174));return l}function Tg(l,d){switch(on(Dc,d),on(Ic,l),on(Ts,Mc),l=d.nodeType,l){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:Oe(null,"");break;default:l=l===8?d.parentNode:d,d=l.namespaceURI||null,l=l.tagName,d=Oe(d,l)}pn(Ts),on(Ts,d)}function uu(){pn(Ts),pn(Ic),pn(Dc)}function u2(l){$a(Dc.current);var d=$a(Ts.current),m=Oe(d,l.type);d!==m&&(on(Ic,l),on(Ts,m))}function Ng(l){Ic.current===l&&(pn(Ts),pn(Ic))}var kn=Do(0);function nf(l){for(var d=l;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Pg=[];function Og(){for(var l=0;l<Pg.length;l++)Pg[l]._workInProgressVersionPrimary=null;Pg.length=0}var rf=z.ReactCurrentDispatcher,Lg=z.ReactCurrentBatchConfig,Ua=0,jn=null,Wn=null,nr=null,sf=!1,Fc=!1,Bc=0,T9=0;function vr(){throw Error(n(321))}function Rg(l,d){if(d===null)return!1;for(var m=0;m<d.length&&m<l.length;m++)if(!Y(l[m],d[m]))return!1;return!0}function Ag(l,d,m,v,_,j){if(Ua=j,jn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,rf.current=l===null||l.memoizedState===null?L9:R9,l=m(v,_),Fc){j=0;do{if(Fc=!1,Bc=0,25<=j)throw Error(n(301));j+=1,nr=Wn=null,d.updateQueue=null,rf.current=A9,l=m(v,_)}while(Fc)}if(rf.current=lf,d=Wn!==null&&Wn.next!==null,Ua=0,nr=Wn=jn=null,sf=!1,d)throw Error(n(300));return l}function Mg(){var l=Bc!==0;return Bc=0,l}function Ns(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nr===null?jn.memoizedState=nr=l:nr=nr.next=l,nr}function Mi(){if(Wn===null){var l=jn.alternate;l=l!==null?l.memoizedState:null}else l=Wn.next;var d=nr===null?jn.memoizedState:nr.next;if(d!==null)nr=d,Wn=l;else{if(l===null)throw Error(n(310));Wn=l,l={memoizedState:Wn.memoizedState,baseState:Wn.baseState,baseQueue:Wn.baseQueue,queue:Wn.queue,next:null},nr===null?jn.memoizedState=nr=l:nr=nr.next=l}return nr}function zc(l,d){return typeof d=="function"?d(l):d}function Ig(l){var d=Mi(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=l;var v=Wn,_=v.baseQueue,j=m.pending;if(j!==null){if(_!==null){var A=_.next;_.next=j.next,j.next=A}v.baseQueue=_=j,m.pending=null}if(_!==null){j=_.next,v=v.baseState;var W=A=null,Z=null,be=j;do{var Le=be.lane;if((Ua&Le)===Le)Z!==null&&(Z=Z.next={lane:0,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null}),v=be.hasEagerState?be.eagerState:l(v,be.action);else{var Ae={lane:Le,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null};Z===null?(W=Z=Ae,A=v):Z=Z.next=Ae,jn.lanes|=Le,Ha|=Le}be=be.next}while(be!==null&&be!==j);Z===null?A=v:Z.next=W,Y(v,d.memoizedState)||(qr=!0),d.memoizedState=v,d.baseState=A,d.baseQueue=Z,m.lastRenderedState=v}if(l=m.interleaved,l!==null){_=l;do j=_.lane,jn.lanes|=j,Ha|=j,_=_.next;while(_!==l)}else _===null&&(m.lanes=0);return[d.memoizedState,m.dispatch]}function Dg(l){var d=Mi(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=l;var v=m.dispatch,_=m.pending,j=d.memoizedState;if(_!==null){m.pending=null;var A=_=_.next;do j=l(j,A.action),A=A.next;while(A!==_);Y(j,d.memoizedState)||(qr=!0),d.memoizedState=j,d.baseQueue===null&&(d.baseState=j),m.lastRenderedState=j}return[j,v]}function c2(){}function d2(l,d){var m=jn,v=Mi(),_=d(),j=!Y(v.memoizedState,_);if(j&&(v.memoizedState=_,qr=!0),v=v.queue,Fg(p2.bind(null,m,v,l),[l]),v.getSnapshot!==d||j||nr!==null&&nr.memoizedState.tag&1){if(m.flags|=2048,$c(9,f2.bind(null,m,v,_,d),void 0,null),rr===null)throw Error(n(349));(Ua&30)!==0||h2(m,d,_)}return _}function h2(l,d,m){l.flags|=16384,l={getSnapshot:d,value:m},d=jn.updateQueue,d===null?(d={lastEffect:null,stores:null},jn.updateQueue=d,d.stores=[l]):(m=d.stores,m===null?d.stores=[l]:m.push(l))}function f2(l,d,m,v){d.value=m,d.getSnapshot=v,m2(d)&&g2(l)}function p2(l,d,m){return m(function(){m2(d)&&g2(l)})}function m2(l){var d=l.getSnapshot;l=l.value;try{var m=d();return!Y(l,m)}catch{return!0}}function g2(l){var d=Zs(l,1);d!==null&&cs(d,l,1,-1)}function y2(l){var d=Ns();return typeof l=="function"&&(l=l()),d.memoizedState=d.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zc,lastRenderedState:l},d.queue=l,l=l.dispatch=O9.bind(null,jn,l),[d.memoizedState,l]}function $c(l,d,m,v){return l={tag:l,create:d,destroy:m,deps:v,next:null},d=jn.updateQueue,d===null?(d={lastEffect:null,stores:null},jn.updateQueue=d,d.lastEffect=l.next=l):(m=d.lastEffect,m===null?d.lastEffect=l.next=l:(v=m.next,m.next=l,l.next=v,d.lastEffect=l)),l}function v2(){return Mi().memoizedState}function of(l,d,m,v){var _=Ns();jn.flags|=l,_.memoizedState=$c(1|d,m,void 0,v===void 0?null:v)}function af(l,d,m,v){var _=Mi();v=v===void 0?null:v;var j=void 0;if(Wn!==null){var A=Wn.memoizedState;if(j=A.destroy,v!==null&&Rg(v,A.deps)){_.memoizedState=$c(d,m,j,v);return}}jn.flags|=l,_.memoizedState=$c(1|d,m,j,v)}function x2(l,d){return of(8390656,8,l,d)}function Fg(l,d){return af(2048,8,l,d)}function b2(l,d){return af(4,2,l,d)}function w2(l,d){return af(4,4,l,d)}function _2(l,d){if(typeof d=="function")return l=l(),d(l),function(){d(null)};if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function S2(l,d,m){return m=m!=null?m.concat([l]):null,af(4,4,_2.bind(null,d,l),m)}function Bg(){}function C2(l,d){var m=Mi();d=d===void 0?null:d;var v=m.memoizedState;return v!==null&&d!==null&&Rg(d,v[1])?v[0]:(m.memoizedState=[l,d],l)}function k2(l,d){var m=Mi();d=d===void 0?null:d;var v=m.memoizedState;return v!==null&&d!==null&&Rg(d,v[1])?v[0]:(l=l(),m.memoizedState=[l,d],l)}function j2(l,d,m){return(Ua&21)===0?(l.baseState&&(l.baseState=!1,qr=!0),l.memoizedState=m):(Y(m,d)||(m=vc(),jn.lanes|=m,Ha|=m,l.baseState=!0),d)}function N9(l,d){var m=Jt;Jt=m!==0&&4>m?m:4,l(!0);var v=Lg.transition;Lg.transition={};try{l(!1),d()}finally{Jt=m,Lg.transition=v}}function E2(){return Mi().memoizedState}function P9(l,d,m){var v=Vo(l);if(m={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null},T2(l))N2(d,m);else if(m=s2(l,d,m,v),m!==null){var _=Ir();cs(m,l,v,_),P2(m,d,v)}}function O9(l,d,m){var v=Vo(l),_={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null};if(T2(l))N2(d,_);else{var j=l.alternate;if(l.lanes===0&&(j===null||j.lanes===0)&&(j=d.lastRenderedReducer,j!==null))try{var A=d.lastRenderedState,W=j(A,m);if(_.hasEagerState=!0,_.eagerState=W,Y(W,A)){var Z=d.interleaved;Z===null?(_.next=_,jg(d)):(_.next=Z.next,Z.next=_),d.interleaved=_;return}}catch{}finally{}m=s2(l,d,_,v),m!==null&&(_=Ir(),cs(m,l,v,_),P2(m,d,v))}}function T2(l){var d=l.alternate;return l===jn||d!==null&&d===jn}function N2(l,d){Fc=sf=!0;var m=l.pending;m===null?d.next=d:(d.next=m.next,m.next=d),l.pending=d}function P2(l,d,m){if((m&4194240)!==0){var v=d.lanes;v&=l.pendingLanes,m|=v,d.lanes=m,Fl(l,m)}}var lf={readContext:Ai,useCallback:vr,useContext:vr,useEffect:vr,useImperativeHandle:vr,useInsertionEffect:vr,useLayoutEffect:vr,useMemo:vr,useReducer:vr,useRef:vr,useState:vr,useDebugValue:vr,useDeferredValue:vr,useTransition:vr,useMutableSource:vr,useSyncExternalStore:vr,useId:vr,unstable_isNewReconciler:!1},L9={readContext:Ai,useCallback:function(l,d){return Ns().memoizedState=[l,d===void 0?null:d],l},useContext:Ai,useEffect:x2,useImperativeHandle:function(l,d,m){return m=m!=null?m.concat([l]):null,of(4194308,4,_2.bind(null,d,l),m)},useLayoutEffect:function(l,d){return of(4194308,4,l,d)},useInsertionEffect:function(l,d){return of(4,2,l,d)},useMemo:function(l,d){var m=Ns();return d=d===void 0?null:d,l=l(),m.memoizedState=[l,d],l},useReducer:function(l,d,m){var v=Ns();return d=m!==void 0?m(d):d,v.memoizedState=v.baseState=d,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:d},v.queue=l,l=l.dispatch=P9.bind(null,jn,l),[v.memoizedState,l]},useRef:function(l){var d=Ns();return l={current:l},d.memoizedState=l},useState:y2,useDebugValue:Bg,useDeferredValue:function(l){return Ns().memoizedState=l},useTransition:function(){var l=y2(!1),d=l[0];return l=N9.bind(null,l[1]),Ns().memoizedState=l,[d,l]},useMutableSource:function(){},useSyncExternalStore:function(l,d,m){var v=jn,_=Ns();if(wn){if(m===void 0)throw Error(n(407));m=m()}else{if(m=d(),rr===null)throw Error(n(349));(Ua&30)!==0||h2(v,d,m)}_.memoizedState=m;var j={value:m,getSnapshot:d};return _.queue=j,x2(p2.bind(null,v,j,l),[l]),v.flags|=2048,$c(9,f2.bind(null,v,j,m,d),void 0,null),m},useId:function(){var l=Ns(),d=rr.identifierPrefix;if(wn){var m=Js,v=Xs;m=(v&~(1<<32-pt(v)-1)).toString(32)+m,d=":"+d+"R"+m,m=Bc++,0<m&&(d+="H"+m.toString(32)),d+=":"}else m=T9++,d=":"+d+"r"+m.toString(32)+":";return l.memoizedState=d},unstable_isNewReconciler:!1},R9={readContext:Ai,useCallback:C2,useContext:Ai,useEffect:Fg,useImperativeHandle:S2,useInsertionEffect:b2,useLayoutEffect:w2,useMemo:k2,useReducer:Ig,useRef:v2,useState:function(){return Ig(zc)},useDebugValue:Bg,useDeferredValue:function(l){var d=Mi();return j2(d,Wn.memoizedState,l)},useTransition:function(){var l=Ig(zc)[0],d=Mi().memoizedState;return[l,d]},useMutableSource:c2,useSyncExternalStore:d2,useId:E2,unstable_isNewReconciler:!1},A9={readContext:Ai,useCallback:C2,useContext:Ai,useEffect:Fg,useImperativeHandle:S2,useInsertionEffect:b2,useLayoutEffect:w2,useMemo:k2,useReducer:Dg,useRef:v2,useState:function(){return Dg(zc)},useDebugValue:Bg,useDeferredValue:function(l){var d=Mi();return Wn===null?d.memoizedState=l:j2(d,Wn.memoizedState,l)},useTransition:function(){var l=Dg(zc)[0],d=Mi().memoizedState;return[l,d]},useMutableSource:c2,useSyncExternalStore:d2,useId:E2,unstable_isNewReconciler:!1};function as(l,d){if(l&&l.defaultProps){d=D({},d),l=l.defaultProps;for(var m in l)d[m]===void 0&&(d[m]=l[m]);return d}return d}function zg(l,d,m,v){d=l.memoizedState,m=m(v,d),m=m==null?d:D({},d,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var uf={isMounted:function(l){return(l=l._reactInternals)?Ot(l)===l:!1},enqueueSetState:function(l,d,m){l=l._reactInternals;var v=Ir(),_=Vo(l),j=eo(v,_);j.payload=d,m!=null&&(j.callback=m),d=$o(l,j,_),d!==null&&(cs(d,l,_,v),ef(d,l,_))},enqueueReplaceState:function(l,d,m){l=l._reactInternals;var v=Ir(),_=Vo(l),j=eo(v,_);j.tag=1,j.payload=d,m!=null&&(j.callback=m),d=$o(l,j,_),d!==null&&(cs(d,l,_,v),ef(d,l,_))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var m=Ir(),v=Vo(l),_=eo(m,v);_.tag=2,d!=null&&(_.callback=d),d=$o(l,_,v),d!==null&&(cs(d,l,v,m),ef(d,l,v))}};function O2(l,d,m,v,_,j,A){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,j,A):d.prototype&&d.prototype.isPureReactComponent?!he(m,v)||!he(_,j):!0}function L2(l,d,m){var v=!1,_=Fo,j=d.contextType;return typeof j=="object"&&j!==null?j=Ai(j):(_=Wr(d)?Da:yr.current,v=d.contextTypes,j=(v=v!=null)?nu(l,_):Fo),d=new d(m,j),l.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=uf,l.stateNode=d,d._reactInternals=l,v&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=_,l.__reactInternalMemoizedMaskedChildContext=j),d}function R2(l,d,m,v){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,v),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,v),d.state!==l&&uf.enqueueReplaceState(d,d.state,null)}function $g(l,d,m,v){var _=l.stateNode;_.props=m,_.state=l.memoizedState,_.refs={},Eg(l);var j=d.contextType;typeof j=="object"&&j!==null?_.context=Ai(j):(j=Wr(d)?Da:yr.current,_.context=nu(l,j)),_.state=l.memoizedState,j=d.getDerivedStateFromProps,typeof j=="function"&&(zg(l,d,j,m),_.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(d=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),d!==_.state&&uf.enqueueReplaceState(_,_.state,null),tf(l,m,_,v),_.state=l.memoizedState),typeof _.componentDidMount=="function"&&(l.flags|=4194308)}function cu(l,d){try{var m="",v=d;do m+=je(v),v=v.return;while(v);var _=m}catch(j){_=`
Error generating stack: `+j.message+`
`+j.stack}return{value:l,source:d,stack:_,digest:null}}function Ug(l,d,m){return{value:l,source:null,stack:m??null,digest:d??null}}function Hg(l,d){try{console.error(d.value)}catch(m){setTimeout(function(){throw m})}}var M9=typeof WeakMap=="function"?WeakMap:Map;function A2(l,d,m){m=eo(-1,m),m.tag=3,m.payload={element:null};var v=d.value;return m.callback=function(){gf||(gf=!0,i0=v),Hg(l,d)},m}function M2(l,d,m){m=eo(-1,m),m.tag=3;var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var _=d.value;m.payload=function(){return v(_)},m.callback=function(){Hg(l,d)}}var j=l.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(m.callback=function(){Hg(l,d),typeof v!="function"&&(Ho===null?Ho=new Set([this]):Ho.add(this));var A=d.stack;this.componentDidCatch(d.value,{componentStack:A!==null?A:""})}),m}function I2(l,d,m){var v=l.pingCache;if(v===null){v=l.pingCache=new M9;var _=new Set;v.set(d,_)}else _=v.get(d),_===void 0&&(_=new Set,v.set(d,_));_.has(m)||(_.add(m),l=G9.bind(null,l,d,m),d.then(l,l))}function D2(l){do{var d;if((d=l.tag===13)&&(d=l.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return l;l=l.return}while(l!==null);return null}function F2(l,d,m,v,_){return(l.mode&1)===0?(l===d?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(d=eo(-1,1),d.tag=2,$o(m,d,1))),m.lanes|=1),l):(l.flags|=65536,l.lanes=_,l)}var I9=z.ReactCurrentOwner,qr=!1;function Mr(l,d,m,v){d.child=l===null?i2(d,null,m,v):ou(d,l.child,m,v)}function B2(l,d,m,v,_){m=m.render;var j=d.ref;return lu(d,_),v=Ag(l,d,m,v,j,_),m=Mg(),l!==null&&!qr?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~_,to(l,d,_)):(wn&&m&&yg(d),d.flags|=1,Mr(l,d,v,_),d.child)}function z2(l,d,m,v,_){if(l===null){var j=m.type;return typeof j=="function"&&!d0(j)&&j.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(d.tag=15,d.type=j,$2(l,d,j,v,_)):(l=_f(m.type,null,v,d,d.mode,_),l.ref=d.ref,l.return=d,d.child=l)}if(j=l.child,(l.lanes&_)===0){var A=j.memoizedProps;if(m=m.compare,m=m!==null?m:he,m(A,v)&&l.ref===d.ref)return to(l,d,_)}return d.flags|=1,l=qo(j,v),l.ref=d.ref,l.return=d,d.child=l}function $2(l,d,m,v,_){if(l!==null){var j=l.memoizedProps;if(he(j,v)&&l.ref===d.ref)if(qr=!1,d.pendingProps=v=j,(l.lanes&_)!==0)(l.flags&131072)!==0&&(qr=!0);else return d.lanes=l.lanes,to(l,d,_)}return Qg(l,d,m,v,_)}function U2(l,d,m){var v=d.pendingProps,_=v.children,j=l!==null?l.memoizedState:null;if(v.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},on(hu,vi),vi|=m;else{if((m&1073741824)===0)return l=j!==null?j.baseLanes|m:m,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:l,cachePool:null,transitions:null},d.updateQueue=null,on(hu,vi),vi|=l,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=j!==null?j.baseLanes:m,on(hu,vi),vi|=v}else j!==null?(v=j.baseLanes|m,d.memoizedState=null):v=m,on(hu,vi),vi|=v;return Mr(l,d,_,m),d.child}function H2(l,d){var m=d.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(d.flags|=512,d.flags|=2097152)}function Qg(l,d,m,v,_){var j=Wr(m)?Da:yr.current;return j=nu(d,j),lu(d,_),m=Ag(l,d,m,v,j,_),v=Mg(),l!==null&&!qr?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~_,to(l,d,_)):(wn&&v&&yg(d),d.flags|=1,Mr(l,d,m,_),d.child)}function Q2(l,d,m,v,_){if(Wr(m)){var j=!0;Wh(d)}else j=!1;if(lu(d,_),d.stateNode===null)df(l,d),L2(d,m,v),$g(d,m,v,_),v=!0;else if(l===null){var A=d.stateNode,W=d.memoizedProps;A.props=W;var Z=A.context,be=m.contextType;typeof be=="object"&&be!==null?be=Ai(be):(be=Wr(m)?Da:yr.current,be=nu(d,be));var Le=m.getDerivedStateFromProps,Ae=typeof Le=="function"||typeof A.getSnapshotBeforeUpdate=="function";Ae||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(W!==v||Z!==be)&&R2(d,A,v,be),zo=!1;var Ne=d.memoizedState;A.state=Ne,tf(d,v,A,_),Z=d.memoizedState,W!==v||Ne!==Z||Vr.current||zo?(typeof Le=="function"&&(zg(d,m,Le,v),Z=d.memoizedState),(W=zo||O2(d,m,W,v,Ne,Z,be))?(Ae||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(d.flags|=4194308)):(typeof A.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=v,d.memoizedState=Z),A.props=v,A.state=Z,A.context=be,v=W):(typeof A.componentDidMount=="function"&&(d.flags|=4194308),v=!1)}else{A=d.stateNode,o2(l,d),W=d.memoizedProps,be=d.type===d.elementType?W:as(d.type,W),A.props=be,Ae=d.pendingProps,Ne=A.context,Z=m.contextType,typeof Z=="object"&&Z!==null?Z=Ai(Z):(Z=Wr(m)?Da:yr.current,Z=nu(d,Z));var Je=m.getDerivedStateFromProps;(Le=typeof Je=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(W!==Ae||Ne!==Z)&&R2(d,A,v,Z),zo=!1,Ne=d.memoizedState,A.state=Ne,tf(d,v,A,_);var rt=d.memoizedState;W!==Ae||Ne!==rt||Vr.current||zo?(typeof Je=="function"&&(zg(d,m,Je,v),rt=d.memoizedState),(be=zo||O2(d,m,be,v,Ne,rt,Z)||!1)?(Le||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(v,rt,Z),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(v,rt,Z)),typeof A.componentDidUpdate=="function"&&(d.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof A.componentDidUpdate!="function"||W===l.memoizedProps&&Ne===l.memoizedState||(d.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||W===l.memoizedProps&&Ne===l.memoizedState||(d.flags|=1024),d.memoizedProps=v,d.memoizedState=rt),A.props=v,A.state=rt,A.context=Z,v=be):(typeof A.componentDidUpdate!="function"||W===l.memoizedProps&&Ne===l.memoizedState||(d.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||W===l.memoizedProps&&Ne===l.memoizedState||(d.flags|=1024),v=!1)}return Vg(l,d,m,v,j,_)}function Vg(l,d,m,v,_,j){H2(l,d);var A=(d.flags&128)!==0;if(!v&&!A)return _&&Gx(d,m,!1),to(l,d,j);v=d.stateNode,I9.current=d;var W=A&&typeof m.getDerivedStateFromError!="function"?null:v.render();return d.flags|=1,l!==null&&A?(d.child=ou(d,l.child,null,j),d.child=ou(d,null,W,j)):Mr(l,d,W,j),d.memoizedState=v.state,_&&Gx(d,m,!0),d.child}function V2(l){var d=l.stateNode;d.pendingContext?qx(l,d.pendingContext,d.pendingContext!==d.context):d.context&&qx(l,d.context,!1),Tg(l,d.containerInfo)}function W2(l,d,m,v,_){return su(),wg(_),d.flags|=256,Mr(l,d,m,v),d.child}var Wg={dehydrated:null,treeContext:null,retryLane:0};function qg(l){return{baseLanes:l,cachePool:null,transitions:null}}function q2(l,d,m){var v=d.pendingProps,_=kn.current,j=!1,A=(d.flags&128)!==0,W;if((W=A)||(W=l!==null&&l.memoizedState===null?!1:(_&2)!==0),W?(j=!0,d.flags&=-129):(l===null||l.memoizedState!==null)&&(_|=1),on(kn,_&1),l===null)return bg(d),l=d.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((d.mode&1)===0?d.lanes=1:l.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(A=v.children,l=v.fallback,j?(v=d.mode,j=d.child,A={mode:"hidden",children:A},(v&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=A):j=Sf(A,v,0,null),l=qa(l,v,m,null),j.return=d,l.return=d,j.sibling=l,d.child=j,d.child.memoizedState=qg(m),d.memoizedState=Wg,l):Kg(d,A));if(_=l.memoizedState,_!==null&&(W=_.dehydrated,W!==null))return D9(l,d,A,v,W,_,m);if(j){j=v.fallback,A=d.mode,_=l.child,W=_.sibling;var Z={mode:"hidden",children:v.children};return(A&1)===0&&d.child!==_?(v=d.child,v.childLanes=0,v.pendingProps=Z,d.deletions=null):(v=qo(_,Z),v.subtreeFlags=_.subtreeFlags&14680064),W!==null?j=qo(W,j):(j=qa(j,A,m,null),j.flags|=2),j.return=d,v.return=d,v.sibling=j,d.child=v,v=j,j=d.child,A=l.child.memoizedState,A=A===null?qg(m):{baseLanes:A.baseLanes|m,cachePool:null,transitions:A.transitions},j.memoizedState=A,j.childLanes=l.childLanes&~m,d.memoizedState=Wg,v}return j=l.child,l=j.sibling,v=qo(j,{mode:"visible",children:v.children}),(d.mode&1)===0&&(v.lanes=m),v.return=d,v.sibling=null,l!==null&&(m=d.deletions,m===null?(d.deletions=[l],d.flags|=16):m.push(l)),d.child=v,d.memoizedState=null,v}function Kg(l,d){return d=Sf({mode:"visible",children:d},l.mode,0,null),d.return=l,l.child=d}function cf(l,d,m,v){return v!==null&&wg(v),ou(d,l.child,null,m),l=Kg(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function D9(l,d,m,v,_,j,A){if(m)return d.flags&256?(d.flags&=-257,v=Ug(Error(n(422))),cf(l,d,A,v)):d.memoizedState!==null?(d.child=l.child,d.flags|=128,null):(j=v.fallback,_=d.mode,v=Sf({mode:"visible",children:v.children},_,0,null),j=qa(j,_,A,null),j.flags|=2,v.return=d,j.return=d,v.sibling=j,d.child=v,(d.mode&1)!==0&&ou(d,l.child,null,A),d.child.memoizedState=qg(A),d.memoizedState=Wg,j);if((d.mode&1)===0)return cf(l,d,A,null);if(_.data==="$!"){if(v=_.nextSibling&&_.nextSibling.dataset,v)var W=v.dgst;return v=W,j=Error(n(419)),v=Ug(j,v,void 0),cf(l,d,A,v)}if(W=(A&l.childLanes)!==0,qr||W){if(v=rr,v!==null){switch(A&-A){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(v.suspendedLanes|A))!==0?0:_,_!==0&&_!==j.retryLane&&(j.retryLane=_,Zs(l,_),cs(v,l,_,-1))}return c0(),v=Ug(Error(n(421))),cf(l,d,A,v)}return _.data==="$?"?(d.flags|=128,d.child=l.child,d=Y9.bind(null,l),_._reactRetry=d,null):(l=j.treeContext,yi=Io(_.nextSibling),gi=d,wn=!0,os=null,l!==null&&(Li[Ri++]=Xs,Li[Ri++]=Js,Li[Ri++]=Fa,Xs=l.id,Js=l.overflow,Fa=d),d=Kg(d,v.children),d.flags|=4096,d)}function K2(l,d,m){l.lanes|=d;var v=l.alternate;v!==null&&(v.lanes|=d),kg(l.return,d,m)}function Gg(l,d,m,v,_){var j=l.memoizedState;j===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:_}:(j.isBackwards=d,j.rendering=null,j.renderingStartTime=0,j.last=v,j.tail=m,j.tailMode=_)}function G2(l,d,m){var v=d.pendingProps,_=v.revealOrder,j=v.tail;if(Mr(l,d,v.children,m),v=kn.current,(v&2)!==0)v=v&1|2,d.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&K2(l,m,d);else if(l.tag===19)K2(l,m,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}v&=1}if(on(kn,v),(d.mode&1)===0)d.memoizedState=null;else switch(_){case"forwards":for(m=d.child,_=null;m!==null;)l=m.alternate,l!==null&&nf(l)===null&&(_=m),m=m.sibling;m=_,m===null?(_=d.child,d.child=null):(_=m.sibling,m.sibling=null),Gg(d,!1,_,m,j);break;case"backwards":for(m=null,_=d.child,d.child=null;_!==null;){if(l=_.alternate,l!==null&&nf(l)===null){d.child=_;break}l=_.sibling,_.sibling=m,m=_,_=l}Gg(d,!0,m,null,j);break;case"together":Gg(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function df(l,d){(d.mode&1)===0&&l!==null&&(l.alternate=null,d.alternate=null,d.flags|=2)}function to(l,d,m){if(l!==null&&(d.dependencies=l.dependencies),Ha|=d.lanes,(m&d.childLanes)===0)return null;if(l!==null&&d.child!==l.child)throw Error(n(153));if(d.child!==null){for(l=d.child,m=qo(l,l.pendingProps),d.child=m,m.return=d;l.sibling!==null;)l=l.sibling,m=m.sibling=qo(l,l.pendingProps),m.return=d;m.sibling=null}return d.child}function F9(l,d,m){switch(d.tag){case 3:V2(d),su();break;case 5:u2(d);break;case 1:Wr(d.type)&&Wh(d);break;case 4:Tg(d,d.stateNode.containerInfo);break;case 10:var v=d.type._context,_=d.memoizedProps.value;on(Jh,v._currentValue),v._currentValue=_;break;case 13:if(v=d.memoizedState,v!==null)return v.dehydrated!==null?(on(kn,kn.current&1),d.flags|=128,null):(m&d.child.childLanes)!==0?q2(l,d,m):(on(kn,kn.current&1),l=to(l,d,m),l!==null?l.sibling:null);on(kn,kn.current&1);break;case 19:if(v=(m&d.childLanes)!==0,(l.flags&128)!==0){if(v)return G2(l,d,m);d.flags|=128}if(_=d.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),on(kn,kn.current),v)break;return null;case 22:case 23:return d.lanes=0,U2(l,d,m)}return to(l,d,m)}var Y2,Yg,X2,J2;Y2=function(l,d){for(var m=d.child;m!==null;){if(m.tag===5||m.tag===6)l.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Yg=function(){},X2=function(l,d,m,v){var _=l.memoizedProps;if(_!==v){l=d.stateNode,$a(Ts.current);var j=null;switch(m){case"input":_=hn(l,_),v=hn(l,v),j=[];break;case"select":_=D({},_,{value:void 0}),v=D({},v,{value:void 0}),j=[];break;case"textarea":_=hr(l,_),v=hr(l,v),j=[];break;default:typeof _.onClick!="function"&&typeof v.onClick=="function"&&(l.onclick=Hh)}We(m,v);var A;m=null;for(be in _)if(!v.hasOwnProperty(be)&&_.hasOwnProperty(be)&&_[be]!=null)if(be==="style"){var W=_[be];for(A in W)W.hasOwnProperty(A)&&(m||(m={}),m[A]="")}else be!=="dangerouslySetInnerHTML"&&be!=="children"&&be!=="suppressContentEditableWarning"&&be!=="suppressHydrationWarning"&&be!=="autoFocus"&&(i.hasOwnProperty(be)?j||(j=[]):(j=j||[]).push(be,null));for(be in v){var Z=v[be];if(W=_?.[be],v.hasOwnProperty(be)&&Z!==W&&(Z!=null||W!=null))if(be==="style")if(W){for(A in W)!W.hasOwnProperty(A)||Z&&Z.hasOwnProperty(A)||(m||(m={}),m[A]="");for(A in Z)Z.hasOwnProperty(A)&&W[A]!==Z[A]&&(m||(m={}),m[A]=Z[A])}else m||(j||(j=[]),j.push(be,m)),m=Z;else be==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,W=W?W.__html:void 0,Z!=null&&W!==Z&&(j=j||[]).push(be,Z)):be==="children"?typeof Z!="string"&&typeof Z!="number"||(j=j||[]).push(be,""+Z):be!=="suppressContentEditableWarning"&&be!=="suppressHydrationWarning"&&(i.hasOwnProperty(be)?(Z!=null&&be==="onScroll"&&fn("scroll",l),j||W===Z||(j=[])):(j=j||[]).push(be,Z))}m&&(j=j||[]).push("style",m);var be=j;(d.updateQueue=be)&&(d.flags|=4)}},J2=function(l,d,m,v){m!==v&&(d.flags|=4)};function Uc(l,d){if(!wn)switch(l.tailMode){case"hidden":d=l.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function xr(l){var d=l.alternate!==null&&l.alternate.child===l.child,m=0,v=0;if(d)for(var _=l.child;_!==null;)m|=_.lanes|_.childLanes,v|=_.subtreeFlags&14680064,v|=_.flags&14680064,_.return=l,_=_.sibling;else for(_=l.child;_!==null;)m|=_.lanes|_.childLanes,v|=_.subtreeFlags,v|=_.flags,_.return=l,_=_.sibling;return l.subtreeFlags|=v,l.childLanes=m,d}function B9(l,d,m){var v=d.pendingProps;switch(vg(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xr(d),null;case 1:return Wr(d.type)&&Vh(),xr(d),null;case 3:return v=d.stateNode,uu(),pn(Vr),pn(yr),Og(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(l===null||l.child===null)&&(Yh(d)?d.flags|=4:l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,os!==null&&(a0(os),os=null))),Yg(l,d),xr(d),null;case 5:Ng(d);var _=$a(Dc.current);if(m=d.type,l!==null&&d.stateNode!=null)X2(l,d,m,v,_),l.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!v){if(d.stateNode===null)throw Error(n(166));return xr(d),null}if(l=$a(Ts.current),Yh(d)){v=d.stateNode,m=d.type;var j=d.memoizedProps;switch(v[Es]=d,v[Lc]=j,l=(d.mode&1)!==0,m){case"dialog":fn("cancel",v),fn("close",v);break;case"iframe":case"object":case"embed":fn("load",v);break;case"video":case"audio":for(_=0;_<Nc.length;_++)fn(Nc[_],v);break;case"source":fn("error",v);break;case"img":case"image":case"link":fn("error",v),fn("load",v);break;case"details":fn("toggle",v);break;case"input":Ln(v,j),fn("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!j.multiple},fn("invalid",v);break;case"textarea":fr(v,j),fn("invalid",v)}We(m,j),_=null;for(var A in j)if(j.hasOwnProperty(A)){var W=j[A];A==="children"?typeof W=="string"?v.textContent!==W&&(j.suppressHydrationWarning!==!0&&Uh(v.textContent,W,l),_=["children",W]):typeof W=="number"&&v.textContent!==""+W&&(j.suppressHydrationWarning!==!0&&Uh(v.textContent,W,l),_=["children",""+W]):i.hasOwnProperty(A)&&W!=null&&A==="onScroll"&&fn("scroll",v)}switch(m){case"input":dn(v),Co(v,j,!0);break;case"textarea":dn(v),Ur(v);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(v.onclick=Hh)}v=_,d.updateQueue=v,v!==null&&(d.flags|=4)}else{A=_.nodeType===9?_:_.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=Ce(m)),l==="http://www.w3.org/1999/xhtml"?m==="script"?(l=A.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof v.is=="string"?l=A.createElement(m,{is:v.is}):(l=A.createElement(m),m==="select"&&(A=l,v.multiple?A.multiple=!0:v.size&&(A.size=v.size))):l=A.createElementNS(l,m),l[Es]=d,l[Lc]=v,Y2(l,d,!1,!1),d.stateNode=l;e:{switch(A=An(m,v),m){case"dialog":fn("cancel",l),fn("close",l),_=v;break;case"iframe":case"object":case"embed":fn("load",l),_=v;break;case"video":case"audio":for(_=0;_<Nc.length;_++)fn(Nc[_],l);_=v;break;case"source":fn("error",l),_=v;break;case"img":case"image":case"link":fn("error",l),fn("load",l),_=v;break;case"details":fn("toggle",l),_=v;break;case"input":Ln(l,v),_=hn(l,v),fn("invalid",l);break;case"option":_=v;break;case"select":l._wrapperState={wasMultiple:!!v.multiple},_=D({},v,{value:void 0}),fn("invalid",l);break;case"textarea":fr(l,v),_=hr(l,v),fn("invalid",l);break;default:_=v}We(m,_),W=_;for(j in W)if(W.hasOwnProperty(j)){var Z=W[j];j==="style"?Or(l,Z):j==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&mt(l,Z)):j==="children"?typeof Z=="string"?(m!=="textarea"||Z!=="")&&Pt(l,Z):typeof Z=="number"&&Pt(l,""+Z):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(i.hasOwnProperty(j)?Z!=null&&j==="onScroll"&&fn("scroll",l):Z!=null&&R(l,j,Z,A))}switch(m){case"input":dn(l),Co(l,v,!1);break;case"textarea":dn(l),Ur(l);break;case"option":v.value!=null&&l.setAttribute("value",""+Ge(v.value));break;case"select":l.multiple=!!v.multiple,j=v.value,j!=null?Rn(l,!!v.multiple,j,!1):v.defaultValue!=null&&Rn(l,!!v.multiple,v.defaultValue,!0);break;default:typeof _.onClick=="function"&&(l.onclick=Hh)}switch(m){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return xr(d),null;case 6:if(l&&d.stateNode!=null)J2(l,d,l.memoizedProps,v);else{if(typeof v!="string"&&d.stateNode===null)throw Error(n(166));if(m=$a(Dc.current),$a(Ts.current),Yh(d)){if(v=d.stateNode,m=d.memoizedProps,v[Es]=d,(j=v.nodeValue!==m)&&(l=gi,l!==null))switch(l.tag){case 3:Uh(v.nodeValue,m,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&Uh(v.nodeValue,m,(l.mode&1)!==0)}j&&(d.flags|=4)}else v=(m.nodeType===9?m:m.ownerDocument).createTextNode(v),v[Es]=d,d.stateNode=v}return xr(d),null;case 13:if(pn(kn),v=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(wn&&yi!==null&&(d.mode&1)!==0&&(d.flags&128)===0)t2(),su(),d.flags|=98560,j=!1;else if(j=Yh(d),v!==null&&v.dehydrated!==null){if(l===null){if(!j)throw Error(n(318));if(j=d.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(n(317));j[Es]=d}else su(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;xr(d),j=!1}else os!==null&&(a0(os),os=null),j=!0;if(!j)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=m,d):(v=v!==null,v!==(l!==null&&l.memoizedState!==null)&&v&&(d.child.flags|=8192,(d.mode&1)!==0&&(l===null||(kn.current&1)!==0?qn===0&&(qn=3):c0())),d.updateQueue!==null&&(d.flags|=4),xr(d),null);case 4:return uu(),Yg(l,d),l===null&&Pc(d.stateNode.containerInfo),xr(d),null;case 10:return Cg(d.type._context),xr(d),null;case 17:return Wr(d.type)&&Vh(),xr(d),null;case 19:if(pn(kn),j=d.memoizedState,j===null)return xr(d),null;if(v=(d.flags&128)!==0,A=j.rendering,A===null)if(v)Uc(j,!1);else{if(qn!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if(A=nf(l),A!==null){for(d.flags|=128,Uc(j,!1),v=A.updateQueue,v!==null&&(d.updateQueue=v,d.flags|=4),d.subtreeFlags=0,v=m,m=d.child;m!==null;)j=m,l=v,j.flags&=14680066,A=j.alternate,A===null?(j.childLanes=0,j.lanes=l,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=A.childLanes,j.lanes=A.lanes,j.child=A.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=A.memoizedProps,j.memoizedState=A.memoizedState,j.updateQueue=A.updateQueue,j.type=A.type,l=A.dependencies,j.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),m=m.sibling;return on(kn,kn.current&1|2),d.child}l=l.sibling}j.tail!==null&&At()>fu&&(d.flags|=128,v=!0,Uc(j,!1),d.lanes=4194304)}else{if(!v)if(l=nf(A),l!==null){if(d.flags|=128,v=!0,m=l.updateQueue,m!==null&&(d.updateQueue=m,d.flags|=4),Uc(j,!0),j.tail===null&&j.tailMode==="hidden"&&!A.alternate&&!wn)return xr(d),null}else 2*At()-j.renderingStartTime>fu&&m!==1073741824&&(d.flags|=128,v=!0,Uc(j,!1),d.lanes=4194304);j.isBackwards?(A.sibling=d.child,d.child=A):(m=j.last,m!==null?m.sibling=A:d.child=A,j.last=A)}return j.tail!==null?(d=j.tail,j.rendering=d,j.tail=d.sibling,j.renderingStartTime=At(),d.sibling=null,m=kn.current,on(kn,v?m&1|2:m&1),d):(xr(d),null);case 22:case 23:return u0(),v=d.memoizedState!==null,l!==null&&l.memoizedState!==null!==v&&(d.flags|=8192),v&&(d.mode&1)!==0?(vi&1073741824)!==0&&(xr(d),d.subtreeFlags&6&&(d.flags|=8192)):xr(d),null;case 24:return null;case 25:return null}throw Error(n(156,d.tag))}function z9(l,d){switch(vg(d),d.tag){case 1:return Wr(d.type)&&Vh(),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return uu(),pn(Vr),pn(yr),Og(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 5:return Ng(d),null;case 13:if(pn(kn),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(n(340));su()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return pn(kn),null;case 4:return uu(),null;case 10:return Cg(d.type._context),null;case 22:case 23:return u0(),null;case 24:return null;default:return null}}var hf=!1,br=!1,$9=typeof WeakSet=="function"?WeakSet:Set,et=null;function du(l,d){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(v){Tn(l,d,v)}else m.current=null}function Xg(l,d,m){try{m()}catch(v){Tn(l,d,v)}}var Z2=!1;function U9(l,d){if(ug=Cs,l=oe(),ve(l)){if("selectionStart"in l)var m={start:l.selectionStart,end:l.selectionEnd};else e:{m=(m=l.ownerDocument)&&m.defaultView||window;var v=m.getSelection&&m.getSelection();if(v&&v.rangeCount!==0){m=v.anchorNode;var _=v.anchorOffset,j=v.focusNode;v=v.focusOffset;try{m.nodeType,j.nodeType}catch{m=null;break e}var A=0,W=-1,Z=-1,be=0,Le=0,Ae=l,Ne=null;t:for(;;){for(var Je;Ae!==m||_!==0&&Ae.nodeType!==3||(W=A+_),Ae!==j||v!==0&&Ae.nodeType!==3||(Z=A+v),Ae.nodeType===3&&(A+=Ae.nodeValue.length),(Je=Ae.firstChild)!==null;)Ne=Ae,Ae=Je;for(;;){if(Ae===l)break t;if(Ne===m&&++be===_&&(W=A),Ne===j&&++Le===v&&(Z=A),(Je=Ae.nextSibling)!==null)break;Ae=Ne,Ne=Ae.parentNode}Ae=Je}m=W===-1||Z===-1?null:{start:W,end:Z}}else m=null}m=m||{start:0,end:0}}else m=null;for(cg={focusedElem:l,selectionRange:m},Cs=!1,et=d;et!==null;)if(d=et,l=d.child,(d.subtreeFlags&1028)!==0&&l!==null)l.return=d,et=l;else for(;et!==null;){d=et;try{var rt=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(rt!==null){var st=rt.memoizedProps,In=rt.memoizedState,ge=d.stateNode,se=ge.getSnapshotBeforeUpdate(d.elementType===d.type?st:as(d.type,st),In);ge.__reactInternalSnapshotBeforeUpdate=se}break;case 3:var xe=d.stateNode.containerInfo;xe.nodeType===1?xe.textContent="":xe.nodeType===9&&xe.documentElement&&xe.removeChild(xe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch($e){Tn(d,d.return,$e)}if(l=d.sibling,l!==null){l.return=d.return,et=l;break}et=d.return}return rt=Z2,Z2=!1,rt}function Hc(l,d,m){var v=d.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var _=v=v.next;do{if((_.tag&l)===l){var j=_.destroy;_.destroy=void 0,j!==void 0&&Xg(d,m,j)}_=_.next}while(_!==v)}}function ff(l,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&l)===l){var v=m.create;m.destroy=v()}m=m.next}while(m!==d)}}function Jg(l){var d=l.ref;if(d!==null){var m=l.stateNode;switch(l.tag){case 5:l=m;break;default:l=m}typeof d=="function"?d(l):d.current=l}}function eb(l){var d=l.alternate;d!==null&&(l.alternate=null,eb(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&(delete d[Es],delete d[Lc],delete d[pg],delete d[C9],delete d[k9])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function tb(l){return l.tag===5||l.tag===3||l.tag===4}function nb(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||tb(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Zg(l,d,m){var v=l.tag;if(v===5||v===6)l=l.stateNode,d?m.nodeType===8?m.parentNode.insertBefore(l,d):m.insertBefore(l,d):(m.nodeType===8?(d=m.parentNode,d.insertBefore(l,m)):(d=m,d.appendChild(l)),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=Hh));else if(v!==4&&(l=l.child,l!==null))for(Zg(l,d,m),l=l.sibling;l!==null;)Zg(l,d,m),l=l.sibling}function e0(l,d,m){var v=l.tag;if(v===5||v===6)l=l.stateNode,d?m.insertBefore(l,d):m.appendChild(l);else if(v!==4&&(l=l.child,l!==null))for(e0(l,d,m),l=l.sibling;l!==null;)e0(l,d,m),l=l.sibling}var ur=null,ls=!1;function Uo(l,d,m){for(m=m.child;m!==null;)rb(l,d,m),m=m.sibling}function rb(l,d,m){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(hi,m)}catch{}switch(m.tag){case 5:br||du(m,d);case 6:var v=ur,_=ls;ur=null,Uo(l,d,m),ur=v,ls=_,ur!==null&&(ls?(l=ur,m=m.stateNode,l.nodeType===8?l.parentNode.removeChild(m):l.removeChild(m)):ur.removeChild(m.stateNode));break;case 18:ur!==null&&(ls?(l=ur,m=m.stateNode,l.nodeType===8?fg(l.parentNode,m):l.nodeType===1&&fg(l,m),No(l)):fg(ur,m.stateNode));break;case 4:v=ur,_=ls,ur=m.stateNode.containerInfo,ls=!0,Uo(l,d,m),ur=v,ls=_;break;case 0:case 11:case 14:case 15:if(!br&&(v=m.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){_=v=v.next;do{var j=_,A=j.destroy;j=j.tag,A!==void 0&&((j&2)!==0||(j&4)!==0)&&Xg(m,d,A),_=_.next}while(_!==v)}Uo(l,d,m);break;case 1:if(!br&&(du(m,d),v=m.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=m.memoizedProps,v.state=m.memoizedState,v.componentWillUnmount()}catch(W){Tn(m,d,W)}Uo(l,d,m);break;case 21:Uo(l,d,m);break;case 22:m.mode&1?(br=(v=br)||m.memoizedState!==null,Uo(l,d,m),br=v):Uo(l,d,m);break;default:Uo(l,d,m)}}function ib(l){var d=l.updateQueue;if(d!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new $9),d.forEach(function(v){var _=X9.bind(null,l,v);m.has(v)||(m.add(v),v.then(_,_))})}}function us(l,d){var m=d.deletions;if(m!==null)for(var v=0;v<m.length;v++){var _=m[v];try{var j=l,A=d,W=A;e:for(;W!==null;){switch(W.tag){case 5:ur=W.stateNode,ls=!1;break e;case 3:ur=W.stateNode.containerInfo,ls=!0;break e;case 4:ur=W.stateNode.containerInfo,ls=!0;break e}W=W.return}if(ur===null)throw Error(n(160));rb(j,A,_),ur=null,ls=!1;var Z=_.alternate;Z!==null&&(Z.return=null),_.return=null}catch(be){Tn(_,d,be)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)sb(d,l),d=d.sibling}function sb(l,d){var m=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(us(d,l),Ps(l),v&4){try{Hc(3,l,l.return),ff(3,l)}catch(st){Tn(l,l.return,st)}try{Hc(5,l,l.return)}catch(st){Tn(l,l.return,st)}}break;case 1:us(d,l),Ps(l),v&512&&m!==null&&du(m,m.return);break;case 5:if(us(d,l),Ps(l),v&512&&m!==null&&du(m,m.return),l.flags&32){var _=l.stateNode;try{Pt(_,"")}catch(st){Tn(l,l.return,st)}}if(v&4&&(_=l.stateNode,_!=null)){var j=l.memoizedProps,A=m!==null?m.memoizedProps:j,W=l.type,Z=l.updateQueue;if(l.updateQueue=null,Z!==null)try{W==="input"&&j.type==="radio"&&j.name!=null&&Fs(_,j),An(W,A);var be=An(W,j);for(A=0;A<Z.length;A+=2){var Le=Z[A],Ae=Z[A+1];Le==="style"?Or(_,Ae):Le==="dangerouslySetInnerHTML"?mt(_,Ae):Le==="children"?Pt(_,Ae):R(_,Le,Ae,be)}switch(W){case"input":Gi(_,j);break;case"textarea":ws(_,j);break;case"select":var Ne=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!j.multiple;var Je=j.value;Je!=null?Rn(_,!!j.multiple,Je,!1):Ne!==!!j.multiple&&(j.defaultValue!=null?Rn(_,!!j.multiple,j.defaultValue,!0):Rn(_,!!j.multiple,j.multiple?[]:"",!1))}_[Lc]=j}catch(st){Tn(l,l.return,st)}}break;case 6:if(us(d,l),Ps(l),v&4){if(l.stateNode===null)throw Error(n(162));_=l.stateNode,j=l.memoizedProps;try{_.nodeValue=j}catch(st){Tn(l,l.return,st)}}break;case 3:if(us(d,l),Ps(l),v&4&&m!==null&&m.memoizedState.isDehydrated)try{No(d.containerInfo)}catch(st){Tn(l,l.return,st)}break;case 4:us(d,l),Ps(l);break;case 13:us(d,l),Ps(l),_=l.child,_.flags&8192&&(j=_.memoizedState!==null,_.stateNode.isHidden=j,!j||_.alternate!==null&&_.alternate.memoizedState!==null||(r0=At())),v&4&&ib(l);break;case 22:if(Le=m!==null&&m.memoizedState!==null,l.mode&1?(br=(be=br)||Le,us(d,l),br=be):us(d,l),Ps(l),v&8192){if(be=l.memoizedState!==null,(l.stateNode.isHidden=be)&&!Le&&(l.mode&1)!==0)for(et=l,Le=l.child;Le!==null;){for(Ae=et=Le;et!==null;){switch(Ne=et,Je=Ne.child,Ne.tag){case 0:case 11:case 14:case 15:Hc(4,Ne,Ne.return);break;case 1:du(Ne,Ne.return);var rt=Ne.stateNode;if(typeof rt.componentWillUnmount=="function"){v=Ne,m=Ne.return;try{d=v,rt.props=d.memoizedProps,rt.state=d.memoizedState,rt.componentWillUnmount()}catch(st){Tn(v,m,st)}}break;case 5:du(Ne,Ne.return);break;case 22:if(Ne.memoizedState!==null){lb(Ae);continue}}Je!==null?(Je.return=Ne,et=Je):lb(Ae)}Le=Le.sibling}e:for(Le=null,Ae=l;;){if(Ae.tag===5){if(Le===null){Le=Ae;try{_=Ae.stateNode,be?(j=_.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(W=Ae.stateNode,Z=Ae.memoizedProps.style,A=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,W.style.display=Bn("display",A))}catch(st){Tn(l,l.return,st)}}}else if(Ae.tag===6){if(Le===null)try{Ae.stateNode.nodeValue=be?"":Ae.memoizedProps}catch(st){Tn(l,l.return,st)}}else if((Ae.tag!==22&&Ae.tag!==23||Ae.memoizedState===null||Ae===l)&&Ae.child!==null){Ae.child.return=Ae,Ae=Ae.child;continue}if(Ae===l)break e;for(;Ae.sibling===null;){if(Ae.return===null||Ae.return===l)break e;Le===Ae&&(Le=null),Ae=Ae.return}Le===Ae&&(Le=null),Ae.sibling.return=Ae.return,Ae=Ae.sibling}}break;case 19:us(d,l),Ps(l),v&4&&ib(l);break;case 21:break;default:us(d,l),Ps(l)}}function Ps(l){var d=l.flags;if(d&2){try{e:{for(var m=l.return;m!==null;){if(tb(m)){var v=m;break e}m=m.return}throw Error(n(160))}switch(v.tag){case 5:var _=v.stateNode;v.flags&32&&(Pt(_,""),v.flags&=-33);var j=nb(l);e0(l,j,_);break;case 3:case 4:var A=v.stateNode.containerInfo,W=nb(l);Zg(l,W,A);break;default:throw Error(n(161))}}catch(Z){Tn(l,l.return,Z)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function H9(l,d,m){et=l,ob(l)}function ob(l,d,m){for(var v=(l.mode&1)!==0;et!==null;){var _=et,j=_.child;if(_.tag===22&&v){var A=_.memoizedState!==null||hf;if(!A){var W=_.alternate,Z=W!==null&&W.memoizedState!==null||br;W=hf;var be=br;if(hf=A,(br=Z)&&!be)for(et=_;et!==null;)A=et,Z=A.child,A.tag===22&&A.memoizedState!==null?ub(_):Z!==null?(Z.return=A,et=Z):ub(_);for(;j!==null;)et=j,ob(j),j=j.sibling;et=_,hf=W,br=be}ab(l)}else(_.subtreeFlags&8772)!==0&&j!==null?(j.return=_,et=j):ab(l)}}function ab(l){for(;et!==null;){var d=et;if((d.flags&8772)!==0){var m=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:br||ff(5,d);break;case 1:var v=d.stateNode;if(d.flags&4&&!br)if(m===null)v.componentDidMount();else{var _=d.elementType===d.type?m.memoizedProps:as(d.type,m.memoizedProps);v.componentDidUpdate(_,m.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var j=d.updateQueue;j!==null&&l2(d,j,v);break;case 3:var A=d.updateQueue;if(A!==null){if(m=null,d.child!==null)switch(d.child.tag){case 5:m=d.child.stateNode;break;case 1:m=d.child.stateNode}l2(d,A,m)}break;case 5:var W=d.stateNode;if(m===null&&d.flags&4){m=W;var Z=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&m.focus();break;case"img":Z.src&&(m.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var be=d.alternate;if(be!==null){var Le=be.memoizedState;if(Le!==null){var Ae=Le.dehydrated;Ae!==null&&No(Ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}br||d.flags&512&&Jg(d)}catch(Ne){Tn(d,d.return,Ne)}}if(d===l){et=null;break}if(m=d.sibling,m!==null){m.return=d.return,et=m;break}et=d.return}}function lb(l){for(;et!==null;){var d=et;if(d===l){et=null;break}var m=d.sibling;if(m!==null){m.return=d.return,et=m;break}et=d.return}}function ub(l){for(;et!==null;){var d=et;try{switch(d.tag){case 0:case 11:case 15:var m=d.return;try{ff(4,d)}catch(Z){Tn(d,m,Z)}break;case 1:var v=d.stateNode;if(typeof v.componentDidMount=="function"){var _=d.return;try{v.componentDidMount()}catch(Z){Tn(d,_,Z)}}var j=d.return;try{Jg(d)}catch(Z){Tn(d,j,Z)}break;case 5:var A=d.return;try{Jg(d)}catch(Z){Tn(d,A,Z)}}}catch(Z){Tn(d,d.return,Z)}if(d===l){et=null;break}var W=d.sibling;if(W!==null){W.return=d.return,et=W;break}et=d.return}}var Q9=Math.ceil,pf=z.ReactCurrentDispatcher,t0=z.ReactCurrentOwner,Ii=z.ReactCurrentBatchConfig,Vt=0,rr=null,$n=null,cr=0,vi=0,hu=Do(0),qn=0,Qc=null,Ha=0,mf=0,n0=0,Vc=null,Kr=null,r0=0,fu=1/0,no=null,gf=!1,i0=null,Ho=null,yf=!1,Qo=null,vf=0,Wc=0,s0=null,xf=-1,bf=0;function Ir(){return(Vt&6)!==0?At():xf!==-1?xf:xf=At()}function Vo(l){return(l.mode&1)===0?1:(Vt&2)!==0&&cr!==0?cr&-cr:E9.transition!==null?(bf===0&&(bf=vc()),bf):(l=Jt,l!==0||(l=window.event,l=l===void 0?16:Eh(l.type)),l)}function cs(l,d,m,v){if(50<Wc)throw Wc=0,s0=null,Error(n(185));Eo(l,m,v),((Vt&2)===0||l!==rr)&&(l===rr&&((Vt&2)===0&&(mf|=m),qn===4&&Wo(l,cr)),Gr(l,v),m===1&&Vt===0&&(d.mode&1)===0&&(fu=At()+500,qh&&Bo()))}function Gr(l,d){var m=l.callbackNode;yc(l,d);var v=es(l,l===rr?cr:0);if(v===0)m!==null&&Lr(m),l.callbackNode=null,l.callbackPriority=0;else if(d=v&-v,l.callbackPriority!==d){if(m!=null&&Lr(m),d===1)l.tag===0?j9(db.bind(null,l)):Yx(db.bind(null,l)),_9(function(){(Vt&6)===0&&Bo()}),m=null;else{switch($t(v)){case 1:m=Rr;break;case 4:m=Ni;break;case 16:m=Mt;break;case 536870912:m=Ar;break;default:m=Mt}m=xb(m,cb.bind(null,l))}l.callbackPriority=d,l.callbackNode=m}}function cb(l,d){if(xf=-1,bf=0,(Vt&6)!==0)throw Error(n(327));var m=l.callbackNode;if(pu()&&l.callbackNode!==m)return null;var v=es(l,l===rr?cr:0);if(v===0)return null;if((v&30)!==0||(v&l.expiredLanes)!==0||d)d=wf(l,v);else{d=v;var _=Vt;Vt|=2;var j=fb();(rr!==l||cr!==d)&&(no=null,fu=At()+500,Va(l,d));do try{q9();break}catch(W){hb(l,W)}while(!0);Sg(),pf.current=j,Vt=_,$n!==null?d=0:(rr=null,cr=0,d=qn)}if(d!==0){if(d===2&&(_=ko(l),_!==0&&(v=_,d=o0(l,_))),d===1)throw m=Qc,Va(l,0),Wo(l,v),Gr(l,At()),m;if(d===6)Wo(l,v);else{if(_=l.current.alternate,(v&30)===0&&!V9(_)&&(d=wf(l,v),d===2&&(j=ko(l),j!==0&&(v=j,d=o0(l,j))),d===1))throw m=Qc,Va(l,0),Wo(l,v),Gr(l,At()),m;switch(l.finishedWork=_,l.finishedLanes=v,d){case 0:case 1:throw Error(n(345));case 2:Wa(l,Kr,no);break;case 3:if(Wo(l,v),(v&130023424)===v&&(d=r0+500-At(),10<d)){if(es(l,0)!==0)break;if(_=l.suspendedLanes,(_&v)!==v){Ir(),l.pingedLanes|=l.suspendedLanes&_;break}l.timeoutHandle=hg(Wa.bind(null,l,Kr,no),d);break}Wa(l,Kr,no);break;case 4:if(Wo(l,v),(v&4194240)===v)break;for(d=l.eventTimes,_=-1;0<v;){var A=31-pt(v);j=1<<A,A=d[A],A>_&&(_=A),v&=~j}if(v=_,v=At()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*Q9(v/1960))-v,10<v){l.timeoutHandle=hg(Wa.bind(null,l,Kr,no),v);break}Wa(l,Kr,no);break;case 5:Wa(l,Kr,no);break;default:throw Error(n(329))}}}return Gr(l,At()),l.callbackNode===m?cb.bind(null,l):null}function o0(l,d){var m=Vc;return l.current.memoizedState.isDehydrated&&(Va(l,d).flags|=256),l=wf(l,d),l!==2&&(d=Kr,Kr=m,d!==null&&a0(d)),l}function a0(l){Kr===null?Kr=l:Kr.push.apply(Kr,l)}function V9(l){for(var d=l;;){if(d.flags&16384){var m=d.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var v=0;v<m.length;v++){var _=m[v],j=_.getSnapshot;_=_.value;try{if(!Y(j(),_))return!1}catch{return!1}}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Wo(l,d){for(d&=~n0,d&=~mf,l.suspendedLanes|=d,l.pingedLanes&=~d,l=l.expirationTimes;0<d;){var m=31-pt(d),v=1<<m;l[m]=-1,d&=~v}}function db(l){if((Vt&6)!==0)throw Error(n(327));pu();var d=es(l,0);if((d&1)===0)return Gr(l,At()),null;var m=wf(l,d);if(l.tag!==0&&m===2){var v=ko(l);v!==0&&(d=v,m=o0(l,v))}if(m===1)throw m=Qc,Va(l,0),Wo(l,d),Gr(l,At()),m;if(m===6)throw Error(n(345));return l.finishedWork=l.current.alternate,l.finishedLanes=d,Wa(l,Kr,no),Gr(l,At()),null}function l0(l,d){var m=Vt;Vt|=1;try{return l(d)}finally{Vt=m,Vt===0&&(fu=At()+500,qh&&Bo())}}function Qa(l){Qo!==null&&Qo.tag===0&&(Vt&6)===0&&pu();var d=Vt;Vt|=1;var m=Ii.transition,v=Jt;try{if(Ii.transition=null,Jt=1,l)return l()}finally{Jt=v,Ii.transition=m,Vt=d,(Vt&6)===0&&Bo()}}function u0(){vi=hu.current,pn(hu)}function Va(l,d){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==-1&&(l.timeoutHandle=-1,w9(m)),$n!==null)for(m=$n.return;m!==null;){var v=m;switch(vg(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&Vh();break;case 3:uu(),pn(Vr),pn(yr),Og();break;case 5:Ng(v);break;case 4:uu();break;case 13:pn(kn);break;case 19:pn(kn);break;case 10:Cg(v.type._context);break;case 22:case 23:u0()}m=m.return}if(rr=l,$n=l=qo(l.current,null),cr=vi=d,qn=0,Qc=null,n0=mf=Ha=0,Kr=Vc=null,za!==null){for(d=0;d<za.length;d++)if(m=za[d],v=m.interleaved,v!==null){m.interleaved=null;var _=v.next,j=m.pending;if(j!==null){var A=j.next;j.next=_,v.next=A}m.pending=v}za=null}return l}function hb(l,d){do{var m=$n;try{if(Sg(),rf.current=lf,sf){for(var v=jn.memoizedState;v!==null;){var _=v.queue;_!==null&&(_.pending=null),v=v.next}sf=!1}if(Ua=0,nr=Wn=jn=null,Fc=!1,Bc=0,t0.current=null,m===null||m.return===null){qn=1,Qc=d,$n=null;break}e:{var j=l,A=m.return,W=m,Z=d;if(d=cr,W.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var be=Z,Le=W,Ae=Le.tag;if((Le.mode&1)===0&&(Ae===0||Ae===11||Ae===15)){var Ne=Le.alternate;Ne?(Le.updateQueue=Ne.updateQueue,Le.memoizedState=Ne.memoizedState,Le.lanes=Ne.lanes):(Le.updateQueue=null,Le.memoizedState=null)}var Je=D2(A);if(Je!==null){Je.flags&=-257,F2(Je,A,W,j,d),Je.mode&1&&I2(j,be,d),d=Je,Z=be;var rt=d.updateQueue;if(rt===null){var st=new Set;st.add(Z),d.updateQueue=st}else rt.add(Z);break e}else{if((d&1)===0){I2(j,be,d),c0();break e}Z=Error(n(426))}}else if(wn&&W.mode&1){var In=D2(A);if(In!==null){(In.flags&65536)===0&&(In.flags|=256),F2(In,A,W,j,d),wg(cu(Z,W));break e}}j=Z=cu(Z,W),qn!==4&&(qn=2),Vc===null?Vc=[j]:Vc.push(j),j=A;do{switch(j.tag){case 3:j.flags|=65536,d&=-d,j.lanes|=d;var ge=A2(j,Z,d);a2(j,ge);break e;case 1:W=Z;var se=j.type,xe=j.stateNode;if((j.flags&128)===0&&(typeof se.getDerivedStateFromError=="function"||xe!==null&&typeof xe.componentDidCatch=="function"&&(Ho===null||!Ho.has(xe)))){j.flags|=65536,d&=-d,j.lanes|=d;var $e=M2(j,W,d);a2(j,$e);break e}}j=j.return}while(j!==null)}mb(m)}catch(ot){d=ot,$n===m&&m!==null&&($n=m=m.return);continue}break}while(!0)}function fb(){var l=pf.current;return pf.current=lf,l===null?lf:l}function c0(){(qn===0||qn===3||qn===2)&&(qn=4),rr===null||(Ha&268435455)===0&&(mf&268435455)===0||Wo(rr,cr)}function wf(l,d){var m=Vt;Vt|=2;var v=fb();(rr!==l||cr!==d)&&(no=null,Va(l,d));do try{W9();break}catch(_){hb(l,_)}while(!0);if(Sg(),Vt=m,pf.current=v,$n!==null)throw Error(n(261));return rr=null,cr=0,qn}function W9(){for(;$n!==null;)pb($n)}function q9(){for(;$n!==null&&!Ut();)pb($n)}function pb(l){var d=vb(l.alternate,l,vi);l.memoizedProps=l.pendingProps,d===null?mb(l):$n=d,t0.current=null}function mb(l){var d=l;do{var m=d.alternate;if(l=d.return,(d.flags&32768)===0){if(m=B9(m,d,vi),m!==null){$n=m;return}}else{if(m=z9(m,d),m!==null){m.flags&=32767,$n=m;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{qn=6,$n=null;return}}if(d=d.sibling,d!==null){$n=d;return}$n=d=l}while(d!==null);qn===0&&(qn=5)}function Wa(l,d,m){var v=Jt,_=Ii.transition;try{Ii.transition=null,Jt=1,K9(l,d,m,v)}finally{Ii.transition=_,Jt=v}return null}function K9(l,d,m,v){do pu();while(Qo!==null);if((Vt&6)!==0)throw Error(n(327));m=l.finishedWork;var _=l.finishedLanes;if(m===null)return null;if(l.finishedWork=null,l.finishedLanes=0,m===l.current)throw Error(n(177));l.callbackNode=null,l.callbackPriority=0;var j=m.lanes|m.childLanes;if(wa(l,j),l===rr&&($n=rr=null,cr=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||yf||(yf=!0,xb(Mt,function(){return pu(),null})),j=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||j){j=Ii.transition,Ii.transition=null;var A=Jt;Jt=1;var W=Vt;Vt|=4,t0.current=null,U9(l,m),sb(m,l),we(cg),Cs=!!ug,cg=ug=null,l.current=m,H9(m),di(),Vt=W,Jt=A,Ii.transition=j}else l.current=m;if(yf&&(yf=!1,Qo=l,vf=_),j=l.pendingLanes,j===0&&(Ho=null),zs(m.stateNode),Gr(l,At()),d!==null)for(v=l.onRecoverableError,m=0;m<d.length;m++)_=d[m],v(_.value,{componentStack:_.stack,digest:_.digest});if(gf)throw gf=!1,l=i0,i0=null,l;return(vf&1)!==0&&l.tag!==0&&pu(),j=l.pendingLanes,(j&1)!==0?l===s0?Wc++:(Wc=0,s0=l):Wc=0,Bo(),null}function pu(){if(Qo!==null){var l=$t(vf),d=Ii.transition,m=Jt;try{if(Ii.transition=null,Jt=16>l?16:l,Qo===null)var v=!1;else{if(l=Qo,Qo=null,vf=0,(Vt&6)!==0)throw Error(n(331));var _=Vt;for(Vt|=4,et=l.current;et!==null;){var j=et,A=j.child;if((et.flags&16)!==0){var W=j.deletions;if(W!==null){for(var Z=0;Z<W.length;Z++){var be=W[Z];for(et=be;et!==null;){var Le=et;switch(Le.tag){case 0:case 11:case 15:Hc(8,Le,j)}var Ae=Le.child;if(Ae!==null)Ae.return=Le,et=Ae;else for(;et!==null;){Le=et;var Ne=Le.sibling,Je=Le.return;if(eb(Le),Le===be){et=null;break}if(Ne!==null){Ne.return=Je,et=Ne;break}et=Je}}}var rt=j.alternate;if(rt!==null){var st=rt.child;if(st!==null){rt.child=null;do{var In=st.sibling;st.sibling=null,st=In}while(st!==null)}}et=j}}if((j.subtreeFlags&2064)!==0&&A!==null)A.return=j,et=A;else e:for(;et!==null;){if(j=et,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:Hc(9,j,j.return)}var ge=j.sibling;if(ge!==null){ge.return=j.return,et=ge;break e}et=j.return}}var se=l.current;for(et=se;et!==null;){A=et;var xe=A.child;if((A.subtreeFlags&2064)!==0&&xe!==null)xe.return=A,et=xe;else e:for(A=se;et!==null;){if(W=et,(W.flags&2048)!==0)try{switch(W.tag){case 0:case 11:case 15:ff(9,W)}}catch(ot){Tn(W,W.return,ot)}if(W===A){et=null;break e}var $e=W.sibling;if($e!==null){$e.return=W.return,et=$e;break e}et=W.return}}if(Vt=_,Bo(),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(hi,l)}catch{}v=!0}return v}finally{Jt=m,Ii.transition=d}}return!1}function gb(l,d,m){d=cu(m,d),d=A2(l,d,1),l=$o(l,d,1),d=Ir(),l!==null&&(Eo(l,1,d),Gr(l,d))}function Tn(l,d,m){if(l.tag===3)gb(l,l,m);else for(;d!==null;){if(d.tag===3){gb(d,l,m);break}else if(d.tag===1){var v=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Ho===null||!Ho.has(v))){l=cu(m,l),l=M2(d,l,1),d=$o(d,l,1),l=Ir(),d!==null&&(Eo(d,1,l),Gr(d,l));break}}d=d.return}}function G9(l,d,m){var v=l.pingCache;v!==null&&v.delete(d),d=Ir(),l.pingedLanes|=l.suspendedLanes&m,rr===l&&(cr&m)===m&&(qn===4||qn===3&&(cr&130023424)===cr&&500>At()-r0?Va(l,0):n0|=m),Gr(l,d)}function yb(l,d){d===0&&((l.mode&1)===0?d=1:(d=Ss,Ss<<=1,(Ss&130023424)===0&&(Ss=4194304)));var m=Ir();l=Zs(l,d),l!==null&&(Eo(l,d,m),Gr(l,m))}function Y9(l){var d=l.memoizedState,m=0;d!==null&&(m=d.retryLane),yb(l,m)}function X9(l,d){var m=0;switch(l.tag){case 13:var v=l.stateNode,_=l.memoizedState;_!==null&&(m=_.retryLane);break;case 19:v=l.stateNode;break;default:throw Error(n(314))}v!==null&&v.delete(d),yb(l,m)}var vb;vb=function(l,d,m){if(l!==null)if(l.memoizedProps!==d.pendingProps||Vr.current)qr=!0;else{if((l.lanes&m)===0&&(d.flags&128)===0)return qr=!1,F9(l,d,m);qr=(l.flags&131072)!==0}else qr=!1,wn&&(d.flags&1048576)!==0&&Xx(d,Gh,d.index);switch(d.lanes=0,d.tag){case 2:var v=d.type;df(l,d),l=d.pendingProps;var _=nu(d,yr.current);lu(d,m),_=Ag(null,d,v,l,_,m);var j=Mg();return d.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Wr(v)?(j=!0,Wh(d)):j=!1,d.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,Eg(d),_.updater=uf,d.stateNode=_,_._reactInternals=d,$g(d,v,l,m),d=Vg(null,d,v,!0,j,m)):(d.tag=0,wn&&j&&yg(d),Mr(null,d,_,m),d=d.child),d;case 16:v=d.elementType;e:{switch(df(l,d),l=d.pendingProps,_=v._init,v=_(v._payload),d.type=v,_=d.tag=Z9(v),l=as(v,l),_){case 0:d=Qg(null,d,v,l,m);break e;case 1:d=Q2(null,d,v,l,m);break e;case 11:d=B2(null,d,v,l,m);break e;case 14:d=z2(null,d,v,as(v.type,l),m);break e}throw Error(n(306,v,""))}return d;case 0:return v=d.type,_=d.pendingProps,_=d.elementType===v?_:as(v,_),Qg(l,d,v,_,m);case 1:return v=d.type,_=d.pendingProps,_=d.elementType===v?_:as(v,_),Q2(l,d,v,_,m);case 3:e:{if(V2(d),l===null)throw Error(n(387));v=d.pendingProps,j=d.memoizedState,_=j.element,o2(l,d),tf(d,v,null,m);var A=d.memoizedState;if(v=A.element,j.isDehydrated)if(j={element:v,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},d.updateQueue.baseState=j,d.memoizedState=j,d.flags&256){_=cu(Error(n(423)),d),d=W2(l,d,v,m,_);break e}else if(v!==_){_=cu(Error(n(424)),d),d=W2(l,d,v,m,_);break e}else for(yi=Io(d.stateNode.containerInfo.firstChild),gi=d,wn=!0,os=null,m=i2(d,null,v,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(su(),v===_){d=to(l,d,m);break e}Mr(l,d,v,m)}d=d.child}return d;case 5:return u2(d),l===null&&bg(d),v=d.type,_=d.pendingProps,j=l!==null?l.memoizedProps:null,A=_.children,dg(v,_)?A=null:j!==null&&dg(v,j)&&(d.flags|=32),H2(l,d),Mr(l,d,A,m),d.child;case 6:return l===null&&bg(d),null;case 13:return q2(l,d,m);case 4:return Tg(d,d.stateNode.containerInfo),v=d.pendingProps,l===null?d.child=ou(d,null,v,m):Mr(l,d,v,m),d.child;case 11:return v=d.type,_=d.pendingProps,_=d.elementType===v?_:as(v,_),B2(l,d,v,_,m);case 7:return Mr(l,d,d.pendingProps,m),d.child;case 8:return Mr(l,d,d.pendingProps.children,m),d.child;case 12:return Mr(l,d,d.pendingProps.children,m),d.child;case 10:e:{if(v=d.type._context,_=d.pendingProps,j=d.memoizedProps,A=_.value,on(Jh,v._currentValue),v._currentValue=A,j!==null)if(Y(j.value,A)){if(j.children===_.children&&!Vr.current){d=to(l,d,m);break e}}else for(j=d.child,j!==null&&(j.return=d);j!==null;){var W=j.dependencies;if(W!==null){A=j.child;for(var Z=W.firstContext;Z!==null;){if(Z.context===v){if(j.tag===1){Z=eo(-1,m&-m),Z.tag=2;var be=j.updateQueue;if(be!==null){be=be.shared;var Le=be.pending;Le===null?Z.next=Z:(Z.next=Le.next,Le.next=Z),be.pending=Z}}j.lanes|=m,Z=j.alternate,Z!==null&&(Z.lanes|=m),kg(j.return,m,d),W.lanes|=m;break}Z=Z.next}}else if(j.tag===10)A=j.type===d.type?null:j.child;else if(j.tag===18){if(A=j.return,A===null)throw Error(n(341));A.lanes|=m,W=A.alternate,W!==null&&(W.lanes|=m),kg(A,m,d),A=j.sibling}else A=j.child;if(A!==null)A.return=j;else for(A=j;A!==null;){if(A===d){A=null;break}if(j=A.sibling,j!==null){j.return=A.return,A=j;break}A=A.return}j=A}Mr(l,d,_.children,m),d=d.child}return d;case 9:return _=d.type,v=d.pendingProps.children,lu(d,m),_=Ai(_),v=v(_),d.flags|=1,Mr(l,d,v,m),d.child;case 14:return v=d.type,_=as(v,d.pendingProps),_=as(v.type,_),z2(l,d,v,_,m);case 15:return $2(l,d,d.type,d.pendingProps,m);case 17:return v=d.type,_=d.pendingProps,_=d.elementType===v?_:as(v,_),df(l,d),d.tag=1,Wr(v)?(l=!0,Wh(d)):l=!1,lu(d,m),L2(d,v,_),$g(d,v,_,m),Vg(null,d,v,!0,l,m);case 19:return G2(l,d,m);case 22:return U2(l,d,m)}throw Error(n(156,d.tag))};function xb(l,d){return Ji(l,d)}function J9(l,d,m,v){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Di(l,d,m,v){return new J9(l,d,m,v)}function d0(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Z9(l){if(typeof l=="function")return d0(l)?1:0;if(l!=null){if(l=l.$$typeof,l===ue)return 11;if(l===V)return 14}return 2}function qo(l,d){var m=l.alternate;return m===null?(m=Di(l.tag,d,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=d,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&14680064,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,d=l.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function _f(l,d,m,v,_,j){var A=2;if(v=l,typeof l=="function")d0(l)&&(A=1);else if(typeof l=="string")A=5;else e:switch(l){case I:return qa(m.children,_,j,d);case H:A=8,_|=8;break;case Q:return l=Di(12,m,d,_|2),l.elementType=Q,l.lanes=j,l;case ae:return l=Di(13,m,d,_),l.elementType=ae,l.lanes=j,l;case q:return l=Di(19,m,d,_),l.elementType=q,l.lanes=j,l;case te:return Sf(m,_,j,d);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case F:A=10;break e;case le:A=9;break e;case ue:A=11;break e;case V:A=14;break e;case J:A=16,v=null;break e}throw Error(n(130,l==null?l:typeof l,""))}return d=Di(A,m,d,_),d.elementType=l,d.type=v,d.lanes=j,d}function qa(l,d,m,v){return l=Di(7,l,v,d),l.lanes=m,l}function Sf(l,d,m,v){return l=Di(22,l,v,d),l.elementType=te,l.lanes=m,l.stateNode={isHidden:!1},l}function h0(l,d,m){return l=Di(6,l,null,d),l.lanes=m,l}function f0(l,d,m){return d=Di(4,l.children!==null?l.children:[],l.key,d),d.lanes=m,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}function eC(l,d,m,v,_){this.tag=d,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jo(0),this.expirationTimes=jo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jo(0),this.identifierPrefix=v,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function p0(l,d,m,v,_,j,A,W,Z){return l=new eC(l,d,m,W,Z),d===1?(d=1,j===!0&&(d|=8)):d=0,j=Di(3,null,null,d),l.current=j,j.stateNode=l,j.memoizedState={element:v,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},Eg(j),l}function tC(l,d,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:v==null?null:""+v,children:l,containerInfo:d,implementation:m}}function bb(l){if(!l)return Fo;l=l._reactInternals;e:{if(Ot(l)!==l||l.tag!==1)throw Error(n(170));var d=l;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Wr(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(n(171))}if(l.tag===1){var m=l.type;if(Wr(m))return Kx(l,m,d)}return d}function wb(l,d,m,v,_,j,A,W,Z){return l=p0(m,v,!0,l,_,j,A,W,Z),l.context=bb(null),m=l.current,v=Ir(),_=Vo(m),j=eo(v,_),j.callback=d??null,$o(m,j,_),l.current.lanes=_,Eo(l,_,v),Gr(l,v),l}function Cf(l,d,m,v){var _=d.current,j=Ir(),A=Vo(_);return m=bb(m),d.context===null?d.context=m:d.pendingContext=m,d=eo(j,A),d.payload={element:l},v=v===void 0?null:v,v!==null&&(d.callback=v),l=$o(_,d,A),l!==null&&(cs(l,_,A,j),ef(l,_,A)),A}function kf(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function _b(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<d?m:d}}function m0(l,d){_b(l,d),(l=l.alternate)&&_b(l,d)}function nC(){return null}var Sb=typeof reportError=="function"?reportError:function(l){console.error(l)};function g0(l){this._internalRoot=l}jf.prototype.render=g0.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(n(409));Cf(l,d,null,null)},jf.prototype.unmount=g0.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;Qa(function(){Cf(null,l,null,null)}),d[Gs]=null}};function jf(l){this._internalRoot=l}jf.prototype.unstable_scheduleHydration=function(l){if(l){var d=pr();l={blockedOn:null,target:l,priority:d};for(var m=0;m<Hr.length&&d!==0&&d<Hr[m].priority;m++);Hr.splice(m,0,l),m===0&&zl(l)}};function y0(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function Ef(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function Cb(){}function rC(l,d,m,v,_){if(_){if(typeof v=="function"){var j=v;v=function(){var be=kf(A);j.call(be)}}var A=wb(d,v,l,0,null,!1,!1,"",Cb);return l._reactRootContainer=A,l[Gs]=A.current,Pc(l.nodeType===8?l.parentNode:l),Qa(),A}for(;_=l.lastChild;)l.removeChild(_);if(typeof v=="function"){var W=v;v=function(){var be=kf(Z);W.call(be)}}var Z=p0(l,0,!1,null,null,!1,!1,"",Cb);return l._reactRootContainer=Z,l[Gs]=Z.current,Pc(l.nodeType===8?l.parentNode:l),Qa(function(){Cf(d,Z,m,v)}),Z}function Tf(l,d,m,v,_){var j=m._reactRootContainer;if(j){var A=j;if(typeof _=="function"){var W=_;_=function(){var Z=kf(A);W.call(Z)}}Cf(d,A,l,_)}else A=rC(m,d,l,_,v);return kf(A)}Bl=function(l){switch(l.tag){case 3:var d=l.stateNode;if(d.current.memoizedState.isDehydrated){var m=Zi(d.pendingLanes);m!==0&&(Fl(d,m|1),Gr(d,At()),(Vt&6)===0&&(fu=At()+500,Bo()))}break;case 13:Qa(function(){var v=Zs(l,1);if(v!==null){var _=Ir();cs(v,l,1,_)}}),m0(l,1)}},xc=function(l){if(l.tag===13){var d=Zs(l,134217728);if(d!==null){var m=Ir();cs(d,l,134217728,m)}m0(l,134217728)}},jh=function(l){if(l.tag===13){var d=Vo(l),m=Zs(l,d);if(m!==null){var v=Ir();cs(m,l,d,v)}m0(l,d)}},pr=function(){return Jt},$s=function(l,d){var m=Jt;try{return Jt=l,d()}finally{Jt=m}},qe=function(l,d,m){switch(d){case"input":if(Gi(l,m),d=m.name,m.type==="radio"&&d!=null){for(m=l;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<m.length;d++){var v=m[d];if(v!==l&&v.form===l.form){var _=Qh(v);if(!_)throw Error(n(90));Nt(v),Gi(v,_)}}}break;case"textarea":ws(l,m);break;case"select":d=m.value,d!=null&&Rn(l,!!m.multiple,d,!1)}},Ml=l0,Il=Qa;var iC={usingClientEntryPoint:!1,Events:[Rc,eu,Qh,_s,Xi,l0]},qc={findFiberByHostInstance:Ia,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sC={bundleType:qc.bundleType,version:qc.version,rendererPackageName:qc.rendererPackageName,rendererConfig:qc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=Xt(l),l===null?null:l.stateNode},findFiberByHostInstance:qc.findFiberByHostInstance||nC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nf.isDisabled&&Nf.supportsFiber)try{hi=Nf.inject(sC),zt=Nf}catch{}}return Yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iC,Yr.createPortal=function(l,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y0(d))throw Error(n(200));return tC(l,d,null,m)},Yr.createRoot=function(l,d){if(!y0(l))throw Error(n(299));var m=!1,v="",_=Sb;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(v=d.identifierPrefix),d.onRecoverableError!==void 0&&(_=d.onRecoverableError)),d=p0(l,1,!1,null,null,m,!1,v,_),l[Gs]=d.current,Pc(l.nodeType===8?l.parentNode:l),new g0(d)},Yr.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=Xt(d),l=l===null?null:l.stateNode,l},Yr.flushSync=function(l){return Qa(l)},Yr.hydrate=function(l,d,m){if(!Ef(d))throw Error(n(200));return Tf(null,l,d,!0,m)},Yr.hydrateRoot=function(l,d,m){if(!y0(l))throw Error(n(405));var v=m!=null&&m.hydratedSources||null,_=!1,j="",A=Sb;if(m!=null&&(m.unstable_strictMode===!0&&(_=!0),m.identifierPrefix!==void 0&&(j=m.identifierPrefix),m.onRecoverableError!==void 0&&(A=m.onRecoverableError)),d=wb(d,null,l,1,m??null,_,!1,j,A),l[Gs]=d.current,Pc(l),v)for(l=0;l<v.length;l++)m=v[l],_=m._getVersion,_=_(m._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[m,_]:d.mutableSourceEagerHydrationData.push(m,_);return new jf(d)},Yr.render=function(l,d,m){if(!Ef(d))throw Error(n(200));return Tf(null,l,d,!1,m)},Yr.unmountComponentAtNode=function(l){if(!Ef(l))throw Error(n(40));return l._reactRootContainer?(Qa(function(){Tf(null,null,l,!1,function(){l._reactRootContainer=null,l[Gs]=null})}),!0):!1},Yr.unstable_batchedUpdates=l0,Yr.unstable_renderSubtreeIntoContainer=function(l,d,m,v){if(!Ef(m))throw Error(n(200));if(l==null||l._reactInternals===void 0)throw Error(n(38));return Tf(l,d,m,!1,v)},Yr.version="18.3.1-next-f1338f8080-20240426",Yr}var Rb;function j6(){if(Rb)return b0.exports;Rb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),b0.exports=mC(),b0.exports}var Ab;function gC(){if(Ab)return Pf;Ab=1;var e=j6();return Pf.createRoot=e.createRoot,Pf.hydrateRoot=e.hydrateRoot,Pf}var yC=gC();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var E6=e=>{throw TypeError(e)},vC=(e,t,n)=>t.has(e)||E6("Cannot "+n),S0=(e,t,n)=>(vC(e,t,"read from private field"),n?n.call(e):t.get(e)),xC=(e,t,n)=>t.has(e)?E6("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Mb="popstate";function bC(e={}){function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return Ad("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ua(i)}return _C(t,n,null,e)}function Rt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function On(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function wC(){return Math.random().toString(36).substring(2,10)}function Ib(e,t){return{usr:e.state,key:e.key,idx:t}}function Ad(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ma(t):t,state:n,key:t&&t.key||r||wC()}}function ua({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ma(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function _C(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",u=null,c=f();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function f(){return(o.state||{idx:null}).idx}function p(){a="POP";let k=f(),E=k==null?null:k-c;c=k,u&&u({action:a,location:S.location,delta:E})}function g(k,E){a="PUSH";let L=Ad(S.location,k,E);c=f()+1;let R=Ib(L,c),z=S.createHref(L);try{o.pushState(R,"",z)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(z)}s&&u&&u({action:a,location:S.location,delta:1})}function x(k,E){a="REPLACE";let L=Ad(S.location,k,E);c=f();let R=Ib(L,c),z=S.createHref(L);o.replaceState(R,"",z),s&&u&&u({action:a,location:S.location,delta:0})}function w(k){return T6(k)}let S={get action(){return a},get location(){return e(i,o)},listen(k){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Mb,p),u=k,()=>{i.removeEventListener(Mb,p),u=null}},createHref(k){return t(i,k)},createURL:w,encodeLocation(k){let E=w(k);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:g,replace:x,go(k){return o.go(k)}};return S}function T6(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Rt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:ua(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var md,Db=class{constructor(e){if(xC(this,md,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(S0(this,md).has(e))return S0(this,md).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){S0(this,md).set(e,t)}};md=new WeakMap;var SC=new Set(["lazy","caseSensitive","path","id","index","children"]);function CC(e){return SC.has(e)}var kC=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function jC(e){return kC.has(e)}function EC(e){return e.index===!0}function Md(e,t,n=[],r={},i=!1){return e.map((s,o)=>{let a=[...n,String(o)],u=typeof s.id=="string"?s.id:a.join("-");if(Rt(s.index!==!0||!s.children,"Cannot specify children on an index route"),Rt(i||!r[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),EC(s)){let c={...s,...t(s),id:u};return r[u]=c,c}else{let c={...s,...t(s),id:u,children:void 0};return r[u]=c,s.children&&(c.children=Md(s.children,t,a,r,i)),c}})}function Zo(e,t,n="/"){return wp(e,t,n,!1)}function wp(e,t,n,r){let i=typeof t=="string"?ma(t):t,s=Hi(i.pathname||"/",n);if(s==null)return null;let o=N6(e);NC(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=zC(s);a=FC(o[u],c,r)}return a}function TC(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function N6(e,t=[],n=[],r=""){let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Rt(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let c=As([r,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(Rt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),N6(s.children,t,f,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:IC(c,s.index),routesMeta:f})};return e.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))i(s,o);else for(let a of P6(s.path))i(s,o,a)}),t}function P6(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=P6(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function NC(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:DC(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var PC=/^:[\w-]+$/,OC=3,LC=2,RC=1,AC=10,MC=-2,Fb=e=>e==="*";function IC(e,t){let n=e.split("/"),r=n.length;return n.some(Fb)&&(r+=MC),t&&(r+=LC),n.filter(i=>!Fb(i)).reduce((i,s)=>i+(PC.test(s)?OC:s===""?RC:AC),r)}function DC(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function FC(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,f=s==="/"?t:t.slice(s.length)||"/",p=Rp({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),g=u.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=Rp({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:As([s,p.pathname]),pathnameBase:QC(As([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=As([s,p.pathnameBase]))}return o}function Rp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=BC(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:f,isOptional:p},g)=>{if(f==="*"){let w=a[g]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const x=a[g];return p&&!x?c[f]=void 0:c[f]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:e}}function BC(e,t=!1,n=!0){On(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function zC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return On(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Hi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function $C({basename:e,pathname:t}){return t==="/"?e:As([e,t])}function UC(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ma(e):e;return{pathname:n?n.startsWith("/")?n:HC(n,t):t,search:VC(r),hash:WC(i)}}function HC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function C0(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function O6(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function cm(e){let t=O6(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function dm(e,t,n,r=!1){let i;typeof e=="string"?i=ma(e):(i={...e},Rt(!i.pathname||!i.pathname.includes("?"),C0("?","pathname","search",i)),Rt(!i.pathname||!i.pathname.includes("#"),C0("#","pathname","hash",i)),Rt(!i.search||!i.search.includes("#"),C0("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}a=p>=0?t[p]:"/"}let u=UC(i,a),c=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}var As=e=>e.join("/").replace(/\/\/+/g,"/"),QC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),VC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,WC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Ap=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Id(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var L6=["POST","PUT","PATCH","DELETE"],qC=new Set(L6),KC=["GET",...L6],GC=new Set(KC),YC=new Set([301,302,303,307,308]),XC=new Set([307,308]),k0={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},JC={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Gc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ZC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nv=e=>ZC.test(e),ek=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),R6="remix-router-transitions",A6=Symbol("ResetLoaderData");function tk(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Rt(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=e.hydrationRouteProperties||[],i=e.mapRouteProperties||ek,s={},o=Md(e.routes,i,void 0,s),a,u=e.basename||"/",c=e.dataStrategy||ok,f={unstable_middleware:!1,...e.future},p=null,g=new Set,x=null,w=null,S=null,k=e.hydrationData!=null,E=Zo(o,e.history.location,u),L=!1,R=null,z;if(E==null&&!e.patchRoutesOnNavigation){let X=Bi(404,{pathname:e.history.location.pathname}),{matches:pe,route:_e}=Yb(o);z=!0,E=pe,R={[_e.id]:X}}else if(E&&!e.hydrationData&&_s(E,o,e.history.location.pathname).active&&(E=null),E)if(E.some(X=>X.route.lazy))z=!1;else if(!E.some(X=>X.route.loader))z=!0;else{let X=e.hydrationData?e.hydrationData.loaderData:null,pe=e.hydrationData?e.hydrationData.errors:null;if(pe){let _e=E.findIndex(Re=>pe[Re.route.id]!==void 0);z=E.slice(0,_e+1).every(Re=>!H1(Re.route,X,pe))}else z=E.every(_e=>!H1(_e.route,X,pe))}else{z=!1,E=[];let X=_s(null,o,e.history.location.pathname);X.active&&X.matches&&(L=!0,E=X.matches)}let U,P={historyAction:e.history.action,location:e.history.location,matches:E,initialized:z,navigation:k0,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||R,fetchers:new Map,blockers:new Map},I="POP",H=!1,Q,F=!1,le=new Map,ue=null,ae=!1,q=!1,V=new Set,J=new Map,te=0,ne=-1,me=new Map,D=new Set,G=new Map,ye=new Map,B=new Set,De=new Map,je,Ee=null;function Xe(){if(p=e.history.listen(({action:X,location:pe,delta:_e})=>{if(je){je(),je=void 0;return}On(De.size===0||_e!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Re=vn({currentLocation:P.location,nextLocation:pe,historyAction:X});if(Re&&_e!=null){let Te=new Promise(Ke=>{je=Ke});e.history.go(_e*-1),An(Re,{state:"blocked",location:pe,proceed(){An(Re,{state:"proceeding",proceed:void 0,reset:void 0,location:pe}),Te.then(()=>e.history.go(_e))},reset(){let Ke=new Map(P.blockers);Ke.set(Re,Gc),ft({blockers:Ke})}});return}return hn(X,pe)}),n){yk(t,le);let X=()=>vk(t,le);t.addEventListener("pagehide",X),ue=()=>t.removeEventListener("pagehide",X)}return P.initialized||hn("POP",P.location,{initialHydration:!0}),U}function Ge(){p&&p(),ue&&ue(),g.clear(),Q&&Q.abort(),P.fetchers.forEach((X,pe)=>mt(pe)),P.blockers.forEach((X,pe)=>We(pe))}function Pe(X){return g.add(X),()=>g.delete(X)}function ft(X,pe={}){X.matches&&(X.matches=X.matches.map(Te=>{let Ke=s[Te.route.id],it=Te.route;return it.element!==Ke.element||it.errorElement!==Ke.errorElement||it.hydrateFallbackElement!==Ke.hydrateFallbackElement?{...Te,route:Ke}:Te})),P={...P,...X};let _e=[],Re=[];P.fetchers.forEach((Te,Ke)=>{Te.state==="idle"&&(B.has(Ke)?_e.push(Ke):Re.push(Ke))}),B.forEach(Te=>{!P.fetchers.has(Te)&&!J.has(Te)&&_e.push(Te)}),[...g].forEach(Te=>Te(P,{deletedFetchers:_e,viewTransitionOpts:pe.viewTransitionOpts,flushSync:pe.flushSync===!0})),_e.forEach(Te=>mt(Te)),Re.forEach(Te=>P.fetchers.delete(Te))}function dn(X,pe,{flushSync:_e}={}){let Re=P.actionData!=null&&P.navigation.formMethod!=null&&ti(P.navigation.formMethod)&&P.navigation.state==="loading"&&X.state?._isRedirect!==!0,Te;pe.actionData?Object.keys(pe.actionData).length>0?Te=pe.actionData:Te=null:Re?Te=P.actionData:Te=null;let Ke=pe.loaderData?Kb(P.loaderData,pe.loaderData,pe.matches||[],pe.errors):P.loaderData,it=P.blockers;it.size>0&&(it=new Map(it),it.forEach((at,tt)=>it.set(tt,Gc)));let Ze=ae?!1:Bs(X,pe.matches||P.matches),nt=H===!0||P.navigation.formMethod!=null&&ti(P.navigation.formMethod)&&X.state?._isRedirect!==!0;a&&(o=a,a=void 0),ae||I==="POP"||(I==="PUSH"?e.history.push(X,X.state):I==="REPLACE"&&e.history.replace(X,X.state));let lt;if(I==="POP"){let at=le.get(P.location.pathname);at&&at.has(X.pathname)?lt={currentLocation:P.location,nextLocation:X}:le.has(X.pathname)&&(lt={currentLocation:X,nextLocation:P.location})}else if(F){let at=le.get(P.location.pathname);at?at.add(X.pathname):(at=new Set([X.pathname]),le.set(P.location.pathname,at)),lt={currentLocation:P.location,nextLocation:X}}ft({...pe,actionData:Te,loaderData:Ke,historyAction:I,location:X,initialized:!0,navigation:k0,revalidation:"idle",restoreScrollPosition:Ze,preventScrollReset:nt,blockers:it},{viewTransitionOpts:lt,flushSync:_e===!0}),I="POP",H=!1,F=!1,ae=!1,q=!1,Ee?.resolve(),Ee=null}async function Nt(X,pe){if(typeof X=="number"){e.history.go(X);return}let _e=U1(P.location,P.matches,u,X,pe?.fromRouteId,pe?.relative),{path:Re,submission:Te,error:Ke}=Bb(!1,_e,pe),it=P.location,Ze=Ad(P.location,Re,pe&&pe.state);Ze={...Ze,...e.history.encodeLocation(Ze)};let nt=pe&&pe.replace!=null?pe.replace:void 0,lt="PUSH";nt===!0?lt="REPLACE":nt===!1||Te!=null&&ti(Te.formMethod)&&Te.formAction===P.location.pathname+P.location.search&&(lt="REPLACE");let at=pe&&"preventScrollReset"in pe?pe.preventScrollReset===!0:void 0,tt=(pe&&pe.flushSync)===!0,St=vn({currentLocation:it,nextLocation:Ze,historyAction:lt});if(St){An(St,{state:"blocked",location:Ze,proceed(){An(St,{state:"proceeding",proceed:void 0,reset:void 0,location:Ze}),Nt(X,pe)},reset(){let Ot=new Map(P.blockers);Ot.set(St,Gc),ft({blockers:Ot})}});return}await hn(lt,Ze,{submission:Te,pendingError:Ke,preventScrollReset:at,replace:pe&&pe.replace,enableViewTransition:pe&&pe.viewTransition,flushSync:tt})}function yn(){Ee||(Ee=xk()),Ur(),ft({revalidation:"loading"});let X=Ee.promise;return P.navigation.state==="submitting"?X:P.navigation.state==="idle"?(hn(P.historyAction,P.location,{startUninterruptedRevalidation:!0}),X):(hn(I||P.historyAction,P.navigation.location,{overrideNavigation:P.navigation,enableViewTransition:F===!0}),X)}async function hn(X,pe,_e){Q&&Q.abort(),Q=null,I=X,ae=(_e&&_e.startUninterruptedRevalidation)===!0,Yi(P.location,P.matches),H=(_e&&_e.preventScrollReset)===!0,F=(_e&&_e.enableViewTransition)===!0;let Re=a||o,Te=_e&&_e.overrideNavigation,Ke=_e?.initialHydration&&P.matches&&P.matches.length>0&&!L?P.matches:Zo(Re,pe,u),it=(_e&&_e.flushSync)===!0;if(Ke&&P.initialized&&!q&&hk(P.location,pe)&&!(_e&&_e.submission&&ti(_e.submission.formMethod))){dn(pe,{matches:Ke},{flushSync:it});return}let Ze=_s(Ke,Re,pe.pathname);if(Ze.active&&Ze.matches&&(Ke=Ze.matches),!Ke){let{error:zn,notFoundMatches:Qt,route:Xt}=Ei(pe.pathname);dn(pe,{matches:Qt,loaderData:{},errors:{[Xt.id]:zn}},{flushSync:it});return}Q=new AbortController;let nt=Iu(e.history,pe,Q.signal,_e&&_e.submission),lt=new Db(e.unstable_getContext?await e.unstable_getContext():void 0),at;if(_e&&_e.pendingError)at=[ol(Ke).route.id,{type:"error",error:_e.pendingError}];else if(_e&&_e.submission&&ti(_e.submission.formMethod)){let zn=await Ln(nt,pe,_e.submission,Ke,lt,Ze.active,_e&&_e.initialHydration===!0,{replace:_e.replace,flushSync:it});if(zn.shortCircuited)return;if(zn.pendingActionResult){let[Qt,Xt]=zn.pendingActionResult;if(wi(Xt)&&Id(Xt.error)&&Xt.error.status===404){Q=null,dn(pe,{matches:zn.matches,loaderData:{},errors:{[Qt]:Xt.error}});return}}Ke=zn.matches||Ke,at=zn.pendingActionResult,Te=j0(pe,_e.submission),it=!1,Ze.active=!1,nt=Iu(e.history,nt.url,nt.signal)}let{shortCircuited:tt,matches:St,loaderData:Ot,errors:xn}=await Fs(nt,pe,Ke,lt,Ze.active,Te,_e&&_e.submission,_e&&_e.fetcherSubmission,_e&&_e.replace,_e&&_e.initialHydration===!0,it,at);tt||(Q=null,dn(pe,{matches:St||Ke,...Gb(at),loaderData:Ot,errors:xn}))}async function Ln(X,pe,_e,Re,Te,Ke,it,Ze={}){Ur();let nt=mk(pe,_e);if(ft({navigation:nt},{flushSync:Ze.flushSync===!0}),Ke){let tt=await Xi(Re,pe.pathname,X.signal);if(tt.type==="aborted")return{shortCircuited:!0};if(tt.type==="error"){let St=ol(tt.partialMatches).route.id;return{matches:tt.partialMatches,pendingActionResult:[St,{type:"error",error:tt.error}]}}else if(tt.matches)Re=tt.matches;else{let{notFoundMatches:St,error:Ot,route:xn}=Ei(pe.pathname);return{matches:St,pendingActionResult:[xn.id,{type:"error",error:Ot}]}}}let lt,at=_p(Re,pe);if(!at.route.action&&!at.route.lazy)lt={type:"error",error:Bi(405,{method:X.method,pathname:pe.pathname,routeId:at.route.id})};else{let tt=Hu(i,s,X,Re,at,it?[]:r,Te),St=await fr(X,tt,Te,null);if(lt=St[at.route.id],!lt){for(let Ot of Re)if(St[Ot.route.id]){lt=St[Ot.route.id];break}}if(X.signal.aborted)return{shortCircuited:!0}}if(cl(lt)){let tt;return Ze&&Ze.replace!=null?tt=Ze.replace:tt=Vb(lt.response.headers.get("Location"),new URL(X.url),u)===P.location.pathname+P.location.search,await hr(X,lt,!0,{submission:_e,replace:tt}),{shortCircuited:!0}}if(wi(lt)){let tt=ol(Re,at.route.id);return(Ze&&Ze.replace)!==!0&&(I="PUSH"),{matches:Re,pendingActionResult:[tt.route.id,lt,at.route.id]}}return{matches:Re,pendingActionResult:[at.route.id,lt]}}async function Fs(X,pe,_e,Re,Te,Ke,it,Ze,nt,lt,at,tt){let St=Ke||j0(pe,it),Ot=it||Ze||Jb(St),xn=!ae&&!lt;if(Te){if(xn){let En=Gi(tt);ft({navigation:St,...En!==void 0?{actionData:En}:{}},{flushSync:at})}let Mt=await Xi(_e,pe.pathname,X.signal);if(Mt.type==="aborted")return{shortCircuited:!0};if(Mt.type==="error"){let En=ol(Mt.partialMatches).route.id;return{matches:Mt.partialMatches,loaderData:{},errors:{[En]:Mt.error}}}else if(Mt.matches)_e=Mt.matches;else{let{error:En,notFoundMatches:Ar,route:hi}=Ei(pe.pathname);return{matches:Ar,loaderData:{},errors:{[hi.id]:En}}}}let zn=a||o,{dsMatches:Qt,revalidatingFetchers:Xt}=zb(X,Re,i,s,e.history,P,_e,Ot,pe,lt?[]:r,lt===!0,q,V,B,G,D,zn,u,e.patchRoutesOnNavigation!=null,tt);if(ne=++te,!e.dataStrategy&&!Qt.some(Mt=>Mt.shouldLoad)&&Xt.length===0){let Mt=Bn();return dn(pe,{matches:_e,loaderData:{},errors:tt&&wi(tt[1])?{[tt[0]]:tt[1].error}:null,...Gb(tt),...Mt?{fetchers:new Map(P.fetchers)}:{}},{flushSync:at}),{shortCircuited:!0}}if(xn){let Mt={};if(!Te){Mt.navigation=St;let En=Gi(tt);En!==void 0&&(Mt.actionData=En)}Xt.length>0&&(Mt.fetchers=Co(Xt)),ft(Mt,{flushSync:at})}Xt.forEach(Mt=>{Yt(Mt.key),Mt.controller&&J.set(Mt.key,Mt.controller)});let er=()=>Xt.forEach(Mt=>Yt(Mt.key));Q&&Q.signal.addEventListener("abort",er);let{loaderResults:Ji,fetcherResults:Lr}=await ws(Qt,Xt,X,Re);if(X.signal.aborted)return{shortCircuited:!0};Q&&Q.signal.removeEventListener("abort",er),Xt.forEach(Mt=>J.delete(Mt.key));let Ut=Of(Ji);if(Ut)return await hr(X,Ut.result,!0,{replace:nt}),{shortCircuited:!0};if(Ut=Of(Lr),Ut)return D.add(Ut.key),await hr(X,Ut.result,!0,{replace:nt}),{shortCircuited:!0};let{loaderData:di,errors:At}=qb(P,_e,Ji,tt,Xt,Lr);lt&&P.errors&&(At={...P.errors,...At});let Ti=Bn(),Rr=Or(ne),Ni=Ti||Rr||Xt.length>0;return{matches:_e,loaderData:di,errors:At,...Ni?{fetchers:new Map(P.fetchers)}:{}}}function Gi(X){if(X&&!wi(X[1]))return{[X[0]]:X[1].data};if(P.actionData)return Object.keys(P.actionData).length===0?null:P.actionData}function Co(X){return X.forEach(pe=>{let _e=P.fetchers.get(pe.key),Re=Yc(void 0,_e?_e.data:void 0);P.fetchers.set(pe.key,Re)}),new Map(P.fetchers)}async function bs(X,pe,_e,Re){Yt(X);let Te=(Re&&Re.flushSync)===!0,Ke=a||o,it=U1(P.location,P.matches,u,_e,pe,Re?.relative),Ze=Zo(Ke,it,u),nt=_s(Ze,Ke,it);if(nt.active&&nt.matches&&(Ze=nt.matches),!Ze){Oe(X,pe,Bi(404,{pathname:it}),{flushSync:Te});return}let{path:lt,submission:at,error:tt}=Bb(!0,it,Re);if(tt){Oe(X,pe,tt,{flushSync:Te});return}let St=new Db(e.unstable_getContext?await e.unstable_getContext():void 0),Ot=(Re&&Re.preventScrollReset)===!0;if(at&&ti(at.formMethod)){await $r(X,pe,lt,Ze,St,nt.active,Te,Ot,at);return}G.set(X,{routeId:pe,path:lt}),await Rn(X,pe,lt,Ze,St,nt.active,Te,Ot,at)}async function $r(X,pe,_e,Re,Te,Ke,it,Ze,nt){Ur(),G.delete(X);let lt=P.fetchers.get(X);Ce(X,gk(nt,lt),{flushSync:it});let at=new AbortController,tt=Iu(e.history,_e,at.signal,nt);if(Ke){let zt=await Xi(Re,new URL(tt.url).pathname,tt.signal,X);if(zt.type==="aborted")return;if(zt.type==="error"){Oe(X,pe,zt.error,{flushSync:it});return}else if(zt.matches)Re=zt.matches;else{Oe(X,pe,Bi(404,{pathname:_e}),{flushSync:it});return}}let St=_p(Re,_e);if(!St.route.action&&!St.route.lazy){let zt=Bi(405,{method:nt.formMethod,pathname:_e,routeId:pe});Oe(X,pe,zt,{flushSync:it});return}J.set(X,at);let Ot=te,xn=Hu(i,s,tt,Re,St,r,Te),Qt=(await fr(tt,xn,Te,X))[St.route.id];if(tt.signal.aborted){J.get(X)===at&&J.delete(X);return}if(B.has(X)){if(cl(Qt)||wi(Qt)){Ce(X,Xo(void 0));return}}else{if(cl(Qt))if(J.delete(X),ne>Ot){Ce(X,Xo(void 0));return}else return D.add(X),Ce(X,Yc(nt)),hr(tt,Qt,!1,{fetcherSubmission:nt,preventScrollReset:Ze});if(wi(Qt)){Oe(X,pe,Qt.error);return}}let Xt=P.navigation.location||P.location,er=Iu(e.history,Xt,at.signal),Ji=a||o,Lr=P.navigation.state!=="idle"?Zo(Ji,P.navigation.location,u):P.matches;Rt(Lr,"Didn't find any matches after fetcher action");let Ut=++te;me.set(X,Ut);let di=Yc(nt,Qt.data);P.fetchers.set(X,di);let{dsMatches:At,revalidatingFetchers:Ti}=zb(er,Te,i,s,e.history,P,Lr,nt,Xt,r,!1,q,V,B,G,D,Ji,u,e.patchRoutesOnNavigation!=null,[St.route.id,Qt]);Ti.filter(zt=>zt.key!==X).forEach(zt=>{let zs=zt.key,pt=P.fetchers.get(zs),Dl=Yc(void 0,pt?pt.data:void 0);P.fetchers.set(zs,Dl),Yt(zs),zt.controller&&J.set(zs,zt.controller)}),ft({fetchers:new Map(P.fetchers)});let Rr=()=>Ti.forEach(zt=>Yt(zt.key));at.signal.addEventListener("abort",Rr);let{loaderResults:Ni,fetcherResults:Mt}=await ws(At,Ti,er,Te);if(at.signal.aborted)return;if(at.signal.removeEventListener("abort",Rr),me.delete(X),J.delete(X),Ti.forEach(zt=>J.delete(zt.key)),P.fetchers.has(X)){let zt=Xo(Qt.data);P.fetchers.set(X,zt)}let En=Of(Ni);if(En)return hr(er,En.result,!1,{preventScrollReset:Ze});if(En=Of(Mt),En)return D.add(En.key),hr(er,En.result,!1,{preventScrollReset:Ze});let{loaderData:Ar,errors:hi}=qb(P,Lr,Ni,void 0,Ti,Mt);Or(Ut),P.navigation.state==="loading"&&Ut>ne?(Rt(I,"Expected pending action"),Q&&Q.abort(),dn(P.navigation.location,{matches:Lr,loaderData:Ar,errors:hi,fetchers:new Map(P.fetchers)})):(ft({errors:hi,loaderData:Kb(P.loaderData,Ar,Lr,hi),fetchers:new Map(P.fetchers)}),q=!1)}async function Rn(X,pe,_e,Re,Te,Ke,it,Ze,nt){let lt=P.fetchers.get(X);Ce(X,Yc(nt,lt?lt.data:void 0),{flushSync:it});let at=new AbortController,tt=Iu(e.history,_e,at.signal);if(Ke){let Xt=await Xi(Re,new URL(tt.url).pathname,tt.signal,X);if(Xt.type==="aborted")return;if(Xt.type==="error"){Oe(X,pe,Xt.error,{flushSync:it});return}else if(Xt.matches)Re=Xt.matches;else{Oe(X,pe,Bi(404,{pathname:_e}),{flushSync:it});return}}let St=_p(Re,_e);J.set(X,at);let Ot=te,xn=Hu(i,s,tt,Re,St,r,Te),Qt=(await fr(tt,xn,Te,X))[St.route.id];if(J.get(X)===at&&J.delete(X),!tt.signal.aborted){if(B.has(X)){Ce(X,Xo(void 0));return}if(cl(Qt))if(ne>Ot){Ce(X,Xo(void 0));return}else{D.add(X),await hr(tt,Qt,!1,{preventScrollReset:Ze});return}if(wi(Qt)){Oe(X,pe,Qt.error);return}Ce(X,Xo(Qt.data))}}async function hr(X,pe,_e,{submission:Re,fetcherSubmission:Te,preventScrollReset:Ke,replace:it}={}){pe.response.headers.has("X-Remix-Revalidate")&&(q=!0);let Ze=pe.response.headers.get("Location");Rt(Ze,"Expected a Location header on the redirect Response"),Ze=Vb(Ze,new URL(X.url),u);let nt=Ad(P.location,Ze,{_isRedirect:!0});if(n){let xn=!1;if(pe.response.headers.has("X-Remix-Reload-Document"))xn=!0;else if(nv(Ze)){const zn=T6(Ze,!0);xn=zn.origin!==t.location.origin||Hi(zn.pathname,u)==null}if(xn){it?t.location.replace(Ze):t.location.assign(Ze);return}}Q=null;let lt=it===!0||pe.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:at,formAction:tt,formEncType:St}=P.navigation;!Re&&!Te&&at&&tt&&St&&(Re=Jb(P.navigation));let Ot=Re||Te;if(XC.has(pe.response.status)&&Ot&&ti(Ot.formMethod))await hn(lt,nt,{submission:{...Ot,formAction:Ze},preventScrollReset:Ke||H,enableViewTransition:_e?F:void 0});else{let xn=j0(nt,Re);await hn(lt,nt,{overrideNavigation:xn,fetcherSubmission:Te,preventScrollReset:Ke||H,enableViewTransition:_e?F:void 0})}}async function fr(X,pe,_e,Re){let Te,Ke={};try{Te=await ak(c,X,pe,Re,_e,!1)}catch(it){return pe.filter(Ze=>Ze.shouldLoad).forEach(Ze=>{Ke[Ze.route.id]={type:"error",error:it}}),Ke}if(X.signal.aborted)return Ke;for(let[it,Ze]of Object.entries(Te))if(fk(Ze)){let nt=Ze.result;Ke[it]={type:"redirect",response:ck(nt,X,it,pe,u)}}else Ke[it]=await uk(Ze);return Ke}async function ws(X,pe,_e,Re){let Te=fr(_e,X,Re,null),Ke=Promise.all(pe.map(async nt=>{if(nt.matches&&nt.match&&nt.request&&nt.controller){let at=(await fr(nt.request,nt.matches,Re,nt.key))[nt.match.route.id];return{[nt.key]:at}}else return Promise.resolve({[nt.key]:{type:"error",error:Bi(404,{pathname:nt.path})}})})),it=await Te,Ze=(await Ke).reduce((nt,lt)=>Object.assign(nt,lt),{});return{loaderResults:it,fetcherResults:Ze}}function Ur(){q=!0,G.forEach((X,pe)=>{J.has(pe)&&V.add(pe),Yt(pe)})}function Ce(X,pe,_e={}){P.fetchers.set(X,pe),ft({fetchers:new Map(P.fetchers)},{flushSync:(_e&&_e.flushSync)===!0})}function Oe(X,pe,_e,Re={}){let Te=ol(P.matches,pe);mt(X),ft({errors:{[Te.route.id]:_e},fetchers:new Map(P.fetchers)},{flushSync:(Re&&Re.flushSync)===!0})}function ut(X){return ye.set(X,(ye.get(X)||0)+1),B.has(X)&&B.delete(X),P.fetchers.get(X)||JC}function mt(X){let pe=P.fetchers.get(X);J.has(X)&&!(pe&&pe.state==="loading"&&me.has(X))&&Yt(X),G.delete(X),me.delete(X),D.delete(X),B.delete(X),V.delete(X),P.fetchers.delete(X)}function Pt(X){let pe=(ye.get(X)||0)-1;pe<=0?(ye.delete(X),B.add(X)):ye.set(X,pe),ft({fetchers:new Map(P.fetchers)})}function Yt(X){let pe=J.get(X);pe&&(pe.abort(),J.delete(X))}function Fn(X){for(let pe of X){let _e=ut(pe),Re=Xo(_e.data);P.fetchers.set(pe,Re)}}function Bn(){let X=[],pe=!1;for(let _e of D){let Re=P.fetchers.get(_e);Rt(Re,`Expected fetcher: ${_e}`),Re.state==="loading"&&(D.delete(_e),X.push(_e),pe=!0)}return Fn(X),pe}function Or(X){let pe=[];for(let[_e,Re]of me)if(Re<X){let Te=P.fetchers.get(_e);Rt(Te,`Expected fetcher: ${_e}`),Te.state==="loading"&&(Yt(_e),me.delete(_e),pe.push(_e))}return Fn(pe),pe.length>0}function Zn(X,pe){let _e=P.blockers.get(X)||Gc;return De.get(X)!==pe&&De.set(X,pe),_e}function We(X){P.blockers.delete(X),De.delete(X)}function An(X,pe){let _e=P.blockers.get(X)||Gc;Rt(_e.state==="unblocked"&&pe.state==="blocked"||_e.state==="blocked"&&pe.state==="blocked"||_e.state==="blocked"&&pe.state==="proceeding"||_e.state==="blocked"&&pe.state==="unblocked"||_e.state==="proceeding"&&pe.state==="unblocked",`Invalid blocker state transition: ${_e.state} -> ${pe.state}`);let Re=new Map(P.blockers);Re.set(X,pe),ft({blockers:Re})}function vn({currentLocation:X,nextLocation:pe,historyAction:_e}){if(De.size===0)return;De.size>1&&On(!1,"A router only supports one blocker at a time");let Re=Array.from(De.entries()),[Te,Ke]=Re[Re.length-1],it=P.blockers.get(Te);if(!(it&&it.state==="proceeding")&&Ke({currentLocation:X,nextLocation:pe,historyAction:_e}))return Te}function Ei(X){let pe=Bi(404,{pathname:X}),_e=a||o,{matches:Re,route:Te}=Yb(_e);return{notFoundMatches:Re,route:Te,error:pe}}function qe(X,pe,_e){if(x=X,S=pe,w=_e||null,!k&&P.navigation===k0){k=!0;let Re=Bs(P.location,P.matches);Re!=null&&ft({restoreScrollPosition:Re})}return()=>{x=null,S=null,w=null}}function ci(X,pe){return w&&w(X,pe.map(Re=>TC(Re,P.loaderData)))||X.key}function Yi(X,pe){if(x&&S){let _e=ci(X,pe);x[_e]=S()}}function Bs(X,pe){if(x){let _e=ci(X,pe),Re=x[_e];if(typeof Re=="number")return Re}return null}function _s(X,pe,_e){if(e.patchRoutesOnNavigation)if(X){if(Object.keys(X[0].params).length>0)return{active:!0,matches:wp(pe,_e,u,!0)}}else return{active:!0,matches:wp(pe,_e,u,!0)||[]};return{active:!1,matches:null}}async function Xi(X,pe,_e,Re){if(!e.patchRoutesOnNavigation)return{type:"success",matches:X};let Te=X;for(;;){let Ke=a==null,it=a||o,Ze=s;try{await e.patchRoutesOnNavigation({signal:_e,path:pe,matches:Te,fetcherKey:Re,patch:(at,tt)=>{_e.aborted||$b(at,tt,it,Ze,i,!1)}})}catch(at){return{type:"error",error:at,partialMatches:Te}}finally{Ke&&!_e.aborted&&(o=[...o])}if(_e.aborted)return{type:"aborted"};let nt=Zo(it,pe,u);if(nt)return{type:"success",matches:nt};let lt=wp(it,pe,u,!0);if(!lt||Te.length===lt.length&&Te.every((at,tt)=>at.route.id===lt[tt].route.id))return{type:"success",matches:null};Te=lt}}function Ml(X){s={},a=Md(X,i,void 0,s)}function Il(X,pe,_e=!1){let Re=a==null;$b(X,pe,a||o,s,i,_e),Re&&(o=[...o],ft({}))}return U={get basename(){return u},get future(){return f},get state(){return P},get routes(){return o},get window(){return t},initialize:Xe,subscribe:Pe,enableScrollRestoration:qe,navigate:Nt,fetch:bs,revalidate:yn,createHref:X=>e.history.createHref(X),encodeLocation:X=>e.history.encodeLocation(X),getFetcher:ut,deleteFetcher:Pt,dispose:Ge,getBlocker:Zn,deleteBlocker:We,patchRoutes:Il,_internalFetchControllers:J,_internalSetRoutes:Ml,_internalSetStateDoNotUseOrYouWillBreakYourApp(X){ft(X)}},U}function nk(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function U1(e,t,n,r,i,s){let o,a;if(i){o=[];for(let c of t)if(o.push(c),c.route.id===i){a=c;break}}else o=t,a=t[t.length-1];let u=dm(r||".",cm(o),Hi(e.pathname,n)||e.pathname,s==="path");if(r==null&&(u.search=e.search,u.hash=e.hash),(r==null||r===""||r===".")&&a){let c=rv(u.search);if(a.route.index&&!c)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!a.route.index&&c){let f=new URLSearchParams(u.search),p=f.getAll("index");f.delete("index"),p.filter(x=>x).forEach(x=>f.append("index",x));let g=f.toString();u.search=g?`?${g}`:""}}return n!=="/"&&(u.pathname=$C({basename:n,pathname:u.pathname})),ua(u)}function Bb(e,t,n){if(!n||!nk(n))return{path:t};if(n.formMethod&&!pk(n.formMethod))return{path:t,error:Bi(405,{method:n.formMethod})};let r=()=>({path:t,error:Bi(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),o=z6(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!ti(s))return r();let p=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((g,[x,w])=>`${g}${x}=${w}
`,""):String(n.body);return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:p}}}else if(n.formEncType==="application/json"){if(!ti(s))return r();try{let p=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:p,text:void 0}}}catch{return r()}}}Rt(typeof FormData=="function","FormData is not available in this environment");let a,u;if(n.formData)a=V1(n.formData),u=n.formData;else if(n.body instanceof FormData)a=V1(n.body),u=n.body;else if(n.body instanceof URLSearchParams)a=n.body,u=Wb(a);else if(n.body==null)a=new URLSearchParams,u=new FormData;else try{a=new URLSearchParams(n.body),u=Wb(a)}catch{return r()}let c={formMethod:s,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(ti(c.formMethod))return{path:t,submission:c};let f=ma(t);return e&&f.search&&rv(f.search)&&a.append("index",""),f.search=`?${a}`,{path:ua(f),submission:c}}function zb(e,t,n,r,i,s,o,a,u,c,f,p,g,x,w,S,k,E,L,R){let z=R?wi(R[1])?R[1].error:R[1].data:void 0,U=i.createURL(s.location),P=i.createURL(u),I;if(f&&s.errors){let ae=Object.keys(s.errors)[0];I=o.findIndex(q=>q.route.id===ae)}else if(R&&wi(R[1])){let ae=R[0];I=o.findIndex(q=>q.route.id===ae)-1}let H=R?R[1].statusCode:void 0,Q=H&&H>=400,F={currentUrl:U,currentParams:s.matches[0]?.params||{},nextUrl:P,nextParams:o[0].params,...a,actionResult:z,actionStatus:H},le=o.map((ae,q)=>{let{route:V}=ae,J=null;if(I!=null&&q>I?J=!1:V.lazy?J=!0:V.loader==null?J=!1:f?J=H1(V,s.loaderData,s.errors):rk(s.loaderData,s.matches[q],ae)&&(J=!0),J!==null)return Q1(n,r,e,ae,c,t,J);let te=Q?!1:p||U.pathname+U.search===P.pathname+P.search||U.search!==P.search||ik(s.matches[q],ae),ne={...F,defaultShouldRevalidate:te},me=Mp(ae,ne);return Q1(n,r,e,ae,c,t,me,ne)}),ue=[];return w.forEach((ae,q)=>{if(f||!o.some(ye=>ye.route.id===ae.routeId)||x.has(q))return;let V=s.fetchers.get(q),J=V&&V.state!=="idle"&&V.data===void 0,te=Zo(k,ae.path,E);if(!te){if(L&&J)return;ue.push({key:q,routeId:ae.routeId,path:ae.path,matches:null,match:null,request:null,controller:null});return}if(S.has(q))return;let ne=_p(te,ae.path),me=new AbortController,D=Iu(i,ae.path,me.signal),G=null;if(g.has(q))g.delete(q),G=Hu(n,r,D,te,ne,c,t);else if(J)p&&(G=Hu(n,r,D,te,ne,c,t));else{let ye={...F,defaultShouldRevalidate:Q?!1:p};Mp(ne,ye)&&(G=Hu(n,r,D,te,ne,c,t,ye))}G&&ue.push({key:q,routeId:ae.routeId,path:ae.path,matches:G,match:ne,request:D,controller:me})}),{dsMatches:le,revalidatingFetchers:ue}}function H1(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&e.id in t,i=n!=null&&n[e.id]!==void 0;return!r&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!i}function rk(e,t,n){let r=!t||n.route.id!==t.route.id,i=!e.hasOwnProperty(n.route.id);return r||i}function ik(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Mp(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function $b(e,t,n,r,i,s){let o;if(e){let c=r[e];Rt(c,`No route found to patch children into: routeId = ${e}`),c.children||(c.children=[]),o=c.children}else o=n;let a=[],u=[];if(t.forEach(c=>{let f=o.find(p=>M6(c,p));f?u.push({existingRoute:f,newRoute:c}):a.push(c)}),a.length>0){let c=Md(a,i,[e||"_","patch",String(o?.length||"0")],r);o.push(...c)}if(s&&u.length>0)for(let c=0;c<u.length;c++){let{existingRoute:f,newRoute:p}=u[c],g=f,[x]=Md([p],i,[],{},!0);Object.assign(g,{element:x.element?x.element:g.element,errorElement:x.errorElement?x.errorElement:g.errorElement,hydrateFallbackElement:x.hydrateFallbackElement?x.hydrateFallbackElement:g.hydrateFallbackElement})}}function M6(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>t.children?.some(i=>M6(n,i))):!1}var Ub=new WeakMap,I6=({key:e,route:t,manifest:n,mapRouteProperties:r})=>{let i=n[t.id];if(Rt(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[e];if(!s)return;let o=Ub.get(i);o||(o={},Ub.set(i,o));let a=o[e];if(a)return a;let u=(async()=>{let c=CC(e),p=i[e]!==void 0&&e!=="hasErrorBoundary";if(c)On(!c,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),o[e]=Promise.resolve();else if(p)On(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let g=await s();g!=null&&(Object.assign(i,{[e]:g}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(g=>g===void 0)&&(i.lazy=void 0))})();return o[e]=u,u},Hb=new WeakMap;function sk(e,t,n,r,i){let s=n[e.id];if(Rt(s,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let f=Hb.get(s);if(f)return{lazyRoutePromise:f,lazyHandlerPromise:f};let p=(async()=>{Rt(typeof e.lazy=="function","No lazy route function found");let g=await e.lazy(),x={};for(let w in g){let S=g[w];if(S===void 0)continue;let k=jC(w),L=s[w]!==void 0&&w!=="hasErrorBoundary";k?On(!k,"Route property "+w+" is not a supported property to be returned from a lazy route function. This property will be ignored."):L?On(!L,`Route "${s.id}" has a static property "${w}" defined but its lazy function is also returning a value for this property. The lazy route property "${w}" will be ignored.`):x[w]=S}Object.assign(s,x),Object.assign(s,{...r(s),lazy:void 0})})();return Hb.set(s,p),p.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:p}}let o=Object.keys(e.lazy),a=[],u;for(let f of o){if(i&&i.includes(f))continue;let p=I6({key:f,route:e,manifest:n,mapRouteProperties:r});p&&(a.push(p),f===t&&(u=p))}let c=a.length>0?Promise.all(a).then(()=>{}):void 0;return c?.catch(()=>{}),u?.catch(()=>{}),{lazyRoutePromise:c,lazyHandlerPromise:u}}async function Qb(e){let t=e.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(t.map(i=>i.resolve()))).forEach((i,s)=>{n[t[s].route.id]=i}),n}async function ok(e){return e.matches.some(t=>t.route.unstable_middleware)?D6(e,!1,()=>Qb(e),(t,n)=>({[n]:{type:"error",result:t}})):Qb(e)}async function D6(e,t,n,r){let{matches:i,request:s,params:o,context:a}=e,u={handlerResult:void 0};try{let c=i.flatMap(p=>p.route.unstable_middleware?p.route.unstable_middleware.map(g=>[p.route.id,g]):[]),f=await F6({request:s,params:o,context:a},c,t,u,n);return t?f:u.handlerResult}catch(c){if(!u.middlewareError)throw c;let f=await r(u.middlewareError.error,u.middlewareError.routeId);return u.handlerResult?Object.assign(u.handlerResult,f):f}}async function F6(e,t,n,r,i,s=0){let{request:o}=e;if(o.signal.aborted)throw o.signal.reason?o.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${o.method} ${o.url}`);let a=t[s];if(!a)return r.handlerResult=await i(),r.handlerResult;let[u,c]=a,f=!1,p,g=async()=>{if(f)throw new Error("You may only call `next()` once per middleware");f=!0,await F6(e,t,n,r,i,s+1)};try{let x=await c({request:e.request,params:e.params,context:e.context},g);return f?x===void 0?p:x:g()}catch(x){throw r.middlewareError?r.middlewareError.error!==x&&(r.middlewareError={routeId:u,error:x}):r.middlewareError={routeId:u,error:x},x}}function B6(e,t,n,r,i){let s=I6({key:"unstable_middleware",route:r.route,manifest:t,mapRouteProperties:e}),o=sk(r.route,ti(n.method)?"action":"loader",t,e,i);return{middleware:s,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function Q1(e,t,n,r,i,s,o,a=null){let u=!1,c=B6(e,t,n,r,i);return{...r,_lazyPromises:c,shouldLoad:o,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler(f){return u=!0,a?typeof f=="boolean"?Mp(r,{...a,defaultShouldRevalidate:f}):Mp(r,a):o},resolve(f){return u||o||f&&!ti(n.method)&&(r.route.lazy||r.route.loader)?lk({request:n,match:r,lazyHandlerPromise:c?.handler,lazyRoutePromise:c?.route,handlerOverride:f,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function Hu(e,t,n,r,i,s,o,a=null){return r.map(u=>u.route.id!==i.route.id?{...u,shouldLoad:!1,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler:()=>!1,_lazyPromises:B6(e,t,n,u,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Q1(e,t,n,u,s,o,!0,a))}async function ak(e,t,n,r,i,s){n.some(c=>c._lazyPromises?.middleware)&&await Promise.all(n.map(c=>c._lazyPromises?.middleware));let o={request:t,params:n[0].params,context:i,matches:n},u=await e({...o,fetcherKey:r,unstable_runClientMiddleware:c=>{let f=o;return D6(f,!1,()=>c({...f,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(p,g)=>({[g]:{type:"error",result:p}}))}});try{await Promise.all(n.flatMap(c=>[c._lazyPromises?.handler,c._lazyPromises?.route]))}catch{}return u}async function lk({request:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:s}){let o,a,u=ti(e.method),c=u?"action":"loader",f=p=>{let g,x=new Promise((k,E)=>g=E);a=()=>g(),e.signal.addEventListener("abort",a);let w=k=>typeof p!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${c}" [routeId: ${t.route.id}]`)):p({request:e,params:t.params,context:s},...k!==void 0?[k]:[]),S=(async()=>{try{return{type:"data",result:await(i?i(E=>w(E)):w())}}catch(k){return{type:"error",result:k}}})();return Promise.race([S,x])};try{let p=u?t.route.action:t.route.loader;if(n||r)if(p){let g,[x]=await Promise.all([f(p).catch(w=>{g=w}),n,r]);if(g!==void 0)throw g;o=x}else{await n;let g=u?t.route.action:t.route.loader;if(g)[o]=await Promise.all([f(g),r]);else if(c==="action"){let x=new URL(e.url),w=x.pathname+x.search;throw Bi(405,{method:e.method,pathname:w,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(p)o=await f(p);else{let g=new URL(e.url),x=g.pathname+g.search;throw Bi(404,{pathname:x})}}catch(p){return{type:"error",result:p}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function uk(e){let{result:t,type:n}=e;if($6(t)){let r;try{let i=t.headers.get("Content-Type");i&&/\bapplication\/json\b/.test(i)?t.body==null?r=null:r=await t.json():r=await t.text()}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new Ap(t.status,t.statusText,r),statusCode:t.status,headers:t.headers}:{type:"data",data:r,statusCode:t.status,headers:t.headers}}return n==="error"?Xb(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Ap(t.init?.status||500,void 0,t.data),statusCode:Id(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Id(t)?t.status:void 0}:Xb(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function ck(e,t,n,r,i){let s=e.headers.get("Location");if(Rt(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!nv(s)){let o=r.slice(0,r.findIndex(a=>a.route.id===n)+1);s=U1(new URL(t.url),o,i,s),e.headers.set("Location",s)}return e}function Vb(e,t,n){if(nv(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),s=Hi(i.pathname,n)!=null;if(i.origin===t.origin&&s)return i.pathname+i.search+i.hash}return e}function Iu(e,t,n,r){let i=e.createURL(z6(t)).toString(),s={signal:n};if(r&&ti(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=V1(r.formData):s.body=r.formData}return new Request(i,s)}function V1(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function Wb(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function dk(e,t,n,r=!1,i=!1){let s={},o=null,a,u=!1,c={},f=n&&wi(n[1])?n[1].error:void 0;return e.forEach(p=>{if(!(p.route.id in t))return;let g=p.route.id,x=t[g];if(Rt(!cl(x),"Cannot handle redirect results in processLoaderData"),wi(x)){let w=x.error;if(f!==void 0&&(w=f,f=void 0),o=o||{},i)o[g]=w;else{let S=ol(e,g);o[S.route.id]==null&&(o[S.route.id]=w)}r||(s[g]=A6),u||(u=!0,a=Id(x.error)?x.error.status:500),x.headers&&(c[g]=x.headers)}else s[g]=x.data,x.statusCode&&x.statusCode!==200&&!u&&(a=x.statusCode),x.headers&&(c[g]=x.headers)}),f!==void 0&&n&&(o={[n[0]]:f},n[2]&&(s[n[2]]=void 0)),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function qb(e,t,n,r,i,s){let{loaderData:o,errors:a}=dk(t,n,r);return i.filter(u=>!u.matches||u.matches.some(c=>c.shouldLoad)).forEach(u=>{let{key:c,match:f,controller:p}=u,g=s[c];if(Rt(g,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(wi(g)){let x=ol(e.matches,f?.route.id);a&&a[x.route.id]||(a={...a,[x.route.id]:g.error}),e.fetchers.delete(c)}else if(cl(g))Rt(!1,"Unhandled fetcher revalidation redirect");else{let x=Xo(g.data);e.fetchers.set(c,x)}}),{loaderData:o,errors:a}}function Kb(e,t,n,r){let i=Object.entries(t).filter(([,s])=>s!==A6).reduce((s,[o,a])=>(s[o]=a,s),{});for(let s of n){let o=s.route.id;if(!t.hasOwnProperty(o)&&e.hasOwnProperty(o)&&s.route.loader&&(i[o]=e[o]),r&&r.hasOwnProperty(o))break}return i}function Gb(e){return e?wi(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function ol(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function Yb(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Bi(e,{pathname:t,routeId:n,method:r,type:i,message:s}={}){let o="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(o="Bad Request",r&&t&&n?a=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(a="Unable to encode submission body")):e===403?(o="Forbidden",a=`Route "${n}" does not match URL "${t}"`):e===404?(o="Not Found",a=`No route matches URL "${t}"`):e===405&&(o="Method Not Allowed",r&&t&&n?a=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(a=`Invalid request method "${r.toUpperCase()}"`)),new Ap(e||500,o,new Error(a),!0)}function Of(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,i]=t[n];if(cl(i))return{key:r,result:i}}}function z6(e){let t=typeof e=="string"?ma(e):e;return ua({...t,hash:""})}function hk(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function fk(e){return $6(e.result)&&YC.has(e.result.status)}function wi(e){return e.type==="error"}function cl(e){return(e&&e.type)==="redirect"}function Xb(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function $6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function pk(e){return GC.has(e.toUpperCase())}function ti(e){return qC.has(e.toUpperCase())}function rv(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function _p(e,t){let n=typeof t=="string"?ma(t).search:t.search;if(e[e.length-1].route.index&&rv(n||""))return e[e.length-1];let r=O6(e);return r[r.length-1]}function Jb(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:o}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function j0(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function mk(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Yc(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function gk(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Xo(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function yk(e,t){try{let n=e.sessionStorage.getItem(R6);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&t.set(i,new Set(s||[]))}}catch{}}function vk(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(R6,JSON.stringify(n))}catch(r){On(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function xk(){let e,t,n=new Promise((r,i)=>{e=async s=>{r(s);try{await n}catch{}},t=async s=>{i(s);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var Cl=T.createContext(null);Cl.displayName="DataRouter";var eh=T.createContext(null);eh.displayName="DataRouterState";T.createContext(!1);var iv=T.createContext({isTransitioning:!1});iv.displayName="ViewTransition";var U6=T.createContext(new Map);U6.displayName="Fetchers";var bk=T.createContext(null);bk.displayName="Await";var vs=T.createContext(null);vs.displayName="Navigation";var hm=T.createContext(null);hm.displayName="Location";var Vi=T.createContext({outlet:null,matches:[],isDataRoute:!1});Vi.displayName="Route";var sv=T.createContext(null);sv.displayName="RouteError";function wk(e,{relative:t}={}){Rt(rc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(vs),{hash:i,pathname:s,search:o}=nh(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:As([n,s])),r.createHref({pathname:a,search:o,hash:i})}function rc(){return T.useContext(hm)!=null}function Wi(){return Rt(rc(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(hm).location}var H6="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Q6(e){T.useContext(vs).static||T.useLayoutEffect(e)}function th(){let{isDataRoute:e}=T.useContext(Vi);return e?Mk():_k()}function _k(){Rt(rc(),"useNavigate() may be used only in the context of a <Router> component.");let e=T.useContext(Cl),{basename:t,navigator:n}=T.useContext(vs),{matches:r}=T.useContext(Vi),{pathname:i}=Wi(),s=JSON.stringify(cm(r)),o=T.useRef(!1);return Q6(()=>{o.current=!0}),T.useCallback((u,c={})=>{if(On(o.current,H6),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=dm(u,JSON.parse(s),i,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:As([t,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[t,n,s,i,e])}var Sk=T.createContext(null);function Ck(e){let t=T.useContext(Vi).outlet;return t&&T.createElement(Sk.Provider,{value:e},t)}function V6(){let{matches:e}=T.useContext(Vi),t=e[e.length-1];return t?t.params:{}}function nh(e,{relative:t}={}){let{matches:n}=T.useContext(Vi),{pathname:r}=Wi(),i=JSON.stringify(cm(n));return T.useMemo(()=>dm(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function kk(e,t,n,r){Rt(rc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=T.useContext(vs),{matches:s}=T.useContext(Vi),o=s[s.length-1],a=o?o.params:{},u=o?o.pathname:"/",c=o?o.pathnameBase:"/",f=o&&o.route;{let E=f&&f.path||"";W6(u,!f||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let p=Wi(),g;g=p;let x=g.pathname||"/",w=x;if(c!=="/"){let E=c.replace(/^\//,"").split("/");w="/"+x.replace(/^\//,"").split("/").slice(E.length).join("/")}let S=Zo(e,{pathname:w});return On(f||S!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),On(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Pk(S&&S.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:As([c,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?c:As([c,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r)}function jk(){let e=lv(),t=Id(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:s},"ErrorBoundary")," or"," ",T.createElement("code",{style:s},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),n?T.createElement("pre",{style:i},n):null,o)}var Ek=T.createElement(jk,null),Tk=class extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?T.createElement(Vi.Provider,{value:this.props.routeContext},T.createElement(sv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Nk({routeContext:e,match:t,children:n}){let r=T.useContext(Cl);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),T.createElement(Vi.Provider,{value:e},n)}function Pk(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,s=n?.errors;if(s!=null){let u=i.findIndex(c=>c.route.id&&s?.[c.route.id]!==void 0);Rt(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let o=!1,a=-1;if(n)for(let u=0;u<i.length;u++){let c=i[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=u),c.route.id){let{loaderData:f,errors:p}=n,g=c.route.loader&&!f.hasOwnProperty(c.route.id)&&(!p||p[c.route.id]===void 0);if(c.route.lazy||g){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((u,c,f)=>{let p,g=!1,x=null,w=null;n&&(p=s&&c.route.id?s[c.route.id]:void 0,x=c.route.errorElement||Ek,o&&(a<0&&f===0?(W6("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,w=null):a===f&&(g=!0,w=c.route.hydrateFallbackElement||null)));let S=t.concat(i.slice(0,f+1)),k=()=>{let E;return p?E=x:g?E=w:c.route.Component?E=T.createElement(c.route.Component,null):c.route.element?E=c.route.element:E=u,T.createElement(Nk,{match:c,routeContext:{outlet:u,matches:S,isDataRoute:n!=null},children:E})};return n&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?T.createElement(Tk,{location:n.location,revalidation:n.revalidation,component:x,error:p,children:k(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):k()},null)}function ov(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ok(e){let t=T.useContext(Cl);return Rt(t,ov(e)),t}function Lk(e){let t=T.useContext(eh);return Rt(t,ov(e)),t}function Rk(e){let t=T.useContext(Vi);return Rt(t,ov(e)),t}function av(e){let t=Rk(e),n=t.matches[t.matches.length-1];return Rt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Ak(){return av("useRouteId")}function lv(){let e=T.useContext(sv),t=Lk("useRouteError"),n=av("useRouteError");return e!==void 0?e:t.errors?.[n]}function Mk(){let{router:e}=Ok("useNavigate"),t=av("useNavigate"),n=T.useRef(!1);return Q6(()=>{n.current=!0}),T.useCallback(async(i,s={})=>{On(n.current,H6),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var Zb={};function W6(e,t,n){!t&&!Zb[e]&&(Zb[e]=!0,On(!1,n))}var ew={};function tw(e,t){!e&&!ew[t]&&(ew[t]=!0,console.warn(t))}function Ik(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&On(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:T.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&On(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:T.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&On(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:T.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var Dk=["HydrateFallback","hydrateFallbackElement"],Fk=class{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function Bk({router:e,flushSync:t}){let[n,r]=T.useState(e.state),[i,s]=T.useState(),[o,a]=T.useState({isTransitioning:!1}),[u,c]=T.useState(),[f,p]=T.useState(),[g,x]=T.useState(),w=T.useRef(new Map),S=T.useCallback((R,{deletedFetchers:z,flushSync:U,viewTransitionOpts:P})=>{R.fetchers.forEach((H,Q)=>{H.data!==void 0&&w.current.set(Q,H.data)}),z.forEach(H=>w.current.delete(H)),tw(U===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let I=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(tw(P==null||I,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!P||!I){t&&U?t(()=>r(R)):T.startTransition(()=>r(R));return}if(t&&U){t(()=>{f&&(u&&u.resolve(),f.skipTransition()),a({isTransitioning:!0,flushSync:!0,currentLocation:P.currentLocation,nextLocation:P.nextLocation})});let H=e.window.document.startViewTransition(()=>{t(()=>r(R))});H.finished.finally(()=>{t(()=>{c(void 0),p(void 0),s(void 0),a({isTransitioning:!1})})}),t(()=>p(H));return}f?(u&&u.resolve(),f.skipTransition(),x({state:R,currentLocation:P.currentLocation,nextLocation:P.nextLocation})):(s(R),a({isTransitioning:!0,flushSync:!1,currentLocation:P.currentLocation,nextLocation:P.nextLocation}))},[e.window,t,f,u]);T.useLayoutEffect(()=>e.subscribe(S),[e,S]),T.useEffect(()=>{o.isTransitioning&&!o.flushSync&&c(new Fk)},[o]),T.useEffect(()=>{if(u&&i&&e.window){let R=i,z=u.promise,U=e.window.document.startViewTransition(async()=>{T.startTransition(()=>r(R)),await z});U.finished.finally(()=>{c(void 0),p(void 0),s(void 0),a({isTransitioning:!1})}),p(U)}},[i,u,e.window]),T.useEffect(()=>{u&&i&&n.location.key===i.location.key&&u.resolve()},[u,f,n.location,i]),T.useEffect(()=>{!o.isTransitioning&&g&&(s(g.state),a({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),x(void 0))},[o.isTransitioning,g]);let k=T.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:R=>e.navigate(R),push:(R,z,U)=>e.navigate(R,{state:z,preventScrollReset:U?.preventScrollReset}),replace:(R,z,U)=>e.navigate(R,{replace:!0,state:z,preventScrollReset:U?.preventScrollReset})}),[e]),E=e.basename||"/",L=T.useMemo(()=>({router:e,navigator:k,static:!1,basename:E}),[e,k,E]);return T.createElement(T.Fragment,null,T.createElement(Cl.Provider,{value:L},T.createElement(eh.Provider,{value:n},T.createElement(U6.Provider,{value:w.current},T.createElement(iv.Provider,{value:o},T.createElement(Hk,{basename:E,location:n.location,navigationType:n.historyAction,navigator:k},T.createElement(zk,{routes:e.routes,future:e.future,state:n})))))),null)}var zk=T.memo($k);function $k({routes:e,future:t,state:n}){return kk(e,void 0,n,t)}function Uk({to:e,replace:t,state:n,relative:r}){Rt(rc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(vs);On(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=T.useContext(Vi),{pathname:o}=Wi(),a=th(),u=dm(e,cm(s),o,r==="path"),c=JSON.stringify(u);return T.useEffect(()=>{a(JSON.parse(c),{replace:t,state:n,relative:r})},[a,c,r,t,n]),null}function uv(e){return Ck(e.context)}function Hk({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Rt(!rc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=T.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=ma(n));let{pathname:u="/",search:c="",hash:f="",state:p=null,key:g="default"}=n,x=T.useMemo(()=>{let w=Hi(u,o);return w==null?null:{location:{pathname:w,search:c,hash:f,state:p,key:g},navigationType:r}},[o,u,c,f,p,g,r]);return On(x!=null,`<Router basename="${o}"> is not able to match the URL "${u}${c}${f}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:T.createElement(vs.Provider,{value:a},T.createElement(hm.Provider,{children:t,value:x}))}var Sp="get",Cp="application/x-www-form-urlencoded";function fm(e){return e!=null&&typeof e.tagName=="string"}function Qk(e){return fm(e)&&e.tagName.toLowerCase()==="button"}function Vk(e){return fm(e)&&e.tagName.toLowerCase()==="form"}function Wk(e){return fm(e)&&e.tagName.toLowerCase()==="input"}function qk(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Kk(e,t){return e.button===0&&(!t||t==="_self")&&!qk(e)}function W1(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function Gk(e,t){let n=W1(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}var Lf=null;function Yk(){if(Lf===null)try{new FormData(document.createElement("form"),0),Lf=!1}catch{Lf=!0}return Lf}var Xk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function E0(e){return e!=null&&!Xk.has(e)?(On(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cp}"`),null):e}function Jk(e,t){let n,r,i,s,o;if(Vk(e)){let a=e.getAttribute("action");r=a?Hi(a,t):null,n=e.getAttribute("method")||Sp,i=E0(e.getAttribute("enctype"))||Cp,s=new FormData(e)}else if(Qk(e)||Wk(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||a.getAttribute("action");if(r=u?Hi(u,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Sp,i=E0(e.getAttribute("formenctype"))||E0(a.getAttribute("enctype"))||Cp,s=new FormData(a,e),!Yk()){let{name:c,type:f,value:p}=e;if(f==="image"){let g=c?`${c}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else c&&s.append(c,p)}}else{if(fm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Sp,r=null,i=Cp,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cv(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Zk(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Hi(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function ej(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tj(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function nj(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await ej(s,n);return o.links?o.links():[]}return[]}));return oj(r.flat(1).filter(tj).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function nw(e,t,n,r,i,s){let o=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,a=(u,c)=>n[c].pathname!==u.pathname||n[c].route.path?.endsWith("*")&&n[c].params["*"]!==u.params["*"];return s==="assets"?t.filter((u,c)=>o(u,c)||a(u,c)):s==="data"?t.filter((u,c)=>{let f=r.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(o(u,c)||a(u,c))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function rj(e,t,{includeHydrateFallback:n}={}){return ij(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function ij(e){return[...new Set(e)]}function sj(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function oj(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(sj(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function q6(){let e=T.useContext(Cl);return cv(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function aj(){let e=T.useContext(eh);return cv(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var dv=T.createContext(void 0);dv.displayName="FrameworkContext";function K6(){let e=T.useContext(dv);return cv(e,"You must render this element inside a <HydratedRouter> element"),e}function lj(e,t){let n=T.useContext(dv),[r,i]=T.useState(!1),[s,o]=T.useState(!1),{onFocus:a,onBlur:u,onMouseEnter:c,onMouseLeave:f,onTouchStart:p}=t,g=T.useRef(null);T.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let S=E=>{E.forEach(L=>{o(L.isIntersecting)})},k=new IntersectionObserver(S,{threshold:.5});return g.current&&k.observe(g.current),()=>{k.disconnect()}}},[e]),T.useEffect(()=>{if(r){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[r]);let x=()=>{i(!0)},w=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,g,{}]:[s,g,{onFocus:Xc(a,x),onBlur:Xc(u,w),onMouseEnter:Xc(c,x),onMouseLeave:Xc(f,w),onTouchStart:Xc(p,x)}]:[!1,g,{}]}function Xc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function uj({page:e,...t}){let{router:n}=q6(),r=T.useMemo(()=>Zo(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?T.createElement(dj,{page:e,matches:r,...t}):null}function cj(e){let{manifest:t,routeModules:n}=K6(),[r,i]=T.useState([]);return T.useEffect(()=>{let s=!1;return nj(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function dj({page:e,matches:t,...n}){let r=Wi(),{manifest:i,routeModules:s}=K6(),{basename:o}=q6(),{loaderData:a,matches:u}=aj(),c=T.useMemo(()=>nw(e,t,u,i,r,"data"),[e,t,u,i,r]),f=T.useMemo(()=>nw(e,t,u,i,r,"assets"),[e,t,u,i,r]),p=T.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,S=!1;if(t.forEach(E=>{let L=i.routes[E.route.id];!L||!L.hasLoader||(!c.some(R=>R.route.id===E.route.id)&&E.route.id in a&&s[E.route.id]?.shouldRevalidate||L.hasClientLoader?S=!0:w.add(E.route.id))}),w.size===0)return[];let k=Zk(e,o,"data");return S&&w.size>0&&k.searchParams.set("_routes",t.filter(E=>w.has(E.route.id)).map(E=>E.route.id).join(",")),[k.pathname+k.search]},[o,a,r,i,c,t,e,s]),g=T.useMemo(()=>rj(f,i),[f,i]),x=cj(f);return T.createElement(T.Fragment,null,p.map(w=>T.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),g.map(w=>T.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),x.map(({key:w,link:S})=>T.createElement("link",{key:w,...S})))}function hj(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var G6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{G6&&(window.__reactRouterVersion="7.7.1")}catch{}function fj(e,t){return tk({basename:t?.basename,unstable_getContext:t?.unstable_getContext,future:t?.future,history:bC({window:t?.window}),hydrationData:pj(),routes:e,mapRouteProperties:Ik,hydrationRouteProperties:Dk,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window}).initialize()}function pj(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:mj(e.errors)}),e}function mj(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new Ap(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}var Y6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Er=T.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:f,viewTransition:p,...g},x){let{basename:w}=T.useContext(vs),S=typeof c=="string"&&Y6.test(c),k,E=!1;if(typeof c=="string"&&S&&(k=c,G6))try{let Q=new URL(window.location.href),F=c.startsWith("//")?new URL(Q.protocol+c):new URL(c),le=Hi(F.pathname,w);F.origin===Q.origin&&le!=null?c=le+F.search+F.hash:E=!0}catch{On(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=wk(c,{relative:i}),[R,z,U]=lj(r,g),P=vj(c,{replace:o,state:a,target:u,preventScrollReset:f,relative:i,viewTransition:p});function I(Q){t&&t(Q),Q.defaultPrevented||P(Q)}let H=T.createElement("a",{...g,...U,href:k||L,onClick:E||s?t:I,ref:hj(x,z),target:u,"data-discover":!S&&n==="render"?"true":void 0});return R&&!S?T.createElement(T.Fragment,null,H,T.createElement(uj,{page:L})):H});Er.displayName="Link";var kl=T.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:u,...c},f){let p=nh(o,{relative:c.relative}),g=Wi(),x=T.useContext(eh),{navigator:w,basename:S}=T.useContext(vs),k=x!=null&&Sj(p)&&a===!0,E=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,L=g.pathname,R=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(L=L.toLowerCase(),R=R?R.toLowerCase():null,E=E.toLowerCase()),R&&S&&(R=Hi(R,S)||R);const z=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let U=L===E||!i&&L.startsWith(E)&&L.charAt(z)==="/",P=R!=null&&(R===E||!i&&R.startsWith(E)&&R.charAt(E.length)==="/"),I={isActive:U,isPending:P,isTransitioning:k},H=U?t:void 0,Q;typeof r=="function"?Q=r(I):Q=[r,U?"active":null,P?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let F=typeof s=="function"?s(I):s;return T.createElement(Er,{...c,"aria-current":H,className:Q,ref:f,style:F,to:o,viewTransition:a},typeof u=="function"?u(I):u)});kl.displayName="NavLink";var gj=T.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Sp,action:a,onSubmit:u,relative:c,preventScrollReset:f,viewTransition:p,...g},x)=>{let w=wj(),S=_j(a,{relative:c}),k=o.toLowerCase()==="get"?"get":"post",E=typeof a=="string"&&Y6.test(a),L=R=>{if(u&&u(R),R.defaultPrevented)return;R.preventDefault();let z=R.nativeEvent.submitter,U=z?.getAttribute("formmethod")||o;w(z||R.currentTarget,{fetcherKey:t,method:U,navigate:n,replace:i,state:s,relative:c,preventScrollReset:f,viewTransition:p})};return T.createElement("form",{ref:x,method:k,action:S,onSubmit:r?u:L,...g,"data-discover":!E&&e==="render"?"true":void 0})});gj.displayName="Form";function yj(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function X6(e){let t=T.useContext(Cl);return Rt(t,yj(e)),t}function vj(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=th(),u=Wi(),c=nh(e,{relative:s});return T.useCallback(f=>{if(Kk(f,t)){f.preventDefault();let p=n!==void 0?n:ua(u)===ua(c);a(e,{replace:p,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[u,a,c,n,r,t,e,i,s,o])}function J6(e){On(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=T.useRef(W1(e)),n=T.useRef(!1),r=Wi(),i=T.useMemo(()=>Gk(r.search,n.current?null:t.current),[r.search]),s=th(),o=T.useCallback((a,u)=>{const c=W1(typeof a=="function"?a(new URLSearchParams(i)):a);n.current=!0,s("?"+c,u)},[s,i]);return[i,o]}var xj=0,bj=()=>`__${String(++xj)}__`;function wj(){let{router:e}=X6("useSubmit"),{basename:t}=T.useContext(vs),n=Ak();return T.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:u,body:c}=Jk(r,t);if(i.navigate===!1){let f=i.fetcherKey||bj();await e.fetch(f,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function _j(e,{relative:t}={}){let{basename:n}=T.useContext(vs),r=T.useContext(Vi);Rt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...nh(e||".",{relative:t})},o=Wi();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),u=a.getAll("index");if(u.some(f=>f==="")){a.delete("index"),u.filter(p=>p).forEach(p=>a.append("index",p));let f=a.toString();s.search=f?`?${f}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:As([n,s.pathname])),ua(s)}function Sj(e,{relative:t}={}){let n=T.useContext(iv);Rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=X6("useViewTransitionState"),i=nh(e,{relative:t});if(!n.isTransitioning)return!1;let s=Hi(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Hi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Rp(i.pathname,o)!=null||Rp(i.pathname,s)!=null}var pm=j6();const Rf=ki(pm);function Cj(e){return T.createElement(Bk,{flushSync:pm.flushSync,...e})}var ic=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},yl=typeof window>"u"||"Deno"in globalThis;function Dr(){}function kj(e,t){return typeof e=="function"?e(t):e}function q1(e){return typeof e=="number"&&e>=0&&e!==1/0}function Z6(e,t){return Math.max(e+(t||0)-Date.now(),0)}function sa(e,t){return typeof e=="function"?e(t):e}function $i(e,t){return typeof e=="function"?e(t):e}function rw(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==hv(o,t.options))return!1}else if(!Dd(t.queryKey,o))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||i&&i!==t.state.fetchStatus||s&&!s(t))}function iw(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(vl(t.options.mutationKey)!==vl(s))return!1}else if(!Dd(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function hv(e,t){return(t?.queryKeyHashFn||vl)(e)}function vl(e){return JSON.stringify(e,(t,n)=>K1(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Dd(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Dd(e[n],t[n])):!1}function e_(e,t){if(e===t)return e;const n=sw(e)&&sw(t);if(n||K1(e)&&K1(t)){const r=n?e:Object.keys(e),i=r.length,s=n?t:Object.keys(t),o=s.length,a=n?[]:{},u=new Set(r);let c=0;for(let f=0;f<o;f++){const p=n?f:s[f];(!n&&u.has(p)||n)&&e[p]===void 0&&t[p]===void 0?(a[p]=void 0,c++):(a[p]=e_(e[p],t[p]),a[p]===e[p]&&e[p]!==void 0&&c++)}return i===o&&c===i?e:a}return t}function Ip(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function sw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function K1(e){if(!ow(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!ow(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ow(e){return Object.prototype.toString.call(e)==="[object Object]"}function jj(e){return new Promise(t=>{setTimeout(t,e)})}function G1(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?e_(e,t):t}function Ej(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Tj(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var fv=Symbol();function t_(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===fv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function n_(e,t){return typeof e=="function"?e(...t):!!e}var Nj=class extends ic{#t;#e;#n;constructor(){super(),this.#n=e=>{if(!yl&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},pv=new Nj,Pj=class extends ic{#t=!0;#e;#n;constructor(){super(),this.#n=e=>{if(!yl&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#t}},Dp=new Pj;function Y1(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function Oj(e){return Math.min(1e3*2**e,3e4)}function r_(e){return(e??"online")==="online"?Dp.isOnline():!0}var i_=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function T0(e){return e instanceof i_}function s_(e){let t=!1,n=0,r=!1,i;const s=Y1(),o=S=>{r||(g(new i_(S)),e.abort?.())},a=()=>{t=!0},u=()=>{t=!1},c=()=>pv.isFocused()&&(e.networkMode==="always"||Dp.isOnline())&&e.canRun(),f=()=>r_(e.networkMode)&&e.canRun(),p=S=>{r||(r=!0,e.onSuccess?.(S),i?.(),s.resolve(S))},g=S=>{r||(r=!0,e.onError?.(S),i?.(),s.reject(S))},x=()=>new Promise(S=>{i=k=>{(r||c())&&S(k)},e.onPause?.()}).then(()=>{i=void 0,r||e.onContinue?.()}),w=()=>{if(r)return;let S;const k=n===0?e.initialPromise:void 0;try{S=k??e.fn()}catch(E){S=Promise.reject(E)}Promise.resolve(S).then(p).catch(E=>{if(r)return;const L=e.retry??(yl?0:3),R=e.retryDelay??Oj,z=typeof R=="function"?R(n,E):R,U=L===!0||typeof L=="number"&&n<L||typeof L=="function"&&L(n,E);if(t||!U){g(E);return}n++,e.onFail?.(n,E),jj(z).then(()=>c()?void 0:x()).then(()=>{t?g(E):w()})})};return{promise:s,cancel:o,continue:()=>(i?.(),s),cancelRetry:a,continueRetry:u,canStart:f,start:()=>(f()?w():x().then(w),s)}}var Lj=e=>setTimeout(e,0);function Rj(){let e=[],t=0,n=a=>{a()},r=a=>{a()},i=Lj;const s=a=>{t?e.push(a):i(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&i(()=>{r(()=>{a.forEach(u=>{n(u)})})})};return{batch:a=>{let u;t++;try{u=a()}finally{t--,t||o()}return u},batchCalls:a=>(...u)=>{s(()=>{a(...u)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Gn=Rj(),o_=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),q1(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(yl?1/0:300*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},Aj=class extends o_{#t;#e;#n;#r;#i;#o;#a;constructor(e){super(),this.#a=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#n=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=Mj(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=G1(this.state.data,e,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#i?.promise;return this.#i?.cancel(e),t?t.then(Dr).catch(Dr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>$i(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===fv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>sa(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Z6(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#i&&(this.#a?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){const u=this.observers.find(c=>c.options.queryFn);u&&this.setOptions(u.options)}const n=new AbortController,r=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},i=()=>{const u=t_(this.options,t),f=(()=>{const p={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(p),p})();return this.#a=!1,this.options.persister?this.options.persister(u,f,this):u(f)},o=(()=>{const u={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:i};return r(u),u})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#s({type:"fetch",meta:o.fetchOptions?.meta});const a=u=>{T0(u)&&u.silent||this.#s({type:"error",error:u}),T0(u)||(this.#n.config.onError?.(u,this),this.#n.config.onSettled?.(this.state.data,u,this)),this.scheduleGc()};return this.#i=s_({initialPromise:t?.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:u=>{if(u===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(c){a(c);return}this.#n.config.onSuccess?.(u,this),this.#n.config.onSettled?.(u,this.state.error,this),this.scheduleGc()},onError:a,onFail:(u,c)=>{this.#s({type:"failed",failureCount:u,error:c})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#i.start()}#s(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...a_(n.data,this.options),fetchMeta:e.meta??null};case"success":return this.#e=void 0,{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return T0(r)&&r.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),Gn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function a_(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:r_(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Mj(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ij=class extends ic{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,n){const r=t.queryKey,i=t.queryHash??hv(r,t);let s=this.get(i);return s||(s=new Aj({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(s)),s}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Gn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>rw(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>rw(e,n)):t}notify(e){Gn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Gn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Gn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Dj=class extends o_{#t;#e;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||l_(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})};this.#n=s_({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(i,s)=>{this.#r({type:"failed",failureCount:i,error:s})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const n=this.state.status==="pending",r=!this.#n.canStart();try{if(n)t();else{this.#r({type:"pending",variables:e,isPaused:r}),await this.#e.config.onMutate?.(e,this);const s=await this.options.onMutate?.(e);s!==this.state.context&&this.#r({type:"pending",context:s,variables:e,isPaused:r})}const i=await this.#n.start();return await this.#e.config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await this.#e.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#e.config.onError?.(i,e,this.state.context,this),await this.options.onError?.(i,e,this.state.context),await this.#e.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,e,this.state.context),i}finally{this.#r({type:"error",error:i})}}finally{this.#e.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Gn.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function l_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Fj=class extends ic{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(e,t,n){const r=new Dj({mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#t.add(e);const t=Af(e);if(typeof t=="string"){const n=this.#e.get(t);n?n.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=Af(e);if(typeof t=="string"){const n=this.#e.get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Af(e);if(typeof t=="string"){const r=this.#e.get(t)?.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=Af(e);return typeof t=="string"?this.#e.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Gn.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>iw(t,n))}findAll(e={}){return this.getAll().filter(t=>iw(e,t))}notify(e){Gn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Gn.batch(()=>Promise.all(e.map(t=>t.continue().catch(Dr))))}};function Af(e){return e.options.scope?.id}function aw(e){return{onFetch:(t,n)=>{const r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let a={pages:[],pageParams:[]},u=0;const c=async()=>{let f=!1;const p=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?f=!0:t.signal.addEventListener("abort",()=>{f=!0}),t.signal)})},g=t_(t.options,t.fetchOptions),x=async(w,S,k)=>{if(f)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const L=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:S,direction:k?"backward":"forward",meta:t.options.meta};return p(P),P})(),R=await g(L),{maxPages:z}=t.options,U=k?Tj:Ej;return{pages:U(w.pages,R,z),pageParams:U(w.pageParams,S,z)}};if(i&&s.length){const w=i==="backward",S=w?Bj:lw,k={pages:s,pageParams:o},E=S(r,k);a=await x(k,E,w)}else{const w=e??s.length;do{const S=u===0?o[0]??r.initialPageParam:lw(r,a);if(u>0&&S==null)break;a=await x(a,S),u++}while(u<w)}return a};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=c}}}function lw(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Bj(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var zj=class{#t;#e;#n;#r;#i;#o;#a;#s;constructor(e={}){this.#t=e.queryCache||new Ij,this.#e=e.mutationCache||new Fj,this.#n=e.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=pv.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#s=Dp.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#t.build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(sa(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=this.#t.get(r.queryHash)?.state.data,o=kj(t,s);if(o!==void 0)return this.#t.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Gn.batch(()=>this.#t.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;Gn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#t;return Gn.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Gn.batch(()=>this.#t.findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Dr).catch(Dr)}invalidateQueries(e,t={}){return Gn.batch(()=>(this.#t.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Gn.batch(()=>this.#t.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Dr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Dr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#t.build(this,t);return n.isStaleByTime(sa(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Dr).catch(Dr)}fetchInfiniteQuery(e){return e.behavior=aw(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Dr).catch(Dr)}ensureInfiniteQueryData(e){return e.behavior=aw(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Dp.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#r.set(vl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(r=>{Dd(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){this.#i.set(vl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()],n={};return t.forEach(r=>{Dd(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=hv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===fv&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},$j=class extends ic{constructor(e,t){super(),this.options=t,this.#t=e,this.#s=null,this.#a=Y1(),this.options.experimental_prefetchInRender||this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#n=void 0;#r=void 0;#i;#o;#a;#s;#m;#h;#f;#u;#c;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),uw(this.#e,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return X1(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return X1(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,n=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof $i(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#e.setOptions(this.options),t._defaulted&&!Ip(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&cw(this.#e,n,this.options,t)&&this.#d(),this.updateResult(),r&&(this.#e!==n||$i(this.options.enabled,this.#e)!==$i(t.enabled,this.#e)||sa(this.options.staleTime,this.#e)!==sa(t.staleTime,this.#e))&&this.#g();const i=this.#y();r&&(this.#e!==n||$i(this.options.enabled,this.#e)!==$i(t.enabled,this.#e)||i!==this.#l)&&this.#v(i)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),n=this.createResult(t,e);return Hj(this,n)&&(this.#r=n,this.#o=this.options,this.#i=this.#e.state),n}getCurrentResult(){return this.#r}trackResult(e,t){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),t?.(r),Reflect.get(n,r))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),n=this.#t.getQueryCache().build(this.#t,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(e){this.#_();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Dr)),t}#g(){this.#b();const e=sa(this.options.staleTime,this.#e);if(yl||this.#r.isStale||!q1(e))return;const n=Z6(this.#r.dataUpdatedAt,e)+1;this.#u=setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#l=e,!(yl||$i(this.options.enabled,this.#e)===!1||!q1(this.#l)||this.#l===0)&&(this.#c=setInterval(()=>{(this.options.refetchIntervalInBackground||pv.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#v(this.#y())}#b(){this.#u&&(clearTimeout(this.#u),this.#u=void 0)}#w(){this.#c&&(clearInterval(this.#c),this.#c=void 0)}createResult(e,t){const n=this.#e,r=this.options,i=this.#r,s=this.#i,o=this.#o,u=e!==n?e.state:this.#n,{state:c}=e;let f={...c},p=!1,g;if(t._optimisticResults){const H=this.hasListeners(),Q=!H&&uw(e,t),F=H&&cw(e,n,t,r);(Q||F)&&(f={...f,...a_(c.data,e.options)}),t._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:w,status:S}=f;g=f.data;let k=!1;if(t.placeholderData!==void 0&&g===void 0&&S==="pending"){let H;i?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(H=i.data,k=!0):H=typeof t.placeholderData=="function"?t.placeholderData(this.#f?.state.data,this.#f):t.placeholderData,H!==void 0&&(S="success",g=G1(i?.data,H,t),p=!0)}if(t.select&&g!==void 0&&!k)if(i&&g===s?.data&&t.select===this.#m)g=this.#h;else try{this.#m=t.select,g=t.select(g),g=G1(i?.data,g,t),this.#h=g,this.#s=null}catch(H){this.#s=H}this.#s&&(x=this.#s,g=this.#h,w=Date.now(),S="error");const E=f.fetchStatus==="fetching",L=S==="pending",R=S==="error",z=L&&E,U=g!==void 0,I={status:S,fetchStatus:f.fetchStatus,isPending:L,isSuccess:S==="success",isError:R,isInitialLoading:z,isLoading:z,data:g,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:w,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:E,isRefetching:E&&!L,isLoadingError:R&&!U,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:R&&U,isStale:mv(e,t),refetch:this.refetch,promise:this.#a,isEnabled:$i(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const H=le=>{I.status==="error"?le.reject(I.error):I.data!==void 0&&le.resolve(I.data)},Q=()=>{const le=this.#a=I.promise=Y1();H(le)},F=this.#a;switch(F.status){case"pending":e.queryHash===n.queryHash&&H(F);break;case"fulfilled":(I.status==="error"||I.data!==F.value)&&Q();break;case"rejected":(I.status!=="error"||I.error!==F.reason)&&Q();break}}return I}updateResult(){const e=this.#r,t=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#o=this.options,this.#i.data!==void 0&&(this.#f=this.#e),Ip(t,e))return;this.#r=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#p.size)return!0;const s=new Set(i??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#r).some(o=>{const a=o;return this.#r[a]!==e[a]&&s.has(a)})};this.#S({listeners:n()})}#_(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#S(e){Gn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#r)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function Uj(e,t){return $i(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function uw(e,t){return Uj(e,t)||e.state.data!==void 0&&X1(e,t,t.refetchOnMount)}function X1(e,t,n){if($i(t.enabled,e)!==!1&&sa(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&mv(e,t)}return!1}function cw(e,t,n,r){return(e!==t||$i(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&mv(e,n)}function mv(e,t){return $i(t.enabled,e)!==!1&&e.isStaleByTime(sa(t.staleTime,e))}function Hj(e,t){return!Ip(e.getCurrentResult(),t)}var Qj=class extends ic{#t;#e=void 0;#n;#r;constructor(t,n){super(),this.#t=t,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#t.defaultMutationOptions(t),Ip(this.options,n)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&vl(n.mutationKey)!==vl(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#o(t)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#o()}mutate(t,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(t)}#i(){const t=this.#n?.state??l_();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#o(t){Gn.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#e.variables,r=this.#e.context;t?.type==="success"?(this.#r.onSuccess?.(t.data,n,r),this.#r.onSettled?.(t.data,null,n,r)):t?.type==="error"&&(this.#r.onError?.(t.error,n,r),this.#r.onSettled?.(void 0,t.error,n,r))}this.listeners.forEach(n=>{n(this.#e)})})}},u_=T.createContext(void 0),ji=e=>{const t=T.useContext(u_);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Vj=({client:e,children:t})=>(T.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),h.jsx(u_.Provider,{value:e,children:t})),c_=T.createContext(!1),Wj=()=>T.useContext(c_);c_.Provider;function qj(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Kj=T.createContext(qj()),Gj=()=>T.useContext(Kj),Yj=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Xj=e=>{T.useEffect(()=>{e.clearReset()},[e])},Jj=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||n_(n,[e.error,r])),Zj=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},eE=(e,t)=>e.isLoading&&e.isFetching&&!t,tE=(e,t)=>e?.suspense&&t.isPending,dw=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function nE(e,t,n){const r=Wj(),i=Gj(),s=ji(),o=s.defaultQueryOptions(e);s.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=r?"isRestoring":"optimistic",Zj(o),Yj(o,i),Xj(i);const a=!s.getQueryCache().get(o.queryHash),[u]=T.useState(()=>new t(s,o)),c=u.getOptimisticResult(o),f=!r&&e.subscribed!==!1;if(T.useSyncExternalStore(T.useCallback(p=>{const g=f?u.subscribe(Gn.batchCalls(p)):Dr;return u.updateResult(),g},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),T.useEffect(()=>{u.setOptions(o)},[o,u]),tE(o,c))throw dw(o,u,i);if(Jj({result:c,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(o,c),o.experimental_prefetchInRender&&!yl&&eE(c,r)&&(a?dw(o,u,i):s.getQueryCache().get(o.queryHash)?.promise)?.catch(Dr).finally(()=>{u.updateResult()}),o.notifyOnChangeProps?c:u.trackResult(c)}function xs(e,t){return nE(e,$j)}function ga(e,t){const n=ji(),[r]=T.useState(()=>new Qj(n,e));T.useEffect(()=>{r.setOptions(e)},[r,e]);const i=T.useSyncExternalStore(T.useCallback(o=>r.subscribe(Gn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=T.useCallback((o,a)=>{r.mutate(o,a).catch(Dr)},[r]);if(i.error&&n_(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}var N0={},P0={},O0={},hw;function rE(){return hw||(hw=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];if(typeof window<"u"){var a;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(a=window).gtag.apply(a,s)}},n=t;e.default=n}(O0)),O0}var L0={},fw;function iE(){return fw||(fw=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function n(a){return a.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(u,c,f){return c>0&&c+u.length!==f.length&&u.search(t)>-1&&f.charAt(c-2)!==":"&&(f.charAt(c+u.length)!=="-"||f.charAt(c-1)==="-")&&f.charAt(c-1).search(/[^\s-]/)<0?u.toLowerCase():u.substr(1).search(/[A-Z]|\../)>-1?u:u.charAt(0).toUpperCase()+u.substr(1)})}function r(a){return typeof a=="string"&&a.indexOf("@")!==-1}var i="REDACTED (Potential Email Address)";function s(a){return r(a)?(console.warn("This arg looks like an email address, redacting."),i):a}function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,f=a||"";return u&&(f=n(a)),c&&(f=s(f)),f}}(L0)),L0}var pw;function sE(){return pw||(pw=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.GA4=void 0;var t=o(rE()),n=o(iE()),r=["eventCategory","eventAction","eventLabel","eventValue","hitType"],i=["title","location"],s=["page","hitType"];function o(q){return q&&q.__esModule?q:{default:q}}function a(q,V){if(q==null)return{};var J=u(q,V),te,ne;if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(q);for(ne=0;ne<me.length;ne++)te=me[ne],!(V.indexOf(te)>=0)&&Object.prototype.propertyIsEnumerable.call(q,te)&&(J[te]=q[te])}return J}function u(q,V){if(q==null)return{};var J={},te=Object.keys(q),ne,me;for(me=0;me<te.length;me++)ne=te[me],!(V.indexOf(ne)>=0)&&(J[ne]=q[ne]);return J}function c(q){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},c(q)}function f(q){return x(q)||g(q)||L(q)||p()}function p(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g(q){if(typeof Symbol<"u"&&q[Symbol.iterator]!=null||q["@@iterator"]!=null)return Array.from(q)}function x(q){if(Array.isArray(q))return R(q)}function w(q,V){var J=Object.keys(q);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(q);V&&(te=te.filter(function(ne){return Object.getOwnPropertyDescriptor(q,ne).enumerable})),J.push.apply(J,te)}return J}function S(q){for(var V=1;V<arguments.length;V++){var J=arguments[V]!=null?arguments[V]:{};V%2?w(Object(J),!0).forEach(function(te){Q(q,te,J[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(J)):w(Object(J)).forEach(function(te){Object.defineProperty(q,te,Object.getOwnPropertyDescriptor(J,te))})}return q}function k(q,V){return U(q)||z(q,V)||L(q,V)||E()}function E(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L(q,V){if(q){if(typeof q=="string")return R(q,V);var J=Object.prototype.toString.call(q).slice(8,-1);if(J==="Object"&&q.constructor&&(J=q.constructor.name),J==="Map"||J==="Set")return Array.from(q);if(J==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(J))return R(q,V)}}function R(q,V){(V==null||V>q.length)&&(V=q.length);for(var J=0,te=new Array(V);J<V;J++)te[J]=q[J];return te}function z(q,V){var J=q==null?null:typeof Symbol<"u"&&q[Symbol.iterator]||q["@@iterator"];if(J!=null){var te,ne,me,D,G=[],ye=!0,B=!1;try{if(me=(J=J.call(q)).next,V!==0)for(;!(ye=(te=me.call(J)).done)&&(G.push(te.value),G.length!==V);ye=!0);}catch(De){B=!0,ne=De}finally{try{if(!ye&&J.return!=null&&(D=J.return(),Object(D)!==D))return}finally{if(B)throw ne}}return G}}function U(q){if(Array.isArray(q))return q}function P(q,V){if(!(q instanceof V))throw new TypeError("Cannot call a class as a function")}function I(q,V){for(var J=0;J<V.length;J++){var te=V[J];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(q,F(te.key),te)}}function H(q,V,J){return V&&I(q.prototype,V),Object.defineProperty(q,"prototype",{writable:!1}),q}function Q(q,V,J){return V=F(V),V in q?Object.defineProperty(q,V,{value:J,enumerable:!0,configurable:!0,writable:!0}):q[V]=J,q}function F(q){var V=le(q,"string");return c(V)==="symbol"?V:String(V)}function le(q,V){if(c(q)!=="object"||q===null)return q;var J=q[Symbol.toPrimitive];if(J!==void 0){var te=J.call(q,V);if(c(te)!=="object")return te;throw new TypeError("@@toPrimitive must return a primitive value.")}return(V==="string"?String:Number)(q)}var ue=function(){function q(){var V=this;P(this,q),Q(this,"reset",function(){V.isInitialized=!1,V._testMode=!1,V._currentMeasurementId,V._hasLoadedGA=!1,V._isQueuing=!1,V._queueGtag=[]}),Q(this,"_gtag",function(){for(var J=arguments.length,te=new Array(J),ne=0;ne<J;ne++)te[ne]=arguments[ne];V._testMode||V._isQueuing?V._queueGtag.push(te):t.default.apply(void 0,te)}),Q(this,"_loadGA",function(J,te){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!V._hasLoadedGA){var me=document.createElement("script");me.async=!0,me.src="".concat(ne,"?id=").concat(J),te&&me.setAttribute("nonce",te),document.body.appendChild(me),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},V._hasLoadedGA=!0}}),Q(this,"_toGtagOptions",function(J){if(J){var te={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},ne=Object.entries(J).reduce(function(me,D){var G=k(D,2),ye=G[0],B=G[1];return te[ye]?me[te[ye]]=B:me[ye]=B,me},{});return ne}}),Q(this,"initialize",function(J){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!J)throw new Error("Require GA_MEASUREMENT_ID");var ne=typeof J=="string"?[{trackingId:J}]:J;V._currentMeasurementId=ne[0].trackingId;var me=te.gaOptions,D=te.gtagOptions,G=te.nonce,ye=te.testMode,B=ye===void 0?!1:ye,De=te.gtagUrl;if(V._testMode=B,B||V._loadGA(V._currentMeasurementId,G,De),V.isInitialized||(V._gtag("js",new Date),ne.forEach(function(Xe){var Ge=S(S(S({},V._toGtagOptions(S(S({},me),Xe.gaOptions))),D),Xe.gtagOptions);Object.keys(Ge).length?V._gtag("config",Xe.trackingId,Ge):V._gtag("config",Xe.trackingId)})),V.isInitialized=!0,!B){var je=f(V._queueGtag);for(V._queueGtag=[],V._isQueuing=!1;je.length;){var Ee=je.shift();V._gtag.apply(V,f(Ee)),Ee[0]==="get"&&(V._isQueuing=!0)}}}),Q(this,"set",function(J){if(!J){console.warn("`fieldsObject` is required in .set()");return}if(c(J)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(J).length===0&&console.warn("empty `fieldsObject` given to .set()"),V._gaCommand("set",J)}),Q(this,"_gaCommandSendEvent",function(J,te,ne,me,D){V._gtag("event",te,S(S({event_category:J,event_label:ne,value:me},D&&{non_interaction:D.nonInteraction}),V._toGtagOptions(D)))}),Q(this,"_gaCommandSendEventParameters",function(){for(var J=arguments.length,te=new Array(J),ne=0;ne<J;ne++)te[ne]=arguments[ne];if(typeof te[0]=="string")V._gaCommandSendEvent.apply(V,f(te.slice(1)));else{var me=te[0],D=me.eventCategory,G=me.eventAction,ye=me.eventLabel,B=me.eventValue;me.hitType;var De=a(me,r);V._gaCommandSendEvent(D,G,ye,B,De)}}),Q(this,"_gaCommandSendTiming",function(J,te,ne,me){V._gtag("event","timing_complete",{name:te,value:ne,event_category:J,event_label:me})}),Q(this,"_gaCommandSendPageview",function(J,te){if(te&&Object.keys(te).length){var ne=V._toGtagOptions(te),me=ne.title,D=ne.location,G=a(ne,i);V._gtag("event","page_view",S(S(S(S({},J&&{page_path:J}),me&&{page_title:me}),D&&{page_location:D}),G))}else J?V._gtag("event","page_view",{page_path:J}):V._gtag("event","page_view")}),Q(this,"_gaCommandSendPageviewParameters",function(){for(var J=arguments.length,te=new Array(J),ne=0;ne<J;ne++)te[ne]=arguments[ne];if(typeof te[0]=="string")V._gaCommandSendPageview.apply(V,f(te.slice(1)));else{var me=te[0],D=me.page;me.hitType;var G=a(me,s);V._gaCommandSendPageview(D,G)}}),Q(this,"_gaCommandSend",function(){for(var J=arguments.length,te=new Array(J),ne=0;ne<J;ne++)te[ne]=arguments[ne];var me=typeof te[0]=="string"?te[0]:te[0].hitType;switch(me){case"event":V._gaCommandSendEventParameters.apply(V,te);break;case"pageview":V._gaCommandSendPageviewParameters.apply(V,te);break;case"timing":V._gaCommandSendTiming.apply(V,f(te.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(me));break;default:console.warn("Send command doesn't exist: ".concat(me))}}),Q(this,"_gaCommandSet",function(){for(var J=arguments.length,te=new Array(J),ne=0;ne<J;ne++)te[ne]=arguments[ne];typeof te[0]=="string"&&(te[0]=Q({},te[0],te[1])),V._gtag("set",V._toGtagOptions(te[0]))}),Q(this,"_gaCommand",function(J){for(var te=arguments.length,ne=new Array(te>1?te-1:0),me=1;me<te;me++)ne[me-1]=arguments[me];switch(J){case"send":V._gaCommandSend.apply(V,ne);break;case"set":V._gaCommandSet.apply(V,ne);break;default:console.warn("Command doesn't exist: ".concat(J))}}),Q(this,"ga",function(){for(var J=arguments.length,te=new Array(J),ne=0;ne<J;ne++)te[ne]=arguments[ne];if(typeof te[0]=="string")V._gaCommand.apply(V,te);else{var me=te[0];V._gtag("get",V._currentMeasurementId,"client_id",function(D){V._isQueuing=!1;var G=V._queueGtag;for(me({get:function(De){return De==="clientId"?D:De==="trackingId"?V._currentMeasurementId:De==="apiVersion"?"1":void 0}});G.length;){var ye=G.shift();V._gtag.apply(V,f(ye))}}),V._isQueuing=!0}return V.ga}),Q(this,"event",function(J,te){if(typeof J=="string")V._gtag("event",J,V._toGtagOptions(te));else{var ne=J.action,me=J.category,D=J.label,G=J.value,ye=J.nonInteraction,B=J.transport;if(!me||!ne){console.warn("args.category AND args.action are required in event()");return}var De={hitType:"event",eventCategory:(0,n.default)(me),eventAction:(0,n.default)(ne)};D&&(De.eventLabel=(0,n.default)(D)),typeof G<"u"&&(typeof G!="number"?console.warn("Expected `args.value` arg to be a Number."):De.eventValue=G),typeof ye<"u"&&(typeof ye!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):De.nonInteraction=ye),typeof B<"u"&&(typeof B!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(B)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),De.transport=B)),V._gaCommand("send",De)}}),Q(this,"send",function(J){V._gaCommand("send",J)}),this.reset()}return H(q,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),q}();e.GA4=ue;var ae=new ue;e.default=ae}(P0)),P0}var mw;function oE(){return mw||(mw=1,function(e){function t(a){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},t(a)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ReactGAImplementation=void 0;var n=i(sE());function r(a){if(typeof WeakMap!="function")return null;var u=new WeakMap,c=new WeakMap;return(r=function(p){return p?c:u})(a)}function i(a,u){if(a&&a.__esModule)return a;if(a===null||t(a)!=="object"&&typeof a!="function")return{default:a};var c=r(u);if(c&&c.has(a))return c.get(a);var f={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if(g!=="default"&&Object.prototype.hasOwnProperty.call(a,g)){var x=p?Object.getOwnPropertyDescriptor(a,g):null;x&&(x.get||x.set)?Object.defineProperty(f,g,x):f[g]=a[g]}return f.default=a,c&&c.set(a,f),f}var s=n.GA4;e.ReactGAImplementation=s;var o=n.default;e.default=o}(N0)),N0}oE();const Cd="8.55.0",yo=globalThis;function gv(e,t,n){const r=n||yo,i=r.__SENTRY__=r.__SENTRY__||{},s=i[Cd]=i[Cd]||{};return s[e]||(s[e]=t())}const d_=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,aE="Sentry Logger ",gw=["debug","info","warn","error","log","assert","trace"],yw={};function lE(e){if(!("console"in yo))return e();const t=yo.console,n={},r=Object.keys(yw);r.forEach(i=>{const s=yw[i];n[i]=t[i],t[i]=s});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function uE(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return d_?gw.forEach(n=>{t[n]=(...r)=>{e&&lE(()=>{yo.console[n](`${aE}[${n}]:`,...r)})}}):gw.forEach(n=>{t[n]=()=>{}}),t}const kp=gv("logger",uE);function h_(){return yv(yo),yo}function yv(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Cd,t[Cd]=t[Cd]||{}}const cE=Object.prototype.toString;function dE(e,t){return cE.call(e)===`[object ${t}]`}function hE(e){return dE(e,"Object")}function fE(e){return!!(e&&e.then&&typeof e.then=="function")}function pE(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{d_&&kp.log(`Failed to add non-enumerable property "${t}" to object`,e)}}const f_=1e3;function p_(){return Date.now()/f_}function mE(){const{performance:e}=yo;if(!e||!e.now)return p_;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/f_}const gE=mE();(()=>{const{performance:e}=yo;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=i<t,o=e.timing&&e.timing.navigationStart,u=typeof o=="number"?Math.abs(o+n-r):t,c=u<t;return s||c?i<=u?e.timeOrigin:o:r})();function Qu(){const e=yo,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function yE(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||gE(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Qu()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function vw(){return Qu()}function xw(){return Qu().substring(16)}function m_(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const r={...e};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=m_(r[i],t[i],n-1));return r}const J1="_sentrySpan";function bw(e,t){t?pE(e,J1,t):delete e[J1]}function ww(e){return e[J1]}const vE=100;class vv{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:vw(),spanId:xw()}}clone(){const t=new vv;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,bw(t,ww(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&yE(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,i]=n instanceof Ku?[n.getScopeData(),n.getRequestSession()]:hE(n)?[t,t.requestSession]:[],{tags:s,extra:o,user:a,contexts:u,level:c,fingerprint:f=[],propagationContext:p}=r||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...o},this._contexts={...this._contexts,...u},a&&Object.keys(a).length&&(this._user=a),c&&(this._level=c),f.length&&(this._fingerprint=f),p&&(this._propagationContext=p),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,bw(this,void 0),this._attachments=[],this.setPropagationContext({traceId:vw()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:vE;if(r<=0)return this;const i={timestamp:p_(),...t};return this._breadcrumbs.push(i),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:ww(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=m_(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:xw(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:Qu();if(!this._client)return kp.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r&&r.event_id?r.event_id:Qu();if(!this._client)return kp.warn("No client configured on scope - will not capture message!"),i;const s=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i},this),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:Qu();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(kp.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const Ku=vv;function xE(){return gv("defaultCurrentScope",()=>new Ku)}function bE(){return gv("defaultIsolationScope",()=>new Ku)}class wE{constructor(t,n){let r;t?r=t:r=new Ku;let i;n?i=n:i=new Ku,this._stack=[{scope:r}],this._isolationScope=i}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(i){throw this._popScope(),i}return fE(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Gu(){const e=h_(),t=yv(e);return t.stack=t.stack||new wE(xE(),bE())}function _E(e){return Gu().withScope(e)}function SE(e,t){const n=Gu();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function _w(e){return Gu().withScope(()=>e(Gu().getIsolationScope()))}function CE(){return{withIsolationScope:_w,withScope:_E,withSetScope:SE,withSetIsolationScope:(e,t)=>_w(t),getCurrentScope:()=>Gu().getScope(),getIsolationScope:()=>Gu().getIsolationScope()}}function kE(e){const t=yv(e);return t.acs?t.acs:CE()}function jE(){const e=h_();return kE(e).getCurrentScope()}function EE(e){if(e)return TE(e)?{captureContext:e}:PE(e)?{captureContext:e}:e}function TE(e){return e instanceof Ku||typeof e=="function"}const NE=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function PE(e){return Object.keys(e).some(t=>NE.includes(t))}function OE(e,t){return jE().captureException(e,EE(t))}var R0={exports:{}},A0,Sw;function LE(){if(Sw)return A0;Sw=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return A0=e,A0}var M0,Cw;function RE(){if(Cw)return M0;Cw=1;var e=LE();function t(){}function n(){}return n.resetWarningCache=t,M0=function(){function r(o,a,u,c,f,p){if(p!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},M0}var kw;function AE(){return kw||(kw=1,R0.exports=RE()()),R0.exports}var ME=AE();const Tt=ki(ME);var I0,jw;function IE(){if(jw)return I0;jw=1;function e(a){return a&&typeof a=="object"&&"default"in a?a.default:a}var t=um(),n=e(t);function r(a,u,c){return u in a?Object.defineProperty(a,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[u]=c,a}function i(a,u){a.prototype=Object.create(u.prototype),a.prototype.constructor=a,a.__proto__=u}var s=!!(typeof window<"u"&&window.document&&window.document.createElement);function o(a,u,c){if(typeof a!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof u!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof c<"u"&&typeof c!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function f(p){return p.displayName||p.name||"Component"}return function(g){if(typeof g!="function")throw new Error("Expected WrappedComponent to be a React component.");var x=[],w;function S(){w=a(x.map(function(E){return E.props})),k.canUseDOM?u(w):c&&(w=c(w))}var k=function(E){i(L,E);function L(){return E.apply(this,arguments)||this}L.peek=function(){return w},L.rewind=function(){if(L.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var U=w;return w=void 0,x=[],U};var R=L.prototype;return R.UNSAFE_componentWillMount=function(){x.push(this),S()},R.componentDidUpdate=function(){S()},R.componentWillUnmount=function(){var U=x.indexOf(this);x.splice(U,1),S()},R.render=function(){return n.createElement(g,this.props)},L}(t.PureComponent);return r(k,"displayName","SideEffect("+f(g)+")"),r(k,"canUseDOM",s),k}}return I0=o,I0}var DE=IE();const FE=ki(DE);var D0,Ew;function BE(){if(Ew)return D0;Ew=1;var e=typeof Element<"u",t=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(s,o){if(s===o)return!0;if(s&&o&&typeof s=="object"&&typeof o=="object"){if(s.constructor!==o.constructor)return!1;var a,u,c;if(Array.isArray(s)){if(a=s.length,a!=o.length)return!1;for(u=a;u--!==0;)if(!i(s[u],o[u]))return!1;return!0}var f;if(t&&s instanceof Map&&o instanceof Map){if(s.size!==o.size)return!1;for(f=s.entries();!(u=f.next()).done;)if(!o.has(u.value[0]))return!1;for(f=s.entries();!(u=f.next()).done;)if(!i(u.value[1],o.get(u.value[0])))return!1;return!0}if(n&&s instanceof Set&&o instanceof Set){if(s.size!==o.size)return!1;for(f=s.entries();!(u=f.next()).done;)if(!o.has(u.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(o)){if(a=s.length,a!=o.length)return!1;for(u=a;u--!==0;)if(s[u]!==o[u])return!1;return!0}if(s.constructor===RegExp)return s.source===o.source&&s.flags===o.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof o.valueOf=="function")return s.valueOf()===o.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof o.toString=="function")return s.toString()===o.toString();if(c=Object.keys(s),a=c.length,a!==Object.keys(o).length)return!1;for(u=a;u--!==0;)if(!Object.prototype.hasOwnProperty.call(o,c[u]))return!1;if(e&&s instanceof Element)return!1;for(u=a;u--!==0;)if(!((c[u]==="_owner"||c[u]==="__v"||c[u]==="__o")&&s.$$typeof)&&!i(s[c[u]],o[c[u]]))return!1;return!0}return s!==s&&o!==o}return D0=function(o,a){try{return i(o,a)}catch(u){if((u.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw u}},D0}var zE=BE();const $E=ki(zE);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var F0,Tw;function UE(){if(Tw)return F0;Tw=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function i(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var o={},a=0;a<10;a++)o["_"+String.fromCharCode(a)]=a;var u=Object.getOwnPropertyNames(o).map(function(f){return o[f]});if(u.join("")!=="0123456789")return!1;var c={};return"abcdefghijklmnopqrst".split("").forEach(function(f){c[f]=f}),Object.keys(Object.assign({},c)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return F0=i()?Object.assign:function(s,o){for(var a,u=r(s),c,f=1;f<arguments.length;f++){a=Object(arguments[f]);for(var p in a)t.call(a,p)&&(u[p]=a[p]);if(e){c=e(a);for(var g=0;g<c.length;g++)n.call(a,c[g])&&(u[c[g]]=a[c[g]])}}return u},F0}var HE=UE();const QE=ki(HE);var fl={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},_t={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(_t).map(function(e){return _t[e]});var _n={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Fp={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Fd={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},VE=Object.keys(Fp).reduce(function(e,t){return e[Fp[t]]=t,e},{}),WE=[_t.NOSCRIPT,_t.SCRIPT,_t.STYLE],ps="data-react-helmet",qE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KE=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},GE=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Zr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YE=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Nw=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},XE=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},Z1=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},JE=function(t){var n=Vu(t,_t.TITLE),r=Vu(t,Fd.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=Vu(t,Fd.DEFAULT_TITLE);return n||i||void 0},ZE=function(t){return Vu(t,Fd.ON_CHANGE_CLIENT_STATE)||function(){}},B0=function(t,n){return n.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,i){return Zr({},r,i)},{})},eT=function(t,n){return n.filter(function(r){return typeof r[_t.BASE]<"u"}).map(function(r){return r[_t.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),o=0;o<s.length;o++){var a=s[o],u=a.toLowerCase();if(t.indexOf(u)!==-1&&i[u])return r.concat(i)}return r},[])},Jc=function(t,n,r){var i={};return r.filter(function(s){return Array.isArray(s[t])?!0:(typeof s[t]<"u"&&iT("Helmet: "+t+' should be of type "Array". Instead found type "'+qE(s[t])+'"'),!1)}).map(function(s){return s[t]}).reverse().reduce(function(s,o){var a={};o.filter(function(g){for(var x=void 0,w=Object.keys(g),S=0;S<w.length;S++){var k=w[S],E=k.toLowerCase();n.indexOf(E)!==-1&&!(x===_n.REL&&g[x].toLowerCase()==="canonical")&&!(E===_n.REL&&g[E].toLowerCase()==="stylesheet")&&(x=E),n.indexOf(k)!==-1&&(k===_n.INNER_HTML||k===_n.CSS_TEXT||k===_n.ITEM_PROP)&&(x=k)}if(!x||!g[x])return!1;var L=g[x].toLowerCase();return i[x]||(i[x]={}),a[x]||(a[x]={}),i[x][L]?!1:(a[x][L]=!0,!0)}).reverse().forEach(function(g){return s.push(g)});for(var u=Object.keys(a),c=0;c<u.length;c++){var f=u[c],p=QE({},i[f],a[f]);i[f]=p}return s},[]).reverse()},Vu=function(t,n){for(var r=t.length-1;r>=0;r--){var i=t[r];if(i.hasOwnProperty(n))return i[n]}return null},tT=function(t){return{baseTag:eT([_n.HREF,_n.TARGET],t),bodyAttributes:B0(fl.BODY,t),defer:Vu(t,Fd.DEFER),encode:Vu(t,Fd.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:B0(fl.HTML,t),linkTags:Jc(_t.LINK,[_n.REL,_n.HREF],t),metaTags:Jc(_t.META,[_n.NAME,_n.CHARSET,_n.HTTPEQUIV,_n.PROPERTY,_n.ITEM_PROP],t),noscriptTags:Jc(_t.NOSCRIPT,[_n.INNER_HTML],t),onChangeClientState:ZE(t),scriptTags:Jc(_t.SCRIPT,[_n.SRC,_n.INNER_HTML],t),styleTags:Jc(_t.STYLE,[_n.CSS_TEXT],t),title:JE(t),titleAttributes:B0(fl.TITLE,t)}},ey=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){ey(t)},0)}}(),Pw=function(t){return clearTimeout(t)},nT=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||ey:global.requestAnimationFrame||ey,rT=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||Pw:global.cancelAnimationFrame||Pw,iT=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},Zc=null,sT=function(t){Zc&&rT(Zc),t.defer?Zc=nT(function(){Ow(t,function(){Zc=null})}):(Ow(t),Zc=null)},Ow=function(t,n){var r=t.baseTag,i=t.bodyAttributes,s=t.htmlAttributes,o=t.linkTags,a=t.metaTags,u=t.noscriptTags,c=t.onChangeClientState,f=t.scriptTags,p=t.styleTags,g=t.title,x=t.titleAttributes;ty(_t.BODY,i),ty(_t.HTML,s),oT(g,x);var w={baseTag:mu(_t.BASE,r),linkTags:mu(_t.LINK,o),metaTags:mu(_t.META,a),noscriptTags:mu(_t.NOSCRIPT,u),scriptTags:mu(_t.SCRIPT,f),styleTags:mu(_t.STYLE,p)},S={},k={};Object.keys(w).forEach(function(E){var L=w[E],R=L.newTags,z=L.oldTags;R.length&&(S[E]=R),z.length&&(k[E]=w[E].oldTags)}),n&&n(),c(t,S,k)},g_=function(t){return Array.isArray(t)?t.join(""):t},oT=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=g_(t)),ty(_t.TITLE,n)},ty=function(t,n){var r=document.getElementsByTagName(t)[0];if(r){for(var i=r.getAttribute(ps),s=i?i.split(","):[],o=[].concat(s),a=Object.keys(n),u=0;u<a.length;u++){var c=a[u],f=n[c]||"";r.getAttribute(c)!==f&&r.setAttribute(c,f),s.indexOf(c)===-1&&s.push(c);var p=o.indexOf(c);p!==-1&&o.splice(p,1)}for(var g=o.length-1;g>=0;g--)r.removeAttribute(o[g]);s.length===o.length?r.removeAttribute(ps):r.getAttribute(ps)!==a.join(",")&&r.setAttribute(ps,a.join(","))}},mu=function(t,n){var r=document.head||document.querySelector(_t.HEAD),i=r.querySelectorAll(t+"["+ps+"]"),s=Array.prototype.slice.call(i),o=[],a=void 0;return n&&n.length&&n.forEach(function(u){var c=document.createElement(t);for(var f in u)if(u.hasOwnProperty(f))if(f===_n.INNER_HTML)c.innerHTML=u.innerHTML;else if(f===_n.CSS_TEXT)c.styleSheet?c.styleSheet.cssText=u.cssText:c.appendChild(document.createTextNode(u.cssText));else{var p=typeof u[f]>"u"?"":u[f];c.setAttribute(f,p)}c.setAttribute(ps,"true"),s.some(function(g,x){return a=x,c.isEqualNode(g)})?s.splice(a,1):o.push(c)}),s.forEach(function(u){return u.parentNode.removeChild(u)}),o.forEach(function(u){return r.appendChild(u)}),{oldTags:s,newTags:o}},y_=function(t){return Object.keys(t).reduce(function(n,r){var i=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return n?n+" "+i:i},"")},aT=function(t,n,r,i){var s=y_(r),o=g_(n);return s?"<"+t+" "+ps+'="true" '+s+">"+Z1(o,i)+"</"+t+">":"<"+t+" "+ps+'="true">'+Z1(o,i)+"</"+t+">"},lT=function(t,n,r){return n.reduce(function(i,s){var o=Object.keys(s).filter(function(c){return!(c===_n.INNER_HTML||c===_n.CSS_TEXT)}).reduce(function(c,f){var p=typeof s[f]>"u"?f:f+'="'+Z1(s[f],r)+'"';return c?c+" "+p:p},""),a=s.innerHTML||s.cssText||"",u=WE.indexOf(t)===-1;return i+"<"+t+" "+ps+'="true" '+o+(u?"/>":">"+a+"</"+t+">")},"")},v_=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[Fp[i]||i]=t[i],r},n)},uT=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[VE[i]||i]=t[i],r},n)},cT=function(t,n,r){var i,s=(i={key:n},i[ps]=!0,i),o=v_(r,s);return[nn.createElement(_t.TITLE,o,n)]},dT=function(t,n){return n.map(function(r,i){var s,o=(s={key:i},s[ps]=!0,s);return Object.keys(r).forEach(function(a){var u=Fp[a]||a;if(u===_n.INNER_HTML||u===_n.CSS_TEXT){var c=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:c}}else o[u]=r[a]}),nn.createElement(t,o)})},ro=function(t,n,r){switch(t){case _t.TITLE:return{toComponent:function(){return cT(t,n.title,n.titleAttributes)},toString:function(){return aT(t,n.title,n.titleAttributes,r)}};case fl.BODY:case fl.HTML:return{toComponent:function(){return v_(n)},toString:function(){return y_(n)}};default:return{toComponent:function(){return dT(t,n)},toString:function(){return lT(t,n,r)}}}},x_=function(t){var n=t.baseTag,r=t.bodyAttributes,i=t.encode,s=t.htmlAttributes,o=t.linkTags,a=t.metaTags,u=t.noscriptTags,c=t.scriptTags,f=t.styleTags,p=t.title,g=p===void 0?"":p,x=t.titleAttributes;return{base:ro(_t.BASE,n,i),bodyAttributes:ro(fl.BODY,r,i),htmlAttributes:ro(fl.HTML,s,i),link:ro(_t.LINK,o,i),meta:ro(_t.META,a,i),noscript:ro(_t.NOSCRIPT,u,i),script:ro(_t.SCRIPT,c,i),style:ro(_t.STYLE,f,i),title:ro(_t.TITLE,{title:g,titleAttributes:x},i)}},hT=function(t){var n,r;return r=n=function(i){YE(s,i);function s(){return KE(this,s),XE(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(a){return!$E(this.props,a)},s.prototype.mapNestedChildrenToProps=function(a,u){if(!u)return null;switch(a.type){case _t.SCRIPT:case _t.NOSCRIPT:return{innerHTML:u};case _t.STYLE:return{cssText:u}}throw new Error("<"+a.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(a){var u,c=a.child,f=a.arrayTypeChildren,p=a.newChildProps,g=a.nestedChildren;return Zr({},f,(u={},u[c.type]=[].concat(f[c.type]||[],[Zr({},p,this.mapNestedChildrenToProps(c,g))]),u))},s.prototype.mapObjectTypeChildren=function(a){var u,c,f=a.child,p=a.newProps,g=a.newChildProps,x=a.nestedChildren;switch(f.type){case _t.TITLE:return Zr({},p,(u={},u[f.type]=x,u.titleAttributes=Zr({},g),u));case _t.BODY:return Zr({},p,{bodyAttributes:Zr({},g)});case _t.HTML:return Zr({},p,{htmlAttributes:Zr({},g)})}return Zr({},p,(c={},c[f.type]=Zr({},g),c))},s.prototype.mapArrayTypeChildrenToProps=function(a,u){var c=Zr({},u);return Object.keys(a).forEach(function(f){var p;c=Zr({},c,(p={},p[f]=a[f],p))}),c},s.prototype.warnOnInvalidChildren=function(a,u){return!0},s.prototype.mapChildrenToProps=function(a,u){var c=this,f={};return nn.Children.forEach(a,function(p){if(!(!p||!p.props)){var g=p.props,x=g.children,w=Nw(g,["children"]),S=uT(w);switch(c.warnOnInvalidChildren(p,x),p.type){case _t.LINK:case _t.META:case _t.NOSCRIPT:case _t.SCRIPT:case _t.STYLE:f=c.flattenArrayTypeChildren({child:p,arrayTypeChildren:f,newChildProps:S,nestedChildren:x});break;default:u=c.mapObjectTypeChildren({child:p,newProps:u,newChildProps:S,nestedChildren:x});break}}}),u=this.mapArrayTypeChildrenToProps(f,u),u},s.prototype.render=function(){var a=this.props,u=a.children,c=Nw(a,["children"]),f=Zr({},c);return u&&(f=this.mapChildrenToProps(u,f)),nn.createElement(t,f)},GE(s,null,[{key:"canUseDOM",set:function(a){t.canUseDOM=a}}]),s}(nn.Component),n.propTypes={base:Tt.object,bodyAttributes:Tt.object,children:Tt.oneOfType([Tt.arrayOf(Tt.node),Tt.node]),defaultTitle:Tt.string,defer:Tt.bool,encodeSpecialCharacters:Tt.bool,htmlAttributes:Tt.object,link:Tt.arrayOf(Tt.object),meta:Tt.arrayOf(Tt.object),noscript:Tt.arrayOf(Tt.object),onChangeClientState:Tt.func,script:Tt.arrayOf(Tt.object),style:Tt.arrayOf(Tt.object),title:Tt.string,titleAttributes:Tt.object,titleTemplate:Tt.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var i=t.rewind();return i||(i=x_({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},fT=function(){return null},pT=FE(tT,sT,x_)(fT),Xn=hT(pT);Xn.renderStatic=Xn.rewind;const b_=e=>T.createElement("svg",{width:240,height:240,viewBox:"0 0 240 240",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M35.0767 27.9936C36.2709 9.99373 56.1517 -0.303892 71.5425 9.10587L213.791 96.0756C231.278 106.768 228.18 133.047 208.685 139.378L169.934 151.963L186.77 185.839C193.06 198.497 187.616 213.848 174.755 219.712L148.361 231.747C136.289 237.252 122.02 232.368 115.853 220.621L96.5356 183.827L61.2319 205.402C44.6261 215.55 23.4817 202.753 24.77 183.334L35.0767 27.9936Z",fill:"#047CFE"}),T.createElement("ellipse",{cx:81.7143,cy:99.4285,rx:9.71429,ry:13.7143,fill:"white"}),T.createElement("path",{d:"M144 99.4285C144 107.003 139.651 113.143 134.286 113.143C128.921 113.143 124.571 107.003 124.571 99.4285C124.571 91.8543 128.921 85.7142 134.286 85.7142C139.651 85.7142 144 91.8543 144 99.4285Z",fill:"white"}),T.createElement("path",{d:"M86.7687 125.246C88.6759 123.021 92.0636 122.863 94.1695 124.901L99.9237 130.47C104.528 134.926 111.74 135.226 116.699 131.169L123.261 125.8C125.281 124.147 128.239 124.354 130.009 126.272V126.272C131.991 128.419 131.682 131.81 129.344 133.563L122.999 138.322C122.524 138.678 122.024 138.999 121.502 139.281L118.258 141.039C112.227 144.305 104.944 144.254 98.9601 140.903L95.3516 138.883C94.6427 138.486 93.973 138.022 93.3515 137.499L87.3544 132.449C85.1919 130.628 84.9288 127.393 86.7687 125.246V125.246Z",fill:"white"})),mT=e=>T.createElement("svg",{id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"100%",viewBox:"740 350 700 190",enableBackground:"new 0 0 1506 862",xmlSpace:"preserve",...e},T.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M766.615112,463.466736 C775.870483,435.054810 785.533081,407.176788 793.924072,378.921143 C799.456543,360.291321 821.375366,357.141083 832.881592,364.663513 C838.142395,368.102875 840.908264,372.891174 842.764648,378.570496 C853.528076,411.499817 864.314026,444.421814 875.109436,477.340668 C878.939270,489.019165 882.817444,500.681793 886.885071,512.991760 C873.401611,512.991760 860.604980,513.082825 847.814941,512.834106 C846.683838,512.812195 845.029419,510.751434 844.583618,509.333893 C842.385803,502.345581 840.389465,495.286346 838.588135,488.184601 C837.875916,485.376556 836.496521,484.498810 833.699890,484.534851 C823.536499,484.665802 813.369263,484.669006 803.205994,484.533264 C800.346008,484.495056 799.085388,485.557281 798.384705,488.289246 C796.564392,495.386353 794.554382,502.439484 792.396301,509.441223 C791.983948,510.779236 790.565674,512.800781 789.581299,512.818420 C776.821838,513.046875 764.056885,512.969788 750.549133,512.969788 C756.023682,496.088989 761.252869,479.964600 766.615112,463.466736 M816.931274,421.410614 C814.112549,431.575104 811.293823,441.739594 808.392944,452.200287 C815.599854,452.200287 821.902649,452.200287 828.658752,452.200287 C825.389221,440.483582 822.289490,429.375366 818.869080,417.118134 C817.911804,419.080017 817.519409,419.884216 816.931274,421.410614 z"}),T.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M897.499634,440.999878 C897.503479,420.519745 897.488831,400.539612 897.519775,380.559540 C897.531799,372.795044 900.376282,366.496521 907.660461,363.030640 C915.127136,359.477966 922.528442,359.846069 929.464539,364.563080 C935.259399,368.503876 937.055176,374.335907 937.048035,381.039062 C937.015198,411.841675 937.034424,442.644379 937.040466,473.447052 C937.041748,480.073792 937.052368,480.081238 943.492004,480.087067 C954.814026,480.097321 966.136658,480.028900 977.457947,480.122711 C987.208801,480.203491 993.256531,486.339630 993.423340,496.088531 C993.591736,505.931396 987.323730,512.874146 977.673828,512.951233 C959.526672,513.096191 941.377319,512.994263 923.229065,512.925903 C921.079651,512.917786 918.917908,512.564026 916.785522,512.222961 C904.801392,510.306244 898.913025,504.603821 898.202148,492.417206 C897.427734,479.139282 897.678284,465.801117 897.506409,452.488892 C897.459106,448.826477 897.499329,445.162903 897.499634,440.999878 z"}),T.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1040.002319,513.009888 C1032.386597,512.472046 1025.194824,512.401672 1018.174561,511.268555 C1010.726318,510.066406 1006.177002,504.925751 1004.404785,497.720428 C1003.459595,493.877228 1002.968811,489.824890 1002.956421,485.864838 C1002.846130,450.709564 1002.826050,415.553650 1002.916931,380.398285 C1002.954224,365.950378 1016.559753,356.896027 1030.130249,362.060669 C1038.365479,365.194824 1042.187012,370.979767 1042.201660,380.770782 C1042.247070,411.094543 1042.204346,441.418396 1042.235718,471.742188 C1042.245239,480.981537 1041.247803,480.051331 1050.482178,480.082153 C1061.312012,480.118286 1072.142578,480.025299 1082.971680,480.121033 C1092.570557,480.205902 1098.845581,486.620514 1098.907471,496.184052 C1098.970459,505.922485 1092.541992,512.866394 1082.988037,512.962402 C1068.827148,513.104797 1054.663940,513.006042 1040.002319,513.009888 z"}),T.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1105.599854,424.091034 C1105.678223,419.273590 1105.675537,414.939514 1105.848022,410.612366 C1106.679688,389.750092 1118.775146,372.818024 1138.406616,365.732941 C1156.549072,359.185303 1175.012329,358.583527 1193.188843,365.323273 C1198.110229,367.148071 1202.772949,370.721100 1206.466431,374.543121 C1211.164673,379.404846 1211.106934,386.678192 1207.716797,392.221375 C1204.392090,397.657684 1197.251099,400.903137 1190.883667,399.580627 C1188.301636,399.044403 1185.815430,397.977692 1183.339355,397.013916 C1175.530396,393.974335 1167.541260,392.816956 1159.379639,395.154175 C1150.777954,397.617371 1145.223511,403.980804 1145.017212,412.911163 C1144.628296,429.729340 1144.585449,446.570526 1145.007446,463.386902 C1145.269531,473.829987 1153.125732,481.281250 1163.625244,482.137146 C1171.722046,482.797241 1179.477173,481.553802 1186.986572,478.140991 C1190.366577,476.604889 1194.360962,475.323792 1197.962524,475.572998 C1209.802612,476.392456 1216.308594,490.454346 1208.927490,499.752319 C1205.559448,503.994965 1200.648315,507.757538 1195.646484,509.828613 C1174.556763,518.560974 1153.221802,518.122009 1132.727783,508.061493 C1115.403931,499.557190 1106.508057,484.852997 1105.894775,465.561035 C1105.460938,451.910522 1105.674927,438.239471 1105.599854,424.091034 z"}),T.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1320.434326,500.172791 C1317.639038,509.503052 1313.229980,512.955139 1304.061890,512.987305 C1286.908081,513.047424 1269.753784,513.003906 1252.599731,512.992737 C1251.268433,512.991882 1249.933105,512.956604 1248.606323,512.853210 C1231.926514,511.553131 1225.143188,504.528259 1225.061279,487.516205 C1224.887939,451.543427 1224.944946,415.569183 1225.023804,379.595795 C1225.048584,368.329468 1233.036743,360.816620 1244.539917,360.809937 C1256.112671,360.803192 1264.062378,368.157135 1264.114258,379.536163 C1264.256104,410.679382 1264.172607,441.823578 1264.180786,472.967407 C1264.182617,480.081787 1264.187012,480.085663 1271.141602,480.088776 C1281.967041,480.093628 1292.792480,480.061768 1303.617798,480.102203 C1315.913452,480.148132 1322.019409,487.278107 1320.434326,500.172791 z"}),T.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1378.000000,513.014893 C1368.192139,512.765503 1358.816406,513.130859 1349.593384,512.112854 C1337.746338,510.805237 1332.660767,505.204010 1330.947388,493.507568 C1330.538574,490.717987 1330.280029,487.878601 1330.276367,485.061737 C1330.230103,450.432434 1330.286133,415.802979 1330.212158,381.173767 C1330.194580,372.958893 1332.967651,366.428131 1340.685059,362.882050 C1348.394409,359.339600 1355.924683,359.980255 1362.863892,365.047699 C1368.391602,369.084473 1369.760742,374.936981 1369.757690,381.368835 C1369.743286,412.002502 1369.751465,442.636139 1369.756226,473.269806 C1369.757324,480.076080 1369.766113,480.079834 1376.503418,480.083557 C1387.658081,480.089752 1398.813110,480.033844 1409.967285,480.110382 C1420.152832,480.180267 1426.172729,486.207733 1426.218872,496.197205 C1426.266479,506.515289 1420.200684,512.875610 1409.966064,512.983093 C1399.478394,513.093262 1388.988770,513.012207 1378.000000,513.014893 z"})),gT=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M4 11.5L3.515 11.621C3.08232 11.7292 2.69821 11.9788 2.4237 12.3303C2.1492 12.6818 2.00007 13.115 2 13.561V15.438C2.00007 15.884 2.1492 16.3172 2.4237 16.6687C2.69821 17.0202 3.08232 17.2698 3.515 17.378L5.255 17.813C5.34342 17.835 5.43569 17.8366 5.52481 17.8177C5.61393 17.7987 5.69757 17.7597 5.76937 17.7036C5.84118 17.6475 5.89926 17.5758 5.93922 17.4939C5.97918 17.412 5.99997 17.3221 6 17.231V11.768C6.00001 11.6768 5.97921 11.5868 5.93919 11.5048C5.89918 11.4228 5.84099 11.351 5.76907 11.2949C5.69714 11.2388 5.61337 11.1998 5.52412 11.1809C5.43486 11.1621 5.34248 11.1638 5.254 11.186L4 11.5ZM4 11.5V11C4 8.87827 4.84285 6.84344 6.34315 5.34315C7.84344 3.84285 9.87827 3 12 3C14.1217 3 16.1566 3.84285 17.6569 5.34315C19.1571 6.84344 20 8.87827 20 11V11.5M20 11.5L20.485 11.621C20.9177 11.7292 21.3018 11.9788 21.5763 12.3303C21.8508 12.6818 21.9999 13.115 22 13.561V15.438C21.9999 15.884 21.8508 16.3172 21.5763 16.6687C21.3018 17.0202 20.9177 17.2698 20.485 17.378L20 17.5M20 11.5L18.745 11.186C18.6566 11.164 18.5643 11.1624 18.4752 11.1813C18.3861 11.2003 18.3024 11.2393 18.2306 11.2954C18.1588 11.3515 18.1007 11.4232 18.0608 11.5051C18.0208 11.587 18 11.6769 18 11.768V17.231C18 17.3221 18.0208 17.412 18.0608 17.4939C18.1007 17.5758 18.1588 17.6475 18.2306 17.7036C18.3024 17.7597 18.3861 17.7987 18.4752 17.8177C18.5643 17.8366 18.6566 17.835 18.745 17.813L20 17.5M20 17.5V18.5C20 19.0304 19.7893 19.5391 19.4142 19.9142C19.0391 20.2893 18.5304 20.5 18 20.5H15M15 20.5C15 20.1022 14.842 19.7206 14.5607 19.4393C14.2794 19.158 13.8978 19 13.5 19H10.5C10.1022 19 9.72064 19.158 9.43934 19.4393C9.15804 19.7206 9 20.1022 9 20.5C9 20.8978 9.15804 21.2794 9.43934 21.5607C9.72064 21.842 10.1022 22 10.5 22H13.5C13.8978 22 14.2794 21.842 14.5607 21.5607C14.842 21.2794 15 20.8978 15 20.5Z",stroke:"#6B7280",strokeWidth:1.5})),yT=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M12 3C9.61306 3 7.32388 3.94821 5.63605 5.63604C3.94822 7.32387 3.00001 9.61305 3.00001 12C3.00001 14.397 3.93501 16.573 5.46301 18.186L5.96701 18.718L4.70001 21H12C13.1819 21 14.3522 20.7672 15.4442 20.3149C16.5361 19.8626 17.5282 19.1997 18.364 18.364C19.1997 17.5282 19.8626 16.5361 20.3149 15.4442C20.7672 14.3522 21 13.1819 21 12C21 10.8181 20.7672 9.64778 20.3149 8.55585C19.8626 7.46392 19.1997 6.47177 18.364 5.63604C17.5282 4.80031 16.5361 4.13738 15.4442 3.68508C14.3522 3.23279 13.1819 3 12 3ZM1.00001 12C1.00001 5.925 5.92501 1 12 1C18.075 1 23 5.925 23 12C23 18.075 18.075 23 12 23H1.30001L3.52001 19.006C1.88821 17.0363 0.996743 14.5578 1.00001 12ZM12 7.5C11.5864 7.4999 11.1829 7.62803 10.8452 7.86676C10.5074 8.10549 10.2519 8.44307 10.114 8.833L9.78001 9.776L7.89501 9.11L8.22801 8.167C8.43446 7.58155 8.77432 7.05216 9.22069 6.62073C9.66706 6.1893 10.2077 5.86765 10.7998 5.68124C11.392 5.49483 12.0194 5.44876 12.6324 5.54668C13.2454 5.64461 13.8272 5.88383 14.3318 6.24544C14.8364 6.60704 15.25 7.08111 15.5397 7.63013C15.8295 8.17915 15.9875 8.78806 16.0013 9.4087C16.0151 10.0293 15.8843 10.6447 15.6192 11.206C15.3541 11.7674 14.962 12.2593 14.474 12.643C14.043 12.983 13.657 13.309 13.378 13.652C13.104 13.99 13 14.262 13 14.5V15.75H11V14.5C11 13.633 11.39 12.927 11.826 12.39C12.258 11.86 12.8 11.416 13.236 11.072C13.5628 10.8149 13.8014 10.4624 13.9185 10.0634C14.0357 9.66449 14.0256 9.23894 13.8896 8.846C13.7536 8.45305 13.4986 8.11226 13.1599 7.87102C12.8212 7.62978 12.4158 7.50009 12 7.5ZM11 16.75H13.004V18.754H11V16.75Z",fill:"#6B7280"})),w_=[{title:"",path:"/timetable",end:!1},{title:"",path:"/wishes",end:!0},{title:"",path:"/simulation",end:!1},{title:"",path:"/live",end:!1}],vT=[{icon:h.jsx(gT,{className:"w-4 h-4"}),title:"  ",path:"https://forms.gle/bCDTVujEHunnvHe88"},{icon:h.jsx(yT,{className:"w-4 h-4"}),title:" ",path:"https://open.kakao.com/o/g3MztXfh"}];function xv(){return h.jsx("header",{className:"bg-white shadow-sm z-50 sticky top-0",children:h.jsxs("div",{className:"container flex items-center justify-between mx-auto max-w-7xl px-4 md:px-16",children:[h.jsxs("div",{className:"flex items-center space-x-4 py-4",children:[h.jsxs(Er,{to:"/",className:"flex items-center gap-1 space-x-2","aria-label":" ",children:[h.jsx("h1",{className:"hidden",children:"ALLCLL"}),h.jsx(b_,{className:"w-6 h-6 m-0"}),h.jsx(mT,{className:"h-5 hidden sm:inline-block"})]}),h.jsx("ul",{className:"flex space-x-4 text-sm sm:text-base",children:w_.map(({title:e,path:t,end:n})=>h.jsx("li",{className:"font-bold",children:h.jsx(kl,{to:t,end:n,className:({isActive:r})=>r?"text-blue-500 font-semibold":"text-gray-500",children:e})},t))})]}),h.jsx("div",{className:"items-center space-x-2 hidden sm:flex",children:vT.map(({icon:e,title:t,path:n})=>h.jsx("a",{className:"p-2 rounded-md hover:bg-gray-100",target:"_blank",href:n,"aria-label":t,title:t,children:e},n))})]})})}const Lw=e=>{let t;const n=new Set,r=(c,f)=>{const p=typeof c=="function"?c(t):c;if(!Object.is(p,t)){const g=t;t=f??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(x=>x(t,g))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c))},u=t=e(r,i,a);return a},xT=e=>e?Lw(e):Lw,bT=e=>e;function wT(e,t=bT){const n=nn.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return nn.useDebugValue(n),n}const Rw=e=>{const t=xT(e),n=r=>wT(t,r);return Object.assign(n,t),n},Nr=e=>e?Rw(e):Rw,Bp=Nr(e=>({banner:null,onClose:void 0,setBanner:(t,n)=>e({banner:t,onClose:n}),closeBanner:()=>e({banner:null})}));function _T({variant:e,children:t}){const n=ST(e);return h.jsx("div",{className:`${n} px-2 py-1 text-xs rounded-full inline-flex`,children:t})}function ST(e){switch(e){case"success":return"bg-green-100 text-green-700 ";case"warning":return"bg-yellow-100 text-yellow-700 ";case"danger":return"bg-secondary-100 text-secondary-700 ";case"default":return"bg-gray-100 text-gray-700 ";default:return""}}const CT=e=>T.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M10 7V11M10 14V14.01M1 10C1 11.1819 1.23279 12.3522 1.68508 13.4442C2.13738 14.5361 2.80031 15.5282 3.63604 16.364C4.47177 17.1997 5.46392 17.8626 6.55585 18.3149C7.64778 18.7672 8.8181 19 10 19C11.1819 19 12.3522 18.7672 13.4442 18.3149C14.5361 17.8626 15.5282 17.1997 16.364 16.364C17.1997 15.5282 17.8626 14.5361 18.3149 13.4442C18.7672 12.3522 19 11.1819 19 10C19 8.8181 18.7672 7.64778 18.3149 6.55585C17.8626 5.46392 17.1997 4.47177 16.364 3.63604C15.5282 2.80031 14.5361 2.13738 13.4442 1.68508C12.3522 1.23279 11.1819 1 10 1C8.8181 1 7.64778 1.23279 6.55585 1.68508C5.46392 2.13738 4.47177 2.80031 3.63604 3.63604C2.80031 4.47177 2.13738 5.46392 1.68508 6.55585C1.23279 7.64778 1 8.8181 1 10Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),zp=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function lr({icon:e,variant:t="plain",label:n,className:r="",...i}){const a=`flex flex-row items-center justify-center gap-1 cursor-pointer rounded-md  ${kT(t)} ${r}`;return h.jsx("button",{type:"button","aria-label":n,className:a,...i,children:e&&h.jsx("span",{children:e})})}function kT(e){switch(e){case"contain":return"px-2 py-2 border border-gray-400 hover:bg-gray-100";case"plain":return"bg-transparent text-gray-700";default:return""}}function jT({children:e}){return h.jsx("div",{className:"mr-3 flex-shrink-0 flex items-center justify-center",children:e})}function ET({children:e}){return h.jsx("div",{className:"flex-1",children:e})}function TT({children:e}){return h.jsx("div",{className:"ml-3 flex-shrink-0 flex items-center justify-center",children:e})}function NT({tag:e="div",withPadding:t,left:n,center:r,right:i,className:s,...o}){const a=e;return h.jsxs(a,{className:`flex items-center w-full ${t?"px-4 py-3":""} ${s??""}`,...o,children:[n,r,i]})}function PT({left:e,center:t,right:n,className:r,withPadding:i}){return h.jsx(NT,{className:r,withPadding:i,left:h.jsx(jT,{children:e}),center:h.jsx(ET,{children:t}),right:h.jsx(TT,{children:n})})}function OT({variant:e="info",children:t,deleteBanner:n}){const r=LT(e);return h.jsx(PT,{withPadding:!0,className:`${r} items-center`,left:h.jsx(CT,{className:"text-gray-500 w-4 h-4"}),center:h.jsx("span",{className:"text-xs",children:t}),right:h.jsx(lr,{label:" ",variant:"plain",icon:h.jsx(zp,{className:"text-gray-500 w-5 h-5"}),onClick:n,className:"rounded-full"})})}function LT(e){switch(e){case"warning":return"bg-secondary-100";case"info":return"bg-blue-100";default:return"bg-gray-100"}}function mn({variant:e,size:t,children:n,disabled:r,textColor:i,...s}){const o=e==="circle"?"":"flex flex-row gap-1 items-center justify-center cursor-pointer",a=i?Aw(e,i):Aw(e,"primary"),u=e==="circle"?"":AT(t),c=`${o} ${a} ${u}`.trim();return h.jsx("button",{className:c,disabled:r,...s,children:n})}function RT(e){switch(e){case"primary":return"bg-transparent text-primary-500 hover:text-primary-600";case"secondary":return"bg-transparent text-secondary-500 hover:text-secondary-600";case"gray":return"bg-transparent text-gray-500 hover:text-gray-600";default:return""}}function Aw(e,t){switch(e){case"primary":return"bg-primary-500 text-white hover:bg-primary-600 rounded-md";case"secondary":return"bg-gray-100  hover:bg-gray-300 rounded-md";case"outlined":return"bg-transparent border border-gray-700 hover:bg-gray-100 rounded-md";case"danger":return"bg-secondary-500 text-white hover:bg-secondary-600 rounded-md";case"ghost":return"bg-gray-50 border border-gray-200 text-gray-700 hover:bg-gray-200 rounded-full";case"circle":return"px-2 py-2 bg-primary-500 text-white hover:bg-primary-600 rounded-full shadow-md ";case"text":return RT(t);default:return""}}function AT(e){switch(e){case"small":return"text-sm px-3 py-1";case"medium":return"text-sm px-4 py-2";case"large":return"text-md px-5 py-2";default:return""}}function MT({children:e}){return h.jsx("div",{className:"flex flex-col space-y-3 text-gray-600 text-sm",children:e})}function IT({children:e}){return h.jsx("div",{className:"flex flex-col items-start justify-between mb-3",children:e})}function DT({children:e,size:t,variant:n,className:r}){const i=FT(t||"medium"),s=BT(n);return h.jsx("div",{className:`card rounded-lg ${i} ${s} ${r||""}`,children:e})}const Cr=Object.assign(DT,{Header:IT,Content:MT});function FT(e){switch(e){case"small":return"px-4 py-4 text-sm";case"medium":return"p-4 text-base";case"large":return"px-10 py-4 text-lg";default:return""}}function BT(e="elevated"){switch(e){case"elevated":return"bg-white shadow-md";case"outlined":return"bg-white border border-gray-200";case"filled":return"bg-gray-100";default:return""}}const zT=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M5 12L10 17L20 7",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function $T({label:e,...t}){const n=T.useId(),r=e?`checkbox-${e}`:`checkbox-${n}`;return h.jsxs("label",{htmlFor:r,className:"flex flex-row items-center gap-3 text-sm md:text-base cursor-pointer select-none",children:[h.jsxs("div",{className:"relative w-5 h-5",children:[h.jsx("input",{id:r,type:"checkbox","aria-checked":t.checked,"aria-label":e?void 0:"toggle checkbox",className:`
            appearance-none w-5 h-5 rounded-sm border cursor-pointer transition-colors hover:bg-gray-50
            ${t.checked?"bg-blue-50 border-blue-500":"bg-white border-gray-400"}
          `,...t}),t.checked&&h.jsx(zT,{className:"text-blue-500 w-4 h-4 absolute inset-0 m-auto pointer-events-none"})]}),e&&h.jsx("span",{className:`${t.checked?"text-blue-500":"text-gray-600"}`,children:e})]})}const Mw=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),UT=({className:e,selected:t=!1})=>{const n=t?e+" text-blue-500":e+" text-gray-400";return t?h.jsx(Mw,{className:n}):h.jsx(Mw,{className:n})},HT=({className:e,selected:t=!1})=>{const n=t?e+" text-blue-500":e+" text-gray-400";return t?h.jsx(zp,{className:n}):h.jsx(zp,{className:n})};function oa({label:e="Chip",selected:t,variant:n="none",containerRef:r,onClick:i,isChipOpen:s,...o}){return h.jsxs("button",{type:"button",ref:r,className:`flex flex-row justify-between items-center px-4 py-2 rounded-lg cursor-pointer gap-4 ${QT(t)}`,"aria-pressed":t,onClick:i,...o,children:[h.jsx("span",{className:"text-xs sm:text-sm",children:e}),n==="select"&&h.jsx(UT,{"aria-hidden":"true",selected:t,className:`w-5 h-5 pointer-events-none transition-transform text-blue-500 duration-200 ${s?"rotate-180":"rotate-0"}`}),n==="cancel"&&h.jsx(HT,{"aria-hidden":"true",selected:t,className:"pointer-events-none w-5 h-5"})]})}function QT(e){return e?"bg-primary-100 text-primary-500 focus:outline-primary-500 hover:bg-primary-200":"bg-gray-100 text-gray-700 focus:outline-gray-400 hover:bg-gray-200"}function VT({children:e}){return h.jsx("h3",{id:"dialog-title",className:"font-semibold",children:e})}function __({children:e,onClose:t}){return h.jsxs("div",{className:"w-full px-8 py-5 border-b border-gray-100 flex flex-row justify-between z-60",children:[e,h.jsx("button",{type:"button","aria-label":"",className:"w-6 h-6 cursor-pointer flex items-center justify-center bg-gray-100 rounded-full",onClick:t,children:h.jsx(zp,{className:"text-gray-600 w-4 h-4"})})]})}function S_({children:e,onClose:t}){const n=T.useRef(null),r=i=>{i.stopPropagation(),t()};return h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/20 z-50",role:"none",ref:n,onClick:r,children:e})}function C_({children:e,width:t,height:n}){const r=WT(t,n);return h.jsx("div",{className:`z-60 flex flex-col justify-center item bg-white min-w-80 rounded-2xl sm:${r}`,onClick:i=>i.stopPropagation(),children:e})}function WT(e,t){const n=e?`w-${e}`:"max-w-200",r=t?`h-${t}`:"auto";return`${n} ${r}`}function qT({children:e}){return h.jsx("div",{className:"flex flex-col px-8 py-5 gap-2 max-h-120 overflow-y-auto",children:e})}function KT({children:e}){return h.jsx("div",{className:"py-3 px-8 border-t border-gray-100 flex justify-end gap-2",children:e})}function GT({children:e,isOpen:t,title:n,onClose:r}){const i=T.useRef(null),s=T.useId();return T.useEffect(()=>{const o=i.current;o&&(t?o.showModal():o.close())},[t]),T.useEffect(()=>{const o=a=>{a.key==="Escape"&&r()};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[r]),pm.createPortal(h.jsx("dialog",{ref:i,role:"dialog","aria-labelledby":s,onCancel:o=>{o.preventDefault(),r()},children:h.jsx(S_,{onClose:r,children:h.jsxs(C_,{children:[h.jsx(__,{onClose:r,children:h.jsx(_i.Title,{id:s,children:n})}),e]})})}),document.body)}const _i=Object.assign(GT,{Title:VT,Header:__,Overlay:S_,Content:qT,Contents:C_,Footer:KT});function ny({className:e="",leftIcon:t,rightIcon:n,...r}){const i=T.useRef(null),s=t?"pl-10":"pl-3",o=n?"pr-10":"pr-3";return h.jsxs("div",{className:"relative flex items-center w-full",children:[t&&h.jsx("div",{children:t}),h.jsx("input",{ref:i,type:"text",className:`py-2 border rounded-md border-gray-400 py-2 px-3 focus:outline-none focus:ring-0 focus:border-primary-500 ${s} ${o} ${e}`,...r}),n&&h.jsx("div",{children:n})]})}const Qi=({id:e,required:t,children:n,className:r="",...i})=>{const s=`text-xs sm:text-sm text-gray-800 after:ml-0.5 ${t?'after:content-["*"] after:text-red-500':""}`;return h.jsx("label",{htmlFor:e,className:`${s} ${r}`,...i,children:n})};function YT(){const[e,t]=T.useState(!1),[n,r]=T.useState({x:0,y:0}),i=T.useRef(null),s=T.useRef(null),o=()=>{t(!0),u()},a=()=>t(!1),u=()=>{if(i.current&&s.current){const c=i.current.getBoundingClientRect(),f=s.current.getBoundingClientRect(),p=window.innerWidth,g=window.innerHeight;let x=c.left,w=c.bottom;c.right+f.width>p&&(x=c.right-f.width),c.bottom+f.height>g&&(w=-f.height),r({x,y:w})}};return T.useEffect(()=>{const c=f=>{f.key==="Escape"&&a()};return e&&window.addEventListener("keydown",c),()=>{window.removeEventListener("keydown",c)}},[e]),T.useEffect(()=>(e&&window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)),[e]),{isOpen:e,open:o,close:a,triggerRef:i,contentRef:s,position:n}}function XT({label:e}){const{open:t,close:n,isOpen:r,triggerRef:i}=k_();return h.jsx(oa,{label:e,isChipOpen:r,variant:"select",selected:r,onClick:r?n:t,containerRef:i})}function JT({children:e}){const{isOpen:t,triggerRef:n}=k_();if(!t||!n.current)return null;const r=n.current.getBoundingClientRect();return pm.createPortal(h.jsx("div",{className:"fixed z-50 rounded-md bg-white shadow-lg p-4",style:{top:r.bottom+8,left:r.left},children:e}),document.body)}const k_=()=>{const e=T.useContext(j_);if(!e)throw new Error("Popover Component PopoverContext.Provider   .");return e},j_=T.createContext(null),ZT=({children:e})=>{const t=YT();return h.jsx(j_.Provider,{value:t,children:e})},z0=Object.assign(ZT,{Trigger:XT,Content:JT});function E_({label:e,isError:t,errorMessage:n,required:r,id:i,size:s="medium",className:o="",...a}){return h.jsxs("div",{className:"w-full flex flex-col",children:[e&&h.jsx(Qi,{required:r,id:i,children:e}),h.jsx("input",{id:i,type:"text","aria-invalid":t,required:r,...a,className:`rounded-md w-full bg-white border border-gray-300 py-2 px-3 focus:outline-none focus:ring-0 focus:border-primary-500 ${eN(s)}`}),t&&h.jsx("span",{className:"text-secondary-500 text-xs",children:n})]})}function eN(e){switch(e){case"small":return"text-sm py-1";case"medium":return"text-base py-1";case"large":return"text-lg py-1";default:return""}}const tN=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M12 16V16.01M12 13C12.4498 13.0014 12.8868 12.8511 13.2407 12.5734C13.5945 12.2958 13.8444 11.907 13.95 11.4698C14.0557 11.0327 14.0109 10.5726 13.8229 10.1641C13.6349 9.75549 13.3147 9.42219 12.914 9.21801C12.5162 9.01422 12.0611 8.95103 11.6228 9.03873C11.1845 9.12642 10.7888 9.35984 10.5 9.70101M3 12C3 13.1819 3.23279 14.3522 3.68508 15.4442C4.13738 16.5361 4.80031 17.5282 5.63604 18.364C6.47177 19.1997 7.46392 19.8626 8.55585 20.3149C9.64778 20.7672 10.8181 21 12 21C13.1819 21 14.3522 20.7672 15.4442 20.3149C16.5361 19.8626 17.5282 19.1997 18.364 18.364C19.1997 17.5282 19.8626 16.5361 20.3149 15.4442C20.7672 14.3522 21 13.1819 21 12C21 9.61305 20.0518 7.32387 18.364 5.63604C16.6761 3.94821 14.3869 3 12 3C9.61305 3 7.32387 3.94821 5.63604 5.63604C3.94821 7.32387 3 9.61305 3 12Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function nN({children:e}){return h.jsx("div",{className:"relative inline-block",children:h.jsxs("div",{className:"group inline-block",children:[h.jsx(lr,{label:"Tooltip",variant:"plain",icon:h.jsx(tN,{className:"w-6 h-6 text-gray-400 background-gray-200"})}),h.jsx("span",{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-gray-900 text-white p-3 rounded w-64 text-center pointer-events-none",children:e})]})})}function dr({level:e=1,size:t,as:n,className:r,children:i,...s}){const o=n??`h${e}`,a=t??rN(e);return h.jsx(o,{className:`${iN(a)} ${r||""}`,...s,children:i})}function rN(e){return{1:"xxl",2:"xl",3:"lg",4:"md",5:"sm"}[e]}function iN(e){return{xxl:"text-base font-semibold md:text-xl",xl:"text-base md:text-lg font-semibold",lg:"text-base font-semibold",md:"text-sm font-semibold",sm:"text-xs font-semibold",xs:"text-[11px] font-semibold"}[e]}function rh({className:e,children:t,...n}){return h.jsx("span",{className:`text-gray-500 text-sm leading-relaxed ${e??""}`,...n,children:t})}function Qe({as:e,direction:t="flex-row",justify:n="justify-start",align:r="items-stretch",gap:i="gap-3",className:s,children:o,...a}){const u=e||"div",c=`flex ${t} ${n} ${r} ${i}`+(s?` ${s}`:"");return h.jsx(u,{className:c,...a,children:o})}function mm({columns:e,gap:t="gap-0",className:n,children:r,...i}){const s=["grid",t];e.base&&s.push(`grid-cols-${e.base}`),e.sm&&s.push(`sm:grid-cols-${e.sm}`),e.md&&s.push(`md:grid-cols-${e.md}`),e.lg&&s.push(`lg:grid-cols-${e.lg}`),e.xl&&s.push(`xl:grid-cols-${e.xl}`);const o=s.join(" ")+(n?` ${n}`:"");return h.jsx("div",{className:o,...i,children:r})}function T_(){const e=Bp(n=>n.banner),t=Bp(n=>n.closeBanner);return e&&h.jsx(OT,{deleteBanner:t,children:e})}function $p(){return $p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$p.apply(null,arguments)}function bv(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ry(e,t){return ry=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ry(e,t)}function wv(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ry(e,t)}function sN(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function oN(e,t){e.classList?e.classList.add(t):sN(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function Iw(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function aN(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=Iw(e.className,t):e.setAttribute("class",Iw(e.className&&e.className.baseVal||"",t))}const Dw={disabled:!1},Up=nn.createContext(null);var N_=function(t){return t.scrollTop},gd="unmounted",tl="exited",nl="entering",Du="entered",iy="exiting",vo=function(e){wv(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,u;return s.appearStatus=null,r.in?a?(u=tl,s.appearStatus=nl):u=Du:r.unmountOnExit||r.mountOnEnter?u=gd:u=tl,s.state={status:u},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===gd?{status:tl}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==nl&&o!==Du&&(s=nl):(o===nl||o===Du)&&(s=iy)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===nl){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Rf.findDOMNode(this);o&&N_(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===tl&&this.setState({status:gd})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,u=this.props.nodeRef?[a]:[Rf.findDOMNode(this),a],c=u[0],f=u[1],p=this.getTimeouts(),g=a?p.appear:p.enter;if(!i&&!o||Dw.disabled){this.safeSetState({status:Du},function(){s.props.onEntered(c)});return}this.props.onEnter(c,f),this.safeSetState({status:nl},function(){s.props.onEntering(c,f),s.onTransitionEnd(g,function(){s.safeSetState({status:Du},function(){s.props.onEntered(c,f)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Rf.findDOMNode(this);if(!s||Dw.disabled){this.safeSetState({status:tl},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:iy},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:tl},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Rf.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=u[0],f=u[1];this.props.addEndListener(c,f)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===gd)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=bv(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return nn.createElement(Up.Provider,{value:null},typeof o=="function"?o(i,a):nn.cloneElement(nn.Children.only(o),a))},t}(nn.Component);vo.contextType=Up;vo.propTypes={};function gu(){}vo.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:gu,onEntering:gu,onEntered:gu,onExit:gu,onExiting:gu,onExited:gu};vo.UNMOUNTED=gd;vo.EXITED=tl;vo.ENTERING=nl;vo.ENTERED=Du;vo.EXITING=iy;var lN=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return oN(t,r)})},$0=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return aN(t,r)})},ih=function(e){wv(t,e);function t(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(a,u){var c=r.resolveArguments(a,u),f=c[0],p=c[1];r.removeClasses(f,"exit"),r.addClass(f,p?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(a,u)},r.onEntering=function(a,u){var c=r.resolveArguments(a,u),f=c[0],p=c[1],g=p?"appear":"enter";r.addClass(f,g,"active"),r.props.onEntering&&r.props.onEntering(a,u)},r.onEntered=function(a,u){var c=r.resolveArguments(a,u),f=c[0],p=c[1],g=p?"appear":"enter";r.removeClasses(f,g),r.addClass(f,g,"done"),r.props.onEntered&&r.props.onEntered(a,u)},r.onExit=function(a){var u=r.resolveArguments(a),c=u[0];r.removeClasses(c,"appear"),r.removeClasses(c,"enter"),r.addClass(c,"exit","base"),r.props.onExit&&r.props.onExit(a)},r.onExiting=function(a){var u=r.resolveArguments(a),c=u[0];r.addClass(c,"exit","active"),r.props.onExiting&&r.props.onExiting(a)},r.onExited=function(a){var u=r.resolveArguments(a),c=u[0];r.removeClasses(c,"exit"),r.addClass(c,"exit","done"),r.props.onExited&&r.props.onExited(a)},r.resolveArguments=function(a,u){return r.props.nodeRef?[r.props.nodeRef.current,a]:[a,u]},r.getClassNames=function(a){var u=r.props.classNames,c=typeof u=="string",f=c&&u?u+"-":"",p=c?""+f+a:u[a],g=c?p+"-active":u[a+"Active"],x=c?p+"-done":u[a+"Done"];return{baseClassName:p,activeClassName:g,doneClassName:x}},r}var n=t.prototype;return n.addClass=function(i,s,o){var a=this.getClassNames(s)[o+"ClassName"],u=this.getClassNames("enter"),c=u.doneClassName;s==="appear"&&o==="done"&&c&&(a+=" "+c),o==="active"&&i&&N_(i),a&&(this.appliedClasses[s][o]=a,lN(i,a))},n.removeClasses=function(i,s){var o=this.appliedClasses[s],a=o.base,u=o.active,c=o.done;this.appliedClasses[s]={},a&&$0(i,a),u&&$0(i,u),c&&$0(i,c)},n.render=function(){var i=this.props;i.classNames;var s=bv(i,["classNames"]);return nn.createElement(vo,$p({},s,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(nn.Component);ih.defaultProps={classNames:""};ih.propTypes={};function uN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _v(e,t){var n=function(s){return t&&T.isValidElement(s)?t(s):s},r=Object.create(null);return e&&T.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function cN(e,t){e=e||{},t=t||{};function n(f){return f in t?t[f]:e[f]}var r=Object.create(null),i=[];for(var s in e)s in t?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var u in t){if(r[u])for(o=0;o<r[u].length;o++){var c=r[u][o];a[r[u][o]]=n(c)}a[u]=n(u)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function dl(e,t,n){return n[t]!=null?n[t]:e.props[t]}function dN(e,t){return _v(e.children,function(n){return T.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:dl(n,"appear",e),enter:dl(n,"enter",e),exit:dl(n,"exit",e)})})}function hN(e,t,n){var r=_v(e.children),i=cN(t,r);return Object.keys(i).forEach(function(s){var o=i[s];if(T.isValidElement(o)){var a=s in t,u=s in r,c=t[s],f=T.isValidElement(c)&&!c.props.in;u&&(!a||f)?i[s]=T.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:dl(o,"exit",e),enter:dl(o,"enter",e)}):!u&&a&&!f?i[s]=T.cloneElement(o,{in:!1}):u&&a&&T.isValidElement(c)&&(i[s]=T.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:dl(o,"exit",e),enter:dl(o,"enter",e)}))}}),i}var fN=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},pN={component:"div",childFactory:function(t){return t}},gm=function(e){wv(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=s.handleExited.bind(uN(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,u=s.firstRender;return{children:u?dN(i,a):hN(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=_v(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var u=$p({},a.children);return delete u[i.key],{children:u}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=bv(i,["component","childFactory"]),u=this.state.contextValue,c=fN(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?nn.createElement(Up.Provider,{value:u},c):nn.createElement(Up.Provider,{value:u},nn.createElement(s,a,c))},t}(nn.Component);gm.propTypes={};gm.defaultProps=pN;const Hp=Nr(e=>({isActivated:!1,messages:[],addToast:(t,n)=>e(r=>({messages:[...r.messages,{message:t,tag:n}]})),clearToast:t=>e(n=>(typeof t=="number"?n.messages=[...n.messages.slice(0,t),...n.messages.slice(t+1)]:n.messages=n.messages.filter(r=>r.tag!==t),{messages:n.messages}))})),P_=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:10,height:10,viewBox:"0. 0. 11 11",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,20)"},T.createElement("path",{d:"M9.71875,18.28125Q10,18.59375,10,19Q10,19.40625,9.71875,19.71875Q9.40625,20,9,20Q8.59375,20,8.28125,19.71875L5,16.40625L1.71875,19.71875Q1.40625,20,1,20Q0.59375,20,0.28125,19.71875Q0,19.40625,0,19Q0,18.59375,0.28125,18.28125L3.59375,15L0.28125,11.71875Q0,11.40625,0,11Q0,10.59375,0.28125,10.28125Q0.59375,10,1,10Q1.40625,10,1.71875,10.28125L5,13.59375L8.28125,10.28125Q8.59375,10,9,10Q9.40625,10,9.71875,10.28125Q10,10.59375,10,11Q10,11.40625,9.71875,11.71875L6.40625,15L9.71875,18.28125Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),Qp=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17,height:17,viewBox:"-0.1 -1.2 11.985078811645508 17",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,27.999998092651367)"},T.createElement("path",{d:"M5.99254,27.999999046325684Q5.61809,27.999999046325684,5.37737,27.753899046325685Q5.13664,27.507799046325683,5.13664,27.124999046325684L5.13664,26.605499046325683Q3.63883,26.277299046325684,2.70269,25.10159904632568Q1.73981,23.925779046325683,1.71306,22.312499046325684L1.71306,21.792969046325684Q1.68632,19.824219046325684,0.429221,18.320309046325683L0.215247,18.074219046325684Q-0.13246,17.664059046325683,0.0815138,17.144529046325683Q0.322234,16.652339046325682,0.857169,16.624999046325684L11.1279,16.624999046325684Q11.6628,16.652339046325682,11.9036,17.144529046325683Q12.1175,17.664059046325683,11.7698,18.074219046325684L11.5826,18.320309046325683Q10.2988,19.796869046325682,10.272,21.792969046325684L10.272,22.312499046325684Q10.2453,23.925779046325683,9.28239,25.10159904632568Q8.34625,26.277299046325684,6.84843,26.605499046325683L6.84843,27.124999046325684Q6.84843,27.507799046325683,6.60771,27.753899046325685Q6.36699,27.999999046325684,5.99254,27.999999046325684ZM7.19614,14.519530046325684Q7.70433,15.039059046325683,7.70433,15.749999046325684L5.99254,15.749999046325684L4.28075,15.749999046325684Q4.28075,15.039059046325683,4.78894,14.519530046325684Q5.29713,13.999999046325684,5.99254,13.999999046325684Q6.68796,13.999999046325684,7.19614,14.519530046325684Z",fill:"currentColor",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function Sv(){const e=Hp(n=>n.messages),t=Hp(n=>n.clearToast);return h.jsx("div",{className:"fixed top-2 right-2 z-100 max-w-screen",children:h.jsx(gm,{className:"flex gap-2 flex-col-reverse",children:e.slice(-3).map((n,r)=>h.jsx(ih,{timeout:300,classNames:"toast",children:h.jsx(mN,{toast:n,closeToast:()=>t(r)})},`${r} : ${n}`))})})}function mN({toast:e,closeToast:t}){return h.jsxs("div",{className:"flex justify-between items-center gap-2 p-4 ml-2 bg-white text-black rounded-lg shadow-md",children:[h.jsx(Qp,{className:"w-4 h-4 text-blue-500"}),h.jsx("span",{className:"flex-1 text-sm font-bold truncate max-w-72",children:e.message}),h.jsx("button",{"aria-label":"",onClick:t,className:"p-2 rounded-full hover:bg-blue-100",children:h.jsx(P_,{})})]})}const gN=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("g",{clipPath:"url(#clip0_3195_1180)"},T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3.66667C7.3975 3.66667 3.66667 7.3975 3.66667 12C3.66667 16.6025 7.3975 20.3333 12 20.3333C16.6025 20.3333 20.3333 16.6025 20.3333 12C20.3333 7.3975 16.6025 3.66667 12 3.66667ZM2 12C2 6.47708 6.47708 2 12 2C17.5229 2 22 6.47708 22 12C22 17.5229 17.5229 22 12 22C6.47708 22 2 17.5229 2 12Z",fill:"#9CA3AF"}),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.9929 20.9465C9.91235 20.8424 9.91235 19.9154 9.9929 18.1657C9.12985 18.1957 8.58443 18.1359 8.35665 17.9861C8.0154 17.7615 7.67332 17.0695 7.3704 16.5815C7.06749 16.0936 6.39415 16.0165 6.12249 15.9074C5.85082 15.7986 5.78249 15.354 6.87124 15.6899C7.95999 16.0261 8.0129 16.942 8.35665 17.1557C8.7004 17.3699 9.52165 17.2765 9.89374 17.1049C10.2658 16.9332 10.2383 16.2949 10.305 16.042C10.3887 15.8057 10.0929 15.7532 10.0867 15.7515C9.7229 15.7515 7.81415 15.3361 7.28957 13.4878C6.7654 11.639 7.44082 10.4307 7.80124 9.91155C8.04124 9.56488 8.01999 8.82682 7.73749 7.69738C8.76415 7.56571 9.55624 7.88877 10.1137 8.66655C10.1146 8.67071 10.8454 8.23196 12 8.23196C13.1546 8.23196 13.5646 8.58946 13.8808 8.66655C14.1971 8.74363 14.45 7.30571 16.4029 7.69738C15.995 8.49863 15.6537 9.49988 15.9142 9.91155C16.175 10.3228 17.1975 11.6311 16.5696 13.4878C16.1504 14.7253 15.3269 15.4799 14.0992 15.7515C13.9586 15.7965 13.8883 15.869 13.8883 15.969C13.8883 16.119 14.0783 16.1353 14.3525 16.8382C14.5358 17.3065 14.5492 18.6447 14.3925 20.8528C13.9961 20.9536 13.6878 21.0214 13.4675 21.0561C13.0771 21.1174 12.6529 21.152 12.2362 21.1649C11.8196 21.1782 11.675 21.177 11.0987 21.1232C10.7266 21.0892 10.3571 21.0302 9.9929 20.9465Z",fill:"#9CA3AF"}))),yN=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M7.8 2H16.2C19.4 2 22 4.6 22 7.8V16.2C22 17.7383 21.3889 19.2135 20.3012 20.3012C19.2135 21.3889 17.7383 22 16.2 22H7.8C4.6 22 2 19.4 2 16.2V7.8C2 6.26174 2.61107 4.78649 3.69878 3.69878C4.78649 2.61107 6.26174 2 7.8 2ZM7.6 4C6.64522 4 5.72955 4.37928 5.05442 5.05442C4.37928 5.72955 4 6.64522 4 7.6V16.4C4 18.39 5.61 20 7.6 20H16.4C17.3548 20 18.2705 19.6207 18.9456 18.9456C19.6207 18.2705 20 17.3548 20 16.4V7.6C20 5.61 18.39 4 16.4 4H7.6ZM17.25 5.5C17.5815 5.5 17.8995 5.6317 18.1339 5.86612C18.3683 6.10054 18.5 6.41848 18.5 6.75C18.5 7.08152 18.3683 7.39946 18.1339 7.63388C17.8995 7.8683 17.5815 8 17.25 8C16.9185 8 16.6005 7.8683 16.3661 7.63388C16.1317 7.39946 16 7.08152 16 6.75C16 6.41848 16.1317 6.10054 16.3661 5.86612C16.6005 5.6317 16.9185 5.5 17.25 5.5ZM12 7C13.3261 7 14.5979 7.52678 15.5355 8.46447C16.4732 9.40215 17 10.6739 17 12C17 13.3261 16.4732 14.5979 15.5355 15.5355C14.5979 16.4732 13.3261 17 12 17C10.6739 17 9.40215 16.4732 8.46447 15.5355C7.52678 14.5979 7 13.3261 7 12C7 10.6739 7.52678 9.40215 8.46447 8.46447C9.40215 7.52678 10.6739 7 12 7ZM12 9C11.2044 9 10.4413 9.31607 9.87868 9.87868C9.31607 10.4413 9 11.2044 9 12C9 12.7956 9.31607 13.5587 9.87868 14.1213C10.4413 14.6839 11.2044 15 12 15C12.7956 15 13.5587 14.6839 14.1213 14.1213C14.6839 13.5587 15 12.7956 15 12C15 11.2044 14.6839 10.4413 14.1213 9.87868C13.5587 9.31607 12.7956 9 12 9Z",fill:"#9CA3AF"})),vN=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M5.679 18.123C3.093 16.566 1.5 14.112 1.5 11.405C1.501 6.701 6.249 3 12.001 3C17.753 3 22.501 6.701 22.501 11.405C22.501 16.109 17.753 19.81 12.001 19.81C11.559 19.81 11.1197 19.7883 10.683 19.745L6.918 22.203C6.303 22.529 5.961 22.628 5.433 22.269C4.813 21.845 4.837 21.377 5.051 20.709L5.679 18.123ZM3.5 11.405C3.5 13.537 4.918 15.528 7.281 16.725L7.987 17.084L7.801 17.854L7.4 19.502L10.2 17.672L10.565 17.718C11.039 17.7793 11.5173 17.81 12 17.81C16.741 17.81 20.5 14.88 20.5 11.405C20.5 7.93 16.742 5 12.001 5C7.26 5 3.5 7.93 3.5 11.405ZM17.908 11.059L19.422 13.214C19.4577 13.2648 19.483 13.322 19.4965 13.3826C19.51 13.4431 19.5115 13.5057 19.5008 13.5668C19.4901 13.6279 19.4675 13.6863 19.4342 13.7387C19.401 13.791 19.3578 13.8363 19.307 13.872C19.2562 13.9077 19.199 13.933 19.1384 13.9465C19.0779 13.96 19.0153 13.9615 18.9542 13.9508C18.8931 13.9401 18.8347 13.9175 18.7823 13.8842C18.73 13.851 18.6847 13.8078 18.649 13.757L17.221 11.724L16.794 12.137V13.5C16.794 13.6252 16.7443 13.7452 16.6558 13.8338C16.5672 13.9223 16.4472 13.972 16.322 13.972C16.1968 13.972 16.0768 13.9223 15.9882 13.8338C15.8997 13.7452 15.85 13.6252 15.85 13.5V12.061C15.8334 11.9879 15.8334 11.9121 15.85 11.839V9.282C15.85 9.15682 15.8997 9.03676 15.9882 8.94825C16.0768 8.85973 16.1968 8.81 16.322 8.81C16.4472 8.81 16.5672 8.85973 16.6558 8.94825C16.7443 9.03676 16.794 9.15682 16.794 9.282V10.824L18.722 8.958C18.8128 8.87613 18.9319 8.83271 19.0541 8.83689C19.1763 8.84107 19.2922 8.89252 19.3772 8.98041C19.4622 9.06829 19.5098 9.18575 19.51 9.30804C19.5101 9.43033 19.4628 9.54791 19.378 9.636L17.908 11.059ZM14.95 12.984C15.0752 12.984 15.1952 13.0337 15.2838 13.1222C15.3723 13.2108 15.422 13.3308 15.422 13.456C15.422 13.5812 15.3723 13.7012 15.2838 13.7898C15.1952 13.8783 15.0752 13.928 14.95 13.928H13.018C12.956 13.9281 12.8946 13.916 12.8374 13.8923C12.7801 13.8686 12.7281 13.8339 12.6843 13.79C12.6405 13.7461 12.6059 13.694 12.5823 13.6367C12.5587 13.5794 12.5467 13.518 12.547 13.456V9.297C12.5441 9.23325 12.5541 9.16958 12.5765 9.10981C12.5988 9.05005 12.6331 8.99544 12.6772 8.9493C12.7212 8.90315 12.7742 8.86641 12.8329 8.84132C12.8915 8.81622 12.9547 8.80328 13.0185 8.80328C13.0823 8.80328 13.1455 8.81622 13.2041 8.84132C13.2628 8.86641 13.3158 8.90315 13.3598 8.9493C13.4039 8.99544 13.4382 9.05005 13.4605 9.10981C13.4829 9.16958 13.4929 9.23325 13.49 9.297V12.984H14.95ZM9.093 11.893H10.427L9.789 10.185L9.093 11.893ZM11.616 12.38L11.961 13.305C11.9848 13.3635 11.9967 13.4262 11.9958 13.4893C11.995 13.5525 11.9815 13.6148 11.9561 13.6727C11.9308 13.7305 11.8941 13.7827 11.8482 13.8261C11.8023 13.8694 11.7481 13.9032 11.689 13.9253C11.6298 13.9474 11.5668 13.9574 11.5037 13.9546C11.4406 13.9519 11.3787 13.9366 11.3216 13.9095C11.2645 13.8825 11.2135 13.8442 11.1715 13.7971C11.1295 13.7499 11.0973 13.6948 11.077 13.635L10.779 12.836H8.709L8.377 13.649C8.35356 13.7064 8.31904 13.7586 8.27543 13.8026C8.23181 13.8467 8.17994 13.8817 8.12279 13.9057C8.06563 13.9297 8.00431 13.9422 7.94232 13.9425C7.88033 13.9428 7.81889 13.9309 7.7615 13.9075C7.70411 13.8841 7.6519 13.8495 7.60785 13.8059C7.56381 13.7623 7.52878 13.7104 7.50478 13.6533C7.48077 13.5961 7.46826 13.5348 7.46796 13.4728C7.46765 13.4108 7.47956 13.3494 7.503 13.292L9.165 9.217C9.21605 9.08531 9.30573 8.97215 9.42227 8.89237C9.53882 8.81259 9.67677 8.76994 9.818 8.77C9.95833 8.7758 10.0936 8.8243 10.2056 8.90899C10.3176 8.99369 10.4012 9.11057 10.445 9.244L11.491 12.044C11.5723 12.1308 11.6177 12.2451 11.618 12.364L11.616 12.38ZM8.294 9.302C8.294 9.562 8.084 9.774 7.823 9.774H6.683V13.51C6.683 13.6353 6.63322 13.7555 6.54461 13.8441C6.456 13.9327 6.33581 13.9825 6.2105 13.9825C6.08518 13.9825 5.965 13.9327 5.87639 13.8441C5.78778 13.7555 5.738 13.6353 5.738 13.51V9.774H4.578C4.45282 9.774 4.33276 9.72427 4.24425 9.63575C4.15573 9.54724 4.106 9.42718 4.106 9.302C4.106 9.17682 4.15573 9.05676 4.24425 8.96825C4.33276 8.87973 4.45282 8.83 4.578 8.83H7.823C8.083 8.83 8.294 9.041 8.294 9.302Z",fill:"#9CA3AF"})),xN=[{title:"",children:[{title:"ALLCLL ",href:"/about"},{title:"  ",href:"/faq"},{title:"  ",href:"https://forms.gle/bCDTVujEHunnvHe88"},{title:"allcllclla@google.com"}]}],bN=[{icon:h.jsx(gN,{className:"w-8 h-8 m-2"}),title:" github",href:"https://github.com/allcll"},{icon:h.jsx(vN,{className:"w-8 h-8 m-2"}),title:" ",href:"https://open.kakao.com/o/g3MztXfh"},{icon:h.jsx(yN,{className:"w-8 h-8 m-2"}),title:" instagram",href:"https://www.instagram.com/sejong_allcll"}];function Cv(){return h.jsxs("footer",{className:"bg-white text-center text-sm text-gray-500",children:[h.jsxs("div",{className:"mx-auto max-w-7xl px-4 md:px-16 py-12 grid md:grid-cols-3 gap-6 text-center md:text-left",children:[h.jsxs("div",{className:"mx-auto md:mx-0",children:[h.jsxs("div",{className:"flex items-center mb-2 h-fit justify-center md:justify-start",children:[h.jsx("img",{src:"/ci.svg",className:"w-6 h-6 mr-2",alt:"ci"}),h.jsx("img",{src:"/logo-name.svg",alt:"logo",className:"h-5"})]}),h.jsx("ul",{className:"flex items-center",children:bN.map(({icon:e,title:t,href:n})=>h.jsx("li",{children:h.jsx("a",{href:n,className:"h-fit rounded-md hover:bg-gray-200","aria-label":t,title:t,children:e})},t))})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold mb-4",children:""}),h.jsx("ul",{children:w_.map(({title:e,path:t,end:n})=>h.jsx("li",{className:"mb-1",children:h.jsx(kl,{to:t,end:n,className:"hover:text-blue-500 hover:underline hover:font-bold",children:e})},e))})]}),xN.map((e,t)=>h.jsxs("div",{className:"mb-4",children:[h.jsx("h3",{className:"font-bold mb-4",children:e.title}),h.jsx("ul",{children:e.children.map((n,r)=>h.jsx("li",{className:"mb-1",children:n.href?n.href.startsWith("http")?h.jsx("a",{className:"hover:text-blue-500 hover:underline hover:font-bold",href:n.href,target:"_blank",children:n.title}):h.jsx(Er,{to:n.href,className:"hover:text-blue-500 hover:underline hover:font-bold",children:n.title}):h.jsx("p",{children:n.title})},r))})]},t))]}),h.jsx("p",{className:"pb-12",children:" 2025 ALLCLL. All rights reserved."})]})}const wN=1.5*1e3,O_=5,Fr=Nr(e=>({needCount:0,alwaysReload:!1,forceReloadNumber:0,errorCount:0,isError:!1,isPending:!0,addNeedCount:()=>e(t=>({needCount:t.needCount+1})),deleteNeedCount:()=>e(t=>({needCount:Math.max(0,t.needCount-1)})),setAlwaysReload:t=>e({alwaysReload:t}),setForceReload:()=>e(t=>({forceReloadNumber:t.forceReloadNumber+1,errorCount:0,isError:!1})),setError:()=>e(({errorCount:t,isPending:n})=>({errorCount:t+1,isError:t+1>=O_,isPending:n||t>1})),resetError:()=>e({errorCount:0,isError:!1,isPending:!1})}));function _N(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var s;const o=u=>u===null?null:JSON.parse(u,void 0),a=(s=n.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const sy=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return sy(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return sy(r)(n)}}}},SN=(e,t)=>(n,r,i)=>{let s={storage:_N(()=>localStorage),partialize:S=>S,version:0,merge:(S,k)=>({...k,...S}),...t},o=!1;const a=new Set,u=new Set;let c=s.storage;if(!c)return e((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...S)},r,i);const f=()=>{const S=s.partialize({...r()});return c.setItem(s.name,{state:S,version:s.version})},p=i.setState;i.setState=(S,k)=>{p(S,k),f()};const g=e((...S)=>{n(...S),f()},r,i);i.getInitialState=()=>g;let x;const w=()=>{var S,k;if(!c)return;o=!1,a.forEach(L=>{var R;return L((R=r())!=null?R:g)});const E=((k=s.onRehydrateStorage)==null?void 0:k.call(s,(S=r())!=null?S:g))||void 0;return sy(c.getItem.bind(c))(s.name).then(L=>{if(L)if(typeof L.version=="number"&&L.version!==s.version){if(s.migrate){const R=s.migrate(L.state,L.version);return R instanceof Promise?R.then(z=>[!0,z]):[!0,R]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,L.state];return[!1,void 0]}).then(L=>{var R;const[z,U]=L;if(x=s.merge(U,(R=r())!=null?R:g),n(x,!0),z)return f()}).then(()=>{E?.(x,void 0),x=r(),o=!0,u.forEach(L=>L(x))}).catch(L=>{E?.(void 0,L)})};return i.persist={setOptions:S=>{s={...s,...S},S.storage&&(c=S.storage)},clearStorage:()=>{c?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:S=>(a.add(S),()=>{a.delete(S)}),onFinishHydration:S=>(u.add(S),()=>{u.delete(S)})},s.skipHydration||w(),x||g},L_=SN,CN=()=>{if(!(typeof window>"u"||typeof navigator>"u"))return navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate},ed=CN(),kv={canNotify(){return!!ed},isGranted(){return this.canNotify()},requestPermission(e){this.isGranted()?e?.("granted"):e?.("denied")},getDeniedMessage(){return this.canNotify()?[]:["     ."]},show(e,t){const n=Bd(ta.VIBRATE);ed&&n&&ed.call(navigator,[200])},close(e){ed&&ed.call(navigator,0)}};var ii=(e=>(e[e.NONE=0]="NONE",e[e.BROWSER=1]="BROWSER",e[e.TOAST=2]="TOAST",e[e.BOTH=3]="BOTH",e))(ii||{}),ta=(e=>(e[e.NONE=0]="NONE",e[e.VIBRATE=1]="VIBRATE",e[e.SOUND=2]="SOUND",e[e.ALL=3]="ALL",e))(ta||{});const kN=()=>/Mobi|Android/i.test(navigator.userAgent),Fw=()=>{const e="Notification"in window,t=kN();return 1*Number(e)+2*Number(t)},Bw=()=>{const e=kv.canNotify();return 1*Number(e)+2},Ms=Nr()(L_(e=>({alarmType:Fw(),subAlarmType:Bw(),saveSettings:t=>e(n=>({...n,...t})),resetSettings:()=>e(()=>({alarmType:Fw(),subAlarmType:Bw()}))}),{name:"AlarmSettings",partialize:e=>({alarmType:e.alarmType,subAlarmType:e.subAlarmType})}));function oy(e){return!!(Ms.getState().alarmType&e)}function Bd(e){return!!(Ms.getState().subAlarmType&e)}const ca=Nr(e=>({isOpen:!1,isPermitted:!1,open:()=>e({isOpen:!0}),close:()=>e({isOpen:!1}),setPermitted:t=>e({isPermitted:t})}));function jN(){return h.jsxs(h.Fragment,{children:["  ? ",h.jsx(Er,{to:"/faq#0",className:"text-blue-500 underline hover:text-blue-600",children:" "})]})}const Mf=()=>Notification??window.Notification,zi={canNotify(){return"Notification"in window||!!Mf()},isGranted(){return zi.canNotify()&&Mf().permission==="granted"},requestPermission(e){const t=Mf();if(!zi.canNotify()){alert("      .   ");return}if(!zi.isGranted()){t.requestPermission().then(n=>{e&&e(n),ca.getState().setPermitted(n==="granted")});return}e&&e(t.permission)},getDeniedMessage(){return zi.canNotify()?zi.isGranted()?[]:["   .    "]:["     "]},show(e,t){const n=zi.canNotify(),r=oy(ii.BROWSER),i=Bp.getState().setBanner,s=Mf();n&&r&&s.permission==="granted"&&(TN(i),navigator.serviceWorker.ready.then(function(o){o.showNotification(e,{badge:"/ci.svg",tag:t}).then()}))},close(e){!zi.canNotify()||!zi.isGranted()||navigator.serviceWorker.ready.then(function(t){t.getNotifications({tag:e}).then(function(n){n.forEach(function(r){r.close()})})})}},EN=1e3*60*60*24;function TN(e){const t="alarm-check",n=localStorage.getItem(t);n&&Date.now()-Number(n)<100*EN||setTimeout(()=>{e(jN(),()=>{localStorage.setItem(t,Date.now().toString())})},5e3)}const ay={canNotify(){return!0},isGranted(){return!0},requestPermission(e){},getDeniedMessage(){return[]},show(e,t){const n=Hp.getState().addToast;n&&n(e,t)},close(e){const t=Hp.getState().clearToast;t(e)}},NN="/notification.mp3";let fs=null;const PN=()=>{typeof Audio<"u"&&!fs&&(fs=new Audio(NN),fs.preload="auto",fs.volume=1,fs.load())};PN();const ON={canNotify(){return typeof Audio<"u"},isGranted(){return this.canNotify()},requestPermission(e){this.isGranted()?e?.("granted"):e?.("denied")},getDeniedMessage(){return this.canNotify()?[]:["     ."]},show(e,t){this.canNotify()&&fs&&(fs.currentTime=0,fs.play().catch(n=>{console.warn("Failed to play notification sound:",n)}))},close(e){fs&&(fs.pause(),fs.currentTime=0)}},ym="https://dev.allcll.kr";async function vm(e,t){return await fetch(ym+e,{credentials:"include",...t})}async function xo(e,t){const n=await fetch(ym+e,{credentials:"include",...t,headers:{"Content-Type":"application/json",...t?.headers}});if(!n.ok)throw new Error(await n.text());return await n.json()}async function LN(e,t,n){const r=await fetch(ym+e,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"},body:t?JSON.stringify(t):void 0,...n});if(!r.ok)throw new Error(await r.text());return r.status===204?null:await r.json()}function RN(e,t){return new EventSource(ym+e,{withCredentials:!0,...t})}async function jv(e,t){const n=await fetch(e,{credentials:"include",...t});if(!n.ok)throw new Error(await n.text());return await n.json()}const xm={subjectId:-1,subjectName:"",subjectCode:"",classCode:"",professorName:"",deptCd:"",manageDeptNm:"",studentYear:"",lesnTime:"",lesnRoom:"",tmNum:"",remark:null,curiTypeCdNm:"",curiLangNm:null,isDeleted:!0},AN=async()=>await xo("/api/subjects");function qi(){return xs({queryKey:["subjects"],queryFn:AN,staleTime:1/0,select:e=>e.subjectResponses})}function MN(e){return e.getQueryData(["subjects"])?.subjectResponses??[]}let zw=!1;function yu(){const e=[],t=oy(ii.BROWSER),n=oy(ii.TOAST),r=Bd(ta.VIBRATE),i=Bd(ta.SOUND);return t&&e.push(zi),n&&e.push(ay),r&&e.push(kv),i&&e.push(ON),e}const Si={canNotify(){return yu().every(e=>e.canNotify())},isGranted(){const e=yu().every(t=>t.isGranted());return ca.getState().setPermitted(e),e},requestPermission(e){Si.isGranted()||(yu().forEach(t=>t.requestPermission(e)),ca.getState().open())},getDeniedMessage(){return yu().flatMap(e=>e.getDeniedMessage())},show(e,t){Ms.getState().alarmType!==ii.NONE&&yu().forEach(r=>r.show(e,t))},close(e){yu().forEach(t=>t.close(e))}};function IN(e,t,n){const{alwaysReload:r}=Fr.getState();if(!(!e||!t||!r)){for(const i of t)if(e.some(o=>o.subjectId===i.subjectId&&o.seatCount===0&&i.seatCount>0)){const o=DN(n,i.subjectId);if(!o){Si.show("unknown subject  ");return}Si.show(`${o.subjectCode}-${o.classCode} ${o.subjectName}  `)}}}function DN(e,t){return MN(e).find(r=>r.subjectId===t)}let If=null,$w=1;function Uw(e){const t="global-notification_"+$w,n="global-notification_"+ ++$w;If&&(clearTimeout(If),Si.close(t),If=null),Si.show(e,n),If=setTimeout(()=>Si.close(n),3e3)}function FN(){const e=Fr(i=>i.alwaysReload),t=Fr(i=>i.setAlwaysReload),n=e;return T.useEffect(()=>{zw||(Si.isGranted()&&(Uw("  .     "),t(!0)),zw=!0)},[]),{isAlarm:n,changeAlarm:()=>{if(!n){if(Ms.getState().alarmType===ii.NONE){if(!confirm("   ?"))return;Ms.getState().resetSettings()}Si.requestPermission()}const i=n?"  ":"  ";t(!n),Uw(i)}}}var Ev=(e=>(e.IDLE="idle",e.LIVE="live",e))(Ev||{});const BN=3e3;let Df=null;const Uu=Nr(e=>({lastUpdate:new Date,sseState:"live",updated:()=>{e({lastUpdate:new Date,sseState:"live"}),Df&&clearInterval(Df),Df=setTimeout(()=>{e({sseState:"idle"}),Df=null},BN)}}));var bm=(e=>(e.NON_MAJOR="nonMajorSeats",e.MAJOR="majorSeats",e.PINNED="pinSeats",e))(bm||{});let Ff=!1;const zN=()=>{const e=ji(),t=Fr(u=>u.needCount),n=Fr(u=>u.alwaysReload),r=Fr(u=>u.forceReloadNumber),i=Fr(u=>u.errorCount),s=Fr(u=>u.setError),o=Fr(u=>u.resetError),a=Fr(u=>u.isError);T.useEffect(()=>{const u=n||t>0;Ff||!u||i>=O_||(Ff=!0,$N(e,o).then(()=>{o(),Ff=!1}).catch(()=>{Ff=!1,i===0?s():setTimeout(s,wN)}))},[n,t,e,s,r,o,i]),T.useEffect(()=>{a&&Si.show(" .  .")},[a])},$N=(e,t)=>new Promise((n,r)=>{const i=RN("/api/connect");return i.addEventListener("nonMajorSeats",s=>{const o=JSON.parse(s.data);if(!o)return;const a=o.seatResponses??[];e.setQueryData(["nonMajorSeats"],(u=[])=>Hw(u,a)),Uu.getState().updated()}),i.addEventListener("majorSeats",s=>{const o=JSON.parse(s.data);if(!o)return;const a=o.seatResponses??[];e.setQueryData(["majorSeats"],(u=[])=>Hw(u,a)),Uu.getState().updated()}),i.addEventListener("pinSeats",s=>{const o=JSON.parse(s.data);if(!o)return;const a=o.seatResponses??[];e.setQueryData(["pinSeats"],(u=[])=>{const c=UN(u,a);return IN(u,c,e),c}),Uu.getState().updated()}),i.onopen=()=>{t(),Uu.getState().updated()},i.onerror=s=>{i.close(),r(new Error("SSE connection error: "+(s.type??"Unknown error")))},()=>{i.close(),n("SSE connection closed")}}),Tv=e=>{const t=ji(),n=Fr(u=>u.addNeedCount),r=Fr(u=>u.deleteNeedCount),i=Fr(u=>u.isPending),s=Fr(u=>u.isError),o=Fr(u=>u.setForceReload);return T.useEffect(()=>{const u=()=>{document.visibilityState==="visible"?n():r()};return n(),document.addEventListener("visibilitychange",u),()=>{r(),document.removeEventListener("visibilitychange",u)}},[n,r]),{...xs({queryKey:[e],queryFn:()=>Promise.resolve(t.getQueryData([e])??[])}),isPending:i,isError:s,refetch:o}};function Hw(e,t){const n=[];for(const r of t){const i=e.find(o=>o.subjectId===r.subjectId);!i||i.seatCount!==r.seatCount||i.queryTime!==r.queryTime?n.push(r):n.push(i)}return n}function UN(e,t){const n=new Set;[...e,...t].forEach(i=>{n.add(i.subjectId)});const r=[];return n.forEach(i=>{const s=e.find(u=>u.subjectId===i),o=t.find(u=>u.subjectId===i);o&&(!s||s.queryTime!==o.queryTime||s.seatCount!==o.seatCount)?r.push(o):s&&r.push(s)}),r}const Qw={idx:-1,key:""};function Nv(){const e=Wi(),t=T.useRef(Qw);T.useEffect(()=>{const n=window.history.state;(!n||n.idx>=t.current.idx)&&window.scrollTo(0,0),t.current=n??Qw},[e.pathname]),zN()}function Vw(){return Nv(),h.jsxs(h.Fragment,{children:[h.jsx(Xn,{children:h.jsx("title",{children:"ALLCLL"})}),h.jsx(Sv,{}),h.jsx(xv,{}),h.jsx(T_,{}),h.jsx(uv,{}),h.jsx(Cv,{})]})}function HN(e){const t=xs({queryKey:["serviceSemester"],queryFn:QN,staleTime:1/0,select:r=>r?{...r,services:r.services.map(VN)}:null});if(!e||!t.data)return t;const n=t.data.services.find(r=>r.id===e);return{...t,data:{code:t.data.code,semester:t.data.semester,service:n}}}const QN=async()=>Pv,VN=e=>{const t=new Date,n=new Date(e.startDate),r=new Date(e.endDate);n.setHours(0,0,0,0),r.setHours(23,59,59,999);const i=n<=t&&t<=r;return{id:e.id,startDate:n,endDate:r,withinPeriod:i,startDateStr:e.startDate,endDateStr:e.endDate,message:e.message}},R_=["2025-2","2025-WINTER"],Pv={code:"WINTER-2025",semester:"2025-WINTER",services:[{id:"timetable",startDate:"2025-07-18",endDate:"2099-12-31",message:null},{id:"baskets",startDate:"2025-07-18",endDate:"2099-12-31",message:null},{id:"simulation",startDate:"2025-07-18",endDate:"2099-12-31",message:null},{id:"live",startDate:"2025-11-29",endDate:"2025-12-13",message:null},{id:"preSeat",startDate:"2025-08-16",endDate:"2025-09-30",message:null}]},WN=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17.971202850341797,height:16.003124237060547,viewBox:"0 0 17.971202850341797 16.003124237060547",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,32.006248474121094)"},T.createElement("path",{d:"M17.9688,24.003124237060547Q17.9376,23.596874237060547,17.6568,23.315624237060547Q17.3761,23.034374237060547,16.9705,23.003124237060547L15.9723,23.003124237060547L16.0035,18.003124237060547Q15.9723,17.878124237060547,15.9723,17.753124237060547L15.9723,17.253124237060547Q15.9723,16.721874237060547,15.5979,16.378124237060547Q15.2548,16.003124237060547,14.7244,16.003124237060547L14.2253,16.003124237060547Q14.1629,16.003124237060547,14.1317,16.003124237060547Q14.0693,16.003124237060547,14.0069,16.003124237060547L12.9775,16.003124237060547L12.2288,16.003124237060547Q11.6984,16.003124237060547,11.3553,16.378124237060547Q10.9809,16.721874237060547,10.9809,17.253124237060547L10.9809,18.003124237060547L10.9809,20.003124237060547Q10.9809,20.440624237060547,10.7002,20.721874237060547Q10.4194,21.003124237060547,9.98267,21.003124237060547L7.98614,21.003124237060547Q7.54939,21.003124237060547,7.26863,20.721874237060547Q6.98787,20.440624237060547,6.98787,20.003124237060547L6.98787,18.003124237060547L6.98787,17.253124237060547Q6.98787,16.721874237060547,6.61352,16.378124237060547Q6.27036,16.003124237060547,5.74003,16.003124237060547L4.99133,16.003124237060547L3.99307,16.003124237060547Q3.96187,16.003124237060547,3.93068,16.003124237060547Q3.89948,16.003124237060547,3.86828,16.003124237060547Q3.80589,16.003124237060547,3.7435,16.003124237060547L3.24437,16.003124237060547Q2.71404,16.003124237060547,2.37088,16.378124237060547Q1.99653,16.721874237060547,1.99653,17.253124237060547L1.99653,20.753124237060547Q1.99653,20.784374237060547,1.99653,20.846874237060547L1.99653,23.003124237060547L0.998267,23.003124237060547Q0.561525,23.034374237060547,0.280763,23.315624237060547Q0,23.596874237060547,0,24.034374237060547Q0,24.440624237060547,0.311958,24.784374237060547L8.29809,31.753124237060547Q8.64125,32.034324237060545,8.9844,32.00312423706055Q9.35875,32.00312423706055,9.63952,31.78442423706055L17.6257,24.753124237060547Q18,24.440624237060547,17.9688,24.003124237060547Z",fill:"#FFFFFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function qN({data:e}){const t=e.service?.endDate&&e.service.endDate<new Date;return h.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 px-4",children:h.jsxs("main",{className:"text-center",children:[h.jsx("h1",{className:"text-3xl mb-4 font-bold text-gray-900",children:t?"  ":" "}),h.jsxs("p",{className:"text-gray-600 mt-2",children:["    ",h.jsx("br",{}),"      ."]}),h.jsxs("div",{className:"mt-6 bg-white shadow-lg rounded-lg p-6 w-full max-w-md",children:[t?h.jsxs(h.Fragment,{children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[e.semester,"  "]}),h.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"     "}),h.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"    "})]}):h.jsxs(h.Fragment,{children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"   "}),h.jsxs("p",{className:"text-gray-600 mt-1",children:[e.semester," "]}),h.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[e.service?.startDateStr," ~ ",e.service?.endDateStr]})]}),h.jsx("hr",{className:"my-4 border-gray-200"}),h.jsx("h3",{className:"text-md font-semibold text-gray-900",children:""}),h.jsx("p",{className:"text-gray-600 flex items-center justify-center gap-2 mt-2",children:"allcllclla@google.com"}),h.jsx("a",{className:"text-gray-600 flex items-center justify-center gap-2 mt-1 hover:text-blue-500 hover:underline",href:"https://forms.gle/bCDTVujEHunnvHe88",target:"_blank",children:"  "}),h.jsx("a",{className:"text-gray-600 flex items-center justify-center gap-2 mt-1 hover:text-blue-500 hover:underline",href:"https://open.kakao.com/o/g3MztXfh",target:"_blank",children:" "})]}),h.jsx("div",{className:"flex flex-col items-center justify-center",children:h.jsxs(Er,{to:"/",className:"flex items-center gap-2 mt-6 px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 cursor-pointer",children:[h.jsx(WN,{className:"w-4 h-4"}),"  "]})})]})})}function A_({serviceId:e,children:t}){const{data:n,error:r}=HN(e);return r&&console.error("Semester service error:",r),!n||!("service"in n)||!n.service||n.service.withinPeriod?t:h.jsx(qN,{data:n})}function Ww({serviceId:e}){return Nv(),h.jsxs(h.Fragment,{children:[h.jsx(Sv,{}),h.jsx(xv,{}),h.jsxs(A_,{serviceId:e,children:[h.jsx(T_,{}),h.jsx(uv,{})]}),h.jsx(Cv,{})]})}const KN=[{name:"  ",children:[{name:"  ",children:[{name:"",path:"/simulation"},{name:" ",path:"/simulation/logs"},{name:" ",path:"/simulation/admin"},{name:" ",path:"#"},{name:"/ ",path:"#"},{name:"/",path:"#"},{name:"(,)",path:"#"}]}]}],ly=[{title:"",urlPath:"/simulation"},{title:" ",urlPath:"/simulation/logs"},{title:" ",urlPath:"/simulation/logs/"},{title:" ",urlPath:"/simulation/interest"},{title:" ",urlPath:"/simulation/admin"}];({...ly[0],realUrl:ly[0].urlPath});function M_({className:e,essential:t,disabled:n,children:r}){const s=(t?"relative inline-block w-autobefore:content-[''] before:absolute before:top-0 before:left-0 before:w-0 before:h-0 before:z-5 "+(n?"before:border-t-[8px] before:border-t-gray-400 before:border-r-[8px] before:border-r-transparent ":"before:border-t-[8px] before:border-t-red-500 before:border-r-[8px] before:border-r-transparent "):"")+e;return h.jsx("div",{className:s,children:r})}function GN({type:e="text",className:t="",essential:n=!1,disabled:r=!1,...i}){return h.jsx(M_,{className:t,essential:n,disabled:r,children:h.jsx("input",{type:e,className:"relative border-1 border-gray-300 px-2 text-xs w-max h-6 focus:outline-none focus:rounded focus:ring focus:border-gray-800 disabled:bg-gray-100 disabled:cursor-not-allowed ",disabled:r,...i})})}function YN({variant:e="primary",size:t="md",className:n="",children:r,...i}){const s="flex flex-row gap-1 cursor-pointer rounded",o=XN(e),a=JN(t),u=`${s} ${o} ${a} ${n}`.trim();return h.jsx("button",{className:u,...i,children:r})}function XN(e){switch(e){case"primary":return"bg-blue-500 text-white hover:bg-blue-600";case"secondary":return"bg-gray-500 text-white hover:bg-gray-600";case"dark":return"bg-gray-700 text-white hover:bg-gray-900";case"cancel":return"bg-white border border-gray-700 hover:bg-gray-100";case"danger":return"bg-red-500 text-white hover:bg-red-600";default:return""}}function JN(e){switch(e){case"sm":return"px-2 py-0.5 text-xs rounded-xs";case"md":return"px-3 py-2 text-sm";case"lg":return"px-4 py-3 text-base";default:return""}}function ZN({className:e="",essential:t=!1,children:n,...r}){const i="px-2 h-6 text-gray-400 text-xs border border-gray-300 disabled:bg-gray-100 disabled:cursor-not-allowed "+e;return h.jsx(M_,{className:e,essential:t,disabled:r.disabled??!1,children:h.jsx("select",{className:i,...r,children:n})})}function eP({children:e,onBackdropClick:t,preventAutoFocus:n,noBorder:r}){const i=T.useRef(null),s=r?"":"border-[3px] border-slate-800 ";T.useEffect(()=>(document.body.style.overflow="hidden",n||i.current?.focus(),()=>{document.body.style.overflow=""}),[n]);const o=a=>{a.stopPropagation(),t&&t()};return h.jsxs("div",{className:"flex items-center justify-center fixed inset-0 w-full h-full z-100",role:"none",ref:i,tabIndex:-1,onClick:o,children:[h.jsx("div",{className:"fixed inset-0 justify-center opacity-30 bg-gray-300 border-b-2 border-gray-400"}),h.jsx("div",{className:"fixed inset-x-0 top-16 bottom-0 flex items-center justify-center",tabIndex:-1,children:h.jsx("div",{className:s,children:h.jsx("div",{className:"w-[95%] sm:w-fit bg-white max-h-[90%] overflow-y-auto",role:"dialog",tabIndex:-1,onClick:a=>a.stopPropagation(),children:e})})})]})}const I_=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e},T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px",d:"M4 20L20 4M4 4l16 16"}));function tP({title:e,onClose:t=()=>{}}){return h.jsxs("div",{className:"flex justify-between items-center p-3 border-b border-gray-200 ",children:[h.jsx("h2",{className:"font-semibold sm:text-lg text-sm text-gray-900",children:e}),h.jsx("button",{className:"w-5 h-5 text-gray-500 hover:text-gray-700 cursor-pointer",onClick:t,title:"",tabIndex:-1,children:h.jsx(I_,{className:"w-full h-full"})})]})}function nP({variant:e="primary",className:t="",children:n,...r}){const i="px-4 h-6 text-xs flex items-center gap-1 rounded-xs cursor-pointer",s=rP(e),o=`${i} ${s} ${t}`.trim();return h.jsx("button",{className:o,...r,children:n})}function rP(e){switch(e){case"primary":return"bg-blue-500 text-white hover:bg-blue-600";case"secondary":return"bg-gray-500 text-white hover:bg-gray-600";case"cancel":return"bg-white border border-gray-700 hover:bg-blue-50 hover:border-blue-500";case"danger":return"bg-red-500 text-white hover:bg-red-600";default:return""}}function iP({children:e,className:t="",...n}){const r="flex justify-end gap-4 w-full border-3 border-white "+t;return h.jsx("div",{className:r,...n,children:e})}const sP=Object.assign(eP,{Header:tP,Button:nP,ButtonContainer:iP});function oP({columns:e}){return h.jsx("thead",{className:"bg-gray-100",children:h.jsx("tr",{className:"text-nowrap",children:e.map(t=>h.jsx("th",{className:"border border-gray-300 px-2 py-1",children:t.header},String(t.header)))})})}function aP({columns:e,data:t,keyInfo:n}){return h.jsx("tbody",{children:t.map((r,i)=>{const s=typeof n=="function"?n(r):r[n];return h.jsx("tr",{children:e.map(o=>h.jsx("td",{className:"border border-gray-300 px-2 py-1",children:o.cell(r,i)},`cell-${s}-${o.header}`))},`row-${s}`)})})}function lP(){return h.jsx("tbody",{children:h.jsx("tr",{children:h.jsx("td",{colSpan:99,className:"text-gray-500 py-4",children:h.jsx("div",{className:"min-h-[160px] flex items-center justify-center ",children:h.jsx("p",{className:"bg-gray-100 px-15 py-1 border",children:"  ."})})})})})}function uP({columns:e,data:t,className:n="w-full border border-gray-300 border-t-3 border-t-black text-center text-xs text-nowrap",keyInfo:r,emptyComponent:i=h.jsx(lP,{})}){const s=t&&t.length>0;return h.jsx("div",{className:"overflow-x-auto min-h-[300px] border-gray-300",children:h.jsxs("table",{className:n,children:[h.jsx(oP,{columns:e}),s?h.jsx(aP,{columns:e,data:t,keyInfo:r}):i]})})}function cP({children:e,className:t=""}){const r=`font-semibold pl-2 border-l-4 border-blue-500 ${t}`.trim();return h.jsx("div",{className:r,children:e})}const D_=T.createContext(null);function dP(){const e=T.useContext(D_);if(!e)throw new Error("useTabsContext must be used within a TabsProvider");return e}function hP({tabList:e,initialTabs:t=[],children:n}){const[r,i]=T.useState(t),s=th(),o=Wi();T.useEffect(()=>{if(r.length===0){const f=a(o);u(f),s(f.realUrl)}},[r]),T.useEffect(()=>{u(a(o))},[o.pathname]);function a(f){const p=f.pathname.replace(/\d+/,"");return{title:e.find(g=>g.urlPath===p)?.title||"   ",urlPath:p,realUrl:f.pathname}}const u=f=>{i(p=>{const g=p.findIndex(w=>w.urlPath===f.urlPath);if(g===-1)return[...p,f];const x=[...p];return x[g]=f,x})},c=f=>{i(p=>{const g=p.find(w=>w.urlPath===f);if(!g)return p;const x=p.filter(w=>w.urlPath!==f);if(window.location.pathname.includes(g.realUrl)){const w=x[x.length-1];s(w?w.realUrl:"/")}return x})};return h.jsx(D_.Provider,{value:{tabs:r,setTab:u,deleteTab:c},children:n})}function fP({tab:e,onDelete:t}){return h.jsxs(kl,{to:e.realUrl,className:({isActive:n})=>"group px-2.5 flex items-center gap-2.5 w-1/4 sm:w-1/8 border-r-1 border-r-neutral-300 cursor-pointer focus:outline-none"+(n?" mb-[-1px] bg-white border-b-2 border-b-white border-t-4 border-t-blue-500 font-semibold text-blue-500":" text-gray-500 hover:bg-white"),end:!0,children:[h.jsx("span",{className:"flex-1 text-center overflow-hidden text-ellipsis text-nowrap rounded-xs group-focus:outline-black group-focus:outline-2",children:e.title}),h.jsx("button",{tabIndex:-1,"aria-label":" ",className:"w-4 text-gray-700 hover:text-blue-500 cursor-pointer",onClick:n=>{n.preventDefault(),n.stopPropagation(),t(e.urlPath)},children:h.jsx(I_,{className:"w-3 h-3"})})]})}function pP(){const{tabs:e,deleteTab:t}=dP();return h.jsx("div",{className:"flex border-b border-neutral-300 bg-gray-100 text-sm h-12",children:e.map(n=>h.jsx(fP,{tab:n,onDelete:t},n.urlPath))})}function mP({tabList:e,initialTabs:t=[]}){return h.jsx(hP,{tabList:e,initialTabs:t,children:h.jsx(pP,{})})}function gP({menu:e}){return h.jsx("li",{children:e.path==="#"?h.jsx("div",{className:"block px-2 py-2 text-xs text-gray-400 cursor-not-allowed",children:e.name}):h.jsx(kl,{to:e.path??"#",className:({isActive:t})=>`block px-2 py-2 text-xs cursor-pointer hover:bg-blue-500 hover:text-white ${t?"bg-blue-500 text-white":""}`,end:!0,children:e.name})})}const yP=!0;function vP({menu:e}){const[t,n]=T.useState(yP);return h.jsxs("li",{className:"",children:[h.jsxs("button",{className:"px-4 py-2 h-10 flex items-center gap-4 w-full border-b border-neutral-300 cursor-pointer hover:bg-gray-100 "+(t?"font-semibold":"font-normal"),onClick:()=>n(r=>!r),children:[h.jsx("span",{children:t?"-":"+"}),h.jsx("span",{children:e.name})]}),t&&e.children&&h.jsx("ul",{className:"ml-1 pl-4 bg-neutral-100 font-semibold",children:e.children.map(r=>h.jsx(gP,{menu:r},r.name))})]})}const xP=!0;function bP({menu:e}){const[t,n]=T.useState(xP);return h.jsxs("li",{children:[h.jsxs("button",{className:"px-4 py-2 h-12 flex items-center justify-between w-full border-b border-neutral-300 cursor-pointer hover:bg-gray-100 "+(t?"font-semibold":"font-normal"),onClick:()=>n(r=>!r),children:[e.name,e.children&&h.jsx("span",{className:"ml-auto text-gray-500",children:t?"":""})]}),t&&e.children&&h.jsx("ul",{className:"",children:e.children.map(r=>h.jsx(vP,{menu:r},r.name))})]})}function wP({menus:e}){const[t,n]=T.useState(!0),[r]=T.useState(/Android|iPhone/i.test(navigator.userAgent)),i=()=>{n(s=>!s)};return h.jsx("aside",{className:(t?"relative z-10":"relative bg-blue-50 z-10")+(!t||r?" w-[20px] min-w-[20px] h-[calc(100vh-60px)]":" w-[230px] min-w-[230px]"),children:t?h.jsxs("div",{className:r?"absolute w-[300px] min-w-[300px] h-full bg-white shadow-gray-800 shadow-md":"bg-white",children:[h.jsxs("div",{className:"h-12 bg-blue-500 text-white text-lg font-semibold flex items-center justify-between px-4",children:[h.jsx("span",{children:""}),h.jsx("button",{className:"text-white hover:text-gray-200 cursor-pointer",onClick:i,children:"<"})]}),h.jsx("ul",{className:"flex flex-col text-sm",children:e.map(s=>h.jsx(bP,{menu:s},s.name))})]}):h.jsx("div",{children:h.jsx("button",{className:"w-full h-12 bg-blue-500 text-white text-lg font-semibold text-center cursor-pointer hover:text-gray-200",onClick:i,children:">"})})})}const Wt={Input:GN,Button:YN,Select:ZN,Modal:sP,SectionHeader:cP,Tab:mP,AsideMenu:wP,DataTable:uP};function _P(){return Nv(),h.jsxs(h.Fragment,{children:[h.jsx(Sv,{}),h.jsx(xv,{}),h.jsx(A_,{serviceId:"simulation",children:h.jsx("div",{className:"w-full bg-white text-sm text-gray-800 font-sans",children:h.jsxs("div",{className:"flex",children:[h.jsx(Wt.AsideMenu,{menus:KN}),h.jsxs("div",{className:"flex-auto min-w-0",children:[h.jsx(Wt.Tab,{tabList:ly}),h.jsx("main",{className:"flex-1 p-4 space-y-4 mx-auto max-w-screen-2xl overflow-x-hidden",children:h.jsx(uv,{})})]})]})})}),h.jsx(Cv,{})]})}function jl({bgColor:e,className:t,children:n}){const r=e??"even:bg-white ",i=t?` ${t}`:"";return h.jsx("section",{className:r,children:h.jsx("div",{className:`mx-auto max-w-7xl px-4 md:px-8 py-10 ${i}`,children:n})})}const F_=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:15.75,height:18,viewBox:"0 0 15.75 18",...e},T.createElement("defs",null,T.createElement("clipPath",{id:"master_svg0_85_3269"},T.createElement("rect",{x:0,y:0,width:15.75,height:18,rx:0}))),T.createElement("g",{clipPath:"url(#master_svg0_85_3269)"},T.createElement("g",{transform:"matrix(1,0,0,-1,0,32.2734375)"},T.createElement("g",null,T.createElement("path",{d:"M15.4336,22.07812875Q15.75,22.42968875,15.75,22.88671875Q15.75,23.34374875,15.4336,23.69530875L9.80859,29.32031875Q9.45703,29.63671875,9,29.63671875Q8.54297,29.63671875,8.19141,29.32031875Q7.875,28.96871875,7.875,28.51171875Q7.875,28.05471875,8.19141,27.70311875L11.918,24.01171875L1.125,24.01171875Q0.632812,24.01171875,0.316406,23.69530875Q0,23.37890875,0,22.88671875Q0,22.39452875,0.316406,22.07812875Q0.632812,21.76171875,1.125,21.76171875L11.918,21.76171875L8.19141,18.07030875Q7.875,17.71874875,7.875,17.26171875Q7.875,16.80468775,8.19141,16.45312475Q8.54297,16.13671875,9,16.13671875Q9.45703,16.13671875,9.80859,16.45312475L15.4336,22.07812875Z",fill:"#FFFFFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))))),SP=e=>T.createElement("svg",{width:16,height:15,viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M15.4336 8.19531C15.6445 7.96094 15.75 7.69141 15.75 7.38672C15.75 7.08203 15.6445 6.8125 15.4336 6.57812L9.80859 0.953125C9.57422 0.742191 9.30469 0.636719 9 0.636719C8.69531 0.636719 8.42578 0.742191 8.19141 0.953125C7.98047 1.18752 7.875 1.45705 7.875 1.76172C7.875 2.06639 7.98047 2.33591 8.19141 2.57031L11.918 6.26172H1.125C0.796875 6.26172 0.527344 6.36719 0.316406 6.57812C0.105469 6.78906 0 7.05859 0 7.38672C0 7.71485 0.105469 7.98438 0.316406 8.19531C0.527344 8.40625 0.796875 8.51172 1.125 8.51172H11.918L8.19141 12.2031C7.98047 12.4375 7.875 12.707 7.875 13.0117C7.875 13.3164 7.98047 13.5859 8.19141 13.8203C8.42578 14.0312 8.69531 14.1367 9 14.1367C9.30469 14.1367 9.57422 14.0312 9.80859 13.8203L15.4336 8.19531Z",fill:"#007AFF"})),qw="",Kw="2025",CP="12 1()",kP="12 3()";function jP(){return h.jsxs(jl,{className:"flex flex-col md:flex-row items-center justify-between",bgColor:"bg-banner-skysoft",children:[h.jsxs("div",{className:"max-w-xl",children:[h.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[h.jsx("img",{src:"/calendar.png",alt:"calendar",className:"w-10 h-10"}),h.jsxs("span",{className:"italic text-xs text-stone-500 ",children:[Kw," ",qw,"    ",h.jsx("br",{})," ",CP," ~ ",kP]})]}),h.jsxs("h2",{className:"text-xl mt-10 sm:text-2xl md:text-4xl leading-snug font-bold mb-3 ",children:[Kw," ",qw," ,"]}),h.jsxs("div",{className:"flex flex-row justify-start items-center text-xl sm:text-2xl md:text-4xl leading-snug font-bold mb-3",children:[h.jsx("img",{src:"/logo-name.svg",alt:"logo-name",className:"w-20 sm:w-32 md:w-40 lg:w-48 mr-2 animate-updown"})," !"]}),h.jsx("p",{className:"text-gray-400 mt-4",children:"    ,    ALLCLL  "}),h.jsxs("div",{className:"flex flex-col md:flex-row gap-4 ",children:[h.jsxs(Er,{to:"/live",className:"bg-blue-500 hover:bg-blue-600 text-white rounded-md px-6 py-3 mt-6 flex items-center gap-2 w-fit",children:["  ",h.jsx(F_,{className:"w-4 h-4"})]}),h.jsxs(Er,{to:"/simulation",className:"bg-white hover:bg-gray-100 text-blue-500 rounded-md px-6 py-3 mt-6 flex items-center gap-2 w-fit",children:["  ",h.jsx(SP,{className:"w-4 h-4"})]})]})]}),h.jsx("img",{src:"/summer-banner.png",alt:"summer-banner",className:"w-90 hidden sm:block  mt-8 md:mt-4"})]})}const EP=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:15,height:15,viewBox:"0 0 15 15",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,30)"},T.createElement("path",{d:"M10.3125,30Q9.69727,29.9707,9.43359,29.414099999999998Q9.22852,28.8574,9.63867,28.3887L10.8691,27.1875L5.88867,22.23633Q5.625,21.94336,5.625,21.5625Q5.625,21.18164,5.88867,20.88867Q6.18164,20.625,6.5625,20.625Q6.94336,20.625,7.23633,20.88867L12.1875,25.8691L13.3887,24.638669999999998Q13.8574,24.22852,14.4141,24.433590000000002Q14.9707,24.69727,15,25.3125L15,29.0625Q15,29.4727,14.7363,29.7363Q14.4727,30,14.0625,30L10.3125,30ZM2.34375,29.0625Q1.34766,29.0332,0.673828,28.3887Q0.0292969,27.7148,0,26.7188L0,17.34375Q0.0292969,16.34766,0.673828,15.673828Q1.34766,15.0292969,2.34375,15L11.7188,15Q12.7148,15.0292969,13.3887,15.673828Q14.0332,16.34766,14.0625,17.34375L14.0625,20.625Q14.0625,21.03516,13.7988,21.29883Q13.5352,21.5625,13.125,21.5625Q12.7148,21.5625,12.4512,21.29883Q12.1875,21.03516,12.1875,20.625L12.1875,17.34375Q12.1582,16.9043,11.7188,16.875L2.34375,16.875Q1.9043,16.9043,1.875,17.34375L1.875,26.7188Q1.9043,27.1582,2.34375,27.1875L5.625,27.1875Q6.03516,27.1875,6.29883,27.4512Q6.5625,27.7148,6.5625,28.125Q6.5625,28.5352,6.29883,28.7988Q6.03516,29.0625,5.625,29.0625L2.34375,29.0625Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function wm({title:e,subtitle:t,href:n,disabled:r=!1}){const i=!!n&&!r;return h.jsxs(h.Fragment,{children:[i?h.jsxs(Er,{to:n,className:"flex items-center gap-2 hover:underline focus:underline",children:[h.jsx("h2",{className:"text-2xl font-semibold",children:e}),h.jsx(EP,{className:"w-4 h-4"})]}):h.jsx("h2",{className:"text-2xl font-semibold",children:e}),t&&h.jsx("h3",{className:"text-gray-500",children:t})]})}function B_(e,t){const n=xt(c=>c.options),[r,i]=T.useState({dragging:!1,startX:0,startY:0}),s=T.useCallback(c=>{c.stopPropagation();const{x:f,y:p}=Bf(c,n);e&&e(f,p,f,p),i({startX:f,startY:p,dragging:!0})},[e]),o=c=>{c.stopPropagation();const{x:f,y:p}=Bf(c,n);t&&t(r.startX,r.startY,f,p),i(g=>({...g,dragging:!1}))},a=c=>{c.stopPropagation();const{x:f,y:p}=Bf(c,n);e&&e(r.startX,r.startY,f,p)},u=c=>{c.stopPropagation();const f=c.touches[0],{x:p,y:g}=Bf(f,n);e&&e(r.startX,r.startY,p,g)};return T.useEffect(()=>{if(r.dragging)return document.addEventListener("mouseup",o),document.addEventListener("touchmove",u),document.addEventListener("mousemove",a),()=>{document.removeEventListener("mouseup",o),document.removeEventListener("touchmove",u),document.removeEventListener("mousemove",a)}},[r,e,t]),{dragging:r.dragging,onMouseDown:s}}const Gw=6;function Bf(e,t){const{tableX:n,tableY:r,width:i,height:s,cols:o,rows:a}=t,{pageX:u,pageY:c}=e,f=i/o||1,p=s/a||1,g=Math.floor((u-n)/f),x=Math.floor((c-r)/p*Gw)/Gw,w=Math.max(0,Math.min(o-1,g)),S=Math.max(0,Math.min(a,x));return{x:w,y:S}}function TP(e){return new Promise(t=>setTimeout(t,e))}function z_(e,t=9){const n=t*60,r=new Date,i=new Date(e);return i.setMonth(i.getMonth()-n-r.getTimezoneOffset()),i}class vu{time;constructor(t){switch(typeof t){case"string":const[r,i]=t.split(":").map(Number);this.time=r*60+i;break;case"object":const{hours:s,minutes:o}=t;this.time=s*60+o;break;case"number":this.time=t;break}if(isNaN(this.time)||this.time<0||this.time>=1440)throw this.time=0,new Error("Invalid time value")}toObject(){const t=Math.floor(this.time/60),n=this.time%60;return{hours:t,minutes:n}}toString(){const{hours:t,minutes:n}=this.toObject(),r=t.toString().padStart(2,"0"),i=n.toString().padStart(2,"0");return`${r}:${i}`}compare(t){const n=this.time-t.time;return n===0?0:n>0?1:-1}}const Ov={timeTableId:-1,timeTableName:" ",semester:"",schedules:[]},NP=async()=>await xo("/api/timetables"),$_=()=>{const e=xt(r=>r.pickTimetable),t=xt(r=>r.currentTimetable);return xs({queryKey:["timetableList"],queryFn:NP,select:r=>{const{timeTables:i}=r;if(i.length<=0&&t?.timeTableId!==-1){e({timeTableId:-1,timeTableName:" ",semester:""});return}return i},staleTime:1e3*60*5})};function _m(e){const{data:t}=qi();return xs({queryKey:["timetableData",e],queryFn:async()=>!e||e<=0?{timetableId:-1,timetableName:" ",semester:"",schedules:[]}:await xo(`/api/timetables/${e}/schedules`),select:r=>AP(r,t),refetchOnWindowFocus:!1,staleTime:1e3*60*5})}function PP(){const e=ji(),{currentTimetable:t,pickTimetable:n}=xt.getState();return ga({mutationFn:async({timeTableId:r,timeTableName:i})=>await xo(`/api/timetables/${r}`,{method:"PATCH",body:JSON.stringify({timeTableName:i})}),onMutate:async({timeTableId:r})=>(await e.cancelQueries({queryKey:["timetableList",r]}),{timeTableId:r}),onSuccess:async(r,i,s)=>{const o=s?.timeTableId;t?.timeTableId===o&&n({timeTableId:r.timeTableId,timeTableName:r.timeTableName,semester:r.semester}),await e.invalidateQueries({queryKey:["timetableList"]}),await e.invalidateQueries({queryKey:["timetableList",o]})},onError:async(r,i,s)=>{console.error(`   (id: ${s?.timeTableId})`,r),await e.invalidateQueries({queryKey:["timetableList"]}),await e.invalidateQueries({queryKey:["timetableList",s?.timeTableId]})}})}function U_(){const e=ji(),t=xt(n=>n.pickTimetable);return ga({mutationFn:async n=>await vm(`/api/timetables/${n}`,{method:"DELETE"}),onMutate:async n=>(await e.cancelQueries({queryKey:["timetableList"]}),await e.cancelQueries({queryKey:["timetableData",n]}),{timeTableId:n}),onError:async(n,r,i)=>{console.error(`   (id: ${i?.timeTableId})`,n),await e.invalidateQueries({queryKey:["timetableList",i?.timeTableId]}),await e.invalidateQueries({queryKey:["timetableList"]})},onSuccess:async(n,r,i)=>{const{timeTables:s}=e.getQueryData(["timetableList"]);if(s&&s.length>1&&i?.timeTableId){const o=s.filter(u=>u.timeTableId!==i.timeTableId),a=o[o.length-1];t({timeTableId:a.timeTableId,timeTableName:a.timeTableName,semester:a.semester})}else t({timeTableId:-1,timeTableName:" ",semester:""});await e.invalidateQueries({queryKey:["timetableList"]}),await e.invalidateQueries({queryKey:["timetableData",i?.timeTableId]})}})}function H_(){const e=ji();return ga({mutationFn:async({timeTableName:t,semester:n})=>await xo("/api/timetables",{method:"POST",body:JSON.stringify({timeTableName:t,semester:n})}),onMutate:async({timeTableName:t,semester:n})=>{await e.cancelQueries({queryKey:["timetableList"]});const{timeTables:r}=e.getQueryData(["timetableList"])??{},i={timeTableId:-1,timeTableName:t,semester:n};if(r){const s=[...r,i];e.setQueryData(["timetableList"],{timeTables:s}),r.push(i)}return{previousTimetables:r}},onSuccess:async t=>{const{pickTimetable:n}=xt.getState();n({timeTableId:t.timeTableId,timeTableName:t.timeTableName,semester:t.semester}),await e.invalidateQueries({queryKey:["timetableList"]})},onError:async t=>{try{const n=JSON.parse(t.message);alert(n.message)}catch{alert("Error adding Timetable")}await e.invalidateQueries({queryKey:["timetableList"]})}})}function OP(e){const t=ji(),n=xt(i=>i.changeScheduleData),{mutateAsync:r}=H_();return ga({mutationFn:async({schedule:i})=>{let s=e;if(!e||e<=0){const a=await r({timeTableName:" ",semester:"2025-2"});s=a.timeTableId,t.setQueryData(["timetableData",s],{timetableId:s,timetableName:a.timeTableName,semester:a.semester,schedules:[i]}),await TP(300)}return{schedule:await xo(`/api/timetables/${s}/schedules`,{method:"POST",body:JSON.stringify(i)}),targetTimetableId:s}},onMutate:async i=>{const s=t.getQueryData(["timetableData",e])??{...Ov};return e&&e>0&&(await t.cancelQueries({queryKey:["timetableData",e]}),t.setQueryData(["timetableData",e],{...s,schedules:[...s.schedules,i.schedule]}),n(new ai().toUiData(),Kn.NONE)),{...i,prevTimetableSchedules:s}},onError:(i,s,o)=>{t.setQueryData(["timetableData",e],o?.prevTimetableSchedules),console.error(i)},onSuccess:async({schedule:i,targetTimetableId:s},o,a)=>{const u=t.getQueryData(["timetableData",s]);n(new ai().toUiData(),Kn.NONE),t.setQueryData(["timetableData",s],{...u,schedules:u?.schedules.map(c=>c.scheduleId===a.schedule.scheduleId?i:c)})}})}function LP(e){const t=ji();return ga({mutationFn:async({schedule:n})=>await xo(`/api/timetables/${e}/schedules/${n.scheduleId}`,{method:"PATCH",body:JSON.stringify(n)}),onMutate:async n=>{const r=t.getQueryData(["timetableData",e])??{...Ov};return await t.cancelQueries({queryKey:["timetableData",e]}),{...n,prevTimetableSchedules:r}},onError:(n,r,i)=>{t.setQueryData(["timetableData",e],i?.prevTimetableSchedules),console.error(n)},onSuccess:async(n,r,i)=>{if(!i?.prevTimetableSchedules){await t.invalidateQueries({queryKey:["timetableList"]}),await t.invalidateQueries({queryKey:["timetableData",e]});return}t.setQueryData(["timetableData",e],{...i.prevTimetableSchedules,schedules:i.prevTimetableSchedules.schedules.map(s=>s.scheduleId===n.scheduleId?{...s,...n}:s)})}})}function RP(e){const t=ji();return ga({mutationFn:async({schedule:n})=>await LN(`/api/timetables/${e}/schedules/${n.scheduleId}`,{scheduleType:n.scheduleType}),onMutate:async n=>{const r=t.getQueryData(["timetableData",e])??{...Ov};return await t.cancelQueries({queryKey:["timetableData",e]}),{...n,prevTimetableSchedules:r}},onError:(n,r,i)=>{t.setQueryData(["timetableData",e],i?.prevTimetableSchedules),console.error(n)},onSuccess:async(n,{schedule:r},i)=>{if(console.log("  ! timetableId:",e),!i?.prevTimetableSchedules){await t.invalidateQueries({queryKey:["timetableList"]}),await t.invalidateQueries({queryKey:["timetableData",e]});return}console.log("  !   . timetableId:",e,i.prevTimetableSchedules),t.setQueryData(["timetableData",e],{...i.prevTimetableSchedules,schedules:i.prevTimetableSchedules.schedules.filter(s=>s.scheduleId!==r.scheduleId)}),await t.invalidateQueries({queryKey:["timetableData",e]})}})}function AP(e,t){if(!e||!t)return[];const{schedules:n}=e;return n.map(r=>new ai(r,t).toUiData())}function Q_(e,t=9){const n=xt(a=>a.schedule),r=xt(a=>a.mode),i=["rose","amber","green","emerald","blue","violet"],s={};if(!e)return;let o=e;return(r===Kn.EDIT||r===Kn.VIEW)&&(o=e.map(a=>a.scheduleId===n.scheduleId?n:a)),o.forEach((a,u)=>{const c=a.isDeleted?"gray":i[u%i.length],{subjectName:f,professorName:p,location:g}=a;new sc(a.timeSlots).toUiData(t).forEach(w=>{s[w.dayOfWeek]||(s[w.dayOfWeek]=[]),s[w.dayOfWeek].push({title:f,professor:p,location:g,schedule:a,color:c,...w})})}),Object.keys(s).forEach(a=>{s[a]=MP(s[a])}),s}function MP(e){const n=xt.getState().options.isMobile?8:16,r=o=>parseFloat(o.replace("px",""));return e.sort((o,a)=>{const u=r(o.height);return r(a.height)-u}).reduce((o,a)=>{const u=r(a.top),c=u+r(a.height),p=o.reduce((g,x)=>{const w=r(x.top),S=w+r(x.height);return w<=u&&u<S||w<c&&c<=S?Math.max(g,x.depth):g},-1)+1;return[...o,{...a,depth:p}]},[]).map(o=>{const a=n*o.depth;return{...o,left:`${a}px`,right:"0px",height:o.height,top:o.top}})}function IP(e){const t=xt(i=>i.schedule),n=xt(i=>i.mode);if(!e)return[];const r=e.filter(i=>i.timeSlots===null||i.timeSlots.length===0);return n===Kn.NONE||t.timeSlots.length>0?r.map(i=>({...i,selected:!1})):t.scheduleId<=0?[...r.map(i=>({...i,selected:!1})),{...t,selected:!0}]:r.map(i=>({...i,selected:i.scheduleId===t.scheduleId}))}const Yw={search:{isOpen:!1},filter:{isOpen:!1},edit:{isOpen:!1},info:{isOpen:!1}},go=Nr(e=>({type:Yw,openBottomSheet:t=>e(n=>({type:{...n.type,[t]:{isOpen:!0}}})),closeBottomSheet:t=>e(n=>({type:{...n.type,[t]:{isOpen:!1}}})),resetBottomSheet:()=>e({type:Yw})})),U0=()=>new ai().toUiData();let H0;function zr(){const e=ji(),t=xt(k=>k.changeScheduleData),r=xt(k=>k.currentTimetable)?.timeTableId??-1,i=go(k=>k.openBottomSheet),s=go(k=>k.closeBottomSheet),[,o]=T.useTransition(),{mutate:a}=OP(r),{mutate:u}=LP(r),{mutate:c}=RP(r);return{setOptimisticSchedule:k=>{o(()=>t(k,Kn.NONE))},openScheduleModal:k=>{H0=e.getQueryData(["timetableData",r]);let E;!k.scheduleId||k.scheduleId<=0?(E=Kn.CREATE,k.scheduleType!=="official"&&i("edit")):k.scheduleType==="official"?(E=Kn.VIEW,console.log(H0),i("info")):(E=Kn.EDIT,i("edit")),t(k,E)},editSchedule:k=>{const E=xt.getState().schedule;let L=k instanceof Function?k(E):k;t(L)},saveSchedule:(k,E=!0)=>{const L=xt.getState().schedule,R=xt.getState().mode;if(k&&k.preventDefault(),!new sc(L.timeSlots).validate()){alert("       .");return}const U=L.timeSlots.length!==0;if(L.scheduleType==="custom"&&!U){alert(" !.");return}const I=new ai(L).toApiData();R===Kn.CREATE?(I.scheduleId=FP(H0?.schedules??[]),a({schedule:I})):R===Kn.EDIT&&(u({schedule:I}),t({...U0()},Kn.NONE)),E&&s("edit")},deleteSchedule:k=>{const E=xt.getState().schedule;k&&k.preventDefault();const L=new ai(E).toApiData();c({schedule:L}),t({...U0()},Kn.NONE),s("edit")},cancelSchedule:(k,E=!0)=>{k&&k.preventDefault(),t({...U0()},Kn.NONE),E&&s("edit")}}}function sh(){const e=xt(n=>n.mode),t=xt(n=>n.schedule);return{modalActionType:e,schedule:t}}function DP(){const{minTime:e}=xt(n=>n.options);return{getTimeslot:(n,r,i)=>{n>r&&([n,r]=[r,n]),i!==void 0&&r-n<i&&(r=n+i);const s=Xw(e,n),o=Xw(e,r);return{startTime:s,endTime:o}}}}function Xw(e,t){const n=e+Math.floor(t),r=Math.floor((t-Math.floor(t))*60);return n<0?"00:00":n>23?"23:50":`${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}function FP(e){let t=-Math.floor(Math.random()*1e6);for(;e.some(n=>n.scheduleId===t);)t=-Math.floor(Math.random()*1e6);return t}function V_({title:e,professor:t,location:n,color:r="blue",schedule:i,selected:s=!1,timeslotIndex:o,fixed:a=!1,...u}){const{text:c,bgLight:f,bg:p}=BP(r),g=T.useRef(null),{openScheduleModal:x}=zr(),w=xt(U=>U.schedule),S=s||w.scheduleId===i.scheduleId,k=(U,P,I,H)=>{if(!g.current||a)return;const Q=I-U,F=(H-P)*zd;g.current.style.setProperty("transform",`translate(calc(100% * ${Q}), ${F}px)`)},E=(U,P,I,H)=>{if(!g.current||a)return;i.scheduleType==="official"&&g.current.style.setProperty("transform","");const Q={...i,timeSlots:i.timeSlots.map((F,le)=>le!==o?F:ZP(F,I-U,H-P))};x(Q),g.current.style.setProperty("transform","")},L=U=>{(U.key==="Enter"||U.key===" ")&&(U.preventDefault(),U.stopPropagation(),E(0,0,0,0))},{dragging:R,onMouseDown:z}=B_(k,E);return h.jsxs("div",{ref:g,className:`flex absolute ${f} rounded-l-xs cursor-pointer hover:z-20 focus:z-20 `+u.className,onMouseDown:z,onKeyDown:L,tabIndex:0,...u,children:[h.jsx("div",{className:`w-[2px] h-full sm:w-1 sm:rounded-xs  ${p}`}),h.jsxs("div",{className:"flex-auto sm:p-2 p-[1px] "+(S?"animate-pulse":"")+(R?"opacity-50":""),children:[h.jsx("h3",{className:`${c} font-semibold text-[9px] sm:text-sm`,children:e}),h.jsxs("p",{className:"sm:text-xs text-[7px] text-gray-500",children:[t," ",n]})]})]})}function BP(e){switch(e){case"rose":return{text:"text-rose-500",bgLight:"bg-rose-50",bg:"bg-rose-500"};case"amber":return{text:"text-amber-500",bgLight:"bg-amber-50",bg:"bg-amber-500"};case"green":return{text:"text-green-500",bgLight:"bg-green-50",bg:"bg-green-500"};case"emerald":return{text:"text-emerald-500",bgLight:"bg-emerald-50",bg:"bg-emerald-500"};case"blue":return{text:"text-blue-500",bgLight:"bg-blue-50",bg:"bg-blue-500"};case"violet":return{text:"text-violet-500",bgLight:"bg-violet-50",bg:"bg-violet-500"};default:return{text:"text-gray-500",bgLight:"bg-gray-50",bg:"bg-gray-500"}}}function zP({dayOfWeeks:e}){const t=xt(p=>p.schedule),n=xt(p=>p.options),{data:r}=qi();if(!r||t.scheduleId>0||!t.timeSlots||t.timeSlots.length<=0)return null;let i=parseInt(n.rowNames[0].replace("",""));Number.isNaN(i)&&(i=9);const s=new ai(t,r).toUiData(),a=new sc(s.timeSlots).toUiData(i).filter(({dayOfWeek:p})=>p===e);if(!a)return null;const{subjectName:u,professorName:c,location:f}=s;return a.map(({height:p,top:g,left:x,right:w},S)=>h.jsx($P,{timeslotIndex:S,title:u??"",professor:c??"",location:f??"",schedule:t,style:{height:p,top:g,left:x,right:w}},`wire-schedule-${e}-${S}`))}function $P({title:e,professor:t,location:n,...r}){const{timeslotIndex:i,...s}=r;return h.jsx("div",{className:`flex absolute rounded-md z-20 
      border-violet-500 border-2 md:border-4
      ${r.className}`,style:{...r.style},...s,children:h.jsxs("div",{className:"flex-auto p-2 bg-violet-50  rounded-md animate-pulse",children:[h.jsx("h3",{className:"text-violet-500 font-semibold  text-[10px] sm:text-sm",children:e}),h.jsxs("p",{className:" sm:text-xs text-[8px]  text-gray-500",children:[t," ",n]})]})})}const Q0=()=>new ai().toUiData(),UP=({dayOfWeeks:e,scheduleTimes:t})=>{const n=t,{setOptimisticSchedule:r,openScheduleModal:i}=zr(),{getTimeslot:s}=DP(),o=(f,p,g,x)=>{const{startTime:w,endTime:S}=s(p,x,1);r({...Q0(),timeSlots:[{dayOfWeeks:e,startTime:w,endTime:S}]})},a=(f,p,g,x)=>{const{startTime:w,endTime:S}=s(p,x,1);i({...Q0(),timeSlots:[{dayOfWeeks:e,startTime:w,endTime:S}]})},u=f=>{(f.key==="Enter"||f.key===" ")&&i({...Q0()})},{onMouseDown:c}=B_(o,a);return h.jsxs("div",{className:"relative flex-auto px-[2px]",tabIndex:0,onMouseDown:c,onKeyDown:u,children:[h.jsx(zP,{dayOfWeeks:e}),n.map(({title:f,professor:p,location:g,color:x,height:w,top:S,left:k,right:E,schedule:L},R)=>h.jsx(V_,{timeslotIndex:R,title:f,professor:p??"",location:g??"",schedule:L,color:x,style:{height:w,top:S,left:k,right:E}},"schedule-"+R))]})};function HP(){const e=xt(r=>r.currentTimetable?.timeTableId),{data:t}=_m(e),n=t?.reduce((r,i)=>{if(i.scheduleType!=="official"||!i.tmNum)return r;const s=i.tmNum.split("/").map(o=>{const a=Number(o);return isNaN(a)?0:a});return r.map((o,a)=>o+(s[a]??0))},[0,0,0])??[0,0,0];return h.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 bg-blue-50 rounded-md p-2 mt-3",children:[h.jsxs("span",{children:[" : ",n[0]??0]}),h.jsxs("span",{children:[": ",n[1]??0]}),h.jsxs("span",{children:[": ",n[2]??0]})]})}const W_=e=>T.createElement("svg",{width:23,height:23,viewBox:"0 0 23 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M10.3669 11.3356L7.94579 9.04443C7.8086 8.9146 7.73766 8.75936 7.733 8.57871C7.72833 8.39807 7.79059 8.23915 7.9198 8.10198C8.049 7.9648 8.20424 7.89386 8.38551 7.88918C8.56678 7.88449 8.7257 7.94676 8.86225 8.07598L11.2834 10.3671L13.5745 7.94599C13.7043 7.80879 13.8596 7.73786 14.0402 7.73319C14.2209 7.72852 14.3798 7.79079 14.517 7.91999C14.6541 8.04919 14.7252 8.20458 14.7302 8.38616C14.7352 8.56774 14.6728 8.7265 14.5429 8.86244L12.2518 11.2836L14.6729 13.5747C14.8101 13.7045 14.8812 13.8599 14.8862 14.0409C14.8912 14.2218 14.8288 14.3806 14.6989 14.5171C14.5691 14.6537 14.4137 14.7248 14.2328 14.7304C14.0518 14.736 13.8931 14.6736 13.7565 14.5431L11.3354 12.252L9.04423 14.6731C8.9144 14.8103 8.75901 14.8814 8.57806 14.8864C8.39711 14.8914 8.23835 14.829 8.10178 14.6991C7.96521 14.5693 7.89428 14.414 7.88898 14.2334C7.88369 14.0528 7.94595 13.8939 8.07578 13.7567L10.3669 11.3356Z",fill:"#6B7280"}));function QP(){const e=xt(r=>r.currentTimetable),{data:t}=_m(e?.timeTableId),n=IP(t);return h.jsx(Qe,{direction:"flex-col",gap:"gap-2",className:"mt-3",children:n.map(r=>h.jsx(VP,{schedule:r,selected:r.selected},r.scheduleId))})}function VP({schedule:e,selected:t}){const{openScheduleModal:n}=zr(),r=()=>{n(e)};return h.jsxs("div",{className:"h-10 w-full p-4 flex justify-between items-center rounded border "+(t?"bg-blue-100 border-blue-500":"border-gray-200"),children:[h.jsxs(Qe,{gap:"gap-5",children:[h.jsx("p",{children:e.subjectName}),h.jsx("p",{className:"text-stone-400",children:e.professorName})]}),h.jsx(lr,{"aria-label":"delete",variant:"plain",label:"delete",icon:h.jsx(W_,{className:"w-5 h-5"}),onClick:r})]},e.scheduleId)}const Sm=["","","","","","",""];function WP(e){const t=xt(a=>a.schedule),n=xt(a=>a.setOptions),r=[...e??[],t],i=r.reduce((a,u)=>{let c=a;return u.timeSlots?(u.timeSlots.some(f=>f.dayOfWeeks==="")&&(c=Math.max(c,6)),u.timeSlots.some(f=>f.dayOfWeeks==="")&&(c=Math.max(c,7)),c):a},5),{minTime:s,maxTime:o}=r.reduce((a,u)=>(u.timeSlots.forEach(c=>{const f=parseInt(c.startTime.split(":")[0]),p=parseInt(c.endTime.split(":")[0]);isNaN(f)||isNaN(p)||(a.minTime=Math.min(a.minTime,f),a.maxTime=Math.max(a.maxTime,p))}),a),{minTime:9,maxTime:20});return T.useEffect(()=>{n({rowNames:Array.from({length:o-s+1},(a,u)=>`${s+u}`),minTime:s,maxTime:o,rows:o-s+1})},[s,o]),T.useEffect(()=>{n({colNames:Sm.slice(0,i),cols:i})},[i]),{}}let V0=null;const qP=e=>{const t=xt(r=>r.setOptions),n=()=>{if(!e.current)return;const r=e.current.getBoundingClientRect();t({width:r.width,height:r.height,tableX:r.left+window.pageXOffset,tableY:r.top+window.pageYOffset}),V0=null};T.useEffect(()=>{if(!e.current)return;const r=()=>{V0||(V0=setTimeout(n,300),t({isMobile:window.innerWidth<768}))};return r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[e])};function KP(e){const t=T.useRef(!1),n=Bp(r=>r.setBanner);T.useEffect(()=>{e?.some(i=>i.isDeleted)&&!t.current&&(t.current=!0,n("  !    "))},[e])}const zd=40;function GP(){const e=T.useRef(null),t=xt(n=>n.setOptions);return T.useEffect(()=>{t({containerRef:e?.current??null})},[e]),h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"bg-white",ref:e,children:[h.jsx(JP,{children:h.jsx(XP,{})}),h.jsx(QP,{})]}),h.jsx(HP,{})]})}const YP=Sm.reduce((e,t)=>(e[t]=[],e),{});function XP(){const e=xt(s=>s.currentTimetable),{colNames:t,minTime:n}=xt(s=>s.options),{data:r}=_m(e?.timeTableId),i=Q_(r,n)??YP;return KP(r),WP(r),t.map(s=>h.jsx(UP,{scheduleTimes:i[s]??[],dayOfWeeks:s},"day-schedule-"+s))}function JP({rowHeight:e=zd,children:t}){const{colNames:n,rowNames:r}=xt(i=>i.options);return h.jsx(q_,{colNames:n,rowNames:r,rowHeight:e,children:t})}class ai{data;constructor(t,n){if(!t){this.data=this.#t();return}if(t.scheduleType==="official"&&!t.subjectName){this.data=this.#e(t,n);return}this.data=t,this.data.timeSlots||(this.data.timeSlots=[])}#t(){return{scheduleId:-1,scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"",tmNum:"",isDeleted:!1,timeSlots:[]}}#e(t,n){if(!n)throw new TypeError("Subjects must be provided for API to UI conversion");const r=n instanceof Array?n.find(i=>i.subjectId===t.subjectId):n;return{scheduleId:t.scheduleId,scheduleType:t.scheduleType,subjectId:t.subjectId,subjectName:r?.subjectName??"",professorName:r?.professorName??"",location:r?.lesnRoom??"",tmNum:r?.tmNum??"",isDeleted:r?.isDeleted??!1,timeSlots:new sc(r?.lesnTime).toApiData()}}toApiData(){const t=this.data;return t.scheduleType==="official"?{scheduleId:t.scheduleId,scheduleType:"official",subjectId:t.subjectId??0,subjectName:null,professorName:null,location:null,timeSlots:[]}:{...t,scheduleType:"custom",subjectId:null}}toUiData(){return this.data}}class sc{data;constructor(t){if(!t){this.data=[];return}if(typeof t=="string"){this.data=this.#e(t);return}if(Array.isArray(t)){this.data=t.map(n=>this.#t(n));return}this.data=[this.#t(t)]}#t(t){const[n,r]=t.startTime.split(":"),[i,s]=t.endTime.split(":");return{dayOfWeeks:t.dayOfWeeks,startHour:parseInt(n),startMinute:parseInt(r),endHour:parseInt(i),endMinute:parseInt(s)}}#e(t){const n=/([]+)(\d{1,2}:\d{2})-(\d{1,2}:\d{2})/g,r=[];let i;for(;(i=n.exec(t))!==null;){const s=i[1],o=i[2],a=i[3],u=s.split("");for(const c of u)r.push(this.#t({dayOfWeeks:c,startTime:o,endTime:a}))}return r}validate(){return this.data.every(t=>{const{startHour:n,startMinute:r,endHour:i,endMinute:s}=t;return n<i||n===i&&r<s})}toApiData(){const t=n=>n.toString().padStart(2,"0");return this.data.map(n=>({dayOfWeeks:n.dayOfWeeks,startTime:`${t(n.startHour)}:${t(n.startMinute)}`,endTime:`${t(n.endHour)}:${t(n.endMinute)}`}))}toUiData(t){return this.data.map(({startHour:n,startMinute:r,endHour:i,endMinute:s,dayOfWeeks:o})=>{const a=(n*60+r)/60,u=(i*60+s)/60;return{dayOfWeek:o,depth:0,left:"0px",right:"0px",height:`${(u-a)*zd}px`,top:`${(a-t)*zd}px`}})}}function ZP(e,t,n){const{dayOfWeeks:r,startTime:i,endTime:s}=e,[o,a]=i.split(":").map(Number),[u,c]=s.split(":").map(Number),f=Math.min(24,o+a/60+n),p=Math.min(24,u+c/60+n),g=Math.floor(f),x=Math.round((f-g)*60),w=Math.floor(p),S=Math.round((p-w)*60),k=["","","","","","",""],L=(k.indexOf(r)+t+k.length)%k.length;return{dayOfWeeks:k[L],startTime:`${g.toString().padStart(2,"0")}:${x.toString().padStart(2,"0")}`,endTime:`${w.toString().padStart(2,"0")}:${S.toString().padStart(2,"0")}`}}var Kn=(e=>(e.NONE="none",e.CREATE="create",e.EDIT="edit",e.VIEW="view",e))(Kn||{});const xt=Nr(e=>({currentTimetable:null,options:{containerRef:null,timetableRef:null,colNames:Sm.slice(0,5),rowNames:Array.from({length:12},(t,n)=>`${n+9}`),minTime:9,maxTime:20,tableX:0,tableY:0,width:0,height:0,cols:5,rows:11,isMobile:!1},mode:"none",schedule:new ai().toUiData(),pickTimetable:t=>{e(n=>({...n,currentTimetable:t}))},setOptions:t=>{e(n=>({...n,options:{...n.options,...t}}))},changeScheduleData:(t,n)=>{e(r=>({...r,mode:n??r.mode,schedule:{...r.schedule,...t}}))}}));function q_({rowHeight:e=zd,colNames:t,rowNames:n,children:r}){const i=T.useRef(null),{isMobile:s}=xt(u=>u.options);qP(i);const{headerWidth:o,headerHeight:a}=s?{headerWidth:20,headerHeight:20}:{headerWidth:60,headerHeight:40};return h.jsxs("div",{className:"relative w-full bg-white",children:[h.jsxs("div",{className:"flex bg-gray-50 rounded-t-md",style:{height:`${a}px`},children:[h.jsx("div",{className:"flex items-center justify-center font-semibold text-gray-700",style:{width:`${o}px`}}),t.map((u,c)=>h.jsx("div",{className:"flex flex-auto items-center justify-center font-semibold text-gray-400 text-[10px] md:text-sm",children:u},"timetable-grid-header-"+c))]}),h.jsx("div",{className:"flex absolute inset-0",style:{top:`${a}px`,left:`${o}px`},children:t.map((u,c)=>h.jsx("div",{className:"flex-auto border-l border-gray-200 h-full"},"timetable-grid-col-"+c))}),n.map((u,c)=>h.jsx("div",{className:"border-b border-gray-200",style:{height:`${e}px`},children:h.jsx("span",{className:"flex items-center justify-center h-full text-gray-400 w-[20px] md:w-[60px] text-[10px] md:text-sm",children:u})},"timetable-grid-row-"+c)),h.jsx("div",{id:"timetable",ref:i,className:"absolute inset-0 flex z-10",style:{top:`${a}px`,left:`${o}px`},children:r})]})}const Jw=["","","","",""],eO=Array.from({length:5},(e,t)=>`${t+9}`),tO=[{scheduleId:"1",scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"B209",tmNum:"3/1/0",isDeleted:!1,timeSlots:[{dayOfWeeks:"",startTime:"09:00",endTime:"10:30"},{dayOfWeeks:"",startTime:"09:00",endTime:"10:30"}]},{scheduleId:"2",scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"B209",tmNum:"3/1/0",isDeleted:!1,timeSlots:[{dayOfWeeks:"",startTime:"11:00",endTime:"12:30"},{dayOfWeeks:"",startTime:"11:00",endTime:"12:30"}]},{scheduleId:3,scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"B209",tmNum:"3/1/0",isDeleted:!1,timeSlots:[{dayOfWeeks:"",startTime:"12:00",endTime:"13:30"},{dayOfWeeks:"",startTime:"12:00",endTime:"13:30"}]}];function nO(){const e=Q_(tO,9);return h.jsxs(jl,{children:[h.jsx(wm,{title:"",subtitle:"     ",href:"/timetable"}),h.jsx(Cr,{className:"mt-6",children:h.jsx(q_,{colNames:Jw,rowNames:eO,children:Jw.map(t=>h.jsx(rO,{data:e?e[t]:[]},t))})})]})}function rO({data:e}){return e?h.jsx("div",{className:"relative flex-auto px-[2px]",children:e.map(({title:t,professor:n,location:r,color:i,height:s,top:o,left:a,right:u,schedule:c},f)=>h.jsx(V_,{timeslotIndex:f,title:t,professor:n??"",location:r??"",schedule:c,color:i,style:{height:s,top:o,left:a,right:u},selected:!1,fixed:!0},"schedule-"+f))}):h.jsx("div",{className:"relative flex-auto px-[2px]"})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function oh(e){return e+.5|0}const na=(e,t,n)=>Math.max(Math.min(e,n),t);function yd(e){return na(oh(e*2.55),0,255)}function aa(e){return na(oh(e*255),0,255)}function co(e){return na(oh(e/2.55)/100,0,1)}function Zw(e){return na(oh(e*100),0,100)}const Fi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},uy=[..."0123456789ABCDEF"],iO=e=>uy[e&15],sO=e=>uy[(e&240)>>4]+uy[e&15],zf=e=>(e&240)>>4===(e&15),oO=e=>zf(e.r)&&zf(e.g)&&zf(e.b)&&zf(e.a);function aO(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&Fi[e[1]]*17,g:255&Fi[e[2]]*17,b:255&Fi[e[3]]*17,a:t===5?Fi[e[4]]*17:255}:(t===7||t===9)&&(n={r:Fi[e[1]]<<4|Fi[e[2]],g:Fi[e[3]]<<4|Fi[e[4]],b:Fi[e[5]]<<4|Fi[e[6]],a:t===9?Fi[e[7]]<<4|Fi[e[8]]:255})),n}const lO=(e,t)=>e<255?t(e):"";function uO(e){var t=oO(e)?iO:sO;return e?"#"+t(e.r)+t(e.g)+t(e.b)+lO(e.a,t):void 0}const cO=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function K_(e,t,n){const r=t*Math.min(n,1-n),i=(s,o=(s+e/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function dO(e,t,n){const r=(i,s=(i+e/60)%6)=>n-n*t*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function hO(e,t,n){const r=K_(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function fO(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}function Lv(e){const n=e.r/255,r=e.g/255,i=e.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let u,c,f;return s!==o&&(f=s-o,c=a>.5?f/(2-s-o):f/(s+o),u=fO(n,r,i,f,s),u=u*60+.5),[u|0,c||0,a]}function Rv(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(aa)}function Av(e,t,n){return Rv(K_,e,t,n)}function pO(e,t,n){return Rv(hO,e,t,n)}function mO(e,t,n){return Rv(dO,e,t,n)}function G_(e){return(e%360+360)%360}function gO(e){const t=cO.exec(e);let n=255,r;if(!t)return;t[5]!==r&&(n=t[6]?yd(+t[5]):aa(+t[5]));const i=G_(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?r=pO(i,s,o):t[1]==="hsv"?r=mO(i,s,o):r=Av(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function yO(e,t){var n=Lv(e);n[0]=G_(n[0]+t),n=Av(n),e.r=n[0],e.g=n[1],e.b=n[2]}function vO(e){if(!e)return;const t=Lv(e),n=t[0],r=Zw(t[1]),i=Zw(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${i}%, ${co(e.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const e3={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},t3={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function xO(){const e={},t=Object.keys(t3),n=Object.keys(e3);let r,i,s,o,a;for(r=0;r<t.length;r++){for(o=a=t[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,e3[s]);s=parseInt(t3[o],16),e[a]=[s>>16&255,s>>8&255,s&255]}return e}let $f;function bO(e){$f||($f=xO(),$f.transparent=[0,0,0,0]);const t=$f[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const wO=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function _O(e){const t=wO.exec(e);let n=255,r,i,s;if(t){if(t[7]!==r){const o=+t[7];n=t[8]?yd(o):na(o*255,0,255)}return r=+t[1],i=+t[3],s=+t[5],r=255&(t[2]?yd(r):na(r,0,255)),i=255&(t[4]?yd(i):na(i,0,255)),s=255&(t[6]?yd(s):na(s,0,255)),{r,g:i,b:s,a:n}}}function SO(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${co(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const W0=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,xu=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function CO(e,t,n){const r=xu(co(e.r)),i=xu(co(e.g)),s=xu(co(e.b));return{r:aa(W0(r+n*(xu(co(t.r))-r))),g:aa(W0(i+n*(xu(co(t.g))-i))),b:aa(W0(s+n*(xu(co(t.b))-s))),a:e.a+n*(t.a-e.a)}}function Uf(e,t,n){if(e){let r=Lv(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,t===0?360:1)),r=Av(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function Y_(e,t){return e&&Object.assign(t||{},e)}function n3(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=aa(e[3]))):(t=Y_(e,{r:0,g:0,b:0,a:1}),t.a=aa(t.a)),t}function kO(e){return e.charAt(0)==="r"?_O(e):gO(e)}class $d{constructor(t){if(t instanceof $d)return t;const n=typeof t;let r;n==="object"?r=n3(t):n==="string"&&(r=aO(t)||bO(t)||kO(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=Y_(this._rgb);return t&&(t.a=co(t.a)),t}set rgb(t){this._rgb=n3(t)}rgbString(){return this._valid?SO(this._rgb):void 0}hexString(){return this._valid?uO(this._rgb):void 0}hslString(){return this._valid?vO(this._rgb):void 0}mix(t,n){if(t){const r=this.rgb,i=t.rgb;let s;const o=n===s?.5:n,a=2*o-1,u=r.a-i.a,c=((a*u===-1?a:(a+u)/(1+a*u))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(t,n){return t&&(this._rgb=CO(this._rgb,t._rgb,n)),this}clone(){return new $d(this.rgb)}alpha(t){return this._rgb.a=aa(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=oh(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Uf(this._rgb,2,t),this}darken(t){return Uf(this._rgb,2,-t),this}saturate(t){return Uf(this._rgb,1,t),this}desaturate(t){return Uf(this._rgb,1,-t),this}rotate(t){return yO(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function io(){}const jO=(()=>{let e=0;return()=>e++})();function Ft(e){return e==null}function Sn(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Bt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Pn(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function bi(e,t){return Pn(e)?e:t}function bt(e,t){return typeof e>"u"?t:e}const EO=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,X_=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function un(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function en(e,t,n,r){let i,s,o;if(Sn(e))for(s=e.length,i=0;i<s;i++)t.call(n,e[i],i);else if(Bt(e))for(o=Object.keys(e),s=o.length,i=0;i<s;i++)t.call(n,e[o[i]],o[i])}function Vp(e,t){let n,r,i,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],s=t[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Wp(e){if(Sn(e))return e.map(Wp);if(Bt(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=Wp(e[n[i]]);return t}return e}function J_(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function TO(e,t,n,r){if(!J_(e))return;const i=t[e],s=n[e];Bt(i)&&Bt(s)?Ud(i,s,r):t[e]=Wp(s)}function Ud(e,t,n){const r=Sn(t)?t:[t],i=r.length;if(!Bt(e))return e;n=n||{};const s=n.merger||TO;let o;for(let a=0;a<i;++a){if(o=r[a],!Bt(o))continue;const u=Object.keys(o);for(let c=0,f=u.length;c<f;++c)s(u[c],e,o,n)}return e}function kd(e,t){return Ud(e,t,{merger:NO})}function NO(e,t,n){if(!J_(e))return;const r=t[e],i=n[e];Bt(r)&&Bt(i)?kd(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Wp(i))}const r3={"":e=>e,x:e=>e.x,y:e=>e.y};function PO(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function OO(e){const t=PO(e);return n=>{for(const r of t){if(r==="")break;n=n&&n[r]}return n}}function da(e,t){return(r3[t]||(r3[t]=OO(t)))(e)}function Mv(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Hd=e=>typeof e<"u",ha=e=>typeof e=="function",i3=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function LO(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Gt=Math.PI,gn=2*Gt,RO=gn+Gt,qp=Number.POSITIVE_INFINITY,AO=Gt/180,Dn=Gt/2,Ka=Gt/4,s3=Gt*2/3,ra=Math.log10,Is=Math.sign;function jd(e,t,n){return Math.abs(e-t)<n}function o3(e){const t=Math.round(e);e=jd(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(ra(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function MO(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(n|0)&&t.push(n),t.sort((i,s)=>i-s).pop(),t}function IO(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function xl(e){return!IO(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function DO(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function Z_(e,t,n){let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function ms(e){return e*(Gt/180)}function Iv(e){return e*(180/Gt)}function a3(e){if(!Pn(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function e7(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*Gt&&(s+=gn),{angle:s,distance:i}}function cy(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function FO(e,t){return(e-t+RO)%gn-Gt}function Sr(e){return(e%gn+gn)%gn}function Qd(e,t,n,r){const i=Sr(e),s=Sr(t),o=Sr(n),a=Sr(s-i),u=Sr(o-i),c=Sr(i-s),f=Sr(i-o);return i===s||i===o||r&&s===o||a>u&&c<f}function ar(e,t,n){return Math.max(t,Math.min(n,e))}function BO(e){return ar(e,-32768,32767)}function fo(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function Dv(e,t,n){n=n||(o=>e[o]<t);let r=e.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const po=(e,t,n,r)=>Dv(e,n,r?i=>{const s=e[i][t];return s<n||s===n&&e[i+1][t]===n}:i=>e[i][t]<n),zO=(e,t,n)=>Dv(e,n,r=>e[r][t]>=n);function $O(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}const t7=["push","pop","shift","splice","unshift"];function UO(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),t7.forEach(n=>{const r="_onData"+Mv(n),i=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return e._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function l3(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);i!==-1&&r.splice(i,1),!(r.length>0)&&(t7.forEach(s=>{delete e[s]}),delete e._chartjs)}function n7(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const r7=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function i7(e,t){let n=[],r=!1;return function(...i){n=i,r||(r=!0,r7.call(window,()=>{r=!1,e.apply(t,n)}))}}function HO(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const Fv=e=>e==="start"?"left":e==="end"?"right":"center",_r=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,QO=(e,t,n,r)=>e===(r?"left":"right")?n:e==="center"?(t+n)/2:t;function s7(e,t,n){const r=t.length;let i=0,s=r;if(e._sorted){const{iScale:o,vScale:a,_parsed:u}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,f=o.axis,{min:p,max:g,minDefined:x,maxDefined:w}=o.getUserBounds();if(x){if(i=Math.min(po(u,f,p).lo,n?r:po(t,f,o.getPixelForValue(p)).lo),c){const S=u.slice(0,i+1).reverse().findIndex(k=>!Ft(k[a.axis]));i-=Math.max(0,S)}i=ar(i,0,r-1)}if(w){let S=Math.max(po(u,o.axis,g,!0).hi+1,n?0:po(t,f,o.getPixelForValue(g),!0).hi+1);if(c){const k=u.slice(S-1).findIndex(E=>!Ft(E[a.axis]));S+=Math.max(0,k)}s=ar(S,i,r)-i}else s=r-i}return{start:i,count:s}}function o7(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const s=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const Hf=e=>e===0||e===1,u3=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*gn/n)),c3=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*gn/n)+1,Ed={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Dn)+1,easeOutSine:e=>Math.sin(e*Dn),easeInOutSine:e=>-.5*(Math.cos(Gt*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Hf(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Hf(e)?e:u3(e,.075,.3),easeOutElastic:e=>Hf(e)?e:c3(e,.075,.3),easeInOutElastic(e){return Hf(e)?e:e<.5?.5*u3(e*2,.1125,.45):.5+.5*c3(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Ed.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Ed.easeInBounce(e*2)*.5:Ed.easeOutBounce(e*2-1)*.5+.5};function Bv(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function d3(e){return Bv(e)?e:new $d(e)}function q0(e){return Bv(e)?e:new $d(e).saturate(.5).darken(.1).hexString()}const VO=["x","y","borderWidth","radius","tension"],WO=["color","borderColor","backgroundColor"];function qO(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:WO},numbers:{type:"number",properties:VO}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function KO(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const h3=new Map;function GO(e,t){t=t||{};const n=e+JSON.stringify(t);let r=h3.get(n);return r||(r=new Intl.NumberFormat(e,t),h3.set(n,r)),r}function ah(e,t,n){return GO(t,n).format(e)}const a7={values(e){return Sn(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const r=this.chart.options.locale;let i,s=e;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=YO(e,n)}const o=ra(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),u={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(u,this.options.ticks.format),ah(e,r,u)},logarithmic(e,t,n){if(e===0)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(ra(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?a7.numeric.call(this,e,t,n):""}};function YO(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Cm={formatters:a7};function XO(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Cm.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const bl=Object.create(null),dy=Object.create(null);function Td(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];e=e[s]||(e[s]=Object.create(null))}return e}function K0(e,t,n){return typeof t=="string"?Ud(Td(e,t),n):Ud(Td(e,""),t)}class JO{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>q0(i.backgroundColor),this.hoverBorderColor=(r,i)=>q0(i.borderColor),this.hoverColor=(r,i)=>q0(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return K0(this,t,n)}get(t){return Td(this,t)}describe(t,n){return K0(dy,t,n)}override(t,n){return K0(bl,t,n)}route(t,n,r,i){const s=Td(this,t),o=Td(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[a],c=o[i];return Bt(u)?Object.assign({},c,u):bt(u,c)},set(u){this[a]=u}}})}apply(t){t.forEach(n=>n(this))}}var Cn=new JO({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[qO,KO,XO]);function ZO(e){return!e||Ft(e.size)||Ft(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Kp(e,t,n,r,i){let s=t[i];return s||(s=t[i]=e.measureText(i).width,n.push(i)),s>r&&(r=s),r}function eL(e,t,n,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},s=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let o=0;const a=n.length;let u,c,f,p,g;for(u=0;u<a;u++)if(p=n[u],p!=null&&!Sn(p))o=Kp(e,i,s,o,p);else if(Sn(p))for(c=0,f=p.length;c<f;c++)g=p[c],g!=null&&!Sn(g)&&(o=Kp(e,i,s,o,g));e.restore();const x=s.length/2;if(x>n.length){for(u=0;u<x;u++)delete i[s[u]];s.splice(0,x)}return o}function Ga(e,t,n){const r=e.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function f3(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function hy(e,t,n,r){l7(e,t,n,r,null)}function l7(e,t,n,r,i){let s,o,a,u,c,f,p,g;const x=t.pointStyle,w=t.rotation,S=t.radius;let k=(w||0)*AO;if(x&&typeof x=="object"&&(s=x.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){e.save(),e.translate(n,r),e.rotate(k),e.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),e.restore();return}if(!(isNaN(S)||S<=0)){switch(e.beginPath(),x){default:i?e.ellipse(n,r,i/2,S,0,0,gn):e.arc(n,r,S,0,gn),e.closePath();break;case"triangle":f=i?i/2:S,e.moveTo(n+Math.sin(k)*f,r-Math.cos(k)*S),k+=s3,e.lineTo(n+Math.sin(k)*f,r-Math.cos(k)*S),k+=s3,e.lineTo(n+Math.sin(k)*f,r-Math.cos(k)*S),e.closePath();break;case"rectRounded":c=S*.516,u=S-c,o=Math.cos(k+Ka)*u,p=Math.cos(k+Ka)*(i?i/2-c:u),a=Math.sin(k+Ka)*u,g=Math.sin(k+Ka)*(i?i/2-c:u),e.arc(n-p,r-a,c,k-Gt,k-Dn),e.arc(n+g,r-o,c,k-Dn,k),e.arc(n+p,r+a,c,k,k+Dn),e.arc(n-g,r+o,c,k+Dn,k+Gt),e.closePath();break;case"rect":if(!w){u=Math.SQRT1_2*S,f=i?i/2:u,e.rect(n-f,r-u,2*f,2*u);break}k+=Ka;case"rectRot":p=Math.cos(k)*(i?i/2:S),o=Math.cos(k)*S,a=Math.sin(k)*S,g=Math.sin(k)*(i?i/2:S),e.moveTo(n-p,r-a),e.lineTo(n+g,r-o),e.lineTo(n+p,r+a),e.lineTo(n-g,r+o),e.closePath();break;case"crossRot":k+=Ka;case"cross":p=Math.cos(k)*(i?i/2:S),o=Math.cos(k)*S,a=Math.sin(k)*S,g=Math.sin(k)*(i?i/2:S),e.moveTo(n-p,r-a),e.lineTo(n+p,r+a),e.moveTo(n+g,r-o),e.lineTo(n-g,r+o);break;case"star":p=Math.cos(k)*(i?i/2:S),o=Math.cos(k)*S,a=Math.sin(k)*S,g=Math.sin(k)*(i?i/2:S),e.moveTo(n-p,r-a),e.lineTo(n+p,r+a),e.moveTo(n+g,r-o),e.lineTo(n-g,r+o),k+=Ka,p=Math.cos(k)*(i?i/2:S),o=Math.cos(k)*S,a=Math.sin(k)*S,g=Math.sin(k)*(i?i/2:S),e.moveTo(n-p,r-a),e.lineTo(n+p,r+a),e.moveTo(n+g,r-o),e.lineTo(n-g,r+o);break;case"line":o=i?i/2:Math.cos(k)*S,a=Math.sin(k)*S,e.moveTo(n-o,r-a),e.lineTo(n+o,r+a);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(k)*(i?i/2:S),r+Math.sin(k)*S);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function mo(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function km(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function jm(e){e.restore()}function tL(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if(i==="middle"){const s=(t.x+n.x)/2;e.lineTo(s,t.y),e.lineTo(s,n.y)}else i==="after"!=!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function nL(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function rL(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Ft(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function iL(e,t,n,r,i){if(i.strikethrough||i.underline){const s=e.measureText(r),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,u=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,f=i.strikethrough?(u+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,f),e.lineTo(a,f),e.stroke()}}function sL(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function wl(e,t,n,r,i,s={}){const o=Sn(t)?t:[t],a=s.strokeWidth>0&&s.strokeColor!=="";let u,c;for(e.save(),e.font=i.string,rL(e,s),u=0;u<o.length;++u)c=o[u],s.backdrop&&sL(e,s.backdrop),a&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),Ft(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(c,n,r,s.maxWidth)),e.fillText(c,n,r,s.maxWidth),iL(e,n,r,c,s),r+=Number(i.lineHeight);e.restore()}function Vd(e,t){const{x:n,y:r,w:i,h:s,radius:o}=t;e.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*Gt,Gt,!0),e.lineTo(n,r+s-o.bottomLeft),e.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,Gt,Dn,!0),e.lineTo(n+i-o.bottomRight,r+s),e.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,Dn,0,!0),e.lineTo(n+i,r+o.topRight),e.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-Dn,!0),e.lineTo(n+o.topLeft,r)}const oL=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,aL=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function lL(e,t){const n=(""+e).match(oL);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const uL=e=>+e||0;function zv(e,t){const n={},r=Bt(t),i=r?Object.keys(t):t,s=Bt(e)?r?o=>bt(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of i)n[o]=uL(s(o));return n}function u7(e){return zv(e,{top:"y",right:"x",bottom:"y",left:"x"})}function pl(e){return zv(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Tr(e){const t=u7(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Yn(e,t){e=e||{},t=t||Cn.font;let n=bt(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let r=bt(e.style,t.style);r&&!(""+r).match(aL)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:bt(e.family,t.family),lineHeight:lL(bt(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:bt(e.weight,t.weight),string:""};return i.string=ZO(i),i}function vd(e,t,n,r){let i,s,o;for(i=0,s=e.length;i<s;++i)if(o=e[i],o!==void 0&&o!==void 0)return o}function cL(e,t,n){const{min:r,max:i}=e,s=X_(t,(i-r)/2),o=(a,u)=>n&&a===0?0:a+u;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function ya(e,t){return Object.assign(Object.create(e),t)}function $v(e,t=[""],n,r,i=()=>e[0]){const s=n||e;typeof r>"u"&&(r=f7("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>$v([a,...e],t,s,r)};return new Proxy(o,{deleteProperty(a,u){return delete a[u],delete a._keys,delete e[0][u],!0},get(a,u){return d7(a,u,()=>vL(u,t,e,a))},getOwnPropertyDescriptor(a,u){return Reflect.getOwnPropertyDescriptor(a._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,u){return m3(a).includes(u)},ownKeys(a){return m3(a)},set(a,u,c){const f=a._storage||(a._storage=i());return a[u]=f[u]=c,delete a._keys,!0}})}function Yu(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:c7(e,r),setContext:s=>Yu(e,s,n,r),override:s=>Yu(e.override(s),t,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete e[o],!0},get(s,o,a){return d7(s,o,()=>hL(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(s,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(s,o,a){return e[o]=a,delete s[o],!0}})}function c7(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:ha(n)?n:()=>n,isIndexable:ha(r)?r:()=>r}}const dL=(e,t)=>e?e+Mv(t):t,Uv=(e,t)=>Bt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function d7(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=n();return e[t]=r,r}function hL(e,t,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=e;let a=r[t];return ha(a)&&o.isScriptable(t)&&(a=fL(t,a,e,n)),Sn(a)&&a.length&&(a=pL(t,a,e,o.isIndexable)),Uv(t,a)&&(a=Yu(a,i,s&&s[t],o)),a}function fL(e,t,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let u=t(s,o||r);return a.delete(e),Uv(e,u)&&(u=Hv(i._scopes,i,e,u)),u}function pL(e,t,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(e))return t[s.index%t.length];if(Bt(t[0])){const u=t,c=i._scopes.filter(f=>f!==u);t=[];for(const f of u){const p=Hv(c,i,e,f);t.push(Yu(p,s,o&&o[e],a))}}return t}function h7(e,t,n){return ha(e)?e(t,n):e}const mL=(e,t)=>e===!0?t:typeof e=="string"?da(t,e):void 0;function gL(e,t,n,r,i){for(const s of t){const o=mL(n,s);if(o){e.add(o);const a=h7(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function Hv(e,t,n,r){const i=t._rootScopes,s=h7(t._fallback,n,r),o=[...e,...i],a=new Set;a.add(r);let u=p3(a,o,n,s||n,r);return u===null||typeof s<"u"&&s!==n&&(u=p3(a,o,s,u,r),u===null)?!1:$v(Array.from(a),[""],i,s,()=>yL(t,n,r))}function p3(e,t,n,r,i){for(;n;)n=gL(e,t,n,r,i);return n}function yL(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];return Sn(i)&&Bt(n)?n:i||{}}function vL(e,t,n,r){let i;for(const s of t)if(i=f7(dL(s,e),n),typeof i<"u")return Uv(e,i)?Hv(n,r,e,i):i}function f7(e,t){for(const n of t){if(!n)continue;const r=n[e];if(typeof r<"u")return r}}function m3(e){let t=e._keys;return t||(t=e._keys=xL(e._scopes)),t}function xL(e){const t=new Set;for(const n of e)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))t.add(r);return Array.from(t)}function p7(e,t,n,r){const{iScale:i}=e,{key:s="r"}=this._parsing,o=new Array(r);let a,u,c,f;for(a=0,u=r;a<u;++a)c=a+n,f=t[c],o[a]={r:i.parse(da(f,s),c)};return o}const bL=Number.EPSILON||1e-14,Xu=(e,t)=>t<e.length&&!e[t].skip&&e[t],m7=e=>e==="x"?"y":"x";function wL(e,t,n,r){const i=e.skip?t:e,s=t,o=n.skip?t:n,a=cy(s,i),u=cy(o,s);let c=a/(a+u),f=u/(a+u);c=isNaN(c)?0:c,f=isNaN(f)?0:f;const p=r*c,g=r*f;return{previous:{x:s.x-p*(o.x-i.x),y:s.y-p*(o.y-i.y)},next:{x:s.x+g*(o.x-i.x),y:s.y+g*(o.y-i.y)}}}function _L(e,t,n){const r=e.length;let i,s,o,a,u,c=Xu(e,0);for(let f=0;f<r-1;++f)if(u=c,c=Xu(e,f+1),!(!u||!c)){if(jd(t[f],0,bL)){n[f]=n[f+1]=0;continue}i=n[f]/t[f],s=n[f+1]/t[f],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[f]=i*o*t[f],n[f+1]=s*o*t[f])}}function SL(e,t,n="x"){const r=m7(n),i=e.length;let s,o,a,u=Xu(e,0);for(let c=0;c<i;++c){if(o=a,a=u,u=Xu(e,c+1),!a)continue;const f=a[n],p=a[r];o&&(s=(f-o[n])/3,a[`cp1${n}`]=f-s,a[`cp1${r}`]=p-s*t[c]),u&&(s=(u[n]-f)/3,a[`cp2${n}`]=f+s,a[`cp2${r}`]=p+s*t[c])}}function CL(e,t="x"){const n=m7(t),r=e.length,i=Array(r).fill(0),s=Array(r);let o,a,u,c=Xu(e,0);for(o=0;o<r;++o)if(a=u,u=c,c=Xu(e,o+1),!!u){if(c){const f=c[t]-u[t];i[o]=f!==0?(c[n]-u[n])/f:0}s[o]=a?c?Is(i[o-1])!==Is(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}_L(e,i,s),SL(e,s,t)}function Qf(e,t,n){return Math.max(Math.min(e,n),t)}function kL(e,t){let n,r,i,s,o,a=mo(e[0],t);for(n=0,r=e.length;n<r;++n)o=s,s=a,a=n<r-1&&mo(e[n+1],t),s&&(i=e[n],o&&(i.cp1x=Qf(i.cp1x,t.left,t.right),i.cp1y=Qf(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=Qf(i.cp2x,t.left,t.right),i.cp2y=Qf(i.cp2y,t.top,t.bottom)))}function jL(e,t,n,r,i){let s,o,a,u;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")CL(e,i);else{let c=r?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)a=e[s],u=wL(c,a,e[Math.min(s+1,o-(r?0:1))%o],t.tension),a.cp1x=u.previous.x,a.cp1y=u.previous.y,a.cp2x=u.next.x,a.cp2y=u.next.y,c=a}t.capBezierPoints&&kL(e,n)}function Qv(){return typeof window<"u"&&typeof document<"u"}function Vv(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Gp(e,t,n){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}const Em=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function EL(e,t){return Em(e).getPropertyValue(t)}const TL=["top","right","bottom","left"];function ml(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=TL[i];r[s]=parseFloat(e[t+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const NL=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function PL(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:s}=r;let o=!1,a,u;if(NL(i,s,e.target))a=i,u=s;else{const c=t.getBoundingClientRect();a=r.clientX-c.left,u=r.clientY-c.top,o=!0}return{x:a,y:u,box:o}}function rl(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=Em(n),s=i.boxSizing==="border-box",o=ml(i,"padding"),a=ml(i,"border","width"),{x:u,y:c,box:f}=PL(e,n),p=o.left+(f&&a.left),g=o.top+(f&&a.top);let{width:x,height:w}=t;return s&&(x-=o.width+a.width,w-=o.height+a.height),{x:Math.round((u-p)/x*n.width/r),y:Math.round((c-g)/w*n.height/r)}}function OL(e,t,n){let r,i;if(t===void 0||n===void 0){const s=e&&Vv(e);if(!s)t=e.clientWidth,n=e.clientHeight;else{const o=s.getBoundingClientRect(),a=Em(s),u=ml(a,"border","width"),c=ml(a,"padding");t=o.width-c.width-u.width,n=o.height-c.height-u.height,r=Gp(a.maxWidth,s,"clientWidth"),i=Gp(a.maxHeight,s,"clientHeight")}}return{width:t,height:n,maxWidth:r||qp,maxHeight:i||qp}}const Vf=e=>Math.round(e*10)/10;function LL(e,t,n,r){const i=Em(e),s=ml(i,"margin"),o=Gp(i.maxWidth,e,"clientWidth")||qp,a=Gp(i.maxHeight,e,"clientHeight")||qp,u=OL(e,t,n);let{width:c,height:f}=u;if(i.boxSizing==="content-box"){const g=ml(i,"border","width"),x=ml(i,"padding");c-=x.width+g.width,f-=x.height+g.height}return c=Math.max(0,c-s.width),f=Math.max(0,r?c/r:f-s.height),c=Vf(Math.min(c,o,u.maxWidth)),f=Vf(Math.min(f,a,u.maxHeight)),c&&!f&&(f=Vf(c/2)),(t!==void 0||n!==void 0)&&r&&u.height&&f>u.height&&(f=u.height,c=Vf(Math.floor(f*r))),{width:c,height:f}}function g3(e,t,n){const r=t||1,i=Math.floor(e.height*r),s=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(e.currentDevicePixelRatio=r,o.height=i,o.width=s,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const RL=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Qv()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function y3(e,t){const n=EL(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function il(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function AL(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:r==="middle"?n<.5?e.y:t.y:r==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function ML(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},o=il(e,i,n),a=il(i,s,n),u=il(s,t,n),c=il(o,a,n),f=il(a,u,n);return il(c,f,n)}const IL=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},DL=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Wu(e,t,n){return e?IL(t,n):DL()}function g7(e,t){let n,r;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function y7(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function v7(e){return e==="angle"?{between:Qd,compare:FO,normalize:Sr}:{between:fo,compare:(t,n)=>t-n,normalize:t=>t}}function v3({start:e,end:t,count:n,loop:r,style:i}){return{start:e%n,end:t%n,loop:r&&(t-e+1)%n===0,style:i}}function FL(e,t,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=v7(r),u=t.length;let{start:c,end:f,loop:p}=e,g,x;if(p){for(c+=u,f+=u,g=0,x=u;g<x&&o(a(t[c%u][r]),i,s);++g)c--,f--;c%=u,f%=u}return f<c&&(f+=u),{start:c,end:f,loop:p,style:e.style}}function x7(e,t,n){if(!n)return[e];const{property:r,start:i,end:s}=n,o=t.length,{compare:a,between:u,normalize:c}=v7(r),{start:f,end:p,loop:g,style:x}=FL(e,t,n),w=[];let S=!1,k=null,E,L,R;const z=()=>u(i,R,E)&&a(i,R)!==0,U=()=>a(s,E)===0||u(s,R,E),P=()=>S||z(),I=()=>!S||U();for(let H=f,Q=f;H<=p;++H)L=t[H%o],!L.skip&&(E=c(L[r]),E!==R&&(S=u(E,i,s),k===null&&P()&&(k=a(E,i)===0?H:Q),k!==null&&I()&&(w.push(v3({start:k,end:H,loop:g,count:o,style:x})),k=null),Q=H,R=E));return k!==null&&w.push(v3({start:k,end:p,loop:g,count:o,style:x})),w}function b7(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const s=x7(r[i],e.points,t);s.length&&n.push(...s)}return n}function BL(e,t,n,r){let i=0,s=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(s+=i);s>i&&e[s%t].skip;)s--;return s%=t,{start:i,end:s}}function zL(e,t,n,r){const i=e.length,s=[];let o=t,a=e[t],u;for(u=t+1;u<=n;++u){const c=e[u%i];c.skip||c.stop?a.skip||(r=!1,s.push({start:t%i,end:(u-1)%i,loop:r}),t=o=c.stop?u:null):(o=u,a.skip&&(t=u)),a=c}return o!==null&&s.push({start:t%i,end:o%i,loop:r}),s}function $L(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const s=!!e._loop,{start:o,end:a}=BL(n,i,s,r);if(r===!0)return x3(e,[{start:o,end:a,loop:s}],n,t);const u=a<o?a+i:a,c=!!e._fullLoop&&o===0&&a===i-1;return x3(e,zL(n,o,u,c),n,t)}function x3(e,t,n,r){return!r||!r.setContext||!n?t:UL(e,t,n,r)}function UL(e,t,n,r){const i=e._chart.getContext(),s=b3(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,u=n.length,c=[];let f=s,p=t[0].start,g=p;function x(w,S,k,E){const L=a?-1:1;if(w!==S){for(w+=u;n[w%u].skip;)w-=L;for(;n[S%u].skip;)S+=L;w%u!==S%u&&(c.push({start:w%u,end:S%u,loop:k,style:E}),f=E,p=S%u)}}for(const w of t){p=a?p:w.start;let S=n[p%u],k;for(g=p+1;g<=w.end;g++){const E=n[g%u];k=b3(r.setContext(ya(i,{type:"segment",p0:S,p1:E,p0DataIndex:(g-1)%u,p1DataIndex:g%u,datasetIndex:o}))),HL(k,f)&&x(p,g-1,w.loop,f),S=E,f=k}p<g-1&&x(p,g-1,w.loop,f)}return c}function b3(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function HL(e,t){if(!t)return!1;const n=[],r=function(i,s){return Bv(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function Wf(e,t,n){return e.options.clip?e[n]:t[n]}function QL(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:Wf(n,t,"left"),right:Wf(n,t,"right"),top:Wf(r,t,"top"),bottom:Wf(r,t,"bottom")}:t}function w7(e,t){const n=t._clip;if(n.disabled)return!1;const r=QL(t,e.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class VL{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=r7.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,u;for(;o>=0;--o)u=s[o],u._active?(u._total>r.duration&&(r.duration=u._total),u.tick(t),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,t,"progress")),s.length||(r.running=!1,this._notify(i,r,t,"complete"),r.initial=!1),n+=s.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let r=n.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,r)),r}listen(t,n,r){this._getAnims(t).listeners[n].push(r)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var so=new VL;const w3="transparent",WL={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const r=d3(e||w3),i=r.valid&&d3(t||w3);return i&&i.valid?i.mix(r,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class qL{constructor(t,n,r,i){const s=n[r];i=vd([t.to,i,s,t.from]);const o=vd([t.from,s,i]);this._active=!0,this._fn=t.fn||WL[t.type||typeof o],this._easing=Ed[t.easing]||Ed.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=vd([t.to,n,i,t.from]),this._from=vd([t.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let u;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}u=n/r%2,u=o&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[i]=this._fn(s,a,u)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,r)=>{t.push({res:n,rej:r})})}_notify(t){const n=t?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class _7{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Bt(t))return;const n=Object.keys(Cn.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const s=t[i];if(!Bt(s))return;const o={};for(const a of n)o[a]=s[a];(Sn(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(t,n){const r=n.options,i=GL(t,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&KL(t.options.$animations,r).then(()=>{t.options=r},()=>{}),s}_createAnimations(t,n){const r=this._properties,i=[],s=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let u;for(u=o.length-1;u>=0;--u){const c=o[u];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(t,n));continue}const f=n[c];let p=s[c];const g=r.get(c);if(p)if(g&&p.active()){p.update(g,f,a);continue}else p.cancel();if(!g||!g.duration){t[c]=f;continue}s[c]=p=new qL(g,t,c,f),i.push(p)}return i}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const r=this._createAnimations(t,n);if(r.length)return so.add(this._chart,r),!0}}function KL(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const s=e[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function GL(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function _3(e,t){const n=e&&e.options||{},r=n.reverse,i=n.min===void 0?t:0,s=n.max===void 0?t:0;return{start:r?s:i,end:r?i:s}}function YL(e,t,n){if(n===!1)return!1;const r=_3(e,n),i=_3(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function XL(e){let t,n,r,i;return Bt(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:e===!1}}function S7(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function S3(e,t,n,r={}){const i=e.keys,s=r.mode==="single";let o,a,u,c;if(t===null)return;let f=!1;for(o=0,a=i.length;o<a;++o){if(u=+i[o],u===n){if(f=!0,r.all)continue;break}c=e.values[u],Pn(c)&&(s||t===0||Is(t)===Is(c))&&(t+=c)}return!f&&!r.all?0:t}function JL(e,t){const{iScale:n,vScale:r}=t,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(e),a=new Array(o.length);let u,c,f;for(u=0,c=o.length;u<c;++u)f=o[u],a[u]={[i]:f,[s]:e[f]};return a}function G0(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function ZL(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function eR(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function tR(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function C3(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const s=e[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function k3(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,u=s.axis,c=o.axis,f=ZL(s,o,r),p=t.length;let g;for(let x=0;x<p;++x){const w=t[x],{[u]:S,[c]:k}=w,E=w._stacks||(w._stacks={});g=E[c]=tR(i,f,S),g[a]=k,g._top=C3(g,o,!0,r.type),g._bottom=C3(g,o,!1,r.type);const L=g._visualValues||(g._visualValues={});L[a]=k}}function Y0(e,t){const n=e.scales;return Object.keys(n).filter(r=>n[r].axis===t).shift()}function nR(e,t){return ya(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function rR(e,t,n){return ya(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function td(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const i of t){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const X0=e=>e==="reset"||e==="none",j3=(e,t)=>t?e:Object.assign({},e),iR=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:S7(n,!0),values:null};class va{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=G0(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&td(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(p,g,x,w)=>p==="x"?g:p==="r"?w:x,s=n.xAxisID=bt(r.xAxisID,Y0(t,"x")),o=n.yAxisID=bt(r.yAxisID,Y0(t,"y")),a=n.rAxisID=bt(r.rAxisID,Y0(t,"r")),u=n.indexAxis,c=n.iAxisID=i(u,s,o,a),f=n.vAxisID=i(u,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&l3(this._data,this),t._stacked&&td(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(Bt(n)){const i=this._cachedMeta;this._data=JL(n,i)}else if(r!==n){if(r){l3(r,this);const i=this._cachedMeta;td(i),i._parsed=[]}n&&Object.isExtensible(n)&&UO(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=G0(n.vScale,n),n.stack!==r.stack&&(i=!0,td(n),n.stack=r.stack),this._resyncElements(t),(i||s!==n._stacked)&&(k3(this,n._parsed),n._stacked=G0(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let u=t===0&&n===i.length?!0:r._sorted,c=t>0&&r._parsed[t-1],f,p,g;if(this._parsing===!1)r._parsed=i,r._sorted=!0,g=i;else{Sn(i[t])?g=this.parseArrayData(r,i,t,n):Bt(i[t])?g=this.parseObjectData(r,i,t,n):g=this.parsePrimitiveData(r,i,t,n);const x=()=>p[a]===null||c&&p[a]<c[a];for(f=0;f<n;++f)r._parsed[f+t]=p=g[f],u&&(x()&&(u=!1),c=p);r._sorted=u}o&&k3(this,g)}parsePrimitiveData(t,n,r,i){const{iScale:s,vScale:o}=t,a=s.axis,u=o.axis,c=s.getLabels(),f=s===o,p=new Array(i);let g,x,w;for(g=0,x=i;g<x;++g)w=g+r,p[g]={[a]:f||s.parse(c[w],w),[u]:o.parse(n[w],w)};return p}parseArrayData(t,n,r,i){const{xScale:s,yScale:o}=t,a=new Array(i);let u,c,f,p;for(u=0,c=i;u<c;++u)f=u+r,p=n[f],a[u]={x:s.parse(p[0],f),y:o.parse(p[1],f)};return a}parseObjectData(t,n,r,i){const{xScale:s,yScale:o}=t,{xAxisKey:a="x",yAxisKey:u="y"}=this._parsing,c=new Array(i);let f,p,g,x;for(f=0,p=i;f<p;++f)g=f+r,x=n[g],c[f]={x:s.parse(da(x,a),g),y:o.parse(da(x,u),g)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const i=this.chart,s=this._cachedMeta,o=n[t.axis],a={keys:S7(i,!0),values:n._stacks[t.axis]._visualValues};return S3(a,o,s.index,{mode:r})}updateRangeFromParsed(t,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=S3(i,s,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&t===r.iScale,o=i.length,a=this._getOtherScale(t),u=iR(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:p}=eR(a);let g,x;function w(){x=i[g];const S=x[a.axis];return!Pn(x[t.axis])||f>S||p<S}for(g=0;g<o&&!(!w()&&(this.updateRangeFromParsed(c,t,x,u),s));++g);if(s){for(g=o-1;g>=0;--g)if(!w()){this.updateRangeFromParsed(c,t,x,u);break}}return c}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][t.axis],Pn(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(t);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=XL(bt(this.options.clip,YL(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,u=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let f;for(r.dataset&&r.dataset.draw(t,s,a,u),f=a;f<a+u;++f){const p=i[f];p.hidden||(p.active&&c?o.push(p):p.draw(t,s))}for(f=0;f<o.length;++f)o[f].draw(t,s)}getStyle(t,n){const r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const i=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];s=o.$context||(o.$context=rR(this.getContext(),t,o)),s.parsed=this.getParsed(t),s.raw=i.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=nR(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=t+"-"+n,a=s[o],u=this.enableOptionSharing&&Hd(r);if(a)return j3(a,u);const c=this.chart.config,f=c.datasetElementScopeKeys(this._type,t),p=i?[`${t}Hover`,"hover",t,""]:[t,""],g=c.getOptionScopes(this.getDataset(),f),x=Object.keys(Cn.elements[t]),w=()=>this.getContext(r,i,n),S=c.resolveNamedOptions(g,x,w,p);return S.$shared&&(S.$shared=u,s[o]=Object.freeze(j3(S,u))),S}_resolveAnimations(t,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let u;if(i.options.animation!==!1){const f=this.chart.config,p=f.datasetAnimationScopeKeys(this._type,n),g=f.getOptionScopes(this.getDataset(),p);u=f.createResolver(g,this.getContext(t,r,n))}const c=new _7(i,u&&u.animations);return u&&u._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||X0(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(t,n,r,i){X0(i)?Object.assign(t,r):this._resolveAnimations(n,i).update(t,r)}updateSharedOptions(t,n,r){t&&!X0(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,i){t.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(t,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[a,u,c]of this._syncList)this[a](u,c);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,t):s<i&&this._removeElements(s,i-s)}_insertElements(t,n,r=!0){const i=this._cachedMeta,s=i.data,o=t+n;let a;const u=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(u(s),a=t;a<o;++a)s[a]=new this.dataElementType;this._parsing&&u(i._parsed),this.parse(t,n),r&&this.updateElements(s,t,n,"reset")}updateElements(t,n,r,i){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(t,n);r._stacked&&td(r,i)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,i]=t;this[n](r,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function sR(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(e));e._cache.$bar=n7(r.sort((i,s)=>i-s))}return e._cache.$bar}function oR(e){const t=e.iScale,n=sR(t,e.type);let r=t._length,i,s,o,a;const u=()=>{o===32767||o===-32768||(Hd(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=n.length;i<s;++i)o=t.getPixelForValue(n[i]),u();for(a=void 0,i=0,s=t.ticks.length;i<s;++i)o=t.getPixelForTick(i),u();return r}function aR(e,t,n,r){const i=n.barThickness;let s,o;return Ft(i)?(s=t.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:t.pixels[e]-s/2}}function lR(e,t,n,r){const i=t.pixels,s=i[e];let o=e>0?i[e-1]:null,a=e<i.length-1?i[e+1]:null;const u=n.categoryPercentage;o===null&&(o=s-(a===null?t.end-t.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*u;return{chunk:Math.abs(a-o)/2*u/r,ratio:n.barPercentage,start:c}}function uR(e,t,n,r){const i=n.parse(e[0],r),s=n.parse(e[1],r),o=Math.min(i,s),a=Math.max(i,s);let u=o,c=a;Math.abs(o)>Math.abs(a)&&(u=a,c=o),t[n.axis]=c,t._custom={barStart:u,barEnd:c,start:i,end:s,min:o,max:a}}function C7(e,t,n,r){return Sn(e)?uR(e,t,n,r):t[n.axis]=n.parse(e,r),t}function E3(e,t,n,r){const i=e.iScale,s=e.vScale,o=i.getLabels(),a=i===s,u=[];let c,f,p,g;for(c=n,f=n+r;c<f;++c)g=t[c],p={},p[i.axis]=a||i.parse(o[c],c),u.push(C7(g,p,s,c));return u}function J0(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function cR(e,t,n){return e!==0?Is(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function dR(e){let t,n,r,i,s;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:t,top:i,bottom:s}}function hR(e,t,n,r){let i=t.borderSkipped;const s={};if(!i){e.borderSkipped=s;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:u,top:c,bottom:f}=dR(e);i==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=f:(s[T3(f,o,a,u)]=!0,i=c)),s[T3(i,o,a,u)]=!0,e.borderSkipped=s}function T3(e,t,n,r){return r?(e=fR(e,t,n),e=N3(e,n,t)):e=N3(e,t,n),e}function fR(e,t,n){return e===t?n:e===n?t:e}function N3(e,t,n){return e==="start"?t:e==="end"?n:e}function pR(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class k7 extends va{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,n,r,i){return E3(t,n,r,i)}parseArrayData(t,n,r,i){return E3(t,n,r,i)}parseObjectData(t,n,r,i){const{iScale:s,vScale:o}=t,{xAxisKey:a="x",yAxisKey:u="y"}=this._parsing,c=s.axis==="x"?a:u,f=o.axis==="x"?a:u,p=[];let g,x,w,S;for(g=r,x=r+i;g<x;++g)S=n[g],w={},w[s.axis]=s.parse(da(S,c),g),p.push(C7(da(S,f),w,o,g));return p}updateRangeFromParsed(t,n,r,i){super.updateRangeFromParsed(t,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(t),o=s._custom,a=J0(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,r,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,u=a.getBasePixel(),c=a.isHorizontal(),f=this._getRuler(),{sharedOptions:p,includeOptions:g}=this._getSharedOptions(n,i);for(let x=n;x<n+r;x++){const w=this.getParsed(x),S=s||Ft(w[a.axis])?{base:u,head:u}:this._calculateBarValuePixels(x),k=this._calculateBarIndexPixels(x,f),E=(w._stacks||{})[a.axis],L={horizontal:c,base:S.base,enableBorderRadius:!E||J0(w._custom)||o===E._top||o===E._bottom,x:c?S.head:k.center,y:c?k.center:S.head,height:c?k.size:Math.abs(S.size),width:c?Math.abs(S.size):k.size};g&&(L.options=p||this.resolveDataElementOptions(x,t[x].active?"active":i));const R=L.options||t[x].options;hR(L,R,E,o),pR(L,R,f.ratio),this.updateElement(t[x],x,L,i)}}_getStacks(t,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),s=r.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),u=a&&a[r.axis],c=f=>{const p=f._parsed.find(x=>x[r.axis]===u),g=p&&p[f.vScale.axis];if(Ft(g)||isNaN(g))return!0};for(const f of i)if(!(n!==void 0&&c(f))&&((s===!1||o.indexOf(f.stack)===-1||s===void 0&&f.stack===void 0)&&o.push(f.stack),f.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(r=>t[r].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)t[bt(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,r){const i=this._getStacks(t,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const t=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,o;for(s=0,o=n.data.length;s<o;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const a=t.barThickness;return{min:a||oR(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:s,minBarLength:o}}=this,a=s||0,u=this.getParsed(t),c=u._custom,f=J0(c);let p=u[n.axis],g=0,x=r?this.applyStack(n,u,r):p,w,S;x!==p&&(g=x-p,x=p),f&&(p=c.barStart,x=c.barEnd-c.barStart,p!==0&&Is(p)!==Is(c.barEnd)&&(g=0),g+=p);const k=!Ft(s)&&!f?s:g;let E=n.getPixelForValue(k);if(this.chart.getDataVisibility(t)?w=n.getPixelForValue(g+x):w=E,S=w-E,Math.abs(S)<o){S=cR(S,n,a)*o,p===a&&(E-=S/2);const L=n.getPixelForDecimal(0),R=n.getPixelForDecimal(1),z=Math.min(L,R),U=Math.max(L,R);E=Math.max(Math.min(E,U),z),w=E+S,r&&!f&&(u._stacks[n.axis]._visualValues[i]=n.getValueForPixel(w)-n.getValueForPixel(E))}if(E===n.getPixelForValue(a)){const L=Is(S)*n.getLineWidthForValue(a)/2;E+=L,S-=L}return{size:S,base:E,head:w,center:w+S/2}}_calculateBarIndexPixels(t,n){const r=n.scale,i=this.options,s=i.skipNull,o=bt(i.maxBarThickness,1/0);let a,u;const c=this._getAxisCount();if(n.grouped){const f=s?this._getStackCount(t):n.stackCount,p=i.barThickness==="flex"?lR(t,n,i,f*c):aR(t,n,i,f*c),g=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,x=this._getAxis().indexOf(bt(g,this.getFirstScaleIdForIndexAxis())),w=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0)+x;a=p.start+p.chunk*w+p.chunk/2,u=Math.min(o,p.chunk*p.ratio)}else a=r.getPixelForValue(this.getParsed(t)[r.axis],t),u=Math.min(o,n.min*n.ratio);return{base:a-u/2,head:a+u/2,center:a,size:u}}draw(){const t=this._cachedMeta,n=t.vScale,r=t.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}class mR extends va{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,r,i){const s=super.parsePrimitiveData(t,n,r,i);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+r).radius;return s}parseArrayData(t,n,r,i){const s=super.parseArrayData(t,n,r,i);for(let o=0;o<s.length;o++){const a=n[r+o];s[o]._custom=bt(a[2],this.resolveDataElementOptions(o+r).radius)}return s}parseObjectData(t,n,r,i){const s=super.parseObjectData(t,n,r,i);for(let o=0;o<s.length;o++){const a=n[r+o];s[o]._custom=bt(a&&a.r&&+a.r,this.resolveDataElementOptions(o+r).radius)}return s}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let r=t.length-1;r>=0;--r)n=Math.max(n,t[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,o=this.getParsed(t),a=i.getLabelForValue(o.x),u=s.getLabelForValue(o.y),c=o._custom;return{label:r[t]||"",value:"("+a+", "+u+(c?", "+c:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,r,i){const s=i==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:u,includeOptions:c}=this._getSharedOptions(n,i),f=o.axis,p=a.axis;for(let g=n;g<n+r;g++){const x=t[g],w=!s&&this.getParsed(g),S={},k=S[f]=s?o.getPixelForDecimal(.5):o.getPixelForValue(w[f]),E=S[p]=s?a.getBasePixel():a.getPixelForValue(w[p]);S.skip=isNaN(k)||isNaN(E),c&&(S.options=u||this.resolveDataElementOptions(g,x.active?"active":i),s&&(S.options.radius=0)),this.updateElement(x,g,S,i)}}resolveDataElementOptions(t,n){const r=this.getParsed(t);let i=super.resolveDataElementOptions(t,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const s=i.radius;return n!=="active"&&(i.radius=0),i.radius+=bt(r&&r._custom,s),i}}function gR(e,t,n){let r=1,i=1,s=0,o=0;if(t<gn){const a=e,u=a+t,c=Math.cos(a),f=Math.sin(a),p=Math.cos(u),g=Math.sin(u),x=(R,z,U)=>Qd(R,a,u,!0)?1:Math.max(z,z*n,U,U*n),w=(R,z,U)=>Qd(R,a,u,!0)?-1:Math.min(z,z*n,U,U*n),S=x(0,c,p),k=x(Dn,f,g),E=w(Gt,c,p),L=w(Gt+Dn,f,g);r=(S-E)/2,i=(k-L)/2,s=-(S+E)/2,o=-(k+L)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class Tm extends va{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=t.legend.options;return n.labels.map((s,o)=>{const u=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:i,lineWidth:u.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=u=>+r[u];if(Bt(r[t])){const{key:u="value"}=this._parsing;s=c=>+da(r[c],u)}let o,a;for(o=t,a=t+n;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return ms(this.options.rotation-90)}_getCircumference(){return ms(this.options.circumference)}_getRotationExtents(){let t=gn,n=-gn;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();t=Math.min(t,s),n=Math.max(n,s+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),u=Math.min(EO(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:f,rotation:p}=this._getRotationExtents(),{ratioX:g,ratioY:x,offsetX:w,offsetY:S}=gR(p,f,u),k=(r.width-o)/g,E=(r.height-o)/x,L=Math.max(Math.min(k,E)/2,0),R=X_(this.options.radius,L),z=Math.max(R*u,0),U=(R-z)/this._getVisibleDatasetWeightTotal();this.offsetX=w*R,this.offsetY=S*R,i.total=this.calculateTotal(),this.outerRadius=R-U*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-U*c,0),this.updateElements(s,0,s.length,t)}_circumference(t,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*s/gn)}updateElements(t,n,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,f=(a.left+a.right)/2,p=(a.top+a.bottom)/2,g=s&&c.animateScale,x=g?0:this.innerRadius,w=g?0:this.outerRadius,{sharedOptions:S,includeOptions:k}=this._getSharedOptions(n,i);let E=this._getRotation(),L;for(L=0;L<n;++L)E+=this._circumference(L,s);for(L=n;L<n+r;++L){const R=this._circumference(L,s),z=t[L],U={x:f+this.offsetX,y:p+this.offsetY,startAngle:E,endAngle:E+R,circumference:R,outerRadius:w,innerRadius:x};k&&(U.options=S||this.resolveDataElementOptions(L,z.active?"active":i)),E+=R,this.updateElement(z,L,U,i)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let r=0,i;for(i=0;i<n.length;i++){const s=t._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?gn*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=ah(n._parsed[t],r.options.locale);return{label:i[t]||"",value:s}}getMaxBorderWidth(t){let n=0;const r=this.chart;let i,s,o,a,u;if(!t){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),t=o.data,a=o.controller;break}}if(!t)return 0;for(i=0,s=t.length;i<s;++i)u=a.resolveDataElementOptions(i),u.borderAlign!=="inner"&&(n=Math.max(n,u.borderWidth||0,u.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let r=0,i=t.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(t){return Math.max(bt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class yR extends va{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:u}=s7(n,i,o);this._drawStart=a,this._drawCount=u,o7(n)&&(a=0,u=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},t),this.updateElements(i,a,u,t)}updateElements(t,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:u,_dataset:c}=this._cachedMeta,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(n,i),g=o.axis,x=a.axis,{spanGaps:w,segment:S}=this.options,k=xl(w)?w:Number.POSITIVE_INFINITY,E=this.chart._animationsDisabled||s||i==="none",L=n+r,R=t.length;let z=n>0&&this.getParsed(n-1);for(let U=0;U<R;++U){const P=t[U],I=E?P:{};if(U<n||U>=L){I.skip=!0;continue}const H=this.getParsed(U),Q=Ft(H[x]),F=I[g]=o.getPixelForValue(H[g],U),le=I[x]=s||Q?a.getBasePixel():a.getPixelForValue(u?this.applyStack(a,H,u):H[x],U);I.skip=isNaN(F)||isNaN(le)||Q,I.stop=U>0&&Math.abs(H[g]-z[g])>k,S&&(I.parsed=H,I.raw=c.data[U]),p&&(I.options=f||this.resolveDataElementOptions(U,P.active?"active":i)),E||this.updateElement(P,U,I,i),z=H}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,r=n.options&&n.options.borderWidth||0,i=t.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class j7 extends va{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=t.legend.options;return n.labels.map((s,o)=>{const u=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:i,lineWidth:u.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=ah(n._parsed[t].r,r.options.locale);return{label:i[t]||"",value:s}}parseObjectData(t,n,r,i){return p7.bind(this)(t,n,r,i)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((r,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,r=t.options,i=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(i/2,0),o=Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0),a=(s-o)/t.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,n,r,i){const s=i==="reset",o=this.chart,u=o.options.animation,c=this._cachedMeta.rScale,f=c.xCenter,p=c.yCenter,g=c.getIndexAngle(0)-.5*Gt;let x=g,w;const S=360/this.countVisibleElements();for(w=0;w<n;++w)x+=this._computeAngle(w,i,S);for(w=n;w<n+r;w++){const k=t[w];let E=x,L=x+this._computeAngle(w,i,S),R=o.getDataVisibility(w)?c.getDistanceFromCenterForValue(this.getParsed(w).r):0;x=L,s&&(u.animateScale&&(R=0),u.animateRotate&&(E=L=g));const z={x:f,y:p,innerRadius:0,outerRadius:R,startAngle:E,endAngle:L,options:this.resolveDataElementOptions(w,k.active?"active":i)};this.updateElement(k,w,z,i)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((r,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(t,n,r){return this.chart.getDataVisibility(t)?ms(this.resolveDataElementOptions(t,n).angle||r):0}}class vR extends Tm{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class E7 extends va{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const n=this._cachedMeta.vScale,r=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(t,n,r,i){return p7.bind(this)(t,n,r,i)}update(t){const n=this._cachedMeta,r=n.dataset,i=n.data||[],s=n.iScale.getLabels();if(r.points=i,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===i.length,options:o};this.updateElement(r,void 0,a,t)}this.updateElements(i,0,i.length,t)}updateElements(t,n,r,i){const s=this._cachedMeta.rScale,o=i==="reset";for(let a=n;a<n+r;a++){const u=t[a],c=this.resolveDataElementOptions(a,u.active?"active":i),f=s.getPointPositionForValue(a,this.getParsed(a).r),p=o?s.xCenter:f.x,g=o?s.yCenter:f.y,x={x:p,y:g,angle:f.angle,skip:isNaN(p)||isNaN(g),options:c};this.updateElement(u,a,x,i)}}}class xR extends va{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,o=this.getParsed(t),a=i.getLabelForValue(o.x),u=s.getLabelForValue(o.y);return{label:r[t]||"",value:"("+a+", "+u+")"}}update(t){const n=this._cachedMeta,{data:r=[]}=n,i=this.chart._animationsDisabled;let{start:s,count:o}=s7(n,r,i);if(this._drawStart=s,this._drawCount=o,o7(n)&&(s=0,o=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:u}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!u._decimated,a.points=r;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,s,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:u,_dataset:c}=this._cachedMeta,f=this.resolveDataElementOptions(n,i),p=this.getSharedOptions(f),g=this.includeOptions(i,p),x=o.axis,w=a.axis,{spanGaps:S,segment:k}=this.options,E=xl(S)?S:Number.POSITIVE_INFINITY,L=this.chart._animationsDisabled||s||i==="none";let R=n>0&&this.getParsed(n-1);for(let z=n;z<n+r;++z){const U=t[z],P=this.getParsed(z),I=L?U:{},H=Ft(P[w]),Q=I[x]=o.getPixelForValue(P[x],z),F=I[w]=s||H?a.getBasePixel():a.getPixelForValue(u?this.applyStack(a,P,u):P[w],z);I.skip=isNaN(Q)||isNaN(F)||H,I.stop=z>0&&Math.abs(P[x]-R[x])>E,k&&(I.parsed=P,I.raw=c.data[z]),g&&(I.options=p||this.resolveDataElementOptions(z,U.active?"active":i)),L||this.updateElement(U,z,I,i),R=P}this.updateSharedOptions(p,i,f)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let a=0;for(let u=n.length-1;u>=0;--u)a=Math.max(a,n[u].size(this.resolveDataElementOptions(u))/2);return a>0&&a}const r=t.dataset,i=r.options&&r.options.borderWidth||0;if(!n.length)return i;const s=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,s,o)/2}}var bR=Object.freeze({__proto__:null,BarController:k7,BubbleController:mR,DoughnutController:Tm,LineController:yR,PieController:vR,PolarAreaController:j7,RadarController:E7,ScatterController:xR});function Ya(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Wv{static override(t){Object.assign(Wv.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Ya()}parse(){return Ya()}format(){return Ya()}add(){return Ya()}diff(){return Ya()}startOf(){return Ya()}endOf(){return Ya()}}var wR={_date:Wv};function _R(e,t,n,r){const{controller:i,data:s,_sorted:o}=e,a=i._cachedMeta.iScale,u=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&s.length){const c=a._reversePixels?zO:po;if(r){if(i._sharedOptions){const f=s[0],p=typeof f.getRange=="function"&&f.getRange(t);if(p){const g=c(s,t,n-p),x=c(s,t,n+p);return{lo:g.lo,hi:x.hi}}}}else{const f=c(s,t,n);if(u){const{vScale:p}=i._cachedMeta,{_parsed:g}=e,x=g.slice(0,f.lo+1).reverse().findIndex(S=>!Ft(S[p.axis]));f.lo-=Math.max(0,x);const w=g.slice(f.hi).findIndex(S=>!Ft(S[p.axis]));f.hi+=Math.max(0,w)}return f}}return{lo:0,hi:s.length-1}}function Nm(e,t,n,r,i){const s=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,u=s.length;a<u;++a){const{index:c,data:f}=s[a],{lo:p,hi:g}=_R(s[a],t,o,i);for(let x=p;x<=g;++x){const w=f[x];w.skip||r(w,c,x)}}}function SR(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(r,i){const s=t?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Z0(e,t,n,r,i){const s=[];return!i&&!e.isPointInArea(t)||Nm(e,n,t,function(a,u,c){!i&&!mo(a,e.chartArea,0)||a.inRange(t.x,t.y,r)&&s.push({element:a,datasetIndex:u,index:c})},!0),s}function CR(e,t,n,r){let i=[];function s(o,a,u){const{startAngle:c,endAngle:f}=o.getProps(["startAngle","endAngle"],r),{angle:p}=e7(o,{x:t.x,y:t.y});Qd(p,c,f)&&i.push({element:o,datasetIndex:a,index:u})}return Nm(e,n,t,s),i}function kR(e,t,n,r,i,s){let o=[];const a=SR(n);let u=Number.POSITIVE_INFINITY;function c(f,p,g){const x=f.inRange(t.x,t.y,i);if(r&&!x)return;const w=f.getCenterPoint(i);if(!(!!s||e.isPointInArea(w))&&!x)return;const k=a(t,w);k<u?(o=[{element:f,datasetIndex:p,index:g}],u=k):k===u&&o.push({element:f,datasetIndex:p,index:g})}return Nm(e,n,t,c),o}function e1(e,t,n,r,i,s){return!s&&!e.isPointInArea(t)?[]:n==="r"&&!r?CR(e,t,n,i):kR(e,t,n,r,i,s)}function P3(e,t,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Nm(e,n,t,(u,c,f)=>{u[o]&&u[o](t[n],i)&&(s.push({element:u,datasetIndex:c,index:f}),a=a||u.inRange(t.x,t.y,i))}),r&&!a?[]:s}var jR={modes:{index(e,t,n,r){const i=rl(t,e),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Z0(e,i,s,r,o):e1(e,i,s,!1,r,o),u=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const f=a[0].index,p=c.data[f];p&&!p.skip&&u.push({element:p,datasetIndex:c.index,index:f})}),u):[]},dataset(e,t,n,r){const i=rl(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Z0(e,i,s,r,o):e1(e,i,s,!1,r,o);if(a.length>0){const u=a[0].datasetIndex,c=e.getDatasetMeta(u).data;a=[];for(let f=0;f<c.length;++f)a.push({element:c[f],datasetIndex:u,index:f})}return a},point(e,t,n,r){const i=rl(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return Z0(e,i,s,r,o)},nearest(e,t,n,r){const i=rl(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return e1(e,i,s,n.intersect,r,o)},x(e,t,n,r){const i=rl(t,e);return P3(e,i,"x",n.intersect,r)},y(e,t,n,r){const i=rl(t,e);return P3(e,i,"y",n.intersect,r)}}};const T7=["left","top","right","bottom"];function nd(e,t){return e.filter(n=>n.pos===t)}function O3(e,t){return e.filter(n=>T7.indexOf(n.pos)===-1&&n.box.axis===t)}function rd(e,t){return e.sort((n,r)=>{const i=t?r:n,s=t?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function ER(e){const t=[];let n,r,i,s,o,a;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,t.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return t}function TR(e){const t={};for(const n of e){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!T7.includes(i))continue;const o=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function NR(e,t){const n=TR(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let s,o,a;for(s=0,o=e.length;s<o;++s){a=e[s];const{fullSize:u}=a.box,c=n[a.stack],f=c&&a.stackWeight/c.weight;a.horizontal?(a.width=f?f*r:u&&t.availableWidth,a.height=i):(a.width=r,a.height=f?f*i:u&&t.availableHeight)}return n}function PR(e){const t=ER(e),n=rd(t.filter(c=>c.box.fullSize),!0),r=rd(nd(t,"left"),!0),i=rd(nd(t,"right")),s=rd(nd(t,"top"),!0),o=rd(nd(t,"bottom")),a=O3(t,"x"),u=O3(t,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(u).concat(o).concat(a),chartArea:nd(t,"chartArea"),vertical:r.concat(i).concat(u),horizontal:s.concat(o).concat(a)}}function L3(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function N7(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function OR(e,t,n,r){const{pos:i,box:s}=n,o=e.maxPadding;if(!Bt(i)){n.size&&(e[i]-=n.size);const p=r[n.stack]||{size:0,count:1};p.size=Math.max(p.size,n.horizontal?s.height:s.width),n.size=p.size/p.count,e[i]+=n.size}s.getPadding&&N7(o,s.getPadding());const a=Math.max(0,t.outerWidth-L3(o,e,"left","right")),u=Math.max(0,t.outerHeight-L3(o,e,"top","bottom")),c=a!==e.w,f=u!==e.h;return e.w=a,e.h=u,n.horizontal?{same:c,other:f}:{same:f,other:c}}function LR(e){const t=e.maxPadding;function n(r){const i=Math.max(t[r]-e[r],0);return e[r]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function RR(e,t){const n=t.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(t[o],n[o])}),s}return r(e?["left","right"]:["top","bottom"])}function xd(e,t,n,r){const i=[];let s,o,a,u,c,f;for(s=0,o=e.length,c=0;s<o;++s){a=e[s],u=a.box,u.update(a.width||t.w,a.height||t.h,RR(a.horizontal,t));const{same:p,other:g}=OR(t,n,a,r);c|=p&&i.length,f=f||g,u.fullSize||i.push(a)}return c&&xd(i,t,n,r)||f}function qf(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function R3(e,t,n,r){const i=n.padding;let{x:s,y:o}=t;for(const a of e){const u=a.box,c=r[a.stack]||{placed:0,weight:1},f=a.stackWeight/c.weight||1;if(a.horizontal){const p=t.w*f,g=c.size||u.height;Hd(c.start)&&(o=c.start),u.fullSize?qf(u,i.left,o,n.outerWidth-i.right-i.left,g):qf(u,t.left+c.placed,o,p,g),c.start=o,c.placed+=p,o=u.bottom}else{const p=t.h*f,g=c.size||u.width;Hd(c.start)&&(s=c.start),u.fullSize?qf(u,s,i.top,g,n.outerHeight-i.bottom-i.top):qf(u,s,t.top+c.placed,g,p),c.start=s,c.placed+=p,s=u.right}}t.x=s,t.y=o}var kr={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=Tr(e.options.layout.padding),s=Math.max(t-i.width,0),o=Math.max(n-i.height,0),a=PR(e.boxes),u=a.vertical,c=a.horizontal;en(e.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const f=u.reduce((S,k)=>k.box.options&&k.box.options.display===!1?S:S+1,0)||1,p=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/f,hBoxMaxHeight:o/2}),g=Object.assign({},i);N7(g,Tr(r));const x=Object.assign({maxPadding:g,w:s,h:o,x:i.left,y:i.top},i),w=NR(u.concat(c),p);xd(a.fullSize,x,p,w),xd(u,x,p,w),xd(c,x,p,w)&&xd(u,x,p,w),LR(x),R3(a.leftAndTop,x,p,w),x.x+=x.w,x.y+=x.h,R3(a.rightAndBottom,x,p,w),e.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},en(a.chartArea,S=>{const k=S.box;Object.assign(k,e.chartArea),k.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class P7{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,r){}removeEventListener(t,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,r,i){return n=Math.max(0,n||t.width),r=r||t.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(t){return!0}updateConfig(t){}}class AR extends P7{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const jp="$chartjs",MR={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},A3=e=>e===null||e==="";function IR(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[jp]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",A3(i)){const s=y3(e,"width");s!==void 0&&(e.width=s)}if(A3(r))if(e.style.height==="")e.height=e.width/(t||2);else{const s=y3(e,"height");s!==void 0&&(e.height=s)}return e}const O7=RL?{passive:!0}:!1;function DR(e,t,n){e&&e.addEventListener(t,n,O7)}function FR(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,O7)}function BR(e,t){const n=MR[e.type]||e.type,{x:r,y:i}=rl(e,t);return{type:n,chart:t,native:e,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Yp(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function zR(e,t,n){const r=e.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Yp(a.addedNodes,r),o=o&&!Yp(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function $R(e,t,n){const r=e.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Yp(a.removedNodes,r),o=o&&!Yp(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Wd=new Map;let M3=0;function L7(){const e=window.devicePixelRatio;e!==M3&&(M3=e,Wd.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function UR(e,t){Wd.size||window.addEventListener("resize",L7),Wd.set(e,t)}function HR(e){Wd.delete(e),Wd.size||window.removeEventListener("resize",L7)}function QR(e,t,n){const r=e.canvas,i=r&&Vv(r);if(!i)return;const s=i7((a,u)=>{const c=i.clientWidth;n(a,u),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const u=a[0],c=u.contentRect.width,f=u.contentRect.height;c===0&&f===0||s(c,f)});return o.observe(i),UR(e,s),o}function t1(e,t,n){n&&n.disconnect(),t==="resize"&&HR(e)}function VR(e,t,n){const r=e.canvas,i=i7(s=>{e.ctx!==null&&n(BR(s,e))},e);return DR(r,t,i),i}class WR extends P7{acquireContext(t,n){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(IR(t,n),r):null}releaseContext(t){const n=t.canvas;if(!n[jp])return!1;const r=n[jp].initial;["height","width"].forEach(s=>{const o=r[s];Ft(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[jp],!0}addEventListener(t,n,r){this.removeEventListener(t,n);const i=t.$proxies||(t.$proxies={}),o={attach:zR,detach:$R,resize:QR}[n]||VR;i[n]=o(t,n,r)}removeEventListener(t,n){const r=t.$proxies||(t.$proxies={}),i=r[n];if(!i)return;({attach:t1,detach:t1,resize:t1}[n]||FR)(t,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,r,i){return LL(t,n,r,i)}isAttached(t){const n=t&&Vv(t);return!!(n&&n.isConnected)}}function qR(e){return!Qv()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?AR:WR}let bo=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}hasValue(){return xl(this.x)&&xl(this.y)}getProps(t,n){const r=this.$animations;if(!n||!r)return this;const i={};return t.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}};function KR(e,t){const n=e.options.ticks,r=GR(e),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?XR(t):[],o=s.length,a=s[0],u=s[o-1],c=[];if(o>i)return JR(t,c,s,o/i),c;const f=YR(s,t,i);if(o>0){let p,g;const x=o>1?Math.round((u-a)/(o-1)):null;for(Kf(t,c,f,Ft(x)?0:a-x,a),p=0,g=o-1;p<g;p++)Kf(t,c,f,s[p],s[p+1]);return Kf(t,c,f,u,Ft(x)?t.length:u+x),c}return Kf(t,c,f),c}function GR(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}function YR(e,t,n){const r=ZR(e),i=t.length/n;if(!r)return Math.max(i,1);const s=MO(r);for(let o=0,a=s.length-1;o<a;o++){const u=s[o];if(u>i)return u}return Math.max(i,1)}function XR(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}function JR(e,t,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<e.length;o++)o===s&&(t.push(e[o]),i++,s=n[i*r])}function Kf(e,t,n,r,i){const s=bt(r,0),o=Math.min(bt(i,e.length),e.length);let a=0,u,c,f;for(n=Math.ceil(n),i&&(u=i-r,n=u/Math.floor(u/n)),f=s;f<0;)a++,f=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===f&&(t.push(e[c]),a++,f=Math.round(s+a*n))}function ZR(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}const eA=e=>e==="left"?"right":e==="right"?"left":e,I3=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,D3=(e,t)=>Math.min(t||e,e);function F3(e,t){const n=[],r=e.length/t,i=e.length;let s=0;for(;s<i;s+=r)n.push(e[Math.floor(s)]);return n}function tA(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),s=e._startPixel,o=e._endPixel,a=1e-6;let u=e.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(u-s,o-u):t===0?c=(e.getPixelForTick(1)-u)/2:c=(u-e.getPixelForTick(i-1))/2,u+=i<t?c:-c,u<s-a||u>o+a)))return u}function nA(e,t){en(e,n=>{const r=n.gc,i=r.length/2;let s;if(i>t){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function id(e){return e.drawTicks?e.tickLength:0}function B3(e,t){if(!e.display)return 0;const n=Yn(e.font,t),r=Tr(e.padding);return(Sn(e.text)?e.text.length:1)*n.lineHeight+r.height}function rA(e,t){return ya(e,{scale:t,type:"scale"})}function iA(e,t,n){return ya(e,{tick:n,index:t,type:"tick"})}function sA(e,t,n){let r=Fv(e);return(n&&t!=="right"||!n&&t==="right")&&(r=eA(r)),r}function oA(e,t,n,r){const{top:i,left:s,bottom:o,right:a,chart:u}=e,{chartArea:c,scales:f}=u;let p=0,g,x,w;const S=o-i,k=a-s;if(e.isHorizontal()){if(x=_r(r,s,a),Bt(n)){const E=Object.keys(n)[0],L=n[E];w=f[E].getPixelForValue(L)+S-t}else n==="center"?w=(c.bottom+c.top)/2+S-t:w=I3(e,n,t);g=a-s}else{if(Bt(n)){const E=Object.keys(n)[0],L=n[E];x=f[E].getPixelForValue(L)-k+t}else n==="center"?x=(c.left+c.right)/2-k+t:x=I3(e,n,t);w=_r(r,o,i),p=n==="left"?-Dn:Dn}return{titleX:x,titleY:w,maxWidth:g,rotation:p}}class El extends bo{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return t=bi(t,Number.POSITIVE_INFINITY),n=bi(n,Number.NEGATIVE_INFINITY),r=bi(r,Number.POSITIVE_INFINITY),i=bi(i,Number.NEGATIVE_INFINITY),{min:bi(t,r),max:bi(n,i),minDefined:Pn(t),maxDefined:Pn(n)}}getMinMax(t){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let u=0,c=a.length;u<c;++u)o=a[u].controller.getMinMax(this,t),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:bi(n,bi(r,n)),max:bi(r,bi(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){un(this.options.beforeUpdate,[this])}update(t,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=cL(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=a<this.ticks.length;this._convertTicksToLabels(u?F3(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=KR(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,t=!t),this._startPixel=n,this._endPixel=r,this._reversePixels=t,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){un(this.options.afterUpdate,[this])}beforeSetDimensions(){un(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){un(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),un(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){un(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r],s.label=un(n.callback,[s.value,r,t],this)}afterTickToLabelConversion(){un(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){un(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,r=D3(this.ticks.length,t.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,u,c;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const f=this._getLabelSizes(),p=f.widest.width,g=f.highest.height,x=ar(this.chart.width-p,0,this.maxWidth);a=t.offset?this.maxWidth/r:x/(r-1),p+6>a&&(a=x/(r-(t.offset?.5:1)),u=this.maxHeight-id(t.grid)-n.padding-B3(t.title,this.chart.options.font),c=Math.sqrt(p*p+g*g),o=Iv(Math.min(Math.asin(ar((f.highest.height+6)/a,-1,1)),Math.asin(ar(u/c,-1,1))-Math.asin(ar(g/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){un(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){un(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const u=B3(i,n.options.font);if(a?(t.width=this.maxWidth,t.height=id(s)+u):(t.height=this.maxHeight,t.width=id(s)+u),r.display&&this.ticks.length){const{first:c,last:f,widest:p,highest:g}=this._getLabelSizes(),x=r.padding*2,w=ms(this.labelRotation),S=Math.cos(w),k=Math.sin(w);if(a){const E=r.mirror?0:k*p.width+S*g.height;t.height=Math.min(this.maxHeight,t.height+E+x)}else{const E=r.mirror?0:S*p.width+k*g.height;t.width=Math.min(this.maxWidth,t.width+E+x)}this._calculatePadding(c,f,k,S)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,u=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,x=0;u?c?(g=i*t.width,x=r*n.height):(g=r*t.height,x=i*n.width):s==="start"?x=n.width:s==="end"?g=t.width:s!=="inner"&&(g=t.width/2,x=n.width/2),this.paddingLeft=Math.max((g-f+o)*this.width/(this.width-f),0),this.paddingRight=Math.max((x-p+o)*this.width/(this.width-p),0)}else{let f=n.height/2,p=t.height/2;s==="start"?(f=0,p=t.height):s==="end"&&(f=n.height,p=0),this.paddingTop=f+o,this.paddingBottom=p+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){un(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,r;for(n=0,r=t.length;n<r;n++)Ft(t[n].label)&&(t.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=F3(r,n)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],u=Math.floor(n/D3(n,r));let c=0,f=0,p,g,x,w,S,k,E,L,R,z,U;for(p=0;p<n;p+=u){if(w=t[p].label,S=this._resolveTickFontOptions(p),i.font=k=S.string,E=s[k]=s[k]||{data:{},gc:[]},L=S.lineHeight,R=z=0,!Ft(w)&&!Sn(w))R=Kp(i,E.data,E.gc,R,w),z=L;else if(Sn(w))for(g=0,x=w.length;g<x;++g)U=w[g],!Ft(U)&&!Sn(U)&&(R=Kp(i,E.data,E.gc,R,U),z+=L);o.push(R),a.push(z),c=Math.max(R,c),f=Math.max(z,f)}nA(s,n);const P=o.indexOf(c),I=a.indexOf(f),H=Q=>({width:o[Q]||0,height:a[Q]||0});return{first:H(0),last:H(n-1),widest:H(P),highest:H(I),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return BO(this._alignToPixels?Ga(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const r=n[t];return r.$context||(r.$context=iA(this.getContext(),t,r))}return this.$context||(this.$context=rA(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=ms(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,a=s?s.widest.width+o:0,u=s?s.highest.height+o:0;return this.isHorizontal()?u*r>a*i?a/r:u/i:u*i<a*r?u/r:a/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,u=s.offset,c=this.isHorizontal(),p=this.ticks.length+(u?1:0),g=id(s),x=[],w=a.setContext(this.getContext()),S=w.display?w.width:0,k=S/2,E=function(J){return Ga(r,J,S)};let L,R,z,U,P,I,H,Q,F,le,ue,ae;if(o==="top")L=E(this.bottom),I=this.bottom-g,Q=L-k,le=E(t.top)+k,ae=t.bottom;else if(o==="bottom")L=E(this.top),le=t.top,ae=E(t.bottom)-k,I=L+k,Q=this.top+g;else if(o==="left")L=E(this.right),P=this.right-g,H=L-k,F=E(t.left)+k,ue=t.right;else if(o==="right")L=E(this.left),F=t.left,ue=E(t.right)-k,P=L+k,H=this.left+g;else if(n==="x"){if(o==="center")L=E((t.top+t.bottom)/2+.5);else if(Bt(o)){const J=Object.keys(o)[0],te=o[J];L=E(this.chart.scales[J].getPixelForValue(te))}le=t.top,ae=t.bottom,I=L+k,Q=I+g}else if(n==="y"){if(o==="center")L=E((t.left+t.right)/2);else if(Bt(o)){const J=Object.keys(o)[0],te=o[J];L=E(this.chart.scales[J].getPixelForValue(te))}P=L-k,H=P-g,F=t.left,ue=t.right}const q=bt(i.ticks.maxTicksLimit,p),V=Math.max(1,Math.ceil(p/q));for(R=0;R<p;R+=V){const J=this.getContext(R),te=s.setContext(J),ne=a.setContext(J),me=te.lineWidth,D=te.color,G=ne.dash||[],ye=ne.dashOffset,B=te.tickWidth,De=te.tickColor,je=te.tickBorderDash||[],Ee=te.tickBorderDashOffset;z=tA(this,R,u),z!==void 0&&(U=Ga(r,z,me),c?P=H=F=ue=U:I=Q=le=ae=U,x.push({tx1:P,ty1:I,tx2:H,ty2:Q,x1:F,y1:le,x2:ue,y2:ae,width:me,color:D,borderDash:G,borderDashOffset:ye,tickWidth:B,tickColor:De,tickBorderDash:je,tickBorderDashOffset:Ee}))}return this._ticksLength=p,this._borderValue=L,x}_computeLabelItems(t){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:u,crossAlign:c,padding:f,mirror:p}=s,g=id(r.grid),x=g+f,w=p?-f:x,S=-ms(this.labelRotation),k=[];let E,L,R,z,U,P,I,H,Q,F,le,ue,ae="middle";if(i==="top")P=this.bottom-w,I=this._getXAxisLabelAlignment();else if(i==="bottom")P=this.top+w,I=this._getXAxisLabelAlignment();else if(i==="left"){const V=this._getYAxisLabelAlignment(g);I=V.textAlign,U=V.x}else if(i==="right"){const V=this._getYAxisLabelAlignment(g);I=V.textAlign,U=V.x}else if(n==="x"){if(i==="center")P=(t.top+t.bottom)/2+x;else if(Bt(i)){const V=Object.keys(i)[0],J=i[V];P=this.chart.scales[V].getPixelForValue(J)+x}I=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")U=(t.left+t.right)/2-x;else if(Bt(i)){const V=Object.keys(i)[0],J=i[V];U=this.chart.scales[V].getPixelForValue(J)}I=this._getYAxisLabelAlignment(g).textAlign}n==="y"&&(u==="start"?ae="top":u==="end"&&(ae="bottom"));const q=this._getLabelSizes();for(E=0,L=a.length;E<L;++E){R=a[E],z=R.label;const V=s.setContext(this.getContext(E));H=this.getPixelForTick(E)+s.labelOffset,Q=this._resolveTickFontOptions(E),F=Q.lineHeight,le=Sn(z)?z.length:1;const J=le/2,te=V.color,ne=V.textStrokeColor,me=V.textStrokeWidth;let D=I;o?(U=H,I==="inner"&&(E===L-1?D=this.options.reverse?"left":"right":E===0?D=this.options.reverse?"right":"left":D="center"),i==="top"?c==="near"||S!==0?ue=-le*F+F/2:c==="center"?ue=-q.highest.height/2-J*F+F:ue=-q.highest.height+F/2:c==="near"||S!==0?ue=F/2:c==="center"?ue=q.highest.height/2-J*F:ue=q.highest.height-le*F,p&&(ue*=-1),S!==0&&!V.showLabelBackdrop&&(U+=F/2*Math.sin(S))):(P=H,ue=(1-le)*F/2);let G;if(V.showLabelBackdrop){const ye=Tr(V.backdropPadding),B=q.heights[E],De=q.widths[E];let je=ue-ye.top,Ee=0-ye.left;switch(ae){case"middle":je-=B/2;break;case"bottom":je-=B;break}switch(I){case"center":Ee-=De/2;break;case"right":Ee-=De;break;case"inner":E===L-1?Ee-=De:E>0&&(Ee-=De/2);break}G={left:Ee,top:je,width:De+ye.width,height:B+ye.height,color:V.backdropColor}}k.push({label:z,font:Q,textOffset:ue,options:{rotation:S,color:te,strokeColor:ne,strokeWidth:me,textAlign:D,textBaseline:ae,translation:[U,P],backdrop:G}})}return k}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-ms(this.labelRotation))return t==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=t+s,u=o.widest.width;let c,f;return n==="left"?i?(f=this.right+s,r==="near"?c="left":r==="center"?(c="center",f+=u/2):(c="right",f+=u)):(f=this.right-a,r==="near"?c="right":r==="center"?(c="center",f-=u/2):(c="left",f=this.left)):n==="right"?i?(f=this.left+s,r==="near"?c="right":r==="center"?(c="center",f-=u/2):(c="left",f-=u)):(f=this.left+a,r==="near"?c="left":r==="center"?(c="center",f+=u/2):(c="right",f=this.right)):c="right",{textAlign:c,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(r,i,s,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===t);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,o;const a=(u,c,f)=>{!f.width||!f.color||(r.save(),r.lineWidth=f.width,r.strokeStyle=f.color,r.setLineDash(f.borderDash||[]),r.lineDashOffset=f.borderDashOffset,r.beginPath(),r.moveTo(u.x,u.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const u=i[s];n.drawOnChartArea&&a({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&a({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let c,f,p,g;this.isHorizontal()?(c=Ga(t,this.left,o)-o/2,f=Ga(t,this.right,a)+a/2,p=g=u):(p=Ga(t,this.top,o)-o/2,g=Ga(t,this.bottom,a)+a/2,c=f=u),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,p),n.lineTo(f,g),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&km(r,i);const s=this.getLabelItems(t);for(const o of s){const a=o.options,u=o.font,c=o.label,f=o.textOffset;wl(r,c,0,f,u,a)}i&&jm(r)}drawTitle(){const{ctx:t,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=Yn(r.font),o=Tr(r.padding),a=r.align;let u=s.lineHeight/2;n==="bottom"||n==="center"||Bt(n)?(u+=o.bottom,Sn(r.text)&&(u+=s.lineHeight*(r.text.length-1))):u+=o.top;const{titleX:c,titleY:f,maxWidth:p,rotation:g}=oA(this,u,n,a);wl(t,r.text,0,0,s,{color:r.color,maxWidth:p,rotation:g,textAlign:sA(a,n,i),textBaseline:"middle",translation:[c,f]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,r=bt(t.grid&&t.grid.z,-1),i=bt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==El.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!t||a.type===t)&&i.push(a)}return i}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Yn(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Gf{constructor(t,n,r){this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let r;uA(n)&&(r=this.register(n));const i=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in i||(i[s]=t,aA(t,o,r),this.override&&Cn.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,r=t.id,i=this.scope;r in n&&delete n[r],i&&r in Cn[i]&&(delete Cn[i][r],this.override&&delete bl[r])}}function aA(e,t,n){const r=Ud(Object.create(null),[n?Cn.get(n):{},Cn.get(t),e.defaults]);Cn.set(t,r),e.defaultRoutes&&lA(t,e.defaultRoutes),e.descriptors&&Cn.describe(t,e.descriptors)}function lA(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),i=r.pop(),s=[e].concat(r).join("."),o=t[n].split("."),a=o.pop(),u=o.join(".");Cn.route(s,i,u,a)})}function uA(e){return"id"in e&&"defaults"in e}class cA{constructor(){this.controllers=new Gf(va,"datasets",!0),this.elements=new Gf(bo,"elements"),this.plugins=new Gf(Object,"plugins"),this.scales=new Gf(El,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(t,s,i):en(i,o=>{const a=r||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,r){const i=Mv(t);un(r["before"+i],[],r),n[t](r),un(r["after"+i],[],r)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(t))return r}return this.plugins}_get(t,n,r){const i=n.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return i}}var Ls=new cA;class dA{constructor(){this._init=[]}notify(t,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(s,t,n,r);return n==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,r,i){i=i||{};for(const s of t){const o=s.plugin,a=o[r],u=[n,i,s.options];if(un(a,u,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Ft(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const r=t&&t.config,i=bt(r.options&&r.options.plugins,{}),s=hA(r);return i===!1&&!n?[]:pA(t,s,i,n)}_notifyStateChanges(t){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(u=>a.plugin.id===u.plugin.id));this._notify(i(n,r),t,"stop"),this._notify(i(r,n),t,"start")}}function hA(e){const t={},n=[],r=Object.keys(Ls.plugins.items);for(let s=0;s<r.length;s++)n.push(Ls.getPlugin(r[s]));const i=e.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function fA(e,t){return!t&&e===!1?null:e===!0?{}:e}function pA(e,{plugins:t,localIds:n},r,i){const s=[],o=e.getContext();for(const a of t){const u=a.id,c=fA(r[u],i);c!==null&&s.push({plugin:a,options:mA(e.config,{plugin:a,local:n[u]},c,o)})}return s}function mA(e,{plugin:t,local:n},r,i){const s=e.pluginScopeKeys(t),o=e.getOptionScopes(r,s);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function fy(e,t){const n=Cn.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function gA(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function yA(e,t){return e===t?"_index_":"_value_"}function z3(e){if(e==="x"||e==="y"||e==="r")return e}function vA(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function py(e,...t){if(z3(e))return e;for(const n of t){const r=n.axis||vA(n.position)||e.length>1&&z3(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function $3(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function xA(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(n.length)return $3(e,"x",n[0])||$3(e,"y",n[0])}return{}}function bA(e,t){const n=bl[e.type]||{scales:{}},r=t.scales||{},i=fy(e.type,t),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!Bt(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const u=py(o,a,xA(o,e),Cn.scales[a.type]),c=yA(u,i),f=n.scales||{};s[o]=kd(Object.create(null),[{axis:u},a,f[u],f[c]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,u=o.indexAxis||fy(a,t),f=(bl[a]||{}).scales||{};Object.keys(f).forEach(p=>{const g=gA(p,u),x=o[g+"AxisID"]||g;s[x]=s[x]||Object.create(null),kd(s[x],[{axis:g},r[x],f[p]])})}),Object.keys(s).forEach(o=>{const a=s[o];kd(a,[Cn.scales[a.type],Cn.scale])}),s}function R7(e){const t=e.options||(e.options={});t.plugins=bt(t.plugins,{}),t.scales=bA(e,t)}function A7(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function wA(e){return e=e||{},e.data=A7(e.data),R7(e),e}const U3=new Map,M7=new Set;function Yf(e,t){let n=U3.get(e);return n||(n=t(),U3.set(e,n),M7.add(n)),n}const sd=(e,t,n)=>{const r=da(t,n);r!==void 0&&e.add(r)};class _A{constructor(t){this._config=wA(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=A7(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),R7(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Yf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Yf(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Yf(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,r=this.type;return Yf(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const r=this._scopeCache;let i=r.get(t);return(!i||n)&&(i=new Map,r.set(t,i)),i}getOptionScopes(t,n,r){const{options:i,type:s}=this,o=this._cachedScopes(t,r),a=o.get(n);if(a)return a;const u=new Set;n.forEach(f=>{t&&(u.add(t),f.forEach(p=>sd(u,t,p))),f.forEach(p=>sd(u,i,p)),f.forEach(p=>sd(u,bl[s]||{},p)),f.forEach(p=>sd(u,Cn,p)),f.forEach(p=>sd(u,dy,p))});const c=Array.from(u);return c.length===0&&c.push(Object.create(null)),M7.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:t,type:n}=this;return[t,bl[n]||{},Cn.datasets[n]||{},{type:n},Cn,dy]}resolveNamedOptions(t,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=H3(this._resolverCache,t,i);let u=o;if(CA(o,n)){s.$shared=!1,r=ha(r)?r():r;const c=this.createResolver(t,r,a);u=Yu(o,r,c)}for(const c of n)s[c]=u[c];return s}createResolver(t,n,r=[""],i){const{resolver:s}=H3(this._resolverCache,t,r);return Bt(n)?Yu(s,n,void 0,i):s}}function H3(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let s=r.get(i);return s||(s={resolver:$v(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const SA=e=>Bt(e)&&Object.getOwnPropertyNames(e).some(t=>ha(e[t]));function CA(e,t){const{isScriptable:n,isIndexable:r}=c7(e);for(const i of t){const s=n(i),o=r(i),a=(o||s)&&e[i];if(s&&(ha(a)||SA(a))||o&&Sn(a))return!0}return!1}var kA="4.5.0";const jA=["top","bottom","left","right","chartArea"];function Q3(e,t){return e==="top"||e==="bottom"||jA.indexOf(e)===-1&&t==="x"}function V3(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function W3(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),un(n&&n.onComplete,[e],t)}function EA(e){const t=e.chart,n=t.options.animation;un(n&&n.onProgress,[e],t)}function I7(e){return Qv()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Ep={},q3=e=>{const t=I7(e);return Object.values(Ep).filter(n=>n.canvas===t).pop()};function TA(e,t,n){const r=Object.keys(e);for(const i of r){const s=+i;if(s>=t){const o=e[i];delete e[i],(n>0||s>t)&&(e[s+n]=o)}}}function NA(e,t,n,r){return!n||e.type==="mouseout"?null:r?t:e}let wo=class{static defaults=Cn;static instances=Ep;static overrides=bl;static registry=Ls;static version=kA;static getChart=q3;static register(...t){Ls.add(...t),K3()}static unregister(...t){Ls.remove(...t),K3()}constructor(t,n){const r=this.config=new _A(n),i=I7(t),s=q3(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||qR(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),u=a&&a.canvas,c=u&&u.height,f=u&&u.width;if(this.id=jO(),this.ctx=a,this.canvas=u,this.width=f,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new dA,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=HO(p=>this.update(p),o.resizeDelay||0),this._dataChanges=[],Ep[this.id]=this,!a||!u){console.error("Failed to create chart: can't acquire context from the given item");return}so.listen(this,"complete",W3),so.listen(this,"progress",EA),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return Ft(t)?n&&s?s:i?r/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ls}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():g3(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return f3(this.canvas,this.ctx),this}stop(){return so.stop(this),this}resize(t,n){so.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,g3(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),un(r.onResize,[this,o],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};en(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],u=py(o,a),c=u==="r",f=u==="x";return{options:a,dposition:c?"chartArea":f?"bottom":"left",dtype:c?"radialLinear":f?"category":"linear"}}))),en(s,o=>{const a=o.options,u=a.id,c=py(u,a),f=bt(a.type,o.dtype);(a.position===void 0||Q3(a.position,c)!==Q3(o.dposition))&&(a.position=o.dposition),i[u]=!0;let p=null;if(u in r&&r[u].type===f)p=r[u];else{const g=Ls.getScale(f);p=new g({id:u,type:f,ctx:this.ctx,chart:this}),r[p.id]=p}p.init(a,t)}),en(i,(o,a)=>{o||delete r[a]}),en(r,o=>{kr.configure(this,o,o.options),kr.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(V3("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||fy(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const u=Ls.getController(a),{datasetElementType:c,dataElementType:f}=Cn.datasets[a];Object.assign(u,{dataElementType:Ls.getElement(f),datasetElementType:c&&Ls.getElement(c)}),o.controller=new u(this,r),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){en(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,f=this.data.datasets.length;c<f;c++){const{controller:p}=this.getDatasetMeta(c),g=!i&&s.indexOf(p)===-1;p.buildOrUpdateElements(g),o=Math.max(+p.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||en(s,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(V3("z","_idx"));const{_active:a,_lastEvent:u}=this;u?this._eventHandler(u,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){en(this.scales,t=>{kr.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!i3(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;TA(t,i,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(t.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!i3(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;kr.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],en(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,ha(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),i={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(so.has(this)?this.attached&&!so.running(this)&&so.start(this):(this.draw(),W3({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!t||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r={meta:t,index:t.index,cancelable:!0},i=w7(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&km(n,i),t.controller.draw(),i&&jm(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return mo(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,i){const s=jR.modes[n];return typeof s=="function"?s(this,t,r,i):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=ya(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){const r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(t),o=s.controller._resolveAnimations(void 0,i);Hd(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===t?i:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),so.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),f3(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Ep[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),t[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};en(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(u,c)=>{n.addEventListener(this,u,c),t[u]=c},i=(u,c)=>{t[u]&&(n.removeEventListener(this,u,c),delete t[u])},s=(u,c)=>{this.canvas&&this.resize(u,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){en(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},en(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const i=r?"set":"remove";let s,o,a,u;for(n==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,u=t.length;a<u;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!Vp(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,r){const i=this.options.hover,s=(u,c)=>u.filter(f=>!c.some(p=>f.datasetIndex===p.datasetIndex&&f.index===p.index)),o=s(n,t),a=r?t:s(t,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},i=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(t,i,r,o),u=LO(t),c=NA(t,this._lastEvent,r,u);r&&(this._lastEvent=null,un(s.onHover,[t,a,this],this),u&&un(s.onClick,[t,a,this],this));const f=!Vp(a,i);return(f||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,f}_getActiveElements(t,n,r,i){if(t.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,i)}};function K3(){return en(wo.instances,e=>e._plugins.invalidate())}function PA(e,t,n){const{startAngle:r,x:i,y:s,outerRadius:o,innerRadius:a,options:u}=t,{borderWidth:c,borderJoinStyle:f}=u,p=Math.min(c/o,Sr(r-n));if(e.beginPath(),e.arc(i,s,o-c/2,r+p/2,n-p/2),a>0){const g=Math.min(c/a,Sr(r-n));e.arc(i,s,a+c/2,n-g/2,r+g/2,!0)}else{const g=Math.min(c/2,o*Sr(r-n));if(f==="round")e.arc(i,s,g,n-Gt/2,r+Gt/2,!0);else if(f==="bevel"){const x=2*g*g,w=-x*Math.cos(n+Gt/2)+i,S=-x*Math.sin(n+Gt/2)+s,k=x*Math.cos(r+Gt/2)+i,E=x*Math.sin(r+Gt/2)+s;e.lineTo(w,S),e.lineTo(k,E)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function OA(e,t,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:u}=t;let c=i/a;e.beginPath(),e.arc(s,o,a,r-c,n+c),u>i?(c=i/u,e.arc(s,o,u,n+c,r-c,!0)):e.arc(s,o,i,n+Dn,r-Dn),e.closePath(),e.clip()}function LA(e){return zv(e,["outerStart","outerEnd","innerStart","innerEnd"])}function RA(e,t,n,r){const i=LA(e.options.borderRadius),s=(n-t)/2,o=Math.min(s,r*t/2),a=u=>{const c=(n-Math.min(s,u))*r/2;return ar(u,0,Math.min(s,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:ar(i.innerStart,0,o),innerEnd:ar(i.innerEnd,0,o)}}function bu(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function Xp(e,t,n,r,i,s){const{x:o,y:a,startAngle:u,pixelMargin:c,innerRadius:f}=t,p=Math.max(t.outerRadius+r+n-c,0),g=f>0?f+r+n+c:0;let x=0;const w=i-u;if(r){const V=f>0?f-r:0,J=p>0?p-r:0,te=(V+J)/2,ne=te!==0?w*te/(te+r):w;x=(w-ne)/2}const S=Math.max(.001,w*p-n/Gt)/p,k=(w-S)/2,E=u+k+x,L=i-k-x,{outerStart:R,outerEnd:z,innerStart:U,innerEnd:P}=RA(t,g,p,L-E),I=p-R,H=p-z,Q=E+R/I,F=L-z/H,le=g+U,ue=g+P,ae=E+U/le,q=L-P/ue;if(e.beginPath(),s){const V=(Q+F)/2;if(e.arc(o,a,p,Q,V),e.arc(o,a,p,V,F),z>0){const me=bu(H,F,o,a);e.arc(me.x,me.y,z,F,L+Dn)}const J=bu(ue,L,o,a);if(e.lineTo(J.x,J.y),P>0){const me=bu(ue,q,o,a);e.arc(me.x,me.y,P,L+Dn,q+Math.PI)}const te=(L-P/g+(E+U/g))/2;if(e.arc(o,a,g,L-P/g,te,!0),e.arc(o,a,g,te,E+U/g,!0),U>0){const me=bu(le,ae,o,a);e.arc(me.x,me.y,U,ae+Math.PI,E-Dn)}const ne=bu(I,E,o,a);if(e.lineTo(ne.x,ne.y),R>0){const me=bu(I,Q,o,a);e.arc(me.x,me.y,R,E-Dn,Q)}}else{e.moveTo(o,a);const V=Math.cos(Q)*p+o,J=Math.sin(Q)*p+a;e.lineTo(V,J);const te=Math.cos(F)*p+o,ne=Math.sin(F)*p+a;e.lineTo(te,ne)}e.closePath()}function AA(e,t,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=t;let u=t.endAngle;if(s){Xp(e,t,n,r,u,i);for(let c=0;c<s;++c)e.fill();isNaN(a)||(u=o+(a%gn||gn))}return Xp(e,t,n,r,u,i),e.fill(),u}function MA(e,t,n,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:u}=t,{borderWidth:c,borderJoinStyle:f,borderDash:p,borderDashOffset:g,borderRadius:x}=u,w=u.borderAlign==="inner";if(!c)return;e.setLineDash(p||[]),e.lineDashOffset=g,w?(e.lineWidth=c*2,e.lineJoin=f||"round"):(e.lineWidth=c,e.lineJoin=f||"bevel");let S=t.endAngle;if(s){Xp(e,t,n,r,S,i);for(let k=0;k<s;++k)e.stroke();isNaN(a)||(S=o+(a%gn||gn))}w&&OA(e,t,S),u.selfJoin&&S-o>=Gt&&x===0&&f!=="miter"&&PA(e,t,S),s||(Xp(e,t,n,r,S,i),e.stroke())}class qv extends bo{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,r){const i=this.getProps(["x","y"],r),{angle:s,distance:o}=e7(i,{x:t,y:n}),{startAngle:a,endAngle:u,innerRadius:c,outerRadius:f,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),g=(this.options.spacing+this.options.borderWidth)/2,x=bt(p,u-a),w=Qd(s,a,u)&&a!==u,S=x>=gn||w,k=fo(o,c+g,f+g);return S&&k}getCenterPoint(t){const{x:n,y:r,startAngle:i,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:u,spacing:c}=this.options,f=(i+s)/2,p=(o+a+c+u)/2;return{x:n+Math.cos(f)*p,y:r+Math.sin(f)*p}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:r}=this,i=(n.offset||0)/4,s=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>gn?Math.floor(r/gn):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*i,Math.sin(a)*i);const u=1-Math.sin(Math.min(Gt,r||0)),c=i*u;t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,AA(t,this,c,s,o),MA(t,this,c,s,o),t.restore()}}function D7(e,t,n=t){e.lineCap=bt(n.borderCapStyle,t.borderCapStyle),e.setLineDash(bt(n.borderDash,t.borderDash)),e.lineDashOffset=bt(n.borderDashOffset,t.borderDashOffset),e.lineJoin=bt(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=bt(n.borderWidth,t.borderWidth),e.strokeStyle=bt(n.borderColor,t.borderColor)}function IA(e,t,n){e.lineTo(n.x,n.y)}function DA(e){return e.stepped?tL:e.tension||e.cubicInterpolationMode==="monotone"?nL:IA}function F7(e,t,n={}){const r=e.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=t,u=Math.max(i,o),c=Math.min(s,a),f=i<o&&s<o||i>a&&s>a;return{count:r,start:u,loop:t.loop,ilen:c<u&&!f?r+c-u:c-u}}function FA(e,t,n,r){const{points:i,options:s}=t,{count:o,start:a,loop:u,ilen:c}=F7(i,n,r),f=DA(s);let{move:p=!0,reverse:g}=r||{},x,w,S;for(x=0;x<=c;++x)w=i[(a+(g?c-x:x))%o],!w.skip&&(p?(e.moveTo(w.x,w.y),p=!1):f(e,S,w,g,s.stepped),S=w);return u&&(w=i[(a+(g?c:0))%o],f(e,S,w,g,s.stepped)),!!u}function BA(e,t,n,r){const i=t.points,{count:s,start:o,ilen:a}=F7(i,n,r),{move:u=!0,reverse:c}=r||{};let f=0,p=0,g,x,w,S,k,E;const L=z=>(o+(c?a-z:z))%s,R=()=>{S!==k&&(e.lineTo(f,k),e.lineTo(f,S),e.lineTo(f,E))};for(u&&(x=i[L(0)],e.moveTo(x.x,x.y)),g=0;g<=a;++g){if(x=i[L(g)],x.skip)continue;const z=x.x,U=x.y,P=z|0;P===w?(U<S?S=U:U>k&&(k=U),f=(p*f+z)/++p):(R(),e.lineTo(z,U),w=P,p=0,S=k=U),E=U}R()}function my(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?BA:FA}function zA(e){return e.stepped?AL:e.tension||e.cubicInterpolationMode==="monotone"?ML:il}function $A(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),D7(e,t.options),e.stroke(i)}function UA(e,t,n,r){const{segments:i,options:s}=t,o=my(t);for(const a of i)D7(e,s,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}const HA=typeof Path2D=="function";function QA(e,t,n,r){HA&&!t.options.segment?$A(e,t,n,r):UA(e,t,n,r)}class oc extends bo{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;jL(this._points,r,t,i,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=$L(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,r=t.length;return r&&n[t[r-1].end]}interpolate(t,n){const r=this.options,i=t[n],s=this.points,o=b7(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],u=zA(r);let c,f;for(c=0,f=o.length;c<f;++c){const{start:p,end:g}=o[c],x=s[p],w=s[g];if(x===w){a.push(x);continue}const S=Math.abs((i-x[n])/(w[n]-x[n])),k=u(x,w,S,r.stepped);k[n]=t[n],a.push(k)}return a.length===1?a[0]:a}pathSegment(t,n,r){return my(this)(t,this,n,r)}path(t,n,r){const i=this.segments,s=my(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)o&=s(t,this,a,{start:n,end:n+r-1});return!!o}draw(t,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),QA(t,this,r,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function G3(e,t,n,r){const i=e.options,{[n]:s}=e.getProps([n],r);return Math.abs(t-s)<i.radius+i.hitRadius}class Kv extends bo{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,r){const i=this.options,{x:s,y:o}=this.getProps(["x","y"],r);return Math.pow(t-s,2)+Math.pow(n-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,n){return G3(this,t,"x",n)}inYRange(t,n){return G3(this,t,"y",n)}getCenterPoint(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const r=n&&t.borderWidth||0;return(n+r)*2}draw(t,n){const r=this.options;this.skip||r.radius<.1||!mo(this,n,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,hy(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function B7(e,t){const{x:n,y:r,base:i,width:s,height:o}=e.getProps(["x","y","base","width","height"],t);let a,u,c,f,p;return e.horizontal?(p=o/2,a=Math.min(n,i),u=Math.max(n,i),c=r-p,f=r+p):(p=s/2,a=n-p,u=n+p,c=Math.min(r,i),f=Math.max(r,i)),{left:a,top:c,right:u,bottom:f}}function ia(e,t,n,r){return e?0:ar(t,n,r)}function VA(e,t,n){const r=e.options.borderWidth,i=e.borderSkipped,s=u7(r);return{t:ia(i.top,s.top,0,n),r:ia(i.right,s.right,0,t),b:ia(i.bottom,s.bottom,0,n),l:ia(i.left,s.left,0,t)}}function WA(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,s=pl(i),o=Math.min(t,n),a=e.borderSkipped,u=r||Bt(i);return{topLeft:ia(!u||a.top||a.left,s.topLeft,0,o),topRight:ia(!u||a.top||a.right,s.topRight,0,o),bottomLeft:ia(!u||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:ia(!u||a.bottom||a.right,s.bottomRight,0,o)}}function qA(e){const t=B7(e),n=t.right-t.left,r=t.bottom-t.top,i=VA(e,n/2,r/2),s=WA(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:s},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function n1(e,t,n,r){const i=t===null,s=n===null,a=e&&!(i&&s)&&B7(e,r);return a&&(i||fo(t,a.left,a.right))&&(s||fo(n,a.top,a.bottom))}function KA(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function GA(e,t){e.rect(t.x,t.y,t.w,t.h)}function r1(e,t,n={}){const r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,s=(e.x+e.w!==n.x+n.w?t:0)-r,o=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+s,h:e.h+o,radius:e.radius}}class lh extends bo{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=qA(this),a=KA(o.radius)?Vd:GA;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),a(t,r1(o,n,s)),t.clip(),a(t,r1(s,-n,o)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),a(t,r1(s,n)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,n,r){return n1(this,t,n,r)}inXRange(t,n){return n1(this,t,null,n)}inYRange(t,n){return n1(this,null,t,n)}getCenterPoint(t){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}var YA=Object.freeze({__proto__:null,ArcElement:qv,BarElement:lh,LineElement:oc,PointElement:Kv});const gy=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Y3=gy.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function z7(e){return gy[e%gy.length]}function $7(e){return Y3[e%Y3.length]}function XA(e,t){return e.borderColor=z7(t),e.backgroundColor=$7(t),++t}function JA(e,t){return e.backgroundColor=e.data.map(()=>z7(t++)),t}function ZA(e,t){return e.backgroundColor=e.data.map(()=>$7(t++)),t}function eM(e){let t=0;return(n,r)=>{const i=e.getDatasetMeta(r).controller;i instanceof Tm?t=JA(n,t):i instanceof j7?t=ZA(n,t):i&&(t=XA(n,t))}}function X3(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function tM(e){return e&&(e.borderColor||e.backgroundColor)}function nM(){return Cn.borderColor!=="rgba(0,0,0,0.1)"||Cn.backgroundColor!=="rgba(0,0,0,0.1)"}var rM={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:r},options:i}=e.config,{elements:s}=i,o=X3(r)||tM(i)||s&&X3(s)||nM();if(!n.forceOverride&&o)return;const a=eM(e);r.forEach(a)}};function iM(e,t,n,r,i){const s=i.samples||r;if(s>=n)return e.slice(t,t+n);const o=[],a=(n-2)/(s-2);let u=0;const c=t+n-1;let f=t,p,g,x,w,S;for(o[u++]=e[f],p=0;p<s-2;p++){let k=0,E=0,L;const R=Math.floor((p+1)*a)+1+t,z=Math.min(Math.floor((p+2)*a)+1,n)+t,U=z-R;for(L=R;L<z;L++)k+=e[L].x,E+=e[L].y;k/=U,E/=U;const P=Math.floor(p*a)+1+t,I=Math.min(Math.floor((p+1)*a)+1,n)+t,{x:H,y:Q}=e[f];for(x=w=-1,L=P;L<I;L++)w=.5*Math.abs((H-k)*(e[L].y-Q)-(H-e[L].x)*(E-Q)),w>x&&(x=w,g=e[L],S=L);o[u++]=g,f=S}return o[u++]=e[c],o}function sM(e,t,n,r){let i=0,s=0,o,a,u,c,f,p,g,x,w,S;const k=[],E=t+n-1,L=e[t].x,z=e[E].x-L;for(o=t;o<t+n;++o){a=e[o],u=(a.x-L)/z*r,c=a.y;const U=u|0;if(U===f)c<w?(w=c,p=o):c>S&&(S=c,g=o),i=(s*i+a.x)/++s;else{const P=o-1;if(!Ft(p)&&!Ft(g)){const I=Math.min(p,g),H=Math.max(p,g);I!==x&&I!==P&&k.push({...e[I],x:i}),H!==x&&H!==P&&k.push({...e[H],x:i})}o>0&&P!==x&&k.push(e[P]),k.push(a),f=U,s=0,w=S=c,p=g=x=o}}return k}function U7(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function J3(e){e.data.datasets.forEach(t=>{U7(t)})}function oM(e,t){const n=t.length;let r=0,i;const{iScale:s}=e,{min:o,max:a,minDefined:u,maxDefined:c}=s.getUserBounds();return u&&(r=ar(po(t,s.axis,o).lo,0,n-1)),c?i=ar(po(t,s.axis,a).hi+1,r,n)-r:i=n-r,{start:r,count:i}}var aM={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){J3(e);return}const r=e.width;e.data.datasets.forEach((i,s)=>{const{_data:o,indexAxis:a}=i,u=e.getDatasetMeta(s),c=o||i.data;if(vd([a,e.options.indexAxis])==="y"||!u.controller.supportsDecimation)return;const f=e.scales[u.xAxisID];if(f.type!=="linear"&&f.type!=="time"||e.options.parsing)return;let{start:p,count:g}=oM(u,c);const x=n.threshold||4*r;if(g<=x){U7(i);return}Ft(o)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(S){this._data=S}}));let w;switch(n.algorithm){case"lttb":w=iM(c,p,g,r,n);break;case"min-max":w=sM(c,p,g,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}i._decimated=w})},destroy(e){J3(e)}};function lM(e,t,n){const r=e.segments,i=e.points,s=t.points,o=[];for(const a of r){let{start:u,end:c}=a;c=Pm(u,c,i);const f=yy(n,i[u],i[c],a.loop);if(!t.segments){o.push({source:a,target:f,start:i[u],end:i[c]});continue}const p=b7(t,f);for(const g of p){const x=yy(n,s[g.start],s[g.end],g.loop),w=x7(a,i,x);for(const S of w)o.push({source:S,target:g,start:{[n]:Z3(f,x,"start",Math.max)},end:{[n]:Z3(f,x,"end",Math.min)}})}}return o}function yy(e,t,n,r){if(r)return;let i=t[e],s=n[e];return e==="angle"&&(i=Sr(i),s=Sr(s)),{property:e,start:i,end:s}}function uM(e,t){const{x:n=null,y:r=null}=e||{},i=t.points,s=[];return t.segments.forEach(({start:o,end:a})=>{a=Pm(o,a,i);const u=i[o],c=i[a];r!==null?(s.push({x:u.x,y:r}),s.push({x:c.x,y:r})):n!==null&&(s.push({x:n,y:u.y}),s.push({x:n,y:c.y}))}),s}function Pm(e,t,n){for(;t>e;t--){const r=n[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function Z3(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function H7(e,t){let n=[],r=!1;return Sn(e)?(r=!0,n=e):n=uM(e,t),n.length?new oc({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function e5(e){return e&&e.fill!==!1}function cM(e,t,n){let i=e[t].fill;const s=[t];let o;if(!n)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!Pn(i))return i;if(o=e[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function dM(e,t,n){const r=mM(e);if(Bt(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return Pn(i)&&Math.floor(i)===i?hM(r[0],t,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function hM(e,t,n,r){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=r?!1:n}function fM(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:Bt(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function pM(e,t,n){let r;return e==="start"?r=n:e==="end"?r=t.options.reverse?t.min:t.max:Bt(e)?r=e.value:r=t.getBaseValue(),r}function mM(e){const t=e.options,n=t.fill;let r=bt(n&&n.target,n);return r===void 0&&(r=!!t.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function gM(e){const{scale:t,index:n,line:r}=e,i=[],s=r.segments,o=r.points,a=yM(t,n);a.push(H7({x:null,y:t.bottom},r));for(let u=0;u<s.length;u++){const c=s[u];for(let f=c.start;f<=c.end;f++)vM(i,o[f],a)}return new oc({points:i,options:{}})}function yM(e,t){const n=[],r=e.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===t)break;s.hidden||n.unshift(s.dataset)}return n}function vM(e,t,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:o,last:a,point:u}=xM(s,t,"x");if(!(!u||o&&a)){if(o)r.unshift(u);else if(e.push(u),!a)break}}e.push(...r)}function xM(e,t,n){const r=e.interpolate(t,n);if(!r)return{};const i=r[n],s=e.segments,o=e.points;let a=!1,u=!1;for(let c=0;c<s.length;c++){const f=s[c],p=o[f.start][n],g=o[f.end][n];if(fo(i,p,g)){a=i===p,u=i===g;break}}return{first:a,last:u,point:r}}class Q7{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,r){const{x:i,y:s,radius:o}=this;return n=n||{start:0,end:gn},t.arc(i,s,o,n.end,n.start,!0),!r.bounds}interpolate(t){const{x:n,y:r,radius:i}=this,s=t.angle;return{x:n+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function bM(e){const{chart:t,fill:n,line:r}=e;if(Pn(n))return wM(t,n);if(n==="stack")return gM(e);if(n==="shape")return!0;const i=_M(e);return i instanceof Q7?i:H7(i,r)}function wM(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function _M(e){return(e.scale||{}).getPointPositionForValue?CM(e):SM(e)}function SM(e){const{scale:t={},fill:n}=e,r=fM(n,t);if(Pn(r)){const i=t.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function CM(e){const{scale:t,fill:n}=e,r=t.options,i=t.getLabels().length,s=r.reverse?t.max:t.min,o=pM(n,t,s),a=[];if(r.grid.circular){const u=t.getPointPositionForValue(0,s);return new Q7({x:u.x,y:u.y,radius:t.getDistanceFromCenterForValue(o)})}for(let u=0;u<i;++u)a.push(t.getPointPositionForValue(u,o));return a}function i1(e,t,n){const r=bM(t),{chart:i,index:s,line:o,scale:a,axis:u}=t,c=o.options,f=c.fill,p=c.backgroundColor,{above:g=p,below:x=p}=f||{},w=i.getDatasetMeta(s),S=w7(i,w);r&&o.points.length&&(km(e,n),kM(e,{line:o,target:r,above:g,below:x,area:n,scale:a,axis:u,clip:S}),jm(e))}function kM(e,t){const{line:n,target:r,above:i,below:s,area:o,scale:a,clip:u}=t,c=n._loop?"angle":t.axis;e.save();let f=s;s!==i&&(c==="x"?(t5(e,r,o.top),s1(e,{line:n,target:r,color:i,scale:a,property:c,clip:u}),e.restore(),e.save(),t5(e,r,o.bottom)):c==="y"&&(n5(e,r,o.left),s1(e,{line:n,target:r,color:s,scale:a,property:c,clip:u}),e.restore(),e.save(),n5(e,r,o.right),f=i)),s1(e,{line:n,target:r,color:f,scale:a,property:c,clip:u}),e.restore()}function t5(e,t,n){const{segments:r,points:i}=t;let s=!0,o=!1;e.beginPath();for(const a of r){const{start:u,end:c}=a,f=i[u],p=i[Pm(u,c,i)];s?(e.moveTo(f.x,f.y),s=!1):(e.lineTo(f.x,n),e.lineTo(f.x,f.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(p.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function n5(e,t,n){const{segments:r,points:i}=t;let s=!0,o=!1;e.beginPath();for(const a of r){const{start:u,end:c}=a,f=i[u],p=i[Pm(u,c,i)];s?(e.moveTo(f.x,f.y),s=!1):(e.lineTo(n,f.y),e.lineTo(f.x,f.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(n,p.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function s1(e,t){const{line:n,target:r,property:i,color:s,scale:o,clip:a}=t,u=lM(n,r,i);for(const{source:c,target:f,start:p,end:g}of u){const{style:{backgroundColor:x=s}={}}=c,w=r!==!0;e.save(),e.fillStyle=x,jM(e,o,a,w&&yy(i,p,g)),e.beginPath();const S=!!n.pathSegment(e,c);let k;if(w){S?e.closePath():r5(e,r,g,i);const E=!!r.pathSegment(e,f,{move:S,reverse:!0});k=S&&E,k||r5(e,r,p,i)}e.closePath(),e.fill(k?"evenodd":"nonzero"),e.restore()}}function jM(e,t,n,r){const i=t.chart.chartArea,{property:s,start:o,end:a}=r||{};if(s==="x"||s==="y"){let u,c,f,p;s==="x"?(u=o,c=i.top,f=a,p=i.bottom):(u=i.left,c=o,f=i.right,p=a),e.beginPath(),n&&(u=Math.max(u,n.left),f=Math.min(f,n.right),c=Math.max(c,n.top),p=Math.min(p,n.bottom)),e.rect(u,c,f-u,p-c),e.clip()}}function r5(e,t,n,r){const i=t.interpolate(n,r);i&&e.lineTo(i.x,i.y)}var V7={id:"filler",afterDatasetsUpdate(e,t,n){const r=(e.data.datasets||[]).length,i=[];let s,o,a,u;for(o=0;o<r;++o)s=e.getDatasetMeta(o),a=s.dataset,u=null,a&&a.options&&a instanceof oc&&(u={visible:e.isDatasetVisible(o),index:o,fill:dM(a,o,r),chart:e,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=u,i.push(u);for(o=0;o<r;++o)u=i[o],!(!u||u.fill===!1)&&(u.fill=cM(i,o,n.propagate))},beforeDraw(e,t,n){const r=n.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),s=e.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),r&&a.fill&&i1(e.ctx,a,s))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=e.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;e5(s)&&i1(e.ctx,s,e.chartArea)}},beforeDatasetDraw(e,t,n){const r=t.meta.$filler;!e5(r)||n.drawTime!=="beforeDatasetDraw"||i1(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const i5=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}},EM=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class s5 extends bo{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,r){this.maxWidth=t,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=un(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(r=>t.filter(r,this.chart.data))),t.sort&&(n=n.sort((r,i)=>t.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,i=Yn(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:u}=i5(r,s);let c,f;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,f=this._fitRows(o,s,a,u)+10):(f=this.maxHeight,c=this._fitCols(o,i,a,u)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(f,t.maxHeight||this.maxHeight)}_fitRows(t,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,u=this.legendHitBoxes=[],c=this.lineWidths=[0],f=i+a;let p=t;s.textAlign="left",s.textBaseline="middle";let g=-1,x=-f;return this.legendItems.forEach((w,S)=>{const k=r+n/2+s.measureText(w.text).width;(S===0||c[c.length-1]+k+2*a>o)&&(p+=f,c[c.length-(S>0?0:1)]=0,x+=f,g++),u[S]={left:0,top:x,row:g,width:k,height:i},c[c.length-1]+=k+a}),p}_fitCols(t,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,u=this.legendHitBoxes=[],c=this.columnSizes=[],f=o-t;let p=a,g=0,x=0,w=0,S=0;return this.legendItems.forEach((k,E)=>{const{itemWidth:L,itemHeight:R}=TM(r,n,s,k,i);E>0&&x+R+2*a>f&&(p+=g+a,c.push({width:g,height:x}),w+=g+a,S++,g=x=0),u[E]={left:w,top:x,col:S,width:L,height:R},g=Math.max(g,L),x+=R+a}),p+=g,c.push({width:g,height:x}),p}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=Wu(s,this.left,this.width);if(this.isHorizontal()){let a=0,u=_r(r,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,u=_r(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+t+i,c.left=o.leftForLtr(o.x(u),c.width),u+=c.width+i}else{let a=0,u=_r(r,this.top+t+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,u=_r(r,this.top+t+i,this.bottom-this.columnSizes[a].height)),c.top=u,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),u+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;km(t,this),this._draw(),jm(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=t,a=Cn.color,u=Wu(t.rtl,this.left,this.width),c=Yn(o.font),{padding:f}=o,p=c.size,g=p/2;let x;this.drawTitle(),i.textAlign=u.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:w,boxHeight:S,itemHeight:k}=i5(o,p),E=function(P,I,H){if(isNaN(w)||w<=0||isNaN(S)||S<0)return;i.save();const Q=bt(H.lineWidth,1);if(i.fillStyle=bt(H.fillStyle,a),i.lineCap=bt(H.lineCap,"butt"),i.lineDashOffset=bt(H.lineDashOffset,0),i.lineJoin=bt(H.lineJoin,"miter"),i.lineWidth=Q,i.strokeStyle=bt(H.strokeStyle,a),i.setLineDash(bt(H.lineDash,[])),o.usePointStyle){const F={radius:S*Math.SQRT2/2,pointStyle:H.pointStyle,rotation:H.rotation,borderWidth:Q},le=u.xPlus(P,w/2),ue=I+g;l7(i,F,le,ue,o.pointStyleWidth&&w)}else{const F=I+Math.max((p-S)/2,0),le=u.leftForLtr(P,w),ue=pl(H.borderRadius);i.beginPath(),Object.values(ue).some(ae=>ae!==0)?Vd(i,{x:le,y:F,w,h:S,radius:ue}):i.rect(le,F,w,S),i.fill(),Q!==0&&i.stroke()}i.restore()},L=function(P,I,H){wl(i,H.text,P,I+k/2,c,{strikethrough:H.hidden,textAlign:u.textAlign(H.textAlign)})},R=this.isHorizontal(),z=this._computeTitleHeight();R?x={x:_r(s,this.left+f,this.right-r[0]),y:this.top+f+z,line:0}:x={x:this.left+f,y:_r(s,this.top+z+f,this.bottom-n[0].height),line:0},g7(this.ctx,t.textDirection);const U=k+f;this.legendItems.forEach((P,I)=>{i.strokeStyle=P.fontColor,i.fillStyle=P.fontColor;const H=i.measureText(P.text).width,Q=u.textAlign(P.textAlign||(P.textAlign=o.textAlign)),F=w+g+H;let le=x.x,ue=x.y;u.setWidth(this.width),R?I>0&&le+F+f>this.right&&(ue=x.y+=U,x.line++,le=x.x=_r(s,this.left+f,this.right-r[x.line])):I>0&&ue+U>this.bottom&&(le=x.x=le+n[x.line].width+f,x.line++,ue=x.y=_r(s,this.top+z+f,this.bottom-n[x.line].height));const ae=u.x(le);if(E(ae,ue,P),le=QO(Q,le+w+g,R?le+F:this.right,t.rtl),L(u.x(le),ue,P),R)x.x+=F+f;else if(typeof P.text!="string"){const q=c.lineHeight;x.y+=W7(P,q)+f}else x.y+=U}),y7(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,r=Yn(n.font),i=Tr(n.padding);if(!n.display)return;const s=Wu(t.rtl,this.left,this.width),o=this.ctx,a=n.position,u=r.size/2,c=i.top+u;let f,p=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),f=this.top+c,p=_r(t.align,p,this.right-g);else{const w=this.columnSizes.reduce((S,k)=>Math.max(S,k.height),0);f=c+_r(t.align,this.top,this.bottom-w-t.labels.padding-this._computeTitleHeight())}const x=_r(a,p,p+g);o.textAlign=s.textAlign(Fv(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,wl(o,n.text,x,f,r)}_computeTitleHeight(){const t=this.options.title,n=Yn(t.font),r=Tr(t.padding);return t.display?n.lineHeight+r.height:0}_getLegendItemAt(t,n){let r,i,s;if(fo(t,this.left,this.right)&&fo(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],fo(t,i.left,i.left+i.width)&&fo(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(t){const n=this.options;if(!OM(t.type,n))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,s=EM(i,r);i&&!s&&un(n.onLeave,[t,i,this],this),this._hoveredItem=r,r&&!s&&un(n.onHover,[t,r,this],this)}else r&&un(n.onClick,[t,r,this],this)}}function TM(e,t,n,r,i){const s=NM(r,e,t,n),o=PM(i,r,t.lineHeight);return{itemWidth:s,itemHeight:o}}function NM(e,t,n,r){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),t+n.size/2+r.measureText(i).width}function PM(e,t,n){let r=e;return typeof t.text!="string"&&(r=W7(t,n)),r}function W7(e,t){const n=e.text?e.text.length:0;return t*n}function OM(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var ac={id:"legend",_element:s5,start(e,t,n){const r=e.legend=new s5({ctx:e.ctx,options:n,chart:e});kr.configure(e,r,n),kr.addBox(e,r)},stop(e){kr.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;kr.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(u=>{const c=u.controller.getStyle(n?0:void 0),f=Tr(c.borderWidth);return{text:t[u.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!u.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:u.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Gv extends bo{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const i=Sn(r.text)?r.text.length:1;this._padding=Tr(r.padding);const s=i*Yn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let u=0,c,f,p;return this.isHorizontal()?(f=_r(a,r,s),p=n+t,c=s-r):(o.position==="left"?(f=r+t,p=_r(a,i,n),u=Gt*-.5):(f=s-t,p=_r(a,n,i),u=Gt*.5),c=i-n),{titleX:f,titleY:p,maxWidth:c,rotation:u}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const r=Yn(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:u,rotation:c}=this._drawArgs(s);wl(t,n.text,0,0,r,{color:n.color,maxWidth:u,rotation:c,textAlign:Fv(n.align),textBaseline:"middle",translation:[o,a]})}}function LM(e,t){const n=new Gv({ctx:e.ctx,options:t,chart:e});kr.configure(e,n,t),kr.addBox(e,n),e.titleBlock=n}var q7={id:"title",_element:Gv,start(e,t,n){LM(e,n)},stop(e){const t=e.titleBlock;kr.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;kr.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Xf=new WeakMap;var RM={id:"subtitle",start(e,t,n){const r=new Gv({ctx:e.ctx,options:n,chart:e});kr.configure(e,r,n),kr.addBox(e,r),Xf.set(e,r)},stop(e){kr.removeBox(e,Xf.get(e)),Xf.delete(e)},beforeUpdate(e,t,n){const r=Xf.get(e);kr.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const bd={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,s=0;for(t=0,n=e.length;t<n;++t){const a=e[t].element;if(a&&a.hasValue()){const u=a.tooltipPosition();r.add(u.x),i+=u.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,u)=>a+u)/r.size,y:i/s}},nearest(e,t){if(!e.length)return!1;let n=t.x,r=t.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=e.length;s<o;++s){const u=e[s].element;if(u&&u.hasValue()){const c=u.getCenterPoint(),f=cy(t,c);f<i&&(i=f,a=u)}}if(a){const u=a.tooltipPosition();n=u.x,r=u.y}return{x:n,y:r}}};function Os(e,t){return t&&(Sn(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function oo(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function AM(e,t){const{element:n,datasetIndex:r,index:i}=t,s=e.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:e,label:o,parsed:s.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function o5(e,t){const n=e.chart.ctx,{body:r,footer:i,title:s}=e,{boxWidth:o,boxHeight:a}=t,u=Yn(t.bodyFont),c=Yn(t.titleFont),f=Yn(t.footerFont),p=s.length,g=i.length,x=r.length,w=Tr(t.padding);let S=w.height,k=0,E=r.reduce((z,U)=>z+U.before.length+U.lines.length+U.after.length,0);if(E+=e.beforeBody.length+e.afterBody.length,p&&(S+=p*c.lineHeight+(p-1)*t.titleSpacing+t.titleMarginBottom),E){const z=t.displayColors?Math.max(a,u.lineHeight):u.lineHeight;S+=x*z+(E-x)*u.lineHeight+(E-1)*t.bodySpacing}g&&(S+=t.footerMarginTop+g*f.lineHeight+(g-1)*t.footerSpacing);let L=0;const R=function(z){k=Math.max(k,n.measureText(z).width+L)};return n.save(),n.font=c.string,en(e.title,R),n.font=u.string,en(e.beforeBody.concat(e.afterBody),R),L=t.displayColors?o+2+t.boxPadding:0,en(r,z=>{en(z.before,R),en(z.lines,R),en(z.after,R)}),L=0,n.font=f.string,en(e.footer,R),n.restore(),k+=w.width,{width:k,height:S}}function MM(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}function IM(e,t,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(e==="left"&&i+s+o>t.width||e==="right"&&i-s-o<0)return!0}function DM(e,t,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:u}}=e;let c="center";return r==="center"?c=i<=(a+u)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),IM(c,e,t,n)&&(c="center"),c}function a5(e,t,n){const r=n.yAlign||t.yAlign||MM(e,n);return{xAlign:n.xAlign||t.xAlign||DM(e,t,n,r),yAlign:r}}function FM(e,t){let{x:n,width:r}=e;return t==="right"?n-=r:t==="center"&&(n-=r/2),n}function BM(e,t,n){let{y:r,height:i}=e;return t==="top"?r+=n:t==="bottom"?r-=i+n:r-=i/2,r}function l5(e,t,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=e,{xAlign:a,yAlign:u}=n,c=i+s,{topLeft:f,topRight:p,bottomLeft:g,bottomRight:x}=pl(o);let w=FM(t,a);const S=BM(t,u,c);return u==="center"?a==="left"?w+=c:a==="right"&&(w-=c):a==="left"?w-=Math.max(f,g)+i:a==="right"&&(w+=Math.max(p,x)+i),{x:ar(w,0,r.width-t.width),y:ar(S,0,r.height-t.height)}}function Jf(e,t,n){const r=Tr(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function u5(e){return Os([],oo(e))}function zM(e,t,n){return ya(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function c5(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const K7={beforeTitle:io,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:io,beforeBody:io,beforeLabel:io,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Ft(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:io,afterBody:io,beforeFooter:io,footer:io,afterFooter:io};function Xr(e,t,n,r){const i=e[t].call(n,r);return typeof i>"u"?K7[t].call(n,r):i}class d5 extends bo{static positioners=bd;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new _7(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=zM(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,i=Xr(r,"beforeTitle",this,t),s=Xr(r,"title",this,t),o=Xr(r,"afterTitle",this,t);let a=[];return a=Os(a,oo(i)),a=Os(a,oo(s)),a=Os(a,oo(o)),a}getBeforeBody(t,n){return u5(Xr(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:r}=n,i=[];return en(t,s=>{const o={before:[],lines:[],after:[]},a=c5(r,s);Os(o.before,oo(Xr(a,"beforeLabel",this,s))),Os(o.lines,Xr(a,"label",this,s)),Os(o.after,oo(Xr(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(t,n){return u5(Xr(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:r}=n,i=Xr(r,"beforeFooter",this,t),s=Xr(r,"footer",this,t),o=Xr(r,"afterFooter",this,t);let a=[];return a=Os(a,oo(i)),a=Os(a,oo(s)),a=Os(a,oo(o)),a}_createItems(t){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],u,c;for(u=0,c=n.length;u<c;++u)a.push(AM(this.chart,n[u]));return t.filter&&(a=a.filter((f,p,g)=>t.filter(f,p,g,r))),t.itemSort&&(a=a.sort((f,p)=>t.itemSort(f,p,r))),en(a,f=>{const p=c5(t.callbacks,f);i.push(Xr(p,"labelColor",this,f)),s.push(Xr(p,"labelPointStyle",this,f)),o.push(Xr(p,"labelTextColor",this,f))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=bd[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const u=this._size=o5(this,r),c=Object.assign({},a,u),f=a5(this.chart,r,c),p=l5(r,c,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,s={opacity:1,x:p.x,y:p.y,width:u.width,height:u.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,i){const s=this.getCaretPosition(t,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(t,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:u,topRight:c,bottomLeft:f,bottomRight:p}=pl(a),{x:g,y:x}=t,{width:w,height:S}=n;let k,E,L,R,z,U;return s==="center"?(z=x+S/2,i==="left"?(k=g,E=k-o,R=z+o,U=z-o):(k=g+w,E=k+o,R=z-o,U=z+o),L=k):(i==="left"?E=g+Math.max(u,f)+o:i==="right"?E=g+w-Math.max(c,p)-o:E=this.caretX,s==="top"?(R=x,z=R-o,k=E-o,L=E+o):(R=x+S,z=R+o,k=E+o,L=E-o),U=R),{x1:k,x2:E,x3:L,y1:R,y2:z,y3:U}}drawTitle(t,n,r){const i=this.title,s=i.length;let o,a,u;if(s){const c=Wu(r.rtl,this.x,this.width);for(t.x=Jf(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=Yn(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,u=0;u<s;++u)n.fillText(i[u],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,u+1===s&&(t.y+=r.titleMarginBottom-a)}}_drawColorBox(t,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:u,boxWidth:c}=s,f=Yn(s.bodyFont),p=Jf(this,"left",s),g=i.x(p),x=u<f.lineHeight?(f.lineHeight-u)/2:0,w=n.y+x;if(s.usePointStyle){const S={radius:Math.min(c,u)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},k=i.leftForLtr(g,c)+c/2,E=w+u/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,hy(t,S,k,E),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,hy(t,S,k,E)}else{t.lineWidth=Bt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const S=i.leftForLtr(g,c),k=i.leftForLtr(i.xPlus(g,1),c-2),E=pl(o.borderRadius);Object.values(E).some(L=>L!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,Vd(t,{x:S,y:w,w:c,h:u,radius:E}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Vd(t,{x:k,y:w+1,w:c-2,h:u-2,radius:E}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(S,w,c,u),t.strokeRect(S,w,c,u),t.fillStyle=o.backgroundColor,t.fillRect(k,w+1,c-2,u-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:u,boxWidth:c,boxPadding:f}=r,p=Yn(r.bodyFont);let g=p.lineHeight,x=0;const w=Wu(r.rtl,this.x,this.width),S=function(H){n.fillText(H,w.x(t.x+x),t.y+g/2),t.y+=g+s},k=w.textAlign(o);let E,L,R,z,U,P,I;for(n.textAlign=o,n.textBaseline="middle",n.font=p.string,t.x=Jf(this,k,r),n.fillStyle=r.bodyColor,en(this.beforeBody,S),x=a&&k!=="right"?o==="center"?c/2+f:c+2+f:0,z=0,P=i.length;z<P;++z){for(E=i[z],L=this.labelTextColors[z],n.fillStyle=L,en(E.before,S),R=E.lines,a&&R.length&&(this._drawColorBox(n,t,z,w,r),g=Math.max(p.lineHeight,u)),U=0,I=R.length;U<I;++U)S(R[U]),g=p.lineHeight;en(E.after,S)}x=0,g=p.lineHeight,en(this.afterBody,S),t.y-=s}drawFooter(t,n,r){const i=this.footer,s=i.length;let o,a;if(s){const u=Wu(r.rtl,this.x,this.width);for(t.x=Jf(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=u.textAlign(r.footerAlign),n.textBaseline="middle",o=Yn(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],u.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+r.footerSpacing}}drawBackground(t,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:u}=t,{width:c,height:f}=r,{topLeft:p,topRight:g,bottomLeft:x,bottomRight:w}=pl(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+p,u),o==="top"&&this.drawCaret(t,n,r,i),n.lineTo(a+c-g,u),n.quadraticCurveTo(a+c,u,a+c,u+g),o==="center"&&s==="right"&&this.drawCaret(t,n,r,i),n.lineTo(a+c,u+f-w),n.quadraticCurveTo(a+c,u+f,a+c-w,u+f),o==="bottom"&&this.drawCaret(t,n,r,i),n.lineTo(a+x,u+f),n.quadraticCurveTo(a,u+f,a,u+f-x),o==="center"&&s==="left"&&this.drawCaret(t,n,r,i),n.lineTo(a,u+p),n.quadraticCurveTo(a,u,a+p,u),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=bd[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=o5(this,t),u=Object.assign({},o,this._size),c=a5(n,t,u),f=l5(t,u,c,n);(i._to!==f.x||s._to!==f.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Tr(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=r,this.drawBackground(s,t,i,n),g7(t,n.textDirection),s.y+=o.top,this.drawTitle(s,t,n),this.drawBody(s,t,n),this.drawFooter(s,t,n),y7(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,i=t.map(({datasetIndex:a,index:u})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[u],index:u}}),s=!Vp(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(t,s,n,r),a=this._positionChanged(o,t),u=n||!Vp(o,s)||a;return u&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),u}_getActiveElements(t,n,r,i){const s=this.options;if(t.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:r,caretY:i,options:s}=this,o=bd[s.position].call(this,t,n);return o!==!1&&(r!==o.x||i!==o.y)}}var lc={id:"tooltip",_element:d5,positioners:bd,afterInit(e,t,n){n&&(e.tooltip=new d5({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:K7},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},$M=Object.freeze({__proto__:null,Colors:rM,Decimation:aM,Filler:V7,Legend:ac,SubTitle:RM,Title:q7,Tooltip:lc});const UM=(e,t,n,r)=>(typeof t=="string"?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function HM(e,t,n,r){const i=e.indexOf(t);if(i===-1)return UM(e,t,n,r);const s=e.lastIndexOf(t);return i!==s?n:i}const QM=(e,t)=>e===null?null:ar(Math.round(e),0,t);function h5(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class uh extends El{static id="category";static defaults={ticks:{callback:h5}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Ft(t))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===t?n:HM(r,t,bt(n,t),this._addedLabels),QM(n,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const t=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=t===0&&n===s.length-1?s:s.slice(t,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=t;o<=n;o++)i.push({value:o});return i}getLabelForValue(t){return h5.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function VM(e,t){const n=[],{bounds:i,step:s,min:o,max:a,precision:u,count:c,maxTicks:f,maxDigits:p,includeBounds:g}=e,x=s||1,w=f-1,{min:S,max:k}=t,E=!Ft(o),L=!Ft(a),R=!Ft(c),z=(k-S)/(p+1);let U=o3((k-S)/w/x)*x,P,I,H,Q;if(U<1e-14&&!E&&!L)return[{value:S},{value:k}];Q=Math.ceil(k/U)-Math.floor(S/U),Q>w&&(U=o3(Q*U/w/x)*x),Ft(u)||(P=Math.pow(10,u),U=Math.ceil(U*P)/P),i==="ticks"?(I=Math.floor(S/U)*U,H=Math.ceil(k/U)*U):(I=S,H=k),E&&L&&s&&DO((a-o)/s,U/1e3)?(Q=Math.round(Math.min((a-o)/U,f)),U=(a-o)/Q,I=o,H=a):R?(I=E?o:I,H=L?a:H,Q=c-1,U=(H-I)/Q):(Q=(H-I)/U,jd(Q,Math.round(Q),U/1e3)?Q=Math.round(Q):Q=Math.ceil(Q));const F=Math.max(a3(U),a3(I));P=Math.pow(10,Ft(u)?F:u),I=Math.round(I*P)/P,H=Math.round(H*P)/P;let le=0;for(E&&(g&&I!==o?(n.push({value:o}),I<o&&le++,jd(Math.round((I+le*U)*P)/P,o,f5(o,z,e))&&le++):I<o&&le++);le<Q;++le){const ue=Math.round((I+le*U)*P)/P;if(L&&ue>a)break;n.push({value:ue})}return L&&g&&H!==a?n.length&&jd(n[n.length-1].value,a,f5(a,z,e))?n[n.length-1].value=a:n.push({value:a}):(!L||H===a)&&n.push({value:H}),n}function f5(e,t,{horizontal:n,minRotation:r}){const i=ms(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+e).length;return Math.min(t/s,o)}class Jp extends El{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Ft(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=u=>i=n?i:u,a=u=>s=r?s:u;if(t){const u=Is(i),c=Is(s);u<0&&c<0?a(0):u>0&&c>0&&o(0)}if(i===s){let u=s===0?1:Math.abs(s*.05);a(s+u),t||o(i-u)}this.min=i,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=t,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=VM(i,s);return t.bounds==="ticks"&&Z_(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const i=(r-n)/Math.max(t.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(t){return ah(t,this.chart.options.locale,this.options.ticks.format)}}class ch extends Jp{static id="linear";static defaults={ticks:{callback:Cm.formatters.numeric}};determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Pn(t)?t:0,this.max=Pn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,r=ms(this.options.ticks.minRotation),i=(t?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const qd=e=>Math.floor(ra(e)),Xa=(e,t)=>Math.pow(10,qd(e)+t);function p5(e){return e/Math.pow(10,qd(e))===1}function m5(e,t,n){const r=Math.pow(10,n),i=Math.floor(e/r);return Math.ceil(t/r)-i}function WM(e,t){const n=t-e;let r=qd(n);for(;m5(e,t,r)>10;)r++;for(;m5(e,t,r)<10;)r--;return Math.min(r,qd(e))}function qM(e,{min:t,max:n}){t=bi(e.min,t);const r=[],i=qd(t);let s=WM(t,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),u=i>s?Math.pow(10,i):0,c=Math.round((t-u)*o)/o,f=Math.floor((t-u)/a/10)*a*10;let p=Math.floor((c-f)/Math.pow(10,s)),g=bi(e.min,Math.round((u+f+p*Math.pow(10,s))*o)/o);for(;g<n;)r.push({value:g,major:p5(g),significand:p}),p>=10?p=p<15?15:20:p++,p>=20&&(s++,p=2,o=s>=0?1:o),g=Math.round((u+f+p*Math.pow(10,s))*o)/o;const x=bi(e.max,g);return r.push({value:x,major:p5(x),significand:p}),r}class KM extends El{static id="logarithmic";static defaults={ticks:{callback:Cm.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const r=Jp.prototype.parse.apply(this,[t,n]);if(r===0){this._zero=!0;return}return Pn(r)&&r>0?r:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Pn(t)?Math.max(0,t):null,this.max=Pn(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Pn(this._userMin)&&(this.min=t===Xa(this.min,0)?Xa(this.min,-1):Xa(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let r=this.min,i=this.max;const s=a=>r=t?r:a,o=a=>i=n?i:a;r===i&&(r<=0?(s(1),o(10)):(s(Xa(r,-1)),o(Xa(i,1)))),r<=0&&s(Xa(i,-1)),i<=0&&o(Xa(r,1)),this.min=r,this.max=i}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},r=qM(n,this);return t.bounds==="ticks"&&Z_(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(t){return t===void 0?"0":ah(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=ra(t),this._valueRange=ra(this.max)-ra(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(ra(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}function vy(e){const t=e.ticks;if(t.display&&e.display){const n=Tr(t.backdropPadding);return bt(t.font&&t.font.size,Cn.font.size)+n.height}return 0}function GM(e,t,n){return n=Sn(n)?n:[n],{w:eL(e,t.string,n),h:n.length*t.lineHeight}}function g5(e,t,n,r,i){return e===r||e===i?{start:t-n/2,end:t+n/2}:e<r||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function YM(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),r=[],i=[],s=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?Gt/s:0;for(let u=0;u<s;u++){const c=o.setContext(e.getPointLabelContext(u));i[u]=c.padding;const f=e.getPointPosition(u,e.drawingArea+i[u],a),p=Yn(c.font),g=GM(e.ctx,p,e._pointLabels[u]);r[u]=g;const x=Sr(e.getIndexAngle(u)+a),w=Math.round(Iv(x)),S=g5(w,f.x,g.w,0,180),k=g5(w,f.y,g.h,90,270);XM(n,t,x,S,k)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=eI(e,r,i)}function XM(e,t,n,r,i){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,u=0;r.start<t.l?(a=(t.l-r.start)/s,e.l=Math.min(e.l,t.l-a)):r.end>t.r&&(a=(r.end-t.r)/s,e.r=Math.max(e.r,t.r+a)),i.start<t.t?(u=(t.t-i.start)/o,e.t=Math.min(e.t,t.t-u)):i.end>t.b&&(u=(i.end-t.b)/o,e.b=Math.max(e.b,t.b+u))}function JM(e,t,n){const r=e.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=n,u=e.getPointPosition(t,r+i+o,s),c=Math.round(Iv(Sr(u.angle+Dn))),f=rI(u.y,a.h,c),p=tI(c),g=nI(u.x,a.w,p);return{visible:!0,x:u.x,y:f,textAlign:p,left:g,top:f,right:g+a.w,bottom:f+a.h}}function ZM(e,t){if(!t)return!0;const{left:n,top:r,right:i,bottom:s}=e;return!(mo({x:n,y:r},t)||mo({x:n,y:s},t)||mo({x:i,y:r},t)||mo({x:i,y:s},t))}function eI(e,t,n){const r=[],i=e._pointLabels.length,s=e.options,{centerPointLabels:o,display:a}=s.pointLabels,u={extra:vy(s)/2,additionalAngle:o?Gt/i:0};let c;for(let f=0;f<i;f++){u.padding=n[f],u.size=t[f];const p=JM(e,f,u);r.push(p),a==="auto"&&(p.visible=ZM(p,c),p.visible&&(c=p))}return r}function tI(e){return e===0||e===180?"center":e<180?"left":"right"}function nI(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function rI(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function iI(e,t,n){const{left:r,top:i,right:s,bottom:o}=n,{backdropColor:a}=t;if(!Ft(a)){const u=pl(t.borderRadius),c=Tr(t.backdropPadding);e.fillStyle=a;const f=r-c.left,p=i-c.top,g=s-r+c.width,x=o-i+c.height;Object.values(u).some(w=>w!==0)?(e.beginPath(),Vd(e,{x:f,y:p,w:g,h:x,radius:u}),e.fill()):e.fillRect(f,p,g,x)}}function sI(e,t){const{ctx:n,options:{pointLabels:r}}=e;for(let i=t-1;i>=0;i--){const s=e._pointLabelItems[i];if(!s.visible)continue;const o=r.setContext(e.getPointLabelContext(i));iI(n,o,s);const a=Yn(o.font),{x:u,y:c,textAlign:f}=s;wl(n,e._pointLabels[i],u,c+a.lineHeight/2,a,{color:o.color,textAlign:f,textBaseline:"middle"})}}function G7(e,t,n,r){const{ctx:i}=e;if(n)i.arc(e.xCenter,e.yCenter,t,0,gn);else{let s=e.getPointPosition(0,t);i.moveTo(s.x,s.y);for(let o=1;o<r;o++)s=e.getPointPosition(o,t),i.lineTo(s.x,s.y)}}function oI(e,t,n,r,i){const s=e.ctx,o=t.circular,{color:a,lineWidth:u}=t;!o&&!r||!a||!u||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=u,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),G7(e,n,o,r),s.closePath(),s.stroke(),s.restore())}function aI(e,t,n){return ya(e,{label:n,index:t,type:"pointLabel"})}class Y7 extends Jp{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Cm.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Tr(vy(this.options)/2),n=this.width=this.maxWidth-t.width,r=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+r/2+t.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=Pn(t)&&!isNaN(t)?t:0,this.max=Pn(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/vy(this.options))}generateTickLabels(t){Jp.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,r)=>{const i=un(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const t=this.options;t.display&&t.pointLabels.display?YM(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,r,i){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,r,i))}getIndexAngle(t){const n=gn/(this._pointLabels.length||1),r=this.options.startAngle||0;return Sr(t*n+ms(r))}getDistanceFromCenterForValue(t){if(Ft(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(Ft(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const r=n[t];return aI(this.getContext(),t,r)}}getPointPosition(t,n,r=0){const i=this.getIndexAngle(t)-Dn+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:r,right:i,bottom:s}=this._pointLabelItems[t];return{left:n,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const r=this.ctx;r.save(),r.beginPath(),G7(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=t,r.fill(),r.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:r,grid:i,border:s}=n,o=this._pointLabels.length;let a,u,c;if(n.pointLabels.display&&sI(this,o),i.display&&this.ticks.forEach((f,p)=>{if(p!==0||p===0&&this.min<0){u=this.getDistanceFromCenterForValue(f.value);const g=this.getContext(p),x=i.setContext(g),w=s.setContext(g);oI(this,x,u,o,w)}}),r.display){for(t.save(),a=o-1;a>=0;a--){const f=r.setContext(this.getPointLabelContext(a)),{color:p,lineWidth:g}=f;!g||!p||(t.lineWidth=g,t.strokeStyle=p,t.setLineDash(f.borderDash),t.lineDashOffset=f.borderDashOffset,u=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(a,u),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,u)=>{if(u===0&&this.min>=0&&!n.reverse)return;const c=r.setContext(this.getContext(u)),f=Yn(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[u].value),c.showLabelBackdrop){t.font=f.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const p=Tr(c.backdropPadding);t.fillRect(-o/2-p.left,-s-f.size/2-p.top,o+p.width,f.size+p.height)}wl(t,a.label,0,-s,f,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}const Om={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ni=Object.keys(Om);function y5(e,t){return e-t}function v5(e,t){if(Ft(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:s}=e._parseOpts;let o=t;return typeof r=="function"&&(o=r(o)),Pn(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(xl(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function x5(e,t,n,r){const i=ni.length;for(let s=ni.indexOf(e);s<i-1;++s){const o=Om[ni[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=r)return ni[s]}return ni[i-1]}function lI(e,t,n,r,i){for(let s=ni.length-1;s>=ni.indexOf(n);s--){const o=ni[s];if(Om[o].common&&e._adapter.diff(i,r,o)>=t-1)return o}return ni[n?ni.indexOf(n):0]}function uI(e){for(let t=ni.indexOf(e)+1,n=ni.length;t<n;++t)if(Om[ni[t]].common)return ni[t]}function b5(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:r,hi:i}=Dv(n,t),s=n[r]>=t?n[r]:n[i];e[s]=!0}}function cI(e,t,n,r){const i=e._adapter,s=+i.startOf(t[0].value,r),o=t[t.length-1].value;let a,u;for(a=s;a<=o;a=+i.add(a,1,r))u=n[a],u>=0&&(t[u].major=!0);return t}function w5(e,t,n){const r=[],i={},s=t.length;let o,a;for(o=0;o<s;++o)a=t[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:cI(e,r,i,n)}class xy extends El{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),i=this._adapter=new wR._date(t.adapters.date);i.init(n),kd(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:v5(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function u(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(u(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&u(this.getMinMax(!1))),i=Pn(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=Pn(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=$O(i,s,o);return this._unit=n.unit||(r.autoSkip?x5(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):lI(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:uI(this._unit),this.initOffsets(i),t.reverse&&a.reverse(),w5(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,r=0,i,s;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?n=1-i:n=(this.getDecimalForValue(t[1])-i)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?r=s:r=(s-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=ar(n,0,o),r=ar(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||x5(s.minUnit,n,r,this._getLabelCapacity(n)),a=bt(i.ticks.stepSize,1),u=o==="week"?s.isoWeekday:!1,c=xl(u)||u===!0,f={};let p=n,g,x;if(c&&(p=+t.startOf(p,"isoWeek",u)),p=+t.startOf(p,c?"day":o),t.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const w=i.ticks.source==="data"&&this.getDataTimestamps();for(g=p,x=0;g<r;g=+t.add(g,a,o),x++)b5(f,g,w);return(g===r||i.bounds==="ticks"||x===1)&&b5(f,g,w),Object.keys(f).sort(y5).map(S=>+S)}getLabelForValue(t){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}format(t,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(t,o)}_tickFormatFunction(t,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return un(o,[t,n,r],this);const a=s.time.displayFormats,u=this._unit,c=this._majorUnit,f=u&&a[u],p=c&&a[c],g=r[n],x=c&&p&&g&&g.major;return this._adapter.format(t,i||(x?p:f))}generateTickLabels(t){let n,r,i;for(n=0,r=t.length;n<r;++n)i=t[n],i.label=this._tickFormatFunction(i.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,i=ms(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(t,0,w5(this,[t],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)t=t.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)t.push(v5(this,i[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return n7(t.sort(y5))}}function Zf(e,t,n){let r=0,i=e.length-1,s,o,a,u;n?(t>=e[r].pos&&t<=e[i].pos&&({lo:r,hi:i}=po(e,"pos",t)),{pos:s,time:a}=e[r],{pos:o,time:u}=e[i]):(t>=e[r].time&&t<=e[i].time&&({lo:r,hi:i}=po(e,"time",t)),{time:s,pos:a}=e[r],{time:o,pos:u}=e[i]);const c=o-s;return c?a+(u-a)*(t-s)/c:a}class dI extends xy{static id="timeseries";static defaults=xy.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Zf(n,this.min),this._tableRange=Zf(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:r}=this,i=[],s=[];let o,a,u,c,f;for(o=0,a=t.length;o<a;++o)c=t[o],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)f=i[o+1],u=i[o-1],c=i[o],Math.round((f+u)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const t=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?t=this.normalize(n.concat(r)):t=n.length?n:r,t=this._cache.all=t,t}getDecimalForValue(t){return(Zf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return Zf(this._table,r*this._tableRange+this._minPos,!0)}}var hI=Object.freeze({__proto__:null,CategoryScale:uh,LinearScale:ch,LogarithmicScale:KM,RadialLinearScale:Y7,TimeScale:xy,TimeSeriesScale:dI});const fI=[bR,YA,$M,hI];wo.register(...fI);const X7="label";function _5(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function pI(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function J7(e,t){e.labels=t}function Z7(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:X7;const r=[];e.datasets=t.map(i=>{const s=e.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function mI(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:X7;const n={labels:[],datasets:[]};return J7(n,e.labels),Z7(n,e.datasets,t),n}function gI(e,t){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:u,plugins:c=[],fallbackContent:f,updateMode:p,...g}=e,x=T.useRef(null),w=T.useRef(null),S=()=>{x.current&&(w.current=new wo(x.current,{type:o,data:mI(a,s),options:u&&{...u},plugins:c}),_5(t,w.current))},k=()=>{_5(t,null),w.current&&(w.current.destroy(),w.current=null)};return T.useEffect(()=>{!i&&w.current&&u&&pI(w.current,u)},[i,u]),T.useEffect(()=>{!i&&w.current&&J7(w.current.config.data,a.labels)},[i,a.labels]),T.useEffect(()=>{!i&&w.current&&a.datasets&&Z7(w.current.config.data,a.datasets,s)},[i,a.datasets]),T.useEffect(()=>{w.current&&(i?(k(),setTimeout(S)):w.current.update(p))},[i,u,a.labels,a.datasets,p]),T.useEffect(()=>{w.current&&(k(),setTimeout(S))},[o]),T.useEffect(()=>(S(),()=>k()),[]),nn.createElement("canvas",{ref:x,role:"img",height:n,width:r,...g},f)}const e8=T.forwardRef(gI);function Yv(e,t){return wo.register(t),T.forwardRef((n,r)=>nn.createElement(e8,{...n,ref:r,type:e}))}const yI=Yv("bar",k7),vI=Yv("radar",E7),t8=Yv("doughnut",Tm),Ju={searchBtnSpeed:{mu:1.457,sigma:.7362},captchaSpeed:{mu:3.6415,sigma:.4057},totalSpeed:{mu:8.6367,sigma:.5422}};function n8(e,t,n){if(e<=0)return 0;const r=(Math.log(e)-Math.log(t))/n,i=1/(1+.2316419*Math.abs(r)),o=.3989423*Math.exp(-r*r/2)*i*(.3193815+i*(-.3565638+i*(1.781478+i*(-1.821256+i*1.330274))));return r>0?1-o:o}function Lm(e,t=7.5,n=.3){const s=e>3e3?e/1e3:e,a=1-n8(s,t,n);return Math.max(Math.min(a*100,100),0)}function xI(e){const n=Math.min(Math.max(e,0),100)/100,i=-n8(n,.4,.1);return Math.round(i*5)}function bI(e,t){const n=(e-2*t)/(e-t);return Math.max(0,Math.round(n*100))}function wI(e){return Lm(e,Ju.searchBtnSpeed.mu,Ju.searchBtnSpeed.sigma)}function _I(e){return Lm(e,Ju.captchaSpeed.mu,Ju.captchaSpeed.sigma)}function SI(e){return Math.max(0,Math.min(e,100))}function CI(e){return Lm(e,Ju.totalSpeed.mu,Ju.totalSpeed.sigma)}wo.register(Y7,Kv,oc,V7,lc,ac);const kI={responsive:!0,scales:{r:{angleLines:{display:!0},suggestedMin:0,suggestedMax:100,ticks:{display:!1},pointLabels:{font:{size:14},color:"#4B5563"},grid:{color:"#E5E7EB"}}},plugins:{legend:{display:!1},tooltip:{enabled:!0}}};function jI(e){const{user_ability:t}=e,{searchBtnSpeed:n,totalSpeed:r,accuracy:i,captchaSpeed:s}=t,o=["   "," ","","  "],a=[n,r,i,s];return{labels:o,datasets:[{label:"",data:S5([1.776296,9.30268,93.58,3.843947]),backgroundColor:"rgba(5, 223, 114, 0.2)",borderColor:"rgba(5, 223, 114, 1)",borderWidth:2,pointBackgroundColor:"rgba(5, 223, 114, 1)"},{label:" ",data:S5(a),backgroundColor:"rgb(0, 122, 255, 0.2)",borderColor:"rgba(0, 122, 255, 1)",borderWidth:2,pointBackgroundColor:"rgba(0, 122, 255, 1)"}]}}function S5(e){return[wI(e[0]),CI(e[1]),SI(e[2]),_I(e[3])]}function Xv({result:e}){const t=jI(e),{searchBtnSpeed:n,totalSpeed:r,accuracy:i,captchaSpeed:s}=e.user_ability;return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"h-90",children:h.jsx(vI,{data:t,className:"mx-auto",options:kI})}),h.jsxs("div",{className:"absolute bottom-6 right-6 bg-white shadow-lg rounded-lg px-4 py-3 text-xs text-gray-800",children:[h.jsx("div",{className:"font-bold text-sm mb-1",children:" "}),h.jsxs("ul",{className:"space-y-1",children:[h.jsxs("li",{className:"flex justify-between",children:[h.jsx("span",{children:"    "})," ",h.jsxs("span",{children:[n.toFixed(2)," sec"]})]}),h.jsxs("li",{className:"flex justify-between",children:[h.jsx("span",{children:"   "})," ",h.jsxs("span",{children:[r.toFixed(2)," sec"]})]}),h.jsxs("li",{className:"flex justify-between",children:[h.jsx("span",{children:" "})," ",h.jsxs("span",{children:[i.toFixed(2)," %"]})]}),h.jsxs("li",{className:"flex justify-between",children:[h.jsx("span",{children:"     "})," ",h.jsxs("span",{children:[s.toFixed(2)," sec"]})]})]})]})]})}function by(e,t){const n=e.getContext("2d");if(!n)return;n.clearRect(0,0,e.width,e.height);const r=n.createLinearGradient(0,0,e.width,0);r.addColorStop(0,"#4a4a4a"),r.addColorStop(1,"#bcbcbc"),n.fillStyle=r,n.fillRect(0,0,e.width,e.height),n.font="bold 32px Arial Black, Impact, sans-serif",n.fillStyle="black",n.textAlign="center",n.textBaseline="middle",n.fillText(t,e.width/2,e.height/2)}function C5({children:e,className:t,...n}){return h.jsx("div",{className:"bg-white p-3 rounded-md text-sm shadow-md shadow-gray-300 "+t,...n,children:e})}const EI={user_ability:{searchBtnSpeed:1.076296,totalSpeed:6.70268,accuracy:98.58,captchaSpeed:4.843947}};function TI(){const[e,t]=T.useState(EI);return h.jsxs(jl,{children:[h.jsx(wm,{title:"   ()",subtitle:"   ,    ",href:"/simulation"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[h.jsxs(C5,{children:[h.jsx("h3",{className:"text-lg font-semibold",children:"  "}),h.jsx("p",{className:"text-gray-600 mb-4",children:" ,    !"}),h.jsx(PI,{setRadarData:t})]}),h.jsxs(C5,{className:"relative",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"  "}),h.jsx("p",{className:"text-gray-600 mb-4",children:"      ."}),h.jsx(Xv,{result:e})]})]})]})}function k5(){return Math.floor(1e3+Math.random()*9e3).toString()}const NI=4;function PI({setRadarData:e}){const t=T.useRef(null),[n,r]=T.useState(),[i,s]=T.useState({message:"",color:"red"}),o=T.useRef(""),a=LI(e);function u(){o.current=k5(),r(""),s({message:"",color:"red"}),a.resetResult(),t.current&&by(t.current,o.current)}function c(){setTimeout(u,200)}function f(g){let x=g.target.value;if(a.updateResult(),/\D/.test(x)){s({message:"0~9  ",color:"red"}),r(x.replace(/\D/g,""));return}if(x.length>NI){s({message:"4  ",color:"red"});return}r(x),s({message:"",color:"red"})}T.useEffect(()=>{setTimeout(()=>{o.current=k5(),a.initResult(),t.current&&by(t.current,o.current)},100)},[]);function p(){n?.toString()===o.current?(s({message:"  .",color:"green"}),a.endResult(!0),setTimeout(u,700)):(s({message:"  .",color:"red"}),a.endResult(!1),setTimeout(u,700))}return h.jsxs("div",{className:"flex flex-col justify-center h-4/5",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 p-4",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsxs("div",{className:"text-sm font-semibold flex flex-row items-center gap-2",children:[h.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "})," ",h.jsx(OI,{onClick:c,children:""})]}),h.jsx("div",{className:"flex items-center mt-1",children:h.jsx("canvas",{id:"captcha",width:"105",height:"50",ref:t})})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"text-sm font-semibold  flex flex-row items-center",children:[h.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "}),"  "]}),h.jsx(Wt.Input,{value:n,className:"mt-2 w-full",onChange:g=>f(g),placeholder:" ",essential:!0}),h.jsx("span",{className:"pl-1 text-xs "+(i.color==="green"?"text-green-500":"text-red-500"),children:i.message})]})]}),h.jsx("div",{className:"flex justify-end p-4",children:h.jsx("button",{onClick:p,className:"px-4 py-2 bg-white hover:bg-blue-50 rounded-xs border cursor-pointer",children:""})})]})}function OI({className:e,children:t,...n}){return h.jsx("button",{className:"px-2 py-1 bg-blue-500 text-white text-sm rounded-xs cursor-pointer hover:bg-blue-600 "+e,...n,children:t})}function LI(e){const t=T.useRef({tryCount:0,successCount:0,avgTime:0,startTime:-1});function n(){t.current.startTime=-1}function r(){t.current.startTime=Date.now()}function i(){t.current.startTime===-1&&(t.current.startTime=Date.now())}function s(o){const a=Date.now(),u=t.current.startTime===-1?4.843947:1+(a-t.current.startTime)/1e3;t.current.startTime=-1,t.current.tryCount+=1,t.current.avgTime=1+(u-t.current.avgTime)/t.current.tryCount,t.current.successCount+=o?1:0,e&&e(c=>({user_ability:{...c.user_ability,captchaSpeed:t.current.avgTime,accuracy:100*(t.current.successCount/t.current.tryCount)}}))}return{initResult:n,resetResult:r,updateResult:i,endResult:s}}function Tl(){return xs({queryKey:["departments"],queryFn:RI,staleTime:1/0,select:e=>e.departments.sort((t,n)=>t.departmentName.localeCompare(n.departmentName))})}const RI=async()=>await xo("/api/departments"),AI=e=>{if(!e)return{universityDict:{},collegeDict:{}};const t={},n={};return e.forEach(r=>{const[i,s,o]=r.departmentName.split(" "),a=i.trim(),u=s?.trim(),c=o?.trim();u&&(t[a]||(t[a]=[]),t[a]=[...t[a],u],c||(n[u]=[u])),c&&(t[a]||(t[a]=[]),t[a]=[...t[a],c],n[u]||(n[u]=[]),n[u]=[...n[u],c])}),{universityDict:t,collegeDict:n}},MI=(e,t)=>{const n=e.split(" ").map(r=>r.trim());for(const r in t)if(n.some(i=>t[r].includes(i)))return r;return console.error("No university found",e),""},II=(e,t)=>{const n=e.split(" ").map(r=>r.trim());for(const r in t)if(n.some(i=>r.includes(i)))return r;return console.error("No college found",e),""},Rm={labels:["","","",""],datasets:[{data:[40,25,20,15]}]},dh=["#f97316","#3b82f6","#facc15","#22c55e","#60b6d4"];function j5(e){if(!e)return Rm;const t={};return e.forEach(n=>{t[n.registerDepartment??""]||(t[n.registerDepartment??""]=0),t[n.registerDepartment??""]+=Number(n.eachCount)}),{labels:Object.keys(t).map(n=>n||""),datasets:[{data:Object.values(t),backgroundColor:dh}]}}function DI(e,t){if(!t)return Rm;const n={major:0,"non-major":0},r=e.split(" ").map(o=>o.trim()),i=o=>o.split(" ").map(u=>u.trim()).some(u=>r.includes(u));t.forEach(o=>{const a=i(o.registerDepartment??"")?"major":"non-major";n[a]+=Number(o.eachCount)});const s={major:"","non-major":""};return{labels:Object.keys(n).map(o=>s[o]),datasets:[{data:Object.values(n),backgroundColor:dh}]}}function FI(e,t){if(!e||!t)return Rm;const n={};return e.forEach(r=>{const i=MI(r.registerDepartment??"",t);n[i]||(n[i]=0),n[i]+=Number(r.eachCount)}),{labels:Object.keys(n).map(r=>r||""),datasets:[{data:Object.values(n),backgroundColor:dh}]}}function BI(e,t){if(!e||!t)return Rm;const n={};return e.forEach(r=>{const i=II(r.registerDepartment??"",t);n[i]||(n[i]=0),n[i]+=Number(r.eachCount)}),{labels:Object.keys(n).map(r=>r||""),datasets:[{data:Object.values(n),backgroundColor:dh}]}}function zI(e){return e?e.reduce((t,n)=>t+Number(n.eachCount),0):-1}wo.register(lh,uh,ch,lc,ac);const $I={labels:["","","",""],datasets:[{data:[40,25,20,15],backgroundColor:dh}]};function UI(){return h.jsxs(jl,{children:[h.jsx(wm,{title:" ",href:"/wishes"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[h.jsx("h2",{className:"text-lg font-semibold mb-2",children:" "}),h.jsx("div",{className:"flex aligh-center justify-center max-h-96",children:h.jsx(t8,{data:$I})})]}),h.jsxs("div",{className:"bg-white p-6 shadow-md rounded-md",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"  "}),[{name:"",dept:" ",status:"30"},{name:"",dept:"",status:"14"}].map((e,t)=>h.jsxs("div",{className:"mt-4 flex justify-between p-2 rounded-md border border-gray-200",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold",children:e.name}),h.jsx("p",{className:"text-sm text-gray-500",children:e.dept})]}),h.jsx("span",{className:"text-yellow-500",children:e.status})]},"recommend-course-"+t))]})]})]})}const uc=({className:e,disabled:t=!1})=>{const n=t?"text-gray-400 ":"text-blue-500 ";return h.jsx(Qp,{className:n+e})};var Tp={exports:{}},HI=Tp.exports,E5;function QI(){return E5||(E5=1,function(e,t){(function(n,r){e.exports=r()})(HI,function(){var n=function(y,b){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,N){C.__proto__=N}||function(C,N){for(var O in N)Object.prototype.hasOwnProperty.call(N,O)&&(C[O]=N[O])})(y,b)},r=function(){return(r=Object.assign||function(y){for(var b,C=1,N=arguments.length;C<N;C++)for(var O in b=arguments[C])Object.prototype.hasOwnProperty.call(b,O)&&(y[O]=b[O]);return y}).apply(this,arguments)};function i(y,b,C){for(var N,O=0,M=b.length;O<M;O++)!N&&O in b||((N=N||Array.prototype.slice.call(b,0,O))[O]=b[O]);return y.concat(N||Array.prototype.slice.call(b))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:pd,o=Object.keys,a=Array.isArray;function u(y,b){return typeof b!="object"||o(b).forEach(function(C){y[C]=b[C]}),y}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var c=Object.getPrototypeOf,f={}.hasOwnProperty;function p(y,b){return f.call(y,b)}function g(y,b){typeof b=="function"&&(b=b(c(y))),(typeof Reflect>"u"?o:Reflect.ownKeys)(b).forEach(function(C){w(y,C,b[C])})}var x=Object.defineProperty;function w(y,b,C,N){x(y,b,u(C&&p(C,"get")&&typeof C.get=="function"?{get:C.get,set:C.set,configurable:!0}:{value:C,configurable:!0,writable:!0},N))}function S(y){return{from:function(b){return y.prototype=Object.create(b.prototype),w(y.prototype,"constructor",y),{extend:g.bind(null,y.prototype)}}}}var k=Object.getOwnPropertyDescriptor,E=[].slice;function L(y,b,C){return E.call(y,b,C)}function R(y,b){return b(y)}function z(y){if(!y)throw new Error("Assertion Failed")}function U(y){s.setImmediate?setImmediate(y):setTimeout(y,0)}function P(y,b){if(typeof b=="string"&&p(y,b))return y[b];if(!b)return y;if(typeof b!="string"){for(var C=[],N=0,O=b.length;N<O;++N){var M=P(y,b[N]);C.push(M)}return C}var $=b.indexOf(".");if($!==-1){var K=y[b.substr(0,$)];return K==null?void 0:P(K,b.substr($+1))}}function I(y,b,C){if(y&&b!==void 0&&!("isFrozen"in Object&&Object.isFrozen(y)))if(typeof b!="string"&&"length"in b){z(typeof C!="string"&&"length"in C);for(var N=0,O=b.length;N<O;++N)I(y,b[N],C[N])}else{var M,$,K=b.indexOf(".");K!==-1?(M=b.substr(0,K),($=b.substr(K+1))===""?C===void 0?a(y)&&!isNaN(parseInt(M))?y.splice(M,1):delete y[M]:y[M]=C:I(K=!(K=y[M])||!p(y,M)?y[M]={}:K,$,C)):C===void 0?a(y)&&!isNaN(parseInt(b))?y.splice(b,1):delete y[b]:y[b]=C}}function H(y){var b,C={};for(b in y)p(y,b)&&(C[b]=y[b]);return C}var Q=[].concat;function F(y){return Q.apply([],y)}var Ce="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(F([8,16,32,64].map(function(y){return["Int","Uint","Float"].map(function(b){return b+y+"Array"})}))).filter(function(y){return s[y]}),le=new Set(Ce.map(function(y){return s[y]})),ue=null;function ae(y){return ue=new WeakMap,y=function b(C){if(!C||typeof C!="object")return C;var N=ue.get(C);if(N)return N;if(a(C)){N=[],ue.set(C,N);for(var O=0,M=C.length;O<M;++O)N.push(b(C[O]))}else if(le.has(C.constructor))N=C;else{var $,K=c(C);for($ in N=K===Object.prototype?{}:Object.create(K),ue.set(C,N),C)p(C,$)&&(N[$]=b(C[$]))}return N}(y),ue=null,y}var q={}.toString;function V(y){return q.call(y).slice(8,-1)}var J=typeof Symbol<"u"?Symbol.iterator:"@@iterator",te=typeof J=="symbol"?function(y){var b;return y!=null&&(b=y[J])&&b.apply(y)}:function(){return null};function ne(y,b){return b=y.indexOf(b),0<=b&&y.splice(b,1),0<=b}var me={};function D(y){var b,C,N,O;if(arguments.length===1){if(a(y))return y.slice();if(this===me&&typeof y=="string")return[y];if(O=te(y)){for(C=[];!(N=O.next()).done;)C.push(N.value);return C}if(y==null)return[y];if(typeof(b=y.length)!="number")return[y];for(C=new Array(b);b--;)C[b]=y[b];return C}for(b=arguments.length,C=new Array(b);b--;)C[b]=arguments[b];return C}var G=typeof Symbol<"u"?function(y){return y[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ur=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Qr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ur),ye={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function B(y,b){this.name=y,this.message=b}function De(y,b){return y+". Errors: "+Object.keys(b).map(function(C){return b[C].toString()}).filter(function(C,N,O){return O.indexOf(C)===N}).join(`
`)}function je(y,b,C,N){this.failures=b,this.failedKeys=N,this.successCount=C,this.message=De(y,b)}function Ee(y,b){this.name="BulkError",this.failures=Object.keys(b).map(function(C){return b[C]}),this.failuresByPos=b,this.message=De(y,this.failures)}S(B).from(Error).extend({toString:function(){return this.name+": "+this.message}}),S(je).from(B),S(Ee).from(B);var Xe=Qr.reduce(function(y,b){return y[b]=b+"Error",y},{}),Ge=B,Pe=Qr.reduce(function(y,b){var C=b+"Error";function N(O,M){this.name=C,O?typeof O=="string"?(this.message="".concat(O).concat(M?`
 `+M:""),this.inner=M||null):typeof O=="object"&&(this.message="".concat(O.name," ").concat(O.message),this.inner=O):(this.message=ye[b]||C,this.inner=null)}return S(N).from(Ge),y[b]=N,y},{});Pe.Syntax=SyntaxError,Pe.Type=TypeError,Pe.Range=RangeError;var ft=Ur.reduce(function(y,b){return y[b+"Error"]=Pe[b],y},{}),dn=Qr.reduce(function(y,b){return["Syntax","Type","Range"].indexOf(b)===-1&&(y[b+"Error"]=Pe[b]),y},{});function Nt(){}function yn(y){return y}function hn(y,b){return y==null||y===yn?b:function(C){return b(y(C))}}function Ln(y,b){return function(){y.apply(this,arguments),b.apply(this,arguments)}}function Fs(y,b){return y===Nt?b:function(){var C=y.apply(this,arguments);C!==void 0&&(arguments[0]=C);var N=this.onsuccess,O=this.onerror;this.onsuccess=null,this.onerror=null;var M=b.apply(this,arguments);return N&&(this.onsuccess=this.onsuccess?Ln(N,this.onsuccess):N),O&&(this.onerror=this.onerror?Ln(O,this.onerror):O),M!==void 0?M:C}}function Gi(y,b){return y===Nt?b:function(){y.apply(this,arguments);var C=this.onsuccess,N=this.onerror;this.onsuccess=this.onerror=null,b.apply(this,arguments),C&&(this.onsuccess=this.onsuccess?Ln(C,this.onsuccess):C),N&&(this.onerror=this.onerror?Ln(N,this.onerror):N)}}function Co(y,b){return y===Nt?b:function(C){var N=y.apply(this,arguments);u(C,N);var O=this.onsuccess,M=this.onerror;return this.onsuccess=null,this.onerror=null,C=b.apply(this,arguments),O&&(this.onsuccess=this.onsuccess?Ln(O,this.onsuccess):O),M&&(this.onerror=this.onerror?Ln(M,this.onerror):M),N===void 0?C===void 0?void 0:C:u(N,C)}}function bs(y,b){return y===Nt?b:function(){return b.apply(this,arguments)!==!1&&y.apply(this,arguments)}}function $r(y,b){return y===Nt?b:function(){var C=y.apply(this,arguments);if(C&&typeof C.then=="function"){for(var N=this,O=arguments.length,M=new Array(O);O--;)M[O]=arguments[O];return C.then(function(){return b.apply(N,M)})}return b.apply(this,arguments)}}dn.ModifyError=je,dn.DexieError=B,dn.BulkError=Ee;var Rn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function hr(y){Rn=y}var fr={},ws=100,Ce=typeof Promise>"u"?[]:function(){var y=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[y,c(y),y];var b=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[b,c(b),y]}(),Ur=Ce[0],Qr=Ce[1],Ce=Ce[2],Qr=Qr&&Qr.then,Oe=Ur&&Ur.constructor,ut=!!Ce,mt=function(y,b){An.push([y,b]),Yt&&(queueMicrotask(Il),Yt=!1)},Pt=!0,Yt=!0,Fn=[],Bn=[],Or=yn,Zn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Nt,pgp:!1,env:{},finalize:Nt},We=Zn,An=[],vn=0,Ei=[];function qe(y){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var b=this._PSD=We;if(typeof y!="function"){if(y!==fr)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Bs(this,this._value))}this._state=null,this._value=null,++b.ref,function C(N,O){try{O(function(M){if(N._state===null){if(M===N)throw new TypeError("A promise cannot be resolved with itself.");var $=N._lib&&X();M&&typeof M.then=="function"?C(N,function(K,ee){M instanceof qe?M._then(K,ee):M.then(K,ee)}):(N._state=!0,N._value=M,_s(N)),$&&pe()}},Bs.bind(null,N))}catch(M){Bs(N,M)}}(this,y)}var ci={get:function(){var y=We,b=lt;function C(N,O){var M=this,$=!y.global&&(y!==We||b!==lt),K=$&&!Ot(),ee=new qe(function(ie,de){Xi(M,new Yi(Ji(N,y,$,K),Ji(O,y,$,K),ie,de,y))});return this._consoleTask&&(ee._consoleTask=this._consoleTask),ee}return C.prototype=fr,C},set:function(y){w(this,"then",y&&y.prototype===fr?ci:{get:function(){return y},set:ci.set})}};function Yi(y,b,C,N,O){this.onFulfilled=typeof y=="function"?y:null,this.onRejected=typeof b=="function"?b:null,this.resolve=C,this.reject=N,this.psd=O}function Bs(y,b){var C,N;Bn.push(b),y._state===null&&(C=y._lib&&X(),b=Or(b),y._state=!1,y._value=b,N=y,Fn.some(function(O){return O._value===N._value})||Fn.push(N),_s(y),C&&pe())}function _s(y){var b=y._listeners;y._listeners=[];for(var C=0,N=b.length;C<N;++C)Xi(y,b[C]);var O=y._PSD;--O.ref||O.finalize(),vn===0&&(++vn,mt(function(){--vn==0&&_e()},[]))}function Xi(y,b){if(y._state!==null){var C=y._state?b.onFulfilled:b.onRejected;if(C===null)return(y._state?b.resolve:b.reject)(y._value);++b.psd.ref,++vn,mt(Ml,[C,y,b])}else y._listeners.push(b)}function Ml(y,b,C){try{var N,O=b._value;!b._state&&Bn.length&&(Bn=[]),N=Rn&&b._consoleTask?b._consoleTask.run(function(){return y(O)}):y(O),b._state||Bn.indexOf(O)!==-1||function(M){for(var $=Fn.length;$;)if(Fn[--$]._value===M._value)return Fn.splice($,1)}(b),C.resolve(N)}catch(M){C.reject(M)}finally{--vn==0&&_e(),--C.psd.ref||C.psd.finalize()}}function Il(){er(Zn,function(){X()&&pe()})}function X(){var y=Pt;return Yt=Pt=!1,y}function pe(){var y,b,C;do for(;0<An.length;)for(y=An,An=[],C=y.length,b=0;b<C;++b){var N=y[b];N[0].apply(null,N[1])}while(0<An.length);Yt=Pt=!0}function _e(){var y=Fn;Fn=[],y.forEach(function(N){N._PSD.onunhandled.call(null,N._value,N)});for(var b=Ei.slice(0),C=b.length;C;)b[--C]()}function Re(y){return new qe(fr,!1,y)}function Te(y,b){var C=We;return function(){var N=X(),O=We;try{return Qt(C,!0),y.apply(this,arguments)}catch(M){b&&b(M)}finally{Qt(O,!1),N&&pe()}}}g(qe.prototype,{then:ci,_then:function(y,b){Xi(this,new Yi(null,null,y,b,We))},catch:function(y){if(arguments.length===1)return this.then(null,y);var b=y,C=arguments[1];return typeof b=="function"?this.then(null,function(N){return(N instanceof b?C:Re)(N)}):this.then(null,function(N){return(N&&N.name===b?C:Re)(N)})},finally:function(y){return this.then(function(b){return qe.resolve(y()).then(function(){return b})},function(b){return qe.resolve(y()).then(function(){return Re(b)})})},timeout:function(y,b){var C=this;return y<1/0?new qe(function(N,O){var M=setTimeout(function(){return O(new Pe.Timeout(b))},y);C.then(N,O).finally(clearTimeout.bind(null,M))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&w(qe.prototype,Symbol.toStringTag,"Dexie.Promise"),Zn.env=Xt(),g(qe,{all:function(){var y=D.apply(null,arguments).map(xn);return new qe(function(b,C){y.length===0&&b([]);var N=y.length;y.forEach(function(O,M){return qe.resolve(O).then(function($){y[M]=$,--N||b(y)},C)})})},resolve:function(y){return y instanceof qe?y:y&&typeof y.then=="function"?new qe(function(b,C){y.then(b,C)}):new qe(fr,!0,y)},reject:Re,race:function(){var y=D.apply(null,arguments).map(xn);return new qe(function(b,C){y.map(function(N){return qe.resolve(N).then(b,C)})})},PSD:{get:function(){return We},set:function(y){return We=y}},totalEchoes:{get:function(){return lt}},newPSD:tt,usePSD:er,scheduler:{get:function(){return mt},set:function(y){mt=y}},rejectionMapper:{get:function(){return Or},set:function(y){Or=y}},follow:function(y,b){return new qe(function(C,N){return tt(function(O,M){var $=We;$.unhandleds=[],$.onunhandled=M,$.finalize=Ln(function(){var K,ee=this;K=function(){ee.unhandleds.length===0?O():M(ee.unhandleds[0])},Ei.push(function ie(){K(),Ei.splice(Ei.indexOf(ie),1)}),++vn,mt(function(){--vn==0&&_e()},[])},$.finalize),y()},b,C,N)})}}),Oe&&(Oe.allSettled&&w(qe,"allSettled",function(){var y=D.apply(null,arguments).map(xn);return new qe(function(b){y.length===0&&b([]);var C=y.length,N=new Array(C);y.forEach(function(O,M){return qe.resolve(O).then(function($){return N[M]={status:"fulfilled",value:$}},function($){return N[M]={status:"rejected",reason:$}}).then(function(){return--C||b(N)})})})}),Oe.any&&typeof AggregateError<"u"&&w(qe,"any",function(){var y=D.apply(null,arguments).map(xn);return new qe(function(b,C){y.length===0&&C(new AggregateError([]));var N=y.length,O=new Array(N);y.forEach(function(M,$){return qe.resolve(M).then(function(K){return b(K)},function(K){O[$]=K,--N||C(new AggregateError(O))})})})}),Oe.withResolvers&&(qe.withResolvers=Oe.withResolvers));var Ke={awaits:0,echoes:0,id:0},it=0,Ze=[],nt=0,lt=0,at=0;function tt(y,b,C,N){var O=We,M=Object.create(O);return M.parent=O,M.ref=0,M.global=!1,M.id=++at,Zn.env,M.env=ut?{Promise:qe,PromiseProp:{value:qe,configurable:!0,writable:!0},all:qe.all,race:qe.race,allSettled:qe.allSettled,any:qe.any,resolve:qe.resolve,reject:qe.reject}:{},b&&u(M,b),++O.ref,M.finalize=function(){--this.parent.ref||this.parent.finalize()},N=er(M,y,C,N),M.ref===0&&M.finalize(),N}function St(){return Ke.id||(Ke.id=++it),++Ke.awaits,Ke.echoes+=ws,Ke.id}function Ot(){return!!Ke.awaits&&(--Ke.awaits==0&&(Ke.id=0),Ke.echoes=Ke.awaits*ws,!0)}function xn(y){return Ke.echoes&&y&&y.constructor===Oe?(St(),y.then(function(b){return Ot(),b},function(b){return Ot(),Ut(b)})):y}function zn(){var y=Ze[Ze.length-1];Ze.pop(),Qt(y,!1)}function Qt(y,b){var C,N=We;(b?!Ke.echoes||nt++&&y===We:!nt||--nt&&y===We)||queueMicrotask(b?(function(O){++lt,Ke.echoes&&--Ke.echoes!=0||(Ke.echoes=Ke.awaits=Ke.id=0),Ze.push(We),Qt(O,!0)}).bind(null,y):zn),y!==We&&(We=y,N===Zn&&(Zn.env=Xt()),ut&&(C=Zn.env.Promise,b=y.env,(N.global||y.global)&&(Object.defineProperty(s,"Promise",b.PromiseProp),C.all=b.all,C.race=b.race,C.resolve=b.resolve,C.reject=b.reject,b.allSettled&&(C.allSettled=b.allSettled),b.any&&(C.any=b.any))))}function Xt(){var y=s.Promise;return ut?{Promise:y,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:y.all,race:y.race,allSettled:y.allSettled,any:y.any,resolve:y.resolve,reject:y.reject}:{}}function er(y,b,C,N,O){var M=We;try{return Qt(y,!0),b(C,N,O)}finally{Qt(M,!1)}}function Ji(y,b,C,N){return typeof y!="function"?y:function(){var O=We;C&&St(),Qt(b,!0);try{return y.apply(this,arguments)}finally{Qt(O,!1),N&&queueMicrotask(Ot)}}}function Lr(y){Promise===Oe&&Ke.echoes===0?nt===0?y():enqueueNativeMicroTask(y):setTimeout(y,0)}(""+Qr).indexOf("[native code]")===-1&&(St=Ot=Nt);var Ut=qe.reject,di="",At="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ti="String expected.",Rr=[],Ni="__dbnames",Mt="readonly",En="readwrite";function Ar(y,b){return y?b?function(){return y.apply(this,arguments)&&b.apply(this,arguments)}:y:b}var hi={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function zt(y){return typeof y!="string"||/\./.test(y)?function(b){return b}:function(b){return b[y]===void 0&&y in b&&delete(b=ae(b))[y],b}}function zs(){throw Pe.Type()}function pt(y,b){try{var C=Dl(y),N=Dl(b);if(C!==N)return C==="Array"?1:N==="Array"?-1:C==="binary"?1:N==="binary"?-1:C==="string"?1:N==="string"?-1:C==="Date"?1:N!=="Date"?NaN:-1;switch(C){case"number":case"Date":case"string":return b<y?1:y<b?-1:0;case"binary":return function(O,M){for(var $=O.length,K=M.length,ee=$<K?$:K,ie=0;ie<ee;++ie)if(O[ie]!==M[ie])return O[ie]<M[ie]?-1:1;return $===K?0:$<K?-1:1}(Ch(y),Ch(b));case"Array":return function(O,M){for(var $=O.length,K=M.length,ee=$<K?$:K,ie=0;ie<ee;++ie){var de=pt(O[ie],M[ie]);if(de!==0)return de}return $===K?0:$<K?-1:1}(y,b)}}catch{}return NaN}function Dl(y){var b=typeof y;return b!="object"?b:ArrayBuffer.isView(y)?"binary":(y=V(y),y==="ArrayBuffer"?"binary":y)}function Ch(y){return y instanceof Uint8Array?y:ArrayBuffer.isView(y)?new Uint8Array(y.buffer,y.byteOffset,y.byteLength):new Uint8Array(y)}var kh=(Zt.prototype._trans=function(y,b,C){var N=this._tx||We.trans,O=this.name,M=Rn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(y==="readonly"?"read":"write"," ").concat(this.name));function $(ie,de,Y){if(!Y.schema[O])throw new Pe.NotFound("Table "+O+" not part of transaction");return b(Y.idbtrans,Y)}var K=X();try{var ee=N&&N.db._novip===this.db._novip?N===We.trans?N._promise(y,$,C):tt(function(){return N._promise(y,$,C)},{trans:N,transless:We.transless||We}):function ie(de,Y,he,re){if(de.idbdb&&(de._state.openComplete||We.letThrough||de._vip)){var ce=de._createTransaction(Y,he,de._dbSchema);try{ce.create(),de._state.PR1398_maxLoop=3}catch(fe){return fe.name===Xe.InvalidState&&de.isOpen()&&0<--de._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),de.close({disableAutoOpen:!1}),de.open().then(function(){return ie(de,Y,he,re)})):Ut(fe)}return ce._promise(Y,function(fe,oe){return tt(function(){return We.trans=ce,re(fe,oe,ce)})}).then(function(fe){if(Y==="readwrite")try{ce.idbtrans.commit()}catch{}return Y==="readonly"?fe:ce._completion.then(function(){return fe})})}if(de._state.openComplete)return Ut(new Pe.DatabaseClosed(de._state.dbOpenError));if(!de._state.isBeingOpened){if(!de._state.autoOpen)return Ut(new Pe.DatabaseClosed);de.open().catch(Nt)}return de._state.dbReadyPromise.then(function(){return ie(de,Y,he,re)})}(this.db,y,[this.name],$);return M&&(ee._consoleTask=M,ee=ee.catch(function(ie){return console.trace(ie),Ut(ie)})),ee}finally{K&&pe()}},Zt.prototype.get=function(y,b){var C=this;return y&&y.constructor===Object?this.where(y).first(b):y==null?Ut(new Pe.Type("Invalid argument to Table.get()")):this._trans("readonly",function(N){return C.core.get({trans:N,key:y}).then(function(O){return C.hook.reading.fire(O)})}).then(b)},Zt.prototype.where=function(y){if(typeof y=="string")return new this.db.WhereClause(this,y);if(a(y))return new this.db.WhereClause(this,"[".concat(y.join("+"),"]"));var b=o(y);if(b.length===1)return this.where(b[0]).equals(y[b[0]]);var C=this.schema.indexes.concat(this.schema.primKey).filter(function(K){if(K.compound&&b.every(function(ie){return 0<=K.keyPath.indexOf(ie)})){for(var ee=0;ee<b.length;++ee)if(b.indexOf(K.keyPath[ee])===-1)return!1;return!0}return!1}).sort(function(K,ee){return K.keyPath.length-ee.keyPath.length})[0];if(C&&this.db._maxKey!==di){var M=C.keyPath.slice(0,b.length);return this.where(M).equals(M.map(function(ee){return y[ee]}))}!C&&Rn&&console.warn("The query ".concat(JSON.stringify(y)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(b.join("+"),"]"));var N=this.schema.idxByName;function O(K,ee){return pt(K,ee)===0}var $=b.reduce(function(Y,ee){var ie=Y[0],de=Y[1],Y=N[ee],he=y[ee];return[ie||Y,ie||!Y?Ar(de,Y&&Y.multi?function(re){return re=P(re,ee),a(re)&&re.some(function(ce){return O(he,ce)})}:function(re){return O(he,P(re,ee))}):de]},[null,null]),M=$[0],$=$[1];return M?this.where(M.name).equals(y[M.keyPath]).filter($):C?this.filter($):this.where(b).equals("")},Zt.prototype.filter=function(y){return this.toCollection().and(y)},Zt.prototype.count=function(y){return this.toCollection().count(y)},Zt.prototype.offset=function(y){return this.toCollection().offset(y)},Zt.prototype.limit=function(y){return this.toCollection().limit(y)},Zt.prototype.each=function(y){return this.toCollection().each(y)},Zt.prototype.toArray=function(y){return this.toCollection().toArray(y)},Zt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Zt.prototype.orderBy=function(y){return new this.db.Collection(new this.db.WhereClause(this,a(y)?"[".concat(y.join("+"),"]"):y))},Zt.prototype.reverse=function(){return this.toCollection().reverse()},Zt.prototype.mapToClass=function(y){var b,C=this.db,N=this.name;function O(){return b!==null&&b.apply(this,arguments)||this}(this.schema.mappedClass=y).prototype instanceof zs&&(function(ee,ie){if(typeof ie!="function"&&ie!==null)throw new TypeError("Class extends value "+String(ie)+" is not a constructor or null");function de(){this.constructor=ee}n(ee,ie),ee.prototype=ie===null?Object.create(ie):(de.prototype=ie.prototype,new de)}(O,b=y),Object.defineProperty(O.prototype,"db",{get:function(){return C},enumerable:!1,configurable:!0}),O.prototype.table=function(){return N},y=O);for(var M=new Set,$=y.prototype;$;$=c($))Object.getOwnPropertyNames($).forEach(function(ee){return M.add(ee)});function K(ee){if(!ee)return ee;var ie,de=Object.create(y.prototype);for(ie in ee)if(!M.has(ie))try{de[ie]=ee[ie]}catch{}return de}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=K,this.hook("reading",K),y},Zt.prototype.defineClass=function(){return this.mapToClass(function(y){u(this,y)})},Zt.prototype.add=function(y,b){var C=this,N=this.schema.primKey,O=N.auto,M=N.keyPath,$=y;return M&&O&&($=zt(M)(y)),this._trans("readwrite",function(K){return C.core.mutate({trans:K,type:"add",keys:b!=null?[b]:null,values:[$]})}).then(function(K){return K.numFailures?qe.reject(K.failures[0]):K.lastResult}).then(function(K){if(M)try{I(y,M,K)}catch{}return K})},Zt.prototype.update=function(y,b){return typeof y!="object"||a(y)?this.where(":id").equals(y).modify(b):(y=P(y,this.schema.primKey.keyPath),y===void 0?Ut(new Pe.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(y).modify(b))},Zt.prototype.put=function(y,b){var C=this,N=this.schema.primKey,O=N.auto,M=N.keyPath,$=y;return M&&O&&($=zt(M)(y)),this._trans("readwrite",function(K){return C.core.mutate({trans:K,type:"put",values:[$],keys:b!=null?[b]:null})}).then(function(K){return K.numFailures?qe.reject(K.failures[0]):K.lastResult}).then(function(K){if(M)try{I(y,M,K)}catch{}return K})},Zt.prototype.delete=function(y){var b=this;return this._trans("readwrite",function(C){return b.core.mutate({trans:C,type:"delete",keys:[y]})}).then(function(C){return C.numFailures?qe.reject(C.failures[0]):void 0})},Zt.prototype.clear=function(){var y=this;return this._trans("readwrite",function(b){return y.core.mutate({trans:b,type:"deleteRange",range:hi})}).then(function(b){return b.numFailures?qe.reject(b.failures[0]):void 0})},Zt.prototype.bulkGet=function(y){var b=this;return this._trans("readonly",function(C){return b.core.getMany({keys:y,trans:C}).then(function(N){return N.map(function(O){return b.hook.reading.fire(O)})})})},Zt.prototype.bulkAdd=function(y,b,C){var N=this,O=Array.isArray(b)?b:void 0,M=(C=C||(O?void 0:b))?C.allKeys:void 0;return this._trans("readwrite",function($){var ie=N.schema.primKey,K=ie.auto,ie=ie.keyPath;if(ie&&O)throw new Pe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(O&&O.length!==y.length)throw new Pe.InvalidArgument("Arguments objects and keys must have the same length");var ee=y.length,ie=ie&&K?y.map(zt(ie)):y;return N.core.mutate({trans:$,type:"add",keys:O,values:ie,wantResults:M}).then(function(ce){var Y=ce.numFailures,he=ce.results,re=ce.lastResult,ce=ce.failures;if(Y===0)return M?he:re;throw new Ee("".concat(N.name,".bulkAdd(): ").concat(Y," of ").concat(ee," operations failed"),ce)})})},Zt.prototype.bulkPut=function(y,b,C){var N=this,O=Array.isArray(b)?b:void 0,M=(C=C||(O?void 0:b))?C.allKeys:void 0;return this._trans("readwrite",function($){var ie=N.schema.primKey,K=ie.auto,ie=ie.keyPath;if(ie&&O)throw new Pe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(O&&O.length!==y.length)throw new Pe.InvalidArgument("Arguments objects and keys must have the same length");var ee=y.length,ie=ie&&K?y.map(zt(ie)):y;return N.core.mutate({trans:$,type:"put",keys:O,values:ie,wantResults:M}).then(function(ce){var Y=ce.numFailures,he=ce.results,re=ce.lastResult,ce=ce.failures;if(Y===0)return M?he:re;throw new Ee("".concat(N.name,".bulkPut(): ").concat(Y," of ").concat(ee," operations failed"),ce)})})},Zt.prototype.bulkUpdate=function(y){var b=this,C=this.core,N=y.map(function($){return $.key}),O=y.map(function($){return $.changes}),M=[];return this._trans("readwrite",function($){return C.getMany({trans:$,keys:N,cache:"clone"}).then(function(K){var ee=[],ie=[];y.forEach(function(Y,he){var re=Y.key,ce=Y.changes,fe=K[he];if(fe){for(var oe=0,ve=Object.keys(ce);oe<ve.length;oe++){var we=ve[oe],Se=ce[we];if(we===b.schema.primKey.keyPath){if(pt(Se,re)!==0)throw new Pe.Constraint("Cannot update primary key in bulkUpdate()")}else I(fe,we,Se)}M.push(he),ee.push(re),ie.push(fe)}});var de=ee.length;return C.mutate({trans:$,type:"put",keys:ee,values:ie,updates:{keys:N,changeSpecs:O}}).then(function(Y){var he=Y.numFailures,re=Y.failures;if(he===0)return de;for(var ce=0,fe=Object.keys(re);ce<fe.length;ce++){var oe,ve=fe[ce],we=M[Number(ve)];we!=null&&(oe=re[ve],delete re[ve],re[we]=oe)}throw new Ee("".concat(b.name,".bulkUpdate(): ").concat(he," of ").concat(de," operations failed"),re)})})})},Zt.prototype.bulkDelete=function(y){var b=this,C=y.length;return this._trans("readwrite",function(N){return b.core.mutate({trans:N,type:"delete",keys:y})}).then(function($){var O=$.numFailures,M=$.lastResult,$=$.failures;if(O===0)return M;throw new Ee("".concat(b.name,".bulkDelete(): ").concat(O," of ").concat(C," operations failed"),$)})},Zt);function Zt(){}function Ss(y){function b($,K){if(K){for(var ee=arguments.length,ie=new Array(ee-1);--ee;)ie[ee-1]=arguments[ee];return C[$].subscribe.apply(null,ie),y}if(typeof $=="string")return C[$]}var C={};b.addEventType=M;for(var N=1,O=arguments.length;N<O;++N)M(arguments[N]);return b;function M($,K,ee){if(typeof $!="object"){var ie;K=K||bs;var de={subscribers:[],fire:ee=ee||Nt,subscribe:function(Y){de.subscribers.indexOf(Y)===-1&&(de.subscribers.push(Y),de.fire=K(de.fire,Y))},unsubscribe:function(Y){de.subscribers=de.subscribers.filter(function(he){return he!==Y}),de.fire=de.subscribers.reduce(K,ee)}};return C[$]=b[$]=de}o(ie=$).forEach(function(Y){var he=ie[Y];if(a(he))M(Y,ie[Y][0],ie[Y][1]);else{if(he!=="asap")throw new Pe.InvalidArgument("Invalid event config");var re=M(Y,yn,function(){for(var ce=arguments.length,fe=new Array(ce);ce--;)fe[ce]=arguments[ce];re.subscribers.forEach(function(oe){U(function(){oe.apply(null,fe)})})})}})}}function Zi(y,b){return S(b).from({prototype:y}),b}function es(y,b){return!(y.filter||y.algorithm||y.or)&&(b?y.justLimit:!y.replayFilter)}function gc(y,b){y.filter=Ar(y.filter,b)}function yc(y,b,C){var N=y.replayFilter;y.replayFilter=N?function(){return Ar(N(),b())}:b,y.justLimit=C&&!N}function ko(y,b){if(y.isPrimKey)return b.primaryKey;var C=b.getIndexByKeyPath(y.index);if(!C)throw new Pe.Schema("KeyPath "+y.index+" on object store "+b.name+" is not indexed");return C}function vc(y,b,C){var N=ko(y,b.schema);return b.openCursor({trans:C,values:!y.keysOnly,reverse:y.dir==="prev",unique:!!y.unique,query:{index:N,range:y.range}})}function jo(y,b,C,N){var O=y.replayFilter?Ar(y.filter,y.replayFilter()):y.filter;if(y.or){var M={},$=function(K,ee,ie){var de,Y;O&&!O(ee,ie,function(he){return ee.stop(he)},function(he){return ee.fail(he)})||((Y=""+(de=ee.primaryKey))=="[object ArrayBuffer]"&&(Y=""+new Uint8Array(de)),p(M,Y)||(M[Y]=!0,b(K,ee,ie)))};return Promise.all([y.or._iterate($,C),Eo(vc(y,N,C),y.algorithm,$,!y.keysOnly&&y.valueMapper)])}return Eo(vc(y,N,C),Ar(y.algorithm,O),b,!y.keysOnly&&y.valueMapper)}function Eo(y,b,C,N){var O=Te(N?function(M,$,K){return C(N(M),$,K)}:C);return y.then(function(M){if(M)return M.start(function(){var $=function(){return M.continue()};b&&!b(M,function(K){return $=K},function(K){M.stop(K),$=Nt},function(K){M.fail(K),$=Nt})||O(M.value,M,function(K){return $=K}),$()})})}var wa=(Fl.prototype.execute=function(y){var b=this["@@propmod"];if(b.add!==void 0){var C=b.add;if(a(C))return i(i([],a(y)?y:[],!0),C).sort();if(typeof C=="number")return(Number(y)||0)+C;if(typeof C=="bigint")try{return BigInt(y)+C}catch{return BigInt(0)+C}throw new TypeError("Invalid term ".concat(C))}if(b.remove!==void 0){var N=b.remove;if(a(N))return a(y)?y.filter(function(O){return!N.includes(O)}).sort():[];if(typeof N=="number")return Number(y)-N;if(typeof N=="bigint")try{return BigInt(y)-N}catch{return BigInt(0)-N}throw new TypeError("Invalid subtrahend ".concat(N))}return C=(C=b.replacePrefix)===null||C===void 0?void 0:C[0],C&&typeof y=="string"&&y.startsWith(C)?b.replacePrefix[1]+y.substring(C.length):y},Fl);function Fl(y){this["@@propmod"]=y}var Jt=($t.prototype._read=function(y,b){var C=this._ctx;return C.error?C.table._trans(null,Ut.bind(null,C.error)):C.table._trans("readonly",y).then(b)},$t.prototype._write=function(y){var b=this._ctx;return b.error?b.table._trans(null,Ut.bind(null,b.error)):b.table._trans("readwrite",y,"locked")},$t.prototype._addAlgorithm=function(y){var b=this._ctx;b.algorithm=Ar(b.algorithm,y)},$t.prototype._iterate=function(y,b){return jo(this._ctx,y,b,this._ctx.table.core)},$t.prototype.clone=function(y){var b=Object.create(this.constructor.prototype),C=Object.create(this._ctx);return y&&u(C,y),b._ctx=C,b},$t.prototype.raw=function(){return this._ctx.valueMapper=null,this},$t.prototype.each=function(y){var b=this._ctx;return this._read(function(C){return jo(b,y,C,b.table.core)})},$t.prototype.count=function(y){var b=this;return this._read(function(C){var N=b._ctx,O=N.table.core;if(es(N,!0))return O.count({trans:C,query:{index:ko(N,O.schema),range:N.range}}).then(function($){return Math.min($,N.limit)});var M=0;return jo(N,function(){return++M,!1},C,O).then(function(){return M})}).then(y)},$t.prototype.sortBy=function(y,b){var C=y.split(".").reverse(),N=C[0],O=C.length-1;function M(ee,ie){return ie?M(ee[C[ie]],ie-1):ee[N]}var $=this._ctx.dir==="next"?1:-1;function K(ee,ie){return pt(M(ee,O),M(ie,O))*$}return this.toArray(function(ee){return ee.sort(K)}).then(b)},$t.prototype.toArray=function(y){var b=this;return this._read(function(C){var N=b._ctx;if(N.dir==="next"&&es(N,!0)&&0<N.limit){var O=N.valueMapper,M=ko(N,N.table.core.schema);return N.table.core.query({trans:C,limit:N.limit,values:!0,query:{index:M,range:N.range}}).then(function(K){return K=K.result,O?K.map(O):K})}var $=[];return jo(N,function(K){return $.push(K)},C,N.table.core).then(function(){return $})},y)},$t.prototype.offset=function(y){var b=this._ctx;return y<=0||(b.offset+=y,es(b)?yc(b,function(){var C=y;return function(N,O){return C===0||(C===1?--C:O(function(){N.advance(C),C=0}),!1)}}):yc(b,function(){var C=y;return function(){return--C<0}})),this},$t.prototype.limit=function(y){return this._ctx.limit=Math.min(this._ctx.limit,y),yc(this._ctx,function(){var b=y;return function(C,N,O){return--b<=0&&N(O),0<=b}},!0),this},$t.prototype.until=function(y,b){return gc(this._ctx,function(C,N,O){return!y(C.value)||(N(O),b)}),this},$t.prototype.first=function(y){return this.limit(1).toArray(function(b){return b[0]}).then(y)},$t.prototype.last=function(y){return this.reverse().first(y)},$t.prototype.filter=function(y){var b;return gc(this._ctx,function(C){return y(C.value)}),(b=this._ctx).isMatch=Ar(b.isMatch,y),this},$t.prototype.and=function(y){return this.filter(y)},$t.prototype.or=function(y){return new this.db.WhereClause(this._ctx.table,y,this)},$t.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},$t.prototype.desc=function(){return this.reverse()},$t.prototype.eachKey=function(y){var b=this._ctx;return b.keysOnly=!b.isMatch,this.each(function(C,N){y(N.key,N)})},$t.prototype.eachUniqueKey=function(y){return this._ctx.unique="unique",this.eachKey(y)},$t.prototype.eachPrimaryKey=function(y){var b=this._ctx;return b.keysOnly=!b.isMatch,this.each(function(C,N){y(N.primaryKey,N)})},$t.prototype.keys=function(y){var b=this._ctx;b.keysOnly=!b.isMatch;var C=[];return this.each(function(N,O){C.push(O.key)}).then(function(){return C}).then(y)},$t.prototype.primaryKeys=function(y){var b=this._ctx;if(b.dir==="next"&&es(b,!0)&&0<b.limit)return this._read(function(N){var O=ko(b,b.table.core.schema);return b.table.core.query({trans:N,values:!1,limit:b.limit,query:{index:O,range:b.range}})}).then(function(N){return N.result}).then(y);b.keysOnly=!b.isMatch;var C=[];return this.each(function(N,O){C.push(O.primaryKey)}).then(function(){return C}).then(y)},$t.prototype.uniqueKeys=function(y){return this._ctx.unique="unique",this.keys(y)},$t.prototype.firstKey=function(y){return this.limit(1).keys(function(b){return b[0]}).then(y)},$t.prototype.lastKey=function(y){return this.reverse().firstKey(y)},$t.prototype.distinct=function(){var y=this._ctx,y=y.index&&y.table.schema.idxByName[y.index];if(!y||!y.multi)return this;var b={};return gc(this._ctx,function(O){var N=O.primaryKey.toString(),O=p(b,N);return b[N]=!0,!O}),this},$t.prototype.modify=function(y){var b=this,C=this._ctx;return this._write(function(N){var O,M,$;$=typeof y=="function"?y:(O=o(y),M=O.length,function(oe){for(var ve=!1,we=0;we<M;++we){var Se=O[we],ke=y[Se],Me=P(oe,Se);ke instanceof wa?(I(oe,Se,ke.execute(Me)),ve=!0):Me!==ke&&(I(oe,Se,ke),ve=!0)}return ve});var K=C.table.core,Y=K.schema.primaryKey,ee=Y.outbound,ie=Y.extractKey,de=200,Y=b.db._options.modifyChunkSize;Y&&(de=typeof Y=="object"?Y[K.name]||Y["*"]||200:Y);function he(oe,Se){var we=Se.failures,Se=Se.numFailures;ce+=oe-Se;for(var ke=0,Me=o(we);ke<Me.length;ke++){var Ue=Me[ke];re.push(we[Ue])}}var re=[],ce=0,fe=[];return b.clone().primaryKeys().then(function(oe){function ve(Se){var ke=Math.min(de,oe.length-Se);return K.getMany({trans:N,keys:oe.slice(Se,Se+ke),cache:"immutable"}).then(function(Me){for(var Ue=[],Ie=[],Be=ee?[]:null,Ve=[],ze=0;ze<ke;++ze){var Ye=Me[ze],vt={value:ae(Ye),primKey:oe[Se+ze]};$.call(vt,vt.value,vt)!==!1&&(vt.value==null?Ve.push(oe[Se+ze]):ee||pt(ie(Ye),ie(vt.value))===0?(Ie.push(vt.value),ee&&Be.push(oe[Se+ze])):(Ve.push(oe[Se+ze]),Ue.push(vt.value)))}return Promise.resolve(0<Ue.length&&K.mutate({trans:N,type:"add",values:Ue}).then(function(wt){for(var jt in wt.failures)Ve.splice(parseInt(jt),1);he(Ue.length,wt)})).then(function(){return(0<Ie.length||we&&typeof y=="object")&&K.mutate({trans:N,type:"put",keys:Be,values:Ie,criteria:we,changeSpec:typeof y!="function"&&y,isAdditionalChunk:0<Se}).then(function(wt){return he(Ie.length,wt)})}).then(function(){return(0<Ve.length||we&&y===Bl)&&K.mutate({trans:N,type:"delete",keys:Ve,criteria:we,isAdditionalChunk:0<Se}).then(function(wt){return he(Ve.length,wt)})}).then(function(){return oe.length>Se+ke&&ve(Se+de)})})}var we=es(C)&&C.limit===1/0&&(typeof y!="function"||y===Bl)&&{index:C.index,range:C.range};return ve(0).then(function(){if(0<re.length)throw new je("Error modifying one or more objects",re,ce,fe);return oe.length})})})},$t.prototype.delete=function(){var y=this._ctx,b=y.range;return es(y)&&(y.isPrimKey||b.type===3)?this._write(function(C){var N=y.table.core.schema.primaryKey,O=b;return y.table.core.count({trans:C,query:{index:N,range:O}}).then(function(M){return y.table.core.mutate({trans:C,type:"deleteRange",range:O}).then(function($){var K=$.failures;if($.lastResult,$.results,$=$.numFailures,$)throw new je("Could not delete some values",Object.keys(K).map(function(ee){return K[ee]}),M-$);return M-$})})}):this.modify(Bl)},$t);function $t(){}var Bl=function(y,b){return b.value=null};function xc(y,b){return y<b?-1:y===b?0:1}function jh(y,b){return b<y?-1:y===b?0:1}function pr(y,b,C){return y=y instanceof ns?new y.Collection(y):y,y._ctx.error=new(C||TypeError)(b),y}function $s(y){return new y.Collection(y,function(){return ts("")}).limit(0)}function To(y,b,C,N){var O,M,$,K,ee,ie,de,Y=C.length;if(!C.every(function(ce){return typeof ce=="string"}))return pr(y,Ti);function he(ce){O=ce==="next"?function(oe){return oe.toUpperCase()}:function(oe){return oe.toLowerCase()},M=ce==="next"?function(oe){return oe.toLowerCase()}:function(oe){return oe.toUpperCase()},$=ce==="next"?xc:jh;var fe=C.map(function(oe){return{lower:M(oe),upper:O(oe)}}).sort(function(oe,ve){return $(oe.lower,ve.lower)});K=fe.map(function(oe){return oe.upper}),ee=fe.map(function(oe){return oe.lower}),de=(ie=ce)==="next"?"":N}he("next"),y=new y.Collection(y,function(){return fi(K[0],ee[Y-1]+N)}),y._ondirectionchange=function(ce){he(ce)};var re=0;return y._addAlgorithm(function(ce,fe,oe){var ve=ce.key;if(typeof ve!="string")return!1;var we=M(ve);if(b(we,ee,re))return!0;for(var Se=null,ke=re;ke<Y;++ke){var Me=function(Ue,Ie,Be,Ve,ze,Ye){for(var vt=Math.min(Ue.length,Ve.length),wt=-1,jt=0;jt<vt;++jt){var gr=Ie[jt];if(gr!==Ve[jt])return ze(Ue[jt],Be[jt])<0?Ue.substr(0,jt)+Be[jt]+Be.substr(jt+1):ze(Ue[jt],Ve[jt])<0?Ue.substr(0,jt)+Ve[jt]+Be.substr(jt+1):0<=wt?Ue.substr(0,wt)+Ie[wt]+Be.substr(wt+1):null;ze(Ue[jt],gr)<0&&(wt=jt)}return vt<Ve.length&&Ye==="next"?Ue+Be.substr(Ue.length):vt<Ue.length&&Ye==="prev"?Ue.substr(0,Be.length):wt<0?null:Ue.substr(0,wt)+Ve[wt]+Be.substr(wt+1)}(ve,we,K[ke],ee[ke],$,ie);Me===null&&Se===null?re=ke+1:(Se===null||0<$(Se,Me))&&(Se=Me)}return fe(Se!==null?function(){ce.continue(Se+de)}:oe),!1}),y}function fi(y,b,C,N){return{type:2,lower:y,upper:b,lowerOpen:C,upperOpen:N}}function ts(y){return{type:1,lower:y,upper:y}}var ns=(Object.defineProperty(rn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),rn.prototype.between=function(y,b,C,N){C=C!==!1,N=N===!0;try{return 0<this._cmp(y,b)||this._cmp(y,b)===0&&(C||N)&&(!C||!N)?$s(this):new this.Collection(this,function(){return fi(y,b,!C,!N)})}catch{return pr(this,At)}},rn.prototype.equals=function(y){return y==null?pr(this,At):new this.Collection(this,function(){return ts(y)})},rn.prototype.above=function(y){return y==null?pr(this,At):new this.Collection(this,function(){return fi(y,void 0,!0)})},rn.prototype.aboveOrEqual=function(y){return y==null?pr(this,At):new this.Collection(this,function(){return fi(y,void 0,!1)})},rn.prototype.below=function(y){return y==null?pr(this,At):new this.Collection(this,function(){return fi(void 0,y,!1,!0)})},rn.prototype.belowOrEqual=function(y){return y==null?pr(this,At):new this.Collection(this,function(){return fi(void 0,y)})},rn.prototype.startsWith=function(y){return typeof y!="string"?pr(this,Ti):this.between(y,y+di,!0,!0)},rn.prototype.startsWithIgnoreCase=function(y){return y===""?this.startsWith(y):To(this,function(b,C){return b.indexOf(C[0])===0},[y],di)},rn.prototype.equalsIgnoreCase=function(y){return To(this,function(b,C){return b===C[0]},[y],"")},rn.prototype.anyOfIgnoreCase=function(){var y=D.apply(me,arguments);return y.length===0?$s(this):To(this,function(b,C){return C.indexOf(b)!==-1},y,"")},rn.prototype.startsWithAnyOfIgnoreCase=function(){var y=D.apply(me,arguments);return y.length===0?$s(this):To(this,function(b,C){return C.some(function(N){return b.indexOf(N)===0})},y,di)},rn.prototype.anyOf=function(){var y=this,b=D.apply(me,arguments),C=this._cmp;try{b.sort(C)}catch{return pr(this,At)}if(b.length===0)return $s(this);var N=new this.Collection(this,function(){return fi(b[0],b[b.length-1])});N._ondirectionchange=function(M){C=M==="next"?y._ascending:y._descending,b.sort(C)};var O=0;return N._addAlgorithm(function(M,$,K){for(var ee=M.key;0<C(ee,b[O]);)if(++O===b.length)return $(K),!1;return C(ee,b[O])===0||($(function(){M.continue(b[O])}),!1)}),N},rn.prototype.notEqual=function(y){return this.inAnyRange([[-1/0,y],[y,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},rn.prototype.noneOf=function(){var y=D.apply(me,arguments);if(y.length===0)return new this.Collection(this);try{y.sort(this._ascending)}catch{return pr(this,At)}var b=y.reduce(function(C,N){return C?C.concat([[C[C.length-1][1],N]]):[[-1/0,N]]},null);return b.push([y[y.length-1],this.db._maxKey]),this.inAnyRange(b,{includeLowers:!1,includeUppers:!1})},rn.prototype.inAnyRange=function(ve,b){var C=this,N=this._cmp,O=this._ascending,M=this._descending,$=this._min,K=this._max;if(ve.length===0)return $s(this);if(!ve.every(function(we){return we[0]!==void 0&&we[1]!==void 0&&O(we[0],we[1])<=0}))return pr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Pe.InvalidArgument);var ee=!b||b.includeLowers!==!1,ie=b&&b.includeUppers===!0,de,Y=O;function he(we,Se){return Y(we[0],Se[0])}try{(de=ve.reduce(function(we,Se){for(var ke=0,Me=we.length;ke<Me;++ke){var Ue=we[ke];if(N(Se[0],Ue[1])<0&&0<N(Se[1],Ue[0])){Ue[0]=$(Ue[0],Se[0]),Ue[1]=K(Ue[1],Se[1]);break}}return ke===Me&&we.push(Se),we},[])).sort(he)}catch{return pr(this,At)}var re=0,ce=ie?function(we){return 0<O(we,de[re][1])}:function(we){return 0<=O(we,de[re][1])},fe=ee?function(we){return 0<M(we,de[re][0])}:function(we){return 0<=M(we,de[re][0])},oe=ce,ve=new this.Collection(this,function(){return fi(de[0][0],de[de.length-1][1],!ee,!ie)});return ve._ondirectionchange=function(we){Y=we==="next"?(oe=ce,O):(oe=fe,M),de.sort(he)},ve._addAlgorithm(function(we,Se,ke){for(var Me,Ue=we.key;oe(Ue);)if(++re===de.length)return Se(ke),!1;return!ce(Me=Ue)&&!fe(Me)||(C._cmp(Ue,de[re][1])===0||C._cmp(Ue,de[re][0])===0||Se(function(){Y===O?we.continue(de[re][0]):we.continue(de[re][1])}),!1)}),ve},rn.prototype.startsWithAnyOf=function(){var y=D.apply(me,arguments);return y.every(function(b){return typeof b=="string"})?y.length===0?$s(this):this.inAnyRange(y.map(function(b){return[b,b+di]})):pr(this,"startsWithAnyOf() only works with strings")},rn);function rn(){}function mr(y){return Te(function(b){return rs(b),y(b.target.error),!1})}function rs(y){y.stopPropagation&&y.stopPropagation(),y.preventDefault&&y.preventDefault()}var Hr="storagemutated",bc="x-storagemutated-1",is=Ss(null,Hr),_a=(Pi.prototype._lock=function(){return z(!We.global),++this._reculock,this._reculock!==1||We.global||(We.lockOwnerFor=this),this},Pi.prototype._unlock=function(){if(z(!We.global),--this._reculock==0)for(We.global||(We.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var y=this._blockedFuncs.shift();try{er(y[1],y[0])}catch{}}return this},Pi.prototype._locked=function(){return this._reculock&&We.lockOwnerFor!==this},Pi.prototype.create=function(y){var b=this;if(!this.mode)return this;var C=this.db.idbdb,N=this.db._state.dbOpenError;if(z(!this.idbtrans),!y&&!C)switch(N&&N.name){case"DatabaseClosedError":throw new Pe.DatabaseClosed(N);case"MissingAPIError":throw new Pe.MissingAPI(N.message,N);default:throw new Pe.OpenFailed(N)}if(!this.active)throw new Pe.TransactionInactive;return z(this._completion._state===null),(y=this.idbtrans=y||(this.db.core||C).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Te(function(O){rs(O),b._reject(y.error)}),y.onabort=Te(function(O){rs(O),b.active&&b._reject(new Pe.Abort(y.error)),b.active=!1,b.on("abort").fire(O)}),y.oncomplete=Te(function(){b.active=!1,b._resolve(),"mutatedParts"in y&&is.storagemutated.fire(y.mutatedParts)}),this},Pi.prototype._promise=function(y,b,C){var N=this;if(y==="readwrite"&&this.mode!=="readwrite")return Ut(new Pe.ReadOnly("Transaction is readonly"));if(!this.active)return Ut(new Pe.TransactionInactive);if(this._locked())return new qe(function(M,$){N._blockedFuncs.push([function(){N._promise(y,b,C).then(M,$)},We])});if(C)return tt(function(){var M=new qe(function($,K){N._lock();var ee=b($,K,N);ee&&ee.then&&ee.then($,K)});return M.finally(function(){return N._unlock()}),M._lib=!0,M});var O=new qe(function(M,$){var K=b(M,$,N);K&&K.then&&K.then(M,$)});return O._lib=!0,O},Pi.prototype._root=function(){return this.parent?this.parent._root():this},Pi.prototype.waitFor=function(y){var b,C=this._root(),N=qe.resolve(y);C._waitingFor?C._waitingFor=C._waitingFor.then(function(){return N}):(C._waitingFor=N,C._waitingQueue=[],b=C.idbtrans.objectStore(C.storeNames[0]),function M(){for(++C._spinCount;C._waitingQueue.length;)C._waitingQueue.shift()();C._waitingFor&&(b.get(-1/0).onsuccess=M)}());var O=C._waitingFor;return new qe(function(M,$){N.then(function(K){return C._waitingQueue.push(Te(M.bind(null,K)))},function(K){return C._waitingQueue.push(Te($.bind(null,K)))}).finally(function(){C._waitingFor===O&&(C._waitingFor=null)})})},Pi.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Pe.Abort))},Pi.prototype.table=function(y){var b=this._memoizedTables||(this._memoizedTables={});if(p(b,y))return b[y];var C=this.schema[y];if(!C)throw new Pe.NotFound("Table "+y+" not part of transaction");return C=new this.db.Table(y,C,this),C.core=this.db.core.table(y),b[y]=C},Pi);function Pi(){}function zl(y,b,C,N,O,M,$){return{name:y,keyPath:b,unique:C,multi:N,auto:O,compound:M,src:(C&&!$?"&":"")+(N?"*":"")+(O?"++":"")+Sa(b)}}function Sa(y){return typeof y=="string"?y:y?"["+[].join.call(y,"+")+"]":""}function $l(y,b,C){return{name:y,primKey:b,indexes:C,mappedClass:null,idxByName:(N=function(O){return[O.name,O]},C.reduce(function(O,M,$){return $=N(M,$),$&&(O[$[0]]=$[1]),O},{}))};var N}var Ca=function(y){try{return y.only([[]]),Ca=function(){return[[]]},[[]]}catch{return Ca=function(){return di},di}};function Us(y){return y==null?function(){}:typeof y=="string"?(b=y).split(".").length===1?function(C){return C[b]}:function(C){return P(C,b)}:function(C){return P(C,y)};var b}function No(y){return[].slice.call(y)}var Po=0;function Cs(y){return y==null?":id":typeof y=="string"?y:"[".concat(y.join("+"),"]")}function Zm(y,b,ee){function N(oe){if(oe.type===3)return null;if(oe.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var re=oe.lower,ce=oe.upper,fe=oe.lowerOpen,oe=oe.upperOpen;return re===void 0?ce===void 0?null:b.upperBound(ce,!!oe):ce===void 0?b.lowerBound(re,!!fe):b.bound(re,ce,!!fe,!!oe)}function O(he){var re,ce=he.name;return{name:ce,schema:he,mutate:function(fe){var oe=fe.trans,ve=fe.type,we=fe.keys,Se=fe.values,ke=fe.range;return new Promise(function(Me,Ue){Me=Te(Me);var Ie=oe.objectStore(ce),Be=Ie.keyPath==null,Ve=ve==="put"||ve==="add";if(!Ve&&ve!=="delete"&&ve!=="deleteRange")throw new Error("Invalid operation type: "+ve);var ze,Ye=(we||Se||{length:1}).length;if(we&&Se&&we.length!==Se.length)throw new Error("Given keys array must have same length as given values array.");if(Ye===0)return Me({numFailures:0,failures:{},results:[],lastResult:void 0});function vt(bn){++gr,rs(bn)}var wt=[],jt=[],gr=0;if(ve==="deleteRange"){if(ke.type===4)return Me({numFailures:gr,failures:jt,results:[],lastResult:void 0});ke.type===3?wt.push(ze=Ie.clear()):wt.push(ze=Ie.delete(N(ke)))}else{var Be=Ve?Be?[Se,we]:[Se,null]:[we,null],yt=Be[0],Qn=Be[1];if(Ve)for(var Vn=0;Vn<Ye;++Vn)wt.push(ze=Qn&&Qn[Vn]!==void 0?Ie[ve](yt[Vn],Qn[Vn]):Ie[ve](yt[Vn])),ze.onerror=vt;else for(Vn=0;Vn<Ye;++Vn)wt.push(ze=Ie[ve](yt[Vn])),ze.onerror=vt}function Aa(bn){bn=bn.target.result,wt.forEach(function(ss,Ma){return ss.error!=null&&(jt[Ma]=ss.error)}),Me({numFailures:gr,failures:jt,results:ve==="delete"?we:wt.map(function(ss){return ss.result}),lastResult:bn})}ze.onerror=function(bn){vt(bn),Aa(bn)},ze.onsuccess=Aa})},getMany:function(fe){var oe=fe.trans,ve=fe.keys;return new Promise(function(we,Se){we=Te(we);for(var ke,Me=oe.objectStore(ce),Ue=ve.length,Ie=new Array(Ue),Be=0,Ve=0,ze=function(wt){wt=wt.target,Ie[wt._pos]=wt.result,++Ve===Be&&we(Ie)},Ye=mr(Se),vt=0;vt<Ue;++vt)ve[vt]!=null&&((ke=Me.get(ve[vt]))._pos=vt,ke.onsuccess=ze,ke.onerror=Ye,++Be);Be===0&&we(Ie)})},get:function(fe){var oe=fe.trans,ve=fe.key;return new Promise(function(we,Se){we=Te(we);var ke=oe.objectStore(ce).get(ve);ke.onsuccess=function(Me){return we(Me.target.result)},ke.onerror=mr(Se)})},query:(re=ie,function(fe){return new Promise(function(oe,ve){oe=Te(oe);var we,Se,ke,Be=fe.trans,Me=fe.values,Ue=fe.limit,ze=fe.query,Ie=Ue===1/0?void 0:Ue,Ve=ze.index,ze=ze.range,Be=Be.objectStore(ce),Ve=Ve.isPrimaryKey?Be:Be.index(Ve.name),ze=N(ze);if(Ue===0)return oe({result:[]});re?((Ie=Me?Ve.getAll(ze,Ie):Ve.getAllKeys(ze,Ie)).onsuccess=function(Ye){return oe({result:Ye.target.result})},Ie.onerror=mr(ve)):(we=0,Se=!Me&&"openKeyCursor"in Ve?Ve.openKeyCursor(ze):Ve.openCursor(ze),ke=[],Se.onsuccess=function(Ye){var vt=Se.result;return vt?(ke.push(Me?vt.value:vt.primaryKey),++we===Ue?oe({result:ke}):void vt.continue()):oe({result:ke})},Se.onerror=mr(ve))})}),openCursor:function(fe){var oe=fe.trans,ve=fe.values,we=fe.query,Se=fe.reverse,ke=fe.unique;return new Promise(function(Me,Ue){Me=Te(Me);var Ve=we.index,Ie=we.range,Be=oe.objectStore(ce),Be=Ve.isPrimaryKey?Be:Be.index(Ve.name),Ve=Se?ke?"prevunique":"prev":ke?"nextunique":"next",ze=!ve&&"openKeyCursor"in Be?Be.openKeyCursor(N(Ie),Ve):Be.openCursor(N(Ie),Ve);ze.onerror=mr(Ue),ze.onsuccess=Te(function(Ye){var vt,wt,jt,gr,yt=ze.result;yt?(yt.___id=++Po,yt.done=!1,vt=yt.continue.bind(yt),wt=(wt=yt.continuePrimaryKey)&&wt.bind(yt),jt=yt.advance.bind(yt),gr=function(){throw new Error("Cursor not stopped")},yt.trans=oe,yt.stop=yt.continue=yt.continuePrimaryKey=yt.advance=function(){throw new Error("Cursor not started")},yt.fail=Te(Ue),yt.next=function(){var Qn=this,Vn=1;return this.start(function(){return Vn--?Qn.continue():Qn.stop()}).then(function(){return Qn})},yt.start=function(Qn){function Vn(){if(ze.result)try{Qn()}catch(bn){yt.fail(bn)}else yt.done=!0,yt.start=function(){throw new Error("Cursor behind last entry")},yt.stop()}var Aa=new Promise(function(bn,ss){bn=Te(bn),ze.onerror=mr(ss),yt.fail=ss,yt.stop=function(Ma){yt.stop=yt.continue=yt.continuePrimaryKey=yt.advance=gr,bn(Ma)}});return ze.onsuccess=Te(function(bn){ze.onsuccess=Vn,Vn()}),yt.continue=vt,yt.continuePrimaryKey=wt,yt.advance=jt,Vn(),Aa},Me(yt)):Me(null)},Ue)})},count:function(fe){var oe=fe.query,ve=fe.trans,we=oe.index,Se=oe.range;return new Promise(function(ke,Me){var Ue=ve.objectStore(ce),Ie=we.isPrimaryKey?Ue:Ue.index(we.name),Ue=N(Se),Ie=Ue?Ie.count(Ue):Ie.count();Ie.onsuccess=Te(function(Be){return ke(Be.target.result)}),Ie.onerror=mr(Me)})}}}var M,$,K,de=($=ee,K=No((M=y).objectStoreNames),{schema:{name:M.name,tables:K.map(function(he){return $.objectStore(he)}).map(function(he){var re=he.keyPath,oe=he.autoIncrement,ce=a(re),fe={},oe={name:he.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:re==null,compound:ce,keyPath:re,autoIncrement:oe,unique:!0,extractKey:Us(re)},indexes:No(he.indexNames).map(function(ve){return he.index(ve)}).map(function(ke){var we=ke.name,Se=ke.unique,Me=ke.multiEntry,ke=ke.keyPath,Me={name:we,compound:a(ke),keyPath:ke,unique:Se,multiEntry:Me,extractKey:Us(ke)};return fe[Cs(ke)]=Me}),getIndexByKeyPath:function(ve){return fe[Cs(ve)]}};return fe[":id"]=oe.primaryKey,re!=null&&(fe[Cs(re)]=oe.primaryKey),oe})},hasGetAll:0<K.length&&"getAll"in $.objectStore(K[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),ee=de.schema,ie=de.hasGetAll,de=ee.tables.map(O),Y={};return de.forEach(function(he){return Y[he.name]=he}),{stack:"dbcore",transaction:y.transaction.bind(y),table:function(he){if(!Y[he])throw new Error("Table '".concat(he,"' not found"));return Y[he]},MIN_KEY:-1/0,MAX_KEY:Ca(b),schema:ee}}function eg(y,b,C,N){var O=C.IDBKeyRange;return C.indexedDB,{dbcore:(N=Zm(b,O,N),y.dbcore.reduce(function(M,$){return $=$.create,r(r({},M),$(M))},N))}}function Oo(y,N){var C=N.db,N=eg(y._middlewares,C,y._deps,N);y.core=N.dbcore,y.tables.forEach(function(O){var M=O.name;y.core.schema.tables.some(function($){return $.name===M})&&(O.core=y.core.table(M),y[M]instanceof y.Table&&(y[M].core=O.core))})}function Hs(y,b,C,N){C.forEach(function(O){var M=N[O];b.forEach(function($){var K=function ee(ie,de){return k(ie,de)||(ie=c(ie))&&ee(ie,de)}($,O);(!K||"value"in K&&K.value===void 0)&&($===y.Transaction.prototype||$ instanceof y.Transaction?w($,O,{get:function(){return this.table(O)},set:function(ee){x(this,O,{value:ee,writable:!0,configurable:!0,enumerable:!0})}}):$[O]=new y.Table(O,M))})})}function ka(y,b){b.forEach(function(C){for(var N in C)C[N]instanceof y.Table&&delete C[N]})}function Eh(y,b){return y._cfg.version-b._cfg.version}function ks(y,b,C,N){var O=y._dbSchema;C.objectStoreNames.contains("$meta")&&!O.$meta&&(O.$meta=$l("$meta",Vs("")[0],[]),y._storeNames.push("$meta"));var M=y._createTransaction("readwrite",y._storeNames,O);M.create(C),M._completion.catch(N);var $=M._reject.bind(M),K=We.transless||We;tt(function(){return We.trans=M,We.transless=K,b!==0?(Oo(y,C),ie=b,((ee=M).storeNames.includes("$meta")?ee.table("$meta").get("version").then(function(de){return de??ie}):qe.resolve(ie)).then(function(de){return he=de,re=M,ce=C,fe=[],de=(Y=y)._versions,oe=Y._dbSchema=Ea(0,Y.idbdb,ce),(de=de.filter(function(ve){return ve._cfg.version>=he})).length!==0?(de.forEach(function(ve){fe.push(function(){var we=oe,Se=ve._cfg.dbschema;tr(Y,we,ce),tr(Y,Se,ce),oe=Y._dbSchema=Se;var ke=Lo(we,Se);ke.add.forEach(function(Ve){Ul(ce,Ve[0],Ve[1].primKey,Ve[1].indexes)}),ke.change.forEach(function(Ve){if(Ve.recreate)throw new Pe.Upgrade("Not yet support for changing primary key");var ze=ce.objectStore(Ve.name);Ve.add.forEach(function(Ye){return Qs(ze,Ye)}),Ve.change.forEach(function(Ye){ze.deleteIndex(Ye.name),Qs(ze,Ye)}),Ve.del.forEach(function(Ye){return ze.deleteIndex(Ye)})});var Me=ve._cfg.contentUpgrade;if(Me&&ve._cfg.version>he){Oo(Y,ce),re._memoizedTables={};var Ue=H(Se);ke.del.forEach(function(Ve){Ue[Ve]=we[Ve]}),ka(Y,[Y.Transaction.prototype]),Hs(Y,[Y.Transaction.prototype],o(Ue),Ue),re.schema=Ue;var Ie,Be=G(Me);return Be&&St(),ke=qe.follow(function(){var Ve;(Ie=Me(re))&&Be&&(Ve=Ot.bind(null,null),Ie.then(Ve,Ve))}),Ie&&typeof Ie.then=="function"?qe.resolve(Ie):ke.then(function(){return Ie})}}),fe.push(function(we){var Se,ke,Me=ve._cfg.dbschema;Se=Me,ke=we,[].slice.call(ke.db.objectStoreNames).forEach(function(Ue){return Se[Ue]==null&&ke.db.deleteObjectStore(Ue)}),ka(Y,[Y.Transaction.prototype]),Hs(Y,[Y.Transaction.prototype],Y._storeNames,Y._dbSchema),re.schema=Y._dbSchema}),fe.push(function(we){Y.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(Y.idbdb.version/10)===ve._cfg.version?(Y.idbdb.deleteObjectStore("$meta"),delete Y._dbSchema.$meta,Y._storeNames=Y._storeNames.filter(function(Se){return Se!=="$meta"})):we.objectStore("$meta").put(ve._cfg.version,"version"))})}),function ve(){return fe.length?qe.resolve(fe.shift()(re.idbtrans)).then(ve):qe.resolve()}().then(function(){ja(oe,ce)})):qe.resolve();var Y,he,re,ce,fe,oe}).catch($)):(o(O).forEach(function(de){Ul(C,de,O[de].primKey,O[de].indexes)}),Oo(y,C),void qe.follow(function(){return y.on.populate.fire(M)}).catch($));var ee,ie})}function wc(y,b){ja(y._dbSchema,b),b.db.version%10!=0||b.objectStoreNames.contains("$meta")||b.db.createObjectStore("$meta").add(Math.ceil(b.db.version/10-1),"version");var C=Ea(0,y.idbdb,b);tr(y,y._dbSchema,b);for(var N=0,O=Lo(C,y._dbSchema).change;N<O.length;N++){var M=function($){if($.change.length||$.recreate)return console.warn("Unable to patch indexes of table ".concat($.name," because it has changes on the type of index or primary key.")),{value:void 0};var K=b.objectStore($.name);$.add.forEach(function(ee){Rn&&console.debug("Dexie upgrade patch: Creating missing index ".concat($.name,".").concat(ee.src)),Qs(K,ee)})}(O[N]);if(typeof M=="object")return M.value}}function Lo(y,b){var C,N={del:[],add:[],change:[]};for(C in y)b[C]||N.del.push(C);for(C in b){var O=y[C],M=b[C];if(O){var $={name:C,def:M,recreate:!1,del:[],add:[],change:[]};if(""+(O.primKey.keyPath||"")!=""+(M.primKey.keyPath||"")||O.primKey.auto!==M.primKey.auto)$.recreate=!0,N.change.push($);else{var K=O.idxByName,ee=M.idxByName,ie=void 0;for(ie in K)ee[ie]||$.del.push(ie);for(ie in ee){var de=K[ie],Y=ee[ie];de?de.src!==Y.src&&$.change.push(Y):$.add.push(Y)}(0<$.del.length||0<$.add.length||0<$.change.length)&&N.change.push($)}}else N.add.push([C,M])}return N}function Ul(y,b,C,N){var O=y.db.createObjectStore(b,C.keyPath?{keyPath:C.keyPath,autoIncrement:C.auto}:{autoIncrement:C.auto});return N.forEach(function(M){return Qs(O,M)}),O}function ja(y,b){o(y).forEach(function(C){b.db.objectStoreNames.contains(C)||(Rn&&console.debug("Dexie: Creating missing table",C),Ul(b,C,y[C].primKey,y[C].indexes))})}function Qs(y,b){y.createIndex(b.name,b.keyPath,{unique:b.unique,multiEntry:b.multi})}function Ea(y,b,C){var N={};return L(b.objectStoreNames,0).forEach(function(O){for(var M=C.objectStore(O),$=zl(Sa(ie=M.keyPath),ie||"",!0,!1,!!M.autoIncrement,ie&&typeof ie!="string",!0),K=[],ee=0;ee<M.indexNames.length;++ee){var de=M.index(M.indexNames[ee]),ie=de.keyPath,de=zl(de.name,ie,!!de.unique,!!de.multiEntry,!1,ie&&typeof ie!="string",!1);K.push(de)}N[O]=$l(O,$,K)}),N}function tr(y,b,C){for(var N=C.db.objectStoreNames,O=0;O<N.length;++O){var M=N[O],$=C.objectStore(M);y._hasGetAll="getAll"in $;for(var K=0;K<$.indexNames.length;++K){var ee=$.indexNames[K],ie=$.index(ee).keyPath,de=typeof ie=="string"?ie:"["+L(ie).join("+")+"]";!b[M]||(ie=b[M].idxByName[de])&&(ie.name=ee,delete b[M].idxByName[de],b[M].idxByName[ee]=ie)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(y._hasGetAll=!1)}function Vs(y){return y.split(",").map(function(b,C){var N=(b=b.trim()).replace(/([&*]|\+\+)/g,""),O=/^\[/.test(N)?N.match(/^\[(.*)\]$/)[1].split("+"):N;return zl(N,O||null,/\&/.test(b),/\*/.test(b),/\+\+/.test(b),a(O),C===0)})}var _c=(js.prototype._parseStoresSpec=function(y,b){o(y).forEach(function(C){if(y[C]!==null){var N=Vs(y[C]),O=N.shift();if(O.unique=!0,O.multi)throw new Pe.Schema("Primary key cannot be multi-valued");N.forEach(function(M){if(M.auto)throw new Pe.Schema("Only primary key can be marked as autoIncrement (++)");if(!M.keyPath)throw new Pe.Schema("Index must have a name and cannot be an empty string")}),b[C]=$l(C,O,N)}})},js.prototype.stores=function(C){var b=this.db;this._cfg.storesSource=this._cfg.storesSource?u(this._cfg.storesSource,C):C;var C=b._versions,N={},O={};return C.forEach(function(M){u(N,M._cfg.storesSource),O=M._cfg.dbschema={},M._parseStoresSpec(N,O)}),b._dbSchema=O,ka(b,[b._allTables,b,b.Transaction.prototype]),Hs(b,[b._allTables,b,b.Transaction.prototype,this._cfg.tables],o(O),O),b._storeNames=o(O),this},js.prototype.upgrade=function(y){return this._cfg.contentUpgrade=$r(this._cfg.contentUpgrade||Nt,y),this},js);function js(){}function Sc(y,b){var C=y._dbNamesDB;return C||(C=y._dbNamesDB=new Oi(Ni,{addons:[],indexedDB:y,IDBKeyRange:b})).version(1).stores({dbnames:"name"}),C.table("dbnames")}function Ta(y){return y&&typeof y.databases=="function"}function Na(y){return tt(function(){return We.letThrough=!0,y()})}function Ws(y){return!("from"in y)}var Mn=function(y,b){if(!this){var C=new Mn;return y&&"d"in y&&u(C,y),C}u(this,arguments.length?{d:1,from:y,to:1<arguments.length?b:y}:{d:0})};function Ro(y,b,C){var N=pt(b,C);if(!isNaN(N)){if(0<N)throw RangeError();if(Ws(y))return u(y,{from:b,to:C,d:1});var O=y.l,N=y.r;if(pt(C,y.from)<0)return O?Ro(O,b,C):y.l={from:b,to:C,d:1,l:null,r:null},Ql(y);if(0<pt(b,y.to))return N?Ro(N,b,C):y.r={from:b,to:C,d:1,l:null,r:null},Ql(y);pt(b,y.from)<0&&(y.from=b,y.l=null,y.d=N?N.d+1:1),0<pt(C,y.to)&&(y.to=C,y.r=null,y.d=y.l?y.l.d+1:1),C=!y.r,O&&!y.l&&Pa(y,O),N&&C&&Pa(y,N)}}function Pa(y,b){Ws(b)||function C(N,ee){var M=ee.from,$=ee.to,K=ee.l,ee=ee.r;Ro(N,M,$),K&&C(N,K),ee&&C(N,ee)}(y,b)}function Th(y,b){var C=Hl(b),N=C.next();if(N.done)return!1;for(var O=N.value,M=Hl(y),$=M.next(O.from),K=$.value;!N.done&&!$.done;){if(pt(K.from,O.to)<=0&&0<=pt(K.to,O.from))return!0;pt(O.from,K.from)<0?O=(N=C.next(K.from)).value:K=($=M.next(O.from)).value}return!1}function Hl(y){var b=Ws(y)?null:{s:0,n:y};return{next:function(C){for(var N=0<arguments.length;b;)switch(b.s){case 0:if(b.s=1,N)for(;b.n.l&&pt(C,b.n.from)<0;)b={up:b,n:b.n.l,s:1};else for(;b.n.l;)b={up:b,n:b.n.l,s:1};case 1:if(b.s=2,!N||pt(C,b.n.to)<=0)return{value:b.n,done:!1};case 2:if(b.n.r){b.s=3,b={up:b,n:b.n.r,s:0};continue}case 3:b=b.up}return{done:!0}}}}function Ql(y){var b,C,N=(((b=y.r)===null||b===void 0?void 0:b.d)||0)-(((C=y.l)===null||C===void 0?void 0:C.d)||0),O=1<N?"r":N<-1?"l":"";O&&(b=O=="r"?"l":"r",C=r({},y),N=y[O],y.from=N.from,y.to=N.to,y[O]=N[O],C[O]=N[b],(y[b]=C).d=Nh(C)),y.d=Nh(y)}function Nh(C){var b=C.r,C=C.l;return(b?C?Math.max(b.d,C.d):b.d:C?C.d:0)+1}function Vl(y,b){return o(b).forEach(function(C){y[C]?Pa(y[C],b[C]):y[C]=function N(O){var M,$,K={};for(M in O)p(O,M)&&($=O[M],K[M]=!$||typeof $!="object"||le.has($.constructor)?$:N($));return K}(b[C])}),y}function Cc(y,b){return y.all||b.all||Object.keys(y).some(function(C){return b[C]&&Th(b[C],y[C])})}g(Mn.prototype,((Qr={add:function(y){return Pa(this,y),this},addKey:function(y){return Ro(this,y,y),this},addKeys:function(y){var b=this;return y.forEach(function(C){return Ro(b,C,C)}),this},hasKey:function(y){var b=Hl(this).next(y).value;return b&&pt(b.from,y)<=0&&0<=pt(b.to,y)}})[J]=function(){return Hl(this)},Qr));var qs={},kc={},Wl=!1;function ql(y){Vl(kc,y),Wl||(Wl=!0,setTimeout(function(){Wl=!1,jc(kc,!(kc={}))},0))}function jc(y,b){b===void 0&&(b=!1);var C=new Set;if(y.all)for(var N=0,O=Object.values(qs);N<O.length;N++)Ph($=O[N],y,C,b);else for(var M in y){var $,K=/^idb\:\/\/(.*)\/(.*)\//.exec(M);K&&(M=K[1],K=K[2],($=qs["idb://".concat(M,"/").concat(K)])&&Ph($,y,C,b))}C.forEach(function(ee){return ee()})}function Ph(y,b,C,N){for(var O=[],M=0,$=Object.entries(y.queries.query);M<$.length;M++){for(var K=$[M],ee=K[0],ie=[],de=0,Y=K[1];de<Y.length;de++){var he=Y[de];Cc(b,he.obsSet)?he.subscribers.forEach(function(oe){return C.add(oe)}):N&&ie.push(he)}N&&O.push([ee,ie])}if(N)for(var re=0,ce=O;re<ce.length;re++){var fe=ce[re],ee=fe[0],ie=fe[1];y.queries.query[ee]=ie}}function tg(y){var b=y._state,C=y._deps.indexedDB;if(b.isBeingOpened||y.idbdb)return b.dbReadyPromise.then(function(){return b.dbOpenError?Ut(b.dbOpenError):y});b.isBeingOpened=!0,b.dbOpenError=null,b.openComplete=!1;var N=b.openCanceller,O=Math.round(10*y.verno),M=!1;function $(){if(b.openCanceller!==N)throw new Pe.DatabaseClosed("db.open() was cancelled")}function K(){return new qe(function(he,re){if($(),!C)throw new Pe.MissingAPI;var ce=y.name,fe=b.autoSchema||!O?C.open(ce):C.open(ce,O);if(!fe)throw new Pe.MissingAPI;fe.onerror=mr(re),fe.onblocked=Te(y._fireOnBlocked),fe.onupgradeneeded=Te(function(oe){var ve;de=fe.transaction,b.autoSchema&&!y._options.allowEmptyDB?(fe.onerror=rs,de.abort(),fe.result.close(),(ve=C.deleteDatabase(ce)).onsuccess=ve.onerror=Te(function(){re(new Pe.NoSuchDatabase("Database ".concat(ce," doesnt exist")))})):(de.onerror=mr(re),oe=oe.oldVersion>Math.pow(2,62)?0:oe.oldVersion,Y=oe<1,y.idbdb=fe.result,M&&wc(y,de),ks(y,oe/10,de,re))},re),fe.onsuccess=Te(function(){de=null;var oe,ve,we,Se,ke,Me=y.idbdb=fe.result,Ue=L(Me.objectStoreNames);if(0<Ue.length)try{var Ie=Me.transaction((Se=Ue).length===1?Se[0]:Se,"readonly");if(b.autoSchema)ve=Me,we=Ie,(oe=y).verno=ve.version/10,we=oe._dbSchema=Ea(0,ve,we),oe._storeNames=L(ve.objectStoreNames,0),Hs(oe,[oe._allTables],o(we),we);else if(tr(y,y._dbSchema,Ie),((ke=Lo(Ea(0,(ke=y).idbdb,Ie),ke._dbSchema)).add.length||ke.change.some(function(Be){return Be.add.length||Be.change.length}))&&!M)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Me.close(),O=Me.version+1,M=!0,he(K());Oo(y,Ie)}catch{}Rr.push(y),Me.onversionchange=Te(function(Be){b.vcFired=!0,y.on("versionchange").fire(Be)}),Me.onclose=Te(function(Be){y.on("close").fire(Be)}),Y&&(ke=y._deps,Ie=ce,Me=ke.indexedDB,ke=ke.IDBKeyRange,Ta(Me)||Ie===Ni||Sc(Me,ke).put({name:Ie}).catch(Nt)),he()},re)}).catch(function(he){switch(he?.name){case"UnknownError":if(0<b.PR1398_maxLoop)return b.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),K();break;case"VersionError":if(0<O)return O=0,K()}return qe.reject(he)})}var ee,ie=b.dbReadyResolve,de=null,Y=!1;return qe.race([N,(typeof navigator>"u"?qe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(he){function re(){return indexedDB.databases().finally(he)}ee=setInterval(re,100),re()}).finally(function(){return clearInterval(ee)}):Promise.resolve()).then(K)]).then(function(){return $(),b.onReadyBeingFired=[],qe.resolve(Na(function(){return y.on.ready.fire(y.vip)})).then(function he(){if(0<b.onReadyBeingFired.length){var re=b.onReadyBeingFired.reduce($r,Nt);return b.onReadyBeingFired=[],qe.resolve(Na(function(){return re(y.vip)})).then(he)}})}).finally(function(){b.openCanceller===N&&(b.onReadyBeingFired=null,b.isBeingOpened=!1)}).catch(function(he){b.dbOpenError=he;try{de&&de.abort()}catch{}return N===b.openCanceller&&y._close(),Ut(he)}).finally(function(){b.openComplete=!0,ie()}).then(function(){var he;return Y&&(he={},y.tables.forEach(function(re){re.schema.indexes.forEach(function(ce){ce.name&&(he["idb://".concat(y.name,"/").concat(re.name,"/").concat(ce.name)]=new Mn(-1/0,[[[]]]))}),he["idb://".concat(y.name,"/").concat(re.name,"/")]=he["idb://".concat(y.name,"/").concat(re.name,"/:dels")]=new Mn(-1/0,[[[]]])}),is(Hr).fire(he),jc(he,!0)),y})}function Oa(y){function b(M){return y.next(M)}var C=O(b),N=O(function(M){return y.throw(M)});function O(M){return function(ee){var K=M(ee),ee=K.value;return K.done?ee:ee&&typeof ee.then=="function"?ee.then(C,N):a(ee)?Promise.all(ee).then(C,N):C(ee)}}return O(b)()}function Kl(y,b,C){for(var N=a(y)?y.slice():[y],O=0;O<C;++O)N.push(b);return N}var ng={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(y){return r(r({},y),{table:function(b){var C=y.table(b),N=C.schema,O={},M=[];function $(Y,he,re){var ce=Cs(Y),fe=O[ce]=O[ce]||[],oe=Y==null?0:typeof Y=="string"?1:Y.length,ve=0<he,ve=r(r({},re),{name:ve?"".concat(ce,"(virtual-from:").concat(re.name,")"):re.name,lowLevelIndex:re,isVirtual:ve,keyTail:he,keyLength:oe,extractKey:Us(Y),unique:!ve&&re.unique});return fe.push(ve),ve.isPrimaryKey||M.push(ve),1<oe&&$(oe===2?Y[0]:Y.slice(0,oe-1),he+1,re),fe.sort(function(we,Se){return we.keyTail-Se.keyTail}),ve}b=$(N.primaryKey.keyPath,0,N.primaryKey),O[":id"]=[b];for(var K=0,ee=N.indexes;K<ee.length;K++){var ie=ee[K];$(ie.keyPath,0,ie)}function de(Y){var he,re=Y.query.index;return re.isVirtual?r(r({},Y),{query:{index:re.lowLevelIndex,range:(he=Y.query.range,re=re.keyTail,{type:he.type===1?2:he.type,lower:Kl(he.lower,he.lowerOpen?y.MAX_KEY:y.MIN_KEY,re),lowerOpen:!0,upper:Kl(he.upper,he.upperOpen?y.MIN_KEY:y.MAX_KEY,re),upperOpen:!0})}}):Y}return r(r({},C),{schema:r(r({},N),{primaryKey:b,indexes:M,getIndexByKeyPath:function(Y){return(Y=O[Cs(Y)])&&Y[0]}}),count:function(Y){return C.count(de(Y))},query:function(Y){return C.query(de(Y))},openCursor:function(Y){var he=Y.query.index,re=he.keyTail,ce=he.isVirtual,fe=he.keyLength;return ce?C.openCursor(de(Y)).then(function(ve){return ve&&oe(ve)}):C.openCursor(Y);function oe(ve){return Object.create(ve,{continue:{value:function(we){we!=null?ve.continue(Kl(we,Y.reverse?y.MAX_KEY:y.MIN_KEY,re)):Y.unique?ve.continue(ve.key.slice(0,fe).concat(Y.reverse?y.MIN_KEY:y.MAX_KEY,re)):ve.continue()}},continuePrimaryKey:{value:function(we,Se){ve.continuePrimaryKey(Kl(we,y.MAX_KEY,re),Se)}},primaryKey:{get:function(){return ve.primaryKey}},key:{get:function(){var we=ve.key;return fe===1?we[0]:we.slice(0,fe)}},value:{get:function(){return ve.value}}})}}})}})}};function Ec(y,b,C,N){return C=C||{},N=N||"",o(y).forEach(function(O){var M,$,K;p(b,O)?(M=y[O],$=b[O],typeof M=="object"&&typeof $=="object"&&M&&$?(K=V(M))!==V($)?C[N+O]=b[O]:K==="Object"?Ec(M,$,C,N+O+"."):M!==$&&(C[N+O]=b[O]):M!==$&&(C[N+O]=b[O])):C[N+O]=void 0}),o(b).forEach(function(O){p(y,O)||(C[N+O]=b[O])}),C}function Gl(y,b){return b.type==="delete"?b.keys:b.keys||b.values.map(y.extractKey)}var rg={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(y){return r(r({},y),{table:function(b){var C=y.table(b),N=C.schema.primaryKey;return r(r({},C),{mutate:function(O){var M=We.trans,$=M.table(b).hook,K=$.deleting,ee=$.creating,ie=$.updating;switch(O.type){case"add":if(ee.fire===Nt)break;return M._promise("readwrite",function(){return de(O)},!0);case"put":if(ee.fire===Nt&&ie.fire===Nt)break;return M._promise("readwrite",function(){return de(O)},!0);case"delete":if(K.fire===Nt)break;return M._promise("readwrite",function(){return de(O)},!0);case"deleteRange":if(K.fire===Nt)break;return M._promise("readwrite",function(){return function Y(he,re,ce){return C.query({trans:he,values:!1,query:{index:N,range:re},limit:ce}).then(function(fe){var oe=fe.result;return de({type:"delete",keys:oe,trans:he}).then(function(ve){return 0<ve.numFailures?Promise.reject(ve.failures[0]):oe.length<ce?{failures:[],numFailures:0,lastResult:void 0}:Y(he,r(r({},re),{lower:oe[oe.length-1],lowerOpen:!0}),ce)})})}(O.trans,O.range,1e4)},!0)}return C.mutate(O);function de(Y){var he,re,ce,fe=We.trans,oe=Y.keys||Gl(N,Y);if(!oe)throw new Error("Keys missing");return(Y=Y.type==="add"||Y.type==="put"?r(r({},Y),{keys:oe}):r({},Y)).type!=="delete"&&(Y.values=i([],Y.values)),Y.keys&&(Y.keys=i([],Y.keys)),he=C,ce=oe,((re=Y).type==="add"?Promise.resolve([]):he.getMany({trans:re.trans,keys:ce,cache:"immutable"})).then(function(ve){var we=oe.map(function(Se,ke){var Me,Ue,Ie,Be=ve[ke],Ve={onerror:null,onsuccess:null};return Y.type==="delete"?K.fire.call(Ve,Se,Be,fe):Y.type==="add"||Be===void 0?(Me=ee.fire.call(Ve,Se,Y.values[ke],fe),Se==null&&Me!=null&&(Y.keys[ke]=Se=Me,N.outbound||I(Y.values[ke],N.keyPath,Se))):(Me=Ec(Be,Y.values[ke]),(Ue=ie.fire.call(Ve,Me,Se,Be,fe))&&(Ie=Y.values[ke],Object.keys(Ue).forEach(function(ze){p(Ie,ze)?Ie[ze]=Ue[ze]:I(Ie,ze,Ue[ze])}))),Ve});return C.mutate(Y).then(function(Se){for(var ke=Se.failures,Me=Se.results,Ue=Se.numFailures,Se=Se.lastResult,Ie=0;Ie<oe.length;++Ie){var Be=(Me||oe)[Ie],Ve=we[Ie];Be==null?Ve.onerror&&Ve.onerror(ke[Ie]):Ve.onsuccess&&Ve.onsuccess(Y.type==="put"&&ve[Ie]?Y.values[Ie]:Be)}return{failures:ke,results:Me,numFailures:Ue,lastResult:Se}}).catch(function(Se){return we.forEach(function(ke){return ke.onerror&&ke.onerror(Se)}),Promise.reject(Se)})})}}})}})}};function Oh(y,b,C){try{if(!b||b.keys.length<y.length)return null;for(var N=[],O=0,M=0;O<b.keys.length&&M<y.length;++O)pt(b.keys[O],y[M])===0&&(N.push(C?ae(b.values[O]):b.values[O]),++M);return N.length===y.length?N:null}catch{return null}}var ig={stack:"dbcore",level:-1,create:function(y){return{table:function(b){var C=y.table(b);return r(r({},C),{getMany:function(N){if(!N.cache)return C.getMany(N);var O=Oh(N.keys,N.trans._cache,N.cache==="clone");return O?qe.resolve(O):C.getMany(N).then(function(M){return N.trans._cache={keys:N.keys,values:N.cache==="clone"?ae(M):M},M})},mutate:function(N){return N.type!=="add"&&(N.trans._cache=null),C.mutate(N)}})}}}};function Lh(y,b){return y.trans.mode==="readonly"&&!!y.subscr&&!y.trans.explicit&&y.trans.db._options.cache!=="disabled"&&!b.schema.primaryKey.outbound}function Rh(y,b){switch(y){case"query":return b.values&&!b.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var sg={stack:"dbcore",level:0,name:"Observability",create:function(y){var b=y.schema.name,C=new Mn(y.MIN_KEY,y.MAX_KEY);return r(r({},y),{transaction:function(N,O,M){if(We.subscr&&O!=="readonly")throw new Pe.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(We.querier));return y.transaction(N,O,M)},table:function(N){var O=y.table(N),M=O.schema,$=M.primaryKey,Y=M.indexes,K=$.extractKey,ee=$.outbound,ie=$.autoIncrement&&Y.filter(function(re){return re.compound&&re.keyPath.includes($.keyPath)}),de=r(r({},O),{mutate:function(re){function ce(ze){return ze="idb://".concat(b,"/").concat(N,"/").concat(ze),Se[ze]||(Se[ze]=new Mn)}var fe,oe,ve,we=re.trans,Se=re.mutatedParts||(re.mutatedParts={}),ke=ce(""),Me=ce(":dels"),Ue=re.type,Ve=re.type==="deleteRange"?[re.range]:re.type==="delete"?[re.keys]:re.values.length<50?[Gl($,re).filter(function(ze){return ze}),re.values]:[],Ie=Ve[0],Be=Ve[1],Ve=re.trans._cache;return a(Ie)?(ke.addKeys(Ie),(Ve=Ue==="delete"||Ie.length===Be.length?Oh(Ie,Ve):null)||Me.addKeys(Ie),(Ve||Be)&&(fe=ce,oe=Ve,ve=Be,M.indexes.forEach(function(ze){var Ye=fe(ze.name||"");function vt(jt){return jt!=null?ze.extractKey(jt):null}function wt(jt){return ze.multiEntry&&a(jt)?jt.forEach(function(gr){return Ye.addKey(gr)}):Ye.addKey(jt)}(oe||ve).forEach(function(jt,Qn){var yt=oe&&vt(oe[Qn]),Qn=ve&&vt(ve[Qn]);pt(yt,Qn)!==0&&(yt!=null&&wt(yt),Qn!=null&&wt(Qn))})}))):Ie?(Be={from:(Be=Ie.lower)!==null&&Be!==void 0?Be:y.MIN_KEY,to:(Be=Ie.upper)!==null&&Be!==void 0?Be:y.MAX_KEY},Me.add(Be),ke.add(Be)):(ke.add(C),Me.add(C),M.indexes.forEach(function(ze){return ce(ze.name).add(C)})),O.mutate(re).then(function(ze){return!Ie||re.type!=="add"&&re.type!=="put"||(ke.addKeys(ze.results),ie&&ie.forEach(function(Ye){for(var vt=re.values.map(function(yt){return Ye.extractKey(yt)}),wt=Ye.keyPath.findIndex(function(yt){return yt===$.keyPath}),jt=0,gr=ze.results.length;jt<gr;++jt)vt[jt][wt]=ze.results[jt];ce(Ye.name).addKeys(vt)})),we.mutatedParts=Vl(we.mutatedParts||{},Se),ze})}}),Y=function(ce){var fe=ce.query,ce=fe.index,fe=fe.range;return[ce,new Mn((ce=fe.lower)!==null&&ce!==void 0?ce:y.MIN_KEY,(fe=fe.upper)!==null&&fe!==void 0?fe:y.MAX_KEY)]},he={get:function(re){return[$,new Mn(re.key)]},getMany:function(re){return[$,new Mn().addKeys(re.keys)]},count:Y,query:Y,openCursor:Y};return o(he).forEach(function(re){de[re]=function(ce){var fe=We.subscr,oe=!!fe,ve=Lh(We,O)&&Rh(re,ce)?ce.obsSet={}:fe;if(oe){var we=function(Be){return Be="idb://".concat(b,"/").concat(N,"/").concat(Be),ve[Be]||(ve[Be]=new Mn)},Se=we(""),ke=we(":dels"),fe=he[re](ce),oe=fe[0],fe=fe[1];if((re==="query"&&oe.isPrimaryKey&&!ce.values?ke:we(oe.name||"")).add(fe),!oe.isPrimaryKey){if(re!=="count"){var Me=re==="query"&&ee&&ce.values&&O.query(r(r({},ce),{values:!1}));return O[re].apply(this,arguments).then(function(Be){if(re==="query"){if(ee&&ce.values)return Me.then(function(vt){return vt=vt.result,Se.addKeys(vt),Be});var Ve=ce.values?Be.result.map(K):Be.result;(ce.values?Se:ke).addKeys(Ve)}else if(re==="openCursor"){var ze=Be,Ye=ce.values;return ze&&Object.create(ze,{key:{get:function(){return ke.addKey(ze.primaryKey),ze.key}},primaryKey:{get:function(){var vt=ze.primaryKey;return ke.addKey(vt),vt}},value:{get:function(){return Ye&&Se.addKey(ze.primaryKey),ze.value}}})}return Be})}ke.add(C)}}return O[re].apply(this,arguments)}}),de}})}};function Ah(y,b,C){if(C.numFailures===0)return b;if(b.type==="deleteRange")return null;var N=b.keys?b.keys.length:"values"in b&&b.values?b.values.length:1;return C.numFailures===N?null:(b=r({},b),a(b.keys)&&(b.keys=b.keys.filter(function(O,M){return!(M in C.failures)})),"values"in b&&a(b.values)&&(b.values=b.values.filter(function(O,M){return!(M in C.failures)})),b)}function La(y,b){return C=y,((N=b).lower===void 0||(N.lowerOpen?0<pt(C,N.lower):0<=pt(C,N.lower)))&&(y=y,(b=b).upper===void 0||(b.upperOpen?pt(y,b.upper)<0:pt(y,b.upper)<=0));var C,N}function Ao(y,b,he,N,O,M){if(!he||he.length===0)return y;var $=b.query.index,K=$.multiEntry,ee=b.query.range,ie=N.schema.primaryKey.extractKey,de=$.extractKey,Y=($.lowLevelIndex||$).extractKey,he=he.reduce(function(re,ce){var fe=re,oe=[];if(ce.type==="add"||ce.type==="put")for(var ve=new Mn,we=ce.values.length-1;0<=we;--we){var Se,ke=ce.values[we],Me=ie(ke);ve.hasKey(Me)||(Se=de(ke),(K&&a(Se)?Se.some(function(ze){return La(ze,ee)}):La(Se,ee))&&(ve.addKey(Me),oe.push(ke)))}switch(ce.type){case"add":var Ue=new Mn().addKeys(b.values?re.map(function(Ye){return ie(Ye)}):re),fe=re.concat(b.values?oe.filter(function(Ye){return Ye=ie(Ye),!Ue.hasKey(Ye)&&(Ue.addKey(Ye),!0)}):oe.map(function(Ye){return ie(Ye)}).filter(function(Ye){return!Ue.hasKey(Ye)&&(Ue.addKey(Ye),!0)}));break;case"put":var Ie=new Mn().addKeys(ce.values.map(function(Ye){return ie(Ye)}));fe=re.filter(function(Ye){return!Ie.hasKey(b.values?ie(Ye):Ye)}).concat(b.values?oe:oe.map(function(Ye){return ie(Ye)}));break;case"delete":var Be=new Mn().addKeys(ce.keys);fe=re.filter(function(Ye){return!Be.hasKey(b.values?ie(Ye):Ye)});break;case"deleteRange":var Ve=ce.range;fe=re.filter(function(Ye){return!La(ie(Ye),Ve)})}return fe},y);return he===y?y:(he.sort(function(re,ce){return pt(Y(re),Y(ce))||pt(ie(re),ie(ce))}),b.limit&&b.limit<1/0&&(he.length>b.limit?he.length=b.limit:y.length===b.limit&&he.length<b.limit&&(O.dirty=!0)),M?Object.freeze(he):he)}function Mh(y,b){return pt(y.lower,b.lower)===0&&pt(y.upper,b.upper)===0&&!!y.lowerOpen==!!b.lowerOpen&&!!y.upperOpen==!!b.upperOpen}function Ih(y,b){return function(C,N,O,M){if(C===void 0)return N!==void 0?-1:0;if(N===void 0)return 1;if((N=pt(C,N))===0){if(O&&M)return 0;if(O)return 1;if(M)return-1}return N}(y.lower,b.lower,y.lowerOpen,b.lowerOpen)<=0&&0<=function(C,N,O,M){if(C===void 0)return N!==void 0?1:0;if(N===void 0)return-1;if((N=pt(C,N))===0){if(O&&M)return 0;if(O)return-1;if(M)return 1}return N}(y.upper,b.upper,y.upperOpen,b.upperOpen)}function Dh(y,b,C,N){y.subscribers.add(C),N.addEventListener("abort",function(){var O,M;y.subscribers.delete(C),y.subscribers.size===0&&(O=y,M=b,setTimeout(function(){O.subscribers.size===0&&ne(M,O)},3e3))})}var Fh={stack:"dbcore",level:0,name:"Cache",create:function(y){var b=y.schema.name;return r(r({},y),{transaction:function(C,N,O){var M,$,K=y.transaction(C,N,O);return N==="readwrite"&&($=(M=new AbortController).signal,O=function(ee){return function(){if(M.abort(),N==="readwrite"){for(var ie=new Set,de=0,Y=C;de<Y.length;de++){var he=Y[de],re=qs["idb://".concat(b,"/").concat(he)];if(re){var ce=y.table(he),fe=re.optimisticOps.filter(function(Ye){return Ye.trans===K});if(K._explicit&&ee&&K.mutatedParts)for(var oe=0,ve=Object.values(re.queries.query);oe<ve.length;oe++)for(var we=0,Se=(Ue=ve[oe]).slice();we<Se.length;we++)Cc((Ie=Se[we]).obsSet,K.mutatedParts)&&(ne(Ue,Ie),Ie.subscribers.forEach(function(Ye){return ie.add(Ye)}));else if(0<fe.length){re.optimisticOps=re.optimisticOps.filter(function(Ye){return Ye.trans!==K});for(var ke=0,Me=Object.values(re.queries.query);ke<Me.length;ke++)for(var Ue,Ie,Be,Ve=0,ze=(Ue=Me[ke]).slice();Ve<ze.length;Ve++)(Ie=ze[Ve]).res!=null&&K.mutatedParts&&(ee&&!Ie.dirty?(Be=Object.isFrozen(Ie.res),Be=Ao(Ie.res,Ie.req,fe,ce,Ie,Be),Ie.dirty?(ne(Ue,Ie),Ie.subscribers.forEach(function(Ye){return ie.add(Ye)})):Be!==Ie.res&&(Ie.res=Be,Ie.promise=qe.resolve({result:Be}))):(Ie.dirty&&ne(Ue,Ie),Ie.subscribers.forEach(function(Ye){return ie.add(Ye)})))}}}ie.forEach(function(Ye){return Ye()})}}},K.addEventListener("abort",O(!1),{signal:$}),K.addEventListener("error",O(!1),{signal:$}),K.addEventListener("complete",O(!0),{signal:$})),K},table:function(C){var N=y.table(C),O=N.schema.primaryKey;return r(r({},N),{mutate:function(M){var $=We.trans;if(O.outbound||$.db._options.cache==="disabled"||$.explicit||$.idbtrans.mode!=="readwrite")return N.mutate(M);var K=qs["idb://".concat(b,"/").concat(C)];return K?($=N.mutate(M),M.type!=="add"&&M.type!=="put"||!(50<=M.values.length||Gl(O,M).some(function(ee){return ee==null}))?(K.optimisticOps.push(M),M.mutatedParts&&ql(M.mutatedParts),$.then(function(ee){0<ee.numFailures&&(ne(K.optimisticOps,M),(ee=Ah(0,M,ee))&&K.optimisticOps.push(ee),M.mutatedParts&&ql(M.mutatedParts))}),$.catch(function(){ne(K.optimisticOps,M),M.mutatedParts&&ql(M.mutatedParts)})):$.then(function(ee){var ie=Ah(0,r(r({},M),{values:M.values.map(function(de,Y){var he;return ee.failures[Y]?de:(de=(he=O.keyPath)!==null&&he!==void 0&&he.includes(".")?ae(de):r({},de),I(de,O.keyPath,ee.results[Y]),de)})}),ee);K.optimisticOps.push(ie),queueMicrotask(function(){return M.mutatedParts&&ql(M.mutatedParts)})}),$):N.mutate(M)},query:function(M){if(!Lh(We,N)||!Rh("query",M))return N.query(M);var $=((ie=We.trans)===null||ie===void 0?void 0:ie.db._options.cache)==="immutable",Y=We,K=Y.requery,ee=Y.signal,ie=function(ce,fe,oe,ve){var we=qs["idb://".concat(ce,"/").concat(fe)];if(!we)return[];if(!(fe=we.queries[oe]))return[null,!1,we,null];var Se=fe[(ve.query?ve.query.index.name:null)||""];if(!Se)return[null,!1,we,null];switch(oe){case"query":var ke=Se.find(function(Me){return Me.req.limit===ve.limit&&Me.req.values===ve.values&&Mh(Me.req.query.range,ve.query.range)});return ke?[ke,!0,we,Se]:[Se.find(function(Me){return("limit"in Me.req?Me.req.limit:1/0)>=ve.limit&&(!ve.values||Me.req.values)&&Ih(Me.req.query.range,ve.query.range)}),!1,we,Se];case"count":return ke=Se.find(function(Me){return Mh(Me.req.query.range,ve.query.range)}),[ke,!!ke,we,Se]}}(b,C,"query",M),de=ie[0],Y=ie[1],he=ie[2],re=ie[3];return de&&Y?de.obsSet=M.obsSet:(Y=N.query(M).then(function(ce){var fe=ce.result;if(de&&(de.res=fe),$){for(var oe=0,ve=fe.length;oe<ve;++oe)Object.freeze(fe[oe]);Object.freeze(fe)}else ce.result=ae(fe);return ce}).catch(function(ce){return re&&de&&ne(re,de),Promise.reject(ce)}),de={obsSet:M.obsSet,promise:Y,subscribers:new Set,type:"query",req:M,dirty:!1},re?re.push(de):(re=[de],(he=he||(qs["idb://".concat(b,"/").concat(C)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[M.query.index.name||""]=re)),Dh(de,re,K,ee),de.promise.then(function(ce){return{result:Ao(ce.result,M,he?.optimisticOps,N,de,$)}})}})}})}};function Ra(y,b){return new Proxy(y,{get:function(C,N,O){return N==="db"?b:Reflect.get(C,N,O)}})}var Oi=(tn.prototype.version=function(y){if(isNaN(y)||y<.1)throw new Pe.Type("Given version is not a positive number");if(y=Math.round(10*y)/10,this.idbdb||this._state.isBeingOpened)throw new Pe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,y);var b=this._versions,C=b.filter(function(N){return N._cfg.version===y})[0];return C||(C=new this.Version(y),b.push(C),b.sort(Eh),C.stores({}),this._state.autoSchema=!1,C)},tn.prototype._whenReady=function(y){var b=this;return this.idbdb&&(this._state.openComplete||We.letThrough||this._vip)?y():new qe(function(C,N){if(b._state.openComplete)return N(new Pe.DatabaseClosed(b._state.dbOpenError));if(!b._state.isBeingOpened){if(!b._state.autoOpen)return void N(new Pe.DatabaseClosed);b.open().catch(Nt)}b._state.dbReadyPromise.then(C,N)}).then(y)},tn.prototype.use=function(y){var b=y.stack,C=y.create,N=y.level,O=y.name;return O&&this.unuse({stack:b,name:O}),y=this._middlewares[b]||(this._middlewares[b]=[]),y.push({stack:b,create:C,level:N??10,name:O}),y.sort(function(M,$){return M.level-$.level}),this},tn.prototype.unuse=function(y){var b=y.stack,C=y.name,N=y.create;return b&&this._middlewares[b]&&(this._middlewares[b]=this._middlewares[b].filter(function(O){return N?O.create!==N:!!C&&O.name!==C})),this},tn.prototype.open=function(){var y=this;return er(Zn,function(){return tg(y)})},tn.prototype._close=function(){var y=this._state,b=Rr.indexOf(this);if(0<=b&&Rr.splice(b,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}y.isBeingOpened||(y.dbReadyPromise=new qe(function(C){y.dbReadyResolve=C}),y.openCanceller=new qe(function(C,N){y.cancelOpen=N}))},tn.prototype.close=function(C){var b=(C===void 0?{disableAutoOpen:!0}:C).disableAutoOpen,C=this._state;b?(C.isBeingOpened&&C.cancelOpen(new Pe.DatabaseClosed),this._close(),C.autoOpen=!1,C.dbOpenError=new Pe.DatabaseClosed):(this._close(),C.autoOpen=this._options.autoOpen||C.isBeingOpened,C.openComplete=!1,C.dbOpenError=null)},tn.prototype.delete=function(y){var b=this;y===void 0&&(y={disableAutoOpen:!0});var C=0<arguments.length&&typeof arguments[0]!="object",N=this._state;return new qe(function(O,M){function $(){b.close(y);var K=b._deps.indexedDB.deleteDatabase(b.name);K.onsuccess=Te(function(){var ee,ie,de;ee=b._deps,ie=b.name,de=ee.indexedDB,ee=ee.IDBKeyRange,Ta(de)||ie===Ni||Sc(de,ee).delete(ie).catch(Nt),O()}),K.onerror=mr(M),K.onblocked=b._fireOnBlocked}if(C)throw new Pe.InvalidArgument("Invalid closeOptions argument to db.delete()");N.isBeingOpened?N.dbReadyPromise.then($):$()})},tn.prototype.backendDB=function(){return this.idbdb},tn.prototype.isOpen=function(){return this.idbdb!==null},tn.prototype.hasBeenClosed=function(){var y=this._state.dbOpenError;return y&&y.name==="DatabaseClosed"},tn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},tn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(tn.prototype,"tables",{get:function(){var y=this;return o(this._allTables).map(function(b){return y._allTables[b]})},enumerable:!1,configurable:!0}),tn.prototype.transaction=function(){var y=(function(b,C,N){var O=arguments.length;if(O<2)throw new Pe.InvalidArgument("Too few arguments");for(var M=new Array(O-1);--O;)M[O-1]=arguments[O];return N=M.pop(),[b,F(M),N]}).apply(this,arguments);return this._transaction.apply(this,y)},tn.prototype._transaction=function(y,b,C){var N=this,O=We.trans;O&&O.db===this&&y.indexOf("!")===-1||(O=null);var M,$,K=y.indexOf("?")!==-1;y=y.replace("!","").replace("?","");try{if($=b.map(function(ie){if(ie=ie instanceof N.Table?ie.name:ie,typeof ie!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return ie}),y=="r"||y===Mt)M=Mt;else{if(y!="rw"&&y!=En)throw new Pe.InvalidArgument("Invalid transaction mode: "+y);M=En}if(O){if(O.mode===Mt&&M===En){if(!K)throw new Pe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");O=null}O&&$.forEach(function(ie){if(O&&O.storeNames.indexOf(ie)===-1){if(!K)throw new Pe.SubTransaction("Table "+ie+" not included in parent transaction.");O=null}}),K&&O&&!O.active&&(O=null)}}catch(ie){return O?O._promise(null,function(de,Y){Y(ie)}):Ut(ie)}var ee=(function ie(de,Y,he,re,ce){return qe.resolve().then(function(){var fe=We.transless||We,oe=de._createTransaction(Y,he,de._dbSchema,re);if(oe.explicit=!0,fe={trans:oe,transless:fe},re)oe.idbtrans=re.idbtrans;else try{oe.create(),oe.idbtrans._explicit=!0,de._state.PR1398_maxLoop=3}catch(Se){return Se.name===Xe.InvalidState&&de.isOpen()&&0<--de._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),de.close({disableAutoOpen:!1}),de.open().then(function(){return ie(de,Y,he,null,ce)})):Ut(Se)}var ve,we=G(ce);return we&&St(),fe=qe.follow(function(){var Se;(ve=ce.call(oe,oe))&&(we?(Se=Ot.bind(null,null),ve.then(Se,Se)):typeof ve.next=="function"&&typeof ve.throw=="function"&&(ve=Oa(ve)))},fe),(ve&&typeof ve.then=="function"?qe.resolve(ve).then(function(Se){return oe.active?Se:Ut(new Pe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):fe.then(function(){return ve})).then(function(Se){return re&&oe._resolve(),oe._completion.then(function(){return Se})}).catch(function(Se){return oe._reject(Se),Ut(Se)})})}).bind(null,this,M,$,O,C);return O?O._promise(M,ee,"lock"):We.trans?er(We.transless,function(){return N._whenReady(ee)}):this._whenReady(ee)},tn.prototype.table=function(y){if(!p(this._allTables,y))throw new Pe.InvalidTable("Table ".concat(y," does not exist"));return this._allTables[y]},tn);function tn(y,b){var C=this;this._middlewares={},this.verno=0;var N=tn.dependencies;this._options=b=r({addons:tn.addons,autoOpen:!0,indexedDB:N.indexedDB,IDBKeyRange:N.IDBKeyRange,cache:"cloned"},b),this._deps={indexedDB:b.indexedDB,IDBKeyRange:b.IDBKeyRange},N=b.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var O,M,$,K,ee,ie={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Nt,dbReadyPromise:null,cancelOpen:Nt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:b.autoOpen};ie.dbReadyPromise=new qe(function(Y){ie.dbReadyResolve=Y}),ie.openCanceller=new qe(function(Y,he){ie.cancelOpen=he}),this._state=ie,this.name=y,this.on=Ss(this,"populate","blocked","versionchange","close",{ready:[$r,Nt]}),this.on.ready.subscribe=R(this.on.ready.subscribe,function(Y){return function(he,re){tn.vip(function(){var ce,fe=C._state;fe.openComplete?(fe.dbOpenError||qe.resolve().then(he),re&&Y(he)):fe.onReadyBeingFired?(fe.onReadyBeingFired.push(he),re&&Y(he)):(Y(he),ce=C,re||Y(function oe(){ce.on.ready.unsubscribe(he),ce.on.ready.unsubscribe(oe)}))})}}),this.Collection=(O=this,Zi(Jt.prototype,function(ve,oe){this.db=O;var re=hi,ce=null;if(oe)try{re=oe()}catch(we){ce=we}var fe=ve._ctx,oe=fe.table,ve=oe.hook.reading.fire;this._ctx={table:oe,index:fe.index,isPrimKey:!fe.index||oe.schema.primKey.keyPath&&fe.index===oe.schema.primKey.name,range:re,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:ce,or:fe.or,valueMapper:ve!==yn?ve:null}})),this.Table=(M=this,Zi(kh.prototype,function(Y,he,re){this.db=M,this._tx=re,this.name=Y,this.schema=he,this.hook=M._allTables[Y]?M._allTables[Y].hook:Ss(null,{creating:[Fs,Nt],reading:[hn,yn],updating:[Co,Nt],deleting:[Gi,Nt]})})),this.Transaction=($=this,Zi(_a.prototype,function(Y,he,re,ce,fe){var oe=this;this.db=$,this.mode=Y,this.storeNames=he,this.schema=re,this.chromeTransactionDurability=ce,this.idbtrans=null,this.on=Ss(this,"complete","error","abort"),this.parent=fe||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new qe(function(ve,we){oe._resolve=ve,oe._reject=we}),this._completion.then(function(){oe.active=!1,oe.on.complete.fire()},function(ve){var we=oe.active;return oe.active=!1,oe.on.error.fire(ve),oe.parent?oe.parent._reject(ve):we&&oe.idbtrans&&oe.idbtrans.abort(),Ut(ve)})})),this.Version=(K=this,Zi(_c.prototype,function(Y){this.db=K,this._cfg={version:Y,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(ee=this,Zi(ns.prototype,function(Y,he,re){if(this.db=ee,this._ctx={table:Y,index:he===":id"?null:he,or:re},this._cmp=this._ascending=pt,this._descending=function(ce,fe){return pt(fe,ce)},this._max=function(ce,fe){return 0<pt(ce,fe)?ce:fe},this._min=function(ce,fe){return pt(ce,fe)<0?ce:fe},this._IDBKeyRange=ee._deps.IDBKeyRange,!this._IDBKeyRange)throw new Pe.MissingAPI})),this.on("versionchange",function(Y){0<Y.newVersion?console.warn("Another connection wants to upgrade database '".concat(C.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(C.name,"'. Closing db now to resume the delete request.")),C.close({disableAutoOpen:!1})}),this.on("blocked",function(Y){!Y.newVersion||Y.newVersion<Y.oldVersion?console.warn("Dexie.delete('".concat(C.name,"') was blocked")):console.warn("Upgrade '".concat(C.name,"' blocked by other connection holding version ").concat(Y.oldVersion/10))}),this._maxKey=Ca(b.IDBKeyRange),this._createTransaction=function(Y,he,re,ce){return new C.Transaction(Y,he,re,C._options.chromeTransactionDurability,ce)},this._fireOnBlocked=function(Y){C.on("blocked").fire(Y),Rr.filter(function(he){return he.name===C.name&&he!==C&&!he._state.vcFired}).map(function(he){return he.on("versionchange").fire(Y)})},this.use(ig),this.use(Fh),this.use(sg),this.use(ng),this.use(rg);var de=new Proxy(this,{get:function(Y,he,re){if(he==="_vip")return!0;if(he==="table")return function(fe){return Ra(C.table(fe),de)};var ce=Reflect.get(Y,he,re);return ce instanceof kh?Ra(ce,de):he==="tables"?ce.map(function(fe){return Ra(fe,de)}):he==="_createTransaction"?function(){return Ra(ce.apply(this,arguments),de)}:ce}});this.vip=de,N.forEach(function(Y){return Y(C)})}var Yl,Qr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",og=(Xl.prototype.subscribe=function(y,b,C){return this._subscribe(y&&typeof y!="function"?y:{next:y,error:b,complete:C})},Xl.prototype[Qr]=function(){return this},Xl);function Xl(y){this._subscribe=y}try{Yl={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{Yl={indexedDB:null,IDBKeyRange:null}}function Tc(y){var b,C=!1,N=new og(function(O){var M=G(y),$,K=!1,ee={},ie={},de={get closed(){return K},unsubscribe:function(){K||(K=!0,$&&$.abort(),Y&&is.storagemutated.unsubscribe(re))}};O.start&&O.start(de);var Y=!1,he=function(){return Lr(ce)},re=function(fe){Vl(ee,fe),Cc(ie,ee)&&he()},ce=function(){var fe,oe,ve;!K&&Yl.indexedDB&&(ee={},fe={},$&&$.abort(),$=new AbortController,ve=function(we){var Se=X();try{M&&St();var ke=tt(y,we);return ke=M?ke.finally(Ot):ke}finally{Se&&pe()}}(oe={subscr:fe,signal:$.signal,requery:he,querier:y,trans:null}),Promise.resolve(ve).then(function(we){C=!0,b=we,K||oe.signal.aborted||(ee={},function(Se){for(var ke in Se)if(p(Se,ke))return;return 1}(ie=fe)||Y||(is(Hr,re),Y=!0),Lr(function(){return!K&&O.next&&O.next(we)}))},function(we){C=!1,["DatabaseClosedError","AbortError"].includes(we?.name)||K||Lr(function(){K||O.error&&O.error(we)})}))};return setTimeout(he,0),de});return N.hasValue=function(){return C},N.getValue=function(){return b},N}var pi=Oi;function Ks(y){var b=mi;try{mi=!0,is.storagemutated.fire(y),jc(y,!0)}finally{mi=b}}g(pi,r(r({},dn),{delete:function(y){return new pi(y,{addons:[]}).delete()},exists:function(y){return new pi(y,{addons:[]}).open().then(function(b){return b.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(y){try{return b=pi.dependencies,C=b.indexedDB,b=b.IDBKeyRange,(Ta(C)?Promise.resolve(C.databases()).then(function(N){return N.map(function(O){return O.name}).filter(function(O){return O!==Ni})}):Sc(C,b).toCollection().primaryKeys()).then(y)}catch{return Ut(new Pe.MissingAPI)}var b,C},defineClass:function(){return function(y){u(this,y)}},ignoreTransaction:function(y){return We.trans?er(We.transless,y):y()},vip:Na,async:function(y){return function(){try{var b=Oa(y.apply(this,arguments));return b&&typeof b.then=="function"?b:qe.resolve(b)}catch(C){return Ut(C)}}},spawn:function(y,b,C){try{var N=Oa(y.apply(C,b||[]));return N&&typeof N.then=="function"?N:qe.resolve(N)}catch(O){return Ut(O)}},currentTransaction:{get:function(){return We.trans||null}},waitFor:function(y,b){return b=qe.resolve(typeof y=="function"?pi.ignoreTransaction(y):y).timeout(b||6e4),We.trans?We.trans.waitFor(b):b},Promise:qe,debug:{get:function(){return Rn},set:function(y){hr(y)}},derive:S,extend:u,props:g,override:R,Events:Ss,on:is,liveQuery:Tc,extendObservabilitySet:Vl,getByKeyPath:P,setByKeyPath:I,delByKeyPath:function(y,b){typeof b=="string"?I(y,b,void 0):"length"in b&&[].map.call(b,function(C){I(y,C,void 0)})},shallowClone:H,deepClone:ae,getObjectDiff:Ec,cmp:pt,asap:U,minKey:-1/0,addons:[],connections:Rr,errnames:Xe,dependencies:Yl,cache:qs,semVer:"4.0.11",version:"4.0.11".split(".").map(function(y){return parseInt(y)}).reduce(function(y,b,C){return y+b/Math.pow(10,2*C)})})),pi.maxKey=Ca(pi.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(is(Hr,function(y){mi||(y=new CustomEvent(bc,{detail:y}),mi=!0,dispatchEvent(y),mi=!1)}),addEventListener(bc,function(y){y=y.detail,mi||Ks(y)}));var Mo,mi=!1,Bh=function(){};return typeof BroadcastChannel<"u"&&((Bh=function(){(Mo=new BroadcastChannel(bc)).onmessage=function(y){return y.data&&Ks(y.data)}})(),typeof Mo.unref=="function"&&Mo.unref(),is(Hr,function(y){mi||Mo.postMessage(y)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(y){if(!Oi.disableBfCache&&y.persisted){Rn&&console.debug("Dexie: handling persisted pagehide"),Mo?.close();for(var b=0,C=Rr;b<C.length;b++)C[b].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(y){!Oi.disableBfCache&&y.persisted&&(Rn&&console.debug("Dexie: handling persisted pageshow"),Bh(),Ks({all:new Mn(-1/0,[[]])}))})),qe.rejectionMapper=function(y,b){return!y||y instanceof B||y instanceof TypeError||y instanceof SyntaxError||!y.name||!ft[y.name]?y:(b=new ft[y.name](b||y.message,y),"stack"in y&&w(b,"stack",{get:function(){return this.inner.stack}}),b)},hr(Rn),r(Oi,Object.freeze({__proto__:null,Dexie:Oi,liveQuery:Tc,Entity:zs,cmp:pt,PropModification:wa,replacePrefix:function(y,b){return new wa({replacePrefix:[y,b]})},add:function(y){return new wa({add:y})},remove:function(y){return new wa({remove:y})},default:Oi,RangeSet:Mn,mergeRanges:Pa,rangesOverlap:Th}),{default:Oi}),Oi})}(Tp)),Tp.exports}var VI=QI();const wy=ki(VI),T5=Symbol.for("Dexie"),Zp=globalThis[T5]||(globalThis[T5]=wy);if(wy.semVer!==Zp.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${wy.semVer} and ${Zp.semVer}`);const{liveQuery:WI,mergeRanges:lX,rangesOverlap:uX,RangeSet:cX,cmp:dX,Entity:hX,PropModification:fX,replacePrefix:pX,add:mX,remove:gX}=Zp;class qI extends Zp{interested_snapshot;interested_subject;simulation_run;simulation_run_selections;simulation_run_events;constructor(){super("ALLCLL_Simulation"),this.version(1).stores({interested_snapshot:"++snapshot_id,user_id,created_at,simulated",interested_subject:"++interested_id,snapshot_id,subject_id",simulation_run:"++simulation_run_id,snapshot_id,user_id,department_name,success_subject_count,subject_count,accuracy,score,total_elapsed,started_at,ended_at",simulation_run_selections:"++run_selections_id,simulation_run_id,interested_id,selected_index,status,started_at,ended_at",simulation_run_events:"++event_id,simulation_section_id,event_type,timestamp"})}}const He=new qI;async function r8(){const e=await He.interested_snapshot.orderBy("created_at").last();if(!e)return null;const t=await He.interested_subject.where("snapshot_id").equals(e.snapshot_id).toArray();return{...e,subjects:t}}async function i8(e){const t=await He.interested_snapshot.get(e);if(!t)return null;const n=await He.interested_subject.where("snapshot_id").equals(e).toArray();return{...t,subjects:n}}async function KI(e){const t=await He.interested_snapshot.orderBy("created_at").last(),n=t&&!t.simulated?t.snapshot_id:await He.interested_snapshot.add({user_id:"Todo: user_id",created_at:Date.now(),simulated:!1});t&&!t.simulated&&(await He.interested_snapshot.update(t.snapshot_id,{created_at:Date.now()}),await He.interested_subject.where("snapshot_id").equals(t.snapshot_id).delete()),await He.interested_subject.bulkAdd(e.map(r=>({snapshot_id:n,subject_id:r})))}async function N5(e,t){const n=await He.interested_subject.where("snapshot_id").equals(e).filter(r=>r.subject_id===t).first();return n?n.interested_id:-1}async function GI(){const e=await Kd();if("errMsg"in e)throw new Error(e.errMsg);return e}const YI=["","","1","","","","","","","","","","","","","","","English Listening","English Reading"],XI=(e,t,n)=>{const r=e.find(s=>s.subjectId===t);let i=40;return r?.departmentName===""&&(YI.includes(r.subjectName)?i=4.6*3:i=4.6*4),console.log(n,i),n<i},Am=Nr(e=>({currentSubjectId:0,isCaptchaFailed:!1,subjectStatusMap:{},setCurrentSubjectId:t=>e({currentSubjectId:t}),setSubjectStatus:(t,n)=>e(r=>({subjectStatusMap:{...r.subjectStatusMap,[t]:n}})),setCaptchaFailed:t=>e({isCaptchaFailed:t})}));var Hn=(e=>(e[e.SEARCH=0]="SEARCH",e[e.APPLY=1]="APPLY",e[e.CAPTCHA=2]="CAPTCHA",e[e.CANCEL_SUBMIT=3]="CANCEL_SUBMIT",e[e.SUBJECT_SUBMIT=4]="SUBJECT_SUBMIT",e[e.REFRESH=5]="REFRESH",e[e.SKIP_REFRESH=6]="SKIP_REFRESH",e))(Hn||{}),Kt=(e=>(e[e.PROGRESS=0]="PROGRESS",e[e.SUCCESS=1]="SUCCESS",e[e.FAILED=2]="FAILED",e[e.DOUBLED=3]="DOUBLED",e[e.CAPTCHA_FAILED=4]="CAPTCHA_FAILED",e[e.NOT_ELIGIBLE=5]="NOT_ELIGIBLE",e[e.CANCELED=6]="CANCELED",e))(Kt||{}),s8=(e=>(e.SNAPSHOT_NOT_EXIST="SNAPSHOT_NOT_EXIST",e.ONGOING_SIMULATION_NOT_FOUND="ONGOING_SIMULATION_NOT_FOUND",e.SELECTION_NOT_FOUND="SELECTION_NOT_FOUND",e.SIMULATION_NOT_FOUND="SIMULATION_NOT_FOUND",e.MULTIPLE_SIMULATION_FOUND="MULTIPLE_SIMULATION_FOUND",e.SIMULATION_IS_NOT_FINISHED="SIMULATION_IS_NOT_FINISHED",e.MULTIPLE_SIMULATION_RUNNING="MULTIPLE_SIMULATION_RUNNING",e.UNKNOWN_ERROR="UNKNOWN_ERROR",e))(s8||{});const Jv=300,JI=Jv*1e3;function fa(e){return{errMsg:e}}function o8(e){return e instanceof Error?fa(e.message):fa("UNKNOWN_ERROR")}async function Kd(){try{const e=await Mm();if(!e)return{simulationId:-1};const t=await He.simulation_run_selections.filter(a=>Im(a,e.simulation_run_id)).toArray(),n=await He.interested_subject.where("snapshot_id").equals(e.snapshot_id).toArray();if(!n)return fa("SNAPSHOT_NOT_EXIST");const r=t.filter(a=>a.status===1),i=n.filter(a=>r.some(u=>u.interested_id===a.interested_id)).map(a=>({subjectId:a.subject_id})),s=n.filter(a=>!r.some(u=>u.interested_id===a.interested_id)).map(a=>({subjectId:a.subject_id})),o=t.map(a=>{const u=n.find(c=>c.interested_id===a.interested_id);return u?{subjectId:u.subject_id,status:a.status}:{subjectId:-1,status:2}});return{simulationId:e.simulation_run_id,userStatus:{userPK:e.user_id,departmentCode:e.department_code,departmentName:e.department_name},searchEventAt:e.search_event_at,startedAt:e.started_at,nonRegisteredSubjects:s,registeredSubjects:i,subjectStatus:o}}catch(e){return o8(e)}}async function Mm(){const e=await He.simulation_run.filter(t=>t.ended_at===-1).toArray();if(e&&e.length>1)throw new Error("MULTIPLE_SIMULATION_RUNNING");return e[0]??null}async function ZI(e){const t=await He.simulation_run.where("simulation_run_id").equals(e).filter(n=>n.ended_at!==-1).toArray();if(!t.length)throw new Error("SIMULATION_NOT_FOUND");if(t.length>1)throw new Error("MULTIPLE_SIMULATION_FOUND");return t[0]}async function eD(e,t,n){const r=await Kd();if(r&&"errMsg"in r)return r;if(r.simulationId!==-1)return{simulationId:r.simulationId,isRunning:!0};const i=await r8();if(!i)return fa("SNAPSHOT_NOT_EXIST");await He.interested_snapshot.update(i.snapshot_id,{simulated:!0});const s=i.subjects;return{simulationId:await He.simulation_run.add({snapshot_id:i.snapshot_id,user_id:e,department_code:t,department_name:n,success_subject_count:0,subject_count:s.length,accuracy:-1,score:-1,total_elapsed:-1,search_event_at:-1,started_at:Date.now(),ended_at:-1}),started_at:Date.now(),isRunning:!0}}async function ho(e,t){const{eventType:n}=e;console.log("BUTTON EVENT",e);let r;try{if(r=await Mm(),!r)throw new Error("ONGOING_SIMULATION_NOT_FOUND")}catch(c){return o8(c)}const i=r.simulation_run_id;if(n===0){const c=Date.now();return await He.simulation_run.update(i,{search_event_at:c}),{elapsed_time:c-r.started_at}}const{subjectId:s}=e;if(n===1){const c=await He.simulation_run_selections.filter(p=>p.simulation_run_id===r.simulation_run_id&&p.ended_at>=0).count(),f=await He.simulation_run_selections.add({simulation_run_id:r.simulation_run_id,interested_id:await N5(r.snapshot_id,s),selected_index:c+1,status:0,started_at:Date.now(),ended_at:-1});return await He.simulation_run_events.add({simulation_section_id:f,event_type:n,timestamp:Date.now()}),{}}const o=await He.simulation_run_selections.filter(c=>c.simulation_run_id===i).toArray(),a=o.filter(c=>c.ended_at===-1).sort((c,f)=>f.started_at-c.started_at)[0];if(!a)return fa("SELECTION_NOT_FOUND");const u=Date.now();if(await He.simulation_run_events.add({simulation_section_id:a.run_selections_id,event_type:n,timestamp:u}),n===4){const c=await N5(r.snapshot_id,s);if(!await He.simulation_run_selections.filter(E=>E.simulation_run_id===i&&E.interested_id===c).last())return fa("SELECTION_NOT_FOUND");const p=async E=>(await He.simulation_run_selections.update(a.run_selections_id,{status:E}),console.log("saved section",a.run_selections_id,E),{status:E});if(Am.getState().isCaptchaFailed)return await p(4);if(o.some(E=>E.interested_id===c&&E.status===2))return await p(3),{status:2};if(o.some(E=>E.interested_id===c&&E.ended_at>=0&&Im(E,i)))return await p(3);const S=Math.floor(u-r.started_at)/1e3;return XI(t,s,S)?await p(1):await p(2)}if(n===3&&await He.simulation_run_selections.update(a.run_selections_id,{status:6,ended_at:Date.now()}),n===5||n===6){await He.simulation_run_selections.update(a.run_selections_id,{ended_at:Date.now()});const c=await nD();return c&&await a8(),{finished:c}}return{}}async function gl(){await a8()}async function a8(){const e=await He.simulation_run.filter(u=>u.ended_at<=-1).last();if(!e)return;const t=await He.simulation_run_selections.filter(u=>u.simulation_run_id===e.simulation_run_id).toArray(),n=t.filter(u=>Im(u,e.simulation_run_id)).length,i=t.filter(u=>iD(u,e.simulation_run_id)).reduce((u,c)=>c.ended_at===-1?u+4600:u+(c.ended_at-c.started_at),0),s=Date.now()-e.started_at,o=bI(s/1e3,i/1e3),a=Lm(s/1e3/n)+xI(o);await He.simulation_run.update(e.simulation_run_id,{ended_at:Date.now(),accuracy:o,score:Math.min(100,Math.max(0,a)),total_elapsed:s}),await rD(e)}async function tD({simulationId:e}){const t=await He.simulation_run.get(e);return t?t.ended_at===-1?fa("SIMULATION_IS_NOT_FINISHED"):{accuracy:t.accuracy,score:t.score,total_elapsed:t.total_elapsed}:fa("SIMULATION_NOT_FOUND")}async function nD(){let e;try{e=await Mm()}catch{return!0}if(!e)return!0;const t=await He.simulation_run_selections.filter(n=>Im(n,e.simulation_run_id)).toArray();return e.subject_count<=t.length}async function rD(e){const t=e.simulation_run_id;return e.search_event_at<0?(await He.simulation_run_selections.where("simulation_run_id").equals(t).delete(),await He.simulation_run.delete(t),!0):(e.started_at+JI<Date.now()&&await He.simulation_run.update(t,{ended_at:Date.now()}),!1)}const l8=(e,t)=>e.simulation_run_id===t,Im=(e,t)=>l8(e,t)&&[1,2].includes(e.status),iD=(e,t)=>l8(e,t)&&![1,2].includes(e.status);function Nl(e){return e>5?"text-green-500 bg-green-100":e>0?"text-yellow-500 bg-yellow-100":e==0?"text-red-500 bg-red-100":"text-gray-500 bg-gray-100"}function u8(e){return e>=100?"text-red-500 bg-red-100":e>=50?"text-yellow-500 bg-yellow-100":e>=0?"text-green-500 bg-green-100":"text-gray-500 bg-gray-100"}function sD(e){return oD(_y(e))}function _y(e){switch(e){case Kt.SUCCESS:return"green";case Kt.FAILED:return"red";case Kt.CAPTCHA_FAILED:return"orange";case Kt.PROGRESS:return"yellow";default:return"gray"}}function oD(e){switch(e){case"green":return"bg-green-100 text-green-500";case"red":return"bg-red-100 text-red-500";case"orange":return"bg-orange-100 text-orange-500";case"yellow":return"bg-yellow-100 text-yellow-500";default:return"bg-gray-100 text-gray-500"}}function aD(){return h.jsxs(jl,{children:[h.jsx(wm,{title:"   ",subtitle:"    ,  ",href:"/live"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[h.jsx("h2",{className:"text-lg font-semibold mb-2",children:"  "}),h.jsxs("p",{className:"text-gray-500",children:["   ,   ",h.jsx("span",{className:"text-blue-500 font-bold",children:""})," "]}),h.jsx("div",{className:"flex flex-col gap-4 mt-4",children:[{name:"",prof:"003281 | "},{name:"",prof:"004310 | LEE KANGWON"}].map(({name:e,prof:t})=>h.jsxs("div",{className:"bg-gray-50 shadow-sm rounded-lg p-4 w-full",children:[h.jsxs("div",{className:"flex justify-between mb-2",children:[h.jsx("h3",{className:"font-bold",children:e}),h.jsx(uc,{})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("p",{className:"text-sm text-gray-500",children:t}),h.jsx("p",{className:"text-sm text-red-500 font-bold",children:": 0"})]})]},t))})]}),h.jsxs("div",{className:"bg-white p-6 shadow-md rounded-md",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"  TOP 10"}),h.jsx("p",{className:"text-gray-500 mb-4",children:"    !"}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full bg-white rounded-lg text-sm",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"bg-gray-50 z-10 text-nowrap",children:[h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""})]})}),h.jsx("tbody",{children:[{id:"004310-004",name:"",prof:"",seats:22},{id:"003281-001",name:"",prof:"",seats:15},{id:"004118-007",name:"",prof:"Rajendra Dhakal",seats:6},{id:"009912-006",name:"C",prof:"",seats:5},{id:"007330-001",name:"",prof:"",seats:4}].map(({id:e,name:t,prof:n,seats:r},i)=>h.jsxs("tr",{className:"border-t border-gray-200 text-black",children:[h.jsx("td",{className:"px-4 py-2 text-center",children:e}),h.jsx("td",{className:"px-4 py-2 text-center",children:t}),h.jsx("td",{className:"px-4 py-2 text-center",children:n}),h.jsx("td",{className:"px-4 py-2 text-center font-bold",children:h.jsx("p",{className:`px-3 py-1 rounded-full text-xs font-bold ${Nl(r)}`,children:r})})]},"live-non-major-"+i))})]})})]})]})]})}const lD=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,72)"},T.createElement("path",{d:"M18,72Q22.9219,71.9297,27,69.6094Q31.0781,67.2188,33.6094,63Q36,58.710899999999995,36,54Q36,49.2891,33.6094,45Q31.0781,40.78125,27,38.39062Q22.9219,36.0703125,18,36Q13.0781,36.0703125,9,38.39062Q4.92188,40.78125,2.39062,45Q0,49.2891,0,54Q0,58.710899999999995,2.39062,63Q4.92188,67.2188,9,69.6094Q13.0781,71.9297,18,72ZM16.3125,63.5625L16.3125,54L16.3125,63.5625L16.3125,54Q16.3125,53.085899999999995,17.0859,52.5938L23.8359,48.0938Q25.1719,47.3203,26.1562,48.5859Q26.9297,49.9219,25.6641,50.9062L19.6875,54.914100000000005L19.6875,63.5625Q19.5469,65.1094,18,65.25Q16.4531,65.1094,16.3125,63.5625Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),uD=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,72)"},T.createElement("path",{d:"M25.8047,42.96094L7.03125,61.8047L25.8047,42.96094L7.03125,61.8047Q4.57031,58.4297,4.5,54Q4.64062,48.2344,8.4375,44.4375Q12.2344,40.64062,18,40.5Q22.4297,40.57031,25.8047,42.96094ZM29.0391,46.1953Q31.4297,49.5703,31.5,54Q31.3594,59.7656,27.5625,63.5625Q23.7656,67.3594,18,67.5Q13.5703,67.4297,10.1953,64.9688L29.0391,46.1953ZM0,54Q0.0703125,58.9219,2.39062,63Q4.78125,67.0781,9,69.6094Q13.2891,72,18,72Q22.7109,72,27,69.6094Q31.2188,67.0781,33.6094,63Q35.9297,58.9219,36,54Q35.9297,49.0781,33.6094,45Q32.4141,42.96094,30.7617,41.30859Q29.1094,39.65625,27,38.39062Q22.7109,36,18,36Q13.2891,36,9,38.39062Q4.78125,40.92188,2.39062,45Q0.0703125,49.0781,0,54Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),c8=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:33.75,height:36,viewBox:"0 0 33.75 36",...e},T.createElement("defs",null,T.createElement("clipPath",{id:"master_svg0_85_3284"},T.createElement("rect",{x:0,y:0,width:33.75,height:36,rx:0}))),T.createElement("g",{clipPath:"url(#master_svg0_85_3284)"},T.createElement("g",{transform:"matrix(1,0,0,-1,0,69.046875)"},T.createElement("g",null,T.createElement("path",{d:"M6.25781,54.000037500000005Q7.10156,56.3906375,8.92969,58.2187375Q12.375,61.5234375,16.875,61.5234375Q21.375,61.5234375,24.8203,58.2187375L26.0156,57.0234375L23.625,57.0234375Q22.6406,57.0234375,22.0078,56.3906375Q21.375,55.7578375,21.375,54.7734375Q21.375,53.7890375,22.0078,53.1562375Q22.6406,52.5234375,23.625,52.5234375L31.5,52.5234375Q32.4844,52.5234375,33.1172,53.1562375Q33.75,53.7890375,33.75,54.7734375L33.75,62.6484375Q33.75,63.6328375,33.1172,64.2656375Q32.4844,64.8984375,31.5,64.8984375Q30.5156,64.8984375,29.8828,64.2656375Q29.25,63.6328375,29.25,62.6484375L29.25,60.187537500000005L27.9844,61.3828375Q24.8906,64.4765375,20.8828,65.5312375Q16.875,66.5156375,12.8672,65.5312375Q8.85938,64.4765375,5.76562,61.3828375Q3.16406,58.7812375,2.03906,55.546837499999995Q1.75781,54.6328375,2.10938,53.7890375Q2.53125,53.0156375,3.375,52.6640375Q4.28906,52.3828375,5.13281,52.734337499999995Q5.90625,53.1562375,6.25781,54.000037500000005ZM1.61719,47.9531375Q1.05469,47.7422375,0.632812,47.3203375Q0.210938,46.8984375,0.0703125,46.3359375Q0.0703125,46.2656375,0,46.1250375Q0,45.9140375,0,45.7734375L0,37.8984375Q0,36.9140575,0.632812,36.2812475Q1.26562,35.6484375,2.25,35.6484375Q3.23438,35.6484375,3.86719,36.2812475Q4.5,36.9140575,4.5,37.8984375L4.5,40.3593775L5.76562,39.1640575Q8.85938,36.0703175,12.8672,35.0156255Q16.875,34.0312495,20.8828,35.0156255Q24.8906,36.0703175,27.9844,39.1640575Q30.5859,41.7656275,31.7109,45.0000375Q31.9922,45.9140375,31.6406,46.7578375Q31.2188,47.5312375,30.375,47.8828375Q29.4609,48.1640375,28.6172,47.8125375Q27.8438,47.3906375,27.4922,46.5468375Q26.6484,44.2265575,24.8203,42.3281275Q21.375,39.0234375,16.875,39.0234375Q12.375,39.0234375,8.92969,42.3281275L7.73438,43.5234375L10.125,43.5234375Q11.1094,43.5234375,11.7422,44.1562475Q12.375,44.7890375,12.375,45.7734375Q12.375,46.7578375,11.7422,47.3906375Q11.1094,48.0234375,10.125,48.0234375L2.25,48.0234375Q2.10938,48.0234375,1.96875,48.0234375Q1.75781,47.9531375,1.61719,47.9531375Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})))));function cD(){return h.jsxs(jl,{className:"text-center",children:[h.jsx("h2",{className:"text-2xl font-semibold",children:"  "}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[{icon:h.jsx(lD,{className:"w-6 h-6"}),title:"6     ...",text:"       "},{icon:h.jsx(uD,{className:"w-6 h-6"}),title:"   ...",text:"  ,      "},{icon:h.jsx(c8,{className:"w-6 h-6"}),title:"      ...",text:"   ,     "}].map(({icon:e,title:t,text:n},r)=>h.jsxs("div",{className:"flex flex-col gap-4 p-6 rounded-md bg-gray-50 text-left",children:[e,h.jsx("h3",{className:"font-extrabold",children:t}),h.jsx("p",{className:"text-xs text-gray-500",children:n})]},"pain-point-"+r))}),h.jsxs("div",{className:"text-gray-900 mt-16",children:[h.jsx("p",{children:"   ."}),h.jsx("p",{children:"   ,      . "})]})]})}const dD=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:24,height:24,viewBox:"0 0 24 24",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,48)"},T.createElement("path",{d:"M18.7031,30Q17.9062,31.35938,16.5469,32.15625Q15.1875,33,13.5,33L10.5,33Q8.8125,33,7.45312,32.15625Q6.09375,31.35938,5.29688,30Q6.5625,28.59375,8.25,27.79688Q9.98438,27,12,27Q14.0156,27,15.75,27.79688Q17.4375,28.59375,18.7031,30ZM0,36Q0.046875,39.2812,1.59375,42Q3.1875,44.7188,6,46.4062Q8.85938,48,12,48Q15.1406,48,18,46.4062Q20.8125,44.7188,22.4062,42Q23.9531,39.2812,24,36Q23.9531,32.71875,22.4062,30Q20.8125,27.28125,18,25.59375Q15.1406,24,12,24Q8.85938,24,6,25.59375Q3.1875,27.28125,1.59375,30Q0.046875,32.71875,0,36ZM12,35.25Q13.9219,35.2969,14.9062,36.9375Q15.8438,38.625,14.9062,40.3125Q13.9219,41.9531,12,42Q10.0781,41.9531,9.09375,40.3125Q8.15625,38.625,9.09375,36.9375Q10.0781,35.2969,12,35.25Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function hD(){return h.jsxs(jl,{className:"text-center",children:[h.jsx("h2",{className:"text-2xl font-semibold",children:"   !"}),h.jsxs("div",{className:"overflow-hidden mt-6 relative",children:[h.jsx("div",{className:"absolute top-0 left-0 w-12 h-full bg-gradient-to-r from-gray-50 to-transparent z-10"}),h.jsxs("div",{className:"animate-marquee flex gap-6 flex-nowrap w-fit",children:[P5.map((e,t)=>h.jsx(O5,{...e},"feedback-left-"+t)),P5.map((e,t)=>h.jsx(O5,{...e},"feedback-right-"+t))]}),h.jsx("div",{className:"absolute top-0 right-0 w-12 h-full bg-gradient-to-l from-gray-50 to-transparent z-10"})]})]})}const P5=[{name:"O",department:" 2",review:"        !"},{name:"O",department:" 4",review:"         !"},{name:"O",department:" 3",review:"     !"}];function O5({name:e,department:t,review:n}){return h.jsxs("div",{className:"w-screen md:w-xs flex flex-col gap-4 p-6 rounded-md bg-white text-left text-sm",children:[h.jsxs("div",{className:"flex gap-4 items-center",children:[h.jsx(dD,{className:"w-6 h-6"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-bold",children:e}),h.jsx("p",{className:"text-xs text-gray-500",children:t})]})]}),h.jsxs("p",{className:"text-gray-950",children:['"',n,'"']})]})}function fD(){return h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx(jP,{}),h.jsx(nO,{}),h.jsx(UI,{}),h.jsx(TI,{}),h.jsx(aD,{}),h.jsx(cD,{}),h.jsx(hD,{})]})}function Dm({col:e,row:t}){return h.jsx(h.Fragment,{children:Array.from({length:t}).map((n,r)=>h.jsx("tr",{className:"animate-pulse border-t border-gray-200 h-10",children:Array.from({length:e}).map((i,s)=>h.jsx("td",{className:"bg-gray-300",colSpan:-1},`skeleton-td-${s}-${r}`))},"skeleton-row-"+r))})}function Fm({icon:e,title:t,description:n,children:r}){return h.jsx("div",{className:"flex flex-col items-center justify-center w-full bg-gray-50 rounded-md",children:h.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 p-12",children:[h.jsx("div",{children:e}),h.jsx("div",{className:"text-gray-600",children:t}),h.jsx("div",{className:"text-xs text-gray-500",children:n}),r]})})}const d8=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,72)"},T.createElement("g",null,T.createElement("path",{d:"M18,36Q22.9219,36.0703125,27,38.39062Q31.0781,40.78125,33.6094,45Q36,49.2891,36,54Q36,58.710899999999995,33.6094,63Q31.0781,67.2188,27,69.6094Q22.9219,71.9297,18,72Q13.0781,71.9297,9,69.6094Q4.92188,67.2188,2.39062,63Q0,58.710899999999995,0,54Q0,49.2891,2.39062,45Q4.92188,40.78125,9,38.39062Q13.0781,36.0703125,18,36ZM18,63Q19.5469,62.8594,19.6875,61.3125L19.6875,53.4375Q19.5469,51.8906,18,51.75Q16.4531,51.8906,16.3125,53.4375L16.3125,61.3125Q16.4531,62.8594,18,63ZM15.75,47.25Q15.75,48.2344,16.3828,48.8672Q17.0156,49.5,18,49.5Q18.9844,49.5,19.6172,48.8672Q20.25,48.2344,20.25,47.25Q20.25,46.2656,19.6172,45.63281Q18.9844,45,18,45Q17.0156,45,16.3828,45.63281Q15.75,46.2656,15.75,47.25Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})))),pD=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:12.68359375,height:12.25,viewBox:"0 0 12.68359375 12.25",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,24.5)"},T.createElement("g",null,T.createElement("path",{d:"M9.67675,21L8.30998,21L9.67675,21L8.30998,21Q7.92728,21,7.68126,20.753909999999998Q7.43524,20.50781,7.43524,20.125Q7.43524,19.74219,7.68126,19.49609Q7.92728,19.25,8.30998,19.25L11.8089,19.25Q12.1916,19.25,12.4376,19.49609Q12.6837,19.74219,12.6837,20.125L12.6837,23.625Q12.6837,24.0078,12.4376,24.2539Q12.1916,24.5,11.8089,24.5Q11.4262,24.5,11.1802,24.2539Q10.9342,24.0078,10.9342,23.625L10.9342,22.23047L10.4421,22.6953Q9.23938,23.898400000000002,7.68126,24.3086Q6.12314,24.6914,4.56502,24.3086Q3.0069,23.898400000000002,1.80414,22.6953Q0.60138,21.49219,0.191348,19.93359Q-0.191348,18.375,0.191348,16.81641Q0.60138,15.25781,1.80414,14.05469Q3.0069,12.851562,4.56502,12.441406Q6.12314,12.058594,7.68126,12.441406Q9.23938,12.851562,10.4421,14.05469Q10.7155,14.30078,10.7155,14.65625Q10.7155,15.01172,10.4421,15.28516Q10.1961,15.53125,9.84076,15.53125Q9.4854,15.53125,9.21205,15.28516Q7.87261,14,6.12314,14Q4.37367,14,3.03424,15.28516Q1.74947,16.625,1.74947,18.375Q1.74947,20.125,3.03424,21.464840000000002Q4.37367,22.75,6.12314,22.75Q7.87261,22.75,9.21205,21.464840000000002L9.67675,21Z",fill:"#FFFFFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))));function h8({onReload:e}){return h.jsx(Fm,{title:"    ",description:"  ",icon:h.jsx(d8,{className:"w-7 h-7"}),children:h.jsxs("button",{className:"mt-4 flex items-center gap-2 bg-blue-500 text-white px-4 py-2 rounded cursor-pointer hover:bg-blue-600",onClick:e,children:[h.jsx(pD,{className:"w-3 h-3"}),""]})})}const Zv=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},T.createElement("defs",null,T.createElement("clipPath",{id:"master_svg0_106_2202"},T.createElement("rect",{x:0,y:0,width:36,height:36,rx:0}))),T.createElement("g",{clipPath:"url(#master_svg0_106_2202)"},T.createElement("g",{transform:"matrix(1,0,0,-1,0,69.046875)"},T.createElement("g",null,T.createElement("path",{d:"M2.25,66.0234375Q3.23438,66.0234375,3.86719,65.3906375Q4.5,64.7578375,4.5,63.7734375L4.5,40.1484375Q4.57031,39.0937475,5.625,39.0234375L33.75,39.0234375Q34.7344,39.0234375,35.3672,38.3906275Q36,37.7578175,36,36.7734375Q36,35.7890575,35.3672,35.1562495Q34.7344,34.5234375,33.75,34.5234375L5.625,34.5234375Q3.23438,34.59375,1.61719,36.1406275Q0.0703125,37.7578175,0,40.1484375L0,63.7734375Q0,64.7578375,0.632812,65.3906375Q1.26562,66.0234375,2.25,66.0234375ZM9,59.2734375Q9,60.2578375,9.63281,60.8906375Q10.2656,61.5234375,11.25,61.5234375L24.75,61.5234375Q25.7344,61.5234375,26.3672,60.8906375Q27,60.2578375,27,59.2734375Q27,58.2890375,26.3672,57.6562375Q25.7344,57.0234375,24.75,57.0234375L11.25,57.0234375Q10.2656,57.0234375,9.63281,57.6562375Q9,58.2890375,9,59.2734375ZM11.25,54.7734375L20.25,54.7734375L11.25,54.7734375L20.25,54.7734375Q21.2344,54.7734375,21.8672,54.1406375Q22.5,53.5078375,22.5,52.5234375Q22.5,51.5390375,21.8672,50.9062375Q21.2344,50.2734375,20.25,50.2734375L11.25,50.2734375Q10.2656,50.2734375,9.63281,50.9062375Q9,51.5390375,9,52.5234375Q9,53.5078375,9.63281,54.1406375Q10.2656,54.7734375,11.25,54.7734375ZM11.25,48.0234375L29.25,48.0234375L11.25,48.0234375L29.25,48.0234375Q30.2344,48.0234375,30.8672,47.3906375Q31.5,46.7578375,31.5,45.7734375Q31.5,44.7890375,30.8672,44.1562475Q30.2344,43.5234375,29.25,43.5234375L11.25,43.5234375Q10.2656,43.5234375,9.63281,44.1562475Q9,44.7890375,9,45.7734375Q9,46.7578375,9.63281,47.3906375Q10.2656,48.0234375,11.25,48.0234375Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})))));function mD(){return h.jsx(Fm,{title:"   TOP 10  ",description:"   ",icon:h.jsx(Zv,{className:"w-7 h-7"})})}const gD=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17,height:17,viewBox:"-0.1 -1.2 11.985078811645508 17",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,27.999998092651367)"},T.createElement("path",{d:"M5.99254,27.999999046325684Q5.61809,27.999999046325684,5.37737,27.753899046325685Q5.13664,27.507799046325683,5.13664,27.124999046325684L5.13664,26.605499046325683Q3.63883,26.277299046325684,2.70269,25.10159904632568Q1.73981,23.925779046325683,1.71306,22.312499046325684L1.71306,21.792969046325684Q1.68632,19.824219046325684,0.429221,18.320309046325683L0.215247,18.074219046325684Q-0.13246,17.664059046325683,0.0815138,17.144529046325683Q0.322234,16.652339046325682,0.857169,16.624999046325684L11.1279,16.624999046325684Q11.6628,16.652339046325682,11.9036,17.144529046325683Q12.1175,17.664059046325683,11.7698,18.074219046325684L11.5826,18.320309046325683Q10.2988,19.796869046325682,10.272,21.792969046325684L10.272,22.312499046325684Q10.2453,23.925779046325683,9.28239,25.10159904632568Q8.34625,26.277299046325684,6.84843,26.605499046325683L6.84843,27.124999046325684Q6.84843,27.507799046325683,6.60771,27.753899046325685Q6.36699,27.999999046325684,5.99254,27.999999046325684ZM7.19614,14.519530046325684Q7.70433,15.039059046325683,7.70433,15.749999046325684L5.99254,15.749999046325684L4.28075,15.749999046325684Q4.28075,15.039059046325683,4.78894,14.519530046325684Q5.29713,13.999999046325684,5.99254,13.999999046325684Q6.68796,13.999999046325684,7.19614,14.519530046325684Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function yD(){return h.jsx(Fm,{title:"   ",description:"   .   .",icon:h.jsx(gD,{className:"w-7 h-7"}),children:h.jsx(Qe,{justify:"justify-center",children:h.jsx("a",{className:"bg-gray-50 rounded-full px-4 py-2 text-sm border border-gray-200 hover:shadow-md cursor-pointer",href:"https://open.kakao.com/o/g3MztXfh",children:"  "})})})}let od=null,wu=0;const o1=Nr(e=>{const t=()=>{od||(od=setInterval(()=>{e(r=>({tick:r.tick+1}))},1e3))},n=()=>{od&&clearInterval(od),od=null};return{tick:0,addRefCount:()=>{wu===0&&t(),wu=wu+1},removeRefCount:()=>{wu<=1&&n(),wu=Math.max(0,wu-1)}}}),f8=e=>{const t=o1(i=>i.tick),n=o1(i=>i.addRefCount),r=o1(i=>i.removeRefCount);T.useEffect(()=>(n(),()=>{r()}),[]),T.useEffect(()=>{},[t])};function vD(e){const{data:t}=qi(),{data:n,...r}=Tv(e);return{data:n?.map(s=>{const{subjectId:o,seatCount:a,queryTime:u}=s,c=t?.find(w=>w.subjectId===o)||xm,{subjectName:f,subjectCode:p,classCode:g,professorName:x}=c;return{...c,code:`${p}-${g}`,name:f,professor:x,seat:a,queryTime:u}}),...r}}function ex(e){if(!e)return" ";const t=new Date,n=new Date(e),r=t.getTime()-n.getTime(),i=Math.floor(r/1e3),s=Math.floor(i/60),o=Math.floor(s/60),a=Math.floor(o/24),u=Math.floor(a/30),c=Math.floor(u/12);return c>0?`${c} `:u>0?`${u} `:a>0?`${a} `:o>0?`${o} `:s>0?`${s} `:i>0?`${i} `:" "}function tx(){return h.jsxs("div",{className:"flex justify-end items-center mt-2 text-xs text-gray-500",children:[h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"block w-4 h-4 rounded bg-green-100 ml-1","aria-label":" "}),"  "]}),h.jsxs("span",{className:"flex items-center gap-2 ml-4",children:[h.jsx("span",{className:"block w-4 h-4 rounded bg-gray-100 ml-1","aria-label":" "})," "]})]})}function Pl({children:e,onClose:t,preventAutoFocus:n}){const r=T.useRef(null);T.useEffect(()=>(document.body.style.overflow="hidden",n||r.current?.focus(),()=>{document.body.style.overflow=""}),[n]);const i=s=>{s.stopPropagation(),t()};return h.jsxs("div",{className:"flex items-center justify-center fixed inset-0 w-full h-full z-100",role:"none",ref:r,tabIndex:-1,onClick:i,children:[h.jsx("div",{className:"fixed inset-0 justify-center opacity-30 bg-gray-300 border-b-2 border-gray-400"}),h.jsx("div",{className:"flex items-center justify-center",tabIndex:-1,children:h.jsx("div",{className:"rounded-lg z-50 bg-white max-h-[90vh] border border-gray-200 overflow-y-auto",role:"dialog",tabIndex:-1,onClick:s=>s.stopPropagation(),children:e})})]})}const xD=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e},T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})),bD=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e},T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.477 0-8.268-2.943-9.542-7a9.957 9.957 0 012.043-3.36m3.237-2.347A9.956 9.956 0 0112 5c4.478 0 8.268 2.943 9.542 7a9.954 9.954 0 01-4.043 5.132M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3l18 18"}));function p8({initialItems:e,onChange:t}){const[n,r]=T.useState(e),i=T.useRef(null),s=T.useRef([]),[o,a]=T.useState(null),u=T.useRef(null),[c,f]=T.useState(null),[p,g]=T.useState(null);T.useEffect(()=>{t?.(n)},[n,t]),T.useEffect(()=>{if(o){const P=n.findIndex(I=>I.title===o);P!==-1&&s.current[P]?.focus(),a(null)}},[n,o]),T.useEffect(()=>{const P=()=>requestAnimationFrame(S),I=new ResizeObserver(P);return i.current&&I.observe(i.current),window.addEventListener("scroll",P,!0),window.addEventListener("resize",P),P(),()=>{I.disconnect(),window.removeEventListener("scroll",P,!0),window.removeEventListener("resize",P)}},[]);function x(P){r(I=>{const H=[...I];return H[P]={...H[P],visible:!H[P].visible},H})}const w=T.useRef([]);function S(){const P=i.current;if(!P)return;const I=Array.from(P.children);w.current=I.map(H=>{const Q=H.getBoundingClientRect();return Q.top+Q.height/2})}function k(P,I){if(P.key==="ArrowUp"||P.key==="ArrowDown"){P.preventDefault(),P.stopPropagation();const H=I;let Q;if(P.key==="ArrowUp"){if(H===0)return;Q=H-1}else{if(H===n.length-1)return;Q=H+1}const F=n[H].title;r(le=>{const ue=[...le],[ae]=ue.splice(H,1);return ue.splice(Q,0,ae),ue}),a(F)}}function E(P,I){if(!i.current)return;const H=P.target.closest(".draggable-item");if(!H)return;P.target.setPointerCapture(P.pointerId);const Q=H.getBoundingClientRect(),F=i.current.getBoundingClientRect();u.current={currentIndex:I,height:Q.height,offsetY:P.clientY-Q.top,containerRect:F},f({item:n[I],initialIndex:I}),g({width:Q.width,left:Q.left,top:Q.top,position:"fixed",zIndex:50,pointerEvents:"none",transition:"none"}),window.addEventListener("pointermove",L),window.addEventListener("pointerup",R,{once:!0})}function L(P){if(u.current===null)return;const{height:I,offsetY:H,containerRect:Q}=u.current;let F=P.clientY-H;F=Math.max(Q.top,F),F=Math.min(Q.bottom-I,F),g(J=>({...J||{},top:F})),S();const le=P.clientY;let ae=w.current.findIndex(J=>le<J);ae===-1&&(ae=n.length);const q=u.current.currentIndex;let V=Math.max(0,Math.min(n.length-1,ae>q?ae-1:ae));V!==q&&(u.current.currentIndex=V,r(J=>{const te=[...J],[ne]=te.splice(q,1);return te.splice(V,0,ne),te}))}function R(){window.removeEventListener("pointermove",L),u.current=null,f(null),g(null)}const z=T.useMemo(()=>c?n.findIndex(P=>P.title===c.item.title):-1,[n,c]);function U(P){if(!c||!u.current||z===-1)return"";const I=z,H=u.current.currentIndex,Q=u.current.height;if(P===I)return"";if(I<H){if(P>I&&P<=H)return`translateY(-${Q}px)`}else if(P>=H&&P<I)return`translateY(${Q}px)`;return""}return h.jsxs(h.Fragment,{children:[h.jsx("ul",{ref:i,className:"bg-white divide-y divide-gray-100 relative",children:n.map((P,I)=>h.jsxs("li",{ref:H=>{s.current[I]=H},className:"draggable-item flex items-center gap-2 rounded-md px-2 transition-transform duration-1000",tabIndex:0,onKeyDown:H=>k(H,I),style:{transform:U(I),opacity:z===I?.4:1},children:[h.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700 cursor-grab",onPointerDown:H=>E(H,I),"aria-label":`Drag ${P.title}`,title:" ",children:""}),h.jsxs("div",{className:"flex items-center justify-between flex-auto",children:[h.jsx("span",{className:"font-medium",children:P.title}),h.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700 cursor-pointer","aria-label":P.visible?"":"",title:P.visible?"":"",onClick:()=>x(I),children:P.visible?h.jsx(xD,{className:"w-4 h-4"}):h.jsx(bD,{className:"w-4 h-4"})})]})]},P.title))}),p&&c&&h.jsx("div",{style:p,className:"bg-blue-50 rounded-md shadow-lg w-full max-w-lg m-auto px-2",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"p-1 text-gray-700",children:""}),h.jsx("span",{className:"font-medium",children:c.item.title})]})}),h.jsx("div",{className:"mt-4 text-sm text-gray-500",children:"Tip:    /    ."})]})}const nx=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e},T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4px",d:"M4 20L20 4M4 4l16 16"}));function hh({title:e,onClose:t}){return h.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 ",children:[h.jsx("h2",{className:"font-semibold sm:text-lg text-sm text-gray-900",children:e}),h.jsx("button",{className:"w-5 h-5 text-gray-500 hover:text-gray-700 cursor-pointer",onClick:t,title:"",tabIndex:-1,children:h.jsx(nx,{className:"w-full h-full"})})]})}function rx({enabled:e=!0,onClose:t}){T.useEffect(()=>{if(!e)return;const n=i=>{i.key==="Escape"&&t&&t()},r=i=>{i.preventDefault(),t&&t()};return window.addEventListener("keydown",n),window.addEventListener("popstate",r),()=>{window.removeEventListener("keydown",n),window.removeEventListener("popstate",r)}},[])}const m8=(e,t)=>Nr()(L_(n=>({tableTitles:t,setTableTitles:r=>n({tableTitles:r}),resetTableTitles:()=>n({tableTitles:t})}),{name:`${e}-table-head-store`})),wD=[{title:"",visible:!0,key:"code"},{title:"",visible:!0,key:"name"},{title:"",visible:!0,key:"professor"},{title:"",visible:!0,key:"seat"},{title:"",visible:!0,key:"queryTime"},{title:"",visible:!1,key:"manageDeptNm"},{title:"",visible:!1,key:"studentYear"},{title:"",visible:!1,key:"lesnTime"},{title:"",visible:!1,key:"lesnRoom"},{title:"",visible:!1,key:"tmNum"},{title:"",visible:!1,key:"remark"},{title:"",visible:!1,key:"curiTypeCdNm"},{title:"",visible:!1,key:"curiLangNm"}],L5=m8("live",wD),_D=[{title:"",visible:!0,key:"subjectCode"},{title:"",visible:!0,key:"classCode"},{title:" ",visible:!0,key:"departmentName"},{title:"",visible:!0,key:"subjectName"},{title:"",visible:!0,key:"professorName"},{title:"",visible:!0,key:"totalCount"},{title:"",visible:!0,key:"seat"},{title:"",visible:!1,key:"studentYear"},{title:"",visible:!1,key:"lesnTime"},{title:"",visible:!1,key:"lesnRoom"},{title:"",visible:!1,key:"tmNum"},{title:"",visible:!1,key:"remark"},{title:"",visible:!1,key:"curiTypeCdNm"},{title:"",visible:!1,key:"curiLangNm"}],Sy=m8("wishes",_D),SD=({title:e=""})=>{const[t,n]=T.useState(!1),r=L5(s=>s.setTableTitles),i=L5(s=>s.tableTitles);return h.jsxs(Cr,{children:[t&&h.jsx(ED,{initialItems:i,onChange:r,onClose:()=>n(!1)}),h.jsxs(Qe,{justify:"justify-between",align:"items-center",className:"mb-2",children:[h.jsxs(dr,{level:2,children:[e," "]}),h.jsx(lr,{label:" ",variant:"plain","aria-label":" ",icon:h.jsx(Zv,{className:"w-4 h-4"}),onClick:()=>n(!0)})]}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full bg-white rounded-lg text-sm",children:[h.jsx("thead",{children:h.jsx("tr",{className:"bg-gray-50 sticky top-0 z-10 text-nowrap",children:i.filter(s=>s.visible).map(({title:s})=>h.jsx("th",{className:"px-4 py-2",children:s},s))})}),h.jsx("tbody",{children:h.jsx(CD,{tableTitles:i})})]})}),h.jsx(tx,{})]})};function CD({tableTitles:e}){const{data:t,isError:n,isPending:r,refetch:i}=vD(bm.NON_MAJOR),s=e.filter(u=>u.visible),o=new Date>z_("2025-12-09T17:00:00"),a=Uu(u=>u.sseState);return n?h.jsx("tr",{children:h.jsx("td",{colSpan:s.length,children:h.jsx(h8,{onReload:i})})}):r||!t?h.jsx(Dm,{row:5,col:s.length}):a===Ev.IDLE&&o?h.jsx("tr",{children:h.jsx("td",{colSpan:s.length,className:"text-center",children:h.jsx(yD,{})})}):t.length?h.jsx(gm,{component:null,children:t.map(u=>h.jsx(ih,{timeout:500,classNames:"row-change",children:h.jsx(kD,{subject:u,HeadTitles:s},u.code)},u.code))}):h.jsx("tr",{children:h.jsx("td",{colSpan:s.length,className:"text-center",children:h.jsx(mD,{})})})}function kD({subject:e,HeadTitles:t}){const n=T.useRef(e.seat),[r,i]=T.useState(!1),s=e.isDeleted,o=e.curiLangNm==="",a=r?"bg-blue-50":s?"bg-gray-100":o?"bg-green-50":"";return T.useEffect(()=>{if(n.current!==e.seat){i(!0);const u=setTimeout(()=>i(!1),1e3);return n.current=e.seat,()=>clearTimeout(u)}},[e.seat]),h.jsx("tr",{className:`border-t border-gray-200 text-black transition-colors duration-500 text-nowrap ${a}`,children:t.map(({key:u})=>{switch(u){case"seat":return h.jsx("td",{className:"px-4 py-2 text-center",children:h.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold "+Nl(e.seat??-1),children:e[u]})},u);case"queryTime":return h.jsx(jD,{queryTime:e.queryTime},u);default:return h.jsx("td",{className:"px-4 py-2 text-center",children:e[u]},u)}})})}function jD({queryTime:e}){return f8(),h.jsx("td",{className:"w-18 px-4 py-2 text-center text-xs",children:h.jsx("span",{className:"text-gray-500",children:ex(e)})})}function ED({initialItems:e,onChange:t,onClose:n}){return rx({enabled:!0,onClose:n}),h.jsxs(Pl,{onClose:n,children:[h.jsx(hh,{title:" ",onClose:n}),h.jsx("div",{className:"p-4",children:h.jsx(p8,{initialItems:e,onChange:t})})]})}function TD(e){return e==="primary"?"bg-blue-500 text-white hover:bg-blue-600 focus:outline-blue-400":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-600"}function Cy({children:e,variants:t,className:n="",...r}){return h.jsx("button",{type:r.type,onClick:r.onClick,className:`px-4 py-2 cursor-pointer rounded-lg ${TD(t)} ${n}`,disabled:r.disabled,children:e})}function R5({children:e,checked:t,onChange:n,...r}){return h.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[h.jsx("input",{type:"checkbox",className:"sr-only peer",checked:t,onChange:n,...r}),h.jsx("div",{className:"w-12 h-6 rounded-full transition-colors duration-150 bg-gray-300 peer-checked:bg-blue-500 peer-disabled:bg-gray-200"}),h.jsx("div",{className:"absolute top-1 left-1 w-4 h-4 bg-white rounded-full shadow-md transform transition-transform duration-150 peer-checked:translate-x-6"}),e]})}const ND=[{title:" ",value:ii.NONE,disabled:()=>!1},{title:" ",value:ii.BROWSER,disabled:()=>!zi.canNotify()},{title:" ",value:ii.TOAST,disabled:()=>!ay.canNotify()},{title:" +  ",value:ii.BOTH,disabled:()=>!zi.canNotify()||!ay.canNotify()}];function PD({isOpen:e,close:t}){const n=ca(s=>s.isPermitted),r=()=>{Si.show("  ","test-alarm")},i=()=>{Si.requestPermission(),t()};return rx({enabled:e,onClose:i}),e?h.jsxs(Pl,{onClose:i,children:[h.jsx(hh,{title:"",onClose:i}),h.jsxs("div",{className:"p-4 w-md max-w-full",children:[h.jsx(OD,{}),h.jsx(LD,{}),h.jsx("div",{className:"mt-4 flex justify-end",children:h.jsx(Cy,{variants:"secondary",onClick:r,disabled:!n,children:""})})]})]}):null}function OD(){const e=Ms(s=>s.alarmType),t=Ms(s=>s.saveSettings),n=ca(s=>s.isPermitted),r=zi.canNotify(),i=s=>{t({alarmType:Number(s.target.value)})};return h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block mb-2 font-bold text-md",htmlFor:"alarm-type-select",children:" "}),h.jsx("select",{id:"alarm-type-select",className:"w-full mb-2 p-2 border border-gray-300 rounded",value:e,onChange:i,children:ND.map(s=>h.jsx("option",{className:"disabled:text-gray-500",value:s.value,disabled:s.disabled(),children:s.title},s.value))}),(e===ii.BROWSER||e===ii.BOTH)&&!n&&h.jsx("p",{className:"pl-2 pb-2 text-sm text-red-600",children:"  ."}),e===ii.TOAST&&h.jsx("p",{className:"pl-2 pb-2 text-sm text-red-600",children:"      ."}),!r&&h.jsx("p",{className:"pl-2 pb-2 text-xs text-gray-600",children:"     ."})]})}function LD(){const t=Ms(f=>f.alarmType)===ii.NONE,n=Bd(ta.SOUND),r=Bd(ta.VIBRATE),i=kv.canNotify(),s=Ms(f=>f.subAlarmType),o=Ms(f=>f.saveSettings),a=t,u=t||!i,c=f=>{const p=f.target.id==="select-sound"?ta.SOUND:ta.VIBRATE,g=f.target.checked?s|p:s&~p;o({subAlarmType:g})};return h.jsxs("div",{children:[h.jsx("h3",{className:"block mb-2 font-bold text-md",children:"  "}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("label",{className:"my-1 flex items-center justify-between",htmlFor:"select-sound",children:[h.jsx("span",{className:a?"text-gray-300":"",children:""}),h.jsx(R5,{id:"select-sound",name:"sound",checked:n,onChange:c,disabled:a})]}),h.jsxs("label",{className:"my-1 flex items-center justify-between",htmlFor:"select-vibrate",children:[h.jsx("span",{className:u?"text-gray-300":"",children:""}),h.jsx(R5,{id:"select-vibrate",name:"vibrate",checked:r,onChange:c,disabled:u})]}),!i&&h.jsx("p",{className:"pl-2 pb-2 text-sm text-red-600",children:"     ."})]})]})}const A5=5;function Bm(){return xs({queryKey:["pinnedSubjects"],queryFn:RD,select:e=>e.subjects})}const g8=()=>{const e=ji();return ga({mutationFn:AD,onMutate:async t=>{await e.cancelQueries({queryKey:["pinnedSubjects"]});const n=e.getQueryData(["pinnedSubjects"])?.subjects??[];if(n&&n.length>=A5)throw new Error(JSON.stringify({message:`   ${A5} .`}));if(n){const r={...n[0],subjectId:t};e.setQueryData(["pinnedSubjects"],{subjects:[...n,r]}),n.push(r)}return{previousUsers:n}},onSuccess:()=>{e.invalidateQueries({queryKey:["pinnedSubjects"]}).then()},onError:t=>{try{const n=JSON.parse(t.message);alert(n.message)}catch{alert("Error adding pinned subject")}}})},ix=()=>{const e=ji();return ga({mutationFn:MD,onMutate:async t=>{await e.cancelQueries({queryKey:["pinnedSubjects"]});const n=e.getQueryData(["pinnedSubjects"]);if(n){const r=n.subjects.filter(i=>i.subjectId!==t);e.setQueryData(["pinnedSubjects"],{subjects:r})}return{previousData:n}},onSettled:()=>{console.log("pin removed onSettled"),e.invalidateQueries({queryKey:["pinnedSubjects"]}).then()},onError:t=>{console.error("Error removing pinned subject:",t)}})},RD=async()=>await xo("/api/pins"),AD=async e=>{const t=await vm(`/api/pin?subjectId=${e}`,{method:"POST"});if(!t.ok)throw new Error(await t.text())},MD=async e=>{const t=await vm(`/api/pin/${e}`,{method:"DELETE"});if(!t.ok)throw new Error(await t.text())};function ID({subject:e,seats:t,queryTime:n,disableSeat:r=!1}){const{mutate:i}=ix(),s=()=>{i(e.subjectId)};return h.jsxs("div",{className:"bg-gray-50 shadow-sm rounded-lg p-4 border border-gray-200 hover:shadow-md",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("h3",{className:"font-bold",children:e.subjectName}),h.jsx("button",{className:"p-2 rounded-full hover:bg-blue-100","aria-label":"  ",onClick:s,children:h.jsx(nx,{className:"text-gray-400 w-3 h-3"})})]}),h.jsxs("div",{className:"mb-2 text-xs text-gray-500",children:[h.jsx("p",{children:e.departmentName}),h.jsxs("p",{children:[e.subjectCode,"-",e.classCode," | ",e.professorName]})]}),!r&&h.jsxs("div",{className:"flex justify-between items-baseline",children:[h.jsxs("p",{className:`px-2 py-1 rounded-full text-xs font-bold ${Nl(t)}`,children:[": ",t<0?"???":t]}),h.jsx(DD,{queryTime:n})]})]})}function DD({queryTime:e}){return f8(),h.jsx("p",{className:"text-xs text-gray-500",children:ex(e)})}const em=Nr(e=>({isSearchOpen:!1,setIsSearchOpen:t=>e(()=>({isSearchOpen:t}))}));function y8(){const e=em(t=>t.setIsSearchOpen);return h.jsx(Qe,{justify:"justify-center",align:"items-center",children:h.jsx(mn,{variant:"ghost",size:"medium",onClick:()=>e(!0),children:"+   "})})}function FD(){return h.jsx(Fm,{title:"   ",description:"    .     .",icon:h.jsx(uc,{className:"w-7 h-7",disabled:!0}),children:h.jsx(y8,{})})}const BD=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 3C7.88696 2.99977 8.74883 3.29435 9.4501 3.83741C10.1514 4.38047 10.6523 5.14121 10.874 6H19V8H10.874C10.6283 8.94049 10.0486 9.75939 9.24333 10.3038C8.43802 10.8482 7.46209 11.0809 6.49778 10.9584C5.53346 10.836 4.64669 10.3667 4.00303 9.63828C3.35937 8.90985 3.00284 7.97206 3 7C3 5.93913 3.42143 4.92172 4.17157 4.17157C4.92172 3.42143 5.93913 3 7 3ZM7 9C7.53043 9 8.03914 8.78929 8.41421 8.41421C8.78929 8.03914 9 7.53043 9 7C9 6.46957 8.78929 5.96086 8.41421 5.58579C8.03914 5.21071 7.53043 5 7 5C6.46957 5 5.96086 5.21071 5.58579 5.58579C5.21071 5.96086 5 6.46957 5 7C5 7.53043 5.21071 8.03914 5.58579 8.41421C5.96086 8.78929 6.46957 9 7 9ZM17 20C16.113 20.0002 15.2512 19.7056 14.5499 19.1626C13.8486 18.6195 13.3477 17.8588 13.126 17H5V15H13.126C13.3717 14.0595 13.9514 13.2406 14.7567 12.6962C15.562 12.1518 16.5379 11.9191 17.5022 12.0416C18.4665 12.164 19.3533 12.6333 19.997 13.3617C20.6406 14.0901 20.9972 15.0279 21 16C21 17.0609 20.5786 18.0783 19.8284 18.8284C19.0783 19.5786 18.0609 20 17 20ZM17 18C17.5304 18 18.0391 17.7893 18.4142 17.4142C18.7893 17.0391 19 16.5304 19 16C19 15.4696 18.7893 14.9609 18.4142 14.5858C18.0391 14.2107 17.5304 14 17 14C16.4696 14 15.9609 14.2107 15.5858 14.5858C15.2107 14.9609 15 15.4696 15 16C15 16.5304 15.2107 17.0391 15.5858 17.4142C15.9609 17.7893 16.4696 18 17 18Z",fill:"currentColor"})),zD=()=>{if(typeof navigator>"u")return"chrome";const e=navigator.userAgent.toLowerCase();return e.includes("firefox")?"firefox":e.includes("edg")?"edge":e.includes("safari")&&!e.includes("chrome")?"safari":"chrome"},$D=()=>{if(typeof navigator>"u")return"macos";const e=navigator.platform.toLowerCase(),t=navigator.userAgent.toLowerCase();return e.startsWith("mac")||t.includes("mac os x")?"macos":e.startsWith("win")?"windows":/android|iphone|ipad|ipod/.test(t)?"mobile":"macos"};function UD(){const e=ca(s=>s.isOpen),t=ca(s=>s.close),[n,r]=T.useState(0),i=1;return T.useEffect(()=>{e||r(0)},[e]),e?h.jsxs(Pl,{onClose:t,children:[h.jsx(hh,{title:"  ",onClose:t}),h.jsxs("div",{className:"p-4 text-sm text-gray-700 w-lg max-w-full",children:[n===0&&h.jsx(HD,{}),n===1&&h.jsx(QD,{}),h.jsxs("div",{className:"flex justify-between items-center mt-6",children:[h.jsxs("span",{className:"text-xs text-gray-500",children:[n+1," / ",i+1]}),h.jsxs("div",{className:"flex justify-end gap-2",children:[n>0&&h.jsx("button",{className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",onClick:()=>r(n-1),children:""}),n<i&&h.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>r(n+1),children:""}),n===i&&h.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:t,children:""})]})]})]})]}):null}function HD(){const[e,t]=T.useState(zD());return h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-base text-gray-800",children:"1:    "}),h.jsx("p",{className:"mt-1",children:" 'ALLCLL'    ."})]}),h.jsxs("div",{className:"flex border-b border-gray-500",children:[h.jsx(hl,{name:"Chrome",id:"chrome",selected:e,onClick:t}),h.jsx(hl,{name:"Firefox",id:"firefox",selected:e,onClick:t}),h.jsx(hl,{name:"Safari",id:"safari",selected:e,onClick:t}),h.jsx(hl,{name:"Edge",id:"edge",selected:e,onClick:t})]}),h.jsxs("div",{className:"p-2 bg-gray-50 rounded-md h-64 overflow-y-auto",children:[e==="chrome"&&h.jsx(VD,{}),e==="firefox"&&h.jsx(qD,{}),e==="safari"&&h.jsx(KD,{}),e==="edge"&&h.jsx(WD,{})]})]})}function QD(){const[e,t]=T.useState($D());return h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-base text-gray-800",children:"2: OS    "}),h.jsx("p",{className:"mt-1",children:"  OS   ."})]}),h.jsxs("div",{className:"flex border-b border-gray-500",children:[h.jsx(hl,{name:"macOS",id:"macos",selected:e,onClick:t}),h.jsx(hl,{name:"Windows",id:"windows",selected:e,onClick:t}),h.jsx(hl,{name:"",id:"mobile",selected:e,onClick:t})]}),h.jsxs("div",{className:"p-2 bg-gray-50 rounded-md h-64 overflow-y-auto",children:[e==="macos"&&h.jsx(GD,{}),e==="windows"&&h.jsx(YD,{}),e==="mobile"&&h.jsx(XD,{})]})]})}const hl=({name:e,id:t,selected:n,onClick:r})=>h.jsx("button",{className:`px-4 py-2 text-sm ${n===t?"border-b-2 border-blue-500 text-blue-600 font-semibold":"text-gray-500 font-medium"}`,onClick:()=>r(t),children:e}),_l=({title:e,children:t})=>h.jsxs("div",{className:"space-y-1",children:[h.jsx("h4",{className:"font-semibold text-gray-800",children:e}),h.jsx("div",{className:"pl-2 space-y-1 text-gray-600",children:t})]}),VD=()=>h.jsxs("div",{className:"space-y-3",children:[h.jsx(_l,{title:" 1:   ()",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsxs("li",{children:["    (",h.jsx(BD,{className:"inline-block w-4 h-4"}),")  ."]}),h.jsx("li",{children:"  ''    '' ."})]})}),h.jsx(_l,{title:" 2:   ",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"   3()  > '' ."}),h.jsx("li",{children:"'  ' > ' ' > '' ."}),h.jsx("li",{children:"'  '  ''   'allcll.com' ."})]})})]}),WD=()=>h.jsxs("div",{className:"space-y-3",children:[h.jsx(_l,{title:" 1:   ()",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"  ()  ."}),h.jsx("li",{children:"'   '  '' '' ."})]})}),h.jsx(_l,{title:" 2:   ",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"   3()  > '' ."}),h.jsx("li",{children:"'   ' > '' ."}),h.jsx("li",{children:"''  ''   'allcll.com' ."})]})})]}),qD=()=>h.jsxs("div",{className:"space-y-3",children:[h.jsx(_l,{title:" 1:   ()",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"  ()  ."}),h.jsx("li",{children:"' '  '' ."})]})}),h.jsx(_l,{title:" 2:   ",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"   3()  > '' ."}),h.jsx("li",{children:"'  '  ''  ."}),h.jsx("li",{children:"''  '...'  ."}),h.jsx("li",{children:"'allcll.com'   ''  '  ' ."})]})})]}),KD=()=>h.jsx("div",{className:"space-y-3",children:h.jsx(_l,{title:"Safari  ",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"    'Safari' > '...' ( '...') ."}),h.jsx("li",{children:"''  ."}),h.jsx("li",{children:"  '' ."}),h.jsx("li",{children:" 'allcll.com'   '' ."})]})})}),GD=()=>h.jsx("div",{className:"space-y-2",children:h.jsxs("ol",{className:"list-decimal list-inside pl-2 mt-2 space-y-1",children:[h.jsx("li",{children:"    ()   ' ' ."}),h.jsx("li",{children:"  '' ."}),h.jsx("li",{children:"    (Chrome, Safari )  ."}),h.jsx("li",{children:"' '  ."})]})}),YD=()=>h.jsx("div",{className:"space-y-2",children:h.jsxs("ol",{className:"list-decimal list-inside pl-2 mt-2 space-y-1",children:[h.jsx("li",{children:"''  '' ."}),h.jsx("li",{children:"''   ''  ."}),h.jsx("li",{children:"'     '   ."}),h.jsx("li",{children:"        ."})]})}),XD=()=>h.jsxs("div",{className:"pl-2 mt-2 space-y-2",children:[h.jsx("p",{children:"  PC        .  iOS Safari     ."}),h.jsx("p",{className:"font-medium",children:"       ' '   ."})]}),JD=1e3,ZD=60*JD,eF={subjectId:-1,seat:-1};function tF(){return xs({queryKey:["preRealSeats"],queryFn:nF,staleTime:10*ZD,select:e=>e?.preSeats??null})}async function nF(){return await jv("/pre-seats.json?date=20250904")}function v8(e,t,n,r){if(!e||!t)return e||t;const i=e.sort((c,f)=>c.subjectId-f.subjectId),s=t.sort((c,f)=>c.subjectId-f.subjectId),o=[];let a=0,u=0;for(;a<i.length&&u<s.length;)i[a].subjectId===s[u].subjectId?o.push({...i[a++],...s[u++]}):i[a].subjectId<s[u].subjectId?o.push({...r,...i[a++]}):o.push({...n,...s[u++]});for(;a<i.length;)o.push({...r,...i[a++]});for(;u<s.length;)o.push({...n,...s[u++]});return o}function zm(e,t){const{data:n}=tF();return T.useMemo(()=>!e||!n?.length?e:v8(e,n,t??xm,eF),[e,n,t])}const cc={...xm,departmentCode:"",departmentName:"",totalCount:-1},rF=async()=>await jv("/baskets.json");function _o(){const{data:e,isPending:t,isLoading:n}=qi(),r=xs({queryKey:["wishlist"],queryFn:rF,staleTime:1/0,select:i=>iF(i,e)});return{...r,isPending:r.isPending||t,isLoading:r.isLoading||n}}const iF=(e,t)=>t?!e||e.baskets?.length?t:v8(t,e.baskets,xm,cc).map(r=>({...r,departmentCode:r.deptCd,departmentName:r.manageDeptNm})):[];function sF(e){const{data:t}=_o();return t?.filter(n=>e.includes(n.subjectId))??[]}const oF=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17,height:17,viewBox:"0 0 17 14.5",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,28.015625)"},T.createElement("path",{d:"M1.0474,27.8750125Q0.538991,28.2031125,0.137615,27.7656125Q-0.183486,27.246112500000002,0.244648,26.8359125L16.0856,14.1484375Q16.594,13.8203125,16.9954,14.2578125Q17.3165,14.7773435,16.8884,15.1875025L14.4801,17.1289025Q14.4801,17.1562525,14.4801,17.1562525Q14.6942,17.6757825,14.3463,18.0859325L14.159,18.3320325Q12.8746,19.8085925,12.8479,21.8046925L12.8479,22.324222499999998Q12.8211,23.9375025,11.8578,25.1133125Q10.9213,26.2890125,9.42278,26.6172125L9.42278,27.1367125Q9.42278,27.519512499999998,9.18196,27.7656125Q8.94113,28.0117125,8.56651,28.0117125Q8.1919,28.0117125,7.95107,27.7656125Q7.71025,27.519512499999998,7.71025,27.1367125L7.71025,26.6172125Q5.94419,26.207012499999998,4.98089,24.7031125L1.0474,27.8750125ZM10.8677,16.6367225L4.28517,21.9414025L10.8677,16.6367225L4.28517,21.9414025L4.28517,21.8046925Q4.25841,19.8085925,3.00077,18.3046925L2.7867,18.0859325Q2.43884,17.6757825,2.65291,17.1562525Q2.89373,16.6640625,3.4289,16.6367225L10.8677,16.6367225ZM9.77064,14.5312505Q10.2791,15.0507825,10.2791,15.7617225L8.56651,15.7617225L6.85398,15.7617225Q6.85398,15.0507825,7.36239,14.5312505Q7.8708,14.01171884,8.56651,14.01171884Q9.26223,14.01171884,9.77064,14.5312505Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),aF=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:13.836064338684082,height:14,viewBox:"-1 -1 15.5 16.5",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,28)"},T.createElement("path",{d:"M13.8033,23.433590000000002Q13.918,23.05078,13.6311,22.777340000000002L12.3689,21.68359Q12.4262,21.35547,12.4262,21Q12.4262,20.64453,12.3689,20.31641L13.6311,19.22266Q13.918,18.94922,13.8033,18.56641Q13.6025,18.07422,13.3443,17.60938L13.2008,17.39062Q12.9139,16.95312,12.5697,16.54297Q12.2828,16.24219,11.8811,16.35156L10.2746,16.84375Q9.70082,16.40625,9.01229,16.16016L8.66803,14.574219Q8.55328,14.191406,8.12295,14.109375Q7.54918,14,6.91803,14Q6.28688,14,5.68443,14.109375Q5.28279,14.191406,5.16803,14.574219L4.82377,16.16016Q4.13525,16.40625,3.56148,16.84375L1.95492,16.35156Q1.55328,16.24219,1.26639,16.54297Q0.893443,16.95312,0.635246,17.39062L0.491803,17.60938Q0.233607,18.07422,0.0327869,18.53906Q-0.0819672,18.94922,0.204918,19.22266L1.46721,20.28906Q1.40984,20.64453,1.40984,21Q1.40984,21.35547,1.46721,21.68359L0.204918,22.777340000000002Q-0.0819672,23.05078,0.0327869,23.433590000000002Q0.233607,23.92578,0.491803,24.3906L0.635246,24.6094Q0.893443,25.0469,1.26639,25.457Q1.55328,25.7578,1.95492,25.648400000000002L3.56148,25.1562Q4.13525,25.5937,4.82377,25.8672L5.16803,27.425800000000002Q5.28279,27.8086,5.71311,27.8906Q6.28688,28,6.91803,28Q7.54918,28,8.15164,27.8906Q8.55328,27.8086,8.66803,27.425800000000002L9.01229,25.8672Q9.70082,25.5937,10.2746,25.1562L11.8811,25.648400000000002Q12.2828,25.7578,12.5697,25.457Q12.9426,25.0469,13.2295,24.6094L13.3443,24.3906Q13.6025,23.92578,13.8033,23.433590000000002ZM6.91803,18.8125Q8.20902,18.83984,8.89754,19.90625Q9.52869,21,8.89754,22.09375Q8.20902,23.160159999999998,6.91803,23.1875Q5.62705,23.160159999999998,4.93852,22.09375Q4.30738,21,4.93852,19.90625Q5.62705,18.83984,6.91803,18.8125Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),lF=()=>{const[e,t]=T.useState(!1),{isAlarm:n,changeAlarm:r}=FN(),{isError:i,refetch:s}=Tv(bm.PINNED);return h.jsxs(Cr,{children:[h.jsx(PD,{isOpen:e,close:()=>t(!1)}),h.jsx(UD,{}),h.jsxs(Qe,{direction:"flex-row",justify:"justify-between",align:"align-top",className:"mb-4",children:[h.jsxs(Qe,{align:"items-center",justify:"justify-center",gap:"gap-2",children:[h.jsx(dr,{level:3,children:"  "}),h.jsx(nN,{children:h.jsxs("p",{className:"text-sm",children:["    ",h.jsx("br",{}),h.jsx("span",{className:"text-red-500",children:"*     "})]})})]}),h.jsxs(Qe,{align:"items-center",gap:"gap-1",children:[i&&h.jsx(lr,{icon:h.jsx(c8,{className:"w-5 h-5"}),"aria-label":" ",label:" ",onClick:s}),h.jsx(lr,{icon:h.jsx(aF,{className:"w-5 h-5"}),"aria-label":" ",label:" ",onClick:()=>t(!0)}),h.jsx(lr,{icon:h.jsx(uF,{isAlarm:n}),"aria-label":n?" ":" ",label:n?" ":" ",onClick:r})]})]}),h.jsx(cF,{})]})};function uF({isAlarm:e}){const t=Uu(s=>s.sseState),n=ca(s=>s.isPermitted),r=t===Ev.LIVE,i=r?Si.getDeniedMessage():[...Si.getDeniedMessage(),"  "];return e?n&&r?h.jsx(Qp,{className:"w-5 h-5 text-blue-500"}):h.jsxs(h.Fragment,{children:[h.jsx(Qp,{className:"w-5 h-5 text-red-500 animate-pulse"}),i.length>0&&h.jsx("span",{className:"absolute left-full -bottom-2 transform -translate-x-full translate-y-full opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-gray-900 text-white text-sm p-2 rounded w-64 h-fit text-center pointer-events-none",children:i.map((s,o)=>h.jsx("p",{className:"pt-1 first:pt-0",children:s},"tooltip-line-"+o))})]}):h.jsx(oF,{className:"w-5 h-5"})}function cF(){const{data:e,isPending:t,isError:n,refetch:r}=Bm(),{data:i}=Tv(bm.PINNED),s=sF(e?.map(u=>u.subjectId)??[]),o=u=>i?.find(f=>f.subjectId===u)?.seatCount??-1,a=u=>i?.find(f=>f.subjectId===u)?.queryTime??"";return t?h.jsx("div",{className:"animate-pulse grid grid-cols-1 md:grid-cols-3 gap-4",children:[0,0,0].map((u,c)=>h.jsx("div",{className:"bg-gray-300 shadow-sm rounded-lg p-4 h-24"},"skeleton-card-"+c))}):n?h.jsx(h8,{onReload:r}):!s||s.length===0?h.jsx(FD,{}):h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.map(u=>h.jsx(ID,{subject:u,seats:o(u.subjectId),queryTime:a(u.subjectId)},`${u.subjectId}_${u.subjectCode}_${u.professorName}`)),s.length<5?h.jsx(y8,{}):h.jsx(dF,{})]})}function dF(){return h.jsx("div",{className:"p-2 rounded-full flex items-center justify-center",children:h.jsx("p",{className:"bg-gray-50 rounded-full px-4 py-2 text-sm border border-gray-200",children:"   5   ."})})}const fh=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16,height:16,viewBox:"0 0 16 16",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,32)"},T.createElement("path",{d:"M13,25.5Q12.9688,23.3125,11.75,21.65625L15.7188,17.71875Q16,17.40625,16,17Q16,16.59375,15.7188,16.28125Q15.4062,16,15,16Q14.5938,16,14.2812,16.28125L10.3438,20.25Q8.6875,19.03125,6.5,19Q3.75,19.0625,1.90625,20.90625Q0.0625,22.75,0,25.5Q0.0625,28.25,1.90625,30.0938Q3.75,31.9375,6.5,32Q9.25,31.9375,11.0938,30.0938Q12.9375,28.25,13,25.5ZM6.5,21Q7.71875,21,8.75,21.59375Q9.78125,22.1875,10.4062,23.25Q11,24.3125,11,25.5Q11,26.6875,10.4062,27.75Q9.78125,28.8125,8.75,29.4062Q7.71875,30,6.5,30Q5.28125,30,4.25,29.4062Q3.21875,28.8125,2.59375,27.75Q2,26.6875,2,25.5Q2,24.3125,2.59375,23.25Q3.21875,22.1875,4.25,21.59375Q5.28125,21,6.5,21Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function Ol({onDelete:e,...t}){const n=T.useRef(null);return h.jsx(ny,{leftIcon:h.jsx(lr,{variant:"plain",icon:h.jsx(fh,{className:"w-5 h-5"}),className:"absolute left-3 top-3",onClick:r=>{r.preventDefault(),n.current?.focus()}}),rightIcon:h.jsx(lr,{variant:"plain",icon:h.jsx(P_,{className:"w-5 h-5"}),"aria-label":"  ",className:"absolute right-3 top-4",onClick:()=>{e(),n.current?.focus()}}),...t})}function $m({id:e,className:t,value:n,defaultValue:r="",...i}){const{data:s}=Tl(),o=[{departmentName:r,departmentCode:""},...s??[]],a=e??"department-filter";return h.jsxs(h.Fragment,{children:[h.jsx(Qi,{htmlFor:a,hidden:!0,children:""}),h.jsx("select",{id:a,className:"w-full p-2 rounded-md bg-white border border-gray-400 "+t,value:n,...i,children:o.map(({departmentName:u,departmentCode:c})=>h.jsx("option",{value:c,children:u},c))})]})}let ri;function x8(){return ri||(ri=JSON.parse(localStorage.getItem("departmentRank")??"{}"),ri)}function hF(){ri&&localStorage.setItem("departmentRank",JSON.stringify(ri))}function Um(e){ri||(ri=x8()),ri[e]===void 0?ri[e]=0:ri[e]+=1,hF()}function b8(){return ri||(ri=x8()),Object.entries(ri).sort(([,e],[,t])=>t-e)}function ph(e){const t=T.useMemo(()=>{const r=b8();return new Map(r.map(([i,s],o)=>[i,o]))},[]),n=T.useMemo(()=>{if(e)return fF(e)},[e]);return T.useMemo(()=>{if(!n)return;const r=o=>{const a=t.get(o);return a===void 0?5:a};return n.map(o=>{const u=(5-r(o.departmentCode??o.deptCd))*250+o.rank*100-Number(o.classCode);return{...o,searchScore:u}}).sort((o,a)=>a.searchScore-o.searchScore).map(({searchScore:o,...a})=>a)},[t,n])}function fF(e){const t=new Map;for(const n of e){const r=`${n.subjectCode}-${n.departmentCode}`,i=t.get(r);i?(i.sum+=n.totalCount??0,i.count+=1):t.set(r,{sum:n.totalCount??0,count:1})}return e.map(n=>{const r=`${n.subjectCode}-${n.departmentCode}`,i=t.get(r),s=i.sum/i.count;return{...n,rank:s}})}const pF=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Zd(async()=>{const{default:r}=await Promise.resolve().then(()=>dc);return{default:r}},[]).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class sx extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class mF extends sx{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class M5 extends sx{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class I5 extends sx{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ky;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ky||(ky={}));var gF=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(p){o(p)}}function u(f){try{c(r.throw(f))}catch(p){o(p)}}function c(f){f.done?s(f.value):i(f.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};class yF{constructor(t,{headers:n={},customFetch:r,region:i=ky.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=pF(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return gF(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let a={},{region:u}=n;u||(u=this.region);const c=new URL(`${this.url}/${t}`);u&&u!=="any"&&(a["x-region"]=u,c.searchParams.set("forceFunctionRegion",u));let f;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",f=o):typeof o=="string"?(a["Content-Type"]="text/plain",f=o):typeof FormData<"u"&&o instanceof FormData?f=o:(a["Content-Type"]="application/json",f=JSON.stringify(o)));const p=yield this.fetch(c.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:f}).catch(S=>{throw new mF(S)}),g=p.headers.get("x-relay-error");if(g&&g==="true")throw new M5(p);if(!p.ok)throw new I5(p);let x=((r=p.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return x==="application/json"?w=yield p.json():x==="application/octet-stream"?w=yield p.blob():x==="text/event-stream"?w=p:x==="multipart/form-data"?w=yield p.formData():w=yield p.text(),{data:w,error:null,response:p}}catch(i){return{data:null,error:i,response:i instanceof I5||i instanceof M5?i.context:void 0}}})}}var sr={},_u={},Su={},Cu={},ku={},ju={},vF=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Zu=vF();const xF=Zu.fetch,w8=Zu.fetch.bind(Zu),_8=Zu.Headers,bF=Zu.Request,wF=Zu.Response,dc=Object.freeze(Object.defineProperty({__proto__:null,Headers:_8,Request:bF,Response:wF,default:w8,fetch:xF},Symbol.toStringTag,{value:"Module"})),_F=uC(dc);var ep={},D5;function S8(){if(D5)return ep;D5=1,Object.defineProperty(ep,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return ep.default=e,ep}var F5;function C8(){if(F5)return ju;F5=1;var e=ju&&ju.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ju,"__esModule",{value:!0});const t=e(_F),n=e(S8());class r{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=Object.assign({},this.headers),this.headers[s]=o,this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let u=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var f,p,g;let x=null,w=null,S=null,k=c.status,E=c.statusText;if(c.ok){if(this.method!=="HEAD"){const U=await c.text();U===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?w=U:w=JSON.parse(U))}const R=(f=this.headers.Prefer)===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),z=(p=c.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");R&&z&&z.length>1&&(S=parseInt(z[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(x={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,S=null,k=406,E="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const R=await c.text();try{x=JSON.parse(R),Array.isArray(x)&&c.status===404&&(w=[],x=null,k=200,E="OK")}catch{c.status===404&&R===""?(k=204,E="No Content"):x={message:R}}if(x&&this.isMaybeSingle&&(!((g=x?.details)===null||g===void 0)&&g.includes("0 rows"))&&(x=null,k=200,E="OK"),x&&this.shouldThrowOnError)throw new n.default(x)}return{error:x,data:w,count:S,status:k,statusText:E}});return this.shouldThrowOnError||(u=u.catch(c=>{var f,p,g;return{error:{message:`${(f=c?.name)!==null&&f!==void 0?f:"FetchError"}: ${c?.message}`,details:`${(p=c?.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(g=c?.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),u.then(s,o)}returns(){return this}overrideTypes(){return this}}return ju.default=r,ju}var B5;function k8(){if(B5)return ku;B5=1;var e=ku&&ku.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ku,"__esModule",{value:!0});const t=e(C8());class n extends t.default{select(i){let s=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:a,referencedTable:u=a}={}){const c=u?`${u}.order`:"order",f=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${f?`${f},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:a=o}={}){const u=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(c,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:a=!1,wal:u=!1,format:c="text"}={}){var f;const p=[i?"analyze":null,s?"verbose":null,o?"settings":null,a?"buffers":null,u?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.Accept)!==null&&f!==void 0?f:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${g}"; options=${p};`,c==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return ku.default=n,ku}var z5;function ox(){if(z5)return Cu;z5=1;var e=Cu&&Cu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Cu,"__esModule",{value:!0});const t=e(k8());class n extends t.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const o=Array.from(new Set(s)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:o,type:a}={}){let u="";a==="plain"?u="pl":a==="phrase"?u="ph":a==="websearch"&&(u="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${u}fts${c}.${s}`),this}match(i){return Object.entries(i).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(i,s,o){return this.url.searchParams.append(i,`not.${s}.${o}`),this}or(i,{foreignTable:s,referencedTable:o=s}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${i})`),this}filter(i,s,o){return this.url.searchParams.append(i,`${s}.${o}`),this}}return Cu.default=n,Cu}var $5;function j8(){if($5)return Su;$5=1;var e=Su&&Su.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Su,"__esModule",{value:!0});const t=e(ox());class n{constructor(i,{headers:s={},schema:o,fetch:a}){this.url=i,this.headers=s,this.schema=o,this.fetch=a}select(i,{head:s=!1,count:o}={}){const a=s?"HEAD":"GET";let u=!1;const c=(i??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",c),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:s,defaultToNull:o=!0}={}){const a="POST",u=[];if(this.headers.Prefer&&u.push(this.headers.Prefer),s&&u.push(`count=${s}`),o||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(i)){const c=i.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(c.length>0){const f=[...new Set(c)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:a,defaultToNull:u=!0}={}){const c="POST",f=[`resolution=${o?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&f.push(this.headers.Prefer),a&&f.push(`count=${a}`),u||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(i)){const p=i.reduce((g,x)=>g.concat(Object.keys(x)),[]);if(p.length>0){const g=[...new Set(p)].map(x=>`"${x}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:s}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),this.headers.Prefer=a.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const s="DELETE",o=[];return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Su.default=n,Su}var ad={},ld={},U5;function SF(){return U5||(U5=1,Object.defineProperty(ld,"__esModule",{value:!0}),ld.version=void 0,ld.version="0.0.0-automated"),ld}var H5;function CF(){if(H5)return ad;H5=1,Object.defineProperty(ad,"__esModule",{value:!0}),ad.DEFAULT_HEADERS=void 0;const e=SF();return ad.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},ad}var Q5;function kF(){if(Q5)return _u;Q5=1;var e=_u&&_u.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(_u,"__esModule",{value:!0});const t=e(j8()),n=e(ox()),r=CF();class i{constructor(o,{headers:a={},schema:u,fetch:c}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=u,this.fetch=c}from(o){const a=new URL(`${this.url}/${o}`);return new t.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:u=!1,get:c=!1,count:f}={}){let p;const g=new URL(`${this.url}/rpc/${o}`);let x;u||c?(p=u?"HEAD":"GET",Object.entries(a).filter(([S,k])=>k!==void 0).map(([S,k])=>[S,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([S,k])=>{g.searchParams.append(S,k)})):(p="POST",x=a);const w=Object.assign({},this.headers);return f&&(w.Prefer=`count=${f}`),new n.default({method:p,url:g,headers:w,schema:this.schemaName,body:x,fetch:this.fetch,allowEmpty:!1})}}return _u.default=i,_u}var V5;function jF(){if(V5)return sr;V5=1;var e=sr&&sr.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(sr,"__esModule",{value:!0}),sr.PostgrestError=sr.PostgrestBuilder=sr.PostgrestTransformBuilder=sr.PostgrestFilterBuilder=sr.PostgrestQueryBuilder=sr.PostgrestClient=void 0;const t=e(kF());sr.PostgrestClient=t.default;const n=e(j8());sr.PostgrestQueryBuilder=n.default;const r=e(ox());sr.PostgrestFilterBuilder=r.default;const i=e(k8());sr.PostgrestTransformBuilder=i.default;const s=e(C8());sr.PostgrestBuilder=s.default;const o=e(S8());return sr.PostgrestError=o.default,sr.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:o.default},sr}var EF=jF();const TF=ki(EF),{PostgrestClient:NF,PostgrestQueryBuilder:yX,PostgrestFilterBuilder:vX,PostgrestTransformBuilder:xX,PostgrestBuilder:bX,PostgrestError:wX}=TF;function PF(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const OF=PF(),LF="2.11.15",RF=`realtime-js/${LF}`,AF="1.0.0",E8=1e4,MF=1e3;var Nd;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Nd||(Nd={}));var wr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(wr||(wr={}));var hs;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(hs||(hs={}));var jy;(function(e){e.websocket="websocket"})(jy||(jy={}));var al;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(al||(al={}));class IF{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+i));o=o+i;const u=r.decode(t.slice(o,o+s));o=o+s;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:u,payload:c}}}class T8{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var an;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(an||(an={}));const W5=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,o)=>(s[o]=DF(o,e,t,i),s),{})},DF=(e,t,n,r)=>{const i=t.find(a=>a.name===e),s=i?.type,o=n[e];return s&&!r.includes(s)?N8(s,o):Ey(o)},N8=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return $F(t,n)}switch(e){case an.bool:return FF(t);case an.float4:case an.float8:case an.int2:case an.int4:case an.int8:case an.numeric:case an.oid:return BF(t);case an.json:case an.jsonb:return zF(t);case an.timestamp:return UF(t);case an.abstime:case an.date:case an.daterange:case an.int4range:case an.int8range:case an.money:case an.reltime:case an.text:case an.time:case an.timestamptz:case an.timetz:case an.tsrange:case an.tstzrange:return Ey(t);default:return Ey(t)}},Ey=e=>e,FF=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},BF=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},zF=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},$F=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const o=e.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>N8(t,a))}return e},UF=e=>typeof e=="string"?e.replace(" ","T"):e,P8=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class a1{constructor(t,n,r={},i=E8){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var q5;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(q5||(q5={}));class Pd{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Pd.syncState(this.state,i,s,o),this.pendingDiffs.forEach(u=>{this.state=Pd.syncDiff(this.state,u,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Pd.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),o=this.transformState(n),a={},u={};return this.map(s,(c,f)=>{o[c]||(u[c]=f)}),this.map(o,(c,f)=>{const p=s[c];if(p){const g=f.map(k=>k.presence_ref),x=p.map(k=>k.presence_ref),w=f.filter(k=>x.indexOf(k.presence_ref)<0),S=p.filter(k=>g.indexOf(k.presence_ref)<0);w.length>0&&(a[c]=w),S.length>0&&(u[c]=S)}else a[c]=f}),this.syncDiff(s,{joins:a,leaves:u},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,u)=>{var c;const f=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(u),f.length>0){const p=t[a].map(x=>x.presence_ref),g=f.filter(x=>p.indexOf(x.presence_ref)<0);t[a].unshift(...g)}r(a,f,u)}),this.map(o,(a,u)=>{let c=t[a];if(!c)return;const f=u.map(p=>p.presence_ref);c=c.filter(p=>f.indexOf(p.presence_ref)<0),t[a]=c,i(a,c,u),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var K5;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(K5||(K5={}));var G5;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(G5||(G5={}));var lo;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(lo||(lo={}));class ax{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=wr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new a1(this,hs.join,this.params,this.timeout),this.rejoinTimer=new T8(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=wr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=wr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=wr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=wr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(hs.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Pd(this),this.broadcastEndpointURL=P8(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==wr.closed){const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(f=>t?.(lo.CHANNEL_ERROR,f)),this._onClose(()=>t?.(lo.CLOSED));const u={},c={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},u)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket.setAuth(),f===void 0){t?.(lo.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,x=(p=g?.length)!==null&&p!==void 0?p:0,w=[];for(let S=0;S<x;S++){const k=g[S],{filter:{event:E,schema:L,table:R,filter:z}}=k,U=f&&f[S];if(U&&U.event===E&&U.schema===L&&U.table===R&&U.filter===z)w.push(Object.assign(Object.assign({},k),{id:U.id}));else{this.unsubscribe(),this.state=wr.errored,t?.(lo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(lo.SUBSCRIBED);return}}).receive("error",f=>{this.state=wr.errored,t?.(lo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(lo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,u;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=wr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(hs.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new a1(this,hs.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new a1(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const o=t.toLocaleLowerCase(),{close:a,error:u,leave:c,join:f}=hs;if(r&&[a,u,c,f].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var w,S,k;return((w=x.filter)===null||w===void 0?void 0:w.event)==="*"||((k=(S=x.filter)===null||S===void 0?void 0:S.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(x=>x.callback(g,r)):(s=this.bindings[o])===null||s===void 0||s.filter(x=>{var w,S,k,E,L,R;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in x){const z=x.id,U=(w=x.filter)===null||w===void 0?void 0:w.event;return z&&((S=n.ids)===null||S===void 0?void 0:S.includes(z))&&(U==="*"||U?.toLocaleLowerCase()===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const z=(L=(E=x?.filter)===null||E===void 0?void 0:E.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return z==="*"||z===((R=n?.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===o}).map(x=>{if(typeof g=="object"&&"ids"in g){const w=g.data,{schema:S,table:k,commit_timestamp:E,type:L,errors:R}=w;g=Object.assign(Object.assign({},{schema:S,table:k,commit_timestamp:E,eventType:L,new:{},old:{},errors:R}),this._getPayloadRecords(w))}x.callback(g,r)})}_isClosed(){return this.state===wr.closed}_isJoined(){return this.state===wr.joined}_isJoining(){return this.state===wr.joining}_isLeaving(){return this.state===wr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&ax.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(hs.close,{},t)}_onError(t){this._on(hs.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=wr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=W5(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=W5(t.columns,t.old_record)),n}}const Y5=()=>{},HF=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class QF{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=E8,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Y5,this.ref=0,this.logger=Y5,this.conn=null,this.sendBuffer=[],this.serializer=new IF,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>Zd(async()=>{const{default:u}=await Promise.resolve().then(()=>dc);return{default:u}},void 0).then(({default:u})=>u(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${jy.websocket}`,this.httpEndpoint=P8(t),n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n?.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new T8(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch),n?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=n?.worker||!1,this.workerUrl=n?.workerUrl}this.accessToken=n?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=OF),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:AF}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Nd.connecting:return al.Connecting;case Nd.open:return al.Open;case Nd.closing:return al.Closing;default:return al.Closed}}isConnected(){return this.connectionState()===al.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new ax(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,o=()=>{this.encode(t,a=>{var u;(u=this.conn)===null||u===void 0||u.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:RF};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(hs.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(MF,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(hs.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([HF],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class lx extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function or(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class VF extends lx{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ty extends lx{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var WF=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(p){o(p)}}function u(f){try{c(r.throw(f))}catch(p){o(p)}}function c(f){f.done?s(f.value):i(f.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};const O8=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Zd(async()=>{const{default:r}=await Promise.resolve().then(()=>dc);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},qF=()=>WF(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Zd(()=>Promise.resolve().then(()=>dc),void 0)).Response:Response}),Ny=e=>{if(Array.isArray(e))return e.map(n=>Ny(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Ny(r)}),t},KF=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ll=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(p){o(p)}}function u(f){try{c(r.throw(f))}catch(p){o(p)}}function c(f){f.done?s(f.value):i(f.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};const l1=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),GF=(e,t,n)=>Ll(void 0,void 0,void 0,function*(){const r=yield qF();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{const s=e.status||500,o=i?.statusCode||s+"";t(new VF(l1(i),s,o))}).catch(i=>{t(new Ty(l1(i),i))}):t(new Ty(l1(e),e))}),YF=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(KF(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n))};function mh(e,t,n,r,i,s){return Ll(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,YF(t,r,i,s)).then(u=>{if(!u.ok)throw u;return r?.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>GF(u,a,r))})})}function tm(e,t,n,r){return Ll(this,void 0,void 0,function*(){return mh(e,"GET",t,n,r)})}function uo(e,t,n,r,i){return Ll(this,void 0,void 0,function*(){return mh(e,"POST",t,r,i,n)})}function Py(e,t,n,r,i){return Ll(this,void 0,void 0,function*(){return mh(e,"PUT",t,r,i,n)})}function XF(e,t,n,r){return Ll(this,void 0,void 0,function*(){return mh(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function L8(e,t,n,r,i){return Ll(this,void 0,void 0,function*(){return mh(e,"DELETE",t,r,i,n)})}var Jr=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(p){o(p)}}function u(f){try{c(r.throw(f))}catch(p){o(p)}}function c(f){f.done?s(f.value):i(f.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};const JF={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},X5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ZF{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=O8(i)}uploadOrUpdate(t,n,r,i){return Jr(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},X5),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),u&&s.append("metadata",this.encodeMetadata(u)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),u&&s.append("metadata",this.encodeMetadata(u))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,u&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),f=this._getFinalPath(c),p=yield(t=="PUT"?Py:uo)(this.fetch,`${this.url}/object/${f}`,s,Object.assign({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:p.Id,fullPath:p.Key},error:null}}catch(s){if(or(s))return{data:null,error:s};throw s}})}upload(t,n,r){return Jr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Jr(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let u;const c=Object.assign({upsert:X5.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",c.cacheControl)):(u=r,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType);const p=yield Py(this.fetch,a.toString(),u,{headers:f});return{data:{path:s,fullPath:p.Key},error:null}}catch(u){if(or(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,n){return Jr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const s=yield uo(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new lx("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(or(r))return{data:null,error:r};throw r}})}update(t,n,r){return Jr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Jr(this,void 0,void 0,function*(){try{return{data:yield uo(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(or(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Jr(this,void 0,void 0,function*(){try{return{data:{path:(yield uo(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(or(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Jr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield uo(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(or(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Jr(this,void 0,void 0,function*(){try{const i=yield uo(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(or(i))return{data:null,error:i};throw i}})}download(t,n){return Jr(this,void 0,void 0,function*(){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(n?.transform||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield tm(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(or(a))return{data:null,error:a};throw a}})}info(t){return Jr(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield tm(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ny(r),error:null}}catch(r){if(or(r))return{data:null,error:r};throw r}})}exists(t){return Jr(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield XF(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(or(r)&&r instanceof Ty){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n?.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof n?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(n?.transform||{});u!==""&&i.push(u);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return Jr(this,void 0,void 0,function*(){try{return{data:yield L8(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(or(n))return{data:null,error:n};throw n}})}list(t,n,r){return Jr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},JF),n),{prefix:t||""});return{data:yield uo(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(or(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const eB="2.10.4",tB={"X-Client-Info":`storage-js/${eB}`};var Eu=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(p){o(p)}}function u(f){try{c(r.throw(f))}catch(p){o(p)}}function c(f){f.done?s(f.value):i(f.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};class nB{constructor(t,n={},r,i){const s=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},tB),n),this.fetch=O8(r)}listBuckets(){return Eu(this,void 0,void 0,function*(){try{return{data:yield tm(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(or(t))return{data:null,error:t};throw t}})}getBucket(t){return Eu(this,void 0,void 0,function*(){try{return{data:yield tm(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(or(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Eu(this,void 0,void 0,function*(){try{return{data:yield uo(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(or(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Eu(this,void 0,void 0,function*(){try{return{data:yield Py(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(or(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Eu(this,void 0,void 0,function*(){try{return{data:yield uo(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(or(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Eu(this,void 0,void 0,function*(){try{return{data:yield L8(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(or(n))return{data:null,error:n};throw n}})}}class rB extends nB{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new ZF(this.url,this.headers,t,this.fetch)}}const iB="2.53.0";let wd="";typeof Deno<"u"?wd="deno":typeof document<"u"?wd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?wd="react-native":wd="node";const sB={"X-Client-Info":`supabase-js-${wd}/${iB}`},oB={headers:sB},aB={schema:"public"},lB={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uB={};var cB=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(p){o(p)}}function u(f){try{c(r.throw(f))}catch(p){o(p)}}function c(f){f.done?s(f.value):i(f.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};const dB=e=>{let t;return e?t=e:typeof fetch>"u"?t=w8:t=fetch,(...n)=>t(...n)},hB=()=>typeof Headers>"u"?_8:Headers,fB=(e,t,n)=>{const r=dB(n),i=hB();return(s,o)=>cB(void 0,void 0,void 0,function*(){var a;const u=(a=yield t())!==null&&a!==void 0?a:e;let c=new i(o?.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),r(s,Object.assign(Object.assign({},o),{headers:c}))})};var pB=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(p){o(p)}}function u(f){try{c(r.throw(f))}catch(p){o(p)}}function c(f){f.done?s(f.value):i(f.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};function mB(e){return e.endsWith("/")?e:e+"/"}function gB(e,t){var n,r;const{db:i,auth:s,realtime:o,global:a}=e,{db:u,auth:c,realtime:f,global:p}=t,g={db:Object.assign(Object.assign({},u),i),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},f),o),storage:{},global:Object.assign(Object.assign(Object.assign({},p),a),{headers:Object.assign(Object.assign({},(n=p?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>pB(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const R8="2.71.1",Fu=30*1e3,Oy=3,u1=Oy*Fu,yB="http://localhost:9999",vB="supabase.auth.token",xB={"X-Client-Info":`gotrue-js/${R8}`},Ly="X-Supabase-Api-Version",A8={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},bB=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wB=600*1e3;class ux extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function kt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class _B extends ux{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function SB(e){return kt(e)&&e.name==="AuthApiError"}class M8 extends ux{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class xa extends ux{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Jo extends xa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function CB(e){return kt(e)&&e.name==="AuthSessionMissingError"}class tp extends xa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class np extends xa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class rp extends xa{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function kB(e){return kt(e)&&e.name==="AuthImplicitGrantRedirectError"}class J5 extends xa{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ry extends xa{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function c1(e){return kt(e)&&e.name==="AuthRetryableFetchError"}class Z5 extends xa{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ay extends xa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const nm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),e4=` 	
\r=`.split(""),jB=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<e4.length;t+=1)e[e4[t].charCodeAt(0)]=-2;for(let t=0;t<nm.length;t+=1)e[nm[t].charCodeAt(0)]=t;return e})();function t4(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(nm[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(nm[r]),t.queuedBits-=6}}function I8(e,t,n){const r=jB[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function n4(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{NB(o,r,n)};for(let o=0;o<e.length;o+=1)I8(e.charCodeAt(o),i,s);return t.join("")}function EB(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function TB(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}EB(r,t)}}function NB(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function PB(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)I8(e.charCodeAt(i),n,r);return new Uint8Array(t)}function OB(e){const t=[];return TB(e,n=>t.push(n)),new Uint8Array(t)}function LB(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>t4(i,n,r)),t4(null,n,r),t.join("")}function RB(e){return Math.round(Date.now()/1e3)+e}function AB(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ds=()=>typeof window<"u"&&typeof document<"u",Ja={tested:!1,writable:!1},D8=()=>{if(!ds())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ja.tested)return Ja.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ja.tested=!0,Ja.writable=!0}catch{Ja.tested=!0,Ja.writable=!1}return Ja.writable};function MB(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const F8=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Zd(async()=>{const{default:r}=await Promise.resolve().then(()=>dc);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},IB=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Bu=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Za=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Go=async(e,t)=>{await e.removeItem(t)};class Hm{constructor(){this.promise=new Hm.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Hm.promiseConstructor=Promise;function d1(e){const t=e.split(".");if(t.length!==3)throw new Ay("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!bB.test(t[r]))throw new Ay("JWT not in base64url format");return{header:JSON.parse(n4(t[0])),payload:JSON.parse(n4(t[1])),signature:PB(t[2]),raw:{header:t[0],payload:t[1]}}}async function DB(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function FB(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){r(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function BB(e){return("0"+e.toString(16)).substr(-2)}function zB(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,BB).join("")}async function $B(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function UB(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await $B(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Tu(e,t,n=!1){const r=zB();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Bu(e,`${t}-code-verifier`,i);const s=await UB(r);return[s,r===s?"plain":"s256"]}const HB=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function QB(e){const t=e.headers.get(Ly);if(!t||!t.match(HB))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function VB(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function WB(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const qB=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Nu(e){if(!qB.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function h1(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function r4(e){return JSON.parse(JSON.stringify(e))}var KB=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const sl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),GB=[502,503,504];async function i4(e){var t;if(!IB(e))throw new Ry(sl(e),0);if(GB.includes(e.status))throw new Ry(sl(e),e.status);let n;try{n=await e.json()}catch(s){throw new M8(sl(s),s)}let r;const i=QB(e);if(i&&i.getTime()>=A8["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Z5(sl(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Jo}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Z5(sl(n),e.status,n.weak_password.reasons);throw new _B(sl(n),e.status||500,r)}const YB=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function It(e,t,n,r){var i;const s=Object.assign({},r?.headers);s[Ly]||(s[Ly]=A8["2024-01-01"].name),r?.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await XB(e,t,n+a,{headers:s,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}}async function XB(e,t,n,r,i,s){const o=YB(t,r,i,s);let a;try{a=await e(n,Object.assign({},o))}catch(u){throw console.error(u),new Ry(sl(u),0)}if(a.ok||await i4(a),r?.noResolveJson)return a;try{return await a.json()}catch(u){await i4(u)}}function ao(e){var t;let n=null;tz(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=RB(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function s4(e){const t=ao(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ea(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function JB(e){return{data:e,error:null}}function ZB(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,o=KB(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},u=Object.assign({},o);return{data:{properties:a,user:u},error:null}}function ez(e){return e}function tz(e){return e.access_token&&e.refresh_token&&e.expires_in}const f1=["global","local","others"];var nz=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class rz{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=F8(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=f1[0]){if(f1.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${f1.join(", ")}`);try{return await It(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await It(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ea})}catch(r){if(kt(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=nz(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await It(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:ZB,redirectTo:n?.redirectTo})}catch(n){if(kt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await It(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ea})}catch(n){if(kt(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,o,a,u;try{const c={nextPage:null,lastPage:0,total:0},f=await It(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:ez});if(f.error)throw f.error;const p=await f.json(),g=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(u=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return x.length>0&&(x.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(w.split(";")[1].split("=")[1]);c[`${k}Page`]=S}),c.total=parseInt(g)),{data:Object.assign(Object.assign({},p),c),error:null}}catch(c){if(kt(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Nu(t);try{return await It(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ea})}catch(n){if(kt(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Nu(t);try{return await It(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ea})}catch(r){if(kt(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Nu(t);try{return await It(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ea})}catch(r){if(kt(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Nu(t.userId);try{const{data:n,error:r}=await It(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(kt(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Nu(t.userId),Nu(t.id);try{return{data:await It(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}}}function o4(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function iz(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Pu={debug:!!(globalThis&&D8()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class B8 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class sz extends B8{}async function oz(e,t,n){Pu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Pu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Pu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Pu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Pu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new sz(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Pu.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}iz();const az={url:yB,storageKey:vB,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xB,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function a4(e,t,n){return await n()}const Ou={};class Gd{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Gd.nextInstanceID,Gd.nextInstanceID+=1,this.instanceID>0&&ds()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},az),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new rz({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=F8(i.fetch),this.lock=i.lock||a4,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ds()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=oz:this.lock=a4,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:D8()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=o4(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=o4(this.memoryStorage)),ds()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Ou[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Ou[this.storageKey]=Object.assign(Object.assign({},Ou[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Ou[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ou[this.storageKey]=Object.assign(Object.assign({},Ou[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${R8}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=MB(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ds()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),kB(s)){const u=(t=s.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return kt(n)?{error:n}:{error:new M8("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await It(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:ao}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(kt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:f,password:p,options:g}=t;let x=null,w=null;this.flowType==="pkce"&&([x,w]=await Tu(this.storage,this.storageKey)),s=await It(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:f,password:p,data:(n=g?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:x,code_challenge_method:w},xform:ao})}else if("phone"in t){const{phone:f,password:p,options:g}=t;s=await It(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:p,data:(r=g?.data)!==null&&r!==void 0?r:{},channel:(i=g?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:ao})}else throw new np("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(kt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:o,options:a}=t;n=await It(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:s4})}else if("phone"in t){const{phone:s,password:o,options:a}=t;n=await It(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:s4})}else throw new np("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new tp}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(kt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,i,s,o,a,u,c,f,p,g,x;let w,S;if("message"in t)w=t.message,S=t.signature;else{const{chain:k,wallet:E,statement:L,options:R}=t;let z;if(ds())if(typeof E=="object")z=E;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))z=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=E}const U=new URL((n=R?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in z&&z.signIn){const P=await z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R?.signInWithSolana),{version:"1",domain:U.host,uri:U.href}),L?{statement:L}:null));let I;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")I=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)I=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)w=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),S=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in z)||typeof z.signMessage!="function"||!("publicKey"in z)||typeof z!="object"||!z.publicKey||!("toBase58"in z.publicKey)||typeof z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${U.host} wants you to sign in with your Solana account:`,z.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${U.href}`,`Issued At: ${(i=(r=R?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=R?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((o=R?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((a=R?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((u=R?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((c=R?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((p=(f=R?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||p===void 0)&&p.length?["Resources",...R.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const P=await z.signMessage(new TextEncoder().encode(w),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=P}}try{const{data:k,error:E}=await It(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:LB(S)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:ao});if(E)throw E;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new tp}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:E})}catch(k){if(kt(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(t){const n=await Za(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await It(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:ao});if(await Go(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new tp}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(kt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=t,a=await It(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:ao}),{data:u,error:c}=a;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new tp}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(n){if(kt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,o;try{if("email"in t){const{email:a,options:u}=t;let c=null,f=null;this.flowType==="pkce"&&([c,f]=await Tu(this.storage,this.storageKey));const{error:p}=await It(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(r=u?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:c,code_challenge_method:f},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:a,options:u}=t,{data:c,error:f}=await It(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(o=u?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c?.message_id},error:f}}throw new np("You must provide either an email or phone number.")}catch(a){if(kt(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await It(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:ao});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,c=o.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(kt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Tu(this.storage,this.storageKey)),await It(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:JB})}catch(s){if(kt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Jo;const{error:i}=await It(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(kt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:o}=await It(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:o,error:a}=await It(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:a}}throw new np("You must provide either an email or phone number and a type")}catch(n){if(kt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Za(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<u1:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Za(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=h1()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,c,f)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,f))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await It(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ea}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Jo}:await It(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:ea})})}catch(n){if(kt(n))return CB(n)&&(await this._removeSession(),await Go(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Jo;const o=i.session;let a=null,u=null;this.flowType==="pkce"&&t.email!=null&&([a,u]=await Tu(this.storage,this.storageKey));const{data:c,error:f}=await It(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:u}),jwt:o.access_token,xform:ea});if(f)throw f;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(kt(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Jo;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=d1(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:a,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:u}=await this._getUser(t.access_token);if(u)throw u;s={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(kt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new Jo;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(kt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!ds())throw new rp("No browser detected.");if(t.error||t.error_description||t.error_code)throw new rp(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new J5("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new rp("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new J5("No code detected.");const{data:L,error:R}=await this._exchangeCodeForSession(t.code);if(R)throw R;const z=new URL(window.location.href);return z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",z.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:u,token_type:c}=t;if(!s||!a||!o||!c)throw new rp("No session defined in URL");const f=Math.round(Date.now()/1e3),p=parseInt(a);let g=f+p;u&&(g=parseInt(u));const x=g-f;x*1e3<=Fu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${p}s`);const w=g-p;f-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,g,f):f-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,g,f);const{data:S,error:k}=await this._getUser(s);if(k)throw k;const E={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:g,refresh_token:o,token_type:c,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:t.type},error:null}}catch(r){if(kt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Za(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(SB(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Go(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=AB(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Tu(this.storage,this.storageKey,!0));try{return await It(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(kt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,u,c,f;const{data:p,error:g}=s;if(g)throw g;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await It(this.fetch,"GET",x,{headers:this.headers,jwt:(f=(c=p.session)===null||c===void 0?void 0:c.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return ds()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:t.provider,url:r?.url},error:null}}catch(r){if(kt(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await It(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(kt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await FB(async i=>(i>0&&await DB(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await It(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ao})),(i,s)=>{const o=200*Math.pow(2,i);return s&&c1(s)&&Date.now()+o-r<Fu})}catch(r){if(this._debug(n,"error",r),kt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),ds()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Za(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Za(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Bu(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:h1()}else if(i&&!i.user&&!i.user){const o=await Za(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await Go(this.storage,this.storageKey+"-user"),await Bu(this.storage,this.storageKey,i)):i.user=h1()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<u1;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${u1}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),c1(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Jo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Hm;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new Jo;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),kt(s)){const o={session:null,error:s};return c1(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(u){s.push(u)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Bu(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=r4(i);await Bu(this.storage,this.storageKey,s)}else{const i=r4(n);await Bu(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Go(this.storage,this.storageKey),await Go(this.storage,this.storageKey+"-code-verifier"),await Go(this.storage,this.storageKey+"-user"),this.userStorage&&await Go(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ds()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Fu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Fu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Fu}ms, refresh threshold is ${Oy} ticks`),i<=Oy&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof B8)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ds()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await Tu(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r?.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await It(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(kt(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:u,error:c}=await It(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(n){if(kt(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:a}=await It(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(kt(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await It(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(kt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=t?.factors||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=d1(i.access_token);let a=null;o.aal&&(a=o.aal);let u=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const f=o.amr||[];return{data:{currentLevel:a,nextLevel:u,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+wB>i)return r;const{data:s,error:o}=await It(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:x,error:w}=await this.getSession();if(w||!x.session)return{data:null,error:w};r=x.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:u}}=d1(r);n?.allowExpired||VB(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!c){const{error:x}=await this.getUser(r);if(x)throw x;return{data:{claims:s,header:i,signature:o},error:null}}const f=WB(i.alg),p=await crypto.subtle.importKey("jwk",c,f,!0,["verify"]);if(!await crypto.subtle.verify(f,p,o,OB(`${a}.${u}`)))throw new Ay("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}}}Gd.nextInstanceID=0;const lz=Gd;class uz extends lz{constructor(t){super(t)}}var cz=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(p){o(p)}}function u(f){try{c(r.throw(f))}catch(p){o(p)}}function c(f){f.done?s(f.value):i(f.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};class dz{constructor(t,n,r){var i,s,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=mB(t),u=new URL(a);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:aB,realtime:uB,auth:Object.assign(Object.assign({},lB),{storageKey:c}),global:oB},p=gB(r??{},f);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=p.global.headers)!==null&&s!==void 0?s:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=p.auth)!==null&&o!==void 0?o:{},this.headers,p.global.fetch),this.fetch=fB(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new NF(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new rB(this.storageUrl.href,this.headers,this.fetch,r?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new yF(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return cz(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:a,debug:u},c,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new uz({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),c),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:a,debug:u,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new QF(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const hz=(e,t,n)=>new dz(e,t,n);function fz(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}fz()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");function l4(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Lu=[..."".normalize("NFD")].map(e=>e.charCodeAt(0)),u4=44032,pz=55203,p1=28,c4=21,My={"":"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Iy={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},mz=["","","","","","","","","","","","","","","","","","",""],gz=Object.values(Iy),yz=["","","","","","","","","","","","","","","","","","","","","","","","","","","",""].map(e=>My[e]);function vz(e){const t=e.charCodeAt(0);if(!(u4<=t&&t<=pz))return;const r=t-u4,i=r%p1,s=(r-i)/p1%c4,o=Math.floor((r-i)/p1/c4);return{choseong:mz[o],jungseong:gz[s],jongseong:yz[i]}}function xz(e){const t=[];for(const n of e){const r=vz(n);if(r!=null){t.push([...r.choseong,...r.jungseong,...r.jongseong]);continue}if(l4(My,n)){const i=My[n];t.push([...i]);continue}if(l4(Iy,n)){const i=Iy[n];t.push([...i]);continue}t.push([n])}return t}function ec(e){return xz(e).reduce((t,n)=>`${t}${n.join("")}`,"")}var rm={START_CHOSEONG:Lu[0],START_JUNGSEONG:Lu[1],START_JONGSEONG:Lu[2],END_CHOSEONG:Lu[3],END_JUNGSEONG:Lu[4],END_JONGSEONG:Lu[5]};new RegExp(`[^\\u${rm.START_CHOSEONG.toString(16)}-\\u${rm.END_CHOSEONG.toString(16)}-\\s]+`,"ug");new RegExp(`[\\u${rm.START_CHOSEONG.toString(16)}-\\u${rm.END_CHOSEONG.toString(16)}]`,"g");const bz=hz("https://jvbtsubxzytnjnzxmtbg.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp2YnRzdWJ4enl0bmpuenhtdGJnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQyMzMyMzgsImV4cCI6MjA2OTgwOTIzOH0.uUpg4kO7-uLmswUo8Dp_-WZwKw_xKqxRrpGmM2tN02I"),wz=30*1e3,_z=10*1e3,Sz=60*1e3,Cz=5,ip="searchLoggingData",kz="searches_dev",Ct={timer:null,commitDelay:wz,data:[],loadLoggingData(){if(Ct.data.length>0)return Ct.data;const e=localStorage.getItem(ip);return e&&(Ct.data=JSON.parse(e)),Ct.data},updateLoggingData(e,t,n){const r=!t||isNaN(Number(t))?-1:Number(t),s={search:e===void 0&&Ct.data.length>0?Ct.data[Ct.data.length-1].search:e??"",dprt_cd:r,target:n,created_at:Date.now()};if((a=>{if(Ct.data.length===0)return!1;const u=Ct.data[Ct.data.length-1];return u.target<0&&(m1(u.search,a.search)||m1(a.search,u.search))})(s)){const a=Ct.data[Ct.data.length-1];a.target=n,a.created_at=Date.now(),m1(s.search,a.search)&&(a.search=s.search),s.dprt_cd>=0&&(a.dprt_cd=s.dprt_cd)}else Ct.data.push(s);localStorage.setItem(ip,JSON.stringify(Ct.data)),Ct.submitDelayCommit()},reconcileLoggingData(){Ct.data=Ct.data.filter(e=>!(e.search&&e.dprt_cd<0&&e.target<0)),Ct.data=Ct.data.filter((e,t)=>!(t>0&&e.search===Ct.data[t-1].search&&e.dprt_cd===Ct.data[t-1].dprt_cd&&e.target===-1)),localStorage.setItem(ip,JSON.stringify(Ct.data))},submitDelayCommit(){if(Ct.timer&&(clearTimeout(Ct.timer),Ct.timer=null),Ct.data.length>Cz){const e=Ct.data.map(r=>r.created_at),t=e.slice(1).map((r,i)=>r-e[i]),n=t.reduce((r,i)=>r+i,0)/t.length;Ct.commitDelay=Math.min(Sz,Math.max(_z,n+10*1e3))}Ct.timer=setTimeout(()=>{Ct.timer=null,Ct.commitLoggingData()},Ct.commitDelay)},commitLoggingData(){Ct.reconcileLoggingData();const e=Ct.data.length;if(e===0)return;const t=Ct.data.map(({search:n,dprt_cd:r,target:i})=>({search:n,dprt_cd:r,target:i}));bz.from(kz).insert(t).then(({error:n})=>{n?console.error("Error committing search logging data:",n):(Ct.data=Ct.data.slice(e),localStorage.setItem(ip,JSON.stringify(Ct.data)))})}};function m1(e,t){const n=ec(e).toLowerCase(),r=ec(t).toLowerCase();return n.includes(r)}function gh(){T.useEffect(()=>{Ct.loadLoggingData()},[]);function e(r,i){Ct.updateLoggingData(r,i,-1)}function t(r,i,s){Ct.updateLoggingData(r,i,s)}function n(r){Ct.updateLoggingData(void 0,void 0,r)}return{onSearchChange:e,selectTarget:t,selectTargetOnly:n}}function z8({subject:e,variant:t="contain",className:n,onClick:r,...i}){const{data:s}=Bm(),{mutate:o}=ix(),{mutate:a}=g8(),{selectTargetOnly:u}=gh(),c=s?.some(g=>g.subjectId===e.subjectId),f=c?"  ":"  ",p=g=>{if(u(e.subjectId),Um(e.deptCd),r&&r(g),!c){a(e.subjectId);return}o(e.subjectId)};return h.jsx(lr,{"aria-label":f,title:f,variant:t==="contain"?"contain":"plain",onClick:p,icon:h.jsx(uc,{disabled:!c}),className:n,...i})}function jz({subject:e,seats:t,queryTime:n,disableSeat:r=!1,isLive:i=!1}){const s=e.isDeleted,o=e.curiLangNm==="",a=typeof e.tmNum=="string"&&Number(e.tmNum.split("/")[0])||0;return h.jsxs(Cr,{variant:"elevated",children:[h.jsxs(Qe,{justify:"justify-between",children:[h.jsx(dr,{level:3,children:e.subjectName}),h.jsx(z8,{subject:e,variant:"plain"})]}),h.jsxs(Qe,{className:"text-xs text-gray-500",direction:"flex-col",children:[h.jsx("p",{children:e.departmentName}),h.jsxs("p",{children:[e.subjectCode,"-",e.classCode," | ",e.professorName]})]}),h.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:[e.studentYear," ",e.curiTypeCdNm," | ",a," | ",e.lesnTime]}),!r&&h.jsxs(Qe,{gap:"gap-2",align:"items-baseline",justify:"justify-between",children:[h.jsxs("p",{className:`text-sm px-2 py-1 rounded-full font-bold ${Nl(t)}`,children:[": ",t<0?"???":t]}),!i&&h.jsx("p",{className:"text-xs text-gray-500",children:ex(n)}),s&&h.jsx("p",{className:"text-xs text-gray-500",children:""}),o&&h.jsx("p",{className:"text-xs text-gray-500",children:""})]})]})}const g1=45;function Qm(e,t="ref",n=".load-more-trigger"){const[r,i]=T.useState(g1),s=T.useRef(null),o=T.useRef(null);return T.useEffect(()=>{i(g1)},[e]),T.useEffect(()=>{const a=new IntersectionObserver(u=>{u.forEach(c=>{c.isIntersecting&&i(f=>f+g1)})},{root:null,rootMargin:"0px",threshold:.5});return o.current=a,t==="ref"&&s.current?a.observe(s.current):t==="selector"&&document.querySelectorAll(n).forEach(c=>a.observe(c)),()=>{a.disconnect()}},[e,t,n]),{visibleRows:r,...t==="ref"?{loadMoreRef:s}:{}}}function cx({subjects:e,isPending:t=!1,className:n="",isLive:r=!1}){return h.jsx(Qe,{direction:"flex-col",gap:"gap-2",className:n,children:h.jsx(Ez,{subjects:e,isPending:t,isLive:r})})}function Ez({subjects:e,isPending:t=!1,isLive:n=!1}){const{visibleRows:r,loadMoreRef:i}=Qm(e),s=e?e.slice(0,r):[];return t||!e?h.jsx(mm,{columns:{base:1,md:3},gap:"gap-4",className:"animate-pulse",children:[0,0,0].map((o,a)=>h.jsx("div",{className:"bg-gray-300 shadow-sm rounded-lg p-4 h-24"},"skeleton-card-"+a))}):e.length?h.jsxs(h.Fragment,{children:[s.map(o=>h.jsx(jz,{subject:o,seats:"seat"in o?o.seat??-1:-1,disableSeat:!("seat"in o),className:"bg-white",isLive:n},o.subjectId)),h.jsx("div",{ref:i,className:"load-more-trigger opacity-0",children:" "})]}):h.jsxs(Qe,{direction:"flex-col",align:"items-center",gap:"gap-2",className:"text-center py-4",children:[h.jsx(fh,{className:"w-12 h-12"}),h.jsx("p",{className:"text-gray-500 font-bold mt-4",children:"  ."}),h.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"   ."})]})}const cn={grades:[1,2,3,4],credits:[1,2,3],days:["","","","",""],remark:["","SHP",""],classRoom:["","","","","AI","()","","","","","","","","","","","","","","","",""],wishRange:[{min:10},{min:50},{min:100},{min:200}],seatRange:[{min:1},{max:2},{max:5},{max:10}]},Tz={classRoom:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"AI",value:""},{label:"()",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]};function yh(e){return Nz(e.map(n=>n.curiTypeCdNm)).filter(n=>!!n)}function Nz(e){return Array.from(new Set(e))}const si={keywords:"",department:"",grades:"",credits:"",classroom:"",seatRange:"",wishRange:" ",time:"",days:"",categories:" ",note:"",language:"",alarmOnly:"",favoriteOnly:""};function Pz(e,t){if(!Array.isArray(t)||t.length===0)return si[e];const n=t[0];return t.length===1?la()[e]?.(n)??si[e]:`${la()[e]?.(n)??si[e]}  ${t.length-1}`}function Oz(e,t){if(t==null)return si[e];const n=t;return e==="seatRange"?` ${la()[e]?.(n)??si[e]}`:e==="wishRange"?`  ${la()[e]?.(n)??si[e]}`:la()[e]?.(n)??si[e]}function d4(e,t,n){if(t==null)return"";const r=t,i=la(n)[e]?.(r);return i?e==="seatRange"?` ${i}`:e==="wishRange"?` ${i}`:i:""}function la(e){const t=n=>e?e.find(i=>i.departmentCode===n)?.departmentName||n:"";return{keywords:n=>typeof n=="string"?n:"",department:n=>t(n),grades:n=>f4(n,si.grades),credits:n=>f4(n,si.credits),classroom:Lz,seatRange:h4,wishRange:h4,time:Rz,days:Az,categories:n=>n,note:n=>n,language:n=>n,alarmOnly:()=>si.alarmOnly,favoriteOnly:()=>si.favoriteOnly}}const Lz=e=>!e||typeof e!="string"?"":Tz.classRoom.find(t=>t.value===e)?.label||e,h4=e=>{if(!e)return"";const{min:t,max:n}=e;return t!==void 0&&n!==void 0?`${t}  ~ ${n} `:t!==void 0?`${t} `:n!==void 0?`${n} `:""},Rz=e=>`${e.day}${si.time} ${e.start}~${e.end}`,Az=e=>e+"",f4=(e,t)=>e+t,pa={keywords:"",department:"",grades:[],credits:[],categories:[],seatRange:null,wishRange:null,time:[],days:[],classroom:[],note:[],language:[],alarmOnly:!1,favoriteOnly:!1};function $8(e,t){return e==="time"&&Array.isArray(t)?t.length===0||t.length===1&&t[0].day==="":Array.isArray(pa[e])&&Array.isArray(t)?t.length===0:!t}function p4(e){return Array.isArray(e)?e.length>0:e!=null&&e!==""&&e!==!1}function dx(e,t){const n=[];for(const r in e){const i=e[r];if(r==="time"){const{day:s,type:o}=i;if(!s||!o)continue}r==="keywords"||r==="favoriteOnly"||r==="alarmOnly"||(Array.isArray(i)&&i.length>0&&i.forEach(s=>{p4(s)&&n.push({filterKey:r,values:s,label:d4(r,s,t)})}),!Array.isArray(i)&&p4(i)&&n.push({filterKey:r,values:i,label:i!==null?d4(r,i,t):""}))}return n}const hx=()=>Nr(e=>({filters:{...pa},setFilter:(t,n)=>e(r=>({filters:{...r.filters,[t]:n}})),resetFilters:()=>e({filters:pa})})),gs=hx(),zu=hx(),_d=hx(),Dy=Nr((e,t)=>({favorites:JSON.parse(localStorage.getItem("favorites")??"[]"),toggleFavorite:n=>{const r=t().favorites.includes(n);e(i=>{const s=r?i.favorites.filter(o=>o!==n):[...i.favorites,n];return localStorage.setItem("favorites",JSON.stringify(s)),{favorites:s}})},isFavorite:n=>t().favorites.includes(n)}));function Mz(e){const{data:t}=Bm(),n=Dy(o=>o.isFavorite),r=Iz(e,t,n),s=Object.keys(e).filter(o=>!$8(o,e[o]));return(o,a)=>s.every(u=>{const c=r[u];return c?c(o,a[u]):!0})}function Iz(e,t,n){const r=o=>t?.some(({subjectId:a})=>a===o)??!0,i=H8(e.keywords),s=e.keywords.replace(/[-\s]/g,"").toLowerCase();return{keywords:o=>Hz(o,i,s),department:Uz,grades:Fz,credits:Bz,categories:qz,seatRange:zz,wishRange:$z,time:Wz,days:Dz,classroom:Qz,note:Vz,language:Kz,alarmOnly:o=>n(o.subjectId),favoriteOnly:o=>r(o.subjectId)}}function U8(e,t){if(!t)return!0;const{min:n,max:r}=t;return(n===void 0||e>=n)&&(r===void 0||e<=r)}function fx(e,t){return!t.length||t.includes(e)}function H8(e){const t=e.replace(/[^\w---]/g,"");return ec(t).toLowerCase()}function Dz(e,t){if(!e.lesnTime||!t||t.length===0)return!0;const n=RegExp(/^([-]+)/).exec(e.lesnTime);if(!n)return!0;const r=n[1].split("");return t.some(i=>r.includes(i))}function Fz(e,t){const n=Number(e.studentYear);return!n||t.includes("")||t.length===0?!0:t.includes(n)}function Bz(e,t){const n=Number(e.tmNum.split("/")[0]);return!n||isNaN(n)?!0:fx(n,t)}function zz(e,t){const n=e;return"seat"in n?U8(n.seat??0,t):!0}function $z(e,t){return"totalCount"in e?U8(e.totalCount??0,t):!0}function Uz(e,t){return!t||t===""||t===e.deptCd}function Hz(e,t,n){if(!t)return!0;const r=e.professorName?ec(e.professorName).toLowerCase():"",i=H8(e.subjectName),o=(e.subjectCode+e.classCode).toLowerCase().includes(n);return r.includes(t)||i.includes(t)||o}function Qz(e,t){return t.length?e.lesnRoom?t.some(n=>new RegExp(`^${n}[\\w]`,"i").test(e.lesnRoom)):!1:!0}function Vz(e,t){return!t||t.length===0?!0:t.some(n=>{switch(n){case"":return e.remark?.includes("")??!1;case"SHP":return["SHP","Honor"].some(r=>e.remark?.includes(r)??!1);case"":return!e.remark||!["","SHP","Honor"].some(r=>e.remark?.includes(r)??!1)}})}function Wz(e,t){if(!t||t.length===0||!e.lesnTime)return!0;const r=new sc(e.lesnTime).toApiData().map(i=>({day:i.dayOfWeeks,start:new vu(i.startTime),end:new vu(i.endTime)}));return t.some(i=>{if(i.day==="")return!0;const s=r.filter(o=>o.day===i.day);if(i.type==="all"||!s.length)return!!s.length;if(i.type==="before"&&i.start){const o=new vu(i.start);return s.some(a=>a.end.compare(o)<=0)}if(i.type==="after"&&i.start){const o=new vu(i.start);return s.some(a=>o.compare(a.start)<=0)}if(i.type==="between"&&i.start&&i.end){const o=new vu(i.start),a=new vu(i.end);return s.some(u=>o.compare(u.start)<=0&&u.end.compare(a)<=0)}})}function qz(e,t){return fx(e.curiTypeCdNm,t)}function Kz(e,t){return fx(e.curiLangNm??"",t)}function hc(e,t){const n=Mz(t),{onSearchChange:r}=gh(),{keywords:i,department:s}=t;return!e||e.length===0?[]:(r(i,s),e.filter(o=>n(o,t)))}const Gz={enter:"sidebar-transition-enter",enterActive:"sidebar-transition-enter-active",exit:"sidebar-transition-exit",exitActive:"sidebar-transition-exit-active"},Yz=({isOpen:e,onClose:t})=>{const[n,r]=T.useState(""),[i,s]=T.useState(""),{data:o,isPending:a}=_o(),u=ph(o),c=T.useDeferredValue(hc(u??[],{...pa,keywords:n,department:i}));return h.jsx(ih,{in:e,timeout:100,classNames:Gz,unmountOnExit:!0,children:h.jsxs(Qe,{direction:"flex-col",className:"w-92 flex-auto bg-gray-50 shadow-lg z-10",children:[h.jsxs("div",{className:"flex justify-between items-center py-2 pl-4 pr-2 bg-white border-b border-gray-200",children:[h.jsx(dr,{level:2,children:" "}),h.jsx(lr,{"aria-label":"  ",icon:h.jsx(nx,{className:"w-4 h-4"}),onClick:t})]}),h.jsxs(Qe,{direction:"flex-col",className:"flex-1 p-4",children:[h.jsxs(Qe,{direction:"flex-col",className:"mb-4",gap:"gap-2",children:[h.jsx(Ol,{placeholder:"  ",value:n,onChange:f=>r(f.target.value),onDelete:()=>r(""),className:"w-full"}),h.jsx($m,{className:"flex-auto",value:i,onChange:f=>s(f.target.value)})]}),h.jsx(cx,{className:"flex flex-full overflow-auto max-h-screen",subjects:c,isPending:a})]})]})})};function Xz(){const e=T.useRef(null),t=T.useRef(null),n=T.useRef({touchStart:{sheetY:0,touchY:0},touchMove:{prevTouchY:0,movingDirection:"none"},isContentAreaTouched:!1});T.useEffect(()=>{const s=()=>{const{touchMove:c,isContentAreaTouched:f}=n.current,p=e.current?.getBoundingClientRect().y;if(!p)return!1;if(!f||p!==ll)return!0;const g=t.current,x=g.scrollTop<=0,w=g.scrollTop+g.clientHeight>=g.scrollHeight;return c.movingDirection==="down"&&x||c.movingDirection==="up"&&w,!1},o=c=>{const{touchStart:f}=n.current;f.sheetY=e.current.getBoundingClientRect().y,f.touchY=c.touches[0].clientY},a=c=>{const{touchStart:f,touchMove:p}=n.current,g=c.touches[0];if(p.prevTouchY===void 0&&(p.prevTouchY=f.touchY),p.prevTouchY===0&&(p.prevTouchY=f.touchY),p.prevTouchY<g.clientY&&(p.movingDirection="down"),p.prevTouchY>g.clientY&&(p.movingDirection="up"),s()){c.stopPropagation();const x=g.clientY-f.touchY;let w=f.sheetY+x;w<=ll&&(w=ll),w>=sp&&(w=sp),e.current.style.setProperty("transform",`translateY(${w}px)`)}else document.body.style.overflowY="hidden"},u=()=>{const{touchMove:c}=n.current;(e.current?.getBoundingClientRect().y??0)!==ll&&(c.movingDirection==="down"&&e.current.style.setProperty("transform",`translateY(${sp}px)`),c.movingDirection==="up"&&e.current.style.setProperty("transform",`translateY(${ll}px)`)),n.current={touchStart:{sheetY:0,touchY:0},touchMove:{prevTouchY:0,movingDirection:"none"},isContentAreaTouched:!1}};return e.current.addEventListener("touchstart",o),e.current.addEventListener("touchmove",a),e.current.addEventListener("touchend",u),()=>{e.current?.removeEventListener("touchstart",o),e.current?.removeEventListener("touchmove",a),e.current?.removeEventListener("touchend",u)}},[]);const r=()=>{e.current&&e.current.style.setProperty("transform","translateY(400px)")},i=()=>{e.current&&e.current.style.setProperty("transform",`translateY(${sp}px)`)};return T.useEffect(()=>{const s=()=>{n.current.isContentAreaTouched=!0};t.current.addEventListener("touchstart",s);const o=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=o}},[]),{sheet:e,content:t,expandToMax:r,collapseToMin:i}}function Jz(){const{cancelSchedule:e}=zr(),t=th(),n=()=>{t("/timetable"),e()};T.useEffect(()=>(window.addEventListener("popstate",n),()=>{window.removeEventListener("popstate",n)}),[])}const ll=0,sp=window.innerHeight-300,Zz=window.innerHeight-ll;function vh({children:e}){const{sheet:t,content:n,expandToMax:r,collapseToMin:i}=Xz(),{type:s,resetBottomSheet:o}=go(),{cancelSchedule:a}=zr();function u(){a(),o()}return Jz(),h.jsxs("div",{className:"fixed inset-0 z-[200]",children:[s&&h.jsx("div",{className:"absolute inset-0 bg-black/5 bg-opacity-80",role:"presentation",onClick:u}),h.jsxs("div",{ref:t,className:"fixed rounded-t-xl bottom-0 left-0 w-full transition-transform bg-white duration-300 z-200",style:{height:`${Zz}px`,transform:`translateY(${ll}px)`},children:[h.jsx("div",{className:"w-full flex justify-center py-2 h-7 shrink-0",children:h.jsx("button",{className:"w-20 h-2 cursor-pointer bg-gray-300 rounded-full","aria-label":"",onClick:a})}),h.jsx("div",{ref:n,className:"flex-1 overflow-y-auto ",children:typeof e=="function"?e({expandToMax:r,collapseToMin:i}):e})]})]})}const e$=e=>T.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M7.33335 8.66659H4.00001C3.81112 8.66659 3.6529 8.60259 3.52535 8.47459C3.39779 8.34659 3.33379 8.18837 3.33335 7.99992C3.3329 7.81148 3.3969 7.65325 3.52535 7.52525C3.65379 7.39725 3.81201 7.33325 4.00001 7.33325H7.33335V3.99992C7.33335 3.81103 7.39735 3.65281 7.52535 3.52525C7.65335 3.3977 7.81157 3.3337 8.00001 3.33325C8.18846 3.33281 8.3469 3.39681 8.47535 3.52525C8.60379 3.6537 8.66757 3.81192 8.66668 3.99992V7.33325H12C12.1889 7.33325 12.3473 7.39725 12.4753 7.52525C12.6033 7.65325 12.6671 7.81148 12.6667 7.99992C12.6662 8.18837 12.6022 8.34681 12.4747 8.47525C12.3471 8.6037 12.1889 8.66748 12 8.66659H8.66668V11.9999C8.66668 12.1888 8.60268 12.3473 8.47468 12.4753C8.34668 12.6033 8.18846 12.667 8.00001 12.6666C7.81157 12.6661 7.65335 12.6021 7.52535 12.4746C7.39735 12.347 7.33335 12.1888 7.33335 11.9999V8.66659Z",fill:"#9CA3AF"}));function xh({title:e,headerType:t,onClose:n,onClick:r}){return h.jsx("header",{className:"w-full px-2 flex items-center justify-between mb-2",children:t==="add"?h.jsxs("div",{className:"w-full h-8 flex items-center  justify-between ",children:[h.jsx(y1,{headerType:"add",onClick:r}),e&&h.jsx(dr,{level:3,children:e}),h.jsx(y1,{headerType:"close",onClick:n})]}):h.jsx(h.Fragment,{children:h.jsxs("div",{className:"relative w-full flex items-center justify-center h-6",children:[h.jsx(dr,{level:3,children:e}),h.jsx("div",{className:"absolute right-0",children:h.jsx(y1,{headerType:"close",onClick:n})})]})})})}function y1({headerType:e,onClick:t}){const n=e==="close"?W_:e$;return h.jsx("button",{className:"w-6 h-6 cursor-pointer flex items-center justify-center bg-gray-100 rounded-full",onClick:t,children:h.jsx(n,{})})}function t$({onCloseSearch:e}){const[t,n]=T.useState(""),[r,i]=T.useState(""),{data:s,isPending:o}=_o(),a=ph(s),u=T.useDeferredValue(hc(a??[],{...pa,keywords:t,department:r}));return h.jsx(vh,{children:({expandToMax:c})=>h.jsxs(h.Fragment,{children:[h.jsx(xh,{title:"",headerType:"close",onClose:()=>e(),onClick:c}),h.jsxs("div",{className:"sticky py-3 px-2 top-0 bg-white z-10 flex flex-col gap-2 mb-4 flex-auto",children:[h.jsx(Ol,{placeholder:"  ",onChange:f=>n(f.target.value),onDelete:()=>n(""),className:"w-full"}),h.jsx($m,{className:"flex-auto",value:r,onChange:f=>i(f.target.value)})]}),h.jsx("div",{className:"max-h-[70vh] min-h-0 px-2 overflow-y-auto touch-auto flex flex-col",children:h.jsx(cx,{className:"flex flex-full overflow-auto max-h-screen",subjects:u,isPending:o})})]})})}function Ki(){const[e,t]=T.useState(!1);return T.useEffect(()=>{const n=()=>{t(window.innerWidth<=768)};return n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[]),e}const Q8="2025-09-05";function Vm(e){const{hasSeats:t}=e??{},n=new Date>z_(`${Q8}T10:00:00`);return{isPreSeatAvailable:!n}}const n$=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16.508930206298828,height:16.008333206176758,viewBox:"0 0 16.508930206298828 16.008333206176758",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,32.016666412353516)"},T.createElement("path",{d:"M8.25446,32.016633206176756Q8.72321,31.985433206176758,8.94196,31.579133206176756L11.067,27.172933206176758L15.8482,26.485433206176758Q16.317,26.391633206176756,16.4732,25.95416320617676Q16.5982,25.51666320617676,16.2857,25.20416320617676L12.817,21.76666320617676L13.6295,16.891666206176758Q13.692,16.454166206176758,13.317,16.141666206176758Q12.942,15.891666206176758,12.5357,16.110416206176758L8.25446,18.39166320617676L3.97321,16.110416206176758Q3.56696,15.891666206176758,3.19196,16.172916206176758Q2.81696,16.454166206176758,2.87946,16.891666206176758L3.69196,21.76666320617676L0.223214,25.20416320617676Q-0.0892857,25.51666320617676,0.0357143,25.95416320617676Q0.191964,26.391633206176756,0.660714,26.485433206176758L5.44196,27.172933206176758L7.56696,31.579133206176756Q7.78571,31.985433206176758,8.25446,32.016633206176756ZM8.25446,29.547933206176758L6.59821,26.172933206176758L8.25446,29.547933206176758L6.59821,26.172933206176758Q6.44196,25.82916320617676,6.03571,25.73541320617676L2.34821,25.20416320617676L5.03571,22.54791320617676Q5.28571,22.26666320617676,5.25446,21.89166320617676L4.59821,18.14166320617676L7.91071,19.89166320617676Q8.25446,20.07916320617676,8.59821,19.89166320617676L11.8795,18.14166320617676L11.2545,21.89166320617676Q11.192,22.26666320617676,11.4732,22.54791320617676L14.1607,25.20416320617676L10.4732,25.73541320617676Q10.067,25.82916320617676,9.91071,26.172933206176758L8.25446,29.547933206176758Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),r$=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16.505903244018555,height:16.001562118530273,viewBox:"0 0 16.505903244018555 16.001562118530273",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,32.00312423706055)"},T.createElement("path",{d:"M9.15,31.440662118530273Q8.86875,31.971862118530275,8.24375,32.00316211853027Q7.65,31.971862118530275,7.3375,31.440662118530273L5.3375,27.315662118530273L0.8375,26.628162118530273Q0.24375,26.534362118530275,0.05625,25.97187211853027Q-0.13125,25.37812211853027,0.30625,24.94062211853027L3.55625,21.72187211853027L2.775,17.159372118530275Q2.7125,16.565625118530274,3.18125,16.190625118530274Q3.68125,15.846875118530274,4.24375,16.128125118530274L8.24375,18.253122118530275L12.275,16.128125118530274Q12.8062,15.846875118530274,13.3062,16.190625118530274Q13.8062,16.565625118530274,13.7125,17.159372118530275L12.9625,21.72187211853027L16.2125,24.94062211853027Q16.6187,25.37812211853027,16.4625,25.97187211853027Q16.2437,26.534362118530275,15.65,26.628162118530273L11.15,27.315662118530273L9.15,31.440662118530273Z",fill:"#FACC15",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function V8({disabled:e}){return e?h.jsx(n$,{className:"w-4 h-4"}):h.jsx(r$,{className:"w-4 h-4"})}function W8({subject:e,variant:t="contain",className:n,onClick:r,...i}){const s=Dy(c=>c.isFavorite(e.subjectId)),o=Dy(c=>c.toggleFavorite),a=s?" ":" ",u=c=>{o(e.subjectId),r&&r(c)};return h.jsx(lr,{variant:t,onClick:u,label:a,icon:h.jsx(V8,{disabled:!s}),"aria-label":a,className:n,...i})}function i$(e){const t=Sy(o=>o.tableTitles),n=!!(e&&e[0]&&"seat"in e[0]),r=e&&e[0]&&"totalCount"in e[0],{isPreSeatAvailable:i}=Vm({hasSeats:n});let s=[{title:"",visible:!0,key:""},...t.filter(o=>o.visible)];return r||(s=s.filter(o=>o.key!=="totalCount")),i||(s=s.filter(o=>o.key!=="seat")),s}function q8({data:e,isPending:t=!1}){const n=i$(e);return h.jsxs("table",{className:"w-full bg-white rounded-lg relative text-sm",children:[h.jsx("thead",{children:h.jsx("tr",{className:"bg-gray-50 sticky top-0 z-10 text-nowrap",children:n.map(({title:r})=>h.jsx("th",{className:"px-4 py-2",children:r},"table-header-name-"+r))})}),h.jsx("tbody",{children:h.jsx(s$,{headers:n,data:e,isPending:t})})]})}function s$({headers:e,data:t,isPending:n=!1}){const{visibleRows:r}=Qm(t??[],"selector"),i=t?t.slice(0,r):[];return n||!t?h.jsx(Dm,{row:5,col:e.length}):t.length?h.jsxs(h.Fragment,{children:[i.map(s=>h.jsx(o$,{data:s,tableHeaders:e},`${s.subjectCode} ${s.subjectId} ${s.professorName}`)),h.jsx("tr",{className:"load-more-trigger"})]}):h.jsx(K8,{col:e.length})}function K8({col:e}){return h.jsx("tr",{children:h.jsx("td",{colSpan:e,className:"text-center py-4",children:h.jsxs(Qe,{direction:"flex-col",align:"items-center",children:[h.jsx(fh,{className:"w-12 h-12"}),h.jsx("p",{className:"text-gray-500 font-bold mt-4",children:"  ."}),h.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"   ."})]})})})}const o$=({data:e,tableHeaders:t})=>{const n=e.curiLangNm==="",i=e.isDeleted?"bg-gray-100 hover:bg-gray-200":n?"bg-green-50 hover:bg-green-100":"bg-white hover:bg-gray-100";return h.jsxs("tr",{className:`border-t border-gray-200 text-black ${i}`,children:[h.jsx("td",{className:"px-4 py-2",children:h.jsx(Qe,{align:"items-center",gap:"gap-2",children:h.jsx(W8,{subject:e,variant:"plain"})})}),h.jsx(l$,{data:e,tableHeaders:t})]})},a$=(e,t)=>e.data.subjectId===t.data.subjectId&&"seat"in e=="seat"in t&&e.tableHeaders===t.tableHeaders,l$=T.memo(({data:e,tableHeaders:t})=>{const{selectTargetOnly:n}=gh();function r(){n(e.subjectId),Um(e.departmentCode??e.deptCd)}return t.slice(1,20).map(({key:i})=>h.jsx("td",{className:"px-4 py-2 text-center",children:h.jsx(Er,{to:`/wishes/${e.subjectId}`,onClick:r,children:h.jsx(u$,{data:e,headerType:i})})},i))},a$);function u$({data:e,headerType:t}){switch(t){case"":return h.jsx(h.Fragment,{children:""});case"totalCount":return h.jsx(c$,{wishCount:e.totalCount??-1});case"seat":return h.jsx(d$,{seat:e.seat});default:return e[t]?.toString()}}function c$({wishCount:e}){const t=u8(e);return e>=0?h.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${t}`,children:e}):h.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-gray-300",children:"-"})}function d$({seat:e}){return e>=0?h.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${Nl(e)}`,children:e}):h.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-gray-300",children:"-"})}function h$({titles:e,subjects:t,isPending:n=!1}){return h.jsxs("table",{className:"w-full bg-white rounded-lg relative text-sm",children:[h.jsx("thead",{children:h.jsx("tr",{className:"bg-gray-50 text-nowrap",children:e.map(({title:r})=>h.jsx("th",{className:"px-4 py-2",children:r},r))})}),h.jsx("tbody",{children:h.jsx(f$,{titles:e,subjects:t,isPending:n})})]})}function f$({titles:e,subjects:t,isPending:n=!1}){const{visibleRows:r}=Qm(t??[],"selector"),i=(t??[]).filter(o=>!o.isDeleted),s=i?i.slice(0,r):[];return n||!i?h.jsx(Dm,{row:5,col:e.length}):i.length?h.jsxs(h.Fragment,{children:[s.map(o=>h.jsx(p$,{subject:o},`${o.subjectCode} ${o.subjectId} ${o.professorName}`)),h.jsx("tr",{className:"load-more-trigger"})]}):h.jsx(K8,{col:e.length})}function p$({subject:e}){const t=e.curiLangNm==="",r=e.isDeleted?"bg-gray-100 hover:bg-gray-200":t?"bg-green-50 hover:bg-green-100":"bg-white hover:bg-gray-100",{data:i}=Bm(),{mutate:s}=ix(),{mutate:o}=g8(),{selectTargetOnly:a}=gh(),u=i?.some(f=>f.subjectId===e.subjectId),c=()=>{if(!u){o(e.subjectId);return}s(e.subjectId),a(e.subjectId),Um(e.deptCd)};return h.jsxs("tr",{className:`border-t border-gray-200 text-black ${r}`,children:[h.jsx("td",{className:"px-4 py-2 text-center",children:h.jsx("button",{className:"cursor-pointer","aria-label":u?"  ":"  ",onClick:c,children:h.jsx(uc,{disabled:!u})})}),h.jsxs("td",{className:"px-2 py-2 text-center",children:[e.subjectCode,"-",e.classCode]}),h.jsx("td",{className:"px-2 py-2 text-center",children:e.departmentName}),h.jsx("td",{className:"px-2 py-2 text-center",children:e.subjectName}),h.jsx("td",{className:"px-2 py-2 text-center",children:e.professorName}),e.seat!==void 0?h.jsx("td",{className:"px-2 py-2 text-center",children:e.seat>=0?h.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${Nl(e.seat)}`,children:e.seat}):h.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-gray-300",children:"-"})}):null]})}function G8(e){const{data:t,isPending:n}=_o(),r=zm(t,cc),i=r&&r[0]&&"seat"in r[0],s=T.useMemo(()=>i?[...e,{title:"",key:"seat"}]:e,[r,e]);return{data:r,titles:s,isPending:n,hasRealSeats:i}}function m$(e=200){const[t,n]=T.useState(!1);return T.useEffect(()=>{const i=()=>n(window.scrollY>e);return i(),window.addEventListener("scroll",i,{passive:!0}),()=>window.removeEventListener("scroll",i)},[e]),{isVisible:t,scrollToTop:()=>{window.scrollTo({top:0,behavior:"smooth"})}}}function Y8({right:e="right-2 sm:right-10",bottom:t="bottom-4"}){const{isVisible:n,scrollToTop:r}=m$(200);return h.jsx("button",{"aria-label":"  ",className:`fixed ${t} ${e} z-50 w-12 h-12 rounded-full bg-blue-500 text-white shadow-lg 
                  flex justify-center items-center cursor-pointer transition-opacity duration-200
                  ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:r,children:h.jsx(F_,{className:"w-6 h-6 -rotate-90"})})}const g$=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:14,height:16,viewBox:"0 0 14 16",...e},T.createElement("defs",null,T.createElement("clipPath",{id:"master_svg0_137_3346"},T.createElement("rect",{x:0,y:0,width:14,height:16,rx:0}))),T.createElement("g",{clipPath:"url(#master_svg0_137_3346)"},T.createElement("g",{transform:"matrix(1,0,0,-1,0,26.6875)"},T.createElement("g",null,T.createElement("path",{d:"M6.28125,13.625Q6.59375,13.34375,7,13.34375Q7.40625,13.34375,7.71875,13.625L13.7188,19.625Q14,19.9375,14,20.34375Q14,20.75,13.7188,21.0625Q13.4062,21.34375,13,21.34375Q12.5938,21.34375,12.2812,21.0625L7,15.75L1.71875,21.0625Q1.40625,21.34375,1,21.34375Q0.59375,21.34375,0.28125,21.0625Q0,20.75,0,20.34375Q0,19.9375,0.28125,19.625L6.28125,13.625Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))))),y$=e=>T.createElement("svg",{width:10,height:6,viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M8.25973 0.605623C8.55264 0.312924 9.02745 0.312795 9.32028 0.605623C9.61297 0.898463 9.61293 1.37331 9.32028 1.66617L5.54098 5.44449C5.24809 5.73737 4.77332 5.73738 4.48043 5.44449L0.702114 1.66617C0.409291 1.37328 0.409254 0.898495 0.702114 0.605623C0.994986 0.312752 1.46976 0.312796 1.76266 0.605623L5.01071 3.85367L8.25973 0.605623Z",fill:"#047CFE"})),v$=({className:e,selected:t=!1})=>t?h.jsx(y$,{className:e}):h.jsx(g$,{className:e}),x$=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:10,height:10,viewBox:"0. 0. 11 11",...e},T.createElement("g",{transform:"matrix(1,0,0,-1,0,20)"},T.createElement("path",{d:"M9.71875,18.28125Q10,18.59375,10,19Q10,19.40625,9.71875,19.71875Q9.40625,20,9,20Q8.59375,20,8.28125,19.71875L5,16.40625L1.71875,19.71875Q1.40625,20,1,20Q0.59375,20,0.28125,19.71875Q0,19.40625,0,19Q0,18.59375,0.28125,18.28125L3.59375,15L0.28125,11.71875Q0,11.40625,0,11Q0,10.59375,0.28125,10.28125Q0.59375,10,1,10Q1.40625,10,1.71875,10.28125L5,13.59375L8.28125,10.28125Q8.59375,10,9,10Q9.40625,10,9.71875,10.28125Q10,10.59375,10,11Q10,11.40625,9.71875,11.71875L6.40625,15L9.71875,18.28125Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),b$=e=>T.createElement("svg",{width:12,height:13,viewBox:"0 0 12 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M9.25946 2.20234C9.55235 1.90944 10.0271 1.90944 10.32 2.20234C10.6129 2.49523 10.6129 2.97 10.32 3.26288L7.07196 6.51093L10.32 9.75898C10.6129 10.0519 10.6129 10.5276 10.32 10.8205C10.0272 11.113 9.55228 11.1131 9.25946 10.8205L6.01044 7.57148L2.76337 10.8205C2.47049 11.1134 1.99474 11.1134 1.70184 10.8205C1.40895 10.5276 1.40896 10.0519 1.70184 9.75898L4.94989 6.51093L1.70184 3.26288C1.40922 2.97007 1.4093 2.4952 1.70184 2.20234C1.99474 1.90944 2.47047 1.90944 2.76337 2.20234L6.01044 5.44941L9.25946 2.20234Z",fill:"#047CFE"})),w$=({className:e,selected:t=!1})=>t?h.jsx(b$,{className:e}):h.jsx(x$,{className:e});function _$(e){return e?"bg-blue-100 text-blue-500 focus:outline-blue-500 hover:bg-blue-200":"bg-gray-100 text-gray-700 focus:outline-gray-400 hover:bg-gray-200"}function oi({label:e="Chip",selected:t,chipType:n,containerRef:r,onClick:i,isChipOpen:s,...o}){return h.jsxs("button",{type:"button",ref:r,className:`items-center justify-center px-3 rounded-full cursor-pointer md:text-sm gap-4 flex flex-row ${_$(t)} ${n==="cancel"?"rounded-full text-xs py-1":"rounded-lg text-sm py-2"}
      `,"aria-pressed":t,onClick:i,...o,children:[h.jsx("span",{className:"text-xs sm:text-sm truncate",children:e}),n==="select"&&h.jsx(v$,{selected:t,className:`w-4 h-4 pointer-events-none transition-transform duration-200
    ${s?"rotate-180":"rotate-0"}
  `}),n==="cancel"&&h.jsx(w$,{selected:t,className:"pointer-events-none"})]})}const S$=({elem:e,tabRefs:t,initialState:n})=>{const[r,i]=T.useState(n);return T.useEffect(()=>{const s=o=>{(Array.isArray(t)?t:[t]).some(c=>c.current&&c.current.contains(o.target))?i(!0):e.current&&!e.current.contains(o.target)&&i(!1)};return r?window.addEventListener("click",s):window.removeEventListener("click",s),()=>{window.removeEventListener("click",s)}},[r,e,t]),[r,i]};function C$({children:e,contentRef:t,className:n="",isChipOpen:r}){return r?h.jsx("div",{ref:t,className:`
        absolute left-0 top-full mt-2 z-20
        flex flex-col gap-1 rounded-lg border border-gray-200 bg-white shadow-lg
        overflow-hidden p-4
        min-w-[150px]
        transform origin-top
        transition-all duration-300 [cubic-bezier(0.22,1,0.36,1)]
        opacity-100 scale-y-100
        ${n}
      `,role:"listbox",children:e}):null}function bh({label:e,selected:t,children:n,className:r=""}){const i=T.useRef(null),s=T.useRef(null),[o,a]=S$({elem:s,tabRefs:i,initialState:!1}),u=()=>{a(!o)};return h.jsxs("div",{className:`relative inline-block ${r}`,children:[h.jsx(oi,{isChipOpen:o,label:e,containerRef:i,chipType:"select",selected:t,onClick:u}),h.jsx(C$,{isChipOpen:o,contentRef:s,className:r,children:n})]})}const px=e=>T.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M9 14C10.1867 14 11.3467 13.6481 12.3334 12.9888C13.3201 12.3295 14.0892 11.3925 14.5433 10.2961C14.9974 9.19975 15.1162 7.99335 14.8847 6.82946C14.6532 5.66558 14.0818 4.59648 13.2426 3.75736C12.4035 2.91825 11.3344 2.3468 10.1705 2.11529C9.00666 1.88378 7.80026 2.0026 6.7039 2.45673C5.60754 2.91085 4.67047 3.67989 4.01118 4.66658C3.35189 5.65328 3 6.81331 3 8V11.1L1.2 9.3L0.5 10L3.5 13L6.5 10L5.8 9.3L4 11.1V8C4 7.0111 4.29324 6.0444 4.84265 5.22215C5.39206 4.39991 6.17295 3.75904 7.08658 3.38061C8.00021 3.00217 9.00555 2.90315 9.97545 3.09608C10.9454 3.289 11.8363 3.76521 12.5355 4.46447C13.2348 5.16373 13.711 6.05465 13.9039 7.02455C14.0969 7.99446 13.9978 8.99979 13.6194 9.91342C13.241 10.8271 12.6001 11.6079 11.7779 12.1574C10.9556 12.7068 9.98891 13 9 13V14Z",fill:"#047CFE"}));function Np({selectedValues:e,filterKey:t,setFilter:n,options:r,ItemComponent:i,className:s}){const o=la(),a=Ki(),u=f=>{console.log("optionValue",f);const g=e?.includes(f)?e?.filter(x=>x!==f):[...e??[],f];n(t,g??null)},c=()=>{n(t,null)};return h.jsxs("div",{className:"relative inline-block ",children:[h.jsx(Qi,{children:si[t]}),h.jsx(Qe,{direction:"flex-wrap",gap:"gap-2",className:s??"mt-1",children:r.map(f=>h.jsx(i,{label:o[t]?.(f)??String(f),selected:e?.includes(f)??!1,onClick:()=>u(f)},String(f)))}),!a&&h.jsx(Qe,{justify:"justify-end",children:h.jsxs(mn,{variant:"text",size:"small",textColor:"gray",onClick:()=>c(),children:[h.jsx(px,{className:"inline w-3 h-3 mr-1",stroke:"currentColor"}),""]})})]})}const k$=e=>T.createElement("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M4.50007 8.08504L2.76507 6.35004C2.67158 6.25655 2.54479 6.20403 2.41257 6.20403C2.28036 6.20403 2.15356 6.25655 2.06007 6.35004C1.96658 6.44353 1.91406 6.57033 1.91406 6.70254C1.91406 6.768 1.92696 6.83283 1.95201 6.89331C1.97706 6.95379 2.01378 7.00875 2.06007 7.05504L4.15007 9.14504C4.34507 9.34004 4.66007 9.34004 4.85507 9.14504L10.1451 3.85504C10.2386 3.76155 10.2911 3.63475 10.2911 3.50254C10.2911 3.37033 10.2386 3.24353 10.1451 3.15004C10.0516 3.05655 9.92479 3.00403 9.79257 3.00403C9.66036 3.00403 9.53356 3.05655 9.44007 3.15004L4.50007 8.08504Z",fill:"#047CFE"}));function X8({label:e="checkbox",...t}){return h.jsxs("label",{htmlFor:"checkbox-"+e,className:"flex flex-row items-center gap-3 text-md ",children:[h.jsxs("div",{className:"relative w-5 h-5",children:[h.jsx("input",{id:"checkbox-"+e,type:"checkbox",className:`
            appearance-none w-5 h-5 rounded-sm border cursor-pointer transition-colors hover:bg-gray-50
            ${t.checked?"bg-blue-50 border-blue-500":"bg-white border-gray-400"}
          `,...t}),t.checked&&h.jsx(k$,{className:"absolute inset-0 m-auto w-4 h-4 pointer-events-none text-white"})]}),h.jsx("span",{className:`${t.checked?"text-blue-500":"text-gray-600"} cursor-pointer hover:text-gray-400`,children:e})]})}function J8({label:e,selected:t,onClick:n}){return h.jsx(X8,{label:e,checked:t,onChange:n})}function Nn({filterKey:e,selectedValues:t,options:n,setFilter:r,ItemComponent:i,className:s}){const o=Ki(),a=Pz(e,t),u=o?oi:J8,c=h.jsx(Np,{filterKey:e,selectedValues:t,setFilter:(f,p)=>r(f,p??[]),options:n,ItemComponent:i||u});return o?c:h.jsx(bh,{label:a,selected:(t??[]).length>0,className:s,children:c})}function j$({selectedValue:e,filterKey:t,setFilter:n}){const[r,i]=T.useState({min:e?.min??0,max:e?.max??0}),s=(o,a)=>{const u={...r,[o]:a};i(u),n(t,u)};return h.jsxs("div",{className:"relative inline-block w-full space-y-2",children:[h.jsx(Qi,{children:" "}),h.jsxs(Qe,{gap:"gap-2",children:[h.jsx(ny,{type:"text",placeholder:"",value:r.min,onChange:o=>{const a=o.target.value.replace(/[^\d]/g,"");s("min",a)},className:"w-full"}),h.jsx("span",{className:"flex items-center text-gray-400",children:"~"}),h.jsx(ny,{type:"text",placeholder:"",value:r.max,onChange:o=>{const a=o.target.value.replace(/[^\d]/g,"");s("max",a)},className:"w-full"})]})]})}function E$({selectedValue:e,filterKey:t,setFilter:n,options:r,ItemComponent:i,className:s,isMinMax:o=!1}){const a=Ki(),u=p=>{n(t,e===p?null:p)},c=()=>{n(t,null)},f=la();return h.jsxs("div",{className:"relative inline-block",children:[h.jsx(Qi,{children:si[t]}),h.jsx(Qe,{direction:"flex-wrap",gap:"gap-2",className:s??"mt-1",children:r.map(p=>h.jsx(i,{label:f[t]?.(p)??String(p),selected:e===p,onClick:()=>u(p)},String(p)))}),o&&h.jsx("div",{className:"mt-2",children:h.jsx(j$,{selectedValue:e,filterKey:t,setFilter:(p,g)=>n(p,g),options:r})}),!a&&h.jsx(Qe,{justify:"justify-end",children:h.jsxs(mn,{variant:"text",size:"small",textColor:"gray",onClick:()=>c(),children:[h.jsx(px,{className:"inline w-3 h-3 mr-1",stroke:"currentColor"}),""]})})]})}function tc({filterKey:e,options:t,ItemComponent:n,selectedValue:r,setFilter:i,className:s,isMinMax:o}){const a=Ki(),u=Oz(e,r)??"",c=h.jsx(E$,{selectedValue:r,filterKey:e,setFilter:(f,p)=>i(f,p),options:t,ItemComponent:n,isMinMax:o});return a?c:h.jsx(bh,{label:u,selected:!!r,className:s,children:c})}function m4({className:e,onChange:t,...n}){return h.jsx("input",{type:"time",className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:outline-blue-500 "+e,placeholder:"HH:MM",step:600,onChange:r=>{r.target.value=T$(r.target.value),console.log("Time changed:",r.target.value),t&&t(r)},...n})}function T$(e){const[t,n]=e.split(":").map(Number);if(isNaN(t)||isNaN(n))return"00:00";const r=Math.round(n/10)%6*10,i=String(t).padStart(2,"0"),s=String(r).padStart(2,"0");return`${i}:${s}`}function Fy({items:e,onChange:t}){T.useEffect(()=>{if(e.length===0){t([{day:"",type:"all"}]);return}const i=P$(e);i&&t(i)},[e]);const n=i=>s=>{const{name:o,value:a}=s.target,u=[...e];u[i]={...u[i],[o]:a},t(u)},r=i=>()=>{const s=e.filter((o,a)=>a!==i);t(s)};return h.jsxs(h.Fragment,{children:[h.jsx(Qi,{children:""}),h.jsx(Qe,{direction:"flex-col",gap:"gap-2",children:e.map((i,s)=>h.jsx(N$,{item:i,onChange:n(s),onDelete:r(s)},`${i.day}-${i.type}-${i.start}-${i.end}`))}),h.jsx(mn,{variant:"text",size:"small",onClick:()=>t([...e,{day:"",type:"all"}]),children:" "})]})}function N$({item:e,onChange:t,onDelete:n}){const r=!!e.day,i=e.type!="all",s=e.type==="between";return h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("select",{name:"day",value:e.day,onChange:t,className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:[h.jsx("option",{value:"",children:""}),["","","","","","",""].map(o=>h.jsx("option",{value:o,children:o},o))]}),r&&h.jsxs("select",{name:"type",value:e.type,onChange:t,className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:[h.jsx("option",{value:"all",children:""}),h.jsx("option",{value:"before",children:""}),h.jsx("option",{value:"after",children:""}),h.jsx("option",{value:"between",children:""})]}),i&&h.jsx(m4,{name:"start",value:e.start||"00:00",onChange:t}),s&&h.jsx(m4,{name:"end",value:e.end||"00:00",onChange:t}),h.jsx(mn,{variant:"text",size:"small",textColor:"secondary",onClick:n,children:""})]})}function P$(e){return e.some(n=>n.day===""?n.type!=="all"||n.start||n.end:n.type==="all"?n.start||n.end:n.type==="before"||n.type==="after"?!n.start||n.end:n.type==="between"?!n.start||!n.end:!1)?e.map(n=>n.day===""?{day:"",type:"all"}:n.type==="all"?{day:n.day,type:"all"}:n.type==="before"||n.type==="after"?{day:n.day,type:n.type,start:n.start||"00:00"}:n.type==="between"?{day:n.day,type:n.type,start:n.start||"00:00",end:n.end||"00:00"}:n):e}function Z8({times:e,setFilter:t}){const n=(o,a)=>{t("time",a)},r=Ki(),s=e.length===1&&e[0].type==="all"&&e[0].day===""?"":e.length===1?` ${e[0].day}`:e.length>1?` ${e[0].day}  ${e.length-1}`:"";return r?h.jsx(Fy,{items:e,onChange:o=>n("time",o)}):h.jsxs(bh,{label:s,selected:e.length>0&&e[0].day!=="",className:"min-w-max",children:[h.jsx(Qi,{children:" "}),h.jsx(Fy,{items:e,onChange:o=>n("time",o)})]})}function mx({onCloseFiltering:e,filters:t,setFilter:n,resetFilter:r}){const i=()=>{e()},{data:s}=qi(),o=Tl(),a=yh(s??[]).sort((f,p)=>f.localeCompare(p)).map(f=>f),u=dx(t,o.data),c=(f,p)=>{const g=t[f];Array.isArray(g)?n(f,g.filter(x=>x!==p)):n(f,pa[f])};return h.jsxs(vh,{children:[h.jsx(xh,{headerType:"close",title:"",onClose:()=>{e()}}),h.jsxs("div",{className:"w-full flex px-4 flex-col h-[85vh] gap-5 overflow-y-auto overscroll-contain",children:[h.jsx(Qe,{direction:"flex-wrap",gap:"gap-2",children:u.map(f=>h.jsx(oi,{chipType:"cancel",label:f.label,selected:!0,onClick:()=>c(f.filterKey,f.values)},`${f.filterKey}-${f.values}`))}),h.jsxs(Qe,{direction:"flex-col",justify:"justify-center",gap:"gap-8",className:"w-full",children:[h.jsx($m,{className:"cursor-pointer border-gray-100 rounded-sm py-1 text-sm",value:t.department,onChange:f=>n("department",f.target.value)}),h.jsx(tc,{filterKey:"wishRange",options:cn.wishRange,selectedValue:t.wishRange??null,setFilter:n,ItemComponent:oi}),h.jsx(tc,{filterKey:"seatRange",options:cn.seatRange,selectedValue:t.seatRange??null,setFilter:n,ItemComponent:oi}),h.jsx(Qe,{direction:"flex-col",gap:"gap-2",children:h.jsx(Z8,{times:t.time,setFilter:n})}),h.jsx(Nn,{filterKey:"credits",options:cn.credits,selectedValues:t.credits??[],setFilter:n}),h.jsx(Nn,{filterKey:"grades",options:cn.grades,selectedValues:t.grades??[],setFilter:n}),h.jsx(Nn,{filterKey:"classroom",options:cn.classRoom,selectedValues:t.classroom??[],setFilter:n}),h.jsx(Nn,{filterKey:"note",options:cn.remark,selectedValues:t.note??[],setFilter:n}),h.jsx(Nn,{filterKey:"categories",options:a,selectedValues:t.categories??[],setFilter:n}),h.jsxs("div",{className:"sticky bottom-0 py-3 bg-white flex justify-end items-center gap-2 border-gray-200",children:[h.jsx(mn,{variant:"outlined",size:"medium",onClick:r,children:" "}),h.jsx(mn,{type:"submit",variant:"primary",size:"medium",onClick:i,children:""})]})]})]})]})}const eS=e=>T.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M7.18066 10.5625C7.88416 10.5629 8.47281 11.0824 8.63086 11.7812H14.625C14.8321 11.7812 15 11.9491 15 12.1562C15 12.3634 14.8321 12.5312 14.625 12.5312H8.63086C8.47281 13.2301 7.88416 13.7496 7.18066 13.75C6.47688 13.75 5.88776 13.2303 5.72949 12.5312H1.375C1.16789 12.5312 1 12.3634 1 12.1562C1 11.9491 1.16789 11.7812 1.375 11.7812H5.72949C5.88776 11.0822 6.47688 10.5625 7.18066 10.5625ZM7.18066 11.2812C6.72774 11.2812 6.36035 11.673 6.36035 12.1562C6.36035 12.6395 6.72774 13.0312 7.18066 13.0312C7.63324 13.0308 8 12.6392 8 12.1562C8 11.6733 7.63324 11.2817 7.18066 11.2812ZM11.7197 6.40625C12.4233 6.40647 13.0117 6.92611 13.1699 7.625H14.625C14.8321 7.625 15 7.79289 15 8C15 8.20711 14.8321 8.375 14.625 8.375H13.1699C13.0117 9.0739 12.4233 9.59353 11.7197 9.59375C11.0161 9.59356 10.4277 9.07393 10.2695 8.375H1.375C1.16789 8.375 1 8.20711 1 8C1 7.79289 1.16789 7.625 1.375 7.625H10.2695C10.4277 6.92608 11.0161 6.40644 11.7197 6.40625ZM11.7197 7.125C11.267 7.12523 10.9004 7.51689 10.9004 8C10.9004 8.48311 11.267 8.87477 11.7197 8.875C12.1724 8.87474 12.54 8.48309 12.54 8C12.54 7.51691 12.1724 7.12526 11.7197 7.125ZM5.07129 2.25C5.77489 2.2502 6.36337 2.76981 6.52148 3.46875H14.625C14.8321 3.46875 15 3.63664 15 3.84375C15 4.05086 14.8321 4.21875 14.625 4.21875H6.52148C6.36337 4.91769 5.77489 5.43729 5.07129 5.4375C4.36758 5.43737 3.77832 4.9178 3.62012 4.21875H1.375C1.16789 4.21875 1 4.05086 1 3.84375C1 3.63664 1.16789 3.46875 1.375 3.46875H3.62012C3.77832 2.7697 4.36758 2.25013 5.07129 2.25ZM5.07129 2.96875C4.61849 2.9689 4.25098 3.36059 4.25098 3.84375C4.25098 4.32691 4.61849 4.7186 5.07129 4.71875C5.52402 4.71852 5.89062 4.32686 5.89062 3.84375C5.89062 3.36064 5.52402 2.96898 5.07129 2.96875Z",fill:"#9CA3AF"}));function gx({handleOpenFilter:e}){return h.jsx(lr,{"aria-label":" ",label:" ",variant:"contain",icon:h.jsx(eS,{className:"w-4 h-4 "}),onClick:e})}function O$({alarmOnly:e,setFilter:t}){return h.jsxs(mn,{variant:"outlined",size:"medium",onClick:()=>t("alarmOnly",!e),children:[h.jsx(uc,{disabled:!e}),""]})}function yx({setFilter:e,selectedValue:t}){const{data:n}=Tl(),[r,i]=T.useState(""),[s,o]=T.useState(""),a=T.useMemo(()=>[{departmentName:"",departmentCode:""},...n??[]],[n]),[u,c]=T.useState(a);return T.useEffect(()=>{const f=a.filter(p=>s===""?p.departmentCode==="9005":s===""?p.departmentCode!=="9005":!0).filter(p=>{const g=r?.replace(/[^\w\s---]/g,""),x=ec(g).toLowerCase(),w=p.departmentName.replace(/[^\w\s---]/g,"");return ec(w).toLowerCase().includes(x)});c(f)},[n,r,s]),h.jsxs(bh,{label:By(t,a),selected:!!t,children:[h.jsxs(Qe,{direction:"flex-col",className:" h-80 max-h-80 w-[300px] overflow-y-auto",children:[h.jsxs(Qe,{className:"shrink-0 px-2 pt-2 bg-white",gap:"gap-2",children:[h.jsxs("select",{value:s,className:"border border-gray-300 rounded-md py-1 text-sm text-gray-700 bg-white",onChange:f=>{const p=f.target.value;o(p),e("department","")},children:[h.jsx("option",{value:"",children:""}),h.jsx("option",{value:"",children:""})]}),h.jsx(Ol,{type:"text",placeholder:" ",onDelete:()=>{i("")},value:r,onChange:f=>{i(f.target.value)},className:"w-full"})]}),h.jsx("div",{className:"overflow-y-auto flex-1 px-2 py-2 ",children:(s===""||s==="")&&h.jsx(L$,{departments:u,setFilter:e,selectedValue:t})})]}),h.jsx(Qe,{justify:"justify-end",className:"w-full pt-1",children:h.jsxs(mn,{variant:"text",size:"small",textColor:"gray",onClick:()=>e("department",""),children:[h.jsx(px,{className:"inline w-3 h-3 mr-1",stroke:"currentColor"}),""]})})]})}function L$({departments:e,setFilter:t,selectedValue:n}){const r=i=>{t("department",i||"")};return h.jsx(h.Fragment,{children:e?.map(i=>h.jsx("div",{role:"option","aria-selected":By(n,e)===i.departmentName,className:`flex items-center gap-1 px-2 py-2 rounded cursor-pointer text-sm ${By(n,e)===i.departmentName?"bg-blue-50 text-blue-500 font-medium":"hover:bg-gray-50 text-gray-700"}`,onClick:()=>r(i.departmentCode),children:i.departmentName},i.departmentCode))})}function By(e,t){const n=t?.find(r=>r.departmentCode===e)?.departmentName;return n||" ."}const R$=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M3 4H17L12 10.5V20L8 16V10.5L3 4Z",stroke:"#047CFE",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),T.createElement("path",{d:"M16 15L22 21",stroke:"#047CFE",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),T.createElement("path",{d:"M16 21L22 15",stroke:"#047CFE",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function vx({filters:e,resetFilter:t}){return Object.keys(e).some(i=>!$8(i,e[i]))?h.jsx(oa,{label:h.jsxs(Qe,{align:"items-center",gap:"gap-1",children:[h.jsx("span",{children:" "}),h.jsx(R$,{className:"w-4 h-4"})]}),selected:!0,onClick:t}):null}function xx({filterStore:e,onClose:t}){const{classroom:n,note:r,categories:i,time:s}=e(w=>w.filters),o=Tl(),a=e(w=>w.filters),u=e(w=>w.setFilter),c=e(w=>w.resetFilters),f=dx(a,o.data),{data:p}=qi(),g=yh(p??[]).sort((w,S)=>w.localeCompare(S)).map(w=>w),x=(w,S)=>{const k=a[w];Array.isArray(k)?u(w,k.filter(E=>E!==S)):u(w,pa[w])};return h.jsxs(_i,{title:" ",onClose:t,isOpen:!0,children:[h.jsx(Qe,{direction:"flex-row",children:h.jsx(_i.Content,{children:h.jsxs(Qe,{direction:"flex-col",gap:"gap-4",className:"w-130",children:[h.jsx(Cr,{variant:"outlined",children:h.jsx(Np,{selectedValues:i,options:g,filterKey:"categories",setFilter:u,ItemComponent:oi,className:"md:overflow-y-visible"})}),h.jsx(Cr,{variant:"outlined",children:h.jsx(Fy,{items:s,onChange:w=>u("time",w)})}),h.jsx(Cr,{variant:"outlined",children:h.jsx(Np,{selectedValues:r,options:cn.remark,filterKey:"note",setFilter:u,ItemComponent:oi,className:"md:overflow-y-visible"})}),h.jsx(Cr,{variant:"outlined",children:h.jsx(Np,{selectedValues:n,options:cn.classRoom,filterKey:"classroom",setFilter:u,ItemComponent:oi,className:"md:overflow-y-visible"})})]})})}),h.jsx(_i.Footer,{children:h.jsxs(Qe,{direction:"flex-col",gap:"gap-2",children:[h.jsx(Qe,{gap:"gap-2",direction:"flex-wrap",justify:"justify-end",className:"w-120",children:f.map(w=>h.jsx(oi,{chipType:"cancel",label:w.label,selected:!0,onClick:()=>x(w.filterKey,w.values)},`${w.filterKey}-${w.values}`))}),h.jsx(Qe,{justify:"justify-end",children:h.jsx(mn,{variant:"primary",size:"medium",onClick:c,children:" "})})]})})]})}function A$(){const[e,t]=T.useState(!1),[n,r]=T.useState(!1),i=zu(w=>w.setFilter),{keywords:s,alarmOnly:o,time:a}=zu(w=>w.filters),u=zu(w=>w.filters),c=zu(w=>w.resetFilters),f=Ki(),{data:p}=qi(),g=yh(p??[]).sort((w,S)=>w.localeCompare(S)).map(w=>w),x=()=>{f?r(!0):t(!0)};return h.jsxs(Qe,{direction:"flex-wrap",gap:"gap-2",children:[h.jsx(Qi,{className:"hidden",htmlFor:"searchOption",children:" "}),h.jsx(Ol,{placeholder:",      ",value:s,className:"w-full",onDelete:()=>i("keywords",""),onChange:w=>i("keywords",w.target.value)}),e&&h.jsx(xx,{filterStore:zu,onClose:()=>t(!1)}),n&&h.jsx(mx,{onCloseFiltering:()=>r(!1),filters:u,setFilter:i,resetFilter:c}),h.jsxs(Qe,{align:"items-center",direction:"flex-wrap",gap:"gap-2",children:[h.jsxs(Qe,{direction:"flex-wrap",gap:"gap-2",className:"hidden md:flex",children:[h.jsx(yx,{selectedValue:u.department??"",setFilter:i}),h.jsx(Z8,{times:a,setFilter:i}),h.jsx(Nn,{filterKey:"credits",options:cn.credits,selectedValues:u.credits??[],setFilter:i}),h.jsx(Nn,{filterKey:"grades",options:cn.grades,selectedValues:u.grades??[],setFilter:i}),u.classroom.length>0&&h.jsx(Nn,{filterKey:"classroom",options:cn.classRoom,selectedValues:u.classroom??[],setFilter:i,className:"min-w-max"}),h.jsx(Nn,{filterKey:"note",options:cn.remark,selectedValues:u.note??[],setFilter:i}),u.categories.length>0&&h.jsx(Nn,{filterKey:"categories",options:g,selectedValues:u.categories??[],setFilter:i,className:"min-w-max"}),h.jsx(tc,{filterKey:"wishRange",options:cn.wishRange,selectedValue:u.wishRange??null,setFilter:i,ItemComponent:oa}),h.jsx(tc,{filterKey:"seatRange",options:cn.seatRange,selectedValue:u.seatRange??null,setFilter:i,ItemComponent:oa})]}),h.jsx(vx,{filters:u,resetFilter:c}),h.jsx(gx,{handleOpenFilter:x}),h.jsx(O$,{alarmOnly:o,setFilter:i})]})]})}const M$=[{title:"",key:"pin"},{title:"",key:"code"},{title:"",key:"departmentName"},{title:"",key:"name"},{title:"",key:"professor"}],I$=({isMobile:e,filters:t})=>{const{data:n,titles:r,isPending:i}=G8(M$),s=ph(n),o=T.useDeferredValue(hc(s??[],t));return h.jsx(Cr,{children:e?h.jsx(cx,{subjects:o,isPending:i,isLive:!0}):h.jsx(h$,{titles:r,subjects:o,isPending:i})})},D$=()=>{const e=Ki(),t=zu(n=>n.filters);return h.jsxs(h.Fragment,{children:[h.jsx(Xn,{children:h.jsx("title",{children:"ALLCLL |  "})}),h.jsxs(Qe,{direction:"flex-col",className:"mb-4",children:[h.jsx(dr,{level:2,children:" "}),h.jsxs(rh,{children:["   ,    .",h.jsx("br",{}),"  ",Q8,", 11:00  ."]}),h.jsxs(Cr,{children:[h.jsx(A$,{}),h.jsx(tx,{})]}),h.jsx(I$,{isMobile:e,filters:t}),h.jsx(Y8,{right:"right-2 sm:right-10"})]})]})};function F$(){const e=em(i=>i.isSearchOpen),t=em(i=>i.setIsSearchOpen),n=Ki(),{isPreSeatAvailable:r}=Vm();return h.jsxs(h.Fragment,{children:[h.jsx(Xn,{children:h.jsx("title",{children:"ALLCLL |   "})}),h.jsxs(Qe,{className:"overflow-hidden min-h-screen",children:[h.jsxs(Qe,{direction:"flex-col",className:"max-w-screen-xl mx-auto p-4 mb-8 container",children:[h.jsxs(rh,{children:["     .    ",h.jsx("a",{href:"https://forms.gle/bCDTVujEHunnvHe88",target:"_blank",className:"text-blue-500 underline hover:text-blue-600",children:""})]}),!r&&h.jsx(lF,{}),h.jsx(mm,{columns:{base:1},gap:"gap-4",children:r?h.jsx(D$,{}):h.jsx(SD,{title:""})})]}),!n&&h.jsx(Yz,{isOpen:e,onClose:()=>t(!1)})]}),n&&e&&h.jsx(t$,{onCloseSearch:()=>t(!1)})]})}function B$(){const[e,t]=T.useState(!1);return h.jsxs(h.Fragment,{children:[h.jsx(Xn,{children:h.jsx("title",{children:"ALLCLL | "})}),h.jsxs("div",{className:"mx-auto flex flex-col justify-center bg-blue-100 h-max",children:[h.jsx("iframe",{src:"https://resilient-may-c73.notion.site/ebd/1f2acf7c316280939afed2657259c817",width:"100%",height:e?"1000":"0",onLoad:()=>t(!0),children:" "}),!e&&h.jsx("div",{className:"w-4xl mx-auto h-screen flex justify-center items-center text-3xl",children:" ..."})]})]})}function z$(){const[e,t]=T.useState(!1);return h.jsxs(h.Fragment,{children:[h.jsx(Xn,{children:h.jsx("title",{children:"ALLCLL |   "})}),h.jsxs("div",{className:"mx-auto flex justify-center bg-blue-100 pt-4",children:[h.jsx("iframe",{src:"https://docs.google.com/forms/d/e/1FAIpQLSdk7MxNYVyzPyJLecQdJU5wGSgdE7rUWtRfcrPBY2ioKbtW2Q/viewform?embedded=true",width:"640",height:e?"1100":"0",onLoad:()=>t(!0),children:" "}),!e&&h.jsx("div",{className:"w-4xl h-screen flex items-center text-3xl",children:" ..."})]})]})}function g4(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}const Br=ba(/[A-Za-z]/),jr=ba(/[\dA-Za-z]/),$$=ba(/[#-'*+\--9=?A-Z^-~]/);function im(e){return e!==null&&(e<32||e===127)}const zy=ba(/\d/),U$=ba(/[\dA-Fa-f]/),H$=ba(/[!-/:-@[-`{-~]/);function ht(e){return e!==null&&e<-2}function sn(e){return e!==null&&(e<0||e===32)}function Dt(e){return e===-2||e===-1||e===32}const Wm=ba(new RegExp("\\p{P}|\\p{S}","u")),Sl=ba(/\s/);function ba(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Q$(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const qm=function(e){if(e==null)return K$;if(typeof e=="function")return Km(e);if(typeof e=="object")return Array.isArray(e)?V$(e):W$(e);if(typeof e=="string")return q$(e);throw new Error("Expected function, string, or object as test")};function V$(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=qm(e[n]);return Km(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function W$(e){const t=e;return Km(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function q$(e){return Km(t);function t(n){return n&&n.type===e}}function Km(e){return t;function t(n,r,i){return!!(G$(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function K$(){return!0}function G$(e){return e!==null&&typeof e=="object"&&"type"in e}const tS=[],Y$=!0,$y=!1,X$="skip";function nS(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=qm(i),o=r?-1:1;a(e,void 0,[])();function a(u,c,f){const p=u&&typeof u=="object"?u:{};if(typeof p.type=="string"){const x=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(u.type+(x?"<"+x+">":""))+")"})}return g;function g(){let x=tS,w,S,k;if((!t||s(u,c,f[f.length-1]||void 0))&&(x=J$(n(u,f)),x[0]===$y))return x;if("children"in u&&u.children){const E=u;if(E.children&&x[0]!==X$)for(S=(r?E.children.length:-1)+o,k=f.concat(E);S>-1&&S<E.children.length;){const L=E.children[S];if(w=a(L,S,k)(),w[0]===$y)return w;S=typeof w[1]=="number"?w[1]:S+o}}return x}}}function J$(e){return Array.isArray(e)?e:typeof e=="number"?[Y$,e]:e==null?tS:[e]}function Z$(e,t,n){const i=qm((n||{}).ignore||[]),s=eU(t);let o=-1;for(;++o<s.length;)nS(e,"text",a);function a(c,f){let p=-1,g;for(;++p<f.length;){const x=f[p],w=g?g.children:void 0;if(i(x,w?w.indexOf(x):void 0,g))return;g=x}if(g)return u(c,f)}function u(c,f){const p=f[f.length-1],g=s[o][0],x=s[o][1];let w=0;const k=p.children.indexOf(c);let E=!1,L=[];g.lastIndex=0;let R=g.exec(c.value);for(;R;){const z=R.index,U={index:R.index,input:R.input,stack:[...f,c]};let P=x(...R,U);if(typeof P=="string"&&(P=P.length>0?{type:"text",value:P}:void 0),P===!1?g.lastIndex=z+1:(w!==z&&L.push({type:"text",value:c.value.slice(w,z)}),Array.isArray(P)?L.push(...P):P&&L.push(P),w=z+R[0].length,E=!0),!g.global)break;R=g.exec(c.value)}return E?(w<c.value.length&&L.push({type:"text",value:c.value.slice(w)}),p.children.splice(k,1,...L)):L=[c],k+L.length}}function eU(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([tU(i[0]),nU(i[1])])}return t}function tU(e){return typeof e=="string"?new RegExp(Q$(e),"g"):e}function nU(e){return typeof e=="function"?e:function(){return e}}const v1="phrasing",x1=["autolink","link","image","label"];function rU(){return{transforms:[cU],enter:{literalAutolink:sU,literalAutolinkEmail:b1,literalAutolinkHttp:b1,literalAutolinkWww:b1},exit:{literalAutolink:uU,literalAutolinkEmail:lU,literalAutolinkHttp:oU,literalAutolinkWww:aU}}}function iU(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:v1,notInConstruct:x1},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:v1,notInConstruct:x1},{character:":",before:"[ps]",after:"\\/",inConstruct:v1,notInConstruct:x1}]}}function sU(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function b1(e){this.config.enter.autolinkProtocol.call(this,e)}function oU(e){this.config.exit.autolinkProtocol.call(this,e)}function aU(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function lU(e){this.config.exit.autolinkEmail.call(this,e)}function uU(e){this.exit(e)}function cU(e){Z$(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,dU],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),hU]],{ignore:["link","linkReference"]})}function dU(e,t,n,r,i){let s="";if(!rS(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!fU(n)))return!1;const o=pU(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function hU(e,t,n,r){return!rS(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function fU(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function pU(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=g4(e,"(");let s=g4(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function rS(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Sl(n)||Wm(n))&&(!t||n!==47)}function ys(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}iS.peek=SU;function mU(){this.buffer()}function gU(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function yU(){this.buffer()}function vU(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function xU(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ys(this.sliceSerialize(e)).toLowerCase(),n.label=t}function bU(e){this.exit(e)}function wU(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ys(this.sliceSerialize(e)).toLowerCase(),n.label=t}function _U(e){this.exit(e)}function SU(){return"["}function iS(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(n.safe(n.associationId(e),{after:"]",before:s})),a(),o(),s+=i.move("]"),s}function CU(){return{enter:{gfmFootnoteCallString:mU,gfmFootnoteCall:gU,gfmFootnoteDefinitionLabelString:yU,gfmFootnoteDefinition:vU},exit:{gfmFootnoteCallString:xU,gfmFootnoteCall:bU,gfmFootnoteDefinitionLabelString:wU,gfmFootnoteDefinition:_U}}}function kU(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:iS},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,o){const a=s.createTracker(o);let u=a.move("[^");const c=s.enter("footnoteDefinition"),f=s.enter("label");return u+=a.move(s.safe(s.associationId(r),{before:u,after:"]"})),f(),u+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),u+=a.move((t?`
`:" ")+s.indentLines(s.containerFlow(r,a.current()),t?sS:jU))),c(),u}}function jU(e,t,n){return t===0?e:sS(e,t,n)}function sS(e,t,n){return(n?"":"    ")+e}const EU=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];oS.peek=LU;function TU(){return{canContainEols:["delete"],enter:{strikethrough:PU},exit:{strikethrough:OU}}}function NU(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:EU}],handlers:{delete:oS}}}function PU(e){this.enter({type:"delete",children:[]},e)}function OU(e){this.exit(e)}function oS(e,t,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function LU(){return"~"}function RU(e){return e.length}function AU(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||RU,s=[],o=[],a=[],u=[];let c=0,f=-1;for(;++f<e.length;){const S=[],k=[];let E=-1;for(e[f].length>c&&(c=e[f].length);++E<e[f].length;){const L=MU(e[f][E]);if(n.alignDelimiters!==!1){const R=i(L);k[E]=R,(u[E]===void 0||R>u[E])&&(u[E]=R)}S.push(L)}o[f]=S,a[f]=k}let p=-1;if(typeof r=="object"&&"length"in r)for(;++p<c;)s[p]=y4(r[p]);else{const S=y4(r);for(;++p<c;)s[p]=S}p=-1;const g=[],x=[];for(;++p<c;){const S=s[p];let k="",E="";S===99?(k=":",E=":"):S===108?k=":":S===114&&(E=":");let L=n.alignDelimiters===!1?1:Math.max(1,u[p]-k.length-E.length);const R=k+"-".repeat(L)+E;n.alignDelimiters!==!1&&(L=k.length+L+E.length,L>u[p]&&(u[p]=L),x[p]=L),g[p]=R}o.splice(1,0,g),a.splice(1,0,x),f=-1;const w=[];for(;++f<o.length;){const S=o[f],k=a[f];p=-1;const E=[];for(;++p<c;){const L=S[p]||"";let R="",z="";if(n.alignDelimiters!==!1){const U=u[p]-(k[p]||0),P=s[p];P===114?R=" ".repeat(U):P===99?U%2?(R=" ".repeat(U/2+.5),z=" ".repeat(U/2-.5)):(R=" ".repeat(U/2),z=R):z=" ".repeat(U)}n.delimiterStart!==!1&&!p&&E.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&L==="")&&(n.delimiterStart!==!1||p)&&E.push(" "),n.alignDelimiters!==!1&&E.push(R),E.push(L),n.alignDelimiters!==!1&&E.push(z),n.padding!==!1&&E.push(" "),(n.delimiterEnd!==!1||p!==c-1)&&E.push("|")}w.push(n.delimiterEnd===!1?E.join("").replace(/ +$/,""):E.join(""))}return w.join(`
`)}function MU(e){return e==null?"":String(e)}function y4(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function IU(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(e,s.current()),DU);return i(),o}function DU(e,t,n){return">"+(n?"":" ")+e}function FU(e,t){return v4(e,t.inConstruct,!0)&&!v4(e,t.notInConstruct,!1)}function v4(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function x4(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&FU(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function BU(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+t.length,r=n.indexOf(t,i);return o}function zU(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function $U(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function UU(e,t,n,r){const i=$U(n),s=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(zU(e,n)){const p=n.enter("codeIndented"),g=n.indentLines(s,HU);return p(),g}const a=n.createTracker(r),u=i.repeat(Math.max(BU(s,i)+1,3)),c=n.enter("codeFenced");let f=a.move(u);if(e.lang){const p=n.enter(`codeFencedLang${o}`);f+=a.move(n.safe(e.lang,{before:f,after:" ",encode:["`"],...a.current()})),p()}if(e.lang&&e.meta){const p=n.enter(`codeFencedMeta${o}`);f+=a.move(" "),f+=a.move(n.safe(e.meta,{before:f,after:`
`,encode:["`"],...a.current()})),p()}return f+=a.move(`
`),s&&(f+=a.move(s+`
`)),f+=a.move(u),c(),f}function HU(e,t,n){return(n?"":"    ")+e}function bx(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function QU(e,t,n,r){const i=bx(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const u=n.createTracker(r);let c=u.move("[");return c+=u.move(n.safe(n.associationId(e),{before:c,after:"]",...u.current()})),c+=u.move("]: "),a(),!e.url||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(n.safe(e.url,{before:c,after:">",...u.current()})),c+=u.move(">")):(a=n.enter("destinationRaw"),c+=u.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...u.current()}))),a(),e.title&&(a=n.enter(`title${s}`),c+=u.move(" "+i),c+=u.move(n.safe(e.title,{before:c,after:i,...u.current()})),c+=u.move(i),a()),o(),c}function VU(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Yd(e){return"&#x"+e.toString(16).toUpperCase()+";"}function nc(e){if(e===null||sn(e)||Sl(e))return 1;if(Wm(e))return 2}function sm(e,t,n){const r=nc(e),i=nc(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}aS.peek=WU;function aS(e,t,n,r){const i=VU(n),s=n.enter("emphasis"),o=n.createTracker(r),a=o.move(i);let u=o.move(n.containerPhrasing(e,{after:i,before:a,...o.current()}));const c=u.charCodeAt(0),f=sm(r.before.charCodeAt(r.before.length-1),c,i);f.inside&&(u=Yd(c)+u.slice(1));const p=u.charCodeAt(u.length-1),g=sm(r.after.charCodeAt(0),p,i);g.inside&&(u=u.slice(0,-1)+Yd(p));const x=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:g.outside,before:f.outside},a+u+x}function WU(e,t,n){return n.options.emphasis||"*"}function wx(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),nS(e,s,a,i);function a(u,c){const f=c[c.length-1],p=f?f.children.indexOf(u):void 0;return o(u,p,f)}}const qU={};function _x(e,t){const n=qU,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return lS(e,r,i)}function lS(e,t,n){if(KU(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return b4(e.children,t,n)}return Array.isArray(e)?b4(e,t,n):""}function b4(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=lS(e[i],t,n);return r.join("")}function KU(e){return!!(e&&typeof e=="object")}function GU(e,t){let n=!1;return wx(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,$y}),!!((!e.depth||e.depth<3)&&_x(e)&&(t.options.setext||n))}function YU(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(GU(e,n)){const f=n.enter("headingSetext"),p=n.enter("phrasing"),g=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return p(),f(),g+`
`+(i===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),u=n.enter("phrasing");s.move(o+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c=Yd(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),u(),a(),c}uS.peek=XU;function uS(e){return e.value||""}function XU(){return"<"}cS.peek=JU;function cS(e,t,n,r){const i=bx(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const u=n.createTracker(r);let c=u.move("![");return c+=u.move(n.safe(e.alt,{before:c,after:"]",...u.current()})),c+=u.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(n.safe(e.url,{before:c,after:">",...u.current()})),c+=u.move(">")):(a=n.enter("destinationRaw"),c+=u.move(n.safe(e.url,{before:c,after:e.title?" ":")",...u.current()}))),a(),e.title&&(a=n.enter(`title${s}`),c+=u.move(" "+i),c+=u.move(n.safe(e.title,{before:c,after:i,...u.current()})),c+=u.move(i),a()),c+=u.move(")"),o(),c}function JU(){return"!"}dS.peek=ZU;function dS(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let u=a.move("![");const c=n.safe(e.alt,{before:u,after:"]",...a.current()});u+=a.move(c+"]["),o();const f=n.stack;n.stack=[],o=n.enter("reference");const p=n.safe(n.associationId(e),{before:u,after:"]",...a.current()});return o(),n.stack=f,s(),i==="full"||!c||c!==p?u+=a.move(p+"]"):i==="shortcut"?u=u.slice(0,-1):u+=a.move("]"),u}function ZU(){return"!"}hS.peek=eH;function hS(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let u;if(o.atBreak)for(;u=a.exec(r);){let c=u.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(u.index+1)}}return i+r+i}function eH(){return"`"}function fS(e,t){const n=_x(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}pS.peek=tH;function pS(e,t,n,r){const i=bx(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,u;if(fS(e,n)){const f=n.stack;n.stack=[],a=n.enter("autolink");let p=o.move("<");return p+=o.move(n.containerPhrasing(e,{before:p,after:">",...o.current()})),p+=o.move(">"),a(),n.stack=f,p}a=n.enter("link"),u=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(e,{before:c,after:"](",...o.current()})),c+=o.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(e.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(u=n.enter("destinationRaw"),c+=o.move(n.safe(e.url,{before:c,after:e.title?" ":")",...o.current()}))),u(),e.title&&(u=n.enter(`title${s}`),c+=o.move(" "+i),c+=o.move(n.safe(e.title,{before:c,after:i,...o.current()})),c+=o.move(i),u()),c+=o.move(")"),a(),c}function tH(e,t,n){return fS(e,n)?"<":"["}mS.peek=nH;function mS(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let u=a.move("[");const c=n.containerPhrasing(e,{before:u,after:"]",...a.current()});u+=a.move(c+"]["),o();const f=n.stack;n.stack=[],o=n.enter("reference");const p=n.safe(n.associationId(e),{before:u,after:"]",...a.current()});return o(),n.stack=f,s(),i==="full"||!c||c!==p?u+=a.move(p+"]"):i==="shortcut"?u=u.slice(0,-1):u+=a.move("]"),u}function nH(){return"["}function Sx(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function rH(e){const t=Sx(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function iH(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function gS(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function sH(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=e.ordered?iH(n):Sx(n);const a=e.ordered?o==="."?")":".":rH(n);let u=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const f=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&f&&(!f.children||!f.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(u=!0),gS(n)===o&&f){let p=-1;for(;++p<e.children.length;){const g=e.children[p];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(o=a),n.bulletCurrent=o;const c=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),c}function oH(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function aH(e,t,n,r){const i=oH(n);let s=n.bulletCurrent||Sx(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const u=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,a.current()),f);return u(),c;function f(p,g,x){return g?(x?"":" ".repeat(o))+p:(x?s:s+" ".repeat(o-s.length))+p}}function lH(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(e,r);return s(),i(),o}const uH=qm(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function cH(e,t,n,r){return(e.children.some(function(o){return uH(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function dH(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}yS.peek=hH;function yS(e,t,n,r){const i=dH(n),s=n.enter("strong"),o=n.createTracker(r),a=o.move(i+i);let u=o.move(n.containerPhrasing(e,{after:i,before:a,...o.current()}));const c=u.charCodeAt(0),f=sm(r.before.charCodeAt(r.before.length-1),c,i);f.inside&&(u=Yd(c)+u.slice(1));const p=u.charCodeAt(u.length-1),g=sm(r.after.charCodeAt(0),p,i);g.inside&&(u=u.slice(0,-1)+Yd(p));const x=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:g.outside,before:f.outside},a+u+x}function hH(e,t,n){return n.options.strong||"*"}function fH(e,t,n,r){return n.safe(e.value,r)}function pH(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function mH(e,t,n){const r=(gS(n)+(n.options.ruleSpaces?" ":"")).repeat(pH(n));return n.options.ruleSpaces?r.slice(0,-1):r}const vS={blockquote:IU,break:x4,code:UU,definition:QU,emphasis:aS,hardBreak:x4,heading:YU,html:uS,image:cS,imageReference:dS,inlineCode:hS,link:pS,linkReference:mS,list:sH,listItem:aH,paragraph:lH,root:cH,strong:yS,text:fH,thematicBreak:mH},w4=document.createElement("i");function Cx(e){const t="&"+e+";";w4.innerHTML=t;const n=w4.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function xS(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}const gH=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function yH(e){return e.replace(gH,vH)}function vH(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return xS(n.slice(s?2:1),s?16:10)}return Cx(n)||e}function xH(){return{enter:{table:bH,tableData:_4,tableHeader:_4,tableRow:_H},exit:{codeText:SH,table:wH,tableData:w1,tableHeader:w1,tableRow:w1}}}function bH(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function wH(e){this.exit(e),this.data.inTable=void 0}function _H(e){this.enter({type:"tableRow",children:[]},e)}function w1(e){this.exit(e)}function _4(e){this.enter({type:"tableCell",children:[]},e)}function SH(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,CH));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function CH(e,t){return t==="|"?t:e}function kH(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:g,table:o,tableCell:u,tableRow:a}};function o(x,w,S,k){return c(f(x,S,k),x.align)}function a(x,w,S,k){const E=p(x,S,k),L=c([E]);return L.slice(0,L.indexOf(`
`))}function u(x,w,S,k){const E=S.enter("tableCell"),L=S.enter("phrasing"),R=S.containerPhrasing(x,{...k,before:s,after:s});return L(),E(),R}function c(x,w){return AU(x,{align:w,alignDelimiters:r,padding:n,stringLength:i})}function f(x,w,S){const k=x.children;let E=-1;const L=[],R=w.enter("table");for(;++E<k.length;)L[E]=p(k[E],w,S);return R(),L}function p(x,w,S){const k=x.children;let E=-1;const L=[],R=w.enter("tableRow");for(;++E<k.length;)L[E]=u(k[E],x,w,S);return R(),L}function g(x,w,S){let k=vS.inlineCode(x,w,S);return S.stack.includes("tableCell")&&(k=k.replace(/\|/g,"\\$&")),k}}function jH(){return{exit:{taskListCheckValueChecked:S4,taskListCheckValueUnchecked:S4,paragraph:TH}}}function EH(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:NH}}}function S4(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function TH(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function NH(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",a=n.createTracker(r);s&&a.move(o);let u=vS.listItem(e,t,n,{...r,...a.current()});return s&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),u;function c(f){return f+o}}function PH(){return[rU(),CU(),TU(),xH(),jH()]}function OH(e){return{extensions:[iU(),kU(e),NU(),kH(e),EH()]}}function Ci(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function Ui(e,t){return e.length>0?(Ci(e,e.length,0,t),e):t}const C4={}.hasOwnProperty;function bS(e){const t={};let n=-1;for(;++n<e.length;)LH(t,e[n]);return t}function LH(e,t){let n;for(n in t){const i=(C4.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){C4.call(i,o)||(i[o]=[]);const a=s[o];RH(i[o],Array.isArray(a)?a:a?[a]:[])}}}function RH(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Ci(e,0,0,r)}const AH={tokenize:zH,partial:!0},wS={tokenize:$H,partial:!0},_S={tokenize:UH,partial:!0},SS={tokenize:HH,partial:!0},MH={tokenize:QH,partial:!0},CS={name:"wwwAutolink",tokenize:FH,previous:jS},kS={name:"protocolAutolink",tokenize:BH,previous:ES},So={name:"emailAutolink",tokenize:DH,previous:TS},Ds={};function IH(){return{text:Ds}}let el=48;for(;el<123;)Ds[el]=So,el++,el===58?el=65:el===91&&(el=97);Ds[43]=So;Ds[45]=So;Ds[46]=So;Ds[95]=So;Ds[72]=[So,kS];Ds[104]=[So,kS];Ds[87]=[So,CS];Ds[119]=[So,CS];function DH(e,t,n){const r=this;let i,s;return o;function o(p){return!Uy(p)||!TS.call(r,r.previous)||kx(r.events)?n(p):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(p))}function a(p){return Uy(p)?(e.consume(p),a):p===64?(e.consume(p),u):n(p)}function u(p){return p===46?e.check(MH,f,c)(p):p===45||p===95||jr(p)?(s=!0,e.consume(p),u):f(p)}function c(p){return e.consume(p),i=!0,u}function f(p){return s&&i&&Br(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(p)):n(p)}}function FH(e,t,n){const r=this;return i;function i(o){return o!==87&&o!==119||!jS.call(r,r.previous)||kx(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(AH,e.attempt(wS,e.attempt(_S,s),n),n)(o))}function s(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function BH(e,t,n){const r=this;let i="",s=!1;return o;function o(p){return(p===72||p===104)&&ES.call(r,r.previous)&&!kx(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(p),e.consume(p),a):n(p)}function a(p){if(Br(p)&&i.length<5)return i+=String.fromCodePoint(p),e.consume(p),a;if(p===58){const g=i.toLowerCase();if(g==="http"||g==="https")return e.consume(p),u}return n(p)}function u(p){return p===47?(e.consume(p),s?c:(s=!0,u)):n(p)}function c(p){return p===null||im(p)||sn(p)||Sl(p)||Wm(p)?n(p):e.attempt(wS,e.attempt(_S,f),n)(p)}function f(p){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(p)}}function zH(e,t,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),i):o===46&&r===3?(e.consume(o),s):n(o)}function s(o){return o===null?n(o):t(o)}}function $H(e,t,n){let r,i,s;return o;function o(c){return c===46||c===95?e.check(SS,u,a)(c):c===null||sn(c)||Sl(c)||c!==45&&Wm(c)?u(c):(s=!0,e.consume(c),o)}function a(c){return c===95?r=!0:(i=r,r=void 0),e.consume(c),o}function u(c){return i||r||!s?n(c):t(c)}}function UH(e,t){let n=0,r=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(SS,t,s)(o):o===null||sn(o)||Sl(o)?t(o):(e.consume(o),i)}function s(o){return o===41&&r++,e.consume(o),i}}function HH(e,t,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(e.consume(a),r):a===38?(e.consume(a),s):a===93?(e.consume(a),i):a===60||a===null||sn(a)||Sl(a)?t(a):n(a)}function i(a){return a===null||a===40||a===91||sn(a)||Sl(a)?t(a):r(a)}function s(a){return Br(a)?o(a):n(a)}function o(a){return a===59?(e.consume(a),r):Br(a)?(e.consume(a),o):n(a)}}function QH(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return jr(s)?n(s):t(s)}}function jS(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||sn(e)}function ES(e){return!Br(e)}function TS(e){return!(e===47||Uy(e))}function Uy(e){return e===43||e===45||e===46||e===95||jr(e)}function kx(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}function fc(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&jr(e.charCodeAt(n+1))&&jr(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Gm(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const Hy={name:"attention",resolveAll:VH,tokenize:WH};function VH(e,t){let n=-1,r,i,s,o,a,u,c,f;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p={...e[r][1].end},g={...e[n][1].start};k4(p,-u),k4(g,u),o={type:u>1?"strongSequence":"emphasisSequence",start:p,end:{...e[r][1].end}},a={type:u>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:g},s={type:u>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:u>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},e[r][1].end={...o.start},e[n][1].start={...a.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=Ui(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=Ui(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),c=Ui(c,Gm(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=Ui(c,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(f=2,c=Ui(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):f=0,Ci(e,r-1,n-r+3,c),n=r+c.length-f-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function WH(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=nc(r);let s;return o;function o(u){return s=u,e.enter("attentionSequence"),a(u)}function a(u){if(u===s)return e.consume(u),a;const c=e.exit("attentionSequence"),f=nc(u),p=!f||f===2&&i||n.includes(u),g=!i||i===2&&f||n.includes(r);return c._open=!!(s===42?p:p&&(i||!g)),c._close=!!(s===42?g:g&&(f||!p)),t(u)}}function k4(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const qH={name:"autolink",tokenize:KH};function KH(e,t,n){let r=0;return i;function i(x){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(x){return Br(x)?(e.consume(x),o):x===64?n(x):c(x)}function o(x){return x===43||x===45||x===46||jr(x)?(r=1,a(x)):c(x)}function a(x){return x===58?(e.consume(x),r=0,u):(x===43||x===45||x===46||jr(x))&&r++<32?(e.consume(x),a):(r=0,c(x))}function u(x){return x===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.exit("autolink"),t):x===null||x===32||x===60||im(x)?n(x):(e.consume(x),u)}function c(x){return x===64?(e.consume(x),f):$$(x)?(e.consume(x),c):n(x)}function f(x){return jr(x)?p(x):n(x)}function p(x){return x===46?(e.consume(x),r=0,f):x===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.exit("autolink"),t):g(x)}function g(x){if((x===45||jr(x))&&r++<63){const w=x===45?g:p;return e.consume(x),w}return n(x)}}function Ht(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(u){return Dt(u)?(e.enter(n),a(u)):t(u)}function a(u){return Dt(u)&&s++<i?(e.consume(u),a):(e.exit(n),t(u))}}const wh={partial:!0,tokenize:GH};function GH(e,t,n){return r;function r(s){return Dt(s)?Ht(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||ht(s)?t(s):n(s)}}const NS={continuation:{tokenize:XH},exit:JH,name:"blockQuote",tokenize:YH};function YH(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Dt(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function XH(e,t,n){const r=this;return i;function i(o){return Dt(o)?Ht(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(NS,t,n)(o)}}function JH(e){e.exit("blockQuote")}const PS={name:"characterEscape",tokenize:ZH};function ZH(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return H$(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const OS={name:"characterReference",tokenize:eQ};function eQ(e,t,n){const r=this;let i=0,s,o;return a;function a(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),u}function u(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),s=31,o=jr,f(p))}function c(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=U$,f):(e.enter("characterReferenceValue"),s=7,o=zy,f(p))}function f(p){if(p===59&&i){const g=e.exit("characterReferenceValue");return o===jr&&!Cx(r.sliceSerialize(g))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(p)&&i++<s?(e.consume(p),f):n(p)}}const j4={partial:!0,tokenize:nQ},E4={concrete:!0,name:"codeFenced",tokenize:tQ};function tQ(e,t,n){const r=this,i={partial:!0,tokenize:U};let s=0,o=0,a;return u;function u(P){return c(P)}function c(P){const I=r.events[r.events.length-1];return s=I&&I[1].type==="linePrefix"?I[2].sliceSerialize(I[1],!0).length:0,a=P,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),f(P)}function f(P){return P===a?(o++,e.consume(P),f):o<3?n(P):(e.exit("codeFencedFenceSequence"),Dt(P)?Ht(e,p,"whitespace")(P):p(P))}function p(P){return P===null||ht(P)?(e.exit("codeFencedFence"),r.interrupt?t(P):e.check(j4,S,z)(P)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(P))}function g(P){return P===null||ht(P)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(P)):Dt(P)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ht(e,x,"whitespace")(P)):P===96&&P===a?n(P):(e.consume(P),g)}function x(P){return P===null||ht(P)?p(P):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),w(P))}function w(P){return P===null||ht(P)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(P)):P===96&&P===a?n(P):(e.consume(P),w)}function S(P){return e.attempt(i,z,k)(P)}function k(P){return e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),E}function E(P){return s>0&&Dt(P)?Ht(e,L,"linePrefix",s+1)(P):L(P)}function L(P){return P===null||ht(P)?e.check(j4,S,z)(P):(e.enter("codeFlowValue"),R(P))}function R(P){return P===null||ht(P)?(e.exit("codeFlowValue"),L(P)):(e.consume(P),R)}function z(P){return e.exit("codeFenced"),t(P)}function U(P,I,H){let Q=0;return F;function F(V){return P.enter("lineEnding"),P.consume(V),P.exit("lineEnding"),le}function le(V){return P.enter("codeFencedFence"),Dt(V)?Ht(P,ue,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(V):ue(V)}function ue(V){return V===a?(P.enter("codeFencedFenceSequence"),ae(V)):H(V)}function ae(V){return V===a?(Q++,P.consume(V),ae):Q>=o?(P.exit("codeFencedFenceSequence"),Dt(V)?Ht(P,q,"whitespace")(V):q(V)):H(V)}function q(V){return V===null||ht(V)?(P.exit("codeFencedFence"),I(V)):H(V)}}}function nQ(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const _1={name:"codeIndented",tokenize:iQ},rQ={partial:!0,tokenize:sQ};function iQ(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),Ht(e,s,"linePrefix",5)(c)}function s(c){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?u(c):ht(c)?e.attempt(rQ,o,u)(c):(e.enter("codeFlowValue"),a(c))}function a(c){return c===null||ht(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),a)}function u(c){return e.exit("codeIndented"),t(c)}}function sQ(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):ht(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):Ht(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):ht(o)?i(o):n(o)}}const oQ={name:"codeText",previous:lQ,resolve:aQ,tokenize:uQ};function aQ(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function lQ(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function uQ(e,t,n){let r=0,i,s;return o;function o(p){return e.enter("codeText"),e.enter("codeTextSequence"),a(p)}function a(p){return p===96?(e.consume(p),r++,a):(e.exit("codeTextSequence"),u(p))}function u(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),u):p===96?(s=e.enter("codeTextSequence"),i=0,f(p)):ht(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),u):(e.enter("codeTextData"),c(p))}function c(p){return p===null||p===32||p===96||ht(p)?(e.exit("codeTextData"),u(p)):(e.consume(p),c)}function f(p){return p===96?(e.consume(p),i++,f):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(s.type="codeTextData",c(p))}}class cQ{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&ud(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),ud(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),ud(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);ud(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);ud(this.left,n.reverse())}}}function ud(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function LS(e){const t={};let n=-1,r,i,s,o,a,u,c;const f=new cQ(e);for(;++n<f.length;){for(;n in t;)n=t[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,dQ(f,n)),n=t[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=f.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...f.get(i)[1].start},a=f.slice(i,n),a.unshift(r),f.splice(i,n-i+1,a))}}return Ci(e,0,Number.POSITIVE_INFINITY,f.slice(0)),!c}function dQ(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,u=[],c={};let f,p,g=-1,x=n,w=0,S=0;const k=[S];for(;x;){for(;e.get(++i)[1]!==x;);s.push(i),x._tokenizer||(f=r.sliceStream(x),x.next||f.push(null),p&&o.defineSkip(x.start),x._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(f),x._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),p=x,x=x.next}for(x=n;++g<a.length;)a[g][0]==="exit"&&a[g-1][0]==="enter"&&a[g][1].type===a[g-1][1].type&&a[g][1].start.line!==a[g][1].end.line&&(S=g+1,k.push(S),x._tokenizer=void 0,x.previous=void 0,x=x.next);for(o.events=[],x?(x._tokenizer=void 0,x.previous=void 0):k.pop(),g=k.length;g--;){const E=a.slice(k[g],k[g+1]),L=s.pop();u.push([L,L+E.length-1]),e.splice(L,2,E)}for(u.reverse(),g=-1;++g<u.length;)c[w+u[g][0]]=w+u[g][1],w+=u[g][1]-u[g][0]-1;return c}const hQ={resolve:pQ,tokenize:mQ},fQ={partial:!0,tokenize:gQ};function pQ(e){return LS(e),e}function mQ(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):ht(a)?e.check(fQ,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function gQ(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Ht(e,s,"linePrefix")}function s(o){if(o===null||ht(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function RS(e,t,n,r,i,s,o,a,u){const c=u||Number.POSITIVE_INFINITY;let f=0;return p;function p(E){return E===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(E),e.exit(s),g):E===null||E===32||E===41||im(E)?n(E):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),S(E))}function g(E){return E===62?(e.enter(s),e.consume(E),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),x(E))}function x(E){return E===62?(e.exit("chunkString"),e.exit(a),g(E)):E===null||E===60||ht(E)?n(E):(e.consume(E),E===92?w:x)}function w(E){return E===60||E===62||E===92?(e.consume(E),x):x(E)}function S(E){return!f&&(E===null||E===41||sn(E))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(E)):f<c&&E===40?(e.consume(E),f++,S):E===41?(e.consume(E),f--,S):E===null||E===32||E===40||im(E)?n(E):(e.consume(E),E===92?k:S)}function k(E){return E===40||E===41||E===92?(e.consume(E),S):S(E)}}function AS(e,t,n,r,i,s){const o=this;let a=0,u;return c;function c(x){return e.enter(r),e.enter(i),e.consume(x),e.exit(i),e.enter(s),f}function f(x){return a>999||x===null||x===91||x===93&&!u||x===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(x):x===93?(e.exit(s),e.enter(i),e.consume(x),e.exit(i),e.exit(r),t):ht(x)?(e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),f):(e.enter("chunkString",{contentType:"string"}),p(x))}function p(x){return x===null||x===91||x===93||ht(x)||a++>999?(e.exit("chunkString"),f(x)):(e.consume(x),u||(u=!Dt(x)),x===92?g:p)}function g(x){return x===91||x===92||x===93?(e.consume(x),a++,p):p(x)}}function MS(e,t,n,r,i,s){let o;return a;function a(g){return g===34||g===39||g===40?(e.enter(r),e.enter(i),e.consume(g),e.exit(i),o=g===40?41:g,u):n(g)}function u(g){return g===o?(e.enter(i),e.consume(g),e.exit(i),e.exit(r),t):(e.enter(s),c(g))}function c(g){return g===o?(e.exit(s),u(o)):g===null?n(g):ht(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),Ht(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),f(g))}function f(g){return g===o||g===null||ht(g)?(e.exit("chunkString"),c(g)):(e.consume(g),g===92?p:f)}function p(g){return g===o||g===92?(e.consume(g),f):f(g)}}function Od(e,t){let n;return r;function r(i){return ht(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Dt(i)?Ht(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const yQ={name:"definition",tokenize:xQ},vQ={partial:!0,tokenize:bQ};function xQ(e,t,n){const r=this;let i;return s;function s(x){return e.enter("definition"),o(x)}function o(x){return AS.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(x)}function a(x){return i=ys(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),x===58?(e.enter("definitionMarker"),e.consume(x),e.exit("definitionMarker"),u):n(x)}function u(x){return sn(x)?Od(e,c)(x):c(x)}function c(x){return RS(e,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(x)}function f(x){return e.attempt(vQ,p,p)(x)}function p(x){return Dt(x)?Ht(e,g,"whitespace")(x):g(x)}function g(x){return x===null||ht(x)?(e.exit("definition"),r.parser.defined.push(i),t(x)):n(x)}}function bQ(e,t,n){return r;function r(a){return sn(a)?Od(e,i)(a):n(a)}function i(a){return MS(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return Dt(a)?Ht(e,o,"whitespace")(a):o(a)}function o(a){return a===null||ht(a)?t(a):n(a)}}const wQ={name:"hardBreakEscape",tokenize:_Q};function _Q(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return ht(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const SQ={name:"headingAtx",resolve:CQ,tokenize:kQ};function CQ(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Ci(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function kQ(e,t,n){let r=0;return i;function i(f){return e.enter("atxHeading"),s(f)}function s(f){return e.enter("atxHeadingSequence"),o(f)}function o(f){return f===35&&r++<6?(e.consume(f),o):f===null||sn(f)?(e.exit("atxHeadingSequence"),a(f)):n(f)}function a(f){return f===35?(e.enter("atxHeadingSequence"),u(f)):f===null||ht(f)?(e.exit("atxHeading"),t(f)):Dt(f)?Ht(e,a,"whitespace")(f):(e.enter("atxHeadingText"),c(f))}function u(f){return f===35?(e.consume(f),u):(e.exit("atxHeadingSequence"),a(f))}function c(f){return f===null||f===35||sn(f)?(e.exit("atxHeadingText"),a(f)):(e.consume(f),c)}}const jQ=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],T4=["pre","script","style","textarea"],EQ={concrete:!0,name:"htmlFlow",resolveTo:PQ,tokenize:OQ},TQ={partial:!0,tokenize:RQ},NQ={partial:!0,tokenize:LQ};function PQ(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function OQ(e,t,n){const r=this;let i,s,o,a,u;return c;function c(B){return f(B)}function f(B){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(B),p}function p(B){return B===33?(e.consume(B),g):B===47?(e.consume(B),s=!0,S):B===63?(e.consume(B),i=3,r.interrupt?t:D):Br(B)?(e.consume(B),o=String.fromCharCode(B),k):n(B)}function g(B){return B===45?(e.consume(B),i=2,x):B===91?(e.consume(B),i=5,a=0,w):Br(B)?(e.consume(B),i=4,r.interrupt?t:D):n(B)}function x(B){return B===45?(e.consume(B),r.interrupt?t:D):n(B)}function w(B){const De="CDATA[";return B===De.charCodeAt(a++)?(e.consume(B),a===De.length?r.interrupt?t:ue:w):n(B)}function S(B){return Br(B)?(e.consume(B),o=String.fromCharCode(B),k):n(B)}function k(B){if(B===null||B===47||B===62||sn(B)){const De=B===47,je=o.toLowerCase();return!De&&!s&&T4.includes(je)?(i=1,r.interrupt?t(B):ue(B)):jQ.includes(o.toLowerCase())?(i=6,De?(e.consume(B),E):r.interrupt?t(B):ue(B)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(B):s?L(B):R(B))}return B===45||jr(B)?(e.consume(B),o+=String.fromCharCode(B),k):n(B)}function E(B){return B===62?(e.consume(B),r.interrupt?t:ue):n(B)}function L(B){return Dt(B)?(e.consume(B),L):F(B)}function R(B){return B===47?(e.consume(B),F):B===58||B===95||Br(B)?(e.consume(B),z):Dt(B)?(e.consume(B),R):F(B)}function z(B){return B===45||B===46||B===58||B===95||jr(B)?(e.consume(B),z):U(B)}function U(B){return B===61?(e.consume(B),P):Dt(B)?(e.consume(B),U):R(B)}function P(B){return B===null||B===60||B===61||B===62||B===96?n(B):B===34||B===39?(e.consume(B),u=B,I):Dt(B)?(e.consume(B),P):H(B)}function I(B){return B===u?(e.consume(B),u=null,Q):B===null||ht(B)?n(B):(e.consume(B),I)}function H(B){return B===null||B===34||B===39||B===47||B===60||B===61||B===62||B===96||sn(B)?U(B):(e.consume(B),H)}function Q(B){return B===47||B===62||Dt(B)?R(B):n(B)}function F(B){return B===62?(e.consume(B),le):n(B)}function le(B){return B===null||ht(B)?ue(B):Dt(B)?(e.consume(B),le):n(B)}function ue(B){return B===45&&i===2?(e.consume(B),J):B===60&&i===1?(e.consume(B),te):B===62&&i===4?(e.consume(B),G):B===63&&i===3?(e.consume(B),D):B===93&&i===5?(e.consume(B),me):ht(B)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(TQ,ye,ae)(B)):B===null||ht(B)?(e.exit("htmlFlowData"),ae(B)):(e.consume(B),ue)}function ae(B){return e.check(NQ,q,ye)(B)}function q(B){return e.enter("lineEnding"),e.consume(B),e.exit("lineEnding"),V}function V(B){return B===null||ht(B)?ae(B):(e.enter("htmlFlowData"),ue(B))}function J(B){return B===45?(e.consume(B),D):ue(B)}function te(B){return B===47?(e.consume(B),o="",ne):ue(B)}function ne(B){if(B===62){const De=o.toLowerCase();return T4.includes(De)?(e.consume(B),G):ue(B)}return Br(B)&&o.length<8?(e.consume(B),o+=String.fromCharCode(B),ne):ue(B)}function me(B){return B===93?(e.consume(B),D):ue(B)}function D(B){return B===62?(e.consume(B),G):B===45&&i===2?(e.consume(B),D):ue(B)}function G(B){return B===null||ht(B)?(e.exit("htmlFlowData"),ye(B)):(e.consume(B),G)}function ye(B){return e.exit("htmlFlow"),t(B)}}function LQ(e,t,n){const r=this;return i;function i(o){return ht(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function RQ(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(wh,t,n)}}const AQ={name:"htmlText",tokenize:MQ};function MQ(e,t,n){const r=this;let i,s,o;return a;function a(D){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(D),u}function u(D){return D===33?(e.consume(D),c):D===47?(e.consume(D),U):D===63?(e.consume(D),R):Br(D)?(e.consume(D),H):n(D)}function c(D){return D===45?(e.consume(D),f):D===91?(e.consume(D),s=0,w):Br(D)?(e.consume(D),L):n(D)}function f(D){return D===45?(e.consume(D),x):n(D)}function p(D){return D===null?n(D):D===45?(e.consume(D),g):ht(D)?(o=p,te(D)):(e.consume(D),p)}function g(D){return D===45?(e.consume(D),x):p(D)}function x(D){return D===62?J(D):D===45?g(D):p(D)}function w(D){const G="CDATA[";return D===G.charCodeAt(s++)?(e.consume(D),s===G.length?S:w):n(D)}function S(D){return D===null?n(D):D===93?(e.consume(D),k):ht(D)?(o=S,te(D)):(e.consume(D),S)}function k(D){return D===93?(e.consume(D),E):S(D)}function E(D){return D===62?J(D):D===93?(e.consume(D),E):S(D)}function L(D){return D===null||D===62?J(D):ht(D)?(o=L,te(D)):(e.consume(D),L)}function R(D){return D===null?n(D):D===63?(e.consume(D),z):ht(D)?(o=R,te(D)):(e.consume(D),R)}function z(D){return D===62?J(D):R(D)}function U(D){return Br(D)?(e.consume(D),P):n(D)}function P(D){return D===45||jr(D)?(e.consume(D),P):I(D)}function I(D){return ht(D)?(o=I,te(D)):Dt(D)?(e.consume(D),I):J(D)}function H(D){return D===45||jr(D)?(e.consume(D),H):D===47||D===62||sn(D)?Q(D):n(D)}function Q(D){return D===47?(e.consume(D),J):D===58||D===95||Br(D)?(e.consume(D),F):ht(D)?(o=Q,te(D)):Dt(D)?(e.consume(D),Q):J(D)}function F(D){return D===45||D===46||D===58||D===95||jr(D)?(e.consume(D),F):le(D)}function le(D){return D===61?(e.consume(D),ue):ht(D)?(o=le,te(D)):Dt(D)?(e.consume(D),le):Q(D)}function ue(D){return D===null||D===60||D===61||D===62||D===96?n(D):D===34||D===39?(e.consume(D),i=D,ae):ht(D)?(o=ue,te(D)):Dt(D)?(e.consume(D),ue):(e.consume(D),q)}function ae(D){return D===i?(e.consume(D),i=void 0,V):D===null?n(D):ht(D)?(o=ae,te(D)):(e.consume(D),ae)}function q(D){return D===null||D===34||D===39||D===60||D===61||D===96?n(D):D===47||D===62||sn(D)?Q(D):(e.consume(D),q)}function V(D){return D===47||D===62||sn(D)?Q(D):n(D)}function J(D){return D===62?(e.consume(D),e.exit("htmlTextData"),e.exit("htmlText"),t):n(D)}function te(D){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),ne}function ne(D){return Dt(D)?Ht(e,me,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):me(D)}function me(D){return e.enter("htmlTextData"),o(D)}}const jx={name:"labelEnd",resolveAll:BQ,resolveTo:zQ,tokenize:$Q},IQ={tokenize:UQ},DQ={tokenize:HQ},FQ={tokenize:QQ};function BQ(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Ci(e,0,e.length,n),e}function zQ(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const u={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[s][1].start},end:{...e[o][1].end}},f={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[o-2][1].start}};return a=[["enter",u,t],["enter",c,t]],a=Ui(a,e.slice(s+1,s+r+3)),a=Ui(a,[["enter",f,t]]),a=Ui(a,Gm(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=Ui(a,[["exit",f,t],e[o-2],e[o-1],["exit",c,t]]),a=Ui(a,e.slice(o+1)),a=Ui(a,[["exit",u,t]]),Ci(e,s,e.length,a),e}function $Q(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(g){return s?s._inactive?p(g):(o=r.parser.defined.includes(ys(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),u):n(g)}function u(g){return g===40?e.attempt(IQ,f,o?f:p)(g):g===91?e.attempt(DQ,f,o?c:p)(g):o?f(g):p(g)}function c(g){return e.attempt(FQ,f,p)(g)}function f(g){return t(g)}function p(g){return s._balanced=!0,n(g)}}function UQ(e,t,n){return r;function r(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),i}function i(p){return sn(p)?Od(e,s)(p):s(p)}function s(p){return p===41?f(p):RS(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function o(p){return sn(p)?Od(e,u)(p):f(p)}function a(p){return n(p)}function u(p){return p===34||p===39||p===40?MS(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):f(p)}function c(p){return sn(p)?Od(e,f)(p):f(p)}function f(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function HQ(e,t,n){const r=this;return i;function i(a){return AS.call(r,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(ys(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function QQ(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const VQ={name:"labelStartImage",resolveAll:jx.resolveAll,tokenize:WQ};function WQ(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const qQ={name:"labelStartLink",resolveAll:jx.resolveAll,tokenize:KQ};function KQ(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const S1={name:"lineEnding",tokenize:GQ};function GQ(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Ht(e,t,"linePrefix")}}const Pp={name:"thematicBreak",tokenize:YQ};function YQ(e,t,n){let r=0,i;return s;function s(c){return e.enter("thematicBreak"),o(c)}function o(c){return i=c,a(c)}function a(c){return c===i?(e.enter("thematicBreakSequence"),u(c)):r>=3&&(c===null||ht(c))?(e.exit("thematicBreak"),t(c)):n(c)}function u(c){return c===i?(e.consume(c),r++,u):(e.exit("thematicBreakSequence"),Dt(c)?Ht(e,a,"whitespace")(c):a(c))}}const ei={continuation:{tokenize:eV},exit:nV,name:"list",tokenize:ZQ},XQ={partial:!0,tokenize:rV},JQ={partial:!0,tokenize:tV};function ZQ(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(x){const w=r.containerState.type||(x===42||x===43||x===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!r.containerState.marker||x===r.containerState.marker:zy(x)){if(r.containerState.type||(r.containerState.type=w,e.enter(w,{_container:!0})),w==="listUnordered")return e.enter("listItemPrefix"),x===42||x===45?e.check(Pp,n,c)(x):c(x);if(!r.interrupt||x===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(x)}return n(x)}function u(x){return zy(x)&&++o<10?(e.consume(x),u):(!r.interrupt||o<2)&&(r.containerState.marker?x===r.containerState.marker:x===41||x===46)?(e.exit("listItemValue"),c(x)):n(x)}function c(x){return e.enter("listItemMarker"),e.consume(x),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||x,e.check(wh,r.interrupt?n:f,e.attempt(XQ,g,p))}function f(x){return r.containerState.initialBlankLine=!0,s++,g(x)}function p(x){return Dt(x)?(e.enter("listItemPrefixWhitespace"),e.consume(x),e.exit("listItemPrefixWhitespace"),g):n(x)}function g(x){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(x)}}function eV(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(wh,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ht(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Dt(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(JQ,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ht(e,e.attempt(ei,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function tV(e,t,n){const r=this;return Ht(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function nV(e){e.exit(this.containerState.type)}function rV(e,t,n){const r=this;return Ht(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Dt(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const N4={name:"setextUnderline",resolveTo:iV,tokenize:sV};function iV(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function sV(e,t,n){const r=this;let i;return s;function s(c){let f=r.events.length,p;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){p=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(e.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(e.consume(c),a):(e.exit("setextHeadingLineSequence"),Dt(c)?Ht(e,u,"lineSuffix")(c):u(c))}function u(c){return c===null||ht(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const oV={tokenize:pV,partial:!0};function aV(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:dV,continuation:{tokenize:hV},exit:fV}},text:{91:{name:"gfmFootnoteCall",tokenize:cV},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:lV,resolveTo:uV}}}}function lV(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const u=r.events[i][1];if(u.type==="labelImage"){o=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return a;function a(u){if(!o||!o._balanced)return n(u);const c=ys(r.sliceSerialize({start:o.end,end:r.now()}));return c.codePointAt(0)!==94||!s.includes(c.slice(1))?n(u):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),t(u))}}function uV(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...a),e}function cV(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(p){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),u}function u(p){return p!==94?n(p):(e.enter("gfmFootnoteCallMarker"),e.consume(p),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(p){if(s>999||p===93&&!o||p===null||p===91||sn(p))return n(p);if(p===93){e.exit("chunkString");const g=e.exit("gfmFootnoteCallString");return i.includes(ys(r.sliceSerialize(g)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(p)}return sn(p)||(o=!0),s++,e.consume(p),p===92?f:c}function f(p){return p===91||p===92||p===93?(e.consume(p),s++,c):c(p)}}function dV(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return u;function u(w){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(w){return w===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",f):n(w)}function f(w){if(o>999||w===93&&!a||w===null||w===91||sn(w))return n(w);if(w===93){e.exit("chunkString");const S=e.exit("gfmFootnoteDefinitionLabelString");return s=ys(r.sliceSerialize(S)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),g}return sn(w)||(a=!0),o++,e.consume(w),w===92?p:f}function p(w){return w===91||w===92||w===93?(e.consume(w),o++,f):f(w)}function g(w){return w===58?(e.enter("definitionMarker"),e.consume(w),e.exit("definitionMarker"),i.includes(s)||i.push(s),Ht(e,x,"gfmFootnoteDefinitionWhitespace")):n(w)}function x(w){return t(w)}}function hV(e,t,n){return e.check(wh,t,e.attempt(oV,t,n))}function fV(e){e.exit("gfmFootnoteDefinition")}function pV(e,t,n){const r=this;return Ht(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(s):n(s)}}function mV(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let u=-1;for(;++u<o.length;)if(o[u][0]==="enter"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._close){let c=u;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[u][1].end.offset-o[u][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[u][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[u][1].end)},p={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[u][1].start)},g=[["enter",f,a],["enter",o[c][1],a],["exit",o[c][1],a],["enter",p,a]],x=a.parser.constructs.insideSpan.null;x&&Ci(g,g.length,0,Gm(x,o.slice(c+1,u),a)),Ci(g,g.length,0,[["exit",p,a],["enter",o[u][1],a],["exit",o[u][1],a],["exit",f,a]]),Ci(o,c-1,u-c+3,g),u=c+g.length-2;break}}for(u=-1;++u<o.length;)o[u][1].type==="strikethroughSequenceTemporary"&&(o[u][1].type="data");return o}function s(o,a,u){const c=this.previous,f=this.events;let p=0;return g;function g(w){return c===126&&f[f.length-1][1].type!=="characterEscape"?u(w):(o.enter("strikethroughSequenceTemporary"),x(w))}function x(w){const S=nc(c);if(w===126)return p>1?u(w):(o.consume(w),p++,x);if(p<2&&!n)return u(w);const k=o.exit("strikethroughSequenceTemporary"),E=nc(w);return k._open=!E||E===2&&!!S,k._close=!S||S===2&&!!E,a(w)}}}class gV{constructor(){this.map=[]}add(t,n,r){yV(this,t,n,r)}consume(t){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const s of i)t.push(s);i=r.pop()}this.map.length=0}}function yV(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function vV(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function xV(){return{flow:{null:{name:"table",tokenize:bV,resolveAll:wV}}}}function bV(e,t,n){const r=this;let i=0,s=0,o;return a;function a(F){let le=r.events.length-1;for(;le>-1;){const q=r.events[le][1].type;if(q==="lineEnding"||q==="linePrefix")le--;else break}const ue=le>-1?r.events[le][1].type:null,ae=ue==="tableHead"||ue==="tableRow"?P:u;return ae===P&&r.parser.lazy[r.now().line]?n(F):ae(F)}function u(F){return e.enter("tableHead"),e.enter("tableRow"),c(F)}function c(F){return F===124||(o=!0,s+=1),f(F)}function f(F){return F===null?n(F):ht(F)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),x):n(F):Dt(F)?Ht(e,f,"whitespace")(F):(s+=1,o&&(o=!1,i+=1),F===124?(e.enter("tableCellDivider"),e.consume(F),e.exit("tableCellDivider"),o=!0,f):(e.enter("data"),p(F)))}function p(F){return F===null||F===124||sn(F)?(e.exit("data"),f(F)):(e.consume(F),F===92?g:p)}function g(F){return F===92||F===124?(e.consume(F),p):p(F)}function x(F){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(F):(e.enter("tableDelimiterRow"),o=!1,Dt(F)?Ht(e,w,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):w(F))}function w(F){return F===45||F===58?k(F):F===124?(o=!0,e.enter("tableCellDivider"),e.consume(F),e.exit("tableCellDivider"),S):U(F)}function S(F){return Dt(F)?Ht(e,k,"whitespace")(F):k(F)}function k(F){return F===58?(s+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(F),e.exit("tableDelimiterMarker"),E):F===45?(s+=1,E(F)):F===null||ht(F)?z(F):U(F)}function E(F){return F===45?(e.enter("tableDelimiterFiller"),L(F)):U(F)}function L(F){return F===45?(e.consume(F),L):F===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(F),e.exit("tableDelimiterMarker"),R):(e.exit("tableDelimiterFiller"),R(F))}function R(F){return Dt(F)?Ht(e,z,"whitespace")(F):z(F)}function z(F){return F===124?w(F):F===null||ht(F)?!o||i!==s?U(F):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(F)):U(F)}function U(F){return n(F)}function P(F){return e.enter("tableRow"),I(F)}function I(F){return F===124?(e.enter("tableCellDivider"),e.consume(F),e.exit("tableCellDivider"),I):F===null||ht(F)?(e.exit("tableRow"),t(F)):Dt(F)?Ht(e,I,"whitespace")(F):(e.enter("data"),H(F))}function H(F){return F===null||F===124||sn(F)?(e.exit("data"),I(F)):(e.consume(F),F===92?Q:H)}function Q(F){return F===92||F===124?(e.consume(F),H):H(F)}}function wV(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,u=0,c,f,p;const g=new gV;for(;++n<e.length;){const x=e[n],w=x[1];x[0]==="enter"?w.type==="tableHead"?(a=!1,u!==0&&(P4(g,t,u,c,f),f=void 0,u=0),c={type:"table",start:Object.assign({},w.start),end:Object.assign({},w.end)},g.add(n,0,[["enter",c,t]])):w.type==="tableRow"||w.type==="tableDelimiterRow"?(r=!0,p=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,f={type:"tableBody",start:Object.assign({},w.start),end:Object.assign({},w.end)},g.add(n,0,[["enter",f,t]])),i=w.type==="tableDelimiterRow"?2:f?3:1):i&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],p=op(g,t,s,i,void 0,p),s=[0,0,0,0]),o[2]=n)):w.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],p=op(g,t,s,i,void 0,p)),s=o,o=[s[1],n,0,0])):w.type==="tableHead"?(a=!0,u=n):w.type==="tableRow"||w.type==="tableDelimiterRow"?(u=n,s[1]!==0?(o[0]=o[1],p=op(g,t,s,i,n,p)):o[1]!==0&&(p=op(g,t,o,i,n,p)),i=0):i&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")&&(o[3]=n)}for(u!==0&&P4(g,t,u,c,f),g.consume(t.events),n=-1;++n<t.events.length;){const x=t.events[n];x[0]==="enter"&&x[1].type==="table"&&(x[1]._align=vV(t.events,n))}return e}function op(e,t,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},$u(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const u=$u(t.events,n[1]);if(s={type:o,start:Object.assign({},u),end:Object.assign({},u)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const c=$u(t.events,n[2]),f=$u(t.events,n[3]),p={type:a,start:Object.assign({},c),end:Object.assign({},f)};if(e.add(n[2],0,[["enter",p,t]]),r!==2){const g=t.events[n[2]],x=t.events[n[3]];if(g[1].end=Object.assign({},x[1].end),g[1].type="chunkText",g[1].contentType="text",n[3]>n[2]+1){const w=n[2]+1,S=n[3]-n[2]-1;e.add(w,S,[])}}e.add(n[3]+1,0,[["exit",p,t]])}return i!==void 0&&(s.end=Object.assign({},$u(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function P4(e,t,n,r,i){const s=[],o=$u(t.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,t])),r.end=Object.assign({},o),s.push(["exit",r,t]),e.add(n+1,0,s)}function $u(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const _V={name:"tasklistCheck",tokenize:CV};function SV(){return{text:{91:_V}}}function CV(e,t,n){const r=this;return i;function i(u){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(u):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),s)}function s(u){return sn(u)?(e.enter("taskListCheckValueUnchecked"),e.consume(u),e.exit("taskListCheckValueUnchecked"),o):u===88||u===120?(e.enter("taskListCheckValueChecked"),e.consume(u),e.exit("taskListCheckValueChecked"),o):n(u)}function o(u){return u===93?(e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(u)}function a(u){return ht(u)?t(u):Dt(u)?e.check({tokenize:kV},t,n)(u):n(u)}}function kV(e,t,n){return Ht(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function jV(e){return bS([IH(),aV(),mV(e),xV(),SV()])}const EV={};function TV(e){const t=this,n=e||EV,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(jV(n)),s.push(PH()),o.push(OH(n))}function NV(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const PV=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,OV=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,LV={};function O4(e,t){return(LV.jsx?OV:PV).test(e)}const RV=/[ \t\n\f\r]/g;function AV(e){return typeof e=="object"?e.type==="text"?L4(e.value):!1:L4(e)}function L4(e){return e.replace(RV,"")===""}class _h{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}_h.prototype.normal={};_h.prototype.property={};_h.prototype.space=void 0;function IS(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new _h(n,r,t)}function Qy(e){return e.toLowerCase()}class ui{constructor(t,n){this.attribute=n,this.property=t}}ui.prototype.attribute="";ui.prototype.booleanish=!1;ui.prototype.boolean=!1;ui.prototype.commaOrSpaceSeparated=!1;ui.prototype.commaSeparated=!1;ui.prototype.defined=!1;ui.prototype.mustUseProperty=!1;ui.prototype.number=!1;ui.prototype.overloadedBoolean=!1;ui.prototype.property="";ui.prototype.spaceSeparated=!1;ui.prototype.space=void 0;let MV=0;const Et=Rl(),Un=Rl(),Vy=Rl(),Fe=Rl(),ln=Rl(),qu=Rl(),xi=Rl();function Rl(){return 2**++MV}const Wy=Object.freeze(Object.defineProperty({__proto__:null,boolean:Et,booleanish:Un,commaOrSpaceSeparated:xi,commaSeparated:qu,number:Fe,overloadedBoolean:Vy,spaceSeparated:ln},Symbol.toStringTag,{value:"Module"})),C1=Object.keys(Wy);class Ex extends ui{constructor(t,n,r,i){let s=-1;if(super(t,n),R4(this,"space",i),typeof r=="number")for(;++s<C1.length;){const o=C1[s];R4(this,C1[s],(r&Wy[o])===Wy[o])}}}Ex.prototype.defined=!0;function R4(e,t,n){n&&(e[t]=n)}function pc(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new Ex(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Qy(r)]=r,n[Qy(s.attribute)]=r}return new _h(t,n,e.space)}const DS=pc({properties:{ariaActiveDescendant:null,ariaAtomic:Un,ariaAutoComplete:null,ariaBusy:Un,ariaChecked:Un,ariaColCount:Fe,ariaColIndex:Fe,ariaColSpan:Fe,ariaControls:ln,ariaCurrent:null,ariaDescribedBy:ln,ariaDetails:null,ariaDisabled:Un,ariaDropEffect:ln,ariaErrorMessage:null,ariaExpanded:Un,ariaFlowTo:ln,ariaGrabbed:Un,ariaHasPopup:null,ariaHidden:Un,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ln,ariaLevel:Fe,ariaLive:null,ariaModal:Un,ariaMultiLine:Un,ariaMultiSelectable:Un,ariaOrientation:null,ariaOwns:ln,ariaPlaceholder:null,ariaPosInSet:Fe,ariaPressed:Un,ariaReadOnly:Un,ariaRelevant:null,ariaRequired:Un,ariaRoleDescription:ln,ariaRowCount:Fe,ariaRowIndex:Fe,ariaRowSpan:Fe,ariaSelected:Un,ariaSetSize:Fe,ariaSort:null,ariaValueMax:Fe,ariaValueMin:Fe,ariaValueNow:Fe,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function FS(e,t){return t in e?e[t]:t}function BS(e,t){return FS(e,t.toLowerCase())}const IV=pc({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:qu,acceptCharset:ln,accessKey:ln,action:null,allow:null,allowFullScreen:Et,allowPaymentRequest:Et,allowUserMedia:Et,alt:null,as:null,async:Et,autoCapitalize:null,autoComplete:ln,autoFocus:Et,autoPlay:Et,blocking:ln,capture:null,charSet:null,checked:Et,cite:null,className:ln,cols:Fe,colSpan:null,content:null,contentEditable:Un,controls:Et,controlsList:ln,coords:Fe|qu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Et,defer:Et,dir:null,dirName:null,disabled:Et,download:Vy,draggable:Un,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Et,formTarget:null,headers:ln,height:Fe,hidden:Vy,high:Fe,href:null,hrefLang:null,htmlFor:ln,httpEquiv:ln,id:null,imageSizes:null,imageSrcSet:null,inert:Et,inputMode:null,integrity:null,is:null,isMap:Et,itemId:null,itemProp:ln,itemRef:ln,itemScope:Et,itemType:ln,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Et,low:Fe,manifest:null,max:null,maxLength:Fe,media:null,method:null,min:null,minLength:Fe,multiple:Et,muted:Et,name:null,nonce:null,noModule:Et,noValidate:Et,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Et,optimum:Fe,pattern:null,ping:ln,placeholder:null,playsInline:Et,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Et,referrerPolicy:null,rel:ln,required:Et,reversed:Et,rows:Fe,rowSpan:Fe,sandbox:ln,scope:null,scoped:Et,seamless:Et,selected:Et,shadowRootClonable:Et,shadowRootDelegatesFocus:Et,shadowRootMode:null,shape:null,size:Fe,sizes:null,slot:null,span:Fe,spellCheck:Un,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Fe,step:null,style:null,tabIndex:Fe,target:null,title:null,translate:null,type:null,typeMustMatch:Et,useMap:null,value:Un,width:Fe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ln,axis:null,background:null,bgColor:null,border:Fe,borderColor:null,bottomMargin:Fe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Et,declare:Et,event:null,face:null,frame:null,frameBorder:null,hSpace:Fe,leftMargin:Fe,link:null,longDesc:null,lowSrc:null,marginHeight:Fe,marginWidth:Fe,noResize:Et,noHref:Et,noShade:Et,noWrap:Et,object:null,profile:null,prompt:null,rev:null,rightMargin:Fe,rules:null,scheme:null,scrolling:Un,standby:null,summary:null,text:null,topMargin:Fe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Fe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Et,disableRemotePlayback:Et,prefix:null,property:null,results:Fe,security:null,unselectable:null},space:"html",transform:BS}),DV=pc({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:xi,accentHeight:Fe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Fe,amplitude:Fe,arabicForm:null,ascent:Fe,attributeName:null,attributeType:null,azimuth:Fe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Fe,by:null,calcMode:null,capHeight:Fe,className:ln,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Fe,diffuseConstant:Fe,direction:null,display:null,dur:null,divisor:Fe,dominantBaseline:null,download:Et,dx:null,dy:null,edgeMode:null,editable:null,elevation:Fe,enableBackground:null,end:null,event:null,exponent:Fe,externalResourcesRequired:null,fill:null,fillOpacity:Fe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:qu,g2:qu,glyphName:qu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Fe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Fe,horizOriginX:Fe,horizOriginY:Fe,id:null,ideographic:Fe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Fe,k:Fe,k1:Fe,k2:Fe,k3:Fe,k4:Fe,kernelMatrix:xi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Fe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Fe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Fe,overlineThickness:Fe,paintOrder:null,panose1:null,path:null,pathLength:Fe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ln,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Fe,pointsAtY:Fe,pointsAtZ:Fe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:xi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:xi,rev:xi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:xi,requiredFeatures:xi,requiredFonts:xi,requiredFormats:xi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Fe,specularExponent:Fe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Fe,strikethroughThickness:Fe,string:null,stroke:null,strokeDashArray:xi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Fe,strokeOpacity:Fe,strokeWidth:null,style:null,surfaceScale:Fe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:xi,tabIndex:Fe,tableValues:null,target:null,targetX:Fe,targetY:Fe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:xi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Fe,underlineThickness:Fe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Fe,values:null,vAlphabetic:Fe,vMathematical:Fe,vectorEffect:null,vHanging:Fe,vIdeographic:Fe,version:null,vertAdvY:Fe,vertOriginX:Fe,vertOriginY:Fe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Fe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:FS}),zS=pc({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),$S=pc({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:BS}),US=pc({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),FV={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},BV=/[A-Z]/g,A4=/-[a-z]/g,zV=/^data[-\w.:]+$/i;function $V(e,t){const n=Qy(t);let r=t,i=ui;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&zV.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(A4,HV);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!A4.test(s)){let o=s.replace(BV,UV);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=Ex}return new i(r,t)}function UV(e){return"-"+e.toLowerCase()}function HV(e){return e.charAt(1).toUpperCase()}const QV=IS([DS,IV,zS,$S,US],"html"),Tx=IS([DS,DV,zS,$S,US],"svg");function VV(e){return e.join(" ").trim()}var Ru={},k1,M4;function WV(){if(M4)return k1;M4=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,a=/^\s+|\s+$/g,u=`
`,c="/",f="*",p="",g="comment",x="declaration";k1=function(S,k){if(typeof S!="string")throw new TypeError("First argument must be a string");if(!S)return[];k=k||{};var E=1,L=1;function R(ae){var q=ae.match(t);q&&(E+=q.length);var V=ae.lastIndexOf(u);L=~V?ae.length-V:L+ae.length}function z(){var ae={line:E,column:L};return function(q){return q.position=new U(ae),H(),q}}function U(ae){this.start=ae,this.end={line:E,column:L},this.source=k.source}U.prototype.content=S;function P(ae){var q=new Error(k.source+":"+E+":"+L+": "+ae);if(q.reason=ae,q.filename=k.source,q.line=E,q.column=L,q.source=S,!k.silent)throw q}function I(ae){var q=ae.exec(S);if(q){var V=q[0];return R(V),S=S.slice(V.length),q}}function H(){I(n)}function Q(ae){var q;for(ae=ae||[];q=F();)q!==!1&&ae.push(q);return ae}function F(){var ae=z();if(!(c!=S.charAt(0)||f!=S.charAt(1))){for(var q=2;p!=S.charAt(q)&&(f!=S.charAt(q)||c!=S.charAt(q+1));)++q;if(q+=2,p===S.charAt(q-1))return P("End of comment missing");var V=S.slice(2,q-2);return L+=2,R(V),S=S.slice(q),L+=2,ae({type:g,comment:V})}}function le(){var ae=z(),q=I(r);if(q){if(F(),!I(i))return P("property missing ':'");var V=I(s),J=ae({type:x,property:w(q[0].replace(e,p)),value:V?w(V[0].replace(e,p)):p});return I(o),J}}function ue(){var ae=[];Q(ae);for(var q;q=le();)q!==!1&&(ae.push(q),Q(ae));return ae}return H(),ue()};function w(S){return S?S.replace(a,p):p}return k1}var I4;function qV(){if(I4)return Ru;I4=1;var e=Ru&&Ru.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ru,"__esModule",{value:!0}),Ru.default=n;var t=e(WV());function n(r,i){var s=null;if(!r||typeof r!="string")return s;var o=(0,t.default)(r),a=typeof i=="function";return o.forEach(function(u){if(u.type==="declaration"){var c=u.property,f=u.value;a?i(c,f,u):f&&(s=s||{},s[c]=f)}}),s}return Ru}var cd={},D4;function KV(){if(D4)return cd;D4=1,Object.defineProperty(cd,"__esModule",{value:!0}),cd.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(c){return!c||n.test(c)||e.test(c)},o=function(c,f){return f.toUpperCase()},a=function(c,f){return"".concat(f,"-")},u=function(c,f){return f===void 0&&(f={}),s(c)?c:(c=c.toLowerCase(),f.reactCompat?c=c.replace(i,a):c=c.replace(r,a),c.replace(t,o))};return cd.camelCase=u,cd}var dd,F4;function GV(){if(F4)return dd;F4=1;var e=dd&&dd.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(qV()),n=KV();function r(i,s){var o={};return!i||typeof i!="string"||(0,t.default)(i,function(a,u){a&&u&&(o[(0,n.camelCase)(a,s)]=u)}),o}return r.default=r,dd=r,dd}var YV=GV();const XV=ki(YV),HS=QS("end"),Nx=QS("start");function QS(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function JV(e){const t=Nx(e),n=HS(e);if(t&&n)return{start:t,end:n}}function Ld(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?B4(e.position):"start"in e||"end"in e?B4(e):"line"in e||"column"in e?qy(e):""}function qy(e){return z4(e&&e.line)+":"+z4(e&&e.column)}function B4(e){return qy(e&&e.start)+"-"+qy(e&&e.end)}function z4(e){return e&&typeof e=="number"?e:1}class Pr extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(o=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?s.ruleId=r:(s.source=r.slice(0,u),s.ruleId=r.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){const u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=Ld(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Pr.prototype.file="";Pr.prototype.name="";Pr.prototype.reason="";Pr.prototype.message="";Pr.prototype.stack="";Pr.prototype.column=void 0;Pr.prototype.line=void 0;Pr.prototype.ancestors=void 0;Pr.prototype.cause=void 0;Pr.prototype.fatal=void 0;Pr.prototype.place=void 0;Pr.prototype.ruleId=void 0;Pr.prototype.source=void 0;const Px={}.hasOwnProperty,ZV=new Map,eW=/[A-Z]/g,tW=new Set(["table","tbody","thead","tfoot","tr"]),nW=new Set(["td","th"]),VS="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function rW(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=dW(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=cW(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Tx:QV,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=WS(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function WS(e,t,n){if(t.type==="element")return iW(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return sW(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return aW(e,t,n);if(t.type==="mdxjsEsm")return oW(e,t);if(t.type==="root")return lW(e,t,n);if(t.type==="text")return uW(e,t)}function iW(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Tx,e.schema=i),e.ancestors.push(t);const s=KS(e,t.tagName,!1),o=hW(e,t);let a=Lx(e,t);return tW.has(t.tagName)&&(a=a.filter(function(u){return typeof u=="string"?!AV(u):!0})),qS(e,o,s,t),Ox(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function sW(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Xd(e,t.position)}function oW(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Xd(e,t.position)}function aW(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Tx,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:KS(e,t.name,!0),o=fW(e,t),a=Lx(e,t);return qS(e,o,s,t),Ox(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function lW(e,t,n){const r={};return Ox(r,Lx(e,t)),e.create(t,e.Fragment,r,n)}function uW(e,t){return t.value}function qS(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Ox(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function cW(e,t,n){return r;function r(i,s,o,a){const c=Array.isArray(o.children)?n:t;return a?c(s,o,a):c(s,o)}}function dW(e,t){return n;function n(r,i,s,o){const a=Array.isArray(s.children),u=Nx(r);return t(i,s,o,a,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function hW(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&Px.call(t.properties,i)){const s=pW(e,i,t.properties[i]);if(s){const[o,a]=s;e.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&nW.has(t.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function fW(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else Xd(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,s=e.evaluater.evaluateExpression(a.expression)}else Xd(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function Lx(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:ZV;for(;++r<t.children.length;){const s=t.children[r];let o;if(e.passKeys){const u=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(u){const c=i.get(u)||0;o=u+"-"+c,i.set(u,c+1)}}const a=WS(e,s,o);a!==void 0&&n.push(a)}return n}function pW(e,t,n){const r=$V(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?NV(n):VV(n)),r.property==="style"){let i=typeof n=="object"?n:mW(e,String(n));return e.stylePropertyNameCase==="css"&&(i=gW(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?FV[r.property]||r.property:r.attribute,n]}}function mW(e,t){try{return XV(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Pr("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=VS+"#cannot-parse-style-attribute",i}}function KS(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,o;for(;++s<i.length;){const a=O4(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=O4(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return Px.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Xd(e)}function Xd(e,t){const n=new Pr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=VS+"#cannot-handle-mdx-estrees-without-createevaluater",n}function gW(e){const t={};let n;for(n in e)Px.call(e,n)&&(t[yW(n)]=e[n]);return t}function yW(e){let t=e.replace(eW,vW);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function vW(e){return"-"+e.toLowerCase()}const j1={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},xW={tokenize:bW};function bW(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Ht(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return ht(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const wW={tokenize:_W},$4={tokenize:SW};function _W(e){const t=this,n=[];let r=0,i,s,o;return a;function a(R){if(r<n.length){const z=n[r];return t.containerState=z[1],e.attempt(z[0].continuation,u,c)(R)}return c(R)}function u(R){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&L();const z=t.events.length;let U=z,P;for(;U--;)if(t.events[U][0]==="exit"&&t.events[U][1].type==="chunkFlow"){P=t.events[U][1].end;break}E(r);let I=z;for(;I<t.events.length;)t.events[I][1].end={...P},I++;return Ci(t.events,U+1,0,t.events.slice(z)),t.events.length=I,c(R)}return a(R)}function c(R){if(r===n.length){if(!i)return g(R);if(i.currentConstruct&&i.currentConstruct.concrete)return w(R);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check($4,f,p)(R)}function f(R){return i&&L(),E(r),g(R)}function p(R){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,w(R)}function g(R){return t.containerState={},e.attempt($4,x,w)(R)}function x(R){return r++,n.push([t.currentConstruct,t.containerState]),g(R)}function w(R){if(R===null){i&&L(),E(0),e.consume(R);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),S(R)}function S(R){if(R===null){k(e.exit("chunkFlow"),!0),E(0),e.consume(R);return}return ht(R)?(e.consume(R),k(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(R),S)}function k(R,z){const U=t.sliceStream(R);if(z&&U.push(null),R.previous=s,s&&(s.next=R),s=R,i.defineSkip(R.start),i.write(U),t.parser.lazy[R.start.line]){let P=i.events.length;for(;P--;)if(i.events[P][1].start.offset<o&&(!i.events[P][1].end||i.events[P][1].end.offset>o))return;const I=t.events.length;let H=I,Q,F;for(;H--;)if(t.events[H][0]==="exit"&&t.events[H][1].type==="chunkFlow"){if(Q){F=t.events[H][1].end;break}Q=!0}for(E(r),P=I;P<t.events.length;)t.events[P][1].end={...F},P++;Ci(t.events,H+1,0,t.events.slice(I)),t.events.length=P}}function E(R){let z=n.length;for(;z-- >R;){const U=n[z];t.containerState=U[1],U[0].exit.call(t,e)}n.length=R}function L(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function SW(e,t,n){return Ht(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}const CW={tokenize:kW};function kW(e){const t=this,n=e.attempt(wh,r,e.attempt(this.parser.constructs.flowInitial,i,Ht(e,e.attempt(this.parser.constructs.flow,i,e.attempt(hQ,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const jW={resolveAll:YS()},EW=GS("string"),TW=GS("text");function GS(e){return{resolveAll:YS(e==="text"?NW:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(f){return c(f)?s(f):a(f)}function a(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),u}function u(f){return c(f)?(n.exit("data"),s(f)):(n.consume(f),u)}function c(f){if(f===null)return!0;const p=i[f];let g=-1;if(p)for(;++g<p.length;){const x=p[g];if(!x.previous||x.previous.call(r,r.previous))return!0}return!1}}}function YS(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function NW(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,u;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)u=!0,a++;else if(c!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const c={type:n===e.length||u||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const PW={42:ei,43:ei,45:ei,48:ei,49:ei,50:ei,51:ei,52:ei,53:ei,54:ei,55:ei,56:ei,57:ei,62:NS},OW={91:yQ},LW={[-2]:_1,[-1]:_1,32:_1},RW={35:SQ,42:Pp,45:[N4,Pp],60:EQ,61:N4,95:Pp,96:E4,126:E4},AW={38:OS,92:PS},MW={[-5]:S1,[-4]:S1,[-3]:S1,33:VQ,38:OS,42:Hy,60:[qH,AQ],91:qQ,92:[wQ,PS],93:jx,95:Hy,96:oQ},IW={null:[Hy,jW]},DW={null:[42,95]},FW={null:[]},BW=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:DW,contentInitial:OW,disable:FW,document:PW,flow:RW,flowInitial:LW,insideSpan:IW,string:AW,text:MW},Symbol.toStringTag,{value:"Module"}));function zW(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const u={attempt:I(U),check:I(P),consume:L,enter:R,exit:z,interrupt:I(P,{interrupt:!0})},c={code:null,containerState:{},defineSkip:S,events:[],now:w,parser:e,previous:null,sliceSerialize:g,sliceStream:x,write:p};let f=t.tokenize.call(c,u);return t.resolveAll&&s.push(t),c;function p(le){return o=Ui(o,le),k(),o[o.length-1]!==null?[]:(H(t,0),c.events=Gm(s,c.events,c),c.events)}function g(le,ue){return UW(x(le),ue)}function x(le){return $W(o,le)}function w(){const{_bufferIndex:le,_index:ue,line:ae,column:q,offset:V}=r;return{_bufferIndex:le,_index:ue,line:ae,column:q,offset:V}}function S(le){i[le.line]=le.column,F()}function k(){let le;for(;r._index<o.length;){const ue=o[r._index];if(typeof ue=="string")for(le=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===le&&r._bufferIndex<ue.length;)E(ue.charCodeAt(r._bufferIndex));else E(ue)}}function E(le){f=f(le)}function L(le){ht(le)?(r.line++,r.column=1,r.offset+=le===-3?2:1,F()):le!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=le}function R(le,ue){const ae=ue||{};return ae.type=le,ae.start=w(),c.events.push(["enter",ae,c]),a.push(ae),ae}function z(le){const ue=a.pop();return ue.end=w(),c.events.push(["exit",ue,c]),ue}function U(le,ue){H(le,ue.from)}function P(le,ue){ue.restore()}function I(le,ue){return ae;function ae(q,V,J){let te,ne,me,D;return Array.isArray(q)?ye(q):"tokenize"in q?ye([q]):G(q);function G(Ee){return Xe;function Xe(Ge){const Pe=Ge!==null&&Ee[Ge],ft=Ge!==null&&Ee.null,dn=[...Array.isArray(Pe)?Pe:Pe?[Pe]:[],...Array.isArray(ft)?ft:ft?[ft]:[]];return ye(dn)(Ge)}}function ye(Ee){return te=Ee,ne=0,Ee.length===0?J:B(Ee[ne])}function B(Ee){return Xe;function Xe(Ge){return D=Q(),me=Ee,Ee.partial||(c.currentConstruct=Ee),Ee.name&&c.parser.constructs.disable.null.includes(Ee.name)?je():Ee.tokenize.call(ue?Object.assign(Object.create(c),ue):c,u,De,je)(Ge)}}function De(Ee){return le(me,D),V}function je(Ee){return D.restore(),++ne<te.length?B(te[ne]):J}}}function H(le,ue){le.resolveAll&&!s.includes(le)&&s.push(le),le.resolve&&Ci(c.events,ue,c.events.length-ue,le.resolve(c.events.slice(ue),c)),le.resolveTo&&(c.events=le.resolveTo(c.events,c))}function Q(){const le=w(),ue=c.previous,ae=c.currentConstruct,q=c.events.length,V=Array.from(a);return{from:q,restore:J};function J(){r=le,c.previous=ue,c.currentConstruct=ae,c.events.length=q,a=V,F()}}function F(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function $W(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function UW(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function HW(e){const r={constructs:bS([BW,...(e||{}).extensions||[]]),content:i(xW),defined:[],document:i(wW),flow:i(CW),lazy:{},string:i(EW),text:i(TW)};return r;function i(s){return o;function o(a){return zW(r,s,a)}}}function QW(e){for(;!LS(e););return e}const U4=/[\0\t\n\r]/g;function VW(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const u=[];let c,f,p,g,x;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),p=0,t="",n&&(s.charCodeAt(0)===65279&&p++,n=void 0);p<s.length;){if(U4.lastIndex=p,c=U4.exec(s),g=c&&c.index!==void 0?c.index:s.length,x=s.charCodeAt(g),!c){t=s.slice(p);break}if(x===10&&p===g&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),p<g&&(u.push(s.slice(p,g)),e+=g-p),x){case 0:{u.push(65533),e++;break}case 9:{for(f=Math.ceil(e/4)*4,u.push(-2);e++<f;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}p=g+1}return a&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}const XS={}.hasOwnProperty;function WW(e,t,n){return typeof t!="string"&&(n=t,t=void 0),qW(n)(QW(HW(n).document().write(VW()(e,t,!0))))}function qW(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(bs),autolinkProtocol:Q,autolinkEmail:Q,atxHeading:s(Ln),blockQuote:s(ft),characterEscape:Q,characterReference:Q,codeFenced:s(dn),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(dn,o),codeText:s(Nt,o),codeTextData:Q,data:Q,codeFlowValue:Q,definition:s(yn),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(hn),hardBreakEscape:s(Fs),hardBreakTrailing:s(Fs),htmlFlow:s(Gi,o),htmlFlowData:Q,htmlText:s(Gi,o),htmlTextData:Q,image:s(Co),label:o,link:s(bs),listItem:s(Rn),listItemValue:g,listOrdered:s($r,p),listUnordered:s($r),paragraph:s(hr),reference:B,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(Ln),strong:s(fr),thematicBreak:s(Ur)},exit:{atxHeading:u(),atxHeadingSequence:U,autolink:u(),autolinkEmail:Pe,autolinkProtocol:Ge,blockQuote:u(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:je,characterReferenceMarkerNumeric:je,characterReferenceValue:Ee,characterReference:Xe,codeFenced:u(k),codeFencedFence:S,codeFencedFenceInfo:x,codeFencedFenceMeta:w,codeFlowValue:F,codeIndented:u(E),codeText:u(V),codeTextData:F,data:F,definition:u(),definitionDestinationString:z,definitionLabelString:L,definitionTitleString:R,emphasis:u(),hardBreakEscape:u(ue),hardBreakTrailing:u(ue),htmlFlow:u(ae),htmlFlowData:F,htmlText:u(q),htmlTextData:F,image:u(te),label:me,labelText:ne,lineEnding:le,link:u(J),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:De,resourceDestinationString:D,resourceTitleString:G,resource:ye,setextHeading:u(H),setextHeadingLineSequence:I,setextHeadingText:P,strong:u(),thematicBreak:u()}};JS(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Ce){let Oe={type:"root",children:[]};const ut={stack:[Oe],tokenStack:[],config:t,enter:a,exit:c,buffer:o,resume:f,data:n},mt=[];let Pt=-1;for(;++Pt<Ce.length;)if(Ce[Pt][1].type==="listOrdered"||Ce[Pt][1].type==="listUnordered")if(Ce[Pt][0]==="enter")mt.push(Pt);else{const Yt=mt.pop();Pt=i(Ce,Yt,Pt)}for(Pt=-1;++Pt<Ce.length;){const Yt=t[Ce[Pt][0]];XS.call(Yt,Ce[Pt][1].type)&&Yt[Ce[Pt][1].type].call(Object.assign({sliceSerialize:Ce[Pt][2].sliceSerialize},ut),Ce[Pt][1])}if(ut.tokenStack.length>0){const Yt=ut.tokenStack[ut.tokenStack.length-1];(Yt[1]||H4).call(ut,void 0,Yt[0])}for(Oe.position={start:Yo(Ce.length>0?Ce[0][1].start:{line:1,column:1,offset:0}),end:Yo(Ce.length>0?Ce[Ce.length-2][1].end:{line:1,column:1,offset:0})},Pt=-1;++Pt<t.transforms.length;)Oe=t.transforms[Pt](Oe)||Oe;return Oe}function i(Ce,Oe,ut){let mt=Oe-1,Pt=-1,Yt=!1,Fn,Bn,Or,Zn;for(;++mt<=ut;){const We=Ce[mt];switch(We[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{We[0]==="enter"?Pt++:Pt--,Zn=void 0;break}case"lineEndingBlank":{We[0]==="enter"&&(Fn&&!Zn&&!Pt&&!Or&&(Or=mt),Zn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Zn=void 0}if(!Pt&&We[0]==="enter"&&We[1].type==="listItemPrefix"||Pt===-1&&We[0]==="exit"&&(We[1].type==="listUnordered"||We[1].type==="listOrdered")){if(Fn){let An=mt;for(Bn=void 0;An--;){const vn=Ce[An];if(vn[1].type==="lineEnding"||vn[1].type==="lineEndingBlank"){if(vn[0]==="exit")continue;Bn&&(Ce[Bn][1].type="lineEndingBlank",Yt=!0),vn[1].type="lineEnding",Bn=An}else if(!(vn[1].type==="linePrefix"||vn[1].type==="blockQuotePrefix"||vn[1].type==="blockQuotePrefixWhitespace"||vn[1].type==="blockQuoteMarker"||vn[1].type==="listItemIndent"))break}Or&&(!Bn||Or<Bn)&&(Fn._spread=!0),Fn.end=Object.assign({},Bn?Ce[Bn][1].start:We[1].end),Ce.splice(Bn||mt,0,["exit",Fn,We[2]]),mt++,ut++}if(We[1].type==="listItemPrefix"){const An={type:"listItem",_spread:!1,start:Object.assign({},We[1].start),end:void 0};Fn=An,Ce.splice(mt,0,["enter",An,We[2]]),mt++,ut++,Or=void 0,Zn=!0}}}return Ce[Oe][1]._spread=Yt,ut}function s(Ce,Oe){return ut;function ut(mt){a.call(this,Ce(mt),mt),Oe&&Oe.call(this,mt)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(Ce,Oe,ut){this.stack[this.stack.length-1].children.push(Ce),this.stack.push(Ce),this.tokenStack.push([Oe,ut||void 0]),Ce.position={start:Yo(Oe.start),end:void 0}}function u(Ce){return Oe;function Oe(ut){Ce&&Ce.call(this,ut),c.call(this,ut)}}function c(Ce,Oe){const ut=this.stack.pop(),mt=this.tokenStack.pop();if(mt)mt[0].type!==Ce.type&&(Oe?Oe.call(this,Ce,mt[0]):(mt[1]||H4).call(this,Ce,mt[0]));else throw new Error("Cannot close `"+Ce.type+"` ("+Ld({start:Ce.start,end:Ce.end})+"): its not open");ut.position.end=Yo(Ce.end)}function f(){return _x(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function g(Ce){if(this.data.expectingFirstListItemValue){const Oe=this.stack[this.stack.length-2];Oe.start=Number.parseInt(this.sliceSerialize(Ce),10),this.data.expectingFirstListItemValue=void 0}}function x(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.lang=Ce}function w(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.meta=Ce}function S(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function k(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=Ce.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function E(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=Ce.replace(/(\r?\n|\r)$/g,"")}function L(Ce){const Oe=this.resume(),ut=this.stack[this.stack.length-1];ut.label=Oe,ut.identifier=ys(this.sliceSerialize(Ce)).toLowerCase()}function R(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.title=Ce}function z(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.url=Ce}function U(Ce){const Oe=this.stack[this.stack.length-1];if(!Oe.depth){const ut=this.sliceSerialize(Ce).length;Oe.depth=ut}}function P(){this.data.setextHeadingSlurpLineEnding=!0}function I(Ce){const Oe=this.stack[this.stack.length-1];Oe.depth=this.sliceSerialize(Ce).codePointAt(0)===61?1:2}function H(){this.data.setextHeadingSlurpLineEnding=void 0}function Q(Ce){const ut=this.stack[this.stack.length-1].children;let mt=ut[ut.length-1];(!mt||mt.type!=="text")&&(mt=ws(),mt.position={start:Yo(Ce.start),end:void 0},ut.push(mt)),this.stack.push(mt)}function F(Ce){const Oe=this.stack.pop();Oe.value+=this.sliceSerialize(Ce),Oe.position.end=Yo(Ce.end)}function le(Ce){const Oe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ut=Oe.children[Oe.children.length-1];ut.position.end=Yo(Ce.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Oe.type)&&(Q.call(this,Ce),F.call(this,Ce))}function ue(){this.data.atHardBreak=!0}function ae(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=Ce}function q(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=Ce}function V(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=Ce}function J(){const Ce=this.stack[this.stack.length-1];if(this.data.inReference){const Oe=this.data.referenceType||"shortcut";Ce.type+="Reference",Ce.referenceType=Oe,delete Ce.url,delete Ce.title}else delete Ce.identifier,delete Ce.label;this.data.referenceType=void 0}function te(){const Ce=this.stack[this.stack.length-1];if(this.data.inReference){const Oe=this.data.referenceType||"shortcut";Ce.type+="Reference",Ce.referenceType=Oe,delete Ce.url,delete Ce.title}else delete Ce.identifier,delete Ce.label;this.data.referenceType=void 0}function ne(Ce){const Oe=this.sliceSerialize(Ce),ut=this.stack[this.stack.length-2];ut.label=yH(Oe),ut.identifier=ys(Oe).toLowerCase()}function me(){const Ce=this.stack[this.stack.length-1],Oe=this.resume(),ut=this.stack[this.stack.length-1];if(this.data.inReference=!0,ut.type==="link"){const mt=Ce.children;ut.children=mt}else ut.alt=Oe}function D(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.url=Ce}function G(){const Ce=this.resume(),Oe=this.stack[this.stack.length-1];Oe.title=Ce}function ye(){this.data.inReference=void 0}function B(){this.data.referenceType="collapsed"}function De(Ce){const Oe=this.resume(),ut=this.stack[this.stack.length-1];ut.label=Oe,ut.identifier=ys(this.sliceSerialize(Ce)).toLowerCase(),this.data.referenceType="full"}function je(Ce){this.data.characterReferenceType=Ce.type}function Ee(Ce){const Oe=this.sliceSerialize(Ce),ut=this.data.characterReferenceType;let mt;ut?(mt=xS(Oe,ut==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):mt=Cx(Oe);const Pt=this.stack[this.stack.length-1];Pt.value+=mt}function Xe(Ce){const Oe=this.stack.pop();Oe.position.end=Yo(Ce.end)}function Ge(Ce){F.call(this,Ce);const Oe=this.stack[this.stack.length-1];Oe.url=this.sliceSerialize(Ce)}function Pe(Ce){F.call(this,Ce);const Oe=this.stack[this.stack.length-1];Oe.url="mailto:"+this.sliceSerialize(Ce)}function ft(){return{type:"blockquote",children:[]}}function dn(){return{type:"code",lang:null,meta:null,value:""}}function Nt(){return{type:"inlineCode",value:""}}function yn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function hn(){return{type:"emphasis",children:[]}}function Ln(){return{type:"heading",depth:0,children:[]}}function Fs(){return{type:"break"}}function Gi(){return{type:"html",value:""}}function Co(){return{type:"image",title:null,url:"",alt:null}}function bs(){return{type:"link",title:null,url:"",children:[]}}function $r(Ce){return{type:"list",ordered:Ce.type==="listOrdered",start:null,spread:Ce._spread,children:[]}}function Rn(Ce){return{type:"listItem",spread:Ce._spread,checked:null,children:[]}}function hr(){return{type:"paragraph",children:[]}}function fr(){return{type:"strong",children:[]}}function ws(){return{type:"text",value:""}}function Ur(){return{type:"thematicBreak"}}}function Yo(e){return{line:e.line,column:e.column,offset:e.offset}}function JS(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?JS(e,r):KW(e,r)}}function KW(e,t){let n;for(n in t)if(XS.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function H4(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ld({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ld({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ld({start:t.start,end:t.end})+") is still open")}function GW(e){const t=this;t.parser=n;function n(r){return WW(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function YW(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function XW(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function JW(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function ZW(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function eq(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function tq(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=fc(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,a+=1,e.footnoteCounts.set(r,a);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,u);const c={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,c),e.applyData(t,c)}function nq(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function rq(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function ZS(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function iq(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return ZS(e,t);const i={src:fc(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function sq(e,t){const n={src:fc(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function oq(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function aq(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return ZS(e,t);const i={href:fc(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function lq(e,t){const n={href:fc(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function uq(e,t,n){const r=e.all(t),i=n?cq(n):e9(t),s={},o=[];if(typeof t.checked=="boolean"){const f=r[0];let p;f&&f.type==="element"&&f.tagName==="p"?p=f:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const f=r[a];(i||a!==0||f.type!=="element"||f.tagName!=="p")&&o.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?o.push(...f.children):o.push(f)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,c),e.applyData(t,c)}function cq(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=e9(n[r])}return t}function e9(e){const t=e.spread;return t??e.children.length>1}function dq(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function hq(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function fq(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function pq(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function mq(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=Nx(t.children[1]),u=HS(t.children[t.children.length-1]);a&&u&&(o.position={start:a,end:u}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function gq(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let u=-1;const c=[];for(;++u<a;){const p=t.children[u],g={},x=o?o[u]:void 0;x&&(g.align=x);let w={type:"element",tagName:s,properties:g,children:[]};p&&(w.children=e.all(p),e.patch(p,w),w=e.applyData(p,w)),c.push(w)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,f),e.applyData(t,f)}function yq(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Q4=9,V4=32;function vq(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(W4(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(W4(t.slice(i),i>0,!1)),s.join("")}function W4(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===Q4||s===V4;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===Q4||s===V4;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function xq(e,t){const n={type:"text",value:vq(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function bq(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const wq={blockquote:YW,break:XW,code:JW,delete:ZW,emphasis:eq,footnoteReference:tq,heading:nq,html:rq,imageReference:iq,image:sq,inlineCode:oq,linkReference:aq,link:lq,listItem:uq,list:dq,paragraph:hq,root:fq,strong:pq,table:mq,tableCell:yq,tableRow:gq,text:xq,thematicBreak:bq,toml:ap,yaml:ap,definition:ap,footnoteDefinition:ap};function ap(){}const t9=-1,Ym=0,Rd=1,om=2,Rx=3,Ax=4,Mx=5,Ix=6,n9=7,r9=8,q4=typeof self=="object"?self:globalThis,_q=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case Ym:case t9:return n(o,i);case Rd:{const a=n([],i);for(const u of o)a.push(r(u));return a}case om:{const a=n({},i);for(const[u,c]of o)a[r(u)]=r(c);return a}case Rx:return n(new Date(o),i);case Ax:{const{source:a,flags:u}=o;return n(new RegExp(a,u),i)}case Mx:{const a=n(new Map,i);for(const[u,c]of o)a.set(r(u),r(c));return a}case Ix:{const a=n(new Set,i);for(const u of o)a.add(r(u));return a}case n9:{const{name:a,message:u}=o;return n(new q4[a](u),i)}case r9:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new q4[s](o),i)};return r},K4=e=>_q(new Map,e)(0),Au="",{toString:Sq}={},{keys:Cq}=Object,hd=e=>{const t=typeof e;if(t!=="object"||!e)return[Ym,t];const n=Sq.call(e).slice(8,-1);switch(n){case"Array":return[Rd,Au];case"Object":return[om,Au];case"Date":return[Rx,Au];case"RegExp":return[Ax,Au];case"Map":return[Mx,Au];case"Set":return[Ix,Au];case"DataView":return[Rd,n]}return n.includes("Array")?[Rd,n]:n.includes("Error")?[n9,n]:[om,n]},lp=([e,t])=>e===Ym&&(t==="function"||t==="symbol"),kq=(e,t,n,r)=>{const i=(o,a)=>{const u=r.push(o)-1;return n.set(a,u),u},s=o=>{if(n.has(o))return n.get(o);let[a,u]=hd(o);switch(a){case Ym:{let f=o;switch(u){case"bigint":a=r9,f=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);f=null;break;case"undefined":return i([t9],o)}return i([a,f],o)}case Rd:{if(u){let g=o;return u==="DataView"?g=new Uint8Array(o.buffer):u==="ArrayBuffer"&&(g=new Uint8Array(o)),i([u,[...g]],o)}const f=[],p=i([a,f],o);for(const g of o)f.push(s(g));return p}case om:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const f=[],p=i([a,f],o);for(const g of Cq(o))(e||!lp(hd(o[g])))&&f.push([s(g),s(o[g])]);return p}case Rx:return i([a,o.toISOString()],o);case Ax:{const{source:f,flags:p}=o;return i([a,{source:f,flags:p}],o)}case Mx:{const f=[],p=i([a,f],o);for(const[g,x]of o)(e||!(lp(hd(g))||lp(hd(x))))&&f.push([s(g),s(x)]);return p}case Ix:{const f=[],p=i([a,f],o);for(const g of o)(e||!lp(hd(g)))&&f.push(s(g));return p}}const{message:c}=o;return i([a,{name:u,message:c}],o)};return s},G4=(e,{json:t,lossy:n}={})=>{const r=[];return kq(!(t||n),!!t,new Map,r)(e),r},am=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?K4(G4(e,t)):structuredClone(e):(e,t)=>K4(G4(e,t));function jq(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Eq(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Tq(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||jq,r=e.options.footnoteBackLabel||Eq,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let u=-1;for(;++u<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[u]);if(!c)continue;const f=e.all(c),p=String(c.identifier).toUpperCase(),g=fc(p.toLowerCase());let x=0;const w=[],S=e.footnoteCounts.get(p);for(;S!==void 0&&++x<=S;){w.length>0&&w.push({type:"text",value:" "});let L=typeof n=="string"?n:n(u,x);typeof L=="string"&&(L={type:"text",value:L}),w.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(x>1?"-"+x:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,x),className:["data-footnote-backref"]},children:Array.isArray(L)?L:[L]})}const k=f[f.length-1];if(k&&k.type==="element"&&k.tagName==="p"){const L=k.children[k.children.length-1];L&&L.type==="text"?L.value+=" ":k.children.push({type:"text",value:" "}),k.children.push(...w)}else f.push(...w);const E={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(f,!0)};e.patch(c,E),a.push(E)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...am(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const Ky={}.hasOwnProperty,Nq={};function Pq(e,t){const n=t||Nq,r=new Map,i=new Map,s=new Map,o={...wq,...n.handlers},a={all:c,applyData:Lq,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:u,options:n,patch:Oq,wrap:Aq};return wx(e,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const p=f.type==="definition"?r:i,g=String(f.identifier).toUpperCase();p.has(g)||p.set(g,f)}}),a;function u(f,p){const g=f.type,x=a.handlers[g];if(Ky.call(a.handlers,g)&&x)return x(a,f,p);if(a.options.passThrough&&a.options.passThrough.includes(g)){if("children"in f){const{children:S,...k}=f,E=am(k);return E.children=a.all(f),E}return am(f)}return(a.options.unknownHandler||Rq)(a,f,p)}function c(f){const p=[];if("children"in f){const g=f.children;let x=-1;for(;++x<g.length;){const w=a.one(g[x],f);if(w){if(x&&g[x-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=Y4(w.value)),!Array.isArray(w)&&w.type==="element")){const S=w.children[0];S&&S.type==="text"&&(S.value=Y4(S.value))}Array.isArray(w)?p.push(...w):p.push(w)}}}return p}}function Oq(e,t){e.position&&(t.position=JV(e))}function Lq(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,am(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Rq(e,t){const n=t.data||{},r="value"in t&&!(Ky.call(n,"hProperties")||Ky.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Aq(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Y4(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function X4(e,t){const n=Pq(e,t),r=n.one(e,void 0),i=Tq(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function Mq(e,t){return e&&"run"in e?async function(n,r){const i=X4(n,{file:r,...t});await e.run(i,r)}:function(n,r){return X4(n,{file:r,...e||t})}}function J4(e){if(e)throw e}var E1,Z4;function Iq(){if(Z4)return E1;Z4=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):t.call(c)==="[object Array]"},s=function(c){if(!c||t.call(c)!=="[object Object]")return!1;var f=e.call(c,"constructor"),p=c.constructor&&c.constructor.prototype&&e.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!f&&!p)return!1;var g;for(g in c);return typeof g>"u"||e.call(c,g)},o=function(c,f){n&&f.name==="__proto__"?n(c,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):c[f.name]=f.newValue},a=function(c,f){if(f==="__proto__")if(e.call(c,f)){if(r)return r(c,f).value}else return;return c[f]};return E1=function u(){var c,f,p,g,x,w,S=arguments[0],k=1,E=arguments.length,L=!1;for(typeof S=="boolean"&&(L=S,S=arguments[1]||{},k=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});k<E;++k)if(c=arguments[k],c!=null)for(f in c)p=a(S,f),g=a(c,f),S!==g&&(L&&g&&(s(g)||(x=i(g)))?(x?(x=!1,w=p&&i(p)?p:[]):w=p&&s(p)?p:{},o(S,{name:f,newValue:u(L,w,g)})):typeof g<"u"&&o(S,{name:f,newValue:g}));return S},E1}var Dq=Iq();const T1=ki(Dq);function Gy(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Fq(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(u,...c){const f=e[++s];let p=-1;if(u){o(u);return}for(;++p<i.length;)(c[p]===null||c[p]===void 0)&&(c[p]=i[p]);i=c,f?Bq(f,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function Bq(e,t){let n;return r;function r(...o){const a=e.length>o.length;let u;a&&o.push(i);try{u=e.apply(this,o)}catch(c){const f=c;if(a&&n)throw f;return i(f)}a||(u&&u.then&&typeof u.then=="function"?u.then(s,i):u instanceof Error?i(u):s(u))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}const Rs={basename:zq,dirname:$q,extname:Uq,join:Hq,sep:"/"};function zq(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Sh(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function $q(e){if(Sh(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Uq(e){Sh(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.codePointAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function Hq(...e){let t=-1,n;for(;++t<e.length;)Sh(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Qq(n)}function Qq(e){Sh(e);const t=e.codePointAt(0)===47;let n=Vq(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Vq(e,t){let n="",r=0,i=-1,s=0,o=-1,a,u;for(;++o<=e.length;){if(o<e.length)a=e.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function Sh(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Wq={cwd:qq};function qq(){return"/"}function Yy(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Kq(e){if(typeof e=="string")e=new URL(e);else if(!Yy(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Gq(e)}function Gq(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const N1=["history","path","basename","stem","extname","dirname"];class i9{constructor(t){let n;t?Yy(t)?n={path:t}:typeof t=="string"||Yq(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Wq.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<N1.length;){const s=N1[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)N1.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Rs.basename(this.path):void 0}set basename(t){O1(t,"basename"),P1(t,"basename"),this.path=Rs.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Rs.dirname(this.path):void 0}set dirname(t){e6(this.basename,"dirname"),this.path=Rs.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Rs.extname(this.path):void 0}set extname(t){if(P1(t,"extname"),e6(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Rs.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Yy(t)&&(t=Kq(t)),O1(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Rs.basename(this.path,this.extname):void 0}set stem(t){O1(t,"stem"),P1(t,"stem"),this.path=Rs.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Pr(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function P1(e,t){if(e&&e.includes(Rs.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Rs.sep+"`")}function O1(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function e6(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Yq(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Xq=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},Jq={}.hasOwnProperty;class Dx extends Xq{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Fq()}copy(){const t=new Dx;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(T1(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(A1("data",this.frozen),this.namespace[t]=n,this):Jq.call(this.namespace,t)&&this.namespace[t]||void 0:t?(A1("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=up(t),r=this.parser||this.Parser;return L1("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),L1("process",this.parser||this.Parser),R1("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=up(t),u=r.parse(a);r.run(u,a,function(f,p,g){if(f||!p||!g)return c(f);const x=p,w=r.stringify(x,g);tK(w)?g.value=w:g.result=w,c(f,g)});function c(f,p){f||!p?o(f):s?s(p):n(void 0,p)}}}processSync(t){let n=!1,r;return this.freeze(),L1("processSync",this.parser||this.Parser),R1("processSync",this.compiler||this.Compiler),this.process(t,i),n6("processSync","process",n),r;function i(s,o){n=!0,J4(s),r=o}}run(t,n,r){t6(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const u=up(n);i.run(t,u,c);function c(f,p,g){const x=p||t;f?a(f):o?o(x):r(void 0,x,g)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),n6("runSync","run",r),i;function s(o,a){J4(o),i=a,r=!0}}stringify(t,n){this.freeze();const r=up(n),i=this.compiler||this.Compiler;return R1("stringify",i),t6(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(A1("use",this.frozen),t!=null)if(typeof t=="function")u(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(c){if(typeof c=="function")u(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[f,...p]=c;u(f,p)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=T1(!0,i.settings,c.settings))}function a(c){let f=-1;if(c!=null)if(Array.isArray(c))for(;++f<c.length;){const p=c[f];s(p)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function u(c,f){let p=-1,g=-1;for(;++p<r.length;)if(r[p][0]===c){g=p;break}if(g===-1)r.push([c,...f]);else if(f.length>0){let[x,...w]=f;const S=r[g][1];Gy(S)&&Gy(x)&&(x=T1(!0,S,x)),r[g]=[c,x,...w]}}}}const Zq=new Dx().freeze();function L1(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function R1(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function A1(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function t6(e){if(!Gy(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function n6(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function up(e){return eK(e)?e:new i9(e)}function eK(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function tK(e){return typeof e=="string"||nK(e)}function nK(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const rK="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",r6=[],i6={allowDangerousHtml:!0},iK=/^(https?|ircs?|mailto|xmpp)$/i,sK=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function oK(e){const t=aK(e),n=lK(e);return uK(t.runSync(t.parse(n),n),e)}function aK(e){const t=e.rehypePlugins||r6,n=e.remarkPlugins||r6,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...i6}:i6;return Zq().use(GW).use(n).use(Mq,r).use(t)}function lK(e){const t=e.children||"",n=new i9;return typeof t=="string"&&(n.value=t),n}function uK(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,o=t.skipHtml,a=t.unwrapDisallowed,u=t.urlTransform||cK;for(const f of sK)Object.hasOwn(t,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+rK+f.id,void 0);return wx(e,c),rW(e,{Fragment:h.Fragment,components:i,ignoreInvalidStyle:!0,jsx:h.jsx,jsxs:h.jsxs,passKeys:!0,passNode:!0});function c(f,p,g){if(f.type==="raw"&&g&&typeof p=="number")return o?g.children.splice(p,1):g.children[p]={type:"text",value:f.value},p;if(f.type==="element"){let x;for(x in j1)if(Object.hasOwn(j1,x)&&Object.hasOwn(f.properties,x)){const w=f.properties[x],S=j1[x];(S===null||S.includes(f.tagName))&&(f.properties[x]=u(String(w||""),x,f))}}if(f.type==="element"){let x=n?!n.includes(f.tagName):s?s.includes(f.tagName):!1;if(!x&&r&&typeof p=="number"&&(x=!r(f,p,g)),x&&g&&typeof p=="number")return a&&f.children?g.children.splice(p,1,...f.children):g.children.splice(p,1),p}}}function cK(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||iK.test(e.slice(0,t))?e:""}function dK(){return xs({queryKey:["faq"],queryFn:hK,staleTime:1/0,select:e=>e.faq.map((t,n)=>({...t,id:n}))})}const hK=async()=>await jv("/faq.json"),Xy=e=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:14,height:16,viewBox:"0 0 14 16",...e},T.createElement("defs",null,T.createElement("clipPath",{id:"master_svg0_137_3346"},T.createElement("rect",{x:0,y:0,width:14,height:16,rx:0}))),T.createElement("g",{clipPath:"url(#master_svg0_137_3346)"},T.createElement("g",{transform:"matrix(1,0,0,-1,0,26.6875)"},T.createElement("g",null,T.createElement("path",{d:"M6.28125,13.625Q6.59375,13.34375,7,13.34375Q7.40625,13.34375,7.71875,13.625L13.7188,19.625Q14,19.9375,14,20.34375Q14,20.75,13.7188,21.0625Q13.4062,21.34375,13,21.34375Q12.5938,21.34375,12.2812,21.0625L7,15.75L1.71875,21.0625Q1.40625,21.34375,1,21.34375Q0.59375,21.34375,0.28125,21.0625Q0,20.75,0,20.34375Q0,19.9375,0.28125,19.625L6.28125,13.625Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))))),fK={h2:e=>h.jsx("h2",{...e,className:"text-lg font-bold my-4"}),h3:e=>h.jsx("h3",{...e,className:"text-base font-bold my-4"}),a:e=>h.jsx("a",{...e,className:"text-blue-500 underline"})},pK={all:"",timetable:"",wishes:"",simulation:"",live:""};function mK(e){return Array.from(new Set(e))}function gK(){const e=Wi(),t=e.hash,n=t?parseInt(t.replace("#","")):null,[r,i]=T.useState(n),{data:s}=dK(),[o,a]=T.useState(null),u=mK(s?.map(g=>g.tag)??[]),c=o?s?.filter(g=>g.tag===o):s,f=g=>{i(r===g?null:g)};T.useEffect(()=>{if(e.hash){const g=parseInt(e.hash.replace("#",""));setTimeout(()=>{const x=document.getElementById("faq-container-"+g);x&&(x.scrollIntoView({behavior:"smooth"}),i(g))},300)}},[e.hash]);const p=g=>{a(x=>x===g?null:g)};return h.jsxs(h.Fragment,{children:[h.jsx(Xn,{children:h.jsx("title",{children:"ALLCLL |   "})}),h.jsx("div",{className:"mx-auto max-w-7xl px-4 md:px-16 py-24",children:h.jsxs(Qe,{direction:"flex-col",gap:"gap-4",children:[h.jsx(dr,{level:1,children:"  "}),h.jsx(Qe,{direction:"flex-wrap",gap:"gap-2",className:"mb-6",children:u.length>0&&u.map((g,x)=>h.jsx(oa,{label:pK[g]||g,onClick:()=>p(g),selected:o===g},"faq-chip-"+x))}),c&&c.map(g=>h.jsx(yK,{item:g,index:g.id,isOpen:r===g.id,toggleAnswer:f},g.id))]})})]})}function yK({item:e,index:t,isOpen:n,toggleAnswer:r}){return h.jsxs("div",{id:"faq-container-"+t,className:"mb-4 rounded-md bg-white shadow-sm",children:[h.jsxs("button",{onClick:()=>r(t),className:"flex items-center justify-between rounded-md w-full text-left font-semibold text-md p-4 hover:bg-blue-50 focus:outline-none cursor-pointer "+(n?"text-blue-600 font-bold":""),children:[e.question,h.jsx(Xy,{className:"w-4 h-4 transform transition-transform duration-150 "+(n?"rotate-180":"")})]}),n&&h.jsx("div",{className:"p-4 border-t border-gray-200 text-sm",children:h.jsx(oK,{remarkPlugins:[TV],components:fK,children:e.answer})})]},t)}function vK(){const[e,t]=T.useState(!1),[n,r]=T.useState(!1),i=_d(I=>I.filters),s=_d(I=>I.setFilter),o=_d(I=>I.resetFilters),{keywords:a,favoriteOnly:u}=i,c=Sy(I=>I.tableTitles),f=Sy(I=>I.setTableTitles),p=Ki(),[g,x]=T.useState(!1),{data:w}=G8([]),S=yh(w??[]).sort((I,H)=>I.localeCompare(H)).map(I=>I),k=dx(i),E=w&&"seat"in w,{isPreSeatAvailable:L}=Vm({hasSeats:E}),R=w&&"totalCount"in w,z=()=>s("favoriteOnly",!u),U=()=>{p?x(!0):r(!0)},P=(I,H)=>{const Q=i[I];Array.isArray(Q)?s(I,Q.filter(F=>F!==H)):s(I,pa[I])};return h.jsxs("div",{className:"flex flex-wrap gap-2 mt-4 lg:flex-wrap lg:flex-row lg:items-center lg:gap-y-0 lg:gap-x-2",children:[e&&h.jsx(xK,{initialItems:c,onChange:f,onClose:()=>t(!1)}),n&&h.jsx(xx,{filterStore:_d,onClose:()=>r(!1)}),g&&h.jsx(mx,{onCloseFiltering:()=>x(!1),filters:i,setFilter:s,resetFilter:o}),h.jsx(Ol,{type:"text",placeholder:",      ",value:a,onDelete:()=>s("keywords",""),onChange:I=>s("keywords",I.target.value),className:"w-full"}),h.jsxs("div",{className:"flex items-center flex-wrap mt-2 gap-2",children:[h.jsxs("div",{className:"hidden md:flex flex-wrap gap-2",children:[h.jsx(yx,{setFilter:s,selectedValue:i.department??""}),R&&h.jsx(tc,{filterKey:"wishRange",options:cn.wishRange,selectedValue:i.wishRange??null,setFilter:s,ItemComponent:oa,isMinMax:!0}),L&&h.jsx(tc,{filterKey:"seatRange",options:cn.seatRange,selectedValue:i.seatRange??null,setFilter:s,ItemComponent:oa,isMinMax:!0}),h.jsx(Nn,{filterKey:"days",options:cn.days,selectedValues:i.days??[],setFilter:s}),h.jsx(Nn,{filterKey:"credits",options:cn.credits,selectedValues:i.credits??[],setFilter:s}),h.jsx(Nn,{filterKey:"grades",options:cn.grades,selectedValues:i.grades??[],setFilter:s}),i.classroom.length>0&&h.jsx(Nn,{filterKey:"classroom",options:cn.classRoom,selectedValues:i.classroom??[],setFilter:s,className:"min-w-max"}),i.note.length>0&&h.jsx(Nn,{filterKey:"note",options:cn.remark,selectedValues:i.note??[],setFilter:s}),i.categories.length>0&&h.jsx(Nn,{filterKey:"categories",options:S,selectedValues:i.categories??[],setFilter:s,className:"min-w-max"})]}),h.jsx(vx,{filters:i,resetFilter:o}),h.jsx(gx,{handleOpenFilter:U}),h.jsx(lr,{variant:"contain",icon:h.jsx(V8,{disabled:!u}),"aria-label":u?"  ":"  ",label:u?"  ":"  ",onClick:z}),h.jsx(lr,{variant:"contain",label:" ",icon:h.jsx(Zv,{className:"w-5 h-5"}),onClick:()=>t(!0)}),h.jsx(Qe,{direction:"flex-wrap",gap:"gap-2",className:"w-fit md:hidden",children:k.map(I=>h.jsx(oa,{variant:"cancel",label:I.label,selected:!0,onClick:()=>P(I.filterKey,I.values)},`${I.filterKey}-${I.values}`))})]})]})}function xK({initialItems:e,onChange:t,onClose:n}){return rx({enabled:!0,onClose:n}),h.jsxs(Pl,{onClose:n,children:[h.jsx(hh,{title:" ",onClose:n}),h.jsx("div",{className:"p-4",children:h.jsx(p8,{initialItems:e,onChange:t})})]})}function bK(){const e=em(t=>t.setIsSearchOpen);return h.jsxs(h.Fragment,{children:[h.jsx(Xn,{children:h.jsx("title",{children:"ALLCLL |  "})}),h.jsxs("div",{className:"mx-auto max-w-7xl px-4 md:px-16 mb-8 min-h-screen",children:[h.jsx(dr,{level:1,className:"mt-2",children:" "}),h.jsxs(rh,{children:["  ",h.jsx("span",{className:"text-blue-500 font-bold",children:" "})," .   ."]}),h.jsxs(Qe,{gap:"gap-4",direction:"flex-col",className:"mt-6",children:[h.jsxs(Cr,{children:[h.jsxs(kl,{to:"/live",onClick:()=>e(!0),state:{openSearch:!0},className:"inline-flex items-center gap-2 rounded-md border border-blue-500 px-3 py-2 text-sm text-blue-500 hover:bg-blue-50",children:[h.jsx(uc,{}),""]}),h.jsx(vK,{}),h.jsx(tx,{})]}),h.jsx(wK,{}),h.jsx(Y8,{right:"right-2 sm:right-20"})]})]})]})}function wK(){const{data:e,isPending:t}=_o(),n=ph(zm(e,cc)),r=_d(s=>s.filters),i=T.useDeferredValue(hc(n??[],r));return h.jsx("div",{className:"bg-white mt-6 shadow-md rounded-lg overflow-x-auto",children:h.jsx(q8,{data:i,isPending:t})})}function _K({children:e}){return h.jsxs("div",{className:"relative max-h-screen overflow-hidden",children:[h.jsx("div",{style:{filter:"blur(4px"},children:e}),h.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex justify-center items-center",children:h.jsx("p",{className:"text-xl font-bold text-gray-700",children:"  "})})]})}wo.register(qv,lc,ac,lh,uh,ch);var s9=(e=>(e.MAJOR="/",e.UNIVERSITY="",e.DEPARTMENT="",e.COLLEGE="",e))(s9||{});function SK({data:e,majorName:t}){const[n,r]=T.useState("/"),{data:i}=Tl(),s=AI(i),{doughnutData:o,totalCount:a}=CK(e,s,t,n);return h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[h.jsxs(Qe,{justify:"justify-between",align:"items-center",children:[h.jsx(dr,{level:2,children:" "}),h.jsx(Qi,{className:"hidden",htmlFor:"doughnut-select",children:""}),h.jsx("select",{className:"border px-3 py-1 rounded-md",id:"doughnut-select",value:n,onChange:u=>r(u.target.value),children:Object.values(s9).map(u=>h.jsx("option",{value:u,children:u},u))})]}),a?h.jsx(t8,{data:o}):h.jsx(Qe,{justify:"justify-center",align:"items-center",className:"h-48",children:h.jsx("p",{className:"text-center text-gray-500 font-semibold",children:"   ."})})]})}function CK(e,t,n,r){let i;const{universityDict:s,collegeDict:o}=t;switch(r){case"/":i=DI(n,e);break;case"":i=FI(e,s);break;case"":i=BI(e,o);break;case"":i=j5(e);break;default:i=j5(e);break}const a=zI(e);return{doughnutData:i,totalCount:a}}function kK(e){const{data:t}=_o(),n=zm(t,cc);if(!n)return{isPending:!0};const r=n?.find(i=>i.subjectId===Number(e));return{isPending:!1,data:r,isLastSemesterWish:!r}}function jK(e,t=[]){const{data:n}=_o(),r=zm(n,cc);return r?{isPending:!1,data:r.filter(s=>s.subjectCode===e&&!t.includes(s.subjectId))}:{isPending:!0}}class Fx extends RangeError{constructor(t){super(t),this.name="ParamsInvalidError"}}class EK extends Error{constructor(t){super(t),this.name="NotFoundError"}}function TK(e){return xs({queryKey:["detail-registers",e],queryFn:()=>NK(e),staleTime:1/0,retry:PK})}const NK=async e=>{const t=await vm(`/api/baskets/${e}`);if(!t.ok){const n=await t.text(),r=OK(n);throw r?.status==="400 BAD_REQUEST"?new Fx(r.code):new Error(await t.text())}return t.json()},PK=(e,t)=>e>=3?!1:!(t instanceof Fx),OK=e=>{try{return JSON.parse(e)}catch{return null}};wo.register(qv,lc,ac,lh,uh,ch);const LK={labels:["4","3","2","1"],datasets:[{data:[50,40,25,20],backgroundColor:"#60a5fa"}]};function RK(){const e=V6(),{data:t,isPending:n,isLastSemesterWish:r}=kK(e.id??"-1"),{data:i,error:s}=TK(e.id??"-1"),{data:o}=jK(t?.subjectCode??"",t?.subjectId?[t.subjectId]:[]),a=t&&"seat"in t,{isPreSeatAvailable:u}=Vm({hasSeats:a}),c=t&&"totalCount"in t,f=a?t.seat:-1,p=t??cc,g=t?.curiLangNm==="",x=t?.isDeleted??!1;if(n||!p)return h.jsxs(h.Fragment,{children:[h.jsx(Xn,{children:h.jsx("title",{children:"ALLCLL |   "})}),h.jsx("div",{className:"min-h-screen bg-gray-50 flex justify-center items-center",children:h.jsx("h1",{className:"text-2xl font-bold",children:"Loading..."})})]});if(s)throw s;return h.jsxs(h.Fragment,{children:[h.jsx(Xn,{children:h.jsx("title",{children:"ALLCLL |   "})}),r&&h.jsx("p",{className:"bg-red-100 text-red-500 py-2 px-4 font-bold",children:"   .   ."}),h.jsx("div",{className:"min-h-screen bg-gray-50",children:h.jsx("div",{className:"p-6 max-w-5xl mx-auto",children:h.jsxs(Cr,{children:[h.jsxs(Qe,{justify:"justify-between",align:"items-center",children:[h.jsx(dr,{level:1,children:p.subjectName}),h.jsxs(Qe,{gap:"gap-2",children:[h.jsx(W8,{subject:p}),h.jsx(z8,{subject:p})]})]}),h.jsxs("p",{className:"text-gray-600",children:[p.subjectCode,"-",p.classCode," | ",p.departmentName," | ",p.professorName]}),h.jsxs(Qe,{gap:"gap-2",align:"items-center",direction:"flex-wrap",className:"text-gray-600 text-sm",children:[h.jsxs("span",{children:[p.studentYear,""]}),h.jsx("span",{children:p.curiTypeCdNm}),h.jsxs("span",{children:[Number(p.tmNum.split("/")[0].trim()),""]}),h.jsxs("span",{children:[" ","| ",p.lesnRoom," | ",p.lesnTime]}),u&&h.jsxs("p",{className:`text-sm px-2 py-1 rounded-full font-bold ${Nl(f)}`,children:[": ",f<0?"???":f]}),g&&h.jsx("span",{className:"bg-green-100 rounded px-2 py-1 text-green-500 text-xs font-semibold",children:""}),x&&h.jsx("span",{className:"bg-red-100 rounded px-2 py-1 text-red-500 text-xs font-semibold",children:""})]}),h.jsx("p",{className:"text-sm text-gray-500",children:p.remark}),h.jsxs(mm,{columns:{md:2,base:1},gap:"gap-6",className:" mt-6",children:[h.jsx(SK,{data:i?.eachDepartmentRegisters??[],majorName:p.departmentName??p.manageDeptNm}),h.jsxs(Cr,{children:[h.jsxs(Qe,{gap:"gap-2",align:"items-center",className:"mb-4",children:[h.jsx(dr,{level:2,children:"  "}),c&&h.jsxs("p",{className:`${u8(p.totalCount??-1)} font-bold text-xl`,children:[" ",p.totalCount,""]})]}),h.jsxs(_K,{children:[h.jsx("p",{className:"text-sm text-gray-500",children:"   20%      "}),h.jsx("div",{className:"mt-4",children:h.jsx(yI,{data:LK})})]})]})]}),h.jsxs(Cr,{children:[h.jsx(dr,{level:2,className:"mt-2",children:" "}),h.jsx(rh,{children:"   "}),h.jsx("div",{className:"overflow-x-auto",children:h.jsx(q8,{data:o??[]})})]})]})})})]})}const Sd=()=>{const e=lv();return T.useEffect(()=>{OE(e,{extra:{url:window.location.href,userAgent:navigator.userAgent}})},[e]),h.jsxs(h.Fragment,{children:[h.jsx(Xn,{children:h.jsx("title",{children:"ALLCLL |  "})}),h.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[h.jsx("h1",{className:"text-4xl font-bold mb-4",children:" "}),h.jsx("p",{className:"text-lg mb-4",children:" .    "}),h.jsx(Er,{to:"/",className:"text-blue-500",children:" "}),h.jsx("a",{href:"https://forms.gle/bCDTVujEHunnvHe88",target:"_blank",className:"text-blue-500",children:""})]})]})},o9=()=>h.jsxs(h.Fragment,{children:[h.jsx(Xn,{children:h.jsx("title",{children:"ALLCLL |    "})}),h.jsxs(Qe,{direction:"flex-col",align:"items-center",justify:"justify-center",gap:"gap-2",className:"h-screen",children:[h.jsx(dr,{level:1,children:"404 -    "}),h.jsx("p",{className:"text-lg mb-4",children:"   "}),h.jsx(Er,{to:"/",className:"text-blue-500",children:" "})]})]}),AK=()=>{const e=lv();return e instanceof Fx||e instanceof EK?h.jsx(o9,{}):h.jsx(Sd,{})},Jn=Nr((e,t)=>({type:null,props:void 0,openModal:(n,r)=>{e({type:n,props:r})},closeModal:n=>{const r=t().type;(!n||r===n)&&e({type:null,props:void 0})}}));function Al(){const{data:e,isLoading:t}=qi(),{data:n,isLoading:r}=Tl(),i=t||r;return i||!e||!n?{data:[],isLoading:i}:{data:MK(e,n),isLoading:!1}}function MK(e,t){return e.map(n=>{const r=t.find(s=>s.departmentCode===n.deptCd)?.departmentName||"",i=r?r.split(" ").reverse()[0]:"";return{subjectId:n.subjectId??-1,subjectCode:n.subjectCode??"",classCode:n.classCode??"",departmentName:i,subjectName:n.subjectName??"",language:n.curiLangNm??"",subjectType:n.curiTypeCdNm??"",semester_at:n.studentYear?Number(n.studentYear):-1,lesn_time:n.lesnTime??"",professorName:n.professorName??"",lesn_room:n.lesnRoom??"",tm_num:n.tmNum??""}})}function IK(){return Math.floor(1e3+Math.random()*9e3).toString()}const DK=4;function FK(){const e=T.useRef(null),[t,n]=T.useState(),[r,i]=T.useState(""),s=T.useRef(""),{data:o}=Al(),a=Jn(k=>k.openModal),u=Jn(k=>k.closeModal),{currentSubjectId:c,setSubjectStatus:f,setCaptchaFailed:p}=Am();function g(){const k=IK();s.current=k,setTimeout(()=>{e.current&&by(e.current,k)},100)}function x(k){let E=k.target.value;if(/[^0-9]/.test(E)){i("0~9  "),n(E.replace(/[^0-9]/g,""));return}E.length<=DK?(n(E),i("")):i("4  ")}T.useEffect(()=>{setTimeout(()=>{g()},100)},[]);function w(){ho({eventType:Hn.CAPTCHA,subjectId:c},o).then(()=>{t?.toString()===s.current?(f(c,Kt.PROGRESS),p(!1)):(f(c,Kt.PROGRESS),p(!0))}).then(()=>{u(),a("simulation")})}function S(){ho({eventType:Hn.CANCEL_SUBMIT,subjectId:c},o).then(()=>{u("captcha"),p(!1),f(c,Kt.PROGRESS)})}return h.jsx(Wt.Modal,{preventAutoFocus:!0,children:h.jsxs("div",{className:"sm:w-[500px]",children:[h.jsx(Wt.Modal.Header,{title:"  (Arti-marco code input)",onClose:S}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 p-4",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsxs("div",{className:"text-sm font-semibold flex flex-row items-center",children:[h.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "})," ",h.jsx("button",{onClick:g,className:"ml-2 px-2 py-1 bg-blue-500 text-white text-sm rounded-xs cursor-pointer hover:bg-blue-600",children:""})]}),h.jsx("div",{className:"flex items-center mt-1",children:h.jsx("canvas",{id:"captcha",width:"105",height:"50",ref:e})})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"text-sm font-semibold flex flex-row items-center",children:[h.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "}),"  "]}),h.jsx(Wt.Input,{value:t,onChange:k=>x(k),className:"mt-2 w-full",placeholder:" ",essential:!0}),h.jsx("span",{className:"pl-1 text-xs text-red-500 ",children:r})]})]}),h.jsx("p",{className:"text-sm text-gray-800 mt-10 p-4",children:"               ."}),h.jsxs(Wt.Modal.ButtonContainer,{className:"px-6 py-2 bg-gray-100",children:[h.jsx(Wt.Modal.Button,{variant:"cancel",onClick:w,children:""}),h.jsx(Wt.Modal.Button,{variant:"cancel",onClick:S,children:""})]})]})})}const BK=e=>T.createElement("svg",{width:50,height:50,viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("circle",{cx:25,cy:25,r:25,fill:"#7890CE"}),T.createElement("path",{d:"M20.2339 29.5078L35.0317 17.4276C35.3809 17.1425 35.7883 17 36.2539 17C36.7196 17 37.127 17.1425 37.4762 17.4276C37.8254 17.7127 38 18.0515 38 18.4439C38 18.8364 37.8254 19.1747 37.4762 19.4588L21.4562 32.5724C21.107 32.8575 20.6995 33 20.2339 33C19.7683 33 19.3609 32.8575 19.0117 32.5724L11.5037 26.4432C11.1545 26.1581 10.9868 25.8198 11.0008 25.4283C11.0148 25.0368 11.1969 24.6981 11.5473 24.412C11.8977 24.126 12.3127 23.9835 12.7923 23.9844C13.2718 23.9854 13.6862 24.1279 14.0354 24.412L20.2339 29.5078Z",fill:"white"})),s6={simulationId:-1,registeredSubjects:[],nonRegisteredSubjects:[],simulationStatus:"before",clickedTime:0},li=Nr(e=>({currentSimulation:s6,setCurrentSimulation:t=>e(n=>({currentSimulation:{...n.currentSimulation,...t}})),resetSimulation:()=>e({currentSimulation:s6})})),zK=[{status:Kt.PROGRESS,topMessage:"   ?",description:"(CourseTitle):"},{status:Kt.SUCCESS,topMessage:"  .   ?",description:"    []  .         []      . []     ."},{status:Kt.FAILED,topMessage:"  !"},{status:Kt.DOUBLED,topMessage:"   !"},{status:Kt.CAPTCHA_FAILED,topMessage:"   "},{status:Kt.NOT_ELIGIBLE,topMessage:"   "}],$K=[Kt.PROGRESS,Kt.SUCCESS,Kt.FAILED,Kt.CAPTCHA_FAILED];function UK({reloadSimulationStatus:e}){const t=Jn(P=>P.openModal),n=Jn(P=>P.closeModal),{currentSubjectId:r,setSubjectStatus:i,subjectStatusMap:s}=Am(),o=li(P=>P.setCurrentSimulation),{data:a}=Al(),u=s[r],c=zK.find(P=>P.status===u),f=c?.status??Kt.PROGRESS,p=[Kt.FAILED,Kt.DOUBLED,Kt.CAPTCHA_FAILED].includes(f),g=$K.includes(f),x=T.useRef(null);if(!c)return null;x.current?.focus();const w=(P,I=!1)=>{if("errMsg"in P)throw alert(P.errMsg),I&&gl().then(()=>{t("result")}),new Error(P.errMsg)},S=P=>{console.error(" :",P),alert(" :"+P.toString())},k=async P=>{const I=await ho({eventType:Hn.SUBJECT_SUBMIT,subjectId:P},a);w(I),i(P,I.status),t("simulation")},E=async P=>{const I=await ho({eventType:Hn.REFRESH,subjectId:P},a);w(I),e(),I.finished&&(o({simulationStatus:"finish"}),console.log(" "),t("result"))},L=async P=>{try{const I=await ho({eventType:Hn.SKIP_REFRESH,subjectId:P},a);"errMsg"in I?(alert(I.errMsg),await gl(),o({simulationStatus:"finish"}),t("result")):I.finished&&(o({simulationStatus:"finish"}),t("result"))}catch(I){console.error(I)}finally{n("simulation")}},R=async()=>{try{c.status===Kt.PROGRESS?await k(r):c?.status===Kt.SUCCESS?await E(r):p&&await L(r)}catch(P){S(P)}},z=async()=>{try{if(c?.status===Kt.SUCCESS){const P=await ho({eventType:Hn.SKIP_REFRESH,subjectId:r},a);"errMsg"in P?(alert(P.errMsg),await gl(),o({simulationStatus:"finish"}),t("result")):P.finished?(o({simulationStatus:"finish"}),t("result")):n("simulation")}else if(c?.status===Kt.PROGRESS){const P=await ho({eventType:Hn.CANCEL_SUBMIT,subjectId:r},a);w(P,!0)}}catch(P){S(P)}},U=()=>{g||n("simulation")};return h.jsx(Wt.Modal,{children:h.jsxs("div",{className:"flex sm:w-[450px] border-1 border-gray-800 flex-col justify-between overflow-hidden",children:[h.jsx(Wt.Modal.Header,{title:"",onClose:U}),h.jsxs("div",{className:"px-6 pb-6 text-center ",children:[h.jsx("div",{className:"flex justify-center mb-4 py-5",children:h.jsx("div",{className:"w-10 h-10",children:h.jsx(BK,{})})}),h.jsx("p",{className:"text-gray-700 text-base mb-4",children:c.topMessage}),c.description&&h.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:c.description})]}),h.jsxs(Wt.Modal.ButtonContainer,{className:"px-6 py-2 bg-gray-100",children:[c.status===Kt.PROGRESS||c.status===Kt.SUCCESS&&h.jsx(Wt.Modal.Button,{variant:"cancel",onClick:z,children:""}),h.jsx(Wt.Modal.Button,{variant:"primary",onClick:R,children:""})]})]})})}function HK(e,t,n){var r,i;typeof e=="function"?(r=t||[],i=n):(r=[],i=t);var s=nn.useRef({hasResult:!1,result:i,error:null}),o=nn.useReducer(function(c){return c+1},0);o[0];var a=o[1],u=nn.useMemo(function(){var c=typeof e=="function"?e():e;if(!c||typeof c.subscribe!="function")throw e===c?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!s.current.hasResult&&typeof window<"u"&&(typeof c.hasValue!="function"||c.hasValue()))if(typeof c.getValue=="function")s.current.result=c.getValue(),s.current.hasResult=!0;else{var f=c.subscribe(function(p){s.current.result=p,s.current.hasResult=!0});typeof f=="function"?f():f.unsubscribe()}return c},r);if(nn.useDebugValue(s.current.result),nn.useEffect(function(){var c=u.subscribe(function(f){var p=s.current;(p.error!==null||p.result!==f)&&(p.error=null,p.result=f,p.hasResult=!0,a())},function(f){var p=s.current;p.error!==f&&(p.error=f,a())});return typeof c=="function"?c:c.unsubscribe.bind(c)},r),s.current.error)throw s.current.error;return s.current.result}function mc(e,t,n){return HK(function(){return WI(e)},[],n)}function o6(){const e=Jn(t=>t.closeModal);return h.jsx(Wt.Modal,{onBackdropClick:()=>e(),noBorder:!0,children:h.jsxs("div",{className:"p-6 w-80 bg-white rounded shadow",children:[h.jsx("p",{className:"text-sm text-gray-800 mb-4",children:"  ."}),h.jsx("div",{className:"w-full h-4 bg-gray-200 rounded overflow-hidden",children:h.jsx("div",{className:"h-full bg-blue-400 bg-gradient-to-r from-blue-400 to-blue-600 animate-stripes"})})]})})}const fd=1/1e3;async function QK(){return{snapshots:(await He.simulation_run.filter(n=>n.ended_at!==-1).toArray()).sort((n,r)=>r.simulation_run_id-n.simulation_run_id)}}async function VK(e){const t=await ZI(e),n=await i8(t.snapshot_id);if(!t||!n)return null;const r=await He.simulation_run_selections.where("simulation_run_id").equals(t.simulation_run_id).toArray(),i=r.map(c=>c.run_selections_id),s=c=>{const f=n.subjects.find(p=>p.interested_id===c);return f?f.subject_id:-1},o=await He.simulation_run_events.filter(c=>i.includes(c.simulation_section_id)).toArray(),a=o.filter(c=>c.event_type===Hn.CAPTCHA),u=r.reduce((c,f)=>{const p=a.find(g=>g.simulation_section_id===f.run_selections_id);return p?.timestamp?c+p.timestamp-f.started_at:c},0)/r.length;return{started_at:t.started_at,ended_at:t.ended_at,user_ability:{searchBtnSpeed:(t.search_event_at-t.started_at)/1e3,totalSpeed:t.total_elapsed/t.subject_count/1e3,accuracy:t.accuracy,captchaSpeed:u/1e3},timeline:r.map(c=>({interested_id:c.interested_id,subject_id:s(c.interested_id),started_at:c.started_at,ended_at:c.ended_at,status:c.status,events:o.filter(f=>f.simulation_section_id===c.run_selections_id).sort((f,p)=>f.timestamp-p.timestamp).map(f=>({event:f.event_type,timestamp:f.timestamp}))})),subject_results:r.sort((c,f)=>f.started_at-c.started_at).reduce((c,f)=>c.some(p=>p.interested_id===f.interested_id)?c:[...c,f],[]).map(c=>({interested_id:c.interested_id,subject_id:s(c.interested_id),selected_index:c.selected_index,ended_at:c.ended_at,status:c.status}))}}async function a9(){const e=await He.simulation_run.filter(k=>k.ended_at!==-1).toArray(),t=e.length;if(t===0)throw new Error("    .");const n=await He.simulation_run_selections.toArray(),r=await Promise.all(e.map(async k=>{const E=await He.simulation_run_selections.filter(I=>I.simulation_run_id===k.simulation_run_id).toArray(),L=E.map(I=>I.run_selections_id),R=await He.simulation_run_events.filter(I=>I.event_type===Hn.CAPTCHA&&L.includes(I.simulation_section_id)).toArray(),z=(k.search_event_at-k.started_at)*fd,U=R.reduce((I,H)=>{const Q=E.find(F=>F.run_selections_id===H.simulation_section_id);return Q?I+(H.timestamp-Q.started_at):I},0)*fd,P=E.reduce((I,H)=>H.ended_at>=0?I+(H.ended_at-H.started_at):I,0)*fd;return{simulationRunId:k.simulation_run_id,accuracy:k.accuracy,subjectCount:k.subject_count,searchBtnTime:z,captchaTime:U+z,subjectTime:P+z,totalTime:k.total_elapsed*fd}})),i=await He.interested_snapshot.filter(k=>k.simulated).last();if(!i)throw new Error("   .");const o=(await He.interested_subject.filter(k=>k.snapshot_id===i.snapshot_id).toArray()).map(k=>{const E=n.filter(Q=>Q.interested_id===k.interested_id),L=E.filter(Q=>Q.status===Kt.SUCCESS).length,R=E.filter(Q=>Q.status===Kt.FAILED).length,z=E.filter(Q=>Q.status===Kt.DOUBLED).length,U=E.length,P=E.reduce((Q,F)=>Q+F.selected_index,0)/U||0,I=E.filter(Q=>Q.ended_at>=0&&Q.started_at>=0).map(Q=>(Q.ended_at-Q.started_at)*fd),H=WK(I);return{subjectId:k.subject_id,successCount:L,failedCount:R,doubledCount:z,totalCount:U,avgCompletionTime:H,avgIndex:P}}),a=new Map;for(const k of n){const E=k.simulation_run_id,L=e.find(I=>I.simulation_run_id===E);if(!L)continue;const R=await i8(L.snapshot_id);if(!R)continue;const z=R.subjects.find(I=>I.interested_id===k.interested_id);if(!z)continue;const U=z.subject_id;a.has(U)||a.set(U,{subject_id:U,success_count:0,total_count:0,completion_time_sum:0});const P=a.get(U);P.total_count++,k.status===1&&(P.success_count++,P.completion_time_sum+=k.ended_at-k.started_at)}const u=Array.from(a.values()).map(k=>({subject_id:k.subject_id,success_count:k.success_count,total_count:k.total_count,success_rate:k.success_count/k.total_count,avg_completion_time:k.success_count>0?k.completion_time_sum/k.success_count/1e3:0})),c=n.reduce((k,E)=>(k[E.status]=(k[E.status]||0)+1,k),{}),f=n.length,p=Object.entries(c).map(([k,E])=>({status:Number(k),count:E,percentage:E/f})),g=e.map(k=>k.simulation_run_id),x=n.filter(k=>g.includes(k.simulation_run_id)).map(k=>k.run_selections_id),w=await He.simulation_run_events.filter(k=>x.includes(k.simulation_section_id)&&k.event_type===Hn.CAPTCHA).toArray();let S=0;for(const k of w){const E=n.find(L=>L.run_selections_id===k.simulation_section_id);E&&(S+=k.timestamp-E.started_at)}return{total_users:t,avg_started_at:e.reduce((k,E)=>k+E.started_at,0)/t,avg_ended_at:e.reduce((k,E)=>k+E.ended_at,0)/t,avg_elapsed_time:e.reduce((k,E)=>k+(E.ended_at-E.started_at),0)/t/1e3,subject_success_rate:u,status_distribution:p,simulations:r,subjects:o}}function WK(e){return e.length===0?0:e.reduce((t,n)=>t+n,0)/e.length}function qK({simulationId:e}){const t=Jn(S=>S.openModal),n=Jn(S=>S.closeModal),[r,i]=T.useState(null),[s,o]=T.useState(),a=mc(async()=>{try{return await a9()}catch(S){return{error:S.message}}});if(a&&"error"in a)return h.jsx("div",{className:"flex flex-col w-full items-center justify-center h-120 gap-3"});const{simulations:u}=a||{simulations:[]},c=a?{user_ability:{searchBtnSpeed:u.reduce((S,k)=>S+k.searchBtnTime,0)/u.length||0,totalSpeed:u.reduce((S,k)=>S+k.totalTime/k.subjectCount,0)/u.length||0,accuracy:u.reduce((S,k)=>S+k.accuracy,0)/u.length||0,captchaSpeed:u.reduce((S,k)=>S+(k.captchaTime-k.searchBtnTime)/k.subjectCount,0)/u.length||0}}:void 0;if(T.useEffect(()=>{async function S(){tD({simulationId:e}).then(k=>{"errMsg"in k?k.errMsg===s8.SIMULATION_NOT_FOUND?n():alert(k.errMsg):(i(k),o(e))})}S().then()},[]),!r)return h.jsx(o6,{});const{accuracy:f,score:p,total_elapsed:g}=r,x=p>=70,w=c?.user_ability?.searchBtnSpeed??0;return!c||!a?h.jsx(o6,{}):h.jsxs(Pl,{onClose:()=>n(),children:[h.jsxs("div",{className:"w-full max-w-md bg-white rounded-xl shadow-xl p-6 relative overflow-hidden",children:[x&&h.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[h.jsx("div",{className:"animate-float1 absolute top-6 left-6 w-3 h-3 bg-red-400 rounded-full"}),h.jsx("div",{className:"animate-float2 absolute top-16 right-10 w-2 h-2 bg-yellow-400 rounded-full"}),h.jsx("div",{className:"animate-float3 absolute bottom-20 left-12 w-2.5 h-2.5 bg-blue-400 rounded-full"}),h.jsx("div",{className:"animate-float4 absolute bottom-10 right-6 w-3 h-3 bg-pink-400 rounded-full"}),h.jsx("div",{className:"animate-float5 absolute top-1/2 left-1/2 w-2 h-2 bg-purple-400 rounded-full"})]}),h.jsxs("div",{className:"relative z-10 text-center",children:[h.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[" ",h.jsx("span",{className:x?"text-blue-600":"text-red-500",children:x?" !":" "})]}),h.jsxs("span",{className:"text-sm text-gray-700 mt-1",children:[" ",x?" ":" ",""]}),h.jsxs("div",{className:"flex flex-col justify-center items-center",children:[h.jsx("div",{className:"m-2 flex justify-center",children:x?h.jsx("img",{src:"/ci.svg",alt:" ",className:"w-20 h-20"}):h.jsx("span",{className:"text-[50px]",children:""})}),h.jsxs("div",{className:"flex flex-row justify-center gap-6 mt-6",children:[h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("p",{className:"text-sm text-gray-800 mb-1",children:""}),h.jsxs("p",{className:"text-xl text-blue-500 font-bold whitespace-nowrap",children:[p.toFixed(1),h.jsx("span",{className:"text-gray-600",children:""})]})]}),h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("p",{className:"text-sm text-gray-800 mb-1",children:" "}),h.jsxs("p",{className:"text-xl text-gray-600 font-bold whitespace-nowrap",children:[(g/1e3).toFixed(0),""]})]})]}),h.jsxs("div",{className:"flex flex-row justify-center gap-6 mt-6",children:[h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("p",{className:"text-sm text-gray-800 mb-1",children:"    "}),h.jsxs("p",{className:"text-xl text-blue-500 font-bold whitespace-nowrap",children:[c?.user_ability.captchaSpeed.toFixed(2),h.jsx("span",{className:"text-gray-600",children:""})]})]}),h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("p",{className:"text-sm text-gray-800 mb-1",children:"    "}),h.jsxs("p",{className:"text-xl text-blue-500 font-bold whitespace-nowrap",children:[w<=0?0:w.toFixed(2),h.jsx("span",{className:"text-gray-600",children:""})]})]})]})]}),h.jsx("div",{className:"text-left text-sm text-gray-800 mt-4 mb-1",children:""}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-full h-3 bg-gray-200 rounded-full overflow-hidden",children:h.jsx("div",{className:"h-3 bg-indigo-400 rounded-full transition-all duration-300",style:{width:`${f}%`}})}),h.jsxs("p",{className:"text-xl text-gray-600 font-bold whitespace-nowrap",children:[f,"%"]})]}),h.jsxs("div",{className:"flex justify-center gap-3 mt-6",children:[h.jsx("button",{className:"px-4 py-2 border border-gray-400 text-gray-800 rounded-md hover:bg-gray-100 text-sm",onClick:()=>{n(),t("wish")},children:" "}),h.jsx(kl,{to:`/simulation/logs/${s}`,end:!1,className:"px-4 py-2  bg-blue-500 text-white rounded-md hover:bg-blue-600 text-sm",onClick:()=>{n()},children:"   "})]})]})]}),h.jsx("style",{children:`
        @keyframes float1 {
          0% { transform: translateY(0); }
          50% { transform: translateY(-8px); }
          100% { transform: translateY(0); }
        }
        @keyframes float2 {
          0% { transform: translateY(0); }
          50% { transform: translateY(6px); }
          100% { transform: translateY(0); }
        }
        @keyframes float3 {
          0% { transform: translateY(0); }
          50% { transform: translateY(-6px); }
          100% { transform: translateY(0); }
        }
        @keyframes float4 {
          0% { transform: translateY(0); }
          50% { transform: translateY(4px); }
          100% { transform: translateY(0); }
        }
        @keyframes float5 {
          0% { transform: translateY(0); }
          50% { transform: translateY(-5px); }
          100% { transform: translateY(0); }
        }

        .animate-float1 { animation: float1 3s ease-in-out infinite; }
        .animate-float2 { animation: float2 4s ease-in-out infinite; }
        .animate-float3 { animation: float3 2.5s ease-in-out infinite; }
        .animate-float4 { animation: float4 3.5s ease-in-out infinite; }
        .animate-float5 { animation: float5 3s ease-in-out infinite; }
      `})]})}const KK=e=>T.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M8 16.3438C9.45833 16.3229 10.7917 15.9688 12 15.2812C13.2083 14.5729 14.1875 13.5938 14.9375 12.3438C15.6458 11.0729 16 9.73958 16 8.34375C16 6.94788 15.6458 5.61455 14.9375 4.34375C14.1875 3.09375 13.2083 2.11458 12 1.40625C10.7917 0.718717 9.45833 0.36455 8 0.34375C6.54167 0.36455 5.20833 0.718717 4 1.40625C2.79167 2.11458 1.8125 3.09375 1.0625 4.34375C0.354167 5.61455 0 6.94788 0 8.34375C0 9.73958 0.354167 11.0729 1.0625 12.3438C1.8125 13.5938 2.79167 14.5729 4 15.2812C5.20833 15.9688 6.54167 16.3229 8 16.3438ZM11.5312 6.875L7.53125 10.875C7.17708 11.1667 6.82292 11.1667 6.46875 10.875L4.46875 8.875C4.17708 8.52083 4.17708 8.16667 4.46875 7.8125C4.82292 7.52083 5.17708 7.52083 5.53125 7.8125L7 9.28125L10.4688 5.81256C10.8229 5.52083 11.1771 5.52083 11.5312 5.81256C11.8229 6.16669 11.8229 6.52083 11.5312 6.875Z",fill:"#22C55E"}));function GK(){return h.jsxs("div",{className:"mt-6 text-sm text-gray-800 space-y-2",children:[h.jsxs("h2",{className:"text-left font-semibold mb-4",children:[" ",h.jsx("span",{className:"text-blue-500",children:"Tip!"})]}),["      .","    .","       !","    ."].map((e,t)=>h.jsxs("div",{className:"flex items-center sm:text-sm text-xs ",children:[h.jsx("span",{className:"text-blue-500 mr-2",children:h.jsx(KK,{})}),h.jsx("span",{className:t===0?"font-semibold text-blue-500 animate-bounce":"",children:e})]},t))]})}function YK({department:e,setDepartment:t}){const{data:n}=Tl();function r(i){const s=i.target.value,o=n?.find(a=>a.departmentCode===s)?.departmentName??"";t({departmentName:o,departmentCode:s})}return T.useEffect(()=>{if(!n)return;const s=b8().filter(([u])=>u!=="9005");if(s.length<=0)return;const o=s[0][0],a=n.find(u=>u.departmentCode===o)?.departmentName??"";t({departmentName:a,departmentCode:o})},[n]),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("h2",{className:"text-left font-semibold text-sm sm:text-md",children:" "}),h.jsx($m,{className:"cursor-pointer rounded-sm px-2 py-1 w-50 sm:w-120 bg-white mb-4",value:e.departmentCode,onChange:r})]})}function XK({selectedTimetable:e,onSelect:t,timetables:n}){const r=T.useRef(null),i=n.map(s=>({value:s.timeTableId,label:s.timeTableName}));return h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("h2",{className:"text-left font-semibold text-sm sm:text-md",children:" ."}),h.jsxs("div",{className:"relative inline-block max-w-sm",ref:r,children:[h.jsx(bh,{label:e.timeTableName,selected:e.timeTableId!==null,className:"min-w-max",children:i.map(s=>h.jsx(J8,{label:s.label,selected:e.timeTableId===s.value,onClick:()=>t(s.value)},s.value))}),h.jsx(Er,{to:"/timetable",className:"px-6 py-2 hover:text-blue-500 text-gray-500 rounded-md",children:"  "})]})]})}const JK=5;function Jy(e,t){const n=new Set,r=[];for(const i of[...e].sort(()=>Math.random()-.5)){if(n.size>=t)break;n.has(i.subjectCode)||(n.add(i.subjectCode),r.push(i))}return r}function l9(e){const t=e.split(" ");return t.findIndex(r=>r.includes(""))!==-1?t.slice(1).join(" ").trim():e}function u9(e,t){const n=r=>r.replace(/(||)$/,"");return n(e)===n(t)}function ZK(e){return JK-e+1}const eG=(e,t)=>{if(t==="")return c9(e);const n=l9(t),r=e.filter(f=>u9(f.departmentName,n)),i=e.filter(f=>f.departmentName===""),s=r.filter(f=>f.professorName!==null&&f.lesn_time!==null),o=Jy(s,3),a=i.filter(f=>f.professorName!==null&&f.lesn_time!==null),u=Jy(a,ZK(o.length+1)),c=[...o,...u];for(let f=c.length-1;f>0;f--){const p=Math.floor(Math.random()*(f+1));[c[f],c[p]]=[c[p],c[f]]}return c},Zy=(e,t)=>e.find(n=>t===n.subjectId),c9=e=>Jy(e,5),tG=(e,t)=>{const n=l9(t);if(n==="")return c9(e);const r=e.filter(c=>u9(c.departmentName,n)),i=e.filter(c=>c.departmentName===""),s=c=>{const f=new Set;return c.filter(p=>f.has(p.subjectCode)?!1:(f.add(p.subjectCode),!0))},o=s(r).slice(0,3),a=5-o.length,u=s(i).slice(0,a);return[...o,...u]},nG=e=>{let t=0;const n=[];for(const r of e){const i=Number(r.tm_num.split("/")[0])||0;if(t+i>24)break;t+=i,n.push(r)}return n},rG=e=>T.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M3.578 6.48696C4.55072 4.80817 6.1004 3.5401 7.93848 2.91885C9.77657 2.29761 11.7778 2.36554 13.5695 3.10999C15.3613 3.85444 16.8214 5.22467 17.678 6.96555C18.5347 8.70644 18.7294 10.6993 18.2261 12.5731C17.7227 14.4469 16.5556 16.0739 14.9419 17.1512C13.3282 18.2285 11.378 18.6826 9.45441 18.4291C7.53082 18.1755 5.76494 17.2315 4.48557 15.7728C3.20621 14.3141 2.50055 12.4402 2.5 10.5",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"}),T.createElement("path",{d:"M7.5 6.5H3.5V2.5",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"}));function iG({subjects:e,handleRemakeSubjects:t,isLoadingLectures:n}){const r=e?.reduce((i,s)=>{if(!s.tm_num)return i;const o=s?.tm_num.split("/")[0]??"0",a=Number(o)||0;return i+a},0);return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex flex-row justify-between items-center mb-4 w-full overflow-auto h-10",children:[h.jsx("h2",{className:"text-left font-semibold",children:" "}),t&&h.jsxs("button",{onClick:t,className:"flex hover:font-bold hover:text-blue-500 items-center gap-2 cursor-pointer",children:[" ",h.jsx(rG,{})]}),h.jsxs("p",{children:["  : ",h.jsx("span",{className:"text-blue-500",children:r}),""]})]}),h.jsx("div",{className:"max-h-[250px] max-w-[350px] overflow-x-auto overflow-y-auto sm:max-w-full",children:h.jsxs("table",{className:"min-w-full sm:text-sm text-xs text-left whitespace-nowrap border-t border-b border-gray-200",children:[h.jsx("thead",{className:"bg-gray-100 text-gray-700",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""})]})}),h.jsx("tbody",{children:n?h.jsx(Dm,{col:5,row:8}):e?.map((i,s)=>h.jsxs("tr",{className:"border border-gray-200",children:[h.jsx("td",{className:"px-4 py-2",children:i?.subjectCode??""}),h.jsx("td",{className:"px-4 py-2",children:i?.classCode??""}),h.jsx("td",{className:"px-4 py-2",children:i?.departmentName??""}),h.jsx("td",{className:"px-4 py-2",children:i?.subjectName??""}),h.jsx("td",{className:"px-4 py-2",children:i?.professorName??""})]},i?.subjectId??s))})]})})]})}const sG=({simulationSubjects:e,handleStartGame:t,setToggleTip:n})=>h.jsxs("div",{className:"flex justify-end gap-2 px-2 pb-2 sm:px-6 sm:pb-6",children:[h.jsx(Cy,{variants:"primary",onClick:()=>n(!0),className:"font-semibold disabled:bg-gray-300 disabled:cursor-not-allowed",children:" "}),h.jsx(Cy,{variants:"primary",onClick:t,disabled:e.length===0,className:"font-semibold disabled:bg-gray-300 disabled:cursor-not-allowed",children:""})]}),oG={departmentCode:"",departmentName:""};function aG({timetables:e,setIsModalOpen:t}){const n=li(F=>F.setCurrentSimulation),r=Jn(F=>F.closeModal),{data:i,isLoading:s}=Al(),o=xt(F=>F.currentTimetable),a=xt(F=>F.pickTimetable),[u,c]=T.useState([]),[f,p]=T.useState({...oG}),[g,x]=T.useState(o??{timeTableId:-1,timeTableName:"  ",semester:"2025-2"}),[w,S]=T.useState("timetable"),[k,E]=T.useState(!1),{data:L,isLoading:R}=_m(g?.timeTableId),z=mc(r8),U=()=>{c(eG(i,f.departmentName))},P=async()=>{if(u.length===0){alert("  .    .");return}try{r(),w!=="previous"&&await KI(u.map(ue=>ue.subjectId));const F=await eD("",f.departmentCode,f.departmentName);if("simulationId"in F&&"isRunning"in F&&F.simulationId!==-1&&F.isRunning!==void 0){const{simulationId:ue,isRunning:ae}=F;n({simulationId:ue,simulationStatus:ae?"start":"before"})}else console.error("    ",F)}catch(F){console.error("    :",F)}},I=F=>{const le=e.find(ue=>ue.timeTableId===F)??{timeTableId:-1,timeTableName:"  ",semester:"2025-2"};if(!le){console.error("    :",F);return}x(le),a(le)},H=F=>{c([]),S(F)},Q=F=>i.find(le=>le.subjectId===F);return T.useEffect(()=>{if(R||w!=="timetable"||!L||L.length===0)return;const le=L.filter(ae=>ae.scheduleType!=="custom").map(ae=>Q(ae.subjectId??0)).filter(ae=>!!ae),ue=nG(le);c(ue)},[w,L,R,g]),T.useEffect(()=>{w==="random"&&c(tG(i,f.departmentName))},[w,f]),T.useEffect(()=>{if(w!=="previous"||!z||z.snapshot_id<0||s)return;const le=z.subjects.map(ue=>ue.subject_id).map(ue=>Q(ue)).filter(ue=>!!ue);c(le)},[w,z,s]),T.useEffect(()=>{z&&z.snapshot_id>=0?S("previous"):e.length>0?S("timetable"):S("random")},[z,e]),h.jsx(Pl,{onClose:()=>t(!1),children:h.jsxs("div",{className:"flex flex-col w-full overflow-y-auto max-h-[90vh] max-w-[900px] sm:min-w-[600px]",children:[h.jsx(Wt.Modal.Header,{title:"   ?",onClose:()=>t(!1)}),h.jsxs("div",{className:"flex flex-col gap-2 p-2 sm:p-6",children:[h.jsx("h2",{className:"text-left font-semibold text-sm sm:text-md",children:"  ?"}),h.jsxs("div",{className:"flex gap-2 py-2",children:[z&&h.jsx(oi,{label:" ",selected:w==="previous",onClick:()=>H("previous")}),h.jsx(oi,{label:" ",selected:w==="timetable",onClick:()=>H("timetable")}),h.jsx(oi,{label:" ",selected:w==="random",onClick:()=>H("random")})]}),w==="timetable"&&h.jsx(XK,{timetables:e,selectedTimetable:g,onSelect:I}),w==="random"&&h.jsx(YK,{department:f,setDepartment:p}),h.jsx(iG,{isLoadingLectures:s,subjects:u,handleRemakeSubjects:w==="random"?U:void 0}),k&&h.jsx(GK,{})]}),h.jsx(sG,{simulationSubjects:u,handleStartGame:P,setToggleTip:E})]})})}function lG(e,t,n,r,i,s){const o=Math.floor((e+t)/n);let a=r,u=0;for(let c=0;c<=o;c++){const f=c*n;let p=i,g=s;f>4&&(p=48,g=33),a+=p,u+=g}return Math.max(Math.round(a-u),0)}function uG(){const[e,t]=T.useState(0),[n,r]=T.useState(0),[i,s]=T.useState(1),[o,a]=T.useState(0),u=T.useRef(null),c=Jn(k=>k.closeModal),f=li(k=>k.currentSimulation),p=li(k=>k.setCurrentSimulation),g=.2,x=98,w=79;T.useEffect(()=>{let k=Math.floor(f.clickedTime/.2)*100+124;const E=k/w*g;for(let L=0;L<=Math.floor(f.clickedTime/g);L++)k+=L*x;r(k),t(Math.ceil(E))},[]),T.useEffect(()=>(u.current=setInterval(()=>{a(E=>{const L=E+1,R=lG(L,f.clickedTime,g,i,x,w);return s(R),L});const k=Math.floor((e+f.clickedTime)/.2)*w;n<0?r(0):r(E=>E-k),t(E=>{const L=Math.max(E-1,0);return L===0&&u.current&&(clearInterval(u.current),c()),L})},1e3),()=>{u.current&&clearInterval(u.current)}),[e]);const S=()=>{p({simulationStatus:"before"}),c()};return h.jsx(Wt.Modal,{noBorder:!0,children:h.jsxs("div",{className:"sm:w-full max-w-md bg-white p-6 text-center space-y-6",children:[h.jsxs("h2",{className:"text-lg md:text-xl font-semibold text-gray-800",children:[" ",h.jsx("span",{className:"text-blue-600 font-bold",children:" "}),"."]}),h.jsxs("div",{className:"text-sm md:text-base text-gray-600",children:[": ",h.jsx("span",{className:"text-blue-600 font-bold text-xl",children:e}),""]}),h.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:h.jsx("div",{className:"h-full bg-blue-500 transition-all duration-300",style:{width:`${o/(e+o)*100}%`}})}),h.jsxs("div",{className:"text-gray-700 text-sm md:text-base leading-relaxed",children:["  ",h.jsx("span",{className:"text-green-600 font-bold text-xl",children:n<0?0:n}),",  ",h.jsx("span",{className:"text-green-600 font-bold text-xl",children:i}),"  . ",h.jsx("br",{}),"     ,      ."]}),h.jsxs("button",{className:"inline-flex items-center justify-center border-2 border-gray-400 text-gray-800 px-2 py-1 hover:bg-gray-100",onClick:S,children:[h.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),""]}),h.jsx("p",{className:"text-xs md:text-sm text-gray-500",children:"    ."})]})})}var M1,a6;function cG(){return a6||(a6=1,M1=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}),M1}var dG=cG();const hG=ki(dG);var cp={exports:{}},I1,l6;function fG(){if(l6)return I1;l6=1;var e;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/return e=function(){var t={},n={};return t.on=function(r,i){var s={name:r,handler:i};return n[r]=n[r]||[],n[r].unshift(s),s},t.off=function(r){var i=n[r.name].indexOf(r);i!==-1&&n[r.name].splice(i,1)},t.trigger=function(r,i){var s=n[r],o;if(s)for(o=s.length;o--;)s[o].handler(i)},t},I1=e,I1}var dp={exports:{}},D1,u6;function pG(){if(u6)return D1;u6=1,D1=function(i,s,o){var a=document.head||document.getElementsByTagName("head")[0],u=document.createElement("script");typeof s=="function"&&(o=s,s={}),s=s||{},o=o||function(){},u.type=s.type||"text/javascript",u.charset=s.charset||"utf8",u.async="async"in s?!!s.async:!0,u.src=i,s.attrs&&e(u,s.attrs),s.text&&(u.text=""+s.text);var c="onload"in u?t:n;c(u,o),u.onload||t(u,o),a.appendChild(u)};function e(r,i){for(var s in i)r.setAttribute(s,i[s])}function t(r,i){r.onload=function(){this.onerror=this.onload=null,i(null,r)},r.onerror=function(){this.onerror=this.onload=null,i(new Error("Failed to load "+this.src),r)}}function n(r,i){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,i(null,r))}}return D1}var c6;function mG(){return c6||(c6=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=pG(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default=function(s){var o=new Promise(function(a){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){a(window.YT);return}else{var u=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(u+"//www.youtube.com/iframe_api",function(f){f&&s.trigger("error",f)})}var c=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){c&&c(),a(window.YT)}});return o},e.exports=t.default}(dp,dp.exports)),dp.exports}var hp={exports:{}},fp={exports:{}},pp={exports:{}},F1,d6;function gG(){if(d6)return F1;d6=1;var e=1e3,t=e*60,n=t*60,r=n*24,i=r*365.25;F1=function(c,f){f=f||{};var p=typeof c;if(p==="string"&&c.length>0)return s(c);if(p==="number"&&isNaN(c)===!1)return f.long?a(c):o(c);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))};function s(c){if(c=String(c),!(c.length>100)){var f=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(c);if(f){var p=parseFloat(f[1]),g=(f[2]||"ms").toLowerCase();switch(g){case"years":case"year":case"yrs":case"yr":case"y":return p*i;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function o(c){return c>=r?Math.round(c/r)+"d":c>=n?Math.round(c/n)+"h":c>=t?Math.round(c/t)+"m":c>=e?Math.round(c/e)+"s":c+"ms"}function a(c){return u(c,r,"day")||u(c,n,"hour")||u(c,t,"minute")||u(c,e,"second")||c+" ms"}function u(c,f,p){if(!(c<f))return c<f*1.5?Math.floor(c/f)+" "+p:Math.ceil(c/f)+" "+p+"s"}return F1}var h6;function yG(){return h6||(h6=1,function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=u,t.disable=o,t.enable=s,t.enabled=a,t.humanize=gG(),t.names=[],t.skips=[],t.formatters={};var n;function r(c){var f=0,p;for(p in c)f=(f<<5)-f+c.charCodeAt(p),f|=0;return t.colors[Math.abs(f)%t.colors.length]}function i(c){function f(){if(f.enabled){var p=f,g=+new Date,x=g-(n||g);p.diff=x,p.prev=n,p.curr=g,n=g;for(var w=new Array(arguments.length),S=0;S<w.length;S++)w[S]=arguments[S];w[0]=t.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");var k=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,function(L,R){if(L==="%%")return L;k++;var z=t.formatters[R];if(typeof z=="function"){var U=w[k];L=z.call(p,U),w.splice(k,1),k--}return L}),t.formatArgs.call(p,w);var E=f.log||t.log||console.log.bind(console);E.apply(p,w)}}return f.namespace=c,f.enabled=t.enabled(c),f.useColors=t.useColors(),f.color=r(c),typeof t.init=="function"&&t.init(f),f}function s(c){t.save(c),t.names=[],t.skips=[];for(var f=(typeof c=="string"?c:"").split(/[\s,]+/),p=f.length,g=0;g<p;g++)f[g]&&(c=f[g].replace(/\*/g,".*?"),c[0]==="-"?t.skips.push(new RegExp("^"+c.substr(1)+"$")):t.names.push(new RegExp("^"+c+"$")))}function o(){t.enable("")}function a(c){var f,p;for(f=0,p=t.skips.length;f<p;f++)if(t.skips[f].test(c))return!1;for(f=0,p=t.names.length;f<p;f++)if(t.names[f].test(c))return!0;return!1}function u(c){return c instanceof Error?c.stack||c.message:c}}(pp,pp.exports)),pp.exports}var f6;function vG(){return f6||(f6=1,function(e,t){var n={};t=e.exports=yG(),t.log=s,t.formatArgs=i,t.save=o,t.load=a,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:u(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(c){try{return JSON.stringify(c)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}};function i(c){var f=this.useColors;if(c[0]=(f?"%c":"")+this.namespace+(f?" %c":" ")+c[0]+(f?"%c ":" ")+"+"+t.humanize(this.diff),!!f){var p="color: "+this.color;c.splice(1,0,p,"color: inherit");var g=0,x=0;c[0].replace(/%[a-zA-Z%]/g,function(w){w!=="%%"&&(g++,w==="%c"&&(x=g))}),c.splice(x,0,p)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(c){try{c==null?t.storage.removeItem("debug"):t.storage.debug=c}catch{}}function a(){var c;try{c=t.storage.debug}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}t.enable(a());function u(){try{return window.localStorage}catch{}}}(fp,fp.exports)),fp.exports}var mp={exports:{}},p6;function xG(){return p6||(p6=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default}(mp,mp.exports)),mp.exports}var gp={exports:{}},m6;function bG(){return m6||(m6=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default}(gp,gp.exports)),gp.exports}var yp={exports:{}},vp={exports:{}},g6;function wG(){return g6||(g6=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default}(vp,vp.exports)),vp.exports}var y6;function _G(){return y6||(y6=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=wG(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default}(yp,yp.exports)),yp.exports}var v6;function SG(){return v6||(v6=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=vG(),r=f(n),i=xG(),s=f(i),o=bG(),a=f(o),u=_G(),c=f(u);function f(x){return x&&x.__esModule?x:{default:x}}var p=(0,r.default)("youtube-player"),g={};g.proxyEvents=function(x){var w={},S=function(I){var H="on"+I.slice(0,1).toUpperCase()+I.slice(1);w[H]=function(Q){p('event "%s"',H,Q),x.trigger(I,Q)}},k=!0,E=!1,L=void 0;try{for(var R=a.default[Symbol.iterator](),z;!(k=(z=R.next()).done);k=!0){var U=z.value;S(U)}}catch(P){E=!0,L=P}finally{try{!k&&R.return&&R.return()}finally{if(E)throw L}}return w},g.promisifyPlayer=function(x){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,S={},k=function(H){w&&c.default[H]?S[H]=function(){for(var Q=arguments.length,F=Array(Q),le=0;le<Q;le++)F[le]=arguments[le];return x.then(function(ue){var ae=c.default[H],q=ue.getPlayerState(),V=ue[H].apply(ue,F);return ae.stateChangeRequired||Array.isArray(ae.acceptableStates)&&ae.acceptableStates.indexOf(q)===-1?new Promise(function(J){var te=function ne(){var me=ue.getPlayerState(),D=void 0;typeof ae.timeout=="number"&&(D=setTimeout(function(){ue.removeEventListener("onStateChange",ne),J()},ae.timeout)),Array.isArray(ae.acceptableStates)&&ae.acceptableStates.indexOf(me)!==-1&&(ue.removeEventListener("onStateChange",ne),clearTimeout(D),J())};ue.addEventListener("onStateChange",te)}).then(function(){return V}):V})}:S[H]=function(){for(var Q=arguments.length,F=Array(Q),le=0;le<Q;le++)F[le]=arguments[le];return x.then(function(ue){return ue[H].apply(ue,F)})}},E=!0,L=!1,R=void 0;try{for(var z=s.default[Symbol.iterator](),U;!(E=(U=z.next()).done);E=!0){var P=U.value;k(P)}}catch(I){L=!0,R=I}finally{try{!E&&z.return&&z.return()}finally{if(L)throw R}}return S},t.default=g,e.exports=t.default}(hp,hp.exports)),hp.exports}var x6;function CG(){return x6||(x6=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},r=fG(),i=c(r),s=mG(),o=c(s),a=SG(),u=c(a);function c(p){return p&&p.__esModule?p:{default:p}}var f=void 0;t.default=function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,w=(0,i.default)();if(f||(f=(0,o.default)(w)),g.events)throw new Error("Event handlers cannot be overwritten.");if(typeof p=="string"&&!document.getElementById(p))throw new Error('Element "'+p+'" does not exist.');g.events=u.default.proxyEvents(w);var S=new Promise(function(E){if((typeof p>"u"?"undefined":n(p))==="object"&&p.playVideo instanceof Function){var L=p;E(L)}else f.then(function(R){var z=new R.Player(p,g);return w.on("ready",function(){E(z)}),null})}),k=u.default.promisifyPlayer(S,x);return k.on=w.on,k.off=w.off,k},e.exports=t.default}(cp,cp.exports)),cp.exports}var kG=CG();const jG=ki(kG);var EG=Object.defineProperty,TG=Object.defineProperties,NG=Object.getOwnPropertyDescriptors,b6=Object.getOwnPropertySymbols,PG=Object.prototype.hasOwnProperty,OG=Object.prototype.propertyIsEnumerable,w6=(e,t,n)=>t in e?EG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ev=(e,t)=>{for(var n in t||(t={}))PG.call(t,n)&&w6(e,n,t[n]);if(b6)for(var n of b6(t))OG.call(t,n)&&w6(e,n,t[n]);return e},tv=(e,t)=>TG(e,NG(t)),LG=(e,t,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(c){i(c)}},o=u=>{try{a(n.throw(u))}catch(c){i(c)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(e,t)).next())});function RG(e,t){var n,r;if(e.videoId!==t.videoId)return!0;const i=((n=e.opts)==null?void 0:n.playerVars)||{},s=((r=t.opts)==null?void 0:r.playerVars)||{};return i.start!==s.start||i.end!==s.end}function _6(e={}){return tv(ev({},e),{height:0,width:0,playerVars:tv(ev({},e.playerVars),{autoplay:0,start:0,end:0})})}function AG(e,t){return e.videoId!==t.videoId||!hG(_6(e.opts),_6(t.opts))}function MG(e,t){var n,r,i,s;return e.id!==t.id||e.className!==t.className||((n=e.opts)==null?void 0:n.width)!==((r=t.opts)==null?void 0:r.width)||((i=e.opts)==null?void 0:i.height)!==((s=t.opts)==null?void 0:s.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title}var IG={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},DG={videoId:Tt.string,id:Tt.string,className:Tt.string,iframeClassName:Tt.string,style:Tt.object,title:Tt.string,loading:Tt.oneOf(["lazy","eager"]),opts:Tt.objectOf(Tt.any),onReady:Tt.func,onError:Tt.func,onPlay:Tt.func,onPause:Tt.func,onEnd:Tt.func,onStateChange:Tt.func,onPlaybackRateChange:Tt.func,onPlaybackQualityChange:Tt.func},Op=class extends nn.Component{constructor(e){super(e),this.destroyPlayerPromise=void 0,this.onPlayerReady=t=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,t)},this.onPlayerError=t=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,t)},this.onPlayerStateChange=t=>{var n,r,i,s,o,a,u,c;switch((r=(n=this.props).onStateChange)==null||r.call(n,t),t.data){case Op.PlayerState.ENDED:(s=(i=this.props).onEnd)==null||s.call(i,t);break;case Op.PlayerState.PLAYING:(a=(o=this.props).onPlay)==null||a.call(o,t);break;case Op.PlayerState.PAUSED:(c=(u=this.props).onPause)==null||c.call(u,t);break}},this.onPlayerPlaybackRateChange=t=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,t)},this.onPlayerPlaybackQualityChange=t=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,t)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const t=tv(ev({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=jG(this.container,t),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var t;(t=this.internalPlayer)==null||t.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var t,n,r,i;if(typeof this.props.videoId>"u"||this.props.videoId===null){(t=this.internalPlayer)==null||t.stopVideo();return}let s=!1;const o={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(s=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(o.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(o.endSeconds=this.props.opts.playerVars.end)),s){(r=this.internalPlayer)==null||r.loadVideoById(o);return}(i=this.internalPlayer)==null||i.cueVideoById(o)},this.refContainer=t=>{this.container=t},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(e){return LG(this,null,function*(){MG(e,this.props)&&this.updatePlayer(),AG(e,this.props)&&(yield this.resetPlayer()),RG(e,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return nn.createElement("div",{className:this.props.className,style:this.props.style},nn.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},Xm=Op;Xm.propTypes=DG;Xm.defaultProps=IG;Xm.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var FG=Xm;const B1="visitedTutorial",lm={_visited:void 0,get(){if(this._visited===void 0&&(this._visited=localStorage.getItem(B1)),!this._visited)return!0;const e=Date.now(),t=new Date(this._visited).getTime();return(e-t)/(1e3*60*60*24)>=7},set(){const e=new Date().toISOString();this._visited=e,localStorage.setItem(B1,e)},reset(){this._visited=null,localStorage.removeItem(B1)}},z1=[{id:1,videoId:"BTNgos01s1o",title:"1:   "},{id:2,videoId:"yYq-sXZmS9I",title:"2:   "},{id:3,videoId:"mEi-n2kEs94",title:"3:  "},{id:4,videoId:"xmD5YuZtJv4",title:"4:    "}];function BG(){const[e,t]=T.useState(0),[n,r]=T.useState(!1),i=Jn(S=>S.openModal),s=Jn(S=>S.closeModal),a=Ki()?{width:"250",height:"141"}:{width:"600",height:"338"},u=lm.get();u||i("wish");const c=()=>{t(S=>S===0?z1.length-1:S-1)},f=()=>{t(S=>S===z1.length-1?0:S+1)},p=()=>{n&&(lm.set(),r(!0))},g=z1[e],x=()=>{s(),p()},w=()=>{p(),s(),i("wish")};return u&&h.jsxs(Pl,{onClose:s,children:[h.jsx(hh,{title:" ",onClose:x}),h.jsxs("div",{className:"w-full flex flex-col p-4",children:[h.jsx("div",{className:"mx-auto",style:{width:a.width+"px",height:a.height+"px"},children:h.jsx(FG,{videoId:g.videoId,opts:{width:a.width,height:a.height,playerVars:{autoplay:1,mute:1,playlist:g.videoId}},onEnd:f})}),h.jsxs("div",{className:"mt-4 flex flex-col justify-center items-center gap-2",children:[h.jsxs("div",{className:"flex justify-center items-center gap-5",children:[h.jsx("button",{className:"cursor-pointer w-5 h-5","aria-label":" ",onClick:c,children:e!==0&&h.jsx(Xy,{className:"w-5 h-5 transform rotate-90"})}),h.jsx("h2",{className:"text-gray-700 text-xl font-semibold",children:g.title}),h.jsx("button",{className:"cursor-pointer","aria-label":" ",onClick:f,children:e<3&&h.jsx(Xy,{className:"w-5 h-5 transform -rotate-90"})})]}),h.jsx("p",{className:"text-gray-500 text-sm",children:"        ."}),h.jsx("p",{className:"text-gray-500 text-sm",children:"     ,   ,         ."}),h.jsxs(Wt.Modal.ButtonContainer,{className:"mt-4",children:[h.jsx(X8,{label:"   ",checked:n,onChange:()=>r(!n)}),h.jsx("button",{onClick:w,className:"px-4 cursor-pointer text-white py-2 bg-blue-500 hover:bg-blue-600 rounded-md",children:" "})]})]})]})]})}function d9(e){if(!e)return"-";const t=e.split("/");return t[0]=Number.parseFloat(t[0]).toFixed(1),t.join("/")}function zG(e){return e===-1?"":e}const $G=[{header:"",cell:(e,t)=>t+1},{header:"",cell:e=>h.jsx(HG,{subjectId:e.subjectId})},{header:"",cell:e=>e.subjectCode},{header:"",cell:e=>e.classCode},{header:"",cell:e=>h.jsx("div",{className:"text-left",children:e.departmentName})},{header:"",cell:e=>h.jsx("div",{className:"text-left",children:e.subjectName})},{header:"",cell:()=>h.jsx(Wt.Button,{size:"sm",variant:"dark",children:""})},{header:"",cell:e=>e.language},{header:"//",cell:e=>d9(e.tm_num)},{header:"",cell:e=>e.subjectType},{header:"",cell:e=>zG(e.semester_at)},{header:"",cell:e=>e.lesn_time},{header:"",cell:()=>h.jsx(Wt.Button,{size:"sm",variant:"dark",children:""})}],UG=()=>{const e=li(r=>r.currentSimulation),t=Jn(r=>r.type),n=e.simulationStatus==="progress"&&t!=="waiting"?e.nonRegisteredSubjects:[];return h.jsx(Wt.DataTable,{columns:$G,data:n,keyInfo:"subjectId"})},HG=({subjectId:e})=>{const t=Jn(s=>s.openModal),n=Am(s=>s.setCurrentSubjectId),{data:r}=Al(),i=s=>{ho({eventType:Hn.APPLY,subjectId:s},r).then(o=>{"errMsg"in o&&alert(o.errMsg)}).catch(o=>{console.error(" :",o)}),n(s),t("captcha")};return h.jsx(Wt.Button,{size:"sm",onClick:()=>i(e),children:""})},QG=[{header:"",cell:(e,t)=>t+1},{header:"",cell:()=>h.jsx(Wt.Button,{size:"sm",children:""})},{header:"",cell:e=>e.subjectCode},{header:"",cell:e=>e.classCode},{header:"",cell:e=>h.jsx("div",{className:"text-left",children:e.departmentName})},{header:"",cell:e=>h.jsx("div",{className:"text-left",children:e.subjectName})},{header:"",cell:()=>h.jsx(Wt.Button,{size:"sm",variant:"dark",children:""})},{header:"",cell:e=>e.language},{header:"//",cell:e=>d9(e.tm_num)},{header:"",cell:e=>e.subjectType},{header:"",cell:()=>"-"},{header:"",cell:e=>e.lesn_time},{header:"",cell:()=>h.jsx(Wt.Button,{size:"sm",variant:"dark",children:""})}],VG=()=>{const e=li(r=>r.currentSimulation),t=Jn(r=>r.type),n=e.simulationStatus==="progress"&&t!=="waiting"?e.registeredSubjects:[];return h.jsx(Wt.DataTable,{columns:QG,data:n,keyInfo:"subjectId"})};function Bx(){const e=li(o=>o.setCurrentSimulation),t=li(o=>o.currentSimulation),n=Jn(o=>o.openModal),{data:r}=Al(),i=(o,a,u)=>{const c=o.map(f=>Zy(r,f.subjectId)).filter(f=>f!==void 0);e({simulationId:u,[a]:c}),t.simulationStatus==="progress"&&n("waiting")};return{reloadSimulationStatus:()=>{GI().then(o=>{!o||o.simulationId===-1||(e({simulationId:o.simulationId}),o?.nonRegisteredSubjects&&i(o.nonRegisteredSubjects,"nonRegisteredSubjects",o.simulationId),o?.registeredSubjects&&i(o.registeredSubjects,"registeredSubjects",o.simulationId))}).catch(o=>{console.log(o)})}}}const WG=e=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M9.5 16C7.68333 16 6.146 15.3707 4.888 14.112C3.63 12.8533 3.00067 11.316 3 9.5C2.99933 7.684 3.62867 6.14667 4.888 4.888C6.14733 3.62933 7.68467 3 9.5 3C11.3153 3 12.853 3.62933 14.113 4.888C15.373 6.14667 16.002 7.684 16 9.5C16 10.2333 15.8833 10.925 15.65 11.575C15.4167 12.225 15.1 12.8 14.7 13.3L20.3 18.9C20.4833 19.0833 20.575 19.3167 20.575 19.6C20.575 19.8833 20.4833 20.1167 20.3 20.3C20.1167 20.4833 19.8833 20.575 19.6 20.575C19.3167 20.575 19.0833 20.4833 18.9 20.3L13.3 14.7C12.8 15.1 12.225 15.4167 11.575 15.65C10.925 15.8833 10.2333 16 9.5 16ZM9.5 14C10.75 14 11.8127 13.5627 12.688 12.688C13.5633 11.8133 14.0007 10.7507 14 9.5C13.9993 8.24933 13.562 7.187 12.688 6.313C11.814 5.439 10.7513 5.00133 9.5 5C8.24867 4.99867 7.18633 5.43633 6.313 6.313C5.43967 7.18967 5.002 8.252 5 9.5C4.998 10.748 5.43567 11.8107 6.313 12.688C7.19033 13.5653 8.25267 14.0027 9.5 14Z",fill:"white"}));function qG(){const{setCurrentSimulation:e,currentSimulation:t,resetSimulation:n}=li(),r=Jn(w=>w.openModal),i=mc(Kd),{reloadSimulationStatus:s}=Bx(),{data:o}=Al(),u=(i&&"simulationId"in i?i.simulationId:-1)!==-1,c=i&&"userStatus"in i?i.userStatus?.departmentName:-1,f=()=>{e({simulationStatus:"before"}),r("tutorial"),n()},p=()=>{Kd().then(w=>{w&&"simulationId"in w&&w.simulationId!==-1&&s()})},g=async()=>{p(),ho({eventType:Hn.SEARCH},o).then(w=>{if("errMsg"in w)alert("  .    !");else{const S=w.elapsed_time/1e3;e({simulationStatus:"progress",clickedTime:S>10?5:S}),r("waiting")}}).catch(w=>{console.error(" :",w)})},x=async()=>{try{await gl(),e({simulationStatus:"finish"}),r("result")}catch(w){console.error(w),alert("  .")}};return h.jsx("section",{className:"border p-2 text-xs",children:h.jsxs("div",{className:"flex flex-col gap-1 sm:gap-2",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 sm:gap-8",children:[h.jsx("div",{className:"flex justify-end items-center sm:justify-start gap-2",children:h.jsx(Mu,{id:"organization-type",label:" ",className:"w-48",essential:!0,disabled:!0,children:h.jsx("option",{})})}),h.jsx("div",{className:"flex justify-end items-center sm:justify-start gap-2",children:h.jsx(Mu,{id:"semester-type",label:"/",className:"w-48",essential:!0,disabled:!0,children:h.jsx("option",{})})})]}),h.jsx("div",{className:"flex flex-col justify-between sm:flex-row gap-1 sm:gap-8",children:h.jsxs("div",{className:"flex flex-col sm:items-end sm:flex-row gap-2 ",children:[h.jsx("div",{className:"flex items-center justify-end sm:justify-start gap-2",children:h.jsx(Mu,{id:"my-major-department",label:"()",className:"w-48",disabled:!0,children:h.jsx("option",{children:""})})}),h.jsx("div",{className:"flex items-center justify-end sm:justify-start gap-2",children:h.jsx(Mu,{id:"my-sub-department",label:"()",className:"w-48",disabled:!0,children:h.jsx("option",{children:""})})})]})}),h.jsxs("div",{className:"flex flex-col sm:flex-col md:flex-row justify-between gap-2",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[h.jsx("div",{className:"flex justify-end items-center sm:justify-start gap-2",children:h.jsx(Mu,{id:"search-division",label:"",className:"w-48",essential:!0,disabled:!0,children:h.jsx("option",{children:""})})}),h.jsxs("div",{className:"flex justify-end items-center sm:justify-start gap-1",children:[h.jsx("label",{htmlFor:"search-major",className:"font-bold",children:""}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-1",children:[h.jsx(Wt.Select,{id:"search-major",className:"w-48 sm:w-30",essential:!0,disabled:!0,children:h.jsx("option",{children:""})}),h.jsx(Mu,{id:"search-department",label:" ",className:"w-40 lg:w-90",value:c,disabled:!0,hideLabel:!0})]})]})]}),h.jsxs("div",{className:"flex flex-row justify-between gap-2",children:[h.jsx("div",{className:"flex flex-row ",children:u?h.jsx(Wt.Button,{variant:"cancel",onClick:x,children:" "}):h.jsx(Wt.Button,{variant:"primary",onClick:f,children:""})}),h.jsxs("button",{onClick:g,className:`relative px-3 py-2 rounded flex flex-row items-center gap-1 text-white ${u?"bg-gradient-animation cursor-pointer":"bg-gray-400 cursor-not-allowed"}`,disabled:!u,children:[t.simulationStatus==="start"&&h.jsx(b_,{className:"absolute -top-20 right-8 w-15 h-15 animate-bounce rotate-170"}),h.jsx(WG,{className:"w-5 h-4"}),""]})]})]})]})})}function Mu({label:e,hideLabel:t=!1,children:n,id:r,className:i,...s}){const o=r||"muted-select-"+e;return h.jsxs(h.Fragment,{children:[h.jsx("label",{htmlFor:o,className:t?"hidden":"font-bold",children:e}),h.jsx(Wt.Select,{id:o,...s,className:i,children:n})]})}function KG(){const[e,t]=T.useState("00:00"),n=Jn(u=>u.openModal),r=li(u=>u.currentSimulation),i=li(u=>u.setCurrentSimulation),s=T.useRef(null),o=u=>{const c=Math.floor(u%3600/60),f=u%60;t(`${c.toString().padStart(2,"0")}:${f.toString().padStart(2,"0")}`)},a=async()=>{try{await gl(),i({simulationStatus:"finish"}),n("result")}catch(u){console.error(u),alert("   .")}};return T.useEffect(()=>((async()=>{if(r.simulationStatus==="finish"){t("00:00");return}try{const c=await Mm();if(!(c?.started_at&&c.simulation_run_id===r.simulationId))return;const p=c.started_at;s.current=setInterval(()=>{const g=Date.now(),x=Math.floor((g-p)/1e3);if(x>=Jv){clearInterval(s.current),alert("5    ."),a().then();return}o(x),r.simulationStatus==="finish"&&(clearInterval(s.current),t("00:00"))},1e3)}catch(c){console.error(c)}})().then(),()=>{s.current&&(clearInterval(s.current),s.current=null)}),[r.simulationStatus,r.simulationId]),h.jsx("p",{className:"font-semibold text-xl text-blue-500",children:e})}function GG(){const e=Jn(u=>u.openModal),t=li(u=>u.currentSimulation),n=li(u=>u.setCurrentSimulation),{reloadSimulationStatus:r}=Bx(),i=lm.get(),s=async()=>{try{await gl(),n({simulationStatus:"finish"}),alert("5    ."),e("result")}catch(u){console.error(u),alert("   .")}},o=()=>{Kd().then(u=>{if(u&&"simulationId"in u&&u.simulationId!==-1){const c=u.startedAt;if(!c)return;const f=Date.now();Math.floor((f-c)/1e3)>Jv?s().then():r()}else t.simulationStatus==="before"&&e("tutorial")})};T.useEffect(()=>{o()},[t.simulationStatus]);const a=t.registeredSubjects.reduce((u,c)=>{const f=c.tm_num.split("/")[0];return u+parseInt(f,10)},0);return h.jsxs(h.Fragment,{children:[h.jsx(Xn,{children:h.jsx("title",{children:"ALLCLL |  -   "})}),h.jsx(YG,{}),h.jsxs("div",{className:"flex justify-between gap-5",children:[h.jsxs("div",{className:"flex gap-5",children:[h.jsx("h1",{className:"font-bold text-lg",children:" "}),h.jsx(KG,{})]}),!i&&h.jsx("button",{className:"text-gray-600 hover:text-blue-500 cursor-pointer",onClick:lm.reset,children:" "})]}),h.jsx(qG,{}),h.jsxs("section",{className:"mt-4 ",children:[h.jsx("div",{className:"mb-2",children:h.jsx(Wt.SectionHeader,{children:"  "})}),h.jsx(UG,{})]}),h.jsxs("section",{className:"mt-4",children:[h.jsxs("div",{className:"w-full flex flex-col sm:flex-row sm:items-center justify-start gap-2 mb-2",children:[h.jsx(Wt.SectionHeader,{children:"  "}),h.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[h.jsx(Wt.Button,{size:"sm",onClick:r,children:""}),h.jsxs("span",{className:"text-xs font-bold text-black",children:["  : 18 /",h.jsxs("span",{className:"text-blue-500",children:[" : ",t.registeredSubjects.length," /  : ",a]})]})]})]}),h.jsx(VG,{})]})]})}function YG(){const e=li(s=>s.currentSimulation),{type:t,closeModal:n}=Jn(),{reloadSimulationStatus:r}=Bx(),{data:i=[]}=$_();switch(t){case"tutorial":return h.jsx(BG,{});case"waiting":return h.jsx(uG,{});case"captcha":return h.jsx(FK,{});case"wish":return h.jsx(aG,{timetables:i,setIsModalOpen:()=>n()});case"simulation":return h.jsx(UK,{reloadSimulationStatus:r});case"result":return h.jsx(qK,{simulationId:e.simulationId});default:return null}}wo.register(uh,ch,lh,Kv,oc,q7,lc,ac);function XG({result:e}){const[t,n]=T.useState(!0),r=t?e.simulations.filter(g=>g.totalTime<=80&&g.searchBtnTime>0):e.simulations,i=r.map((g,x)=>` ${x+1}`),s=r.map(g=>g.searchBtnTime),o=r.map(g=>g.captchaTime-g.searchBtnTime),a=r.map(g=>g.subjectTime-g.captchaTime),u=r.map(g=>g.totalTime-g.subjectTime),c=r&&r.length<50?16:8,f={labels:i,datasets:[{type:"bar",label:"  ",data:s,barThickness:c,backgroundColor:"rgba(75, 192, 192, 0.7)",stack:"Stack 0"},{type:"bar",label:"   ",data:o,barThickness:c,backgroundColor:"rgba(255, 99, 132, 0.7)",stack:"Stack 0"},{type:"bar",label:"  ",data:a,barThickness:c,backgroundColor:"rgba(54, 162, 235, 0.7)",stack:"Stack 0"},{type:"bar",label:" ",data:u,barThickness:c,backgroundColor:"rgba(153, 102, 255, 0.7)",stack:"Stack 0"},{type:"line",label:" ",data:s,borderColor:"rgba(75, 192, 192, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(75, 192, 192, 1)",fill:!1,tension:.1},{type:"line",label:" ",data:o,borderColor:"rgba(255, 99, 132, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(255, 99, 132, 1)",fill:!1,tension:.1},{type:"line",label:"  ",data:a,borderColor:"rgba(54, 162, 235, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(54, 162, 235, 1)",fill:!1,tension:.1},{type:"line",label:"  ",data:u,borderColor:"rgba(153, 102, 255, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(153, 102, 255, 1)",fill:!1,tension:.1}]},p={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(g){const x=g.dataset.label||"",w=g.parsed.y;return`${x}: ${w.toFixed(2)}`}}}},scales:{x:{title:{display:!0,text:""}},y:{stacked:!0,title:{display:!0,text:" ()"},ticks:{callback:function(g){return(xl(g)?g.toFixed(1):g)+""}}}}};return h.jsxs("div",{className:"w-full h-96 p-4 box-border",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("div",{}),h.jsxs("div",{className:"text-lg font-semibold",children:[h.jsx("input",{id:"normal-data",type:"checkbox",className:"cursor-pointer",onChange:g=>n(g.target.checked),checked:t}),h.jsx("label",{htmlFor:"normal-data",className:"text-sm pl-2 cursor-pointer",children:" "})]})]}),h.jsx("div",{className:"h-full pb-6 overflow-x-auto",children:h.jsx(e8,{type:"bar",data:f,options:p})})]})}function JG({result:e}){const{data:t}=_o(),n=T.useMemo(()=>ZG(t,e.subjects),[t,e]);return h.jsxs("table",{className:"min-w-full text-sm text-center text-nowrap",children:[h.jsx("thead",{className:"bg-gray-100 text-gray-600",children:h.jsxs("tr",{children:[h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:"/"})]})}),h.jsx("tbody",{className:"text-gray-700",children:n.map(r=>h.jsxs("tr",{className:"border-t border-gray-200",children:[h.jsx("td",{className:"py-2 px-1",children:r.subjectCode+"-"+r.classCode}),h.jsx("td",{className:"py-2 px-1",children:r.subjectName}),h.jsx("td",{className:"py-2 px-1",children:r.professorName}),h.jsx("td",{className:"py-2 px-1",children:r.avgIndex.toFixed(2)}),h.jsx("td",{className:"py-2 px-1",children:r.avgCompletionTime.toFixed(2)+" sec"}),h.jsxs("td",{className:"py-2 px-2",children:[h.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-green-500",children:r.successCount}),"/",h.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-red-500",children:r.failedCount}),"/",h.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-gray-500",children:r.doubledCount}),"/",h.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-black",children:r.totalCount})]})]},r.subjectId))})]})}function ZG(e,t){if(!t||!e)return[];const n=r=>e.find(i=>i.subjectId===r);return t.map(r=>{const i=n(r.subjectId);return{...r,subjectName:i?.subjectName||"",departmentName:i?.departmentName||"",departmentCode:i?.departmentCode||"",subjectCode:i?.subjectCode||"",classCode:i?.classCode||"",professorName:i?.professorName||null}})}function eY(){const e=mc(async()=>{try{return await a9()}catch(r){return{error:r.message}}});if(e&&"error"in e)return h.jsxs("div",{className:"flex flex-col w-full items-center justify-center h-120 gap-3",children:[h.jsx(d8,{className:"h-12 w-12"}),h.jsx("div",{className:"text-center text-gray-500",children:e.error}),h.jsx(Er,{to:"/simulation",className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 cursor-pointer",children:"  "})]});const{simulations:t}=e||{simulations:[]},n=e?{user_ability:{searchBtnSpeed:t.reduce((r,i)=>r+i.searchBtnTime,0)/t.length||0,totalSpeed:t.reduce((r,i)=>r+i.totalTime/i.subjectCount,0)/t.length||0,accuracy:t.reduce((r,i)=>r+i.accuracy,0)/t.length||0,captchaSpeed:t.reduce((r,i)=>r+(i.captchaTime-i.searchBtnTime)/i.subjectCount,0)/t.length||0}}:void 0;return!n||!e?h.jsxs("div",{className:"flex flex-col w-full items-center justify-center h-120",children:[h.jsx("div",{className:"animate-spin h-16 w-16 mx-auto my-10",children:h.jsxs("svg",{className:"h-16 w-16 fill-transparent",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25 stroke-blue-500",cx:"12",cy:"12",r:"10",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75 fill-blue-500",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2.93 6.243A8.001 8.001 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3.93-1.695z"})]})}),h.jsxs("div",{className:"text-center text-gray-500 my-10",children:["    ... ",h.jsx("br",{})," "]})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex gap-3 flex-wrap",children:[h.jsx("div",{className:"relative flex-1 min-w-[240px]",children:h.jsx(Xv,{result:n})}),h.jsx("div",{className:"flex-1 min-w-[240px] overflow-x-auto",children:h.jsx(JG,{result:e})})]}),h.jsx("div",{children:h.jsx(XG,{result:e})})]})}const tY=e=>T.createElement("svg",{width:26,height:26,viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M5.54964 1.99315C5.50209 1.17248 6.41035 0.64822 7.09733 1.0996L20.3806 9.83538C21.12 10.3219 20.9092 11.4586 20.0444 11.6476L15.7086 12.5948L21.1016 21.9358C21.3775 22.4141 21.2138 23.0258 20.7356 23.3019L17.8077 24.9923C17.3295 25.2684 16.7179 25.1043 16.4417 24.6263L11.0764 15.3334L8.21097 18.4797C7.61486 19.134 6.52521 18.7482 6.47343 17.8647L5.54964 1.99315Z",fill:"#0756FF"}));function nY(){return h.jsxs(h.Fragment,{children:[h.jsx("h1",{className:"text-2xl font-bold mb-2",children:"   "}),h.jsx("p",{className:"text-gray-500 mb-4",children:"    ."}),h.jsx(rY,{})]})}function rY(){const e=mc(QK),t=e?e.snapshots:[],n=e===void 0,r=e===null;return n?h.jsx("div",{className:"flex justify-center items-center h-64",children:h.jsx("span",{className:"text-gray-500",children:" ..."})}):r?h.jsx("div",{className:"flex justify-center items-center h-64",children:h.jsx("span",{className:"text-red-500",children:" "})}):t.length?t.map(i=>h.jsxs(Er,{to:`/simulation/logs/${i.simulation_run_id}`,className:"flex items-center justify-between bg-white p-3 rounded-md text-sm shadow-md shadow-gray-300 mb-2 hover:bg-gray-100",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("p",{className:"hidden",children:"id"}),h.jsx("span",{className:"font-bold",children:i.simulation_run_id}),h.jsx("p",{className:"hidden",children:""}),h.jsx("span",{children:i.department_name?i.department_name.split(" ")[i.department_name.split(" ").length-1]:"  "})]}),h.jsxs("div",{className:"flex items-center text-center",children:[h.jsxs("div",{className:"",children:[h.jsx("p",{className:"text-xs",children:" "}),h.jsxs("span",{className:"text-sm font-bold",children:[i.accuracy,"%"]})]}),h.jsxs("div",{className:"flex items-center justify-end gap-1 w-20",children:[h.jsx("p",{className:"hidden",children:""}),h.jsx(tY,{className:"w-4 h-4"}),h.jsx("span",{className:"font-bold",children:i.score.toFixed(3)})]})]})]},"simulation-log-"+i.simulation_run_id)):h.jsx("div",{className:"flex justify-center items-center",children:h.jsx("span",{className:"text-gray-500",children:" "})})}function iY(){return h.jsxs(h.Fragment,{children:[h.jsx(Xn,{children:h.jsx("title",{children:"ALLCLL |  -  "})}),h.jsxs("section",{className:"max-w-7xl mx-auto",children:[h.jsx("h1",{className:"text-2xl font-bold mb-2",children:" "}),h.jsx("p",{className:"text-gray-500 mb-4",children:"   ,    ."}),h.jsx("div",{className:"bg-white p-3 rounded-md text-sm shadow-md shadow-gray-300",children:h.jsx(eY,{})})]}),h.jsx("section",{className:"max-w-3xl mx-auto mt-12",children:h.jsx(nY,{})})]})}const Jd=32,S6=200;function sY({result:e}){const t=fY(e),n=(e.ended_at-e.started_at)/1e3,r=Array.from({length:Math.floor(n)+5},(i,s)=>s+1);return h.jsxs("div",{className:"relative",children:[h.jsxs("div",{className:"relative overflow-x-auto overflow-y-hidden",children:[h.jsx("div",{className:"absolute top-0 flex h-full",style:{left:`${S6}px`},children:r.map(i=>h.jsx("div",{className:"border-r border-gray-200 relative",style:{width:`${Jd}px`},children:h.jsx("span",{className:"absolute text-xs text-gray-400 bg-white bottom-0 right-0 translate-x-1/2",children:i})},i))}),t.map((i,s)=>h.jsxs("div",{className:"flex items-center",style:{width:`${Jd*r.length}px`},children:[h.jsxs("div",{className:"py-2 text-sm md:sticky left-0 right-0 z-10 bg-white",style:{width:`${S6}px`},children:[h.jsx("div",{className:`font-semibold ${dY(i.color)}`,children:i.name}),h.jsx("span",{className:`text-xs ${cY(i.color)}`,children:i.code})]}),h.jsx("div",{className:"flex-1 relative h-8",children:h.jsx(oY,{timelines:i.timelines})})]},"timeline-row-"+s))]}),h.jsx("div",{className:"pointer-events-none absolute inset-y-4 left-0 md:left-[200px] w-3 bg-gradient-to-r from-white to-transparent"}),h.jsx("div",{className:"pointer-events-none absolute inset-y-4 right-0 w-3 bg-gradient-to-l from-white to-transparent"})]})}function oY({timelines:e}){return e.map((t,n)=>{const r=t.start*Jd-12,i=t.duration*Jd+24;return h.jsx("div",{className:`absolute top-1 h-6 rounded-full px-3 ${lY(t.color)}`,style:{left:`${r}px`,width:`${i}px`},children:t.events.map((s,o)=>h.jsx(aY,{event:s,startAt:t.start,color:t.color,isTop:t.isTop},"timeline-dot-"+o))},"timeline-bar-"+n)})}function aY({event:e,startAt:t,color:n,isTop:r}){const i=(e.start-t)*Jd+6,s=hY(e.event),o=e.start,a=r?"top-4":"bottom-4";return h.jsxs("div",{className:"absolute top-1.5",style:{left:`${i}px`},children:[h.jsx("div",{className:`w-3 h-3 peer bg-white border-2 rounded-full hover:shadow cursor-pointer ${uY(n)}`}),h.jsxs("div",{className:`absolute z-10 ${a} left-1/2 -translate-x-1/2 px-2 py-1 rounded bg-black text-white text-nowrap text-xs text-center opacity-0 peer-hover:opacity-100 transition-opacity duration-200`,children:[s,h.jsx("br",{}),o.toFixed(2)," sec"]})]})}function lY(e){switch(e){case"green":return"bg-green-100 border-green-500 text-green-700";case"red":return"bg-red-100 border-red-500 text-red-700";case"orange":return"bg-orange-100 border-orange-500 text-orange-700";case"yellow":return"bg-yellow-100 border-yellow-500 text-yellow-700";default:return"bg-gray-100 border-gray-500 text-gray-700"}}function uY(e){switch(e){case"green":return"border-green-500 text-green-500 shadow-green-500";case"red":return"border-red-500 text-red-500 shadow-red-500";case"orange":return"border-orange-500 text-orange-500 shadow-orange-500";case"yellow":return"border-yellow-500 text-yellow-500 shadow-yellow-500";default:return"border-gray-500 text-gray-500 shadow-gray-500"}}function cY(e){switch(e){case"green":return"text-green-500";case"red":return"text-red-500";case"orange":return"text-orange-500";case"yellow":return"text-yellow-500";default:return"text-gray-500"}}function dY(e){switch(e){case"green":return"text-green-600";case"red":return"text-red-600";case"orange":return"text-orange-600";case"yellow":return"text-yellow-600";default:return"text-gray-600"}}function hY(e){switch(e){case Hn.SEARCH:return"  ";case Hn.APPLY:return"  ";case Hn.CAPTCHA:return"   ";case Hn.SUBJECT_SUBMIT:return"   ";case Hn.SKIP_REFRESH:return" ";case Hn.REFRESH:return"  ";case Hn.CANCEL_SUBMIT:return"  "}}function fY(e){const{timeline:t,started_at:n,subject_results:r}=e;return r.map(i=>({name:i.subjectInfo?.subjectName,code:i.subjectInfo?.subjectCode+"-"+i.subjectInfo?.classCode,color:_y(i.status),timelines:t.filter(s=>s.subject_id===i.subject_id).map(s=>({color:_y(s.status),start:(s.started_at-n)/1e3,duration:(s.ended_at-s.started_at)/1e3,isTop:r[0].subject_id===s.subject_id,events:s.events.reduce((o,a,u)=>[...o,{event:a.event,duration:u==0?0:(a.timestamp-s.events[u-1].timestamp)/1e3,start:(a.timestamp-n)/1e3}],[])}))}))}function pY({result:e}){const{subject_results:t,started_at:n}=e;return h.jsxs("table",{className:"min-w-full text-sm text-center text-nowrap",children:[h.jsx("thead",{className:"bg-gray-100 text-gray-600",children:h.jsxs("tr",{children:[h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:"/"})]})}),h.jsx("tbody",{className:"text-gray-700",children:t.map(r=>h.jsxs("tr",{className:"border-t border-gray-200",children:[h.jsx("td",{className:"py-2 px-1",children:r.subjectInfo?.subjectCode+"-"+r.subjectInfo?.classCode}),h.jsx("td",{className:"py-2 px-1",children:r.subjectInfo?.subjectName}),h.jsx("td",{className:"py-2 px-1",children:r.subjectInfo?.professorName}),h.jsx("td",{className:"py-2 px-1",children:r.selected_index}),h.jsx("td",{className:"py-2 px-1",children:((r.ended_at-n)/1e3).toFixed(2)+" sec"}),h.jsx("td",{className:"py-2 px-2",children:h.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${sD(r.status)}`,children:r.status===Kt.SUCCESS?"":""})})]},"subject-detail-row-"+r.subject_id))})]})}function mY(){const{runId:e}=V6(),{data:t}=Al(),n=mc(()=>VK(Number(e))),r=T.useMemo(()=>gY(t,n),[t,n]);return h.jsxs(h.Fragment,{children:[h.jsx(Xn,{children:h.jsx("title",{children:"ALLCLL |  -   "})}),h.jsx("h1",{className:"text-2xl font-bold mb-6",children:"   "}),h.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"relative bg-white p-6 rounded-2xl shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"  "}),r?h.jsx(Xv,{result:r}):h.jsx("div",{className:"text-center text-gray-500",children:"  ..."})]}),h.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm overflow-x-auto",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4 min-w-[240px] overflow-x-auto",children:"  "}),r?h.jsx(pY,{result:r}):h.jsx("div",{className:"text-center text-gray-500",children:"  ..."})]})]}),h.jsxs("section",{className:"bg-white p-6 rounded-2xl shadow-sm",children:[h.jsx("div",{className:"flex items-start justify-between mb-4",children:h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"     TimeLine"})}),r?h.jsx(sY,{result:r}):h.jsx("div",{className:"text-center text-gray-500",children:"  ..."})]})]})}function gY(e,t){if(!(!t||!e))return{...t,timeline:t.timeline.map(n=>({...n,subjectInfo:Zy(e,n.subject_id)})),subject_results:t.subject_results.map(n=>({...n,subjectInfo:Zy(e,n.subject_id)}))}}const yY=["interested_snapshot","interested_subject","simulation_run","simulation_run_selections","simulation_run_events"];async function vY(){Jm();const e={interested_snapshot:await He.interested_snapshot.toArray(),interested_subject:await He.interested_subject.toArray(),simulation_run:await He.simulation_run.toArray(),simulation_run_selections:await He.simulation_run_selections.toArray(),simulation_run_events:await He.simulation_run_events.toArray()},t=new Blob([JSON.stringify(e)],{type:"application/json"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="db-backup.json",r.click(),URL.revokeObjectURL(n)}async function xY(){Jm();const e=await He.simulation_run.filter(f=>f.ended_at===-1).last();if(!e)throw new Error("  .");const t=await He.simulation_run_selections.where("simulation_run_id").equals(e.simulation_run_id).toArray(),n=t.map(f=>f.run_selections_id),r=await He.simulation_run_events.filter(f=>n.includes(f.simulation_section_id)).toArray(),i=await He.interested_snapshot.where("snapshot_id").equals(e.snapshot_id).toArray(),s=await He.interested_subject.where("snapshot_id").equals(e.snapshot_id).toArray(),o={simulation_run:[e],simulation_run_selections:t,simulation_run_events:r,interested_snapshot:i,interested_subject:s},a=new Blob([JSON.stringify(o)],{type:"application/json"}),u=URL.createObjectURL(a),c=document.createElement("a");c.href=u,c.download="ongoing-simulation.json",c.click(),URL.revokeObjectURL(u)}async function bY(e){Jm();const t=await e.text(),n=JSON.parse(t);await He.transaction("rw",He.interested_snapshot,He.interested_subject,async()=>{await He.interested_snapshot.clear(),await He.interested_subject.clear(),await He.interested_snapshot.bulkAdd(n.interested_snapshot||[]),await He.interested_subject.bulkAdd(n.interested_subject||[])}),await He.transaction("rw",He.simulation_run,He.simulation_run_selections,He.simulation_run_events,async()=>{await He.simulation_run.clear(),await He.simulation_run_selections.clear(),await He.simulation_run_events.clear(),await He.simulation_run.bulkAdd(n.simulation_run||[]),await He.simulation_run_selections.bulkAdd(n.simulation_run_selections||[]),await He.simulation_run_events.bulkAdd(n.simulation_run_events||[])})}async function wY(){Jm(),await He.transaction("rw",He.interested_snapshot,He.interested_subject,async()=>{await He.interested_snapshot.clear(),await He.interested_subject.clear()}),await He.transaction("rw",He.simulation_run,He.simulation_run_selections,He.simulation_run_events,async()=>{await He.simulation_run.clear(),await He.simulation_run_selections.clear(),await He.simulation_run_events.clear()})}function Jm(){const e=He.tables.map(n=>n.name).sort(),t=[...yY].sort();if(JSON.stringify(e)!==JSON.stringify(t))throw new Error(`DB   : ${e.join(", ")}`)}const _Y=()=>{const[e,t]=T.useState(null),n=u=>{u.target.files&&t(u.target.files[0])},r=async()=>{try{await vY(),alert("Backup completed successfully.")}catch(u){console.error(u),alert("Failed to backup the database.")}},i=async()=>{try{await xY(),alert("Backup completed successfully.")}catch(u){console.error(u),alert(u)}},s=async()=>{if(e)try{await bY(e),alert("Restore completed successfully.")}catch(u){console.error(u),alert("Failed to restore the database.")}else alert("Please select a file to restore.")},o=async()=>{try{await wY(),alert("Database cleared successfully."),window.location.href="/simulation"}catch(u){console.error(u),alert("Failed to delete the database.")}},a=async()=>{try{await gl(),window.location.href="/simulation"}catch(u){console.error(u),alert("Failed to delete the database.")}};return h.jsxs(h.Fragment,{children:[h.jsx(Xn,{children:h.jsx("title",{children:"ALLCLL |  -   "})}),h.jsxs("div",{className:"max-w-4xl min-h-screen mx-auto p-8 space-y-6",children:[h.jsx("h2",{className:"text-2xl font-semibold text-center text-gray-900",children:" "}),h.jsxs("div",{className:"flex justify-center gap-5",children:[h.jsx("button",{onClick:i,className:"bg-slate-200 cursor-pointer text-gray-800 px-6 py-3 rounded-md shadow-md hover:bg-slate-400 hover:text-white transition-colors",children:"  "}),h.jsx("button",{onClick:a,className:"w-full md:w-auto bg-blue-600 cursor-pointer text-white px-6 py-3 rounded-md shadow-md hover:bg-blue-700 transition-colors",children:" "})]}),h.jsxs("div",{className:"flex justify-center gap-5",children:[h.jsx("button",{onClick:r,className:"bg-gray-100 cursor-pointer text-gray-800 px-6 py-3 rounded-md shadow-md hover:bg-gray-400 hover:text-white transition-colors",children:"  "}),h.jsx("button",{onClick:o,className:"bg-red-600  cursor-pointer text-white px-6 py-3 rounded-md shadow-md hover:bg-red-700 hover:text-white transition-colors",children:" "})]}),h.jsxs("div",{className:"flex items-center space-x-4 justify-center",children:[h.jsx("input",{type:"file",accept:".json",onChange:n,className:"block w-full md:w-80 cursor-pointer text-sm text-gray-700 py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500"}),h.jsx("button",{onClick:s,className:"bg-white cursor-pointer text-gray-800 px-6 py-3 rounded-md shadow-md hover:bg-gray-400 hover:text-white transition-colors",children:" "})]})]})]})};function SY(){return h.jsx("tbody",{children:h.jsx("tr",{children:h.jsx("td",{colSpan:13,className:"text-gray-500 py-4",children:h.jsx("div",{className:"min-h-[160px] flex items-center justify-center ",children:h.jsx("p",{className:"bg-stone-100 px-15 py-1 border",children:"  ."})})})})})}const CY=()=>h.jsxs(h.Fragment,{children:[h.jsx(Xn,{children:h.jsx("title",{children:"ALLCLL |  -  "})}),h.jsx("section",{className:"border p-2 text-xs",children:h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsx("div",{className:"flex gap-8 h-10"}),h.jsxs("div",{className:"flex justify-between",children:[h.jsxs("div",{className:"flex gap-4",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"font-bold",children:""}),h.jsx("select",{className:"border-gray-300 border px-2 py-1 w-48 disabled:bg-gray-100",disabled:!0,children:h.jsx("option",{children:""})})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"font-bold",children:""}),h.jsx("select",{className:"border-gray-300 border px-2 py-1 w-48 disabled:bg-gray-100",disabled:!0,children:h.jsx("option",{children:""})}),h.jsx("select",{className:"cursor-pointer border px-2 py-1 w-120 border-gray-300 bg-white",onChange:()=>{},children:h.jsx("option",{value:"none",children:" "})})]})]}),h.jsx("button",{className:"px-4 py-2 rounded text-white bg-gray-700 hover:bg-gray-800 cursor-pointer",children:""})]})]})}),h.jsxs("section",{className:"grid grid-cols-2 gap-5 ",children:[h.jsxs("div",{children:[h.jsx("div",{className:"font-semibold pl-2 mb-2 border-l-4 border-blue-500",children:"  "}),h.jsx("div",{className:"overflow-x-scroll min-h-[1000px] border-gray-300",children:h.jsxs("table",{className:"min-w-[1200px] text-center border border-gray-300 border-t-3 border-t-black text-xs",children:[h.jsx("thead",{className:"bg-gray-100",children:h.jsx("tr",{children:["","","","","","","","","//","","","",""].map((e,t)=>h.jsx("th",{className:"border border-gray-300 px-2 py-1 ",children:e},t))})}),h.jsx("tbody",{children:h.jsx(SY,{})})]})})]}),h.jsx("div",{children:h.jsxs("div",{className:"overflow-x-auto min-h-[1000px] border-gray-300",children:[h.jsxs("div",{className:"flex flex-row gap-3 items-center pl-2 mb-2 border-l-4 border-blue-500",children:[h.jsx("p",{className:"font-semibold",children:" "}),h.jsx("button",{className:"text-xs bg-blue-500 text-white px-2 py-0.5 rounded-xs cursor-pointer",children:""}),h.jsx("button",{className:"text-xs bg-gray-700 text-white px-2 py-0.5 rounded-xs cursor-pointer",children:" "}),h.jsx("button",{className:"text-xs bg-gray-700 text-white px-2 py-0.5 rounded-xs cursor-pointer",children:""})]}),h.jsxs("div",{className:"flex gap-4 w-full mb-2",children:[h.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[h.jsx("span",{className:"font-semibold whitespace-nowrap",children:"  "}),h.jsx("input",{type:"text",disabled:!0,value:"24",className:"w-full px-4 py-1 border border-gray-300 rounded bg-white-100 text-center"})]}),h.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[h.jsx("span",{className:"font-semibold whitespace-nowrap",children:":"}),h.jsx("input",{type:"text",disabled:!0,value:"",className:"w-full px-4 py-1 border border-gray-300 rounded bg-white-100 text-center"})]}),h.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[h.jsx("span",{className:"font-semibold whitespace-nowrap",children:":"}),h.jsx("input",{type:"text",disabled:!0,value:"",className:"w-full px-4 py-1 border border-gray-300 rounded bg-white-100 text-center"})]})]}),h.jsxs("table",{className:"min-w-[1200px] text-center border border-gray-300 border-t-3 border-t-black text-xs",children:[h.jsx("thead",{className:"bg-gray-100",children:h.jsx("tr",{children:["","","","","","","","","","","//","","","",""].map((e,t)=>h.jsx("th",{className:"border border-gray-300 px-2 py-1",children:e},t))})}),h.jsx("tbody",{children:h.jsx("tr",{children:h.jsx("td",{colSpan:13,className:"text-gray-400 py-4",children:h.jsx("div",{className:"min-h-[500px] flex items-center justify-center ",children:h.jsx("p",{className:"bg-stone-100 px-4 py-1 border",children:"  ."})})})})})]})]})})]})]});function kY(){const{openScheduleModal:e}=zr(),t=new ai().toUiData();return h.jsxs("div",{className:"flex flex-col gap-2 pt-5 w-full items-center justify-center",children:[h.jsx(fh,{className:"w-7 h-7"}),h.jsx("p",{className:"text-md text-gray-500",children:"  ."}),h.jsx("span",{className:"text-xs text-gray-400",children:"  ?   ."}),h.jsx(mn,{variant:"primary",size:"medium",onClick:()=>e(t),children:""})]})}function h9({subjects:e,expandToMax:t,isPending:n=!1}){const{visibleRows:r,loadMoreRef:i}=Qm(e,"ref"),s=T.useRef(null),o=xt(f=>f.schedule.subjectId),{openScheduleModal:a,cancelSchedule:u}=zr();if(n||!e)return h.jsx("div",{className:"w-full h-10"});if(!e.length)return h.jsx(kY,{});const c=f=>{if(o===f.subjectId){u(void 0,!1);return}const p=new ai({...new ai().toApiData(),scheduleType:"official",subjectId:f.subjectId??-1},f);a(p.toUiData()),console.log("official",o);const w=new sc(f.lesnTime).toUiData(9)[0]?.top;t&&(t(),setTimeout(()=>{if(w){const S=parseFloat(w);window.scrollTo({top:S,behavior:"smooth"})}},400))};return h.jsxs(Qe,{direction:"flex-col",justify:"justify-end",gap:"gap-2",children:[e.slice(0,r).map(f=>{const p=o===f.subjectId;return h.jsx(jY,{subject:f,isActive:p,onClick:()=>c(f),forwardedRef:p?s:void 0},f.subjectId)}),r<e.length&&h.jsx("div",{ref:i,className:"load-more-trigger w-full h-10"})]})}function jY({isActive:e,subject:t,onClick:n,forwardedRef:r}){const i=e?"text-blue-500 bg-blue-50":"text-gray-700 bg-white hover:bg-gray-50",{saveSchedule:s}=zr(),{selectTargetOnly:o}=gh(),a=u=>{s(u,!1),o(t.subjectId),Um(t.deptCd)};return h.jsx("button",{type:"button",className:`border border-gray-200 rounded-lg p-3 sm:p-4 gap-2 sm:gap-3 ${i} cursor-pointer w-full text-left`,onClick:n,ref:r,children:h.jsxs(Qe,{direction:"flex-col",children:[h.jsxs(Qe,{justify:"justify-between",align:"items-center",gap:"gap-2 ",children:[h.jsx(dr,{level:3,children:t.subjectName}),h.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:t.professorName})]}),h.jsxs(Qe,{direction:"flex-col",justify:"justify-start",align:"items-start",gap:"gap-2 ",children:[h.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:t.lesnTime}),h.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:t.lesnRoom}),h.jsxs("span",{className:"text-xs sm:text-sm text-gray-500",children:[t.studentYear,"/",t.manageDeptNm]})]}),h.jsxs(Qe,{justify:"justify-between",align:"items-center",children:[h.jsxs(_T,{variant:"default",children:[t.tmNum[0],""]}),e&&h.jsx(mn,{variant:"primary",size:"medium",onClick:a,children:""})]})]})})}function EY(){const[e,t]=T.useState(!1),n=gs(a=>a.filters),r=gs(a=>a.setFilter),i=gs(a=>a.resetFilters),{data:s}=qi(),o=yh(s??[]).sort((a,u)=>a.localeCompare(u)).map(a=>a);return h.jsxs(Qe,{direction:"flex-wrap",align:"items-center",gap:"gap-2",className:"w-full",children:[h.jsx(gx,{handleOpenFilter:()=>t(!0)}),h.jsx(yx,{setFilter:r,selectedValue:n.department}),h.jsx(Nn,{filterKey:"days",options:cn.days,selectedValues:n.days??[],setFilter:r}),h.jsx(Nn,{filterKey:"credits",options:cn.credits,selectedValues:n.credits??[],setFilter:r}),h.jsx(Nn,{filterKey:"grades",options:cn.grades,selectedValues:n.grades??[],setFilter:r}),n.note?.length>0&&h.jsx(Nn,{filterKey:"note",options:cn.remark,selectedValues:n.note??[],setFilter:r}),n.categories?.length>0&&h.jsx(Nn,{filterKey:"categories",options:o,selectedValues:n.categories??[],setFilter:r}),n.classroom?.length>0&&h.jsx(Nn,{filterKey:"classroom",options:cn.classRoom,selectedValues:n.classroom??[],setFilter:r}),h.jsx(vx,{filters:n,resetFilter:i}),e&&h.jsx(xx,{filterStore:gs,onClose:()=>t(!1)})]})}const TY=new ai().toUiData();function NY(){const{openScheduleModal:e}=zr(),{data:t,isPending:n}=_o(),r=ph(t)??[],i=gs(a=>a.filters),s=gs(a=>a.setFilter),o=T.useDeferredValue(hc(r,i));return h.jsx(Cr,{children:h.jsxs(Qe,{direction:"flex-col",gap:"gap-3",className:"w-full bg-white h-screen md:border-t-0",children:[h.jsx(Ol,{type:"text",value:i.keywords,placeholder:" ",onDelete:()=>s("keywords",""),onChange:a=>s("keywords",a.target.value),className:"w-full"}),h.jsx(EY,{}),h.jsx(mn,{variant:"text",size:"small",onClick:()=>e(TY),children:"+   "}),h.jsx(Qe,{direction:"flex-col",className:"h-full overflow-hidden",children:h.jsx("div",{className:"overflow-y-auto",children:h.jsx(h9,{subjects:o,isPending:n})})})]})})}var $1={exports:{}},C6;function PY(){return C6||(C6=1,function(e){(function(t){var n=R(),r=z(),i=U(),s=P(),o={imagePlaceholder:void 0,cacheBust:!1},a={toSvg:u,toPng:f,toJpeg:p,toBlob:g,toPixelData:c,impl:{fontFaces:i,images:s,util:n,inliner:r,options:{}}};e.exports=a;function u(I,H){return H=H||{},x(H),Promise.resolve(I).then(function(F){return S(F,H.filter,!0)}).then(k).then(E).then(Q).then(function(F){return L(F,H.width||n.width(I),H.height||n.height(I))});function Q(F){return H.bgcolor&&(F.style.backgroundColor=H.bgcolor),H.width&&(F.style.width=H.width+"px"),H.height&&(F.style.height=H.height+"px"),H.style&&Object.keys(H.style).forEach(function(le){F.style[le]=H.style[le]}),F}}function c(I,H){return w(I,H||{}).then(function(Q){return Q.getContext("2d").getImageData(0,0,n.width(I),n.height(I)).data})}function f(I,H){return w(I,H||{}).then(function(Q){return Q.toDataURL()})}function p(I,H){return H=H||{},w(I,H).then(function(Q){return Q.toDataURL("image/jpeg",H.quality||1)})}function g(I,H){return w(I,H||{}).then(n.canvasToBlob)}function x(I){typeof I.imagePlaceholder>"u"?a.impl.options.imagePlaceholder=o.imagePlaceholder:a.impl.options.imagePlaceholder=I.imagePlaceholder,typeof I.cacheBust>"u"?a.impl.options.cacheBust=o.cacheBust:a.impl.options.cacheBust=I.cacheBust}function w(I,H){return u(I,H).then(n.makeImage).then(n.delay(100)).then(function(F){var le=Q(I);return le.getContext("2d").drawImage(F,0,0),le});function Q(F){var le=document.createElement("canvas");if(le.width=H.width||n.width(F),le.height=H.height||n.height(F),H.bgcolor){var ue=le.getContext("2d");ue.fillStyle=H.bgcolor,ue.fillRect(0,0,le.width,le.height)}return le}}function S(I,H,Q){if(!Q&&H&&!H(I))return Promise.resolve();return Promise.resolve(I).then(F).then(function(ae){return le(I,ae,H)}).then(function(ae){return ue(I,ae)});function F(ae){return ae instanceof HTMLCanvasElement?n.makeImage(ae.toDataURL()):ae.cloneNode(!1)}function le(ae,q,V){var J=ae.childNodes;if(J.length===0)return Promise.resolve(q);return te(q,n.asArray(J),V).then(function(){return q});function te(ne,me,D){var G=Promise.resolve();return me.forEach(function(ye){G=G.then(function(){return S(ye,D)}).then(function(B){B&&ne.appendChild(B)})}),G}}function ue(ae,q){if(!(q instanceof Element))return q;return Promise.resolve().then(V).then(J).then(te).then(ne).then(function(){return q});function V(){me(window.getComputedStyle(ae),q.style);function me(D,G){D.cssText?G.cssText=D.cssText:ye(D,G);function ye(B,De){n.asArray(B).forEach(function(je){De.setProperty(je,B.getPropertyValue(je),B.getPropertyPriority(je))})}}}function J(){[":before",":after"].forEach(function(D){me(D)});function me(D){var G=window.getComputedStyle(ae,D),ye=G.getPropertyValue("content");if(ye===""||ye==="none")return;var B=n.uid();q.className=q.className+" "+B;var De=document.createElement("style");De.appendChild(je(B,D,G)),q.appendChild(De);function je(Ee,Xe,Ge){var Pe="."+Ee+":"+Xe,ft=Ge.cssText?dn(Ge):Nt(Ge);return document.createTextNode(Pe+"{"+ft+"}");function dn(yn){var hn=yn.getPropertyValue("content");return yn.cssText+" content: "+hn+";"}function Nt(yn){return n.asArray(yn).map(hn).join("; ")+";";function hn(Ln){return Ln+": "+yn.getPropertyValue(Ln)+(yn.getPropertyPriority(Ln)?" !important":"")}}}}}function te(){ae instanceof HTMLTextAreaElement&&(q.innerHTML=ae.value),ae instanceof HTMLInputElement&&q.setAttribute("value",ae.value)}function ne(){q instanceof SVGElement&&(q.setAttribute("xmlns","http://www.w3.org/2000/svg"),q instanceof SVGRectElement&&["width","height"].forEach(function(me){var D=q.getAttribute(me);D&&q.style.setProperty(me,D)}))}}}function k(I){return i.resolveAll().then(function(H){var Q=document.createElement("style");return I.appendChild(Q),Q.appendChild(document.createTextNode(H)),I})}function E(I){return s.inlineAll(I).then(function(){return I})}function L(I,H,Q){return Promise.resolve(I).then(function(F){return F.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(F)}).then(n.escapeXhtml).then(function(F){return'<foreignObject x="0" y="0" width="100%" height="100%">'+F+"</foreignObject>"}).then(function(F){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+H+'" height="'+Q+'">'+F+"</svg>"}).then(function(F){return"data:image/svg+xml;charset=utf-8,"+F})}function R(){return{escape:ne,parseExtension:H,mimeType:Q,dataAsUrl:te,isDataUrl:F,canvasToBlob:ue,resolveUrl:ae,getAndEncode:J,uid:q(),delay:me,asArray:D,escapeXhtml:G,makeImage:V,width:ye,height:B};function I(){var je="application/font-woff",Ee="image/jpeg";return{woff:je,woff2:je,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Ee,jpeg:Ee,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function H(je){var Ee=/\.([^\.\/]*?)$/g.exec(je);return Ee?Ee[1]:""}function Q(je){var Ee=H(je).toLowerCase();return I()[Ee]||""}function F(je){return je.search(/^(data:)/)!==-1}function le(je){return new Promise(function(Ee){for(var Xe=window.atob(je.toDataURL().split(",")[1]),Ge=Xe.length,Pe=new Uint8Array(Ge),ft=0;ft<Ge;ft++)Pe[ft]=Xe.charCodeAt(ft);Ee(new Blob([Pe],{type:"image/png"}))})}function ue(je){return je.toBlob?new Promise(function(Ee){je.toBlob(Ee)}):le(je)}function ae(je,Ee){var Xe=document.implementation.createHTMLDocument(),Ge=Xe.createElement("base");Xe.head.appendChild(Ge);var Pe=Xe.createElement("a");return Xe.body.appendChild(Pe),Ge.href=Ee,Pe.href=je,Pe.href}function q(){var je=0;return function(){return"u"+Ee()+je++;function Ee(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function V(je){return new Promise(function(Ee,Xe){var Ge=new Image;Ge.onload=function(){Ee(Ge)},Ge.onerror=Xe,Ge.src=je})}function J(je){var Ee=3e4;return a.impl.options.cacheBust&&(je+=(/\?/.test(je)?"&":"?")+new Date().getTime()),new Promise(function(Xe){var Ge=new XMLHttpRequest;Ge.onreadystatechange=dn,Ge.ontimeout=Nt,Ge.responseType="blob",Ge.timeout=Ee,Ge.open("GET",je,!0),Ge.send();var Pe;if(a.impl.options.imagePlaceholder){var ft=a.impl.options.imagePlaceholder.split(/,/);ft&&ft[1]&&(Pe=ft[1])}function dn(){if(Ge.readyState===4){if(Ge.status!==200){Pe?Xe(Pe):yn("cannot fetch resource: "+je+", status: "+Ge.status);return}var hn=new FileReader;hn.onloadend=function(){var Ln=hn.result.split(/,/)[1];Xe(Ln)},hn.readAsDataURL(Ge.response)}}function Nt(){Pe?Xe(Pe):yn("timeout of "+Ee+"ms occured while fetching resource: "+je)}function yn(hn){console.error(hn),Xe("")}})}function te(je,Ee){return"data:"+Ee+";base64,"+je}function ne(je){return je.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function me(je){return function(Ee){return new Promise(function(Xe){setTimeout(function(){Xe(Ee)},je)})}}function D(je){for(var Ee=[],Xe=je.length,Ge=0;Ge<Xe;Ge++)Ee.push(je[Ge]);return Ee}function G(je){return je.replace(/#/g,"%23").replace(/\n/g,"%0A")}function ye(je){var Ee=De(je,"border-left-width"),Xe=De(je,"border-right-width");return je.scrollWidth+Ee+Xe}function B(je){var Ee=De(je,"border-top-width"),Xe=De(je,"border-bottom-width");return je.scrollHeight+Ee+Xe}function De(je,Ee){var Xe=window.getComputedStyle(je).getPropertyValue(Ee);return parseFloat(Xe.replace("px",""))}}function z(){var I=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:le,shouldProcess:H,impl:{readUrls:Q,inline:F}};function H(ue){return ue.search(I)!==-1}function Q(ue){for(var ae=[],q;(q=I.exec(ue))!==null;)ae.push(q[1]);return ae.filter(function(V){return!n.isDataUrl(V)})}function F(ue,ae,q,V){return Promise.resolve(ae).then(function(te){return q?n.resolveUrl(te,q):te}).then(V||n.getAndEncode).then(function(te){return n.dataAsUrl(te,n.mimeType(ae))}).then(function(te){return ue.replace(J(ae),"$1"+te+"$3")});function J(te){return new RegExp(`(url\\(['"]?)(`+n.escape(te)+`)(['"]?\\))`,"g")}}function le(ue,ae,q){if(V())return Promise.resolve(ue);return Promise.resolve(ue).then(Q).then(function(J){var te=Promise.resolve(ue);return J.forEach(function(ne){te=te.then(function(me){return F(me,ne,ae,q)})}),te});function V(){return!H(ue)}}}function U(){return{resolveAll:I,impl:{readAll:H}};function I(){return H().then(function(Q){return Promise.all(Q.map(function(F){return F.resolve()}))}).then(function(Q){return Q.join(`
`)})}function H(){return Promise.resolve(n.asArray(document.styleSheets)).then(F).then(Q).then(function(ue){return ue.map(le)});function Q(ue){return ue.filter(function(ae){return ae.type===CSSRule.FONT_FACE_RULE}).filter(function(ae){return r.shouldProcess(ae.style.getPropertyValue("src"))})}function F(ue){var ae=[];return ue.forEach(function(q){try{n.asArray(q.cssRules||[]).forEach(ae.push.bind(ae))}catch(V){console.log("Error while reading CSS rules from "+q.href,V.toString())}}),ae}function le(ue){return{resolve:function(){var q=(ue.parentStyleSheet||{}).href;return r.inlineAll(ue.cssText,q)},src:function(){return ue.style.getPropertyValue("src")}}}}}function P(){return{inlineAll:H,impl:{newImage:I}};function I(Q){return{inline:F};function F(le){return n.isDataUrl(Q.src)?Promise.resolve():Promise.resolve(Q.src).then(le||n.getAndEncode).then(function(ue){return n.dataAsUrl(ue,n.mimeType(Q.src))}).then(function(ue){return new Promise(function(ae,q){Q.onload=ae,Q.onerror=q,Q.src=ue})})}}function H(Q){if(!(Q instanceof Element))return Promise.resolve(Q);return F(Q).then(function(){return Q instanceof HTMLImageElement?I(Q).inline():Promise.all(n.asArray(Q.childNodes).map(function(le){return H(le)}))});function F(le){var ue=le.style.getPropertyValue("background");return ue?r.inlineAll(ue).then(function(ae){le.style.setProperty("background",ae,le.style.getPropertyPriority("background"))}).then(function(){return le}):Promise.resolve(le)}}}})()}($1)),$1.exports}var OY=PY();const LY=ki(OY);var Lp={exports:{}},RY=Lp.exports,k6;function AY(){return k6||(k6=1,function(e,t){(function(n,r){r()})(RY,function(){function n(c,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function r(c,f,p){var g=new XMLHttpRequest;g.open("GET",c),g.responseType="blob",g.onload=function(){u(g.response,f,p)},g.onerror=function(){console.error("could not download file")},g.send()}function i(c){var f=new XMLHttpRequest;f.open("HEAD",c,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function s(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(f)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof pd=="object"&&pd.global===pd?pd:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(c,f,p){var g=o.URL||o.webkitURL,x=document.createElement("a");f=f||c.name||"download",x.download=f,x.rel="noopener",typeof c=="string"?(x.href=c,x.origin===location.origin?s(x):i(x.href)?r(c,f,p):s(x,x.target="_blank")):(x.href=g.createObjectURL(c),setTimeout(function(){g.revokeObjectURL(x.href)},4e4),setTimeout(function(){s(x)},0))}:"msSaveOrOpenBlob"in navigator?function(c,f,p){if(f=f||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(n(c,p),f);else if(i(c))r(c,f,p);else{var g=document.createElement("a");g.href=c,g.target="_blank",setTimeout(function(){s(g)})}}:function(c,f,p,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof c=="string")return r(c,f,p);var x=c.type==="application/octet-stream",w=/constructor/i.test(o.HTMLElement)||o.safari,S=/CriOS\/[\d]+/.test(navigator.userAgent);if((S||x&&w||a)&&typeof FileReader<"u"){var k=new FileReader;k.onloadend=function(){var R=k.result;R=S?R:R.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=R:location=R,g=null},k.readAsDataURL(c)}else{var E=o.URL||o.webkitURL,L=E.createObjectURL(c);g?g.location=L:location.href=L,g=null,setTimeout(function(){E.revokeObjectURL(L)},4e4)}});o.saveAs=u.saveAs=u,e.exports=u})}(Lp)),Lp.exports}var MY=AY();function IY(e,t="image.png"){if(!e){console.error("Image reference is not set");return}LY.toBlob(e).then(n=>MY.saveAs(n,t)).catch(n=>{console.error("Error saving image:",n)})}const DY=e=>{const[t]=J6(),n=t.get("semester"),r=xt(o=>o.currentTimetable),i=xt(o=>o.pickTimetable),s=e.filter(o=>o.semester===n);return T.useEffect(()=>{if(r?.semester!==n){const o=e.find(a=>a.semester===n);if(o!==void 0){i(o);return}i(null)}},[n,e]),{currentSemester:n,currentTimetable:r,filteredTimetablesBySemester:s}},FY=({setIsOpenModal:e,openCreateModal:t})=>{const{data:n=[]}=$_(),{currentTimetable:r,filteredTimetablesBySemester:i}=DY(n),s=xt(f=>f.pickTimetable),{mutate:o}=U_(),a=f=>{const p=n.find(g=>g.timeTableId===f.timeTableId);p&&s(p)},u=()=>{e("edit")},c=f=>{o(f)};return r?h.jsxs(z0,{children:[h.jsx(z0.Trigger,{label:r?r.timeTableName:" "}),h.jsx(z0.Content,{children:h.jsxs(Qe,{direction:"flex-col",gap:"gap-4",children:[i.length===0&&h.jsx(rh,{children:"  ."}),i.map(f=>h.jsxs(Qe,{gap:"gap-4",children:[h.jsx($T,{label:f.timeTableName,checked:r.timeTableId===f.timeTableId,onChange:()=>a(f)},f.timeTableId),r.timeTableId===f.timeTableId&&h.jsxs(Qe,{gap:"gap-4",children:[h.jsx(mn,{variant:"text",size:"small",onClick:u,children:""}),h.jsx(mn,{variant:"text",size:"small",textColor:"secondary",onClick:()=>c(f.timeTableId),children:""})]})]},f.timeTableName+f.timeTableId)),h.jsx(mn,{variant:"text",size:"small",textColor:"gray",onClick:t,children:"+  "})]})})]}):h.jsx(mn,{variant:"primary",size:"medium",onClick:t,children:"  "})},BY=e=>T.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M10 12.9791C9.8889 12.9791 9.78473 12.9619 9.68751 12.9274C9.59029 12.893 9.50001 12.8338 9.41668 12.7499L6.41668 9.74992C6.25001 9.58325 6.17001 9.38881 6.17668 9.16659C6.18334 8.94437 6.26334 8.74992 6.41668 8.58325C6.58334 8.41659 6.7814 8.32992 7.01084 8.32325C7.24029 8.31659 7.43807 8.39631 7.60418 8.56242L9.16668 10.1249V4.16659C9.16668 3.93048 9.24668 3.7327 9.40668 3.57325C9.56668 3.41381 9.76445 3.33381 10 3.33325C10.2356 3.3327 10.4336 3.4127 10.5942 3.57325C10.7547 3.73381 10.8345 3.93159 10.8333 4.16659V10.1249L12.3958 8.56242C12.5625 8.39575 12.7606 8.31575 12.99 8.32242C13.2195 8.32909 13.4172 8.41603 13.5833 8.58325C13.7361 8.74992 13.8161 8.94437 13.8233 9.16659C13.8306 9.38881 13.7506 9.58325 13.5833 9.74992L10.5833 12.7499C10.5 12.8333 10.4097 12.8924 10.3125 12.9274C10.2153 12.9624 10.1111 12.9796 10 12.9791ZM5.00001 16.6666C4.54168 16.6666 4.14945 16.5035 3.82334 16.1774C3.49723 15.8513 3.3339 15.4588 3.33334 14.9999V13.3333C3.33334 13.0971 3.41334 12.8994 3.57334 12.7399C3.73334 12.5805 3.93112 12.5005 4.16668 12.4999C4.40223 12.4994 4.60029 12.5794 4.76084 12.7399C4.9214 12.9005 5.00112 13.0983 5.00001 13.3333V14.9999H15V13.3333C15 13.0971 15.08 12.8994 15.24 12.7399C15.4 12.5805 15.5978 12.5005 15.8333 12.4999C16.0689 12.4994 16.267 12.5794 16.4275 12.7399C16.5881 12.9005 16.6678 13.0983 16.6667 13.3333V14.9999C16.6667 15.4583 16.5036 15.8508 16.1775 16.1774C15.8514 16.5041 15.4589 16.6671 15 16.6666H5.00001Z",fill:"#9CA3AF"}));function zY({onClose:e,type:t}){const[n,r]=T.useState(""),[i,s]=T.useState(Pv.semester),o=xt(w=>w.currentTimetable),{mutate:a}=PP(),{mutate:u}=U_(),{mutate:c}=H_(),f=()=>{t==="edit"&&o&&(u(o.timeTableId),e())},p=w=>{if(w.preventDefault(),o&&t==="edit"){a({timeTableId:o.timeTableId,timeTableName:n}),e();return}t==="create"&&(c({timeTableName:n,semester:i}),e())},g=w=>{w.key==="Escape"&&e()};T.useEffect(()=>(window.addEventListener("keydown",g),()=>{window.removeEventListener("keydown",g)}),[]);const x=w=>{if(t==="edit"){alert("   .");return}s(w)};return h.jsx(_i,{title:`${t==="edit"?" ":" "}`,onClose:e,isOpen:!0,children:h.jsxs("form",{onSubmit:p,children:[h.jsxs(_i.Content,{children:[h.jsx(Qi,{children:" "}),h.jsx(mm,{columns:{base:2},gap:"gap-2",children:R_.map(w=>h.jsx(oi,{label:w,selected:w===i,onClick:()=>x(w)},w))}),h.jsx(E_,{id:"timetableName",required:!0,size:"medium",placeholder:"  .",value:n,onChange:w=>r(w.target.value)},"timetableName")]}),h.jsxs(_i.Footer,{children:[h.jsx(mn,{type:"submit",variant:"primary",size:"medium",children:""}),o&&t==="edit"&&h.jsx(mn,{type:"button",variant:"secondary",textColor:"secondary",size:"medium",onClick:f,children:""})]})]})})}function $Y(){const[e,t]=T.useState(null),n=()=>{t("create")};return h.jsx("header",{children:h.jsxs(Qe,{align:"items-center",justify:"justify-between",gap:"gap-2",children:[h.jsx(FY,{setIsOpenModal:t,openCreateModal:n}),h.jsx(UY,{setIsOpenModal:t}),e&&h.jsx(zY,{type:e,onClose:()=>t(null)})]})})}function UY({setIsOpenModal:e}){const t=xt(s=>s.options.isMobile),n=go(s=>s.openBottomSheet),r=()=>{const s=xt.getState()?.currentTimetable?.timeTableName,o=xt.getState().options.containerRef;IY(o,s?s+".png":".png")},i=()=>{e("create")};return h.jsxs(Qe,{children:[h.jsx(lr,{icon:h.jsx(BY,{className:"w-5 h-5"}),variant:"plain",label:"  ",onClick:r}),t&&h.jsx(lr,{icon:h.jsx(fh,{className:"w-5 h-5"}),variant:"plain",label:" ",onClick:()=>n("search")}),!t&&h.jsx(mn,{variant:"text",size:"medium",onClick:i,children:"+  "})]})}function HY({currentSemester:e}){const t="border-b-2 border-primary text-primary pb-2";return h.jsx(Qe,{gap:"gap-4",className:"border-b text-sm md:text-base border-gray-200",children:R_.map(n=>{const r=e===n;return h.jsxs(Er,{to:`/timetable?semester=${n}`,className:r?t:"text-gray-500 pb-2",children:[n,""]},n)})})}const xp=Array.from({length:24},(e,t)=>`${t}`),bp=["00","10","20","30","40","50"];function QY({timeRange:e,onChange:t,day:n}){const r=(i,s)=>{if(n){t(i,s,n);return}t(i,s)};return h.jsx("div",{className:" w-full h-3 flex gap-2 flex-col justify-center",children:h.jsxs("div",{className:"relative w-full flex gap-2 flex-wrap",children:[h.jsx("select",{name:"startHour",value:e.startHour??xp[8],onChange:i=>r("startHour",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:xp.map(i=>h.jsx("option",{value:i,children:i},i))}),h.jsx("select",{name:"startMinute",value:e.startMinute??bp[0],onChange:i=>r("startMinute",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:bp.map(i=>h.jsx("option",{value:i,children:i},i))}),h.jsx("span",{className:"text-gray-400 text-sm mx-1",children:"~"}),h.jsx("select",{name:"endHour",value:e.endHour??xp[9],onChange:i=>r("endHour",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:xp.map(i=>h.jsx("option",{value:i,children:i},i))}),h.jsx("select",{name:"endMinute",value:e.endMinute??bp[0],onChange:i=>r("endMinute",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:bp.map(i=>h.jsx("option",{value:i,children:i},i))})]})})}function f9(){const{schedule:e}=sh(),{editSchedule:t}=zr(),n=xt(a=>a.options.isMobile),r=[{id:"subjectName",name:"",value:e?.subjectName??""},{id:"professorName",name:"",value:e?.professorName??""},{id:"location",name:"",value:e?.location??""}],i=(a,u)=>{const[c,f]=a.split(":"),[p,g]=u.split(":");return{startHour:c,startMinute:f,endHour:p,endMinute:g}},s=a=>{const u=e.timeSlots.find(c=>c.dayOfWeeks===a);t(u?c=>({...c,timeSlots:c.timeSlots.filter(f=>f.dayOfWeeks!==a)}):c=>({...c,timeSlots:[...c.timeSlots,{dayOfWeeks:a,startTime:"",endTime:""}]}))},o=(a,u,c)=>{const f=g=>{let[x,w]=g.split(":").map(Number);return isNaN(x)&&(x=9),isNaN(w)&&(w=0),[x.toString(),w.toString().padStart(2,"0")]},p=g=>{const[x,w]=f(g);return`${x}:${w}`};t(g=>{const x=g.timeSlots.map(w=>{if(console.log(w),w.dayOfWeeks!==c)return w;const[S,k]=f(w.startTime),[E,L]=f(w.endTime);let R=w.startTime,z=w.endTime;return a==="startHour"&&(R=`${u}:${k}`),a==="startMinute"&&(R=`${S}:${u}`),a==="endHour"&&(z=`${u}:${L}`),a==="endMinute"&&(z=`${E}:${u}`),{...w,startTime:p(R),endTime:p(z)}});return{...g,timeSlots:x}})};return h.jsxs(Qe,{direction:"flex-col",gap:n?"gap-4":"gap-5",children:[r.map(({id:a,name:u,value:c})=>h.jsx(E_,{size:"medium",id:a,placeholder:`${u} `,value:c,label:u,onChange:f=>t(p=>({...p,[a]:f.target.value})),required:!0},a)),h.jsxs(Qe,{gap:"gap-2",direction:"flex-col",children:[h.jsx(Qi,{children:""}),h.jsx(Qe,{direction:"flex-wrap",children:Sm.map(a=>h.jsx(oi,{label:a,selected:e.timeSlots.some(u=>u.dayOfWeeks===a),onClick:()=>s(a)},a))})]}),e.timeSlots.map(a=>h.jsxs(Qe,{direction:"flex-col",gap:"gap-2",children:[h.jsx(Qi,{children:a.dayOfWeeks}),h.jsx(QY,{day:a.dayOfWeeks,timeRange:i(a.startTime,a.endTime),onChange:o})]},a.dayOfWeeks))]})}function VY(){const{modalActionType:e}=sh(),t=e===Kn.CREATE?"":"",{saveSchedule:n,deleteSchedule:r,cancelSchedule:i}=zr(),s=Ki(),o=c=>{c.key==="Escape"&&i(c)};T.useEffect(()=>(document.addEventListener("keydown",o),()=>{document.removeEventListener("keydown",o)}),[]);const a=c=>{n(c)},u=c=>{r(c)};return h.jsx(_i,{title:`  ${t}`,onClose:i,isOpen:!0,children:h.jsxs("form",{onSubmit:a,className:"flex flex-col gap-5",children:[h.jsx(_i.Content,{children:h.jsx(f9,{})}),h.jsxs(_i.Footer,{children:[(e===Kn.EDIT||e===Kn.VIEW)&&h.jsx(mn,{variant:"secondary",size:s?"small":"medium",onClick:u,children:""}),h.jsx(mn,{type:"submit",variant:"primary",size:s?"small":"medium",children:""})]})]})})}const p9=e=>T.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M8.5 4.6665C8.5 4.5339 8.44732 4.40672 8.35355 4.31295C8.25979 4.21918 8.13261 4.1665 8 4.1665C7.86739 4.1665 7.74022 4.21918 7.64645 4.31295C7.55268 4.40672 7.5 4.5339 7.5 4.6665V7.99984C7.49996 8.08461 7.52148 8.168 7.56253 8.24217C7.60358 8.31634 7.66282 8.37885 7.73467 8.42384L9.73467 9.67384C9.84712 9.74421 9.98292 9.76703 10.1122 9.73727C10.1762 9.72254 10.2367 9.69534 10.2902 9.65723C10.3437 9.61912 10.3892 9.57085 10.424 9.51517C10.4588 9.45949 10.4824 9.39749 10.4933 9.33272C10.5041 9.26794 10.5022 9.20165 10.4874 9.13764C10.4727 9.07363 10.4455 9.01315 10.4074 8.95965C10.3693 8.90615 10.321 8.86068 10.2653 8.82584L8.5 7.7225V4.6665Z",fill:"#D1D5DB"}),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.99996 2.1665C6.45286 2.1665 4.96913 2.78109 3.87517 3.87505C2.78121 4.96901 2.16663 6.45274 2.16663 7.99984C2.16663 9.54693 2.78121 11.0307 3.87517 12.1246C4.96913 13.2186 6.45286 13.8332 7.99996 13.8332C9.54706 13.8332 11.0308 13.2186 12.1248 12.1246C13.2187 11.0307 13.8333 9.54693 13.8333 7.99984C13.8333 6.45274 13.2187 4.96901 12.1248 3.87505C11.0308 2.78109 9.54706 2.1665 7.99996 2.1665ZM3.16663 7.99984C3.16663 7.36512 3.29164 6.73661 3.53454 6.1502C3.77744 5.56379 4.13346 5.03097 4.58228 4.58215C5.03109 4.13334 5.56392 3.77732 6.15032 3.53442C6.73673 3.29152 7.36524 3.1665 7.99996 3.1665C8.63468 3.1665 9.26319 3.29152 9.8496 3.53442C10.436 3.77732 10.9688 4.13334 11.4176 4.58215C11.8665 5.03097 12.2225 5.56379 12.4654 6.1502C12.7083 6.73661 12.8333 7.36512 12.8333 7.99984C12.8333 9.28172 12.3241 10.5111 11.4176 11.4175C10.5112 12.3239 9.28184 12.8332 7.99996 12.8332C6.71808 12.8332 5.4887 12.3239 4.58228 11.4175C3.67585 10.5111 3.16663 9.28172 3.16663 7.99984Z",fill:"#D1D5DB"})),m9=e=>T.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M13.7069 6.79266L8.70688 1.79266C8.51936 1.60527 8.26511 1.5 8.00001 1.5C7.7349 1.5 7.48065 1.60527 7.29313 1.79266L2.29313 6.79266C2.19982 6.88528 2.12586 6.99552 2.07553 7.11698C2.02521 7.23844 1.99954 7.36869 2.00001 7.50016V13.5002C2.00001 13.6328 2.05268 13.7599 2.14645 13.8537C2.24022 13.9475 2.3674 14.0002 2.50001 14.0002H6.50001C6.63261 14.0002 6.75979 13.9475 6.85356 13.8537C6.94733 13.7599 7.00001 13.6328 7.00001 13.5002V10.0002H9.00001V13.5002C9.00001 13.6328 9.05268 13.7599 9.14645 13.8537C9.24022 13.9475 9.3674 14.0002 9.50001 14.0002H13.5C13.6326 14.0002 13.7598 13.9475 13.8536 13.8537C13.9473 13.7599 14 13.6328 14 13.5002V7.50016C14.0005 7.36869 13.9748 7.23844 13.9245 7.11698C13.8742 6.99552 13.8002 6.88528 13.7069 6.79266ZM13 13.0002H10V9.50016C10 9.36755 9.94733 9.24038 9.85356 9.14661C9.75979 9.05284 9.63261 9.00016 9.50001 9.00016H6.50001C6.3674 9.00016 6.24022 9.05284 6.14645 9.14661C6.05268 9.24038 6.00001 9.36755 6.00001 9.50016V13.0002H3.00001V7.50016L8.00001 2.50016L13 7.50016V13.0002Z",fill:"#D1D5DB"}));function WY(){const{schedule:e}=sh(),{deleteSchedule:t}=zr(),n=go(o=>o.closeBottomSheet),{data:r}=qi(),i=o=>{confirm("  ?")&&t(o)},s=r?.find(o=>o.subjectId===e.subjectId);return h.jsxs(_i,{title:e.subjectName,onClose:()=>n("info"),isOpen:!0,children:[h.jsx(_i.Content,{children:h.jsxs(Qe,{direction:"flex-col",gap:"gap-1",className:"w-80 text-sm text-gray-500",children:[h.jsx("p",{children:e.professorName??"  "}),h.jsxs(Qe,{align:"items-center",gap:"gap-2",children:[h.jsx(p9,{className:"w-4 h-4 text-gray-400"}),h.jsx("p",{children:s?.lesnTime})]}),h.jsxs(Qe,{align:"items-center",gap:"gap-2",children:[h.jsx(m9,{className:"w-4 h-4 text-gray-400"}),h.jsx("p",{children:s?.lesnRoom??"  "})]}),h.jsxs("p",{children:[s?.manageDeptNm," ",s?.studentYear+""," ",h.jsx("span",{className:"text-blue-500",children:s?.tmNum[0]+""})]})]})}),h.jsx(_i.Footer,{children:h.jsx(mn,{variant:"text",size:"medium",textColor:"secondary",onClick:i,children:""})})]})}const qY=e=>T.createElement("svg",{width:31,height:31,viewBox:"0 0 31 31",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},T.createElement("path",{d:"M14.2084 16.7918H7.75005C7.38407 16.7918 7.07752 16.6678 6.83038 16.4198C6.58324 16.1718 6.45924 15.8653 6.45838 15.5002C6.45752 15.1351 6.58152 14.8285 6.83038 14.5805C7.07924 14.3325 7.3858 14.2085 7.75005 14.2085H14.2084V7.75017C14.2084 7.38419 14.3324 7.07764 14.5804 6.8305C14.8284 6.58336 15.1349 6.45936 15.5 6.4585C15.8652 6.45764 16.1721 6.58164 16.421 6.8305C16.6699 7.07936 16.7934 7.38592 16.7917 7.75017V14.2085H23.25C23.616 14.2085 23.923 14.3325 24.171 14.5805C24.419 14.8285 24.5426 15.1351 24.5417 15.5002C24.5409 15.8653 24.4169 16.1723 24.1697 16.4211C23.9226 16.67 23.616 16.7936 23.25 16.7918H16.7917V23.2502C16.7917 23.6161 16.6677 23.9231 16.4197 24.1711C16.1717 24.4191 15.8652 24.5427 15.5 24.5418C15.1349 24.541 14.8284 24.417 14.5804 24.1698C14.3324 23.9227 14.2084 23.6161 14.2084 23.2502V16.7918Z",fill:"white"}));function KY({onCloseSearch:e}){const{data:t=[],isPending:n}=qi(),{openScheduleModal:r}=zr(),i=gs(c=>c.filters),s=gs(c=>c.setFilter),{keywords:o}=i,a=T.useDeferredValue(hc(t,i)),u=new ai().toUiData();return h.jsx(vh,{children:({expandToMax:c})=>h.jsxs(h.Fragment,{children:[h.jsx(xh,{title:"",headerType:"add",onClose:e,onClick:()=>r(u)}),h.jsxs("div",{className:"sticky px-2 top-0 bg-white z-10 flex items-center gap-2 py-3",children:[h.jsx(Ol,{type:"text",placeholder:"   ",value:o,onChange:f=>s("keywords",f.target.value),onDelete:()=>s("keywords",""),className:"w-full"}),h.jsx(lr,{"aria-label":"filter",variant:"plain",label:"filter",icon:h.jsx(eS,{className:"w-6 h-6"}),onClick:()=>e()})]}),h.jsx(Qe,{direction:"flex-col",className:"max-h-[70vh] min-h-0 px-2 overflow-y-auto touch-auto",children:h.jsx(h9,{expandToMax:c,subjects:a,isPending:n})})]})})}function GY(){const{modalActionType:e}=sh(),{cancelSchedule:t}=zr(),n=i=>{t(i)},r=e===Kn.CREATE?"":"";return h.jsxs(vh,{children:[h.jsx(xh,{title:`  ${r}`,headerType:"close",onClose:n}),h.jsx(Qe,{direction:"flex-col",className:"py-5 px-2 overflow-y-auto max-h-[80vh]",children:h.jsx(f9,{})})]})}function YY(){const{schedule:e}=sh(),{deleteSchedule:t,cancelSchedule:n}=zr(),{data:r}=qi(),i=o=>{confirm("  ?")&&t(o)},s=r?.find(o=>o.subjectId===e.subjectId);return h.jsxs(vh,{children:[h.jsx(xh,{headerType:"close",onClose:n}),h.jsxs(Qe,{direction:"flex-col",className:"px-2 py-3 w-full text-sm text-gray-500 gap-2",children:[h.jsx(dr,{level:3,children:e.subjectName}),h.jsx("p",{className:"text-sm text-gray-500",children:e.professorName??"  "}),h.jsxs(Qe,{align:"items-center",children:[h.jsx(p9,{className:"w-4 h-4 text-gray-400"}),h.jsx("span",{children:s?.lesnTime})]}),h.jsxs(Qe,{align:"items-center",children:[h.jsx(m9,{className:"w-4 h-4 text-gray-400"}),h.jsx("span",{children:s?.lesnRoom??"  "})]}),h.jsxs(Qe,{children:[h.jsx("span",{children:s?.manageDeptNm}),h.jsxs("span",{children:[" ",s?.studentYear+""]}),h.jsx("span",{className:"text-blue-500 text-sm",children:s?.tmNum[0]+""})]}),h.jsxs(Qe,{children:[h.jsxs("span",{children:[s?.curiTypeCdNm??""," "]}),h.jsx("span",{children:s?.remark??""})]}),h.jsx(Qe,{justify:"justify-end",className:"px-2",children:h.jsx(mn,{variant:"text",size:"medium",textColor:"secondary",onClick:i,children:""})})]})]})}function XY(){return Ki()?h.jsx(JY,{}):h.jsx(ZY,{})}function JY(){const e=go(c=>c.type),t=go(c=>c.closeBottomSheet),n=go(c=>c.openBottomSheet),r=()=>{t("search"),n("filter")},i=()=>{t("filter")},s=()=>{n("search")},o=gs(c=>c.filters),a=gs(c=>c.setFilter),u=gs(c=>c.resetFilters);return h.jsxs(h.Fragment,{children:[h.jsx(ul,{when:e.search.isOpen,children:h.jsx(KY,{onCloseSearch:r})}),h.jsx(ul,{when:e.filter.isOpen,children:h.jsx(mx,{onCloseFiltering:i,filters:o,setFilter:a,resetFilter:u})}),h.jsx(ul,{when:e.edit.isOpen,children:h.jsx(GY,{})}),h.jsx(ul,{when:e.info.isOpen,children:h.jsx(YY,{})}),h.jsx(ul,{when:!e.search.isOpen&&!e.filter.isOpen&&!e.edit.isOpen&&!e.info.isOpen,children:h.jsx("div",{className:"fixed bottom-4 right-4 z-5",children:h.jsx(mn,{size:"small",variant:"circle",onClick:s,children:h.jsx(qY,{className:"w-6 h-6 cursor-pointer"})})})})]})}function ZY(){const e=go(t=>t.type);return h.jsxs(h.Fragment,{children:[h.jsx(ul,{when:e.edit.isOpen,children:h.jsx(VY,{})}),h.jsx(ul,{when:e.info.isOpen,children:h.jsx(WY,{})})]})}function ul({when:e,children:t}){return e?h.jsx(h.Fragment,{children:t}):null}function eX(){const[e]=J6(),t=e.get("semester");return t?h.jsxs("div",{className:"px-4  py-2",children:[h.jsx(Xn,{children:h.jsx("title",{children:"ALLCLL | "})}),h.jsxs("div",{className:"grid md:grid-cols-5 gap-4 mb-4",children:[h.jsx("div",{className:"md:col-span-3 w-full",children:h.jsxs(Qe,{direction:"flex-col",gap:"gap-2",children:[h.jsx(dr,{level:1,children:""}),h.jsx(HY,{currentSemester:t}),h.jsxs(Cr,{className:"px-2 flex flex-col gap-2 relative overflow-hidden",children:[h.jsx($Y,{}),h.jsx(GP,{})]})]})}),h.jsx("div",{className:"md:col-span-2 w-full",children:h.jsx("div",{className:"hidden md:block",children:h.jsx(NY,{})})})]}),h.jsx(XY,{})]}):h.jsx(Uk,{to:`/timetable?semester=${Pv.semester}`,replace:!0})}const tX=fj([{path:"/",element:h.jsx(Vw,{}),errorElement:h.jsx(Sd,{}),children:[{path:"/",element:h.jsx(fD,{})},{path:"survey",element:h.jsx(z$,{})},{path:"about",element:h.jsx(B$,{})},{path:"faq",element:h.jsx(gK,{})}]},{path:"wishes",element:h.jsx(Ww,{serviceId:"baskets"}),errorElement:h.jsx(AK,{}),children:[{path:"",element:h.jsx(bK,{})},{path:":id",element:h.jsx(RK,{})}]},{path:"live",element:h.jsx(Ww,{serviceId:"live"}),errorElement:h.jsx(Sd,{}),children:[{path:"",element:h.jsx(F$,{})}]},{path:"simulation",element:h.jsx(_P,{}),errorElement:h.jsx(Sd,{}),children:[{path:"",element:h.jsx(GG,{})},{path:"logs",element:h.jsx(iY,{})},{path:"logs/:runId",element:h.jsx(mY,{})},{path:"admin",element:h.jsx(_Y,{})},{path:"wishlist",element:h.jsx(CY,{})}]},{path:"timetable",element:h.jsx(Vw,{}),errorElement:h.jsx(Sd,{}),children:[{path:"",element:h.jsx(eX,{})}]},{path:"*",element:h.jsx(o9,{})}]),nX=new zj;rX();function rX(){yC.createRoot(document.getElementById("root")).render(h.jsx(T.StrictMode,{children:h.jsx(Vj,{client:nX,children:h.jsx(Cj,{router:tX})})})),"serviceWorker"in navigator&&navigator.serviceWorker.register("/serviceWorker.js").then(function(e){console.log("Service Worker registered with scope:",e.scope)}).catch(function(e){console.log("Service Worker registration failed:",e)})}
//# sourceMappingURL=index-DsdLpgIe.js.map
